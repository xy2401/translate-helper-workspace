<html id="13539.monitoring-xstream-out.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can monitor an XStream Out configuration."></meta>
      <meta name="description" content="You can monitor an XStream Out configuration."></meta>
      <title>监控XStream Out</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="XStream Guide "></meta>
      <meta property="og:description" content="You can monitor an XStream Out configuration."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="XStream Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xstream-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:45:15-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2009, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96280-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-xstream-out.html" title="Previous" type="text/html"></link>
      <link rel="next" href="troubleshooting-xstream-out.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XStream Guide"></meta>
    <meta name="dcterms.isVersionOf" content="XSTRM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-xstream-out.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="troubleshooting-xstream-out.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">XStream指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="xstream-out.html" property="item" typeof="WebPage"><span property="name">XStream Out</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">监控XStream Out</li>
            </ol>
            <a id="GUID-2572EB42-3601-4901-B567-11EA723B0F6E" name="GUID-2572EB42-3601-4901-B567-11EA723B0F6E"></a><a id="XSTRM1437"></a>
            
            <h2 id="XSTRM-GUID-2572EB42-3601-4901-B567-11EA723B0F6E" class="sect2"><span class="enumeration_chapter">6</span>监控XStream Out</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以监视XStream Out配置。</p>
               <div class="infoboxnote" id="GUID-2572EB42-3601-4901-B567-11EA723B0F6E__GUID-9FF5CCA4-D80A-48A5-867A-87A5A6BFEF56">
                  <p class="notep1">注意：</p>
                  <p>只要有可能，本章将<code class="codeph">ALL_</code>静态数据字典视图用于查询示例。在某些情况下， <code class="codeph">ALL_</code>视图中的信息比<code class="codeph">DBA_</code>视图中的信息更受限制。
                  </p>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-06147379-C9CA-4B28-93DB-F9C3694EA813">关于监控XStream Out</a><br>您可以查询与XStream相关的数据字典视图，以获取有关XStream组件和与XStream相关的统计信息的信息。
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-AAD5D552-A91B-4842-AA3A-95FD9356D2D9">监视有关XStream Out组件的会话信息</a><br>示例说明了监视有关XStream Out组件的会话信息。
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-8E511989-3F60-4484-A111-A32740117169">监视XStream Out组件的事件历史记录</a><br>示例说明了通过查询<code class="codeph">DBA_REPLICATION_PROCESS_EVENTS</code>视图来监视XStream组件的事件历史记录。
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-DEF8F7CC-A075-48D9-A88A-D88638619D8E">监控出站服务器</a><br>示例查询说明了如何监视出站服务器。
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-68AFD721-4526-4C95-B210-07097B7CBF4F">监视出站服务器的捕获过程</a><br>示例查询说明了如何监视出站服务器的捕获过程。
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-43BB638F-5263-41E8-ADD0-6927C24E16A8">监视XStream规则</a><br>示例查询说明了如何监视XStream规则。
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-D5F1C262-30BC-48D0-ADA4-41438CBC4195">监视基于声明规则的转换</a><br>示例查询说明了如何监视基于声明规则的转换。
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-2572EB42-3601-4901-B567-11EA723B0F6E__GUID-473BC785-270E-4255-A32D-A9AB411C471D">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="xstream-out-concepts.html#GUID-B59B1F79-91F6-4495-B946-5DCEB317E0D6" title="熟悉与XStream Out相关的概念。">XStream Out Concepts</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="introduction-to-xstream.html#GUID-21FC23DF-2881-4CFD-AF74-9A1173D768FF" title="有几种常见的XStream用例。">XStream用例</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="configuring-xstream-out.html#GUID-1338E648-E214-4666-98A1-8B8D0085EB23" title="您可以配置XStream Out使用的Oracle数据库组件。">配置XStream Out</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="troubleshooting-xstream-out.html#GUID-59CACCB8-8127-4C3F-9C15-E1899DFD3DD1" title="您可以使用XStream Out配置诊断和更正问题。">XStream Out故障排除</a> ”</span></p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="xstream-out.html#GUID-40B2996E-433C-4240-8022-8505273F99EF" title="您可以配置和管理XStream Out环境。">XStream Out</a></p>
                  </div>
               </div>
            </div>
            <a id="XSTRM72638"></a><div class="props_rev_3"><a id="GUID-06147379-C9CA-4B28-93DB-F9C3694EA813" name="GUID-06147379-C9CA-4B28-93DB-F9C3694EA813"></a><h3 id="XSTRM-GUID-06147379-C9CA-4B28-93DB-F9C3694EA813" class="sect3"><span class="enumeration_section">6.1</span>关于监控XStream Out</h3>
               <div>
                  <p>您可以查询与XStream相关的数据字典视图，以获取有关XStream组件和与XStream相关的统计信息的信息。</p>
                  <p>监视XStream数据库组件的主界面是SQL * Plus，但您可以使用Oracle Enterprise Manager Cloud Control监视XStream配置的某些方面。例如，您可以在Oracle Enterprise Manager Cloud Control中查看有关捕获进程，出站服务器，入站服务器和规则的信息。</p>
                  <p>在SQL * Plus中，受信任的XStream管理员可以查询<code class="codeph">ALL_</code>和<code class="codeph">DBA_</code>视图。不受信任的XStream管理员只能查询<code class="codeph">ALL_</code>视图。
                  </p>
                  <p>本章还介绍如何使用Oracle Replication Performance Advisor监视XStream配置。Oracle Replication Performance Advisor包含一组数据字典视图。Oracle Replication Performance Advisor使您可以监视XStream环境的拓扑和性能。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-2572EB42-3601-4901-B567-11EA723B0F6E" title="您可以监视XStream Out配置。">监视XStream Out</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="XSTRM72607"></a><div class="props_rev_3"><a id="GUID-AAD5D552-A91B-4842-AA3A-95FD9356D2D9" name="GUID-AAD5D552-A91B-4842-AA3A-95FD9356D2D9"></a><h3 id="XSTRM-GUID-AAD5D552-A91B-4842-AA3A-95FD9356D2D9" class="sect3"><span class="enumeration_section">6.2</span>监控关于XStream Out组件的会话信息</h3>
               <div>
                  <p>示例说明了监视有关XStream Out组件的会话信息。</p>
                  <div class="section">
                     <p>本节中的查询显示有关数据库中每个XStream组件的以下会话信息：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>XStream组件名称</p>
                        </li>
                        <li>
                           <p>会话标识符</p>
                        </li>
                        <li>
                           <p>序列号</p>
                        </li>
                        <li>
                           <p>操作系统进程标识号</p>
                        </li>
                        <li>
                           <p>XStream程序名称</p>
                        </li>
                     </ul>
                     <p>当数据库中配置了多个XStream Out组件时，此查询对于确定特定XStream组件的会话信息特别有用。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AAD5D552-A91B-4842-AA3A-95FD9356D2D9__GUID-9B42B76A-61F2-41E6-AD24-C36C601044BC">要为数据库中的每个XStream组件显示此信息：</p>
                     <ol>
                        <li>
                           <p>以XStream管理员身份连接到数据库。</p>
                           <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">列操作标题'XStream组件'格式A30列标题标题'会话ID'格式99999列序列#HEADING'会话|序列号|编号'格式99999999列过程标题'操作系统|进程ID'格式A17列过程'标题'HEADING'XStream |程序|名称'FORMAT A7 SELECT / * + PARAM（'_ module_action_old_length'，0）* / ACTION，SID，SERIAL＃，PROCESS，SUBSTR（PROGRAM，INSTR（PROGRAM，'（'）+ 1,4）PROCESS_NAME来自V $ SESSION WHERE MODULE ='XStream';</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>XStream Out配置的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">会话XStream串行操作系统程序XStream组件会话ID号进程ID名称------------------------------ ------ ---- --------- ----------------- ------- XOUT  - 申请协调员21 9 27222 AP01 CAP $ _XOUT_18  - 捕获28 33 27248 CP01 XOUT  - 应用服务器97 43 27226 AS00 XOUT  - 应用读卡器105 5 27224 AS01 XOUT  - 应用服务器112 27 27342 TNS XOUT  - 传播发送/接收器117 5 27250 CS00</pre><p>显示XStream程序名称的<code class="codeph">TNS</code>的行包含有关连接到出站服务器的XStream客户端应用程序的会话的信息。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-AAD5D552-A91B-4842-AA3A-95FD9356D2D9__GUID-126A1072-EF47-4ABC-A6D6-1D4E241C69CF">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">V$SESSION</code>视图的更多信息，请<a href="../refrn/V-SESSION.html#REFRN30223" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-2572EB42-3601-4901-B567-11EA723B0F6E" title="您可以监视XStream Out配置。">监视XStream Out</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-8E511989-3F60-4484-A111-A32740117169" name="GUID-8E511989-3F60-4484-A111-A32740117169"></a><h3 id="XSTRM-GUID-8E511989-3F60-4484-A111-A32740117169" class="sect3"><span class="enumeration_section">6.3</span>监视XStream Out组件的事件历史</h3>
               <div>
                  <p>示例说明了通过查询<code class="codeph">DBA_REPLICATION_PROCESS_EVENTS</code>视图来监视XStream组件的事件历史记录。
                  </p>
                  <div class="section">
                     <p>例如，视图可以在创建或启动组件时显示。它还可以在组件参数更改时显示。如果组件遇到错误，则视图可以显示有关错误的信息。</p>
                     <p>本主题中的查询显示有关XStream Out组件事件的以下信息：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>XStream组件名称</p>
                        </li>
                        <li>
                           <p>组件类型</p>
                        </li>
                        <li>
                           <p>事件名称</p>
                        </li>
                        <li>
                           <p>事件的描述</p>
                        </li>
                        <li>
                           <p>活动时间</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8E511989-3F60-4484-A111-A32740117169__GUID-9B42B76A-61F2-41E6-AD24-C36C601044BC">要为数据库中的每个XStream Out组件显示此信息：</p>
                     <ol>
                        <li>
                           <p>以XStream管理员身份连接到数据库。</p>
                           <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN STREAMS_NAME FORMAT A12 COLUMN PROCESS_TYPE FORMAT A17 COLUMN EVENT_NAME FORMAT A10专栏描述格式A20专栏EVENT_TIME FORMAT A15 SELECT STREAMS_NAME，PROCESS_TYPE，EVENT_NAME，DESCRIPTION，EVENT_TIME FROM DBA_REPLICATION_PROCESS_EVENTS;</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>XStream Out配置的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">STREAMS_NAME PROCESS_TYPE EVENT_NAME说明EVENT_TIME ------------ ----------------- ---------- ------ -------------- --------------- CAP $ _XOUT_7捕获创造成功10-NOV-15 12.30 .13.845080 PM XOUT应用协调员创造成功10 -NOV-15 12.30 .16.841110 PM“CAP $ _XOUT_7 CAPTURE ALTER RULE_SET_NAME =&gt;”SY 10-NOV-15 12.30“S”。“RULESET $ _12”.17.373285 PM“XOUT”应用协调员RULE_SET_NAME =&gt;“SY 10- NOV-15 12.30 S“。”RULESET $ _19“.18.817718 PM”CAP $ _XOUT_7捕获参数更改参数'XO 10-NOV-15 12.30“更改UT_CLIENT_EXISTS'到.19.100361 PM值'Y'CAP $ _XOUT_7捕获开始成功10 -NOV-15 12.30 .19.434029 PM XOUT应用协调器开始成功10-NOV-15 12.30 .19.543379 PM XOUT应用读者开始成功10-NOV-15 12.30 .20.584332 PM XOUT应用服务器启动成功10-NOV-15 12.30 .20.593923 PM CAP $ _XOUT_7捕获服务器开始成功10-NOV-15 12.30 .20.926374 PM</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/xstrm&amp;id=REFRN-GUID-E994A792-BDF6-43CD-959D-F8584B51A5D3" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-2572EB42-3601-4901-B567-11EA723B0F6E" title="您可以监视XStream Out配置。">监视XStream Out</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="XSTRM1438"></a><div class="props_rev_3"><a id="GUID-DEF8F7CC-A075-48D9-A88A-D88638619D8E" name="GUID-DEF8F7CC-A075-48D9-A88A-D88638619D8E"></a><h3 id="XSTRM-GUID-DEF8F7CC-A075-48D9-A88A-D88638619D8E" class="sect3"><span class="enumeration_section">6.4</span>监控出站服务器</h3>
               <div>
                  <p>示例查询说明了如何监视出站服务器。</p>
                  <p>使用XStream Out，Oracle Apply进程可用作出站服务器。因此，您还可以使用数据字典视图来应用进程来监视出站服务器。此外，XStream Out环境包括捕获进程和队列，还可能包括其他组件，例如传播，规则和基于规则的转换。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-C50E0D1A-4DDC-4CF5-A8D1-A92B03AC2E93">显示有关出站服务器的常规信息</a><br>示例查询说明了如何显示有关出站服务器的常规信息。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-AFCCA7FE-E618-49C1-86CA-4D19AB351B46">显示出站服务器的状态和错误信息</a><br>示例查询说明了如何显示出站服务器的状态和错误信息。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-A20F291C-6875-440A-8202-2692E4F9CF1C">显示有关出站服务器的当前事务的信息</a><br>示例查询说明了如何显示有关出站服务器当前事务的信息。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-D7228B8F-E378-48FF-BA7F-479D8E421AA4">显示出站服务器的统计信息</a><br>示例说明如何显示出站服务器的统计信息。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-71A5E78D-4AB8-4FA8-B1EC-C09BFC58D612">显示出站服务器的已处理低位</a><br>示例查询说明了如何显示出站服务器的已处理低位。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-64E03D95-65D5-4CAD-A75B-75FB840055E7">确定出站服务器的进程信息</a><br>示例查询说明了如何确定出站服务器的进程信息。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-F335F5EA-83B2-46B3-88DB-2756DCE9E840">显示出站服务器的“应用参数设置”</a><br>示例查询说明了如何显示出站服务器的apply参数设置。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-2572EB42-3601-4901-B567-11EA723B0F6E" title="您可以监视XStream Out配置。">监视XStream Out</a></p>
                     </div>
                  </div>
               </div>
               <a id="XSTRM1439"></a><div class="props_rev_3"><a id="GUID-C50E0D1A-4DDC-4CF5-A8D1-A92B03AC2E93" name="GUID-C50E0D1A-4DDC-4CF5-A8D1-A92B03AC2E93"></a><h4 id="XSTRM-GUID-C50E0D1A-4DDC-4CF5-A8D1-A92B03AC2E93" class="sect4"><span class="enumeration_section">6.4.1</span>显示出站服务器的常规信息</h4>
                  <div>
                     <p>示例查询说明了如何显示有关出站服务器的常规信息。</p>
                     <div class="section">
                        <p>您可以通过运行本节中的查询来显示出站服务器的以下信息：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>出站服务器名称</p>
                           </li>
                           <li>
                              <p>出站服务器的连接用户的名称</p>
                              <p>connect用户是可以附加到出站服务器以检索逻辑更改记录（LCR）流的用户。客户端应用程序必须作为指定的连接用户附加到出站服务器。</p>
                           </li>
                           <li>
                              <p>捕获进程的捕获用户的名称，用于捕获要处理的出站服务器的更改</p>
                           </li>
                           <li>
                              <p>捕获进程的名称，用于捕获要处理的出站服务器的更改</p>
                           </li>
                           <li>
                              <p>捕获的更改的源数据库的名称</p>
                           </li>
                           <li>
                              <p>出站服务器使用的队列的所有者</p>
                           </li>
                           <li>
                              <p>出站服务器使用的队列名称</p>
                           </li>
                        </ul>
                        <p>在以下任一情况下， <code class="codeph">ALL_XSTREAM_OUTBOUND</code>视图包含有关捕获用户，捕获进程和源数据库的信息：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>出站服务器使用所创建的<code class="codeph">CREATE_OUTBOUND</code>在程序<code class="codeph">DBMS_XSTREAM_ADM</code>包。
                              </p>
                           </li>
                           <li>
                              <p>出站服务器使用所创建的<code class="codeph">ADD_OUTBOUND</code>在程序<code class="codeph">DBMS_XSTREAM_ADM</code>包，出站服务器捕获过程相同的数据库作为出站服务器上运行。
                              </p>
                           </li>
                        </ul>
                        <p>如果使用<code class="codeph">ADD_OUTBOUND</code>过程创建出站服务器，并且出站服务器的捕获过程位于其他数据库上，则<code class="codeph">ALL_XSTREAM_OUTBOUND</code>视图不包含有关捕获用户，捕获过程或源数据库的信息。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C50E0D1A-4DDC-4CF5-A8D1-A92B03AC2E93__GUID-93B9BA86-4B15-48C5-8FD7-DEA5D35023FD">要显示有关出站服务器的此常规信息：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN SERVER_NAME HEADING'Outbound | Server | Name'FORMAT A10 COLUMN CONNECT_USER HEADING'连接|用户'FORMAT A10 COLUMN CAPTURE_USER HEADING'捕获|用户'格式A10 COLUMN CAPTURE_NAME标题'捕获|处理|名称'格式A12列SOURCE_DATABASE HEADING'来源|数据库'格式A11列QUEUE_OWNER标题'队列|所有者'格式A10列QUEUE_NAME标题'名称'格式A10 SELECT SERVER_NAME，CONNECT_USER，CAPTURE_USER，CAPTURE_NAME，SOURCE_DATABASE，QUEUE_OWNER，QUEUE_NAME来自ALL_XSTREAM_OUTBOUND;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">出站捕获服务器连接捕获进程源队列队列名称用户用户名数据库所有者名称---------- ---------- ---------- ---- -------- ----------- ---------- ---------- XOUT XSTRMADMIN XSTRMADMIN CAP $ _XOUT_18 XOUT.EXAMPL XSTRMADMIN Q $ _XOUT_19 E.COM</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C50E0D1A-4DDC-4CF5-A8D1-A92B03AC2E93__GUID-E4286E26-3AA7-4DB6-ADEA-6E94CF84B7C1">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/xstrm&amp;id=REFRN20735" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-DEF8F7CC-A075-48D9-A88A-D88638619D8E" title="示例查询说明了如何监视出站服务器。">监视出站服务器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM1440"></a><div class="props_rev_3"><a id="GUID-AFCCA7FE-E618-49C1-86CA-4D19AB351B46" name="GUID-AFCCA7FE-E618-49C1-86CA-4D19AB351B46"></a><h4 id="XSTRM-GUID-AFCCA7FE-E618-49C1-86CA-4D19AB351B46" class="sect4"><span class="enumeration_section">6.4.2</span>显示出站服务器的状态和错误信息</h4>
                  <div>
                     <p>示例查询说明了如何显示出站服务器的状态和错误信息。</p>
                     <div class="section">
                        <p><code class="codeph">DBA_APPLY</code>视图在<code class="codeph">PURPOSE</code>列中显示用作出站服务器的应用进程的<code class="codeph">XStream</code> <code class="codeph">Out</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AFCCA7FE-E618-49C1-86CA-4D19AB351B46__GUID-B24B0437-F099-4399-BC21-67170813EFB6">要显示有关出站服务器的详细信息：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN APPLY_NAME标题'出站服务器|名称'格式A15列状态标题'状态'格式A8列ERROR_NUMBER标题'错误号'格式9999999列号错误消息标题'错误消息'格式A40 SELECT APPLY_NAME，STATUS，ERROR_NUMBER，ERROR_MESSAGE来自DBA_APPLY，其中目的= 'XStream Out';</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">出站服务器名称状态错误号错误消息--------------- -------- ------------ ------- --------------------------------- XOUT ENABLED</pre><p>此输出显示<code class="codeph">XOUT</code>是作为出站服务器运行的应用进程。
                        </p>
                        <div class="infoboxnote" id="GUID-AFCCA7FE-E618-49C1-86CA-4D19AB351B46__GUID-F81132E3-BD60-4BCF-AC49-BECBF136AFBF">
                           <p class="notep1">注意：</p>
                           <p>此示例查询<code class="codeph">DBA_APPLY</code>视图。此视图使受信任的用户可以查看数据库中所有应用用户的信息。不受信任的用户必须查询<code class="codeph">ALL_APPLY</code>视图，该视图将信息限制为当前用户。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AFCCA7FE-E618-49C1-86CA-4D19AB351B46__GUID-493E3BA5-C003-4648-8237-EF72F3300BC7">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../refrn/ALL_APPLY.html#REFRN20005" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-DEF8F7CC-A075-48D9-A88A-D88638619D8E" title="示例查询说明了如何监视出站服务器。">监视出站服务器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72608"></a><div class="props_rev_3"><a id="GUID-A20F291C-6875-440A-8202-2692E4F9CF1C" name="GUID-A20F291C-6875-440A-8202-2692E4F9CF1C"></a><h4 id="XSTRM-GUID-A20F291C-6875-440A-8202-2692E4F9CF1C" class="sect4"><span class="enumeration_section">6.4.3</span>显示有关出站服务器当前事务的信息</h4>
                  <div>
                     <p>示例查询说明了如何显示有关出站服务器当前事务的信息。</p>
                     <div class="section">
                        <p><code class="codeph">V$XSTREAM_OUTBOUND_SERVER</code>视图包含有关XStream出站服务器当前正在处理的事务的以下信息：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>出站服务器的名称</p>
                           </li>
                           <li>
                              <p>当前正在处理的事务的事务ID</p>
                           </li>
                           <li>
                              <p>提交当前正在处理的事务的系统更改号（SCN）</p>
                           </li>
                           <li>
                              <p>提交当前正在处理的交易的位置</p>
                           </li>
                           <li>
                              <p>发送到XStream客户端应用程序的最后一个LCR的位置</p>
                           </li>
                           <li>
                              <p>出站服务器正在处理的当前LCR的消息号</p>
                           </li>
                        </ul>
                        <p>运行此查询以确定出站服务器在特定事务中处理的LCR数。您可以在<code class="codeph">V$XSTREAM_TRANSACTION</code>视图中查询<code class="codeph">TOTAL_MESSAGE_COUNT</code>列，以确定事务中LCR的总数。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A20F291C-6875-440A-8202-2692E4F9CF1C__GUID-C18D3071-13DA-49AD-A7F7-F75E07DBA405">要显示有关出站服务器当前事务的信息：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN SERVER_NAME标题'出站|服务器|名称'格式A10列'交易ID'标题'交易| ID'格式A11列COMMITSCN标题'提交SCN'格式9999999999999列COMMIT_POSITION标题'提交位置'格式A15列LAST_SENT_POSITION标题'最后发送|位置'FORMAT A15 COLUMN MESSAGE_SEQUENCE HEADING'消息|数字'格式999999999 SELECT SERVER_NAME，XIDUSN ||'。“|| XIDSLT ||'。“|| XIDSQN“交易ID”，COMMITSCN，COMMIT_POSITION，LAST_SENT_POSITION，MESSAGE_SEQUENCE来自V $ XSTREAM_OUTBOUND_SERVER;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">出站服务器事务上次发送消息名称ID提交SCN提交位置位置号---------- ----------- --------------- -------------- --------------- ---------- XOUT 2.22.304 820023 0000000C82E4000 0000000C8337000 616 000010000000100 000010000000100 00000C82E400000 00000C833700000 0010000000101 0010000000101</pre><div class="infoboxnote" id="GUID-A20F291C-6875-440A-8202-2692E4F9CF1C__GUID-D6C5CC9D-66A8-4FC9-8EF2-31B6532BAA07">
                           <p class="notep1">注意：</p>
                           <p>仅当<code class="codeph">V$XSTREAM_OUTBOUND_SERVER</code>的<code class="codeph">COMMITTED_DATA_ONLY</code>值为<code class="codeph">YES</code> ，才会填充<code class="codeph">COMMITSCN</code>和<code class="codeph">COMMIT_POSITION</code>值。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A20F291C-6875-440A-8202-2692E4F9CF1C__GUID-5BE72FCA-4ECF-419F-87C8-AA104586B9A6">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../refrn/V-XSTREAM_OUTBOUND_SERVER.html#REFRN30641" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-DEF8F7CC-A075-48D9-A88A-D88638619D8E" title="示例查询说明了如何监视出站服务器。">监视出站服务器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72609"></a><div class="props_rev_3"><a id="GUID-D7228B8F-E378-48FF-BA7F-479D8E421AA4" name="GUID-D7228B8F-E378-48FF-BA7F-479D8E421AA4"></a><h4 id="XSTRM-GUID-D7228B8F-E378-48FF-BA7F-479D8E421AA4" class="sect4"><span class="enumeration_section">6.4.4</span>显示出站服务器的统计信息</h4>
                  <div>
                     <p>示例说明如何显示出站服务器的统计信息。</p>
                     <div class="section">
                        <p><code class="codeph">V$XSTREAM_OUTBOUND_SERVER</code>视图包含有关XStream出站服务器处理的数据库更改的以下统计信息：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>出站服务器的名称</p>
                           </li>
                           <li>
                              <p>自上次客户端应用程序连接到出站服务器以来从出站服务器发送到XStream客户端应用程序的事务数</p>
                           </li>
                           <li>
                              <p>自上次客户端应用程序连接到出站服务器以来从出站服务器发送到XStream客户端应用程序的LCR数</p>
                           </li>
                           <li>
                              <p>自上次客户端应用程序连接到出站服务器以来从出站服务器发送到XStream客户端应用程序的兆字节数</p>
                           </li>
                           <li>
                              <p>自上次客户端应用程序连接到出站服务器以来出站服务器将LCR发送到XStream客户端应用程序所花费的时间</p>
                           </li>
                           <li>
                              <p>出站服务器向XStream客户端应用程序发送的最后一个LCR的消息号</p>
                           </li>
                           <li>
                              <p>源出口服务器向客户端应用程序发送的最后一个LCR的源数据库的创建时间</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D7228B8F-E378-48FF-BA7F-479D8E421AA4__GUID-B1662C21-BF70-4795-BEA1-709ABD7E9051">要显示出站服务器的统计信息：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN SERVER_NAME标题'出站|服务器|名称'格式A8列TOTAL_TRANSACTIONS_SENT HEADING'总计| Trans |已发送'格式9999999 COLUMN TOTAL_MESSAGES_SENT标题'总计| LCR |已发送'格式9999999999字符串BYTES_SENT标题'总计| MB |已发送'格式99999999999999列ELAPSED_SEND_TIME HEADING'时间|发送| LCR |（以秒为单位）'格式99999999列LAST_SENT_MESSAGE_NUMBER HEADING'上一页|已发送|消息|号码'格式99999999列号LAST_SENT_MESSAGE_CREATE_TIME标题'上一页|已发送|消息|创建|时间'格式A9 SELECT SERVER_NAME，TOTAL_TRANSACTIONS_SENT， TOTAL_MESSAGES_SENT，（BYTES_SENT / 1024）/ 1024 BYTES_SENT，（ELAPSED_SEND_TIME / 100）ELAPSED_SEND_TIME，LAST_SENT_MESSAGE_NUMBER，TO_CHAR（LAST_SENT_MESSAGE_CREATE_TIME，'HH24：MI：SS MM / DD / YY'）LAST_SENT_MESSAGE_CREATE_TIME FROM V $ XSTREAM_OUTBOUND_SERVER;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">上次上次发送的出站总发送总数发送消息服务器Trans LCRs MB LCR消息创建名称已发送已发送（以秒为单位）数字时间-------- -------- ------ ----- --------------- ------------ --------- --------- XOUT 4028 256632 67 1 820023 10:11:00 02/28/11</pre><div class="infoboxnote" id="GUID-D7228B8F-E378-48FF-BA7F-479D8E421AA4__GUID-6224D08E-B6EB-4C51-8C5C-2D2568D203B4">
                           <p class="notep1">注意：</p>
                           <p>仅当<code class="codeph">V$XSTREAM_OUTBOUND_SERVER</code>的<code class="codeph">COMMITTED_DATA_ONLY</code>值为<code class="codeph">YES</code> ，才会填充<code class="codeph">TOTAL_TRANSACTIONS_SENT</code>值。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-D7228B8F-E378-48FF-BA7F-479D8E421AA4__GUID-EA892F61-46F9-48C9-BDA0-27EBE623474D">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../refrn/V-XSTREAM_OUTBOUND_SERVER.html#REFRN30641" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-DEF8F7CC-A075-48D9-A88A-D88638619D8E" title="示例查询说明了如何监视出站服务器。">监视出站服务器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM1441"></a><div class="props_rev_3"><a id="GUID-71A5E78D-4AB8-4FA8-B1EC-C09BFC58D612" name="GUID-71A5E78D-4AB8-4FA8-B1EC-C09BFC58D612"></a><h4 id="XSTRM-GUID-71A5E78D-4AB8-4FA8-B1EC-C09BFC58D612" class="sect4"><span class="enumeration_section">6.4.5</span>显示出站服务器的已处理低位</h4>
                  <div>
                     <p>示例查询说明了如何显示出站服务器的已处理低位。</p>
                     <div class="section">
                        <p>对于出站服务器，处理的低位置是客户端应用程序提交和记录所有事务的位置。重新启动出站服务器或客户端应用程序时，处理的低位很重要。</p>
                        <p>您可以通过运行本节中的查询来显示有关出站服务器的已处理低位的以下信息：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>出站服务器名称</p>
                           </li>
                           <li>
                              <p>捕获的更改的源数据库的名称</p>
                           </li>
                           <li>
                              <p>处理后的低位置，表示客户端应用程序处理的低水印位置</p>
                           </li>
                           <li>
                              <p>出站服务器上次更新已处理的低位置的时间</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-71A5E78D-4AB8-4FA8-B1EC-C09BFC58D612__GUID-3CFA8761-F4C2-4960-88B1-3EC9F0DBE266">要显示出站服务器的已处理低位置：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN SERVER_NAME标题'出站|服务器|名称'格式A10列SOURCE_DATABASE标题'来源|数据库'格式A20列处理_LOW_POSITION标题'已处理|低LCR |位置'格式A30列处理_LOW_TIME标题'已处理|低|时间'格式A9 SELECT SERVER_NAME， SOURCE_DATABASE，PROCESSED_LOW_POSITION，TO_CHAR（PROCESSED_LOW_TIME，'HH24：MI：SS MM / DD / YY'）PROCESSED_LOW_TIME来自ALL_XSTREAM_OUTBOUND_PROGRESS;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">出站处理的处理服务器源低LCR低名称数据库位置时间---------- -------------------- -------- ---------------------- --------- XOUT XOUT.EXAMPLE.COM 0000000C84EA000000000000000000 10:18:37 00000C84EA00000000000000000001 02/28/11</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-71A5E78D-4AB8-4FA8-B1EC-C09BFC58D612__GUID-D9DBFA6E-EFBB-4859-AF85-B3E9868965AA">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/xstrm&amp;id=REFRN20736" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="xstream-out-concepts.html#GUID-4FA4E59F-8B1A-4A29-AA56-0DF1E280637D" title="处理后的低位是一个位置，低于该位置，客户端应用程序已处理所有事务。">XStream Out的处理低位和可重新启动性</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-DEF8F7CC-A075-48D9-A88A-D88638619D8E" title="示例查询说明了如何监视出站服务器。">监视出站服务器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM1656"></a><div class="props_rev_3"><a id="GUID-64E03D95-65D5-4CAD-A75B-75FB840055E7" name="GUID-64E03D95-65D5-4CAD-A75B-75FB840055E7"></a><h4 id="XSTRM-GUID-64E03D95-65D5-4CAD-A75B-75FB840055E7" class="sect4"><span class="enumeration_section">6.4.6</span>确定出站服务器的进程信息</h4>
                  <div>
                     <p>示例查询说明了如何确定出站服务器的进程信息。</p>
                     <div class="section">
                        <p>出站服务器是Oracle后台进程。仅当XStream客户端应用程序连接到出站服务器时，此后台进程才会运行。<code class="codeph">V$XSTREAM_OUTBOUND_SERVER</code>视图包含有关<code class="codeph">V$XSTREAM_OUTBOUND_SERVER</code>进程的信息。
                        </p>
                        <p>您可以通过运行本节中的查询来显示出站服务器的以下信息：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>出站服务器名称</p>
                           </li>
                           <li>
                              <p>出站服务器会话的会话ID</p>
                           </li>
                           <li>
                              <p>出站服务器会话的序列号</p>
                           </li>
                           <li>
                              <p>将LCR发送到客户端应用程序的操作系统进程的进程标识号</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-64E03D95-65D5-4CAD-A75B-75FB840055E7__GUID-DF2FBBB0-A9A2-4A56-951F-7FF6B0AF32FA">要显示出站服务器的进程信息：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN SERVER_NAME标题'出站服务器名称'格式A20列标题标题'会话ID'格式9999999999列序列号＃标题'序列号'格式9999999999列清除标题'操作系统进程'格式A25 SELECT SERVER_NAME，SID，SERIAL＃，SPID FROM V $ XSTREAM_OUTBOUND_SERVER;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">出站服务器名称会话ID序列号操作系统进程-------------------- ----------- -------- ----- ------------------------- XOUT 18 19 15906</pre><div class="infoboxnote" id="GUID-64E03D95-65D5-4CAD-A75B-75FB840055E7__GUID-E07FFE26-89C1-46E2-90D1-868E33179239">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">V$XSTREAM_APPLY_SERVER</code>视图提供有关出站服务器进程的其他信息，以及有关出站服务器使用的应用服务器后台进程的信息。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-64E03D95-65D5-4CAD-A75B-75FB840055E7__GUID-40699F29-FD4B-4992-B76D-95AB2F0FBE5D">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../refrn/V-XSTREAM_OUTBOUND_SERVER.html#REFRN30641" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-DEF8F7CC-A075-48D9-A88A-D88638619D8E" title="示例查询说明了如何监视出站服务器。">监视出站服务器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72843"></a><div class="props_rev_3"><a id="GUID-F335F5EA-83B2-46B3-88DB-2756DCE9E840" name="GUID-F335F5EA-83B2-46B3-88DB-2756DCE9E840"></a><h4 id="XSTRM-GUID-F335F5EA-83B2-46B3-88DB-2756DCE9E840" class="sect4"><span class="enumeration_section">6.4.7</span>显示出站服务器的应用参数设置</h4>
                  <div>
                     <p>示例查询说明了如何显示出站服务器的apply参数设置。</p>
                     <div class="section">
                        <p>应用参数确定出站服务器的运行方式。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F335F5EA-83B2-46B3-88DB-2756DCE9E840__GUID-206EBED0-9773-46E1-B50F-FE530982BF4A">要显示出站服务器的应用参数设置：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN APPLY_NAME HEADING'出站服务器|名称'格式A15列参数标题'参数'格式A30列值标题'值'格式A22列SET_BY_USER标题'设置为|用户？'FORMAT A10 SELECT APPLY_NAME，PARAMETER，VALUE，SET_BY_USER来自ALL_APPLY_PARAMETERS a，ALL_XSTREAM_OUTBOUND o在哪里。APPLY_NAME = O。SERVER_NAME ORDER BY a。参数;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">出站服务器按名称设置参数值用户？--------------- ------------------------------ ----- ----------------- ---------- XOUT ALLOW_DUPLICATE_ROWS N NO XOUT APPLY_SEQUENCE_NEXTVAL Y NO XOUT COMMIT_SERIALIZATION DEPENDENT_TRANSACTIONS NO XOUT COMPARE_KEY_ONLY N NO XOUT COMPUTE_LCR_DEP_ON_ARRIVAL N NO XOUT DISABLE_ON_ERROR Y没有XOUT DISABLE_ON_LIMIT N没有XOUT EAGER_SIZE 95没有XOUT ENABLE_XSTREAM_TABLE_STATS Y没有XOUT EXCLUDETAG没有排除排除没有排除排除没有XOUT排除没有XET GETAPPLPS Y NO XOUT GETREPLICATES N NO XOUT GROUPTRANSOPS 10000 NO XOUT HANDLECOLLISIONS N NO XOUT IGNORE_TRANSACTION NO XOUT MAXIMUM_SCN INFINITE NO XOUT MAX_PARALLELISM 1 NO XOUT MAX_SGA_SIZE无限NO XOUT OPTIMIZE_PROGRESS_TABLE Y没有XOUT OPTIMIZE_SELF_UPDATES Y没有XOUT PARALLELISM 1 NO XOUT PRESERVE_ENCRYPTION Y没有XOUT RTRIM_ON_IMPLICIT_CONVERSION Y没有XOUT STARTUP_SECONDS 0 NO XOUT SUPPRESSTRIGGERS Y没有XOUT的时限无限NO XOUT TRACE_LEVEL 0 NO XOUT TRANSACTION_LIMIT无限NO XOUT TXN_AGE_SPILL_THRESHOLD 900 NO XOUT TXN_LCR_SPILL_THRESHOLD 10000 NO XOUT WRITE_ALERT_LOG Y NO</pre><p>出站服务器忽略一些应用参数设置。</p>
                        <div class="infoboxnote" id="GUID-F335F5EA-83B2-46B3-88DB-2756DCE9E840__GUID-BAD08081-DF13-408D-A127-FC4AB2D0A634">
                           <p class="notep1">注意：</p>
                           <p>如果<code class="codeph">Set</code> <code class="codeph">by</code> <code class="codeph">User?</code> 如果参数的<code class="codeph">NO</code> ，则将参数设置为其默认值。如果<code class="codeph">Set</code> <code class="codeph">by</code> <code class="codeph">User?</code> 对于参数， <code class="codeph">YES</code> ，则参数由用户设置，可能会也可能不会设置为其默认值。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F335F5EA-83B2-46B3-88DB-2756DCE9E840__GUID-CAB32202-3BEC-4260-BFD8-2F323DC159FC">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="managing-xstream-out.html#GUID-5EE7D09A-B2AD-4B39-8B68-D282E21787B0" title="您可以使用DBMS_XSTREAM_ADM程序包中的SET_PARAMETER过程为出站服务器设置apply参数。应用参数控制出站服务器的运行方式。">为出站服务器设置应用参数</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关应用参数的信息<a href="../arpls/DBMS_APPLY_ADM.html#ARPLS314" target="_blank"><span><cite>，请参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-DEF8F7CC-A075-48D9-A88A-D88638619D8E" title="示例查询说明了如何监视出站服务器。">监视出站服务器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="XSTRM72844"></a><div class="props_rev_3"><a id="GUID-68AFD721-4526-4C95-B210-07097B7CBF4F" name="GUID-68AFD721-4526-4C95-B210-07097B7CBF4F"></a><h3 id="XSTRM-GUID-68AFD721-4526-4C95-B210-07097B7CBF4F" class="sect3"><span class="enumeration_section">6.5</span>监控出站服务器的捕获过程</h3>
               <div>
                  <p>示例查询说明了如何监视出站服务器的捕获过程。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-60927BCC-BAD0-46BC-BA71-717277D5D29D">显示有关每个捕获过程的更改捕获信息</a><br>示例查询说明了如何显示有关每个捕获过程的更改捕获信息。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-A44AC071-FFFB-40B8-B228-9E8206ACB22E">显示每个捕获进程的已注册重做日志文件</a><br>示例查询说明了如何显示有关为数据库中的每个捕获进程注册的归档重做日志文件的信息。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-68AF1BB9-C49E-4CCB-AB2B-346E57B4CFF5">显示每个捕获过程所需的重做日志文件</a><br>示例查询说明了如何显示每个捕获过程所需的重做日志文件。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-FD2BCB4D-2C7A-4247-8C19-8E103C6CBE4D">显示每个捕获进程使用的每个重做日志文件的SCN值</a><br>示例查询说明了如何显示有关为数据库中的每个捕获进程注册的归档重做日志文件的SCN值的信息。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-03F52932-52E9-4527-9DC9-C8AF2BA07B7D">列出每个捕获过程的参数设置</a><br>示例查询说明了如何列出每个捕获过程的参数设置。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-56372172-D17B-439C-883C-BD3DEA1215BA">确定每个捕获过程的应用SCN</a><br>示例查询说明了如何为每个捕获过程确定应用的SCN。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-14CDA3CE-848B-4707-A6DC-CBA504A0DA9A">显示每个捕获过程的重做日志扫描延迟</a><br>示例查询说明了如何显示每个捕获过程的重做日志扫描延迟。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-50A9C936-4997-43E2-9E7D-D3F5E6FB7E07">显示捕获过程捕获的额外属性</a><br>示例查询说明了如何显示捕获过程捕获的额外属性。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-2572EB42-3601-4901-B567-11EA723B0F6E" title="您可以监视XStream Out配置。">监视XStream Out</a></p>
                     </div>
                  </div>
               </div>
               <a id="XSTRM72845"></a><div class="props_rev_3"><a id="GUID-60927BCC-BAD0-46BC-BA71-717277D5D29D" name="GUID-60927BCC-BAD0-46BC-BA71-717277D5D29D"></a><h4 id="XSTRM-GUID-60927BCC-BAD0-46BC-BA71-717277D5D29D" class="sect4"><span class="enumeration_section">6.5.1</span>显示有关每个捕获过程的更改捕获信息</h4>
                  <div>
                     <p>示例查询说明了如何显示有关每个捕获过程的更改捕获信息。</p>
                     <div class="section">
                        <p>本节中的查询显示有关数据库中每个捕获过程的以下信息：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>捕获过程的名称。</p>
                           </li>
                           <li>
                              <p>捕获过程的当前状态</p>
                              <p>请参阅<span class="q">“ <a href="xstream-out-concepts.html#GUID-515A37C2-A8BF-4856-99D9-7D1ACE393C92" title="捕获过程的状态描述了捕获过程当前正在执行的操作。">捕获过程状态</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>LogMiner传递到捕获过程的重做条目总数，以进行详细的规则评估。捕获过程将重做条目转换为LCR，并在捕获过程预过滤无法丢弃更改时对LCR执行详细的规则评估。</p>
                           </li>
                           <li>
                              <p>自捕获过程上次启动以来排队的总LCR数。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-60927BCC-BAD0-46BC-BA71-717277D5D29D__GUID-E4C16EA6-9D48-4846-A21D-A808AEBA7538">要显示此更改，请捕获有关数据库中每个捕获过程的信息：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN CAPTURE_NAME标题'捕获|名称'格式A15列状态标题'状态'格式A25列TOTAL_MESSAGES_CAPTURED标题'重做|条目|评估|详细信息'格式99999999999999列TOTAL_MESSAGES_ENQUEUED标题'总计| LCRs |排队'格式99999999999999 SELECT CAPTURE_NAME，状态，来自V $ XSTREAM_CAPTURE的TOTAL_MESSAGES_CAPTURED，TOTAL_MESSAGES_ENQUEUED;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">重做条目总捕获评估的LCR名称状态详细排队--------------- ------------------------ -  --------------- --------------- CAP $ _XOUT_1等待交易297666 261798</pre><p>扫描的重做条目数可能高于捕获过程捕获的DML和DDL重做条目数。仅捕获满足捕获过程规则集的DML和DDL重做条目，并将其发送到出站服务器。此外，排队的总LCR包括包含事务控制语句的LCR。这些行LCR包含<code class="codeph">COMMIT</code>和<code class="codeph">ROLLBACK</code>等指令。因此，排队的总LCR数量高于捕获过程排队的行更改和DDL更改的数量。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-60927BCC-BAD0-46BC-BA71-717277D5D29D__GUID-DE473139-9973-4912-9C03-86BABDA56028">
                        <p class="notep1">也可以看看：</p>
                        <p>有关事务控制语句的更多信息，请参阅<span class="q">“ <a href="general-xstream-concepts.html#GUID-38751D5D-FFB4-4108-B675-2DA6F7FB9330" title="行LCR描述了对单行中数据的更改或对行中单个LOB列，LONG列，LONG RAW列或XMLType列的更改。">行LCR</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-68AFD721-4526-4C95-B210-07097B7CBF4F" title="示例查询说明了如何监视出站服务器的捕获过程。">监视出站服务器的捕获过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72846"></a><div class="props_rev_3"><a id="GUID-A44AC071-FFFB-40B8-B228-9E8206ACB22E" name="GUID-A44AC071-FFFB-40B8-B228-9E8206ACB22E"></a><h4 id="XSTRM-GUID-A44AC071-FFFB-40B8-B228-9E8206ACB22E" class="sect4"><span class="enumeration_section">6.5.2</span>显示每个捕获进程的已注册重做日志文件</h4>
                  <div>
                     <p>示例查询说明了如何显示有关为数据库中的每个捕获进程注册的归档重做日志文件的信息。</p>
                     <div class="section">
                        <p>示例查询显示有关本地捕获进程和下游捕获进程的这些文件的信息。</p>
                        <p>该查询显示每个已注册的归档重做日志文件的以下信息：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用该文件的捕获进程的名称</p>
                           </li>
                           <li>
                              <p>文件的源数据库</p>
                           </li>
                           <li>
                              <p>文件的序列号</p>
                           </li>
                           <li>
                              <p>本地站点上文件的名称和位置</p>
                           </li>
                           <li>
                              <p>文件是否包含数据字典构建的开头</p>
                           </li>
                           <li>
                              <p>文件是否包含数据字典构建的结尾</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A44AC071-FFFB-40B8-B228-9E8206ACB22E__GUID-5930F51C-37DF-4346-8FC1-FA7E2F65EC75">要显示每个捕获过程的已注册重做日志文件：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN CONSUMER_NAME HEADING'捕获|处理|名称'格式A15列SOURCE_DATABASE HEADING'来源|数据库'格式A10列序列#HEADING'序列号|数字'格式99999列名称标题'归档重做日志|文件名'格式A20列字典_关于标题'字典|构建|开始'FORMAT A10 COLUMN DICTIONARY_END HEADING'字典|构建|结束'FORMAT A10 SELECT r。CONSUMER_NAME，r。SOURCE_DATABASE，r。SEQUENCE＃，r。NAME，r。DICTIONARY_BEGIN，r。DICTIONARY_END FROM DBA_REGISTERED_ARCHIVED_LOG r，ALL_CAPTURE c WHERE r。CONSUMER_NAME = c。CAPTURE_NAME;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">捕获字典字典过程源序列存档重做日志构建构建名称数据库号文件名开头--------------- ---------- ------- -  -------------------- ---------- ---------- CAP $ _XOUT_1 DBS2。EXAMP 15 / orc / dbs / log / arch2_1 NO NO LE.COM _15_478347508.arc CAP $ _XOUT_1 DBS2。EXAMP 16 / orc / dbs / log / arch2_1 NO NO LE.COM _16_478347508.arc CAP $ _XOUT_2 DBS1。EXAMP 45 / remote_logs / arch1_1是是LE.COM _45_478347335.arc CAP $ _XOUT_2 DBS1。EXAMP 46 / remote_logs / arch1_1 NO NO LE.COM _46_478347335.arc CAP $ _XOUT_2 DBS1。EXAMP 47 / remote_logs / arch1_1 NO NO LE.COM _47_478347335.arc</pre><p>假设此查询是在<code class="codeph">dbs2.example.com</code>数据库中运行的，并且该<code class="codeph">cap$_xout_1</code>是本地捕获过程，而<code class="codeph">cap$_xout_2</code>是下游捕获过程。<code class="codeph">cap$_xout_2</code>下游捕获过程的源数据库是<code class="codeph">dbs1.example.com</code> 。该查询显示，有两个注册归档重做日志文件<code class="codeph">cap$_xout_1</code>和三个注册归档重做日志文件<code class="codeph">cap$_xout_2</code> 。此查询显示本地文件系统中每个文件的名称和位置。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A44AC071-FFFB-40B8-B228-9E8206ACB22E__GUID-F43260E5-A463-4CA3-B30E-D3CABCD4D7C4">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="xstream-out-concepts.html#GUID-18DE4FD3-F36A-4108-BC16-AF31AF4055E3" title="捕获过程是一个可选的Oracle后台进程，它扫描数据库重做日志以捕获对数据库对象所做的DML和DDL更改。">捕获流程概述</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="xstream-out-concepts.html#GUID-CC32AED8-6587-4CA7-8786-CDF2C4968DB1" title="您可以将捕获过程配置为在源数据库上本地运行或在下游数据库上远程运行。">本地捕获和下游捕获</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关字典构建的信息， <span class="q">“</span>与<span class="q"><a href="xstream-out-concepts.html#GUID-C9D4482E-F066-4BE1-BFD1-CBF77AC17AA2" title="特定系统更改编号（SCN）值对于捕获过程很重要。">捕获过程相关的SCN值</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-68AFD721-4526-4C95-B210-07097B7CBF4F" title="示例查询说明了如何监视出站服务器的捕获过程。">监视出站服务器的捕获过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72847"></a><div class="props_rev_3"><a id="GUID-68AF1BB9-C49E-4CCB-AB2B-346E57B4CFF5" name="GUID-68AF1BB9-C49E-4CCB-AB2B-346E57B4CFF5"></a><h4 id="XSTRM-GUID-68AF1BB9-C49E-4CCB-AB2B-346E57B4CFF5" class="sect4"><span class="enumeration_section">6.5.3</span>显示每个捕获过程所需的重做日志文件</h4>
                  <div>
                     <p>示例查询说明了如何显示每个捕获过程所需的重做日志文件。</p>
                     <div class="section">
                        <p>捕获过程需要包含所需检查点SCN的重做日志文件以及所有后续重做日志文件。您可以在<code class="codeph">ALL_CAPTURE</code>数据字典视图中查询<code class="codeph">REQUIRED_CHECKPOINT_SCN</code>列，以确定捕获过程所需的检查点SCN。捕获过程不再需要重做日志文件，该重做日志文件包含所需的检查点SCN。如果不再需要这些重做日志文件用于任何其他目的，则可以脱机存储这些重做日志文件。如果将捕获进程的启动SCN重置为较低的值，则可能需要这些重做日志文件。
                        </p>
                        <p>该查询显示每个所需的归档重做日志文件的以下信息：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用该文件的捕获进程的名称</p>
                           </li>
                           <li>
                              <p>文件的源数据库</p>
                           </li>
                           <li>
                              <p>文件的序列号</p>
                           </li>
                           <li>
                              <p>本地站点上所需重做日志文件的名称和位置</p>
                           </li>
                        </ul>
                        <p>要在数据库中显示有关每个所需存档重做日志文件的此信息，请运行以下查询：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以XStream管理员身份连接到数据库。</span><div>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>运行以下查询：</span><div><pre class="oac_no_warn" dir="ltr">COLUMN CONSUMER_NAME HEADING'捕获|处理|名称'格式A15列SOURCE_DATABASE HEADING'来源|数据库'格式A10列序列#HEADING'序列号|数字'格式99999列名称标题'必需|存档重做日志|文件名'格式A40 SELECT r 。CONSUMER_NAME，r。SOURCE_DATABASE，r。SEQUENCE＃，r。名称来自DBA_REGISTERED_ARCHIVED_LOG r，ALL_CAPTURE c WHERE r。CONSUMER_NAME = c。CAPTURE_NAME和r。NEXT_SCN&gt; = c。REQUIRED_CHECKPOINT_SCN;</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">捕获所需的进程源序列存档重做日志名称数据库编号文件名--------------- ---------- -------- ---- ------------------------------------ CAP $ _XOUT_1 DBS2。EXAMP 16 /orc/dbs/log/arch2_1_16_478347508.arc LE.COM CAP $ _XOUT_2 DBS1。EXAMP 47 /remote_logs/arch1_1_47_478347335.arc LE.COM</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-68AF1BB9-C49E-4CCB-AB2B-346E57B4CFF5__GUID-D4BFD06A-DF05-45CE-B69D-C502E3A7B793">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="xstream-out-concepts.html#GUID-18DE4FD3-F36A-4108-BC16-AF31AF4055E3" title="捕获过程是一个可选的Oracle后台进程，它扫描数据库重做日志以捕获对数据库对象所做的DML和DDL更改。">捕获流程概述</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-68AFD721-4526-4C95-B210-07097B7CBF4F" title="示例查询说明了如何监视出站服务器的捕获过程。">监视出站服务器的捕获过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72848"></a><div class="props_rev_3"><a id="GUID-FD2BCB4D-2C7A-4247-8C19-8E103C6CBE4D" name="GUID-FD2BCB4D-2C7A-4247-8C19-8E103C6CBE4D"></a><h4 id="XSTRM-GUID-FD2BCB4D-2C7A-4247-8C19-8E103C6CBE4D" class="sect4"><span class="enumeration_section">6.5.4</span>显示每个捕获进程使用的每个重做日志文件的SCN值</h4>
                  <div>
                     <p>示例查询说明了如何显示有关为数据库中的每个捕获进程注册的归档重做日志文件的SCN值的信息。</p>
                     <div class="section">
                        <p>此查询显示本地捕获进程和下游捕获进程的这些文件的SCN值。此查询还标识本地数据库中任何捕获进程不再需要的重做日志文件。</p>
                        <p>该查询显示每个已注册的归档重做日志文件的以下信息：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用该文件的捕获进程的捕获进程名称</p>
                           </li>
                           <li>
                              <p>本地站点上文件的名称和位置</p>
                           </li>
                           <li>
                              <p>重做日志文件中包含的信息的最低SCN值</p>
                           </li>
                           <li>
                              <p>序列中下一个重做日志文件的最低SCN值</p>
                           </li>
                           <li>
                              <p>重做日志文件是否可以清除</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD2BCB4D-2C7A-4247-8C19-8E103C6CBE4D__GUID-37F024A3-8BA3-4076-975A-D785632E1235">要显示每个捕获进程使用的每个重做日志文件的SCN值：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN CONSUMER_NAME标题'捕获|处理|名称'格式A15列名称标题'归档重做日志|文件名'格式A25列FIRST_SCN标题'第一个SCN'格式99999999999列NEXT_SCN标题'下一个SCN'格式99999999999列清除标题'可清除？'FORMAT A10 SELECT r。CONSUMER_NAME，r。NAME，r。FIRST_SCN，r。NEXT_SCN，r。从DBA_REGISTERED_ARCHIVED_LOG r，ALL_CAPTURE c WHERE r。CONSUMER_NAME = c。CAPTURE_NAME;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">捕获进程归档重做日志名称文件名首先SCN下一个SCN可清除？--------------- ------------------------- ---------- -  ------------ ---------- CAP $ _XOUT_1 / private1 / ARCHIVE_LOGS / 1_ 509686 549100 YES 3_502628294.dbf CAP $ _XOUT_1 / private1 / ARCHIVE_LOGS / 1_ 549100 587296是4_502628294.dbf CAP $ _XOUT_1 / private1 / ARCHIVE_LOGS / 1_ 587296 623107 NO 5_502628294.dbf</pre><p>可重写的重做日志文件<code class="codeph">YES</code> <code class="codeph">Purgeable?</code> 对于本地数据库中的任何捕获进程永远不需要所有捕获进程。可以删除这些重做日志文件，而不会影响本地数据库中的任何现有捕获进程。与重做日志文件中<code class="codeph">NO</code>的<code class="codeph">Purgeable?</code> 必须保留一个或多个捕获过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-68AFD721-4526-4C95-B210-07097B7CBF4F" title="示例查询说明了如何监视出站服务器的捕获过程。">监视出站服务器的捕获过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72849"></a><div class="props_rev_3"><a id="GUID-03F52932-52E9-4527-9DC9-C8AF2BA07B7D" name="GUID-03F52932-52E9-4527-9DC9-C8AF2BA07B7D"></a><h4 id="XSTRM-GUID-03F52932-52E9-4527-9DC9-C8AF2BA07B7D" class="sect4"><span class="enumeration_section">6.5.5</span>列出每个捕获过程的参数设置</h4>
                  <div>
                     <p>示例查询说明了如何列出每个捕获过程的参数设置。</p>
                     <div class="section">
                        <p>捕获过程参数确定捕获过程的操作方式。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-03F52932-52E9-4527-9DC9-C8AF2BA07B7D__GUID-62154716-435A-402E-87FE-500C9ADF707F">列出每个捕获过程的参数设置：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN CAPTURE_NAME标题'捕获|处理|名称'格式A25列参数标题'参数'格式A30列值标题'值'格式A10列SET_BY_USER标题'设置为|用户？'格式A10选择c。CAPTURE_NAME，PARAMETER，VALUE，SET_BY_USER来自ALL_CAPTURE_PARAMETERS c，ALL_XSTREAM_OUTBOUND o其中c。CAPTURE_NAME = O。CAPTURE_NAME按参数订购;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">捕获过程按名称参数值设置用户？------------------------- ------------------------- ----- ---------- ---------- CAP $ _XOUT_1 CAPTURE_IDKEY_OBJECTS N NO CAP $ _XOUT_1 CAPTURE_SEQUENCE_NEXTVAL N NO CAP $ _XOUT_1 DISABLE_ON_LIMIT N NO CAP $ _XOUT_1 DOWNSTREAM_REAL_TIME_MINE Y NO CAP $ _XOUT_1 EXCLUDETAG NO CAP $ _XOUT_1 EXCLUDETRANS NO CAP $ _XOUT_1 EXCLUDEUSER NO CAP $ _XOUT_1 EXCLUDEUSERID NO CAP $ _XOUT_1 GETAPPLOPS Y NO CAP $ _XOUT_1 GETREPLICATES N NO CAP $ _XOUT_1 IGNORE_TRANSACTION NO CAP $ _XOUT_1 IGNORE_UNSUPPORTED_TABLE * NO CAP $ _XOUT_1 INCLUDE_OBJECTS NO CAP $ _XOUT_1 INLINE_LOB_OPTIMIZATION N NO CAP $ _XOUT_1 MAXIMUM_SCN INFINITE NO CAP $ _XOUT_1 MAX_SGA_SIZE INFINITE NO CAP $ _XOUT_1 MERGE_THRESHOLD 60 NO CAP $ _XOUT_1 MESSAGE_LIMIT INFINITE NO CAP $ _XOUT_1 MESSAGE_TRACKING_FREQUENCY 2000000 NO CAP $ _XOUT_1 PARALLELISM 0 NO CAP $ _XOUT_1 SKIP_AUTOFILTERED_TABLE_DDL Y NO CAP $ _XOUT_1 SPLIT_THRESHOLD 1800 NO CAP $ _XOUT_1 STARTUP_SECONDS 0 NO CAP $ _XOUT_1 TIME_LIMIT INFINITE NO CAP $ _XOUT_1 TRACE_LEVEL 0 NO CAP $ _XOUT_1 USE_RAC_SERVICE N NO CAP $ _XOUT_1 WRITE_ALERT_LOG Y NO CAP $ _XOUT_1 XOUT_CLIENT_EXISTS Y NO</pre><div class="infoboxnote" id="GUID-03F52932-52E9-4527-9DC9-C8AF2BA07B7D__GUID-FCA5D72B-A1B6-4799-8126-60C0B493A371">
                           <p class="notep1">注意：</p>
                           <p>如果<code class="codeph">Set</code> <code class="codeph">by</code> <code class="codeph">User?</code> 如果参数的<code class="codeph">NO</code> ，则将参数设置为其默认值。如果<code class="codeph">Set</code> <code class="codeph">by</code> <code class="codeph">User?</code> 对于参数， <code class="codeph">YES</code> ，则参数由用户设置，可能会也可能不会设置为其默认值。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-03F52932-52E9-4527-9DC9-C8AF2BA07B7D__GUID-C2D3FDA1-A7DA-41BF-8B44-E0E1D655CE31">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="xstream-out-concepts.html#GUID-E52BD18C-E1D9-4B09-9ADD-BCBC2290C2CB" title="捕获过程子组件是读取器服务器，一个或多个准备服务器和构建器服务器。">捕获过程子组件</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="managing-xstream-out.html#GUID-AB998819-B851-478E-8412-3E30EBFC8FD4" title="捕获过程参数控制捕获过程的操作方式。您可以使用DBMS_CAPTURE_ADM包中的SET_PARAMETER过程设置捕获过程参数。">设置捕获过程参数</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关捕获过程参数的信息<a href="../arpls/DBMS_CAPTURE_ADM.html#ARPLS306" target="_blank"><span><cite>，请参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-68AFD721-4526-4C95-B210-07097B7CBF4F" title="示例查询说明了如何监视出站服务器的捕获过程。">监视出站服务器的捕获过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72850"></a><div class="props_rev_3"><a id="GUID-56372172-D17B-439C-883C-BD3DEA1215BA" name="GUID-56372172-D17B-439C-883C-BD3DEA1215BA"></a><h4 id="XSTRM-GUID-56372172-D17B-439C-883C-BD3DEA1215BA" class="sect4"><span class="enumeration_section">6.5.6</span>确定每个捕获过程的应用SCN</h4>
                  <div>
                     <p>示例查询说明了如何为每个捕获过程确定应用的SCN。</p>
                     <div class="section">
                        <p>捕获过程的应用系统更改编号（SCN）是相关出站服务器出列的最新逻辑更改记录（LCR）的SCN。此应用SCN下的所有更改都已由处理捕获过程捕获的更改的所有出站服务器处理。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-56372172-D17B-439C-883C-BD3DEA1215BA__GUID-7A9BAAB8-D0AC-4156-8BA8-4DCDEDDFB8A7">要确定每个捕获过程的应用SCN：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN CAPTURE_NAME HEADING'捕获进程名称'格式A30列应用程序_SEN HEADING'Applied SCN'FORMAT 99999999999 SELECT CAPTURE_NAME，APPLIED_SCN FROM ALL_CAPTURE;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">捕获进程名称应用SCN ------------------------------ ------------ CAP $ _XOUT_1 824825</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-68AFD721-4526-4C95-B210-07097B7CBF4F" title="示例查询说明了如何监视出站服务器的捕获过程。">监视出站服务器的捕获过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72851"></a><div class="props_rev_3"><a id="GUID-14CDA3CE-848B-4707-A6DC-CBA504A0DA9A" name="GUID-14CDA3CE-848B-4707-A6DC-CBA504A0DA9A"></a><h4 id="XSTRM-GUID-14CDA3CE-848B-4707-A6DC-CBA504A0DA9A" class="sect4"><span class="enumeration_section">6.5.7</span>显示每个捕获进程的重做日志扫描延迟</h4>
                  <div>
                     <p>示例查询说明了如何显示每个捕获过程的重做日志扫描延迟。</p>
                     <div class="section">
                        <p>您可以通过运行本节中的查询找到有关每个捕获过程的以下信息：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>重做日志扫描延迟，指定捕获进程扫描的最新重做日志条目的创建时间与当前时间之间的秒数。启动捕获过程后，此数字可能会立即相对较大。</p>
                           </li>
                           <li>
                              <p>自上次记录状态以来的秒数，即自捕获过程上次记录其状态以来的秒数。</p>
                           </li>
                           <li>
                              <p>当前捕获进程时间，这是捕获进程记录其状态的最晚时间。</p>
                           </li>
                           <li>
                              <p>逻辑更改记录（LCR）创建时间，即数据操作语言（DML）或数据定义语言（DDL）更改在源数据库中为最近捕获的LCR生成重做数据的时间。</p>
                           </li>
                        </ul>
                        <p>此查询显示的信息仅对启用的捕获过程有效。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-14CDA3CE-848B-4707-A6DC-CBA504A0DA9A__GUID-BF67BAA0-C4CA-4637-9E8E-4999AA13EFF1">要显示每个捕获过程的重做日志扫描延迟：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN CAPTURE_NAME HEADING'捕捉|处理|名称'格式A12栏目LATENCY_SECONDS HEADING'延迟| in | Seconds'FORMAT 999999 COLUMN LAST_STATUS HEADING'秒数|上次状态'格式999999 COLUMN CAPTURE_TIME HEADING'当前|处理|时间'列'创建时间标题'消息|创建时间'格式999999 SELECT CAPTURE_NAME，（（SYSDATE  -  CAPTURE_MESSAGE_CREATE_TIME）* 86400）LATENCY_SECONDS，（（SYSDATE  -  CAPTURE_TIME）* 86400）LAST_STATUS，TO_CHAR（CAPTURE_TIME，'HH24：MI：SS MM / DD / YY'）CAPTURE_TIME ，TO_CHAR（CAPTURE_MESSAGE_CREATE_TIME，'HH24：MI：SS MM / DD / YY'）CREATE_TIME FROM V $ XSTREAM_CAPTURE;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">以秒为单位捕获延迟当前进程自进程消息名称秒数上次状态时间创建时间------------ ------- -------------  - --------------- ----------------- CAP $ _XOUT_1 1 1 10:32:52 02/28/11 10:32 ：52 02/28/11</pre><p>此查询返回的<code class="codeph">"Latency</code> <code class="codeph">in</code> <code class="codeph">Seconds"</code> <code class="codeph">"Latency</code> <code class="codeph">Seconds"</code>是当前时间（ <code class="codeph">SYSDATE</code> ）和<code class="codeph">"Message</code> <code class="codeph">Creation</code> <code class="codeph">Time."</code>之间的差异<code class="codeph">Time."</code>此查询返回的<code class="codeph">"Seconds</code> <code class="codeph">Since</code> <code class="codeph">Last</code> <code class="codeph">Status"</code> <code class="codeph">Since</code> <code class="codeph">"Seconds</code> <code class="codeph">Status"</code>是当前时间（ <code class="codeph">SYSDATE</code> ）和<code class="codeph">"Current</code> <code class="codeph">Process</code> <code class="codeph">Time."</code>之间的差异<code class="codeph">Time."</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-68AFD721-4526-4C95-B210-07097B7CBF4F" title="示例查询说明了如何监视出站服务器的捕获过程。">监视出站服务器的捕获过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72852"></a><div class="props_rev_3"><a id="GUID-50A9C936-4997-43E2-9E7D-D3F5E6FB7E07" name="GUID-50A9C936-4997-43E2-9E7D-D3F5E6FB7E07"></a><h4 id="XSTRM-GUID-50A9C936-4997-43E2-9E7D-D3F5E6FB7E07" class="sect4"><span class="enumeration_section">6.5.8</span>显示捕获过程捕获的额外属性</h4>
                  <div>
                     <p>示例查询说明了如何显示捕获过程捕获的额外属性。</p>
                     <div class="section">
                        <p>您可以使用<code class="codeph">DBMS_CAPTURE_ADM</code>包中的<code class="codeph">INCLUDE_EXTRA_ATTRIBUTE</code>过程来指示捕获进程捕获一个或多个额外属性，并在逻辑更改记录（LCR）中包含额外属性。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-50A9C936-4997-43E2-9E7D-D3F5E6FB7E07__GUID-7E4C56F6-92CE-47DD-B51C-69FDC6FB3853">要显示捕获过程捕获的额外属性：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN CAPTURE_NAME标题'捕获过程'格式A20列ATTRIBUTE_NAME标题'属性名称'格式A15列包含标题'在LCR中包含属性？'格式A30 SELECT CAPTURE_NAME，ATTRIBUTE_NAME，包含CAPTURE_NAME的ALL_CAPTURE_EXTRA_ATTRIBUTES订单;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">捕获进程属性名称包含LCR中的属性？-------------------- --------------- --------------- --------------- CAP $ _XOUT_1 ROW_ID无CAP $ _XOUT_1序列#NO CAP $ _XOUT_1会话#NO CAP $ _XOUT_1 THREAD #NO CAP $ _XOUT_1 TX_NAME YES CAP $ _XOUT_1 USERNAME NO</pre><p>根据此输出，名为<code class="codeph">xcapture</code>的捕获进程在其捕获的<code class="codeph">xcapture</code>包含事务名称（ <code class="codeph">tx_name</code> ），但此捕获进程不包括其捕获的LCR中的任何其他额外属性。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-50A9C936-4997-43E2-9E7D-D3F5E6FB7E07__GUID-4B67E173-4540-47C2-AE58-1B5B04FCB4E8">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="general-xstream-concepts.html#GUID-A510EC5B-EB95-4934-814D-1345DFE98391" title="除了前面部分讨论的信息之外，行LCR和DDL LCR可选地可以包括额外信息（或LCR属性）。">行LCR和DDL LCR中的额外信息</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">INCLUDE_EXTRA_ATTRIBUTE</code>过程的更多信息，请<a href="../arpls/DBMS_CAPTURE_ADM.html#ARPLS522" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-68AFD721-4526-4C95-B210-07097B7CBF4F" title="示例查询说明了如何监视出站服务器的捕获过程。">监视出站服务器的捕获过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="XSTRM1445"></a><div class="props_rev_3"><a id="GUID-43BB638F-5263-41E8-ADD0-6927C24E16A8" name="GUID-43BB638F-5263-41E8-ADD0-6927C24E16A8"></a><h3 id="XSTRM-GUID-43BB638F-5263-41E8-ADD0-6927C24E16A8" class="sect3"><span class="enumeration_section">6.6</span>监控XStream规则</h3>
               <div>
                  <p>示例查询说明了如何监视XStream规则。</p>
                  <div class="section">
                     <p><code class="codeph">ALL_XSTREAM_RULES</code>视图包含有关出站服务器和入站服务器使用的规则的信息。如果出站服务器使用所创建的<code class="codeph">CREATE_OUTBOUND</code>在程序<code class="codeph">DBMS_XSTREAM_ADM</code>包，然后这些视图还包含关于由发送改变到出站服务器捕获过程中使用的规则的信息。但是，如果使用<code class="codeph">ADD_OUTBOUND</code>过程创建出站服务器，则这些视图不包含有关捕获过程规则的信息。此外，这些视图不包含有关从捕获进程到出站服务器的流中任何传播所使用的规则的信息。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-43BB638F-5263-41E8-ADD0-6927C24E16A8__GUID-AB06A5E5-38E1-4871-A8CB-29DE14ABCDC3">要显示有关XStream组件使用的规则的信息：</p>
                     <ol>
                        <li>
                           <p>以XStream管理员身份连接到数据库。</p>
                           <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN STREAMS_NAME HEADING'XStream | Component | Name'FORMAT A9 COLUMN STREAMS_TYPE HEADING'XStream | Component | Type'FORMAT A9 COLUMN RULE_NAME HEADING'规则|名称'格式A13列RULE_SET_TYPE HEADING'规则集|类型'格式A8列STREAMS_RULE_TYPE标题'规则| Level'FORMAT A7 COLUMN SCHEMA_NAME HEADING'Schema | Name'FORMAT A6 COLUMN OBJECT_NAME HEADING'对象|名称'格式A11 COLUMN RULE_TYPE HEADING'规则|输入'FORMAT A4 SELECT STREAMS_NAME，STREAMS_TYPE，RULE_NAME，RULE_SET_TYPE，STREAMS_RULE_TYPE，SCHEMA_NAME，OBJECT_NAME，来自ALL_XSTREAM_RULES的RULE_TYPE;</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">XStream XStream组件组件规则规则集规则架构对象规则名称类型名称类型级别名称名称类型--------- --------- ------------- -------- ------- ------ ----------- ---- XOUT申请ORDERS11正面表OE订单DML XOUT申请ORDERS12正面表OE ORDERS DDL XOUT应用ORDER_ITEMS14正面表O ORDER_ITEMS DML XOUT应用ORDER_ITEMS15正表OE ORDER_ITEMS DDL XOUT应用HR16正面模式HR DML XOUT应用HR17正面模式HR DDL</pre><p>请注意， <code class="codeph">STREAMS_TYPE</code>被<code class="codeph">APPLY</code> ，即使规则在出站服务器设置的正规则<code class="codeph">xout</code> 。您可以通过查询<code class="codeph">ALL_APPLY</code>视图中的<code class="codeph">PURPOSE</code>列来确定应用组件的<code class="codeph">PURPOSE</code> 。
                     </p>
                     <p><code class="codeph">ALL_XSTREAM_RULES</code>视图包含有关XStream配置中使用的规则的更多信息，而不是此示例中显示的规则。例如，您可以查询此视图以显示有关XStream组件使用的规则集的信息。
                     </p>
                     <p>要查看有关所有组件使用的规则的信息，包括捕获进程，传播，应用进程，出站服务器和入站服务器，您可以查询<code class="codeph">ALL_XSTREAM_RULES</code>视图。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-43BB638F-5263-41E8-ADD0-6927C24E16A8__GUID-C4993484-246E-49A4-80E3-91F42353C188">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../refrn/ALL_XSTREAM_RULES.html#REFRN20737" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-2572EB42-3601-4901-B567-11EA723B0F6E" title="您可以监视XStream Out配置。">监视XStream Out</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="XSTRM72853"></a><div class="props_rev_3"><a id="GUID-D5F1C262-30BC-48D0-ADA4-41438CBC4195" name="GUID-D5F1C262-30BC-48D0-ADA4-41438CBC4195"></a><h3 id="XSTRM-GUID-D5F1C262-30BC-48D0-ADA4-41438CBC4195" class="sect3"><span class="enumeration_section">6.7</span>监控基于声明规则的转换</h3>
               <div>
                  <p>示例查询说明了如何监视基于声明规则的转换。</p>
                  <div class="section">
                     <p>基于声明规则的转换是基于规则的转换，它涵盖行LCR的一组通用转换方案之一。基于声明规则的转换在内部运行，无需使用PL / SQL。</p>
                     <p>本节中的查询显示有关数据库中每个基于声明规则的转换的以下信息：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>指定了基于声明规则的转换的规则的所有者。</p>
                        </li>
                        <li>
                           <p>为其指定基于声明规则的转换的规则的名称。</p>
                        </li>
                        <li>
                           <p>指定的基于声明规则的转换的类型。可以使用以下类型： <code class="codeph">ADD</code> <code class="codeph">COLUMN</code> ， <code class="codeph">DELETE</code> <code class="codeph">COLUMN</code> ， <code class="codeph">KEEP</code> <code class="codeph">COLUMNS</code> ， <code class="codeph">RENAME</code> <code class="codeph">COLUMN</code> ， <code class="codeph">RENAME</code> <code class="codeph">SCHEMA</code>和<code class="codeph">RENAME</code> <code class="codeph">TABLE</code> 。</p>
                        </li>
                        <li>
                           <p>声明式基于规则的转换的优先级。优先级是与其他转换相关的转换的执行顺序，具有为同一规则指定的相同步骤编号。对于具有相同步骤编号的转换，首先执行具有最低优先级的转换。</p>
                        </li>
                        <li>
                           <p>声明性规则转换的步骤编号。如果为同一规则指定了多个基于规则的声明性转换，则首先执行具有最低步骤编号的转换。您可以在创建转换时为基于声明规则的转换指定步骤编号。</p>
                        </li>
                     </ul>
                     <p>您必须具有<code class="codeph">DBA</code>角色才能访问<code class="codeph">DBA_XSTREAM_TRANSFORMATIONS</code>视图。
                     </p>
                     <p>运行以下查询以显示数据库中基于声明规则的转换的此信息：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>以XStream管理员身份连接到数据库。</span><div>
                           <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>运行以下查询：</span><div><pre class="oac_no_warn" dir="ltr">COLUMN RULE_OWNER HEADING'规则所有者'格式A15列RULE_NAME标题'规则名称'格式A15列DECLARATIVE_TYPE标题'声明|类型'格式A15列首选标题'优先'格式99999列STEP_NUMBER标题'步骤号'格式99999 SELECT RULE_OWNER，RULE_NAME， DECLARATIVE_TYPE，PRECEDENCE，STEP_NUMBER FROM DBA_XSTREAM_TRANSFORMATIONS TRANSERE_TYPE ='DECLARATIVE TRANSFORMATION';</pre></div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">声明性规则所有者规则名称类型优先级步骤编号--------------- --------------- ----------- ---- ---------- ----------- XSTRMADMIN JOBS26 RENAME表4 0 XSTRMADMIN员工22添加栏目3 0</pre><p>基于此输出， <code class="codeph">ADD</code> <code class="codeph">COLUMN</code>转换在<code class="codeph">RENAME</code> <code class="codeph">TABLE</code>转换之前执行，因为两个转换的步骤编号相同（零），并且<code class="codeph">ADD</code> <code class="codeph">COLUMN</code>转换具有较低的优先级。
                     </p>
                     <p><code class="codeph">DBA_XSTREAM_TRANSFORMATIONS</code>视图可以根据转换的声明类型显示有关每个转换的更多详细信息。在查询中包含<code class="codeph">WHERE</code>子句， <code class="codeph">DECLARATIVE_TYPE</code>等于转换类型，例如<code class="codeph">ADD</code> <code class="codeph">COLUMN</code> ， <code class="codeph">DELETE</code> <code class="codeph">COLUMN</code>等。
                     </p>
                     <p>例如，上一个查询列出了<code class="codeph">ADD</code> <code class="codeph">COLUMN</code>转换和<code class="codeph">RENAME</code> <code class="codeph">TABLE</code>转换。
                     </p>
                     <div class="infoboxnote" id="GUID-D5F1C262-30BC-48D0-ADA4-41438CBC4195__GUID-6ABDC759-ACF5-438B-80CF-8E653CC48A1E">
                        <p class="notep1">注意：</p>
                        <p>优先级和步骤编号仅适用于基于声明规则的转换。它们与子集规则转换或基于规则的自定义转换无关。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-1D3005BB-2F6C-430B-ACB8-208D460DB510">显示有关ADD COLUMN转换的信息</a><br>示例查询说明了如何在数据库中显示有关<code class="codeph">ADD</code> <code class="codeph">COLUMN</code>声明性基于规则的转换的详细信息。
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-out.html#GUID-BA44FA93-FC66-491B-A0CD-F70DAB517325">显示有关RENAME TABLE转换的信息</a><br>示例查询说明了如何在数据库中显示有关基于<code class="codeph">RENAME</code> <code class="codeph">TABLE</code>声明性规则的转换的详细信息。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D5F1C262-30BC-48D0-ADA4-41438CBC4195__GUID-EDA9C9FD-337E-408C-B2EE-1F05E927BF79">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="general-xstream-concepts.html#GUID-DBE2C046-8206-4AB0-B4D6-2AE0829F9D2F" title="在XStream中，基于规则的转换是当正规则集中的规则求值为TRUE时对逻辑更改记录（LCR）的任何修改。">基于规则的转换</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="managing-xstream-out.html#GUID-C8DBED5E-C980-4DC3-9131-1DE94D02513D" title="声明性的基于规则的转换涵盖行LCR的一组常见转换方案。">管理基于声明规则的转换</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-2572EB42-3601-4901-B567-11EA723B0F6E" title="您可以监视XStream Out配置。">监视XStream Out</a></p>
                     </div>
                  </div>
               </div>
               <a id="XSTRM72854"></a><div class="props_rev_3"><a id="GUID-1D3005BB-2F6C-430B-ACB8-208D460DB510" name="GUID-1D3005BB-2F6C-430B-ACB8-208D460DB510"></a><h4 id="XSTRM-GUID-1D3005BB-2F6C-430B-ACB8-208D460DB510" class="sect4"><span class="enumeration_section">6.7.1</span>显示有关ADD COLUMN转换的信息</h4>
                  <div>
                     <p>示例查询说明了如何在数据库中显示有关<code class="codeph">ADD</code> <code class="codeph">COLUMN</code>声明性基于规则的转换的详细信息。
                     </p>
                     <div class="section">
                        <p>您可以使用视图<code class="codeph">DBA_XTREAM_TRANSFORMATIONS</code>显示有关使用基于声明规则的转换过程<code class="codeph">DBMS_XSTREAM_ADM</code>添加到行LCR的列的信息。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1D3005BB-2F6C-430B-ACB8-208D460DB510__GUID-6B9E346F-63E5-40FB-803F-31C3435B13B0">要显示有关<code class="codeph">ADD</code> <code class="codeph">COLUMN</code>转换的信息：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN RULE_OWNER HEADING'规则|所有者'格式A10专栏RULE_NAME标题'规则|名称'格式A11专栏SCHEMA_NAME标题'架构|名称'格式A6专栏列表'标题'表'|名称'格式A9专栏COLUMN_NAME标题'专栏'名称'格式A10 COLUMN COLUMN_VALUE HEADING'列|值'格式A10列COLUMN_TYPE标题'列|键入'格式A8选择RULE_OWNER，RULE_NAME，SCHEMA_NAME，TABLE_NAME，COLUMN_NAME，ANYDATA.AccessDate（COLUMN_VALUE）“值”，COLUMN_TYPE来自DBA_XSTREAM_TRANSFORMATIONS，其中DECLARATIVE_TYPE ='ADD COLUMN “;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">规则规则架构表列列列所有者名称名称名称值类型---------- ----------- ------ --------- ---------- ---------- -------- XSTRMADMIN员工22人力资源管理人员第3个月SYS.DATE</pre><p>此输出显示有关<code class="codeph">ADD</code> <code class="codeph">COLUMN</code>声明性规则转换的以下信息：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>它在<code class="codeph">xstrmadmin</code>架构中的<code class="codeph">employees22</code>规则中指定。
                              </p>
                           </li>
                           <li>
                              <p>它向行LCR添加了一列，该列涉及<code class="codeph">hr</code>模式中的<code class="codeph">employees</code>表。
                              </p>
                           </li>
                           <li>
                              <p>添加列的列名是<code class="codeph">BIRTH_DATE</code> 。</p>
                           </li>
                           <li>
                              <p>添加列的值为<code class="codeph">NULL</code> 。该<code class="codeph">COLUMN_VALUE</code>在列<code class="codeph">ALL_XSTREAM_TRANSFORMATIONS</code>视图是类型<code class="codeph">ANYDATA</code> 。在此示例中，因为列类型为<code class="codeph">DATE</code> ，所以<code class="codeph">ANYDATA.AccessDate</code>成员函数用于显示值。使用适当的成员函数显示其他类型的值。
                              </p>
                           </li>
                           <li>
                              <p>添加列的列类型为<code class="codeph">DATE</code> 。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-D5F1C262-30BC-48D0-ADA4-41438CBC4195" title="示例查询说明了如何监视基于声明规则的转换。">监视基于声明规则的转换</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72855"></a><div class="props_rev_3"><a id="GUID-BA44FA93-FC66-491B-A0CD-F70DAB517325" name="GUID-BA44FA93-FC66-491B-A0CD-F70DAB517325"></a><h4 id="XSTRM-GUID-BA44FA93-FC66-491B-A0CD-F70DAB517325" class="sect4"><span class="enumeration_section">6.7.2</span>显示有关RENAME TABLE转换的信息</h4>
                  <div>
                     <p>示例查询说明了如何在数据库中显示有关基于<code class="codeph">RENAME</code> <code class="codeph">TABLE</code>声明性规则的转换的详细信息。
                     </p>
                     <div class="section">
                        <p>您可以使用视图<code class="codeph">DBA_XSTREAM_TRANSFORMATIONS</code>显示有关重命名行逻辑更改记录（LCR）中的表的基于声明规则的转换的信息。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BA44FA93-FC66-491B-A0CD-F70DAB517325__GUID-79599812-2D1D-46EB-936D-193A3E386805">要显示有关<code class="codeph">RENAME</code> <code class="codeph">TABLE</code>转换的信息：</p>
                        <ol>
                           <li>
                              <p>以XStream管理员身份连接到数据库。</p>
                              <p>有关在SQL * Plus中连接到数据库的信息，请参见“ <a href="../admin/index.html" target="_blank"><span class="italic">Oracle数据库管理员指南”</span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN RULE_OWNER HEADING'规则|所有者'格式A10列RULE_NAME标题'规则|名称'格式A10列FROM_SCHEMA_NAME标题'从|架构|名称'格式A10专栏TO_SCHEMA_NAME标题'到|架构|名称'格式A10列FROM_ABLE_NAME标题'来自|表格|名称'格式A15列TO_TABLE_NAME标题'到|表格|名称'格式A15选择RULE_OWNER，RULE_NAME，FROM_SCHEMA_NAME，TO_SCHEMA_NAME，FROM_TABLE_NAME，TO_TABLE_NAME来自DBA_XSTREAM_TRANSFORMATIONS，其中DECLARATIVE_TYPE ='RENAME TABLE';</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">从To到规则规则架构架构表表所有者名称名称名称名称---------- ---------- ---------- ---- ------ --------------- --------------- XSTRMADMIN JOBS26 HR HR HR.JOBS HR.ASSIGNMENTS</pre><p>此输出显示有关<code class="codeph">RENAME</code> <code class="codeph">TABLE</code>声明性规则转换的以下信息：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>它在<code class="codeph">xstrmadmin</code>架构中的<code class="codeph">jobs26</code>规则中指定。
                              </p>
                           </li>
                           <li>
                              <p>它重命名<code class="codeph">hr.jobs</code>表行的LCR到<code class="codeph">hr.assignments</code>表。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="monitoring-xstream-out.html#GUID-D5F1C262-30BC-48D0-ADA4-41438CBC4195" title="示例查询说明了如何监视基于声明规则的转换。">监视基于声明规则的转换</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03686.georaster-database-creation-management.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter describes how to perform important GeoRaster database creation and management operations."></meta>
      <meta name="description" content="This chapter describes how to perform important GeoRaster database creation and management operations."></meta>
      <title>GeoRaster数据库创建和管理</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="GeoRaster Developer&#39;s Guide "></meta>
      <meta property="og:description" content="This chapter describes how to perform important GeoRaster database creation and management operations."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="GeoRaster Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-georaster-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T11:48:45-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94793-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="georaster-datatypes.html" title="Previous" type="text/html"></link>
      <link rel="next" href="georaster-data-manipulation.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph GeoRaster Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="GEORS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="georaster-datatypes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="georaster-data-manipulation.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">GeoRaster开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">GeoRaster数据库创建和管理</li>
            </ol>
            <a id="GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" name="GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6"></a><a id="GEORS300"></a>
            
            <h2 id="GEORS-GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" class="sect2"><span class="enumeration_chapter">3</span> GeoRaster数据库创建和管理</h2>
         </header>
         <div class="ind">
            <div>
               <div><span>本章介绍如何执行重要的GeoRaster数据库创建和管理操作。</span> 构建和管理GeoRaster数据库的典型工作流程包括所描述的大部分或全部步骤。
               </div>
               <p>为将使用该功能的所有模式启用GeoRaster后，创建GeoRaster对象，加载数据并验证GeoRaster对象，您可以按任何顺序执行其余操作，具体取决于您的应用程序需求。您也可以跳过某些操作。</p>
               <p>某些操作可以使用SQL执行，某些操作必须使用PL / SQL块执行。在插入，更新，重新格式化，压缩，解压缩或删除GeoRaster对象的元数据或单元数据之后以及提交更改之前，必须<a href="georaster-data-manipulation.html#GUID-7AB60C10-E48E-4281-A03A-DA38FFA9F121">更新GeoRaster对象</a> （请参阅<a href="georaster-data-manipulation.html#GUID-7AB60C10-E48E-4281-A03A-DA38FFA9F121">在提交之前更新GeoRaster对象</a> ）。有关这些操作的一些示例，请参阅<a href="georaster-overview-and-concepts.html#GUID-0B5D0180-E897-4F30-9E65-65D827024A95" title="GeoRaster includes several PL/SQL and Java sample code files that show common operations.">GeoRaster PL / SQL和Java</a>演示文件中描述的<a href="georaster-overview-and-concepts.html#GUID-0B5D0180-E897-4F30-9E65-65D827024A95" title="GeoRaster包含几个显示常见操作的PL / SQL和Java示例代码文件。">演示文件</a>以及<a href="SDO_GEOR-reference.html#GUID-587A19B6-40FF-4F1C-AC13-556891070C30" title="SDO_GEOR包中包含用于创建，修改和检索有关GeoRaster对象的信息的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR包参考中</a>的示例。
               </p>
               <p>另请参阅<a href="georaster-data-manipulation.html#GUID-C56DB84D-5F94-432A-A9BB-E31CF4D1B7AA" title="本章介绍如何执行几个重要的GeoRaster数据查询和操作操作。">GeoRaster数据查询和操作中的操作</a> 。
               </p>
               <p>本书的其他章节涵盖了高级主题（ <a href="raster-algebra-and-analytics.html#GUID-C75744C9-FA04-4391-96F2-59EF2EA212FF" title="本章介绍了栅格代数语言（PL / SQL和代数表达式）和相关的栅格操作，包括条件查询，基于单元格的更新或编辑，数学运算，分类，动态统计分析，逻辑运算及其制图建模中的应用。">光栅代数和分析</a>以及<a href="image-processing-virtual-mosaic.html#GUID-EB60166B-6A52-4974-AF16-139CD6480EBC" title="本章介绍了高级图像处理功能，包括GCP地理配准，重投影，校正，正射校正，变形，图像缩放，拉伸，滤波，遮蔽，分割，NDVI计算，Tasseled Cap变换，图像追加，波段合并以及大规模高级图像镶嵌。">图像处理和虚拟马赛克</a> ），并提供了有关GeoRaster PL / SQL包的详细参考信息（ <a href="SDO_GEOR-reference.html#GUID-587A19B6-40FF-4F1C-AC13-556891070C30" title="SDO_GEOR包中包含用于创建，修改和检索有关GeoRaster对象的信息的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR包参考</a> ， <a href="SDO_GEOR_ADMIN-reference.html#GUID-6F9B00F3-56C1-4AF9-82A6-DFBAB1BB489E" title="SDO_GEOR_ADMIN包中包含与GeoRaster相关的管理操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_ADMIN包参考</a> ， <a href="SDO_GEOR_AGGR-referencer-ref.html#GUID-92406947-E079-487D-B0D0-3342ECC23E34" title="SDO_GEOR_AGGR包中包含用于在GeoRaster对象上执行高级大规模镶嵌，追加和虚拟镶嵌操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_AGGR包参考</a> ， <a href="sdo-geor-ra-ref.html#GUID-7E8EC42B-D663-49EF-B6D8-158A0EC10333" title="SDO_GEOR_RA包中包含用于与GeoRaster相关的栅格代数和分析操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_RA包参考</a> ，以及<a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a> ）。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-20119C51-6B07-4535-954E-7C55850F51F3">在架构级别启用GeoRaster</a><br></li>
                  <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-2162EF15-706C-43D2-B2BF-AAD219D8CB88">为GeoRaster用户添加数据文件和临时表空间</a><br></li>
                  <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-796CD9B4-27C6-49F5-B374-CB4316ABBE13">创建GeoRaster表和栅格数据表</a><br></li>
                  <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-A6E26D1A-490F-4D47-B86C-3E4AD707457D">创建新的GeoRaster对象</a><br></li>
                  <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-FC1E8154-B852-4D5D-A348-45E69785BF81">加载栅格数据</a><br></li>
                  <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-B79DA887-66D0-4961-A2EA-2052144F2B17">验证GeoRaster对象</a><br></li>
                  <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-5E9E62CA-A4CB-4298-9345-0351F60DECC0">地理配准GeoRaster对象</a><br></li>
                  <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-004D9CB3-916E-46C3-830B-FA2C88625B88">生成和设置空间范围</a><br></li>
                  <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-F31E1BAD-DE81-462E-8103-7A67CF7A8D0E">索引GeoRaster对象</a><br></li>
                  <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-C65D9E81-48AA-4569-B8E3-2A52263B2435">查看GeoRaster对象</a><br></li>
                  <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-D45DBC81-B4E5-4D06-B1F2-82339C6F52E2">导出GeoRaster对象</a><br></li>
                  <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-BBE8942E-96B3-4EBE-ADB9-AA3FC8FFF3DD">将GeoRaster与Workspace Manager和Label Security一起使用</a><br></li>
                  <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-CE77309C-2712-4EC0-B92B-B3A0A028EB32">维护GeoRaster对象使用的高效表空间</a><br></li>
                  <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-D3750F8A-54EB-4334-9F52-522BBEE82BD3">检查数据库中的GeoRaster表和对象</a><br></li>
                  <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-14CEA0C1-837D-4DD4-A255-80ECCC28615E">维护数据库中的GeoRaster对象和系统数据</a><br></li>
                  <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-0F77203F-486F-4160-A03C-8E7EA2594DB1">在数据库之间传输GeoRaster数据</a><br></li>
                  <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-51C68427-CA7F-4E85-90AD-780D770DF81F">将可传输表空间与GeoRaster数据一起使用</a><br></li>
               </ul>
            </div>
            
            <div class="props_rev_3"><a id="GUID-20119C51-6B07-4535-954E-7C55850F51F3" name="GUID-20119C51-6B07-4535-954E-7C55850F51F3"></a><h3 id="GEORS-GUID-20119C51-6B07-4535-954E-7C55850F51F3" class="sect3"><span class="enumeration_section">3.1</span>在架构级别启用GeoRaster</h3>
               <div>
                  <div class="section">
                     <p>必须为将使用GeoRaster功能的每个数据库架构启用GeoRaster。</p>
                     <p>默认情况下，在最初安装Oracle Spatial and Graph后，将禁用GeoRaster功能。GeoRaster只能在模式范围内启用（即不适用于整个数据库），并且必须为将使用GeoRaster功能的每个模式启用GeoRaster。</p>
                     <p>要启用GeoRaster，请对将启用GeoRaster <span class="italic">的每个架构</span>执行以下步骤：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>以该架构的用户身份连接到数据库。例如：</span><div><pre class="oac_no_warn" dir="ltr">CONNECT SCOTT / <span class="italic">&lt;password-for-scott&gt;</span></pre></div>
                     </li>
                     <li class="stepexpand"><span>输入以下语句：</span><div><pre class="oac_no_warn" dir="ltr">执行sdo_geor_admin.enableGeoRaster;</pre></div>
                     </li>
                     <li class="stepexpand"><span>通过检查以下语句是否返回<code class="codeph">TRUE</code>验证现在是否已启用GeoRaster：</span><div><pre class="oac_no_warn" dir="ltr">SELECT sdo_geor_admin.isGeoRasterEnabled FROM DUAL;</pre></div>
                     </li>
                     <li class="stepexpand"><span>确保此模式的用户具有CREATE TRIGGER权限（GeoRaster正常工作所需的权限）。如果用户没有CREATE TRIGGER权限（或者您不知道），请以DBA用户身份连接并向用户授予该权限。例如：</span><div><pre class="oac_no_warn" dir="ltr">CONNECT / AS SYSDBA GRANT创建触发器TO scott;</pre></div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>如果的GeoRaster表已创建并用数据填充，那么数据库升级后的GeoRaster自动为表的模式启用，您<span class="italic"><span class="bold">不需要</span></span>为架构重新启用的GeoRaster。（只需确保为用户授予CREATE TABLE权限。）
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" title="本章介绍如何执行重要的GeoRaster数据库创建和管理操作。">GeoRaster数据库创建和管理</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1375"></a><div class="props_rev_3"><a id="GUID-2162EF15-706C-43D2-B2BF-AAD219D8CB88" name="GUID-2162EF15-706C-43D2-B2BF-AAD219D8CB88"></a><h3 id="GEORS-GUID-2162EF15-706C-43D2-B2BF-AAD219D8CB88" class="sect3"><span class="enumeration_section">3.2</span>为GeoRaster用户添加数据文件和临时表空间</h3>
               <div>
                  <p>GeoRaster数据库通常非常大。出于存储和性能原因，数据库模式应使用一个或多个用户表空间来存储GeoRaster（避免使用系统表空间存储GeoRaster数据），并且应该适当地将数据文件添加到表空间。如果未使用Oracle自动存储管理（Oracle ASM）或bigfile表空间，则应为每个表空间创建许多数据文件，并尽可能将数据文件分发到不同的磁盘上。您还应该创建数据文件或更改现有数据文件，以便在数据库中需要更多空间时自动增加它们的大小。</p>
                  <p>GeoRaster表可以包含大量（可能几乎无限制）的GeoRaster对象。应使用栅格数据表（RDT）来包含有限数量的GeoRaster对象的栅格块，具体取决于栅格的大小。与GeoRaster表相比，RDT不应该变得太大，除非要应用分区。此外，可以在不同的表空间上创建RDT，以便将栅格块分发到不同的磁盘。（另请参阅<a href="georaster-database-creation-management.html#GUID-796CD9B4-27C6-49F5-B374-CB4316ABBE13">创建GeoRaster表和栅格数据表</a> 。）
                  </p>
                  <p>GeoRaster数据库可以使用临时表空间进行某些操作。当GeoRaster操作中涉及压缩时，特别是对于大规模镶嵌操作，需要一些临时空间来存储中间压缩或未压缩数据。如果GeoRaster用户没有临时表空间，则使用数据库系统临时表空间。这不是有效的，并且可能减慢镶嵌和其他操作。因此，您应始终为GeoRaster用户创建临时表空间。例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT system / <span class="italic">&lt;密码&gt;</span> ; CREATE TEMPORARY TABLESPACE geor_temp TEMPFILE'geor_temp_1.f'SIZE 1G AUTOEXTEND ON; ALTER USER <span class="italic">&lt;georaster_user&gt;</span> TEMPORARY TABLESPACE geor_temp;</pre><p>通常，所需的临时空间量是有限的。但是，对于大规模镶嵌，如果要压缩结果，则所需的临时空间等于结果的未压缩图像大小。因此，在为GeoRaster用户创建临时表空间时，请指定<code class="codeph">AUTOEXTEND ON</code> 。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" title="本章介绍如何执行重要的GeoRaster数据库创建和管理操作。">GeoRaster数据库创建和管理</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS986"></a><div class="props_rev_3"><a id="GUID-796CD9B4-27C6-49F5-B374-CB4316ABBE13" name="GUID-796CD9B4-27C6-49F5-B374-CB4316ABBE13"></a><h3 id="GEORS-GUID-796CD9B4-27C6-49F5-B374-CB4316ABBE13" class="sect3"><span class="enumeration_section">3.3</span>创建GeoRaster表和栅格数据表</h3>
               <div>
                  <p>在使用GeoRaster对象之前，必须创建一个GeoRaster表和一个或多个栅格数据表（如果它们尚不存在）。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-2524D3F1-8E8B-476B-839C-E8D518AEF7B8">创建GeoRaster表</a><br></li>
                     <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-9A353A7D-CD42-4692-AFD2-554353919431">创建栅格数据表</a><br></li>
                     <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-41CD2847-8823-479A-AC0F-A991B2F083A9">GeoRaster DML触发器</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" title="本章介绍如何执行重要的GeoRaster数据库创建和管理操作。">GeoRaster数据库创建和管理</a></p>
                     </div>
                  </div>
               </div>
               <a id="GEORS988"></a><a id="GEORS987"></a><div class="props_rev_3"><a id="GUID-2524D3F1-8E8B-476B-839C-E8D518AEF7B8" name="GUID-2524D3F1-8E8B-476B-839C-E8D518AEF7B8"></a><h4 id="GEORS-GUID-2524D3F1-8E8B-476B-839C-E8D518AEF7B8" class="sect4"><span class="enumeration_section">3.3.1</span>创建GeoRaster表</h4>
                  <div>
                     <p>GeoRaster表是包含至少一个SDO_GEORASTER类型的列的任何表。该列可以是另一个用户定义的对象类型的属性列。<a href="georaster-database-creation-management.html#GUID-2524D3F1-8E8B-476B-839C-E8D518AEF7B8__CHDEJAIF">例3-1</a>创建了一个名为CITY_IMAGES的GeoRaster表，其中包含一个名为IMAGE的列，用于存储GeoRaster对象。
                     </p>
                     <div class="example" id="GUID-2524D3F1-8E8B-476B-839C-E8D518AEF7B8__CHDEJAIF">
                        <p class="titleinexample">示例3-1为城市图像创建GeoRaster表</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE city_images（image_id NUMBER PRIMARY KEY，image_description VARCHAR2（50），image SDO_GEORASTER）;</pre><p>有关GeoRaster表的更多信息，请参阅<a href="georaster-overview-and-concepts.html#GUID-DB21CC32-06DC-4E18-A4FB-B15C389C1F72" title="GeoRaster优化元数据和数据的物理存储。">GeoRaster物理存储</a> 。
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-796CD9B4-27C6-49F5-B374-CB4316ABBE13">创建GeoRaster表和栅格数据表</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS991"></a><a id="GEORS1214"></a><a id="GEORS989"></a><div class="props_rev_3"><a id="GUID-9A353A7D-CD42-4692-AFD2-554353919431" name="GUID-9A353A7D-CD42-4692-AFD2-554353919431"></a><h4 id="GEORS-GUID-9A353A7D-CD42-4692-AFD2-554353919431" class="sect4"><span class="enumeration_section">3.3.2</span>创建栅格数据表</h4>
                  <div>
                     <p><a id="d16109e496" class="indexterm-anchor"></a><a id="d16109e500" class="indexterm-anchor"></a>创建GeoRaster表后，您应创建一个或多个栅格数据表（RDT）以与GeoRaster表中的对象一起使用。您可以将栅格数据表创建为对象表或关系表。在创建RDT时，您应该使用LOB存储格式SecureFiles LOB（SecureFiles）。与使用原始LOB存储范例BasicFiles LOBS（BasicFiles）相比，使用SecureFiles可显着提高GeoRaster操作的性能。
                     </p>
                     <p><a href="georaster-database-creation-management.html#GUID-9A353A7D-CD42-4692-AFD2-554353919431__CHDEEBGE">示例3-2</a>使用SecureFiles创建栅格数据表。RDT将用于存储CITY_IMAGES表或其他GeoRaster表中的一个或多个GeoRaster对象的所有栅格块。（在创建GeoRaster对象之前，不会创建GeoRaster对象和栅格数据表之间的关联，如<a href="georaster-database-creation-management.html#GUID-A6E26D1A-490F-4D47-B86C-3E4AD707457D">创建新的GeoRaster对象中所述</a> 。）
                     </p>
                     <div class="example" id="GUID-9A353A7D-CD42-4692-AFD2-554353919431__CHDEEBGE">
                        <p class="titleinexample">示例3-2使用SecureFiles创建栅格数据表</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE city_images_rdt OF SDO_RASTER（PRIMARY KEY（rasterID，pyramidLevel，bandBlockNumber，rowBlockNumber，columnBlockNumber））TABLESPACE im_tbs_2 LOB（rasterBlock）STORE AS SECUREFILE（CACHE）;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-9A353A7D-CD42-4692-AFD2-554353919431__CHDCEIAC">
                        <p class="titleinexample">示例3-3使用SecureFiles创建栅格数据表（关系）</p>
                        <p><a href="georaster-database-creation-management.html#GUID-9A353A7D-CD42-4692-AFD2-554353919431__CHDCEIAC">示例3-3</a>创建了一个与<a href="georaster-database-creation-management.html#GUID-9A353A7D-CD42-4692-AFD2-554353919431__CHDEEBGE">示例3-2中</a>名称相同的栅格数据表，也使用SecureFiles，但将其创建为关系表而不是对象表。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE city_images_rdt（rasterID NUMBER，pyramidLevel NUMBER，bandBlockNumber NUMBER，rowBlockNumber NUMBER，columnBlockNumber NUMBER，blockMBR SDO_GEOMETRY，rasterBlock BLOB，CONSTRAINT pkey PRIMARY KEY（rasterId，pyramidLevel，bandBlockNumber，rowBlockNumber，columnBlockNumber））LOB（rasterblock）STORE AS SECUREFILE（缓存）;</pre><p>栅格数据表的CREATE TABLE语句必须包含以下子句（包含在前面的示例中）：</p><pre class="oac_no_warn" dir="ltr">（PRIMARY KEY（rasterID，pyramidLevel，bandBlockNumber，rowBlockNumber，columnBlockNumber））</pre><p>此PRIMARY KEY子句在栅格数据表上创建B树索引，此索引对于最佳查询性能至关重要。</p>
                        <p>使用BasicFiles时，可以为LOB存储指定更大的CHUNK大小（16或32 KB）以提高性能。使用SecureFiles，无需指定CHUNK大小参数，并且几乎没有其他存储参数需要考虑。必须使用自动段空间管理选项在表空间中创建使用SecureFiles LOB的栅格数据表。有关使用Oracle SecureFiles和BasicFiles LOB的性能注意事项的信息，请参阅<a href="../adlob/index.html" target="_blank"><span class="italic">Oracle Database SecureFiles和Large Objects Developer's Guide</span></a> 。
                        </p>
                        <p>有关创建表的参考信息（包括指定LOB存储），请参阅“ <a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span class="italic">Oracle数据库SQL语言参考”中</span></a>有关CREATE TABLE语句的部分。
                        </p>
                        <p>有关创建栅格数据表时关键字和选项的更多信息，请参阅<a href="georaster-overview-and-concepts.html#GUID-2F832FEF-9937-4BF9-BB32-FBD056FCF017">栅格数据表</a> 。
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-796CD9B4-27C6-49F5-B374-CB4316ABBE13">创建GeoRaster表和栅格数据表</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS992"></a><div class="props_rev_3"><a id="GUID-41CD2847-8823-479A-AC0F-A991B2F083A9" name="GUID-41CD2847-8823-479A-AC0F-A991B2F083A9"></a><h4 id="GEORS-GUID-41CD2847-8823-479A-AC0F-A991B2F083A9" class="sect4"><span class="enumeration_section">3.3.3</span> GeoRaster DML触发器</h4>
                  <div>
                     <p>为确保内部GeoRaster表和数据结构的一致性和完整性，只要用户创建GeoRaster表（即具有至少一个GeoRaster列的表），GeoRaster就会自动为每个GeoRaster列创建唯一的DML触发器，但具有以下异常：如果使用ALTER TABLE语句添加一个或多个GeoRaster列，则必须调用<a href="SDO_GEOR_UTL-reference.html#GUID-CCA772B5-AA1E-4A53-B64C-67D8F6052CF2">SDO_GEOR_UTL.createDMLTrigger</a>过程以在每个添加的GeoRaster列上创建DML触发器。在某些情况下，例如数据库升级或数据迁移，您可以调用<a href="SDO_GEOR_UTL-reference.html#GUID-AD56A631-0111-44A2-8A94-4F326FCABA3B">SDO_GEOR_UTL.recreateDMLTriggers</a>过程在所有GeoRaster列上重新创建DML触发器。
                     </p>
                     <p>在影响GeoRaster对象的以下每个数据操作语言（DML）操作之后触发触发器：插入行，更新GeoRaster对象和删除行。</p>
                     <p>触发器触发时，GeoRaster会自动执行以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在插入操作之后，触发器将带有GeoRaster表名，GeoRaster列名，栅格数据表名和<code class="codeph">rasterID</code>值的行插入USER_SDO_GEOR_SYSDATA视图（在<a href="georaster-datatypes.html#GUID-657BA65F-E8FF-41D7-94B6-BA412993EC52" title="GeoRaster使用系统数据表（也称为sysdata表）来维护GeoRaster表与其相关栅格数据表之间的关系。">GeoRaster系统数据视图（xxx_SDO_GEOR_SYSDATA）中描述</a> ）。如果已存在相同的条目，则会引发异常。
                           </p>
                        </li>
                        <li>
                           <p>在更新操作之后，如果新的GeoRaster对象为null或为空，则触发器将删除旧的GeoRaster对象。如果旧的GeoRaster对象的USER_SDO_GEOR_SYSDATA视图中没有条目（即，如果旧的GeoRaster对象为null），则触发器会在该视图中为新的GeoRaster对象插入一行。如果旧的GeoRaster对象的USER_SDO_GEOR_SYSDATA视图中有条目，则触发器会更新信息以反映新的GeoRaster对象。</p>
                        </li>
                        <li>
                           <p>执行删除操作后，触发器会在其栅格数据表中删除GeoRaster对象的栅格数据块，并删除GeoRaster对象的USER_SDO_GEOR_SYSDATA视图中的行。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-796CD9B4-27C6-49F5-B374-CB4316ABBE13">创建GeoRaster表和栅格数据表</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="GEORS993"></a><div class="props_rev_3"><a id="GUID-A6E26D1A-490F-4D47-B86C-3E4AD707457D" name="GUID-A6E26D1A-490F-4D47-B86C-3E4AD707457D"></a><h3 id="GEORS-GUID-A6E26D1A-490F-4D47-B86C-3E4AD707457D" class="sect3"><span class="enumeration_section">3.4</span>创建新的GeoRaster对象</h3>
               <div>
                  <p>在将GeoRaster图像存储在GeoRaster表中之前，必须先创建GeoRaster对象并将其插入GeoRaster表，然后再开始处理。要创建新的GeoRaster对象，您有以下选择：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用<a href="SDO_GEOR-reference.html#GUID-524A6FD9-24D3-4CCA-A9D1-0B23819E4CA6">SDO_GEOR.init</a>函数初始化一个空的GeoRaster对象。
                        </p>
                     </li>
                     <li>
                        <p>使用<a href="SDO_GEOR-reference.html#GUID-7D203CE7-A6F0-4545-92B4-5E8ED3E007FE">SDO_GEOR.createBlank</a>函数创建一个空白的GeoRaster对象。
                        </p>
                     </li>
                  </ul>
                  <p>如果未正确创建对象（即，如果对象是原子null），则无法执行任何GeoRaster操作。<a href="SDO_GEOR-reference.html#GUID-524A6FD9-24D3-4CCA-A9D1-0B23819E4CA6">SDO_GEOR.init</a>和<a href="SDO_GEOR-reference.html#GUID-7D203CE7-A6F0-4545-92B4-5E8ED3E007FE">SDO_GEOR.createBlank</a>函数使用栅格数据表和栅格ID值初始化GeoRaster对象（如果尚未指定），GeoRaster DML触发器确保栅格数据表名称和栅格ID值对于当前是唯一的用户。
                  </p>
                  <p>如果新的GeoRaster对象将保存栅格单元数据（由另一个GeoRaster过程产生，例如<a href="SDO_GEOR-reference.html#GUID-07B69D26-239F-4C52-A2D2-E776B2BABF8B">SDO_GEOR.importFrom</a> ， <a href="SDO_GEOR-reference.html#GUID-827C49FA-3759-4EC3-8ED5-A9A4E623EEEB">SDO_GEOR.subset</a>或<a href="SDO_GEOR-reference.html#GUID-72D93D49-BF98-4AB9-8FEA-C386A1BE1071">SDO_GEOR.copy</a> ），并且如果此新GeoRaster对象的栅格数据表不存在，则必须首先创建栅格数据表。有关创建栅格数据表的信息（包括示例），请参阅<a href="georaster-database-creation-management.html#GUID-9A353A7D-CD42-4692-AFD2-554353919431">创建栅格数据表</a> 。
                  </p>
                  <p><a id="d16109e711" class="indexterm-anchor"></a><a id="d16109e713" class="indexterm-anchor"></a>为避免潜在的GeoRaster数据问题（其中一些<a href="georaster-database-creation-management.html#GUID-14CEA0C1-837D-4DD4-A255-80ECCC28615E">在数据库</a>中<a href="georaster-database-creation-management.html#GUID-14CEA0C1-837D-4DD4-A255-80ECCC28615E">维护GeoRaster对象和系统数据中</a>有所描述），必须在GeoRaster系统视图中<span class="bold">注册</span>初始化的GeoRaster对象，这在将GeoRaster对象插入GeoRaster时自动完成。表。这应该在您对GeoRaster对象执行任何其他操作之前完成。如果未注册源或目标GeoRaster对象，则需要操作栅格数据表的任何GeoRaster操作都会引发异常。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" title="本章介绍如何执行重要的GeoRaster数据库创建和管理操作。">GeoRaster数据库创建和管理</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS994"></a><div class="props_rev_3"><a id="GUID-FC1E8154-B852-4D5D-A348-45E69785BF81" name="GUID-FC1E8154-B852-4D5D-A348-45E69785BF81"></a><h3 id="GEORS-GUID-FC1E8154-B852-4D5D-A348-45E69785BF81" class="sect3"><span class="enumeration_section">3.5</span>加载栅格数据</h3>
               <div>
                  <p>要加载和导出图像或栅格数据，可以考虑使用第三方ETL工具（请参阅<a href="georaster-overview-and-concepts.html#GUID-4813E3BC-2DB8-4310-82E5-3ADC467C0253" title="Oracle Spatial includes tools for viewing, loading, and exporting GeoRaster data.">GeoRaster工具中</a>的注释<a href="georaster-overview-and-concepts.html#GUID-4813E3BC-2DB8-4310-82E5-3ADC467C0253" title="Oracle Spatial包括用于查看，加载和导出GeoRaster数据的工具。">：Viewer_ Loader_ Exporter</a> ）。例如，您可以使用gdal_translate命令行和其他GDAL实用程序（ <a href="http://www.gdal.org/gdal_utilities.html" target="_blank">http://www.gdal.org/gdal_utilities.html</a> ），它通过Oracle Spatial GeoRaster驱动程序完全支持GeoRaster。
                  </p>
                  <p>您还可以使用GeoRaster中的功能来加载栅格数据。使用GeoRaster，您有以下选项：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用基于GDAL的ETL工具进行并发批量加载和导出。在<a href="georaster-overview-and-concepts.html#GUID-6E9B9872-7222-45AD-8FE1-CAFF596D3955">基于GDAL的ETL向导中</a>描述了此工具， <a href="georaster-overview-and-concepts.html#GUID-6E9B9872-7222-45AD-8FE1-CAFF596D3955">用于并发批量加载和导出</a> 。
                        </p>
                     </li>
                     <li>
                        <p>在PL / SQL中调用<a href="SDO_GEOR_GDAL-reference.html#GUID-FD266345-B16B-41EA-8567-07265C15EF61">SDO_GEOR_GDAL.translate</a>过程以将图像加载到GeoRaster对象中。
                        </p>
                     </li>
                     <li>
                        <p>在PL / SQL中，调用<a href="SDO_GEOR-reference.html#GUID-07B69D26-239F-4C52-A2D2-E776B2BABF8B">SDO_GEOR.importFrom</a>过程将图像加载到GeoRaster对象中。
                        </p>
                     </li>
                     <li>
                        <p>使用基于JAI的Viewer <a href="georaster-overview-and-concepts.html#GUID-8FE18098-EE55-490D-81C9-7DE1DCFDDB34">-Loader_和Exporter</a>中描述的基于GeoRaster JAI的加载器工具或查看器工具。
                        </p>
                     </li>
                  </ul>
                  <p>使用最后两个选项（ <a href="SDO_GEOR-reference.html#GUID-07B69D26-239F-4C52-A2D2-E776B2BABF8B">SDO_GEOR.importFrom</a>和基于JAI的工具），您可以执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>压缩栅格数据并将数据存储在JPEG压缩或DEFLATE压缩的GeoRaster对象中。</p>
                     </li>
                     <li>
                        <p>将ESRI世界文件或Digital Globe RPC文本文件（.rpb）加载到现有GeoRaster对象中，并对栅格数据进行地理配准，而无需重新加载。您还可以使用world文件指定SRID并生成数据的空间范围。</p>
                     </li>
                     <li>
                        <p>使用地理配准加载带有或不带栅格数据的GeoTIFF格式文件。要加载和导出GeoTIFF图像的地理配准信息，需要GeoTIFF库。有关说明，请参阅<a href="georaster-database-creation-management.html#GUID-5E9E62CA-A4CB-4298-9345-0351F60DECC0">Georeferencing GeoRaster对象</a> 。
                        </p>
                     </li>
                  </ul>
                  <p>将栅格数据加载到GeoRaster对象后，必须通过调用<a href="SDO_GEOR-reference.html#GUID-72D06328-134D-473E-8279-F0C3B6ADEE34">SDO_GEOR.validateGeoRaster</a>函数确保该对象有效，如<a href="georaster-database-creation-management.html#GUID-B79DA887-66D0-4961-A2EA-2052144F2B17">验证GeoRaster对象中所述</a> 。
                  </p>
                  <p>因为ESRI世界文件或。 <code class="codeph">rpb</code>文件不包含坐标系信息，可以为加载操作指定坐标参考系统的SRID值。但是，如果未指定SRID，则加载程序将GeoRaster对象的模型SRID设置为0（零），这意味着GeoRaster对象无效，因此必须使用<a href="SDO_GEOR-reference.html#GUID-8CE5E5B6-F109-444F-9CE2-91580CD085D3">SDO_GEOR.setModelSRID</a>过程指定此对象的有效模型空间。如果您还不知道模型空间的坐标系， <a id="d16109e851" class="indexterm-anchor"></a><a id="d16109e853" class="indexterm-anchor"></a>您可以将SRID值指定为999999，这意味着坐标参考系统未知。（具体来说，SRID 999999与名为<code class="codeph">unknown CRS</code>的坐标参考系统相关联。）稍后，当您知道模型空间的实际坐标参照系时，可以相应地设置SRID值。
                  </p>
                  <p>有关<code class="codeph">unknown CRS</code> （SRID 999999）坐标参考系统的更多信息，请参阅<a href="../spatl/coordinate-systems-concepts.html#SPATL734" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide</span></a> 。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-FFB6CD25-B4AC-4746-BAC5-E9ED82D763F0">加载阻塞和最佳填充</a><br></li>
                     <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-A60C8EB8-E7BF-41D6-B674-5DD5EF383426">在不解压缩的情况下加载JPEG和JPEG 2000图像</a><br></li>
                     <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-7FBC6EB0-D4B8-43F8-A6F5-11C4319632AB">加载前重新格式化源光栅</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" title="本章介绍如何执行重要的GeoRaster数据库创建和管理操作。">GeoRaster数据库创建和管理</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-FFB6CD25-B4AC-4746-BAC5-E9ED82D763F0" name="GUID-FFB6CD25-B4AC-4746-BAC5-E9ED82D763F0"></a><h4 id="GEORS-GUID-FFB6CD25-B4AC-4746-BAC5-E9ED82D763F0" class="sect4"><span class="enumeration_section">3.5.1</span>使用阻塞和最佳填充加载</h4>
                  <div>
                     <p>除非您要加载JPEG或JPEG2000图像并将其存储而不进行任何更改，否则在将图像或光栅文件加载到GeoRaster对象时，请始终考虑并应用适当的数据阻止，因为文件格式可能具有非常不同的阻止方案。通常，阻塞大小应为512x512或更大。阻塞大小没有绝对规则，但栅格越大，您可能使用的阻塞大小越大。对于常规栅格，512x512到2048x2048是合适的。对于非常小的图像（小于1024x1024x3），没有阻塞可能是一个不错的选择。避免阻止太小（例如64x64和128x128）或太大的大小，并避免极端阻塞大小，例如每块0.5（一半），1或8行像素。通常，块的矩形形状应该是正方形或接近正方形。对于不同的应用程序，您可以调整阻塞以平衡高效存储并获得最佳性能。</p>
                     <p>您还应始终在加载期间应用最佳填充。换句话说，除了指定<code class="codeph">blocksize</code>之外， <code class="codeph">blocking=OPTIMALPADDING</code>指定<code class="codeph">blocking=OPTIMALPADDING</code> 。GeoRaster将填充应用于右列和底行块，使其与其他块的大小相同。如果块大小不是特定栅格的最佳值，则默认的结果填充会浪费一些存储空间。当您指定<code class="codeph">blocking=OPTIMALPADDING</code> ，所有GeoRaster过程和ETL工具都会自动调整GeoRaster维度大小数组，以便最适合减少GeoRaster对象存储中的填充量。始终围绕用户指定的值进行调整。请参阅<a href="SDO_GEOR_UTL-reference.html#GUID-4F642F02-94B1-40FA-8C92-E916031293D1">SDO_GEOR_UTL.calcOptimizedBlockSize</a>过程的使用说明中表中的<code class="codeph">blocking</code>关键字的说明。
                     </p>
                     <p>有关如何在使用GDAL命令行时应用最佳填充，请参阅以下示例：</p><pre class="pre codeblock"><code>gdal_translate -of georaster /images/image_1.tif \ georaster：georaster / georaster @ my_db，image_table，raster \ -co“insert =（id，label，raster）values（1，'image_1'，sdo_geor.init（'rdt_table' ，1）“\ -co blockxsize = 512 \ -co blockysize = 512 \ -co blockbsize = 3 \ -co blocking = optimalpadding \ -co interleave = BIP</code></pre><p>有关如何在使用<a href="SDO_GEOR-reference.html#GUID-07B69D26-239F-4C52-A2D2-E776B2BABF8B">SDO_GEOR.importFrom</a>过程时应用最佳填充，请参阅该过程的参考主题中的示例。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-FC1E8154-B852-4D5D-A348-45E69785BF81">加载栅格数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-A60C8EB8-E7BF-41D6-B674-5DD5EF383426" name="GUID-A60C8EB8-E7BF-41D6-B674-5DD5EF383426"></a><h4 id="GEORS-GUID-A60C8EB8-E7BF-41D6-B674-5DD5EF383426" class="sect4"><span class="enumeration_section">3.5.2在不解</span>压缩的情况下加载JPEG和JPEG 2000图像</h4>
                  <div>
                     <p>GeoRaster支持JPEG压缩，其中GeoRaster块存储为JPEG文件。GeoRaster还支持JPEG 2000压缩，其中GeoRaster将单个块存储为JPEG 2000文件。在某些特殊情况下，您可以在<span class="italic">不进行</span>解压缩和重新压缩的情况下加载和导出JPEG或JPEG 2000图像，从而显着提高性能。
                     </p>
                     <p>对于JPEG，如果图像文件是JPEG文件，则可以使用基于JAI的GeoRaster加载程序直接加载图像而不进行解压缩和重新压缩，GeoRaster对象的压缩类型指定为JPEG-F并且没有为GeoRaster对象指定阻塞存储（即GeoRaster对象只有一个块）。</p>
                     <p>对于JPEG 2000，您可以使用GDAL或基于GDAL的GeoRaster ETL工具直接加载图像而无需解压缩和重新压缩 - 如果图像文件是JPEG2000文件，并且如果没有使用的参数需要更改JPEG的内部结构2000档。例如，以下脚本直接加载JPEG 2000文件而不进行解压缩。</p><pre class="pre codeblock"><code>gdal_translate -of georaster /images/image_3.jp2 \ georaster：georaster / georaster @ my_db，image_table，raster \ -co“insert =（id，label，raster）values（3，'image_3'，sdo_geor.init（'rdt_table'） ，3）“\ -cocress = jp2-f</code></pre><p>但是，如果使用的任何参数需要更改JPEG 2000数据的内部结构，则无法直接加载。以下示例需要解压缩和再压缩，从而导致加载时间的显着增加。</p><pre class="pre codeblock"><code>gdal_translate -of georaster /images/image_4.jp2 \ georaster：georaster / georaster @ my_db，image_table，raster \ -co“insert =（id，label，raster）values（4，'image_4'，sdo_geor.init（'rdt_table'） ，4）“\ -co compress = jp2-f \ -co blockxsize = 1024 \ -co blockysize = 1024 \ -srcwin 100 200 1000 1000 \ -outsize 50％50％</code></pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-FC1E8154-B852-4D5D-A348-45E69785BF81">加载栅格数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS995"></a><div class="props_rev_3"><a id="GUID-7FBC6EB0-D4B8-43F8-A6F5-11C4319632AB" name="GUID-7FBC6EB0-D4B8-43F8-A6F5-11C4319632AB"></a><h4 id="GEORS-GUID-7FBC6EB0-D4B8-43F8-A6F5-11C4319632AB" class="sect4"><span class="enumeration_section">3.5.3</span>加载前重新格式化源光栅</h4>
                  <div>
                     <p>基于GeoRaster JAI的加载程序不支持BSQ交错中的源光栅文件，如果文件太大，它可能会引发“内存不足”错误，并且可能有其他限制。为避免此类问题，您可以重新格式化和重新锁定源文件，以便可以正确加载它们。但是，建议您使用基于GDAL的ETL加载程序，该加载程序通常没有此类问题和要求。</p>
                     <p>例如，一种方法是使用<a href="http://www.gdal.org" target="_blank"><code class="codeph">http://www.gdal.org</code></a>提供的开源光栅转换库GDAL重新格式化或重新格式化图像或光栅文件，以便JAI（Java Advanced Imaging）可以处理它。GDAL本身支持GeoRaster，可以直接导入和导出GeoRaster对象，也可以处理GeoRaster对象;有关更多信息，请参阅<a href="http://www.oracle.com/technetwork/database/enterprise-edition/getting-started-with-gdal-133874.pdf" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/database/enterprise-edition/getting-started-with-gdal-133874.pdf</code></a> 。您还可以使用GDAL生成TFW文件。例如，使用GDAL命令行或（用于批量转换）shell执行以下两个命令（单行上的每个命令）：</p><pre class="oac_no_warn" dir="ltr">gdal_translate -of GTiff -co“TFW = YES”-co“INTERLEAVE = PIXEL”-co“TILED = YES”D：\ my_image.tif D：\ my_new_image.tif gdal_translate -of GTiff -co“TILED = YES”-co “TFW = YES”D：\ my_image.ecw D：\ my_new_image.tif</pre><p>在前面的示例中，第一个命令生成TFW文件，将交错更改为BIP（由JAI支持），并将图像重新锁定为256x256。第二个命令将ECW转换为TIFF，生成TFW，并重新锁定图像。</p>
                     <p>然后使用GeoRaster加载器工具（在<a href="georaster-overview-and-concepts.html#GUID-4813E3BC-2DB8-4310-82E5-3ADC467C0253" title="Oracle Spatial includes tools for viewing, loading, and exporting GeoRaster data.">GeoRaster工具中</a>描述<a href="georaster-overview-and-concepts.html#GUID-4813E3BC-2DB8-4310-82E5-3ADC467C0253" title="Oracle Spatial包括用于查看，加载和导出GeoRaster数据的工具。">：Viewer_ Loader_ Exporter</a> ），指定重新锁定，以便可以成功加载图像，然后有效地从数据库中检索图像，如下例所示（单个命令）：</p><pre class="oac_no_warn" dir="ltr">java -Xmx1024m oracle.spatial.georaster.tools。GeoRasterLoader mymachine db11 6521 georaster georaster thin 32 T globe image“blocking = true，blocksize =（512,512,3）”“D：my_image.tif，2，RDT_15，D：\ my_image.tfw，82213”</pre><p>如果在调用<a href="SDO_GEOR-reference.html#GUID-07B69D26-239F-4C52-A2D2-E776B2BABF8B">SDO_GEOR.importFrom</a>以加载非常大的图像时收到“内存不足”错误，请尝试使用不同的块大小参数加载图像，或者在加载前使用GDAL将图像重新锁定为较小的内部图块大小。对于非常大的图像，您还可以使用GDAL将图像平铺为多个较小的图像文件，其大小可以是JAI可以处理的，或者使用GDAL直接加载和导出图像。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-FC1E8154-B852-4D5D-A348-45E69785BF81">加载栅格数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="GEORS996"></a><div class="props_rev_3"><a id="GUID-B79DA887-66D0-4961-A2EA-2052144F2B17" name="GUID-B79DA887-66D0-4961-A2EA-2052144F2B17"></a><h3 id="GEORS-GUID-B79DA887-66D0-4961-A2EA-2052144F2B17" class="sect3"><span class="enumeration_section">3.6</span>验证GeoRaster对象</h3>
               <div>
                  <p>在使用GeoRaster对象之前或手动编辑GeoRaster对象的栅格数据和元数据之后，应确保该对象有效。验证GeoRaster对象包括检查GeoRaster对象的注册，检查元数据和栅格单元数据，以及确保元数据和数据一致。例如，验证检查栅格类型，尺寸信息和单元块的实际大小，并执行其他检查。</p>
                  <p>如果您使用了GeoRaster <a href="georaster-overview-and-concepts.html#GUID-4813E3BC-2DB8-4310-82E5-3ADC467C0253" title="Oracle Spatial包括用于查看，加载和导出GeoRaster数据的工具。">Tools：Viewer_ Loader_ Exporter中</a>描述的GeoRaster加载程序工具，则在加载操作期间会验证GeoRaster对象。
                  </p>
                  <p>GeoRaster提供以下验证子程序：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="SDO_GEOR-reference.html#GUID-72D06328-134D-473E-8279-F0C3B6ADEE34">SDO_GEOR.validateGeoRaster</a>验证GeoRaster对象，包括单元格数据和元数据。如果对象有效，则返回<code class="codeph">TRUE</code> ;否则，返回下列之一：指示Oracle错误代码，为什么GeoRaster对象是无效的， <code class="codeph">FALSE</code>如果验证未知原因而失败，或<code class="codeph">NULL</code>如果GeoRaster对象为空。创建GeoRaster对象后，应始终使用此功能。
                        </p>
                     </li>
                     <li>
                        <p><a href="SDO_GEOR-reference.html#GUID-64122DD0-D412-49A9-A73B-7D550CCCA78E">SDO_GEOR.schemaValidate</a>根据GeoRaster XML架构验证元数据。如果<a href="SDO_GEOR-reference.html#GUID-72D06328-134D-473E-8279-F0C3B6ADEE34">SDO_GEOR.validateGeoRaster</a>函数返回错误代码13454，则可以使用此函数来定位错误。<a href="SDO_GEOR-reference.html#GUID-64122DD0-D412-49A9-A73B-7D550CCCA78E">SDO_GEOR.schemaValidate</a>和<a href="SDO_GEOR-reference.html#GUID-72D06328-134D-473E-8279-F0C3B6ADEE34">SDO_GEOR.validateGeoRaster</a>函数不验证空间范围几何。
                        </p>
                     </li>
                     <li>
                        <p><a href="SDO_GEOR-reference.html#GUID-1AC1C8C0-9D2D-45F5-9D09-EE802DEDDD76">SDO_GEOR.validateBlockMBR</a>验证与栅格数据表中存储的每个栅格块关联的<code class="codeph">blockMBR</code>几何。如果存在任何无效的<code class="codeph">blockMBR</code>几何，请调用<a href="SDO_GEOR-reference.html#GUID-3D259BE8-962A-457D-96AB-70282BD75B2C">SDO_GEOR.generateBlockMBR</a>过程以重新生成它们。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" title="本章介绍如何执行重要的GeoRaster数据库创建和管理操作。">GeoRaster数据库创建和管理</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS997"></a><div class="props_rev_3"><a id="GUID-5E9E62CA-A4CB-4298-9345-0351F60DECC0" name="GUID-5E9E62CA-A4CB-4298-9345-0351F60DECC0"></a><h3 id="GEORS-GUID-5E9E62CA-A4CB-4298-9345-0351F60DECC0" class="sect3"><span class="enumeration_section">3.7</span>地理配准GeoRaster对象</h3>
               <div>
                  <p>如地理参考中所解释的， <a href="georaster-overview-and-concepts.html#GUID-E32BF03B-DB83-422E-B7D0-C0F3073890F9" title="GeoRaster空间参考系统（SRS）是GeoRaster对象的元数据组件，包括与地理配准相关的信息。地理配准建立了GeoRaster数据的单元坐标与真实世界地面坐标（或某些本地坐标）之间的关系。地理配准将地面坐标分配给单元格坐标，将单元格坐标分配给地面坐标。">地理</a>配准建立了GeoRaster数据的单元坐标与真实世界地面坐标（或某些本地坐标）之间的关系。如果需要对GeoRaster对象进行地理配准，可以使用以下方法：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果原始图像已经过地理配准，并且地理配准信息存储在ESRI世界文件中。包含RPC系数的<code class="codeph">rpb</code>文件，您可以使用<a href="SDO_GEOR-reference.html#GUID-07B69D26-239F-4C52-A2D2-E776B2BABF8B">SDO_GEOR.importFrom</a>过程加载ESRI世界文件或。来自文件或CLOB对象的<code class="codeph">rpb</code>文件，以及图像数据本身（以FILE或BLOB格式）。您还可以使用GeoRaster客户端加载器工具（在<a href="georaster-overview-and-concepts.html#GUID-4813E3BC-2DB8-4310-82E5-3ADC467C0253" title="Oracle Spatial includes tools for viewing, loading, and exporting GeoRaster data.">GeoRaster工具中</a>描述<a href="georaster-overview-and-concepts.html#GUID-4813E3BC-2DB8-4310-82E5-3ADC467C0253" title="Oracle Spatial包括用于查看，加载和导出GeoRaster数据的工具。">：Viewer_ Loader_ Exporter</a> ）来加载ESRI世界文件或。来自文件的<code class="codeph">rpb</code>文件以及图像文件本身。
                        </p>
                        <p>因为ESRI世界文件或。 <code class="codeph">rpb</code>文件未指定模型坐标系，您可以使用Oracle SRID以下列任一方式设置地理参考GeoRaster对象的模型空间：将SRID与世界文件一起指定为<a href="SDO_GEOR-reference.html#GUID-07B69D26-239F-4C52-A2D2-E776B2BABF8B">SDO_GEOR.importFrom</a>过程的参数或GeoRaster客户端加载器（在<a href="georaster-overview-and-concepts.html#GUID-4813E3BC-2DB8-4310-82E5-3ADC467C0253" title="Oracle Spatial包括用于查看，加载和导出GeoRaster数据的工具。">GeoRaster Tools：Viewer_ Loader_ Exporter中描述</a> ）;或者，在加载世界文件后，调用<a href="SDO_GEOR-reference.html#GUID-8CE5E5B6-F109-444F-9CE2-91580CD085D3">SDO_GEOR.setModelSRID</a>过程。您还可以调用<a href="SDO_GEOR-reference.html#GUID-8CE5E5B6-F109-444F-9CE2-91580CD085D3">SDO_GEOR.setModelSRID</a>过程来更改地理配准的GeoRaster对象的模型空间。
                        </p>
                     </li>
                     <li>
                        <p>如果原始图像是地理配准的GeoTIFF图像，则可以使用<a href="SDO_GEOR-reference.html#GUID-07B69D26-239F-4C52-A2D2-E776B2BABF8B">SDO_GEOR.importFrom</a>过程通过将<code class="codeph">GEOTIFF</code>指定为输入格式来加载具有地理配<code class="codeph">GEOTIFF</code>的图像。要仅将没有栅格图像数据的GeoTIFF图像中的地理配准信息加载到现有GeoRaster对象中，请添加<code class="codeph">raster=false</code>存储参数。如果GeoTIFF配置值与Oracle Spatial and Graph识别的任何SRID不匹配，则可以使用<code class="codeph">srid</code>存储参数指定备份SRID。
                        </p>
                        <p>GeoTIFF <code class="codeph">PixelIsArea</code>栅格空间相当于GeoRaster基于左上角的单元坐标系。导出到GeoTiff始终位于<code class="codeph">PixelIsArea</code>栅格空间中，如果GeoRaster对象位于基于中心的单元坐标系中，则会对仿射变换进行半像素调整。从GeoTIFF导入始终是基于GeoRaster中心的单元坐标系，如果在<code class="codeph">PixelIsArea</code>栅格空间中指定了GeoTIFF文件，则会对仿射变换进行半像素调整。
                        </p>
                        <p>您还可以使用GeoRaster客户端加载器工具（在<a href="georaster-overview-and-concepts.html#GUID-4813E3BC-2DB8-4310-82E5-3ADC467C0253" title="Oracle Spatial includes tools for viewing, loading, and exporting GeoRaster data.">GeoRaster工具：Viewer_ Loader_ Exporter中描述</a> ）使用存储参数<code class="codeph">geotiff=true</code>加载具有地理<a href="georaster-overview-and-concepts.html#GUID-4813E3BC-2DB8-4310-82E5-3ADC467C0253" title="Oracle Spatial包括用于查看，加载和导出GeoRaster数据的工具。">配准的</a> GeoTIFF图像。如果省略此参数或指定<code class="codeph">geotiff=false</code> ，则图像将作为简单的TIFF图像加载，而不进行地理配准。<code class="codeph">raster</code>和<code class="codeph">srid</code>存储参数也适用于客户端加载器工具。
                        </p>
                        <p>要使用GeoRaster客户端工具加载或导出GeoTIFF图像，请将以下GeoTIFF库添加到CLASSPATH定义中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">xtiff-jai.jar</code> （可从SourceForge Extensible-TIFF-JAI组获得）</p>
                           </li>
                           <li>
                              <p><code class="codeph">geotiff-jai.jar</code> （可从SourceForge GeoTIFF-JAI组获得）</p>
                           </li>
                        </ul>
                        <p><a id="d16109e1347" class="indexterm-anchor"></a><a id="d16109e1349" class="indexterm-anchor"></a>要使用<a href="SDO_GEOR-reference.html#GUID-07B69D26-239F-4C52-A2D2-E776B2BABF8B">SDO_GEOR.importFrom</a>或<a href="SDO_GEOR-reference.html#GUID-6261233E-5E90-479C-97FD-8125C28EC838">SDO_GEOR.exportTo</a>过程加载或导出GeoTIFF图像，请通过以SYSTEM用户身份连接到数据库将这些库加载到MDSYS模式中，根据需要编辑<span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <code class="codeph">/md/admin/sdoldgtf.sql</code>以反映<code class="codeph">xtiff-jai.jar</code>和<code class="codeph">geotiff-jai.jar</code>文件的路径，并运行<code class="codeph">sdoldgtf.sql</code> SQL * Plus脚本。作为使用<code class="codeph">sdoldgtf.sql</code>脚本的替代方法，您可以输入以下命令：</p><pre class="oac_no_warn" dir="ltr">loadjava -user system / <span class="italic">password @ database</span> -resolve -force -synonym -schema MDSYS -grant PUBLIC xtiff-jai.jar loadjava -user system / <span class="italic">password @ database</span> -resolve -force -synonym -schema MDSYS -grant PUBLIC geotiff-jai.jar</pre><p>如果数据库降级到Oracle Database <span class="italic">11g</span>之前的版本，则应根据<span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <code class="codeph">/md/admin/sdormgtf.sql</code>的脚本卸载这些库，根据需要对其进行编辑以反映<code class="codeph">xtiff-jai.jar</code>的路径和<code class="codeph">geotiff-jai.jar</code>文件，并运行<code class="codeph">sdormgtf.sql</code>脚本或输入以下命令：</p><pre class="oac_no_warn" dir="ltr">dropjava -user system / <span class="italic">password @ database</span> -resolve -force -synonym -schema MDSYS -grant PUBLIC xtiff-jai.jar dropjava -user system / <span class="italic">password @ database</span> -resolve -force -synonym -schema MDSYS -grant PUBLIC geotiff-jai.jar</pre></li>
                     <li>
                        <p>您可以使用<a href="SDO_GEOR-reference.html#GUID-0406AB05-BA9B-4331-8613-B480A9F12C09">SDO_GEOR.setSRS</a>过程通过直接访问GeoRaster SRS元数据来添加，修改和删除地理配准信息。例如，您可以创建SDO_GEOR_SRS对象并分配系数和相关的地理配准信息，然后调用<a href="SDO_GEOR-reference.html#GUID-0406AB05-BA9B-4331-8613-B480A9F12C09">SDO_GEOR.setSRS</a>过程以添加或更新任何GeoRaster对象的空间参考信息。您可以使用<a href="SDO_GEOR-reference.html#GUID-0406AB05-BA9B-4331-8613-B480A9F12C09">SDO_GEOR.setSRS</a>过程为所有支持的功能拟合地理配准模型设置空间参考信息。从现有DLT模型和现有RPC模型设置SRS信息的示例包含在<a href="SDO_GEOR-reference.html#GUID-0406AB05-BA9B-4331-8613-B480A9F12C09">SDO_GEOR.setSRS</a>过程的参考部分中。
                        </p>
                        <p>如果您知道一个GeoRaster对象与另一个GeoRaster对象具有相同的SRS信息，则可以调用<a href="SDO_GEOR-reference.html#GUID-FBC8D0DC-4C02-484B-8D99-F34A4C157EA7">SDO_GEOR.getSRS</a>函数从此GeoRaster对象检索SDO_GEOR_SRS对象，然后调用<a href="SDO_GEOR-reference.html#GUID-0406AB05-BA9B-4331-8613-B480A9F12C09">SDO_GEOR.setSRS</a>过程以对第一个GeoRaster对象进行地理配准。
                        </p>
                     </li>
                     <li>
                        <p>如果可以使用仿射变换对GeoRaster对象进行地理配准，则可以调用<a href="SDO_GEOR-reference.html#GUID-BFA20035-A3A9-41C6-A7B0-DFB014C73F34">SDO_GEOR.georeference</a>过程直接对GeoRaster对象进行地理配准。如<a href="SDO_GEOR-reference.html#GUID-BFA20035-A3A9-41C6-A7B0-DFB014C73F34">SDO_GEOR.georeference</a>的参考信息中所述，该过程采用系数<code class="codeph">A</code> ， <code class="codeph">B</code> ， <code class="codeph">C</code> ， <code class="codeph">D</code> ， <code class="codeph">E</code> ， <code class="codeph">F</code>等信息，将它们转换为系数<code class="codeph">a</code> ， <code class="codeph">b</code> ， <code class="codeph">c</code> ， <code class="codeph">d</code> ， <code class="codeph">e</code> ， <code class="codeph">f</code>和将它们存储在GeoRaster对象的空间参考信息中。如果原始栅格数据被纠正并且其原点（左上角）的模型坐标是（x0，y0）并且其空间分辨率或比例是<code class="codeph">s</code> ，则以下情况为真：A = s，B = 0， C = x0，D = 0，E = -s，F = y0。
                        </p>
                     </li>
                     <li>
                        <p>如果您有地面控制点（GCP）或想要自己收集GCP，您可以调用<a href="SDO_GEOR-reference.html#GUID-BFA20035-A3A9-41C6-A7B0-DFB014C73F34">SDO_GEOR.georeference</a>函数对GeoRaster对象进行地理配准。有关更多信息，请参阅<a href="image-processing-virtual-mosaic.html#GUID-AA625889-BB88-4633-BECD-E76FAE05EE01" title="除了空间参考功能外，还提供了高级地理配准功能。">高级地理配准</a> 。
                        </p>
                     </li>
                  </ul>
                  <p><a id="d16109e1513" class="indexterm-anchor"></a><a id="d16109e1517" class="indexterm-anchor"></a>基于地理配准的GeoRaster对象的SRS信息，转换GeoRaster坐标信息意味着找到与特定单元格（栅格）坐标相关联的模型（地面）坐标，反之亦然。也就是说，您可以执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>给定特定的单元格坐标，您可以使用<a href="SDO_GEOR-reference.html#GUID-9BA7B6F8-B6AE-4D4B-A264-F4977FB998C8">SDO_GEOR.getModelCoordinate</a>函数找到关联的模型空间坐标。例如，如果您识别图像中的某个点，则可以找到与该点关联的经度和纬度坐标。
                        </p>
                     </li>
                     <li>
                        <p>给定模型空间坐标，您可以使用<a href="SDO_GEOR-reference.html#GUID-65B7D251-A852-44AE-904A-36787748A6E6">SDO_GEOR.getCellCoordinate</a>函数找到关联的单元格坐标。例如，如果您标识经度和纬度坐标，则可以在与这些坐标关联的图像中找到该单元格。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" title="本章介绍如何执行重要的GeoRaster数据库创建和管理操作。">GeoRaster数据库创建和管理</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS998"></a><div class="props_rev_3"><a id="GUID-004D9CB3-916E-46C3-830B-FA2C88625B88" name="GUID-004D9CB3-916E-46C3-830B-FA2C88625B88"></a><h3 id="GEORS-GUID-004D9CB3-916E-46C3-830B-FA2C88625B88" class="sect3"><span class="enumeration_section">3.8</span>生成和设置空间范围</h3>
               <div>
                  <p>创建GeoRaster对象时，其空间范围（ <code class="codeph">spatialExtent</code>属性，在<a href="georaster-datatypes.html#GUID-E392DB15-C7C3-40E8-815C-527D2CD1F45F">spatialExtent属性中</a>描述）不一定是其模型空间坐标系中的封闭几何。空间范围（足迹）几何可能最初为空，或者它可能反映单元格空间坐标系或某些其他坐标系。生成和设置空间范围的功能对于构建全局或大型区域范围的大型GeoRaster数据库非常有用，其中空间范围位于一个全局大地坐标系中，而GeoRaster对象（图像，DEM等）位于不同的投影坐标系。在这种情况下，您可以在空间范围上创建空间（R树）索引，这要求所有空间范围几何具有相同的SRID值。
                  </p>
                  <p>要确保表中每个GeoRaster对象的空间范围几何对于其模型空间坐标系（或您可能要使用的任何其他坐标系）是正确的，必须设置空间范围。此外，要在空间范围几何上使用空间索引（在<a href="georaster-database-creation-management.html#GUID-F31E1BAD-DE81-462E-8103-7A67CF7A8D0E">索引地理栅格对象中</a>描述），所有索引几何必须基于相同的坐标系（即，具有相同的SRID值）。
                  </p>
                  <p>您可以通过以下任何方式设置空间范围：将<code class="codeph">spatialExtent=TRUE</code>指定为<a href="SDO_GEOR-reference.html#GUID-07B69D26-239F-4C52-A2D2-E776B2BABF8B">SDO_GEOR.importFrom</a>过程或GeoRaster客户端加载程序（在<a href="georaster-overview-and-concepts.html#GUID-4813E3BC-2DB8-4310-82E5-3ADC467C0253" title="Oracle Spatial包括用于查看，加载和导出GeoRaster数据的工具。">GeoRaster工具：Viewer_ Loader_ Exporter中</a>描述）的存储参数，使用SQL UPDATE语句，或使用GDAL加载期间设置空间范围。如果使用<a href="SDO_GEOR-reference.html#GUID-07B69D26-239F-4C52-A2D2-E776B2BABF8B">SDO_GEOR.importFrom</a>过程或加载程序，则SRID不能为null或0（零），并且如果GeoRaster空间范围上存在R树索引，则空间范围的SRID必须与SRID的SRID匹配。现有空间指数;否则，空间范围设置为空值。
                  </p>
                  <p>此外，如果您还没有空间范围几何体，则可以使用<a href="SDO_GEOR-reference.html#GUID-45E80146-A186-418F-9396-260BCC7A3BE8">SDO_GEOR.generateSpatialExtent</a>函数生成它，并使用该几何体更新GeoRaster对象。以下示例将CITY_IMAGES表（在<a href="georaster-database-creation-management.html#GUID-2524D3F1-8E8B-476B-839C-E8D518AEF7B8">创建GeoRaster表</a>中的<a href="georaster-database-creation-management.html#GUID-2524D3F1-8E8B-476B-839C-E8D518AEF7B8__CHDEJAIF">示例3-1</a>中<a href="georaster-database-creation-management.html#GUID-2524D3F1-8E8B-476B-839C-E8D518AEF7B8">创建</a> ）中指定的GeoRaster对象的空间范围几何更新为该对象的生成空间范围（反映模型坐标系）：</p><pre class="oac_no_warn" dir="ltr">UPDATE city_images c SET c.image.spatialExtent = sdo_geor.generateSpatialExtent（image）WHERE c.image_id = 100;承诺;</pre><p>以下示例将CITY_IMAGES表中所有GeoRaster对象的空间范围几何更新为该对象的生成空间范围（反映模型坐标系）：</p><pre class="oac_no_warn" dir="ltr">UPDATE city_images c SET c.image.spatialExtent = sdo_geor.generateSpatialExtent（image）WHERE c.image.spatialExtent为null;承诺;</pre><p>如果您已经知道GeoRaster对象的空间范围几何，或者您希望空间范围几何基于除模型空间之外的坐标系，请构造SDO_GEOMETRY对象或从表中选择它，然后更新GeoRaster对象以将其空间范围属性设置为该几何，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">DECLARE geom sdo_geometry; BEGIN  - 将geom设置为覆盖所需GeoRaster对象的空间范围的SDO_GEOMETRY对象。如有必要，在设置geom之前执行坐标系转换。-  geom：= sdo_geometry（...）; UPDATE city_images c SET c.image.spatialExtent = geom WHERE c.image_id = 100;承诺;结束;</pre></div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-2512A66C-3558-4374-95AB-5A090D99EA78">如果GeoRaster表具有空间索引，则需要特别注意</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" title="本章介绍如何执行重要的GeoRaster数据库创建和管理操作。">GeoRaster数据库创建和管理</a></p>
                     </div>
                  </div>
               </div>
               <a id="GEORS1194"></a><div class="props_rev_3"><a id="GUID-2512A66C-3558-4374-95AB-5A090D99EA78" name="GUID-2512A66C-3558-4374-95AB-5A090D99EA78"></a><h4 id="GEORS-GUID-2512A66C-3558-4374-95AB-5A090D99EA78" class="sect4"><span class="enumeration_section">3.8.1</span> GeoRaster表具有空间索引的特殊注意事项</h4>
                  <div>
                     <p>如果在GeoRaster空间范围上创建空间R树索引（如<a href="georaster-database-creation-management.html#GUID-F31E1BAD-DE81-462E-8103-7A67CF7A8D0E">索引GeoRaster对象中所述</a> ），则所有空间范围几何必须具有相同的SRID值。但是，GeoRaster对象可能具有不同的模型SRID，并且大多数GeoRaster操作会根据源GeoRaster对象的模型SRID自动为输出GeoRaster对象生成空间范围。当具有空间范围的结果GeoRaster对象更新为GeoRaster表时，这可能会导致问题，该表可能已经在其<code class="codeph">spatialExtent</code>属性上构建了空间索引，但使用了不同的SRID。</p>
                     <p>在这种情况下，必须在插入或更新操作之前将空间范围转换为与空间索引相同的SRID。以下示例执行镶嵌操作，但在使用该对象更新GeoRaster表之前，将生成的GeoRaster对象的空间范围转换为SRID 4326。</p><pre class="oac_no_warn" dir="ltr">DECLARE gr sdo_georaster; BEGIN SELECT georaster INTO gr FROM mosaic_test WHERE georid = 1 FOR UPDATE; sdo_geor.mosaic（'mosaic_data'，'georaster'，gr，'blocking = OPTIMALPADDING，blocksize =（512,512）'）; - 如果必要，转换空间范围几何。- 在此示例示例中，镶嵌的modelSRID为27302，但mosaic_test上的空间索引的SRID为4326。
  <span class="bold">gr.spatialExtent：= sdo_cs.transform（gr.spatialExtent，4326）;</span>更新mosaic_test SET georaster = gr WHERE georid = 1;结束; /</pre><p>如果存在空间R树索引，则插入或更新操作之后的提交操作会导致在插入或更新的GeoRaster对象具有空间范围几何时更新索引。如果在每次操作后执行提交，这可能会减慢某些操作，尤其是对于批处理作业（如批量映像加载）。通常，更高效地平衡索引更新的性能与GeoRaster操作，并且仅在操作之后批量提交。</p>
                     <p>例如，图像数据加载（ <a href="SDO_GEOR-reference.html#GUID-07B69D26-239F-4C52-A2D2-E776B2BABF8B">SDO_GEOR.importFrom</a>过程和GeoRaster加载器）之后是内部提交操作，因此通过指定<code class="codeph">spatialExtent=TRUE</code>来加载生成空间范围时效率很低。相反，您应该指定<code class="codeph">spatialExtent=FALSE</code> ，然后更新<code class="codeph">spatialExtent</code>属性，以加快加载过程。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-004D9CB3-916E-46C3-830B-FA2C88625B88">生成和设置空间范围</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="GEORS999"></a><div class="props_rev_3"><a id="GUID-F31E1BAD-DE81-462E-8103-7A67CF7A8D0E" name="GUID-F31E1BAD-DE81-462E-8103-7A67CF7A8D0E"></a><h3 id="GEORS-GUID-F31E1BAD-DE81-462E-8103-7A67CF7A8D0E" class="sect3"><span class="enumeration_section">3.9</span>索引GeoRaster对象</h3>
               <div>
                  <div class="section">
                     <p>可以通过各种方式索引GeoRaster数据。您可以在GeoRaster对象上创建的最重要的索引是GeoRaster对象的空间范围（覆盖）几何上的空间（R树）索引（ <code class="codeph">spatialExtent</code>属性，在<a href="georaster-datatypes.html#GUID-E392DB15-C7C3-40E8-815C-527D2CD1F45F">spatialExtent属性中</a>描述）。对于大规模地理空间图像和栅格数据库，应始终在GeoRaster列上创建空间索引。以下是在GeoRaster列上创建空间索引的基本步骤。（这些示例假设GeoRaster表名称为CITY_IMAGES，其GeoRaster列名称为IMAGE。）
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>在USER_SDO_GEOM_METADATA视图中插入一行，其中包含georaster表名（本例中为CITY_IMAGES）和GeoRaster列名的空间范围（IMAGE.SPATIALEXTENT）。确保注册了正确的SRID值（本例中为3371）。</span><div><pre class="oac_no_warn" dir="ltr">INSERT INTO user_sdo_geom_metadata（TABLE_NAME，COLUMN_NAME，DIMINFO，SRID）VALUES（'city_images'，'image.spatialextent'，SDO_DIM_ARRAY（SDO_DIM_ELEMENT（'X'， -  100000000000,1000000000,0.005），SDO_DIM_ELEMENT（'Y'， -  100000000，1000000000） ，0.005）），3371）;</pre></div>
                     </li>
                     <li class="stepexpand"><span>在GeoRaster列上创建空间索引，如下例所示，该示例使用所有参数的默认值在图像的空间范围上创建名为CITY_IMAGES_IDX的空间索引。</span><div><pre class="oac_no_warn" dir="ltr">CREATE INDEX city_images_idx ON city_images（image.spatialextent）INDEXTYPE是MDSYS.SPATIAL_INDEX;</pre><p>如果存在一些无效的空间范围，或者GeoRaster表中的SRID值与上一步骤中注册的SRID不匹配，则上述语句可能会失败。如果语句失败，请确保所有GeoRaster对象都具有有效的<code class="codeph">spatialExtent</code>几何属性，并且所有<code class="codeph">spatialExtent</code>几何都具有相同的SRID。 （可以接受<code class="codeph">spatialExtent</code>值的空值。）然后重新创建空间索引。
                           </p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <p><a href="georaster-database-creation-management.html#GUID-2512A66C-3558-4374-95AB-5A090D99EA78">如果GeoRaster表具有空间索引</a> ，如果GeoRaster表已具有空间索引，请参阅<a href="georaster-database-creation-management.html#GUID-2512A66C-3558-4374-95AB-5A090D99EA78">特殊注意事项以</a>获取特殊注意事项。有关创建空间索引和高级功能的更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/geors&amp;id=SPATL583" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide</span></a> 。
                     </p>
                     <p>您还可以创建一个或多个其他索引，例如：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用Oracle XMLType或Oracle Text文档索引功能对元数据对象进行基于函数的索引</p>
                        </li>
                        <li>
                           <p>GeoRaster表的其他用户定义列上的标准索引，例如云覆盖，水覆盖或植被</p>
                        </li>
                     </ul>
                     <p>您还应该在每个栅格数据表的<code class="codeph">rasterId</code> ， <code class="codeph">pyramidLevel</code> ， <code class="codeph">bandBlockNumber</code> ， <code class="codeph">rowBlockNumber</code>和<code class="codeph">columnBlockNumber</code>列上创建单个B树索引。这应该使用<code class="codeph">PRIMARY KEY (rasterID, pyramidLevel, bandBlockNumber,rowBlockNumber, columnBlockNumber)</code> ，如<a href="georaster-database-creation-management.html#GUID-9A353A7D-CD42-4692-AFD2-554353919431__CHDEEBGE">例3-2</a>和<a href="georaster-database-creation-management.html#GUID-9A353A7D-CD42-4692-AFD2-554353919431__CHDCEIAC">例3-3所示</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" title="本章介绍如何执行重要的GeoRaster数据库创建和管理操作。">GeoRaster数据库创建和管理</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1006"></a><div class="props_rev_3"><a id="GUID-C65D9E81-48AA-4569-B8E3-2A52263B2435" name="GUID-C65D9E81-48AA-4569-B8E3-2A52263B2435"></a><h3 id="GEORS-GUID-C65D9E81-48AA-4569-B8E3-2A52263B2435" class="sect3"><span class="enumeration_section">3.10</span>查看GeoRaster对象</h3>
               <div>
                  <p>要查看GeoRaster对象，您有以下选择：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>调用<a href="SDO_GEOR-reference.html#GUID-6261233E-5E90-479C-97FD-8125C28EC838">SDO_GEOR.exportTo</a>过程将GeoRaster对象导出到图像文件，然后使用图像工具或Web浏览器显示图像。
                        </p>
                     </li>
                     <li>
                        <p>使用独立的GeoRaster查看器工具（GeoRaster工具中描述的<a href="georaster-overview-and-concepts.html#GUID-4813E3BC-2DB8-4310-82E5-3ADC467C0253" title="Oracle Spatial包括用于查看，加载和导出GeoRaster数据的工具。">工具之一：Viewer_ Loader_ Exporter</a> ）。
                        </p>
                     </li>
                     <li>
                        <p>使用Oracle融合中间件MapViewer或其关联的Map Builder实用程序。</p>
                     </li>
                  </ul>
                  <p>使用GeoRaster查看器工具，您可以选择数据库模式（用户）的GeoRaster对象，查询和显示GeoRaster对象的全部或子集，放大和缩小，滚动以及执行其他基本操作。对于鼠标指针位置处的点，显示金字塔等级，单元坐标和模型坐标（如果对象是地理配准的）。您可以显示单个单元格值，并为RGB全彩色显示选择多波段或高光谱图像的不同层。阻挡边界可以重叠在显示器的顶部。根据数据和您的请求，查看器可以通过Intranet或Internet以灰度，伪彩色和24位真彩色显示栅格数据。还会显示一些基本的GeoRaster元数据。</p>
                  <p>GeoRaster查看器工具允许您显示定义为一个或一组GeoRaster表或视图的虚拟马赛克。</p>
                  <p>GeoRaster查看器工具提供了一组图像处理运算符，用于增强GeoRaster对象的显示，特别是对于单元格深度大于8或者是浮点数的那些。如果它们具有位图掩码，它还可以在GeoRaster对象上显示和应用位图蒙版。</p>
                  <p>GeoRaster查看器工具还包括用于调用GeoRaster加载程序和导出程序工具的菜单命令，因此您可以使用单个工具作为所有GeoRaster工具功能的接口。</p>
                  <p>可视化应用程序可以利用GeoRaster对象中的默认RGBA和默认金字塔等级规范。您可以通过调用<a href="SDO_GEOR-reference.html#GUID-3E6EA4DC-DEEF-42B7-B296-92FA58515C4D">SDO_GEOR.setDefaultColorLayer</a>或<a href="SDO_GEOR-reference.html#GUID-70FC29B9-588B-47E1-BC48-DE3162C6785E">SDO_GEOR.setDefaultRed</a> ， <a href="SDO_GEOR-reference.html#GUID-0CB5060E-6733-40E0-B6AE-3951378EDC4A">SDO_GEOR.setDefaultGreen</a> ， <a href="SDO_GEOR-reference.html#GUID-45AB9089-BF53-474B-B59C-28AEE5A34C59">SDO_GEOR.setDefaultBlue</a>和<a href="SDO_GEOR-reference.html#GUID-9E830C52-D920-4A12-BEB6-73CBCD277CDB">SDO_GEOR.setDefaultAlpha</a> ，将多频段图像中的不同波段设置为默认的红色，绿色，蓝色和Alpha通道。对于大图像，您可以调用<a href="SDO_GEOR-reference.html#GUID-DAD267E0-410B-493F-92E8-FE7F6EF33B6F">SDO_GEOR.setDefaultPyramidLevel</a>来设置图像的最佳分辨率（金字塔）级别，以便在应用程序中进行初始显示。例如，要获得整个图像的完整概览，最好将顶部金字塔等级设置为默认金字塔等级。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" title="本章介绍如何执行重要的GeoRaster数据库创建和管理操作。">GeoRaster数据库创建和管理</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1007"></a><div class="props_rev_3"><a id="GUID-D45DBC81-B4E5-4D06-B1F2-82339C6F52E2" name="GUID-D45DBC81-B4E5-4D06-B1F2-82339C6F52E2"></a><h3 id="GEORS-GUID-D45DBC81-B4E5-4D06-B1F2-82339C6F52E2" class="sect3"><span class="enumeration_section">3.11</span>导出GeoRaster对象</h3>
               <div>
                  <p>要加载和导出图像或栅格数据，请始终考虑第三方ETL工具（请参阅<a href="georaster-overview-and-concepts.html#GUID-4813E3BC-2DB8-4310-82E5-3ADC467C0253" title="Oracle Spatial includes tools for viewing, loading, and exporting GeoRaster data.">GeoRaster工具中</a>的注释<a href="georaster-overview-and-concepts.html#GUID-4813E3BC-2DB8-4310-82E5-3ADC467C0253" title="Oracle Spatial包括用于查看，加载和导出GeoRaster数据的工具。">：Viewer_ Loader_ Exporter</a> ）</p>
                  <p>如果使用GeoRaster中的功能将GeoRaster对象导出到图像文件，则可以使用以下选项：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用基于GDAL的ETL工具进行并发批量导出，在<a href="georaster-overview-and-concepts.html#GUID-6E9B9872-7222-45AD-8FE1-CAFF596D3955">基于GDAL的ETL向导中进行并发批量加载和导出</a> 。
                        </p>
                     </li>
                     <li>
                        <p>调用<a href="SDO_GEOR-reference.html#GUID-6261233E-5E90-479C-97FD-8125C28EC838">SDO_GEOR.exportTo</a>过程（可以导出到文件或BLOB对象）。
                        </p>
                     </li>
                     <li>
                        <p>使用GeoRaster导出工具或查看器工具， <a href="georaster-overview-and-concepts.html#GUID-4813E3BC-2DB8-4310-82E5-3ADC467C0253" title="Oracle Spatial包括用于查看，加载和导出GeoRaster数据的工具。">GeoRaster工具：Viewer_ Loader_ Exporter中</a>对此进行了描述。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" title="本章介绍如何执行重要的GeoRaster数据库创建和管理操作。">GeoRaster数据库创建和管理</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1011"></a><div class="props_rev_3"><a id="GUID-BBE8942E-96B3-4EBE-ADB9-AA3FC8FFF3DD" name="GUID-BBE8942E-96B3-4EBE-ADB9-AA3FC8FFF3DD"></a><h3 id="GEORS-GUID-BBE8942E-96B3-4EBE-ADB9-AA3FC8FFF3DD" class="sect3"><span class="enumeration_section">3.12</span>将GeoRaster与Workspace Manager和Label Security一起使用</h3>
               <div>
                  <p>Oracle Workspace Manager为GeoRaster对象的栅格块提供版本控制功能。Oracle Label Security支持在栅格块的行级别增强安全性的GeoRaster对象。</p>
                  <p>要将GeoRaster与Oracle Workspace Manager或Oracle Label Security一起使用，您应该创建一个栅格数据表（RDT）作为GeoRaster对象的关系表（参见<a href="georaster-database-creation-management.html#GUID-9A353A7D-CD42-4692-AFD2-554353919431__CHDCEIAC">示例3-3</a> ）。您不需要在基本关系RDT上定义SDO_RASTER类型的对象视图。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-A78EEF50-DA67-476E-96C0-F4715620098B">将GeoRaster与Workspace Manager一起使用</a><br></li>
                     <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-F33D17DF-B8D8-40CD-8040-44A6F8684B7E">使用带有标签安全性的GeoRaster</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" title="本章介绍如何执行重要的GeoRaster数据库创建和管理操作。">GeoRaster数据库创建和管理</a></p>
                     </div>
                  </div>
               </div>
               <a id="GEORS1012"></a><div class="props_rev_3"><a id="GUID-A78EEF50-DA67-476E-96C0-F4715620098B" name="GUID-A78EEF50-DA67-476E-96C0-F4715620098B"></a><h4 id="GEORS-GUID-A78EEF50-DA67-476E-96C0-F4715620098B" class="sect4"><span class="enumeration_section">3.12.1</span>将GeoRaster与Workspace Manager一起使用</h4>
                  <div>
                     <p>使用Workspace Manager，您可以通过保存不同的栅格数据版本并在不同的工作区中进行修改，方便地管理栅格数据的更改。要将GeoRaster与Workspace Manager一起使用，必须使用关系栅格数据表进行栅格存储，并为这些关系栅格数据表启用版本。例如（一般格式）：</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_WM.EnableVersioning（&lt;rdt_relational_table&gt;，'VIEW_WO_OVERWRITE'）;</pre><div class="infoboxnote" id="GUID-A78EEF50-DA67-476E-96C0-F4715620098B__GUID-BAFAA41B-8F5D-4D3C-9165-85202FCE164B">
                        <p class="notep1">注意：</p>
                        <p>您只能通过版本启用栅格数据表。不要对存储GeoRaster对象的任何GeoRaster表进行版本启用，也不要执行任何需要在工作空间中修改GeoRaster表的操作。</p>
                     </div>
                     <p>在启用关系型RDT的版本启用后，可以使用DBMS_WM包中的子程序来管理对栅格数据的更改。如果需要直接修改栅格块，请在操作之前调用DBMS_WM.copyForUpdate过程，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">宣告geor sdo_georaster; cond varchar2（1000）; lb blob; r1 raw（1024）; amt数; begin r1：= utl_raw.copies（utl_raw.cast_to_raw（'0'），1024）;从Georaster_table中选择georaster到geor，其中georid = 1; cond：='rasterId ='|| geor.rasterId || 'AND pyramidLevel = 0 AND'|| 'bandBlockNumber = 0 AND rowBlockNumber = 0 AND columnBlockNumber = 0'; dbms_wm.copyForUpdate（geor.rasterDataTable，cond）; sdo_geor.getRasterBlockLocator（geor，0,0,0,0，lb，null，'TRUE'）; amt：= 1024; dbms_lob.write（lb，amt，1，r1）;结束; /</pre><p>但是，如果您使用的GeoRaster子程序修改栅格数据，你<span class="italic">不需要</span>事先致电DBMS_WM.copyForUpdate程序。
                     </p>
                     <p>有关Workspace Manager的信息，请参阅<a href="../adwsm/introduction-to-workspace-manager.html#ADWSM010" target="_blank"><span class="italic">Oracle Database Workspace Manager Developer's Guide</span></a> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-BBE8942E-96B3-4EBE-ADB9-AA3FC8FFF3DD">将GeoRaster与Workspace Manager和Label Security一起使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS1013"></a><div class="props_rev_3"><a id="GUID-F33D17DF-B8D8-40CD-8040-44A6F8684B7E" name="GUID-F33D17DF-B8D8-40CD-8040-44A6F8684B7E"></a><h4 id="GEORS-GUID-F33D17DF-B8D8-40CD-8040-44A6F8684B7E" class="sect4"><span class="enumeration_section">3.12.2</span>使用具有标签安全性的GeoRaster</h4>
                  <div>
                     <div class="section">
                        <p>Oracle Label Security根据用户的安全级别级别为敏感数据提供行级访问控制。要将GeoRaster与Label Security一起使用，请执行以下基本步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>创建GeoRaster表和关系RDT或RDT。</span></li>
                        <li class="stepexpand"><span>创建Oracle Label Security策略并定义标签组件。</span></li>
                        <li class="stepexpand"><span>为GeoRaster表和关系RDT或RDT创建标签函数。</span><div>
                              <p>应根据应用程序的要求生成GeoRaster表中行的标签。对存储GeoRaster对象的行和相关RDT中的GeoRaster对象的栅格行使用相同的标签;否则，GeoRaster对象可能无效或状态不一致。</p>
                              <p>以下示例为关系RDT创建标签函数：</p><pre class="oac_no_warn" dir="ltr">创建或替换函数gen_rdt_label（rdt_name varchar2，rid number）RETURN LBACSYS.LBAC_LABEL AS tabname varchar2（80）; schema varchar2（32）; grcol varchar2（1024）; colname varchar2（30）;标签NUMBER; BEGIN EXECUTE IMMEDIATE'SELECT v.owner，v.table_name，v.column_name grcol，p.column_name'|| 'FROM all_sdo_geor_sysdata v，all_sa_policies p，all_sa_table_policies t'|| 'WHERE v.rdt_table_name =：1 AND v.raster_id =：2 AND'|| 'v.owner = t.schema_name AND v.table_name = t.table_name AND'|| 'p.policy_name = t.policy_name'INTO schema，tabname，grcol，colname USING upper（rdt_name），rid;执行立即'选择t。' || colname || 'FROM'||架构|| '' || tabname || 't'|| '在哪里。' || grcol || '.rasterdatatable =：1 AND'|| “不。” || grcol || '.rasterid =：2'INTO标签USING upper（rdt_name），rid; RETURN LBACSYS.LBAC_LABEL.NEW_LBAC_LABEL（label）;结束; /</pre></div>
                        </li>
                        <li class="stepexpand"><span>将Label Security策略应用于GeoRaster表及其关联的RDT或RDT。</span><div>
                              <p>以下示例（通用格式）使用上一步骤中的标签功能示例将标签安全策略应用于RDT。</p><pre class="oac_no_warn" dir="ltr">BEGIN SA_POLICY_ADMIN.REMOVE_TABLE_POLICY（&lt;policy_name&gt;，&lt;schema_name&gt;，&lt;rdt_relational_table&gt;）; SA_POLICY_ADMIN.APPLY_TABLE_POLICY（POLICY_NAME =&gt; &lt;policy_name&gt;，SCHEMA_NAME =&gt; &lt;schema_name&gt;，TABLE_NAME =&gt; &lt;rdt_relational_table&gt;，TABLE_OPTIONS =&gt;'READ_CONTROL，WRITE_CONTROL，CHECK_CONTROL'，LABEL_FUNCTION =&gt;'&lt;schema_name&gt; .gen_rdt_label（&lt;rdt_relational_table&gt;， ：new.rasterid）'，PREDICATE =&gt; NULL）;结束; /</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建和授权用户，并完成与Label Security相关的其他管理任务。</span></li>
                     </ol>
                     <div class="section">
                        <p>您可以在将策略应用于表之前或之后加载GeoRaster数据。</p>
                        <p>ALL_SDO_GEOR_SYSDATA视图（在<a href="georaster-datatypes.html#GUID-657BA65F-E8FF-41D7-94B6-BA412993EC52" title="GeoRaster使用系统数据表（也称为sysdata表）来维护GeoRaster表与其相关栅格数据表之间的关系。">GeoRaster系统数据视图（xxx_SDO_GEOR_SYSDATA）中描述</a> ）包含当前用户可访问的所有GeoRaster对象的系统数据，在这种情况下的可访问性由用户的权限决定，如在自主访问控制（DAC）的上下文中定义的。
                        </p>
                        <p>更新GeoRaster表行的标签后，请确保更新RDT中的相关数据标签，以便同步标签。</p>
                        <p>有关标签安全性的信息，请参阅“ <a href="../olsag/introduction-to-oracle-label-security.html#OLSAG001" target="_blank"><span class="italic">Oracle Label Security管理员指南”</span></a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-BBE8942E-96B3-4EBE-ADB9-AA3FC8FFF3DD">将GeoRaster与Workspace Manager和Label Security一起使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="GEORS1015"></a><a id="GEORS1016"></a><a id="GEORS1014"></a><div class="props_rev_3"><a id="GUID-CE77309C-2712-4EC0-B92B-B3A0A028EB32" name="GUID-CE77309C-2712-4EC0-B92B-B3A0A028EB32"></a><h3 id="GEORS-GUID-CE77309C-2712-4EC0-B92B-B3A0A028EB32" class="sect3"><span class="enumeration_section">3.13</span>维护GeoRaster对象使用的高效表空间</h3>
               <div>
                  <p>在删除或回滚操作之后，分配给栅格数据表的未使用空间可能不会立即返回到基础表空间。这可能导致浪费的表空间区域，如果栅格数据量很大，则可能是一个重要问题。如果使用自动段空间管理表空间中的BasicFiles LOB创建栅格数据表，则可以通过更改栅格数据表来显式缩小<code class="codeph">rasterBlock</code> LOB段或栅格数据表，如<a href="georaster-database-creation-management.html#GUID-CE77309C-2712-4EC0-B92B-B3A0A028EB32__CHDCJDDI">示例3-4</a>和<a href="georaster-database-creation-management.html#GUID-CE77309C-2712-4EC0-B92B-B3A0A028EB32__CHDFHADH">示例3-5所示</a> 。
                  </p>
                  <div class="example" id="GUID-CE77309C-2712-4EC0-B92B-B3A0A028EB32__CHDCJDDI">
                     <p class="titleinexample">示例3-4缩小BasicFile RasterBlock LOB段</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE city_images_rdt MODIFY LOB（rasterBlock）（SHRINK SPACE）;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-CE77309C-2712-4EC0-B92B-B3A0A028EB32__CHDFHADH">
                     <p class="titleinexample">示例3-5缩小栅格数据表</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE city_images_rdt ENABLE ROW MOVEMENT; ALTER TABLE city_images_rdt SHRINK SPACE CASCADE;</pre></div>
                  <!-- class="example" -->
                  <p>如果您正在使用SecureFiles，或者您正在使用在手动段空间管理表空间中分配的BasicFiles，则无法使用ALTER TABLE语句回收未使用的空间，如前面的示例所示。相反，您应该创建一些工作（用于临时使用）栅格数据表，并尝试在这些RDT中放置任何间歇性结果，然后在不再需要它们之后删除这些工作RDT。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" title="本章介绍如何执行重要的GeoRaster数据库创建和管理操作。">GeoRaster数据库创建和管理</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-D3750F8A-54EB-4334-9F52-522BBEE82BD3" name="GUID-D3750F8A-54EB-4334-9F52-522BBEE82BD3"></a><h3 id="GEORS-GUID-D3750F8A-54EB-4334-9F52-522BBEE82BD3" class="sect3"><span class="enumeration_section">3.14</span>检查数据库中的GeoRaster表和对象</h3>
               <div>
                  <p>出于数据库管理的目的，您可能需要检查整个数据库中或特定模式下的GeoRaster表和对象。创建GeoRaster数据库后，您可以使用以下选项来检查或列出现有的GeoRaster表，RDT表和GeoRaster对象。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用以下子程序检查当前架构或数据库中现有GeoRaster对象和相关对象的状态，具体取决于与数据库连接关联的权限。</p>
                        <p><a href="SDO_GEOR_ADMIN-reference.html#GUID-2B2ED5B6-BE91-4BBD-91F0-1A9B98565283">SDO_GEOR_ADMIN.listGeoRasterObjects</a>列出当前模式中定义的所有GeoRaster对象;或者，如果在作为MDSYS用户连接时调用此函数，则会列出数据库中定义的所有GeoRaster对象。
                        </p>
                        <p><a href="SDO_GEOR_ADMIN-reference.html#GUID-E7199BAA-4C99-4D5C-A2E5-F2DC95442D14">SDO_GEOR_ADMIN.listGeoRasterColumns</a>列出当前模式中定义的所有GeoRaster列;或者如果在作为MDSYS用户连接时调用此函数，则会列出数据库中定义的所有GeoRaster列。
                        </p>
                        <p><a href="SDO_GEOR_ADMIN-reference.html#GUID-3BDBD3E3-6FA2-4230-9042-2DF812BCF629">SDO_GEOR_ADMIN.listGeoRasterTables</a>列出当前模式中定义的所有GeoRaster表;或者如果在作为MDSYS用户连接时调用此函数，则会列出数据库中定义的所有GeoRaster表。
                        </p>
                        <p><a href="SDO_GEOR_ADMIN-reference.html#GUID-2CDF0178-612F-4DCA-A63D-E151AC4C3CCF">SDO_GEOR_ADMIN.listRDT</a>列出了当前模式中定义的所有栅格数据表（RDT）;或者，如果在作为MDSYS用户连接时调用此函数，则会列出数据库中定义的所有栅格数据表（RDT）。
                        </p>
                        <p><a href="SDO_GEOR_ADMIN-reference.html#GUID-C1A8A6F0-8085-4343-8FAE-08E590FFBBB8">SDO_GEOR_ADMIN.listRegisteredRDT</a>列出了当前模式中定义的所有已注册的栅格数据表（RDT）;或者如果在作为MDSYS用户连接时调用此函数，则会列出数据库中定义的所有已注册的RDT。如果SYSDATA表中至少有一个条目引用RDT，则会<span class="italic">注册</span> RDT。
                        </p>
                        <p><a href="SDO_GEOR_ADMIN-reference.html#GUID-579B7EA9-5D89-45B2-A9F2-FC9BE216C827">SDO_GEOR_ADMIN.listUnregisteredRDT</a>列出当前模式中定义的所有未注册的栅格数据表（RDT）;或者如果在作为MDSYS用户连接时调用此函数，则会列出数据库中定义的所有未注册的RDT。如果SYSDATA表中没有条目引用RDT，则<span class="italic">取消注册</span> RDT。
                        </p>
                     </li>
                     <li>
                        <p>直接针对GeoRaster元数据视图运行SQL查询，并检查或列出存储在不同模式中的GeoRaster表和对象。这种方法比调用子程序更灵活。它还启用了一些SDO_GEOR_ADMIN包中定义的函数无法返回的查询结果。以下是一些示例查询。</p>
                        <p>列出在架构HERMAN和MYTEST中定义并可由当前架构访问的所有GeoRaster对象。</p><pre class="pre codeblock"><code>从all_sdo_geor_sysdata中选择所有者，TABLE_NAME，COLUMN_NAME，RDT_TABLE_NAME，RASTER_ID，其中owner ='HERMAN'或owner ='MYTEST';</code></pre><p>计算当前架构可访问的GeoRaster对象的总数。</p><pre class="pre codeblock"><code>来自all_sdo_geor_sysdata的SELECT count（*）;</code></pre><p>计算当前架构中GeoRaster表GTF_TABLE中存储的GeoRaster对象的总数。</p><pre class="pre codeblock"><code>来自user_sdo_geor_sysdata的SELECT count（*），其中TABLE_NAME ='GTF_TABLE';</code></pre><p>列出当前架构中存储在RDT表RDT_1中的所有GeoRaster对象。</p><pre class="pre codeblock"><code>来自user_sdo_geor_sysdata的SELECT TABLE_NAME，COLUMN_NAME，RDT_TABLE_NAME，RASTER_ID，其中RDT_TABLE_NAME ='RDT_1';</code></pre><p>找出所有GeoRaster表，它们在当前模式中存储或引用RDT表RDT_1中的某些栅格数据。</p><pre class="pre codeblock"><code>从user_sdo_geor_sysdata中选择不同的TABLE_NAME，其中RDT_TABLE_NAME ='RDT_1';</code></pre><p>列出当前架构中GeoRaster表GTF_TABLE使用的所有RDT表。</p><pre class="pre codeblock"><code>从user_sdo_geor_sysdata中选择不同的RDT_TABLE_NAME，其中TABLE_NAME ='GTF_TABLE';</code></pre></li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" title="本章介绍如何执行重要的GeoRaster数据库创建和管理操作。">GeoRaster数据库创建和管理</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1017"></a><div class="props_rev_3"><a id="GUID-14CEA0C1-837D-4DD4-A255-80ECCC28615E" name="GUID-14CEA0C1-837D-4DD4-A255-80ECCC28615E"></a><h3 id="GEORS-GUID-14CEA0C1-837D-4DD4-A255-80ECCC28615E" class="sect3"><span class="enumeration_section">3.15</span>维护数据库中的GeoRaster对象和系统数据</h3>
               <div>
                  <p>虽然GeoRaster提供内部数据库机制来防止创建无效的GeoRaster对象和系统数据，但有时此类GeoRaster对象和系统数据可能存在于数据库中，尤其是在从先前版本升级之后，或者在GeoRaster系统上运行时出现一些用户错误之后数据。此类无效对象和系统数据的示例包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>GeoRaster系统数据视图中的条目（ <span class="italic">xxx</span> _SDO_GEOR_SYSDATA，在<a href="georaster-datatypes.html#GUID-657BA65F-E8FF-41D7-94B6-BA412993EC52" title="GeoRaster使用系统数据表（也称为sysdata表）来维护GeoRaster表与其相关栅格数据表之间的关系。">GeoRaster系统数据视图（xxx_SDO_GEOR_SYSDATA）中描述</a> ）是指不存在的GeoRaster表或列。
                        </p>
                     </li>
                     <li>
                        <p>两个或多个GeoRaster对象具有相同的RDT名称和栅格ID值对。</p>
                     </li>
                     <li>
                        <p>某些GeoRaster对象，表，列或RDT未注册。</p>
                     </li>
                     <li>
                        <p>RDT名称不是唯一的。</p>
                     </li>
                     <li>
                        <p>GeoRaster对象是非空的或非空的，但是不存在关联的RDT。</p>
                     </li>
                  </ul>
                  <p>数据库升级后，您应该执行以下操作。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>调用<a href="SDO_GEOR_ADMIN-reference.html#GUID-05037DB2-5C29-4B19-ABF5-7586CF3117C8">SDO_GEOR_ADMIN.isGeoRasterEnabled</a>函数以确保为当前架构启用了GeoRaster。
                        </p>
                     </li>
                     <li>
                        <p>调用<a href="SDO_GEOR_ADMIN-reference.html#GUID-2E813E4E-C5A5-4884-97FA-DB8E6BEC87D6">SDO_GEOR_ADMIN.isUpgradeNeeded</a>函数以检查当前版本的任何无效GeoRaster对象和无效系统数据。
                        </p>
                     </li>
                     <li>
                        <p>如果有任何错误或无效数据，请调用<a href="SDO_GEOR_ADMIN-reference.html#GUID-7B7D8C75-46E9-4278-8B2E-60675055A8F2">SDO_GEOR_ADMIN.upgradeGeoRaster</a>函数以自动更正问题。
                        </p>
                     </li>
                     <li>
                        <p>如果以MDSYS用户身份连接， <a href="SDO_GEOR_ADMIN-reference.html#GUID-7B7D8C75-46E9-4278-8B2E-60675055A8F2">SDO_GEOR_ADMIN.upgradeGeoRaster</a>函数将升级数据库中的所有GeoRaster对象;否则，它仅升级当前用户的架构中的GeoRaster对象。（请参阅有关<a href="SDO_GEOR_ADMIN-reference.html#GUID-7B7D8C75-46E9-4278-8B2E-60675055A8F2">SDO_GEOR_ADMIN.upgradeGeoRaster</a>的参考和用法信息。
                        </p>
                     </li>
                  </ul>
                  <p>对于由于可能的用户错误而进行的常规维护，有几个函数和过程将有助于检查和更正无效的GeoRaster对象和系统数据条目：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>要检查GeoRaster是否已启用，请调用<a href="SDO_GEOR_ADMIN-reference.html#GUID-05037DB2-5C29-4B19-ABF5-7586CF3117C8">SDO_GEOR_ADMIN.isGeoRasterEnabled</a></p>
                     </li>
                     <li>
                        <p>启用GeoRaster。调用<a href="SDO_GEOR_ADMIN-reference.html#GUID-F0868A0F-7DFB-4F0F-AA30-0CC41D8B708E">SDO_GEOR_ADMIN.enableGeoRaster</a></p>
                     </li>
                     <li>
                        <p>要检查错误，请调用<a href="SDO_GEOR_ADMIN-reference.html#GUID-786E293A-2F1B-4605-AC82-4B788A1BDED6">SDO_GEOR_ADMIN.checkSysdataEntries</a>和<a href="SDO_GEOR_ADMIN-reference.html#GUID-579B7EA9-5D89-45B2-A9F2-FC9BE216C827">SDO_GEOR_ADMIN.listUnregisteredRDT</a> 。</p>
                     </li>
                     <li>
                        <p></p>
                     </li>
                     <li>
                        <p>要检查悬空栅格数据，请调用<a href="SDO_GEOR_ADMIN-reference.html#GUID-C20A7F7C-C861-437E-BFD3-791B7AFAFB4C">SDO_GEOR_ADMIN.listDanglingRasterData</a> 。
                        </p>
                     </li>
                     <li>
                        <p>要更正所有无效的系统数据条目，请调用<a href="SDO_GEOR_ADMIN-reference.html#GUID-3EEACD9B-7B9C-4606-9DC0-966CFE0CB469">SDO_GEOR_ADMIN.maintainSysdataEntries</a> 。
                        </p>
                     </li>
                     <li>
                        <p>要为所有GeoRaster列创建正确的DML触发器，请调用<a href="SDO_GEOR_ADMIN-reference.html#GUID-8FC19048-E701-4D73-98E5-64140ED503B3">SDO_GEOR_ADMIN.registerGeoRasterColumns</a> 。
                        </p>
                     </li>
                     <li>
                        <p>要在sysdata表中注册所有现有GeoRaster对象，请调用<a href="SDO_GEOR_ADMIN-reference.html#GUID-13898CD3-CD1F-4C78-A023-1ED2B3D6C524">SDO_GEOR_ADMIN.registerGeoRasterObjects</a> 。
                        </p>
                     </li>
                  </ul>
                  <p>请参阅<a href="SDO_GEOR_ADMIN-reference.html#GUID-6F9B00F3-56C1-4AF9-82A6-DFBAB1BB489E" title="SDO_GEOR_ADMIN包中包含与GeoRaster相关的管理操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_ADMIN包参考中</a>有关这些过程和函数的参考和用法信息。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" title="本章介绍如何执行重要的GeoRaster数据库创建和管理操作。">GeoRaster数据库创建和管理</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1018"></a><div class="props_rev_3"><a id="GUID-0F77203F-486F-4160-A03C-8E7EA2594DB1" name="GUID-0F77203F-486F-4160-A03C-8E7EA2594DB1"></a><h3 id="GEORS-GUID-0F77203F-486F-4160-A03C-8E7EA2594DB1" class="sect3"><span class="enumeration_section">3.16</span>在数据库之间传输GeoRaster数据</h3>
               <div>
                  <div class="section">
                     <p>您可以使用数据泵导出和导入实用程序或原始导出和导入实用程序在数据库之间传输GeoRaster数据。您必须从GeoRaster表及其相关的栅格数据表中导出和导入行。传输后，您无需将导入的GeoRaster对象的GeoRaster系统数据插入目标模式中的USER_SDO_GEOR_SYSDATA视图（在<a href="georaster-datatypes.html#GUID-657BA65F-E8FF-41D7-94B6-BA412993EC52" title="GeoRaster使用系统数据表（也称为sysdata表）来维护GeoRaster表与其相关栅格数据表之间的关系。">GeoRaster系统数据视图（xxx_SDO_GEOR_SYSDATA）中描述</a> ）;但是，在对这些对象执行任何操作之前，应使用<a href="SDO_GEOR-reference.html#GUID-72D06328-134D-473E-8279-F0C3B6ADEE34">SDO_GEOR.validateGeoRaster</a>函数检查导入的GeoRaster对象的有效性。
                     </p>
                     <p>有关数据泵导出和导入实用程序以及原始导出和导入实用程序的信息，请参阅<a href="../sutil/oracle-data-pump-overview.html#SUTIL801" target="_blank"><span class="italic">Oracle数据库实用程序</span></a> 。
                     </p>
                     <p>要在数据库之间传输GeoRaster数据，请按照以下常规步骤操作：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>检查并解决任何冲突，如<a href="georaster-database-creation-management.html#GUID-2EA1AFDA-D11D-4913-87B3-DF222E290696">检查和解决冲突中所述</a> 。</span></li>
                     <li><span>执行数据传输，如<a href="georaster-database-creation-management.html#GUID-1B3CA536-A9A6-41AB-B704-13B66A4957EE">执行GeoRaster数据传输中所述</a> 。</span></li>
                  </ol>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-2EA1AFDA-D11D-4913-87B3-DF222E290696">检查和解决冲突</a><br></li>
                     <li class="ulchildlink"><a href="georaster-database-creation-management.html#GUID-1B3CA536-A9A6-41AB-B704-13B66A4957EE">执行GeoRaster数据传输</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" title="本章介绍如何执行重要的GeoRaster数据库创建和管理操作。">GeoRaster数据库创建和管理</a></p>
                     </div>
                  </div>
               </div>
               <a id="GEORS1019"></a><div class="props_rev_3"><a id="GUID-2EA1AFDA-D11D-4913-87B3-DF222E290696" name="GUID-2EA1AFDA-D11D-4913-87B3-DF222E290696"></a><h4 id="GEORS-GUID-2EA1AFDA-D11D-4913-87B3-DF222E290696" class="sect4"><span class="enumeration_section">3.16.1</span>检查和解决冲突</h4>
                  <div>
                     <p>为了将GeoRaster数据成功导入目标数据库，目标模式的GeoRaster系统数据中必定没有冲突。以下情况可能会导致冲突：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>已在目标数据库的另一个模式中定义具有相同名称的栅格数据表。</p>
                           <p>例如，您可能计划通过在目标模式中创建其栅格数据表（RDT）来导入GeoRaster对象，但目标模式中的现有RDT可能已具有相同的名称。在这种情况下，您应该使用<a href="SDO_GEOR_ADMIN-reference.html#GUID-2CDF0178-612F-4DCA-A63D-E151AC4C3CCF">SDO_GEOR_ADMIN.listRDT</a>或<a href="SDO_GEOR_ADMIN-reference.html#GUID-05492210-9524-40A2-8A29-6B7028566FAA">SDO_GEOR_ADMIN.isRDTNameUnique</a>函数来检查源数据库和目标数据库，以查看是否存在RDT名称冲突;如果存在任何冲突，请使用<a href="SDO_GEOR_UTL-reference.html#GUID-9B5168A6-2624-4E80-B8C8-DC4815B94E36">SDO_GEOR_UTL.renameRDT</a>过程将RDT重命名为目标数据库中的其他名称，以便在导入GeoRaster对象之前解决冲突。
                           </p>
                        </li>
                        <li>
                           <p>要插入目标模式的USER_SDO_GEOR_SYSDATA视图的任何栅格数据表名称和栅格ID对都不是唯一的。</p>
                           <p>例如，如果通过附加到目标数据库中的现有RDT来导入RDT数据，则可能会发生此冲突。在这种情况下，在将数据导入目标数据库之前，使用<a href="SDO_GEOR_ADMIN-reference.html#GUID-2B2ED5B6-BE91-4BBD-91F0-1A9B98565283">SDO_GEOR_ADMIN.listGeoRasterObjects</a>函数列出目标模式中定义的所有GeoRaster对象，并确保现有GeoRaster之间的RDT名称和栅格ID组合中没有冲突数据和要导入的GeoRaster数据。如果存在任何冲突，请更改目标模式中GeoRaster对象的栅格ID以解决冲突;否则，执行导入过程时，转储文件中存在冲突的GeoRaster对象将被拒绝。
                           </p>
                        </li>
                     </ul>
                     <p>如果需要检查转储文件中的栅格数据表（RDT）名称和栅格ID（RID）信息，可以使用以下选项：检查源数据库中的信息;请求转储文件提供者提供的信息;将转储文件加载到单独的测试数据库中并检查其中的信息;或者（如果您不能使用单独的数据库进行测试）将转储文件加载到当前数据库中的测试模式中并检查信息。要将转储文件加载到当前数据库中的测试模式并检查信息，请按照下列步骤操作：</p>
                     <ol>
                        <li>
                           <p>在目标数据库中创建测试模式。</p>
                        </li>
                        <li>
                           <p>使用带有<code class="codeph">CONTENT = METADATA_ONLY</code>参数的数据泵导入实用程序，将所有GeoRaster表从转储文件加载到此测试模式中。
                           </p>
                        </li>
                        <li>
                           <p>以MDSYS用户身份连接到数据库，并禁用上一步中加载的GeoRaster表上的所有DML触发器。</p>
                        </li>
                        <li>
                           <p>使用带有<code class="codeph">CONTENT = DATA_ONLY</code>参数的数据泵导入实用程序将数据加载到GeoRaster表中。
                           </p>
                        </li>
                        <li>
                           <p>直接从测试模式中的GeoRaster表中检索RDT / RID（栅格数据表名称和栅格ID）对。</p>
                        </li>
                     </ol>
                     <p>解决冲突后，应确保GeoRaster元数据和数据的完整性（请参阅<a href="georaster-database-creation-management.html#GUID-14CEA0C1-837D-4DD4-A255-80ECCC28615E">在数据库中维护GeoRaster对象和系统数据</a> ）。您还应该在执行提交或任何其他操作之前验证任何已修复的GeoRaster对象。
                     </p>
                     <p>有关在导入操作期间解决冲突的一般信息，请参阅<a href="../sutil/datapump-import-utility.html#SUTIL300" target="_blank"><span class="italic">Oracle数据库实用程序</span></a>的“数据泵导入”一章中的<code class="codeph">TABLE_EXISTS_ACTION</code>参数的说明。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-0F77203F-486F-4160-A03C-8E7EA2594DB1">在数据库之间传输GeoRaster数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS1020"></a><div class="props_rev_3"><a id="GUID-1B3CA536-A9A6-41AB-B704-13B66A4957EE" name="GUID-1B3CA536-A9A6-41AB-B704-13B66A4957EE"></a><h4 id="GEORS-GUID-1B3CA536-A9A6-41AB-B704-13B66A4957EE" class="sect4"><span class="enumeration_section">3.16.2</span>执行GeoRaster数据传输</h4>
                  <div>
                     <p>执行GeoRaster数据传输涉及从一个数据库导出数据并将其导入另一个数据库。</p>
                     <div class="infoboxnote" id="GUID-1B3CA536-A9A6-41AB-B704-13B66A4957EE__GUID-DBFB8C5F-1D61-4A5D-8FEC-87B78A472D99">
                        <p class="notep1">注意：</p>
                        <p>要成功将GeoRaster数据导入Release 19 <span class="bold">c</span>数据库，必须为导入的模式启用GeoRaster，并且模式用户必须具有CREATE TRIGGER权限。
                        </p>
                     </div>
                     <p>从一个数据库导出GeoRaster数据并将其导入另一个数据库时，GeoRaster数据库管理系统可确保在将GeoRaster表和对象导入目标数据库后自动生成必要的GeoRaster内部DML触发器和系统数据条目。（启用GeoRaster时会创建GeoRaster内部DDL触发器。）</p>
                     <p>因此，应该在<code class="codeph">expdp</code>和<code class="codeph">impdp</code>操作中排除所有GeoRaster内部DML触发器和DDL触发器（维护GeoRaster数据的完整性）;否则，即使可以安全地忽略错误，也会引发一些诸如以下的<code class="codeph">impdp</code>错误：</p><pre class="oac_no_warn" dir="ltr">ORA-39083：对象类型TRIGGER无法创建错误：ORA-13391：GeoRaster保留名称不能用于创建常规触发器</pre><p>要导出GeoRaster数据，请像处理其他类型的数据一样，但要排除GeoRaster内部DML触发器（名称以<code class="codeph">GRDMLTR_</code> ）和内部DDL触发器（名为<code class="codeph">SDO_GEOR_ADDL_TRIGGER</code>和<code class="codeph">SDO_GEOR_BDDL_TRIGGER</code> ）。例如：</p><pre class="oac_no_warn" dir="ltr">expdp scott schemas = scott directory = dump_dir dumpfile = exp.dmp parfile = exclude.par输入密码： <span class="italic">password</span>
</pre><p>其中<code class="codeph">exclude.par</code>文件包含以下内容：</p><pre class="oac_no_warn" dir="ltr">exclude = trigger：“like'GRDMLTR_％'”exclude = trigger：“='SDO_GEOR_ADDL_TRIGGER'”exclude = trigger：“='SDO_GEOR_BDDL_TRIGGER'”</pre><p>要导入GeoRaster数据，请像处理其他类型的数据一样，但如果未将其排除在外，则排除GeoRaster内部DML触发器（其名称以<code class="codeph">GRDMLTR_</code> ）和DDL触发器（来自Release 19 <span class="italic">c</span>数据库的<code class="codeph">SDO_GEOR_ADDL_TRIGGER</code>和<code class="codeph">SDO_GEOR_BDDL_TRIGGER</code> ）出口业务。例如：</p>
                     <ol>
                        <li>
                           <p>确保要导入的GeoRaster数据与目标数据库中的现有GeoRaster数据之间不存在冲突，如<a href="georaster-database-creation-management.html#GUID-2EA1AFDA-D11D-4913-87B3-DF222E290696">检查和解决冲突中所述</a> 。
                           </p>
                           <p>如果未解决任何冲突，则会引发一些异常，并且只将非冲突的GeoRaster数据导入目标数据库。</p>
                        </li>
                        <li>
                           <p>像导入其他类型的数据一样导入GeoRaster数据，但如果您没有在导出操作中排除它们，则排除GeoRaster内部DML触发器（其名称以<code class="codeph">GRDMLTR_</code> ）和DDL触发器（来自Release 19 <span class="italic">c</span>数据库的<code class="codeph">SDO_GEOR_ADDL_TRIGGER</code>和<code class="codeph">SDO_GEOR_BDDL_TRIGGER</code> ） 。例如：</p><pre class="oac_no_warn" dir="ltr">impdp scott schemas = scott directory = dump_dir dumpfile = exp.dmp parfile = exclude.par输入密码： <span class="italic">password</span>
</pre><p>其中<code class="codeph">exclude.par</code>文件包含以下内容：</p><pre class="oac_no_warn" dir="ltr">exclude = trigger：“like'GRDMLTR_％'”exclude = trigger：“='SDO_GEOR_ADDL_TRIGGER'”exclude = trigger：“='SDO_GEOR_BDDL_TRIGGER'”</pre></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-0F77203F-486F-4160-A03C-8E7EA2594DB1">在数据库之间传输GeoRaster数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="GEORS1195"></a><div class="props_rev_3"><a id="GUID-51C68427-CA7F-4E85-90AD-780D770DF81F" name="GUID-51C68427-CA7F-4E85-90AD-780D770DF81F"></a><h3 id="GEORS-GUID-51C68427-CA7F-4E85-90AD-780D770DF81F" class="sect3"><span class="enumeration_section">3.17</span>将可传输表空间与GeoRaster数据一起使用</h3>
               <div>
                  <div class="section">
                     <p>您可以将Oracle数据库可传输表空间功能与GeoRaster数据一起使用。</p>
                     <p>如果要传输的表空间包含GeoRaster表或栅格数据表（RDT）上的任何空间索引，则可能需要执行一些准备步骤。有关将可传输表空间功能与空间数据一起使用的详细信息，请参阅<a href="../spatl/SDO_UTIL-reference.html#SPATL180" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide</span></a>中有关SDO_UTIL.PREPARE_FOR_TTS和SDO_UTIL.INITIALIZE_INDEXES_FOR_TTS过程的使用说明。
                     </p>
                     <p>为了将GeoRaster数据成功导入目标数据库，目标模式的GeoRaster系统数据中必定没有冲突。在将表空间传输到另一个数据库或模式之前，建议（但不要求）按照检查和解决冲突中描述的过程检查并解决此类<a href="georaster-database-creation-management.html#GUID-2EA1AFDA-D11D-4913-87B3-DF222E290696">冲突</a> 。因此，您应该设计GeoRaster表和RDT表，以便在源数据库中使用此类可传输表空间之前避免这种可预见的冲突。
                     </p>
                     <p>无论传输的表空间是否具有任何空间索引，在传输包含GeoRaster对象的表空间后，请执行以下操作：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>调用<a href="SDO_GEOR_ADMIN-reference.html#GUID-13898CD3-CD1F-4C78-A023-1ED2B3D6C524">SDO_GEOR_ADMIN.registerGeoRasterObjects</a>过程（在<a href="SDO_GEOR_ADMIN-reference.html#GUID-6F9B00F3-56C1-4AF9-82A6-DFBAB1BB489E" title="SDO_GEOR_ADMIN包中包含与GeoRaster相关的管理操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_ADMIN包参考中</a>描述）以在当前模式或新数据库中注册所有GeoRaster对象。</span></li>
                     <li><span>在使用传输的GeoRaster数据之前，请执行维护<a href="georaster-database-creation-management.html#GUID-14CEA0C1-837D-4DD4-A255-80ECCC28615E">数据库中的GeoRaster对象和系统数据中</a>描述的“常规维护”操作，以维护GeoRaster对象和系统数据，并确保正确传输和正确注册所有GeoRaster对象。</span></li>
                     <li><span>如果发现任何冲突，请调用<a href="SDO_GEOR_UTL-reference.html#GUID-9B5168A6-2624-4E80-B8C8-DC4815B94E36">SDO_GEOR_UTL.renameRDT</a>或<a href="SDO_GEOR_UTL-reference.html#GUID-94664890-EDA7-4518-B87A-99AD4D8672DA">SDO_GEOR_UTL.makeRDTNamesUnique</a>过程来解决此类冲突，然后再次进行验证。</span></li>
                  </ol>
                  <div class="section">
                     <p>有关可传输表空间和将表空间传输到其他数据库的详细信息，请参见“ <a href="../admin/transporting-data.html#ADMIN11394" target="_blank"><span class="italic">Oracle数据库管理员指南”</span></a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="georaster-database-creation-management.html#GUID-92D80CF0-F503-40BE-B1E6-D06A1DF033B6" title="本章介绍如何执行重要的GeoRaster数据库创建和管理操作。">GeoRaster数据库创建和管理</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="04795.oci-collection-and-iterator-functions.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Lists and describes the OCI collection and iterator functions."></meta>
      <meta name="description" content="Lists and describes the OCI collection and iterator functions."></meta>
      <title>OCI集合和迭代器函数</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="Lists and describes the OCI collection and iterator functions."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="intro-to-data-type-mapping-and-manipulation-functions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oci-date-datetime-and-interval-functions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="intro-to-data-type-mapping-and-manipulation-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oci-date-datetime-and-interval-functions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oci-data-type-mapping-and-manipulation-functions.html" property="item" typeof="WebPage"><span property="name">OCI数据类型映射和操作功能</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCI集合和迭代器函数</li>
            </ol>
            <a id="GUID-4DDCED9C-3D56-4BA0-89FA-63C1BBB43F4D" name="GUID-4DDCED9C-3D56-4BA0-89FA-63C1BBB43F4D"></a><a id="LNOCI17374"></a><a id="LNOCI181"></a>
            
            <h2 id="LNOCI-GUID-4DDCED9C-3D56-4BA0-89FA-63C1BBB43F4D" class="sect2"><span class="enumeration_section">28.2</span> OCI集合和迭代器函数</h2>
         </header>
         <div class="ind">
            <div>
               <p>列出并描述OCI集合和迭代器函数。</p>
               <div class="section">
                  <p><a href="oci-collection-and-iterator-functions.html#GUID-4DDCED9C-3D56-4BA0-89FA-63C1BBB43F4D__CEGGEHAA" title="该表有2列。第1列是函数名称，第2列描述其用途。">表28-2</a>描述了本节中描述的OCI集合和迭代器函数。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-4DDCED9C-3D56-4BA0-89FA-63C1BBB43F4D__CEGGEHAA">
                  <p class="titleintable">表28-2集合和迭代器函数</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="集合和迭代器函数" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="58%" id="d251963e201">功能</th>
                           <th align="left" valign="bottom" width="42%" id="d251963e204">目的</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d251963e209" headers="d251963e201 ">
                              <p><a href="oci-collection-and-iterator-functions.html#GUID-1F50303F-38EB-4CF5-A333-A75E01255585" title="将元素追加到集合的末尾。">OCICollAppend（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d251963e209 d251963e204 ">
                              <p>将元素追加到集合的末尾</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d251963e221" headers="d251963e201 ">
                              <p><a href="oci-collection-and-iterator-functions.html#GUID-35E6A810-6CF7-4446-81F5-AC8A65BA4593" title="将（深拷贝）一个集合分配给另一个集合。">OCICollAssign（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d251963e221 d251963e204 ">
                              <p>将（深层复制）一个集合分配给另一个集合</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d251963e233" headers="d251963e201 ">
                              <p><a href="oci-collection-and-iterator-functions.html#GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91" title="将给定元素值elem分配给coll [index]处的元素。">OCICollAssignElem（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d251963e233 d251963e204 ">
                              <p>将给定元素值<code class="codeph">elem</code>分配给<code class="codeph">coll[index]</code>处的元素</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d251963e256" headers="d251963e201 ">
                              <p><a href="oci-collection-and-iterator-functions.html#GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F" title="获取指向给定索引处元素的指针。">OCICollGetElem（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d251963e256 d251963e204 ">
                              <p>获取指向元素的指针</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d251963e268" headers="d251963e201 ">
                              <p><a href="oci-collection-and-iterator-functions.html#GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F" title="在给定起始索引时，从集合中获取元素数组。">OCICollGetElemArray（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d251963e268 d251963e204 ">
                              <p>从集合中获取一系列元素</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d251963e280" headers="d251963e201 ">
                              <p><a href="oci-collection-and-iterator-functions.html#GUID-9962E0B5-587C-4FCC-BD73-09058C820658" title="指示集合是否基于定位器。">OCICollIsLocator（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d251963e280 d251963e204 ">
                              <p>指示集合是否基于定位器</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d251963e292" headers="d251963e201 ">
                              <p><a href="oci-collection-and-iterator-functions.html#GUID-848C1BF1-B0AD-47DF-9B80-9DA7A4020019" title="获取给定集合的元素数量的最大大小。">OCICollMax（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d251963e292 d251963e204 ">
                              <p>返回集合中的最大元素数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d251963e304" headers="d251963e201 ">
                              <p><a href="oci-collection-and-iterator-functions.html#GUID-B8F6665F-12F1-43DB-A27E-82A2A655D701" title="获取给定集合的元素数量的当前大小。">OCICollSize（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d251963e304 d251963e204 ">
                              <p>获取当前的集合大小（元素数量）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d251963e316" headers="d251963e201 ">
                              <p><a href="oci-collection-and-iterator-functions.html#GUID-1AC632AC-97AA-4E38-BF50-6460D3929F96" title="从集合的末尾修剪给定数量的元素。">OCICollTrim（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d251963e316 d251963e204 ">
                              <p>修剪集合中的元素</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d251963e328" headers="d251963e201 ">
                              <p><a href="oci-collection-and-iterator-functions.html#GUID-A76A027E-C93D-415B-879F-251897CE2AB2" title="创建一个迭代器来扫描元素或集合。">OCIIterCreate（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d251963e328 d251963e204 ">
                              <p>创建迭代器以扫描varray元素</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d251963e340" headers="d251963e201 ">
                              <p><a href="oci-collection-and-iterator-functions.html#GUID-CAA61916-750A-4A36-B488-09126DA64FF8" title="删除集合迭代器。">OCIIterDelete（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d251963e340 d251963e204 ">
                              <p>删除迭代器</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d251963e353" headers="d251963e201 ">
                              <p><a href="oci-collection-and-iterator-functions.html#GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA" title="获取指向当前迭代器集合元素的指针。">OCIIterGetCurrent（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d251963e353 d251963e204 ">
                              <p>获取当前的集合元素</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d251963e365" headers="d251963e201 ">
                              <p><a href="oci-collection-and-iterator-functions.html#GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81" title="初始化迭代器以扫描集合。">OCIIterInit（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d251963e365 d251963e204 ">
                              <p>初始化迭代器以扫描给定的集合</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d251963e377" headers="d251963e201 ">
                              <p><a href="oci-collection-and-iterator-functions.html#GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5" title="获取指向下一个迭代器集合元素的指针。">OCIIterNext（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d251963e377 d251963e204 ">
                              <p>获取下一个集合元素</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="58%" id="d251963e389" headers="d251963e201 ">
                              <p><a href="oci-collection-and-iterator-functions.html#GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884" title="获取指向前一个迭代器集合元素的指针。">OCIIterPrev（）</a></p>
                           </td>
                           <td align="left" valign="top" width="42%" headers="d251963e389 d251963e204 ">
                              <p>获取以前的集合元素</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNOCI17375"></a><div class="props_rev_3"><a id="GUID-1F50303F-38EB-4CF5-A333-A75E01255585" name="GUID-1F50303F-38EB-4CF5-A333-A75E01255585"></a><h3 id="LNOCI-GUID-1F50303F-38EB-4CF5-A333-A75E01255585" class="sect3"><span class="enumeration_section">28.2.1</span> OCICollAppend（）</h3>
               <div>
                  <p>将元素追加到集合的末尾。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-1F50303F-38EB-4CF5-A333-A75E01255585__GUID-A3EB4C01-58C1-4B08-9B2B-01774C031135">目的</p>
                     <p>将元素追加到集合的末尾。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1F50303F-38EB-4CF5-A333-A75E01255585__GUID-212ACEF8-D9A8-4147-8CA4-3A06B19BA955">句法</p><pre class="oac_no_warn" dir="ltr">剑OCICollAppend（OCIEnv * env，OCIError *错误，const void * elem，const void * elemind，OCIColl * coll）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1F50303F-38EB-4CF5-A333-A75E01255585__GUID-06CCAC7D-2FB7-41F8-ABF0-D04E2DE79670">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-1F50303F-38EB-4CF5-A333-A75E01255585__GUID-B3532748-B4C0-4E6E-A78E-D96FFC0D66D7"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1F50303F-38EB-4CF5-A333-A75E01255585__GUID-1F4EF330-1C8A-43EC-93D0-C9845612F6EB"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1F50303F-38EB-4CF5-A333-A75E01255585__GUID-C8941EE7-BA31-4DFC-89C6-96CD9F265D23"><!-- --></a> elem（IN）</dt>
                        <dd>
                           <p>指向要附加到给定集合末尾的元素的指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1F50303F-38EB-4CF5-A333-A75E01255585__GUID-2A3F9665-A24D-4DE1-9471-FD2E7CC601CD"><!-- --></a> elemind（IN）[可选]</dt>
                        <dd>
                           <p>指向元素的<code class="codeph">NULL</code>指示符信息的指针。如果（ <code class="codeph">elemind</code> == NULL）则将附加元素的<code class="codeph">NULL</code>指示符信息设置为非<code class="codeph">NULL</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1F50303F-38EB-4CF5-A333-A75E01255585__GUID-CC8AFBA3-C8BF-4766-B680-8B21A9D90FAE"><!-- --></a> coll（IN / OUT）</dt>
                        <dd>
                           <p>更新的集合。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1F50303F-38EB-4CF5-A333-A75E01255585__GUID-F8954185-BB3C-47B5-9C91-72AD6F842A49">评论</p>
                     <p>附加元素相当于通过一个元素增加集合的大小，并使用给定元素的数据更新（深度复制）最后一个元素的数据。请注意，此函数不保存指向给定元素<code class="codeph">elem</code>的指针，这意味着<code class="codeph">elem</code>严格地是输入参数。
                     </p>
                     <p>如果不存在元素， <code class="codeph">OCICollAppend()</code>将在索引0处创建一个元素。用于绑定PL / SQL索引表的方法（数组绑定）假定起始索引为1。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1F50303F-38EB-4CF5-A333-A75E01255585__GUID-6916D5F7-2F03-4AE1-97A0-5B93472F7C5A">返回</p>
                     <p>如果在追加元素之前集合的当前大小等于集合的最大大小（上限），则此函数返回错误。如果任何输入参数为<code class="codeph">NULL</code>则此函数也会返回错误。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17376"></a><div class="props_rev_3"><a id="GUID-35E6A810-6CF7-4446-81F5-AC8A65BA4593" name="GUID-35E6A810-6CF7-4446-81F5-AC8A65BA4593"></a><h3 id="LNOCI-GUID-35E6A810-6CF7-4446-81F5-AC8A65BA4593" class="sect3"><span class="enumeration_section">28.2.2</span> OCICollAssign（）</h3>
               <div>
                  <p>将（深拷贝）一个集合分配给另一个集合。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-35E6A810-6CF7-4446-81F5-AC8A65BA4593__GUID-CA202ED5-DCAD-4D2E-8B8F-988FD32009A9">目的</p>
                     <p>将（深拷贝）一个集合分配给另一个集合。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-35E6A810-6CF7-4446-81F5-AC8A65BA4593__GUID-3F58433A-0282-4395-9755-213E7A7F4D68">句法</p><pre class="oac_no_warn" dir="ltr">剑OCICollAssign（OCIEnv * env，OCIError *错误，const OCIColl * rhs，OCIColl * lhs）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-35E6A810-6CF7-4446-81F5-AC8A65BA4593__GUID-E4937F1D-62C0-4123-9E0E-23A4922D57D3">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-35E6A810-6CF7-4446-81F5-AC8A65BA4593__GUID-C512B8FC-277F-48E1-9D3D-FCB53D5AAB9D"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-35E6A810-6CF7-4446-81F5-AC8A65BA4593__GUID-F467B9CD-FDCC-4CE3-8948-7A66D54B4CC2"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-35E6A810-6CF7-4446-81F5-AC8A65BA4593__GUID-5BC1AD2A-38FD-4CC0-8742-22771BED9032"><!-- --></a> rhs（IN）</dt>
                        <dd>
                           <p>要分配的右侧（源）集合。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-35E6A810-6CF7-4446-81F5-AC8A65BA4593__GUID-FFD9581F-5C97-4255-9411-0FBC6CC68999"><!-- --></a> lhs（OUT）</dt>
                        <dd>
                           <p>要分配的左侧（目标）集合。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-35E6A810-6CF7-4446-81F5-AC8A65BA4593__GUID-FD12DA5D-909C-4343-98AF-8A36C5BF624F">评论</p>
                     <p>将<code class="codeph">rhs</code> （源）分配给<code class="codeph">lhs</code> （目标）。根据<code class="codeph">rhs</code>的大小，可以减少或增加<code class="codeph">lhs</code>集合。如果<code class="codeph">lhs</code>集合包含任何元素，则在分配之前删除元素。此功能执行深层复制。元素的内存来自对象缓存。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-35E6A810-6CF7-4446-81F5-AC8A65BA4593__GUID-3C168CB9-05A7-4333-AEB7-A4C176999895">返回</p>
                     <p>如果<code class="codeph">lhs</code>和<code class="codeph">rhs</code>集合的元素类型不匹配，则返回错误。此外，如果<code class="codeph">lhs</code>集合的上限小于<code class="codeph">rhs</code>集合中当前的元素数，则会返回错误。如果出现以下情况，也会返回错</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>任何输入参数都是<code class="codeph">NULL</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">lhs</code>和<code class="codeph">rhs</code>集合之间存在类型不匹配</p>
                        </li>
                        <li>
                           <p><code class="codeph">lhs</code>集合的上限小于<code class="codeph">rhs</code>集合中当前的元素数</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91" title="将给定元素值elem分配给coll [index]处的元素。">OCICollAssignElem（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17377"></a><div class="props_rev_3"><a id="GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91" name="GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91"></a><h3 id="LNOCI-GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91" class="sect3"><span class="enumeration_section">28.2.3</span> OCICollAssignElem（）</h3>
               <div>
                  <p>将给定元素值<code class="codeph">elem</code>分配给<code class="codeph">coll[index]</code>处的元素。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91__GUID-CD12C671-D3B0-49F6-998C-4ABF1EC62027">目的</p>
                     <p>将给定元素值<code class="codeph">elem</code>分配给<code class="codeph">coll[index]</code>处的元素。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91__GUID-863057EF-2EA6-4277-9072-B93B469B525E">句法</p><pre class="oac_no_warn" dir="ltr">剑OCICollAssignElem（OCIEnv * env，OCIError * err，sb4 index，const void * elem，const void * elemind，OCIColl * coll）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91__GUID-0C10970A-E726-4908-A85A-0ECF57B50BBB">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91__GUID-007F0CB9-FEDA-4B50-8ED4-C3809DB87F99"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91__GUID-7025CC77-A241-4695-9381-13F9A640F0C5"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91__GUID-7B664636-A16C-4772-BCEA-76F048D6C74B"><!-- --></a>索引（IN）</dt>
                        <dd>
                           <p>分配元素的元素的索引。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91__GUID-8BA021A2-14BD-4078-B487-02168CAE17E6"><!-- --></a>元素（IN）</dt>
                        <dd>
                           <p>从中分配元素的源元素。请参阅<a href="using-object-type-translator-in-oci.html#GUID-FC45BE3C-C48C-427C-A60B-7B7658A42AD6__CIHEBCFC" title="该表有3列。第1列是对象属性类型，第2列是其对应的C映射，第3列是其对应的OCITypeCode值。">表24-1</a> ，其中列出了参数<code class="codeph">elem</code>可以找到的数据类型和C数据类型。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91__GUID-D4E05D8F-D79A-48C2-BD9A-9419BC0E1739"><!-- --></a> elemind（IN）[可选]</dt>
                        <dd>
                           <p>指向元素的<code class="codeph">NULL</code>指示符信息的指针;如果（ <code class="codeph">elemind</code> == <code class="codeph">NULL</code> ），则将指定元素的<code class="codeph">NULL</code>指示符信息设置为非<code class="codeph">NULL</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91__GUID-37310C23-6D1D-418C-9650-FF4F1BEBEE68"><!-- --></a> coll（IN / OUT）</dt>
                        <dd>
                           <p>要更新的集合。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91__GUID-25170176-CA3A-4A02-827F-EBE46F23F073">评论</p>
                     <p>如果集合是嵌套表类型，则给定索引处的元素可能不存在，就像删除元素时一样。在这种情况下，给定元素插入<code class="codeph">index</code> 。否则， <code class="codeph">index</code>处的元素将使用<code class="codeph">elem</code>的值进行更新。
                     </p>
                     <p>请注意，给定元素是深度复制的， <code class="codeph">elem</code>严格来说是输入参数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91__GUID-FDE6CA5B-D512-4981-A88F-F34E560E2642">返回</p>
                     <p>如果任何输入参数为<code class="codeph">NULL</code>或者给定索引超出给定集合的范围，则此函数返回错误。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-35E6A810-6CF7-4446-81F5-AC8A65BA4593" title="将（深拷贝）一个集合分配给另一个集合。">OCICollAssign（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17379"></a><a id="LNOCI17378"></a><div class="props_rev_3"><a id="GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F" name="GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F"></a><h3 id="LNOCI-GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F" class="sect3"><span class="enumeration_section">28.2.4</span> OCICollGetElem（）</h3>
               <div>
                  <p>获取指向给定索引处元素的指针。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F__GUID-AD847BE3-E546-4EC0-8309-03768AF5570B">目的</p>
                     <p>获取指向给定索引处元素的指针。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F__GUID-AD8A909D-18A4-464F-84AC-30F74C5C8F89">句法</p><pre class="oac_no_warn" dir="ltr">剑OCICollGetElem（OCIEnv * env，OCIError *错误，const OCIColl * coll，sb4索引，布尔*存在，void ** elem，void ** elemind）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F__GUID-6DD71E67-778D-45B4-922D-8999FAAD1329">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F__GUID-E285E0D5-3EC0-4CB6-9076-22D84F07EC98"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F__GUID-427F4E53-FC4D-4EBC-8235-19BA8ABF7747"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F__GUID-3F7CE37A-D11E-4DE1-8F02-DC6A092F3120"><!-- --></a> coll（IN）</dt>
                        <dd>
                           <p>指向要返回的此集合中元素的指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F__GUID-3E27B923-8AD4-4B26-8AD0-41065609BD70"><!-- --></a>索引（IN）</dt>
                        <dd>
                           <p>返回指针的元素的索引。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F__GUID-9FD4746A-812D-4A95-BD5A-7B3C06893BCB"><!-- --></a>存在（OUT）</dt>
                        <dd>
                           <p>如果指定索引处的元素不存在，则设置为<code class="codeph">FALSE</code> ;否则，设置为<code class="codeph">TRUE</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F__GUID-B3A7ED7B-F138-43FB-B708-776037EFE0E6"><!-- --></a>元素（OUT）</dt>
                        <dd>
                           <p>要返回的元素的地址。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F__GUID-C98A586B-20E4-4F68-8C28-99AAFF42D96C"><!-- --></a> elemind（OUT）[可选]</dt>
                        <dd>
                           <p>返回<code class="codeph">NULL</code>指示符信息的地址。如果（ <code class="codeph">elemind</code> == <code class="codeph">NULL</code> ），则不返回<code class="codeph">NULL</code>指示符信息。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F__GUID-ABB953FA-FDCD-455C-8DEB-7301EBFC4608">评论</p>
                     <p>获取给定位置的元素的地址。可选地，该函数还返回元素的<code class="codeph">NULL</code>指示符信息的地址。
                     </p>
                     <p><a href="oci-collection-and-iterator-functions.html#GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F__CEGHGIBI" title="该表有3列。第1列是OCITypeCode值，第2列是* elem设置为的返回值，第3列是相应的元素类型。">表28-3</a>描述了每个OCI类型代码值，元素指针类型以及相应的集合元素类型。使用<code class="codeph">OCICollGetElem()</code>的<code class="codeph">elem</code>参数返回元素指针。有关<code class="codeph">OCITypeCode</code>值的更完整列表，请参阅表中的关于将对象数据类型映射<a href="using-object-type-translator-in-oci.html#GUID-FC45BE3C-C48C-427C-A60B-7B7658A42AD6" title="本节介绍Oracle对象属性类型与OTT生成的C类型的映射关系。">到C</a>中的对象类型属性的对象数据类型映射。
                     </p>
                     <div class="tblformalwide" id="GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F__CEGHGIBI">
                        <p class="titleintable">表28-3元素指针</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="元素指针" width="100%" border="1" summary="This table has 3 columns. Column 1 is the OCITypeCode value, column 2 is the return value that *elem is set to, and column 3 is the corresponding element type." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d251963e1770">OCITypeCode值</th>
                                 <th align="left" valign="bottom" id="d251963e1773">* elem设置为</th>
                                 <th align="left" valign="bottom" id="d251963e1776">元素类型</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d251963e1781" headers="d251963e1770 ">
                                    <p>OCI_TYPECODE_NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1781 d251963e1773 ">
                                    <p><code class="codeph">OCINumber *</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1781 d251963e1776 ">
                                    <p>Oracle <code class="codeph">NUMBER</code> （ <code class="codeph">OCINumber</code> ）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d251963e1798" headers="d251963e1770 ">
                                    <p>OCI_TYPECODE_DATE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1798 d251963e1773 ">
                                    <p><code class="codeph">OCIDate *</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1798 d251963e1776 ">
                                    <p>日期（ <code class="codeph">OCIDate</code> ）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d251963e1812" headers="d251963e1770 ">
                                    <p>OCI_TYPECODE_TIMESTAMP</p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1812 d251963e1773 ">
                                    <p><code class="codeph">OCIDateTime *</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1812 d251963e1776 ">
                                    <p>日期时间（ <code class="codeph">OCIDateTime</code> ）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d251963e1826" headers="d251963e1770 ">
                                    <p>OCI_TYPECODE_INTERVAL_YM，OCI_TYPECODE_INTERVAL_DS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1826 d251963e1773 ">
                                    <p><code class="codeph">OCIInterval *</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1826 d251963e1776 ">
                                    <p>间隔（ <code class="codeph">OCIInterval</code> ）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d251963e1840" headers="d251963e1770 ">
                                    <p>OCI_TYPECODE_CHAR（n），OCI_TYPECODE_NCHAR</p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1840 d251963e1773 ">
                                    <p><code class="codeph">OCIString **</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1840 d251963e1776 ">
                                    <p>可变长度字符串（ <code class="codeph">OCIString*</code> ）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d251963e1854" headers="d251963e1770 ">
                                    <p>OCI_TYPECODE_RAW</p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1854 d251963e1773 ">
                                    <p><code class="codeph">OCIRaw **</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1854 d251963e1776 ">
                                    <p>可变长度原始（ <code class="codeph">OCIRaw*</code> ）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d251963e1868" headers="d251963e1770 ">
                                    <p>OCI_TYPECODE_REF</p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1868 d251963e1773 ">
                                    <p><code class="codeph">OCIRef **</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1868 d251963e1776 ">
                                    <p>对象引用（ <code class="codeph">OCIRef*</code> ）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d251963e1882" headers="d251963e1770 ">
                                    <p>OCI_TYPECODE_BLOB，OCI_TYPECODE_CLOB，OCI_TYPECODE_NCLOB</p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1882 d251963e1773 ">
                                    <p><code class="codeph">OCILobLocator **</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1882 d251963e1776 ">
                                    <p>Lob定位器（ <code class="codeph">OCILobLocator*</code> ）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d251963e1896" headers="d251963e1770 ">
                                    <p>OCI_TYPECODE_OBJECT</p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1896 d251963e1773 ">
                                    <p><code class="codeph">人*</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1896 d251963e1776 ">
                                    <p>对象类型（如人）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d251963e1907" headers="d251963e1770 ">
                                    <p>OCI_TYPECODE_NAMEDCOLLECTION</p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1907 d251963e1773 ">
                                    <p><code class="codeph">OCIColl *</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d251963e1907 d251963e1776 ">
                                    <p>集合</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><code class="codeph">OCICollGetElem()</code>返回的元素指针的形式不仅可以用于访问元素数据，还可以用作赋值语句的目标（左侧）。
                     </p>
                     <p>例如，假设用户正在迭代其元素类型为对象引用（ <code class="codeph">OCIRef*</code> ）的集合的元素。对<code class="codeph">OCICollGetElem()</code>调用返回指向引用句柄的指针（ <code class="codeph">OCIRef**</code> ）。获取指向集合元素的指针后，您可能希望通过分配新引用来修改它。
                     </p>
                     <p>以下代码示例显示了如何使用<code class="codeph">OCIRefAssign()</code>函数完成此<code class="codeph">OCIRefAssign()</code> 。
                     </p>
                     <p>将指针的新引用分配给集合元素</p><pre class="oac_no_warn" dir="ltr">sword OCIRefAssign（OCIEnv * env，OCIError * err，const OCIRef * source，OCIRef ** target）;</pre><p>请注意， <code class="codeph">OCIRefAssign()</code>的<code class="codeph">target</code>参数是<code class="codeph">OCIRef**</code>类型。因此<code class="codeph">OCICollGetElem()</code>返回<code class="codeph">OCIRef**</code> 。如果<code class="codeph">*target</code>等于<code class="codeph">NULL</code> ，则由<code class="codeph">OCIRefAssign()</code>分配新的<code class="codeph">REF</code>并在<code class="codeph">target</code>参数中返回。
                     </p>
                     <p>类似地，如果collection元素的类型为string（ <code class="codeph">OCIString*</code> ），则<code class="codeph">OCICollGetElem()</code>返回指向字符串句柄的指针（即<code class="codeph">OCIString**</code> ）。如果通过<code class="codeph">OCIStringAssign()</code>或<code class="codeph">OCIStringAssignText()</code>分配了新字符串，则目标类型必须为<code class="codeph">OCIString **</code> 。
                     </p>
                     <p>如果collection元素的类型为Oracle <code class="codeph">NUMBER</code> ，则<code class="codeph">OCICollGetElem()</code>返回<code class="codeph">OCINumber*</code> 。以下代码示例显示了<code class="codeph">OCINumberAssign()</code>调用的原型。
                     </p>
                     <p>OCINumberAssign（）调用的原型</p><pre class="oac_no_warn" dir="ltr">剑OCINumberAssign（OCIError *错误，const OCINumber * from，OCINumber * to）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F__GUID-701EB9A5-D143-4AE1-B9A0-EDBA11319037">返回</p>
                     <p>如果任何输入参数为<code class="codeph">NULL</code>则<code class="codeph">OCICollGetElem()</code>函数返回错误。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91" title="将给定元素值elem分配给coll [index]处的元素。">OCICollAssignElem（）</a></li>
                        <li><a href="oci-REF-functions.html#GUID-14FAE208-53C4-4542-BD81-1A2093D2AD93" title="将一个REF分配给另一个，这样两者都引用同一个对象。">OCIRefAssign（）</a></li>
                        <li><a href="oci-string-functions.html#GUID-58BC140A-900C-4409-B3D2-C2DC8FB643FF" title="将一个字符串分配给另一个字符串。">OCIStringAssign（）</a></li>
                        <li><a href="oci-string-functions.html#GUID-96E8375B-9017-4E06-BF85-09C12DF286F4" title="将源文本字符串分配给目标字符串。">OCIStringAssignText（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17380"></a><div class="props_rev_3"><a id="GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F" name="GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F"></a><h3 id="LNOCI-GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F" class="sect3"><span class="enumeration_section">28.2.5</span> OCICollGetElemArray（）</h3>
               <div>
                  <p>在给定起始索引时，从集合中获取元素数组。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F__GUID-06A3B469-0141-4BE6-BCD0-DFF174EF2B44">目的</p>
                     <p>在给定起始索引时，从集合中获取元素数组。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F__GUID-CE8BD647-0AC6-4E02-892F-CBAD1EC0D485">句法</p><pre class="oac_no_warn" dir="ltr">剑OCICollGetElemArray（OCIEnv * env，OCIError * err，const OCIColl * coll，sb4 index，boolean * exists，void ** elem，void ** elemind，uword * nelems）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F__GUID-9DA85236-3309-4BB9-9B62-729CF2E8BD36">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F__GUID-64000838-322F-4B36-8E9F-34D15693C806"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F__GUID-6B504B56-D454-4EEC-9686-1B228B8AE329"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F__GUID-037181E2-8FB3-4065-A0AA-7D3D79DB31C4"><!-- --></a> coll（IN）</dt>
                        <dd>
                           <p>指向要返回此集合中元素的指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F__GUID-5E68B22D-2FF8-4140-A214-F5CC520B7621"><!-- --></a>索引（IN）</dt>
                        <dd>
                           <p>元素的起始索引。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F__GUID-6BF23773-EBFF-4C83-BFF8-79C8DF24A1C1"><!-- --></a>存在（OUT）</dt>
                        <dd>
                           <p>如果指定索引处的元素不存在，则设置为<code class="codeph">FALSE</code> ;否则，它被设置为<code class="codeph">TRUE</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F__GUID-8EB0FD93-360D-4031-A0C7-7AD4ABB774BD"><!-- --></a> elem（OUT）</dt>
                        <dd>
                           <p>要返回的所需元素的地址。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F__GUID-2CFD0C97-D4B1-4974-BA68-8B04C5EFB738"><!-- --></a> elemind（OUT）[可选]</dt>
                        <dd>
                           <p>要返回的<code class="codeph">NULL</code>指示符信息的地址。如果（ <code class="codeph">elemind == NULL</code> ）， <span class="italic">则不</span>返回<code class="codeph">NULL</code>指示符信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F__GUID-B31A73A3-F858-434D-9FDD-FD5895B1655F"><!-- --></a> nelems（IN）</dt>
                        <dd>
                           <p><code class="codeph">elem</code>和<code class="codeph">elemind</code>最大指针数。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F__GUID-A6C30D9D-C955-49E0-BB99-5BE0481D128E">评论</p>
                     <p>获取给定位置的元素的地址。</p>
                     <p>对于按整数集合的索引， <code class="codeph">OCICollGetElemArray()</code>获取从给定索引开始的元素，但丢失了进程中每个元素的索引信息。用户能够以该数组的形式从该索引处获取元素数据，但无法获取数组中每个元素的索引。此行为类似于<code class="codeph">OCIIterCreate()</code> ， <code class="codeph">OCIIterDelete()</code> ， <code class="codeph">OCIIterGetCurrent()</code> ， <code class="codeph">OCIIterInit()</code> ， <code class="codeph">OCIIterNext()</code>和<code class="codeph">OCIIterPrev()</code>函数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F__GUID-D9FA1664-0443-4397-8C9B-6A721BFA036A">返回</p>
                     <p>可选地，该函数还返回元素的<code class="codeph">NULL</code>指示符信息的地址。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F" title="获取指向给定索引处元素的指针。">OCICollGetElem（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-A76A027E-C93D-415B-879F-251897CE2AB2" title="创建一个迭代器来扫描元素或集合。">OCIIterCreate（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-CAA61916-750A-4A36-B488-09126DA64FF8" title="删除集合迭代器。">OCIIterDelete（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA" title="获取指向当前迭代器集合元素的指针。">OCIIterGetCurrent（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81" title="初始化迭代器以扫描集合。">OCIIterInit（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5" title="获取指向下一个迭代器集合元素的指针。">OCIIterNext（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884" title="获取指向前一个迭代器集合元素的指针。">OCIIterPrev（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17381"></a><div class="props_rev_3"><a id="GUID-9962E0B5-587C-4FCC-BD73-09058C820658" name="GUID-9962E0B5-587C-4FCC-BD73-09058C820658"></a><h3 id="LNOCI-GUID-9962E0B5-587C-4FCC-BD73-09058C820658" class="sect3"><span class="enumeration_section">28.2.6</span> OCICollIsLocator（）</h3>
               <div>
                  <p>指示集合是否基于定位器。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-9962E0B5-587C-4FCC-BD73-09058C820658__GUID-9454AE98-8897-48ED-8660-E56177762BE1">目的</p>
                     <p>指示集合是否基于定位器。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9962E0B5-587C-4FCC-BD73-09058C820658__GUID-D058C5E9-D1C1-4F32-AC64-350B605EC3A9">句法</p><pre class="oac_no_warn" dir="ltr">剑OCICollIsLocator（OCIEnv * env，OCIError * err，const OCIColl * coll，boolean * result）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9962E0B5-587C-4FCC-BD73-09058C820658__GUID-7B1A6D27-73A8-4EC8-A1E2-CA6021D0362D">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-9962E0B5-587C-4FCC-BD73-09058C820658__GUID-21BAF072-B62E-4877-BC57-DA2BC39546EB"><!-- --></a> env（IN）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9962E0B5-587C-4FCC-BD73-09058C820658__GUID-F7723658-60E6-46C3-8FBB-DE186F858236"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm">coll（PL） <a name="GUID-9962E0B5-587C-4FCC-BD73-09058C820658__GUID-5F078AEC-9542-4051-A472-70AB63252CAE"><!-- --></a></dt>
                        <dd>
                           <p>收集项目。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9962E0B5-587C-4FCC-BD73-09058C820658__GUID-E80251F0-8021-492E-A708-7232641E1721"><!-- --></a>结果（OUT）</dt>
                        <dd>
                           <p>如果集合项是基于定位器的，则返回<code class="codeph">TRUE</code> ，否则返回<code class="codeph">FALSE</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9962E0B5-587C-4FCC-BD73-09058C820658__GUID-7A92878F-6431-4ECF-A0F4-82997E1A92FC">评论</p>
                     <p>此函数测试以查看集合是否基于定位器。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9962E0B5-587C-4FCC-BD73-09058C820658__GUID-2B600CE9-BB51-4D67-A051-519866120DB8">返回</p>
                     <p>如果集合项是基于定位器的，则在<code class="codeph">result</code>参数中返回<code class="codeph">TRUE</code> ;否则返回<code class="codeph">TRUE</code> 。否则，它返回<code class="codeph">FALSE</code> 。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17382"></a><div class="props_rev_3"><a id="GUID-848C1BF1-B0AD-47DF-9B80-9DA7A4020019" name="GUID-848C1BF1-B0AD-47DF-9B80-9DA7A4020019"></a><h3 id="LNOCI-GUID-848C1BF1-B0AD-47DF-9B80-9DA7A4020019" class="sect3"><span class="enumeration_section">28.2.7</span> OCICollMax（）</h3>
               <div>
                  <p>获取给定集合的元素数量的最大大小。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-848C1BF1-B0AD-47DF-9B80-9DA7A4020019__GUID-E6BB1E7D-31B3-4F39-BFA7-CF02DABE1078">目的</p>
                     <p>获取给定集合的元素数量的最大大小。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-848C1BF1-B0AD-47DF-9B80-9DA7A4020019__GUID-53203C10-4B12-42DE-B350-A26EFAB9AF01">句法</p><pre class="oac_no_warn" dir="ltr">sb4 OCICollMax（OCIEnv * env，const OCIColl * coll）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-848C1BF1-B0AD-47DF-9B80-9DA7A4020019__GUID-92723670-10FA-4105-9B8E-8C15C760B22A">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-848C1BF1-B0AD-47DF-9B80-9DA7A4020019__GUID-6FE55E27-3BB4-42B1-9405-B7871A871B85"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-848C1BF1-B0AD-47DF-9B80-9DA7A4020019__GUID-C367103B-9114-407E-93DD-F9636467A574"><!-- --></a> coll（IN）</dt>
                        <dd>
                           <p>返回其元素数量的集合。<code class="codeph">coll</code>参数必须指向有效的集合描述符。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-848C1BF1-B0AD-47DF-9B80-9DA7A4020019__GUID-A6FFBFA5-BDF3-4B16-B5BA-0D25568E6146">评论</p>
                     <p>返回给定集合可容纳的最大元素数。值为零表示集合没有上限。</p>
                     <p>对于不支持负索引的集合，最大索引号也是集合的最大大小。但是，对于索引整数集合，情况并非如此，因为某些元素可能具有负索引，因此最大索引编号元素与最大集合大小不同。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-848C1BF1-B0AD-47DF-9B80-9DA7A4020019__GUID-155E1315-1CFE-4337-905B-880CF3881099">返回</p>
                     <p>给定集合的上限。</p>
                     <p>索引整数集合的返回值始终为0（无上限）。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-B8F6665F-12F1-43DB-A27E-82A2A655D701" title="获取给定集合的元素数量的当前大小。">OCICollSize（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17383"></a><div class="props_rev_3"><a id="GUID-B8F6665F-12F1-43DB-A27E-82A2A655D701" name="GUID-B8F6665F-12F1-43DB-A27E-82A2A655D701"></a><h3 id="LNOCI-GUID-B8F6665F-12F1-43DB-A27E-82A2A655D701" class="sect3"><span class="enumeration_section">28.2.8</span> OCICollSize（）</h3>
               <div>
                  <p>获取给定集合的元素数量的当前大小。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B8F6665F-12F1-43DB-A27E-82A2A655D701__GUID-167B0827-88DB-49CE-9D6D-502E13FA69DE">目的</p>
                     <p>获取给定集合的元素数量的当前大小。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B8F6665F-12F1-43DB-A27E-82A2A655D701__GUID-5FC5FCB6-BEDF-4CA6-859A-08B666D514BF">句法</p><pre class="oac_no_warn" dir="ltr">剑OCICollSize（OCIEnv * env，OCIError *错误，const OCIColl * coll sb4 * size）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B8F6665F-12F1-43DB-A27E-82A2A655D701__GUID-E1BD9B71-4D9D-45E7-9C84-DFE9D098F8D5">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B8F6665F-12F1-43DB-A27E-82A2A655D701__GUID-8CE64DE8-D730-4319-A26E-CED3A4226D28"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B8F6665F-12F1-43DB-A27E-82A2A655D701__GUID-00B36B7B-8B50-4A0F-965C-8A8B734883DE"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B8F6665F-12F1-43DB-A27E-82A2A655D701__GUID-FB543D06-D495-43FA-9BDD-09FFDD936FD2"><!-- --></a> coll（IN）</dt>
                        <dd>
                           <p>返回其元素数量的集合。必须指向有效的集合描述符。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B8F6665F-12F1-43DB-A27E-82A2A655D701__GUID-0FEC1B39-E613-47F4-BA47-70D7B0891692"><!-- --></a>尺寸（OUT）</dt>
                        <dd>
                           <p>集合中当前的元素数。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B8F6665F-12F1-43DB-A27E-82A2A655D701__GUID-A877A28F-74F7-4B32-98DD-9A22DC78EB7A">评论</p>
                     <p>返回给定集合中当前的元素数。对于嵌套表，删除元素时不会减少此计数。因此，此计数包括通过删除元素创建的任何<span class="italic">漏洞</span> 。修剪操作（ <code class="codeph">OCICollTrim()</code> ）将计数减少修剪元素的数量。要获得计数减去已删除的元素，请使用<code class="codeph">OCITableSize()</code> 。
                     </p>
                     <p>以下伪代码显示了一些示例：</p><pre class="oac_no_warn" dir="ltr">OCICollSize（...）; //假设返回的'size'等于5 OCITableDelete（...）; //删除一个元素OCICollSize（...）; //'size'返回仍为5</pre><p>要获得计数减去已删除的元素，请使用<code class="codeph">OCITableSize()</code> 。继续前面的例子：</p><pre class="oac_no_warn" dir="ltr">OCITableSize（...）//'size'返回等于4</pre><p>修剪操作<code class="codeph">OCICollTrim()</code> ）将计数减少修剪元素的数量。继续前面的例子：</p><pre class="oac_no_warn" dir="ltr">OCICollTrim（..，1 ..）; //修剪一个元素OCICollSize（...）; //'size'返回等于4</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B8F6665F-12F1-43DB-A27E-82A2A655D701__GUID-F36D9CE3-18FE-49F7-9B42-61F098487A12">返回</p>
                     <p>如果在将集合加载到对象高速缓存期间发生错误或者任何输入参数为<code class="codeph">NULL</code> ，则<code class="codeph">OCICollSize()</code>函数将返回错误。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-848C1BF1-B0AD-47DF-9B80-9DA7A4020019" title="获取给定集合的元素数量的最大大小。">OCICollMax（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-1AC632AC-97AA-4E38-BF50-6460D3929F96" title="从集合的末尾修剪给定数量的元素。">OCICollTrim（）</a></li>
                        <li><a href="oci-table-functions.html#GUID-547D71E5-518F-493A-8B5C-66316D534049" title="返回给定表的大小，不包括已删除元素创建的任何漏洞。">OCITableSize（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17384"></a><div class="props_rev_3"><a id="GUID-1AC632AC-97AA-4E38-BF50-6460D3929F96" name="GUID-1AC632AC-97AA-4E38-BF50-6460D3929F96"></a><h3 id="LNOCI-GUID-1AC632AC-97AA-4E38-BF50-6460D3929F96" class="sect3"><span class="enumeration_section">28.2.9</span> OCICollTrim（）</h3>
               <div>
                  <p>从集合的末尾修剪给定数量的元素。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-1AC632AC-97AA-4E38-BF50-6460D3929F96__GUID-2DDE3715-EC43-420E-8426-ED275F69698C">目的</p>
                     <p>从集合的末尾修剪给定数量的元素。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1AC632AC-97AA-4E38-BF50-6460D3929F96__GUID-B4E71890-5B4F-49CE-BF2C-5D36C7118618">句法</p><pre class="oac_no_warn" dir="ltr">剑OCICollTrim（OCIEnv * env，OCIError *错误，sb4 trim_num，OCIColl * coll）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1AC632AC-97AA-4E38-BF50-6460D3929F96__GUID-BF4DD31D-FBDF-469D-8BC5-EEBC24DE2388">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-1AC632AC-97AA-4E38-BF50-6460D3929F96__GUID-09434CB1-540E-4AF4-BBB9-1F9452225436"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1AC632AC-97AA-4E38-BF50-6460D3929F96__GUID-68AFC865-45DA-47B3-9FD8-734626B5E964"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1AC632AC-97AA-4E38-BF50-6460D3929F96__GUID-75895FB5-E179-4D96-AB4E-D90E17647B69"><!-- --></a> trim_num（IN）</dt>
                        <dd>
                           <p>要修剪的元素数量。</p>
                        </dd>
                        <dt class="dlterm">coll（LO / OUT） <a name="GUID-1AC632AC-97AA-4E38-BF50-6460D3929F96__GUID-9130F181-27BF-4498-839A-CB697F394C05"><!-- --></a></dt>
                        <dd>
                           <p>从集合<code class="codeph">coll</code>的末尾删除（释放） <code class="codeph">trim_num</code>元素。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1AC632AC-97AA-4E38-BF50-6460D3929F96__GUID-E8F11A0F-8DD0-4D72-9C84-ACCE05153AAE">评论</p>
                     <p>元素将从集合的末尾删除。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1AC632AC-97AA-4E38-BF50-6460D3929F96__GUID-C9A24785-3A68-4A21-B49F-B121C006FDF2">返回</p>
                     <p>如果<code class="codeph">trim_num</code>大于集合的当前大小，则返回错误。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-B8F6665F-12F1-43DB-A27E-82A2A655D701" title="获取给定集合的元素数量的当前大小。">OCICollSize（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17385"></a><div class="props_rev_3"><a id="GUID-A76A027E-C93D-415B-879F-251897CE2AB2" name="GUID-A76A027E-C93D-415B-879F-251897CE2AB2"></a><h3 id="LNOCI-GUID-A76A027E-C93D-415B-879F-251897CE2AB2" class="sect3"><span class="enumeration_section">28.2.10</span> OCIIterCreate（）</h3>
               <div>
                  <p>创建一个迭代器来扫描元素或集合。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-A76A027E-C93D-415B-879F-251897CE2AB2__GUID-63640510-7AB7-464D-9E75-6B229FF4AE9C">目的</p>
                     <p>创建一个迭代器来扫描元素或集合。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A76A027E-C93D-415B-879F-251897CE2AB2__GUID-C8A22C29-3D1F-4162-BCFB-15CE838CCE46">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIIterCreate（OCIEnv * env，OCIError *错误，const OCIColl * coll，OCIIter ** itr）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A76A027E-C93D-415B-879F-251897CE2AB2__GUID-A92E4370-8194-422F-A2D9-6EF7B10B6695">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-A76A027E-C93D-415B-879F-251897CE2AB2__GUID-17A1A008-ADE6-4882-BB93-3E0F517A46F4"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A76A027E-C93D-415B-879F-251897CE2AB2__GUID-70F82364-3F61-44B5-BA69-AF46C4E80C62"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A76A027E-C93D-415B-879F-251897CE2AB2__GUID-02D4B081-312F-4FFE-A742-A3F1D5F45AC5"><!-- --></a> coll（IN）</dt>
                        <dd>
                           <p>扫描的集合。对于Oracle8 <span class="italic">i</span>或更高版本，有效的集合类型包括varrays和嵌套表。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A76A027E-C93D-415B-879F-251897CE2AB2__GUID-BC289DD8-897C-420C-ABA1-02B3F1038F81"><!-- --></a> itr（OUT）</dt>
                        <dd>
                           <p>此函数返回的已分配集合迭代器的地址。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A76A027E-C93D-415B-879F-251897CE2AB2__GUID-A9CC8C82-77A2-4736-B2DF-234012A2D631">评论</p>
                     <p>迭代器在对象缓存中创建。迭代器初始化为指向集合的开头。</p>
                     <p>如果在创建迭代器后立即调用<code class="codeph">OCIIterNext()</code> ，则返回该集合的第一个元素。如果在创建迭代器后立即调用<code class="codeph">OCIIterPrev()</code> ，则返回“at collection of collection”错误。
                     </p>
                     <p>对于索引整数集合， <code class="codeph">OCIIterCreate()</code> ， <code class="codeph">OCIIterDelete()</code> ， <code class="codeph">OCIIterGetCurrent()</code> ， <code class="codeph">OCIIterInit()</code> ， <code class="codeph">OCIIterNext()</code>和<code class="codeph">OCIIterPrev()</code>函数都忽略集合中每个元素的索引。也就是说， <code class="codeph">OCIIterGetCurrent()</code>只返回元素值而不返回元素的索引。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A76A027E-C93D-415B-879F-251897CE2AB2__GUID-FD248F3D-8216-4526-BC7F-A8FA93829011">返回</p>
                     <p>如果任何输入参数为<code class="codeph">NULL</code>则此函数返回错误。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-CAA61916-750A-4A36-B488-09126DA64FF8" title="删除集合迭代器。">OCIIterDelete（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA" title="获取指向当前迭代器集合元素的指针。">OCIIterGetCurrent（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81" title="初始化迭代器以扫描集合。">OCIIterInit（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5" title="获取指向下一个迭代器集合元素的指针。">OCIIterNext（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884" title="获取指向前一个迭代器集合元素的指针。">OCIIterPrev（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17386"></a><div class="props_rev_3"><a id="GUID-CAA61916-750A-4A36-B488-09126DA64FF8" name="GUID-CAA61916-750A-4A36-B488-09126DA64FF8"></a><h3 id="LNOCI-GUID-CAA61916-750A-4A36-B488-09126DA64FF8" class="sect3"><span class="enumeration_section">28.2.11</span> OCIIterDelete（）</h3>
               <div>
                  <p>删除集合迭代器。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-CAA61916-750A-4A36-B488-09126DA64FF8__GUID-018F5BCC-6CA3-4BC9-BC49-8158B9401A5A">目的</p>
                     <p>删除集合迭代器。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CAA61916-750A-4A36-B488-09126DA64FF8__GUID-E086C250-5EE5-47D9-B5F5-6E6B9A136BBE">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIIterDelete（OCIEnv * env，OCIError *错误，OCIIter ** itr）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CAA61916-750A-4A36-B488-09126DA64FF8__GUID-51D652A3-2084-4ADB-9421-7A5401E41687">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-CAA61916-750A-4A36-B488-09126DA64FF8__GUID-ED338AE1-C7E4-4A8B-B6C1-4E98CEDB87D5"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-CAA61916-750A-4A36-B488-09126DA64FF8__GUID-A36F3DDE-DD52-45F5-83B4-6E571A4EBA32"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-CAA61916-750A-4A36-B488-09126DA64FF8__GUID-7C5A7364-2E85-4821-9EE3-316359C27CB6"><!-- --></a> itr（IN / OUT）</dt>
                        <dd>
                           <p>已分配的集合迭代器，在返回之前被销毁并设置为<code class="codeph">NULL</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CAA61916-750A-4A36-B488-09126DA64FF8__GUID-9855CC76-C1FA-40C5-B491-AAA60D84FAF1">评论</p>
                     <p>删除先前通过调用<code class="codeph">OCIIterCreate()</code>创建的迭代器。
                     </p>
                     <p>对于索引整数集合， <code class="codeph">OCIIterCreate()</code> ， <code class="codeph">OCIIterDelete()</code> ， <code class="codeph">OCIIterGetCurrent()</code> ， <code class="codeph">OCIIterInit()</code> ， <code class="codeph">OCIIterNext()</code>和<code class="codeph">OCIIterPrev()</code>函数都忽略集合中每个元素的索引。也就是说， <code class="codeph">OCIIterGetCurrent()</code>只返回元素值而不返回元素的索引。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CAA61916-750A-4A36-B488-09126DA64FF8__GUID-9FA1DC70-75DC-49B7-B7C1-54C6B52E25AC">返回</p>
                     <p>如果任何输入参数为<code class="codeph">NULL</code>则此函数返回错误。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-A76A027E-C93D-415B-879F-251897CE2AB2" title="创建一个迭代器来扫描元素或集合。">OCIIterCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA" title="获取指向当前迭代器集合元素的指针。">OCIIterGetCurrent（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81" title="初始化迭代器以扫描集合。">OCIIterInit（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5" title="获取指向下一个迭代器集合元素的指针。">OCIIterNext（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884" title="获取指向前一个迭代器集合元素的指针。">OCIIterPrev（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17387"></a><div class="props_rev_3"><a id="GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA" name="GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA"></a><h3 id="LNOCI-GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA" class="sect3"><span class="enumeration_section">28.2.12</span> OCIIterGetCurrent（）</h3>
               <div>
                  <p>获取指向当前迭代器集合元素的指针。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA__GUID-9829E74C-5E28-4DB1-B83B-1DF3E084518E">目的</p>
                     <p>获取指向当前迭代器集合元素的指针。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA__GUID-17E0183A-333D-458B-9354-F70F82170A11">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIIterGetCurrent（OCIEnv * env，OCIError *错误，const OCIIter * itr，void ** elem，void ** elemind）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA__GUID-A07B3106-FDAC-49B0-9437-D88520C42919">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA__GUID-581A65DB-D060-4F44-A5EB-D7254C6D1812"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA__GUID-5768BA36-F7BF-4860-8EF1-0FE5958781D4"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA__GUID-2499CCFF-7D96-4E5F-A424-F95559FB6FFD"><!-- --></a> itr（IN）</dt>
                        <dd>
                           <p>指向当前元素的迭代器。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA__GUID-EEC64D74-7723-4DD9-8216-BCB1E5BA5BD0"><!-- --></a>元素（OUT）</dt>
                        <dd>
                           <p>要返回的迭代器指向的元素的地址。请参阅<a href="using-object-type-translator-in-oci.html#GUID-FC45BE3C-C48C-427C-A60B-7B7658A42AD6__CIHEBCFC" title="该表有3列。第1列是对象属性类型，第2列是其对应的C映射，第3列是其对应的OCITypeCode值。">表24-1</a> ，其中列出了参数<code class="codeph">elem</code>可以找到的数据类型和C数据类型。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA__GUID-4EC093BB-12DB-4219-A784-0EA6619DF971"><!-- --></a> elemind（OUT）[可选]</dt>
                        <dd>
                           <p>要返回的元素的<code class="codeph">NULL</code>指示符信息的地址;如果（ <code class="codeph">elem_ind</code> == NULL） <span class="italic">则不</span>返回<code class="codeph">NULL</code>指示符信息。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA__GUID-0BF0CC19-AE1B-44A5-A0CC-D71248C0CF3C">评论</p>
                     <p>返回指向当前迭代器集合元素及其相应<code class="codeph">NULL</code>信息的指针。
                     </p>
                     <p>对于索引整数集合， <code class="codeph">OCIIterCreate()</code> ， <code class="codeph">OCIIterGetCurrent()</code> ， <code class="codeph">OCIIterInit()</code> ， <code class="codeph">OCIIterNext()</code>和<code class="codeph">OCIIterPrev()</code>函数都忽略集合中每个元素的索引。也就是说， <code class="codeph">OCIIterGetCurrent()</code>只返回元素值而不返回元素的索引。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA__GUID-72FBAACA-289A-415D-9D37-CDFED4244AC7">返回</p>
                     <p>如果任何输入参数为<code class="codeph">NULL</code>则此函数返回错误。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-A76A027E-C93D-415B-879F-251897CE2AB2" title="创建一个迭代器来扫描元素或集合。">OCIIterCreate（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-CAA61916-750A-4A36-B488-09126DA64FF8" title="删除集合迭代器。">OCIIterDelete（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81" title="初始化迭代器以扫描集合。">OCIIterInit（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5" title="获取指向下一个迭代器集合元素的指针。">OCIIterNext（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884" title="获取指向前一个迭代器集合元素的指针。">OCIIterPrev（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17388"></a><div class="props_rev_3"><a id="GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81" name="GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81"></a><h3 id="LNOCI-GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81" class="sect3"><span class="enumeration_section">28.2.13</span> OCIIterInit（）</h3>
               <div>
                  <p>初始化迭代器以扫描集合。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81__GUID-100A59AF-544E-4AFC-A475-AC2DA856F8C3">目的</p>
                     <p>初始化迭代器以扫描集合。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81__GUID-9A13D9C3-6B65-4207-B042-58A5B073D4FE">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIIterInit（OCIEnv * env，OCIError *错误，const OCIColl * coll，OCIIter * itr）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81__GUID-294972B9-2711-4E34-9637-20BCA845FB7D">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81__GUID-09CE16E9-304F-4FC3-A0E8-0EED66DB534E"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81__GUID-8749A39E-CABF-4F95-A4F1-745863C825B3"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81__GUID-789A565E-FEB0-4D64-97F3-7081AE5E1D70"><!-- --></a> coll（IN）</dt>
                        <dd>
                           <p>扫描的集合。对于Oracle8 <span class="italic">i</span>或更高版本，有效的集合类型包括varrays和嵌套表。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81__GUID-8820A7EC-0B47-4EF2-A120-352B3382249F"><!-- --></a> itr（IN / OUT）</dt>
                        <dd>
                           <p>指向已分配的集合迭代器的指针。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81__GUID-11431E9F-C574-47EB-98F1-42CAB58F794E">评论</p>
                     <p>在给定的迭代器处初始化以指向给定集合的开头。您可以使用此功能执行以下任务之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>重置迭代器以指回集合的开头。</p>
                        </li>
                        <li>
                           <p>重用已分配的迭代器来扫描不同的集合。</p>
                        </li>
                     </ul>
                     <p>对于索引整数集合， <code class="codeph">OCIIterCreate()</code> ， <code class="codeph">OCIIterDelete()</code> ， <code class="codeph">OCIIterGetCurrent()</code> ， <code class="codeph">OCIIterInit()</code> ， <code class="codeph">OCIIterNext()</code>和<code class="codeph">OCIIterPrev()</code>函数都忽略集合中每个元素的索引。也就是说， <code class="codeph">OCIIterGetCurrent()</code>只返回元素值而不返回元素的索引。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81__GUID-BED71BDB-45D2-46E6-8257-2121E10109BF">返回</p>
                     <p>如果任何输入参数为<code class="codeph">NULL</code>则返回错误。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-A76A027E-C93D-415B-879F-251897CE2AB2" title="创建一个迭代器来扫描元素或集合。">OCIIterCreate（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-CAA61916-750A-4A36-B488-09126DA64FF8" title="删除集合迭代器。">OCIIterDelete（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA" title="获取指向当前迭代器集合元素的指针。">OCIIterGetCurrent（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5" title="获取指向下一个迭代器集合元素的指针。">OCIIterNext（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884" title="获取指向前一个迭代器集合元素的指针。">OCIIterPrev（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17389"></a><div class="props_rev_3"><a id="GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5" name="GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5"></a><h3 id="LNOCI-GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5" class="sect3"><span class="enumeration_section">28.2.14</span> OCIIterNext（）</h3>
               <div>
                  <p>获取指向下一个迭代器集合元素的指针。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5__GUID-0B9E1565-8618-4092-A409-B0CA4D57FA60">目的</p>
                     <p>获取指向下一个迭代器集合元素的指针。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5__GUID-A26B1329-3444-43B3-9176-754ACDF16F6A">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIIterNext（OCIEnv * env，OCIError *错误，OCIIter * itr，void ** elem，void ** elemind，boolean * eoc）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5__GUID-A009BED6-36B6-4ECC-8D5A-CC097C6FAC76">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5__GUID-064553C0-5B80-495A-858C-14CC989EEABB"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5__GUID-CD06CA56-DC21-433D-BF3A-FEF27B249CA1"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5__GUID-F91655C2-ABEF-48E0-BDFA-9BD9D6AF3A5A"><!-- --></a> itr（IN / OUT）</dt>
                        <dd>
                           <p>迭代器更新为指向下一个元素。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5__GUID-B6384448-BA5B-49E7-9674-AB807BE92A25"><!-- --></a>元素（OUT）</dt>
                        <dd>
                           <p>下一个元素的地址;迭代器更新后指向它返回。请参阅<a href="using-object-type-translator-in-oci.html#GUID-FC45BE3C-C48C-427C-A60B-7B7658A42AD6__CIHEBCFC" title="该表有3列。第1列是对象属性类型，第2列是其对应的C映射，第3列是其对应的OCITypeCode值。">表24-1</a> ，其中列出了参数<code class="codeph">elem</code>可以找到的数据类型和C数据类型。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5__GUID-E5ABAC07-EA53-44C7-A95B-BF8ACCEED36E"><!-- --></a> elemind（OUT）[可选]</dt>
                        <dd>
                           <p>元素的<code class="codeph">NULL</code>指示符信息的地址;如果（ <code class="codeph">elem_ind</code> == <code class="codeph">NULL</code> ）， <span class="italic">则不</span>返回<code class="codeph">NULL</code>指示符信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5__GUID-ECC0139A-24A1-4111-9FD1-F83B7AD48EE8"><!-- --></a> eoc（OUT）</dt>
                        <dd>
                           <p>如果迭代器位于集合的末尾（即，下一个元素不存在），则为<code class="codeph">TRUE</code> ;否则， <code class="codeph">FALSE</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5__GUID-A39B572C-709A-4DE1-A2E6-96F3EF533263">评论</p>
                     <p>此函数返回指向下一个迭代器集合元素及其相应的<code class="codeph">NULL</code>信息的指针。它还会更新迭代器以指向下一个元素。
                     </p>
                     <p>如果迭代器在执行此函数之前指向集合的最后一个元素，则调用此函数<code class="codeph">eoc</code>标志设置为<code class="codeph">TRUE</code> 。在这种情况下，迭代器保持不变。
                     </p>
                     <p>对于索引整数集合， <code class="codeph">OCIIterCreate()</code> ， <code class="codeph">OCIIterDelete()</code> ， <code class="codeph">OCIIterGetCurrent()</code> ， <code class="codeph">OCIIterInit()</code> ， <code class="codeph">OCIIterNext()</code>和<code class="codeph">OCIIterPrev()</code>函数都忽略集合中每个元素的索引。也就是说， <code class="codeph">OCIIterGetCurrent()</code>只返回元素值而不返回元素的索引。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5__GUID-46EFA450-3E8F-41CF-91D4-5CD05A2E429E">返回</p>
                     <p>如果任何输入参数为<code class="codeph">NULL</code>则此函数返回错误。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-A76A027E-C93D-415B-879F-251897CE2AB2" title="创建一个迭代器来扫描元素或集合。">OCIIterCreate（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-CAA61916-750A-4A36-B488-09126DA64FF8" title="删除集合迭代器。">OCIIterDelete（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA" title="获取指向当前迭代器集合元素的指针。">OCIIterGetCurrent（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81" title="初始化迭代器以扫描集合。">OCIIterInit（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884" title="获取指向前一个迭代器集合元素的指针。">OCIIterPrev（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17390"></a><div class="props_rev_3"><a id="GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884" name="GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884"></a><h3 id="LNOCI-GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884" class="sect3"><span class="enumeration_section">28.2.15</span> OCIIterPrev（）</h3>
               <div>
                  <p>获取指向前一个迭代器集合元素的指针。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884__GUID-8B7A4B52-4AD9-4648-8B7D-CF4ADC377561">目的</p>
                     <p>获取指向前一个迭代器集合元素的指针。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884__GUID-23937A8C-61B8-43EF-9BA4-FF3700F970CD">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIIterPrev（OCIEnv * env，OCIError *错误，OCIIter * itr，void ** elem，void ** elemind，boolean * boc）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884__GUID-AF49E7C8-8CE3-4965-87AD-8B6264CE337C">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884__GUID-DE891ACC-1306-48EC-8ADF-7BC26D7B4EA2"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884__GUID-156D1BDE-5BE2-46B1-8E71-F0161752C6B5"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884__GUID-D9AF1539-423D-4B99-AA98-26AC7C6D58C4"><!-- --></a> itr（IN / OUT）</dt>
                        <dd>
                           <p>迭代器更新为指向上一个元素。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884__GUID-8CE88735-5914-4819-88A8-F498ED73DAF0"><!-- --></a> elem（OUT）</dt>
                        <dd>
                           <p>前一个元素的地址;迭代器更新后指向它返回。请参阅<a href="using-object-type-translator-in-oci.html#GUID-FC45BE3C-C48C-427C-A60B-7B7658A42AD6__CIHEBCFC" title="该表有3列。第1列是对象属性类型，第2列是其对应的C映射，第3列是其对应的OCITypeCode值。">表24-1</a> ，其中列出了参数<code class="codeph">elem</code>可以找到的数据类型和C数据类型。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884__GUID-77B9B848-D023-4BEB-9DC8-AC82C366492A"><!-- --></a> elemind（OUT）[可选]</dt>
                        <dd>
                           <p>元素的<code class="codeph">NULL</code>指示符信息的地址;如果（ <code class="codeph">elemind</code> == <code class="codeph">NULL</code> ）， <span class="italic">则不</span>返回<code class="codeph">NULL</code>指示符信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884__GUID-A9F76415-B24A-4473-8B3A-D42C4820C607"><!-- --></a> boc（OUT）</dt>
                        <dd>
                           <p>如果迭代器位于集合的开头（即前一个元素不存在），则为<code class="codeph">TRUE</code> ;否则， <code class="codeph">FALSE</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884__GUID-B859E8D6-A1FE-411D-BAAD-0EE67C254755">评论</p>
                     <p>此函数返回指向前一个迭代器集合元素及其相应<code class="codeph">NULL</code>信息的指针。更新迭代器以指向前一个元素。
                     </p>
                     <p>如果在执行此函数之前迭代器指向集合的第一个元素，则调用此函数<code class="codeph">boc</code>设置为<code class="codeph">TRUE</code> 。在这种情况下，迭代器保持不变。
                     </p>
                     <p>对于索引整数集合， <code class="codeph">OCIIterCreate()</code> ， <code class="codeph">OCIIterDelete()</code> ， <code class="codeph">OCIIterGetCurrent()</code> ， <code class="codeph">OCIIterInit()</code> ， <code class="codeph">OCIIterNext()</code>和<code class="codeph">OCIIterPrev()</code>函数都忽略集合中每个元素的索引。也就是说， <code class="codeph">OCIIterGetCurrent()</code>只返回元素值而不返回元素的索引。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884__GUID-33C62EB9-018F-4865-B5CC-2CF6211613DD">返回</p>
                     <p>如果任何输入参数为<code class="codeph">NULL</code>则此函数返回错误。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-A76A027E-C93D-415B-879F-251897CE2AB2" title="创建一个迭代器来扫描元素或集合。">OCIIterCreate（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-CAA61916-750A-4A36-B488-09126DA64FF8" title="删除集合迭代器。">OCIIterDelete（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA" title="获取指向当前迭代器集合元素的指针。">OCIIterGetCurrent（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81" title="初始化迭代器以扫描集合。">OCIIterInit（）</a></li>
                        <li><a href="oci-collection-and-iterator-functions.html#GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5" title="获取指向下一个迭代器集合元素的指针。">OCIIterNext（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="00558.aq-program-interfaces.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="These topics describe the various language options and elements you must work with and issues to consider in preparing your Oracle Database Advanced Queuing (AQ) application environment."></meta>
      <meta name="description" content="These topics describe the various language options and elements you must work with and issues to consider in preparing your Oracle Database Advanced Queuing (AQ) application environment."></meta>
      <title>Oracle数据库高级队列：程序化接口</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Advanced Queuing User&#39;s Guide "></meta>
      <meta property="og:description" content="These topics describe the various language options and elements you must work with and issues to consider in preparing your Oracle Database Advanced Queuing (AQ) application environment."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Advanced Queuing User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96511-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="aq-basic-components.html" title="Previous" type="text/html"></link>
      <link rel="next" href="managing-aq.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle® Database Advanced Queuing"></meta>
    <meta name="dcterms.isVersionOf" content="ADQUE"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="aq-basic-components.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="managing-aq.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">高级排队用户指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle数据库高级队列：程序化接口</li>
            </ol>
            <a id="GUID-9A4C8FD4-235D-4F90-B757-3E36B2E5CF76" name="GUID-9A4C8FD4-235D-4F90-B757-3E36B2E5CF76"></a><a id="ADQUE0300"></a>
            
            <h2 id="ADQUE-GUID-9A4C8FD4-235D-4F90-B757-3E36B2E5CF76" class="sect2"><span class="enumeration_chapter">3</span> Oracle数据库高级队列：编程接口</h2>
         </header>
         <div class="ind">
            <div>
               <p>这些主题描述了在准备Oracle数据库高级队列（AQ）应用程序环境时必须使用的各种语言选项和元素以及需要考虑的问题。</p>
               <div class="infoboxnote" id="GUID-9A4C8FD4-235D-4F90-B757-3E36B2E5CF76__GUID-E31AEBBE-E326-4A8D-B40F-098BAC89F721">
                  <p class="notep1">注意：</p>
                  <p>Java包<code class="codeph">oracle.AQ</code>在10 <span class="italic">g</span> Release 1（10.1）中被弃用。Oracle建议您将现有Java AQ应用程序迁移到Oracle JMS（或其他Java API），并使用Oracle JMS（或其他Java API）来设计未来的Java AQ应用程序。
                  </p>
               </div>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="aq-program-interfaces.html#GUID-3ABEC585-5475-45FF-AD29-35CD924E198C" title="该表列出了Oracle Database Advanced Queuing编程接口，每个接口支持的功能以及语法参考。">用于访问Oracle数据库高级队列的编程接口</a></p>
                  </li>
                  <li>
                     <p><a href="aq-program-interfaces.html#GUID-854DA685-3AAE-44B5-9C27-E705312DFFC5" title="PL / SQL包DBMS_AQADM和DBMS_AQ支持使用本机Oracle Database Advanced Queuing接口访问Oracle Database Advanced Queuing管理和操作功能。">使用PL / SQL访问Oracle数据库高级队列</a></p>
                  </li>
                  <li>
                     <p><a href="aq-program-interfaces.html#GUID-73D77453-6933-47A6-AC77-E45A32142902" title="Oracle调用接口（OCI）使用本机Oracle数据库高级队列接口为Oracle数据库高级队列功能提供接口。">使用OCI访问Oracle数据库高级队列</a></p>
                  </li>
                  <li>
                     <p><a href="aq-program-interfaces.html#GUID-4B4EB467-3A46-4892-BC56-4697B0D29265" title="C ++应用程序可以使用OCCI，它具有一组Oracle数据库高级队列接口，使消息传递客户端能够访问Oracle数据库高级队列。">使用OCCI访问Oracle数据库高级队列</a></p>
                  </li>
                  <li>
                     <p><a href="aq-program-interfaces.html#GUID-ADD9DEAA-C2E3-4C87-9504-163F0DE7F21E" title="Java消息服务（JMS）是由Sun Microsystems，Oracle，IBM和其他供应商定义的消息传递标准。JMS是一组接口和关联语义，用于定义JMS客户端如何访问企业消息传递产品的工具。Oracle Java消息服务（Oracle JMS）基于JMS标准为Oracle数据库高级排队提供Java API。">使用Oracle Java消息服务（Oracle JMS）访问Oracle数据库高级队列</a></p>
                  </li>
                  <li>
                     <p><a href="aq-program-interfaces.html#GUID-3F298EB4-8B4E-4B59-BBD5-B21A37EFFCE0" title="您可以使用Oracle数据库高级排队XML servlet通过HTTP使用简单对象访问协议（SOAP）和称为Internet数据访问演示（IDAP）的Oracle数据库高级排队XML消息格式访问Oracle数据库高级排队。">使用Oracle数据库高级排队XML Servlet访问Oracle数据库高级排队</a></p>
                  </li>
                  <li>
                     <p><a href="aq-program-interfaces.html#GUID-DD482B03-1752-4FBA-AD75-77B15658B4BF" title="这些主题列出并比较了Oracle数据库高级排队管理接口和Oracle数据库高级排队操作接口。">比较Oracle数据库高级队列编程接口</a></p>
                  </li>
               </ul>
            </div><a id="ADQUE2534"></a><a id="ADQUE2533"></a><div class="props_rev_3"><a id="GUID-3ABEC585-5475-45FF-AD29-35CD924E198C" name="GUID-3ABEC585-5475-45FF-AD29-35CD924E198C"></a><h3 id="ADQUE-GUID-3ABEC585-5475-45FF-AD29-35CD924E198C" class="sect3"><span class="enumeration_section">3.1</span>用于访问Oracle数据库高级队列的编程接口</h3>
               <div>
                  <p>该表列出了Oracle Database Advanced Queuing编程接口，每个接口支持的功能以及语法参考。</p>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-3ABEC585-5475-45FF-AD29-35CD924E198C__CHDBDJDI">
                     <p class="titleintable">表3-1 Oracle数据库高级排队编程接口</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle数据库高级队列编程接口" width="100%" border="1" summary="Rows correspond to languages. For each language, the first column is its name, the second column is the precompiler or interface program used with that language, the third column shows what functions are supported in that language, and the fourth column shows where to find its syntax." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="16%" id="d14535e186">语言</th>
                              <th align="left" valign="bottom" width="37%" id="d14535e189">预编译器或接口程序</th>
                              <th align="left" valign="bottom" width="18%" id="d14535e192">支持的功能</th>
                              <th align="left" valign="bottom" width="29%" id="d14535e195">语法参考</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d14535e200" headers="d14535e186 ">
                                 <p>PL / SQL</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d14535e200 d14535e189 ">
                                 <p><code class="codeph">DBMS_AQADM</code>和<code class="codeph">DBMS_AQ</code>包</p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d14535e200 d14535e192 ">
                                 <p>行政和业务</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d14535e200 d14535e195 ">
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adque&amp;id=ARPLS004" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d14535e222" headers="d14535e186 ">
                                 <p>C</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d14535e222 d14535e189 ">
                                 <p><a href="glossary.html#GUID-4C11A79C-E65E-4B48-8A30-E628E322B025"><span class="xrefglossterm">Oracle调用接口</span></a> （OCI）</p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d14535e222 d14535e192 ">
                                 <p>仅限运营</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d14535e222 d14535e195 ">
                                 <p><a href="../lnoci/introduction.html#LNOCI010" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d14535e242" headers="d14535e186 ">
                                 <p>Java（JMS）</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d14535e242 d14535e189 ">
                                 <p><code class="codeph">神谕。使用JDBC <a href="glossary.html#GUID-2003BA71-5534-477C-990D-5ABE432A5907"><span class="xrefglossterm">API的</span></a> JMS</code>包</p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d14535e242 d14535e192 ">
                                 <p>行政和业务</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d14535e242 d14535e195 ">
                                 <p><a href="../jajms/index.html" target="_blank"><span class="italic">Oracle数据库高级队列Java API参考</span></a> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d14535e264" headers="d14535e186 ">
                                 <p>AQ XML <a href="glossary.html#GUID-06CAA1CB-595D-492E-9543-7F003B45839A"><span class="xrefglossterm">servlet</span></a></p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d14535e264 d14535e189 ">
                                 <p><a href="glossary.html#GUID-DDF7D235-94BE-4294-A4DC-811C06EF06F3"><span class="xrefglossterm">互联网数据访问演示</span></a> （IDAP）</p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d14535e264 d14535e192 ">
                                 <p>仅限运营</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d14535e264 d14535e195 ">
                                 <p> <a href="../adxdb/XML-data-exchange-using-streams-AQ.html#ADXDB5760" target="_blank"><span class="italic">Oracle XML DB开发人员指南</span></a></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ADQUE2535"></a><div class="props_rev_3"><a id="GUID-854DA685-3AAE-44B5-9C27-E705312DFFC5" name="GUID-854DA685-3AAE-44B5-9C27-E705312DFFC5"></a><h3 id="ADQUE-GUID-854DA685-3AAE-44B5-9C27-E705312DFFC5" class="sect3"><span class="enumeration_section">3.2</span>使用PL / SQL访问Oracle数据库高级队列</h3>
               <div>
                  <p>PL / SQL包<code class="codeph">DBMS_AQADM</code>和<code class="codeph">DBMS_AQ</code>支持使用本机Oracle Database Advanced Queuing接口访问Oracle Database Advanced Queuing管理和操作功能。
                  </p>
                  <p>这些功能包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>创建<a href="glossary.html#GUID-583DEF67-C9BC-4B83-B8DC-2375A5BE08BB"><span class="xrefglossterm">队列</span></a> ， <a href="glossary.html#GUID-45894F1F-4871-4A00-9171-2743821BAD3A"><span class="xrefglossterm">队列表</span></a> ， <a href="glossary.html#GUID-A91ACE79-576B-49F6-BE03-D4A792B9B468"><span class="xrefglossterm">非持久</span></a>队列，分片<a href="glossary.html#GUID-2FB637EC-4964-4E48-A71A-3C4F27606A0B"><span class="xrefglossterm">队列</span></a> ，多<a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">消息</span></a>队列/主题，RAW <a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">消息</span></a>或带结构化数据的消息</p>
                     </li>
                     <li>
                        <p>获取队列表，队列或多消息队列/主题</p>
                     </li>
                     <li>
                        <p>更改队列表或队列/主题</p>
                     </li>
                     <li>
                        <p>删除队列/主题</p>
                     </li>
                     <li>
                        <p>启动或停止队列/主题</p>
                     </li>
                     <li>
                        <p>授予和撤销权限</p>
                     </li>
                     <li>
                        <p>添加，删除或更改<a href="glossary.html#GUID-3E2C69B7-A56C-4F86-8997-5A708E1F14F3"><span class="xrefglossterm">订阅者</span></a></p>
                     </li>
                     <li>
                        <p>添加，删除或更改Oracle Database Advanced Queuing Internet代理</p>
                     </li>
                     <li>
                        <p>授予或撤消数据库用户对Oracle Database Advanced Queuing Internet代理的权限</p>
                     </li>
                     <li>
                        <p>启用，禁用或更改<a href="glossary.html#GUID-DE5B852F-823C-4DC8-B6BB-4825D688A00A"><span class="xrefglossterm">传播</span></a>计划</p>
                     </li>
                     <li>
                        <p>将消息排入单个<a href="glossary.html#GUID-B9071BDE-395F-4686-B2D2-A1B83F986BCC"><span class="xrefglossterm">消费者</span></a>队列（点对点模型）</p>
                     </li>
                     <li>
                        <p>将消息发布到多消费者队列/主题（ <a href="glossary.html#GUID-C1099A1A-C20D-4C9C-AD73-BBF6BC8939B5"><span class="xrefglossterm">发布/订阅</span></a>模型）</p>
                     </li>
                     <li>
                        <p>订阅multiconsumer队列中的消息</p>
                     </li>
                     <li>
                        <p>浏览队列中的消息</p>
                     </li>
                     <li>
                        <p>从队列/主题接收消息</p>
                     </li>
                     <li>
                        <p>注册以异步方式接收消息</p>
                     </li>
                     <li>
                        <p>侦听多个队列/主题上的消息</p>
                     </li>
                     <li>
                        <p>将消息发布到匿名订阅</p>
                     </li>
                     <li>
                        <p>在<a href="glossary.html#GUID-6BF3485C-E98F-4344-A7DE-64950BCCE160"><span class="xrefglossterm">轻型目录访问协议</span></a> （LDAP）服务器中绑定或取消绑定代理</p>
                     </li>
                     <li>
                        <p>在LDAP服务器中向Oracle Database Advanced Queuing对象添加或删除别名</p>
                     </li>
                  </ul>
                  <p>可用的PL / SQL <code class="codeph">DBMS_AQADM</code>和<code class="codeph">DBMS_AQ</code>函数在表3-2到表3-9中详细列出。
                  </p>
                  <div class="p">
                     <div class="infoboxnotealso" id="GUID-854DA685-3AAE-44B5-9C27-E705312DFFC5__GUID-09927643-6BD6-463C-9335-D6F5C562E7C3">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../arpls/DBMS_AQ.html#ARPLS004" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a>有关<code class="codeph">DBMS_AQADM</code>和<code class="codeph">DBMS_AQ</code>详细文档，包括语法，参数，参数类型，返回值和示例</p>
                     </div>
                  </div>
               </div>
            </div><a id="ADQUE2537"></a><a id="ADQUE2536"></a><div class="props_rev_3"><a id="GUID-73D77453-6933-47A6-AC77-E45A32142902" name="GUID-73D77453-6933-47A6-AC77-E45A32142902"></a><h3 id="ADQUE-GUID-73D77453-6933-47A6-AC77-E45A32142902" class="sect3"><span class="enumeration_section">3.3</span>使用OCI和瘦JDBC驱动程序访问Oracle数据库高级队列</h3>
               <div>
                  <p>Oracle调用接口（OCI）使用本机Oracle数据库高级队列接口为Oracle数据库高级队列功能提供接口。</p>
                  <p>OCI客户端可以执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>排队邮件</p>
                     </li>
                     <li>
                        <p>出列消息</p>
                     </li>
                     <li>
                        <p>侦听队列集上的消息</p>
                     </li>
                     <li>
                        <p>注册以接收消息通知</p>
                     </li>
                  </ul>
                  <p>此外，OCI客户端可以使用<code class="codeph">OCISubscriptionRegister</code>接收队列中<code class="codeph">OCISubscriptionRegister</code> <a href="glossary.html#GUID-2869CF65-0641-4E97-9203-3BD8ED03F8D0"><span class="xrefglossterm">异步</span></a>通知。分片队列不支持OCI客户端。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-73D77453-6933-47A6-AC77-E45A32142902__GUID-00E609E6-0E53-4B02-8498-3E9C87A28B61">Oracle Type Translator</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对于具有用户定义的有效内容类型的队列，必须使用Oracle类型转换器为Oracle类型生成OCI / OCCI映射。OCI客户端负责释放Oracle数据库高级队列描述符和消息有效负载的内存。</p>
                     <div class="p">
                        <div class="infoboxnotealso" id="GUID-73D77453-6933-47A6-AC77-E45A32142902__GUID-AF33C15D-FDBB-400D-9C49-74B6A8F5B2D4">
                           <p class="notep1">也可以看看：</p>
                           <p>“ <a href="../lnoci/introduction.html#LNOCI16137" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> ”中的“OCI和高级队列”和“发布 - 订阅通知”，以获取语法详细信息</p>
                        </div>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADQUE2545"></a><div class="props_rev_3"><a id="GUID-DD482B03-1752-4FBA-AD75-77B15658B4BF" name="GUID-DD482B03-1752-4FBA-AD75-77B15658B4BF"></a><h4 id="ADQUE-GUID-DD482B03-1752-4FBA-AD75-77B15658B4BF" class="sect4"><span class="enumeration_section">3.3.1</span>比较Oracle数据库高级排队编程接口</h4>
                  <div>
                     <p>这些主题列出并比较了Oracle数据库高级排队管理接口和Oracle数据库高级排队操作接口。</p>
                     <p>表3-2到表3-9中的用例列出了Oracle Database Advanced Queuing编程接口的可用功能。<a href="aq-administrative-interface.html#GUID-31CF7723-6AB8-455A-8841-8683D936DD3E" title="这些主题描述了Oracle数据库高级队列（AQ）管理界面。">Oracle数据库高级队列管理界面中的</a>用例通过<a href="aq-operations-using-pl-sql.html#GUID-B302CBDB-0B75-4BF6-B705-5DC3EA26E605" title="这些主题描述了Oracle数据库高级队列（AQ）PL / SQL操作界面。">Oracle数据库高级排队操作使用PL / SQL</a>和<a href="jms-basic-operation.html#GUID-5A5BF079-B078-46FD-A29E-41192DC459B0">Oracle Java消息服务基本操作</a>通过<a href="jms-shared-interfaces.html#GUID-B53CE112-EBD2-48FD-BC3B-1090F5E29BD0">Oracle Java消息服务共享接口进行描述</a> 。
                     </p>
                  </div><a id="ADQUE2547"></a><a id="ADQUE2546"></a><div class="props_rev_3"><a id="GUID-8C778A12-C9BD-4965-BDC1-EBF52C140763" name="GUID-8C778A12-C9BD-4965-BDC1-EBF52C140763"></a><h5 id="ADQUE-GUID-8C778A12-C9BD-4965-BDC1-EBF52C140763" class="sect5"><span class="enumeration_section">3.3.1.1</span> Oracle数据库高级队列管理接口</h5>
                     <div>
                        <p>该表列出了PL / SQL和Java（JMS）编程接口的等效Oracle数据库高级队列管理功能。</p>
                        <div class="section"></div>
                        <!-- class="section" -->
                        <div class="tblformalwide" id="GUID-8C778A12-C9BD-4965-BDC1-EBF52C140763__G1011568">
                           <p class="titleintable">表3-2 Oracle数据库高级队列编程接口的比较：管理接口</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle数据库高级队列编程接口的比较：管理接口" width="100%" border="1" summary="Rows are use cases. The first column describes the use case, the second column shows the relevant PL/SQL interfaces, and the third column shows the relevant Java (JMS) interfaces." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d14535e728">用例</th>
                                    <th align="left" valign="bottom" width="23%" id="d14535e731">PL / SQL</th>
                                    <th align="left" valign="bottom" width="53%" id="d14535e734">Java（JMS）</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e739" headers="d14535e728 ">
                                       <p>创建连接工厂</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e739 d14535e731 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d14535e739 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsFactory.getQueue ConnectionFactory</pre><pre class="oac_no_warn" dir="ltr">AQjmsFactory.getTopic ConnectionFactory</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e751" headers="d14535e728 ">
                                       <p>在LDAP服务器中注册<a href="glossary.html#GUID-BA2DFFB2-5E44-4256-9DDD-D5B2AE0D81B9"><span class="xrefglossterm">ConnectionFactory</span></a></p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e751 d14535e731 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d14535e751 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsFactory.register ConnectionFactory</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e765" headers="d14535e728 ">
                                       <p>创建队列表</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e765 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.CREATE_QUEUE_TABLE</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e765 d14535e734 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">AQjmsSession.createQueueTable</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e776" headers="d14535e728 ">
                                       <p>获取队列表</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e776 d14535e731 ">
                                       <p>使用<span class="italic"><code class="codeph">schema</code></span> 。 <span class="italic"><code class="codeph">queue_table_name</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d14535e776 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsSession.getQueueTable</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e793" headers="d14535e728 ">
                                       <p>改变队列表</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e793 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ALTER_QUEUE_TABLE</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e793 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQQueueTable.alter</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e803" headers="d14535e728 ">
                                       <p>删除队列表</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e803 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.DROP_QUEUE_TABLE</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e803 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQQueueTable.drop</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e813" headers="d14535e728 ">
                                       <p>创建一个队列</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e813 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.CREATE_QUEUE</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e813 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsSession.createQueue</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e823" headers="d14535e728 ">
                                       <p>得到一个队列</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e823 d14535e731 ">
                                       <p>使用<span class="italic"><code class="codeph">schema.queue_name</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d14535e823 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsSession.getQueue</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e836" headers="d14535e728 ">
                                       <p>在队列表中创建多消费者队列/主题，并启用多个使用者</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e836 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.CREATE_QUEUE</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e836 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsSession.createTopic</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e846" headers="d14535e728 ">
                                       <p>获取多消费者队列/主题</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e846 d14535e731 ">
                                       <p>使用<span class="italic"><code class="codeph">schema.queue_name</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d14535e846 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsSession.getTopic</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e859" headers="d14535e728 ">
                                       <p>改变队列/主题</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e859 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ALTER_QUEUE</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e859 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsDestination.alter</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e870" headers="d14535e728 ">
                                       <p>启动队列/主题</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e870 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.START_QUEUE</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e870 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsDestination.start</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e880" headers="d14535e728 ">
                                       <p>停止队列/主题</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e880 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.STOP_QUEUE</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e880 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsDestination.stop</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e890" headers="d14535e728 ">
                                       <p>删除队列/主题</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e890 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.DROP_QUEUE</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e890 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsDestination.drop</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e900" headers="d14535e728 ">
                                       <p>创建分片队列</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e900 d14535e731 "><code class="codeph">DBMS_AQADM.CREATE_SHARDED_QUEUE</code></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e900 d14535e734 "><code class="codeph">AQjmsDestination.createJMSShardedQueue</code></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e910" headers="d14535e728 ">
                                       <p>删除分片队列</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e910 d14535e731 "><code class="codeph">DBMS_AQADM.DROP_SHARDED_QUEUE</code></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e910 d14535e734 "><code class="codeph">AQjmsDestination.dropJMSShardedQueue</code></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e920" headers="d14535e728 ">
                                       <p>更改分片队列</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e920 d14535e731 "><code class="codeph">DBMS_AQADM.ALTER_SHARDED_QUEUE</code></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e920 d14535e734 ">
                                       <p>没有。使用PL / SQL API。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e930" headers="d14535e728 ">
                                       <p>授予系统权限</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e930 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.GRANT_SYSTEM_ PRIVILEGE</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e930 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsSession.grantSystem权限</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e940" headers="d14535e728 ">
                                       <p>撤消系统权限</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e940 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.REVOKE_SYSTEM_ PRIVILEGE</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e940 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsSession.revokeSystem权限</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e950" headers="d14535e728 ">
                                       <p>授予队列/主题权限</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e950 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.GRANT_QUEUE_ PRIVILEGE</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e950 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsDestination.grantQueue权限</pre><pre class="oac_no_warn" dir="ltr">AQjmsDestination.grantTopic权限</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e962" headers="d14535e728 ">
                                       <p>撤消队列/主题权限</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e962 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.REVOKE_QUEUE_ PRIVILEGE</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e962 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsDestination.revokeQueue权限</pre><pre class="oac_no_warn" dir="ltr">AQjmsDestination.revokeTopic权限</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e974" headers="d14535e728 ">
                                       <p>验证队列类型</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e974 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.VERIFY_QUEUE_TYPES</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e974 d14535e734 ">
                                       <p>不支持</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e985" headers="d14535e728 ">
                                       <p>添加订阅者</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e985 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ADD_SUBSCRIBER</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e985 d14535e734 ">
                                       <p><a href="aq-program-interfaces.html#GUID-326E5FD9-0778-4AEB-8A9C-70EA58D5D1E6__G1011756" title="行是用例。第一列描述了用例。其他列分别显示了PL / SQL，OCI，AQ XML Servlet和JMS的相关PL / SQL接口。">见表3-6</a></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e999" headers="d14535e728 ">
                                       <p>改变订户</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e999 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ALTER_SUBSCRIBER</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e999 d14535e734 ">
                                       <p><a href="aq-program-interfaces.html#GUID-326E5FD9-0778-4AEB-8A9C-70EA58D5D1E6__G1011756" title="行是用例。第一列描述了用例。其他列分别显示了PL / SQL，OCI，AQ XML Servlet和JMS的相关PL / SQL接口。">见表3-6</a></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e1013" headers="d14535e728 ">
                                       <p>删除订阅者</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e1013 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.REMOVE_SUBSCRIBER</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e1013 d14535e734 ">
                                       <p><a href="aq-program-interfaces.html#GUID-326E5FD9-0778-4AEB-8A9C-70EA58D5D1E6__G1011756" title="行是用例。第一列描述了用例。其他列分别显示了PL / SQL，OCI，AQ XML Servlet和JMS的相关PL / SQL接口。">见表3-6</a></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e1027" headers="d14535e728 ">
                                       <p>安排传播</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e1027 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.SCHEDULE_PROPAGATION</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e1027 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsDestination.schedule传播</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e1037" headers="d14535e728 ">
                                       <p>启用传播计划</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e1037 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ENABLE_PROPAGATION_ SCHEDULE</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e1037 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsDestination.enable PropagationSchedule</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e1047" headers="d14535e728 ">
                                       <p>改变传播时间表</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e1047 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ALTER_PROPAGATION_ SCHEDULE</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e1047 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsDestination.alter PropagationSchedule</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e1057" headers="d14535e728 ">
                                       <p>禁用传播计划</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e1057 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.DISABLE_PROPAGATION_ SCHEDULE</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e1057 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsDestination.disable PropagationSchedule</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e1067" headers="d14535e728 ">
                                       <p>取消预定传播</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e1067 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.UNSCHEDULE_传播</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e1067 d14535e734 "><pre class="oac_no_warn" dir="ltr">AQjmsDestination.unschedule传播</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e1077" headers="d14535e728 ">
                                       <p>创建Oracle数据库高级排队Internet代理</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e1077 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.CREATE_AQ_AGENT</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e1077 d14535e734 ">
                                       <p>不支持</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e1087" headers="d14535e728 ">
                                       <p>更改Oracle数据库高级排队Internet代理</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e1087 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ALTER_AQ_AGENT</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e1087 d14535e734 ">
                                       <p>不支持</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e1097" headers="d14535e728 ">
                                       <p>删除Oracle数据库高级排队Internet代理</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e1097 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.DROP_AQ_AGENT</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e1097 d14535e734 ">
                                       <p>不支持</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e1108" headers="d14535e728 ">
                                       <p>授予Oracle Database Advanced Queuing Internet Agent的数据库用户权限</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e1108 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ENABLE_AQ_AGENT</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e1108 d14535e734 ">
                                       <p>不支持</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e1118" headers="d14535e728 ">
                                       <p>从Oracle数据库高级排队Internet代理撤消数据库用户权限</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e1118 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.DISABLE_AQ_AGENT</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e1118 d14535e734 ">
                                       <p>不支持</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e1128" headers="d14535e728 ">
                                       <p>在LDAP服务器中为queue，agent，ConnectionFactory添加别名</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e1128 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ADD_ALIAS_TO_LDAP</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e1128 d14535e734 ">
                                       <p>不支持</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d14535e1138" headers="d14535e728 ">
                                       <p>删除LDAP服务器中队列，代理，ConnectionFactory的别名</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d14535e1138 d14535e731 "><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.DEL_ALIAS_FROM_LDAP</pre></td>
                                    <td align="left" valign="top" width="53%" headers="d14535e1138 d14535e734 ">
                                       <p>不支持</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="ADQUE2549"></a><a id="ADQUE2550"></a><a id="ADQUE2551"></a><a id="ADQUE2552"></a><a id="ADQUE2553"></a><a id="ADQUE2554"></a><a id="ADQUE2555"></a><a id="ADQUE2548"></a><div class="props_rev_3"><a id="GUID-326E5FD9-0778-4AEB-8A9C-70EA58D5D1E6" name="GUID-326E5FD9-0778-4AEB-8A9C-70EA58D5D1E6"></a><h5 id="ADQUE-GUID-326E5FD9-0778-4AEB-8A9C-70EA58D5D1E6" class="sect5"><span class="enumeration_section">3.3.1.2</span> Oracle数据库高级排队操作接口</h5>
                     <div>
                        <p>这些表列出了针对各种用例的编程接口PL / SQL，OCI，Oracle数据库高级排队XML Servlet和JMS的等效Oracle数据库高级队列操作函数。</p>
                        <div class="section"></div>
                        <!-- class="section" -->
                        <div class="tblformalwide" id="GUID-326E5FD9-0778-4AEB-8A9C-70EA58D5D1E6__G1011716">
                           <p class="titleintable">表3-3 Oracle数据库高级队列编程接口的比较：操作接口 - 创建连接，会话，消息用例</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle数据库高级队列编程接口的比较：操作接口 - 创建连接，会话，消息用例" width="100%" border="1" summary="Rows are use cases. The first column describes the use case. The other columns show the relevant PL/SQL interfaces for PL/SQL, OCI, AQ XML Servlet, and JMS, respectively." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="14%" id="d14535e1223">用例</th>
                                    <th align="left" valign="bottom" width="13%" id="d14535e1226">PL / SQL</th>
                                    <th align="left" valign="bottom" width="16%" id="d14535e1229">OCI</th>
                                    <th align="left" valign="bottom" width="27%" id="d14535e1232">AQ XML Servlet</th>
                                    <th align="left" valign="bottom" width="31%" id="d14535e1235">JMS</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d14535e1240" headers="d14535e1223 ">
                                       <p>创建连接</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d14535e1240 d14535e1226 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="16%" headers="d14535e1240 d14535e1229 "><pre class="oac_no_warn" dir="ltr">OCIServer附加</pre></td>
                                    <td align="left" valign="top" width="27%" headers="d14535e1240 d14535e1232 ">
                                       <p>在使用Web服务器进行身份验证后打开HTTP连接</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d14535e1240 d14535e1235 "><pre class="oac_no_warn" dir="ltr">AQjmsQueueConnectionFactory .createQueueConnection</pre><pre class="oac_no_warn" dir="ltr">AQjmsTopicConnectionFactory .createTopicConnection</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d14535e1258" headers="d14535e1223 ">
                                       <p>创建会话</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d14535e1258 d14535e1226 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="16%" headers="d14535e1258 d14535e1229 "><pre class="oac_no_warn" dir="ltr">OCISession开始</pre></td>
                                    <td align="left" valign="top" width="27%" headers="d14535e1258 d14535e1232 ">
                                       <p>使用第一个SOAP请求自动启动HTTP Servlet会话</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d14535e1258 d14535e1235 "><pre class="oac_no_warn" dir="ltr">QueueConnection.createQueue会话</pre><pre class="oac_no_warn" dir="ltr">TopicConnection.createTopic会话</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d14535e1276" headers="d14535e1223 ">
                                       <p>创建RAW消息</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d14535e1276 d14535e1226 ">
                                       <p>使用SQL RAW类型作为消息</p>
                                    </td>
                                    <td align="left" valign="top" width="16%" headers="d14535e1276 d14535e1229 ">
                                       <p>使用OCIRaw消息</p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d14535e1276 d14535e1232 ">
                                       <p>在XML消息中提供消息有效负载的十六进制表示。例如， <code class="codeph">&lt;raw&gt;023f4523&lt;/raw&gt;</code></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d14535e1276 d14535e1235 ">
                                       <p>不支持</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d14535e1294" headers="d14535e1223 ">
                                       <p>使用结构化数据创建消息</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d14535e1294 d14535e1226 ">
                                       <p>使用SQL Oracle <a href="glossary.html#GUID-5A1E34E2-9B71-497D-879B-E355EDCF7108"><span class="xrefglossterm">对象类型</span></a>进行消息</p>
                                    </td>
                                    <td align="left" valign="top" width="16%" headers="d14535e1294 d14535e1229 ">
                                       <p>使用SQL Oracle对象类型进行消息</p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d14535e1294 d14535e1232 ">
                                       <p>对于非JMS队列的Oracle对象类型队列（即，它们不是类型<code class="codeph">AQ$_JMS_*</code> ）， <code class="codeph">&lt;message payload&gt;</code>指定的XML必须映射到队列表的有效负载的SQL类型。
                                       </p>
                                       <p>对于JMS队列， <code class="codeph">&lt;message_payload&gt;</code>指定的XML必须是以下之一： <code class="codeph">&lt;jms_text_message&gt;</code> ， <code class="codeph">&lt;jms_map_message&gt;</code> ， <code class="codeph">&lt;jms_bytes_message&gt;</code> ， <code class="codeph">&lt;jms_object_message&gt;</code></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d14535e1294 d14535e1235 "><pre class="oac_no_warn" dir="ltr">Session.createTextMessage Session.createObjectMessage Session.createMapMessage Session.createBytesMessage Session.createStreamMessage AQjmsSession.createAdtMessage</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d14535e1336" headers="d14535e1223 ">
                                       <p>创建消息<a href="glossary.html#GUID-B9E1FDFC-EDA0-4D9C-8D65-FE429EF9043C"><span class="xrefglossterm">生成器</span></a></p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d14535e1336 d14535e1226 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="16%" headers="d14535e1336 d14535e1229 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d14535e1336 d14535e1232 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d14535e1336 d14535e1235 "><pre class="oac_no_warn" dir="ltr">QueueSession.createSender TopicSession.createPublisher</pre></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformalwide" id="GUID-326E5FD9-0778-4AEB-8A9C-70EA58D5D1E6__GUID-248AA915-EF2D-4D6A-A232-0390E5E6CCC9">
                           <p class="titleintable">表3-4 Oracle数据库高级队列编程接口的比较：操作接口 - 将消息排入单用户队列，点对点模型用例</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle数据库高级队列编程接口的比较：操作接口 - 将消息排入单用户队列，点对点模型用例" width="100%" border="1" summary="Rows are use cases. The first column describes the use case. The other columns show the relevant PL/SQL interfaces for PL/SQL, OCI, AQ XML Servlet, and JMS, respectively." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d14535e1367">用例</th>
                                    <th align="left" valign="bottom" width="20%" id="d14535e1370">PL / SQL</th>
                                    <th align="left" valign="bottom" width="20%" id="d14535e1373">OCI</th>
                                    <th align="left" valign="bottom" width="21%" id="d14535e1376">AQ XML Servlet</th>
                                    <th align="left" valign="bottom" width="20%" id="d14535e1379">JMS</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d14535e1384" headers="d14535e1367 ">
                                       <p>将消息排入单消费者队列</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1384 d14535e1370 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.enqueue</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1384 d14535e1373 "><pre class="oac_no_warn" dir="ltr">OCIAQEnq</pre></td>
                                    <td align="left" valign="top" width="21%" headers="d14535e1384 d14535e1376 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlSend&gt;</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1384 d14535e1379 "><pre class="oac_no_warn" dir="ltr">QueueSender.send</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d14535e1400" headers="d14535e1367 ">
                                       <p>将消息排入队列并指定可见性选项</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1400 d14535e1370 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.enqueue</pre><p>指定可见性</p><pre class="oac_no_warn" dir="ltr">ENQUEUE_OPTIONS</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1400 d14535e1373 "><pre class="oac_no_warn" dir="ltr">OCIAQEnq</pre><p>指定<code class="codeph">OCI_ATTR_VISIBILITY</code>在<code class="codeph">OCIAQEnqOptions</code></p><pre class="oac_no_warn" dir="ltr">OCIAQEnqOptions</pre></td>
                                    <td align="left" valign="top" width="21%" headers="d14535e1400 d14535e1376 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlSend&gt;</pre><p>在中指定<code class="codeph">&lt;visibility&gt;</code></p><pre class="oac_no_warn" dir="ltr">&lt;producer_options&gt;</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1400 d14535e1379 ">
                                       <p>不支持</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d14535e1436" headers="d14535e1367 ">
                                       <p>将消息排入单用户队列并指定消息属性优先级和到期时间</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1436 d14535e1370 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.enqueue</pre><p>指定优先级，到期时间</p><pre class="oac_no_warn" dir="ltr">MESSAGE_PROPERTIES</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1436 d14535e1373 "><pre class="oac_no_warn" dir="ltr">OCIAQEnq</pre><p>在中指定<code class="codeph">OCI_ATTR_PRIORITY</code> ， <code class="codeph">OCI_ATTR_EXPIRATION</code></p><pre class="oac_no_warn" dir="ltr">OCIAQMsgProperties</pre></td>
                                    <td align="left" valign="top" width="21%" headers="d14535e1436 d14535e1376 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlSend&gt;</pre><p>在中指定<code class="codeph">&lt;priority&gt;</code> ， <code class="codeph">&lt;expiration&gt;</code></p><pre class="oac_no_warn" dir="ltr">&lt;message_header&gt;</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1436 d14535e1379 ">
                                       <p>在指定期间指定<code class="codeph">priority</code>和<code class="codeph">TimeToLive</code></p><pre class="oac_no_warn" dir="ltr">QueueSender.send</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">.setTimeToLive</pre><p>和</p><pre class="oac_no_warn" dir="ltr">的MessageProducer。setPriority</pre><p>其次是</p><pre class="oac_no_warn" dir="ltr">QueueSender.send</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d14535e1496" headers="d14535e1367 ">
                                       <p>将消息排入单用户队列并指定消息属性correlationID，delay和<a href="glossary.html#GUID-38CB652B-C8D2-49F4-92FD-926EB001284F"><span class="xrefglossterm">exception queue</span></a></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1496 d14535e1370 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.enqueue</pre><p>指定相关性，延迟，exception_queue</p><pre class="oac_no_warn" dir="ltr">MESSAGE_PROPERTIES</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1496 d14535e1373 "><pre class="oac_no_warn" dir="ltr">OCIAQEnq</pre><p>指定<code class="codeph">OCI_ATTR_CORRELATION</code> ， <code class="codeph">OCI_ATTR_DELAY</code> ， <code class="codeph">OCI_ATTR_EXCEPTION_QUEUE</code> in</p><pre class="oac_no_warn" dir="ltr">OCIAQMsgProperties</pre></td>
                                    <td align="left" valign="top" width="21%" headers="d14535e1496 d14535e1376 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlSend&gt;</pre><p>在中指定<code class="codeph">&lt;correlation_id&gt;</code> ， <code class="codeph">&lt;delay&gt;</code> ， <code class="codeph">&lt;exception_queue&gt;</code></p><pre class="oac_no_warn" dir="ltr">&lt;message_header&gt;</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1496 d14535e1379 "><pre class="oac_no_warn" dir="ltr">Message.setJMS CorrelationI</pre><p>延迟和异常队列指定为提供者特定的消息属性</p><pre class="oac_no_warn" dir="ltr">JMS_OracleDelay JMS_OracleExcpQ</pre><p>其次是</p><pre class="oac_no_warn" dir="ltr">QueueSender.send</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d14535e1553" headers="d14535e1367 ">
                                       <p>将消息排入单用户队列并指定用户定义的消息属性</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1553 d14535e1370 ">
                                       <p>不支持</p>
                                       <p>属性应该是有效负载的一部分</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1553 d14535e1373 ">
                                       <p>不支持</p>
                                       <p>属性应该是有效负载的一部分</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d14535e1553 d14535e1376 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlSend&gt;</pre><p>指定<code class="codeph">&lt;name&gt;</code>和<code class="codeph">&lt;int_value&gt;</code> ， <code class="codeph">&lt;string_value&gt;</code> ， <code class="codeph">&lt;long_value&gt;,</code>等等</p><pre class="oac_no_warn" dir="ltr">&lt;user_properties&gt;</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1553 d14535e1379 "><pre class="oac_no_warn" dir="ltr">Message.setInt属性</pre><pre class="oac_no_warn" dir="ltr">Message.setString属性</pre><pre class="oac_no_warn" dir="ltr">Message.setBoolean属性</pre><p>等等，然后是</p><pre class="oac_no_warn" dir="ltr">QueueSender.send</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d14535e1597" headers="d14535e1367 ">
                                       <p>将消息排入单用户队列并指定消息<a href="glossary.html#GUID-A668A987-B1D3-4330-97FD-0589DB780225"><span class="xrefglossterm">转换</span></a></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1597 d14535e1370 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.enqueue</pre><p>指定转换</p><pre class="oac_no_warn" dir="ltr">ENQUEUE_OPTIONS</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1597 d14535e1373 "><pre class="oac_no_warn" dir="ltr">OCIAQEnq</pre><p>在中指定<code class="codeph">OCI_ATTR_TRANSFORMATION</code></p><pre class="oac_no_warn" dir="ltr">OCIAQEnqOptions</pre></td>
                                    <td align="left" valign="top" width="21%" headers="d14535e1597 d14535e1376 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlSend&gt;</pre><p>在中指定<code class="codeph">&lt;transformation&gt;</code></p><pre class="oac_no_warn" dir="ltr">&lt;producer_options&gt;</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1597 d14535e1379 "><pre class="oac_no_warn" dir="ltr">AQjmsQueueSender。setTransformation</pre><p>其次是</p><pre class="oac_no_warn" dir="ltr">QueueSender.send</pre></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformalwide" id="GUID-326E5FD9-0778-4AEB-8A9C-70EA58D5D1E6__GUID-563326C1-1C01-424B-96E1-9997FDD03E1E">
                           <p class="titleintable">表3-5 Oracle数据库高级队列编程接口的比较：操作接口 - 将消息发布到多消费者队列/主题，发布/订阅模型用例</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle数据库高级队列编程接口的比较：操作接口 - 将消息发布到多消费者队列/主题，发布/订阅模型用例" width="100%" border="1" summary="Rows are use cases. The first column describes the use case. The other columns show the relevant PL/SQL interfaces for PL/SQL, OCI, AQ XML Servlet, and JMS, respectively." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d14535e1650">用例</th>
                                    <th align="left" valign="bottom" width="20%" id="d14535e1653">PL / SQL</th>
                                    <th align="left" valign="bottom" width="20%" id="d14535e1656">OCI</th>
                                    <th align="left" valign="bottom" width="21%" id="d14535e1659">AQ XML Servlet</th>
                                    <th align="left" valign="bottom" width="20%" id="d14535e1662">JMS</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d14535e1667" headers="d14535e1650 ">
                                       <p>使用默认订阅列表将消息发布到多消费者队列/主题</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1667 d14535e1653 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.enqueue</pre><p>将<code class="codeph">recipient_list</code>设置为<code class="codeph">NULL</code></p><pre class="oac_no_warn" dir="ltr">MESSAGE_PROPERTIES</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1667 d14535e1656 "><pre class="oac_no_warn" dir="ltr">OCIAQEnq</pre><p>将<code class="codeph">OCI_ATTR_RECIPIENT_LIST</code>设置为<code class="codeph">NULL</code></p><pre class="oac_no_warn" dir="ltr">OCIAQMsgProperties</pre></td>
                                    <td align="left" valign="top" width="21%" headers="d14535e1667 d14535e1659 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlPublish&gt;</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1667 d14535e1662 "><pre class="oac_no_warn" dir="ltr">的TopicPublisher。发布</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d14535e1703" headers="d14535e1650 ">
                                       <p>使用特定收件人列表将消息发布到多消费者队列/主题</p>
                                       <p>见脚注-1</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1703 d14535e1653 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.enqueue</pre><p>指定收件人列表</p><pre class="oac_no_warn" dir="ltr">MESSAGE_PROPERTIES</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1703 d14535e1656 "><pre class="oac_no_warn" dir="ltr">OCIAQEnq</pre><p>在中指定<code class="codeph">OCI_ATTR_RECIPIENT_LIST</code></p><pre class="oac_no_warn" dir="ltr">OCIAQMsgProperties</pre></td>
                                    <td align="left" valign="top" width="21%" headers="d14535e1703 d14535e1659 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlPublish&gt;</pre><p>在中指定<code class="codeph">&lt;recipient_list&gt;</code></p><pre class="oac_no_warn" dir="ltr">&lt;message_header&gt;</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1703 d14535e1662 "><pre class="oac_no_warn" dir="ltr">AQjmsTopic Publisher.publish</pre><p>将收件人指定为<code class="codeph">AQjmsAgent</code>数组</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d14535e1743" headers="d14535e1650 ">
                                       <p>将消息发布到多消费者队列/主题，并指定消息属性优先级和到期时间</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1743 d14535e1653 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.enqueue</pre><p>指定优先级，到期时间</p><pre class="oac_no_warn" dir="ltr">MESSAGE_PROPERTIES</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1743 d14535e1656 "><pre class="oac_no_warn" dir="ltr">OCIAQEnq</pre><p>在中指定<code class="codeph">OCI_ATTR_PRIORITY</code> ， <code class="codeph">OCI_ATTR_EXPIRATION</code></p><pre class="oac_no_warn" dir="ltr">OCIAQMsgProperties</pre></td>
                                    <td align="left" valign="top" width="21%" headers="d14535e1743 d14535e1659 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlPublish&gt;</pre><p>在中指定<code class="codeph">&lt;priority&gt;</code> ， <code class="codeph">&lt;expiration&gt;</code></p><pre class="oac_no_warn" dir="ltr">&lt;message_header&gt;</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1743 d14535e1662 ">
                                       <p>在指定期间指定<code class="codeph">priority</code>和<code class="codeph">TimeToLive</code></p><pre class="oac_no_warn" dir="ltr">的TopicPublisher。发布</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">的MessageProducer。setTimeToLive</pre><p>和</p><pre class="oac_no_warn" dir="ltr">的MessageProducer。setPriority</pre><p>其次是</p><pre class="oac_no_warn" dir="ltr">的TopicPublisher。发布</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d14535e1803" headers="d14535e1650 ">
                                       <p>将消息发布到多消费者队列/主题，并指定发送选项correlationID，delay和exception queue</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1803 d14535e1653 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.enqueue</pre><p>指定相关性，延迟， <code class="codeph">exception_queue</code></p><pre class="oac_no_warn" dir="ltr">MESSAGE_PROPERTIES</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1803 d14535e1656 "><pre class="oac_no_warn" dir="ltr">OCIAQEnq</pre><p>指定<code class="codeph">OCI_ATTR_CORRELATION</code> ， <code class="codeph">OCI_ATTR_DELAY</code> ， <code class="codeph">OCI_ATTR_EXCEPTION_QUEUE</code> in</p><pre class="oac_no_warn" dir="ltr">OCIAQMsgProperties</pre></td>
                                    <td align="left" valign="top" width="21%" headers="d14535e1803 d14535e1659 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlPublish&gt;</pre><p>在中指定<code class="codeph">&lt;correlation_id&gt;</code> ， <code class="codeph">&lt;delay&gt;</code> ， <code class="codeph">&lt;exception_queue&gt;</code></p><pre class="oac_no_warn" dir="ltr">&lt;message_header&gt;</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1803 d14535e1662 "><pre class="oac_no_warn" dir="ltr">Message.setJMS CorrelationID</pre><p>延迟和异常队列指定为特定于提供程序的消息属性</p><pre class="oac_no_warn" dir="ltr">JMS_OracleDelay JMS_OracleExcpQ</pre><p>其次是</p><pre class="oac_no_warn" dir="ltr">的TopicPublisher。发布</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d14535e1860" headers="d14535e1650 ">
                                       <p>将消息发布到主题并指定用户定义的消息属性</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1860 d14535e1653 ">
                                       <p>不支持</p>
                                       <p>属性应该是有效负载的一部分</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1860 d14535e1656 ">
                                       <p>不支持</p>
                                       <p>属性应该是有效负载的一部分</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d14535e1860 d14535e1659 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlPublish&gt;</pre><p>指定<code class="codeph">&lt;name&gt;</code>和<code class="codeph">&lt;int_value&gt;</code> ， <code class="codeph">&lt;string_value&gt;</code> ， <code class="codeph">&lt;long_value&gt;,</code>等等</p><pre class="oac_no_warn" dir="ltr">&lt;user_properties&gt;</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1860 d14535e1662 "><pre class="oac_no_warn" dir="ltr">Message.setInt属性</pre><pre class="oac_no_warn" dir="ltr">Message.setString属性</pre><pre class="oac_no_warn" dir="ltr">Message.setBoolean属性</pre><p>等等，然后是</p><pre class="oac_no_warn" dir="ltr">的TopicPublisher。发布</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d14535e1904" headers="d14535e1650 ">
                                       <p>将消息发布到主题并指定消息转换</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1904 d14535e1653 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.enqueue</pre><p>指定转换</p><pre class="oac_no_warn" dir="ltr">ENQUEUE_OPTIONS</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1904 d14535e1656 "><pre class="oac_no_warn" dir="ltr">OCIAQEnq</pre><p>在中指定<code class="codeph">OCI_ATTR_TRANSFORMATION</code></p><pre class="oac_no_warn" dir="ltr">OCIAQEnqOptions</pre></td>
                                    <td align="left" valign="top" width="21%" headers="d14535e1904 d14535e1659 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlPublish&gt;</pre><p>在中指定<code class="codeph">&lt;transformation&gt;</code></p><pre class="oac_no_warn" dir="ltr">&lt;producer_options&gt;</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1904 d14535e1662 "><pre class="oac_no_warn" dir="ltr">AQjmsTopic Publisher.set转换</pre><p>其次是</p><pre class="oac_no_warn" dir="ltr">的TopicPublisher。发布</pre></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformalwide" id="GUID-326E5FD9-0778-4AEB-8A9C-70EA58D5D1E6__G1011756">
                           <p class="titleintable">表3-6 Oracle数据库高级队列编程接口的比较：操作接口 - 订阅多消息队列/主题中的消息，发布/订阅模型用例</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle数据库高级队列编程接口的比较：操作接口 - 订阅多消息队列/主题中的消息，发布/订阅模型用例" width="100%" border="1" summary="Rows are use cases. The first column describes the use case. The other columns show the relevant PL/SQL interfaces for PL/SQL, OCI, AQ XML Servlet, and JMS, respectively." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d14535e1954">用例</th>
                                    <th align="left" valign="bottom" width="20%" id="d14535e1957">PL / SQL</th>
                                    <th align="left" valign="bottom" width="20%" id="d14535e1960">OCI</th>
                                    <th align="left" valign="bottom" width="20%" id="d14535e1963">AQ XML Servlet</th>
                                    <th align="left" valign="bottom" width="20%" id="d14535e1966">JMS</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14535e1971" headers="d14535e1954 ">
                                       <p>添加订阅者</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1971 d14535e1957 ">
                                       <p>请参阅管理界面</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1971 d14535e1960 ">
                                       <p>不支持</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1971 d14535e1963 ">
                                       <p>不支持</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1971 d14535e1966 "><pre class="oac_no_warn" dir="ltr">TopicSession的。createDurable订阅者</pre><pre class="oac_no_warn" dir="ltr">AQjmsSession。createDurable订阅者</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14535e1989" headers="d14535e1954 ">
                                       <p>改变订户</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1989 d14535e1957 ">
                                       <p>请参阅管理界面</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1989 d14535e1960 ">
                                       <p>不支持</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1989 d14535e1963 ">
                                       <p>不支持</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e1989 d14535e1966 "><pre class="oac_no_warn" dir="ltr">TopicSession的。createDurable订阅者</pre><pre class="oac_no_warn" dir="ltr">AQjmsSession。createDurable订阅者</pre><p>使用新的选择器</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14535e2009" headers="d14535e1954 ">
                                       <p>删除订阅者</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2009 d14535e1957 ">
                                       <p>请参阅管理界面</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2009 d14535e1960 ">
                                       <p>不支持</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2009 d14535e1963 ">
                                       <p>不支持</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2009 d14535e1966 "><pre class="oac_no_warn" dir="ltr">AQjmsSession。退订</pre></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformalwide" id="GUID-326E5FD9-0778-4AEB-8A9C-70EA58D5D1E6__GUID-2D078E13-E48A-4FB7-BDEC-A0BDFA4CAB61">
                           <p class="titleintable">表3-7 Oracle数据库高级队列编程接口的比较：操作接口 - 浏览队列用例中的消息</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle数据库高级队列编程接口的比较：操作接口 - 浏览队列用例中的消息" width="100%" border="1" summary="Rows are use cases. The first column describes the use case. The other columns show the relevant PL/SQL interfaces for PL/SQL, OCI, AQ XML Servlet, and JMS, respectively." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="14%" id="d14535e2037">用例</th>
                                    <th align="left" valign="bottom" width="18%" id="d14535e2040">PL / SQL</th>
                                    <th align="left" valign="bottom" width="18%" id="d14535e2043">OCI</th>
                                    <th align="left" valign="bottom" width="21%" id="d14535e2046">AQ XML Servlet</th>
                                    <th align="left" valign="bottom" width="29%" id="d14535e2049">JMS</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d14535e2054" headers="d14535e2037 ">
                                       <p>浏览队列/主题中的消息</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d14535e2054 d14535e2040 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ。出队</pre><p>将<code class="codeph">dequeue_mode</code>设置为<code class="codeph">BROWSE</code> in</p><pre class="oac_no_warn" dir="ltr">DEQUEUE_OPTIONS</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d14535e2054 d14535e2043 "><pre class="oac_no_warn" dir="ltr">OCIAQDeq</pre><p>将<code class="codeph">OCI_ATTR_DEQ_MODE</code>设置为<code class="codeph">BROWSE</code></p><pre class="oac_no_warn" dir="ltr">OCIAQDeqOptions</pre></td>
                                    <td align="left" valign="top" width="21%" headers="d14535e2054 d14535e2046 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlReceive&gt;</pre><p>在中指定<code class="codeph">&lt;dequeue_mode&gt;</code> <code class="codeph">BROWSE</code></p><pre class="oac_no_warn" dir="ltr">&lt;consumer_options&gt;</pre></td>
                                    <td align="left" valign="top" width="29%" headers="d14535e2054 d14535e2049 "><pre class="oac_no_warn" dir="ltr">QueueSession.createBrowser</pre><pre class="oac_no_warn" dir="ltr">QueueBrowser.getEnumeration</pre><p>主题不支持</p><pre class="oac_no_warn" dir="ltr">oracle.jms。AQjmsSession。createBrowser</pre><pre class="oac_no_warn" dir="ltr">oracle.jms。TopicBrowser。getEnumeration</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d14535e2108" headers="d14535e2037 ">
                                       <p>浏览队列/主题中的消息并在浏览时锁定消息</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d14535e2108 d14535e2040 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.dequeue</pre><p>将<code class="codeph">dequeue_mode</code>设置为<code class="codeph">LOCKED</code> in</p><pre class="oac_no_warn" dir="ltr">DEQUEUE_OPTIONS</pre></td>
                                    <td align="left" valign="top" width="18%" headers="d14535e2108 d14535e2043 "><pre class="oac_no_warn" dir="ltr">OCIAQDeq</pre><p>将<code class="codeph">OCI_ATTR_DEQ_MODE</code>设置为<code class="codeph">LOCKED</code></p><pre class="oac_no_warn" dir="ltr">OCIAQDeqOptions</pre></td>
                                    <td align="left" valign="top" width="21%" headers="d14535e2108 d14535e2046 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlReceive&gt;</pre><p>指定<code class="codeph">&lt;dequeue_mode&gt; LOCKED</code> in</p><pre class="oac_no_warn" dir="ltr">&lt;consumer_options&gt;</pre></td>
                                    <td align="left" valign="top" width="29%" headers="d14535e2108 d14535e2049 "><pre class="oac_no_warn" dir="ltr">AQjmsSession.createBrowser</pre><p>设置<code class="codeph">locked</code>为<code class="codeph">TRUE</code> 。</p><pre class="oac_no_warn" dir="ltr">QueueBrowser.getEnumeration</pre><p>主题不支持</p><pre class="oac_no_warn" dir="ltr">oracle.jms。AQjmsSession。createBrowser</pre><pre class="oac_no_warn" dir="ltr">oracle.jms。TopicBrowser。getEnumeration</pre></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformalwide" id="GUID-326E5FD9-0778-4AEB-8A9C-70EA58D5D1E6__GUID-4BD6A794-F5B4-4BD7-9213-50016F75FD20">
                           <p class="titleintable">表3-8 Oracle数据库高级排队编程接口的比较：操作接口 - 从队列/主题用例接收消息</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle数据库高级队列编程接口的比较：操作接口 - 从队列/主题用例接收消息" width="100%" border="1" summary="Rows are use cases. The first column describes the use case. The other columns show the relevant PL/SQL interfaces for PL/SQL, OCI, AQ XML Servlet, and JMS, respectively." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="15%" id="d14535e2179">用例</th>
                                    <th align="left" valign="bottom" width="20%" id="d14535e2182">PL / SQL</th>
                                    <th align="left" valign="bottom" width="20%" id="d14535e2185">OCI</th>
                                    <th align="left" valign="bottom" width="20%" id="d14535e2188">AQ XML Servlet</th>
                                    <th align="left" valign="bottom" width="25%" id="d14535e2191">JMS</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d14535e2196" headers="d14535e2179 ">
                                       <p>启动连接以接收消息</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2196 d14535e2182 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2196 d14535e2185 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2196 d14535e2188 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d14535e2196 d14535e2191 "><pre class="oac_no_warn" dir="ltr">Connection.start</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d14535e2212" headers="d14535e2179 ">
                                       <p>创建消息使用者</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2212 d14535e2182 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2212 d14535e2185 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2212 d14535e2188 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d14535e2212 d14535e2191 "><pre class="oac_no_warn" dir="ltr">QueueSession的。createQueueReceiver</pre><pre class="oac_no_warn" dir="ltr">TopicSession.create DurableSubscriber</pre><pre class="oac_no_warn" dir="ltr">AQjmsSession.create TopicReceiver</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d14535e2232" headers="d14535e2179 ">
                                       <p>从队列/主题中出列消息并指定可见性</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2232 d14535e2182 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.dequeue</pre><p>指定可见性</p><pre class="oac_no_warn" dir="ltr">DEQUEUE_OPTIONS</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2232 d14535e2185 "><pre class="oac_no_warn" dir="ltr">OCIAQDeq</pre><p>在中指定<code class="codeph">OCI_ATTR_VISIBILITY</code></p><pre class="oac_no_warn" dir="ltr">OCIAQDeqOptions</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2232 d14535e2188 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlReceive&gt;</pre><p>在中指定<code class="codeph">&lt;visibility&gt;</code></p><pre class="oac_no_warn" dir="ltr">&lt;consumer_options&gt;</pre></td>
                                    <td align="left" valign="top" width="25%" headers="d14535e2232 d14535e2191 ">
                                       <p>不支持</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d14535e2266" headers="d14535e2179 ">
                                       <p>从队列/主题中出列消息并指定转换</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2266 d14535e2182 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.dequeue</pre><p>指定转换</p><pre class="oac_no_warn" dir="ltr">DEQUEUE_OPTIONS</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2266 d14535e2185 "><pre class="oac_no_warn" dir="ltr">OCIAQDeq</pre><p>在中指定<code class="codeph">OCI_ATTR_TRANSFORMATION</code></p><pre class="oac_no_warn" dir="ltr">OCIAQDeqOptions</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2266 d14535e2188 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlReceive&gt;</pre><p>在中指定<code class="codeph">&lt;transformation&gt;</code></p><pre class="oac_no_warn" dir="ltr">&lt;consumer_options&gt;</pre></td>
                                    <td align="left" valign="top" width="25%" headers="d14535e2266 d14535e2191 "><pre class="oac_no_warn" dir="ltr">AQjmsQueueReceiver。setTransformation</pre><pre class="oac_no_warn" dir="ltr">AQjmsTopicSubscriber。setTransformation</pre><pre class="oac_no_warn" dir="ltr">AQjmsTopicReceiver。setTransformation</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d14535e2304" headers="d14535e2179 ">
                                       <p>从队列/主题中出列消息并指定导航模式</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2304 d14535e2182 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.dequeue</pre><p>指定导航</p><pre class="oac_no_warn" dir="ltr">DEQUEUE_OPTIONS</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2304 d14535e2185 "><pre class="oac_no_warn" dir="ltr">OCIAQDeq</pre><p>在中指定<code class="codeph">OCI_ATTR_NAVIGATION</code></p><pre class="oac_no_warn" dir="ltr">OCIAQDeqOptions</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2304 d14535e2188 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlReceive&gt;</pre><p>在中指定<code class="codeph">&lt;navigation&gt;</code></p><pre class="oac_no_warn" dir="ltr">&lt;consumer_options&gt;</pre></td>
                                    <td align="left" valign="top" width="25%" headers="d14535e2304 d14535e2191 "><pre class="oac_no_warn" dir="ltr">AQjmsQueueReceiver。setNavigationMode</pre><pre class="oac_no_warn" dir="ltr">AQjmsTopicSubscriber。setNavigationMode</pre><pre class="oac_no_warn" dir="ltr">AQjmsTopicReceiver。setNavigationMode</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d14535e2342" headers="d14535e2179 ">
                                       <p>从单个使用者队列中出列消息</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2342 d14535e2182 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.dequeue</pre><p>将<code class="codeph">dequeue_mode</code>设置为<code class="codeph">REMOVE</code> in</p><pre class="oac_no_warn" dir="ltr">DEQUEUE_OPTIONS</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2342 d14535e2185 "><pre class="oac_no_warn" dir="ltr">OCIAQDeq</pre><p>将<code class="codeph">OCI_ATTR_DEQ_MODE</code>设置为<code class="codeph">REMOVE</code> in</p><pre class="oac_no_warn" dir="ltr">OCIAQDeqOptions</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2342 d14535e2188 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlReceive&gt;</pre></td>
                                    <td align="left" valign="top" width="25%" headers="d14535e2342 d14535e2191 "><pre class="oac_no_warn" dir="ltr">QueueReceiver.receive</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">QueueReceiver.receive NoWait</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">AQjmsQueueReceiver。receiveNoData</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d14535e2386" headers="d14535e2179 ">
                                       <p>使用订阅名称从多消费者队列/主题中出列消息</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2386 d14535e2182 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.dequeue</pre><p>将<code class="codeph">dequeue_mode</code>设置为<code class="codeph">REMOVE</code>并将<code class="codeph">consumer_name</code>设置为订阅名称</p><pre class="oac_no_warn" dir="ltr">DEQUEUE_OPTIONS</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2386 d14535e2185 "><pre class="oac_no_warn" dir="ltr">OCIAQDeq</pre><p>将<code class="codeph">OCI_ATTR_DEQ_MODE</code>设置为<code class="codeph">REMOVE</code>并将<code class="codeph">OCI_ATTR_CONSUMER_NAME</code>设置为订阅名称</p><pre class="oac_no_warn" dir="ltr">OCIAQDeqOptions</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2386 d14535e2188 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlReceive&gt;</pre><p>在中指定<code class="codeph">&lt;consumer_name&gt;</code></p><pre class="oac_no_warn" dir="ltr">&lt;consumer_options&gt;</pre></td>
                                    <td align="left" valign="top" width="25%" headers="d14535e2386 d14535e2191 ">
                                       <p>然后，使用订阅名称为主题创建持久的TopicSubscriber</p><pre class="oac_no_warn" dir="ltr">的TopicSubscriber。接收</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">的TopicSubscriber。receiveNoWait</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">AQjmsTopicSubscriber。receiveNoData</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d14535e2445" headers="d14535e2179 ">
                                       <p>使用收件人名称从多消费者队列/主题中出列消息</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2445 d14535e2182 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.dequeue</pre><p>将<code class="codeph">dequeue_mode</code>设置为<code class="codeph">REMOVE</code>并将<code class="codeph">consumer_name</code>设置为收件人名称</p><pre class="oac_no_warn" dir="ltr">DEQUEUE_OPTIONS</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2445 d14535e2185 "><pre class="oac_no_warn" dir="ltr">OCIAQDeq</pre><p>将<code class="codeph">OCI_ATTR_DEQ_MODE</code>设置为<code class="codeph">REMOVE</code>并将<code class="codeph">OCI_ATTR_CONSUMER_NAME</code>设置为收件人姓名</p><pre class="oac_no_warn" dir="ltr">OCIAQDeqOptions</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2445 d14535e2188 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlReceive&gt;</pre><p>在中指定<code class="codeph">&lt;consumer_name&gt;</code></p><pre class="oac_no_warn" dir="ltr">&lt;consumer_options&gt;</pre></td>
                                    <td align="left" valign="top" width="25%" headers="d14535e2445 d14535e2191 ">
                                       <p>然后使用收件人名称在主题上创建<code class="codeph">TopicReceiver</code></p><pre class="oac_no_warn" dir="ltr">AQjmsSession.create TopicReceiver</pre><pre class="oac_no_warn" dir="ltr">AQjmsTopicReceiver。接收</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">AQjmsTopicReceiver。receiveNoWait</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">AQjmsTopicReceiver。receiveNoData</pre></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformalwide" id="GUID-326E5FD9-0778-4AEB-8A9C-70EA58D5D1E6__G1011864">
                           <p class="titleintable">表3-9 Oracle数据库高级队列编程接口的比较：操作接口 - 注册以从队列/主题用例异步接收消息</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle数据库高级队列编程接口的比较：操作接口 - 注册以从队列/主题用例异步接收消息" width="100%" border="1" summary="Rows are use cases. The first column describes the use case. The other columns show the relevant PL/SQL interfaces for PL/SQL, OCI, AQ XML Servlet, and JMS, respectively." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d14535e2521">用例</th>
                                    <th align="left" valign="bottom" width="20%" id="d14535e2524">PL / SQL</th>
                                    <th align="left" valign="bottom" width="20%" id="d14535e2527">OCI</th>
                                    <th align="left" valign="bottom" width="20%" id="d14535e2530">AQ XML Servlet</th>
                                    <th align="left" valign="bottom" width="20%" id="d14535e2533">JMS</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14535e2538" headers="d14535e2521 ">
                                       <p>从单个使用者队列异步接收消息</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2538 d14535e2524 ">
                                       <p>定义PL / SQL回调过程</p>
                                       <p>使用注册</p><pre class="oac_no_warn" dir="ltr">DBMS_AQ.REGISTER</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2538 d14535e2527 "><pre class="oac_no_warn" dir="ltr">OCISubscription注册</pre><p>将<code class="codeph">queue_name</code>指定为订阅名称</p><pre class="oac_no_warn" dir="ltr">OCISubscription启用</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2538 d14535e2530 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlRegister&gt;</pre><p>在<code class="codeph">&lt;destination&gt;</code>指定队列名称并在其中指定通知机制</p><pre class="oac_no_warn" dir="ltr">&lt;notify_url&gt;</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2538 d14535e2533 ">
                                       <p>然后在队列上创建<code class="codeph">QueueReceiver</code></p><pre class="oac_no_warn" dir="ltr">QueueReceiver.set MessageListener</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14535e2577" headers="d14535e2521 ">
                                       <p>从多消息队列/主题异步接收消息</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2577 d14535e2524 ">
                                       <p>定义PL / SQL回调过程</p>
                                       <p>使用注册</p><pre class="oac_no_warn" dir="ltr">DBMS_AQ.REGISTER</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2577 d14535e2527 "><pre class="oac_no_warn" dir="ltr">OCISubscription注册</pre><p>指定<code class="codeph">queue:OCI_ATTR_CONSUMER_NAME</code>作为订阅名称</p><pre class="oac_no_warn" dir="ltr">OCISubscription启用</pre></td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2577 d14535e2530 "><pre class="oac_no_warn" dir="ltr">&lt;AQXmlRegister&gt;</pre><p>在<code class="codeph">&lt;destination&gt;</code>指定队列名，在<code class="codeph">&lt;consumer_name&gt;</code>指定使用者，在<code class="codeph">&lt;notify_url&gt;</code>通知机制</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2577 d14535e2533 ">
                                       <p>然后，在主题上创建<code class="codeph">TopicSubscriber</code>或<code class="codeph">TopicReceiver</code></p><pre class="oac_no_warn" dir="ltr">的TopicSubscriber。调用setMessageListener</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14535e2622" headers="d14535e2521 ">
                                       <p>侦听多个队列/主题上的消息</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2622 d14535e2524 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2622 d14535e2527 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2622 d14535e2530 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2622 d14535e2533 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14535e2638" headers="d14535e2521 ">
                                       <p>在一个（多个）单个消费者队列上侦听消息</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2638 d14535e2524 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.LISTEN</pre><p>使用<code class="codeph">agent_name</code>为<code class="codeph">NULL</code>在所有代理<code class="codeph">agent_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2638 d14535e2527 "><pre class="oac_no_warn" dir="ltr">OCIAQListen</pre><p>使用<code class="codeph">agent_name</code>为<code class="codeph">NULL</code>在所有代理<code class="codeph">agent_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2638 d14535e2530 ">
                                       <p>不支持</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2638 d14535e2533 ">
                                       <p>然后在<code class="codeph">QueueSession</code>上创建多个<code class="codeph">QueueReceivers</code></p><pre class="oac_no_warn" dir="ltr">QueueSession.set MessageListener</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14535e2682" headers="d14535e2521 ">
                                       <p>在一个（多个）多消费者队列/主题上侦听消息</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2682 d14535e2524 "><pre class="oac_no_warn" dir="ltr">DBMS_AQ.LISTEN</pre><p>指定<code class="codeph">agent_name</code>在所有代理<code class="codeph">agent_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2682 d14535e2527 "><pre class="oac_no_warn" dir="ltr">OCIAQListen</pre><p>指定<code class="codeph">agent_name</code>在所有代理<code class="codeph">agent_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2682 d14535e2530 ">
                                       <p>不支持</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d14535e2682 d14535e2533 ">
                                       <p>然后在<code class="codeph">TopicSession</code>上创建多个<code class="codeph">TopicSubscribers</code>或<code class="codeph">TopicReceivers</code></p><pre class="oac_no_warn" dir="ltr">TopicSession.set MessageListener</pre></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div>
            </div><a id="ADQUE2538"></a><div class="props_rev_3"><a id="GUID-4B4EB467-3A46-4892-BC56-4697B0D29265" name="GUID-4B4EB467-3A46-4892-BC56-4697B0D29265"></a><h3 id="ADQUE-GUID-4B4EB467-3A46-4892-BC56-4697B0D29265" class="sect3"><span class="enumeration_section">3.4</span>使用OCCI访问Oracle数据库高级队列</h3>
               <div>
                  <p>C ++应用程序可以使用OCCI，它具有一组Oracle数据库高级队列接口，使消息传递客户端能够访问Oracle数据库高级队列。</p>
                  <p>OCCI AQ支持在启用消息的数据库中发送/接收和发布/订阅消息所需的所有操作功能。根据消息选择规则，可以使用同步和异步消息。分片队列不支持OCCI客户端。</p>
                  <div class="infoboxnotealso" id="GUID-4B4EB467-3A46-4892-BC56-4697B0D29265__GUID-C8116009-72A3-4531-8C8C-040718B00284">
                     <p class="notep1">也可以看看：</p>
                     <p>“Oracle <a href="../lncpp/object-type-translator-utility.html#LNCPP008" target="_blank"><span class="italic">C ++调用接口程序员指南</span></a> ”中的“Oracle数据库高级队列”</p>
                  </div>
               </div>
            </div><a id="ADQUE3681"></a><a id="ADQUE2542"></a><a id="ADQUE2543"></a><a id="ADQUE2540"></a><div class="props_rev_3"><a id="GUID-ADD9DEAA-C2E3-4C87-9504-163F0DE7F21E" name="GUID-ADD9DEAA-C2E3-4C87-9504-163F0DE7F21E"></a><h3 id="ADQUE-GUID-ADD9DEAA-C2E3-4C87-9504-163F0DE7F21E" class="sect3"><span class="enumeration_section">3.5</span>使用Oracle Java消息服务（Oracle JMS）访问Oracle数据库高级队列</h3>
               <div>
                  <p>Java消息服务（JMS）是由Sun Microsystems，Oracle，IBM和其他供应商定义的消息传递标准。JMS是一组接口和关联语义，用于定义JMS客户端如何访问企业消息传递产品的工具。Oracle Java消息服务（Oracle JMS）基于JMS标准为Oracle数据库高级排队提供Java API。</p>
                  <p> <a href="glossary.html#GUID-9885B911-8AC1-49F3-922E-1F8D64C4501D"><span class="xrefglossterm">Oracle Java消息服务</span></a> （Oracle JMS）支持标准JMS接口，并具有扩展以支持管理操作和不属于标准的其他功能。
                  </p>
                  <p>标准<a href="glossary.html#GUID-3A98EBD4-296B-4BE8-82AE-5B42D07E9894"><span class="xrefglossterm">Java消息服务</span></a> （JMS）功能包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用队列的点对点通信模型</p>
                     </li>
                     <li>
                        <p>使用主题发布/订阅通信模型</p>
                     </li>
                     <li>
                        <p><code class="codeph">ObjectMessage</code> ， <code class="codeph">StreamMessage</code> ， <code class="codeph">TextMessage</code> ， <code class="codeph">BytesMessage</code>和<code class="codeph">MapMessage</code>消息类型</p>
                     </li>
                     <li>
                        <p>消息的异步和<a href="glossary.html#GUID-BC2328C0-3548-45D1-9B5C-64DB4573984C"><span class="xrefglossterm">同步</span></a>传递</p>
                     </li>
                     <li>
                        <p>基于邮件头字段或属性的邮件选择</p>
                     </li>
                  </ul>
                  <p>Oracle JMS扩展包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>用于创建队列表，队列和主题的管理API</p>
                     </li>
                     <li>
                        <p>使用主题的<a href="glossary.html#GUID-F50CE039-717A-4D4C-B4D9-62EB3191885A"><span class="xrefglossterm">收件人</span></a>列表进行点对多点通信</p>
                     </li>
                     <li>
                        <p>目标之间的消息传播，允许应用程序定义远程订户</p>
                     </li>
                     <li>
                        <p>支持事务会话，在一个事务中启用JMS和SQL操作</p>
                     </li>
                     <li>
                        <p>消息出列后的消息保留</p>
                     </li>
                     <li>
                        <p>消息延迟，允许消息在一定延迟后可见</p>
                     </li>
                     <li>
                        <p>异常处理，如果无法成功处理消息，则允许将消息移动到异常队列</p>
                     </li>
                     <li>
                        <p>支持<code class="codeph">AdtMessage</code></p>
                        <p>它们作为Oracle对象存储在数据库中，因此可以在排队后查询消息的有效负载。可以在这些消息的内容上定义订阅，而不仅仅是消息属性。</p>
                     </li>
                     <li>
                        <p>主题浏览</p>
                        <p>这允许持久订阅者浏览发布/订阅（主题）目的地中的消息。它可选地允许这些订阅者清除浏览的消息，因此Oracle Database Advanced Queuing不再为该订阅者保留它们。</p>
                        <div class="infoboxnotealso" id="GUID-ADD9DEAA-C2E3-4C87-9504-163F0DE7F21E__GUID-DADFCD1B-E40A-443A-83B7-2BA3F4CA0EE1">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="italic">Java消息服务规范</span> ，版本1。1，2002年3月18日，Sun Microsystems，Inc。</p>
                              </li>
                              <li>
                                 <p><a href="../jajms/index.html" target="_blank"><span class="italic">Oracle数据库高级队列Java API参考</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ul>
                  <div class="section" id="GUID-ADD9DEAA-C2E3-4C87-9504-163F0DE7F21E__CHDIIIFB">
                     <p class="subhead2" id="GUID-ADD9DEAA-C2E3-4C87-9504-163F0DE7F21E__GUID-EDDD402F-0D4B-4148-A082-919708DA0623">访问标准和Oracle JMS应用程序</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>标准JMS接口位于<code class="codeph">javax.jms</code>包中。Oracle JMS接口位于<code class="codeph">oracle.jms</code>包中。您必须具有<code class="codeph">DBMS_AQIN</code>和<code class="codeph">DBMS_AQJMS</code>包的<code class="codeph">EXECUTE</code>特权才能使用Oracle JMS接口。您还可以通过<code class="codeph">AQ_USER_ROLE</code>或<code class="codeph">AQ_ADMINSTRATOR_ROLE</code>获取这些权限。您还需要适当的系统和队列或主题权限才能<a href="glossary.html#GUID-23702F6A-28F1-42D5-BBF6-CCFAACD2B784"><span class="xrefglossterm">发送</span></a>或接收消息。
                     </p>
                     <p>由于Oracle JMS使用<a href="glossary.html#GUID-7B113775-4505-4495-AF3F-9F5522F0966C"><span class="xrefglossterm">Java数据库连接</span></a> （JDBC）连接到数据库，因此其应用程序可以使用JDBC OCI驱动程序或JDBC瘦驱动程序在数据库外部运行。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ADD9DEAA-C2E3-4C87-9504-163F0DE7F21E__GUID-9D17C268-D758-4634-AB6D-0082BCB03DC3">使用JDBC OCI驱动程序或JDBC瘦驱动程序</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>要将JMS与在数据库外部运行的客户端一起使用，必须在CLASSPATH中包含相应的<a href="glossary.html#GUID-F112AB6B-FC1B-48D6-8E40-1CB9BAE724EF"><span class="xrefglossterm">JDBC驱动程序</span></a> ， <a href="glossary.html#GUID-73476CA0-7AD9-41B9-97E6-7A34F0D4161F"><span class="xrefglossterm">Java命名和目录接口</span></a> （JNDI）jar文件以及Oracle Database Advanced Queuing jar文件。</p>
                     <p>请注意，Oracle数据库不支持JDK 1.2，JDK 1.3，JDK 1.4，JDK5.n和所有classes12 *。*文件。您需要分别使用带有JDK 6.n和JDK 7.n的<code class="codeph">ojdbc6.jar</code>和<code class="codeph">ojbc7.jar</code>文件。以下jar和zip文件应该基于您正在使用的JDK版本在<code class="codeph">CLASSPATH</code>中。
                     </p>
                     <p>对于JDK 1.5.x， <code class="codeph">CLASSPATH</code>必须包含：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> /jdbc/lib/ojdbc6.jar</pre><p>对于JDK 1.6.x， <code class="codeph">CLASSPATH</code>必须包含：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> /jdbc/lib/ojdbc7.jar</pre><p>以下文件用于JDK版本：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> /lib/jta.jar <span class="italic">ORACLE_HOME</span> /xdk/lib/xmlparserv2.jar <span class="italic">ORACLE_HOME</span> /rdbms/jlib/xdb.jar <span class="italic">ORACLE_HOME</span> /rdbms/jlib/aqapi.jar <span class="italic">ORACLE_HOME</span> /rdbms/jlib/jmscommon.jar</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ADD9DEAA-C2E3-4C87-9504-163F0DE7F21E__GUID-90F04DDF-4B57-401E-9CF5-DDBA80791B8F">在JServer中使用Oracle Server Driver</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>如果您的应用程序在<a href="glossary.html#GUID-296C874C-5A6C-4C6A-92B0-7CF12397B07F"><span class="xrefglossterm">JServer中</span></a>运行，那么您应该能够访问在安装JServer时自动加载的Oracle JMS类。如果这些类不可用，那么你必须加载<code class="codeph">jmscommon.jar</code>其次<code class="codeph">aqapi.jar</code>使用<code class="codeph">$ORACLE_HOME/rdbms/admin/initjms</code> SQL脚本。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE2544"></a><div class="props_rev_3"><a id="GUID-3F298EB4-8B4E-4B59-BBD5-B21A37EFFCE0" name="GUID-3F298EB4-8B4E-4B59-BBD5-B21A37EFFCE0"></a><h3 id="ADQUE-GUID-3F298EB4-8B4E-4B59-BBD5-B21A37EFFCE0" class="sect3"><span class="enumeration_section">3.6</span>使用Oracle数据库高级排队XML Servlet访问Oracle数据库高级排队</h3>
               <div>
                  <p>您可以使用Oracle数据库高级排队XML servlet通过HTTP使用简单对象访问协议（SOAP）和称为Internet数据访问演示（IDAP）的Oracle数据库高级排队XML消息格式访问Oracle数据库高级排队。</p>
                  <p>使用Oracle Database Advanced Queuing servlet，客户端可以执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>将消息发送到单用户队列</p>
                     </li>
                     <li>
                        <p>将消息发布到多消费者队列/主题</p>
                     </li>
                     <li>
                        <p>从队列接收消息</p>
                     </li>
                     <li>
                        <p>注册以接收消息通知</p>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03683.SDO_GEOR_UTL-reference.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The SDO_GEOR_UTL package contains subprograms (functions and procedures) for utility operations related to GeoRaster. This chapter presents reference information, with one or more examples, for each subprogram."></meta>
      <meta name="description" content="The SDO_GEOR_UTL package contains subprograms (functions and procedures) for utility operations related to GeoRaster. This chapter presents reference information, with one or more examples, for each subprogram."></meta>
      <title>SDO_GEOR_UTL包参考</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="GeoRaster Developer&#39;s Guide "></meta>
      <meta property="og:description" content="The SDO_GEOR_UTL package contains subprograms (functions and procedures) for utility operations related to GeoRaster. This chapter presents reference information, with one or more examples, for each subprogram."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="GeoRaster Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-georaster-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T11:48:45-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94793-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="sdo-geor-ra-ref.html" title="Previous" type="text/html"></link>
      <link rel="next" href="georaster-metadata-xml-schema.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph GeoRaster Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="GEORS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="sdo-geor-ra-ref.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="georaster-metadata-xml-schema.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">GeoRaster开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SDO_GEOR_UTL包参考</li>
            </ol>
            <a id="GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" name="GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2"></a><a id="GEORS500"></a>
            
            <h2 id="GEORS-GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" class="sect2"><span class="enumeration_chapter">13</span> SDO_GEOR_UTL包参考</h2>
         </header>
         <div class="ind">
            <div>
               <p>SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-4F642F02-94B1-40FA-8C92-E916031293D1">SDO_GEOR_UTL.calcOptimizedBlockSize</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-E60671B6-C7B4-4D76-BCA8-C1BDC2F2D2FB">SDO_GEOR_UTL.calcRasterNominalSize</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-D4F67AB0-23F3-497E-BF6E-86B9AF2D7D4A">SDO_GEOR_UTL.calcRasterStorageSize</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-7D97E9ED-64E7-44BD-8920-0CAF4B297DA1">SDO_GEOR_UTL.calcSurfaceArea</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-DC1098B1-94FF-4150-9BBF-13E30CE34F15">SDO_GEOR_UTL.clearReportTable</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-CCA772B5-AA1E-4A53-B64C-67D8F6052CF2">SDO_GEOR_UTL.createDMLTrigger</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-E35FA2E9-24FD-455B-B53F-B42DDDD3D71C">SDO_GEOR_UTL.createReportTable</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-7102EF4A-0279-4079-83FB-1B8EFE8C3A12">SDO_GEOR_UTL.disableReport</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-E4389281-1803-4FB7-A61C-42D0CD4105FC">SDO_GEOR_UTL.dropReportTable</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-0BA5629B-AD97-4199-9303-FD5B8B363D03">SDO_GEOR_UTL.emptyBlocks</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-15481B20-58FD-47D8-A97D-65F8F1FE287D">SDO_GEOR_UTL.enableReport</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-444B7788-ED0A-4207-8246-E29E16C11339">SDO_GEOR_UTL.fillEmptyBlocks</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-1902FAAC-6F04-4CD7-AC86-52F70FE81E9D">SDO_GEOR_UTL.generateColorRamp</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-C4AD8E4E-7A1B-4399-9F47-61BEC51247E7">SDO_GEOR_UTL.generateGrayRamp</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-24528301-570E-4B73-A11F-EBAD9CA211AB">SDO_GEOR_UTL.getAllStatusReport</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-75EFC6D7-A1F9-4FC1-A31D-91E82521B8DD">SDO_GEOR_UTL.getMaxMemSize</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-0E714A7B-2225-4561-95BC-0AE5AD5AC20C">SDO_GEOR_UTL.getReadBlockMemSize</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-34284A54-1792-4845-8F27-078AAE159413">SDO_GEOR_UTL.getProgress</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-7AC9801F-D891-4A9B-9BD9-87D273C7DC6F">SDO_GEOR_UTL.getStatusReport</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-736EBE83-DFC0-45B5-B31D-AD3F2DED89A6">SDO_GEOR_UTL.getWriteBlockMemSize</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-7AB56802-6449-4DD0-B61C-80E92EE011BC">SDO_GEOR_UTL.isReporting</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-94664890-EDA7-4518-B87A-99AD4D8672DA">SDO_GEOR_UTL.makeRDTNamesUnique</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-AD56A631-0111-44A2-8A94-4F326FCABA3B">SDO_GEOR_UTL.recreateDMLTriggers</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-9B5168A6-2624-4E80-B8C8-DC4815B94E36">SDO_GEOR_UTL.renameRDT</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-C0CB06F5-4A64-436E-99D3-C9F48C759585">SDO_GEOR_UTL.setClientID</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-C24BCE97-C7D9-4720-B169-190CD66405F8">SDO_GEOR_UTL.setMaxMemSize</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-32CABCD8-4AF1-4A43-B4FA-F664C939215F">SDO_GEOR_UTL.setReadBlockMemSize</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-1E056015-616E-4D1D-8524-248A6E60CEE9">SDO_GEOR_UTL.setSeqID</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_UTL-reference.html#GUID-DCAF3CC8-8A5F-4E76-AA33-9A5CAE083B6F">SDO_GEOR_UTL.setWriteBlockMemSize</a><br></li>
               </ul>
            </div>
            <a id="GEORS1158"></a><div class="props_rev_3"><a id="GUID-4F642F02-94B1-40FA-8C92-E916031293D1" name="GUID-4F642F02-94B1-40FA-8C92-E916031293D1"></a><h3 id="GEORS-GUID-4F642F02-94B1-40FA-8C92-E916031293D1" class="sect3"><span class="enumeration_section">13.1</span> SDO_GEOR_UTL.calcOptimizedBlockSize</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-4F642F02-94B1-40FA-8C92-E916031293D1__GUID-FD6F96F7-FBF6-467B-BBC7-5C85967506EC">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.calcOptimizedBlockSize（dimensionSize IN SDO_NUMBER_ARRAY，blockSize IN OUT SDO_NUMBER_ARRAY，pyramidLevel IN number默认为0）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4F642F02-94B1-40FA-8C92-E916031293D1__GUID-DA3ED8D4-F6E3-45B4-9858-192EE7653388">描述</p>
                     <p>根据GeoRaster维度大小和用户指定的块大小值，计算将在GeoRaster对象存储中使用较少填充空间的最佳<code class="codeph">blockSize</code>值。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4F642F02-94B1-40FA-8C92-E916031293D1__GUID-1C2CD820-BA77-4AEB-BD7C-9C6695D9F5E0">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-4F642F02-94B1-40FA-8C92-E916031293D1__GUID-334F3EA8-63EF-4CCA-8E01-67FACC2A7C21"><!-- --></a> dimensionSize</dt>
                        <dd>
                           <p>GeoRaster对象的维度大小数组。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4F642F02-94B1-40FA-8C92-E916031293D1__GUID-23A9238E-838C-47E2-8903-9FC8966FDB6B"><!-- --></a> blockSize</dt>
                        <dd>
                           <p>块大小数组，其保存用户指定的块大小值，并且过程输出调整后的最佳块大小值。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4F642F02-94B1-40FA-8C92-E916031293D1__GUID-C329ED56-C7E3-4300-B482-917356143DCD"><!-- --></a> pyramidLevel</dt>
                        <dd>
                           <p>最大金字塔等级。默认值为0。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4F642F02-94B1-40FA-8C92-E916031293D1__GUID-6A8DE2A5-6A40-452A-B220-95C7923E9246">使用说明</p>
                     <p>此过程使您可以提供所需的块大小值（可能不是最佳值），自动调整它们，然后确定指定GeoRaster维度大小数组的块大小数组值，这些数组最适合减少GeoRaster中的填充空间量对象存储。始终围绕用户指定的值进行调整。有关更多信息，请参阅<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDHJCBF" title="此2列表列出了栅格数据的storageParam关键字。第1列是关键字。第2列解释了关键字。">中表1-1</a>中的<code class="codeph">blocking</code>和<code class="codeph">blockSize</code>关键字的说明。
                     </p>
                     <p>在<code class="codeph">dimensionSize</code>和<code class="codeph">blockSize</code>参数值中，按以下顺序指定维的值：row，column，band。
                     </p>
                     <p>如果输入<code class="codeph">dimensionSize</code>或<code class="codeph">blockSize</code>参数包含任何无效值，则会生成异常。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4F642F02-94B1-40FA-8C92-E916031293D1__GUID-D6887CE4-B4AD-4AD9-9332-115AF1AA0491">例子</p>
                     <p>以下示例基于指定的尺寸大小数组（12371,11261,13）和指定的块大小数组（512,512,5）计算并显示最佳块大小值。请注意，返回的最佳<code class="codeph">rowBlockSize</code>值是538而不是原始值512，并且返回的最佳<code class="codeph">bandBlockSize</code>值是1而不是原始值5。
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE dimensionSize sdo_number_array; blockSize sdo_number_array; BEGIN dimensionSize：= sdo_number_array（12371,11261,13）; BLOCKSIZE：= sdo_number_array（512,512,5）; sdo_geor_utl.calcOptimizedBlockSize（dimensionSize，BLOCKSIZE）; dbms_output.put_line（'Optimized rowBlockSize ='|| blockSize（1））; dbms_output.put_line（'Optimized colBlockSize ='|| blockSize（2））; dbms_output.put_line（'Optimized bandBlockSize ='|| blockSize（3））;结束; /优化的rowBlockSize = 538优化的colBlockSize = 512优化的bandBlockSize = 1</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1157"></a><div class="props_rev_3"><a id="GUID-E60671B6-C7B4-4D76-BCA8-C1BDC2F2D2FB" name="GUID-E60671B6-C7B4-4D76-BCA8-C1BDC2F2D2FB"></a><h3 id="GEORS-GUID-E60671B6-C7B4-4D76-BCA8-C1BDC2F2D2FB" class="sect3"><span class="enumeration_section">13.2</span> SDO_GEOR_UTL.calcRasterNominalSize</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-E60671B6-C7B4-4D76-BCA8-C1BDC2F2D2FB__GUID-A1BAFF4E-6A73-4B87-8E46-DB38A6DA40A5">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.calcRasterNominalSize（geor IN SDO_GEORASTER，填充IN VARCHAR2 DEFAULT'TRUE'，金字塔IN VARCHAR2 DEFAULT'TRUE'，bitmapMask IN VARCHAR2 DEFAULT'TRUE'）返回号码;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E60671B6-C7B4-4D76-BCA8-C1BDC2F2D2FB__GUID-00A082AD-0F36-4B76-801E-F827EF82FF23">描述</p>
                     <p>返回GeoRaster对象的总栅格块长度（以字节为单位），就好像它没有被压缩并且不包含任何空栅格块一样。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E60671B6-C7B4-4D76-BCA8-C1BDC2F2D2FB__GUID-26C94FAC-2421-4151-807B-749483069201">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-E60671B6-C7B4-4D76-BCA8-C1BDC2F2D2FB__GUID-D665E4FB-FAB7-43DA-99CC-6BCEC7D712F9"><!-- --></a> geor</dt>
                        <dd>
                           <p>GeoRaster对象。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E60671B6-C7B4-4D76-BCA8-C1BDC2F2D2FB__GUID-95D37B06-CA42-458B-B200-D74FA8D78AFD"><!-- --></a>填充</dt>
                        <dd>
                           <p>字符串<code class="codeph">TRUE</code> （默认值）会导致考虑栅格块中的填充;字符串<code class="codeph">FALSE</code>导致不考虑栅格块中的填充。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E60671B6-C7B4-4D76-BCA8-C1BDC2F2D2FB__GUID-E0F6F671-818E-480A-B374-0326906CD89E"><!-- --></a>金字塔</dt>
                        <dd>
                           <p>字符串<code class="codeph">TRUE</code> （默认值）会导致考虑任何金字塔的大小;字符串<code class="codeph">FALSE</code>导致不考虑任何金字塔的大小。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E60671B6-C7B4-4D76-BCA8-C1BDC2F2D2FB__GUID-D6351640-5CF6-447E-8586-BBEC9E95B722"><!-- --></a> bitmapMask</dt>
                        <dd>
                           <p>字符串<code class="codeph">TRUE</code> （默认值）会导致考虑任何关联的位图掩码;字符串<code class="codeph">FALSE</code>导致不考虑任何关联的位图掩码。有关位图蒙版的说明，请参阅<a href="georaster-overview-and-concepts.html#GUID-20696505-9B9E-4E08-B165-1B23A574BEB3" title="位图掩码是一个特殊的一位深矩形栅格网格，每个像素的值为0或1。它用于在另一个图像内定义不规则形状的区域。1位定义区域的内部，0位定义区域的外部。">位图蒙版</a> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E60671B6-C7B4-4D76-BCA8-C1BDC2F2D2FB__GUID-3C201D96-9249-431E-8C39-2C036DA10423">使用说明</p>
                     <p>此函数不考虑任何LOB存储开销，因此结果只是GeoRaster对象的实际存储要求的近似值。</p>
                     <p>此函数的结果将大于或等于同一GeoRaster对象上的<a href="SDO_GEOR_UTL-reference.html#GUID-D4F67AB0-23F3-497E-BF6E-86B9AF2D7D4A">SDO_GEOR_UTL.calcRasterStorageSize</a>函数的结果。如果此函数返回的值大于同一GeoRaster对象上的<a href="SDO_GEOR_UTL-reference.html#GUID-D4F67AB0-23F3-497E-BF6E-86B9AF2D7D4A">SDO_GEOR_UTL.calcRasterStorageSize</a>函数，则值的差异反映了使用压缩或空栅格块或两者所节省的空间。
                     </p>
                     <p>有关GeoRaster压缩的信息，请参阅<a href="georaster-overview-and-concepts.html#GUID-9BEA34A1-E05E-4E70-B09D-97A0EF1027B8" title="GeoRaster提供以下类型的本机压缩，以减少GeoRaster对象的存储空间要求：JPEG（JPEG-F），JPEG 2000和DEFLATE。">压缩和解压缩</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E60671B6-C7B4-4D76-BCA8-C1BDC2F2D2FB__GUID-3323E620-89B5-498D-9E3D-DE317D108863">例子</p>
                     <p>以下示例根据当前阻塞方案计算GeoRaster对象的标称栅格大小（以字节为单位）。返回的大小包括（默认情况下）栅格块中的任何填充，任何关联的位图掩码和任何金字塔。</p><pre class="oac_no_warn" dir="ltr">SELECT SDO_GEOR_UTL.calcRasterNominalSize（georaster）nsize FROM georaster_table WHERE georid = 1; NSIZE ---------- 289150</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1208"></a><div class="props_rev_3"><a id="GUID-D4F67AB0-23F3-497E-BF6E-86B9AF2D7D4A" name="GUID-D4F67AB0-23F3-497E-BF6E-86B9AF2D7D4A"></a><h3 id="GEORS-GUID-D4F67AB0-23F3-497E-BF6E-86B9AF2D7D4A" class="sect3"><span class="enumeration_section">13.3</span> SDO_GEOR_UTL.calcRasterStorageSize</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-D4F67AB0-23F3-497E-BF6E-86B9AF2D7D4A__GUID-6CCA2DD6-EC9D-436B-9511-B9F2052D76F9">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.calcRasterStorageSize（geor IN SDO_GEORASTER）返回号码;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D4F67AB0-23F3-497E-BF6E-86B9AF2D7D4A__GUID-BA440597-C604-4417-9ECD-6519899D59FE">描述</p>
                     <p>返回GeoRaster对象的所有栅格块的实际长度（以字节为单位）。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D4F67AB0-23F3-497E-BF6E-86B9AF2D7D4A__GUID-4AA0E5A5-468C-4614-A1B3-C9583505A0EB">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-D4F67AB0-23F3-497E-BF6E-86B9AF2D7D4A__GUID-6FDCCEB9-90CF-48D9-9100-481F3FFABD9D"><!-- --></a> geor</dt>
                        <dd>
                           <p>GeoRaster对象。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D4F67AB0-23F3-497E-BF6E-86B9AF2D7D4A__GUID-AF85E67A-D612-4CB8-A771-68BFB4D1ECC3">使用说明</p>
                     <p>该函数计算GeoRaster对象的所有栅格块的实际长度。它不考虑任何LOB存储开销，因此结果只是GeoRaster对象的实际存储大小的近似值。实质上，此函数执行以下语句：</p><pre class="oac_no_warn" dir="ltr">EXECUTE IMMEDIATE'SELECT SUM（DBMS_LOB.getLength（rasterBlock））FROM'|| geor.rasterDataTable || '在哪里rasterId ='|| geor.rasterId;</pre><p>此函数的结果将小于或等于同一GeoRaster对象上的<a href="SDO_GEOR_UTL-reference.html#GUID-E60671B6-C7B4-4D76-BCA8-C1BDC2F2D2FB">SDO_GEOR_UTL.calcRasterNominalSize</a>函数的结果。如果此函数返回的值小于同一GeoRaster对象上的<a href="SDO_GEOR_UTL-reference.html#GUID-E60671B6-C7B4-4D76-BCA8-C1BDC2F2D2FB">SDO_GEOR_UTL.calcRasterNominalSize</a>函数，则值的差异反映了使用压缩或空栅格块或两者所节省的空间。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D4F67AB0-23F3-497E-BF6E-86B9AF2D7D4A__GUID-55EDA5D6-FD1B-47AA-B547-84281ED42360">例子</p>
                     <p>以下示例计算实际大小与指定GeoRaster对象的标称大小的比率（作为小数部分）。在此示例中，实际大小约为标称大小的二十分之一（1/20）。</p><pre class="oac_no_warn" dir="ltr">SELECT SDO_GEOR_UTL.calcRasterStorageSize（georaster）/ SDO_GEOR_UTL.calcRasterNominalSize（georaster）ratio FROM georaster_table WHERE georid = 1;比率---------- .056198816</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-7D97E9ED-64E7-44BD-8920-0CAF4B297DA1" name="GUID-7D97E9ED-64E7-44BD-8920-0CAF4B297DA1"></a><h3 id="GEORS-GUID-7D97E9ED-64E7-44BD-8920-0CAF4B297DA1" class="sect3"><span class="enumeration_section">13.4</span> SDO_GEOR_UTL.calcSurfaceArea</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-7D97E9ED-64E7-44BD-8920-0CAF4B297DA1__GUID-39A8CB3C-CFAA-4C53-8466-B6111C51FD62">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.calcSurfaceArea（georaster IN SDO_GEORASTER，窗口IN SDO_GEOMETRY，并行IN NUMBER）返回编号;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7D97E9ED-64E7-44BD-8920-0CAF4B297DA1__GUID-2475E0CF-B0C4-4DCF-A1A1-7E96D7C3AE64">描述</p>
                     <p>计算并返回由存储在GeoRaster对象中的数字高程模型（DEM）数据表示的三维（3D）表面区域。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7D97E9ED-64E7-44BD-8920-0CAF4B297DA1__GUID-A53DDD4A-40E6-42F5-A976-C57A03E2C90E">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-7D97E9ED-64E7-44BD-8920-0CAF4B297DA1__GUID-AFF47DF2-C8CC-4C7E-85CE-C3B347AE7999"><!-- --></a> georaster</dt>
                        <dd>
                           <p>存储DEM数据的GeoRaster对象。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7D97E9ED-64E7-44BD-8920-0CAF4B297DA1__GUID-65A26F47-789F-4911-9A5A-08F61FC09678"><!-- --></a>窗口</dt>
                        <dd>
                           <p>2D几何对象指定要计算3D表面区域的区域。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7D97E9ED-64E7-44BD-8920-0CAF4B297DA1__GUID-57B162B9-FD0C-405F-9EA7-250C879F5E01"><!-- --></a>并行</dt>
                        <dd>操作的并行度。它应该大于0。建议值是CPU数量的2倍</dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7D97E9ED-64E7-44BD-8920-0CAF4B297DA1__GUID-B6EF1141-0FCD-4835-99DB-AA46EA94788F">使用说明</p>
                     <p>此函数首先找出<code class="codeph">window</code>参数指定的或触摸某个区域内的所有单元格，将每个单元格拆分为两个3D三角形，计算每个三角形的3D表面区域，然后返回这些区域值的总和作为结果。与窗口边界相交的三角形区域基于相交的几何形状计算，因此该函数以高精度返回表面区域。
                     </p>
                     <p>如果<code class="codeph">parallel</code>参数值小于1，则使用1（即，没有并行性）。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7D97E9ED-64E7-44BD-8920-0CAF4B297DA1__GUID-F56223A6-A87B-42EC-84AA-7E56A9E86EDA">例子</p>
                     <p>以下示例使用DEM数据计算<code class="codeph">geom</code>的表面积。（它指的是名为GEORASTER_TABLE的表，其定义在<a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">存储参数的</a> <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">示例1-1</a>之后给出。）
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE geor SDO_GEORASTER; geom SDO_GEOMETRY;面积数量; BEGIN geom：= sdo_geometry（2003,82394，NULL，mdsys.sdo_elem_info_array（1,1003,1），mdsys.sdo_ordinate_array（20283.775,1011087.9,18783.775,1008687.9,21783.775,1008687.9,22683.775 + 0.001,1009587.9,20283.775,1011087.9）） ; SELECT georaster INTO geor FROM georaster_table WHERE georid = 3;区域：= SDO_GEOR_UTL.calcSurfaceArea（geor，GEOM，2）;结束; /</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1298"></a><div class="props_rev_3"><a id="GUID-DC1098B1-94FF-4150-9BBF-13E30CE34F15" name="GUID-DC1098B1-94FF-4150-9BBF-13E30CE34F15"></a><h3 id="GEORS-GUID-DC1098B1-94FF-4150-9BBF-13E30CE34F15" class="sect3"><span class="enumeration_section">13.5</span> SDO_GEOR_UTL.clearReportTable</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-DC1098B1-94FF-4150-9BBF-13E30CE34F15__GUID-575BC1A2-F59B-4E2C-9198-C457A468EE02">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.clearReportTable（client_id IN NUMBER DEFAULT NULL）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DC1098B1-94FF-4150-9BBF-13E30CE34F15__GUID-D85D076B-D271-446A-9A4B-B151F264549E">描述</p>
                     <p>删除包含GeoRaster操作状态信息的表中的记录。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DC1098B1-94FF-4150-9BBF-13E30CE34F15__GUID-9D9D961D-BF95-4C30-9276-64F4D958B66E">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-DC1098B1-94FF-4150-9BBF-13E30CE34F15__GUID-33201504-318A-4994-97C9-1F761719EAAE"><!-- --></a> client_id</dt>
                        <dd>
                           <p>要删除其记录的客户端的ID。如果未指定此参数，则删除表中的所有记录。</p>
                           <p>（可以使用<a href="SDO_GEOR_UTL-reference.html#GUID-C0CB06F5-4A64-436E-99D3-C9F48C759585">SDO_GEOR_UTL.setClientID</a>过程设置客户端ID。）
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DC1098B1-94FF-4150-9BBF-13E30CE34F15__GUID-98DD5B80-62B4-4C97-8201-E7A5AD32FA14">使用说明</p>
                     <p>此过程是可用于监视和报告GeoRaster操作进度的子程序之一。有关此功能的概述，请参阅<a href="georaster-overview-and-concepts.html#GUID-B57F4783-7F39-4AC2-AB95-02984E3C44E9" title="对于某些资源密集型操作，GeoRaster使您可以监视和报告其执行进度。">报告GeoRaster中的操作进度</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DC1098B1-94FF-4150-9BBF-13E30CE34F15__GUID-A4F1F097-2659-49EA-B7FB-71E6F760496E">例子</p>
                     <p>以下示例删除报告表中的所有记录。</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_GEOR_UTL.clearReportTable;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1159"></a><div class="props_rev_3"><a id="GUID-CCA772B5-AA1E-4A53-B64C-67D8F6052CF2" name="GUID-CCA772B5-AA1E-4A53-B64C-67D8F6052CF2"></a><h3 id="GEORS-GUID-CCA772B5-AA1E-4A53-B64C-67D8F6052CF2" class="sect3"><span class="enumeration_section">13.6</span> SDO_GEOR_UTL.createDMLTrigger</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-CCA772B5-AA1E-4A53-B64C-67D8F6052CF2__GUID-6C127A79-91CD-41B9-95D4-EB3E2A8F1E2B">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.createDMLTrigger（tableName IN VARCHAR2，columnName IN VARCHAR2）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CCA772B5-AA1E-4A53-B64C-67D8F6052CF2__GUID-DC490C47-7FEF-4A03-8F99-3190BC501A80">描述</p>
                     <p>在GeoRaster表中的GeoRaster列上创建所需的标准GeoRaster数据操作语言（DML）触发器，以便在触发其关联触发器时执行相应的操作。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CCA772B5-AA1E-4A53-B64C-67D8F6052CF2__GUID-177FE58C-5404-4FF3-94C3-A2ED3715E462">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-CCA772B5-AA1E-4A53-B64C-67D8F6052CF2__GUID-E7FE6686-95CB-496C-A508-5CD8F9DF99EC"><!-- --></a> tableName</dt>
                        <dd>
                           <p>GeoRaster表的名称（包含至少具有一个GeoRaster对象列的行的表）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-CCA772B5-AA1E-4A53-B64C-67D8F6052CF2__GUID-6540B5B0-CEC2-4FD5-813B-8AAAAEB23A73"><!-- --></a> columnName</dt>
                        <dd>
                           <p>GeoRaster表中SDO_GEORASTER类型的列的名称。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CCA772B5-AA1E-4A53-B64C-67D8F6052CF2__GUID-9226F818-52F9-4A48-9AE5-A8E6E259693F">使用说明</p>
                     <div class="infoboxnote" id="GUID-CCA772B5-AA1E-4A53-B64C-67D8F6052CF2__GUID-E3CF0AAE-D32D-42A9-BF64-30E948454E54">
                        <p class="notep1">注意：</p>
                        <p>更方便的替代方法可能是使用<a href="SDO_GEOR_UTL-reference.html#GUID-AD56A631-0111-44A2-8A94-4F326FCABA3B">SDO_GEOR_UTL.recreateDMLTriggers</a>过程，其中对过程的一次调用在当前用户有权访问的所有GeoRaster列上重新创建或创建DML触发器。
                        </p>
                     </div>
                     <p>正如<a href="georaster-database-creation-management.html#GUID-41CD2847-8823-479A-AC0F-A991B2F083A9">GeoRaster DML触发器中所述</a> ，为了确保内部GeoRaster表和数据结构的一致性和完整性，只要用户创建GeoRaster表（即至少包含一个GeoRaster的表），GeoRaster就会自动为每个GeoRaster列创建一个唯一的DML触发器。列），但有以下异常：如果使用ALTER TABLE语句添加一个或多个GeoRaster列。在这种情况下，您必须调用SDO_GEOR_UTL.createDMLTrigger过程以在每个添加的GeoRaster列上创建DML触发器。
                     </p>
                     <p>否则，您通常不需要调用此过程，但在某些情况下（例如数据库升级或数据迁移）重新创建DML触发器仍然很有用。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CCA772B5-AA1E-4A53-B64C-67D8F6052CF2__GUID-D1999B16-4A53-4C52-A73E-9B5DA98AE8C1">例子</p>
                     <p>以下示例为名为XYZ_GEOR_TAB的表创建标准GeoRaster DML触发器，该表包含名为GEOR_COL的GeoRaster列。</p><pre class="oac_no_warn" dir="ltr">EXECUTE sdo_geor_utl.createDMLTrigger（'XYZ_GEOR_TAB'，'GEOR_COL'）;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1299"></a><div class="props_rev_3"><a id="GUID-E35FA2E9-24FD-455B-B53F-B42DDDD3D71C" name="GUID-E35FA2E9-24FD-455B-B53F-B42DDDD3D71C"></a><h3 id="GEORS-GUID-E35FA2E9-24FD-455B-B53F-B42DDDD3D71C" class="sect3"><span class="enumeration_section">13.7</span> SDO_GEOR_UTL.createReportTable</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-E35FA2E9-24FD-455B-B53F-B42DDDD3D71C__GUID-9576E033-4792-4914-909A-CC67870F7BAF">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.createReportTable;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E35FA2E9-24FD-455B-B53F-B42DDDD3D71C__GUID-4D3D2FCE-8521-419A-AF37-277B8136C64F">描述</p>
                     <p>创建表以包含GeoRaster操作状态信息。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E35FA2E9-24FD-455B-B53F-B42DDDD3D71C__GUID-73AFDA70-CA3E-417B-A4AC-43CCD6B078FB">参数</p>
                     <p>没有。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E35FA2E9-24FD-455B-B53F-B42DDDD3D71C__GUID-74B32746-5EA6-4E81-9847-6F15EC8271B6">使用说明</p>
                     <p>此过程是可用于监视和报告GeoRaster操作进度的子程序之一。有关此功能的概述，请参阅<a href="georaster-overview-and-concepts.html#GUID-B57F4783-7F39-4AC2-AB95-02984E3C44E9" title="对于某些资源密集型操作，GeoRaster使您可以监视和报告其执行进度。">报告GeoRaster中的操作进度</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E35FA2E9-24FD-455B-B53F-B42DDDD3D71C__GUID-7CE8FECE-B97A-4951-9A70-8E98B0188F6D">例子</p>
                     <p>以下示例创建表以包含GeoRaster操作状态信息。</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_GEOR_UTL.createReportTable;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1300"></a><div class="props_rev_3"><a id="GUID-7102EF4A-0279-4079-83FB-1B8EFE8C3A12" name="GUID-7102EF4A-0279-4079-83FB-1B8EFE8C3A12"></a><h3 id="GEORS-GUID-7102EF4A-0279-4079-83FB-1B8EFE8C3A12" class="sect3"><span class="enumeration_section">13.8</span> SDO_GEOR_UTL.disableReport</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-7102EF4A-0279-4079-83FB-1B8EFE8C3A12__GUID-4E95EAAE-F63C-407B-87D5-5C2202E86F08">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.disableReport;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7102EF4A-0279-4079-83FB-1B8EFE8C3A12__GUID-FF985191-1CDD-4279-86E0-CC4857DED7B0">描述</p>
                     <p>禁用当前会话中GeoRaster操作的状态报告。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7102EF4A-0279-4079-83FB-1B8EFE8C3A12__GUID-E57D8CE2-A289-426D-8399-3051A73F3A4D">参数</p>
                     <p>没有。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7102EF4A-0279-4079-83FB-1B8EFE8C3A12__GUID-308E84D4-AA8F-4341-A2C8-7C425724AA91">使用说明</p>
                     <p>此过程是可用于监视和报告GeoRaster操作进度的子程序之一。有关此功能的概述，请参阅<a href="georaster-overview-and-concepts.html#GUID-B57F4783-7F39-4AC2-AB95-02984E3C44E9" title="对于某些资源密集型操作，GeoRaster使您可以监视和报告其执行进度。">报告GeoRaster中的操作进度</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7102EF4A-0279-4079-83FB-1B8EFE8C3A12__GUID-C55567AC-B806-4DB7-BE85-A60986F87B13">例子</p>
                     <p>以下示例禁用当前会话中GeoRaster操作的状态报告。</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_GEOR_UTL.disableReport;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1301"></a><div class="props_rev_3"><a id="GUID-E4389281-1803-4FB7-A61C-42D0CD4105FC" name="GUID-E4389281-1803-4FB7-A61C-42D0CD4105FC"></a><h3 id="GEORS-GUID-E4389281-1803-4FB7-A61C-42D0CD4105FC" class="sect3"><span class="enumeration_section">13.9</span> SDO_GEOR_UTL.dropReportTable</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-E4389281-1803-4FB7-A61C-42D0CD4105FC__GUID-60770F48-810B-441A-83BD-19A507433FB2">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.dropReportTable;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E4389281-1803-4FB7-A61C-42D0CD4105FC__GUID-8D559BD9-EAA0-4CAD-8971-13EA0CEFA885">描述</p>
                     <p>删除包含GeoRaster操作状态信息的表。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E4389281-1803-4FB7-A61C-42D0CD4105FC__GUID-4E570110-09F4-4A01-9606-9557F5A80765">参数</p>
                     <p>没有。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E4389281-1803-4FB7-A61C-42D0CD4105FC__GUID-B66B92B1-02E9-4EC4-AB51-1618964E1695">使用说明</p>
                     <p>此过程是可用于监视和报告GeoRaster操作进度的子程序之一。有关此功能的概述，请参阅<a href="georaster-overview-and-concepts.html#GUID-B57F4783-7F39-4AC2-AB95-02984E3C44E9" title="对于某些资源密集型操作，GeoRaster使您可以监视和报告其执行进度。">报告GeoRaster中的操作进度</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E4389281-1803-4FB7-A61C-42D0CD4105FC__GUID-3FD98F53-5BE8-4804-8DB5-A17BAEEEAB4B">例子</p>
                     <p>以下示例删除包含GeoRaster操作状态信息的表。</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_GEOR_UTL.dropReportTable;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1302"></a><div class="props_rev_3"><a id="GUID-0BA5629B-AD97-4199-9303-FD5B8B363D03" name="GUID-0BA5629B-AD97-4199-9303-FD5B8B363D03"></a><h3 id="GEORS-GUID-0BA5629B-AD97-4199-9303-FD5B8B363D03" class="sect3"><span class="enumeration_section">13.10</span> SDO_GEOR_UTL.emptyBlocks</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-0BA5629B-AD97-4199-9303-FD5B8B363D03__GUID-39A8CB3C-CFAA-4C53-8466-B6111C51FD62">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.emptyBlocks（georaster IN OUT SDO_GEORASTER，bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0BA5629B-AD97-4199-9303-FD5B8B363D03__GUID-2475E0CF-B0C4-4DCF-A1A1-7E96D7C3AE64">描述</p>
                     <p>修剪仅包含指定背景值的所有块以清空LOB，从而使它们成为空块。可用于减少GeoRaster存储所需的磁盘空间。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0BA5629B-AD97-4199-9303-FD5B8B363D03__GUID-A53DDD4A-40E6-42F5-A976-C57A03E2C90E">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-0BA5629B-AD97-4199-9303-FD5B8B363D03__GUID-AFF47DF2-C8CC-4C7E-85CE-C3B347AE7999"><!-- --></a> georaster</dt>
                        <dd>
                           <p>GeoRaster对象。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0BA5629B-AD97-4199-9303-FD5B8B363D03__GUID-65A26F47-789F-4911-9A5A-08F61FC09678"><!-- --></a> bgValues</dt>
                        <dd>
                           <p>用于确定块是否可以成为空栅格块的背景值。SDO_NUMBER_ARRAY对象中的元素数必须是一个（用于所有图层的填充值相同）或图层尺寸大小（每个图层的填充值分别不同）。例如，SDO_NUMBER_ARRAY（1,5,10）表示第一层为1，第二层为5，第三层为10的块为空块。如果此参数为null，则<code class="codeph">bgValues</code>将是默认值（单个元素SDO_NUMBER_ARRAY（0））。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0BA5629B-AD97-4199-9303-FD5B8B363D03__GUID-B6EF1141-0FCD-4835-99DB-AA46EA94788F">使用说明</p>
                     <p>如果<code class="codeph">georaster</code>为null，则此过程不执行任何操作。
                     </p>
                     <p>将此过程与<a href="SDO_GEOR_UTL-reference.html#GUID-444B7788-ED0A-4207-8246-E29E16C11339">SDO_GEOR_UTL.fillEmptyBlocks进行</a>对比，后者使用指定的背景值填充所有空块。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0BA5629B-AD97-4199-9303-FD5B8B363D03__GUID-F56223A6-A87B-42EC-84AA-7E56A9E86EDA">例子</p>
                     <p>以下示例清空其单元格值为背景值（255,0,0）的块。</p><pre class="oac_no_warn" dir="ltr">DECLARE geor SDO_GEORASTER; BEGIN SELECT georaster INTO geor FROM georaster_table WHERE georid = 3 FOR UPDATE; SDO_GEOR_UTL.emptyBlocks（geor，SDO_NUMBER_ARRAY（255,0,0））;更新georaster_table SET georaster = geor WHERE georid = 3;承诺;结束; /</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1303"></a><div class="props_rev_3"><a id="GUID-15481B20-58FD-47D8-A97D-65F8F1FE287D" name="GUID-15481B20-58FD-47D8-A97D-65F8F1FE287D"></a><h3 id="GEORS-GUID-15481B20-58FD-47D8-A97D-65F8F1FE287D" class="sect3"><span class="enumeration_section">13.11</span> SDO_GEOR_UTL.enableReport</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-15481B20-58FD-47D8-A97D-65F8F1FE287D__GUID-50AD03E1-6E25-4642-90B6-19B051ABB523">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.enableReport;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-15481B20-58FD-47D8-A97D-65F8F1FE287D__GUID-FAD0305C-7B71-4026-87E0-10BEAC4E62A8">描述</p>
                     <p>在当前会话中启用GeoRaster操作的状态报告。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-15481B20-58FD-47D8-A97D-65F8F1FE287D__GUID-9B027381-5B0E-4EDB-9227-7CA5210DAA1B">参数</p>
                     <p>没有。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-15481B20-58FD-47D8-A97D-65F8F1FE287D__GUID-629E07B0-5D41-4A82-9213-1E0A0323C2C0">使用说明</p>
                     <p>此过程是可用于监视和报告GeoRaster操作进度的子程序之一。有关此功能的概述，请参阅<a href="georaster-overview-and-concepts.html#GUID-B57F4783-7F39-4AC2-AB95-02984E3C44E9" title="对于某些资源密集型操作，GeoRaster使您可以监视和报告其执行进度。">报告GeoRaster中的操作进度</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-15481B20-58FD-47D8-A97D-65F8F1FE287D__GUID-5355C3E3-6AC5-4C1B-89C3-94392F314AFE">例子</p>
                     <p>以下示例启用当前会话中GeoRaster操作的状态报告。</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_GEOR_UTL.enableReport;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1228"></a><div class="props_rev_3"><a id="GUID-444B7788-ED0A-4207-8246-E29E16C11339" name="GUID-444B7788-ED0A-4207-8246-E29E16C11339"></a><h3 id="GEORS-GUID-444B7788-ED0A-4207-8246-E29E16C11339" class="sect3"><span class="enumeration_section">13.12</span> SDO_GEOR_UTL.fillEmptyBlocks</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-444B7788-ED0A-4207-8246-E29E16C11339__GUID-8B980397-0362-4668-83EE-7371724FF4ED">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.fillEmptyBlocks（georaster IN OUT SDO_GEORASTER，bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-444B7788-ED0A-4207-8246-E29E16C11339__GUID-809A99B1-74AF-4417-93BC-66DC1FAC445A">描述</p>
                     <p>使用指定的背景值填充所有空块。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-444B7788-ED0A-4207-8246-E29E16C11339__GUID-D72D9157-3C31-4D48-8BD9-7EA29995BB5D">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-444B7788-ED0A-4207-8246-E29E16C11339__GUID-1C3583FF-503F-4F53-8741-8256B22B35D6"><!-- --></a> georaster</dt>
                        <dd>
                           <p>GeoRaster对象，用于填充空块。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-444B7788-ED0A-4207-8246-E29E16C11339__GUID-FC097C7F-BA1A-4B9C-808E-E784C0DF4CE7"><!-- --></a> bgValues</dt>
                        <dd>
                           <p>用于填充空栅格块的背景值。SDO_NUMBER_ARRAY对象中的元素数必须是一个（用于所有波段的相同填充值）或波段维度大小（每个波段的填充值分别不同）。例如，SDO_NUMBER_ARRAY（1,5,10）用1填充第一个波段，用5填充第二个波段，用10填充第三个波段。如果此参数为null，则<code class="codeph">bgValues</code>将为0（零）。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-444B7788-ED0A-4207-8246-E29E16C11339__GUID-ADA38FD5-DD8E-4760-90DE-65EDB8D97178">使用说明</p>
                     <p>如果<code class="codeph">georaster</code>为null，则此过程不执行任何操作。
                     </p>
                     <p>如果<code class="codeph">georaster</code>存在金字塔数据，则基于存储在元数据中的金字塔信息重新生成金字塔。
                     </p>
                     <p>将此过程与<a href="SDO_GEOR_UTL-reference.html#GUID-0BA5629B-AD97-4199-9303-FD5B8B363D03">SDO_GEOR_UTL.emptyBlocks进行</a>对比，后者将具有指定背景值的块转换为空块。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-444B7788-ED0A-4207-8246-E29E16C11339__GUID-3A5A91D0-9E6E-4030-84A2-1E092C30DC82">例子</p>
                     <p>以下示例清空具有背景值（255,0,0）的块。</p><pre class="oac_no_warn" dir="ltr">DECLARE geor SDO_GEORASTER; BEGIN SELECT georaster INTO geor FROM georaster_table WHERE georid = 3 FOR UPDATE; SDO_GEOR_UTL.emptyBlocks（geor，SDO_NUMBER_ARRAY（255,0,0））;更新georaster_table SET georaster = geor WHERE georid = 3;承诺;结束; /</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-1902FAAC-6F04-4CD7-AC86-52F70FE81E9D" name="GUID-1902FAAC-6F04-4CD7-AC86-52F70FE81E9D"></a><h3 id="GEORS-GUID-1902FAAC-6F04-4CD7-AC86-52F70FE81E9D" class="sect3"><span class="enumeration_section">13.13</span> SDO_GEOR_UTL.generateColorRamp</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-1902FAAC-6F04-4CD7-AC86-52F70FE81E9D__GUID-A1BAFF4E-6A73-4B87-8E46-DB38A6DA40A5">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.generateColorRamp（colorSeeds IN SDO_GEOR_COLORMAP，rampSteps IN SDO_NUMBER_ARRAY，cellValueType IN VARCHAR2 DEFAULT'integer'，interpoParam IN VARCHAR2 DEFAULT'method = linear'）RETURN SDO_GEOR_COLORMAP;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1902FAAC-6F04-4CD7-AC86-52F70FE81E9D__GUID-00A082AD-0F36-4B76-801E-F827EF82FF23">描述</p>
                     <p>通过插入作为种子输入的红色，绿色，蓝色和alpha值，生成带有颜色渐变（渐变）的SDO_GEOR_COLORMAP对象。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1902FAAC-6F04-4CD7-AC86-52F70FE81E9D__PARAMETERS-FF11B7EA">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-1902FAAC-6F04-4CD7-AC86-52F70FE81E9D__GUID-D665E4FB-FAB7-43DA-99CC-6BCEC7D712F9"><!-- --></a> colorSeeds</dt>
                        <dd>
                           <p>SDO_GEOR_COLORMAP对象，其种子值将用作插值的开始值和结束值。应包含至少两个组，每个组包含一个像素值和一组RGBA值。（RGBA =红色，绿色，蓝色，alpha）</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1902FAAC-6F04-4CD7-AC86-52F70FE81E9D__GUID-95D37B06-CA42-458B-B200-D74FA8D78AFD"><!-- --></a> rampSteps</dt>
                        <dd>
                           <p>一个数组，其中每个项目指示将为颜色渐变的每个部分生成多少内插值。应包含至少一个整数值，表示将为每个部分生成多少个值。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1902FAAC-6F04-4CD7-AC86-52F70FE81E9D__GUID-E0F6F671-818E-480A-B374-0326906CD89E"><!-- --></a> cellValueType</dt>
                        <dd>
                           <p>一个字符串，指示是否应将单元格值创建为整数或实数值。此参数的可能值为<code class="codeph">integer</code> （默认值）或<code class="codeph">real</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1902FAAC-6F04-4CD7-AC86-52F70FE81E9D__GUID-D6351640-5CF6-447E-8586-BBEC9E95B722"><!-- --></a> interpoParam</dt>
                        <dd>
                           <p>指定插值方法的字符串。可能的值是<code class="codeph">method=linear</code> （默认值）和<code class="codeph">method=cosine</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1902FAAC-6F04-4CD7-AC86-52F70FE81E9D__GUID-3C201D96-9249-431E-8C39-2C036DA10423">使用说明</p>
                     <p>此函数返回SDO_GEOR_COLORMAP类型的对象，该<a href="georaster-datatypes.html#GUID-CEE244F7-DDDA-4B97-B128-53F97E89D9B3">对象</a>在<a href="georaster-datatypes.html#GUID-CEE244F7-DDDA-4B97-B128-53F97E89D9B3">SDO_GEOR_COLORMAP对象类型中</a>描述。
                     </p>
                     <p>颜色渐变可以具有几个不同的部分，每个部分具有不同的长度。如果<code class="codeph">colorSeeds</code>指定三个RGBA值，则该函数将在同一颜色渐变上生成两个部分。每个部分的颜色级别数由<code class="codeph">rampSteps</code>数组控制。要生成独立的部分，请在<code class="codeph">colorSeeds</code>参数中插入新项目，并在<code class="codeph">rampSetps</code>插入新项目。（ <code class="codeph">rampSetps</code>任何值0表示在该部分中不需要生成内插值。）
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1902FAAC-6F04-4CD7-AC86-52F70FE81E9D__GUID-3323E620-89B5-498D-9E3D-DE317D108863">例子</p>
                     <p>以下示例生成并应用包含从绿色到红色线性插值的256种颜色的颜色渐变。（它假定存在一个名为RAMP_TEST的表，至少包含名为ID和RASTER的列。）</p><pre class="oac_no_warn" dir="ltr">DECLARE gr sdo_georaster; cmp sdo_geor_colormap; BEGIN从ramp_test选择栅格到gr，其中id = 1用于更新; cmp：= sdo_geor_utl.generateColorRamp（colorSeeds =&gt; sdo_geor_colormap（sdo_number_array（1,1000），sdo_number_array（0,255），sdo_number_array（255,0），sdo_number_array（0,0），sdo_number_array（255,255）），rampSteps = &gt; sdo_number_array（256），cellValueType =&gt;'integer'，interpoParam =&gt;'method = linear'）; sdo_geor.setColorMap（gr，0，cmp）; update ramp_test set raster = gr其中id = 1;承诺;结束;</pre><p>以下示例生成并应用颜色渐变，颜色渐变从绿色变为蓝色，从蓝色变为红色。（它假定存在一个名为RAMP_TEST的表，至少包含名为ID和RASTER的列。）这两个部分将共享<code class="codeph">colorSeeds</code>参数值中的第二个项目，即蓝色。
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE gr sdo_georaster; cmp sdo_geor_colormap; BEGIN从ramp_test选择栅格到gr，其中id = 1用于更新; cmp：= sdo_geor_utl.generateColorRamp（colorSeeds =&gt; sdo_geor_colormap（sdo_number_array（1,500,1000），sdo_number_array（0,0,255），sdo_number_array（255,0,0），sdo_number_array（0,255,0），sdo_number_array（ 255,255,255）），rampSteps =&gt; sdo_number_array（128,128），cellValueType =&gt;'integer'，interpoParam =&gt;'method = linear'）; sdo_geor.setColorMap（gr，0，cmp）; update ramp_test set raster = gr其中id = 1;承诺;结束;</pre><p>以下示例生成256个项目的颜色渐变，其中一个部分从绿色变为蓝色，一个部分从白色变为红色。（它假定存在一个名为RAMP_TEST的表，至少包含名为ID和RASTER的列。）</p><pre class="oac_no_warn" dir="ltr">DECLARE gr sdo_georaster; cmp sdo_geor_colormap; BEGIN从ramp_test选择栅格到gr，其中id = 1用于更新; cmp：= sdo_geor_utl.generateColorRamp（colorSeeds =&gt; sdo_geor_colormap（sdo_number_array（1,500,500,1000），sdo_number_array（0,0,255,255），sdo_number_array（255,0,255,0），sdo_number_array（0,255） ，255,0），sdo_number_array（255,255,255,255）），rampSteps =&gt; sdo_number_array（128,0,128），cellValueType =&gt;'integer'，interpoParam =&gt;'method = linear'）; sdo_geor.setColorMap（gr，0，cmp）; update ramp_test set raster = gr其中id = 1;承诺;结束;</pre><p><code class="codeph">rampSteps</code>数组中的值0（ <code class="codeph">rampSteps =&gt; sdo_number_array( 128, 0, 128 );</code> ）表示在第二部分中不需要生成内插值。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-C4AD8E4E-7A1B-4399-9F47-61BEC51247E7" name="GUID-C4AD8E4E-7A1B-4399-9F47-61BEC51247E7"></a><h3 id="GEORS-GUID-C4AD8E4E-7A1B-4399-9F47-61BEC51247E7" class="sect3"><span class="enumeration_section">13.14</span> SDO_GEOR_UTL.generateGrayRamp</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-C4AD8E4E-7A1B-4399-9F47-61BEC51247E7__GUID-A1BAFF4E-6A73-4B87-8E46-DB38A6DA40A5">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.generateGrayRamp（graySeeds IN SDO_GEOR_GRAYSCALE，rampSteps IN SDO_NUMBER_ARRAY，cellValueType IN VARCHAR2 DEFAULT'integer'，interpoParam IN VARCHAR2 DEFAULT'method = linear'）RETURN SDO_GEOR_GRAYSCALE;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C4AD8E4E-7A1B-4399-9F47-61BEC51247E7__GUID-00A082AD-0F36-4B76-801E-F827EF82FF23">描述</p>
                     <p>通过插入作为种子输入的值，生成带有灰度渐变（渐变）的SDO_GEOR_GRAYSCALE对象。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C4AD8E4E-7A1B-4399-9F47-61BEC51247E7__PARAMETERS-FF196D69">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-C4AD8E4E-7A1B-4399-9F47-61BEC51247E7__GUID-D665E4FB-FAB7-43DA-99CC-6BCEC7D712F9"><!-- --></a> colorSeeds</dt>
                        <dd>
                           <p>SDO_GEOR_GRAYSCALE对象，其种子值将用作插值的开始值和结束值。应该包含至少一个像素值/灰度值对。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C4AD8E4E-7A1B-4399-9F47-61BEC51247E7__GUID-95D37B06-CA42-458B-B200-D74FA8D78AFD"><!-- --></a> rampSteps</dt>
                        <dd>
                           <p>一个数组，其中每个项目表示将为灰色渐变的每个部分生成多少内插值。应包含至少一个整数值，表示将为灰色渐变的每个部分生成多少个值。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C4AD8E4E-7A1B-4399-9F47-61BEC51247E7__GUID-E0F6F671-818E-480A-B374-0326906CD89E"><!-- --></a> cellValueType</dt>
                        <dd>
                           <p>一个字符串，指示是否应将单元格值创建为整数或实数值。此参数的可能值为<code class="codeph">integer</code> （默认值）或<code class="codeph">real</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C4AD8E4E-7A1B-4399-9F47-61BEC51247E7__GUID-D6351640-5CF6-447E-8586-BBEC9E95B722"><!-- --></a> interpoParam</dt>
                        <dd>
                           <p>指定插值方法的字符串。可能的值是<code class="codeph">method=linear</code> （默认值）和<code class="codeph">method=cosine</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C4AD8E4E-7A1B-4399-9F47-61BEC51247E7__GUID-3C201D96-9249-431E-8C39-2C036DA10423">使用说明</p>
                     <p>此函数返回SDO_GEOR_GRAYSCALE类型的对象，该<a href="georaster-datatypes.html#GUID-62D45A64-ABEB-4386-BD2F-0003BF2CC551">对象</a>在<a href="georaster-datatypes.html#GUID-62D45A64-ABEB-4386-BD2F-0003BF2CC551">SDO_GEOR_GRAYSCALE对象类型中</a>描述。
                     </p>
                     <p>灰色斜坡可以具有多个不同的部分，每个部分具有不同的长度。如果<code class="codeph">graySeeds</code>指定三个值，则该函数将在同一灰色渐变上生成两个部分。每个部分的灰度级数由<code class="codeph">rampSteps</code>数组控制。要生成独立的部分，请在<code class="codeph">graySeeds</code>参数中插入新项目，并在<code class="codeph">rampSetps</code>插入新项目。（ <code class="codeph">rampSetps</code>任何值0表示在该部分中不需要生成内插值。）
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C4AD8E4E-7A1B-4399-9F47-61BEC51247E7__GUID-3323E620-89B5-498D-9E3D-DE317D108863">例子</p>
                     <p>以下示例生成并应用包含从绿色到红色线性插值的256种颜色的灰色渐变。（它假定存在一个名为RAMP_TEST的表，至少包含名为ID和RASTER的列。）</p><pre class="oac_no_warn" dir="ltr">DECLARE gr sdo_georaster; gs sdo_geor_grayscale; BEGIN从ramp_test选择栅格到gr，其中id = 3进行更新; gs：= sdo_geor_utl.generateGrayRamp（graySeeds =&gt; sdo_geor_grayscale（sdo_number_array（0,1000），sdo_number_array（0,255）），rampSteps =&gt; sdo_number_array（100），cellValueType =&gt;'integer'，interpoParam =&gt;'method = linear' ）; sdo_geor.setGrayScale（gr，0，gs）; update ramp_test set raster = gr其中id = 3;承诺;结束;</pre><p>以下示例生成并应用灰度斜坡256项内插值，范围从-100到0和0到1000。（它假定存在一个名为RAMP_TEST的表，至少包含名为ID和RASTER的列。）。</p><pre class="oac_no_warn" dir="ltr">DECLARE gr sdo_georaster; gs sdo_geor_grayscale; BEGIN从ramp_test选择栅格到gr，其中id = 3进行更新; gs：= sdo_geor_utl.generateGrayRamp（graySeeds =&gt; sdo_geor_grayscale（sdo_number_array（-100,0,1000），sdo_number_array（255,0,255）），rampSteps =&gt; sdo_number_array（100,100），cellValueType =&gt;'real'，interpoParam =&gt;'method = linear'）; sdo_geor.setGrayScale（gr，0，gs）; update ramp_test set raster = gr其中id = 3;承诺;结束;</pre><p>下面的示例生成256个项目的灰色渐变，其中一个部分从绿色变为蓝色，一个部分从白色变为红色。（它假定存在一个名为RAMP_TEST的表，至少包含名为ID和RASTER的列。）</p><pre class="oac_no_warn" dir="ltr">DECLARE gr sdo_georaster; gs sdo_geor_grayscale; BEGIN从ramp_test选择栅格到gr，其中id = 3进行更新; gs：= sdo_geor_utl.generateGrayRamp（graySeeds =&gt; sdo_geor_grayscale（sdo_number_array（-100,0,0,1000），sdo_number_array（0,10,100,200）），rampSteps =&gt; sdo_number_array（100,0,100），cellValueType = &gt;'real'，interpoParam =&gt;'method = linear'）; sdo_geor.setGrayScale（gr，0，gs）; update ramp_test set raster = gr其中id = 3;承诺;结束;</pre><p><code class="codeph">rampSteps</code>数组中的值0（ <code class="codeph">rampSteps =&gt; sdo_number_array( 128, 0, 128 );</code> ）表示在第二部分中不需要生成内插值。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1304"></a><div class="props_rev_3"><a id="GUID-24528301-570E-4B73-A11F-EBAD9CA211AB" name="GUID-24528301-570E-4B73-A11F-EBAD9CA211AB"></a><h3 id="GEORS-GUID-24528301-570E-4B73-A11F-EBAD9CA211AB" class="sect3"><span class="enumeration_section">13.15</span> SDO_GEOR_UTL.getAllStatusReport</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-24528301-570E-4B73-A11F-EBAD9CA211AB__GUID-09412F78-260B-4B22-90C1-1DA400F7FF77">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.getAllStatusReport（）返回SDO_STRING2_ARRAYSET;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-24528301-570E-4B73-A11F-EBAD9CA211AB__GUID-7F419C29-D6C7-4829-9378-9EB8A6E3D93D">描述</p>
                     <p>返回状态表中所有客户端的所有操作的当前状态。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-24528301-570E-4B73-A11F-EBAD9CA211AB__GUID-9379502F-8707-4855-98C0-ED30899CB002">参数</p>
                     <p>没有。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-24528301-570E-4B73-A11F-EBAD9CA211AB__GUID-91D8A61F-CB23-4B8B-B13F-AEC6987D4C78">使用说明</p>
                     <p>此函数返回一个数组，其中包含以逗号分隔的状态信息列表： <span class="italic">&lt;client_id&gt;，&lt;sequence_id&gt;，&lt;timestamp&gt;，&lt;operation name&gt;，&lt;RDT table name&gt;，&lt;Raster ID&gt;，&lt;progress&gt;，&lt;description&gt;</span> 。数据类型为SDO_STRING2_ARRAYSET，定义为<code class="codeph">VARRAY(2147483647) OF SDO_STRING2_ARRAY</code> 。</p>
                     <p>如果尚未创建状态表，则该函数返回<code class="codeph">'The report table does not exist.“</code></p>
                     <p>此功能是可用于监视和报告GeoRaster操作进度的子程序之一。有关此功能的概述，请参阅<a href="georaster-overview-and-concepts.html#GUID-B57F4783-7F39-4AC2-AB95-02984E3C44E9" title="对于某些资源密集型操作，GeoRaster使您可以监视和报告其执行进度。">报告GeoRaster中的操作进度</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-24528301-570E-4B73-A11F-EBAD9CA211AB__GUID-82FDFBB5-89B1-4DCF-B007-4D2D686759C0">例子</p>
                     <p>以下示例返回所有客户端的所有操作的当前状态。它返回两个SDO_STRING2_ARRAY对象。</p><pre class="oac_no_warn" dir="ltr">SELECT *来自（SELECT SDO_GEOR_UTL.getAllStatusReport FROM DUAL）; COLUMN_VALUE ------------------------------------------------- ------------------------------ SDO_STRING2_ARRAY（'Client：23'，'Sequence：1'，'24 -SEP-12 11.10.42.030169 AM'，'Mosaic'，'RDT：LANDSAT_MOSAIC_RDT'，'RID：1'，'100％完成'，NULL）SDO_STRING2_ARRAY（'Client：1'，'Sequence：0'，'24 -SEP-12 11.10.42.379631 AM'，'GeneratePyramid'，'RDT：LANDSAT_MOSAIC_RDT'，'RID：1'，'100％完成'，'操作已完成'）选择了2行。
</pre><p>以下示例还返回所有客户端的所有操作的当前状态。它使用与前面示例不同的SELECT语句格式，并返回包含两个SDO_STRING2_ARRAY对象的单个SDO_STRING2_ARRAYSET对象。</p><pre class="oac_no_warn" dir="ltr">set linesize 80 SELECT SDO_GEOR_UTL.getAllStatusReport FROM DUAL; SDO_GEOR_UTL.GETALLSTATUSREPORT（）--------------------------------------------- ----------------------------------- SDO_STRING2_ARRAYSET（SDO_STRING2_ARRAY（'Client：27'，'Sequence：1' ，'26 -SEP-12 11。31.03.473087 AM'，'Mosaic'，'RDT：LANDSAT_MOSAIC_RDT'，'RID：1'，'100％完成'，NULL），SDO_STRING2_ARRAY（'Client：-1'，'Sequence：0'，'26 -SEP -12 11.31.03.962948 A M'，'GeneratePyramid'，'RDT：LANDSAT_MOSAIC_RDT'，'RID：1'，'100％完成'，'操作完成'））选择1行。</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-75EFC6D7-A1F9-4FC1-A31D-91E82521B8DD" name="GUID-75EFC6D7-A1F9-4FC1-A31D-91E82521B8DD"></a><h3 id="GEORS-GUID-75EFC6D7-A1F9-4FC1-A31D-91E82521B8DD" class="sect3"><span class="enumeration_section">13.16</span> SDO_GEOR_UTL.getMaxMemSize</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-75EFC6D7-A1F9-4FC1-A31D-91E82521B8DD__GUID-B02A6E1E-D2DA-4002-9CE4-56B8D824E67B">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.getMaxMemSize RETURN NUMBER;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-75EFC6D7-A1F9-4FC1-A31D-91E82521B8DD__GUID-660925F9-38EB-4A4E-84A9-9852ECC0E5BF">描述</p>
                     <p>返回可使用GeoRaster缓冲系统管理内存的内存的上限大小。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-75EFC6D7-A1F9-4FC1-A31D-91E82521B8DD__GUID-6C5AEE12-3C3B-4085-BD55-A32AAF3FCDBC">参数</p>
                     <p>（没有。）</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-75EFC6D7-A1F9-4FC1-A31D-91E82521B8DD__GUID-1B977062-2FED-48FE-852F-E7D08519DEDD">使用说明</p>
                     <p><a href="georaster-data-manipulation.html#GUID-EF5B66A9-DD46-4178-96F6-B699D4AF3808">管理GeoRaster内存缓冲</a>提供概念和使用信息，包括相关参数的说明。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-75EFC6D7-A1F9-4FC1-A31D-91E82521B8DD__GUID-C3C67309-E233-4113-8D59-48A0D0CF4BC3">例子</p>
                     <p>以下示例返回可用于使用GeoRaster缓冲区系统管理内存的内存的当前上限大小。</p><pre class="oac_no_warn" dir="ltr">SELECT sdo_geor_utl.getMaxMemSize FROM DUAL; GETMAXMEMSIZE ------------- 16777216</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-0E714A7B-2225-4561-95BC-0AE5AD5AC20C" name="GUID-0E714A7B-2225-4561-95BC-0AE5AD5AC20C"></a><h3 id="GEORS-GUID-0E714A7B-2225-4561-95BC-0AE5AD5AC20C" class="sect3"><span class="enumeration_section">13.17</span> SDO_GEOR_UTL.getReadBlockMemSize</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-0E714A7B-2225-4561-95BC-0AE5AD5AC20C__GUID-B02A6E1E-D2DA-4002-9CE4-56B8D824E67B">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.getReadBlockMemSize RETURN NUMBER;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0E714A7B-2225-4561-95BC-0AE5AD5AC20C__GUID-660925F9-38EB-4A4E-84A9-9852ECC0E5BF">描述</p>
                     <p>返回GeoRaster内部数据块的大小（以字节为单位）以进行只读操作。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0E714A7B-2225-4561-95BC-0AE5AD5AC20C__GUID-6C5AEE12-3C3B-4085-BD55-A32AAF3FCDBC">参数</p>
                     <p>（没有。）</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0E714A7B-2225-4561-95BC-0AE5AD5AC20C__GUID-1B977062-2FED-48FE-852F-E7D08519DEDD">使用说明</p>
                     <p><a href="georaster-data-manipulation.html#GUID-EF5B66A9-DD46-4178-96F6-B699D4AF3808">管理GeoRaster内存缓冲</a>提供概念和使用信息，包括相关参数的说明。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0E714A7B-2225-4561-95BC-0AE5AD5AC20C__GUID-C3C67309-E233-4113-8D59-48A0D0CF4BC3">例子</p>
                     <p>以下示例返回GeoRaster内部数据块的当前大小（以字节为单位）以进行只读操作。</p><pre class="oac_no_warn" dir="ltr">SELECT sdo_geor_utl.getReadBlockMemSize FROM DUAL; GETREADBLOCKMEMSIZE ------------------- 32768</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1378"></a><div class="props_rev_3"><a id="GUID-34284A54-1792-4845-8F27-078AAE159413" name="GUID-34284A54-1792-4845-8F27-078AAE159413"></a><h3 id="GEORS-GUID-34284A54-1792-4845-8F27-078AAE159413" class="sect3"><span class="enumeration_section">13.18</span> SDO_GEOR_UTL.getProgress</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-34284A54-1792-4845-8F27-078AAE159413__GUID-7C09B0AF-C67C-40A0-87B8-0B7622B63166">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.getProgress（client_id IN NUMBER，seq_id IN NUMBER DEFAULT 0）返回号码;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-34284A54-1792-4845-8F27-078AAE159413__GUID-93153613-2488-4C02-8BF3-AA483137B087">描述</p>
                     <p>返回指定客户端（会话）的操作进度，也可以返回指定操作的操作进度。返回值是完成百分比，作为0到1之间的浮点数。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-34284A54-1792-4845-8F27-078AAE159413__GUID-28344A6C-9E0B-4E0C-999B-75E3E2BE91DC">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-34284A54-1792-4845-8F27-078AAE159413__GUID-30CD9F50-56B7-44B3-A7FA-D8F00095EB83"><!-- --></a> client_id</dt>
                        <dd>
                           <p>标识会话的唯一数字值。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-34284A54-1792-4845-8F27-078AAE159413__GUID-30513E44-FCB2-4C47-9544-B43A53DD649F"><!-- --></a> seq_id</dt>
                        <dd>
                           <p>唯一的数值（在指定的会话中），标识要返回状态信息的操作。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-34284A54-1792-4845-8F27-078AAE159413__GUID-E05034B2-38CF-4D46-819F-1E03FE45864A">使用说明</p>
                     <p>此函数返回一个数字，该数字是<code class="codeph">client_id</code>和<code class="codeph">seq_id</code>标识的操作的最新估计进度。确保使用正确的<code class="codeph">client_id</code>和<code class="codeph">seq_id</code>值。
                     </p>
                     <p>如果状态表没有给定<code class="codeph">client_id</code>和<code class="codeph">seq_id</code>的指定操作的记录，则返回null。
                     </p>
                     <p>如果尚未创建状态表，则该函数返回<code class="codeph">'The report table does not exist.“</code></p>
                     <p>此功能是可用于监视和报告GeoRaster操作进度的子程序之一。有关此功能的概述，请参阅<a href="georaster-overview-and-concepts.html#GUID-B57F4783-7F39-4AC2-AB95-02984E3C44E9" title="对于某些资源密集型操作，GeoRaster使您可以监视和报告其执行进度。">报告GeoRaster中的操作进度</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-34284A54-1792-4845-8F27-078AAE159413__GUID-310A29A0-3870-4DFB-911C-AC41AF64DE33">例子</p>
                     <p>以下示例返回客户机ID 5和操作序列ID 3的操作进度。</p><pre class="oac_no_warn" dir="ltr">SELECT sdo_geor_utl.getgetProgress（5,3）进度FROM dual;进展-------- .305</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1305"></a><div class="props_rev_3"><a id="GUID-7AC9801F-D891-4A9B-9BD9-87D273C7DC6F" name="GUID-7AC9801F-D891-4A9B-9BD9-87D273C7DC6F"></a><h3 id="GEORS-GUID-7AC9801F-D891-4A9B-9BD9-87D273C7DC6F" class="sect3"><span class="enumeration_section">13.19</span> SDO_GEOR_UTL.getStatusReport</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-7AC9801F-D891-4A9B-9BD9-87D273C7DC6F__GUID-AFB3B600-D8A8-4504-A387-D0EBB53AE34B">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.getStatusReport（client_id IN NUMBER，seq_id IN NUMBER DEFAULT 0）RETURN SDO_STRING2_ARRAY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7AC9801F-D891-4A9B-9BD9-87D273C7DC6F__GUID-AB903BF9-6A4C-4F8D-B61B-8F7F80F33D04">描述</p>
                     <p>返回指定客户端（会话）的状态表中的操作的当前状态，并可选择返回指定操作的当前状态。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7AC9801F-D891-4A9B-9BD9-87D273C7DC6F__GUID-D2407C46-F805-4B41-BE58-12597EE9FF6C">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-7AC9801F-D891-4A9B-9BD9-87D273C7DC6F__GUID-0AD6DCA4-79AD-48AA-9C2C-B48C2850A6CE"><!-- --></a> client_id</dt>
                        <dd>
                           <p>标识会话的唯一数字值。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7AC9801F-D891-4A9B-9BD9-87D273C7DC6F__GUID-D9FAC5DC-D342-4AB8-93AE-C06ECD49F47C"><!-- --></a> seq_id</dt>
                        <dd>
                           <p>唯一的数值（在指定的会话中），标识要返回状态信息的操作。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7AC9801F-D891-4A9B-9BD9-87D273C7DC6F__GUID-D44A7982-18A5-4D46-9A0C-9E32E6512A80">使用说明</p>
                     <p>此函数在逗号分隔的状态信息列表数组中返回指定会话（ <code class="codeph">client_id</code> ）的当前状态： <span class="italic">&lt;client_id&gt;，&lt;sequence_id&gt;，&lt;timestamp&gt;，&lt;operation name&gt;，&lt;RDT table name&gt;，&lt;Raster ID&gt;，&lt;progress&gt;，&lt;description&gt;</span> 。数据类型是SDO_STRING2_ARRAY，其定义为<code class="codeph">VARRAY(2147483647) OF VARCHAR2(4096)</code> 2149683647 <code class="codeph">VARRAY(2147483647) OF VARCHAR2(4096)</code> 。
                     </p>
                     <p>如果尚未创建状态表，则该函数返回<code class="codeph">'The report table does not exist.“</code></p>
                     <p>此功能是可用于监视和报告GeoRaster操作进度的子程序之一。有关此功能的概述，请参阅<a href="georaster-overview-and-concepts.html#GUID-B57F4783-7F39-4AC2-AB95-02984E3C44E9" title="对于某些资源密集型操作，GeoRaster使您可以监视和报告其执行进度。">报告GeoRaster中的操作进度</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7AC9801F-D891-4A9B-9BD9-87D273C7DC6F__GUID-D83474C7-25FB-41C5-98C3-C29A016DFB41">例子</p>
                     <p>以下示例返回客户机ID为5且操作序列ID为3的操作的状态。</p><pre class="oac_no_warn" dir="ltr">SELECT sdo_geor_utl.getStatusReport（5,3）FROM dual; SDO_GEOR_UTL.GETSTATUSREPORT（5,3）------------------------------------------ -------------------------------------- SDO_STRING2_ARRAY（'24 -SEP-12 11.10.43.477804 AM '，'Mosaic'，'RDT：LANDSAT_MOSAIC_ RDT'，'RID：2'，'100％完成'，'操作已完成'）</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-736EBE83-DFC0-45B5-B31D-AD3F2DED89A6" name="GUID-736EBE83-DFC0-45B5-B31D-AD3F2DED89A6"></a><h3 id="GEORS-GUID-736EBE83-DFC0-45B5-B31D-AD3F2DED89A6" class="sect3"><span class="enumeration_section">13.20</span> SDO_GEOR_UTL.getWriteBlockMemSize</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-736EBE83-DFC0-45B5-B31D-AD3F2DED89A6__GUID-B02A6E1E-D2DA-4002-9CE4-56B8D824E67B">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.getWriteBlockMemSize RETURN NUMBER;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-736EBE83-DFC0-45B5-B31D-AD3F2DED89A6__GUID-660925F9-38EB-4A4E-84A9-9852ECC0E5BF">描述</p>
                     <p>返回GeoRaster内部数据块的大小（以字节为单位）以进行读/写操作。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-736EBE83-DFC0-45B5-B31D-AD3F2DED89A6__GUID-6C5AEE12-3C3B-4085-BD55-A32AAF3FCDBC">参数</p>
                     <p>（没有。）</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-736EBE83-DFC0-45B5-B31D-AD3F2DED89A6__GUID-1B977062-2FED-48FE-852F-E7D08519DEDD">使用说明</p>
                     <p><a href="georaster-data-manipulation.html#GUID-EF5B66A9-DD46-4178-96F6-B699D4AF3808">管理GeoRaster内存缓冲</a>提供概念和使用信息，包括相关参数的说明。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-736EBE83-DFC0-45B5-B31D-AD3F2DED89A6__GUID-C3C67309-E233-4113-8D59-48A0D0CF4BC3">例子</p>
                     <p>以下示例返回GeoRaster内部数据块的当前大小（以字节为单位）以进行读/写操作。</p><pre class="oac_no_warn" dir="ltr">SELECT sdo_geor_utl.getWriteBlockMemSize FROM DUAL; GETWRITEBLOCKMEMSIZE -------------------- 65536</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1306"></a><div class="props_rev_3"><a id="GUID-7AB56802-6449-4DD0-B61C-80E92EE011BC" name="GUID-7AB56802-6449-4DD0-B61C-80E92EE011BC"></a><h3 id="GEORS-GUID-7AB56802-6449-4DD0-B61C-80E92EE011BC" class="sect3"><span class="enumeration_section">13.21</span> SDO_GEOR_UTL.isReporting</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-7AB56802-6449-4DD0-B61C-80E92EE011BC__GUID-AFC4EA47-3AB2-41FF-992E-0072EB81AF12">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.isReporting（）返回NUMBER;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7AB56802-6449-4DD0-B61C-80E92EE011BC__GUID-65DB66A4-DEBE-4BB1-9373-7E1A51699790">描述</p>
                     <p>检查是否有任何会话启用了状态报告。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7AB56802-6449-4DD0-B61C-80E92EE011BC__GUID-C752BBA2-294F-465A-89FF-B66ADD627D2B">参数</p>
                     <p>没有。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7AB56802-6449-4DD0-B61C-80E92EE011BC__GUID-8E855F4D-7BEB-47CE-9198-F7099957A2E6">使用说明</p>
                     <p>如果一个或多个会话启用了状态报告，则此函数返回1;如果没有会话启用状态报告，则返回0。</p>
                     <p>此过程是可用于监视和报告GeoRaster操作进度的子程序之一。有关此功能的概述，请参阅<a href="georaster-overview-and-concepts.html#GUID-B57F4783-7F39-4AC2-AB95-02984E3C44E9" title="对于某些资源密集型操作，GeoRaster使您可以监视和报告其执行进度。">报告GeoRaster中的操作进度</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7AB56802-6449-4DD0-B61C-80E92EE011BC__GUID-AD90A6E7-4027-4D78-9317-A0D411F1DCAB">例子</p>
                     <p>以下示例检查是否有任何会话启用了状态报告。</p><pre class="oac_no_warn" dir="ltr">SELECT SDO_GEOR_UTL.isReporting FROM DUAL; ISREPORTING ----------- 1</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1160"></a><div class="props_rev_3"><a id="GUID-94664890-EDA7-4518-B87A-99AD4D8672DA" name="GUID-94664890-EDA7-4518-B87A-99AD4D8672DA"></a><h3 id="GEORS-GUID-94664890-EDA7-4518-B87A-99AD4D8672DA" class="sect3"><span class="enumeration_section">13.22</span> SDO_GEOR_UTL.makeRDTNamesUnique</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-94664890-EDA7-4518-B87A-99AD4D8672DA__GUID-02EA2489-4AA5-43D1-917A-5F8B61EF0747">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.makeRDTNamesUnique;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-94664890-EDA7-4518-B87A-99AD4D8672DA__GUID-63A25501-699C-46B3-86BB-CBD50329A677">描述</p>
                     <p>重命名一些不具有唯一名称的现有已注册栅格数据表，以便所有栅格数据表名称在数据库中都是唯一的，并更新GeoRaster系统数据和所有受影响的GeoRaster对象以反映新名称。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-94664890-EDA7-4518-B87A-99AD4D8672DA__GUID-7F0D482D-1D69-4C43-B205-9AE32584FAC6">参数</p>
                     <p>没有。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-94664890-EDA7-4518-B87A-99AD4D8672DA__GUID-9CE2C4EE-3B8F-4191-9B4A-89087578A485">使用说明</p>
                     <p>如果一个或多个已注册的栅格数据表具有相同的名称（在不同的模式下），则可以使用此过程或<a href="SDO_GEOR_UTL-reference.html#GUID-9B5168A6-2624-4E80-B8C8-DC4815B94E36">SDO_GEOR_UTL.renameRDT</a>过程或两者来消除重复。
                     </p>
                     <p>使用DBA角色连接到数据库时，请运行此过程。</p>
                     <p>此过程不是事务性的，并且无法回滚结果。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-94664890-EDA7-4518-B87A-99AD4D8672DA__GUID-53BD39D0-DF92-48C8-8FC5-9150220FB105">例子</p>
                     <p>以下示例自动重命名一些不具有唯一名称的现有已注册栅格数据表，以便所有已注册的栅格数据表名称在数据库中都是唯一的，并更新GeoRaster系统数据和所有受影响的GeoRaster对象以反映新名称。</p><pre class="oac_no_warn" dir="ltr">执行sdo_geor_utl.makeRDTNamesUnique;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1307"></a><div class="props_rev_3"><a id="GUID-AD56A631-0111-44A2-8A94-4F326FCABA3B" name="GUID-AD56A631-0111-44A2-8A94-4F326FCABA3B"></a><h3 id="GEORS-GUID-AD56A631-0111-44A2-8A94-4F326FCABA3B" class="sect3"><span class="enumeration_section">13.23</span> SDO_GEOR_UTL.recreateDMLTriggers</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-AD56A631-0111-44A2-8A94-4F326FCABA3B__GUID-C5998407-4EA8-44CF-8DD4-8727F01C6E99">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.recreateDMLTriggers;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AD56A631-0111-44A2-8A94-4F326FCABA3B__GUID-CDBAA57C-6CD7-47B8-96FD-7D2D9130E607">描述</p>
                     <p>在当前用户有权访问的所有GeoRaster列上重新创建所需的标准GeoRaster数据操作语言（DML）触发器，以便在触发触发器时执行相应的操作。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AD56A631-0111-44A2-8A94-4F326FCABA3B__GUID-8DD392A7-8114-4846-85A6-9213897BC71F">参数</p>
                     <p>（没有）</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AD56A631-0111-44A2-8A94-4F326FCABA3B__GUID-4106760D-CE3C-4973-BEA7-F013F82BC2F6">使用说明</p>
                     <p>正如<a href="georaster-database-creation-management.html#GUID-41CD2847-8823-479A-AC0F-A991B2F083A9">GeoRaster DML触发器中所述</a> ，为了确保内部GeoRaster表和数据结构的一致性和完整性，只要用户创建GeoRaster表（即至少包含一个GeoRaster的表），GeoRaster就会自动为每个GeoRaster列创建一个唯一的DML触发器。列），但有以下异常：如果使用ALTER TABLE语句添加一个或多个GeoRaster列。如果发生这种情况，您可以为添加的GeoRaster列调用SDO_GEOR_UTL.createDMLTrigger过程，也可以调用<a href="SDO_GEOR_UTL-reference.html#GUID-CCA772B5-AA1E-4A53-B64C-67D8F6052CF2">SDO_GEOR_UTL.recreateDMLTriggers</a>过程在所有GeoRaster列上重新创建DML触发器。
                     </p>
                     <p>您通常不需要调用此过程，但在某些情况下重新创建DML触发器很有用，例如数据库升级或数据迁移。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AD56A631-0111-44A2-8A94-4F326FCABA3B__GUID-DEA9ED3F-C87A-42F0-84D7-C92F584405B6">例子</p>
                     <p>以下示例重新创建标准GeoRaster DML触发器。</p><pre class="oac_no_warn" dir="ltr">执行sdo_geor_utl.recreateDMLTriggers;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1161"></a><div class="props_rev_3"><a id="GUID-9B5168A6-2624-4E80-B8C8-DC4815B94E36" name="GUID-9B5168A6-2624-4E80-B8C8-DC4815B94E36"></a><h3 id="GEORS-GUID-9B5168A6-2624-4E80-B8C8-DC4815B94E36" class="sect3"><span class="enumeration_section">13.24</span> SDO_GEOR_UTL.renameRDT</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-9B5168A6-2624-4E80-B8C8-DC4815B94E36__GUID-4C8A8323-03A3-4910-82E5-7AE60FA3DA0F">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.renameRDT（oldRDTs VARCHAR2，newRDTs VARCHAR2 DEFAULT NULL）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B5168A6-2624-4E80-B8C8-DC4815B94E36__GUID-3B32D887-9D98-4F7C-8080-C6F29B060213">描述</p>
                     <p>重命名当前用户拥有的一个或多个现有已注册栅格数据表，并更新GeoRaster系统数据和所有受影响的GeoRaster对象以反映新名称。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B5168A6-2624-4E80-B8C8-DC4815B94E36__GUID-689C37B7-C481-47AB-94E5-233070F8FDF1">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-9B5168A6-2624-4E80-B8C8-DC4815B94E36__GUID-0329447B-BFFF-4A77-9D47-95A9BD47128F"><!-- --></a> oldRDTs</dt>
                        <dd>
                           <p>要重命名的已注册栅格数据表的名称。对于多个表，请使用逗号分隔的列表。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9B5168A6-2624-4E80-B8C8-DC4815B94E36__GUID-6595277D-B09D-4D3B-86EF-EB86474F9285"><!-- --></a> newRDTs</dt>
                        <dd>
                           <p>要分配给<code class="codeph">oldRDTs</code>中指定的栅格数据表或表的新名称。对于多个表，请使用逗号分隔的列表，其中的订单将完全反映<code class="codeph">oldRDTs</code>的名称。如果此参数为null，则GeoRaster会为每个输入栅格数据表分配唯一的新名称。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B5168A6-2624-4E80-B8C8-DC4815B94E36__GUID-AD3A268B-6591-4F00-82F1-8EF8989226B6">使用说明</p>
                     <p>如果不同用户拥有的一个或多个已注册的栅格数据表具有相同的名称，则可以使用此过程或<a href="SDO_GEOR_UTL-reference.html#GUID-94664890-EDA7-4518-B87A-99AD4D8672DA">SDO_GEOR_UTL.makeRDTNamesUnique</a>过程或两者来消除重复。
                     </p>
                     <p>在使用此过程之前，必须以栅格数据表的所有者身份连接到数据库。您无法使用此过程重命名另一个用户拥有的栅格数据表。</p>
                     <p>如果<code class="codeph">oldRDTs</code>任何表未包含在GeoRaster系统数据中，则忽略该表。
                     </p>
                     <p>如果<code class="codeph">newRDTs</code>任何表与GeoRaster系统数据中的名称冲突，或者与当前用户拥有的另一个对象的名称冲突，则会引发异常。
                     </p>
                     <p>此过程不是事务性的，并且无法回滚结果。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B5168A6-2624-4E80-B8C8-DC4815B94E36__GUID-33365D79-E391-40B9-97CC-CB2EE9E87DDA">例子</p>
                     <p>以下示例分别将已注册的栅格数据表RDT_1和RDT_2重命名为ST_RDT_1和ST_RDT_2。</p><pre class="oac_no_warn" dir="ltr">执行sdo_geor_utl.renameRDT（'RDT_1，RDT_2'，'ST_RDT_1，ST_RDT_2'）;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1308"></a><div class="props_rev_3"><a id="GUID-C0CB06F5-4A64-436E-99D3-C9F48C759585" name="GUID-C0CB06F5-4A64-436E-99D3-C9F48C759585"></a><h3 id="GEORS-GUID-C0CB06F5-4A64-436E-99D3-C9F48C759585" class="sect3"><span class="enumeration_section">13.25</span> SDO_GEOR_UTL.setClientID</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-C0CB06F5-4A64-436E-99D3-C9F48C759585__GUID-00DF780C-EE53-4EC7-BA6A-CAAF2617B62F">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.setClientID（client_id IN NUMBER）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C0CB06F5-4A64-436E-99D3-C9F48C759585__GUID-9E390D6E-D520-4872-892E-D2CFFEEB2FFF">描述</p>
                     <p>设置会话的客户端ID。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C0CB06F5-4A64-436E-99D3-C9F48C759585__GUID-BD92B9D2-819E-4470-AE1E-9612E3AEF19C">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-C0CB06F5-4A64-436E-99D3-C9F48C759585__GUID-3B874909-78D3-4A46-8ED8-A9EAE22AB552"><!-- --></a> client_id</dt>
                        <dd>
                           <p>用于标识会话的唯一ID值。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C0CB06F5-4A64-436E-99D3-C9F48C759585__GUID-1E9B804A-91A0-4554-BB5A-7657CE64DD84">使用说明</p>
                     <p>此过程可用于标识同一用户下的不同会话。客户端ID可以是中间层环境中的数据库会话ID或客户端ID。</p>
                     <p>如果未调用此过程，则状态报告中的客户端ID默认为数据库会话ID。</p>
                     <p>此过程是可用于监视和报告GeoRaster操作进度的子程序之一。有关此功能的概述，请参阅<a href="georaster-overview-and-concepts.html#GUID-B57F4783-7F39-4AC2-AB95-02984E3C44E9" title="对于某些资源密集型操作，GeoRaster使您可以监视和报告其执行进度。">报告GeoRaster中的操作进度</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C0CB06F5-4A64-436E-99D3-C9F48C759585__GUID-A754C43A-ECA1-4280-8497-1561DD087E53">例子</p>
                     <p>以下示例将客户端ID设置为1。</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_GEOR_UTL.setClientID（1）;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-C24BCE97-C7D9-4720-B169-190CD66405F8" name="GUID-C24BCE97-C7D9-4720-B169-190CD66405F8"></a><h3 id="GEORS-GUID-C24BCE97-C7D9-4720-B169-190CD66405F8" class="sect3"><span class="enumeration_section">13.26</span> SDO_GEOR_UTL.setMaxMemSize</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-C24BCE97-C7D9-4720-B169-190CD66405F8__GUID-B02A6E1E-D2DA-4002-9CE4-56B8D824E67B">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.setMaxMemSize（maxMemSize IN NUMBER DEFAULT 16777216）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C24BCE97-C7D9-4720-B169-190CD66405F8__GUID-660925F9-38EB-4A4E-84A9-9852ECC0E5BF">描述</p>
                     <p>设置可使用GeoRaster缓冲系统管理内存的内存的上限大小。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C24BCE97-C7D9-4720-B169-190CD66405F8__GUID-6C5AEE12-3C3B-4085-BD55-A32AAF3FCDBC">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-C24BCE97-C7D9-4720-B169-190CD66405F8__GUID-B86F85E6-F4D7-40F2-B660-074505A2290A"><!-- --></a> maxMemSize</dt>
                        <dd>
                           <p>使用GeoRaster缓冲系统可用于管理内存的字节数。默认值为16777216（16 MB）。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C24BCE97-C7D9-4720-B169-190CD66405F8__GUID-1B977062-2FED-48FE-852F-E7D08519DEDD">使用说明</p>
                     <p><a href="georaster-data-manipulation.html#GUID-EF5B66A9-DD46-4178-96F6-B699D4AF3808">管理GeoRaster内存缓冲</a>提供概念和使用信息，包括相关参数的说明。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C24BCE97-C7D9-4720-B169-190CD66405F8__GUID-C3C67309-E233-4113-8D59-48A0D0CF4BC3">例子</p>
                     <p>以下示例将<code class="codeph">maxMemSize</code>值设置为1亿字节（大约100 MB）。
                     </p><pre class="oac_no_warn" dir="ltr">EXECUTE sdo_geor_utl.setMaxMemSize（100000000）;</pre><p>以下示例将<code class="codeph">maxMemSize</code>值设置为默认大小（16 MB）。
                     </p><pre class="oac_no_warn" dir="ltr">执行sdo_geor_utl.setMaxMemSize（）;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-32CABCD8-4AF1-4A43-B4FA-F664C939215F" name="GUID-32CABCD8-4AF1-4A43-B4FA-F664C939215F"></a><h3 id="GEORS-GUID-32CABCD8-4AF1-4A43-B4FA-F664C939215F" class="sect3"><span class="enumeration_section">13.27</span> SDO_GEOR_UTL.setReadBlockMemSize</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-32CABCD8-4AF1-4A43-B4FA-F664C939215F__GUID-B02A6E1E-D2DA-4002-9CE4-56B8D824E67B">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.setReadBlockMemSize（memBlockSize IN NUMBER DEFAULT 32768）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-32CABCD8-4AF1-4A43-B4FA-F664C939215F__GUID-660925F9-38EB-4A4E-84A9-9852ECC0E5BF">描述</p>
                     <p>设置GeoRaster内部数据块的大小以进行只读操作。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-32CABCD8-4AF1-4A43-B4FA-F664C939215F__GUID-6C5AEE12-3C3B-4085-BD55-A32AAF3FCDBC">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-32CABCD8-4AF1-4A43-B4FA-F664C939215F__GUID-B86F85E6-F4D7-40F2-B660-074505A2290A"><!-- --></a> memBlockSize</dt>
                        <dd>
                           <p>可用于GeoRaster内部数据块以进行只读操作的字节数。默认值为32768（32 KB）。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-32CABCD8-4AF1-4A43-B4FA-F664C939215F__GUID-1B977062-2FED-48FE-852F-E7D08519DEDD">使用说明</p>
                     <p><a href="georaster-data-manipulation.html#GUID-EF5B66A9-DD46-4178-96F6-B699D4AF3808">管理GeoRaster内存缓冲</a>提供概念和使用信息，包括相关参数的说明。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-32CABCD8-4AF1-4A43-B4FA-F664C939215F__GUID-C3C67309-E233-4113-8D59-48A0D0CF4BC3">例子</p>
                     <p>以下示例将<code class="codeph">memBlockSize</code>值设置为1百万字节（大约1 MB）。
                     </p><pre class="oac_no_warn" dir="ltr">EXECUTE sdo_geor_utl.setReadBlockMemSize（1000000）;</pre><p>以下示例将<code class="codeph">memBlockSize</code>值设置为默认值（32 KB）。
                     </p><pre class="oac_no_warn" dir="ltr">EXECUTE sdo_geor_utl.setReadBlockMemSize（）;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1309"></a><div class="props_rev_3"><a id="GUID-1E056015-616E-4D1D-8524-248A6E60CEE9" name="GUID-1E056015-616E-4D1D-8524-248A6E60CEE9"></a><h3 id="GEORS-GUID-1E056015-616E-4D1D-8524-248A6E60CEE9" class="sect3"><span class="enumeration_section">13.28</span> SDO_GEOR_UTL.setSeqID</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-1E056015-616E-4D1D-8524-248A6E60CEE9__GUID-FCE55BF4-EEF8-4424-8726-158447C74993">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.setSeqID（seq_id IN NUMBER）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1E056015-616E-4D1D-8524-248A6E60CEE9__GUID-EED31921-8292-4DA5-A007-9ECA7573AD74">描述</p>
                     <p>设置会话的序列ID。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1E056015-616E-4D1D-8524-248A6E60CEE9__GUID-2EBB82EA-31E3-4CFF-A477-ABB975955A01">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-1E056015-616E-4D1D-8524-248A6E60CEE9__GUID-1715D737-F385-4015-BD7E-93FB0A339F3C"><!-- --></a> seq_id</dt>
                        <dd>
                           <p>唯一ID值，用于标识会话中的操作。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1E056015-616E-4D1D-8524-248A6E60CEE9__GUID-76FB85DC-90A8-4B18-9A77-4D6036F778C5">使用说明</p>
                     <p>此过程可用于标识同一会话中的不同操作。</p>
                     <p>如果未调用此过程，则状态报告中的序列ID默认为0。</p>
                     <p>此过程是可用于监视和报告GeoRaster操作进度的子程序之一。有关此功能的概述，请参阅<a href="georaster-overview-and-concepts.html#GUID-B57F4783-7F39-4AC2-AB95-02984E3C44E9" title="对于某些资源密集型操作，GeoRaster使您可以监视和报告其执行进度。">报告GeoRaster中的操作进度</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1E056015-616E-4D1D-8524-248A6E60CEE9__GUID-C3F84FAE-6459-4B3C-9C80-B4807D6EFBA6">例子</p>
                     <p>以下示例将序列ID设置为1。</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_GEOR_UTL.setSeqID（1）;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-DCAF3CC8-8A5F-4E76-AA33-9A5CAE083B6F" name="GUID-DCAF3CC8-8A5F-4E76-AA33-9A5CAE083B6F"></a><h3 id="GEORS-GUID-DCAF3CC8-8A5F-4E76-AA33-9A5CAE083B6F" class="sect3"><span class="enumeration_section">13.29</span> SDO_GEOR_UTL.setWriteBlockMemSize</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-DCAF3CC8-8A5F-4E76-AA33-9A5CAE083B6F__GUID-B02A6E1E-D2DA-4002-9CE4-56B8D824E67B">格式</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_UTL.setWriteBlockMemSize（memBlockSize IN NUMBER）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DCAF3CC8-8A5F-4E76-AA33-9A5CAE083B6F__GUID-660925F9-38EB-4A4E-84A9-9852ECC0E5BF">描述</p>
                     <p>设置GeoRaster内部数据块的大小以进行读/写操作。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DCAF3CC8-8A5F-4E76-AA33-9A5CAE083B6F__GUID-6C5AEE12-3C3B-4085-BD55-A32AAF3FCDBC">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-DCAF3CC8-8A5F-4E76-AA33-9A5CAE083B6F__GUID-B86F85E6-F4D7-40F2-B660-074505A2290A"><!-- --></a> memBlockSize</dt>
                        <dd>
                           <p>可用于GeoRaster内部数据块进行读/写操作的字节数。默认值为65536（64 KB）。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DCAF3CC8-8A5F-4E76-AA33-9A5CAE083B6F__GUID-1B977062-2FED-48FE-852F-E7D08519DEDD">使用说明</p>
                     <p><a href="georaster-data-manipulation.html#GUID-EF5B66A9-DD46-4178-96F6-B699D4AF3808">管理GeoRaster内存缓冲</a>提供概念和使用信息，包括相关参数的说明。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DCAF3CC8-8A5F-4E76-AA33-9A5CAE083B6F__GUID-C3C67309-E233-4113-8D59-48A0D0CF4BC3">例子</p>
                     <p>以下示例将<code class="codeph">memBlockSize</code>值设置为1百万字节（大约1 MB）。
                     </p><pre class="oac_no_warn" dir="ltr">EXECUTE sdo_geor_utl.setWriteBlockMemSize（1000000）;</pre><p>以下示例将<code class="codeph">memBlockSize</code>值设置为默认值（64 KB）。
                     </p><pre class="oac_no_warn" dir="ltr">EXECUTE sdo_geor_utl.setWriteBlockMemSize（）;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_GEOR_UTL-reference.html#GUID-080B4F44-F59D-4E2A-AA97-FF209C69C4D2" title="SDO_GEOR_UTL包中包含与GeoRaster相关的实用程序操作的子程序（函数和过程）。本章为每个子程序提供一个或多个示例的参考信息。">SDO_GEOR_UTL包参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="06555.user-defined-inferencing.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="RDF Semantic Graph extension architectures enable the addition of user-defined capabilities."></meta>
      <meta name="description" content="RDF Semantic Graph extension architectures enable the addition of user-defined capabilities."></meta>
      <title>用户定义的推理和查询</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="RDF Knowledge Graph Developer&#39;s Guide "></meta>
      <meta property="og:description" content="RDF Semantic Graph extension architectures enable the addition of user-defined capabilities."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="RDF Knowledge Graph Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-rdf-knowledge-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T10:56:26-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94798-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="rdf-suipport-for-apache-jena.html" title="Previous" type="text/html"></link>
      <link rel="next" href="rdf-views.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph RDF Knowledge Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="RDFRM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="rdf-suipport-for-apache-jena.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="rdf-views.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">RDF知识图开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-concept-usage.html" property="item" typeof="WebPage"><span property="name">概念和使用信息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">用户定义的推理和查询</li>
            </ol>
            <a id="GUID-D5AADFCB-AE87-4028-A7A7-5927D7E9984E" name="GUID-D5AADFCB-AE87-4028-A7A7-5927D7E9984E"></a>
            
            <h2 id="RDFRM-GUID-D5AADFCB-AE87-4028-A7A7-5927D7E9984E" class="sect2"><span class="enumeration_chapter">7</span>用户定义的推理和查询</h2>
         </header>
         <div class="ind">
            <div>
               <p>RDF Semantic Graph扩展体系结构支持添加用户定义的功能。</p>
               <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始有效：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p>推理扩展体系结构使您可以将用户定义的推理添加到预先提供的推理支持。</p>
                  </li>
                  <li>
                     <p>查询扩展体系结构使您能够通过SEM_MATCH表函数和Apache Jena支持添加要在SPARQL查询中使用的用户定义函数和聚合。</p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-D5AADFCB-AE87-4028-A7A7-5927D7E9984E__GUID-5AB07393-28D9-4C76-9E14-9468F960BAF9">
                  <p class="notep1">注意：</p>
                  <p>本章中介绍的功能适用于高级用户。假设您熟悉<a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph对语义技术的支持主要包括资源描述框架（RDF）和Web Ontology Language（OWL）的子集。这些功能称为Oracle Spatial and Graph的RDF知识图功能。">RDF语义图概述</a>和<a href="owl-concepts.html#GUID-3EC5F30E-9175-4B7B-946C-3117BC30610A" title="您应该了解与支持Web Ontology Language（OWL）子集相关的关键概念。">OWL概念中</a>描述的主要概念和技术。
                  </p>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-C0D74403-EE99-4E4A-9C44-F1C2B84B01DC">用户定义的推理</a><br>RDF语义图推理扩展体系结构使您能够将用户定义的推理添加到预先提供的推理支持。
                  </li>
                  <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-26520C46-3A90-40AB-8403-140A82AC73CC">用户定义的函数和聚合</a><br>RDF语义图查询扩展体系结构使您能够通过SEM_MATCH表函数和Apache Jena支持添加要在SPARQL查询中使用的用户定义函数和聚合。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part-concept-usage.html#GUID-FC153F2D-D51D-4498-A6E1-30B80D540FD6">概念和使用信息</a></p>
                  </div>
               </div>
            </div>
            <a id="RDFRM519"></a><a id="RDFRM520"></a><div class="props_rev_3"><a id="GUID-C0D74403-EE99-4E4A-9C44-F1C2B84B01DC" name="GUID-C0D74403-EE99-4E4A-9C44-F1C2B84B01DC"></a><h3 id="RDFRM-GUID-C0D74403-EE99-4E4A-9C44-F1C2B84B01DC" class="sect3"><span class="enumeration_section">7.1</span>用户定义的推理</h3>
               <div>
                  <p>RDF语义图推理扩展体系结构使您能够将用户定义的推理添加到预先提供的推理支持。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-2BB9DDF4-36A8-4790-9C80-80AD75A0DCE6">用户定义的推理提供的问题解决和好处</a><br></li>
                     <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-757AB3B4-9A08-49A0-9F9E-6658DC0B7698">用户定义的推理的API支持</a><br></li>
                     <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-E2FE95D9-C6A8-4E22-9CAA-85B558E153E2">用户定义的推理扩展函数示例</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-D5AADFCB-AE87-4028-A7A7-5927D7E9984E" title="RDF Semantic Graph扩展体系结构支持添加用户定义的功能。">用户定义的推理和查询</a></p>
                     </div>
                  </div>
               </div>
               <a id="RDFRM521"></a><div class="props_rev_3"><a id="GUID-2BB9DDF4-36A8-4790-9C80-80AD75A0DCE6" name="GUID-2BB9DDF4-36A8-4790-9C80-80AD75A0DCE6"></a><h4 id="RDFRM-GUID-2BB9DDF4-36A8-4790-9C80-80AD75A0DCE6" class="sect4"><span class="enumeration_section">7.1.1</span>用户定义的推理提供的问题和效益</h4>
                  <div>
                     <p>在Oracle Database 12 <span class="italic">c</span>第1版（12.1）之前，Oracle数据库推理引擎为OWL 2 RL，RDFS，SKOS，SNOMED（核心EL）和用户定义的规则提供了本机支持，这些规则涵盖了广泛的应用程序和要求。但是，有一个限制是，作为规则扣除过程的一部分，不能创建<span class="bold">新的RDF资源</span> 。
                     </p>
                     <p>作为Oracle Database 12 <span class="italic">c</span>第1版（12.1）之前的功能和限制的示例，请考虑以下简单的推理规则：</p><pre class="oac_no_warn" dir="ltr">？C rdfs：subClassOf？D.？x rdf：输入？C 。 ==&gt;？x rdf：输入？d</pre><p>前面的规则说子类<code class="codeph">C</code>任何实例<code class="codeph">x</code>都是<code class="codeph">C</code>的超类<code class="codeph">D</code>的实例。规则的后续部分提到了两个变量<code class="codeph">?x</code>和<code class="codeph">?D</code>但是，这些变量必须已经存在于规则的前提中，这进一步意味着这些RDF资源必须已经存在于知识库中。换句话说，例如，可以推导出<code class="codeph">John</code>是一个<code class="codeph">Student</code>只有当你知道<code class="codeph">John</code> <span class="italic">存在</span>的<code class="codeph">GraduateStudent</code> ，如果一个公理指定了<code class="codeph">GraduateStudent</code>类是的子类<code class="codeph">Student</code>类。
                     </p>
                     <p>另一个限制的例子是，在Oracle Database <span class="italic">12c</span> Release 1（12.1）之前，推理函数不支持组合一个人的名字和姓氏，以在推理过程中产生一个全名作为<span class="italic">新的</span> RDF资源。具体而言，此要求可以作为规则捕获，如下所示：</p><pre class="oac_no_warn" dir="ltr">？x：firstName？fn？x：lastName？ln ==&gt;？x：fullName连接（？fn？LN）</pre><p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始，RDF语义图推理扩展体系结构打开推理过程，以便用户可以实现自己的推理扩展功能并将它们集成到本机推理过程中。这种架构：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>支持需要生成新RDF资源的规则。</p>
                           <p>示例可能包括字符串或其他字符串操作，数学计算和Web服务标注的串联。</p>
                        </li>
                        <li>
                           <p>允许使用自定义优化实现某些现有规则。</p>
                           <p>尽管本机OWL推理引擎对许多规则进行了优化，并且这些规则对于各种大规模本体有效地工作，但对于一些新的未经测试的本体，特定推理组件的定制优化可以更好地工作。在这种情况下，您可以在<a href="SEM_APIS-reference.html#GUID-BF52CEC0-1BD9-4908-9EF1-F001B0527257">SEM_APIS.CREATE_ENTAILMENT</a>调用中禁用特定的推理组件，并指定实现新优化的自定义推理扩展函数（使用<code class="codeph">inf_ext_user_func_name</code>参数）。
                           </p>
                        </li>
                        <li>
                           <p>允许使用复杂的推理功能扩展推理引擎。</p>
                           <p>示例可能包括将地理空间推理，时间间隔推理和文本分析功能集成到本机数据库推理过程中。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-C0D74403-EE99-4E4A-9C44-F1C2B84B01DC" title="RDF语义图推理扩展体系结构使您能够将用户定义的推理添加到预先提供的推理支持。">用户定义的推理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM522"></a><div class="props_rev_3"><a id="GUID-757AB3B4-9A08-49A0-9F9E-6658DC0B7698" name="GUID-757AB3B4-9A08-49A0-9F9E-6658DC0B7698"></a><h4 id="RDFRM-GUID-757AB3B4-9A08-49A0-9F9E-6658DC0B7698" class="sect4"><span class="enumeration_section">7.1.2</span>用户定义推理的API支持</h4>
                  <div>
                     <p>用户定义的推理的主要应用程序编程接口（API）是<a href="SEM_APIS-reference.html#GUID-BF52CEC0-1BD9-4908-9EF1-F001B0527257">SEM_APIS.CREATE_ENTAILMENT</a>过程，特别是最后一个参数：</p><pre class="oac_no_warn" dir="ltr">inf_ext_user_func_name IN VARCHAR2 DEFAULT NULL</pre><p><code class="codeph">inf_ext_user_func_name</code>参数（如果已指定）标识一个或多个用户定义的推理函数，这些函数实现您要使用的专用逻辑。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-48E4608D-B19C-4502-B67D-39C3174A610A">用户定义的推理功能要求</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-C0D74403-EE99-4E4A-9C44-F1C2B84B01DC" title="RDF语义图推理扩展体系结构使您能够将用户定义的推理添加到预先提供的推理支持。">用户定义的推理</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="RDFRM523"></a><div class="props_rev_3"><a id="GUID-48E4608D-B19C-4502-B67D-39C3174A610A" name="GUID-48E4608D-B19C-4502-B67D-39C3174A610A"></a><h5 id="RDFRM-GUID-48E4608D-B19C-4502-B67D-39C3174A610A" class="sect5"><span class="enumeration_section">7.1.2.1</span>用户定义的推理功能要求</h5>
                     <div>
                        <p>在对<a href="SEM_APIS-reference.html#GUID-BF52CEC0-1BD9-4908-9EF1-F001B0527257">SEM_APIS.CREATE_ENTAILMENT</a>过程的调用中， <code class="codeph">inf_ext_user_func_name</code>参数中指定的每个用户定义的推理函数必须：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>具有以下字符串开头的名称： <code class="codeph">SEM_INF_</code></p>
                           </li>
                           <li>
                              <p>使用定义者的权利创建，而不是使用者的权利。（有关定义者权利和调用者权利的解释，请参阅<a href="../dbseg/managing-security-for-definers-rights-and-invokers-rights.html#DBSEG659" target="_blank"><span class="italic">Oracle数据库安全指南</span></a> 。）
                              </p>
                           </li>
                        </ul>
                        <p>对于名为<code class="codeph">SEM_INF_EXAMPLE</code>的假设函数，用户定义的推理函数的格式必须如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">创建或替换函数sem_inf_example（varchar2中的src_tab_view，varchar2中的resource_id_map_view，varchar2中的output_tab，varchar2中的action，number中的num_calls，数量中的tplInferredLastRound，varchar2中的选项default null，optimization_flag out number，diag_message out varchar2）return boolean as pragma autonomous_transaction;开始if（action = SDO_SEM_INFERENCE.INF_EXT_ACTION_START）然后<span class="italic">&lt;...准备工作...&gt;</span>结束if; if（action = SDO_SEM_INFERENCE.INF_EXT_ACTION_RUN）然后<span class="italic">&lt;...实际推理逻辑...&gt;</span> commit;万一; if（action = SDO_SEM_INFERENCE.INF_EXT_ACTION_END）然后<span class="italic">&lt;...清理...&gt;</span>结束if;返回true; - 成功结束; / grant在sem_inf_example上执行到MDSYS;</pre><p>在用户定义的函数格式中， <code class="codeph">optimization_flag</code>输出参数可以指定与数值相关联的一个或多个Oracle定义的名称。您可以指定以下一项或多项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_NONE</code>表示推理引擎不应启用扩展功能的任何优化。（这是未设置<code class="codeph">optimization_flag</code>参数时推理引擎的默认行为。）
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_ALL_IDS</code>表示扩展功能推断的所有三元组/四元组仅使用资源ID。换句话说， <code class="codeph">output_tab</code>表仅包含资源ID（列<code class="codeph">gid</code> ， <code class="codeph">sid</code> ， <code class="codeph">pid</code>和<code class="codeph">oid</code> ），并且不包含任何词法值（列<code class="codeph">g</code> ， <code class="codeph">s</code> ， <code class="codeph">p</code>和<code class="codeph">o</code>都为null）。启用此优化标志允许推理引擎跳过资源ID查找。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_NEWDATA_ONLY</code>表示扩展函数推断出的所有三元组/四元组都是新的，并且在<code class="codeph">src_tab_view</code>不存在。启用此优化标志允许推理引擎跳过检查<code class="codeph">output_tab</code>表和<code class="codeph">src_tab_view</code>之间的重复<code class="codeph">src_tab_view</code> 。请注意， <code class="codeph">src_tab_view</code>包含前几轮推理的三元组/四元组，包括从扩展函数推断的三元组/四元组。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_UNIQDATA_ONLY</code>表示扩展函数推断出的所有三元组/四元组都是唯一的，并且在<code class="codeph">output_tab</code>表中不存在。启用此优化标志允许推理引擎跳过检查<code class="codeph">output_tab</code>表中的重复项（例如，无需检查扩展函数两次推断的相同三次）。请注意，对于扩展函数， <code class="codeph">output_tab</code>表在每轮推理开始时都是空的，因此数据的唯一性必须仅适用于当前轮次的推理。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_IGNORE_NULL</code>指示如果主题，谓词或对象资源为空，则推理引擎应忽略推断的三元组或四元组。如果<code class="codeph">output_tab</code>表中的两个列都为null，则推理引擎<code class="codeph">output_tab</code>资源视为null（例如，如果<code class="codeph">s</code>和<code class="codeph">sid</code>列都为null，则subject为null）。启用此优化标志允许推理引擎跳过<code class="codeph">output_tab</code>表中的无效三元组/四元组。请注意，推理引擎将空图列（ <code class="codeph">g</code>和<code class="codeph">gid</code> ）解释为默认图。
                              </p>
                           </li>
                        </ul>
                        <p>要为<code class="codeph">optimization_flag</code>输出参数指定多个值，请使用加号（ <code class="codeph">+</code> ）来连接值。例如：</p><pre class="oac_no_warn" dir="ltr">optimization_flag：= SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_ALL_IDS + SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_NEWDATA_ONLY + SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_UNIQDATA_ONLY;</pre><p>有关使用<code class="codeph">optimization_flag</code>输出参数的更多信息，请参阅<a href="user-defined-inferencing.html#GUID-9130DB03-063F-4ECA-BC72-F841816D03A2">示例3：优化性能</a> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-757AB3B4-9A08-49A0-9F9E-6658DC0B7698">用户定义的推理的API支持</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="RDFRM524"></a><div class="props_rev_3"><a id="GUID-E2FE95D9-C6A8-4E22-9CAA-85B558E153E2" name="GUID-E2FE95D9-C6A8-4E22-9CAA-85B558E153E2"></a><h4 id="RDFRM-GUID-E2FE95D9-C6A8-4E22-9CAA-85B558E153E2" class="sect4"><span class="enumeration_section">7.1.3</span>用户定义的推理扩展函数示例</h4>
                  <div>
                     <p>以下示例演示了如何使用用户定义的推理扩展函数来创建蕴涵。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="user-defined-inferencing.html#GUID-1415A86A-5A77-4270-A8E2-F7C877A139D6">示例1：添加静态三元组</a> ， <a href="user-defined-inferencing.html#GUID-CE4D14D6-3C48-47EA-92BB-CEC870316412">示例2：添加动态三元组</a> ，以及<a href="user-defined-inferencing.html#GUID-9130DB03-063F-4ECA-BC72-F841816D03A2">示例3：优化性能</a>涵盖了用户定义的推理扩展的基础知识。
                           </p>
                           <p><a href="user-defined-inferencing.html#GUID-1415A86A-5A77-4270-A8E2-F7C877A139D6">示例1：添加静态</a>三元组和<a href="user-defined-inferencing.html#GUID-CE4D14D6-3C48-47EA-92BB-CEC870316412">示例2：添加动态</a>三元组专注于添加新的推断三元组。
                           </p>
                           <p><a href="user-defined-inferencing.html#GUID-9130DB03-063F-4ECA-BC72-F841816D03A2">示例3：优化性能</a>侧重于优化性能。
                           </p>
                        </li>
                        <li>
                           <p><a href="user-defined-inferencing.html#GUID-71E6C43C-4329-49AA-A3B2-A158C0176ADF">示例4：时间推理（几个相关示例）</a>和<a href="user-defined-inferencing.html#GUID-44EBDF64-6718-4960-98EB-0D2C45F677A3">示例5：空间推理</a>演示了如何通过利用本机Oracle类型和运算符来有效地处理特殊数据类型。
                           </p>
                           <p><a href="user-defined-inferencing.html#GUID-71E6C43C-4329-49AA-A3B2-A158C0176ADF">示例4：时间推理（几个相关示例）</a>侧重于<code class="codeph">xsd:dateTime</code>数据类型。
                           </p>
                           <p><a href="user-defined-inferencing.html#GUID-44EBDF64-6718-4960-98EB-0D2C45F677A3">示例5：空间推理</a>侧重于地理空间数据类型。
                           </p>
                        </li>
                        <li>
                           <p><a href="user-defined-inferencing.html#GUID-537C3916-D0F0-4909-BC05-50353621C220">示例6：调用Web Service</a>会对Oracle Geocoder服务进行Web服务调用。
                           </p>
                        </li>
                     </ul>
                     <p>前三个示例假设模型<code class="codeph">EMPLOYEES</code>存在并包含以Tringe格式显示的以下语义数据：</p><pre class="oac_no_warn" dir="ltr">：John：firstName“John”; ：lastName“史密斯”。：玛丽：firstName“玛丽”; ：lastName“史密斯”; ：名字“玛丽史密斯”。：Alice：firstName“Alice”。：Bob：firstName“Bob”; ：lastName“Billow”。
</pre><p>有关创建用户定义的推理扩展函数的要求和指南，请参阅<a href="user-defined-inferencing.html#GUID-757AB3B4-9A08-49A0-9F9E-6658DC0B7698">用户定义的推理的API支持</a> 。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-1415A86A-5A77-4270-A8E2-F7C877A139D6">示例1：添加静态三元组</a><br></li>
                        <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-CE4D14D6-3C48-47EA-92BB-CEC870316412">示例2：添加动态三元组</a><br></li>
                        <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-9130DB03-063F-4ECA-BC72-F841816D03A2">示例3：优化性能</a><br></li>
                        <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-71E6C43C-4329-49AA-A3B2-A158C0176ADF">例4：时间推理（几个相关例子）</a><br></li>
                        <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-44EBDF64-6718-4960-98EB-0D2C45F677A3">示例5：空间推理</a><br></li>
                        <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-537C3916-D0F0-4909-BC05-50353621C220">示例6：调用Web服务</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-C0D74403-EE99-4E4A-9C44-F1C2B84B01DC" title="RDF语义图推理扩展体系结构使您能够将用户定义的推理添加到预先提供的推理支持。">用户定义的推理</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="RDFRM525"></a><div class="props_rev_3"><a id="GUID-1415A86A-5A77-4270-A8E2-F7C877A139D6" name="GUID-1415A86A-5A77-4270-A8E2-F7C877A139D6"></a><h5 id="RDFRM-GUID-1415A86A-5A77-4270-A8E2-F7C877A139D6" class="sect5"><span class="enumeration_section">7.1.3.1</span>示例1：添加静态<span class="enumeration_section">三元</span>组</h5>
                     <div>
                        <p>在用户定义的推理扩展函数中推断新数据的最基本方法是添加静态数据。静态数据不依赖于模型中的任何现有数据。这不是用户定义的推理扩展函数的常见情况，但它演示了将三元组添加到蕴涵中的基础知识。在准备阶段（即<code class="codeph">action='START'</code> ）更常见地插入静态数据以扩展现有本体。
                        </p>
                        <p>以下用户定义的推理扩展函数（ <code class="codeph">sem_inf_static</code> ）将三个静态三元组添加到一个蕴涵中：</p><pre class="oac_no_warn" dir="ltr">- 此用户定义的规则添加静态三元组创建或替换函数sem_inf_static（varchar2中的src_tab_view，varchar2中的resource_id_map_view，varchar2中的output_tab，varchar2中的action，number中的num_calls，数量中的tplInferredLastRound，varchar2中的选项default null，optimization_flag out number， diag_message out varchar2）return boolean as query varchar2（4000）; pragma autonomous_transaction; begin if（action ='RUN'）then  - 我们用来插入三元组查询的通用查询：='insert / * + parallel append * / into'|| output_tab || '（s，p，o）VALUES'|| '（：1，：2，：3）'; - 使用'&lt;http://example.org/S1&gt;'，'&lt;http://example.org/P2&gt;'，'“O1”'执行具有不同值的查询执行立即查询;使用'&lt;http://example.org/S2&gt;'，'&lt;http://example.org/P2&gt;'，'“2”^^ xsd：int'执行立即查询 - 使用'&lt;http://example.org/S2&gt;'，'&lt;http://example.org/P2&gt;'，'“2”^^ xsd：int'复制quad执行立即查询;使用'&lt;http://example.org/S3&gt;'，'&lt;http://example.org/P3&gt;'，'“3.0”^^ xsd：double'执行立即查询 - 提交我们的更改提交;万一; - 返回true表示成功返回true;结束sem_inf_static; /显示错误;</pre><p><code class="codeph">sem_inf_static</code>函数通过执行SQL插入查询来插入新数据，其中<code class="codeph">output_tab</code>作为插入的目标表。<code class="codeph">output_tab</code>表将仅包含当前调用期间<code class="codeph">sem_inf_static</code>函数添加的三元组（请参阅<code class="codeph">num_calls</code>参数）。推理引擎将始终至少调用用户定义的推理扩展函数三次，对于动作参数的每个可能值（ <code class="codeph">'START'</code> ， <code class="codeph">'RUN</code> <code class="codeph">'</code>和<code class="codeph">'END'</code> ）一次。由于<code class="codeph">sem_inf_static</code>不需要执行任何准备或清理，因此该功能仅在<code class="codeph">RUN</code>阶段添加数据。在<code class="codeph">RUN</code>阶段，可以多次调用扩展函数，具体取决于当前推理期间推断的数据。
                        </p>
                        <p>虽然<code class="codeph">sem_inf_static</code>函数不检查现有的三元组（以防止重复的三元组），但推理引擎不会在生成的蕴涵中生成重复的三元组。推理引擎将从<code class="codeph">output_tab</code>表（扩展函数插入的数据）和最终蕴涵（模型或模型和其他推断数据）中过滤掉重复项。设置适当的优化标志（使用<code class="codeph">optimization_flag</code>参数）将禁用此便捷功能并提高性能。（有关优化标志的更多信息，请参阅<a href="user-defined-inferencing.html#GUID-9130DB03-063F-4ECA-BC72-F841816D03A2">示例3：优化性能</a> 。）
                        </p>
                        <p>尽管<code class="codeph">output_tab</code>的表定义显示了图名的列，但在执行全局推理（ <a href="SEM_APIS-reference.html#GUID-BF52CEC0-1BD9-4908-9EF1-F001B0527257">SEM_APIS.CREATE_ENTAILMENT的</a>默认行为）和命名图全局推断（NGGI）时，推理引擎将忽略并覆盖由扩展函数添加的三元组上的所有图名。要在用户定义的扩展函数中为特定命名图添加三元组，请使用NGLI（命名图本地推理）。在NGLI期间，所有三元组必须属于命名图形（即， <code class="codeph">output_tab</code>的<code class="codeph">gid</code>和<code class="codeph">g</code>列不能都为null）。
                        </p>
                        <p>MDSYS用户必须对<code class="codeph">sem_inf_static</code>函数具有执行权限才能使用该函数进行推理。以下示例显示如何在<code class="codeph">sem_inf_static</code>函数上授予适当的权限，并使用该函数创建一个entails（以及OWLPRIME推理逻辑）：</p><pre class="oac_no_warn" dir="ltr">- 授予适当的权限授予sem_inf_static执行到mdsys; - 创建蕴涵开始sem_apis.create_entailment（'EMPLOYEES_INF'，sem_models（'EMPLOYEES'），sem_rulebases（'OWLPRIME'），传递=&gt; SEM_APIS.REACH_CLOSURE，inf_ext_user_func_name =&gt;'sem_inf_static'）;结束; /</pre><p>以下示例显示新包含的数据：</p><pre class="oac_no_warn" dir="ltr">- 格式化列格式a23;列p格式a23;列o格式a23;设置lineize 100; - 显示结果从表中选择s，p，o（SEM_MATCH（'选择？s？p？o哪里{？s？p？o}订购？s？p？o'，sem_models（'EMPLOYEES'），sem_rulebases（'OWLPRIME'），null，null，null，'INF_ONLY = T'））;</pre><p>前面的查询返回<code class="codeph">sem_inf_static</code>添加的三个唯一静态三元组，没有重复：</p><pre class="oac_no_warn" dir="ltr">SPO ---------------------- ---------------------- ----- ------------------ http://example.org/S1 http://example.org/P2 O1 http://example.org/S2 http：// example.org/P2 2 http://example.org/S3 http://example.org/P3 3E0</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-E2FE95D9-C6A8-4E22-9CAA-85B558E153E2">用户定义的推理扩展函数示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM526"></a><div class="props_rev_3"><a id="GUID-CE4D14D6-3C48-47EA-92BB-CEC870316412" name="GUID-CE4D14D6-3C48-47EA-92BB-CEC870316412"></a><h5 id="RDFRM-GUID-CE4D14D6-3C48-47EA-92BB-CEC870316412" class="sect5"><span class="enumeration_section">7.1.3.2</span>示例2：添加动态三元组</h5>
                     <div>
                        <p>添加静态数据很有用，但通常在准备阶段（即<code class="codeph">action='START'</code> ）阶段完成。添加<span class="italic">动态</span>数据涉及查看模型中的现有数据并基于现有数据生成新数据。这是用户定义的推理扩展函数的最常见情况。
                        </p>
                        <p>以下用户定义的推理扩展功能（ <code class="codeph">sem_inf_dynamic</code> ）连接员工的名字和姓氏，以创建表示全名的新三元组。
                        </p><pre class="oac_no_warn" dir="ltr">- 此用户定义的规则添加静态三元组创建或替换函数sem_inf_dynamic（varchar2中的src_tab_view，varchar2中的resource_id_map_view，varchar2中的output_tab，varchar2中的action，number中的num_calls，数量中的tplInferredLastRound，varchar2中的选项default null，optimization_flag out number， diag_message out varchar2）将boolean返回为firstNamePropertyId数; lastNamePropertyId数字; fullNamePropertyId数字; sqlStmt varchar2（4000）; insertStmt varchar2（4000）; pragma autonomous_transaction; begin if（action ='RUN'）then  - 检索数据中已经存在的资源ID（如果资源不存在则抛出异常）。这些将改善我们的SQL查询的性能。firstNamePropertyId：= sdo_sem_inference.oracle_orardf_res2vid（'http://example.org/firstName'）; lastNamePropertyId：= sdo_sem_inference.oracle_orardf_res2vid（'http://example.org/lastName'）; fullNamePropertyId：= sdo_sem_inference.oracle_orardf_res2vid（'http://example.org/name'）; - 用于查找所有员工及其名字和姓氏的SQL查询sqlStmt：='select ids1.sid employeeId，values1.value_name firstName，values2.value_name lastName from'|| resource_id_map_view || 'values1，'|| resource_id_map_view || 'values2，'|| src_tab_view || 'ids1，'|| src_tab_view || 'ids2其中ids1.sid = ids2.sid AND ids1.pid ='|| to_char（firstNamePropertyId，'TM9'）|| 'AND ids2.pid ='|| to_char（lastNamePropertyId，'TM9'）|| 'AND ids1.oid = values1.value_id AND ids2.oid = values2.value_id / *下面确保我们有NEWDATA（没有重复的优化标志）* / AND不存在（从'|| src_tab_view ||'中选择1其中sid = ids1.sid AND pid ='|| to_char（fullNamePropertyId，'TM9'）||'）'; - 创建insert语句，将我们的sqlStmt中的名字和姓氏连接成一个新的三元组。insertStmt：='insert / * + parallel append * / into'|| output_tab || '（sid，pid，o）选择employeeId，'|| to_char（fullNamePropertyId，'TM9'）|| '，'''''|| firstName ||''''|| lastName ||'''''from（'|| sqlStmt ||'）'; - 执行insert语句execute immediate insertStmt; - 提交我们的更改提交; - 设置我们已经检查过的优化标志 - 模型中的重复项（src_tab_view）optimization_flag：= SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_NEWDATA_ONLY;万一; - 返回true表示成功返回true;结束sem_inf_dynamic; /显示错误;</pre><p><code class="codeph">sem_inf_dynamic</code>函数使用两个主要步骤插入新数据。首先，该函数构建一个SQL查询，该查询从现有数据中收集所有名字和姓氏。<code class="codeph">sqlStmt</code>变量存储此SQL查询。接下来，该函数根据收集的名字和姓氏插入新的三元组，以形成每个员工的全名。<code class="codeph">insertStmt</code>变量存储此SQL查询。请注意， <code class="codeph">insertStmt</code>查询包含<code class="codeph">sqlStmt</code>查询，因为它正在使用子查询执行INSERT。
                        </p>
                        <p><code class="codeph">sqlStmt</code>查询跨两个主视图执行连接：资源视图（ <code class="codeph">resource_id_map_view</code> ）和现有数据视图（ <code class="codeph">src_tab_view</code> ）。现有数据视图包含所有现有三元组，但使用数字ID而不是词法值存储这些三元组的值。由于<code class="codeph">sqlStmt</code>查询必须提取员工名字和姓氏的词汇值，因此它会与资源视图连接两次（一次用于名字，一次用于姓氏）。
                        </p>
                        <p><code class="codeph">sqlStmt</code>查询包含<code class="codeph">PARALLEL</code> SQL提示以帮助提高性能。在平衡硬件配置上并行执行可以显着提高性能。（有关详细信息，请参阅<a href="user-defined-inferencing.html#GUID-9130DB03-063F-4ECA-BC72-F841816D03A2">示例3：优化性能</a> 。）
                        </p>
                        <p><code class="codeph">insertStmt</code>查询还执行重复检查，以避免在现有数据视图（ <code class="codeph">src_tab_view</code> ）中已存在三元组时添加三元组。该函数表示已通过启用<code class="codeph">INF_EXT_OPT_FLAG_NEWDATA_ONLY</code>优化标志执行此检查。在扩展功能内部进行检查可以提高推理的整体性能。请注意，现有数据视图不包含<code class="codeph">sem_inf_dynamic</code>函数当前添加的新三元组，因此在<code class="codeph">output_tab</code>表中可能仍存在重复项。如果<code class="codeph">sem_inf_dynamic</code>函数另外在output_tab表中检查了重复项，那么它还可以启用<code class="codeph">INF_EXT_OPT_FLAG_UNIQUEDATA_ONLY</code>优化标志。
                        </p>
                        <p>两个SQL查询都使用RDF资源的数字ID来执行其连接和插入。使用ID而不是词汇值可以提高查询的性能。<code class="codeph">sem_inf_dynamic</code>函数通过查找计划使用的词法值的ID来利用此性能优势。在这种情况下，该函数会查找三个表示名字，姓氏和全名属性的URI。如果<code class="codeph">sem_inf_dynamic</code>函数将所有新三元组纯粹作为ID插入，则它可以启用<code class="codeph">INF_EXT_OPT_FLAG_ALL_IDS</code>优化标志。但是，对于此示例，新三元组每个都包含一个新的词汇值：员工的全名。
                        </p>
                        <p>要使用<code class="codeph">sem_inf_dynamic</code>函数创建一个蕴涵，请向MDSYS用户授予执行权限，然后将函数名称传递给<a href="SEM_APIS-reference.html#GUID-BF52CEC0-1BD9-4908-9EF1-F001B0527257">SEM_APIS.CREATE_ENTAILMENT</a>过程，如下所示：</p><pre class="oac_no_warn" dir="ltr">- 授予适当的权限授予sem_inf_dynamic执行到mdsys; - 创建蕴涵开始sem_apis.create_entailment（'EMPLOYEES_INF'，sem_models（'EMPLOYEES'），sem_rulebases（'OWLPRIME'），传递=&gt; SEM_APIS.REACH_CLOSURE，inf_ext_user_func_name =&gt;'sem_inf_dynamic'）;结束; /</pre><p>该蕴涵应包含<code class="codeph">sem_inf_dynamic</code>添加的以下两个新三元组：</p><pre class="oac_no_warn" dir="ltr">SPO ------------------------ ------------------------  - ---------------------- http://example.org/Bob http://example.org/name Bob Billow http://example.org/ John http://example.org/name John Smith</pre><p>请注意，前面示例中的<code class="codeph">sem_inf_dynamic</code>函数未推断Mary Smith的全名，因为Mary Smith已在现有数据中指定了其全名。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-E2FE95D9-C6A8-4E22-9CAA-85B558E153E2">用户定义的推理扩展函数示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM527"></a><div class="props_rev_3"><a id="GUID-9130DB03-063F-4ECA-BC72-F841816D03A2" name="GUID-9130DB03-063F-4ECA-BC72-F841816D03A2"></a><h5 id="RDFRM-GUID-9130DB03-063F-4ECA-BC72-F841816D03A2" class="sect5"><span class="enumeration_section">7.1.3.3</span>示例3：优化性能</h5>
                     <div>
                        <p>几种技术可以改善推理扩展功能的性能。一种这样的技术是在查询中使用资源的数字ID而不是它们的词汇值。通过仅使用资源ID，扩展函数避免了必须与资源视图（ <code class="codeph">resource_id_map_view</code> ）连接，这可以极大地提高查询性能。推理扩展功能可以通过使用同样的资源ID添加新的三元组的时候获得额外的性能优势<code class="codeph">output_tab</code>表（即，只用使用<code class="codeph">gid</code> ， <code class="codeph">sid</code> ， <code class="codeph">pid</code> ，和<code class="codeph">oid</code>的列<code class="codeph">output_tab</code>表）。
                        </p>
                        <p>以下用户定义的推理扩展函数（ <code class="codeph">sem_inf_related</code> ）为共享相同姓氏的员工推断出新属性<code class="codeph">:possibleRelative</code> 。用于查找此类员工的SQL查询仅使用资源ID（没有词法值，没有与资源视图的连接）。此外，此示例中的推理扩展功能仅使用资源ID插入新三元组，允许该函数启用<code class="codeph">INF_EXT_OPT_FLAG_ALL_IDS</code>优化标志。
                        </p><pre class="oac_no_warn" dir="ltr">- 此用户定义的规则添加静态三元组创建或替换函数sem_inf_related（varchar2中的src_tab_view，varchar2中的resource_id_map_view，varchar2中的output_tab，varchar2中的action，number中的num_calls，数量中的tplInferredLastRound，varchar2中的选项default null，optimization_flag out number， diag_message out varchar2）将boolean返回为lastNamePropertyId数; relatedPropertyId号码; sqlStmt varchar2（4000）; insertStmt varchar2（4000）; pragma autonomous_transaction; begin if（action ='RUN'）then  - 检索数据中已经存在的资源ID（如果资源不存在则抛出异常）。lastNamePropertyId：= sdo_sem_inference.oracle_orardf_res2vid（'http://example.org/lastName'）; - 资源的检索ID或生成新ID（如果资源不存在） - 尚不存在relatedPropertyId：= sdo_sem_inference.oracle_orardf_add_res（'http://example.org/possibleRelative'）; -  SQL查询以查找共享姓氏的所有员工sqlStmt：='select ids1.sid employeeId，ids2.sid relativeId from'|| src_tab_view || 'ids1，'|| src_tab_view || 'ids2其中ids1.pid ='|| to_char（lastNamePropertyId，'TM9'）|| 'AND ids2.pid ='|| to_char（lastNamePropertyId，'TM9'）|| 'AND ids1.oid = ids2.oid / *避免与自己相关的员工* / AND ids1.sid！= ids2.sid / *下面确保我们有NEWDATA（没有重复的优化标志）* / AND不存在（从'|| src_tab_view ||'中选择1，其中sid = ids1.sid AND pid ='|| to_char（relatedPropertyId， 'TM9'）||'和oid = ids2.sid）/ *下面确保我们有UNIQDATA（没有重复的优化标志）* / AND不存在（从'|| output_tab ||'中选择1，其中sid = ids1.sid AND pid ='|| to_char（relatedPropertyId，'TM9'）||'AND oid = ids2.sid）'; - 创建仅使用资源ID的insert语句insertStmt：='insert / * + parallel append * / into'|| output_tab || '（sid，pid，oid）选择employeeId，'|| to_char（relatedPropertyId，'TM9'）|| '，relativeId from（'|| sqlStmt ||'）'; - 执行insert语句execute immediate insertStmt; - 提交我们的更改提交; - 设置标志指示我们的新三元组 -  1）仅使用ID指定 -  2）与模型不产生重复（src_tab_view） -  3）在输出中不产生重复（output_tab）optimization_flag：= SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_ALL_IDS + SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_NEWDATA_ONLY + SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_UNIQDATA_ONLY;万一; - 返回true表示成功返回true;结束sem_inf_related; /显示错误;</pre><p><code class="codeph">sem_inf_related</code>函数与前面的示例有一些关键差异。首先， <code class="codeph">sem_inf_related</code>函数仅使用资源ID查询，并仅使用资源ID插入新的三元组。由于<code class="codeph">output_tab</code>表中所有添加的三元组仅使用资源ID，因此该函数可以启用<code class="codeph">INF_EXT_OPT_FLAG_ALL_IDS</code>优化标志。为获得最佳性能，函数应尝试使用资源ID而不是词法值。但是，有时这是不可能的，如<a href="user-defined-inferencing.html#GUID-CE4D14D6-3C48-47EA-92BB-CEC870316412">示例2：添加动态三元组</a> ，它连接词汇值以形成新的词汇值。请注意，在<a href="user-defined-inferencing.html#GUID-CE4D14D6-3C48-47EA-92BB-CEC870316412">示例2：添加动态三元组的情况下</a> ，通常最好与资源视图（ <code class="codeph">resource_id_map_view</code> ）连接，而不是在SQL查询中嵌入对<code class="codeph">oracle_orardf_res2vid</code>调用。这是由于为每个可能的匹配调用函数的开销，而不是与另一个表连接。
                        </p>
                        <p><code class="codeph">sem_inf_related</code>函数的另一个关键区别是使用<code class="codeph">oracle_orardf_add_res</code>函数（与<code class="codeph">oracle_orardf_res2vid</code>相比）。与<code class="codeph">res2vid</code>函数不同，如果资源尚不存在， <code class="codeph">add_res</code>函数将向资源视图（ <code class="codeph">resource_id_map_view</code> ）添加资源。如果将资源添加到资源视图不是问题，则推理扩展函数应使用<code class="codeph">add_res</code>函数。多次调用该函数不会在资源视图中生成重复的条目。
                        </p>
                        <p>最后一个主要区别是SQL查询中的附加<code class="codeph">NOT EXISTS</code>子句。第一个<code class="codeph">NOT EXISTS</code>子句避免添加任何三元组，这些三元组可能是模型中已有的三元组的重复，或者是由其他规则（ <code class="codeph">src_tab_view</code> ）推断的三元组。检查这些重复项允许<code class="codeph">sem_inf_related</code>启用<code class="codeph">INF_EXT_OPT_FLAG_NEWDATA_ONLY</code>优化标志。第二个<code class="codeph">NOT EXISTS</code>子句避免在当前推理轮次期间添加可能与<code class="codeph">sem_inf_related</code>函数已添加到<code class="codeph">sem_inf_related</code>表的三元组重复的三元组（请参阅<code class="codeph">num_calls</code>参数）。检查这些重复项允许<code class="codeph">sem_inf_related</code>启用<code class="codeph">INF_EXT_OPT_FLAG_UNIQDATA_ONLY</code>优化标志。
                        </p>
                        <p>与<code class="codeph">sem_inf_dynamic</code>示例一样， <code class="codeph">sem_inf_related</code>示例在其insert语句中使用<code class="codeph">PARALLEL</code> SQL查询提示。在平衡硬件配置上并行执行可以显着提高性能。对于数据密集型应用程序，良好的I / O子系统通常是整个系统性能的关键组件。
                        </p>
                        <p>要使用<code class="codeph">sem_inf_dynamic</code>函数创建一个蕴涵，请向MDSYS用户授予执行权限，然后将函数名称传递给<a href="SEM_APIS-reference.html#GUID-BF52CEC0-1BD9-4908-9EF1-F001B0527257">SEM_APIS.CREATE_ENTAILMENT</a>过程，如下所示：</p><pre class="oac_no_warn" dir="ltr">- 授予适当的权限，授予对mdsys的sem_inf_related执行权限; - 创建蕴涵开始sem_apis.create_entailment（'EMPLOYEES_INF'，sem_models（'EMPLOYEES'），sem_rulebases（'OWLPRIME'），传递=&gt; SEM_APIS.REACH_CLOSURE，inf_ext_user_func_name =&gt;'sem_inf_related'）;结束; /</pre><p>该蕴涵应包含由<code class="codeph">sem_inf_related</code>添加的以下两个新三元组：</p><pre class="oac_no_warn" dir="ltr">SPO ------------------------ ------------------------- ----------- ------------------------ http://example.org/John http：// example。 org / possibleRelative http://example.org/Mary http://example.org/Mary http://example.org/possibleRelative http://example.org/John</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-E2FE95D9-C6A8-4E22-9CAA-85B558E153E2">用户定义的推理扩展函数示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM529"></a><a id="RDFRM530"></a><a id="RDFRM528"></a><div class="props_rev_3"><a id="GUID-71E6C43C-4329-49AA-A3B2-A158C0176ADF" name="GUID-71E6C43C-4329-49AA-A3B2-A158C0176ADF"></a><h5 id="RDFRM-GUID-71E6C43C-4329-49AA-A3B2-A158C0176ADF" class="sect5"><span class="enumeration_section">7.1.3.4</span>例4：时间推理（几个相关例子）</h5>
                     <div>
                        <p>用户定义的扩展函数使您能够更好地利用三元组中的某些数据类型（如<code class="codeph">xsd:dateTime</code> ）。例如，通过用户定义的扩展函数，可以基于两个<code class="codeph">xsd:dateTime</code>值之间的差异来推断三元组之间的关系。本节中的三个示例探讨了两种不同的时间推理规则以及如何将它们组合成一种蕴涵。示例假设模型<code class="codeph">EVENT</code>和<code class="codeph">EVENT_ONT</code>存在并包含以下语义数据：</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-71E6C43C-4329-49AA-A3B2-A158C0176ADF__GUID-2E18C5A6-43FF-4576-94AB-4DD6330847CB">EVENT_ONT</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">@prefix owl：&lt;http://www.w3.org/2002/07/owl#&gt;。@prefix rdf：&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;。@prefix rdfs：&lt;http://www.w3.org/2000/01/rdf-schema#&gt;。@prefix xsd：&lt;http://www.w3.org/2001/XMLSchema#&gt;。@prefix：&lt;http://example.org/event/&gt;。＃我们模拟两种类型的事件：Meeting rdfs：subClassOf：Event。：Presentation rdfs：subClassOf：Event。＃events包含主题：topic rdfs：domain：Event。#stops有开始和结束时间：startTime rdfs：domain：Event; rdfs：range xsd：dateTime。：endTime rdfs：domain：Event; rdfs：range xsd：dateTime。#stors事件的持续时间（以分钟为单位）：lengthInMins rdfs：domain：Event; rdfs：range xsd：integer。＃overlaps属性标识冲突事件：重叠rdfs：domain：Event; rdf：type owl：SymmetricProperty。：noOverlap rdfs：domain：Event; rdf：type owl：SymmetricProperty。</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-71E6C43C-4329-49AA-A3B2-A158C0176ADF__GUID-5476F5E9-CB5E-4ADA-ACEA-A6B5E4BA0111">EVENT_TBOX</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">@prefix rdf：&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;。@prefix xsd：&lt;http://www.w3.org/2001/XMLSchema#&gt;。@prefix：&lt;http://example.org/event/&gt;。：m1 rdf：type：Meeting; ：主题“Beta1发布”; ：startTime“2012-04-01T09：30：00-05：00”^^ xsd：dateTime; ：endTime“2012-04-01T11：00：00-05：00”^^ xsd：dateTime。：m2 rdf：类型：会议; ：主题“标准合规”; ：startTime“2012-04-01T12：30：00-05：00”^^ xsd：dateTime; ：endTime“2012-04-01T13：30：00-05：00”^^ xsd：dateTime。：p1 rdf：type：Presentation; ：主题“OWL Reasoners”; ：startTime“2012-04-01T11：00：00-05：00”^^ xsd：dateTime; ：endTime“2012-04-01T13：00：00-05：00”^^ xsd：dateTime。
</pre><p>示例如下。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-3FAFE41D-4E5A-4E61-BAE1-8C238F126D2D">示例4a：持续时间规则</a><br></li>
                           <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-DFA3D154-24CA-4DC5-AF39-82D1FFBAD85B">例4b：重叠规则</a><br></li>
                           <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-23952501-FEBE-49CD-8579-BCB4D0908F56">例4c：持续时间和重叠规则</a><br></li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-E2FE95D9-C6A8-4E22-9CAA-85B558E153E2">用户定义的推理扩展函数示例</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="RDFRM531"></a><div class="props_rev_3"><a id="GUID-3FAFE41D-4E5A-4E61-BAE1-8C238F126D2D" name="GUID-3FAFE41D-4E5A-4E61-BAE1-8C238F126D2D"></a><h6 id="RDFRM-GUID-3FAFE41D-4E5A-4E61-BAE1-8C238F126D2D" class="sect6"><span class="enumeration_section">7.1.3.4.1</span>示例4a：持续时间规则</h6>
                        <div>
                           <p>在给定事件的开始和结束时间的情况下，以下用户定义的推理扩展函数（ <code class="codeph">sem_inf_durations</code> ）推断事件的持续时间（以分钟为<code class="codeph">sem_inf_durations</code> ）。例如，从上午9:30开始到上午11:00结束的事件持续时间为90分钟。以下扩展函数提取每个事件的开始和结束时间，将<code class="codeph">xsd:dateTime</code>值转换为Oracle时间戳，然后计算时间戳之间的差异。请注意，此扩展功能可以处理时区。
                           </p><pre class="oac_no_warn" dir="ltr">创建或替换函数sem_inf_durations（varchar2中的src_tab_view，varchar2中的resource_id_map_view，varchar2中的output_tab，varchar2中的action，number中的num_calls，数量中的tplInferredLastRound，varchar2中的选项default null，optimization_flag out number，diag_message out varchar2）return boolean as eventClassId number; rdfTypePropertyId数字; startTimePropertyId数字; endTimePropertyId数字; durationPropertyId数字; xsdTimeFormat varchar2（100）; sqlStmt varchar2（4000）; insertStmt varchar2（4000）; pragma autonomous_transaction; begin if（action ='RUN'）then  - 检索数据中已经存在的资源ID（如果资源不存在则抛出异常）。eventClassId：= sdo_sem_inference.oracle_orardf_res2vid（'http://example.org/event/Event'）; startTimePropertyId：= sdo_sem_inference.oracle_orardf_res2vid（'http://example.org/event/startTime'）; endTimePropertyId：= sdo_sem_inference.oracle_orardf_res2vid（'http://example.org/event/endTime'）; durationPropertyId：= sdo_sem_inference.oracle_orardf_res2vid（'http://example.org/event/lengthInMins'）; rdfTypePropertyId：= sdo_sem_inference.oracle_orardf_res2vid（'http://www.w3.org/1999/02/22-rdf-syntax-ns#type'）; - 设置我们将用于解析XSD次的TIMESTAMP格式xsdTimeFormat：='YYYY-MM-DD“T”HH24：MI：SSTZH：TZM'; - 我们用于提取事件ID和开始/结束时间的查询。sqlStmt：='select ids1.sid eventId，TO_TIMESTAMP_TZ（values1.value_name，''YYYY-MM-DD“T”HH24：MI：SSTZH：TZM''）startTime，TO_TIMESTAMP_TZ（values2.value_name，''YYYY-MM- DD“T”HH24：MI：SSTZH：TZM''）来自'||的endTime resource_id_map_view || 'values1，'|| resource_id_map_view || 'values2，'|| src_tab_view || 'ids1，'|| src_tab_view || 'ids2，'|| src_tab_view || 'ids3其中ids1.sid = ids3.sid AND ids3.pid ='|| to_char（rdfTypePropertyId，'TM9'）|| 'AND ids3.oid ='|| to_char（eventClassId，'TM9'）|| 'AND ids1.sid = ids2.sid AND ids1.pid ='|| to_char（startTimePropertyId，'TM9'）|| 'AND ids2.pid ='|| to_char（endTimePropertyId，'TM9'）|| 'AND ids1.oid = values1.value_id AND ids2.oid = values2.value_id / *确保我们有NEWDATA * / AND不存在（从'|| src_tab_view ||'中选择1，其中sid = ids3.sid AND pid ='| | to_char（durationPropertyId，'TM9'）||'）/ *确保我们有UNIQDATA * / AND不存在（从'|| output_tab ||'中选择1，其中sid = ids3.sid AND pid ='|| to_char（durationPropertyId ，'TM9'）||'）'; - 计算来自sqlStmt查询的两个Oracle时间戳之间的差异（以分钟为单位）。将分钟存储为 -  xsd：integer。insertStmt：='insert / * + parallel append * / into'|| output_tab || '（sid，pid，o）选择eventId，'|| to_char（durationPropertyId，'TM9'）|| '，''''''|| minutes ||''“^^ xsd：integer''from（select eventId，（extract（day from（endTime  -  startTime））* 24 * 60 + extract（小时来自（endTime  - startTime））* 60 +提取（分钟来自（endTime  -  startTime）））分钟来自（'|| sqlStmt ||'））'; - 执行查询execute immediate insertStmt; - 提交我们的更改提交;万一; - 我们已经在src_tab_view（NEWDATA）中检查了重复项，并在 -  output_tab（UNIQDATA）中检查了optimization_flag：= SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_NEWDATA_ONLY + SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_UNIQDATA_ONLY; - 返回true表示成功返回true; - 处理任何异常异常时，其他人然后diag_message：='发生错误：'|| SQLERRM;返回false;结束sem_inf_durations; /显示错误;</pre><p><code class="codeph">sem_inf_durations</code>函数利用内置的Oracle时态函数来计算事件持续时间。首先，该函数使用<code class="codeph">TO_TIMESTAMP_TZ</code>函数将<code class="codeph">xsd:dateTime</code>文字值转换为Oracle <code class="codeph">TIMESTAMP</code>对象。获取两个Oracle <code class="codeph">TIMESTAMP</code>对象之间的差异会生成一个表示时间间隔的<code class="codeph">INTERVAL</code>对象。使用<code class="codeph">EXTRACT</code>运算符， <code class="codeph">sem_inf_durations</code>函数通过从持续时间间隔中提取天数，小时数和分钟数来计算每个事件的持续时间（以分钟为单位）。
                           </p>
                           <p>因为<code class="codeph">sem_inf_durations</code>函数针对现有模型（ <code class="codeph">src_tab_view</code> ）中的数据和<code class="codeph">output_tab</code>表中的数据检查重复项，所以它可以启用<code class="codeph">INF_EXT_OPT_FLAG_NEWDATA_ONLY</code>和<code class="codeph">INF_EXT_OPT_FLAG_UNIQDATA_ONLY</code>优化标志。（有关优化标志的更多信息，请参阅<a href="user-defined-inferencing.html#GUID-9130DB03-063F-4ECA-BC72-F841816D03A2">示例3：优化性能</a> 。）
                           </p>
                           <p>请注意，与前面的示例不同， <code class="codeph">sem_inf_durations</code>包含异常处理程序。异常处理程序对于调试用户定义的推理扩展函数中的问题很有用。要生成有用的调试消息，请在扩展函数中捕获异常，设置<code class="codeph">diag_message</code>参数以反映错误，并返回<code class="codeph">FALSE</code>以指示在执行扩展函数期间发生错误。<code class="codeph">sem_inf_durations</code>函数捕获所有异常并将<code class="codeph">diag_message</code>值设置为异常消息。
                           </p>
                           <p>要使用<code class="codeph">sem_inf_durations</code>函数创建一个蕴涵，请向MDSYS用户授予执行权限，然后将函数名称传递给<a href="SEM_APIS-reference.html#GUID-BF52CEC0-1BD9-4908-9EF1-F001B0527257">SEM_APIS.CREATE_ENTAILMENT</a>过程，如下所示：</p><pre class="oac_no_warn" dir="ltr">- 授予适当的权限授予执行sem_inf_durations到mdsys; - 创建蕴涵开始sem_apis.create_entailment（'EVENT_INF'，sem_models（'EVENT'，'EVENT_ONT'），sem_rulebases（'OWLPRIME'），传递=&gt; SEM_APIS.REACH_CLOSURE，inf_ext_user_func_name =&gt;'sem_inf_durations'）;结束; /</pre><p>除了由OWLPRIME推断的三元组之外，蕴涵还应包含由<code class="codeph">sem_inf_durations</code>添加的以下三个新三元组：</p><pre class="oac_no_warn" dir="ltr">SPO ---------------------------- --------------------- ----------------- --------- http://example.org/event/m1 http://example.org/event/lengthInMins 90 http ：//example.org/event/m2 http://example.org/event/lengthInMins 60 http://example.org/event/p1 http://example.org/event/lengthInMins 120</pre></div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-71E6C43C-4329-49AA-A3B2-A158C0176ADF">示例4：时间推理（几个相关示例）</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="RDFRM532"></a><div class="props_rev_3"><a id="GUID-DFA3D154-24CA-4DC5-AF39-82D1FFBAD85B" name="GUID-DFA3D154-24CA-4DC5-AF39-82D1FFBAD85B"></a><h6 id="RDFRM-GUID-DFA3D154-24CA-4DC5-AF39-82D1FFBAD85B" class="sect6"><span class="enumeration_section">7.1.3.4.2</span>例4b：重叠规则</h6>
                        <div>
                           <p>以下用户定义的推理扩展函数（ <code class="codeph">sem_inf_overlap</code> ）推断两个事件是否重叠。如果一个事件在另一个事件正在进行时开始，则两个事件重叠。该函数提取每对事件的开始和结束时间，将<code class="codeph">xsd:dateTime</code>值转换为Oracle时间戳，然后计算一个事件是否在另一个事件内开始。
                           </p><pre class="oac_no_warn" dir="ltr">创建或替换函数sem_inf_overlap（varchar2中的src_tab_view，varchar2中的resource_id_map_view，varchar2中的output_tab，varchar2中的action，number中的num_calls，数量中的tplInferredLastRound，varchar2中的选项default null，optimization_flag out number，diag_message out varchar2）return boolean as eventClassId number; rdfTypePropertyId数字; startTimePropertyId数字; endTimePropertyId数字; overlapsPropertyId数字; noOverlapPropertyId数字; xsdTimeFormat varchar2（100）; sqlStmt varchar2（4000）; insertStmt varchar2（4000）; pragma autonomous_transaction; begin if（action ='RUN'）then  - 检索数据中已经存在的资源ID（如果资源不存在则抛出异常）。eventClassId：= sdo_sem_inference.oracle_orardf_res2vid（'http://example.org/event/Event'）; startTimePropertyId：= sdo_sem_inference.oracle_orardf_res2vid（'http://example.org/event/startTime'）; endTimePropertyId：= sdo_sem_inference.oracle_orardf_res2vid（'http://example.org/event/endTime'）; overlapsPropertyId：= sdo_sem_inference.oracle_orardf_res2vid（'http://example.org/event/overlaps'）; noOverlapPropertyId：= sdo_sem_inference.oracle_orardf_res2vid（'http://example.org/event/noOverlap'）; rdfTypePropertyId：= sdo_sem_inference.oracle_orardf_res2vid（'http://www.w3.org/1999/02/22-rdf-syntax-ns#type'）; - 设置我们将用于解析XSD次的TIMESTAMP格式xsdTimeFormat：='YYYY-MM-DD“T”HH24：MI：SSTZH：TZM'; - 我们用于提取事件ID和开始/结束时间的查询。sqlStmt：='select idsA1.sid eventAId，idsB1.sid eventBId，TO_TIMESTAMP_TZ（valuesA1.value_name，''YYYY-MM-DD“T”HH24：MI：SSTZH：TZM''）startTimeA，TO_TIMESTAMP_TZ（valuesA2.value_name，' 'YYYY-MM-DD“T”HH24：MI：SSTZH：TZM''）endTimeA，TO_TIMESTAMP_TZ（valuesB1.value_name，''YYYY-MM-DD“T”HH24：MI：SSTZH：TZM''）startTimeB，TO_TIMESTAMP_TZ （valuesB2.value_name，''YYYY-MM-DD“T”HH24：MI：SSTZH：TZM''）来自'||的endTimeB resource_id_map_view || 'valuesA1，'|| resource_id_map_view || 'valuesA2，'|| resource_id_map_view || 'valuesB1，'|| resource_id_map_view || 'valuesB2，'|| src_tab_view || 'idsA1，'|| src_tab_view || 'idsA2，'|| src_tab_view || 'idsA3，'|| src_tab_view || 'idsB1，'|| src_tab_view || 'idsB2，'|| src_tab_view || 'idsB3其中idsA1.sid = idsA3.sid AND idsA3.pid ='|| to_char（rdfTypePropertyId，'TM9'）|| 'AND idsA3.oid ='|| to_char（eventClassId，'TM9'）|| 'AND idsB1.sid = idsB3.sid AND idsB3.pid ='|| to_char（rdfTypePropertyId，'TM9'）|| 'AND idsB3.oid ='|| to_char（eventClassId，'TM9'）|| '/ *仅执行一半检查，我们的TBOX本体将处理对称性* / AND idsA1.sid &lt;idsB1.sid / *获取事件A * / AND idsA1.sid = idsA2.sid和idsA1.pid的startTime和endTime值='|| to_char（startTimePropertyId，'TM9'）|| 'AND idsA2.pid ='|| to_char（endTimePropertyId，'TM9'）|| 'AND idsA1.oid = valuesA1.value_id AND idsA2.oid = valuesA2.value_id / *获取事件B的起始时间和结束时间的值*和AND idsB1.sid = idsB2.sid AND idsB1.pid ='|| to_char（startTimePropertyId，'TM9'）|| 'AND idsB2.pid ='|| to_char（endTimePropertyId，'TM9'）|| 'AND idsB1.oid = valuesB1.value_id AND idsB2.oid = valuesB2.value_id / *确保我们有NEWDATA * / AND不存在（从'|| src_tab_view ||'中选择1，其中sid = idsA1.sid AND oid = idsB1。 sid和pid in（'|| to_char（overlapsPropertyId，'TM9'）||'，'|| to_char（noOverlapPropertyId，'TM9'）||'））/ *确保我们有UNIQDATA * / AND不存在（选择1来自'|| output_tab ||'，其中sid = idsA1.sid AND oid = idsB1.sid AND pid in（'|| to_char（overlapsPropertyId，'TM9'）||'，'|| to_char（noOverlapPropertyId，'TM9'） ||'））'; - 比较两个事件时间insertStmt：='insert / * + parallel append * / into'|| output_tab || '（sid，pid，oid）选择eventAId，overlapStatusId，eventBId from（select eventAId，（case when when（startTimeA &lt;endTimeB和startTimeA&gt; startTimeB）然后'|| to_char（overlapsPropertyId，'TM9'）||'when（startTimeB &lt; endTimeA和startTimeB&gt; startTimeA）然后'|| to_char（overlapsPropertyId，'TM9'）||'else'|| to_char（noOverlapPropertyId，'TM9'）||'end）overlapStatusId，eventBId from（'|| sqlStmt ||' ））'; - 执行查询execute immediate insertStmt; - 提交我们的更改提交;万一; - 我们只在output_tab中使用ID值，我们检查 - 与NOT EXISTS子句重复。optimization_flag：= SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_ALL_IDS + SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_NEWDATA_ONLY + SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_UNIQDATA_ONLY; - 返回true表示成功返回true; - 处理任何异常异常时，其他人然后diag_message：='发生错误：'|| SQLERRM;返回false;结束sem_inf_overlap; /显示错误;</pre><p><code class="codeph">sem_inf_overlap</code>函数类似于<a href="user-defined-inferencing.html#GUID-DFA3D154-24CA-4DC5-AF39-82D1FFBAD85B">例4b中</a>的<code class="codeph">sem_inf_durations</code>函数<a href="user-defined-inferencing.html#GUID-DFA3D154-24CA-4DC5-AF39-82D1FFBAD85B">：重叠规则</a> 。两者之间的主要区别在于<code class="codeph">sem_inf_overlap</code>中的查询包含更多连接并启用INF_EXT_OPT_FLAG_ALL_IDS优化标志，因为它不需要生成新的词法值。（有关优化标志的更多信息，请参阅<a href="user-defined-inferencing.html#GUID-9130DB03-063F-4ECA-BC72-F841816D03A2">示例3：优化性能</a> 。）
                           </p>
                           <p>要使用<code class="codeph">sem_inf_overlap</code>函数创建蕴涵，请向MDSYS用户授予执行权限，然后将函数名称传递给<a href="SEM_APIS-reference.html#GUID-BF52CEC0-1BD9-4908-9EF1-F001B0527257">SEM_APIS.CREATE_ENTAILMENT</a>过程，如下所示：</p><pre class="oac_no_warn" dir="ltr">- 授予适当的权限授予对sem_inf_overlap执行到mdsys; - 创建蕴涵开始sem_apis.create_entailment（'EVENT_INF'，sem_models（'EVENT'，'EVENT_ONT'），sem_rulebases（'OWLPRIME'），传递=&gt; SEM_APIS.REACH_CLOSURE，inf_ext_user_func_name =&gt;'sem_inf_overlap'）;结束; /</pre><p>除了由OWLPRIME推断的三元组之外，蕴涵还应包含由<code class="codeph">sem_inf_overlap</code>添加的以下六个新三元组：</p><pre class="oac_no_warn" dir="ltr">SPO ---------------------------- --------------------- -------------- ---------------------------- http://example.org/ event / m1 http://example.org/event/noOverlap http://example.org/event/m2 http://example.org/event/m1 http://example.org/event/noOverlap http：/ /example.org/event/p1 http://example.org/event/m2 http://example.org/event/noOverlap http://example.org/event/m1 http://example.org/event / m2 http://example.org/event/overlaps http://example.org/event/p1 http://example.org/event/p1 http://example.org/event/noOverlap http：// example.org/event/m1 http://example.org/event/p1 http://example.org/event/overlaps http://example.org/event/m2</pre></div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-71E6C43C-4329-49AA-A3B2-A158C0176ADF">示例4：时间推理（几个相关示例）</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="RDFRM533"></a><div class="props_rev_3"><a id="GUID-23952501-FEBE-49CD-8579-BCB4D0908F56" name="GUID-23952501-FEBE-49CD-8579-BCB4D0908F56"></a><h6 id="RDFRM-GUID-23952501-FEBE-49CD-8579-BCB4D0908F56" class="sect6"><span class="enumeration_section">7.1.3.4.3</span>例4c：持续时间和重叠规则</h6>
                        <div>
                           <p>本节中的示例使用<a href="user-defined-inferencing.html#GUID-3FAFE41D-4E5A-4E61-BAE1-8C238F126D2D">示例4a中</a>的扩展函数<a href="user-defined-inferencing.html#GUID-3FAFE41D-4E5A-4E61-BAE1-8C238F126D2D">：持续时间规则</a> （ <code class="codeph">sem_inf_durations</code> ）和<a href="user-defined-inferencing.html#GUID-DFA3D154-24CA-4DC5-AF39-82D1FFBAD85B">示例4b：重叠规则</a> （ <code class="codeph">sem_inf_overlap</code> ）一起生成单个蕴涵。对于此示例，扩展功能未经修改。
                           </p>
                           <p>为了创建使用多个扩展功能的蕴涵，用逗号分开传递给每个扩展功能<code class="codeph">inf_ext_user_func_name</code>的参数<a href="SEM_APIS-reference.html#GUID-BF52CEC0-1BD9-4908-9EF1-F001B0527257">SEM_APIS.CREATE_ENTAILMENT</a> 。以下示例假定已为MDSYS用户授予了扩展功能的相应权限。
                           </p><pre class="oac_no_warn" dir="ltr">- 使用多个用户定义的推理函数开始sem_apis.create_entailment（'EVENT_INF'，sem_models（'EVENT'，'EVENT_ONT'），sem_rulebases（'OWLPRIME'），传递=&gt; SEM_APIS.REACH_CLOSURE，inf_ext_user_func_name =&gt;'sem_inf_durations，sem_inf_overlap '）;结束; /</pre><p>除了由OWLPRIME推断的三元组外，蕴涵还应包含由<code class="codeph">sem_inf_durations</code>和<code class="codeph">sem_inf_overlap</code>添加的以下九个新三元组：</p><pre class="oac_no_warn" dir="ltr">SPO ---------------------------- --------------------- ----------------- ---------------------------- http：// example .org / event / m1 http://example.org/event/lengthInMins 90 http://example.org/event/m1 http://example.org/event/noOverlap http://example.org/event/ m2 http://example.org/event/m1 http://example.org/event/noOverlap http://example.org/event/p1 http://example.org/event/m2 http：// example .org / event / lengthInMins 60 http://example.org/event/m2 http://example.org/event/noOverlap http://example.org/event/m1 http://example.org/event/ m2 http://example.org/event/overlaps http://example.org/event/p1 http://example.org/event/p1 http://example.org/event/lengthInMins 120 http：// example.org/event/p1 http://example.org/event/noOverlap http://example.org/event/m1 http://example.org/event/p1 http://example.org/event/重叠http://example.org/event/m2</pre><p>请注意，扩展函数<code class="codeph">sem_inf_durations</code>和<code class="codeph">sem_inf_overlap</code>不需要使用相同的优化标志。可以使用具有矛盾优化标志的扩展函数（例如，使用<code class="codeph">INF_EXT_OPT_FLAG_ALL_IDS</code>一个函数和将所有新三元组插入作为词汇值的另一个函数）。
                           </p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-71E6C43C-4329-49AA-A3B2-A158C0176ADF">示例4：时间推理（几个相关示例）</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="RDFRM534"></a><div class="props_rev_3"><a id="GUID-44EBDF64-6718-4960-98EB-0D2C45F677A3" name="GUID-44EBDF64-6718-4960-98EB-0D2C45F677A3"></a><h5 id="RDFRM-GUID-44EBDF64-6718-4960-98EB-0D2C45F677A3" class="sect5"><span class="enumeration_section">7.1.3.5</span>示例5：空间推理</h5>
                     <div>
                        <p>用户定义的推理扩展函数还可以利用地理空间数据类型（如WKT（众所周知的文本））来执行空间推理。例如，利用用户定义的扩展函数，可以推断几何实体（例如州和城市）之间的“包含”关系。</p>
                        <p>本节中的示例演示了如何推断几何（美国州）是否包含点（美国城市）。此示例假定RDF网络已具有空间索引（在第1.6.6.2节中描述）。此示例还假设模型<code class="codeph">STATES</code>存在并包含以下语义数据：</p><pre class="oac_no_warn" dir="ltr">@prefix orageo：&lt;http://xmlns.oracle.com/rdf/geo/&gt;。@prefix rdf：&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;。@prefix rdfs：&lt;http://www.w3.org/2000/01/rdf-schema#&gt;。@prefix：&lt;http://example.org/geo/&gt;。：Colorado rdf：type：State; ：边界“多边形（（ -  109.0448 37.0004，-102.0424 36.9949，-102.0534 41.0006，-109.0489 40.9996，-109.0448 37.0004））”^^ orageo：WKTLiteral。：犹他州rdf：类型：州; ：边界“多边形（（ -  114.0491 36.9982，-109.0462 37.0026，-109.0503 40.9986，-111.0471 41.0006，-111.0498 41.9993，-114.0395 41.9901，-114.0491 36.9982））”^^ orageo：WKTLiteral。：Wyoming rdf：type：State; ：边界“多边形（（ -  104.0556 41.0037，-104.0584 44.9949，-111.0539 44.9998，-111.0457 40.9986，-104.0556 41.0037））”^^ orageo：WKTLiteral：StateCapital rdfs：subClassOf：City; ：Denver rdf：type：StateCapital; ：位置“点（-104.984722 39.739167）”^^ orageo：WKTLiteral。：SaltLake rdf：type：StateCaptial; ：位置“点（-111.883333 40.75）”^^ orageo：WKTLiteral。：Cheyenne rdf：type：StateCapital; ：location“Point（-104.801944 41.145556）”^^ orageo：WKTLiteral。
</pre><p>以下用户定义的推理扩展函数（ <code class="codeph">sem_inf_capitals</code> ）使用WKT几何搜索每个州内的大城市。如果函数找到首都，则推断城市是包含它的州的首都。
                        </p><pre class="oac_no_warn" dir="ltr">创建或替换函数sem_inf_capitals（varchar2中的src_tab_view，varchar2中的resource_id_map_view，varchar2中的output_tab，varchar2中的action，number中的num_calls，数量中的tplInferredLastRound，varchar2中的选项default null，optimization_flag out number，diag_message out varchar2）return boolean as stateClassId number; capitalClassId数; boundaryPropertyId数字; locationPropertyId数字; rdfTypePropertyId数字; capitalPropertyId数字; defaultSRID号码：= 8307; xsdTimeFormat varchar2（100）; sqlStmt varchar2（4000）; insertStmt varchar2（4000）; pragma autonomous_transaction; begin if（action ='RUN'）then  - 检索数据中已经存在的资源ID（如果资源不存在则抛出异常）。stateClassId：= sdo_sem_inference.oracle_orardf_res2vid（'http://example.org/geo/State'）; capitalClassId：= sdo_sem_inference.oracle_orardf_res2vid（'http://example.org/geo/StateCapital'）; boundaryPropertyId：= sdo_sem_inference.oracle_orardf_res2vid（'http://example.org/geo/boundary'）; locationPropertyId：= sdo_sem_inference.oracle_orardf_res2vid（'http://example.org/geo/location'）; rdfTypePropertyId：= sdo_sem_inference.oracle_orardf_res2vid（'http://www.w3.org/1999/02/22-rdf-syntax-ns#type'）; - 资源的retreive ID或如果资源确实生成新ID  - 尚不存在capitalPropertyId：= sdo_sem_inference.oracle_orardf_add_res（'http://example.org/geo/capital'）; - 查询我们用于提取状态边界内包含的大写城市sqlStmt：='select idsA1.sid stateId，idsB1.sid cityId from'|| resource_id_map_view || 'valuesA，'|| resource_id_map_view || 'valuesB，'|| src_tab_view || 'idsA1，'|| src_tab_view || 'idsA2，'|| src_tab_view || 'idsB1，'|| src_tab_view || 'idsB2其中idsA1.pid ='|| to_char（rdfTypePropertyId，'TM9'）|| 'AND idsA1.oid ='|| to_char（stateClassId，'TM9'）|| 'AND idsB1.pid ='|| to_char（rdfTypePropertyId，'TM9'）|| 'AND idsB1.oid ='|| to_char（capitalClassId，'TM9'）|| '/ *抓取几何词汇值* / AND idsA2.sid = idsA1.sid AND idsA2.pid ='|| TO_CHAR（boundaryPropertyId， 'TM9'）|| 'AND idsA2.oid = valuesA.value_id AND idsB2.sid = idsB1.sid AND idsB2.pid ='|| TO_CHAR（locationPropertyId， 'TM9'）|| 'AND idsB2.oid = valuesB.value_id / *比较几何以查看city是否包含州* / AND SDO_RELATE（SDO_RDF.getV $ GeometryVal（valuesA.value_type，valuesA.vname_prefix，valuesA.vname_suffix，valuesA.literal_type，valuesA。 language_type，valuesA.long_value，'|| to_char（defaultSRID，'TM9'）||'），SDO_RDF.getV $ GeometryVal（valuesB.value_type，valuesB.vname_prefix，valuesB.vname_suffix，valuesB.literal_type，valuesB.language_type，valuesB。 long_value，'|| to_char（defaultSRID，'TM9'）||'），''mask = CONTAINS''）=''TRUE''/ *确保我们有NEWDATA并且只检查未分配给州* *的大写字母不存在（从'|| src_tab_view ||'中选择1，其中pid ='|| to_char（capitalPropertyId，'TM9'）||'AND（sid = idsA1.sid OR oid = idsB1.sid））/ *确保我们有UNIQDATA并且仅检查未分配给状态的大写* / AND不存在（从'|| output_tab ||'中选择1，其中pid ='|| to_char（capitalPropertyId，'TM9'）||'AND（sid = idsA1.sid或oid = idsB1.sid））'; - 仅使用ID insertStmt：='insert / * + parallel append * / into'||插入新的三元组output_tab || '（sid，pid，oid）选择stateId，'|| to_char（capitalPropertyId，'TM9'）|| '，cityId from（'|| sqlStmt ||'）'; - 执行查询execute immediate insertStmt; - 提交我们的更改提交;万一; - 我们只在output_tab中使用ID值，我们检查 - 与NOT EXISTS子句重复。optimization_flag：= SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_ALL_IDS + SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_NEWDATA_ONLY + SDO_SEM_INFERENCE.INF_EXT_OPT_FLAG_UNIQDATA_ONLY; - 返回true表示成功返回true; - 处理任何异常异常时，其他人然后diag_message：='发生错误：'|| SQLERRM;返回false;结束sem_inf_capitals; /显示错误;</pre><p><code class="codeph">sem_inf_capitals</code>函数类似于<a href="user-defined-inferencing.html#GUID-3FAFE41D-4E5A-4E61-BAE1-8C238F126D2D">示例4a：Duration Rule中</a>的<code class="codeph">sem_inf_durations</code>函数，因为两个函数都必须将某些三元组的词汇值转换为Oracle类型以利用本机Oracle运算符。对于<code class="codeph">sem_inf_capitals</code> ，该函数使用<code class="codeph">SDO_RDF.getV$GeometryVal</code>函数将编码多边形和点的WKT词法值转换为Oracle Spatial and Graph SDO_GEOMETRY类型。<code class="codeph">getV$GeometryVal</code>函数需要主要由资源视图（ <code class="codeph">resource_id_map_view</code> ）提供的参数和一个附加参数，即空间参考系统（SRID）的ID。<code class="codeph">getV$GeometryVal</code>函数将几何转换为SRID指定的空间参照系。 <code class="codeph">sem_inf_capitals</code>函数使用默认的Oracle Spatial和Graph参考系统，WGS84经度 - 纬度，由SRID值8307指定。（有关空间参考系统的RDF语义图支持的更多信息，请参阅<a href="rdf-semantic-graph-overview.html#GUID-3986DFD4-F23A-4379-A859-9EA1F1582D43">空间支持</a> 。）
                        </p>
                        <p>在使用<code class="codeph">getV$GeometryVal</code>函数将WKT值转换为SDO_GEOMETRY类型之后， <code class="codeph">sem_inf_capitals</code>函数将状态几何与城市几何进行比较，以查看状态是否包含城市。<code class="codeph">SDO_RELATE</code>运算符执行此比较，并在状态包含城市时返回文字值<code class="codeph">'TRUE'</code> 。<code class="codeph">SDO_RELATE</code>运算符可以执行各种不同类型的比较。（有关<code class="codeph">SDO_RELATE</code>和其他空间运算符的更多信息，请参阅<a href="../spatl/spatial-operators-reference.html#SPATL110" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide</span></a> 。）
                        </p>
                        <p>要使用<code class="codeph">sem_inf_capitals</code>函数创建一个蕴涵，请向MDSYS用户授予执行权限，然后将函数名称传递给<a href="SEM_APIS-reference.html#GUID-BF52CEC0-1BD9-4908-9EF1-F001B0527257">SEM_APIS.CREATE_ENTAILMENT</a>过程，如下所示：</p><pre class="oac_no_warn" dir="ltr">- 授予适当的权限授予对sem_inf_capitals执行的权限给mdsys; - 创建蕴涵开始sem_apis.create_entailment（'STATES_INF'，sem_models（'STATES'），sem_rulebases（'OWLPRIME'），传递=&gt; SEM_APIS.REACH_CLOSURE，inf_ext_user_func_name =&gt;'sem_inf_capitals'）;结束; /</pre><p>除了由OWLPRIME推断的三元组外，蕴涵还应包含由<code class="codeph">sem_inf_capitals</code>添加的以下三个新三元组：</p><pre class="oac_no_warn" dir="ltr">SPO -------------------------------- ----------------- -------------- -------------------------------- http：// example.org/geo/Colorado http://example.org/geo/capital http://example.org/geo/Denver http://example.org/geo/Utah http://example.org/geo/资本http://example.org/geo/SaltLake http://example.org/geo/Wyoming http://example.org/geo/capital http://example.org/geo/Cheyenne</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-E2FE95D9-C6A8-4E22-9CAA-85B558E153E2">用户定义的推理扩展函数示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM535"></a><div class="props_rev_3"><a id="GUID-537C3916-D0F0-4909-BC05-50353621C220" name="GUID-537C3916-D0F0-4909-BC05-50353621C220"></a><h5 id="RDFRM-GUID-537C3916-D0F0-4909-BC05-50353621C220" class="sect5"><span class="enumeration_section">7.1.3.6</span>示例6：调用Web服务</h5>
                     <div>
                        <p>此部分包含用户定义的推理扩展功能（ <code class="codeph">sem_inf_geocoding</code> ）和相关的帮助程序（ <code class="codeph">geocoding</code> ），使您可以对Oracle Geocoder服务进行Web服务调用。用户定义的推理扩展函数使用谓词<code class="codeph">&lt;urn:streetAddress&gt;</code>查找三元组的对象值，在<code class="codeph">http://maps.oracle.com/geocoder/gcserver</code>上向Oracle公共Geocoder服务端点发出标注，并插入经度和纬度信息作为两个单独的三元组。
                        </p>
                        <p>例如，假设语义模型包含以下断言：</p><pre class="oac_no_warn" dir="ltr">&lt;urn：NEDC&gt; &lt;urn：streetAddress&gt;“1 Oracle Dr.，Nashua，NH”</pre><p>在这种情况下，使用<code class="codeph">sem_inf_geocoding</code>的推理调用将产生以下新断言：</p><pre class="oac_no_warn" dir="ltr">&lt;urn：NEDC&gt; &lt;http://www.w3.org/2003/01/geo/wgs84_pos#long&gt;“ -  71.46421”&lt;urn：NEDC&gt; &lt;http://www.w3.org/2003/01/ geo / wgs84_pos＃lat&gt;“42.75836”&lt;urn：NEDC&gt; &lt;http://www.opengis.net/geosparql#asWKT&gt;“POINT（-71.46421 42.75836）”^^ &lt;http://www.opengis.net/ geosparql＃wktLiteral&gt; &lt;urn：NEDC&gt; &lt;http://xmlns.oracle.com/rdf/geo/asWKT&gt;“POINT（-71.46421 42.75836）”^^ &lt;http://xmlns.oracle.com/rdf/geo / WKTLiteral&gt;</pre><p><code class="codeph">sem_inf_geocoding</code>函数定义如下：</p><pre class="oac_no_warn" dir="ltr">创建或替换函数sem_inf_geocoding（varchar2中的src_tab_view，varchar2中的resource_id_map_view，varchar2中的output_tab，varchar2中的action，number中的num_calls，数量中的tplInferredLastRound，varchar2中的选项default null，optimization_flag out number，diag_message out varchar2）return boolean as pragma autonomous_transaction; iCount整数; n号码; nLat号码; nWKT号码; nOWKT号码; nStreetAddr号码; sidTab dbms_sql.number_table; oidTab dbms_sql.number_table; vcRequestBody varchar2（32767）; vcStmt varchar2（32767）; vcStreeAddr varchar2（3000）; type cur_type是ref cursor; cursorFind cur_type; vcLong varchar2（100）; vcLat varchar2（100）;开始if（action ='START'）然后nLat：= sdo_sem_inference.oracle_orardf_add_res（'http://www.w3.org/2003/01/geo/wgs84_pos#lat'）; nLong：= sdo_sem_inference.oracle_orardf_add_res（'http://www.w3.org/2003/01/geo/wgs84_pos#long'）; nWKT：= sdo_sem_inference.oracle_orardf_add_res（'http://www.opengis.net/geosparql#asWKT'）; nOWKT：= sdo_sem_inference.oracle_orardf_add_res（'http://xmlns.oracle.com/rdf/geo/asWKT'）;万一; if（action ='RUN'）则nStreetAddr：= sdo_sem_inference.oracle_orardf_res2vid（'&lt;urn：streetAddress&gt;'）; nLat：= sdo_sem_inference.oracle_orardf_res2vid（'http://www.w3.org/2003/01/geo/wgs84_pos#lat'）; nLong：= sdo_sem_inference.oracle_orardf_res2vid（'http://www.w3.org/2003/01/geo/wgs84_pos#long'）; nWKT：= sdo_sem_inference.oracle_orardf_res2vid（'http://www.opengis.net/geosparql#asWKT'）; nOWKT：= sdo_sem_inference.oracle_orardf_res2vid（'http://xmlns.oracle.com/rdf/geo/asWKT'）; vcStmt：='select / * + parallel * / distinct s1.sid as s_id，s1.oid as o_id from'|| src_tab_view || 's1，其中s1.pid =：1且不存在（从'|| src_tab_view ||'x中选择1，其中x.sid = s1.sid和x.pid =：2）';使用nStreetAddr打开cursorFind for vcStmt，nLong; loop fetch cursorFind bulk collection into sidTab，oidTab limit 10000; for in in 1..sidTab.count loop vcStreeAddr：= sdo_sem_inference.oracle_orardf_vid2lit（oidTab（i））; -  dbms_output.put_line（'现在处理街道地址'|| vcStreeAddr）;地理编码（vcStreeAddr，vcLong，vcLat）;立即执行'insert into'|| output_tab || '（sid，pid，oid，gid，s，p，o，g）值（：1，：2，null，null，null，null，：3，null）'使用sidTab（i），nLong，'“ '|| || vcLong'“';立即执行'insert into'|| output_tab || '（sid，pid，oid，gid，s，p，o，g）值（：1，：2，null，null，null，null，：3，null）'使用sidTab（i），nLat，'“ '|| || vcLat'“';立即执行'insert into'|| output_tab || '（sid，pid，oid，gid，s，p，o，g）值（：1，：2，null，null，null，null，：3，null）'使用sidTab（i），nWKT，'“ POINT（'|| vcLong ||''|| vcLat ||'）“^^ &lt;http://www.opengis.net/geosparql#wktLiteral&gt;';立即执行'insert into'|| output_tab || '（sid，pid，oid，gid，s，p，o，g）值（：1，：2，null，null，null，null，：3，null）'使用sidTab（i），nOWKT，'“ POINT（'|| vcLong ||''|| vcLat ||'）“^^ &lt;http://xmlns.oracle.com/rdf/geo/WKTLiteral&gt;';结束循环;当cursorFind％notfound时退出;结束循环;承诺;万一;返回true;结束; / grant在sem_inf_geocoding上执行到mdsys;</pre><p><code class="codeph">sem_inf_geocoding</code>函数使用以下名为<code class="codeph">geocoding</code>帮助程序，该程序与Geocoder Web服务端点进行实际的HTTP通信。请注意，连接到Web服务器需要适当的权限。
                        </p><pre class="oac_no_warn" dir="ltr">创建或替换过程地理编码（addr varchar2，vcLong out varchar2，vcLat out varchar2）as httpReq utl_http.req; httpResp utl_http.resp; vcRequestBody varchar2（32767）; vcBuffer varchar2（32767）; idxLat整数; idxLatEnd整数; begin vcRequestBody：= utl_url.escape（'xml_request = &lt;？xml version =“1.0”standalone =“yes”？&gt; &lt;geocode_request vendor =“elocation”&gt; &lt;address_list&gt; &lt;input_location id =“27010”&gt; &lt;input_address match_mode =“relax_street_type”&gt; &lt;unformatted country =“US”&gt; &lt;address_line value =“'|| addr ||'”/ &gt; &lt;/ unformatted&gt; &lt;/ input_address&gt; &lt;/ input_location&gt; &lt;/ address_list&gt; &lt;/ geocode_request&gt;'）; dbms_output.put_line（'request'|| vcRequestBody）; -  utl_http.set_proxy（'&lt;your_proxy_here_if_necessary&gt;'，null）; httpReq：= utl_http.begin_request（'http://maps.oracle.com/geocoder/gcserver'，'POST'）; utl_http.set_header（httpReq，'Content-Type'，'application / x-www-form-urlencoded'）; utl_http.set_header（httpReq，'Content-Length'，lengthb（vcRequestBody））; utl_http.write_text（httpReq，vcRequestBody）; httpResp：= utl_http.get_response（httpReq）; utl_http.read_text（httpResp，vcBuffer，32767）; utl_http.end_response（httpResp）; -  dbms_output.put_line（'response'|| vcBuffer）; - 这里我们用XML做一些简单的字符串解析。 - 使用XML函数更健壮。idxLat：= instr（vcBuffer，'longitude =“'）; idxLatEnd：= instr（vcBuffer，'”'，idxLat + 12）; vcLong：= substr（vcBuffer，idxLat + 11，idxLatEnd  -  idxLat  -  11）; dbms_output.put_line（'long ='|| vcLong）; idxLat：= instr（vcBuffer，'latitude =“'）; idxLatEnd：= instr（vcBuffer，'”'，idxLat + 11）; vcLat：= substr（vcBuffer，idxLat + 10，idxLatEnd  -  idxLat  -  10）; dbms_output.put_line（'lat ='|| vcLat）;其他人然后dbms_output.put_line（'geocoding：error'|| dbms_utility.format_error_backtrace ||''|| dbms_utility.format_error_stack）;结束; /</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-E2FE95D9-C6A8-4E22-9CAA-85B558E153E2">用户定义的推理扩展函数示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="RDFRM536"></a><div class="props_rev_3"><a id="GUID-26520C46-3A90-40AB-8403-140A82AC73CC" name="GUID-26520C46-3A90-40AB-8403-140A82AC73CC"></a><h3 id="RDFRM-GUID-26520C46-3A90-40AB-8403-140A82AC73CC" class="sect3"><span class="enumeration_section">7.2</span>用户定义的函数和聚合</h3>
               <div>
                  <p>RDF语义图查询扩展体系结构使您能够通过SEM_MATCH表函数和Apache Jena支持添加要在SPARQL查询中使用的用户定义函数和聚合。</p>
                  <p>SPARQL 1.1标准提供了几个主要用于过滤和分类查询获取的数据的函数。但是，您可能需要标准不支持的专用功能。</p>
                  <p>一些简单示例包括查找属于特定类型的值，或获取具有大于特定阈值的平方和值的值。虽然这可以通过组合函数来完成，但是具有处理计算的单个函数可能是有用的，这也允许更简单和更短的查询。</p>
                  <p>RDF语义图查询扩展允许您包含自己的查询函数和聚合。该架构允许：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>自定义查询函数可以像内置的SPARQL查询函数一样使用，如<a href="user-defined-inferencing.html#GUID-7DE220CA-29F0-42FE-A8AB-C13C1998F74F">API对用户定义函数的支持中所述</a></p>
                     </li>
                     <li>
                        <p>可以像内置SPARQL聚合一样使用的自定义聚合，如<a href="user-defined-inferencing.html#GUID-C4701D88-D700-4F89-A28A-BE777BFC31BE">用户定义聚合的API支持中所述</a></p>
                     </li>
                  </ul>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-120431A3-D767-4068-B1E8-0BFC1C505200">用户定义的函数和聚合的数据类型</a><br></li>
                     <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-7DE220CA-29F0-42FE-A8AB-C13C1998F74F">用户定义函数的API支持</a><br></li>
                     <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-C4701D88-D700-4F89-A28A-BE777BFC31BE">用户定义聚合的API支持</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-D5AADFCB-AE87-4028-A7A7-5927D7E9984E" title="RDF Semantic Graph扩展体系结构支持添加用户定义的功能。">用户定义的推理和查询</a></p>
                     </div>
                  </div>
               </div>
               <a id="RDFRM413"></a><div class="props_rev_3"><a id="GUID-120431A3-D767-4068-B1E8-0BFC1C505200" name="GUID-120431A3-D767-4068-B1E8-0BFC1C505200"></a><h4 id="RDFRM-GUID-120431A3-D767-4068-B1E8-0BFC1C505200" class="sect4"><span class="enumeration_section">7.2.1</span>用户定义函数和聚合的数据类型</h4>
                  <div>
                     <p>SDO_RDF_TERM对象类型用于在创建用户定义的函数和聚合时表示RDF术语。</p>
                     <p>SDO_RDF_TERM具有以下属性，这些属性对应于MDSYS.RDF_VALUE $表中的列（有关这些属性的说明，请参阅<a href="rdf-semantic-graph-overview.html#GUID-F7D6E792-CFF4-4183-AECE-3CF4A3332D9E">语句</a>中的<a href="rdf-semantic-graph-overview.html#GUID-F7D6E792-CFF4-4183-AECE-3CF4A3332D9E__CHDBFGII" title="RDF_VALUE $表列">表1-4</a> ）。CTX1属性保留供将来使用，并且在MDSYS.RDF_VALUE $中没有相应的列。
                     </p><pre class="oac_no_warn" dir="ltr">SDO_RDF_TERM（VALUE_TYPE VARCHAR2（10），VALUE_NAME VARCHAR2（4000），VNAME_PREFIX VARCHAR2（4000），VNAME_SUFFIX VARCHAR2（512），LITERAL_TYPE VARCHAR2（1000），LANGUAGE_TYPE VARCHAR2（80），LONG_VALUE CLOB，CTX1 VARCHAR2（4000））</pre><p>以下构造函数可用于创建SDO_RDF_TERM对象。第一个构造函数从单个词汇RDF术语字符串填充每个属性。第二个和第三个构造函数接收单个属性值作为输入。只有第一个RDF术语字符串构造函数为VNAME_PREFIX和VNAME_SUFFIX设置值。其他构造函数将这些值初始化为null。</p><pre class="oac_no_warn" dir="ltr">SDO_RDF_TERM（rdf_term_str VARCHAR2）返回自我; SDO_RDF_TERM（value_type VARCHAR2，value_name VARCHAR2，literal_type VARCHAR2，language_type VARCHAR2，long_value CLOB）RETURN SELF; SDO_RDF_TERM（value_type VARCHAR2，value_name VARCHAR2，literal_type VARCHAR2，language_type VARCHAR2，long_value CLOB，ctx1 VARCHAR2）RETURN SELF;</pre><p><a id="d56111e2035" class="indexterm-anchor"></a> SDO_RDF_TERM_LIST类型用于保存SDO_RDF_TERM对象列表，并定义为<code class="codeph">VARRAY(32767) of SDO_RDF_TERM</code> 。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-26520C46-3A90-40AB-8403-140A82AC73CC" title="RDF语义图查询扩展体系结构使您能够通过SEM_MATCH表函数和Apache Jena支持添加要在SPARQL查询中使用的用户定义函数和聚合。">用户定义的函数和聚合</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM537"></a><div class="props_rev_3"><a id="GUID-7DE220CA-29F0-42FE-A8AB-C13C1998F74F" name="GUID-7DE220CA-29F0-42FE-A8AB-C13C1998F74F"></a><h4 id="RDFRM-GUID-7DE220CA-29F0-42FE-A8AB-C13C1998F74F" class="sect4"><span class="enumeration_section">7.2.2</span>用户定义函数的API支持</h4>
                  <div>
                     <p>通过实现具有特定签名的PL / SQL函数来创建用户定义的函数，并使用特定的URI以SPARQL查询模式调用该函数。</p>
                     <p>在每次成功的推理扩展函数调用之后，执行提交以保持在推理扩展函数调用中所做的更改。如果通过指定<code class="codeph">pragma autonomous_transaction</code>将推理扩展函数定义为自治，则它应该在其实现逻辑的末尾提交或回滚。注意，在创建蕴涵时（每轮一次），推理引擎可以多次调用扩展函数。一次通话的提交和回滚不会影响其他通话。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-0FD72275-EF1D-4E4A-A204-D3EAA3E25C73">PL / SQL函数实现</a><br></li>
                        <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-11A4BB0A-F723-4D1A-8FD5-BCC2CF6F2AFF">从SPARQL查询模式调用用户定义的函数</a><br></li>
                        <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-87FC6170-3247-4926-B981-EC2672904845">用户定义的函数示例</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-26520C46-3A90-40AB-8403-140A82AC73CC" title="RDF语义图查询扩展体系结构使您能够通过SEM_MATCH表函数和Apache Jena支持添加要在SPARQL查询中使用的用户定义函数和聚合。">用户定义的函数和聚合</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="RDFRM538"></a><div class="props_rev_3"><a id="GUID-0FD72275-EF1D-4E4A-A204-D3EAA3E25C73" name="GUID-0FD72275-EF1D-4E4A-A204-D3EAA3E25C73"></a><h5 id="RDFRM-GUID-0FD72275-EF1D-4E4A-A204-D3EAA3E25C73" class="sect5"><span class="enumeration_section">7.2.2.1</span> PL / SQL函数实现</h5>
                     <div>
                        <p>每个用户定义的函数必须由具有以下格式的签名的PL / SQL函数实现：</p><pre class="oac_no_warn" dir="ltr">功能<span class="italic">user_function_name</span> （参数IN SDO_RDF_TERM_LIST）返回SDO_RDF_TERM</pre><p>此签名支持任意数量的RDF术语参数，这些参数使用单个SDO_RDF_TERM_LIST对象传入，并返回单个RDF术语作为输出，表示为单个SDO_RDF_TERM对象。不执行对这些参数的类型检查或其他验证。您应该根据功能目标采取措施验证数据。</p>
                        <p>请注意，PL / SQL支持对用其他编程语言（如C和Java）编写的函数的调用，因此实现用户定义查询函数的PL / SQL函数只能用作用其他编程语言编写的函数的包装器。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-7DE220CA-29F0-42FE-A8AB-C13C1998F74F">用户定义函数的API支持</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM539"></a><div class="props_rev_3"><a id="GUID-11A4BB0A-F723-4D1A-8FD5-BCC2CF6F2AFF" name="GUID-11A4BB0A-F723-4D1A-8FD5-BCC2CF6F2AFF"></a><h5 id="RDFRM-GUID-11A4BB0A-F723-4D1A-8FD5-BCC2CF6F2AFF" class="sect5"><span class="enumeration_section">7.2.2.2</span>从SPARQL查询模式调用用户定义的函数</h5>
                     <div>
                        <p>在PL / SQL中实现用户定义的函数之后，可以使用从前缀<code class="codeph">&lt;http://xmlns.oracle.com/rdf/extensions/&gt;</code>后跟<span class="italic"><code class="codeph">schema.package_name.function_name</code></span>构造的函数URI从SPARQL查询模式调用它<span class="italic"><code class="codeph">schema.package_name.function_name</code></span>如果相应的PL / SQL函数是PL / SQL包的一部分，则为<span class="italic"><code class="codeph">schema.package_name.function_name</code></span>如果该函数不是PL / SQL包的一部分，则为<span class="italic"><code class="codeph">schema.function_name</code></span> 。以下是两个示例函数URI：</p><pre class="oac_no_warn" dir="ltr">&lt;http://xmlns.oracle.com/rdf/extensions/my_schema.my_package.my_function&gt;（arg_1，...，arg_n）&lt;http://xmlns.oracle.com/rdf/extensions/my_schema.my_function&gt;（arg_1， ...，arg_n）</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-7DE220CA-29F0-42FE-A8AB-C13C1998F74F">用户定义函数的API支持</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM541"></a><a id="RDFRM542"></a><a id="RDFRM543"></a><a id="RDFRM544"></a><a id="RDFRM540"></a><div class="props_rev_3"><a id="GUID-87FC6170-3247-4926-B981-EC2672904845" name="GUID-87FC6170-3247-4926-B981-EC2672904845"></a><h5 id="RDFRM-GUID-87FC6170-3247-4926-B981-EC2672904845" class="sect5"><span class="enumeration_section">7.2.2.3</span>用户定义的函数示例</h5>
                     <div>
                        <p>本节介绍用户定义函数的实现示例，以及在FILTER子句，SELECT表达式和BIND操作中使用该函数的示例。</p>
                        <p>对于这些示例，假设此处以N-triple格式呈现的以下数据存在于名为<code class="codeph">MYMODEL</code>的模型中：</p><pre class="oac_no_warn" dir="ltr">&lt;a&gt; &lt;p&gt;“1.0”^^ xsd：double。&lt;b&gt; &lt;p&gt;“1.5”^^ xsd：float。&lt;c&gt; &lt;p&gt;“3”^^ xsd：decimal。&lt;d&gt; &lt;p&gt;“4”^^ xsd：string。
</pre><div class="example" id="GUID-87FC6170-3247-4926-B981-EC2672904845__CHDJEJBI">
                           <p class="titleinexample">例7-1计算两个平方和的用户定义函数</p>
                           <p><a href="user-defined-inferencing.html#GUID-87FC6170-3247-4926-B981-EC2672904845__CHDJEJBI">例7-1</a>显示了一个简单函数的实现，它接收两个值并计算每个值的平方和。
                           </p><pre class="oac_no_warn" dir="ltr">创建或替换函数sum_squares（参数IN MDSYS.SDO_RDF_TERM_LIST）返回MDSYS.SDO_RDF_TERM AS retTerm SDO_RDF_TERM; sqr1 NUMBER; sqr2 NUMBER; addVal NUMBER; val1 SDO_RDF_TERM; val2 SDO_RDF_TERM; BEGIN  - 将返回值设置为null。retTerm：= SDO_RDF_TERM（NULL，NULL，NULL，NULL，NULL）; - 从前两个参数中获取数据。val1：= params（1）; val2：= params（2）; - 将存储在sdo_rdf_term中的值转换为数字。- 如果发生任何异常，则返回null值。BEGIN sqr1：= TO_NUMBER（val1.value_name）; sqr2：= TO_NUMBER（val2.value_name）;当其他人返回retTerm时除外;结束; - 计算两个值的平方和。addVal：=（sqr1 * sqr1）+（sqr2 * sqr2）; - 将返回值设置为所需的rdf术语类型。retTerm：= SDO_RDF_TERM（'LIT'，to_char（addVal），'http：//www.w3.org/2001/XMLSchema#integer'，''，NULL）; - 返回新值。返回retmerm;结束; /显示错误;</pre><p>请注意， <a href="user-defined-inferencing.html#GUID-87FC6170-3247-4926-B981-EC2672904845__CHDJEJBI">示例7-1</a>中的<code class="codeph">sum_squares</code>函数不验证接收值的数据类型。它仅用作演示，并依赖于TO_NUMBER来获取存储在SDO_RDF_TERM的VALUE_NAME字段中的数值。</p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-87FC6170-3247-4926-B981-EC2672904845__CHDBDIAE">
                           <p class="titleinexample">例7-2 FILTER子句中使用的用户定义函数</p>
                           <p><a href="user-defined-inferencing.html#GUID-87FC6170-3247-4926-B981-EC2672904845__CHDBDIAE">例7-2</a>显示了FILTER子句中使用的<code class="codeph">sum_squares</code>函数（来自<a href="user-defined-inferencing.html#GUID-87FC6170-3247-4926-B981-EC2672904845__CHDJEJBI">例7-1</a> ）。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT s，o FROM table（sem_match（'SELECT？'s？在哪里{？s？p？o <span class="bold">FILTER（&lt;http://xmlns.oracle.com/rdf/extensions/schema.sum_squares&gt;（？o，？o）&gt; 2）}'</span> ，sem_models（'MYMODEL'），null，null，null，null， ''））;</pre><p><a href="user-defined-inferencing.html#GUID-87FC6170-3247-4926-B981-EC2672904845__CHDBDIAE">例7-2中</a>的查询返回以下结果：</p><pre class="oac_no_warn" dir="ltr">所以-------------------- -------------------- b 1.5 c 3 d 4</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-87FC6170-3247-4926-B981-EC2672904845__CHDECBEC">
                           <p class="titleinexample">例7-3 SELECT表达式中使用的用户定义函数</p>
                           <p><a href="user-defined-inferencing.html#GUID-87FC6170-3247-4926-B981-EC2672904845__CHDECBEC">例7-3</a>显示了SELECT子句中表达式中使用的<code class="codeph">sum_squares</code>函数（来自<a href="user-defined-inferencing.html#GUID-87FC6170-3247-4926-B981-EC2672904845__CHDJEJBI">例7-1</a> ）。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT s，o，sqr_sum FROM table（sem_match（'SELECT？'s？o <span class="bold">（&lt;http://xmlns.oracle.com/rdf/extensions/schema.sum_squares&gt;（？o，？o）AS</span> <span class="bold">？sqr_sum）</span> WHERE {？s？p？o}'，sem_models（'MYMODEL'），null，null，null，null，''））;</pre><p><a href="user-defined-inferencing.html#GUID-87FC6170-3247-4926-B981-EC2672904845__CHDECBEC">例7-3中</a>的查询返回以下结果：</p><pre class="oac_no_warn" dir="ltr">所以sqr_sum -------------------- -------------------- -------- ------------ a 1 2 b 1.5 4.5 c 3 18 d 4 32</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-87FC6170-3247-4926-B981-EC2672904845__CHDHIJBD">
                           <p class="titleinexample">例7-4 BIND操作中使用的用户定义函数</p>
                           <p><a href="user-defined-inferencing.html#GUID-87FC6170-3247-4926-B981-EC2672904845__CHDHIJBD">例7-4</a>显示了BIND操作中使用的<code class="codeph">sum_squares</code>函数（来自<a href="user-defined-inferencing.html#GUID-87FC6170-3247-4926-B981-EC2672904845__CHDJEJBI">例7-1</a> ）。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT s，o，sqr_sum FROM table（sem_match（'SELECT？'s？o？sqr_sum WHERE {？s？p？o。
 <span class="bold">BIND（&lt;http://xmlns.oracle.com/rdf/extensions/schema.sum_squares&gt;（？o，？o）AS</span> <span class="bold">？sqr_sum）}'</span> ，sem_models（'MYMODEL'），null，null，null，null，''））;</pre><p><a href="user-defined-inferencing.html#GUID-87FC6170-3247-4926-B981-EC2672904845__CHDHIJBD">例7-4中</a>的查询返回以下结果：</p><pre class="oac_no_warn" dir="ltr">所以sqr_sum -------------------- -------------------- -------- ------------ a 1 2 b 1.5 4.5 c 3 18 d 4 32</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-7DE220CA-29F0-42FE-A8AB-C13C1998F74F">用户定义函数的API支持</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="RDFRM545"></a><div class="props_rev_3"><a id="GUID-C4701D88-D700-4F89-A28A-BE777BFC31BE" name="GUID-C4701D88-D700-4F89-A28A-BE777BFC31BE"></a><h4 id="RDFRM-GUID-C4701D88-D700-4F89-A28A-BE777BFC31BE" class="sect4"><span class="enumeration_section">7.2.3</span>用户定义聚合的API支持</h4>
                  <div>
                     <p>用户定义的聚合是通过定义实现一组接口方法的PL / SQL对象类型来实现的。创建用户定义的聚合后，将使用特定的URI来调用它。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-842124C0-686B-447A-9B69-63DB8F13D8AE">ODCIAggregate接口</a><br></li>
                        <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-9AF96B10-4D81-4CB8-8FB4-D4FAB29D553A">调用用户定义的聚合</a><br></li>
                        <li class="ulchildlink"><a href="user-defined-inferencing.html#GUID-FEBC65D8-A766-4B4B-B894-5FFF47C7D24A">用户定义的聚合示例</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-26520C46-3A90-40AB-8403-140A82AC73CC" title="RDF语义图查询扩展体系结构使您能够通过SEM_MATCH表函数和Apache Jena支持添加要在SPARQL查询中使用的用户定义函数和聚合。">用户定义的函数和聚合</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="RDFRM546"></a><div class="props_rev_3"><a id="GUID-842124C0-686B-447A-9B69-63DB8F13D8AE" name="GUID-842124C0-686B-447A-9B69-63DB8F13D8AE"></a><h5 id="RDFRM-GUID-842124C0-686B-447A-9B69-63DB8F13D8AE" class="sect5"><span class="enumeration_section">7.2.3.1</span> ODCIAggregate接口</h5>
                     <div>
                        <p>用户定义的聚合使用<code class="codeph">ODCIAggregate</code> PL / SQL接口。有关此接口的更多详细信息，请参阅<a href="../addci/using-user-defined-aggregate-functions.html#ADDCI2120" target="_blank"><span class="italic">Oracle Database Dataridge Developer's Guide中</span></a>有关用户定义的聚合函数的章节。
                        </p>
                        <p><code class="codeph">ODCIAggregate</code>接口由PL / SQL对象类型实现，该类型实现了四个主要功能：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ODCIAggregateInitialize</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ODCIAggregateIterate</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ODCIAggregateMerge</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ODCIAggregateTerminate</code></p>
                           </li>
                        </ul>
                        <p>与用户定义的函数一样（在用户定义函数的<a href="user-defined-inferencing.html#GUID-7DE220CA-29F0-42FE-A8AB-C13C1998F74F">API支持中</a>描述），用户定义的聚合接收任意数量的RDF术语参数，这些参数作为SDO_RDF_TERM_LIST对象传入，并返回单个RDF术语值，即表示为SDO_RDF_TERM对象。
                        </p>
                        <p>此方案导致PL / SQL <code class="codeph">ODCIAggregate</code>接口函数的以下签名（ <span class="italic">my_aggregate_obj_type</span>表示实际的对象类型名称）：</p><pre class="oac_no_warn" dir="ltr">静态函数ODCIAggregateInitialize（sctx IN OUT <span class="italic">my_aggregate_obj_type）RETURN</span> NUMBER成员函数ODCIAggregateIterate（自IN OUT <span class="italic">my_aggregate_obj_type，</span>值IN MDSYS.SDO_RDF_TERM_LIST）RETURN NUMBER成员函数ODCIAggregateMerge（自IN OUT <span class="italic">my_aggregate_obj_type，ctx2</span> IN <span class="italic">my_aggregate_obj_type）RETURN</span> NUMBER成员函数ODCIAggregateTerminate（自IN <span class="italic">my_aggregate_obj_type</span> ，return_value OUT MDSYS.SDO_RDF_TERM，标记IN NUMBER）返回编号</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-C4701D88-D700-4F89-A28A-BE777BFC31BE">用户定义聚合的API支持</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM547"></a><div class="props_rev_3"><a id="GUID-9AF96B10-4D81-4CB8-8FB4-D4FAB29D553A" name="GUID-9AF96B10-4D81-4CB8-8FB4-D4FAB29D553A"></a><h5 id="RDFRM-GUID-9AF96B10-4D81-4CB8-8FB4-D4FAB29D553A" class="sect5"><span class="enumeration_section">7.2.3.2</span>调用用户定义的聚合</h5>
                     <div>
                        <p>在PL / SQL中实现用户定义的聚合之后，可以通过引用从前缀<code class="codeph">&lt;http://xmlns.oracle.com/rdf/aggExtensions/&gt;</code>后跟<span class="italic"><code class="codeph">schema_name.aggregate_name</code></span>构造的聚合URI从SPARQL查询调用它。 <span class="italic"><code class="codeph">schema_name.aggregate_name</code></span> 。以下是聚合URI的示例：</p><pre class="oac_no_warn" dir="ltr">&lt;http://xmlns.oracle.com/rdf/aggExtensions/schema.my_aggregate&gt;（arg_1，...，arg_n）</pre><p>DISTINCT修饰符可与用户定义的聚合一起使用，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">&lt;http://xmlns.oracle.com/rdf/aggExtensions/schema.my_aggregate&gt;（DISTINCT arg_1）</pre><p>在这种情况下，只将不同的参数值传递给聚合。但请注意，DISTINCT修饰符只能与具有一个参数的聚合一起使用。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-C4701D88-D700-4F89-A28A-BE777BFC31BE">用户定义聚合的API支持</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM549"></a><a id="RDFRM553"></a><a id="RDFRM554"></a><a id="RDFRM548"></a><div class="props_rev_3"><a id="GUID-FEBC65D8-A766-4B4B-B894-5FFF47C7D24A" name="GUID-FEBC65D8-A766-4B4B-B894-5FFF47C7D24A"></a><h5 id="RDFRM-GUID-FEBC65D8-A766-4B4B-B894-5FFF47C7D24A" class="sect5"><span class="enumeration_section">7.2.3.3</span>用户定义的聚合示例</h5>
                     <div>
                        <p>本节介绍实现和使用用户定义聚合的示例。对于这些示例，假设此处以N-triple格式呈现的以下数据存在于名为<code class="codeph">MYMODEL</code>的模型中：</p><pre class="oac_no_warn" dir="ltr">&lt;a&gt; &lt;p&gt;“1.0”^^ xsd：double。&lt;b&gt; &lt;p&gt;“1.5”^^ xsd：float。&lt;c&gt; &lt;p&gt;“3”^^ xsd：decimal。&lt;c&gt; &lt;p&gt;“4”^^ xsd：decimal。&lt;d&gt; &lt;p&gt;“4”^^ xsd：string。
</pre><div class="example" id="GUID-FEBC65D8-A766-4B4B-B894-5FFF47C7D24A__CHDCJHHJ">
                           <p class="titleinexample">示例7-5用户定义的聚合实现</p>
                           <p><a href="user-defined-inferencing.html#GUID-FEBC65D8-A766-4B4B-B894-5FFF47C7D24A__CHDCJHHJ">例7-5</a>显示了一个简单的用户定义聚合（ <code class="codeph">countSameType</code> ）的实现。这个聚合有两个参数：第一个是任何RDF术语，第二个是常量数据类型URI。聚合计算来自第一个参数位置的RDF项的数量等于第二个参数的数据类型。
                           </p><pre class="oac_no_warn" dir="ltr">- 聚合类型创建CREATE OR REPLACE TYPE countSameType authid current_user AS OBJECT（count NUMBER， - 用于存储相同类型术语数的变量。- 聚合的强制函数STATIC FUNCTION ODCIAggregateInitialize（sctx IN OUT countSameType）返回编号，成员函数ODCIAggregateIterate（自IN输出countSameType，值IN MDSYS.SDO_RDF_TERM_LIST）返回编号，成员函数ODCIAggregateMerge（自IN输出countSameType，ctx2 IN countSameType）返回NUMBER，MEMBER FUNCTION ODCIAggregateTerminate（自我IN countSameType，return_value OUT MDSYS.SDO_RDF_TERM，标记IN NUMBER）返回数字）; /显示错误; - 用户定义聚合的接口函数CREATE OR REPLACE FUNCTION countSameAs（输入MDSYS.SDO_RDF_TERM_LIST）使用countSameType返回MDSYS.SDO_RDF_TERM PARALLEL_ENABLE AGGREGATE; /显示错误; - 用户定义的聚合体CREATE OR REPLACE TYPE BODY countSameType IS静态函数ODCIAggregateInitialize（sctx IN OUT countSameType）返回数字是BEGIN sctx：= countSameType（0）; - 聚合初始化RETURN ODCIConst。成功;结束;成员函数ODCIAggregateIterate（自IN OUT countSameType，值IN MDSYS.SDO_RDF_TERM_LIST）RETURN NUMBER IS BEGIN  - 如果第一个参数具有文字类型，则递增计数 -  URI等于第二个参数IF的值（value（1）.literal_type = value（2）.value_name）那么self.count：= self.count + 1;万一;返回ODCIConst。成功;结束;成员函数ODCIAggregateMerge（自IN OUT countSameType，ctx2 IN countSameType）返回NUMBER IS BEGIN  - 合并并行线程的总计数。self.count：= self.count + ctx2.count;返回ODCIConst。成功;结束;成员函数ODCIAggregateTerminate（自我IN countSameType，return_value OUT MDSYS.SDO_RDF_TERM，标记IN NUMBER）返回NUMBER是BEGIN  - 设置返回值return_value：= MDSYS.SDO_RDF_TERM（'LIT'，to_char（self.count），'http：/ /www.w3.org/2001/XMLSchema#decimal',NULL,NULL）;返回ODCIConst。成功;结束;结束; /显示错误;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-FEBC65D8-A766-4B4B-B894-5FFF47C7D24A__CHDIAJJI">
                           <p class="titleinexample">示例7-6在没有GROUP BY子句的情况下使用的用户定义聚合</p>
                           <p><a href="user-defined-inferencing.html#GUID-FEBC65D8-A766-4B4B-B894-5FFF47C7D24A__CHDIAJJI">例7-6</a>显示了在整个查询结果组中使用的<code class="codeph">countSameType</code>聚合（来自<a href="user-defined-inferencing.html#GUID-FEBC65D8-A766-4B4B-B894-5FFF47C7D24A__CHDCJHHJ">例7-5</a> ）。
                           </p><pre class="oac_no_warn" dir="ltr">FROM o from table（sem_match（'SELECT（ <span class="bold">&lt;http://xmlns.oracle.com/rdf/aggExtensions/schema.countSameType&gt;（？o，xsd：decimal）</span> AS？o）在哪里{？s？p？o}'，sem_models（'MYMODEL'），null，null，null，null，''））;</pre><p><a href="user-defined-inferencing.html#GUID-FEBC65D8-A766-4B4B-B894-5FFF47C7D24A__CHDIAJJI">例7-6中</a>的查询返回以下结果：</p><pre class="oac_no_warn" dir="ltr">o -------------------- 2</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-FEBC65D8-A766-4B4B-B894-5FFF47C7D24A__CHDHFBHJ">
                           <p class="titleinexample">示例7-7与GROUP BY子句一起使用的用户定义聚合</p>
                           <p><a href="user-defined-inferencing.html#GUID-FEBC65D8-A766-4B4B-B894-5FFF47C7D24A__CHDHFBHJ">例7-7</a>显示了在GROUP BY子句形成的<code class="codeph">countSameType</code>中使用的<code class="codeph">countSameType</code>聚合（来自<a href="user-defined-inferencing.html#GUID-FEBC65D8-A766-4B4B-B894-5FFF47C7D24A__CHDCJHHJ">例7-5</a> ）。
                           </p><pre class="oac_no_warn" dir="ltr">从表中选择s，o（sem_match（'SELECT？s（ <span class="bold">&lt;http://xmlns.oracle.com/rdf/aggExtensions/schema.countSameType&gt;（？o，xsd：decimal）</span> AS？o）在哪里{？s？p？o} <span class="bold">GROUP BY？s'</span> ，sem_models（'MYMODEL'），null，null，null，null，''））;</pre><p><a href="user-defined-inferencing.html#GUID-FEBC65D8-A766-4B4B-B894-5FFF47C7D24A__CHDHFBHJ">例7-7中</a>的查询返回以下结果：</p><pre class="oac_no_warn" dir="ltr">所以-------------------- -------------------- a 0 b 0 c 2 d 0</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="user-defined-inferencing.html#GUID-C4701D88-D700-4F89-A28A-BE777BFC31BE">用户定义聚合的API支持</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="10532.Data-Type-Comparison-Rules.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>数据类型比较规则</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="Data-Types.html" title="Previous" type="text/html"></link>
      <link rel="next" href="Literals.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Data-Types.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="Literals.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Basic-Elements-of-Oracle-SQL.html" property="item" typeof="WebPage"><span property="name">Oracle SQL的基本元素</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">数据类型比较规则</li>
            </ol>
            <a id="GUID-1563C817-86BF-430B-99AB-322EE2E29187" name="GUID-1563C817-86BF-430B-99AB-322EE2E29187"></a><a id="SQLRF30027"></a>
            
            <h2 id="SQLRF-GUID-1563C817-86BF-430B-99AB-322EE2E29187" class="sect2">数据类型比较规则</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='Data-Type-Comparison-Rules'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <div class="section">
                  <p>本节介绍Oracle数据库如何比较每种数据类型的值。</p>
               </div>
               <!-- class="section" -->
            </div><a id="SQLRF51036"></a><div class="props_rev_3"><a id="GUID-84DD4733-168C-4C67-BE9A-E4B12B3BA14C" name="GUID-84DD4733-168C-4C67-BE9A-E4B12B3BA14C"></a><h3 id="SQLRF-GUID-84DD4733-168C-4C67-BE9A-E4B12B3BA14C" class="sect3">数字值</h3>
               <div>
                  <div class="section">
                     <p>较大的值被认为大于较小的值。所有负数均小于零且均为正数。因此，-1小于100; -100小于-1。</p>
                     <p>浮点值<code class="codeph">NaN</code> （不是数字）大于任何其他数值并且等于它自己。
                     </p>
                     <div class="infoboxnotealso" id="GUID-84DD4733-168C-4C67-BE9A-E4B12B3BA14C__GUID-2FF39CCD-1738-4462-A74E-3B1D4AB960BB">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="Data-Types.html#GUID-4C0B65DB-E751-4957-A1ED-5044BAFA7812">数字优先级</a>和<a href="Data-Types.html#GUID-F579F4B8-EF13-4CAF-9B06-03B076861C41">浮点数</a> ，以获取有关比较语义的更多信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF51037"></a><div class="props_rev_3"><a id="GUID-DAF46B4C-58C3-468B-8C16-3EFCF363ADB5" name="GUID-DAF46B4C-58C3-468B-8C16-3EFCF363ADB5"></a><h3 id="SQLRF-GUID-DAF46B4C-58C3-468B-8C16-3EFCF363ADB5" class="sect3">日期时间值</h3>
               <div>
                  <div class="section">
                     <p>较晚的日期或时间戳被认为大于较早的日期或时间戳。例如，相当于'29 -MAR-2005'的日期小于'05 -JAN-2006'的日期，相当于'05 -JAN-2006 1:35 pm'的时间戳大于'05 -JAN的日期-2005 10:09 am'。</p>
                     <p>当比较具有时区的两个时间戳时，它们首先被标准化为UTC，即，到时区偏移'+00：00'。例如，时区的时间戳等于'16 -OCT-2016上午05:59欧洲/华沙'等于'15 -OCT-2016 08:59 pm US / Pacific'。两者都代表相同的绝对时间点，以UTC表示2016年10月16日，上午03:59。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-0F560FC8-3ADF-4AFD-87BA-E4673EFEE9FA" name="GUID-0F560FC8-3ADF-4AFD-87BA-E4673EFEE9FA"></a><h3 id="SQLRF-GUID-0F560FC8-3ADF-4AFD-87BA-E4673EFEE9FA" class="sect3">二元值</h3>
               <div>
                  <div class="section">
                     <p>数据类型<code class="codeph">RAW</code>或<code class="codeph">BLOB</code>二进制值是字节序列。当比较两个二进制值时，依次比较两个字节序列的相应的连续字节。如果两个比较值的第一个字节不同，则包含具有较低数值的字节的二进制值被视为较小。如果第一个字节相等，则类似地比较第二个字节，依此类推，直到比较的字节不同或比较过程到达其中一个值的末尾。在后一种情况下，较短的值被认为较小。
                     </p>
                     <p>在比较条件下，不能直接比较数据类型<code class="codeph">BLOB</code>二进制值。但是，它们可以与PL / SQL函数<code class="codeph">DBMS_LOB</code>进行比较。 <code class="codeph">COMPARE</code> 。</p>
                     <div class="infoboxnotealso" id="GUID-0F560FC8-3ADF-4AFD-87BA-E4673EFEE9FA__GUID-5F98B406-B08F-4533-91E7-54A5D5166924">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">DBMS_LOB</code>更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ARPLS-GUID-A35DE03B-41A6-4E55-8CDE-77737FED9306" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a> 。 <code class="codeph">COMPARE</code>功能</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF51039"></a><a id="SQLRF51040"></a><a id="SQLRF51041"></a><a id="SQLRF51042"></a><a id="SQLRF51038"></a><div class="props_rev_3"><a id="GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C" name="GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C"></a><h3 id="SQLRF-GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C" class="sect3">人物价值观</h3>
               <div>
                  <div class="section">
                     <p>在两个度量的基础上比较字符值：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>二进制或语言校对</p>
                        </li>
                        <li>
                           <p>空白填充或非填充比较语义</p>
                        </li>
                     </ul>
                     <p>以下小节描述了这两项措施。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C__GUID-F8A3984F-15C7-4B6F-8D1D-A43F1E964B77">二进制和语言整理</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>在二进制排序规则（默认情况下）中，Oracle会比较二进制值之类的字符值。形成两个字符值的编码在它们的存储的字符集的字节两个序列被视为二进制值和如上述比较<a href="Data-Type-Comparison-Rules.html#GUID-0F560FC8-3ADF-4AFD-87BA-E4673EFEE9FA">二进制值</a> 。作为源字符值的二进制比较结果返回该比较的结果。
                     </p>
                     <div class="infoboxnotealso" id="GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C__GUID-EB3D7245-12EE-4D31-9761-D212C1A15CDA">
                        <p class="notep1">也可以看看：</p>
                        <p>有关字符集的更多信息，请<a href="../nlspg/choosing-character-set.html#NLSPG-GUID-BF26E01D-AB92-48FC-855A-69A5B3AF9A92" target="_blank"><span><cite>参见“Oracle数据库全球化支持指南</cite></span></a></p>
                     </div>
                     <p>对于许多语言，二进制排序规则可能会在语言上产生不正确的字符值排序。例如，在大多数常见字符集中，所有大写拉丁字母都具有低于所有小写拉丁字母的字符代码。因此，二进制排序规则产生以下顺序：</p><pre class="pre codeblock"><code>MacDonald MacIntosh Macdonald Macintosh</code></pre><p>但是，大多数用户希望按顺序显示这四个值：</p><pre class="pre codeblock"><code>MacDonald Macdonald MacIntosh Macintosh</code></pre><p>这表明即使对于英文字符值，二进制校对也可能不合适。</p>
                     <p>Oracle数据库支持语言归类，根据各种口语规则对字符串进行排序。它还支持与大小写和重音不敏感的字符值匹配的排序规则变体。语言校对更昂贵，但它们提供卓越的用户体验。</p>
                     <div class="infoboxnotealso" id="GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C__ORACLEDATABASEGLOBALIZATIONSUPPORTG-34B58A18">
                        <p class="notep1">也可以看看：</p>
                        <p>有关语言排序的更多信息，请参见<a href="../nlspg/linguistic-sorting-and-matching.html#NLSPG005" target="_blank"><span><cite>“Oracle数据库全球化支持指南”</cite></span></a></p>
                     </div>
                     <p id="GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C__P-13310-66248F0B"><span class="bold">语言校对的限制</span></p>
                     <p>比较条件， <code class="codeph">ORDER</code> <code class="codeph">BY</code> ， <code class="codeph">GROUP</code> <code class="codeph">BY</code>和<code class="codeph">MATCH_RECOGNIZE</code>查询子句， <code class="codeph">COUNT(DISTINCT)</code>和统计聚合函数， <code class="codeph">LIKE</code>条件以及<code class="codeph">ORDER</code> <code class="codeph">BY</code>和<code class="codeph">PARTITION</code> <code class="codeph">BY</code>分析子句在使用语言归类时生成归类键。排序规则键与<code class="codeph">NLSSORT</code>函数返回的值相同，并受<a href="NLSSORT.html#GUID-781C6FE8-0924-4617-AECB-EE40DE45096D">NLSSORT</a>中描述的相同限制。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C__BABJBDGB">
                     <p class="subhead2" id="GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C__GUID-6F832501-CBAF-4F38-B737-1A4BFEEC7C07">空白填充和非填充比较语义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>使用空白填充语义，如果两个值具有不同的长度，则Oracle首先将空白添加到较短值的末尾，以使它们的长度相等。然后，Oracle将逐个字符的值与不同的第一个字符进行比较。在第一个不同位置具有较大字符的值被认为更大。如果两个值没有不同的字符，那么它们被认为是相等的。此规则意味着如果两个值仅在尾随空白的数量上不同，则它们是相等的。仅当比较中的两个值都是数据类型<code class="codeph">CHAR</code> ， <code class="codeph">NCHAR</code> ，文本文字或<code class="codeph">USER</code>函数返回的值的表达式时，Oracle才使用空白填充比较语义。
                     </p>
                     <p>使用非填充语义，Oracle会逐个字符地比较两个值，直到不同的第一个字符。在该位置具有更大字符的值被认为更大。如果两个不同长度的值相同，直到较短值的末尾，那么较长的值被认为更大。如果两个相等长度的值没有不同的字符，那么这些值被认为是相等的。只要比较中的一个或两个值具有数据类型<code class="codeph">VARCHAR2</code>或<code class="codeph">NVARCHAR2</code> Oracle就会使用非填充比较语义。
                     </p>
                     <p>使用不同比较语义比较两个字符值的结果可能会有所不同。下表显示了使用每种比较语义比较五对字符值的结果。通常，空白填充和非填充比较的结果是相同的。表中的最后一个比较说明了空白填充和非填充比较语义之间的差异。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C__GUID-0AD46AEA-2B05-425C-87B6-A99AB54668A6">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The two columns show the relationship between two simple strings using blank-padded and nonpadded character semantics, respectively." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="50%" id="d30929e796">空白填补</th>
                              <th align="left" valign="bottom" width="50%" id="d30929e799">Nonpadded</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d30929e804" headers="d30929e796 ">
                                 <p><code class="codeph">'ac'&gt;'ab'</code></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d30929e804 d30929e799 ">
                                 <p><code class="codeph">'ac'&gt;'ab'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d30929e813" headers="d30929e796 ">
                                 <p><code class="codeph">'ab'&gt;'a'</code></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d30929e813 d30929e799 ">
                                 <p><code class="codeph">'ab'&gt;'a'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d30929e822" headers="d30929e796 ">
                                 <p><code class="codeph">'ab'&gt;'a'</code></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d30929e822 d30929e799 ">
                                 <p><code class="codeph">'ab'&gt;'a'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d30929e831" headers="d30929e796 ">
                                 <p><code class="codeph">'ab'='ab'</code></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d30929e831 d30929e799 ">
                                 <p><code class="codeph">'ab'='ab'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d30929e840" headers="d30929e796 ">
                                 <p><span class="bold"><code class="codeph">'a'='a'</code></span></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d30929e840 d30929e799 ">
                                 <p><span class="bold"><code class="codeph">'a'&gt;'a'</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section" id="GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C__COLUMN-LEVELCOLLATIONANDCASE-INSENS-5F6AE920">
                     <p class="subhead2" id="GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C__GUID-375AFEAC-6F9C-4F43-8B6F-E0C2B7A3C746">数据绑定整理</p>
                     <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，在比较或匹配给定字符值时使用的排序规则与值本身相关联。它被称为<span class="bold">数据绑定排序规则</span> 。可以将数据绑定的排序规则视为值的数据类型的属性。
                     </p>
                     <p>在以前的Oracle数据库发行版中，会话参数<code class="codeph">NLS_COMP</code>和<code class="codeph">NLS_SORT</code>粗略地确定了数据库会话中所有对排序规则敏感的SQL操作的排序规则。数据绑定的排序规则体系结构使应用程序能够始终如一地将特定于语言的比较规则应用于需要这些规则的数据。
                     </p>
                     <p>Oracle Database 12 <span class="italic">c</span>第2版（12.2）允许您为表列声明排序规则。将列作为参数传递给排序规则敏感的SQL操作时，SQL操作使用列的声明排序规则来处理列的值。如果SQL操作具有多个彼此进行比较的字符参数，则<span class="bold">排序规则</span>确定<span class="bold">规则将</span>确定要使用的<span class="bold">排序规则</span> 。
                     </p>
                     <p>有两种类型的数据绑定排序规则：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>命名排序规则：此排序规则是排序规则名称指定的一组特定排序规则。命名的排序规则与指定为<code class="codeph">NLS_SORT</code>参数的值的排序规则相同。命名的排序规则可以是二进制排序规则或语言排序规则。
                           </p>
                        </li>
                        <li>
                           <p>伪排序：此排序规则不直接指定SQL操作的排序规则。相反，它指示操作检查会话参数<code class="codeph">NLS_SORT</code>和<code class="codeph">NLS_COMP</code>的值，以查找要使用的实际命名排序规则。伪归类是指定归类的新声明方法和使用会话参数的旧方法之间的桥梁。特别是，伪排序<code class="codeph">USING_NLS_COMP</code>指示SQL操作的行为与Oracle Database 12 <span class="italic">c</span>第2版之前的行为完全相同。
                           </p>
                        </li>
                     </ul>
                     <p>声明列的命名排序规则时，将静态确定列值的比较方式。声明伪排序规则时，可以使用会话参数<code class="codeph">NLS_COMP</code>和<code class="codeph">NLS_SORT</code>动态控制比较行为。但是，在使用伪排序规则声明的列上定义的静态对象（如索引和约束）将回退到使用二进制排序规则。动态可设置的整理规则不能用于比较静态对象的值。
                     </p>
                     <p>表达式中使用的字符文字或绑定变量的排序规则派生自包含表达式的数据库对象的默认排序规则，例如视图或物化视图查询，PL / SQL存储单元代码，用户定义类型方法代码，或独立的DML或查询语句。在Oracle Database 12 <span class="italic">c</span>第2版中，PL / SQL存储单元，用户定义类型方法和独立SQL语句的默认排序规则始终是伪排序<code class="codeph">USING_NLS_COMP</code> 。可以在<code class="codeph">CREATE</code> <code class="codeph">VIEW</code>和<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句的<code class="codeph">DEFAULT</code> <code class="codeph">COLLATION</code>子句中指定视图和物化视图的默认排序规则。
                     </p>
                     <p>如果SQL操作返回字符值，则<span class="bold">排序规则派生规则</span>确定结果的<span class="bold">派生排序</span> <span class="bold">规则</span> ，以便在将结果作为参数传递给表达式树中的另一个排序规则敏感的SQL操作或顶部时，将其排序规则知晓级别使用者，例如<code class="codeph">SELECT</code>语句中的SQL语句子句。如果SQL操作对字符参数值进行操作，则其字符结果的派生排序规则基于参数的排序规则。否则，派生规则与字符文字相同。
                     </p>
                     <p>您可以使用<code class="codeph">COLLATE</code>运算符覆盖表达式节点的派生排序规则，例如简单表达式或运算符结果。
                     </p>
                     <p>Oracle数据库允许您为列，表或模式声明不区分大小写的排序规则，以便始终以不区分大小写的方式比较表或模式中的列或所有字符列。</p>
                     <div class="infoboxnotealso" id="GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C__GUID-CED5CABC-B87A-43C1-8759-E5089254BFFE">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../nlspg/linguistic-sorting-and-matching.html#NLSPG-GUID-7E70C5D5-82E1-4BA6-8DF8-01E365B202C2" target="_blank"><span><cite>“Oracle数据库全球化支持指南”</cite></span></a> ，了解有关数据绑定排序规则体系结构的更多信息，包括详细的排序规则派生和确定规则</p>
                           </li>
                           <li>
                              <p><a href="COLLATE-Operator.html#GUID-1B8CE3B0-77FC-455C-8400-6F81CF188D7B">COLLATE运营商</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF51043"></a><div class="props_rev_3"><a id="GUID-F29BC3C8-11FF-4712-97F3-C7F0487C0D09" name="GUID-F29BC3C8-11FF-4712-97F3-C7F0487C0D09"></a><h3 id="SQLRF-GUID-F29BC3C8-11FF-4712-97F3-C7F0487C0D09" class="sect3">对象值</h3>
               <div>
                  <div class="section">
                     <p>使用两个比较函数之一比较对象值： <code class="codeph">MAP</code>和<code class="codeph">ORDER</code> 。两个函数都比较对象类型实例，但它们彼此完全不同。必须将这些函数指定为将与其他对象类型进行比较的任何对象类型的一部分。
                     </p>
                     <div class="infoboxnotealso" id="GUID-F29BC3C8-11FF-4712-97F3-C7F0487C0D09__GUID-A12492B2-FAEC-4F6D-B8C4-C148FF221F81">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="CREATE-TYPE.html#GUID-E72E3EE6-DE95-4F58-8941-E2F76D0EAE80">CREATE TYPE</a>用于<code class="codeph">MAP</code>和<code class="codeph">ORDER</code>方法的描述以及它们返回的值</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF51044"></a><div class="props_rev_3"><a id="GUID-E3D9DEDA-DEE7-4C35-A4F3-C113634F9BF2" name="GUID-E3D9DEDA-DEE7-4C35-A4F3-C113634F9BF2"></a><h3 id="SQLRF-GUID-E3D9DEDA-DEE7-4C35-A4F3-C113634F9BF2" class="sect3">Varrays和嵌套表</h3>
               <div>
                  <div class="section">
                     <p>比较<a href="Comparison-Conditions.html#GUID-828576BF-E606-4EA6-B94B-BFF48B67F927">条件中</a>描述了嵌套表的<a href="Comparison-Conditions.html#GUID-828576BF-E606-4EA6-B94B-BFF48B67F927">比较</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF51045"></a><div class="props_rev_3"><a id="GUID-82C9B166-5850-48F5-B3ED-BB82B3631407" name="GUID-82C9B166-5850-48F5-B3ED-BB82B3631407"></a><h3 id="SQLRF-GUID-82C9B166-5850-48F5-B3ED-BB82B3631407" class="sect3">数据类型优先级</h3>
               <div>
                  <div class="section">
                     <p>Oracle使用数据类型优先级来确定隐式数据类型转换，这将在下面的部分中讨论。Oracle数据类型具有以下优先级：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>日期时间和间隔数据类型</p>
                        </li>
                        <li>
                           <p><code class="codeph">BINARY_DOUBLE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">BINARY_FLOAT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">数</code></p>
                        </li>
                        <li>
                           <p>字符数据类型</p>
                        </li>
                        <li>
                           <p>所有其他内置数据类型</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF00214"></a><div class="props_rev_3"><a id="GUID-6DB331B5-0F34-4215-9A20-16AEA9D7FF4B" name="GUID-6DB331B5-0F34-4215-9A20-16AEA9D7FF4B"></a><h3 id="SQLRF-GUID-6DB331B5-0F34-4215-9A20-16AEA9D7FF4B" class="sect3">数据转换</h3>
               <div>
                  <div class="section">
                     <p>通常，表达式不能包含不同数据类型的值。例如，表达式不能将5乘以10，然后添加“JAMES”。但是，Oracle支持将值从一种数据类型隐式和显式转换为另一种数据类型。</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="SQLRF51046"></a><div class="props_rev_3"><a id="GUID-4C49C87F-F170-43CC-9EDC-2403576610DF" name="GUID-4C49C87F-F170-43CC-9EDC-2403576610DF"></a><h4 id="SQLRF-GUID-4C49C87F-F170-43CC-9EDC-2403576610DF" class="sect4">隐式和显式数据转换</h4>
                  <div>
                     <div class="section">
                        <p>Oracle建议您指定显式转换，而不是依赖隐式或自动转换，原因如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用显式数据类型转换函数时，SQL语句更易于理解。</p>
                           </li>
                           <li>
                              <p>隐式数据类型转换可能会对性能产生负面影响，尤其是当列值的数据类型转换为常量的数据类型而不是相反时。</p>
                           </li>
                           <li>
                              <p>隐式转换取决于它发生的上下文，并且在每种情况下可能无法以相同的方式工作。例如，从datetime值到<code class="codeph">VARCHAR2</code>值的隐式转换可能会返回意外的年份，具体取决于<code class="codeph">NLS_DATE_FORMAT</code>参数的值。
                              </p>
                           </li>
                           <li>
                              <p>隐式转换的算法可能会在软件版本和Oracle产品之间发生变化。显式转换的行为更具可预测性。</p>
                           </li>
                           <li>
                              <p>如果在索引表达式中发生隐式数据类型转换，则Oracle数据库可能不使用索引，因为它是为转换前数据类型定义的。这可能会对性能产生负面影响。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SQLRF51048"></a><a id="SQLRF51049"></a><a id="SQLRF51047"></a><div class="props_rev_3"><a id="GUID-98BE3A78-6E33-4181-B5CB-D96FD9DC1694" name="GUID-98BE3A78-6E33-4181-B5CB-D96FD9DC1694"></a><h4 id="SQLRF-GUID-98BE3A78-6E33-4181-B5CB-D96FD9DC1694" class="sect4">隐式数据转换</h4>
                  <div>
                     <div class="section">
                        <p>当这种转换有意义时，Oracle数据库会自动将值从一种数据类型转换为另一种数据类型。</p>
                        <p><a href="Data-Type-Comparison-Rules.html#GUID-98BE3A78-6E33-4181-B5CB-D96FD9DC1694__G195937" title="此矩阵列出了每个后续列的第一列和标题单元格中的数据类型。单元格中的X表示在该列的标题和该行的第1列中指定的数据类型的隐式转换。">表2-8</a>是Oracle隐式转换的矩阵。该表显示了所有可能的转换，而不考虑转换的方向或转换的上下文。管理这些细节的规则如下表所示。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformalwide" id="GUID-98BE3A78-6E33-4181-B5CB-D96FD9DC1694__G195937">
                        <p class="titleintable">表2-8隐式类型转换矩阵</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="隐式类型转换矩阵" width="100%" border="1" summary="This matrix lists the data types in the first column and in the header cell for each subsequent column. An X in a cell indicates implicit conversion of the data types named in the header of that column and column 1 of that row." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="11%" id="d30929e1848">数据类型</th>
                                 <th align="left" valign="bottom" width="6%" id="d30929e1853">CHAR</th>
                                 <th align="left" valign="bottom" width="6%" id="d30929e1856">VARCHAR2</th>
                                 <th align="left" valign="bottom" width="6%" id="d30929e1859">NCHAR</th>
                                 <th align="left" valign="bottom" width="6%" id="d30929e1862">NVARCHAR2</th>
                                 <th align="left" valign="bottom" width="6%" id="d30929e1865">日期</th>
                                 <th align="left" valign="bottom" width="6%" id="d30929e1868">DATETIME /间隔</th>
                                 <th align="left" valign="bottom" width="6%" id="d30929e1873">数</th>
                                 <th align="left" valign="bottom" width="6%" id="d30929e1876">BINARY_FLOAT</th>
                                 <th align="left" valign="bottom" width="6%" id="d30929e1879">BINARY_DOUBLE</th>
                                 <th align="left" valign="bottom" width="6%" id="d30929e1882">长</th>
                                 <th align="left" valign="bottom" width="6%" id="d30929e1886">生的</th>
                                 <th align="left" valign="bottom" width="6%" id="d30929e1889">ROWID</th>
                                 <th align="left" valign="bottom" width="6%" id="d30929e1892">CLOB</th>
                                 <th align="left" valign="bottom" width="6%" id="d30929e1895">BLOB</th>
                                 <th align="left" valign="bottom" width="6%" id="d30929e1898">NCLOB</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d30929e1903" headers="d30929e1848 ">
                                    <p><span class="bold"><tt>CHAR</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1903 d30929e1853 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1903 d30929e1856 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1903 d30929e1859 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1903 d30929e1862 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1903 d30929e1865 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1903 d30929e1868 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1903 d30929e1873 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1903 d30929e1876 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1903 d30929e1879 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1903 d30929e1882 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1903 d30929e1886 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1903 d30929e1889 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1903 d30929e1892 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1903 d30929e1895 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1903 d30929e1898 ">
                                    <p>X</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d30929e1955" headers="d30929e1848 ">
                                    <p><span class="bold"><tt>VARCHAR2</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1955 d30929e1853 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1955 d30929e1856 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1955 d30929e1859 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1955 d30929e1862 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1955 d30929e1865 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1955 d30929e1868 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1955 d30929e1873 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1955 d30929e1876 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1955 d30929e1879 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1955 d30929e1882 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1955 d30929e1886 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1955 d30929e1889 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1955 d30929e1892 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1955 d30929e1895 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e1955 d30929e1898 ">
                                    <p>X</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d30929e2007" headers="d30929e1848 ">
                                    <p><span class="bold"><tt>NCHAR</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2007 d30929e1853 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2007 d30929e1856 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2007 d30929e1859 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2007 d30929e1862 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2007 d30929e1865 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2007 d30929e1868 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2007 d30929e1873 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2007 d30929e1876 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2007 d30929e1879 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2007 d30929e1882 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2007 d30929e1886 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2007 d30929e1889 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2007 d30929e1892 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2007 d30929e1895 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2007 d30929e1898 ">
                                    <p>X</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d30929e2059" headers="d30929e1848 ">
                                    <p><span class="bold"><tt>NVARCHAR2</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2059 d30929e1853 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2059 d30929e1856 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2059 d30929e1859 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2059 d30929e1862 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2059 d30929e1865 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2059 d30929e1868 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2059 d30929e1873 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2059 d30929e1876 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2059 d30929e1879 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2059 d30929e1882 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2059 d30929e1886 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2059 d30929e1889 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2059 d30929e1892 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2059 d30929e1895 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2059 d30929e1898 ">
                                    <p>X</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d30929e2111" headers="d30929e1848 ">
                                    <p><span class="bold"><tt>日期</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2111 d30929e1853 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2111 d30929e1856 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2111 d30929e1859 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2111 d30929e1862 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2111 d30929e1865 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2111 d30929e1868 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2111 d30929e1873 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2111 d30929e1876 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2111 d30929e1879 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2111 d30929e1882 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2111 d30929e1886 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2111 d30929e1889 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2111 d30929e1892 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2111 d30929e1895 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2111 d30929e1898 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d30929e2163" headers="d30929e1848 ">
                                    <p><span class="bold"><tt>DATETIME / INTERVAL</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2163 d30929e1853 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2163 d30929e1856 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2163 d30929e1859 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2163 d30929e1862 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2163 d30929e1865 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2163 d30929e1868 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2163 d30929e1873 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2163 d30929e1876 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2163 d30929e1879 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2163 d30929e1882 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2163 d30929e1886 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2163 d30929e1889 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2163 d30929e1892 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2163 d30929e1895 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2163 d30929e1898 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d30929e2215" headers="d30929e1848 ">
                                    <p><span class="bold"><tt>数</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2215 d30929e1853 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2215 d30929e1856 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2215 d30929e1859 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2215 d30929e1862 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2215 d30929e1865 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2215 d30929e1868 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2215 d30929e1873 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2215 d30929e1876 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2215 d30929e1879 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2215 d30929e1882 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2215 d30929e1886 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2215 d30929e1889 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2215 d30929e1892 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2215 d30929e1895 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2215 d30929e1898 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d30929e2267" headers="d30929e1848 ">
                                    <p><span class="bold"><tt>BINARY_FLOAT</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2267 d30929e1853 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2267 d30929e1856 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2267 d30929e1859 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2267 d30929e1862 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2267 d30929e1865 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2267 d30929e1868 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2267 d30929e1873 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2267 d30929e1876 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2267 d30929e1879 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2267 d30929e1882 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2267 d30929e1886 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2267 d30929e1889 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2267 d30929e1892 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2267 d30929e1895 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2267 d30929e1898 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d30929e2319" headers="d30929e1848 ">
                                    <p><span class="bold"><tt>BINARY_DOUBLE</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2319 d30929e1853 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2319 d30929e1856 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2319 d30929e1859 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2319 d30929e1862 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2319 d30929e1865 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2319 d30929e1868 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2319 d30929e1873 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2319 d30929e1876 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2319 d30929e1879 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2319 d30929e1882 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2319 d30929e1886 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2319 d30929e1889 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2319 d30929e1892 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2319 d30929e1895 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2319 d30929e1898 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d30929e2371" headers="d30929e1848 ">
                                    <p><span class="bold"><tt>长</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2371 d30929e1853 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2371 d30929e1856 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2371 d30929e1859 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2371 d30929e1862 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2371 d30929e1865 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2371 d30929e1868 ">
                                    <p>X <a id="fn_1" name="fn_1" href="#fn_1" value="" you="" cannot="" convert="" long="" to="" interval="" directly,="" but="" can="" varchar2="" using="" to_char(interval),="" and="" then="" the="" resulting="" interval=")" ="" onclick="footdisplay(1, "><sup>脚1</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2371 d30929e1873 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2371 d30929e1876 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2371 d30929e1879 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2371 d30929e1882 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2371 d30929e1886 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2371 d30929e1889 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2371 d30929e1892 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2371 d30929e1895 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2371 d30929e1898 ">
                                    <p>X</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d30929e2452" headers="d30929e1848 ">
                                    <p><span class="bold"><tt>生的</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2452 d30929e1853 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2452 d30929e1856 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2452 d30929e1859 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2452 d30929e1862 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2452 d30929e1865 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2452 d30929e1868 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2452 d30929e1873 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2452 d30929e1876 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2452 d30929e1879 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2452 d30929e1882 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2452 d30929e1886 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2452 d30929e1889 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2452 d30929e1892 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2452 d30929e1895 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2452 d30929e1898 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d30929e2505" headers="d30929e1848 ">
                                    <p><span class="bold"><tt>ROWID</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2505 d30929e1853 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2505 d30929e1856 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2505 d30929e1859 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2505 d30929e1862 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2505 d30929e1865 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2505 d30929e1868 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2505 d30929e1873 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2505 d30929e1876 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2505 d30929e1879 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2505 d30929e1882 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2505 d30929e1886 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2505 d30929e1889 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2505 d30929e1892 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2505 d30929e1895 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2505 d30929e1898 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d30929e2557" headers="d30929e1848 ">
                                    <p><span class="bold"><tt>CLOB</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2557 d30929e1853 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2557 d30929e1856 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2557 d30929e1859 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2557 d30929e1862 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2557 d30929e1865 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2557 d30929e1868 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2557 d30929e1873 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2557 d30929e1876 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2557 d30929e1879 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2557 d30929e1882 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2557 d30929e1886 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2557 d30929e1889 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2557 d30929e1892 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2557 d30929e1895 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2557 d30929e1898 ">
                                    <p>X</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d30929e2609" headers="d30929e1848 ">
                                    <p><span class="bold"><tt>BLOB</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2609 d30929e1853 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2609 d30929e1856 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2609 d30929e1859 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2609 d30929e1862 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2609 d30929e1865 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2609 d30929e1868 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2609 d30929e1873 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2609 d30929e1876 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2609 d30929e1879 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2609 d30929e1882 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2609 d30929e1886 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2609 d30929e1889 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2609 d30929e1892 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2609 d30929e1895 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2609 d30929e1898 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d30929e2661" headers="d30929e1848 ">
                                    <p><span class="bold"><tt>NCLOB</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2661 d30929e1853 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2661 d30929e1856 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2661 d30929e1859 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2661 d30929e1862 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2661 d30929e1865 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2661 d30929e1868 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2661 d30929e1873 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2661 d30929e1876 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2661 d30929e1879 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2661 d30929e1882 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2661 d30929e1886 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2661 d30929e1889 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2661 d30929e1892 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2661 d30929e1895 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="6%" headers="d30929e2661 d30929e1898 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p class="tablefootnote"><sup class="tablefootnote">脚注1</sup></p><p>您不能直接将<code class="codeph">LONG</code>转换为<code class="codeph">INTERVAL</code> ，但可以使用<code class="codeph">TO_CHAR</code> （ <span class="italic"><code class="codeph">interval</code></span> ）将<code class="codeph">LONG</code>转换为<code class="codeph">VARCHAR2</code> ，然后将生成的<code class="codeph">VARCHAR2</code>值转换为<code class="codeph">INTERVAL</code> 。</p>
                     <p></p>
                     <div class="section">
                        <p>以下规则控制隐式数据类型转换：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在<code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>操作期间，Oracle将值转换为受影响列的数据类型。
                              </p>
                           </li>
                           <li>
                              <p>在<code class="codeph">SELECT</code> <code class="codeph">FROM</code>操作期间，Oracle将列中的数据转换为目标变量的类型。
                              </p>
                           </li>
                           <li>
                              <p>在操作数值时，Oracle通常会调整精度和比例以允许最大容量。在这种情况下，由此类操作产生的数值数据类型可能与基础表中的数字数据类型不同。</p>
                           </li>
                           <li>
                              <p>将字符值与数值进行比较时，Oracle会将字符数据转换为数字值。</p>
                           </li>
                           <li>
                              <p>字符值或<code class="codeph">NUMBER</code>值与浮点数值之间的转换可能不准确，因为字符类型和<code class="codeph">NUMBER</code>使用小数精度来表示数值，浮点数使用二进制精度。
                              </p>
                           </li>
                           <li>
                              <p>将<code class="codeph">CLOB</code>值转换为字符数据类型（如<code class="codeph">VARCHAR2</code> ）或将<code class="codeph">BLOB</code>转换为<code class="codeph">RAW</code>数据时，如果要转换的数据大于目标数据类型，则数据库将返回错误。
                              </p>
                           </li>
                           <li>
                              <p>在从时间戳值转换为<code class="codeph">DATE</code>值期间，时间戳值的小数秒部分被截断。当时间戳值的小数秒部分被舍入时，此行为与早期版本的Oracle数据库不同。
                              </p>
                           </li>
                           <li>
                              <p>从<code class="codeph">BINARY_FLOAT</code>到<code class="codeph">BINARY_DOUBLE</code>转换是准确的。
                              </p>
                           </li>
                           <li>
                              <p>如果<code class="codeph">BINARY_DOUBLE</code>值使用<code class="codeph">BINARY_FLOAT</code>支持的更多精度位，则从<code class="codeph">BINARY_DOUBLE</code>到<code class="codeph">BINARY_FLOAT</code>转换是不精确的。</p>
                           </li>
                           <li>
                              <p>将字符值与<code class="codeph">DATE</code>值进行比较时，Oracle会将字符数据转换为<code class="codeph">DATE</code> 。</p>
                           </li>
                           <li>
                              <p>当您使用具有不同于其接受的数据类型的参数的SQL函数或运算符时，Oracle会将参数转换为接受的数据类型。</p>
                           </li>
                           <li>
                              <p>在进行分配时，Oracle会将等号（=）右侧的值转换为左侧赋值目标的数据类型。</p>
                           </li>
                           <li>
                              <p>在连接操作期间，Oracle将非字符数据类型转换为<code class="codeph">CHAR</code>或<code class="codeph">NCHAR</code> 。</p>
                           </li>
                           <li>
                              <p>在对字符和非字符数据类型进行算术运算和比较期间，Oracle会根据需要将任何字符数据类型转换为数字，日期或rowid。在<code class="codeph">CHAR</code> / <code class="codeph">VARCHAR2</code>和<code class="codeph">NCHAR</code> / <code class="codeph">NVARCHAR2</code>之间的算术运算中，Oracle转换为<code class="codeph">NUMBER</code> 。</p>
                           </li>
                           <li>
                              <p>大多数SQL字符函数都可以接受<code class="codeph">CLOB</code>作为参数，Oracle在<code class="codeph">CLOB</code>和字符类型之间执行隐式转换。因此，尚未为<code class="codeph">CLOB</code>启用的函数可以通过隐式转换接受<code class="codeph">CLOB</code> 。在这种情况下，Oracle会在调用函数之前将<code class="codeph">CLOB</code>转换为<code class="codeph">CHAR</code>或<code class="codeph">VARCHAR2</code> 。如果<code class="codeph">CLOB</code>大于4000字节，则Oracle仅将前4000个字节转换为<code class="codeph">CHAR</code> 。</p>
                           </li>
                           <li>
                              <p>将<code class="codeph">RAW</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code>数据转换为字符数据或从字符数据转换时，二进制数据以十六进制形式表示，其中一个十六进制字符表示每四位<code class="codeph">RAW</code>数据。有关更多信息，请参阅<span class="q">“ <a href="Data-Types.html#GUID-4FD497DD-3331-4C25-9147-3CEBEFDBFF22">RAW和LONG RAW数据类型</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p><a id="d30929e2889" class="indexterm-anchor"></a> <code class="codeph">CHAR</code>和<code class="codeph">VARCHAR2</code>之间以及<code class="codeph">NCHAR</code>和<code class="codeph">NVARCHAR2</code>类型之间的比较可能需要不同的字符集。在这种情况下，默认的转换方向是从数据库字符集到国家字符集。<a href="Data-Type-Comparison-Rules.html#GUID-98BE3A78-6E33-4181-B5CB-D96FD9DC1694__G196434" title="第一列显示源数据类型。后续列的标题单元格显示目标数据类型。单元格显示从每个源到每个目标数据类型的隐式转换的结果。">表2-9</a>显示了不同字符类型之间隐式转换的方向。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-98BE3A78-6E33-4181-B5CB-D96FD9DC1694__G196434">
                        <p class="titleintable">表2-9不同字符类型的转换方向</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="不同字符类型的转换方向" width="100%" border="1" summary="The first column shows the source data type. The header cells of subsequent column show the destination data type. The cells show the result of the implicit conversion from each source to each destination data type." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d30929e2924">SourceData类型</th>
                                 <th align="left" valign="bottom" width="20%" id="d30929e2929">到CHAR</th>
                                 <th align="left" valign="bottom" width="20%" id="d30929e2932">到VARCHAR2</th>
                                 <th align="left" valign="bottom" width="20%" id="d30929e2935">到NCHAR</th>
                                 <th align="left" valign="bottom" width="21%" id="d30929e2938">到NVARCHAR2</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d30929e2943" headers="d30929e2924 ">
                                    <p><span class="bold"><tt>来自CHAR</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d30929e2943 d30929e2929 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d30929e2943 d30929e2932 ">
                                    <p><code class="codeph">VARCHAR2</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d30929e2943 d30929e2935 ">
                                    <p><code class="codeph">NCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d30929e2943 d30929e2938 ">
                                    <p><code class="codeph">NVARCHAR2</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d30929e2964" headers="d30929e2924 ">
                                    <p><span class="bold"><tt>来自VARCHAR2</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d30929e2964 d30929e2929 ">
                                    <p><code class="codeph">VARCHAR2</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d30929e2964 d30929e2932 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d30929e2964 d30929e2935 ">
                                    <p><code class="codeph">NVARCHAR2</code></p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d30929e2964 d30929e2938 ">
                                    <p><code class="codeph">NVARCHAR2</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d30929e2985" headers="d30929e2924 ">
                                    <p><span class="bold"><tt>来自NCHAR</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d30929e2985 d30929e2929 ">
                                    <p><code class="codeph">NCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d30929e2985 d30929e2932 ">
                                    <p><code class="codeph">NCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d30929e2985 d30929e2935 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d30929e2985 d30929e2938 ">
                                    <p><code class="codeph">NVARCHAR2</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d30929e3006" headers="d30929e2924 ">
                                    <p><span class="bold"><tt>来自NVARCHAR2</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d30929e3006 d30929e2929 ">
                                    <p><code class="codeph">NVARCHAR2</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d30929e3006 d30929e2932 ">
                                    <p><code class="codeph">NVARCHAR2</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d30929e3006 d30929e2935 ">
                                    <p><code class="codeph">NVARCHAR2</code></p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d30929e3006 d30929e2938 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>用户定义的类型（如集合）无法隐式转换，但必须使用<code class="codeph">CAST</code>显式转换...<code class="codeph">MULTISET</code> 。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SQLRF51051"></a><a id="SQLRF51052"></a><a id="SQLRF51053"></a><a id="SQLRF51050"></a><div class="props_rev_3"><a id="GUID-7F3A7937-B057-4815-A7BB-DA5E7EBB66D5" name="GUID-7F3A7937-B057-4815-A7BB-DA5E7EBB66D5"></a><h4 id="SQLRF-GUID-7F3A7937-B057-4815-A7BB-DA5E7EBB66D5" class="sect4">隐式数据转换示例</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-7F3A7937-B057-4815-A7BB-DA5E7EBB66D5__GUID-828853BA-0020-4381-9A65-B1E612C8EA87">文字文字示例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>文本文字“10”的数据类型为<code class="codeph">CHAR</code> 。如果它出现在数值表达式中，Oracle会将其隐式转换为<code class="codeph">NUMBER</code>数据类型，如下面的语句所示：</p><pre class="oac_no_warn" dir="ltr">选择工资+'10'来自员工;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7F3A7937-B057-4815-A7BB-DA5E7EBB66D5__GUID-D9531B99-0DD7-43AF-BA39-3F1BB1F6C1AA">字符和数字值示例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>当条件比较字符值和<code class="codeph">NUMBER</code>值时，Oracle会隐式将字符值转换为<code class="codeph">NUMBER</code>值，而不是将<code class="codeph">NUMBER</code>值转换为字符值。在以下语句中，Oracle隐式将'200'转换为200：</p><pre class="oac_no_warn" dir="ltr">SELECT last_name FROM employees WHERE employee_id ='200';</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7F3A7937-B057-4815-A7BB-DA5E7EBB66D5__GUID-BA8D9076-6C1C-4D8D-87E7-4E042987CC73">日期示例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在以下语句中，Oracle使用默认日期格式“ <code class="codeph">DD-MON-YY</code> ”将“ <code class="codeph">24-JUN-06</code> ”隐式转换为<code class="codeph">DATE</code>值：</p><pre class="oac_no_warn" dir="ltr">SELECT last_name FROM employees WHERE hire_date = '24 -JUN-06';</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SQLRF51055"></a><a id="SQLRF51054"></a><div class="props_rev_3"><a id="GUID-D0C5A47E-6F93-4C2D-9E49-4F2B86B359DD" name="GUID-D0C5A47E-6F93-4C2D-9E49-4F2B86B359DD"></a><h4 id="SQLRF-GUID-D0C5A47E-6F93-4C2D-9E49-4F2B86B359DD" class="sect4">显式数据转换</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用SQL转换函数显式指定数据类型转换。<a href="Data-Type-Comparison-Rules.html#GUID-D0C5A47E-6F93-4C2D-9E49-4F2B86B359DD__G195600" title="第一列包含源数据类型。后续列的标题单元格显示目标数据类型。单元格包含bulit-in函数，可用于显式地从每个源数据类型转换为每个目标数据类型。">表2-10</a>显示了将值从一种数据类型显式转换为另一种数据类型的SQL函数。
                        </p>
                        <p>在Oracle可以执行隐式数据类型转换的情况下，您不能指定<code class="codeph">LONG</code>和<code class="codeph">LONG</code> <code class="codeph">RAW</code>值。例如， <code class="codeph">LONG</code>和<code class="codeph">LONG</code> <code class="codeph">RAW</code>值不能出现在带有函数或运算符的表达式中。有关<code class="codeph">LONG</code>和<code class="codeph">LONG</code> <code class="codeph">RAW</code>数据类型限制的信息，请参阅<a href="Data-Types.html#GUID-F6309DF8-162F-48A4-9454-FEE59EC6644F">LONG</a>数据类型。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformalwide" id="GUID-D0C5A47E-6F93-4C2D-9E49-4F2B86B359DD__G195600">
                        <p class="titleintable">表2-10显式类型转换</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="显式类型转换" width="100%" border="1" summary="The first column contains the source data types. The header cells of subsequent columns show the destination data types. The cells contain the bulit-in functions that can be used to explicitly convert from each source data type to each destination data type." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="12%" id="d30929e3395">SourceData类型</th>
                                 <th align="left" valign="bottom" width="13%" id="d30929e3400">到CHAR，VARCHAR2，NCHAR，NVARCHAR2</th>
                                 <th align="left" valign="bottom" width="8%" id="d30929e3409">到NUMBER</th>
                                 <th align="left" valign="bottom" width="14%" id="d30929e3412">到日期时间/间隔</th>
                                 <th align="left" valign="bottom" width="10%" id="d30929e3417">RAW</th>
                                 <th align="left" valign="bottom" width="9%" id="d30929e3420">到ROWID</th>
                                 <th align="left" valign="bottom" width="5%" id="d30929e3423">龙，长</th>
                                 <th align="left" valign="bottom" width="10%" id="d30929e3428">到CLOB，NCLOB，BLOB</th>
                                 <th align="left" valign="bottom" width="9%" id="d30929e3433">到BINARY_FLOAT</th>
                                 <th align="left" valign="bottom" width="9%" id="d30929e3436">到BINARY_DOUBLE</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d30929e3442" headers="d30929e3395 ">
                                    <p><span class="bold"><tt>来自CHAR，VARCHAR2，NCHAR，NVARCHAR2</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d30929e3442 d30929e3400 ">
                                    <p><code class="codeph">TO_CHAR（char。）</code></p>
                                    <p><code class="codeph">TO_NCHAR（char。）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d30929e3442 d30929e3409 ">
                                    <p><code class="codeph">TO_NUMBER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d30929e3442 d30929e3412 ">
                                    <p><code class="codeph">至今</code></p>
                                    <p><code class="codeph">TO_TIMESTAMP</code></p>
                                    <p><code class="codeph">TO_TIMESTAMP_TZ</code></p>
                                    <p><code class="codeph">TO_YMINTERVAL</code></p>
                                    <p><code class="codeph">TO_DSINTERVAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3442 d30929e3417 ">
                                    <p><code class="codeph">HEXTORAW</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3442 d30929e3420 ">
                                    <p><code class="codeph">CHARTO = ROWID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="5%" headers="d30929e3442 d30929e3423 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3442 d30929e3428 ">
                                    <p><code class="codeph">TO_CLOB</code></p>
                                    <p><code class="codeph">TO_NCLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3442 d30929e3433 ">
                                    <p><code class="codeph">TO_BINARY_FLOAT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3442 d30929e3436 ">
                                    <p><code class="codeph">TO_BINARY_DOUBLE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d30929e3502" headers="d30929e3395 ">
                                    <p><span class="bold"><tt>来自NUMBER</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d30929e3502 d30929e3400 ">
                                    <p><code class="codeph">TO_CHAR（号码）</code></p>
                                    <p><code class="codeph">TO_NCHAR（号码）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d30929e3502 d30929e3409 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d30929e3502 d30929e3412 ">
                                    <p><code class="codeph">至今</code></p>
                                    <p><code class="codeph">NUMTOYM-INTERVAL</code></p>
                                    <p><code class="codeph">NUMTODS- INTERVAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3502 d30929e3417 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3502 d30929e3420 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="5%" headers="d30929e3502 d30929e3423 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3502 d30929e3428 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3502 d30929e3433 ">
                                    <p><code class="codeph">TO_BINARY_FLOAT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3502 d30929e3436 ">
                                    <p><code class="codeph">TO_BINARY_DOUBLE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d30929e3553" headers="d30929e3395 ">
                                    <p><span class="bold"><tt>来自Datetime / Interval</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d30929e3553 d30929e3400 ">
                                    <p><code class="codeph">TO_CHAR（日期）</code></p>
                                    <p><code class="codeph">TO_NCHAR（日期时间）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d30929e3553 d30929e3409 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d30929e3553 d30929e3412 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3553 d30929e3417 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3553 d30929e3420 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="5%" headers="d30929e3553 d30929e3423 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3553 d30929e3428 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3553 d30929e3433 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3553 d30929e3436 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d30929e3598" headers="d30929e3395 ">
                                    <p><span class="bold"><tt>来自RAW</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d30929e3598 d30929e3400 ">
                                    <p><code class="codeph">RAWTOHEX</code></p>
                                    <p><code class="codeph">RAWTONHEX</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d30929e3598 d30929e3409 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d30929e3598 d30929e3412 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3598 d30929e3417 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3598 d30929e3420 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="5%" headers="d30929e3598 d30929e3423 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3598 d30929e3428 ">
                                    <p><code class="codeph">TO_BLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3598 d30929e3433 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3598 d30929e3436 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d30929e3643" headers="d30929e3395 ">
                                    <p><span class="bold"><tt>来自ROWID</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d30929e3643 d30929e3400 ">
                                    <p><code class="codeph">ROWIDTOCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d30929e3643 d30929e3409 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d30929e3643 d30929e3412 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3643 d30929e3417 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3643 d30929e3420 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="5%" headers="d30929e3643 d30929e3423 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3643 d30929e3428 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3643 d30929e3433 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3643 d30929e3436 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d30929e3685" headers="d30929e3395 ">
                                    <p><span class="bold"><tt>来自LONG / LONG RAW</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d30929e3685 d30929e3400 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d30929e3685 d30929e3409 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d30929e3685 d30929e3412 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3685 d30929e3417 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3685 d30929e3420 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="5%" headers="d30929e3685 d30929e3423 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3685 d30929e3428 ">
                                    <p><code class="codeph">TO_LOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3685 d30929e3433 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3685 d30929e3436 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d30929e3727" headers="d30929e3395 ">
                                    <p><span class="bold"><tt>来自CLOB，NCLOB，BLOB</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d30929e3727 d30929e3400 ">
                                    <p><code class="codeph">TO_CHAR</code></p>
                                    <p><code class="codeph">TO_NCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d30929e3727 d30929e3409 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d30929e3727 d30929e3412 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3727 d30929e3417 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3727 d30929e3420 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="5%" headers="d30929e3727 d30929e3423 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3727 d30929e3428 ">
                                    <p><code class="codeph">TO_CLOB</code></p>
                                    <p><code class="codeph">TO_NCLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3727 d30929e3433 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3727 d30929e3436 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d30929e3775" headers="d30929e3395 ">
                                    <p><span class="bold"><tt>来自CLOB，NCLOB，BLOB</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d30929e3775 d30929e3400 ">
                                    <p><code class="codeph">TO_CHAR</code></p>
                                    <p><code class="codeph">TO_NCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d30929e3775 d30929e3409 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d30929e3775 d30929e3412 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3775 d30929e3417 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3775 d30929e3420 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="5%" headers="d30929e3775 d30929e3423 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3775 d30929e3428 ">
                                    <p><code class="codeph">TO_CLOB</code></p>
                                    <p><code class="codeph">TO_NCLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3775 d30929e3433 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3775 d30929e3436 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d30929e3823" headers="d30929e3395 ">
                                    <p><span class="bold"><tt>来自BINARY_FLOAT</tt></span></p>
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d30929e3823 d30929e3400 ">
                                    <p><code class="codeph">TO_CHAR（char。）</code></p>
                                    <p><code class="codeph">TO_NCHAR（char。）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d30929e3823 d30929e3409 ">
                                    <p><code class="codeph">TO_NUMBER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d30929e3823 d30929e3412 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3823 d30929e3417 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3823 d30929e3420 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="5%" headers="d30929e3823 d30929e3423 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3823 d30929e3428 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3823 d30929e3433 ">
                                    <p><code class="codeph">TO_BINARY_FLOAT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3823 d30929e3436 ">
                                    <p><code class="codeph">TO_BINARY_DOUBLE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d30929e3869" headers="d30929e3395 ">
                                    <p><span class="bold"><tt>来自BINARY_DOUBLE</tt></span></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d30929e3869 d30929e3400 ">
                                    <p><code class="codeph">TO_CHAR（char。）</code></p>
                                    <p><code class="codeph">TO_NCHAR（char。）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d30929e3869 d30929e3409 ">
                                    <p><code class="codeph">TO_NUMBER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d30929e3869 d30929e3412 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3869 d30929e3417 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3869 d30929e3420 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="5%" headers="d30929e3869 d30929e3423 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d30929e3869 d30929e3428 ">
                                    <p><code class="codeph">-</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3869 d30929e3433 ">
                                    <p><code class="codeph">TO_BINARY_FLOAT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d30929e3869 d30929e3436 ">
                                    <p><code class="codeph">TO_BINARY_DOUBLE</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-D0C5A47E-6F93-4C2D-9E49-4F2B86B359DD__GUID-F304CD57-D647-4E85-9259-D4C6752A8D76">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="Single-Row-Functions.html#GUID-0E5115DD-F906-4F04-BB70-DF62DD4BBF91">转换函数</a>有关所有显式转换函数的详细信息</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="SQLRF51056"></a><div class="props_rev_3"><a id="GUID-6A02902A-1EF1-41E4-9494-381488BD272F" name="GUID-6A02902A-1EF1-41E4-9494-381488BD272F"></a><h3 id="SQLRF-GUID-6A02902A-1EF1-41E4-9494-381488BD272F" class="sect3">数据转换的安全注意事项</h3>
               <div>
                  <div class="section">
                     <p>当通过隐式转换或未指定格式模型的显式转换将日期时间值转换为文本时，格式模型由其中一个全球化会话参数定义。根据源数据类型，参数名称为<code class="codeph">NLS_DATE_FORMAT</code> ， <code class="codeph">NLS_TIMESTAMP_FORMAT</code>或<code class="codeph">NLS_TIMESTAMP_TZ_FORMAT</code> 。可以在客户端环境或<code class="codeph">ALTER</code> <code class="codeph">SESSION</code>语句中指定这些参数的值。
                     </p>
                     <p>当没有显式格式模型的转换应用于正在连接到动态SQL语句的文本的日期时间值时，格式模型对会话参数的依赖性会对数据库安全性产生负面影响。动态SQL语句是那些在传递到数据库执行之前将其文本从片段连接起来的语句。动态SQL经常与内置的PL / SQL包<code class="codeph">DBMS_SQL</code>或PL / SQL语句<code class="codeph">EXECUTE</code> <code class="codeph">IMMEDIATE</code> ，但这些并不是动态构造的SQL文本可以作为参数传递的唯一地方。例如：</p><pre class="oac_no_warn" dir="ltr">EXECUTE IMMEDIATE'SELECT last_name FROM employees WHERE hire_date&gt;'''|| <span class="italic">start_date</span> || '' '';</pre><p>其中<span class="italic"><code class="codeph">start_date</code></span>的数据类型为<code class="codeph">DATE</code> 。</p>
                     <p>在上面的示例中， <span class="italic"><code class="codeph">start_date</code></span>的值使用会话参数<code class="codeph">NLS_DATE_FORMAT</code>指定的格式模型转换为文本。结果连接成SQL文本。日期时间格式模型可以只包含用双引号括起来的文字文本。因此，任何可以为会话显式设置全球化参数的用户都可以决定上述转换产生的文本。如果SQL语句由PL / SQL过程执行，则该过程变得容易受到通过会话参数的SQL注入的影响。如果该过程使用定义者的权限运行，并且具有比会话本身更高的权限，则用户可以获得对敏感数据的未授权访问。
                     </p>
                     <div class="infoboxnotealso" id="GUID-6A02902A-1EF1-41E4-9494-381488BD272F__GUID-EF2E6E0E-CE77-4A92-B439-777D1DDA6AF6">
                        <p class="notep1">也可以看看：</p>
                        <p>有关避免此安全风险的更多示例和建议，请参阅<a href="../lnpls/dynamic-sql.html#LNPLS01109" target="_blank"><span><cite>Oracle数据库PL / SQL语言参考</cite></span></a></p>
                     </div>
                     <div class="infoboxnote" id="GUID-6A02902A-1EF1-41E4-9494-381488BD272F__GUID-4B3CAAB4-3B45-4ADA-8462-4F59FF5F102B">
                        <p class="notep1">注意：</p>
                        <p>此安全风险也适用于从数据库或OCI日期时间函数转换为文本的日期时间值构造SQL文本的中间层应用程序。如果从用户偏好获得会话全球化参数，则这些应用程序易受攻击。</p>
                     </div>
                     <p>数值的隐式和显式转换也可能受到类似问题的影响，因为转换结果可能取决于会话参数<code class="codeph">NLS_NUMERIC_CHARACTERS</code> 。此参数定义小数和组分隔符。如果将小数分隔符定义为引号或双引号，则会出现SQL注入的一些可能性。
                     </p>
                     <div class="infoboxnotealso" id="GUID-6A02902A-1EF1-41E4-9494-381488BD272F__GUID-324816F0-D7D4-42DC-B4AF-D50157428425">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../nlspg/setting-up-globalization-support-environment.html#NLSPG003" target="_blank"><span><cite>“Oracle数据库全球化支持指南”</cite></span></a> ，了解会话全球化参数的详细说明</p>
                           </li>
                           <li>
                              <p><a href="Format-Models.html#GUID-DFB23985-2943-4C6A-96DF-DF0F664CED96">格式模型</a>有关<a href="Format-Models.html#GUID-DFB23985-2943-4C6A-96DF-DF0F664CED96">格式模型</a>的信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>