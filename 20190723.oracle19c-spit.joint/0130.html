<html id="01155.DBMS_XMLSTORE.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="DBMS_XMLSTORE provides the ability to store XML data in relational tables."></meta>
      <meta name="description" content="DBMS_XMLSTORE provides the ability to store XML data in relational tables."></meta>
      <title>DBMS_XMLSTORE</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="DBMS_XMLSTORE provides the ability to store XML data in relational tables."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_XMLSTORAGE_MANAGE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_XPLAN.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_XMLSTORAGE_MANAGE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_XPLAN.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_XMLSTORE</li>
            </ol>
            <a id="GUID-3A7558FA-09F7-4437-9429-2B977C1D4E8A" name="GUID-3A7558FA-09F7-4437-9429-2B977C1D4E8A"></a><a id="ARPLS801"></a><a id="ARPLS801"></a>
            
            <h2 id="ARPLS-GUID-3A7558FA-09F7-4437-9429-2B977C1D4E8A" class="sect2"><span class="enumeration_chapter">205</span> DBMS_XMLSTORE</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_XMLSTORE</code>提供了在关系表中存储XML数据的功能。
               </p>
               <p>本章包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_XMLSTORE.html#GUID-016B8E95-0F07-4CA2-AD1C-4224D3DEF64B" title="由XDB拥有，DBMS_XMLSTORE包必须由SYS或XDB创建。 EXECUTE特权被授予PUBLIC。此包中的子程序使用当前用户的权限执行。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_XMLSTORE.html#GUID-AC5C53CE-499F-4655-9C00-371A78C4632C" title="DBMS_XMLSTORE子程序使用ctxType类型。">类型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_XMLSTORE.html#GUID-E700AF9F-BD8A-417C-998C-BBCDFB305148" title="该表列出了DBMS_XMLSTORE子程序并简要描述了它们。">DBMS_XMLSTORE子程序摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-3A7558FA-09F7-4437-9429-2B977C1D4E8A__GUID-A8210830-772A-41E9-84DD-35608C2880D3">
                  <p class="notep1">也可以看看：</p>
                  <p><a href="../adxdb/PLSQL-package-DBMS_XMLSTORE.html#ADXDB-GUID-C8FBA4EA-3F75-43A8-9B18-CEC271AB9BD4" target="_blank"><span><cite>Oracle XML DB开发人员指南</cite></span></a></p>
               </div>
            </div><a id="ARPLS74021"></a><a id="ARPLS74021"></a><div class="props_rev_3"><a id="GUID-016B8E95-0F07-4CA2-AD1C-4224D3DEF64B" name="GUID-016B8E95-0F07-4CA2-AD1C-4224D3DEF64B"></a><h3 id="ARPLS-GUID-016B8E95-0F07-4CA2-AD1C-4224D3DEF64B" class="sect3"><span class="enumeration_section">205.1</span> DBMS_XMLSTORE安全模型</h3>
               <div>
                  <p>由<code class="codeph">XDB</code>拥有， <code class="codeph">DBMS_XMLSTORE</code>包必须由<code class="codeph">SYS</code>或<code class="codeph">XDB</code>创建。 <code class="codeph">EXECUTE</code>特权被授予<code class="codeph">PUBLIC</code> 。此包中的子程序使用当前用户的权限执行。
                  </p>
               </div>
            </div><a id="ARPLS70081"></a><a id="ARPLS70082"></a><a id="ARPLS70082"></a><a id="ARPLS70081"></a><div class="props_rev_3"><a id="GUID-AC5C53CE-499F-4655-9C00-371A78C4632C" name="GUID-AC5C53CE-499F-4655-9C00-371A78C4632C"></a><h3 id="ARPLS-GUID-AC5C53CE-499F-4655-9C00-371A78C4632C" class="sect3"><span class="enumeration_section">205.2</span>类型</h3>
               <div>
                  <p><code class="codeph">DBMS_XMLSTORE</code>子程序使用<code class="codeph">ctxType</code>类型。
                  </p>
                  <div class="tblformal" id="GUID-AC5C53CE-499F-4655-9C00-371A78C4632C__GUID-996EB772-F3E1-4E4B-A63B-07B7808ED57F">
                     <p class="titleintable">表205-1 <span class="italic"><span class="bold">DBMS_XMLSTORE的类型</span></span></p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_XMLSTORE的类型" width="100%" border="1" summary="This table describes Types used by DBMS_XMLSTORE subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="16%" id="d1280176e370">类型</th>
                              <th align="left" valign="bottom" width="84%" id="d1280176e373">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d1280176e378" headers="d1280176e370 ">
                                 <p><code class="codeph">ctxType</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d1280176e378 d1280176e373 ">
                                 <p>查询上下文句柄的类型。这是<a href="DBMS_XMLSTORE.html#GUID-3276DE57-E919-4414-AD51-1E72F42198ED" title="NEWCONTEXT创建一个保存上下文并返回上下文句柄。">NEWCONTEXT</a>的返回类型。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS70083"></a><a id="ARPLS70084"></a><a id="ARPLS70084"></a><a id="ARPLS70083"></a><div class="props_rev_3"><a id="GUID-E700AF9F-BD8A-417C-998C-BBCDFB305148" name="GUID-E700AF9F-BD8A-417C-998C-BBCDFB305148"></a><h3 id="ARPLS-GUID-E700AF9F-BD8A-417C-998C-BBCDFB305148" class="sect3"><span class="enumeration_section">205.3</span> DBMS_XMLSTORE子程序摘要</h3>
               <div>
                  <p>该表列出了<code class="codeph">DBMS_XMLSTORE</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-E700AF9F-BD8A-417C-998C-BBCDFB305148__GUID-6C874546-5A12-4E2A-B321-A6CB2F7464DC">
                     <p class="titleintable">表205-2 DBMS_XMLSTORE包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_XMLSTORE包子程序" width="100%" border="1" summary="This table lists the DBMS_XMLSTORE subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="32%" id="d1280176e495">方法</th>
                              <th align="left" valign="bottom" width="68%" id="d1280176e498">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d1280176e503" headers="d1280176e495 ">
                                 <p><a href="DBMS_XMLSTORE.html#GUID-BC46BFEC-35CE-40CB-9144-6622F5BD0F0C" title="此过程清除键列列表。">CLEARKEYCOLUMNLIST</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d1280176e503 d1280176e498 ">
                                 <p>清除键列列表。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d1280176e515" headers="d1280176e495 ">
                                 <p><a href="DBMS_XMLSTORE.html#GUID-3FB0D77A-B862-4942-8334-0D600ECA7ADC" title="此过程将清除更新列列表。">CLEARUPDATECOLUMNLIST</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d1280176e515 d1280176e498 ">
                                 <p>清除更新列列表。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d1280176e527" headers="d1280176e495 ">
                                 <p><a href="DBMS_XMLSTORE.html#GUID-78275CE4-DC17-4A16-9284-F9580633A571" title="此过程关闭/取消分配特定的保存上下文。">CLOSECONTEXT</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d1280176e527 d1280176e498 ">
                                 <p>它关闭/取消分配特定的保存上下文。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d1280176e539" headers="d1280176e495 ">
                                 <p><a href="DBMS_XMLSTORE.html#GUID-6A871AF3-EC84-4F6E-BA20-31A481DFC0E7" title="DELETEXML从上下文创建时指定的表中删除XML文档中的数据指定的记录，并返回已删除的行数。">DELETEXML</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d1280176e539 d1280176e498 ">
                                 <p>从上下文创建时指定的表中删除XML文档中的数据指定的记录。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d1280176e553" headers="d1280176e495 ">
                                 <p><a href="DBMS_XMLSTORE.html#GUID-4CE141FE-3050-4019-A890-BCFB30E00F47" title="将XML文档插入到上下文创建时指定的表中，并返回插入的行数。">INSERTXML</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d1280176e553 d1280176e498 ">
                                 <p>将XML文档插入到上下文创建时指定的表中。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d1280176e565" headers="d1280176e495 ">
                                 <p><a href="DBMS_XMLSTORE.html#GUID-3276DE57-E919-4414-AD51-1E72F42198ED" title="NEWCONTEXT创建一个保存上下文并返回上下文句柄。">NEWCONTEXT</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d1280176e565 d1280176e498 ">
                                 <p>创建保存上下文，并返回上下文句柄。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d1280176e579" headers="d1280176e495 ">
                                 <p><a href="DBMS_XMLSTORE.html#GUID-FC01E227-6CE4-4E4D-A4C4-046EC7CE293B" title="此方法向该列添加一列" key="" column="" lis="." ="">SETKEYCOLUMN</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d1280176e579 d1280176e498 ">
                                 <p>此方法将一列添加到键列列表中。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d1280176e591" headers="d1280176e495 ">
                                 <p><a href="DBMS_XMLSTORE.html#GUID-990678C0-CC04-4F73-A681-0727CB3917C4" title="此过程命名XML文档中使用的标记，以包含与数据库记录对应的XML元素。">SETROWTAG</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d1280176e591 d1280176e498 ">
                                 <p>命名XML文档中使用的标记，以包含与数据库对应的XML元素。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d1280176e603" headers="d1280176e495 ">
                                 <p><a href="DBMS_XMLSTORE.html#GUID-2F755C45-7904-4BF9-AA22-DB2225989ACD" title="SETUPDATECOLUMN将列添加到更新列列表中。">SETUPDATECOLUMN</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d1280176e603 d1280176e498 ">
                                 <p>将列添加到“更新列列表”。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d1280176e617" headers="d1280176e495 ">
                                 <p><a href="DBMS_XMLSTORE.html#GUID-827B7254-FF34-411B-B0FF-6DD8939D628A" title="使用XML文档中的数据更新在上下文创建时指定的表，并返回更新的行数。">如updateXML</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d1280176e617 d1280176e498 ">
                                 <p>给出XML文档更新表。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS70085"></a><a id="ARPLS70086"></a><a id="ARPLS70086"></a><a id="ARPLS70085"></a><div class="props_rev_3"><a id="GUID-BC46BFEC-35CE-40CB-9144-6622F5BD0F0C" name="GUID-BC46BFEC-35CE-40CB-9144-6622F5BD0F0C"></a><h4 id="ARPLS-GUID-BC46BFEC-35CE-40CB-9144-6622F5BD0F0C" class="sect4"><span class="enumeration_section">205.3.1</span> CLEARKEYCOLUMNLIST</h4>
                  <div>
                     <p>此过程清除键列列表。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BC46BFEC-35CE-40CB-9144-6622F5BD0F0C__GUID-E8C85233-6032-4A47-8119-A453D5FD6907">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">PROCEDURE clearKeyColumnList（ctxHdl IN ctxType）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-BC46BFEC-35CE-40CB-9144-6622F5BD0F0C__GUID-E3343306-930E-4525-8389-785AF5CB04E0">
                        <p class="titleintable">表205-3 CLEARKEYCOLUMNLIST过程参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="CLEARKEYCOLUMNLIST过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_XMLSTORE.CLEARKEYCOLUMNLIST subprogram." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d1280176e741">参数</th>
                                 <th align="left" valign="bottom" width="13%" id="d1280176e744">进出</th>
                                 <th align="left" valign="bottom" width="68%" id="d1280176e747">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d1280176e752" headers="d1280176e741 ">
                                    <p><code class="codeph">ctxHdl</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d1280176e752 d1280176e744 ">
                                    <p><code class="codeph">（在）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d1280176e752 d1280176e747 ">
                                    <p>上下文句柄。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="ARPLS70087"></a><a id="ARPLS70088"></a><a id="ARPLS70088"></a><a id="ARPLS70087"></a><div class="props_rev_3"><a id="GUID-3FB0D77A-B862-4942-8334-0D600ECA7ADC" name="GUID-3FB0D77A-B862-4942-8334-0D600ECA7ADC"></a><h4 id="ARPLS-GUID-3FB0D77A-B862-4942-8334-0D600ECA7ADC" class="sect4"><span class="enumeration_section">205.3.2</span> CLEARUPDATECOLUMNLIST</h4>
                  <div>
                     <p>此过程将清除更新列列表。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3FB0D77A-B862-4942-8334-0D600ECA7ADC__GUID-797D58D5-F80A-4D56-9925-593AA2C3564D">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">PROCEDURE clearUpdateColumnList（ctxHdl IN ctxType）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-3FB0D77A-B862-4942-8334-0D600ECA7ADC__GUID-37EECD42-1345-48D0-9B4F-45F9C7E7479C">
                        <p class="titleintable">表205-4 CLEARUPDATECOLUMNLIST过程参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="CLEARUPDATECOLUMNLIST过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_XMLSTORE.CLEARUPDATECOLUMNLIST subprogram." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d1280176e877">参数</th>
                                 <th align="left" valign="bottom" width="13%" id="d1280176e880">进出</th>
                                 <th align="left" valign="bottom" width="68%" id="d1280176e883">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d1280176e888" headers="d1280176e877 ">
                                    <p><code class="codeph">ctxHdl</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d1280176e888 d1280176e880 ">
                                    <p><code class="codeph">（在）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d1280176e888 d1280176e883 ">
                                    <p>上下文句柄。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="ARPLS70089"></a><a id="ARPLS70090"></a><a id="ARPLS70090"></a><a id="ARPLS70089"></a><div class="props_rev_3"><a id="GUID-78275CE4-DC17-4A16-9284-F9580633A571" name="GUID-78275CE4-DC17-4A16-9284-F9580633A571"></a><h4 id="ARPLS-GUID-78275CE4-DC17-4A16-9284-F9580633A571" class="sect4"><span class="enumeration_section">205.3.3</span> CLOSECONTEXT</h4>
                  <div>
                     <p>此过程关闭/取消分配特定的保存上下文。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-78275CE4-DC17-4A16-9284-F9580633A571__GUID-DD7D78A6-2159-440B-9BF4-2DC3C7DC64DE">句法</p><pre class="pre codeblock"><code>PROCEDURE closeContext（ctxHdl IN ctxType）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-78275CE4-DC17-4A16-9284-F9580633A571__GUID-62CDAE28-B67A-49FF-9A6C-452CBEC2FAAC">
                        <p class="titleintable">表205-5 CLOSECONTEXT过程参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="CLOSECONTEXT过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_XMLSTORE.CLOSECONTEXT subprogram." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d1280176e1011">参数</th>
                                 <th align="left" valign="bottom" width="13%" id="d1280176e1014">进出</th>
                                 <th align="left" valign="bottom" width="68%" id="d1280176e1017">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d1280176e1022" headers="d1280176e1011 ">
                                    <p><code class="codeph">ctxHdl</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d1280176e1022 d1280176e1014 ">
                                    <p><code class="codeph">（在）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d1280176e1022 d1280176e1017 ">
                                    <p>上下文句柄。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="ARPLS70091"></a><a id="ARPLS70091"></a><div class="props_rev_3"><a id="GUID-6A871AF3-EC84-4F6E-BA20-31A481DFC0E7" name="GUID-6A871AF3-EC84-4F6E-BA20-31A481DFC0E7"></a><h4 id="ARPLS-GUID-6A871AF3-EC84-4F6E-BA20-31A481DFC0E7" class="sect4"><span class="enumeration_section">205.3.4</span> DELETEXML</h4>
                  <div>
                     <p><code class="codeph">DELETEXML</code>从上下文创建时指定的表中删除XML文档中的数据指定的记录，并返回已删除的行数。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6A871AF3-EC84-4F6E-BA20-31A481DFC0E7__GUID-2C015B63-5E08-4445-978C-6C3FBC3B03E9">句法</p>
                        <p>以下语法对<code class="codeph">xDoc</code>参数使用<code class="codeph">VARCHAR2</code>类型。
                        </p><pre class="pre codeblock"><code>功能deleteXML（ctxHdl IN ctxPType，xDoc IN VARCHAR2）返回号码;</code></pre><p>以下语法对<code class="codeph">xDoc</code>参数使用<code class="codeph">CLOB</code>类型。
                        </p><pre class="pre codeblock"><code>功能deleteXML（ctxHdl IN ctxType，xDoc IN CLOB）返回号码;</code></pre><p>以下语法对<code class="codeph">xDoc</code>参数使用<code class="codeph">XMLType</code>类型。
                        </p><pre class="pre codeblock"><code>功能deleteXML（ctxHdl IN ctxType，xDoc IN XMLType）RETURN NUMBER;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6A871AF3-EC84-4F6E-BA20-31A481DFC0E7__GUID-9148D0EE-5F34-463B-9815-FD5E087381F1">参数</p>
                        <div class="tblformal" id="GUID-6A871AF3-EC84-4F6E-BA20-31A481DFC0E7__GUID-15C95A30-326E-4624-9481-49779DB0D900">
                           <p class="titleintable">表205-6 DELETEXML函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETEXML函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_XMLSTORE.DELETEXML subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d1280176e1176">参数</th>
                                    <th align="left" valign="bottom" width="13%" id="d1280176e1179">进出</th>
                                    <th align="left" valign="bottom" width="68%" id="d1280176e1182">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d1280176e1187" headers="d1280176e1176 ">
                                       <p><code class="codeph">ctxHdl</code></p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d1280176e1187 d1280176e1179 ">
                                       <p><code class="codeph">（在）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d1280176e1187 d1280176e1182 ">
                                       <p>上下文句柄。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d1280176e1199" headers="d1280176e1176 ">
                                       <p><code class="codeph">XDOC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d1280176e1199 d1280176e1179 ">
                                       <p><code class="codeph">（在）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d1280176e1199 d1280176e1182 ">
                                       <p>包含XML文档的字符串。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70092"></a><a id="ARPLS70092"></a><div class="props_rev_3"><a id="GUID-4CE141FE-3050-4019-A890-BCFB30E00F47" name="GUID-4CE141FE-3050-4019-A890-BCFB30E00F47"></a><h4 id="ARPLS-GUID-4CE141FE-3050-4019-A890-BCFB30E00F47" class="sect4"><span class="enumeration_section">205.3.5</span> INSERTXML</h4>
                  <div>
                     <p>将XML文档插入到上下文创建时指定的表中，并返回插入的行数。</p>
                     <div class="section">
                        <p>请注意，如果用户将<code class="codeph">insertXML</code>的XML文件<code class="codeph">insertXML</code>给包含额外元素的<code class="codeph">DBMS_XMLSTORE</code> （与表中的任何列不匹配的元素），Oracle会尝试插入这些列，除非使用<a href="DBMS_XMLSTORE.html#GUID-2F755C45-7904-4BF9-AA22-DB2225989ACD" title="SETUPDATECOLUMN将列添加到更新列列表中。">SETUPDATECOLUMN</a> 。仅当XML文件中的元素与表中的列匹配时，才能使用<code class="codeph">setUpdateColumn</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4CE141FE-3050-4019-A890-BCFB30E00F47__GUID-868A089C-D5AF-49FD-8FF0-2C1DC4F6B47A">句法</p><pre class="pre codeblock"><code>功能insertXML（ctxHdl IN ctxType，xDoc IN VARCHAR2）RETURN NUMBER;</code></pre><pre class="pre codeblock"><code>功能insertXML（ctxHdl IN ctxType，xDoc IN CLOB）返回数字;</code></pre><pre class="pre codeblock"><code>功能insertXML（ctxHdl IN ctxType，xDoc IN XMLType）RETURN NUMBER;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4CE141FE-3050-4019-A890-BCFB30E00F47__GUID-6215519A-AEA2-49D6-8A1D-ADC964806F3C">参数</p>
                        <div class="tblformal" id="GUID-4CE141FE-3050-4019-A890-BCFB30E00F47__GUID-AC41B8EB-1DB0-4D76-8CE5-E82B1E20DDB8">
                           <p class="titleintable">表205-7 INSERTXML函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="INSERTXML函数参数" width="100%" border="1" summary="This table describes the parameters of PL/SQL function DBMS_XMLSTORE.INSERTXML." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d1280176e1348">参数</th>
                                    <th align="left" valign="bottom" width="13%" id="d1280176e1351">进出</th>
                                    <th align="left" valign="bottom" width="68%" id="d1280176e1354">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d1280176e1359" headers="d1280176e1348 ">
                                       <p><code class="codeph">ctxHdl</code></p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d1280176e1359 d1280176e1351 ">
                                       <p><code class="codeph">（在）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d1280176e1359 d1280176e1354 ">
                                       <p>上下文句柄。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d1280176e1371" headers="d1280176e1348 ">
                                       <p><code class="codeph">XDOC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d1280176e1371 d1280176e1351 ">
                                       <p><code class="codeph">（在）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d1280176e1371 d1280176e1354 ">
                                       <p>包含XML文档的字符串。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70093"></a><a id="ARPLS70094"></a><a id="ARPLS70094"></a><a id="ARPLS70093"></a><div class="props_rev_3"><a id="GUID-3276DE57-E919-4414-AD51-1E72F42198ED" name="GUID-3276DE57-E919-4414-AD51-1E72F42198ED"></a><h4 id="ARPLS-GUID-3276DE57-E919-4414-AD51-1E72F42198ED" class="sect4"><span class="enumeration_section">205.3.6</span> NEWCONTEXT</h4>
                  <div>
                     <p><code class="codeph">NEWCONTEXT</code>创建一个保存上下文并返回上下文句柄。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3276DE57-E919-4414-AD51-1E72F42198ED__GUID-E6CEA429-6A2E-49CA-973F-4028645999B8">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">FUNCTION newContext（targetTable IN VARCHAR2）RETURN ctxType;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-3276DE57-E919-4414-AD51-1E72F42198ED__GUID-BD0BE3E5-FD03-4F16-8B32-705B2841CFB0">
                        <p class="titleintable">表205-8 NEWCONTEXT函数参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="NEWCONTEXT函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_XMLSTORE.NEWCONTEXT subprogram." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d1280176e1497">参数</th>
                                 <th align="left" valign="bottom" width="13%" id="d1280176e1500">进出</th>
                                 <th align="left" valign="bottom" width="68%" id="d1280176e1503">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d1280176e1508" headers="d1280176e1497 ">
                                    <p><code class="codeph">targetTable</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d1280176e1508 d1280176e1500 ">
                                    <p><code class="codeph">（在）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d1280176e1508 d1280176e1503 ">
                                    <p>要加载XML文档的目标表。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="ARPLS70095"></a><a id="ARPLS70096"></a><a id="ARPLS70096"></a><a id="ARPLS70095"></a><div class="props_rev_3"><a id="GUID-FC01E227-6CE4-4E4D-A4C4-046EC7CE293B" name="GUID-FC01E227-6CE4-4E4D-A4C4-046EC7CE293B"></a><h4 id="ARPLS-GUID-FC01E227-6CE4-4E4D-A4C4-046EC7CE293B" class="sect4"><span class="enumeration_section">205.3.7</span> SETKEYCOLUMN</h4>
                  <div>
                     <p>此方法将列添加到“键列列表”。</p>
                     <div class="section">
                        <p>列的值不能为<code class="codeph">NULL</code> 。在更新或删除的情况下，键列列表中的列构成语句的<code class="codeph">WHERE</code>子句。必须在更新完成之前指定键列列表;这对于删除操作是可选的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FC01E227-6CE4-4E4D-A4C4-046EC7CE293B__GUID-5CD40659-70A3-4F2F-BB41-EE017346AE62">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">PROCEDURE setKeyColumn（ctxHdl IN ctxType，colName IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-FC01E227-6CE4-4E4D-A4C4-046EC7CE293B__GUID-0BA44B30-5ACC-454A-A3FF-A8D240B43F54">
                        <p class="titleintable">表205-9 SETKEYCOLUMN过程参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SETKEYCOLUMN过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_XMLSTORE.SETKEYCOLUMN subprogram." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d1280176e1641">参数</th>
                                 <th align="left" valign="bottom" width="13%" id="d1280176e1644">进出</th>
                                 <th align="left" valign="bottom" width="68%" id="d1280176e1647">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d1280176e1652" headers="d1280176e1641 ">
                                    <p><code class="codeph">ctxHdl</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d1280176e1652 d1280176e1644 ">
                                    <p><code class="codeph">（在）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d1280176e1652 d1280176e1647 ">
                                    <p>上下文句柄。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d1280176e1664" headers="d1280176e1641 ">
                                    <p><code class="codeph">COLNAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d1280176e1664 d1280176e1644 ">
                                    <p><code class="codeph">（在）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d1280176e1664 d1280176e1647 ">
                                    <p>要添加到键列列表的列;不能为<code class="codeph">NULL</code> 。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="ARPLS70097"></a><a id="ARPLS70098"></a><a id="ARPLS70098"></a><a id="ARPLS70097"></a><div class="props_rev_3"><a id="GUID-990678C0-CC04-4F73-A681-0727CB3917C4" name="GUID-990678C0-CC04-4F73-A681-0727CB3917C4"></a><h4 id="ARPLS-GUID-990678C0-CC04-4F73-A681-0727CB3917C4" class="sect4"><span class="enumeration_section">205.3.8</span> SETROWTAG</h4>
                  <div>
                     <p>此过程命名XML文档中使用的标记，以包含与数据库记录对应的XML元素。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-990678C0-CC04-4F73-A681-0727CB3917C4__GUID-034B59F6-02F7-4F29-A444-7768E252377A">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">PROCEDURE setRowTag（ctxHdl IN ctxType，tag IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-990678C0-CC04-4F73-A681-0727CB3917C4__GUID-717431B2-6118-4133-8829-736975F0E6F6">
                        <p class="titleintable">表205-10 SETROWTAG过程参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SETROWTAG过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_XMLSTORE.SETROWTAG subprogram." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d1280176e1792">参数</th>
                                 <th align="left" valign="bottom" width="13%" id="d1280176e1795">进出</th>
                                 <th align="left" valign="bottom" width="68%" id="d1280176e1798">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d1280176e1803" headers="d1280176e1792 ">
                                    <p><code class="codeph">ctxHdl</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d1280176e1803 d1280176e1795 ">
                                    <p><code class="codeph">（在）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d1280176e1803 d1280176e1798 ">
                                    <p>上下文句柄。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d1280176e1815" headers="d1280176e1792 ">
                                    <p><code class="codeph">标签</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d1280176e1815 d1280176e1795 ">
                                    <p><code class="codeph">（在）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d1280176e1815 d1280176e1798 ">
                                    <p>标签名称。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="ARPLS70099"></a><a id="ARPLS70100"></a><a id="ARPLS70100"></a><a id="ARPLS70099"></a><div class="props_rev_3"><a id="GUID-2F755C45-7904-4BF9-AA22-DB2225989ACD" name="GUID-2F755C45-7904-4BF9-AA22-DB2225989ACD"></a><h4 id="ARPLS-GUID-2F755C45-7904-4BF9-AA22-DB2225989ACD" class="sect4"><span class="enumeration_section">205.3.9</span> SETUPDATECOLUMN</h4>
                  <div>
                     <p><code class="codeph">SETUPDATECOLUMN</code>将列添加到更新列列表中。
                     </p>
                     <div class="section">
                        <p>在insert的情况下，默认是将值插入表中的所有列。在更新的情况下，默认情况下仅更新与XML文档的<code class="codeph">ROW</code>元素中存在的标记相对应的列。指定更新列列表后，单独组成此列表的列将更新或插入。
                        </p>
                        <p>请注意，如果用户将<a href="DBMS_XMLSTORE.html#GUID-4CE141FE-3050-4019-A890-BCFB30E00F47" title="Inserts the XML document into the table specified at the context creation time, and returns the number of rows inserted.">INSERTXML</a>的XML文件<a href="DBMS_XMLSTORE.html#GUID-4CE141FE-3050-4019-A890-BCFB30E00F47" title="将XML文档插入到上下文创建时指定的表中，并返回插入的行数。">传递</a>给<code class="codeph">DBMS_XMLSTORE</code> ，其中包含额外的元素（与表中的任何列不匹配的元素），Oracle将尝试插入这些列，除非使用setUpdateColumn。仅当XML文件中的元素与表中的列匹配时，才能使用setUpdateColumn。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2F755C45-7904-4BF9-AA22-DB2225989ACD__GUID-0C4AD45B-4D5E-4E73-A283-5A6977B200EF">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">PROCEDURE setUpdateColumn（ctxHdl IN ctxType，colName IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-2F755C45-7904-4BF9-AA22-DB2225989ACD__GUID-F51718D7-DC5F-47D8-A44C-2DA2BA25CFC8">
                        <p class="titleintable">表205-11 SETUPDATECOLUMN过程参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SETUPDATECOLUMN过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_XMLSTORE.SETUPDATECOLUMN subprogram." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d1280176e1959">参数</th>
                                 <th align="left" valign="bottom" width="13%" id="d1280176e1962">进出</th>
                                 <th align="left" valign="bottom" width="68%" id="d1280176e1965">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d1280176e1970" headers="d1280176e1959 ">
                                    <p><code class="codeph">ctxHdl</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d1280176e1970 d1280176e1962 ">
                                    <p><code class="codeph">（在）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d1280176e1970 d1280176e1965 ">
                                    <p>上下文句柄。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d1280176e1982" headers="d1280176e1959 ">
                                    <p><code class="codeph">COLNAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d1280176e1982 d1280176e1962 ">
                                    <p><code class="codeph">（在）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d1280176e1982 d1280176e1965 ">
                                    <p>要添加到更新列列表的列。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="ARPLS70101"></a><a id="ARPLS70101"></a><div class="props_rev_3"><a id="GUID-827B7254-FF34-411B-B0FF-6DD8939D628A" name="GUID-827B7254-FF34-411B-B0FF-6DD8939D628A"></a><h4 id="ARPLS-GUID-827B7254-FF34-411B-B0FF-6DD8939D628A" class="sect4"><span class="enumeration_section">205.3.10</span> UPDATEXML</h4>
                  <div>
                     <p>使用XML文档中的数据更新在上下文创建时指定的表，并返回更新的行数。</p>
                     <div class="section">
                        <p>选项如下表所述。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-827B7254-FF34-411B-B0FF-6DD8939D628A__GUID-C382F4E8-1661-43BA-8850-56A5CB3607B0">句法</p>
                        <p>以下语法将<code class="codeph">xDoc</code>参数作为<code class="codeph">VARCHAR2</code>传递。
                        </p><pre class="pre codeblock"><code>功能updateXML（ctxHdl IN ctxType，xDoc IN VARCHAR2）返回号码;</code></pre><p>以下语法将<code class="codeph">xDoc</code>参数作为<code class="codeph">CLOB</code>传递。</p><pre class="pre codeblock"><code>功能updateXML（ctxHdl IN ctxType，xDoc IN CLOB）返回号码;</code></pre><p>以下语法将<code class="codeph">xDoc</code>参数作为<code class="codeph">XMLType</code>传递。
                        </p><pre class="pre codeblock"><code>功能updateXML（ctxHdl IN ctxType，xDoc IN XMLType）RETURN NUMBER;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-827B7254-FF34-411B-B0FF-6DD8939D628A__GUID-E0B479EB-3CDC-4902-BB49-6FB2E9F536B9">参数</p>
                        <div class="tblformal" id="GUID-827B7254-FF34-411B-B0FF-6DD8939D628A__GUID-5C888B37-4367-4A2B-93B6-60E5F4FBB134">
                           <p class="titleintable">表205-12 UPDATEXML函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UPDATEXML函数参数" width="100%" border="1" summary="This table describes the arameters of PL/SQL function DBMS_XMLSTORE.UPDATEXML." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d1280176e2137">参数</th>
                                    <th align="left" valign="bottom" width="13%" id="d1280176e2140">进出</th>
                                    <th align="left" valign="bottom" width="68%" id="d1280176e2143">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d1280176e2148" headers="d1280176e2137 ">
                                       <p><code class="codeph">ctxHdl</code></p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d1280176e2148 d1280176e2140 ">
                                       <p><code class="codeph">（在）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d1280176e2148 d1280176e2143 ">
                                       <p>上下文句柄。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d1280176e2160" headers="d1280176e2137 ">
                                       <p><code class="codeph">XDOC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d1280176e2160 d1280176e2140 ">
                                       <p><code class="codeph">（在）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d1280176e2160 d1280176e2143 ">
                                       <p>包含XML文档的字符串。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03942.OM.layer.WMTSTileLayer.html" dir="ltr"></html><html lang="zh-Hans" dir="ltr">
<head>
	<meta charset="utf-8"></meta>
	<meta name="viewport" content="width=device-width"></meta>
	<title>Oracle Maps HTML5 JavaScript API参考类：WMTSTileLayer</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css"></link>

	<link type="text/css" rel="stylesheet" href="styles/site.yeti.css"></link>


    <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
    <meta name="dcterms.created" content="2019-01-15T02:06:19+00:00"></meta>
    <meta name="dcterms.title" content="Spatial and Graph Map Visualization Component Oracle Maps HTML5 JavaScript API Reference"></meta>
    <meta name="dcterms.category" content="database"></meta>
    <meta name="dcterms.isVersionOf" content="JIMJS"></meta>
    <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
    <meta name="dcterms.identifier" content="E95755-01"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  <script id="ssot-metadata" type="application/json"> {"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}} </script>
    </head>

<body dir="ltr">

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">Oracle Maps HTML5 JavaScript API参考</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation"></button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">命名空间<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="OM.html">OM</a></li><li><a href="OM.control.html">OM.control</a></li><li><a href="OM.edit.html">OM.edit</a></li><li><a href="OM.event.html">OM.event</a></li><li><a href="OM.filter.html">OM.filter</a></li><li><a href="OM.geometry.html">OM.geometry</a></li><li><a href="OM.gv.html">OM.gv</a></li><li><a href="OM.layer.html">OM.layer</a></li><li><a href="OM.lbs.html">OM.lbs</a></li><li><a href="OM.proj.html">OM.proj</a></li><li><a href="OM.server.html">OM.server</a></li><li><a href="OM.style.html">OM.style</a></li><li><a href="OM.template.html">OM.template</a></li><li><a href="OM.tool.html">OM.tool</a></li><li><a href="OM.universe.html">OM.universe</a></li><li><a href="OM.visualfilter.html">OM.visualfilter</a></li><li><a href="OM.wmts.html">OM.wmts</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">类<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="-_.html"></a></li><li><a href="-_anonymous_-OM.Class.html"><anonymous>〜OM.Class</anonymous></a></li><li><a href="-_anonymous_-OM.infowindow.MVInfoWindowTab.html"><anonymous>〜OM.infowindow。MVInfoWindowTab</anonymous></a></li><li><a href="-_anonymous_-OM.layer.TileLayerConfig.html"><anonymous>〜OM.layer。TileLayerConfig</anonymous></a></li><li><a href="-_anonymous_-OM.proj.AlbersUSA.html"><anonymous>〜OM.proj。AlbersUSA</anonymous></a></li><li><a href="-_anonymous_-OM.style.Bar.html"><anonymous>〜OM.style。酒吧</anonymous></a></li><li><a href="-_anonymous_-OM.style.PieSlice.html"><anonymous>〜OM.style。PieSlice</anonymous></a></li><li><a href="-_anonymous_-OM.style.StyleStore.html"><anonymous>〜OM.style。StyleStore</anonymous></a></li><li><a href="-_anonymous_-OM.util.GeomUtil.html"><anonymous>〜OM.util。GeomUtil</anonymous></a></li><li><a href="-_anonymous_-OM.util.WorldMercatorUtil.html"><anonymous>〜OM.util。WorldMercatorUtil</anonymous></a></li><li><a href="OM.Column.html">OM.Column</a></li><li><a href="OM.control.ButtonGroup.html">OM.control。ButtonGroup中</a></li><li><a href="OM.control.CopyRight.html">OM.control。版权</a></li><li><a href="OM.control.LayerControl.html">OM.control。LayerControl</a></li><li><a href="OM.control.Magnifier.html">OM.control。放大镜</a></li><li><a href="OM.control.MapDecoration.html">OM.control。MapDecoration</a></li><li><a href="OM.control.NavigationPanelBar.html">OM.control。NavigationPanelBar</a></li><li><a href="OM.control.ScaleBar.html">OM.control。比例尺</a></li><li><a href="OM.control.ToolBar.html">OM.control。工具栏</a></li><li><a href="OM.control.ToolButton.html">OM.control。工具按钮</a></li><li><a href="OM.edit.EditChangeEvent.html">OM.edit。EditChangeEvent</a></li><li><a href="OM.edit.EditChangeManager.html">OM.edit。EditChangeManager</a></li><li><a href="OM.edit.GeometrySegment.html">OM.edit。GeometrySegment</a></li><li><a href="OM.edit.GeometrySegmentPoint.html">OM.edit。GeometrySegmentPoint</a></li><li><a href="OM.event.Event.html">OM.event。事件</a></li><li><a href="OM.event.KeyboardEvent.html">OM.event。的KeyboardEvent</a></li><li><a href="OM.event.LayerEvent.html">OM.event。LayerEvent</a></li><li><a href="OM.event.MapDecorationEvent.html">OM.event。MapDecorationEvent</a></li><li><a href="OM.event.MapEvent.html">OM.event。MapEvent</a></li><li><a href="OM.event.MouseEvent.html">OM.event。的MouseEvent</a></li><li><a href="OM.event.ToolbarEvent.html">OM.event。ToolbarEvent</a></li><li><a href="OM.event.ToolEvent.html">OM.event。ToolEvent</a></li><li><a href="OM.Feature.html">OM.Feature</a></li><li><a href="OM.filter.All.html">OM.filter。所有</a></li><li><a href="OM.filter.And.html">OM.filter。和</a></li><li><a href="OM.filter.Any.html">OM.filter。任何</a></li><li><a href="OM.filter.AnyInteract.html">OM.filter。AnyInteract</a></li><li><a href="OM.filter.Between.html">OM.filter。之间</a></li><li><a href="OM.filter.Equals.html">OM.filter。等于</a></li><li><a href="OM.filter.Filter.html">OM.filter。过滤</a></li><li><a href="OM.filter.Greater.html">OM.filter。大</a></li><li><a href="OM.filter.GreaterEquals.html">OM.filter。GreaterEquals</a></li><li><a href="OM.filter.In.html">OM.filter。在</a></li><li><a href="OM.filter.InsidePolygon.html">OM.filter。InsidePolygon</a></li><li><a href="OM.filter.IsNotNull.html">OM.filter。IsNotNull</a></li><li><a href="OM.filter.IsNull.html">OM.filter。一片空白</a></li><li><a href="OM.filter.Less.html">OM.filter。减</a></li><li><a href="OM.filter.LessEquals.html">OM.filter。LessEquals</a></li><li><a href="OM.filter.Like.html">OM.filter。喜欢</a></li><li><a href="OM.filter.Not.html">OM.filter。不</a></li><li><a href="OM.filter.NotEquals.html">OM.filter。NotEquals</a></li><li><a href="OM.filter.Or.html">OM.filter。要么</a></li><li><a href="OM.filter.Xor.html">OM.filter。异或</a></li><li><a href="OM.geometry.Circle.html">OM.geometry。圈</a></li><li><a href="OM.geometry.Geometry.html">OM.geometry。几何</a></li><li><a href="OM.geometry.GeometryCollection.html">OM.geometry。的GeometryCollection</a></li><li><a href="OM.geometry.LineString.html">OM.geometry。线串</a></li><li><a href="OM.geometry.MultiLineString.html">OM.geometry。MULTILINESTRING</a></li><li><a href="OM.geometry.MultiPoint.html">OM.geometry。多点</a></li><li><a href="OM.geometry.MultiPolygon.html">OM.geometry。的MultiPolygon</a></li><li><a href="OM.geometry.Point.html">OM.geometry。点</a></li><li><a href="OM.geometry.Polygon.html">OM.geometry。多边形</a></li><li><a href="OM.geometry.Rectangle.html">OM.geometry。长方形</a></li><li><a href="OM.layer.BaiduTileLayer.html">OM.layer。BaiduTileLayer</a></li><li><a href="OM.layer.BuiltinExternalTileLayer.html">OM.layer。BuiltinExternalTileLayer</a></li><li><a href="OM.layer.DynamicTileLayer.html">OM.layer。DynamicTileLayer</a></li><li><a href="OM.layer.ElocationTileLayer.html">OM.layer。ElocationTileLayer</a></li><li><a href="OM.layer.GoogleTileLayer.html">OM.layer。GoogleTileLayer</a></li><li><a href="OM.layer.HereTileLayer.html">OM.layer。HereTileLayer</a></li><li><a href="OM.layer.Layer.html">OM.layer。层</a></li><li><a href="OM.layer.MarkerLayer.html">OM.layer。MarkerLayer</a></li><li><a href="OM.layer.TileLayer.html">OM.layer。TileLayer</a></li><li><a href="OM.layer.VectorLayer.html">OM.layer。VectorLayer</a></li><li><a href="OM.layer.WMSTileLayer.html">OM.layer。WMSTileLayer</a></li><li><a href="OM.layer.WMTSTileLayer.html">OM.layer。WMTSTileLayer</a></li><li><a href="OM.lbs.Address.html">OM.lbs。地址</a></li><li><a href="OM.lbs.DefaultGCResult.html">OM.lbs。DefaultGCResult</a></li><li><a href="OM.lbs.GCResult.html">OM.lbs。GCResult</a></li><li><a href="OM.lbs.GdfFormAddress.html">OM.lbs。GdfFormAddress</a></li><li><a href="OM.lbs.GenFormAddress.html">OM.lbs。GenFormAddress</a></li><li><a href="OM.lbs.Geocoder.html">OM.lbs。地理编码</a></li><li><a href="OM.lbs.Match.html">OM.lbs。比赛</a></li><li><a href="OM.lbs.MetaData.html">OM.lbs。元数据</a></li><li><a href="OM.lbs.OutputAddress.html">OM.lbs。OutputAddress</a></li><li><a href="OM.lbs.UnformatedAddress.html">OM.lbs。UnformatedAddress</a></li><li><a href="OM.lbs.USForm1Address.html">OM.lbs。USForm1Address</a></li><li><a href="OM.lbs.USForm2Address.html">OM.lbs。USForm2Address</a></li><li><a href="OM.Map.html">OM.Map</a></li><li><a href="OM.MapContext.html">OM.MapContext</a></li><li><a href="OM.MapMarker.html">OM.MapMarker</a></li><li><a href="OM.server.ServerJDBCGeorasterTheme.html">OM.server。ServerJDBCGeorasterTheme</a></li><li><a href="OM.server.ServerJDBCTheme.html">OM.server。ServerJDBCTheme</a></li><li><a href="OM.server.ServerMapRequest.html">OM.server。ServerMapRequest</a></li><li><a href="OM.server.ServerPredefinedTheme.html">OM.server。ServerPredefinedTheme</a></li><li><a href="OM.server.ServerTheme.html">OM.server。ServerTheme</a></li><li><a href="OM.style.AnimationColor.html">OM.style。AnimationColor</a></li><li><a href="OM.style.Area.html">OM.style。区域</a></li><li><a href="OM.style.BarChart.html">OM.style。BARCHART</a></li><li><a href="OM.style.BasicAnimation.html">OM.style。BasicAnimation</a></li><li><a href="OM.style.Bucket.html">OM.style。桶</a></li><li><a href="OM.style.BucketStyle.html">OM.style。BucketStyle</a></li><li><a href="OM.style.CollectionBucket.html">OM.style。CollectionBucket</a></li><li><a href="OM.style.Color.html">OM.style。颜色</a></li><li><a href="OM.style.ColorFormatter.html">OM.style。ColorFormatter</a></li><li><a href="OM.style.ColorScheme.html">OM.style。到ColorScheme</a></li><li><a href="OM.style.Div.html">OM.style。DIV</a></li><li><a href="OM.style.Formatter.html">OM.style。格式化</a></li><li><a href="OM.style.GlyphMarker.html">OM.style。GlyphMarker</a></li><li><a href="OM.style.Gradient.html">OM.style。梯度</a></li><li><a href="OM.style.HeatMap.html">OM.style。热图</a></li><li><a href="OM.style.Line.html">OM.style。线</a></li><li><a href="OM.style.LinearGradient.html">OM.style。的LinearGradient</a></li><li><a href="OM.style.Marker.html">OM.style。标记</a></li><li><a href="OM.style.PieChart.html">OM.style。饼形图</a></li><li><a href="OM.style.PulseAnimation.html">OM.style。PulseAnimation</a></li><li><a href="OM.style.RadialGradient.html">OM.style。的RadialGradient</a></li><li><a href="OM.style.RangedBucket.html">OM.style。RangedBucket</a></li><li><a href="OM.style.SizeFormatter.html">OM.style。SizeFormatter</a></li><li><a href="OM.style.StackedMarker.html">OM.style。StackedMarker</a></li><li><a href="OM.style.Style.html">OM.style。样式</a></li><li><a href="OM.style.Text.html">OM.style。文本</a></li><li><a href="OM.style.VariableMarker.html">OM.style。VariableMarker</a></li><li><a href="OM.template.Template.html">OM.template。模板</a></li><li><a href="OM.template.TemplateConfig.html">OM.template。TemplateConfig</a></li><li><a href="OM.TextFeature.html">OM.TextFeature</a></li><li><a href="OM.tool.BreakLineTool.html">OM.tool。BreakLineTool</a></li><li><a href="OM.tool.CircleTool.html">OM.tool。CircleTool</a></li><li><a href="OM.tool.DistanceTool.html">OM.tool。DistanceTool</a></li><li><a href="OM.tool.MarqueeZoomTool.html">OM.tool。MarqueeZoomTool</a></li><li><a href="OM.tool.RectangleTool.html">OM.tool。RectangleTool</a></li><li><a href="OM.tool.RedlineTool.html">OM.tool。RedlineTool</a></li><li><a href="OM.tool.RemoveVertexesTool.html">OM.tool。RemoveVertexesTool</a></li><li><a href="OM.tool.Tool.html">OM.tool。工具</a></li><li><a href="OM.tool.WhiteBoardTool.html">OM.tool。WhiteBoardTool</a></li><li><a href="OM.universe.BaiduUniverse.html">OM.universe。BaiduUniverse</a></li><li><a href="OM.universe.ElocationUniverse.html">OM.universe。ElocationUniverse</a></li><li><a href="OM.universe.LatLonUniverse.html">OM.universe。LatLonUniverse</a></li><li><a href="OM.universe.LocationBoxUniverse.html">OM.universe。LocationBoxUniverse</a></li><li><a href="OM.universe.OSMUniverse.html">OM.universe。OSMUniverse</a></li><li><a href="OM.universe.SElocationUniverse.html">OM.universe。SElocationUniverse</a></li><li><a href="OM.universe.TomTomUniverse.html">OM.universe。TomTomUniverse</a></li><li><a href="OM.universe.Universe.html">OM.universe。宇宙</a></li><li><a href="OM.universe.WorldMercatorUniverse.html">OM.universe。WorldMercatorUniverse</a></li><li><a href="OM.universe.ZoomLevel.html">OM.universe。缩放级别</a></li><li><a href="OM.visualfilter.DropShadow.html">OM.visualfilter。阴影效果</a></li><li><a href="OM.visualfilter.Glow.html">OM.visualfilter。辉光</a></li><li><a href="OM.visualfilter.VisualFilter.html">OM.visualfilter。VisualFilter</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="mixins.list.html" class="dropdown-toggle" data-toggle="dropdown">混入<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="OM.event.EventSource.html">OM.event。EventSource的</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">全球<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="global.html#addTab">addTab</a></li><li><a href="global.html#addToBaseSelArray">addToBaseSelArray</a></li><li><a href="global.html#attachTab">attachTab</a></li><li><a href="global.html#clearBaseSelArray">clearBaseSelArray</a></li><li><a href="global.html#getAllSelectedFeatures">getAllSelectedFeatures</a></li><li><a href="global.html#getBaseSelArray">getBaseSelArray</a></li><li><a href="global.html#getID">的getID</a></li><li><a href="global.html#getPanelContent">getPanelContent</a></li><li><a href="global.html#getPanelTab">getPanelTab</a></li><li><a href="global.html#getSingleTabContainer">getSingleTabContainer</a></li><li><a href="global.html#getTabHeaderTitle">getTabHeaderTitle</a></li><li><a href="global.html#getTitle">的getTitle</a></li><li><a href="global.html#getVectorLayer">getVectorLayer</a></li><li><a href="global.html#hideDrawer">hideDrawer</a></li><li><a href="global.html#initialize">初始化</a></li><li><a href="global.html#isVisible">ISVISIBLE</a></li><li><a href="global.html#moveTabsToLeft">moveTabsToLeft</a></li><li><a href="global.html#moveTabsToRight">moveTabsToRight</a></li><li><a href="global.html#publish">发布</a></li><li><a href="global.html#removeFromBaseSelArray">removeFromBaseSelArray</a></li><li><a href="global.html#setBaseSelArray">setBaseSelArray</a></li><li><a href="global.html#setPosition">setPosition两种</a></li><li><a href="global.html#showDrawer">showDrawer</a></li><li><a href="global.html#subscribe">订阅</a></li><li><a href="global.html#switchMode">开关模式</a></li><li><a href="global.html#update">更新</a></li><li><a href="global.html#updateProgress">的UpdateProgress</a></li><li><a href="global.html#updateScrollButtons">updateScrollButtons</a></li><li><a href="global.html#updateUi">updateUi</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="搜索" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	<h1 class="page-title"> <br>类：WMTSTileLayer</h1>
<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="OM.html">OM</a> <a href="OM.layer.html">.layer</a> 。</span>WMTSTileLayer</h2>
        
    
</header>


<article>
    <div class="container-overview">
    
        
<hr>
<dt>
    <h4 class="name" id="WMTSTileLayer"><span class="type-signature"></span>新的WMTSTileLayer（名称，选项）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>此类表示Oracle Map切片图层。它扩展了TileLayer<br>WMTS相关参数。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>名称</code></td>
            

            <td class="type">
            
                
<span class="param-type">串</span>



            
            </td>

            

            

            <td class="description last"><p>WMTS切片图层的唯一名称。</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>选项</code></td>
            

            <td class="type">
            
                
<span class="param-type">宾语</span>



            
            </td>

            

            

            <td class="description last"><p>一个JSON对象，指定WMTS切片图层相关参数。它可能具有以下属性。<br>  </p><ul><br>  <li>url {String}：用于获取功能xml文档的WMTS服务器URL。URL可能指向<br>任何WMTS兼容的服务器。<br>例如，url：“http://server.mygisonline.com/MyGIS/rest/services/World_Topo_Map/MapServer/wmts”，<br>或url：“http：// localhost：8080 / mapviewer / wmts / WMTSCapabilities.xml”。<br>或者，您可以下载XML文档并将其保存到应用程序可访问的文件夹中。<br>例如，url：“../ wmtstilelayers / WMTSCapabilities.xml”</li><br>  <li>layerID {String}：WMTS切片图层的ID。<br>例如：layerID：'World_Topo_Map'或layerID：'MVDEMO2：WMTS_E4'。</li><br>  <li>tileMatrixSetID {String}：tile矩阵集的ID。例如，tileMatrixSetID：“default028mm”，或tileMatrixSetID：“MVDEMO2：WMTS_E4：EPSG：3857”。</li><br>  <li>getTileTemplate {String}：可选。用于获取地图图块的模板。<br>例如：getTileTemplate：“http：// <my_wmts_server>？SERVICE = WMTS＆REQUEST = GetTile＆VERSION = 1.0.0＆LAYER = ORTOFOTOMAPA＆STYLE = {style}＆format = image / jpeg＆TileMatrixSet = {TileMatrixSet}＆TileMatrix = {TileMatrix}＆TileRow = {TileRow}＆TileCol = {TileCol} “</my_wmts_server></li><br>在此示例中，实际值将替换给定一对括号的占位符。<br> </ul></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>OM.layer的一个实例。WMTSTileLayer</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type"><a href="OM.layer.WMTSTileLayer.html">OM.layer。WMTSTileLayer</a></span>



    </dd>
</dl>


        

    
</dd>

    
    </div>

    
        <h3 class="subsection-title">扩展</h3>

        


    <ul>
        <li><a href="OM.layer.TileLayer.html">OM.layer。TileLayer</a></li>
    </ul>


    

    

    

    

    

    

    
        <h3 class="subsection-title">方法</h3>

        <dl>
            
<hr>
<dt>
    <h4 class="name" id="bringForward"><span class="type-signature"></span>向前进（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>将图层向前移动一步（靠近地图顶部）。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#bringForward">OM.layer。层＃bringForward</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>新的z指数</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">INT</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="bringToTop"><span class="type-signature"></span> bringToTop（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>将图层一直带到地图顶部</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#bringToTop">OM.layer。层＃bringToTop</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>新的z指数</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">INT</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="enableInfoWindow"><span class="type-signature"></span> enableInfoWindow（启用）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>启用或禁用功能信息窗口。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>启用</code></td>
            

            <td class="type">
            
                
<span class="param-type">布尔</span>



            
            </td>

            

            

            <td class="description last"><p>启用或禁用功能信息窗口。默认情况下，<br>信息窗口已启用。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#enableInfoWindow">OM.layer。层＃enableInfoWindow</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            


<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">空虚</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="enableUTFGridInfoWindow"><span class="type-signature"></span> enableUTFGridInfoWindow（状态）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>适用时启用或禁用UTFGrid信息窗口</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>状态</code></td>
            

            <td class="type">
            
                
<span class="param-type">布尔</span>



            
            </td>

            

            

            <td class="description last"><p>true或false以启用或禁用默认（内置）utfgrid信息窗口</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.TileLayer.html#enableUTFGridInfoWindow">OM.layer。TileLayer＃enableUTFGridInfoWindow</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getCustomTags"><span class="type-signature"></span> getCustomTags（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>从图块层获取自定义标记</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.TileLayer.html#getCustomTags">OM.layer。TileLayer＃getCustomTags</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>对象定义了自定义标记（如果有）</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">宾语</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getEnableInfoWindow"><span class="type-signature"></span> getEnableInfoWindow（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取启用infowindow状态：true表示启用，否则为false<br>信息窗口已启用。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#getEnableInfoWindow">OM.layer。层＃getEnableInfoWindow</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>对或错</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">布尔</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getName"><span class="type-signature"></span>的getName（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取图层名称。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#getName">OM.layer。层＃的getName</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>图层名称</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">串</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getOpacity"><span class="type-signature"></span> getOpacity（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取图层的当前不透明度设置。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#getOpacity">OM.layer。层＃getOpacity</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>图层的不透明度。是介于0和1之间的值。</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">浮动</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getTileLayerConfig"><span class="type-signature"></span> getTileLayerConfig（回调）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取切片图层配置。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>打回来</code></td>
            

            <td class="type">
            
                
<span class="param-type">功能</span>



            
            </td>

            

            

            <td class="description last"><p>获取切片图层配置是异步的。所以<br>你需要一个回调函数来获得结果。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.TileLayer.html#getTileLayerConfig">OM.layer。TileLayer＃getTileLayerConfig</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            


<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">空虚</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getUTFGridResolution"><span class="type-signature"></span> getUTFGridResolution（RES）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>解析并返回utfgrid分辨率</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>水库</code></td>
            

            <td class="type">
            
                
<span class="param-type">串</span>



            
            </td>

            

            

            <td class="description last"><p>utfgrid决议。可以是字符串或数字</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.TileLayer.html#getUTFGridResolution">OM.layer。TileLayer＃getUTFGridResolution</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>utfgrid决议</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">数</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getWMTS_URL"><span class="type-signature"></span> getWMTS_URL（x，y，z）</h4>
    
    
</dt>
<dd>

    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>X</code></td>
            

            <td class="type">
            
                
<span class="param-type">数</span>



            
            </td>

            

            

            <td class="description last"><p>平铺坐标x。</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ÿ</code></td>
            

            <td class="type">
            
                
<span class="param-type">数</span>



            
            </td>

            

            

            <td class="description last"><p>平铺坐标y。</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ž</code></td>
            

            <td class="type">
            
                
<span class="param-type">数</span>



            
            </td>

            

            

            <td class="description last"><p>平铺缩放级别。<br>z：缩放级别</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>图片网址</p>
</div>




        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getZIndex"><span class="type-signature"></span> getZIndex（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取图层的z-index。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#getZIndex">OM.layer。层＃getZIndex</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>z-index值。如果图层未添加到地图，则返回-1。</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">INT</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="isInZoomLevelRange"><span class="type-signature"></span> isInZoomLevelRange（curLevel）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>检查当前地图缩放级别是否在此图层的可见缩放级别范围内。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>curLevel</code></td>
            

            <td class="type">
            
                
<span class="param-type">INT</span>



            
            </td>

            

            

            <td class="description last"><p>可选，缩放级别用于检查它是否在minVisibleLevel和maxVisibleLevel范围内<br>范围。如果未指定，则使用当前缩放级别。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#isInZoomLevelRange">OM.layer。层＃isInZoomLevelRange</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>如果当前地图级别在图层的缩放级别范围内，则为true<br>它是可见的。</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">布尔</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="isVisible"><span class="type-signature"></span> ISVISIBLE（curLevel）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取图层的可见性。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>curLevel</code></td>
            

            <td class="type">
            
                
<span class="param-type">INT</span>



            
            </td>

            

            

            <td class="description last"><p>可选，缩放级别用于检查它是否在minVisibleLevel和maxVisibleLevel范围内<br>范围。如果未指定，则使用当前缩放级别。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#isVisible">OM.layer。层＃ISVISIBLE</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>如果基于主题的FOI图层当前可见，则为True，<br>如果基于主题的FOI图层当前不可见，则返回false</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">布尔</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="on"><span class="type-signature"></span>上（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>成员函数addListener的简写名称。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#on">OM.layer。层＃上</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    
        <dt class="mixes">混合物：</dt>

        <dd class="mixes"><ul>
        
            <li><a href="OM.event.EventSource.html#.on">OM.event。EventSource.on</a></li>
        
        </ul></dd>
    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="redraw"><span class="type-signature"></span>重绘（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>刷新图层现有数据的显示。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#redraw">OM.layer。层＃重绘</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>没有</p>
</div>




        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="sendBackward"><span class="type-signature"></span> sendBackward（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>将图层向后发送一步（靠近地图底部）。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#sendBackward">OM.layer。层＃sendBackward</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>新的z指数</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">INT</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="sendToBottom"><span class="type-signature"></span> sendToBottom（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>将图层一直发送到地图的底部</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#sendToBottom">OM.layer。层＃sendToBottom</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>新的z指数</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">INT</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setInfoWindowTrigger"><span class="type-signature"></span> setInfoWindowTrigger（状态）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>适用时启用或禁用UTFGridInfoWindow</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>状态</code></td>
            

            <td class="type">
            
                
<span class="param-type">布尔</span>



            
            </td>

            

            

            <td class="description last"><p>true或false以启用或禁用默认（内置）utfgrid信息窗口</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.TileLayer.html#setInfoWindowTrigger">OM.layer。TileLayer＃setInfoWindowTrigger</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setName"><span class="type-signature"></span>的setName（newName）将</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>使用给定名称设置图层名称。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>新名字</code></td>
            

            <td class="type">
            
                
<span class="param-type">串</span>



            
            </td>

            

            

            <td class="description last"><p>要分配给此图层的新图层名称。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#setName">OM.layer。层＃的setName</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            


<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">没有</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setOpacity"><span class="type-signature"></span> setOpacity（不透明度）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>设置图层的不透明度。介于0（透明网）和1（不透明）之间的值。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>不透明度</code></td>
            

            <td class="type">
            
                
<span class="param-type">浮动</span>



            
            </td>

            

            

            <td class="description last"><p>它应该是0到1之间的数字。例如0.5表示50％不透明度。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#setOpacity">OM.layer。层＃setOpacity</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            


<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">空虚</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setVisible"><span class="type-signature"></span>调用setVisible（知名度）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>设置图层的可见性。<br>请注意，如果当前地图缩放级别为，则不会进行可见性更改<br>在图层的“可见缩放级别范围”之外，由setZoomLevelRange（）方法设置。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>能见度</code></td>
            

            <td class="type">
            
                
<span class="param-type">布尔</span>



            
            </td>

            

            

            <td class="description last"><p>布尔值为true（显示图层，即使其可见）或false<br>（隐藏图层）。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#setVisible">OM.layer。层＃调用setVisible</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>空}</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">没有</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setVisibleBound"><span class="type-signature"></span> setVisibleBound（结合）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>为图层可见性设置边界（MBR）。仅呈现提供的边界内的内容。<br>也就是说，地图客户端将仅获取并显示此边界内的地图内容。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>界</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="OM.geometry.Rectangle.html">OM.geometry。长方形</a></span>



            
            </td>

            

            

            <td class="description last"><p>指定图层边界</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#setVisibleBound">OM.layer。层＃setVisibleBound</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            


<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">空虚</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setZIndex"><span class="type-signature"></span> setZIndex（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>设置图层的z-index。</p>
<p>注意：有效的层z-index应该是1到n之间的数字，其中n是<br>当前在地图中显示的图层数。当newIndex<br>setZIndex的参数小于1，将其设置为1。如果是<br>大于n，它将被设置为n。如果已分配z-Index值newIndex<br>到另一个层，然后它仍将被分配给当前层（在其上调用此函数）。<br>将为另一层中的一个或多个分配不同的z-index值。这些变化将取决于<br>此图层是插入当前图层堆栈还是仅在图层堆栈中移动。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#setZIndex">OM.layer。层＃setZIndex</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>旧的z指数</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">INT</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setZoomLevelRange"><span class="type-signature"></span> setZoomLevelRange（minLevel，maxLevel）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>设置此图层可见的缩放级别范围。默认情况下<br>将图层设置为在最小缩放级别0和最大值之间可见<br>（理论上）缩放级别为100。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>定义的MinLevel</code></td>
            

            <td class="type">
            
                
<span class="param-type">INT</span>



            
            </td>

            

            

            <td class="description last"><p>指定最小级别。该图层不会<br>如果缩放级别低于此值，则可见。</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxLevel</code></td>
            

            <td class="type">
            
                
<span class="param-type">INT</span>



            
            </td>

            

            

            <td class="description last"><p>指定最大级别。该图层不会<br>如果缩放级别高于此值，则可见。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#setZoomLevelRange">OM.layer。层＃setZoomLevelRange</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            


<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">没有</span>



    </dd>
</dl>


        

    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" aria-label="关" data-dismiss="modal"><span aria-hidden="true">×</span></button>
            <h4 class="modal-title">搜索结果</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">关</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


	<span class="copyright">版权所有©2010,2019，Oracle和/或其附属公司。版权所有。
	</span> <span class="jsdoc-message"><a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.2</a>在2019年1月9日星期三使用<a href="https://github.com/docstrap/docstrap">DocStrap模板生成的文档</a> 。
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->

<script>
	$( function () {
		$( '#main' ).localScroll( {
			offset : { top : 60 } //offset by the height of your header (give or take a few px, see what works for you)
		} );
		$( "dt.name" ).each( function () {
			var $this = $( this ).find("h4");
			var icon = $( "<i/>" ).addClass( "icon-plus-sign" ).addClass( "pull-right" ).addClass( "icon-white" );
			var dt = $(this);
			var children = dt.next( "dd" );

			dt.prepend( icon ).css( {cursor : "pointer"} );
			dt.addClass( "member-collapsed" ).addClass( "member" );


			children.hide();

			dt.children().on( "click", function () {
				children = dt.next( "dd" );
				children.slideToggle( "fast", function () {

					if ( children.is( ":visible" ) ) {
						icon.addClass( "icon-minus-sign" ).removeClass( "icon-plus-sign" ).removeClass( "icon-white" );
						dt.addClass( "member-open" ).animate( "member-collapsed" );
					} else {
						icon.addClass( "icon-plus-sign" ).removeClass( "icon-minus-sign" ).addClass( "icon-white" );
						dt.addClass( "member-collapsed" ).removeClass( "member-open" );
					}
				} );
			} );

		} );
	} );
</script>


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html><html id="10280.Data-Types.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>数据类型</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Quick Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Quick Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-quick-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-11T21:35:07-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96311-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="Subclauses.html" title="Previous" type="text/html"></link>
      <link rel="next" href="Format-Models.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Quick Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLQR"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Subclauses.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="Format-Models.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言快速参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">数据类型</li>
            </ol>
            <a id="GUID-DCCC6F18-15A0-4ECC-BA48-16F73F844844" name="GUID-DCCC6F18-15A0-4ECC-BA48-16F73F844844"></a><a id="SQLQR953"></a>
            
            <h2 id="SQLQR-GUID-DCCC6F18-15A0-4ECC-BA48-16F73F844844" class="sect2"><span class="enumeration_chapter">6种</span>数据类型</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍Oracle可识别并可在SQL中使用的数据类型。</p>
               <p>本章包括以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="Data-Types.html#GUID-B6965FC9-3660-4849-BBD6-91725986EBD0">数据类型概述</a></p>
                  </li>
                  <li>
                     <p><a href="Data-Types.html#GUID-219C338B-FE60-422A-B196-2F0A01CAD9A4">Oracle内置数据类型</a></p>
                  </li>
                  <li>
                     <p><a href="Data-Types.html#GUID-F5148A9D-3098-4067-935A-9F670991A541">Oracle提供的数据类型</a></p>
                  </li>
                  <li>
                     <p><a href="Data-Types.html#GUID-7FDD9381-7E1F-45FC-97FA-4CAFE1705350">转换为Oracle数据类型</a></p>
                  </li>
               </ul>
            </div><a id="SQLQR955"></a><a id="SQLQR956"></a><a id="SQLQR957"></a><a id="SQLQR958"></a><a id="SQLQR954"></a><div class="props_rev_3"><a id="GUID-B6965FC9-3660-4849-BBD6-91725986EBD0" name="GUID-B6965FC9-3660-4849-BBD6-91725986EBD0"></a><h3 id="SQLQR-GUID-B6965FC9-3660-4849-BBD6-91725986EBD0" class="sect3">数据类型概述</h3>
               <div>
                  <div class="section">
                     <p><span class="bold">数据类型</span>是特定类型的信息或数据的分类。Oracle操纵的每个值都有一个数据类型。值的数据类型将固定的一组属性与值相关联。这些属性使Oracle将一种数据类型的值与另一种数据类型的值区别对待。
                     </p>
                     <p>Oracle认可的数据类型包括：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B6965FC9-3660-4849-BBD6-91725986EBD0__GUID-64C75BC1-C13A-4D2A-80CA-2E6D642606F3">ANSI支持的数据类型</p><pre class="oac_no_warn" dir="ltr">{CHARACTER [VARYING]（大小）| {CHAR | NCHAR} VARYING（大小）| VARCHAR（大小）| NATIONAL {CHARACTER | CHAR} [VARYING]（大小）| {NUMERIC | DECIMAL | DEC} [（precision [，scale]）] | {INTEGER | INT | SMALLINT} | FLOAT [（size）] |双精度|真实的}</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B6965FC9-3660-4849-BBD6-91725986EBD0__GUID-DFE07D16-8053-47A9-AF2A-9B63CEBC7E61">Oracle内置数据类型</p><pre class="oac_no_warn" dir="ltr">{character_datatypes | number_datatypes | long_and_raw_datatypes | datetime_datatypes | large_object_datatypes | rowid_datatypes}</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B6965FC9-3660-4849-BBD6-91725986EBD0__GUID-CBAD879D-C635-41F6-88F1-5B9233AB39A8">Oracle提供的数据类型</p><pre class="oac_no_warn" dir="ltr">{any_types | XML_types | spatial_types | media_types}</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B6965FC9-3660-4849-BBD6-91725986EBD0__GUID-E53DE821-D840-40BF-B439-889BF3BDFF98">用户定义的数据类型</p>
                     <p>用户定义的数据类型使用Oracle内置数据类型和其他用户定义的数据类型来模拟应用程序中数据的结构和行为。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-B6965FC9-3660-4849-BBD6-91725986EBD0__GUID-50123A0D-2FE5-4E71-8EA9-D69C2F13FEE7">
                        <p class="notep1">也可以看看：</p>
                        <p>有关数据类型的更多信息，请<a href="../sqlrf/Data-Types.html#SQLRF0021" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLQR960"></a><a id="SQLQR961"></a><a id="SQLQR962"></a><a id="SQLQR963"></a><a id="SQLQR964"></a><a id="SQLQR965"></a><a id="SQLQR966"></a><a id="SQLQR959"></a><div class="props_rev_3"><a id="GUID-219C338B-FE60-422A-B196-2F0A01CAD9A4" name="GUID-219C338B-FE60-422A-B196-2F0A01CAD9A4"></a><h3 id="SQLQR-GUID-219C338B-FE60-422A-B196-2F0A01CAD9A4" class="sect3">Oracle内置数据类型</h3>
               <div>
                  <div class="section">
                     <p>本节介绍Oracle内置数据类型的种类。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-219C338B-FE60-422A-B196-2F0A01CAD9A4__GUID-8131C4D5-0E36-4502-9490-5DC01BE4DE4F"><span class="italic">character_datatypes</span></p><pre class="oac_no_warn" dir="ltr">{CHAR [（size [BYTE | CHAR]）] | VARCHAR2（大小[BYTE | CHAR]）| NCHAR [（大小）] | NVARCHAR2（大小）}</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-219C338B-FE60-422A-B196-2F0A01CAD9A4__GUID-DAAD5B8A-A637-4C76-A0F4-699FB4B13533"><span class="italic">datetime_datatypes</span></p><pre class="oac_no_warn" dir="ltr">{DATE | TIMESTAMP [（fractional_seconds_precision）] [WITH [LOCAL] TIME ZONE] |间隔年[（year_precision）]至月| INTERVAL DAY [（day_precision）] TO SECOND [（fractional_seconds_precision）]}</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-219C338B-FE60-422A-B196-2F0A01CAD9A4__GUID-296844FC-354C-44E8-81EB-9BEB8E35AE24"><span class="italic">large_object_datatypes</span></p><pre class="oac_no_warn" dir="ltr">{BLOB | CLOB | NCLOB | BFILE}</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-219C338B-FE60-422A-B196-2F0A01CAD9A4__GUID-36CA08B8-2EDB-4613-9F6B-5FDD1AA3E952"><span class="italic">long_and_raw_datatypes</span></p><pre class="oac_no_warn" dir="ltr">{LONG | LONG RAW | RAW（大小）}</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-219C338B-FE60-422A-B196-2F0A01CAD9A4__GUID-F1B20DF9-50CB-473A-9A95-71F8825E67D1"><span class="italic">number_datatypes</span></p><pre class="oac_no_warn" dir="ltr">{NUMBER [（precision [，scale]）] | FLOAT [（精度）] | BINARY_FLOAT | BINARY_DOUBLE}</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-219C338B-FE60-422A-B196-2F0A01CAD9A4__GUID-6E143082-757B-4D71-9005-470D47D523F4"><span class="italic">rowid_datatypes</span></p><pre class="oac_no_warn" dir="ltr">{ROWID | UROWID [（尺寸）]}</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>为数据类型列出的代码由Oracle数据库在内部使用。<code class="codeph">DUMP</code>函数返回列或对象属性的数据类型代码。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-219C338B-FE60-422A-B196-2F0A01CAD9A4__GUID-6F890984-CE3A-4666-B21D-64DC22013640">
                     <p class="titleintable">表6-1内置数据类型摘要</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="内置数据类型摘要" width="100%" border="1" summary="This table lists the Oracle built-in data type code numbers, their data type specifications, and  their descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="9%" id="d15856e236">码</th>
                              <th align="left" valign="bottom" width="34%" id="d15856e239">数据类型</th>
                              <th align="left" valign="bottom" width="57%" id="d15856e242">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e247" headers="d15856e236 ">
                                 <p>1</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e247 d15856e239 ">
                                 <p><code class="codeph">VARCHAR2</code> （ <span class="italic"><code class="codeph">size</code></span> [ <code class="codeph">BYTE</code> | <code class="codeph">CHAR</code> ]）</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e247 d15856e242 ">
                                 <p>具有最大长度可变长度字符串<span class="italic"><code class="codeph">size</code></span>字节或字符。您必须为<code class="codeph">VARCHAR2</code>指定<span class="italic"><code class="codeph">size</code></span> 。最小<span class="italic"><code class="codeph">size</code></span>为1个字节或1个字符。最大尺寸为：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>如果<code class="codeph">MAX_STRING_SIZE</code> <code class="codeph">=</code> <code class="codeph">EXTENDED</code> <code class="codeph">MAX_STRING_SIZE</code> 32767个字节或字符</p>
                                    </li>
                                    <li>
                                       <p>如果<code class="codeph">MAX_STRING_SIZE</code> <code class="codeph">=</code> <code class="codeph">STANDARD</code> <code class="codeph">MAX_STRING_SIZE</code> 4000字节或字符</p>
                                    </li>
                                 </ul>
                                 <p>有关<code class="codeph">MAX_STRING_SIZE</code>初始化参数的更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlqr&amp;id=SQLRF55623" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                                 </p>
                                 <p><code class="codeph">BYTE</code>表示该列将具有字节长度语义。<code class="codeph">CHAR</code>表示该列将具有字符语义。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e324" headers="d15856e236 ">
                                 <p>1</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e324 d15856e239 ">
                                 <p><code class="codeph">NVARCHAR2</code> （ <span class="italic"><code class="codeph">size</code></span> ）</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e324 d15856e242 ">
                                 <p>具有最大长度<span class="italic"><code class="codeph">size</code></span>字符的可变长度Unicode字符串。您必须为<code class="codeph">NVARCHAR2</code>指定<span class="italic"><code class="codeph">size</code></span> 。字节数可以是最多两次<span class="italic"><code class="codeph">size</code></span>为<code class="codeph">AL16UTF16</code>编码和三倍<span class="italic"><code class="codeph">size</code></span>为<code class="codeph">UTF8</code>编码。最大<span class="italic"><code class="codeph">size</code></span>由国家字符集定义决定，上限为：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>如果<code class="codeph">MAX_STRING_SIZE</code> <code class="codeph">=</code> <code class="codeph">EXTENDED</code> <code class="codeph">MAX_STRING_SIZE</code> 32767个字节</p>
                                    </li>
                                    <li>
                                       <p>如果<code class="codeph">MAX_STRING_SIZE</code> <code class="codeph">=</code> <code class="codeph">STANDARD</code> <code class="codeph">MAX_STRING_SIZE</code> 4000字节</p>
                                    </li>
                                 </ul>
                                 <p>有关<code class="codeph">MAX_STRING_SIZE</code>初始化参数的更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlqr&amp;id=SQLRF55623" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e403" headers="d15856e236 ">
                                 <p>2</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e403 d15856e239 ">
                                 <p><code class="codeph">NUMBER</code> [（ <span class="italic"><code class="codeph">p</code></span> [， <span class="italic"><code class="codeph">s</code></span> ]）]</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e403 d15856e242 ">
                                 <p>具有精度<span class="italic"><code class="codeph">p</code></span>和比例<span class="italic"><code class="codeph">s</code></span> 。精度<span class="italic"><code class="codeph">p</code></span>范围可以是1到38。标度<span class="italic"><code class="codeph">s</code></span>范围可以从-84到127。精度和标度都是十进制数字。<code class="codeph">NUMBER</code>值需要1到22个字节。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e442" headers="d15856e236 ">
                                 <p>2</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e442 d15856e239 ">
                                 <p><code class="codeph">FLOAT</code> [（ <span class="italic"><code class="codeph">p</code></span> ）]</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e442 d15856e242 ">
                                 <p>具有精度<span class="italic"><code class="codeph">p</code></span>的<code class="codeph">NUMBER</code>数据类型的子类型。<code class="codeph">FLOAT</code>值在内部表示为<code class="codeph">NUMBER</code> 。精度<span class="italic"><code class="codeph">p</code></span>范围可以是1到126个二进制数字。<code class="codeph">FLOAT</code>值需要1到22个字节。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e479" headers="d15856e236 ">
                                 <p>8</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e479 d15856e239 ">
                                 <p><code class="codeph">长</code></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e479 d15856e242 ">
                                 <p>可变长度的字符数据，最大2千兆字节，或2 <sup>31</sup> -1字节。提供向后兼容性。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e493" headers="d15856e236 ">
                                 <p>12</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e493 d15856e239 ">
                                 <p><code class="codeph">日期</code></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e493 d15856e242 ">
                                 <p>有效日期范围从公元前4712年1月1日到公元9999年12月31日。默认格式由<code class="codeph">NLS_DATE_FORMAT</code>参数显式确定，或由<code class="codeph">NLS_TERRITORY</code>参数隐式确定。大小固定为7个字节。此数据类型包含日期时间字段<code class="codeph">YEAR</code> ， <code class="codeph">MONTH</code> ， <code class="codeph">DAY</code> ， <code class="codeph">HOUR</code> ， <code class="codeph">MINUTE</code>和<code class="codeph">SECOND</code> 。它没有小数秒或时区。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e529" headers="d15856e236 ">
                                 <p>100</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e529 d15856e239 ">
                                 <p><code class="codeph">BINARY_FLOAT</code></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e529 d15856e242 ">
                                 <p>32位浮点数。此数据类型需要4个字节。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e540" headers="d15856e236 ">
                                 <p>101</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e540 d15856e239 ">
                                 <p><code class="codeph">BINARY_DOUBLE</code></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e540 d15856e242 ">
                                 <p>64位浮点数。此数据类型需要8个字节。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e551" headers="d15856e236 ">
                                 <p>180</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e551 d15856e239 ">
                                 <p><code class="codeph">TIMESTAMP</code> [（ <span class="italic"><code class="codeph">fractional_seconds_precision</code></span> ）]</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e551 d15856e242 ">
                                 <p>日期的年，月和日值，以及小时，分钟和秒的时间值，其中<span class="italic"><code class="codeph">fractional_seconds_precision</code></span>是<code class="codeph">SECOND</code>日期时间字段的小数部分中的位数。<span class="italic"><code class="codeph">fractional_seconds_precision</code></span>可接受值为0到9。默认值为6。默认格式由<code class="codeph">NLS_TIMESTAMP_FORMAT</code>参数显式确定，或由<code class="codeph">NLS_TERRITORY</code>参数隐式确定。大小为7或11个字节，具体取决于精度。此数据类型包含日期时间字段<code class="codeph">YEAR</code> ， <code class="codeph">MONTH</code> ， <code class="codeph">DAY</code> ， <code class="codeph">HOUR</code> ， <code class="codeph">MINUTE</code>和<code class="codeph">SECOND</code> 。它包含小数秒，但没有时区。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e603" headers="d15856e236 ">
                                 <p>181</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e603 d15856e239 ">
                                 <p><code class="codeph">TIMESTAMP</code> [（ <span class="italic"><code class="codeph">fractional_seconds_precision</code></span> ）] <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e603 d15856e242 ">
                                 <p><code class="codeph">TIMESTAMP</code>所有值以及时区位移值，其中<span class="italic"><code class="codeph">fractional_seconds_precision</code></span>是<code class="codeph">SECOND</code>日期时间字段的小数部分中的位数。可接受的值为0到9。默认值为6。默认格式由<code class="codeph">NLS_TIMESTAMP_FORMAT</code>参数显式确定，或由<code class="codeph">NLS_TERRITORY</code>参数隐式确定。大小固定为13个字节。此数据类型包含日期时间字段<code class="codeph">YEAR</code> ， <code class="codeph">MONTH</code> ， <code class="codeph">DAY</code> ， <code class="codeph">HOUR</code> ， <code class="codeph">MINUTE</code> ， <code class="codeph">SECOND</code> ， <code class="codeph">TIMEZONE_HOUR</code>和<code class="codeph">TIMEZONE_MINUTE</code> 。它具有小数秒和显式时区。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e669" headers="d15856e236 ">
                                 <p>231</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e669 d15856e239 ">
                                 <p><code class="codeph">TIMESTAMP</code> [（ <span class="italic"><code class="codeph">fractional_seconds_precision</code></span> ）] <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e669 d15856e242 ">
                                 <p><code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>所有值，但以下情况除外：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>当数据存储在数据库中时，数据被标准化为数据库时区。</p>
                                    </li>
                                    <li>
                                       <p>检索数据时，用户会在会话时区中看到数据。</p>
                                    </li>
                                 </ul>
                                 <p>默认格式由<code class="codeph">NLS_TIMESTAMP_FORMAT</code>参数显式确定，或由<code class="codeph">NLS_TERRITORY</code>参数隐式确定。大小为7或11个字节，具体取决于精度。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e724" headers="d15856e236 ">
                                 <p>182</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e724 d15856e239 ">
                                 <p><code class="codeph">INTERVAL</code> <code class="codeph">YEAR</code> [（ <span class="italic"><code class="codeph">year_precision</code></span> ）] <code class="codeph">TO</code> <code class="codeph">MONTH</code></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e724 d15856e242 ">
                                 <p>存储一段时间（以年和月为单位），其中<span class="italic"><code class="codeph">year_precision</code></span>是<code class="codeph">YEAR</code>日期时间字段中的位数。可接受的值为0到9。默认值为2。大小固定为5个字节。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e755" headers="d15856e236 ">
                                 <p>183</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e755 d15856e239 ">
                                 <p><code class="codeph">INTERVAL</code> <code class="codeph">DAY</code> [（ <span class="italic"><code class="codeph">day_precision</code></span> ）] <code class="codeph">TO</code> <code class="codeph">SECOND</code> [（ <span class="italic"><code class="codeph">fractional_seconds_precision</code></span> ）]</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e755 d15856e242 ">
                                 <p>以天，小时，分钟和秒为单位存储一段时间</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="italic"><code class="codeph">day_precision</code></span>是<code class="codeph">DAY</code> datetime字段中的最大位数。可接受的值为0到9。默认值为2。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="italic"><code class="codeph">fractional_seconds_precision</code></span>是<code class="codeph">SECOND</code>字段小数部分的位数。可接受的值为0到9。默认值为6。
                                       </p>
                                    </li>
                                 </ul>
                                 <p>大小固定为11个字节。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e805" headers="d15856e236 ">
                                 <p>23</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e805 d15856e239 ">
                                 <p><code class="codeph">RAW</code> （ <span class="italic"><code class="codeph">size</code></span> ）</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e805 d15856e242 ">
                                 <p>长度<span class="italic"><code class="codeph">size</code></span>字节的原始二进制数据。您必须指定<code class="codeph">RAW</code>值的<span class="italic"><code class="codeph">size</code></span> 。最大<span class="italic"><code class="codeph">size</code></span>为：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>如果<code class="codeph">MAX_STRING_SIZE</code> <code class="codeph">=</code> <code class="codeph">EXTENDED</code> <code class="codeph">MAX_STRING_SIZE</code> 32767个字节</p>
                                    </li>
                                    <li>
                                       <p>如果<code class="codeph">MAX_STRING_SIZE</code> <code class="codeph">=</code> <code class="codeph">STANDARD</code> <code class="codeph">MAX_STRING_SIZE</code> 2000字节</p>
                                    </li>
                                 </ul>
                                 <p>有关<code class="codeph">MAX_STRING_SIZE</code>初始化参数的更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlqr&amp;id=SQLRF55623" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e869" headers="d15856e236 ">
                                 <p>24</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e869 d15856e239 ">
                                 <p><code class="codeph">LONG RAW</code></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e869 d15856e242 ">
                                 <p>可变长度的原始二进制数据，最大为2千兆字节。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e880" headers="d15856e236 ">
                                 <p>69</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e880 d15856e239 ">
                                 <p><code class="codeph">ROWID</code></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e880 d15856e242 ">
                                 <p>Base 64字符串，表示其表中行的唯一地址。此数据类型主要用于<code class="codeph">ROWID</code>伪列返回的值。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e894" headers="d15856e236 ">
                                 <p>208</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e894 d15856e239 ">
                                 <p><code class="codeph">UROWID</code> [（ <span class="italic"><code class="codeph">size</code></span> ）]</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e894 d15856e242 ">
                                 <p>Base 64字符串，表示索引组织表的一行的逻辑地址。可选<span class="italic"><code class="codeph">size</code></span>是<code class="codeph">UROWID</code>类型的列的大小。最大大小和默认值为4000字节。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e917" headers="d15856e236 ">
                                 <p>96</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e917 d15856e239 ">
                                 <p><code class="codeph">CHAR</code> [（ <span class="italic"><code class="codeph">size</code></span> [ <code class="codeph">BYTE</code> | <code class="codeph">CHAR</code> ]）]</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e917 d15856e242 ">
                                 <p>长度<span class="italic"><code class="codeph">size</code></span>字节或字符的定长字符数据。最大<span class="italic"><code class="codeph">size</code></span>为2000字节或字符。默认和最小<span class="italic"><code class="codeph">size</code></span>为1个字节。
                                 </p>
                                 <p><code class="codeph">BYTE</code>和<code class="codeph">CHAR</code>具有与<code class="codeph">VARCHAR2</code>相同的语义。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e961" headers="d15856e236 ">
                                 <p>96</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e961 d15856e239 ">
                                 <p><code class="codeph">NCHAR</code> [（ <span class="italic"><code class="codeph">size</code></span> ）]</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e961 d15856e242 ">
                                 <p>长度<span class="italic"><code class="codeph">size</code></span>字符的定长字符数据。字节数可以是最多两次<span class="italic"><code class="codeph">size</code></span>为<code class="codeph">AL16UTF16</code>编码和三倍<span class="italic"><code class="codeph">size</code></span>为<code class="codeph">UTF8</code>编码。最大<span class="italic"><code class="codeph">size</code></span>由国家字符集定义决定，上限为2000字节。默认和最小<span class="italic"><code class="codeph">size</code></span>为1个字符。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e1004" headers="d15856e236 ">
                                 <p>112</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e1004 d15856e239 ">
                                 <p><code class="codeph">CLOB</code></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e1004 d15856e242 ">
                                 <p>包含单字节或多字节字符的字符大对象。使用数据库字符集支持固定宽度和可变宽度字符集。最大大小为（4千兆字节-1）*（数据库块大小）。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e1015" headers="d15856e236 ">
                                 <p>112</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e1015 d15856e239 ">
                                 <p><code class="codeph">NCLOB</code></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e1015 d15856e242 ">
                                 <p>包含Unicode字符的字符大对象。支持固定宽度和可变宽度字符集，两者都使用数据库国家字符集。最大大小为（4千兆字节-1）*（数据库块大小）。存储国家字符集数据。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e1026" headers="d15856e236 ">
                                 <p>113</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e1026 d15856e239 ">
                                 <p><code class="codeph">BLOB</code></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e1026 d15856e242 ">
                                 <p>二进制大对象。最大大小为（4千兆字节-1）*（数据库块大小）。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="9%" id="d15856e1038" headers="d15856e236 ">
                                 <p>114</p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d15856e1038 d15856e239 ">
                                 <p><code class="codeph">BFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d15856e1038 d15856e242 ">
                                 <p>包含存储在数据库外部的大型二进制文件的定位器。启用对驻留在数据库服务器上的外部LOB的字节流I / O访问。最大大小为4千兆字节。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-219C338B-FE60-422A-B196-2F0A01CAD9A4__GUID-A9FBE1AA-5D11-4244-9023-B212DAA03346">
                        <p class="notep1">也可以看看：</p>
                        <p>有关内置数据类型的更多信息，请<a href="../sqlrf/Data-Types.html#SQLRF30020" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLQR968"></a><a id="SQLQR971"></a><a id="SQLQR970"></a><a id="SQLQR969"></a><a id="SQLQR967"></a><div class="props_rev_3"><a id="GUID-F5148A9D-3098-4067-935A-9F670991A541" name="GUID-F5148A9D-3098-4067-935A-9F670991A541"></a><h3 id="SQLQR-GUID-F5148A9D-3098-4067-935A-9F670991A541" class="sect3">Oracle提供的数据类型</h3>
               <div>
                  <div class="section">
                     <p>本节介绍Oracle提供的数据类型的语法。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F5148A9D-3098-4067-935A-9F670991A541__GUID-7155F231-C686-4EA9-BB73-748666888817"><span class="italic">any_types</span> 
                     </p><pre class="oac_no_warn" dir="ltr">{SYS.AnyData | SYS.AnyType | SYS.AnyDataSet}</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F5148A9D-3098-4067-935A-9F670991A541__GUID-CC971C4C-DF8C-4134-8C55-45EF0C3A671F"><span class="italic">spatial_types</span> 
                     </p><pre class="oac_no_warn" dir="ltr">{SDO_Geometry | SDO_Topo_Geometry | SDO_GeoRaster}</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F5148A9D-3098-4067-935A-9F670991A541__GUID-6069FC4B-FB3B-40A6-B3B9-786B21222E1A"><span class="italic">XML_types</span> 
                     </p><pre class="oac_no_warn" dir="ltr">{XMLType | URIType}</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLQR974"></a><a id="SQLQR975"></a><a id="SQLQR973"></a><div class="props_rev_3"><a id="GUID-7FDD9381-7E1F-45FC-97FA-4CAFE1705350" name="GUID-7FDD9381-7E1F-45FC-97FA-4CAFE1705350"></a><h3 id="SQLQR-GUID-7FDD9381-7E1F-45FC-97FA-4CAFE1705350" class="sect3">转换为Oracle数据类型</h3>
               <div>
                  <div class="section">
                     <p><a id="d15856e1151" class="indexterm-anchor"></a>创建表和集群的SQL语句也可以使用IBM产品SQL / DS和DB2中的ANSI数据类型和数据类型。Oracle识别与Oracle数据类型名称不同的ANSI或IBM数据类型名称，将其记录为列的数据类型的名称，然后根据以下所示的转换将列数据存储在Oracle数据类型中表。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-7FDD9381-7E1F-45FC-97FA-4CAFE1705350__GUID-E78C4AF0-0D7D-457A-B8E3-FBAB09AD3F44">
                     <p class="titleintable">表6-2转换为Oracle数据类型的ANSI数据类型</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="ANSI数据类型转换为Oracle数据类型" width="100%" border="1" summary="This table lists the ANSI SQL data types and the corresponding Oracle data types." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="50%" id="d15856e1166">ANSI SQL数据类型</th>
                              <th align="left" valign="bottom" width="50%" id="d15856e1169">Oracle数据类型</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d15856e1174" headers="d15856e1166 ">
                                 <p><code class="codeph">CHARACTER（N）</code> 
                                 </p>
                                 <p><code class="codeph">CHAR（N）</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d15856e1174 d15856e1169 ">
                                 <p><code class="codeph">CHAR（N）</code> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d15856e1189" headers="d15856e1166 ">
                                 <p><code class="codeph">字符变化（n）</code> 
                                 </p>
                                 <p><code class="codeph">CHAR VARYING（n）</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d15856e1189 d15856e1169 ">
                                 <p><code class="codeph">VARCHAR2（N）</code> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d15856e1204" headers="d15856e1166 ">
                                 <p><code class="codeph">国家特征（n）</code> 
                                 </p>
                                 <p><code class="codeph">NATIONAL CHAR（n）</code> 
                                 </p>
                                 <p><code class="codeph">NCHAR（N）</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d15856e1204 d15856e1169 ">
                                 <p><code class="codeph">NCHAR（N）</code> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d15856e1223" headers="d15856e1166 ">
                                 <p><code class="codeph">国家特征变化（n）</code> 
                                 </p>
                                 <p><code class="codeph">国家角色变化（n）</code> 
                                 </p>
                                 <p><code class="codeph">NCHAR变化（n）</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d15856e1223 d15856e1169 ">
                                 <p><code class="codeph">NVARCHAR2（N）</code> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d15856e1242" headers="d15856e1166 ">
                                 <p><code class="codeph">NUMERIC [（P，S）]</code> 
                                 </p>
                                 <p><code class="codeph">DECIMAL[(p,s)]</code> （ <span class="bold">注1</span> ）</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d15856e1242 d15856e1169 ">
                                 <p><code class="codeph">NUMBER（P，S）</code> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d15856e1260" headers="d15856e1166 ">
                                 <p><code class="codeph">整数</code> 
                                 </p>
                                 <p><code class="codeph">INT</code> 
                                 </p>
                                 <p><code class="codeph">SMALLINT</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d15856e1260 d15856e1169 ">
                                 <p><code class="codeph">号（P，0）</code> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d15856e1279" headers="d15856e1166 ">
                                 <p><code class="codeph">FLOAT</code> （ <span class="bold">注2</span> ）</p>
                                 <p><code class="codeph">DOUBLE PRECISION</code> （ <span class="bold">注3</span> ）</p>
                                 <p><code class="codeph">REAL</code> （ <span class="bold">注4</span> ）</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d15856e1279 d15856e1169 ">
                                 <p><code class="codeph">FLOAT（126）</code> 
                                 </p>
                                 <p><code class="codeph">FLOAT（126）</code></p>
                                 <p><code class="codeph">FLOAT（63）</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7FDD9381-7E1F-45FC-97FA-4CAFE1705350__GUID-94CA9ECF-B154-462D-AC05-8578E7203B6F">笔记：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ol>
                        <li>
                           <p><code class="codeph">NUMERIC</code>和<code class="codeph">DECIMAL</code>数据类型只能指定定点数。对于那些数据类型，规模（ <code class="codeph">s</code> ）默认值为0。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">FLOAT</code>数据类型是具有二进制精度b的浮点数。此数据类型的默认精度为126二进制或38十进制。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DOUBLE PRECISION</code>数据类型是二进制精度为126的浮点数。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">REAL</code>数据类型是一个浮点数，二进制精度为63或十进制18。
                           </p>
                        </li>
                     </ol>
                     <p><a id="d15856e1348" class="indexterm-anchor"></a><a id="d15856e1352" class="indexterm-anchor"></a><a id="d15856e1356" class="indexterm-anchor"></a><a id="d15856e1360" class="indexterm-anchor"></a><a id="d15856e1364" class="indexterm-anchor"></a><a id="d15856e1368" class="indexterm-anchor"></a><a id="d15856e1372" class="indexterm-anchor"></a>做<a id="d15856e1377" class="indexterm-anchor"></a><a id="d15856e1381" class="indexterm-anchor"></a><a id="d15856e1385" class="indexterm-anchor"></a><a id="d15856e1390" class="indexterm-anchor"></a><a id="d15856e1394" class="indexterm-anchor"></a>不<a id="d15856e1399" class="indexterm-anchor"></a><a id="d15856e1403" class="indexterm-anchor"></a><a id="d15856e1407" class="indexterm-anchor"></a><a id="d15856e1411" class="indexterm-anchor"></a><a id="d15856e1415" class="indexterm-anchor"></a>限定<a id="d15856e1420" class="indexterm-anchor"></a><a id="d15856e1424" class="indexterm-anchor"></a>具有以下SQL / DS和DB2数据类型的列，因为它们没有相应的Oracle数据类型：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">GRAPHIC</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">LONG</code> <code class="codeph">VARGRAPHIC</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">VARGRAPHIC</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">时间</code></p>
                        </li>
                     </ul>
                     <p>请注意， <code class="codeph">TIME</code>类型的数据也可以表示为Oracle datetime数据。
                     </p>
                     <div class="infoboxnotealso" id="GUID-7FDD9381-7E1F-45FC-97FA-4CAFE1705350__GUID-00F9356A-CD73-4C68-A192-C2B01371F3CF">
                        <p class="notep1">也可以看看：</p>
                        <p>有关数据类型的更多信息，请<a href="../sqlrf/Data-Types.html#SQLRF0021" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="10435.CREATE-MATERIALIZED-VIEW-LOG.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>创建物化视图日志</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="CREATE-MATERIALIZED-VIEW.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CREATE-MATERIALIZED-ZONEMAP.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CREATE-MATERIALIZED-VIEW.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CREATE-MATERIALIZED-ZONEMAP.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-CREATE-LIBRARY-to-CREATE-SCHEMA.html" property="item" typeof="WebPage"><span property="name">SQL语句：CREATE LIBRARY以创建SCHEMA</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">创建物化视图日志</li>
            </ol>
            <a id="GUID-13902019-D044-4B79-9EB4-1F60652D037B" name="GUID-13902019-D044-4B79-9EB4-1F60652D037B"></a><a id="SQLRF54193"></a><a id="SQLRF54194"></a><a id="SQLRF54195"></a><a id="SQLRF54196"></a><a id="SQLRF54197"></a><a id="SQLRF54198"></a><a id="SQLRF56063"></a><a id="SQLRF54199"></a><a id="SQLRF54200"></a><a id="SQLRF54201"></a><a id="SQLRF54202"></a><a id="SQLRF54203"></a><a id="SQLRF54204"></a><a id="SQLRF54205"></a><a id="SQLRF54206"></a><a id="SQLRF54207"></a><a id="SQLRF54208"></a><a id="SQLRF54209"></a><a id="SQLRF54210"></a><a id="SQLRF54211"></a><a id="SQLRF54212"></a><a id="SQLRF54213"></a><a id="SQLRF54214"></a><a id="SQLRF54215"></a><a id="SQLRF54216"></a><a id="SQLRF54217"></a><a id="SQLRF54218"></a><a id="SQLRF54219"></a><a id="SQLRF54220"></a><a id="SQLRF54221"></a><a id="SQLRF54222"></a><a id="SQLRF56064"></a><a id="SQLRF56087"></a><a id="SQLRF56088"></a><a id="SQLRF56089"></a><a id="SQLRF54223"></a><a id="SQLRF54224"></a><a id="SQLRF54225"></a><a id="SQLRF54226"></a><a id="SQLRF54227"></a><a id="SQLRF56105"></a><a id="SQLRF01303"></a>
            
            <h2 id="SQLRF-GUID-13902019-D044-4B79-9EB4-1F60652D037B" class="sect2">创建物化视图日志</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-CAD93634-C259-49A3-ACD5-EFC28B28F5CE">目的</p>
                  <p><a id="d331641e238" class="indexterm-anchor"></a><a id="d331641e240" class="indexterm-anchor"></a><a id="d331641e244" class="indexterm-anchor"></a><a id="d331641e248" class="indexterm-anchor"></a>使用<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> <code class="codeph">LOG</code>语句创建<code class="codeph">LOG</code> <span class="bold">化视图日志</span> ，该<span class="bold">日志</span>是与实例化视图的主表关联的表。
                  </p>
                  <div class="infoboxnote" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-EC077B6D-CCE4-425A-8DF9-243D66CA75AF">
                     <p class="notep1">注意：</p>
                     <p>支持使用关键字<code class="codeph">SNAPSHOT</code>代替<code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>以实现向后兼容。
                     </p>
                  </div>
                  <p>物化视图日志用于两种类型的物化视图刷新：快速刷新和同步刷新。</p>
                  <p><span class="bold">快速</span> <span class="bold">刷新</span>使用传统的物化视图日志。在快速刷新（也称为增量刷新）期间，当对主表数据进行DML更改时，Oracle数据库会在物化视图日志中存储描述这些更改的行，然后使用物化视图日志根据主表刷新实例化视图。
                  </p>
                  <p><span class="bold">同步</span> <span class="bold">刷新</span>使用称为<span class="bold">暂存</span> <span class="bold">日志</span>的特殊类型的物化视图<span class="bold">日志</span> 。在同步刷新期间，首先在暂存日志中描述DML更改，然后同时将其应用于主表和实例化视图。这保证了主表数据和物化视图数据在整个刷新过程中保持同步。此刷新方法在数据仓库环境中很有用。
                  </p>
                  <p>如果没有物化视图日志，Oracle数据库必须重新执行物化视图查询以刷新物化视图。此过程称为<span class="bold">完全刷新</span> 。通常，完全刷新比快速刷新或同步刷新需要更多时间。
                  </p>
                  <p>物化视图日志位于master数据库中与主表相同的模式中。主表只能在其上定义一个物化视图日志。</p>
                  <p><a id="d331641e311" class="indexterm-anchor"></a><a id="d331641e313" class="indexterm-anchor"></a>要快速刷新或同步刷新实例化连接视图，必须为实例化视图引用的每个表创建实例化视图日志。
                  </p>
                  <p>快速刷新支持两种类型的物化视图日志：基于时间戳的物化视图日志和提交基于SCN的物化视图日志。基于时间戳的物化视图日志使用时间戳，并在准备刷新物化视图时需要一些设置操作。提交基于SCN的物化视图日志使用提交SCN数据而不是时间戳，这消除了对设置操作的需要，从而可以提高物化视图刷新的速度。如果指定<code class="codeph">COMMIT</code> <code class="codeph">SCN</code>子句，则会创建基于提交SCN的实例化视图日志。否则，将创建基于时间戳的物化视图日志。请注意，只有新的物化视图日志才能利用<code class="codeph">COMMIT</code> <code class="codeph">SCN</code> 。除非删除并重新创建<code class="codeph">COMMIT</code> <code class="codeph">SCN</code>否则不能更改现有的物化视图日志。有关更多信息，请参阅<a href="../dwhsg/refreshing-materialized-views.html#DWHSG0319" target="_blank"><span class="italic">Oracle数据库数据仓库指南</span></a> 。
                  </p>
                  <p>同步刷新仅支持基于时间戳的登台日志。</p>
                  <div class="infoboxnotealso" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-6C1CE8D6-9EF8-4056-ABED-528872185C7A">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B">创建物化视图</a> ， <a href="ALTER-MATERIALIZED-VIEW.html#GUID-29EE5682-AE42-4879-ABAD-E34E66ADD233">更改物化视图</a> ， <a href="../cncpt/partitions-views-and-other-schema-objects.html#CNCPT411" target="_blank"><span class="italic">Oracle数据库概念</span></a> ， <a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle数据库数据仓库指南</span></a>和<a href="../admin/read-only-materialized-view-concepts.html#ADMIN-GUID-A422B474-4BED-4A60-AEDB-E93630746083" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a> ，了解有关物化视图的信息</p>
                        </li>
                        <li>
                           <p><a href="ALTER-MATERIALIZED-VIEW-LOG.html#GUID-4DAD5E6F-E30A-43D0-B023-634752E0E627">ALTER MATERIALIZED VIEW LOG</a>有关修改物化视图日志的信息</p>
                        </li>
                        <li>
                           <p>有关删除物化视图日志的信息，请使用<a href="DROP-MATERIALIZED-VIEW-LOG.html#GUID-878A08F7-CB95-4911-BE2E-9FEED8861410">DROP MATERIALIZED VIEW LOG</a></p>
                        </li>
                        <li>
                           <p>有关使用直接加载程序日志的信息，请参阅<a href="../sutil/oracle-sql-loader-concepts.html#SUTIL003" target="_blank"><span class="italic">Oracle数</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-37B82F6F-0710-467F-901C-339F528DDE11">先决条件</p>
                  <p>创建实例化视图日志所需的权限直接与创建与实例化视图日志关联的基础对象所需的权限相关。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果您拥有主表，则可以创建关联的物化视图日志（如果您具有<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>权限）。
                        </p>
                     </li>
                     <li>
                        <p>如果要为另一个用户的模式中的表创建实例化视图日志，则必须具有<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>和<code class="codeph">COMMENT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>系统特权，以及主表或<code class="codeph">READ</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>上的<code class="codeph">READ</code>或<code class="codeph">SELECT</code>对象特权。或<code class="codeph">SELECT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>系统特权。
                        </p>
                     </li>
                  </ul>
                  <p>在任何一种情况下，物化视图日志的所有者必须在用于保存物化视图日志的表空间中具有足够的配额，或者必须具有<code class="codeph">UNLIMITED</code> <code class="codeph">TABLESPACE</code>系统特权。
                  </p>
                  <div class="infoboxnotealso" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-A940E096-1960-41BA-949D-3BED64486A8F">
                     <p class="notep1">也可以看看：</p>
                     <p>有关创建实例化视图日志的先决条件的详细信息，请<a href="../dwhsg/index.html" target="_blank"><span class="italic">参见“Oracle数据库数据仓库指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-1401AE4A-1BC3-4054-9A24-BBAA819C1BFC">限制</p>
                  <p><code class="codeph">CREATE MATERIALIZED VIEW LOG</code>语句不支持主表中的以下列：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>隐藏的列</p>
                     </li>
                     <li>
                        <p>标识列</p>
                     </li>
                     <li>
                        <p><code class="codeph">BFILE</code>列</p>
                     </li>
                     <li>
                        <p>时间有效性列</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-F63D6CC7-7B46-47D0-BB34-CE5CBE4DA768">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-16CD4370-AB96-4A76-90D6-6F7D41BBC97B"><span class="italic">create_materialized_vw_log</span> :: =</p>
                  <div class="figure" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-A0E9CFAE-2DE6-4EF7-B868-0BCF04295041"><img src="img/create_materialized_vw_log.gif" alt="下面是create_materialized_vw_log.eps的描述" title="下面是create_materialized_vw_log.eps的描述" longdesc="img_text/create_materialized_vw_log.html"><br><a href="img_text/create_materialized_vw_log.html">说明create_materialized_vw_log.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2116626">physical_attributes_clause :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW-LOG.html#GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2117068">logging_clause :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW-LOG.html#GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2116510">parallel_clause :: =</a></span> ， <span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2129707">table_partitioning_clauses :: =</a></span> （在<code class="codeph">CREATE</code> <code class="codeph">TABLE</code> ）， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW-LOG.html#GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2117146">new_values_clause :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW-LOG.html#GUID-13902019-D044-4B79-9EB4-1F60652D037B__CACBGACI">mv_log_purge_clause :: =</a></span> ， <span class="italic"><a href="CREATE-MATERIALIZED-VIEW-LOG.html#GUID-13902019-D044-4B79-9EB4-1F60652D037B__CCHGAFBA">for_refresh_clause :: =</a></span> 。）
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-52DB2797-551C-4962-8AC9-6F5180920555"><span class="italic">physical_attributes_clause</span> :: =</p>
                  <div class="figure" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-C228A913-BF38-4E7C-BB26-8812EDD9EC04"><img src="img/physical_attributes_clause.gif" alt="physical_attributes_clause.eps的描述如下" title="physical_attributes_clause.eps的描述如下" longdesc="img_text/physical_attributes_clause.html"><br><a href="img_text/physical_attributes_clause.html">physical_attributes_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="storage_clause.html#GUID-C5A67610-3160-41E9-8D48-03206BD5ED15__CJACEJGB">storage_clause :: =</a></span> <span class="bold"><tt></tt></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2117068">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-D988D1A4-60D3-4440-9D9B-D9173A43A54A"><span class="italic">logging_clause</span> :: =</p>
                  <div class="figure" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-A92AB4EA-6F78-44AD-8988-011E93A175E9"><img src="img/logging_clause.gif" alt="logging_clause.eps的描述如下" title="logging_clause.eps的描述如下" longdesc="img_text/logging_clause.html"><br><a href="img_text/logging_clause.html">说明logging_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2116510">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-22ED127A-A6BE-4ECD-82DA-577CE77B0028"><span class="italic">parallel_clause</span> :: =</p><a id="d331641e566" class="indexterm-anchor"></a><div class="figure" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-3ACF11D4-9D84-43BA-82D9-2545C5042D33"><img src="img/parallel_clause.gif" alt="parallel_clause.eps的描述如下" title="parallel_clause.eps的描述如下" longdesc="img_text/parallel_clause.html"><br><a href="img_text/parallel_clause.html">parallel_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2117146">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-D0A08836-24A8-4642-8B31-70AB9B600BEB"><span class="italic">new_values_clause</span> :: =</p>
                  <div class="figure" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-A4F0D79B-61BC-4D9B-AD4A-6659EF278ECD"><img src="img/new_values_clause.gif" alt="下面是new_values_clause.eps的描述" title="下面是new_values_clause.eps的描述" longdesc="img_text/new_values_clause.html"><br><a href="img_text/new_values_clause.html">插图说明new_values_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__CACBGACI">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-773A151C-A0D8-4E79-8C72-580CC1FFB9E8"><span class="italic">mv_log_purge_clause</span> :: =</p>
                  <div class="figure" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-32760C17-FD83-4EF9-BDA0-0EC718189307"><img src="img/mv_log_purge_clause.gif" alt="下面是mv_log_purge_clause.eps的描述" title="下面是mv_log_purge_clause.eps的描述" longdesc="img_text/mv_log_purge_clause.html"><br><a href="img_text/mv_log_purge_clause.html">插图描述mv_log_purge_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__CCHGAFBA">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-3715F3F5-A9E8-44CA-80FD-025C9A378F35"><span class="italic">for_refresh_clause</span> :: =</p>
                  <div class="figure" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-055AF3E7-676E-4C2B-AA98-DC46E7B03AC7"><img src="img/for_refresh_clause.gif" alt="下面是for_refresh_clause.eps的描述" title="下面是for_refresh_clause.eps的描述" longdesc="img_text/for_refresh_clause.html"><br><a href="img_text/for_refresh_clause.html">插图描述for_refresh_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-A95FC3BA-00E3-4E3B-B329-C2CA9966A6E9">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-56E197C3-57AD-4BB7-9BF8-04E9A0A57500"><span class="italic">模式</span></p>
                  <p>指定包含实例化视图日志主表的模式。如果省略<span class="italic"><code class="codeph">schema</code></span> ，则Oracle数据库假定主表包含在您自己的模式中。Oracle数据库在其主表的模式中创建实例化视图日志。您无法为用户<code class="codeph">SYS</code>的模式中的表创建实例化视图日志。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-34BABF57-18DB-4255-BC51-BA3282CB4E47"><span class="italic">表</span></p>
                  <p>指定要为其创建实例化视图日志的主表的名称。Oracle数据库使用相同的加密算法加密物化视图日志中在主表中加密的任何列。</p>
                  <p><span class="bold">物化视图日志主表的限制</span></p>
                  <p>以下限制适用于物化视图日志的主表：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您无法为临时表或视图创建实例化视图日志。</p>
                     </li>
                     <li>
                        <p>您无法为具有虚拟列的主表创建实例化视图日志。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-41CF9850-59CE-4749-99C4-04F11CB2D9AB">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="CREATE-MATERIALIZED-VIEW-LOG.html#GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2098404">创建物化视图日志以进行快速刷新：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-1532409D-8B7D-4ADE-BC08-90C36549FD2A"><span class="italic">physical_attributes_clause</span></p>
                  <p>使用<span class="italic"><code class="codeph">physical_attributes_clause</code></span>定义物化视图日志的物理和存储特征。
                  </p>
                  <div class="infoboxnotealso" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-BE8CB4D2-C5E1-4D29-94FB-BE3555B05674">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="italic"><a href="physical_attributes_clause.html#GUID-A15063A9-3237-43D3-B0AE-D01F6E80B393">physical_attributes_clause</a></span>和<span class="italic"><a href="physical_attributes_clause.html#GUID-A15063A9-3237-43D3-B0AE-D01F6E80B393__I1026834">storage_clause</a></span>用于完整描述这些子句，包括默认值</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-9F074953-50C9-4829-916E-40302BC6008E">TABLESPACE条款</p>
                  <p><a id="d331641e661" class="indexterm-anchor"></a>指定要在其中创建实例化视图日志的表空间。如果省略此子句，则数据库将在物化视图日志的模式的缺省表空间中创建实例化视图日志。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-646811A0-677A-44BF-B79B-EF616CB9BE81"><span class="italic">logging_clause</span></p>
                  <p><a id="d331641e671" class="indexterm-anchor"></a>指定<code class="codeph">LOGGING</code>或<code class="codeph">NOLOGGING</code>以建立物化视图日志的日志记录特征。默认值是物化视图日志所在的表空间的日志记录特征。
                  </p>
                  <div class="infoboxnotealso" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-CBA41BCF-1F7F-4FB8-9DBE-F21B118513BE">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E">logging_clause</a></span>获取此子句的完整描述</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-55DA9114-DD08-42F8-A03B-42C43C05526C">CACHE | NOCACHE</p>
                  <p><a id="d331641e692" class="indexterm-anchor"></a><a id="d331641e696" class="indexterm-anchor"></a>对于将频繁访问的数据， <code class="codeph">CACHE</code>指定在执行全表扫描时，为此日志检索的块放置在缓冲区高速缓存中最近最少使用（LRU）列表的最近使用的末尾。此属性对小型查找表很有用。
                  </p>
                  <p><code class="codeph">NOCACHE</code>指定将块放置在LRU列表的最近最少使用的末尾。默认值为<code class="codeph">NOCACHE</code> 。</p>
                  <div class="infoboxnote" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-6BA8B4AB-AB3C-4670-9A56-B625B8170E0F">
                     <p class="notep1">注意：</p>
                     <p><code class="codeph">NOCACHE</code>对您在<span class="italic"><code class="codeph">storage_clause</code></span>指定<code class="codeph">KEEP</code>物化视图日志没有影响。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-884D889A-2952-48ED-8E3C-0FA16D014527">
                     <p class="notep1">也可以看看：</p>
                     <p>有关指定<code class="codeph">CACHE</code>或<code class="codeph">NOCACHE</code>信息，请<code class="codeph">CACHE</code> <a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6">CREATE TABLE</a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-EFB524D2-5131-417D-B0ED-E30A162E9BAD"><span class="italic">parallel_clause</span></p>
                  <p><span class="italic"><code class="codeph">parallel_clause</code></span>允许您指示物化视图日志是否支持并行操作。
                  </p>
                  <p>有关此子句的完整信息，请参阅<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>文档中的<span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2159323">parallel_clause</a></span> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-05BA74F2-34E2-4F3C-ADB0-A68252EB70D2"><span class="italic">table_partitioning_clauses</span></p>
                  <p>使用<span class="italic"><code class="codeph">table_partitioning_clauses</code></span>指示<span class="italic"><code class="codeph">table_partitioning_clauses</code></span>化视图日志在指定的值范围或散列函数上进行分区。物化视图日志的分区与表的分区相同。
                  </p>
                  <div class="infoboxnotealso" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-1F73548B-543D-415A-83ED-0DC337C3F3E4">
                     <p class="notep1">也可以看看：</p>
                     <p><code class="codeph">CREATE TABLE</code>文档中的<span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2215406">table_partitioning_clauses</a></span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-D1CAF655-204F-43F5-82EA-8EC6F9176DD3">与条款</p>
                  <p><a id="d331641e778" class="indexterm-anchor"></a><a id="d331641e782" class="indexterm-anchor"></a><a id="d331641e786" class="indexterm-anchor"></a><a id="d331641e790" class="indexterm-anchor"></a>使用<code class="codeph">WITH</code>子句指示实例化视图日志是否应在主服务器中的行更改时记录主键，rowid，对象ID或这些行标识符的组合。您还可以使用此子句将序列添加到物化视图日志，以便为其记录提供其他订购信息。
                  </p>
                  <p>此子句还指定实例化视图日志是否记录可能作为<span class="bold">过滤列</span>引用的其他<span class="bold">列</span> ，即子查询实例化视图引用的非主键列，或<span class="bold">连接列</span> ，这些列是定义连接的非主键列在子查询<code class="codeph">WHERE</code>子句中。
                  </p>
                  <p>如果省略此子句，或者如果指定不带<code class="codeph">PRIMARY</code> <code class="codeph">KEY</code> ， <code class="codeph">ROWID</code>或<code class="codeph">OBJECT</code> <code class="codeph">ID</code>的子句，则数据库默认存储主键值。但是，如果在创建时仅指定<code class="codeph">OBJECT</code> <code class="codeph">ID</code>或<code class="codeph">ROWID</code> ，则数据库不会隐式存储主键值。显式或默认创建的主键日志会对主键约束执行附加检查。
                  </p>
                  <p><span class="bold">对象ID</span></p>
                  <p>指定<code class="codeph">OBJECT</code> <code class="codeph">ID</code>以指示应在物化视图日志中记录每个已修改行的系统生成或用户定义的对象标识符。
                  </p>
                  <p><span class="bold">对OBJECT ID的限制</span></p>
                  <p>只有在对象表上创建日志时才能指定<code class="codeph">OBJECT</code> <code class="codeph">ID</code> ，并且不能为存储表指定它。
                  </p>
                  <p><span class="bold">首要的关键</span></p>
                  <p>指定<code class="codeph">PRIMARY</code> <code class="codeph">KEY</code>以指示更改的所有行的主键应记录在物化视图日志中。
                  </p>
                  <p><span class="bold">ROWID</span></p>
                  <p>指定<code class="codeph">ROWID</code>以指示应更改的所有行的rowid应记录在物化视图日志中。
                  </p>
                  <p><span class="bold">序列</span></p>
                  <p>指定<code class="codeph">SEQUENCE</code>以指示应在物化视图日志中记录提供附加排序信息的序列值。在某些更新方案之后，序列号是支持快速刷新所必需的。
                  </p>
                  <div class="infoboxnotealso" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-8A79E937-5E5B-49BF-9F42-11BD584B5861">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”</span></a> ，了解有关在物化视图日志中使用序列号的详细信息以及使用此子句的示例</p>
                  </div>
                  <p><span class="bold">提交SCN</span></p>
                  <p>如果没有<code class="codeph">COMMIT</code> <code class="codeph">SCN</code>子句， <code class="codeph">SCN</code>化视图日志基于时间戳，并且在准备刷新实例化视图时需要一些设置操作。指定<code class="codeph">COMMIT</code> <code class="codeph">SCN</code>以指示数据库使用提交SCN数据而不是时间戳。此设置消除了对设置操作的需要，因此可以提高物化视图刷新的速度。
                  </p>
                  <p>您可以使用基于提交SCN的物化视图日志在主表上创建以下类型的本地物化视图（包括<code class="codeph">ON</code> <code class="codeph">COMMIT</code>和<code class="codeph">ON</code> <code class="codeph">DEMAND</code> ）：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>物化聚合视图，包括单个表上的物化聚合视图</p>
                     </li>
                     <li>
                        <p>物化连接视图</p>
                     </li>
                     <li>
                        <p>基于主键和基于rowid的单表物化视图</p>
                     </li>
                     <li>
                        <p><code class="codeph">UNION</code> <code class="codeph">ALL</code>物化视图，其中每个<code class="codeph">UNION</code> <code class="codeph">ALL</code>分支都是上述物化视图类型之一</p>
                     </li>
                  </ul>
                  <p>您无法使用基于提交SCN的物化视图日志在主表上创建远程实例化视图。</p>
                  <p><span class="bold">COMMIT SCN的限制</span></p>
                  <p>以下限制适用于<code class="codeph">COMMIT</code> <code class="codeph">SCN</code> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>不支持在具有一个或多个LOB列的表上使用<code class="codeph">COMMIT</code> <code class="codeph">SCN</code> ，并导致<code class="codeph">ORA-32421</code> 。
                        </p>
                     </li>
                     <li>
                        <p>不支持使用不同类型的物化视图日志（即具有基于时间戳的物化视图日志的主表和具有基于提交SCN的物化视图日志的主表）在主表上创建物化视图，并导致<code class="codeph">ORA-32414</code> 。
                        </p>
                     </li>
                     <li>
                        <p>如果指定<code class="codeph">COMMIT</code> <code class="codeph">SCN</code> ，则不能指定<code class="codeph">FOR</code> <code class="codeph">SYNCHRONOUS</code> <code class="codeph">REFRESH</code> 。</p>
                     </li>
                  </ul>
                  <p><span class="bold"><span class="italic">柱</span></span></p>
                  <p>为要更改的所有行指定要在实体化视图日志中记录其值的列。通常，这些列是过滤列和连接列。</p>
                  <p><span class="bold">WITH子句的限制</span></p>
                  <p>本条款受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您只能为每个物化视图日志指定一个<code class="codeph">PRIMARY</code> <code class="codeph">KEY</code> ，一个<code class="codeph">ROWID</code> ，一个<code class="codeph">OBJECT</code> <code class="codeph">ID</code> ，一个<code class="codeph">SEQUENCE</code>和一个列列表。
                        </p>
                     </li>
                     <li>
                        <p>主键列隐式记录在物化视图日志中。因此，如果<span class="italic"><code class="codeph">column</code></span>包含其中一个主键列，则无法指定以下任何组合：</p><pre class="oac_no_warn" dir="ltr">与......PRIMARY KEY ...（ <span class="italic">列</span> ）WITH ...（ <span class="italic">列</span> ）......主要关键（ <span class="italic">列</span> ）</pre></li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-FE960D94-7390-4E19-BF7F-607E1C62C961">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B">CREATE MATERIALIZED VIEW</a>获取有关显式和隐式包含物化视图日志值的信息</p>
                        </li>
                        <li>
                           <p>有关筛选器列和连接列的详细信息，请参见<a href="../admin/read-only-materialized-view-architecture.html#ADMIN-GUID-EA4C8CD8-51E2-4C3B-8281-210940D8DE01" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="CREATE-MATERIALIZED-VIEW-LOG.html#GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2098358">为物化视图日志指定过滤器列：示例</a> ”</span>和<span class="q">“ <a href="CREATE-MATERIALIZED-VIEW-LOG.html#GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2098379">为物化视图日志指定连接列：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-C219AD7C-807E-4ED9-B4D7-C45F2537A9E2">新价值条款</p>
                  <p><a id="d331641e1078" class="indexterm-anchor"></a><a id="d331641e1082" class="indexterm-anchor"></a><a id="d331641e1086" class="indexterm-anchor"></a> <code class="codeph">NEW</code> <code class="codeph">VALUES</code>子句允许您确定Oracle数据库是否在物化视图日志中保存更新DML操作的旧值和新值。
                  </p>
                  <div class="infoboxnotealso" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-78A9F843-8B67-40D3-B4F3-8BBDA8ACE77B">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="CREATE-MATERIALIZED-VIEW-LOG.html#GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2119924">在物化视图日志中包含新值：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold">包含</span></p>
                  <p>指定<code class="codeph">INCLUDING</code>以在日志中保存新旧值。如果此日志用于具有单表实现聚合视图的表，并且您希望实例化视图有资格进行快速刷新，则必须指定<code class="codeph">INCLUDING</code> 。</p>
                  <p><span class="bold">不包括</span></p>
                  <p>指定<code class="codeph">EXCLUDING</code>以禁用在日志中记录新值。这是默认值。您可以使用此子句来避免记录新值的开销。如果在主表上定义了快速刷新的单表实现聚合视图，请不要使用此子句。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__CACCJBFD">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-D80A191A-32D3-4831-9B06-7ABCAB464E48"><span class="italic">mv_log_purge_clause</span></p>
                  <p><a id="d331641e1127" class="indexterm-anchor"></a>使用此子句指定实例化视图日志的清除时间。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">IMMEDIATE</code> <code class="codeph">SYNCHRONOUS</code> ：刷新后立即清除物化视图日志。这是默认值。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">IMMEDIATE</code> <code class="codeph">ASYNCHRONOUS</code> ：在刷新操作之后，物化视图日志在单独的Oracle Scheduler作业中被清除。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">START</code> <code class="codeph">WITH</code> ， <code class="codeph">NEXT</code>和<code class="codeph">REPEAT</code> <code class="codeph">INTERVAL</code>设置一个独立于物化视图刷新的预定清除，并在<code class="codeph">CREATE</code>或<code class="codeph">ALTER</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> <code class="codeph">LOG</code>语句中启动。这与<code class="codeph">CREATE</code>或<code class="codeph">ALTER</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句中的计划刷新语法非常相似：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">START</code> <code class="codeph">WITH</code> datetime表达式指定清除开始的时间。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">NEXT</code>日期时间表达式计算清除的下一个运行时间。
                              </p>
                           </li>
                        </ul>
                        <p>如果指定<code class="codeph">REPEAT</code> <code class="codeph">INTERVAL</code> ，则下一个运行时将为： <code class="codeph">SYSDATE +</code> <span class="italic"><code class="codeph">interval_expr</code></span> 。
                        </p>
                        <p>具有计划清除的<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> <code class="codeph">LOG</code>语句创建Oracle Scheduler作业以执行日志清除。该作业调用<code class="codeph">DBMS_SNAPSHOT</code> 。 <code class="codeph">PURGE_LOG</code>过程清除物化视图日志。此过程允许您通过多个物化视图刷新来分摊清除成本。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">对</span> <span class="bold"><span class="italic">mv_log_purge_clause的</span></span> <span class="bold">限制</span></p>
                  <p>此子句对临时表上的物化视图日志无效。</p>
                  <div class="infoboxnotealso" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-C59A8FBE-47B6-4161-9078-9E2595DF6087">
                     <p class="notep1">也可以看看：</p>
                     <p>有关清除实例化视图日志的详细信息，请参阅<a href="../dwhsg/basic-materialized-views.html#DWHSG9302" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__CCHIHIEB">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-E72E607D-7E0F-4B21-8ADA-F642DE4BBE64"><span class="italic">for_refresh_clause</span></p>
                  <p><a id="d331641e1268" class="indexterm-anchor"></a>使用此子句指定将使用实例化视图日志的刷新方法。您只能为任何给定的主表指定一个刷新方法。
                  </p>
                  <p><span class="bold">用于同步刷新</span></p>
                  <p>指定此子句以创建可用于同步刷新的暂存日志。使用<span class="italic"><code class="codeph">staging_log_name</code></span>指定要创建的登台日志的名称。将在主表所在的模式中创建暂存日志。
                  </p>
                  <p>创建登台日志后，无法直接在主表上执行DML操作。必须使用<code class="codeph">DBMS_SYNC_REFRESH</code>程序包中的过程来准备和执行更改数据操作。
                  </p>
                  <p><span class="bold">同步刷新的限制</span></p>
                  <p>以下限制适用于同步刷新：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果指定<code class="codeph">FOR</code> <code class="codeph">SYNCHRONOUS</code> <code class="codeph">REFRESH</code> ，则无法指定<code class="codeph">COMMIT</code> <code class="codeph">SCN</code> 。</p>
                     </li>
                     <li>
                        <p>要符合同步刷新条件，主表必须满足以下条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果主表是事实表，则必须对其进行分区。</p>
                           </li>
                           <li>
                              <p>主表必须有一个键。如果主表是维度表，则必须在其上定义主键。如果主表是事实表，那么作为连接到事实表的维表的外键的列集被认为是关键。</p>
                           </li>
                           <li>
                              <p>主表不能具有非NULL虚拟专用数据库（VPD）策略或在其上定义的触发器。</p>
                           </li>
                        </ul>
                        <p>即使不满足上述所有条件，Oracle数据库也可以允许您在主表上创建登台日志。但是，主表不符合同步刷新的条件。</p>
                     </li>
                     <li>
                        <p>主表上的任何现有物化视图都必须是按需刷新的物化视图。如果现有的<span class="italic"><a href="ALTER-MATERIALIZED-VIEW.html#GUID-29EE5682-AE42-4879-ABAD-E34E66ADD233__I2226546">实例</a></span>化视图是提交时刷新<span class="italic"><a href="ALTER-MATERIALIZED-VIEW.html#GUID-29EE5682-AE42-4879-ABAD-E34E66ADD233__I2226546">实体</a></span>化视图，则必须在创建暂存日志之前使用<code class="codeph">ALTER</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>的<span class="italic"><a href="ALTER-MATERIALIZED-VIEW.html#GUID-29EE5682-AE42-4879-ABAD-E34E66ADD233__I2226546">alter_mv_refresh</a></span>子句将其<code class="codeph">ALTER</code>为按需刷新<span class="italic"><a href="ALTER-MATERIALIZED-VIEW.html#GUID-29EE5682-AE42-4879-ABAD-E34E66ADD233__I2226546">实例化</a></span> <code class="codeph">VIEW</code> 。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-7FBB1298-78F0-4BCB-BFC5-F52E03BC4C7F">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle数据库数据仓库指南</span></a> ，了解使用同步刷新的完整步骤</p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">DBMS_SYNC_REFRESH</code>程序包的信息，请<code class="codeph">DBMS_SYNC_REFRESH</code> <a href="../arpls/DBMS_SYNC_REFRESH.html#ARPLS73623" target="_blank"><span class="italic">Oracle Database PL / SQL程序包和类型参考</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">快速刷新</span></p>
                  <p>指定此子句以创建可用于快速刷新的物化视图日志。物化视图日志将在主表所在的同一模式中创建。这是默认值。</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2064930">
                  <p class="subhead1" id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__GUID-A0DDFDE0-C803-411E-B472-732C9A3F27D8">例子</p>
                  <p id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2098404"><span class="bold">创建物化视图日志以进行快速刷新：示例</span></p>
                  <p>以下语句在<code class="codeph">oe.customers</code>表上创建<code class="codeph">oe.customers</code>化视图日志，该日志指定物理和存储特征：</p><pre class="oac_no_warn" dir="ltr">创建物化视图登录客户PCTFREE 5 TABLESPACE示例存储（初始10K）;</pre><p>物化视图登录<code class="codeph">customers</code>支持主键物化视图的快速刷新。
                  </p>
                  <p>以下语句使用<code class="codeph">ROWID</code>子句创建具体化视图日志的另一个版本，该子句可以为更多类型的物化视图快速刷新：</p><pre class="oac_no_warn" dir="ltr">使用PRIMARY KEY，ROWID创建物料化视图登录客户;</pre><p>这种物化视图登录<code class="codeph">customers</code>可以快速刷新rowid物化视图和物化连接视图。要提供物化聚合视图的快速刷新，还必须指定<code class="codeph">SEQUENCE</code>和<code class="codeph">INCLUDING</code> <code class="codeph">NEW</code> <code class="codeph">VALUES</code>子句，如下面的示例所示。
                  </p>
                  <p><span class="bold">为物化视图日志指定清除重复间隔：示例</span></p>
                  <p>以下语句在<code class="codeph">oe.orders</code>表上创建<code class="codeph">oe.orders</code>化视图日志。日志的内容将每五天清除一次，从物化视图日志创建日期的五天开始：</p><pre class="oac_no_warn" dir="ltr">创建物化视图登录订单PCTFREE 5 TABLESPACE示例存储（初始10K）清除重复间隔'5'天;</pre><p id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2098358"><span class="bold">为物化视图日志指定过滤器列：示例</span></p>
                  <p>以下语句在<code class="codeph">sh.sales</code>表上<span class="q"><a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2092102">创建实例</a></span>化视图日志，并在<span class="q">“ <a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2092102">Creating materialized Aggregate Views：Example</a> ”中使用</span> 。它将该物化视图中引用的表的所有列指定为过滤器列。
                  </p><pre class="oac_no_warn" dir="ltr">使用ROWID，SEQUENCE（amount_sold，time_id，prod_id）创建物料化视图登录销售包括新值;</pre><p id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2098379"><span class="bold">为物化视图日志指定连接列：示例</span></p>
                  <p>以下语句在示例<code class="codeph">oe</code>架构的<code class="codeph">order_items</code>表上创建实例化视图日志。日志记录主键和<code class="codeph">product_id</code> ，它在<span class="q">“ <a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B__I2080820">创建快速可刷新的物化视图：示例</a> ”中</span>用作连接列。
                  </p><pre class="oac_no_warn" dir="ltr">创建物料化视图登录order_items WITH（product_id）;</pre><p id="GUID-13902019-D044-4B79-9EB4-1F60652D037B__I2119924"><span class="bold">在物化视图日志中包含新值：示例</span></p>
                  <p>下面的示例创建对物化视图日志<code class="codeph">oe.product_information</code>指定表<code class="codeph">INCLUDING</code> <code class="codeph">NEW</code> <code class="codeph">VALUES</code> ：</p><pre class="oac_no_warn" dir="ltr">使用ROWID，SEQUENCE（list_price，min_price，category_id）创建物料化视图登录product_information，包括新值的主要关键字;</pre><p>您可以创建以下物化聚合视图以使用<code class="codeph">product_information</code>日志：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW products_mv REFRESH FAST ON COMMIT AS SELECT SUM（list_price  -  min_price），category_id FROM product_information GROUP BY category_id;</pre><p>此物化视图有资格进行快速刷新，因为在其主表上定义的日志包括旧值和新值。</p>
                  <p><span class="bold">为同步刷新创建暂存日志：示例</span></p>
                  <p>以下语句在<code class="codeph">sh.sales</code>事实表上创建登台日志。登台日志名为<code class="codeph">mystage_log</code> ，存储在<code class="codeph">sh</code>架构中。它可以用于同步刷新。
                  </p><pre class="oac_no_warn" dir="ltr">创建物化视图登录销售PCTFREE 5 TABLESPACE示例存储（初始10K）使用mystage_log进行同步刷新;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="00141.changes.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Changes in Oracle Database for this book are described."></meta>
      <meta name="description" content="Changes in Oracle Database for this book are described."></meta>
      <title>Oracle Database JSON Developer's Guide的此发行版中的更改</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="JSON Developer&#39;s Guide"></meta>
      <meta property="og:description" content="Changes in Oracle Database for this book are described."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="JSON Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="json-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-22T10:58:31-08:00"></meta>
      <meta name="dcterms.title" content="JSON Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2015, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96227-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="preface.html" title="Previous" type="text/html"></link>
      <link rel="next" href="intro-to-json-data-and-oracle-database.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADJSN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="preface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="intro-to-json-data-and-oracle-database.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JSON开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Database JSON Developer's Guide的此发行版中的更改</li>
            </ol>
            <a id="GUID-D31E988A-82B0-4C21-A617-EC5FC1023821" name="GUID-D31E988A-82B0-4C21-A617-EC5FC1023821"></a><a id="ADJSN6162"></a>
            
            <h2 id="ADJSN-GUID-D31E988A-82B0-4C21-A617-EC5FC1023821" class="sect2">Oracle Database JSON Developer's Guide的此发行版中的更改</h2>
         </header>
         <div class="ind">
            <div>
               <p>本书描述了Oracle数据库中的更改。</p>
               <div class="section">
                  <p><span class="italic">Oracle Database JSON Developer's Guide</span>是Oracle Database 12c第2版（12.2.0.1）中的新书。<a class="new-window" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=ADXDB-GUID-A8A58B49-13A5-4F42-8EA0-508951DAE0BB"><span><cite>Oracle XML DB Developer's Guide中</cite></span></a>提供了有关在Oracle Database 12c第1版（12.1.0.2）中使用JSON数据的信息。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section"></div>
               <!-- class="section" -->
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="changes.html#GUID-C93A61E3-BA9D-4240-A9EC-7E51AF7E20CB">JSON Developer's Guide的Oracle Database Release 19c，版本19.1中的更改</a><br>描述了JSON支持和<span class="italic">Oracle Database JSON Developer's Guide</span> for Oracle Database Release 19c，版本19.1中的更改。
                  </li>
                  <li class="ulchildlink"><a href="changes.html#GUID-6834FDD2-A670-43FC-99AC-840B81B8904B">针对JSON开发人员指南，Oracle Database Release 18c，版本18.1中的更改</a><br>描述了JSON支持和<span class="italic">Oracle Database JSON Developer's Guide</span> for Oracle Database Release 18c，Version 18.1中的更改。
                  </li>
               </ul>
            </div>
            
            <div class="sect2"><a id="GUID-C93A61E3-BA9D-4240-A9EC-7E51AF7E20CB" name="GUID-C93A61E3-BA9D-4240-A9EC-7E51AF7E20CB"></a><h3 id="ADJSN-GUID-C93A61E3-BA9D-4240-A9EC-7E51AF7E20CB" class="sect3">JSON Developer's Guide的Oracle Database Release 19c，版本19.1中的更改</h3>
               <div>
                  <p>描述了JSON支持和<span class="italic">Oracle Database JSON Developer's Guide</span> for Oracle Database Release 19c，版本19.1中的更改。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="changes.html#GUID-2952F832-7AE6-48D3-95DF-46D57078B6A3">新功能</a><br>以下功能是此版本中的新增功能。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="changes.html#GUID-D31E988A-82B0-4C21-A617-EC5FC1023821" title="本书描述了Oracle数据库中的更改。">Oracle Database JSON Developer's Guide的此发行版中的更改</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-2952F832-7AE6-48D3-95DF-46D57078B6A3" name="GUID-2952F832-7AE6-48D3-95DF-46D57078B6A3"></a><h4 id="ADJSN-GUID-2952F832-7AE6-48D3-95DF-46D57078B6A3" class="sect4">新功能</h4>
                  <div>
                     <p>以下功能是此版本中的新增功能。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="changes.html#GUID-89DFFB5F-7C4F-4D01-8453-4F90C841070F">JSON物化视图支持</a><br>性能增强：如果在<code class="codeph">json_table</code>上创建一个refresh-on-statement <code class="codeph">json_table</code>化视图并应用其他一些条件，则可以将与定义视图的查询匹配的查询重写为<code class="codeph">json_table</code>化视图表访问。您可以使用此功能而不是创建多个功能索引。
                        </li>
                        <li class="ulchildlink"><a href="changes.html#GUID-7C17B08E-3EA6-4EC4-87C5-B9FDCA3CBB96">SQL函数JSON_MERGEPATCH：JSON文档的声明性更新</a><br>您现在可以使用新的SQL函数<code class="codeph">json_mergepatch</code>声明方式更新JSON文档。您可以使用单个语句将一个或多个更改应用于多个文档。此功能提高了JSON更新操作的灵活性。
                        </li>
                        <li class="ulchildlink"><a href="changes.html#GUID-A5353126-C453-4C01-B0A9-FF049D347103">新的SQL / JSON函数JSON_SERIALIZE和JSON数据指南支持GeoJSON数据</a><br>您可以使用新的SQL函数<code>json_serialize</code>将JSON数据序列化为文本或UTF编码的<code>BLOB</code>数据。SQL聚合函数<code class="codeph">json_dataguide</code>现在可以检测文档中的GeoJSON地理数据。您可以使用它来创建一个视图，将SQL数据类型<code class="codeph">SDO_GEOMETRY</code>等数据<code class="codeph">SDO_GEOMETRY</code> 。</li>
                        <li class="ulchildlink"><a href="changes.html#GUID-4C5BB2B1-F2C4-49C4-8A10-F61FC220C7CB">语法简化</a><br>使用函数<code class="codeph">json_object</code>为SQL / JSON路径表达式和SQL / JSON生成提供语法简化。新的SQL查询子句<code class="codeph">NESTED</code>提供了使用带有<code class="codeph">LEFT OUTER JOIN</code> <code class="codeph">json_table</code>的简单替代方法。</li>
                        <li class="ulchildlink"><a href="changes.html#GUID-7D098722-B1ED-4677-97D0-D44565117986">将JSON数据映射到SQL对象类型和从SQL对象类型映射</a><br>此功能支持将JSON数据映射到用户定义的SQL对象类型和集合，以及从用户定义的SQL对象类型您可以使用SQL / JSON函数<code class="codeph">json_value</code>将JSON数据转换为SQL对象类型的实例。在相反的方向，您可以使用SQL / JSON函数<code class="codeph">json_object</code>或<code class="codeph">json_array</code>从SQL对象类型的实例生成JSON数据。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="changes.html#GUID-C93A61E3-BA9D-4240-A9EC-7E51AF7E20CB" title="描述了JSON支持和Oracle Database JSON Developer&#39;s Guide for Oracle Database Release 19c，版本19.1中的更改。">适用于JSON Developer's Guide的Oracle Database Release 19c，版本19.1中的更改</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-89DFFB5F-7C4F-4D01-8453-4F90C841070F" name="GUID-89DFFB5F-7C4F-4D01-8453-4F90C841070F"></a><h5 id="ADJSN-GUID-89DFFB5F-7C4F-4D01-8453-4F90C841070F" class="sect5">JSON物化视图支持</h5>
                     <div>
                        <p>性能增强：如果在<code class="codeph">json_table</code>上创建一个refresh-on-statement <code class="codeph">json_table</code>化视图并应用其他一些条件，则可以将与定义视图的查询匹配的查询重写为<code class="codeph">json_table</code>化视图表访问。您可以使用此功能而不是创建多个功能索引。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="changes.html#GUID-2952F832-7AE6-48D3-95DF-46D57078B6A3" title="以下功能是此版本中的新增功能。">新功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-7C17B08E-3EA6-4EC4-87C5-B9FDCA3CBB96" name="GUID-7C17B08E-3EA6-4EC4-87C5-B9FDCA3CBB96"></a><h5 id="ADJSN-GUID-7C17B08E-3EA6-4EC4-87C5-B9FDCA3CBB96" class="sect5">SQL函数JSON_MERGEPATCH：JSON文档的声明性更新</h5>
                     <div>
                        <p>您现在可以使用新的SQL函数<code class="codeph">json_mergepatch</code>声明方式更新JSON文档。您可以使用单个语句将一个或多个更改应用于多个文档。此功能提高了JSON更新操作的灵活性。
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="updating-json-document-json-merge-patch.html#GUID-31F88F28-3D92-489B-9CCD-BD1931B91F1F" title="您可以使用Oracle SQL函数json_mergepatch更新JSON文档的特定部分。您传递一个JSON Merge Patch文档，该文档指定对指定的JSON文档所做的更改。JSON Merge Patch是IETF标准。">使用JSON Merge修补程序更新JSON文档</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="changes.html#GUID-2952F832-7AE6-48D3-95DF-46D57078B6A3" title="以下功能是此版本中的新增功能。">新功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-A5353126-C453-4C01-B0A9-FF049D347103" name="GUID-A5353126-C453-4C01-B0A9-FF049D347103"></a><h5 id="ADJSN-GUID-A5353126-C453-4C01-B0A9-FF049D347103" class="sect5">新的SQL / JSON函数JSON_SERIALIZE和JSON数据指南支持GeoJSON数据</h5>
                     <div>
                        <p>您可以使用新的SQL函数<code>json_serialize</code>将JSON数据序列化为文本或UTF编码的<code>BLOB</code>数据。SQL聚合函数<code class="codeph">json_dataguide</code>现在可以检测文档中的GeoJSON地理数据。您可以使用它来创建一个视图，将SQL数据类型<code class="codeph">SDO_GEOMETRY</code>等数据<code class="codeph">SDO_GEOMETRY</code> 。</p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="oracle-sql-function-json_serialize.html#GUID-667D37FF-F5FB-465D-B8AE-DAE88F191B2F" title="Oracle SQL函数json_serialize将JSON数据（任何SQL数据类型）作为输入，并返回它的文本表示。">Oracle SQL函数JSON_SERIALIZE</a></li>
                              <li><a href="json-dataguide.html#GUID-D8448CB1-0350-4848-B07E-9370B3B1A9BE" title="描述了JSON数据指南的预定义字段。它们包括JSON Schema字段（关键字）和Oracle特定字段。">JSON数据指南字段</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="changes.html#GUID-2952F832-7AE6-48D3-95DF-46D57078B6A3" title="以下功能是此版本中的新增功能。">新功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-4C5BB2B1-F2C4-49C4-8A10-F61FC220C7CB" name="GUID-4C5BB2B1-F2C4-49C4-8A10-F61FC220C7CB"></a><h5 id="ADJSN-GUID-4C5BB2B1-F2C4-49C4-8A10-F61FC220C7CB" class="sect5">语法简化</h5>
                     <div>
                        <p>使用函数<code class="codeph">json_object</code>为SQL / JSON路径表达式和SQL / JSON生成提供语法简化。新的SQL查询子句<code class="codeph">NESTED</code>提供了使用带有<code class="codeph">LEFT OUTER JOIN</code> <code class="codeph">json_table</code>的简单替代方法。</p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" title="提供了SQL / JSON路径表达式的基本语法。它由上下文项符号（$）后跟零个或多个对象，数组和后代步骤组成，每个步骤后面都可以跟一个过滤器表达式，后面可选择一个函数步骤。提供了示例。">基本SQL / JSON路径表达式语法</a></li>
                              <li><a href="generation.html#GUID-C0F8F837-EE36-4EDD-9261-6E8A9245906C" title="您可以使用SQL / JSON函数json_object，json_array，json_objectagg和json_arrayagg从数据库中的非JSON数据构造JSON数据。JSON数据作为SQL值返回。">SQL / JSON生成函数概述</a></li>
                              <li><a href="generation.html#GUID-1084A518-A44A-4654-A796-C1DD4D8EC2AA" title="SQL / JSON函数json_object从关系（SQL）数据构造JSON对象。">SQL / JSON函数JSON_OBJECT</a></li>
                              <li><a href="function-JSON_TABLE.html#GUID-D870AAFF-58B0-4162-AC11-4DDC74B608A5" title="在SELECT子句中，您通常可以使用NESTED子句而不是SQL / JSON函数json_table。这可能意味着更简单的查询表达式。当JSON列为NULL时，它还具有包含非NULL关系列的行的优点。">SQL NESTED子句而不是JSON_TABLE</a></li>
                              <li><a href="diagrams-basic-sql-json-path-expression-syntax.html" title="针对基本SQL / JSON路径表达式语法，提供了语法图和相应的Backus-Naur Form（BNF）语法描述。">基本SQL / JSON路径表达式语法的图表</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="changes.html#GUID-2952F832-7AE6-48D3-95DF-46D57078B6A3" title="以下功能是此版本中的新增功能。">新功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-7D098722-B1ED-4677-97D0-D44565117986" name="GUID-7D098722-B1ED-4677-97D0-D44565117986"></a><h5 id="ADJSN-GUID-7D098722-B1ED-4677-97D0-D44565117986" class="sect5">将JSON数据映射到SQL对象类型和从SQL对象类型映射</h5>
                     <div>
                        <p>此功能支持将JSON数据映射到用户定义的SQL对象类型和集合，以及从用户定义的SQL对象类型您可以使用SQL / JSON函数<code class="codeph">json_value</code>将JSON数据转换为SQL对象类型的实例。在相反的方向，您可以使用SQL / JSON函数<code class="codeph">json_object</code>或<code class="codeph">json_array</code>从SQL对象类型的实例生成JSON数据。
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="function-JSON_VALUE.html#GUID-0565F0EE-5F13-44DD-8321-2AC142959215" title="SQL / JSON函数json_value选择JSON数据并返回SQL标量或用户定义的SQL对象类型或SQL集合类型（varray，嵌套表）的实例。">SQL / JSON函数JSON_VALUE</a></li>
                              <li><a href="function-JSON_VALUE.html#GUID-622170D8-7BAD-4F5F-86BF-C328451FC3BE" title="您可以使用SQL / JSON函数json_value来实例化用户定义的SQL对象类型或集合类型的实例。您可以通过在路径表达式中定位JSON对象或数组并分别在RETURNING子句中指定对象或集合类型来执行此操作。">使用JSON_VALUE实例化用户定义的对象类型实例</a></li>
                              <li><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-21FE887D-5D7B-43BB-A1A8-B26B8924B290" title="当RETURNING子句指定用户定义的对象类型或集合类型实例时，函数json_value接受可选的ON MISMATCH子句，该子句指定在目标JSON值与指定的SQL返回值不匹配时使用的处理。此处描述了此子句及其默认行为（无ON MISMATCH子句）。">关于JSON_VALUE的MISMATCH子句</a></li>
                              <li><a href="generation.html#GUID-1084A518-A44A-4654-A796-C1DD4D8EC2AA" title="SQL / JSON函数json_object从关系（SQL）数据构造JSON对象。">SQL / JSON函数JSON_OBJECT</a></li>
                              <li><a href="generation.html#GUID-F942D202-E4BB-4ED8-997E-AEBD6D8ED8C1" title="SQL / JSON函数json_array根据其参数SQL表达式的结果构造一个JSON数组。">SQL / JSON函数JSON_ARRAY</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="changes.html#GUID-2952F832-7AE6-48D3-95DF-46D57078B6A3" title="以下功能是此版本中的新增功能。">新功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-6834FDD2-A670-43FC-99AC-840B81B8904B" name="GUID-6834FDD2-A670-43FC-99AC-840B81B8904B"></a><h3 id="ADJSN-GUID-6834FDD2-A670-43FC-99AC-840B81B8904B" class="sect3">针对JSON开发人员指南，Oracle Database Release 18c，版本18.1中的更改</h3>
               <div>
                  <p>描述了JSON支持和<span class="italic">Oracle Database JSON Developer's Guide</span> for Oracle Database Release 18c，Version 18.1中的更改。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="changes.html#unique_1682058403">新功能</a><br>以下功能是此版本中的新增功能。
                     </li>
                     <li class="ulchildlink"><a href="changes.html#GUID-C2678252-F9FB-4EB2-8C95-17C42BB0ABCA">不推荐的功能</a><br>此版本中不推荐使用以下功能，并且可能在将来的版本中不支持这些功能。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="changes.html#GUID-D31E988A-82B0-4C21-A617-EC5FC1023821" title="本书描述了Oracle数据库中的更改。">Oracle Database JSON Developer's Guide的此发行版中的更改</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="unique_1682058403" name="unique_1682058403"></a><h4 id="ADJSN-unique_1682058403" class="sect4">新功能</h4>
                  <div>
                     <p>以下功能是此版本中的新增功能。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="changes.html#GUID-8C9B00DD-45D8-499B-919C-8632E034B664">SQL增强功能</a><br>提供了多个SQL增强功能，用于在数据库中存储和查询JSON数据。
                        </li>
                        <li class="ulchildlink"><a href="changes.html#GUID-7F43AE55-4176-477E-8D3B-021ED838106D">分片支持</a><br>对JSON数据的分片支持得到了增强。
                        </li>
                        <li class="ulchildlink"><a href="changes.html#GUID-01465965-9D45-413A-9EA6-B5BFED51A554">LOB存储的性能改进</a><br>使用LOB存储的JSON数据的性能已得到改进。这特别影响读取和写入存储为LOB的整个JSON文档的常见用例。</li>
                        <li class="ulchildlink"><a href="changes.html#GUID-04DFDA82-6D0F-4EC7-9C05-40E0FE392883">JSON搜索索引支持更长的字段名称</a><br>JSON搜索索引支持的最大JSON字段名称长度现在为255个字节（以前为64个字节）。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="changes.html#GUID-6834FDD2-A670-43FC-99AC-840B81B8904B" title="描述了JSON支持和Oracle Database JSON Developer&#39;s Guide for Oracle Database Release 18c，Version 18.1中的更改。">适用于JSON Developer's Guide的Oracle Database Release 18c，版本18.1中的更改</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664" name="GUID-8C9B00DD-45D8-499B-919C-8632E034B664"></a><h5 id="ADJSN-GUID-8C9B00DD-45D8-499B-919C-8632E034B664" class="sect5">SQL增强功能</h5>
                     <div>
                        <p>提供了多个SQL增强功能，用于在数据库中存储和查询JSON数据。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-B6C93791-EB73-4E44-8B39-B255445560EA">您可以指定SQL表达式返回JSON数据</p>
                           <p>您可以将带有关键字<code class="codeph">AS JSON</code> SQL函数<code class="codeph">treat</code>应用于SQL表达式，以指定表达式返回JSON数据。这在Oracle无法确定结果是JSON数据的情况下非常有用。在您希望强制将某些文本解释为JSON数据的情况下，它也很有用。例如，您可以使用它来告诉Oracle将<code class="codeph">{}</code>的<code class="codeph">VARCHAR2</code>值解释为字符串而不是空JSON对象。
                           </p>
                           <div class="infoboxnotealso" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-8BF7DE13-2E57-403E-A73F-84EED76E1EE8">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../sqlrf/TREAT.html#SQLRF-GUID-037C0CD3-C256-4A02-80E0-C6F15147C5BF" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p> 
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-C04F6054-5E9C-4DE7-B008-CBEE3073DCF5">LSON结果为JSON_VALUE，JSON_QUERY和JSON_TABLE</p>
                           <p>SQL / JSON函数<code class="codeph">json_value</code>现在可以返回一个<code class="codeph">CLOB</code>实例。
                           </p>
                           <p>SQL / JSON函数<code class="codeph">json_query</code>现在可以返回<code class="codeph">CLOB</code>或<code class="codeph">BLOB</code>实例。<code class="codeph">BLOB</code>结果在AL32UTF8字符集中。
                           </p>
                           <p>和以前一样， <code class="codeph">json_table</code>列的数据类型取决于列是否指定为<code class="codeph">FORMAT JSON</code> 。如果是，则支持<code class="codeph">json_query</code>返回类型;如果不是，则支持<code class="codeph">json_value</code>返回类型。
                           </p>
                           <p>先前：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">json_value</code>仅支持<code class="codeph">VARCHAR2</code> ， <code class="codeph">NUMBER</code> ， <code class="codeph">DATE</code> ， <code class="codeph">TIMESTAMP</code> ， <code class="codeph">TIMESTAMP WITH TIME ZONE</code>和<code class="codeph">SDO_GEOMETRY</code></p>作为返回类型。
                              </li>
                              <li>
                                 <p><code class="codeph">json_query</code>仅支持<code class="codeph">VARCHAR2</code>作为返回类型。
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-BACAE924-5378-4F6F-A14C-6127E035349D">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../sqlrf/Single-Row-Functions.html#SQLRF-GUID-C13171B3-C070-4137-AC71-7A30BD26F380" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-0B5A0307-418B-4E5D-9303-C180D4FE2AC8">SQL / JSON生成函数增强功能</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>添加了可选关键字<code class="codeph">STRICT</code> 。如果存在，则检查声明或以其他方式预期为JSON数据的任何输入，以确保它们实际上是格式良好的JSON数据。如果它们中的任何一个不存在则会引发错误。
                                 </p>
                                 <p>（您可以使用关键字<code class="codeph">FORMAT JSON</code>或使用SQL函数<code class="codeph">treat</code>输入声明为JSON，使用关键字<code class="codeph">AS JSON</code> 。如果输入来自具有<code class="codeph">is json</code>约束的表列，或者它是输出，则输入应该是JSON数据另一个JSON生成函数。）
                                 </p>
                              </li>
                              <li>
                                 <p>SQL / JSON生成函数（ <code class="codeph">json_object</code> ， <code class="codeph">json_array</code> ， <code class="codeph">json_objectagg</code>和<code class="codeph">json_arrayagg</code> ）现在可以返回<code class="codeph">CLOB</code>或<code class="codeph">BLOB</code>实例。<code class="codeph">BLOB</code>结果在AL32UTF8字符集中。
                                 </p>
                              </li>
                              <li>
                                 <p>生成函数的输入表达式现在可以是任何这些SQL数据类型（除<code class="codeph">NUMBER</code> ， <code class="codeph">VARCHAR2</code> ， <code class="codeph">DATE</code>和<code class="codeph">TIMESTAMP</code> ）：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">BINARY_DOUBLE</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">BINARY_FLOAT</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CLOB</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">BLOB</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">NVARCHAR2</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">生的</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">TIMESTAMP与时区</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">TIMESTAMP与当地时区</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">间隔年至月</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">间隔第二天</code></p>
                                    </li>
                                 </ul>
                                 <p>如何在JSON中呈现生成结果取决于输入的数据类型。</p>
                                 <div class="infoboxnotealso" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-67D9F815-B86E-4F55-8BB0-2788B4C346C8">
                                    <p class="notep1">也可以看看：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><a href="generation.html#GUID-C0F8F837-EE36-4EDD-9261-6E8A9245906C__HANDLINGOFINPUTVALUESFORSQLJSONGENE-E12FED19">处理SQL / JSON生成函数的输入值</a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/Single-Row-Functions.html#SQLRF-GUID-C13171B3-C070-4137-AC71-7A30BD26F380" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                                       </li>
                                    </ul>
                                 </div>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-148F598C-5395-42EA-81A0-3C9BA4CBA011">SQL / JSON路径表达式的项目方法</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>添加了新的项方法： <code class="codeph">numberOnly()</code> ， <code class="codeph">stringOnly()</code> ， <code class="codeph">boolean()</code> ， <code class="codeph">booleanOnly()</code> ， <code class="codeph">size()</code>和<code class="codeph">type()</code> 。
                                 </p>
                                 <p>名称中“only”的数据类型转换方法与名称没有“only”的相应方法相同，只是前者<span class="italic">只</span>将给定类型（例如， <code class="codeph">number</code> ）的JSON值转换为相关的SQL数据类型（例如<code class="codeph">NUMBER</code> ）。名称中没有“only”的方法允许在可能的情况下将<span class="italic">任何</span> JSON值转换为给定的SQL数据类型。
                                 </p>
                              </li>
                              <li>
                                 <p>现在，所有项方法都可以在SQL / JSON函数<code class="codeph">json_value</code> ， <code class="codeph">json_query</code>和<code class="codeph">json_table</code> （columns）的路径表达式中使用。在Oracle Database 12c第2版（12.2.0.1）中，项方法只能用于SQL / JSON条件<code class="codeph">json_exists</code>路径表达式。
                                 </p>
                              </li>
                              <li>
                                 <p>Item方法<code class="codeph">string()</code>现在可以返回<code class="codeph">CLOB</code>或<code class="codeph">BLOB</code> （除了<code class="codeph">VARCHAR2</code> ）。默认值为<code class="codeph">VARCHAR2(4000)</code> 。
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-65C0A164-8821-4C38-8D1C-F7C287161C66">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="json-path-expressions.html#GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13" title="描述了可用于SQL / JSON路径表达式的Oracle项目方法。">SQL / JSON路径表达式项方法</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-D83ED689-7053-4582-A659-761371C18B03">JSON数据指南增强功能</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Oracle SQL聚合函数<code class="codeph">json_dataguide</code>现在接受可选的格式化参数：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>您可以通过使用参数<code class="codeph">DBMS_JSON.FORMAT_ <span class="bold">HIERARCHICAL</span></code>指定关键字<code class="codeph"><span class="bold">FORMAT</span></code>来返回<span class="italic">分层数据</span>指南。</p>
                                    </li>
                                    <li>
                                       <p>您可以通过使用参数<code class="codeph">DBMS_JSON. <span class="bold">PRETTY</span></code>指定关键字<code class="codeph"><span class="bold">PRETTY</span></code>来指定返回数据索引的<span class="italic">漂亮打印</span> （缩进以提高可读性） <code class="codeph">DBMS_JSON. <span class="bold">PRETTY</span></code> 。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>新的数据字典视图可用于显示在启用数据导航的搜索索引中为各个JSON对象<span class="italic">字段</span>记录的数据导航信息： <code class="codeph">USER_JSON_DATAGUIDE_FIELDS</code> ， <code class="codeph">ALL_JSON_DATAGUIDE_FIELDS</code> ， <code class="codeph">DBA_JSON_DATAGUIDE_FIELDS</code> 。 （这些是对视图<code class="codeph">USER_JSON_DATAGUIDES</code> ， <code class="codeph">ALL_JSON_DATAGUIDES</code>和<code class="codeph">DBA_JSON_DATAGUIDES</code> ，它们列出了具有带有数据导索的搜索索引的JSON列的表。）
                                 </p>
                              </li>
                              <li>
                                 <p>对于包含标量值数组的JSON文档，dataguide现在记录标量类型以及<code class="codeph">ARRAY</code>类型。通过将<code class="codeph"><span class="bold">[*]</span></code>附加到为阵列本身记录的路径，在平面数据指南中指示标记值的记录路径。
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-49CA8D9A-1D79-4782-98B1-9F3B8739B42B">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../sqlrf/JSON_DATAGUIDE.html#SQLRF-GUID-4CF32887-0F46-4925-8381-AE2B74343933" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p> 
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-954E3B5B-2BD1-463E-872B-31D84DB9AC6E">记录JSON列存在的数据字典视图</p>
                           <p>数据字典视图<code class="codeph">USER_JSON_COLUMNS</code> ， <code class="codeph">ALL_JSON_COLUMNS</code>和<code class="codeph">DBA_JSON_COLUMNS</code>现在列出包含具有JSON数据的列的<span class="italic">视图</span>以及表。
                           </p>
                           <div class="infoboxnotealso" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-FDF06B6B-7447-42A1-9049-85B34FAA0A34">
                              <p class="notep1">也可以看看：</p>
                              <p>有关<code class="codeph">ALL_JSON_COLUMNS</code>和相关数据字典视图的信息，请<code class="codeph">ALL_JSON_COLUMNS</code> <a href="../refrn/ALL_JSON_COLUMNS.html#REFRN-GUID-0FEC03C4-8F07-47C0-8FC0-A771EBF5D057" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-FAD28A1C-D95D-45D6-89A8-C3D31A62F38A">SQL / JSON函数JSON_TABLE语法</p>
                           <p>通过使一些常见用例更简单， <code class="codeph">json_table</code>的语法得到了增强：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您现在可以使用简单的点表示法语法代替路径表达式。</p>
                              </li>
                              <li>
                                 <p>如果列是JSON对象字段的投影，并且您希望列与该字段具有相同的名称，则无需为该对象提供路径表达式 - 该路径是从列名称推断出来的。</p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-FF922CC1-11B5-4F75-ABF6-7F7D0737980F">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../sqlrf/JSON_TABLE.html#SQLRF-GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p> 
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-CC3A5138-90F0-484C-BF8F-D1BA3EAE50C7">ON STATEMENT支持JSON_TABLE物化视图</p>
                           <p>现在，您可以在使用<code class="codeph">json_table</code>查询创建<code class="codeph">json_table</code>化视图时使用关键字<code class="codeph">ON STATEMENT</code> 。使用<code class="codeph">ON STATEMENT</code>而不是<code class="codeph">ON COMMIT</code>意味着视图会针对基表自动同步每个DML语句。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-6B65B807-FBB2-4E99-8EC8-8DCB2213939F">新的SQL函数TO_UTC_TIMESTAMP_TZ</p>
                           <p>SQL函数<code class="codeph"><span class="bold">to_UTC_timestamp_tz</span></code>将ISO 8601日期格式字符串作为输入，并返回SQL数据类型<code class="codeph">TIMESTAMP WITH TIMEZONE</code>的实例。它将输入标准化为UTC时间（协调世界时，以前格林威治标准时间）。与SQL函数<code class="codeph">to_timestamp_tz</code>不同，新函数假定输入字符串使用ISO 8601日期格式，将时区默认为UTC 0。
                           </p>
                           <p>此函数的典型用法是将其输出提供给SQL函数<code class="codeph">sys_extract_UTC</code> ，获取UTC时间，然后将其作为SQL绑定变量传递给SQL / JSON条件<code class="codeph">json_exists</code> ，以执行时间戳范围比较。
                           </p>
                           <div class="infoboxnotealso" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-F6FF8FF6-3773-4E1A-BDEA-6DAE47639138">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adjsn&amp;id=wikipedia_iso8601" target="_blank">ISO 8601</a>有关ISO日期格式的信息</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8C9B00DD-45D8-499B-919C-8632E034B664__GUID-BB8B415B-84FB-4A90-B8DC-83AAE5191C8E">新的Oracle SQL条件JSON_EQUAL</p>
                           <p>Oracle SQL条件<code class="codeph">json_equal</code>比较两个JSON值，如果它们相等则返回true，否则返回false。对于此比较，忽略无关紧要的空白和无关紧要的对象成员顺序。例如，如果JSON对象具有相同的成员，则无论其顺序如何，它们都是相等的。但是，如果两个比较对象中的任何一个具有一个或多个重复字段，则<code class="codeph">json_equal</code>返回的值未指定。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="creating-a-table-with-a-json-column.html#GUID-74BBD890-EE42-425E-AF09-FEFC5F9093AF" title="如何判断表或视图的给定列是否是格式正确的JSON数据？只要是这种情况，该列就会列在以下静态数据字典视图中：DBA_JSON_COLUMNS，USER_JSON_COLUMNS和ALL_JSON_COLUMNS。">确定列是否必须包含JSON数据</a></li>
                              <li><a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" title="提供了SQL / JSON路径表达式的基本语法。它由上下文项符号（$）后跟零个或多个对象，数组和后代步骤组成，每个步骤后面都可以跟一个过滤器表达式，后面可选择一个函数步骤。提供了示例。">基本SQL / JSON路径表达式语法</a></li>
                              <li><a href="json-dataguide.html#GUID-70D47F29-BA01-4908-A5C1-8EB10AAB89A0" title="您可以查询静态数据字典视图，以查看哪些表具有启用了数据引导的JSON搜索索引的JSON列，并提取记录在启用了dataguide的JSON搜索索引中的JSON对象字段信息。">持久数据指南信息的数据字典视图</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="changes.html#unique_1682058403" title="以下功能是此版本中的新增功能。">新功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-7F43AE55-4176-477E-8D3B-021ED838106D" name="GUID-7F43AE55-4176-477E-8D3B-021ED838106D"></a><h5 id="ADJSN-GUID-7F43AE55-4176-477E-8D3B-021ED838106D" class="sect5">分片支持</h5>
                     <div>
                        <p>对JSON数据的分片支持得到了增强。</p>
                        <p>现在支持以下内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>分片表上的JSON搜索索引，无论是用户管理还是系统管理。</p>
                           </li>
                           <li>
                              <p>对来自SQL和PL / SQL的<code class="codeph">CLOB</code>或<code class="codeph">BLOB</code>返回的JSON数据的跨分片（和in-shard）查询。这包括使用SQL / JSON函数<code class="codeph">json_table</code>将JSON数据投影到<code class="codeph">CLOB</code>和<code class="codeph">BLOB</code>列。
                              </p>
                           </li>
                           <li>
                              <p>评估使用SQL / JSON函数和条件的跨分片查询的各个分片。这包括使用以下内容：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>函数<code class="codeph">json_value</code>和聚合函数<code class="codeph">json_dataguide</code>在<code class="codeph">SELECT</code>子句中</p>
                                 </li>
                                 <li>
                                    <p>函数<code class="codeph">json_table</code>在<code class="codeph">FROM</code>子句中</p>
                                 </li>
                                 <li>
                                    <p>函数<code class="codeph">json_value</code> ，以及<code class="codeph">WHERE</code>子句中的条件<code class="codeph">json_exists</code>和<code class="codeph">json_textcontains</code> 。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>在块迁移期间自动重定位基表和索引存储表分区。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-7F43AE55-4176-477E-8D3B-021ED838106D__GUID-24B432DC-BF63-45F4-9B50-D065F12194EB">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../shard/changes-in-this-release.html#SHARD-GUID-337B61E5-4340-4027-82D8-CB3DCF1EF38D" target="_blank"><span><cite>使用Oracle Sharding</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="changes.html#unique_1682058403" title="以下功能是此版本中的新增功能。">新功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-01465965-9D45-413A-9EA6-B5BFED51A554" name="GUID-01465965-9D45-413A-9EA6-B5BFED51A554"></a><h5 id="ADJSN-GUID-01465965-9D45-413A-9EA6-B5BFED51A554" class="sect5">LOB存储的性能改进</h5>
                     <div>
                        <p>使用LOB存储的JSON数据的性能已得到改进。这特别影响读取和写入存储为LOB的整个JSON文档的常见用例。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="changes.html#unique_1682058403" title="以下功能是此版本中的新增功能。">新功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-04DFDA82-6D0F-4EC7-9C05-40E0FE392883" name="GUID-04DFDA82-6D0F-4EC7-9C05-40E0FE392883"></a><h5 id="ADJSN-GUID-04DFDA82-6D0F-4EC7-9C05-40E0FE392883" class="sect5">JSON搜索索引支持更长的字段名称</h5>
                     <div>
                        <p>JSON搜索索引支持的最大JSON字段名称长度现在为255个字节（以前为64个字节）。</p>
                        <div class="infoboxnote" id="GUID-04DFDA82-6D0F-4EC7-9C05-40E0FE392883__GUID-41D376D1-A312-4BE0-BBAC-F1793643EE4C">
                           <p class="notep1">注意：</p>
                           <p>如果它们索引包含名称长度超过64字节的对象字段的JSON数据，则<span class="bold">必须重建</span>在Oracle Database 18c之前创建的任何JSON搜索索引和Oracle Text索引。有关更多信息，请参见<a href="../upgrd/recommended-and-best-practices-complete-upgrading-oracle-database.html#UPGRD-GUID-7A5E0A01-7711-4EEA-88DD-EECF16B9A6F7" target="_blank"><span><cite>Oracle数据库升级指南</cite></span></a>
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="oracle-json-restrictions.html#GUID-1DB81125-54A7-4CB6-864B-78E0E7E407C9" title="此处列出了与Oracle数据库中Oracle支持JSON数据相关的限制。">Oracle数据库JSON限制</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="changes.html#unique_1682058403" title="以下功能是此版本中的新增功能。">新功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C2678252-F9FB-4EB2-8C95-17C42BB0ABCA" name="GUID-C2678252-F9FB-4EB2-8C95-17C42BB0ABCA"></a><h4 id="ADJSN-GUID-C2678252-F9FB-4EB2-8C95-17C42BB0ABCA" class="sect4">不推荐的功能</h4>
                  <div>
                     <p>此版本中不推荐使用以下功能，并且可能在将来的版本中不支持这些功能。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>SQL / JSON函数将布尔JSON值作为数字（零或一）返回。将值作为<code class="codeph">VARCHAR2</code>或（仅在PL / SQL中）返回为<code class="codeph">BOOLEAN</code> ;不要将其作为<code class="codeph">NUMBER</code>返回。如果您确实需要SQL数值，则可以使用SQL <code class="codeph">DECODE</code>或<code class="codeph">CASE WHEN</code>从<code class="codeph">VARCHAR2</code>值中获取零或一。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="changes.html#GUID-6834FDD2-A670-43FC-99AC-840B81B8904B" title="描述了JSON支持和Oracle Database JSON Developer&#39;s Guide for Oracle Database Release 18c，Version 18.1中的更改。">适用于JSON Developer's Guide的Oracle Database Release 18c，版本18.1中的更改</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="10839.UPDATE.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>UPDATE</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="TRUNCATE-TABLE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="How-to-Read-Syntax-Diagrams.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="TRUNCATE-TABLE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="How-to-Read-Syntax-Diagrams.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-MERGE-to-UPDATE.html" property="item" typeof="WebPage"><span property="name">SQL语句：MERGE更新</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">UPDATE</li>
            </ol>
            <a id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5" name="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5"></a><a id="SQLRF55443"></a><a id="SQLRF55444"></a><a id="SQLRF55445"></a><a id="SQLRF55446"></a><a id="SQLRF55447"></a><a id="SQLRF55448"></a><a id="SQLRF55449"></a><a id="SQLRF55450"></a><a id="SQLRF55451"></a><a id="SQLRF55452"></a><a id="SQLRF55453"></a><a id="SQLRF55454"></a><a id="SQLRF55455"></a><a id="SQLRF55456"></a><a id="SQLRF55457"></a><a id="SQLRF55458"></a><a id="SQLRF55459"></a><a id="SQLRF55460"></a><a id="SQLRF55461"></a><a id="SQLRF55462"></a><a id="SQLRF55463"></a><a id="SQLRF55464"></a><a id="SQLRF55465"></a><a id="SQLRF55466"></a><a id="SQLRF55467"></a><a id="SQLRF55468"></a><a id="SQLRF55469"></a><a id="SQLRF55470"></a><a id="SQLRF55471"></a><a id="SQLRF55472"></a><a id="SQLRF55473"></a><a id="SQLRF55474"></a><a id="SQLRF55475"></a><a id="SQLRF55476"></a><a id="SQLRF55477"></a><a id="SQLRF55478"></a><a id="SQLRF55479"></a><a id="SQLRF55480"></a><a id="SQLRF55481"></a><a id="SQLRF55482"></a><a id="SQLRF55483"></a><a id="SQLRF55484"></a><a id="SQLRF01708"></a>
            
            <h2 id="SQLRF-GUID-027A462D-379D-4E35-8611-410F3AC8FDA5" class="sect2">UPDATE</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-24905FEF-4513-4760-8DE4-D419F9BBC299">目的</p>
                  <p><a id="d444144e200" class="indexterm-anchor"></a><a id="d444144e204" class="indexterm-anchor"></a><a id="d444144e210" class="indexterm-anchor"></a>使用<code class="codeph">UPDATE</code>语句更改表或视图的基表或实例化视图的主表中的现有值。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2112170">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-009E64DA-BA10-4922-8092-7343F5F1BE93">先决条件</p>
                  <p>要更新表中的值，表必须位于您自己的模式中，或者您必须具有表上的<code class="codeph">UPDATE</code>对象特权。
                  </p>
                  <p>您可以更新视图基表中的值：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您必须具有视图的<code class="codeph">UPDATE</code>对象特权，并且</p>
                     </li>
                     <li>
                        <p>拥有包含视图的模式的人必须在基表上具有<code class="codeph">UPDATE</code>对象特权。
                        </p>
                     </li>
                  </ul>
                  <p><code class="codeph">UPDATE</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>系统特权还允许您更新任何视图的任何表或基表中的值。
                  </p>
                  <p>要更新远程数据库上对象的值，还必须对该对象具有<code class="codeph">READ</code>或<code class="codeph">SELECT</code>对象权限。
                  </p>
                  <p>如果<code class="codeph">SQL92_SECURITY</code>初始化参数设置为<code class="codeph">TRUE</code>且<code class="codeph">UPDATE</code>操作引用表列（例如<span class="italic"><code class="codeph">where_clause</code></span>的列），则还必须对要更新的对象具有<code class="codeph">SELECT</code>对象特权。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2112182">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-8AB48ECA-3F71-463E-BF9B-4BB8D5E5AC3C">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-D2CC4831-32B4-4099-9313-94003081C601"><span class="italic">update</span> :: =</p>
                  <div class="figure" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-E624FDCF-2949-4848-91CB-8061DB86CB4A"><img src="img/update.gif" alt="update.eps的描述如下" title="update.eps的描述如下" longdesc="img_text/update.html"><br><a href="img_text/update.html">插图说明update.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="UPDATE.html#GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__BABGGJCE">DML_table_expression_clause :: =</a></span> ， <span class="italic"><a href="UPDATE.html#GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2126876">update_set_clause :: =</a></span> ， <span class="italic"><a href="UPDATE.html#GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2126344">where_clause :: =</a></span> ， <span class="italic"><a href="UPDATE.html#GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2126358">returning_clause :: =</a></span> ， <span class="italic"><a href="UPDATE.html#GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__BCEEAAGC">error_logging_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__BABGGJCE">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-0664C7ED-257F-475C-9589-F40123933C22"><span class="italic">DML_table_expression_clause</span> :: =</p>
                  <div class="figure" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-8A618515-443A-4128-B7D2-F9AB6680138E"><img src="img/dml_table_expression_clause.gif" alt="下面是dml_table_expression_clause.eps的描述" title="下面是dml_table_expression_clause.eps的描述" longdesc="img_text/dml_table_expression_clause.html"><br><a href="img_text/dml_table_expression_clause.html">说明dml_table_expression_clause.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="UPDATE.html#GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__CHDBBDEI">partition_extension_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126435">subquery :: =</a></span> - <code class="codeph">SELECT</code> ， <span class="italic"><a href="UPDATE.html#GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2126407">subquery_restriction_clause :: =</a></span> ， <span class="italic"><a href="UPDATE.html#GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2126867">table_collection_expression :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__CHDBBDEI">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-217596B2-C095-48BA-B58C-0E627C34B40A"><span class="italic">partition_extension_clause</span> :: =</p>
                  <div class="figure" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-08247C56-C0FD-44F0-A192-84CE4E45EB78"><img src="img/partition_extension_clause.gif" alt="下面是partition_extension_clause.eps的描述" title="下面是partition_extension_clause.eps的描述" longdesc="img_text/partition_extension_clause.html"><br><a href="img_text/partition_extension_clause.html">插图说明partition_extension_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2126407">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-460DEDB3-488A-4BD9-8B97-9A953EEFA6A0"><span class="italic">subquery_restriction_clause</span> :: =</p>
                  <div class="figure" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-15642F3E-BE51-4D58-9FF1-B4670FA68703"><img src="img/subquery_restriction_clause.gif" alt="下面是subquery_restriction_clause.eps的描述" title="下面是subquery_restriction_clause.eps的描述" longdesc="img_text/subquery_restriction_clause.html"><br><a href="img_text/subquery_restriction_clause.html">插图描述subquery_restriction_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2126867">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-3F0AE160-280D-4D6B-BC8A-B5522EFC51AE"><span class="italic">table_collection_expression</span> :: =</p>
                  <div class="figure" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-4CDD642B-9C01-4D10-9BFE-1CE79FC63311"><img src="img/table_collection_expression.gif" alt="table_collection_expression.eps的描述如下" title="table_collection_expression.eps的描述如下" longdesc="img_text/table_collection_expression.html"><br><a href="img_text/table_collection_expression.html">插图描述table_collection_expression.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2126876">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-AB41F170-3B0D-4DB9-B4E3-2AF7FCA32DE1"><span class="italic">update_set_clause</span> :: =</p>
                  <div class="figure" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-1ACF2283-5676-4590-B104-2EFF71AC47A9"><img src="img/update_set_clause.gif" alt="下面是update_set_clause.eps的描述" title="下面是update_set_clause.eps的描述" longdesc="img_text/update_set_clause.html"><br><a href="img_text/update_set_clause.html">插图说明update_set_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2126344">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-FE4FD541-92F7-4233-A444-CB62B328C863"><span class="italic">where_clause</span> :: =</p>
                  <div class="figure" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-7FD3CFBB-DB02-4FF6-838F-34B5D78AC569"><img src="img/where_clause.gif" alt="where_clause.eps的描述如下" title="where_clause.eps的描述如下" longdesc="img_text/where_clause.html"><br><a href="img_text/where_clause.html">说明where_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2126358">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-60C60A7C-E14D-48C6-9A5A-2010250A4BAC"><span class="italic">returning_clause</span> :: =</p><a id="d444144e385" class="indexterm-anchor"></a><div class="figure" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-384091B9-CE7F-44E9-9AB4-81C9F6F8658A"><img src="img/returning_clause.gif" alt="return_clause.eps的描述如下" title="return_clause.eps的描述如下" longdesc="img_text/returning_clause.html"><br><a href="img_text/returning_clause.html">return_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__BCEEAAGC">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-814CFE66-A632-45D2-9BE9-17E000D95AD6"><span class="italic">error_logging_clause</span> :: =</p><a id="d444144e398" class="indexterm-anchor"></a><div class="figure" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-CE48CD9F-C86A-4859-B651-762A7A7FFF80"><img src="img/error_logging_clause.gif" alt="下面是error_logging_clause.eps的描述" title="下面是error_logging_clause.eps的描述" longdesc="img_text/error_logging_clause.html"><br><a href="img_text/error_logging_clause.html">说明error_logging_clause.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2112194">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-453BEEBD-88DF-48B6-95CF-B95732E071CF">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-3D9F4F04-7ADF-4F01-AB09-4875D0FED921"><span class="italic">暗示</span></p>
                  <p>指定在为语句选择执行计划时将指令传递给优化程序的注释。</p>
                  <p>您可以在<code class="codeph">UPDATE</code>关键字后立即放置并行提示，以并行化基础扫描和<code class="codeph">UPDATE</code>操作。
                  </p>
                  <div class="infoboxnotealso" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-9D83F076-45B2-4750-9A67-CBF7BB88A9C3">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q"><a href="Comments.html#GUID-D316D545-89E2-4D54-977F-FC97815CD62E">提示</a></span>的语法和描述的<span class="q">“ <a href="Comments.html#GUID-D316D545-89E2-4D54-977F-FC97815CD62E">提示</a> ”</span></p>
                        </li>
                        <li>
                           <p>有关并行执行的详细信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=CNCPT220" target="_blank"><span class="italic">Oracle Database Concepts</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-128E38E2-33DB-4477-84F2-31567B47DC01"><span class="italic">DML_table_expression_clause</span></p>
                  <p><code class="codeph">ONLY</code>子句仅适用于视图。如果<code class="codeph">UPDATE</code>子句中的视图是属于层次结构的视图，并且您不想更新其任何子视图中的行，请<code class="codeph">ONLY</code>指定<code class="codeph">ONLY</code>语法。
                  </p>
                  <div class="infoboxnotealso" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-7BBDF53A-23C2-47FD-ADDC-0063DD3E7004">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="UPDATE.html#GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2079307">对DML_table_expression_clause的限制</a> ”</span>和<span class="q">“ <a href="UPDATE.html#GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2189758">更新表：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold"><span class="italic">模式</span></span></p>
                  <p>指定包含要更新的对象的模式。如果省略<span class="italic"><code class="codeph">schema</code></span> ，则数据库假定该对象位于您自己的模式中。
                  </p>
                  <p><span class="bold"><span class="italic">表</span></span> <span class="bold">|</span> <span class="bold"><span class="italic">查看</span></span> <span class="bold">|</span> <span class="bold"><span class="italic">materialized_view</span></span> <span class="bold">|</span> <span class="bold"><span class="italic">子查询</span></span></p>
                  <p>指定要更新的子查询返回的表，视图，物化视图或列的名称。对表发出<code class="codeph">UPDATE</code>语句会触发与表关联的任何<code class="codeph">UPDATE</code>触发器。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a id="d444144e507" class="indexterm-anchor"></a>如果指定<span class="italic"><code class="codeph">view</code></span> ，则数据库将更新视图的基表。如果视图的定义查询包含以下构造之一，则无法更新除<code class="codeph">INSTEAD</code> <code class="codeph">OF</code>触发器之外的视图：</p>
                        <ul class="simple" style="list-style-type:none;padding-left:0">
                           <li>一组运算符</li>
                           <li><code class="codeph">DISTINCT</code>运算符</li>
                           <li>聚合或分析函数</li>
                           <li><code class="codeph">GROUP</code> <code class="codeph">BY</code> ， <code class="codeph">ORDER</code> <code class="codeph">BY</code> ， <code class="codeph">MODEL</code> ， <code class="codeph">CONNECT</code> <code class="codeph">BY</code>或<code class="codeph">START</code> <code class="codeph">WITH</code>子句</li>
                           <li><code class="codeph">SELECT</code>列表中的集合表达式</li>
                           <li><code class="codeph">SELECT</code>列表中的子查询</li>
                           <li>指定<code class="codeph">WITH</code> <code class="codeph">READ</code> <code class="codeph">ONLY</code>子查询</li>
                           <li>递归的<code class="codeph">WITH</code>子句</li>
                           <li>如<a href="../admin/managing-views-sequences-and-synonyms.html#ADMIN020" target="_blank"><span class="italic">Oracle数据库管理员指南中所述</span></a> ，加入了一些例外情况</li>
                           <li></li>
                        </ul>
                     </li>
                     <li>
                        <p>您无法通过视图更新多个基表。</p>
                     </li>
                     <li>
                        <p>此外，如果视图是使用<code class="codeph">WITH</code> <code class="codeph">CHECK</code> <code class="codeph">OPTION</code>创建的，那么只有在结果数据满足视图的定义查询时才能更新视图。
                        </p>
                     </li>
                     <li>
                        <p>如果<span class="italic"><code class="codeph">table</code></span>或基表<span class="italic"><code class="codeph">view</code></span>包含一个或多个域的索引列，那么这个语句的执行适当的索引类型的更新程序。
                        </p>
                     </li>
                     <li>
                        <p>您无法更新只读实例化视图中的行。如果更新可写实体化视图中的行，则数据库将更新基础容器表中的行。但是，在下一次刷新操作时会覆盖更新。如果更新作为实例化视图组一部分的可更新实例化视图中的行，则数据库还会更新主表中的相应行。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-5AC75E3B-CF51-418A-B464-9E52B092F72D">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关indextype更新例程的更多信息，请参见<a href="../addci/extensible-indexing-interface.html#ADDCI4200" target="_blank"><span class="italic">Oracle数据库数据盒开发人员指南</span></a></p>
                        </li>
                        <li>
                           <p>有关创建可更新的实体化视图的信息，请创建<a href="CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B">MATERIALIZED VIEW</a></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold"><span class="italic">partition_extension_clause</span></span> <a id="d444144e642" class="indexterm-anchor"></a><a id="d444144e646" class="indexterm-anchor"></a><a id="d444144e650" class="indexterm-anchor"></a><a id="d444144e654" class="indexterm-anchor"></a></p>
                  <p>指定用于更新的<span class="italic"><code class="codeph">table</code></span>中的分区或子分区的名称或分区键值。更新分区表中的值时，无需指定分区名称。但是在某些情况下，指定分区名称可能比复杂的<span class="italic"><code class="codeph">where_clause</code></span>更有效。
                  </p>
                  <div class="infoboxnotealso" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-4D295D91-CC0A-4E51-B629-D20B4E2773B1">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="Syntax-for-Schema-Objects-and-Parts-in-SQL-Statements.html#GUID-FED2E424-3F06-4B2B-88D2-DE043CA6E0E4">对分区表和索引的引用</a> ”</span>和<span class="q">“ <a href="UPDATE.html#GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2130226">更新分区：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold"><span class="italic">DBLINK</span></span></p>
                  <p>指定数据库链接的完整或部分名称，指向对象所在的远程数据库。只有在使用Oracle数据库分布式功能时，才能使用数据库链接更新远程对象。</p>
                  <p>如果省略<span class="italic"><code class="codeph">dblink,</code></span>则数据库假定该对象位于本地数据库中。
                  </p>
                  <div class="infoboxnote" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-0D3425ED-E592-41CA-BA8E-1087202F32C2">
                     <p class="notep1">注意：</p>
                     <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始， <code class="codeph">UPDATE</code>语句接受远程LOB定位符作为绑定变量。有关更多信息，请参阅<a href="../adlob/distributed-LOBs.html#ADLOB-GUID-7E450E86-3E4E-4714-A164-FD36B93722F6" target="_blank"><span class="italic">Oracle Database SecureFiles和Large Objects Developer's Guide中</span></a>的“分布式LOB”一章。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-9F4B3D8C-06F8-4F8B-938E-6ECF51173B5F">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="Syntax-for-Schema-Objects-and-Parts-in-SQL-Statements.html#GUID-61D0B206-A5EA-473F-AD04-7067D6E3914C">有关远程数据库中对象的引用</a> ”，</span>以获取有关引用数据库链接的信息</p>
                  </div>
                  <p><span class="bold"><span class="italic">subquery_restriction_clause</span></span></p>
                  <p>使用<span class="italic"><code class="codeph">subquery_restriction_clause</code></span>以下列方式之一限制子查询：</p>
                  <p><span class="bold">只读</span></p>
                  <p>指定<code class="codeph">WITH READ ONLY</code>以指示无法更新表或视图。
                  </p>
                  <p><span class="bold">与检查选项</span></p>
                  <p>指定<code class="codeph">WITH CHECK OPTION</code>以指示Oracle数据库禁止对将生成子查询中未包含的行的表或视图进行任何更改。在DML语句的子查询中使用时，可以在<code class="codeph">FROM</code>子句的子查询中指定此子句，但不能在<code class="codeph">WHERE</code>子句的子查询中指定。
                  </p>
                  <p><span class="bold">CONSTRAINT</span> <span class="bold"><span class="italic">约束</span></span></p>
                  <p>指定<code class="codeph">CHECK OPTION</code>约束的名称。如果省略此标识符，则Oracle会自动为约束指定<code class="codeph">SYS_C</code> <span class="italic"><code class="codeph">n</code></span>形式的名称，其中n是一个整数，使数据库中的约束名称唯一。
                  </p>
                  <div class="infoboxnotealso" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-04926D92-8ADE-41E5-9DB5-ADFAEBCA5821">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066598">使用WITH CHECK OPTION子句：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold"><span class="italic">table_collection_expression</span></span> 
                  </p>
                  <p><span class="italic"><code class="codeph">table_collection_expression</code></span>允许您通知Oracle，应将<span class="italic"><code class="codeph">collection_expression</code></span>的值视为用于查询和DML操作的表。<span class="italic"><code class="codeph">collection_expression</code></span>可以是子查询，列，函数或集合构造函数。无论其形式如何，它都必须返回一个集合值 - 即类型为嵌套表或varray的值。提取集合元素的过程称为<span class="bold">集合取消</span> 。
                  </p>
                  <p>如果要将<code class="codeph">TABLE</code>集合表达式与父表连接，则可选的加号（+）是相关的。+创建两者的外连接，以便查询返回外表中的行，即使集合表达式为null。
                  </p>
                  <div class="infoboxnote" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-E29B5073-6787-41FB-942F-0316B358B94B">
                     <p class="notep1">注意：</p>
                     <p>在Oracle的早期版本中，当<span class="italic"><code class="codeph">collection_expression</code></span>是一个子查询， <span class="italic"><code class="codeph">table_collection_expression</code></span>表示为<code class="codeph">THE</code> <span class="italic"><code class="codeph">subquery</code></span> 。该用法现已弃用。
                     </p>
                  </div>
                  <p>您可以使用<span class="italic"><code class="codeph">table_collection_expression</code></span>根据另一个表中的行更新一个表中的行。例如，您可以将四个季度销售表汇总到年度销售表中。
                  </p>
                  <p><span class="bold"><span class="italic">t_alias</span></span></p>
                  <p>为要在语句中的其他位置引用的表，视图或子查询指定<span class="bold">相关名称</span> （别名）。如果<span class="italic"><code class="codeph">DML_table_expression_clause</code></span>引用任何对象类型属性或对象类型方法，则需要此别名。
                  </p>
                  <div class="infoboxnotealso" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-ABEAF74B-38BD-4F60-A133-0606368AC2E5">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="UPDATE.html#GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2068234">相关更新：示例</a> ”</span></p>
                  </div>
                  <p id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2079307"><span class="bold"><span class="italic">DML_table_expression_clause的</span></span> <span class="bold">限制</span></p>
                  <p>本条款受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果不能执行该语句<span class="italic"><code class="codeph">table</code></span>或基表<span class="italic"><code class="codeph">view</code></span>中包含任何标记域指标<code class="codeph">IN_PROGRESS</code>或<code class="codeph">FAILED</code> 。</p>
                     </li>
                     <li>
                        <p>如果任何受影响的索引分区标记为<code class="codeph">UNUSABLE</code>则无法插入分区。</p>
                     </li>
                     <li>
                        <p>您不能在<span class="italic"><code class="codeph">DML_table_expression_clause</code></span>的子查询中指定<span class="italic"><code class="codeph">order_by_clause</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>如果指定已标记为<code class="codeph">UNUSABLE</code>的索引，索引分区或索引子分区，则除非<code class="codeph">SKIP_UNUSABLE_INDEXES</code>会话参数已设置为<code class="codeph">TRUE</code>否则<code class="codeph">UPDATE</code>语句将失败。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-EE1CED7C-F4B7-4F4B-892F-2E58BE8CFC47">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">SKIP_UNUSABLE_INDEXES</code>会话参数的信息，请参阅<a href="ALTER-SESSION.html#GUID-27186B28-7EFC-4998-B1ED-2B905CC0211B">ALTER SESSION</a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-E93DC07B-B7BD-46AC-8F21-2E4F66197448"><span class="italic">update_set_clause</span></p>
                  <p><span class="italic"><code class="codeph">update_set_clause</code></span>允许您设置列值。
                  </p>
                  <p><span class="bold"><span class="italic">柱</span></span></p>
                  <p>指定要更新的对象的列的名称。如果从<span class="italic"><code class="codeph">update_set_clause</code></span>省略表的<span class="italic"><code class="codeph">update_set_clause</code></span> ，则该列的值保持不变。
                  </p>
                  <p>如果<span class="italic"><code class="codeph">column</code></span>引用LOB对象属性，则必须首先使用null或null值初始化它。您无法使用文字更新它。此外，如果使用除直接<code class="codeph">UPDATE</code> SQL语句之外的某些方法更新LOB值，则必须先锁定包含LOB的行。有关更多信息，请参阅<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066346">for_update_clause</a></span> 。
                  </p>
                  <p>如果<span class="italic"><code class="codeph">column</code></span>是虚拟列，则无法在此处指定。而是必须更新从中派生虚拟列的值。
                  </p>
                  <p>如果<span class="italic"><code class="codeph">column</code></span>是分区表的分区键的一部分，那么如果更改将该行移动到其他分区或子分区的列中的值，则<code class="codeph">UPDATE</code>将失败，除非您启用行移动。请参阅<a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6">CREATE TABLE</a>或<a href="ALTER-TABLE.html#GUID-552E7373-BF93-477D-9DA3-B2C9386F2877">ALTER TABLE</a>的<span class="italic"><code class="codeph">row_movement_clause</code></span> 。</p>
                  <p>此外，如果<span class="italic"><code class="codeph">column</code></span>是列表分区表的分区键的一部分，则如果为其中一个<span class="italic"><code class="codeph">partition_key_value</code></span>列表中尚不存在的列指定值，则<code class="codeph">UPDATE</code>将失败。
                  </p>
                  <p><span class="bold"><span class="italic">子查询</span></span></p>
                  <p>指定一个子查询，为每个更新的行返回一行。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果在<span class="italic"><code class="codeph">update_set_clause</code></span>仅指定一列，则子查询只能返回一个值。
                        </p>
                     </li>
                     <li>
                        <p>如果在<span class="italic"><code class="codeph">update_set_clause</code></span>指定了多个列，则子查询必须返回与指定列数相同的值。
                        </p>
                     </li>
                     <li>
                        <p>如果子查询不返回任何行，则为该列指定null。</p>
                     </li>
                     <li>
                        <p>如果此<span class="italic"><code class="codeph">subquery</code></span>引用远程对象，则只要引用不循环回本地数据库上的对象， <code class="codeph">UPDATE</code>操作就可以并行运行。但是，如果<span class="italic"><code class="codeph">DML_table_expression_clause</code></span>的<span class="italic"><code class="codeph">subquery</code></span>引用任何远程对象，则<code class="codeph">UPDATE</code>操作将在不通知的情况下串行运行。
                        </p>
                     </li>
                  </ul>
                  <p><span class="italic"></span>您可以使用子查询中的<span class="italic"><code class="codeph">flashback_query_clause</code></span>来更新包含过去数据的<span class="italic"><code class="codeph">table</code></span> 。有关此子句的更多信息，请参阅<code class="codeph">SELECT</code>的<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2112818">flashback_query_clause</a></span> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-E88BEBF7-A906-4BF9-A745-7F3B62E85C31">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6">SELECT</a>和<span class="q">“ <a href="Using-Subqueries.html#GUID-53A705B6-0358-4E2B-92ED-A83DE83DFD20">使用子查询</a> ”</span></p>
                        </li>
                        <li>
                           <p><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6">CREATE TABLE</a>文档中的<span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__CJACIHHF">parallel_clause</a></span></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold"><span class="italic">EXPR</span></span></p>
                  <p>指定一个表达式，该表达式解析为分配给相应列的新值。</p>
                  <div class="infoboxnote" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-D2512DCA-3503-4B61-9E69-8D613E66FC88">
                     <p class="notep1">注意：</p>
                     <p><a href="Expressions.html#GUID-E7A5363C-AEE9-4809-99C1-1A9C6E3AE017">表达式</a>为的语法<span class="italic"><code class="codeph">expr</code></span>和<span class="q">“ <a href="UPDATE.html#GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2135485">更新对象表：实施例</a> ”</span></p>
                  </div>
                  <p><span class="bold">默认</span></p>
                  <p>指定<code class="codeph">DEFAULT</code>将列设置为先前指定的值作为列的默认值。如果未指定相应列的默认值，则数据库将该列设置为null。
                  </p>
                  <p><span class="bold">更新为默认值的限制</span></p>
                  <p>如果要更新视图，则无法指定<code class="codeph">DEFAULT</code> 。
                  </p>
                  <p><span class="bold">VALUE条款</span></p>
                  <p><code class="codeph">VALUE</code>子句允许您指定对象表的整行。
                  </p>
                  <p><span class="bold">对VALUE子句的限制</span></p>
                  <p>您只能为对象表指定此子句。</p>
                  <div class="infoboxnote" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-7C6122B7-D3CE-4357-A484-BEF3ADBBB27A">
                     <p class="notep1">注意：</p>
                     <p>如果将字符串文字插入<code class="codeph">RAW</code>列，则在后续查询期间，Oracle数据库将执行全表扫描，而不是使用<code class="codeph">RAW</code>列上可能存在的任何索引。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-81E1A592-52DB-449B-99D8-4D2E1BCDF8C4">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="UPDATE.html#GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2135485">更新对象表：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-8998BBC8-AEF3-40FC-AB7F-2A2E77B13C95"><span class="italic">where_clause</span></p>
                  <p><span class="italic"><code class="codeph">where_clause</code></span>允许您将更新的行限制为指定<span class="italic"><code class="codeph">condition</code></span>为true的行。如果省略此子句，则数据库将更新表或视图中的所有行。有关<a href="Conditions.html#GUID-C2E3ED44-16E7-4924-9125-E1693B1022A8">条件</a>语法，请参阅<span class="italic"><code class="codeph">condition</code></span> 。
                  </p>
                  <p><span class="italic"><code class="codeph">where_clause</code></span>确定更新值的行。如果未指定<span class="italic"><code class="codeph">where_clause</code></span> ，则更新所有行。对于满足<span class="italic"><code class="codeph">where_clause</code></span>每一行， <span class="italic"><code class="codeph">update_set_clause</code></span>中等于运算符（=）左侧的列被设置为运算符右侧的相应表达式的值。在更新行时评估表达式。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-CA0E9045-CF3F-4D5B-ABF6-E3A97E03AEED"><span class="italic">returning_clause</span></p>
                  <p><a id="d444144e1163" class="indexterm-anchor"></a><a id="d444144e1167" class="indexterm-anchor"></a> returns子句检索受DML语句影响的行。您可以为表和物化视图以及具有单个基表的视图指定此子句。
                  </p>
                  <p>在单行上操作时，带有<span class="italic"><code class="codeph">returning_clause</code></span>的DML语句可以使用受影响的行，rowid和<code class="codeph">REFs</code>将列表达式检索到受影响的行，并将它们存储在主机变量或PL / SQL变量中。
                  </p>
                  <p>在多行上操作时，带有<span class="italic"><code class="codeph">returning_clause</code></span>的DML语句存储涉及绑定数组中受影响行的表达式，rowid和<code class="codeph">REFs</code>中的值。
                  </p>
                  <p><span class="bold"><span class="italic">EXPR</span></span></p>
                  <p><span class="italic"><code class="codeph">expr</code></span>列表中的每个项都必须是有效的表达式语法。
                  </p>
                  <p><span class="bold">INTO</span></p>
                  <p><code class="codeph">INTO</code>子句指示已更改行的值将存储在<span class="italic"><code class="codeph">data_item</code></span>列表中指定的变量中。
                  </p>
                  <p><span class="bold"><span class="italic">数据项</span></span></p>
                  <p>每个<span class="italic"><code class="codeph">data_item</code></span>都是一个主机变量或PL / SQL变量，用于存储检索到的<span class="italic"><code class="codeph">expr</code></span>值。
                  </p>
                  <p>对于<code class="codeph">RETURNING</code>列表中的每个表达式，必须在<code class="codeph">INTO</code>列表中指定相应的类型兼容的PL / SQL变量或主变量。
                  </p>
                  <p><span class="bold">限制</span></p>
                  <p>以下限制适用于<code class="codeph">RETURNING</code>子句：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic"><code class="codeph">expr</code></span>限制如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>对于<code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>语句，每个<span class="italic"><code class="codeph">expr</code></span>必须是简单表达式或单集聚合函数表达式。您不能在同一<span class="italic"><code class="codeph">returning_clause</code></span>组合简单表达式和单集聚合函数表达式。对于<code class="codeph">INSERT</code>语句，每个<span class="italic"><code class="codeph">expr</code></span>必须是一个简单的表达式。<code class="codeph">INSERT</code>语句<code class="codeph">RETURNING</code>子句不支持聚合函数。
                              </p>
                           </li>
                           <li>
                              <p>单集聚合函数表达式不能包含<code class="codeph">DISTINCT</code>关键字。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>如果<span class="italic"><code class="codeph">expr</code></span>列表包含主键列或其他<code class="codeph">NOT</code> <code class="codeph">NULL</code>列，则如果表上定义了<code class="codeph">BEFORE</code> <code class="codeph">UPDATE</code>触发器，则update语句将失败。
                        </p>
                     </li>
                     <li>
                        <p>您不能为多表插入指定<span class="italic"><code class="codeph">returning_clause</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>您不能将此子句与并行DML或远程对象一起使用。</p>
                     </li>
                     <li>
                        <p>您无法使用此子句检索<code class="codeph">LONG</code>类型。
                        </p>
                     </li>
                     <li>
                        <p>您不能为已定义<code class="codeph">INSTEAD</code> <code class="codeph">OF</code>触发器的视图指定此子句。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-50CE1B1C-F181-4B64-9EE1-0D8DD0C8BA2F">
                     <p class="notep1">也可以看看：</p>
                     <p>有关使用<code class="codeph">BULK</code> <code class="codeph">COLLECT</code>子句将多个值返回到集合变量的信息，请参阅<a href="../lnpls/plsql-optimization-and-tuning.html#LNPLS012" target="_blank"><span class="italic">Oracle Database PL / SQL语言参考</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-89662ACC-E6DD-456F-89D9-3F51FF68279C"><span class="italic">error_logging_clause</span></p>
                  <p><code class="codeph"><span class="codeinlineitalic">error_logging_clause</span></code>在<code class="codeph">UPDATE</code>语句中的行为与在<code class="codeph">INSERT</code>语句中的行为相同。有关更多信息，请参阅<code class="codeph">INSERT</code>语句<span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__BGBEIACB">error_logging_clause</a></span> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-5A8C7FAE-7A85-4581-BA32-544F031EEE34">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__BCEGDJDJ">插入带有错误记录的表：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2189756">
                  <p class="subhead1" id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__GUID-25F96250-1E00-486A-865A-7FACDF0ACC71">例子</p>
                  <p id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2189758"><span class="bold">更新表：示例</span></p>
                  <p>以下语句为具有作业<code class="codeph">SH_CLERK</code>所有员工提供空佣金：</p><pre class="oac_no_warn" dir="ltr">UPDATE员工SET commission_pct = NULL WHERE job_id ='SH_CLERK';</pre><p>以下声明将道格拉斯·格兰特（Douglas Grant）提升为第20部门的经理，加薪1000美元：</p><pre class="oac_no_warn" dir="ltr">UPDATE员工SET job_id ='SA_MAN'，薪水=工资+ 1000，department_id = 120 WHERE first_name ||' '|| last_name ='道格拉斯格兰特';</pre><p>以下语句增加了<code class="codeph">remote</code>数据库上<code class="codeph">employees</code>表中员工的工资：</p><pre class="oac_no_warn" dir="ltr">UPDATE employees @ remote SET salary = salary * 1.1 WHERE last_name ='Baer';</pre><p>下一个示例显示了<code class="codeph">UPDATE</code>语句的以下语法结构：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>这两种形式的<span class="italic"><code class="codeph">update_set_clause</code></span>都在一个语句中</p>
                     </li>
                     <li>
                        <p>相关子查询</p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">where_clause</code></span>限制更新的行</p>
                     </li>
                  </ul><pre class="oac_no_warn" dir="ltr">UPDATE员工SET department_id =（SELECT department_id FROM departments WHERE location_id ='2100'），（salary，commission_pct）=（SELECT 1.1 * AVG（薪水），1.5 * AVG（commission_pct）FROM employees b WHERE a.department_id = b。 department_id）WHERE department_id IN（SELECT department_id FROM departments WHERE location_id = 2900 OR location_id = 2700）;</pre><p>前面的<code class="codeph">UPDATE</code>语句执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>仅更新在日内瓦或慕尼黑工作的员工（位置2900和2700）</p>
                     </li>
                     <li>
                        <p>设置<code class="codeph">department_id</code>为这些员工的<code class="codeph">department_id</code>对应孟买（ <code class="codeph">location_id</code> 2100）</p>
                     </li>
                     <li>
                        <p>将每个员工的工资设置为其部门平均工资的1.1倍</p>
                     </li>
                     <li>
                        <p>将每位员工的佣金设置为其部门平均佣金的1.5倍</p>
                     </li>
                  </ul>
                  <p id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2130226"><span class="bold">更新分区：示例</span></p>
                  <p>以下示例更新<code class="codeph">sales</code>表的单个分区中的值：</p><pre class="oac_no_warn" dir="ltr">更新销售PARTITION（sales_q1_1999）s SET s.promo_id = 494 WHERE amount_sold&gt; 1000;</pre><p id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2135485"><span class="bold">更新对象表：示例</span></p>
                  <p>以下语句创建在<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2071643">表集合中</a>创建的<code class="codeph">people_typ</code>对象的两个对象表<code class="codeph">people_demo1</code>和<code class="codeph">people_demo2</code> <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2071643">：Examples</a> 。该示例示出了如何更新的行<code class="codeph">people_demo1</code>通过从选择行<code class="codeph">people_demo2</code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE people_demo1 OF people_typ; CREATE TABLE people_demo2 OF people_typ; UPDATE people_demo1 p SET VALUE（p）=（SELECT VALUE（q）FROM persons_demo2 q WHERE p.department_id = q.department_id）WHERE p.department_id = 10;</pre><p>该示例在<code class="codeph">SET</code>子句和子查询中使用<code class="codeph">VALUE</code>对象引用函数。
                  </p>
                  <p id="GUID-027A462D-379D-4E35-8611-410F3AC8FDA5__I2068234"><span class="bold">相关更新：示例</span></p>
                  <p>有关使用相关子查询更新嵌套表行的<span class="q"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2071643">示例</a></span> ，请参阅<span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2071643">表集合：示例</a> ”</span> 。
                  </p>
                  <p><span class="bold">在UPDATE期间使用RETURNING子句：示例</span></p>
                  <p>以下示例从更新的行返回值，并将结果存储在PL / SQL变量<code class="codeph">bnd1</code> ， <code class="codeph">bnd2</code> ， <code class="codeph">bnd3</code> ：</p><pre class="oac_no_warn" dir="ltr">UPDATE员工SET job_id ='SA_MAN'，薪水=工资+ 1000，department_id = 140 WHERE last_name ='琼斯'返回工资* 0.25，last_name，department_id INTO：bnd1，：bnd2，：bnd3;</pre><p>以下示例显示您可以在returns子句的表达式中指定单集聚合函数：</p><pre class="oac_no_warn" dir="ltr">UPDATE员工SET薪水=薪水* 1.1 WHERE department_id = 100 RETURNING SUM（薪水）INTO：bnd1;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="05997.authenticate-access-asm-instance.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>用于访问Oracle ASM实例的身份验证</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96198-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="upgrade-patch-asm.html" title="Previous" type="text/html"></link>
      <link rel="next" href="asm-audit-trail.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OSTMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="upgrade-patch-asm.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="asm-audit-trail.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-instance-diskgroup.html" property="item" typeof="WebPage"><span property="name">Oracle ASM实例和磁盘组</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="asm-instance.html" property="item" typeof="WebPage"><span property="name">管理Oracle ASM实例</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">用于访问Oracle ASM实例的身份验证</li>
            </ol>
            <a id="GUID-1A4E79BE-7D26-4FAC-BC11-B6C2F677A41F" name="GUID-1A4E79BE-7D26-4FAC-BC11-B6C2F677A41F"></a><a id="OSTMG02600"></a>
            
            <h2 id="OSTMG-GUID-1A4E79BE-7D26-4FAC-BC11-B6C2F677A41F" class="sect2">用于访问Oracle ASM实例的身份验证</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle ASM实例没有数据字典，因此连接到Oracle ASM实例的唯一方法是使用三种系统特权之一： <code class="codeph">SYSASM</code> ， <code class="codeph">SYSDBA</code>或<code class="codeph">SYSOPER</code> 。连接Oracle ASM实例有三种模式：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p>使用操作系统身份验证的本地连</p>
                  </li>
                  <li>
                     <p>使用密码验证的本地连接</p>
                  </li>
                  <li>
                     <p>使用密码身份验证通过Oracle Net Services进行远程连接</p>
                  </li>
               </ul>
               <p>本节介绍以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="authenticate-access-asm-instance.html#GUID-7396FD18-628B-4026-AA55-79C6D6205EAE">关于Oracle ASM的权限</a></p>
                  </li>
                  <li>
                     <p><a href="authenticate-access-asm-instance.html#GUID-D07029C9-339C-4E6F-BEF0-8E8EC3EE51A8" title="以SYSASM身份登录Oracle ASM实例时，可以使用CREATE USER和GRANT SQL语句的组合来创建具有SYSASM权限的用户。">使用SYSASM权限创建用户</a></p>
                  </li>
                  <li>
                     <p><a href="authenticate-access-asm-instance.html#GUID-359A6592-6AF6-483E-9B31-C70DB308608D">Oracle ASM的操作系统身份验证</a></p>
                  </li>
                  <li>
                     <p><a href="authenticate-access-asm-instance.html#GUID-EAF4D6D6-0EF1-47B2-8650-60C26B6144CA" title="Oracle ASM的密码文件身份验证可以在本地和远程工作。要启用密码文件身份验证，您必须为Oracle ASM创建密码文件。">Oracle ASM的密码文件身份验证</a></p>
                  </li>
                  <li>
                     <p><a href="authenticate-access-asm-instance.html#GUID-DB3721CE-B1F4-4FB4-B290-B6D33BEAA5F2" title="您可以备份Oracle ASM密码文件，如果Oracle ASM密码文件丢失或磁盘组无法访问，则可以还原备份密码文件。">管理磁盘组中的共享密码文件</a></p>
                  </li>
               </ul>
               <p>Oracle ASM和数据库实例必须具有对磁盘组的读/写操作系统访问权限。例如，Oracle ASM实例和数据库实例必须对组成相关Oracle ASM磁盘组的磁盘具有相同的读写权限。对于Linux和UNIX系统，这通常通过共享的Linux和UNIX组成员身份（OSASM组）提供。在Windows系统上，Oracle ASM服务必须以管理员身份运行。</p>
               <div class="infoboxnotealso" id="GUID-1A4E79BE-7D26-4FAC-BC11-B6C2F677A41F__GUID-CA91C262-9C48-442A-879F-D4C359E8FAFA">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="asm-access-control-diskgroups.html#GUID-89BB888A-BA1C-4095-BB6D-C3BE142CB371" title="Oracle ASM文件访问控制为Oracle ASM磁盘组的内容提供可选保护，防止未经授权的Oracle ASM客户端（例如未经授权的数据库）意外访问。">管理磁盘组的Oracle ASM文件访问控制，</a>以获取有关文件权限和Oracle ASM文件访问控制的信息</p>
                     </li>
                     <li>
                        <p><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure安装和升级指南</cite></span></a> ，了解有关如何确保Oracle ASM和数据库实例具有成员磁盘访问权限的特定于操作系统的信息</p>
                     </li>
                     <li>
                        <p>有关维护数据库安全性（包括分配密码）的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=DBSEG009" target="_blank"><span><cite>“Oracle数据库安</cite></span></a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="OSTMG94093"></a><div class="props_rev_3"><a id="GUID-7396FD18-628B-4026-AA55-79C6D6205EAE" name="GUID-7396FD18-628B-4026-AA55-79C6D6205EAE"></a><h3 id="OSTMG-GUID-7396FD18-628B-4026-AA55-79C6D6205EAE" class="sect3">关于Oracle ASM的权限</h3>
               <div>
                  <p>在Oracle ASM安装期间，您可以为所有用户使用一个操作系统组或划分系统权限，以便数据库管理员，存储管理员和数据库操作员各自具有不同的操作系统权限组。</p>
                  <p>无论是创建单独的操作系统特权组还是使用一个组为所有系统特权提供操作系统身份验证，都应使用SYSASM来管理Oracle ASM实例。SYSDBA权限不能用于管理Oracle ASM实例。如果使用SYSDBA权限在Oracle ASM实例上运行管理命令，则该操作将导致错误。SYSDBA权限旨在供数据库用于访问磁盘组。</p>
                  <p>Oracle还建议使用权限较低的用户（例如，在安装期间创建的具有SYSDBA权限的ASMSNMP）来监视Oracle ASM实例。</p>
                  <p>使用指定为OSDBA，OSOPER和OSASM的组或组中的成员身份的操作系统身份验证在所有Oracle平台上均有效。连接到Oracle ASM实例，因为SYSASM授予您对所有可用Oracle ASM磁盘组和管理功能的完全访问权限。</p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="authenticate-access-asm-instance.html#GUID-26F994EA-47A3-4356-9A2F-D8635325D545">为Oracle ASM用户使用一个操作系统组</a></p>
                     </li>
                     <li>
                        <p><a href="authenticate-access-asm-instance.html#GUID-5DAEB139-6FAD-4129-A0ED-DF61EDA1B2B8">为Oracle ASM用户使用单独的操作系统组</a></p>
                     </li>
                     <li>
                        <p><a href="authenticate-access-asm-instance.html#GUID-5BD01B1E-6B43-4878-B875-7DB428F8E7BA">用于管理Oracle ASM的SYSASM权限</a></p>
                     </li>
                     <li>
                        <p><a href="authenticate-access-asm-instance.html#GUID-A4C71890-CF7D-4D2B-8C3F-859D7D28FA75">用于管理Oracle ASM组件的SYSDBA权限</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-7396FD18-628B-4026-AA55-79C6D6205EAE__GUID-2905F2F2-9F78-48B7-AE24-D9EBCCFC6216">
                     <p class="notep1">也可以看看：</p>
                     <p>有关特权和Oracle ACFS的信息，请参见<a href="understand-acfs-admin.html#GUID-EC577A31-256E-4FD2-9E9F-749D78B378D0" title="Oracle ACFS支持Linux环境的传统Unix风格文件访问控制类（用户，组，其他）和Windows安全模型，包括Windows平台的文件访问控制列表（ACL）。">Oracle ACFS和文件访问和管理安全性</a></p>
                  </div>
               </div><a id="OSTMG94095"></a><a id="OSTMG94094"></a><div class="props_rev_3"><a id="GUID-26F994EA-47A3-4356-9A2F-D8635325D545" name="GUID-26F994EA-47A3-4356-9A2F-D8635325D545"></a><h4 id="OSTMG-GUID-26F994EA-47A3-4356-9A2F-D8635325D545" class="sect4">为Oracle ASM用户使用一个操作系统组</h4>
                  <div>
                     <p><a id="d20620e566" class="indexterm-anchor"></a><a id="d20620e570" class="indexterm-anchor"></a>如果您不希望将系统访问权限划分为单独的操作系统组，则可以将一个操作系统组指定为其成员被授予OSDA，OSOPER和OSASM for Oracle ASM权限的组。所有这些的默认操作系统组名称通常是<code class="codeph">dba</code> ，通常选择该组作为默认配置。
                     </p>
                     <p><a href="authenticate-access-asm-instance.html#GUID-26F994EA-47A3-4356-9A2F-D8635325D545__CHDBGAHG" title="部署的默认组">表3-1</a>显示了没有Oracle ASM用户的独立权限的Linux部署示例。
                     </p>
                     <div class="tblformalwide" id="GUID-26F994EA-47A3-4356-9A2F-D8635325D545__CHDBGAHG">
                        <p class="titleintable">表3-1所有Oracle ASM用户的一个操作系统组和一组权限</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="所有Oracle ASM用户的一个操作系统组和一组权限" width="100%" border="1" summary="Default groups for deployment" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="46%" id="d20620e595">角色/软件所有者</th>
                                 <th align="left" valign="bottom" width="15%" id="d20620e598">用户</th>
                                 <th align="left" valign="bottom" width="38%" id="d20620e601">组/特权</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="46%" id="d20620e606" headers="d20620e595 ">
                                    <p>Oracle ASM管理员/ Oracle Grid Infrastructure主页</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d20620e606 d20620e598 ">
                                    <p>神谕</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d20620e606 d20620e601 ">
                                    <p>dba / SYSASM，SYSDBA，SYSOPER</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="46%" id="d20620e616" headers="d20620e595 ">
                                    <p>数据库管理员1 /数据库主页1</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d20620e616 d20620e598 ">
                                    <p>神谕</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d20620e616 d20620e601 ">
                                    <p>dba / SYSASM，SYSDBA，SYSOPER</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="46%" id="d20620e626" headers="d20620e595 ">
                                    <p>数据库管理员2 /数据库主页2</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d20620e626 d20620e598 ">
                                    <p>神谕</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d20620e626 d20620e601 ">
                                    <p>dba / SYSASM，SYSDBA，SYSOPER</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="46%" id="d20620e636" headers="d20620e595 ">
                                    <p>操作系统磁盘设备所有者</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d20620e636 d20620e598 ">
                                    <p>神谕</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d20620e636 d20620e601 ">
                                    <p>DBA</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="OSTMG94097"></a><a id="OSTMG94096"></a><div class="props_rev_3"><a id="GUID-5DAEB139-6FAD-4129-A0ED-DF61EDA1B2B8" name="GUID-5DAEB139-6FAD-4129-A0ED-DF61EDA1B2B8"></a><h4 id="OSTMG-GUID-5DAEB139-6FAD-4129-A0ED-DF61EDA1B2B8" class="sect4">为Oracle ASM用户使用单独的操作系统组</h4>
                  <div>
                     <p><a id="d20620e784" class="indexterm-anchor"></a><a id="d20620e788" class="indexterm-anchor"></a>您可以将单独的操作系统组指定为Oracle ASM上的特权的操作系统身份验证组。以下列表描述了Oracle ASM的单独操作系统身份验证组以及授予其成员的权限。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>OSASM小组（例如： <code class="codeph">asmadmin</code> ）</p>
                           <p><a id="d20620e801" class="indexterm-anchor"></a><a id="d20620e803" class="indexterm-anchor"></a>该组被授予SYSASM权限，该权限为Oracle ASM实例提供完全管理权限。
                           </p>
                        </li>
                        <li>
                           <p>OSDBA for Oracle ASM组（例如： <code class="codeph">asmdba</code> ）</p>
                           <p><a id="d20620e813" class="indexterm-anchor"></a><a id="d20620e815" class="indexterm-anchor"></a><a id="d20620e817" class="indexterm-anchor"></a><a id="d20620e819" class="indexterm-anchor"></a>该组被授予Oracle ASM实例的SYSDBA权限，该实例授予对Oracle ASM上存储的数据的访问权限。该组具有OSASM组的一部分权限。
                           </p>
                           <p>实施单独的管理员权限时，请为Oracle ASM实例选择一个与您为数据库实例（ <code class="codeph">dba</code> ）选择的组不同的OSDBA组。
                           </p>
                        </li>
                        <li>
                           <p>OSOPER for Oracle ASM组（例如： <code class="codeph">asmoper</code> ）</p>
                           <p><a id="d20620e834" class="indexterm-anchor"></a><a id="d20620e836" class="indexterm-anchor"></a>该组被授予Oracle ASM实例的SYSOPER权限，该实例提供启动，关闭，装载，卸载和检查磁盘组等操作。该组具有OSASM组的一部分权限。
                           </p>
                        </li>
                     </ul>
                     <p>当您实施单独的Oracle ASM和数据库管理员职责时，此配置需要不同的组和不同的软件所有者。隐含地，这种实现要求OSASM和OSDBA是不同的组。对于此配置，您必须为Oracle ASM组创建OSDBA，并且数据库实例必须是该组的成员才能访问Oracle ASM实例。</p>
                     <p>在已配置为Oracle Grid Infrastructure的安装中，Oracle ASM用户（如<code class="codeph">grid</code> ）不必是Oracle Database OSDBA组的成员，例如<code class="codeph">dba1</code>或<code class="codeph">dba2</code> ，因为Oracle Clusterware数据库代理程序作为数据库所有者可以使用SYSDBA连接到数据库。
                     </p>
                     <p>但是，在Oracle Restart配置中，Oracle ASM用户（ <code class="codeph">grid</code> ）必须是每个数据库的OSDBA组（ <code class="codeph">dba1</code> ， <code class="codeph">dba2</code> ，...）的成员。此要求是必需的，因为Oracle Restart软件作为Oracle ASM用户（ <code class="codeph">grid</code> ）运行，并且此用户必须能够使用<code class="codeph">CONNECT</code> <code class="codeph">/</code> <code class="codeph">AS</code> <code class="codeph">SYSDBA</code>身份验证启动和停止数据库。
                     </p>
                     <p>此外，操作系统磁盘设备的所有者应与Oracle ASM软件的所有者相同。</p>
                     <p><a href="authenticate-access-asm-instance.html#GUID-5DAEB139-6FAD-4129-A0ED-DF61EDA1B2B8__CHDBGJEE" title="用户部署">表3-2</a>显示了为Oracle ASM用户使用单独的操作系统特权组的Linux部署示例。
                     </p>
                     <div class="tblformalwide" id="GUID-5DAEB139-6FAD-4129-A0ED-DF61EDA1B2B8__CHDBGJEE">
                        <p class="titleintable">表3-2 Oracle ASM用户的分离操作系统组和权限</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle ASM用户的独立操作系统组和权限" width="100%" border="1" summary="Deployments by user" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d20620e898">角色/软件所有者</th>
                                 <th align="left" valign="bottom" width="17%" id="d20620e901">用户</th>
                                 <th align="left" valign="bottom" width="42%" id="d20620e904">组/特权</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d20620e909" headers="d20620e898 ">
                                    <p>Oracle ASM管理员/ Oracle Grid Infrastructure主页</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d20620e909 d20620e901 ">
                                    <p>格</p>
                                 </td>
                                 <td align="left" valign="top" width="42%" headers="d20620e909 d20620e904 ">
                                    <p>asmadmin（OSASM）/ SYSASM</p>
                                    <p>asmdba（ASM的OSDBA）/ SYSDBA</p>
                                    <p>asmoper（OSOPER for ASM）/ SYSOPER</p>
                                    <p>dba1，dba2，...（在Oracle Restart配置中用于数据库的OSDBA）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d20620e925" headers="d20620e898 ">
                                    <p>数据库管理员1 /数据库主页1</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d20620e925 d20620e901 ">
                                    <p>oracle1</p>
                                 </td>
                                 <td align="left" valign="top" width="42%" headers="d20620e925 d20620e904 ">
                                    <p>asmdba（ASM的OSDBA）/ SYSDBA</p>
                                    <p>oper1（数据库1的OSOPER）/ SYSOPER</p>
                                    <p>dba1（数据库1的OSDBA）/ SYSDBA</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d20620e939" headers="d20620e898 ">
                                    <p>数据库管理员2 /数据库主页2</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d20620e939 d20620e901 ">
                                    <p>oracle2</p>
                                 </td>
                                 <td align="left" valign="top" width="42%" headers="d20620e939 d20620e904 ">
                                    <p>asmdba（ASM的OSDBA）/ SYSDBA</p>
                                    <p>oper2（数据库2的OSOPER）/ SYSOPER</p>
                                    <p>dba2（数据库2的OSDBA）/ SYSDBA</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d20620e953" headers="d20620e898 ">
                                    <p>操作系统磁盘设备所有者</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d20620e953 d20620e901 ">
                                    <p>格</p>
                                 </td>
                                 <td align="left" valign="top" width="42%" headers="d20620e953 d20620e904 ">
                                    <p>asmadmin（OSASM）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="OSTMG94098"></a><div class="props_rev_3"><a id="GUID-5BD01B1E-6B43-4878-B875-7DB428F8E7BA" name="GUID-5BD01B1E-6B43-4878-B875-7DB428F8E7BA"></a><h4 id="OSTMG-GUID-5BD01B1E-6B43-4878-B875-7DB428F8E7BA" class="sect4">用于管理Oracle ASM的SYSASM权限</h4>
                  <div>
                     <p><a id="d20620e1101" class="indexterm-anchor"></a><a id="d20620e1103" class="indexterm-anchor"></a> SYSASM是一个系统特权，它允许将SYSDBA数据库管理特权与Oracle ASM存储管理特权分离。对指定为OSASM组的操作系统组中的成员资格授予对SYSASM权限的访问权限。这与SYSDBA和SYSOPER权限类似，后者是通过指定为OSDBA和OSOPER操作系统组的组中的成员身份授予的系统权限。您可以为所有这些系统权限指定一个组，也可以为每个操作系统权限指定单独的组。
                     </p>
                     <p>您还可以使用密码文件身份验证授予SYSASM权限，如<a href="authenticate-access-asm-instance.html#GUID-EAF4D6D6-0EF1-47B2-8650-60C26B6144CA" title="Oracle ASM的密码文件身份验证可以在本地和远程工作。要启用密码文件身份验证，您必须为Oracle ASM创建密码文件。">Oracle ASM的密码文件身份验证中所述</a> 。</p>
                     <p>要使用SQL * Plus使用密码身份验证在本地作为SYSASM进行连接，请使用以下语句：</p><pre class="oac_no_warn" dir="ltr">sqlplus SYS AS SYSASM ...输入密码：</pre><p>要使用SQL * Plus使用密码身份验证作为SYSASM进行远程连接，请使用以下语句：</p><pre class="oac_no_warn" dir="ltr">sqlplus sys @ \“myhost.mydomain.com:1521 / + ASM \”AS SYSASM ...输入密码：</pre><p>在前面的示例中， <code class="codeph">+ASM</code>是Oracle ASM实例的服务名称。
                     </p>
                     <p>要使用SQL * Plus的操作系统身份验证将本地作为SYSASM连接到Oracle ASM实例，请使用以下语句：</p><pre class="oac_no_warn" dir="ltr">sqlplus / AS SYSASM</pre></div>
               </div><a id="OSTMG94099"></a><div class="props_rev_3"><a id="GUID-A4C71890-CF7D-4D2B-8C3F-859D7D28FA75" name="GUID-A4C71890-CF7D-4D2B-8C3F-859D7D28FA75"></a><h4 id="OSTMG-GUID-A4C71890-CF7D-4D2B-8C3F-859D7D28FA75" class="sect4">用于管理Oracle ASM组件的SYSDBA权限</h4>
                  <div>
                     <p><a id="d20620e1271" class="indexterm-anchor"></a><a id="d20620e1273" class="indexterm-anchor"></a>您可以作为SYSDBA进行连接，以使用SQL * Plus或ASMCMD命令来管理与数据库关联的Oracle ASM组件。使用SYSDBA权限运行SQL或ASMCMD操作时，请连接到数据库实例而不是Oracle ASM实例。
                     </p>
                     <p>作为SYSDBA连接到数据库实例具有一组有限的Oracle ASM权限。例如，在与SYSDBA权限连接时，无法创建磁盘组。</p>
                     <p>当作为SYSDBA连接到数据库实例时，Oracle ASM操作仅限于：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>创建和删除文件，别名，目录和模板</p>
                        </li>
                        <li>
                           <p>检查各种Oracle ASM实例视图</p>
                        </li>
                        <li>
                           <p>对此用户创建的文件进行操作，或仅访问另一个用户明确授予访问权限的文件</p>
                        </li>
                        <li>
                           <p>向其他用户授予Oracle ASM文件访问控制权限</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94100"></a><div class="props_rev_3"><a id="GUID-D07029C9-339C-4E6F-BEF0-8E8EC3EE51A8" name="GUID-D07029C9-339C-4E6F-BEF0-8E8EC3EE51A8"></a><h3 id="OSTMG-GUID-D07029C9-339C-4E6F-BEF0-8E8EC3EE51A8" class="sect3">使用SYSASM权限创建用户</h3>
               <div>
                  <p>以SYSASM身份登录Oracle ASM实例时，可以使用<code class="codeph">CREATE</code> <code class="codeph">USER</code>和<code class="codeph">GRANT</code> SQL语句的组合来创建具有SYSASM权限的用户。
                  </p>
                  <p>您还可以使用<code class="codeph">REVOKE</code>命令从用户撤消SYSASM权限，并且可以使用<code class="codeph">DROP</code> <code class="codeph">USER</code>命令从密码文件中<code class="codeph">DROP</code> <code class="codeph">USER</code> 。
                  </p>
                  <div class="infoboxnote" id="GUID-D07029C9-339C-4E6F-BEF0-8E8EC3EE51A8__GUID-AD789994-12F6-46F8-8FE6-8714D76FE1AA">
                     <p class="notep1">注意：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>这些命令仅更新本地Oracle ASM实例的密码文件。</p>
                        </li>
                        <li>
                           <p>Oracle ASM不支持创建外部和全局用户。</p>
                        </li>
                     </ul>
                  </div>
                  <p>以下示例描述如何为标识为<span class="italic"><code class="codeph">new_user</code></span>的用户执行这些SQL操作：</p><pre class="oac_no_warn" dir="ltr">REM创建一个新用户，然后通过new_user_passwd授予SYSASM权限SQL&gt; CREATE USER new_user IDENTIFIED; SQL&gt; GRANT SYSASM TO new_user; REM将用户连接到ASM实例SQL&gt; CONNECT new_user AS SYSASM;输入密码：REM撤消SYSASM权限，然后删除用户SQL&gt; REVOKE SYSASM FROM new_user; SQL&gt; DROP USER new_user;</pre><p>在Oracle ASM密码文件中撤消用户的最后一个权限时，不会像在Oracle数据库密码文件中那样自动删除该用户。必须运行<code class="codeph">DROP</code> <code class="codeph">USER</code>才能删除Oracle ASM密码文件中没有权限的用户。
                  </p>
                  <div class="infoboxnotealso" id="GUID-D07029C9-339C-4E6F-BEF0-8E8EC3EE51A8__GUID-7E913E00-AFC6-4088-B371-35F83BC584B6">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关使用Oracle ASM命令行实用程序（ASMCMD）创建用户的信息，请<a href="asmcmd-instance-commands.html#GUID-9BB2383C-2020-4F7D-A60F-0DB87D90FB9B">参阅orapwusr</a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">CREATE</code> <code class="codeph">USER</code>和<code class="codeph">GRANT</code>命令的信息，请<a href="../sqlrf/CREATE-USER.html#SQLRF01503" target="_blank"><span><cite>参见“Oracle数据库SQL语言参考</cite></span></a> ”</p>
                        </li>
                        <li>
                           <p>有关创建和维护密码文件的信息，请参见<a href="../admin/getting-started-with-database-administration.html#ADMIN10241" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94101"></a><div class="props_rev_3"><a id="GUID-359A6592-6AF6-483E-9B31-C70DB308608D" name="GUID-359A6592-6AF6-483E-9B31-C70DB308608D"></a><h3 id="OSTMG-GUID-359A6592-6AF6-483E-9B31-C70DB308608D" class="sect3">Oracle ASM的操作系统身份验证</h3>
               <div>
                  <p>指定为OSASM组的操作系统组中的成员身份为SYSASM系统特权提供操作系统身份验证。OSASM专门为Oracle ASM提供。最初，只有安装ASM的用户才是OSASM组的成员，如果您为该权限使用单独的操作系统组。但是，您可以添加其他用户。OSASM组的成员有权使用SYSASM权限进行连接，并具有对Oracle ASM的完全访问权限，包括对该Oracle ASM实例管理的所有磁盘组的管理访问权限。</p>
                  <p>在Linux和UNIX系统中， <code class="codeph">dba</code>被指定为默认的操作系统组<code class="codeph">OSASM</code> ， <code class="codeph">OSOPER</code>和<code class="codeph">OSDBA</code>为Oracle ASM。</p>
                  <p>在Windows系统中， <code class="codeph">ORA_ASMADMIN</code> ， <code class="codeph">ORA_ASMDBA</code>和<code class="codeph">ORA_ASMOPER</code>是指定的操作系统组<code class="codeph">OSASM</code> ， <code class="codeph">OSDBA</code>和<code class="codeph">OSOPER</code>分别为Oracle ASM。</p>
                  <p>SQL * Plus命令，ASMCMD命令和ASMCA使用操作系统身份验证。</p>
                  <div class="infoboxnotealso" id="GUID-359A6592-6AF6-483E-9B31-C70DB308608D__GUID-5919207A-AA41-42D0-A07A-91D188EF7904">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=ADMIN001" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关使用操作系统身份验证的更多信</p>
                        </li>
                        <li>
                           <p>有关安装Oracle Grid Infrastructure的信息，请参阅<a href="../install-and-upgrade.html" target="_blank"><span><cite>“Oracle Grid Infrastructure安装和升级指南”</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关特定操作系统的<a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle数据库安装指南</cite></span></a> ，以获取有关默认操作系统组的信息</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94102"></a><div class="props_rev_3"><a id="GUID-EAF4D6D6-0EF1-47B2-8650-60C26B6144CA" name="GUID-EAF4D6D6-0EF1-47B2-8650-60C26B6144CA"></a><h3 id="OSTMG-GUID-EAF4D6D6-0EF1-47B2-8650-60C26B6144CA" class="sect3">Oracle ASM的密码文件身份验证</h3>
               <div>
                  <p>Oracle ASM的密码文件身份验证可以在本地和远程工作。要启用密码文件身份验证，您必须为Oracle ASM创建密码文件。</p>
                  <p>如果选择Oracle ASM存储选项，则ASMCA会在ASMCA配置Oracle ASM磁盘组时为初始用户（SYS和ASMSNMP）创建Oracle ASM的密码文件。要将其他用户添加到密码文件，可以使用<code class="codeph">CREATE</code> <code class="codeph">USER</code>和<code class="codeph">GRANT</code>命令。
                  </p>
                  <p>如果在不使用ASMCA的情况下配置Oracle ASM实例，则必须手动创建密码文件并将SYSASM权限授予用户SYS。</p>
                  <p>SQL * Plus命令使用密码文件身份验证。</p>
                  <div class="infoboxnotealso" id="GUID-EAF4D6D6-0EF1-47B2-8650-60C26B6144CA__GUID-29396921-F662-412B-8FC5-EF6ED39D007F">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="authenticate-access-asm-instance.html#GUID-7396FD18-628B-4026-AA55-79C6D6205EAE">关于Oracle ASM的权限，</a>以获取有关Oracle ASM权限的信息</p>
                        </li>
                        <li>
                           <p>有关创建和维护密码文件的信息，请参见<a href="../admin/getting-started-with-database-administration.html#ADMIN10241" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">CREATE</code> <code class="codeph">USER</code>和<code class="codeph">GRANT</code>命令的信息，请<a href="../sqlrf/CREATE-USER.html#SQLRF01503" target="_blank"><span><cite>参见“Oracle数据库SQL语言参考</cite></span></a> ”</p>
                        </li>
                        <li>
                           <p>有关数据库安全性的信息，请参见<a href="../dbseg/introduction-to-oracle-database-security.html#DBSEG001" target="_blank"><span><cite>Oracle</cite></span></a>数据库安</p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">V$PWFILE_USERS</code>视图的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=REFRN30189" target="_blank"><span><cite>Oracle数据库参考</cite></span></a> ，该视图列出了已从密码文件派生的已授予<code class="codeph">SYSASM</code> ， <code class="codeph">SYSDBA</code>和<code class="codeph">SYSOPER</code>权限的用户。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG95331"></a><div class="props_rev_3"><a id="GUID-DB3721CE-B1F4-4FB4-B290-B6D33BEAA5F2" name="GUID-DB3721CE-B1F4-4FB4-B290-B6D33BEAA5F2"></a><h3 id="OSTMG-GUID-DB3721CE-B1F4-4FB4-B290-B6D33BEAA5F2" class="sect3">管理磁盘组中的共享密码文件</h3>
               <div>
                  <p>您可以管理磁盘组上的共享密码文件，从而可以跨集群系统访问单个文件。</p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="authenticate-access-asm-instance.html#GUID-6165EC00-C329-4140-A007-2FE18D6DEC51">关于磁盘组中的共享密码文件</a></p>
                     </li>
                     <li>
                        <p><a href="authenticate-access-asm-instance.html#GUID-2ACBBB1E-A39D-473E-A9EF-E7BC3872C36E">在磁盘组中创建密码文件</a></p>
                     </li>
                     <li>
                        <p><a href="authenticate-access-asm-instance.html#GUID-9F969EC7-DD60-499D-A8EA-33CE93A13987" title="您可以备份Oracle ASM密码文件，如果Oracle ASM密码文件丢失或磁盘组无法访问，则可以还原备份密码文件。">备份和还原磁盘组中的Oracle ASM密码文件</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-DB3721CE-B1F4-4FB4-B290-B6D33BEAA5F2__GUID-B11237C4-F06F-492A-A43E-968238C0DBD2">
                     <p class="notep1">注意：</p>
                     <p>在对密码文件的位置进行更改后，应执行以下SQL语句以刷新密码文件元数据缓存。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM FLUSH PASSWORDFILE_METADATA_CACHE</pre><p>可以通过运行<code class="codeph">orapwd</code>或ASMCMD <code class="codeph">pwcopy</code> ， <code class="codeph">pwcreate</code> ， <code class="codeph">pwdelete</code> ， <code class="codeph">pwmove</code>或<code class="codeph">pwset</code>命令来更改密码文件的位置。
                     </p>
                  </div>
                  <p>有关管理磁盘组中的Oracle ASM或数据库实例密码文件的ASMCMD命令的信息，请参阅<a href="asmcmd-instance-commands.html#GUID-A2DBFB13-4AB7-4777-BC42-CC163EA1C9DF" title="本主题提供ASMCMD实例管理命令的摘要。">ASMCMD实例管理命令</a> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-DB3721CE-B1F4-4FB4-B290-B6D33BEAA5F2__GUID-8528B454-22AC-4C04-AAB8-CFC525E6DC35">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关维护密码文件的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=ADMIN10241" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">REMOTE_LOGIN_PASSWORDFILE</code>初始化参数的信息，请<a href="../refrn/REMOTE_LOGIN_PASSWORDFILE.html#REFRN10184" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                        </li>
                        <li>
                           <p>有关SRVCTL命令的信息，请参见<a href="../racad/administering-storage-in-oracle-rac.html#RACAD826" target="_blank"><span><cite>“</cite></span></a> <a href="../cwadd/server-control-command-reference.html#CWADD-GUID-1DCA9E3F-B929-4555-B673-921FF3588AC3" target="_blank"><span><cite>Oracle Clusterware管理和部署指南”</cite></span></a>和“ <a href="../racad/administering-storage-in-oracle-rac.html#RACAD826" target="_blank"><span><cite>Oracle Real Application Clusters管理和部署指南”</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="OSTMG95964"></a><div class="props_rev_3"><a id="GUID-6165EC00-C329-4140-A007-2FE18D6DEC51" name="GUID-6165EC00-C329-4140-A007-2FE18D6DEC51"></a><h4 id="OSTMG-GUID-6165EC00-C329-4140-A007-2FE18D6DEC51" class="sect4">关于磁盘组中的共享密码文件</h4>
                  <div>
                     <p>Oracle数据库或Oracle ASM的单个密码文件可以驻留在指定的Oracle ASM磁盘组中。将密码文件驻留在群集中可访问的单个位置可以降低维护成本和密码不同步的情况。</p>
                     <p>仅当Oracle ASM实例正在运行且已装入指定的磁盘组时，才能使用位于磁盘组上的密码文件进行身份验证。否则，必须使用操作系统身份验证来引导Oracle ASM实例和堆栈的启动。</p>
                     <p>对于要设置密码的磁盘组， <code class="codeph">COMPATIBLE.ASM</code>磁盘组属性必须设置为<code class="codeph">12.1</code>或更高。需要<code class="codeph">SYSASM</code>权限才能管理Oracle ASM密码文件。需要Oracle ASM的<code class="codeph">SYSDBA</code>权限才能管理数据库密码文件。
                     </p>
                     <p>磁盘组中的共享密码文件由ASMCMD命令， <code class="codeph">ORAPWD</code>工具和SRVCTL命令管理。<code class="codeph">ORAPWD</code>支持在Oracle ASM磁盘组上创建密码文件。使用ASMCMD或SRVCTL命令执行所有其他密码文件操作。
                     </p>
                     <p>在运行命令（如<code class="codeph">ORAPWD</code> ）以创建密码文件之前，请确保已正确设置<code class="codeph">ORACLE_SID</code>和<code class="codeph">ORACLE_HOME</code>环境变量。例如，在为Oracle ASM设置密码文件之前，请设置<code class="codeph">ORACLE_SID</code>和<code class="codeph">ORACLE_HOME</code>环境变量，以确保可以连接到本地Oracle ASM实例。有关环境变量和连接到Oracle ASM实例的信息，请参阅<a href="admin-asm-instance.html#GUID-00ABDCF7-F6D3-44CD-AA34-089CA252CFCD" title="您启动Oracle ASM实例的方式与启动Oracle数据库实例的方式类似，但有一些细微差别。">连接和启动Oracle ASM实例</a> 。
                     </p>
                     <p>SRVCTL提供管理磁盘组中密码文件的命令，例如以下用于更新和显示密码文件位置的命令：</p><pre class="oac_no_warn" dir="ltr">$ srvctl修改asm -pwfile <span class="italic">位置</span> $ srvctl修改数据库-db <span class="italic">dbname</span> -pwfile <span class="italic">location</span> $ srvctl config asm</pre></div>
               </div><a id="OSTMG95782"></a><div class="props_rev_3"><a id="GUID-2ACBBB1E-A39D-473E-A9EF-E7BC3872C36E" name="GUID-2ACBBB1E-A39D-473E-A9EF-E7BC3872C36E"></a><h4 id="OSTMG-GUID-2ACBBB1E-A39D-473E-A9EF-E7BC3872C36E" class="sect4">在磁盘组中创建密码文件</h4>
                  <div>
                     <div class="infoboxnote" id="GUID-2ACBBB1E-A39D-473E-A9EF-E7BC3872C36E__GUID-851E1D16-0200-4E67-9C59-EAB677784BC7">
                        <p class="notep1">注意：</p>在群集中配置Oracle ASM时，请勿使用<code class="codeph">orapwd</code>创建新的Oracle ASM密码文件。如果群集配置中无法访问Oracle ASM密码文件，则必须使用可用备份还原密码文件，而不是创建新文件。有关在群集中重新创建共享Oracle ASM密码文件的文章（如文档1929673.1），请参阅<a href="https://support.oracle.com" target="_blank">My Oracle Support</a> （ <a href="https://support.oracle.com" target="_blank"><code class="codeph">https://support.oracle.com</code></a> ）上的文章。</div>
                     <p>您可以使用<code class="codeph">orapwd</code>在指定的Oracle ASM磁盘组中创建密码文件。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要从文件系统上的现有密码文件在磁盘组中创建Oracle数据库密码文件，请使用<code class="codeph">dbuniquename</code>开关运行<code class="codeph">orapwd</code> 。<code class="codeph">dbuniquename</code>开关指定为<code class="codeph">orcl</code>标识的数据库实例创建Oracle数据库密码文件。
                           </p>
                           <ol>
                              <li>
                                 <p>确定Oracle数据库密码文件当前位于文件系统上。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT file_name FROM V $ PASSWORDFILE_INFO;文件名  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - - --------------------- /u01/app/oracle/product/19.1.0/db_home1/dbs/orapworcl</pre></li>
                              <li>
                                 <p>运行<code class="codeph">orapwd</code>将密码文件移动到Oracle ASM磁盘组。
                                 </p><pre class="oac_no_warn" dir="ltr">$ orapwd file ='+ data / ORCL / orapwdb'dbuniquename ='orcl'输入SYS的密码：</pre></li>
                              <li>
                                 <p>移动密码文件后，使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句更新密码元数据缓存，然后确认新的密码文件位置。
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM FLUSH PASSWORDFILE_METADATA_CACHE;系统改变了。SQL&gt; SELECT file_name FROM v $ passwordfile_info;文件名  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - - --------------------- + DATA / ORCL / orapwdb</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>要在磁盘组中创建Oracle ASM密码文件，请在<code class="codeph">asm</code>开关设置为<code class="codeph">y</code>运行<code class="codeph">orapwd</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">$ orapwd file ='+ data / ASM / orapwasm'asm = y输入SYS的密码：</pre></li>
                        <li>
                           <p>要从现有密码文件在Oracle ASM磁盘组中创建Oracle ASM密码文件，请使用<code class="codeph">input_file</code>开关运行<code class="codeph">orapwd</code> ，并将<code class="codeph">asm</code>开关设置为<code class="codeph">y</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">$ orapwd input_file ='/ oraclegrid / dbs / orapwasm'file ='+ data / ASM / orapwasm'asm = y输入SYS的密码：</pre></li>
                     </ul>
                  </div>
               </div><a id="OSTMG95783"></a><div class="props_rev_3"><a id="GUID-9F969EC7-DD60-499D-A8EA-33CE93A13987" name="GUID-9F969EC7-DD60-499D-A8EA-33CE93A13987"></a><h4 id="OSTMG-GUID-9F969EC7-DD60-499D-A8EA-33CE93A13987" class="sect4">备份和还原磁盘组中的Oracle ASM密码文件</h4>
                  <div>
                     <p>您可以备份Oracle ASM密码文件，如果Oracle ASM密码文件丢失或磁盘组无法访问，则可以还原备份密码文件。</p>
                     <div class="section">
                        <p>本节介绍将Oracle ASM密码文件备份到磁盘组的步骤以及还原Oracle ASM密码文件的步骤。</p>
                        <p>源磁盘组和目标磁盘组必须将磁盘组属性<code class="codeph">COMPATIBLE.ASM</code>设置为<code class="codeph">12.1</code>或更高版本。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>使用ASMCMD <code class="codeph">pwget</code>命令找到密码文件。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+]&gt; pwget --asm + DATA / orapwasm</pre></div>
                        </li>
                        <li class="stepexpand"><span>使用<code class="codeph">pwcopy</code>命令将密码文件备份到另一个磁盘组。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+]&gt; pwcopy + DATA / orapwasm + FRA / my_pwfile_backup</pre><p>使用<code class="codeph">pwcopy</code>没有<code class="codeph">--asm</code>或<code class="codeph">--dbuniquename</code>选项不会更改密码文件的当前位置。如果复制完成后，您可以使用<code class="codeph">pwset</code>命令设置当前密码文件位置。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用<code class="codeph">pwcopy</code>命令进行备份后，验证当前位置中的密码文件。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+]&gt; pwget --asm + DATA / orapwasm</pre></div>
                        </li>
                        <li class="stepexpand"><span>验证是否已创建备份密码文件。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+]&gt; ls + fra / my_pwfile_backup my_pwfile_backup</pre></div>
                        </li>
                        <li class="stepexpand"><span>要还原Oracle ASM密码文件，可以使用<code class="codeph">pwset</code>或<code class="codeph">pwcopy</code> 。</span><div>
                              <p>要从备份还原Oracle ASM密码文件并使用现有位置，请使用带有<code class="codeph">--asm</code>选项的<code class="codeph">pwset</code>命令。
                              </p>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+]&gt; pwset --asm + FRA / my_pwfile_backup</pre><p>要将Oracle ASM密码文件从备份还原到另一个磁盘组，请使用带有<code class="codeph">--asm</code>选项的<code class="codeph">pwcopy</code>命令。
                              </p>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+]&gt; pwcopy --asm + FRA / my_pwfile_backup + DATA2 / my_orapwasm</pre><p>带有<code class="codeph">pwset</code>和<code class="codeph">pwcopy</code>命令的<code class="codeph">--asm</code>选项设置Oracle ASM实例的密码位置。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>如果更改了位置，请使用<code class="codeph">pwget</code>命令验证当前密码文件的位置。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+]&gt; pwget --asm + DATA2 / my_orapwasm</pre><p>如果显示的当前密码文件的位置不是预期位置，则刷新密码元数据缓存以刷新密码文件信息。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM FLUSH PASSWORDFILE_METADATA_CACHE;系统改变了。
</pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01069.DBMS_PDB_ALTER_SHARING.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="In an application container with a pre-installed application, the DBMS_PDB_ALTER_SHARING package provides an interface to set database objects as application common objects or to specify that a database object is not an application common object."></meta>
      <meta name="description" content="In an application container with a pre-installed application, the DBMS_PDB_ALTER_SHARING package provides an interface to set database objects as application common objects or to specify that a database object is not an application common object."></meta>
      <title>DBMS_PDB_ALTER_SHARING</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="In an application container with a pre-installed application, the DBMS_PDB_ALTER_SHARING package provides an interface to set database objects as application common objects or to specify that a database object is not an application common object."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_PDB.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_PERF.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_PDB.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_PERF.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_PDB_ALTER_SHARING</li>
            </ol>
            <a id="GUID-05B1F7C6-E827-4C13-8405-4C68EBEF30D2" name="GUID-05B1F7C6-E827-4C13-8405-4C68EBEF30D2"></a>
            
            <h2 id="ARPLS-GUID-05B1F7C6-E827-4C13-8405-4C68EBEF30D2" class="sect2"><span class="enumeration_chapter">119</span> DBMS_PDB_ALTER_SHARING</h2>
         </header>
         <div class="ind">
            <div>
               <p>在具有预安装应用程序的应用程序容器中， <code class="codeph">DBMS_PDB_ALTER_SHARING</code>包提供了一个接口，用于将数据库对象设置为应用程序公共对象，或指定数据库对象不是应用程序公共对象。
               </p>
               <div class="section">
                  <div class="infoboxnote" id="GUID-05B1F7C6-E827-4C13-8405-4C68EBEF30D2__GUID-887D02A7-DDF4-45E6-A5C5-588804E1F0DA">
                     <p class="notep1">注意：</p>该包提供<code class="codeph">DBMS_PDB</code>包中的子程序的子集。对<code class="codeph">DBMS_PDB</code>软件包没有<code class="codeph">EXECUTE</code>特权的<code class="codeph">DBMS_PDB</code>可以被授予此软件包的<code class="codeph">EXECUTE</code>特权以运行这些子程序。
                  </div>
                  <div class="infoboxnotealso" id="GUID-05B1F7C6-E827-4C13-8405-4C68EBEF30D2__GUID-A2C48926-58BF-44C5-80EA-C7EF620A7268">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关将应用程序迁移到应用程序容器的信息，请参见<a href="../multi/administering-application-containers-with-sql-plus.html#GUID-D2F30723-9E70-469C-8048-CB06DE00173E" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关配置协议端口和DNS映射的信息，请参阅<a href="../adxdb/administration-of-XML-DB.html#ADXDB2700" target="_blank"><span class="italic">Oracle XML DB Developer's Guide</span></a></p>
                        </li>
                        <li>
                           <p>有关创建PDB的信息，请<a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF55686" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                        </li>
                        <li>
                           <p>有关如何在多租户环境中创建审计策略的<a href="../dbseg/configuring-audit-policies.html#DBSEG634" target="_blank"><span class="italic">Oracle数据库安全指南</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <p>本章包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="DBMS_PDB_ALTER_SHARING.html#GUID-608AC994-F5A6-4D95-9365-3AF716D528B9" title="此程序包中的子程序可以将数据库对象设置为应用程序容器中以下类型的应用程序公共对象之一：数据链接对象，扩展数据链接对象或元数据链接对象。">DBMS_PDB_ALTER_SHARING概述</a></p>
                     </li>
                     <li>
                        <p><a href="DBMS_PDB_ALTER_SHARING.html#GUID-0F639B37-9D8E-463B-BA7A-B7973AB84E0C" title="该包提供DBMS_PDB包中的子程序的子集。对DBMS_PDB软件包没有EXECUTE特权的用户可以被授予此软件包的EXECUTE特权以运行这些子程序。">DBMS_PDB_ALTER_SHARING安全模型</a></p>
                     </li>
                     <li>
                        <p><a href="DBMS_PDB_ALTER_SHARING.html#GUID-6086235D-EE8B-4672-AA52-FAF80286ECB4" title="此表列出并简要描述了DBMS_PDB_ALTER_SHARING包子程序。">DBMS_PDB_ALTER_SHARING子程序的摘要</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
            <div class="sect2"><a id="GUID-608AC994-F5A6-4D95-9365-3AF716D528B9" name="GUID-608AC994-F5A6-4D95-9365-3AF716D528B9"></a><h3 id="ARPLS-GUID-608AC994-F5A6-4D95-9365-3AF716D528B9" class="sect3"><span class="enumeration_section">119.1</span> DBMS_PDB_ALTER_SHARING概述</h3>
               <div>
                  <p>此程序包中的子程序可以将数据库对象设置为应用程序容器中以下类型的应用程序公共对象之一：数据链接对象，扩展数据链接对象或元数据链接对象。</p>
                  <div class="section">
                     <p>数据链接的应用程序公共对象将数据存储在应用程序根目录中，该数据可由应用程序容器中的所有应用程序PDB访问和修改。对于扩展的数据链接对象，每个应用程序PDB可以在共享应用程序根目录中的公共数据的同时创建自己的特定数据。因此，对于扩展的数据链接对象，只有存储在应用程序根目录中的数据对于所有应用程序PDB都是通用的。元数据链接的应用程序公共对象在应用程序根目录中存储特定对象（例如表）的元数据，以便应用程序容器中的容器具有相同的对象结构但具有不同的数据。此程序包还包含一个过程，该过程指定数据库对象不是应用程序公共对象。</p>
                     <p>您可以使用此包中的子程序</p>
                     <p>通常，此包中的子程序用于以下情况：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>安装在PDB中的应用程序将迁移到应用程序容器。应用程序可以迁移到应用程序根目录或应用程序PDB。例如，可以迁移安装在PDB插入Oracle数据库12 <span class="italic">c</span>解除1（12.1）CDB到应用容器在Oracle数据库12 <span class="italic">c</span>解除2（12.2）CDB的应用程序。</p>
                        </li>
                        <li>
                           <p>应用程序使用不允许设置应用程序公共对象的安装程序安装在应用程序根目录中。</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-608AC994-F5A6-4D95-9365-3AF716D528B9__GUID-A2C48926-58BF-44C5-80EA-C7EF620A7268">
                        <p class="notep1">也可以看看：</p>
                        <p>有关将应用程序迁移到应用程序容器的信息，请参见<a href="../multi/administering-application-containers-with-sql-plus.html#GUID-D2F30723-9E70-469C-8048-CB06DE00173E" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-0F639B37-9D8E-463B-BA7A-B7973AB84E0C" name="GUID-0F639B37-9D8E-463B-BA7A-B7973AB84E0C"></a><h3 id="ARPLS-GUID-0F639B37-9D8E-463B-BA7A-B7973AB84E0C" class="sect3"><span class="enumeration_section">119.2</span> DBMS_PDB_ALTER_SHARING安全模型</h3>
               <div>
                  <p>该包提供<code class="codeph">DBMS_PDB</code>包中的子程序的子集。对<code class="codeph">DBMS_PDB</code>软件包没有<code class="codeph">EXECUTE</code>特权的<code class="codeph">DBMS_PDB</code>可以被授予此软件包的<code class="codeph">EXECUTE</code>特权以运行这些子程序。
                  </p>
                  <div class="section">
                     <p>可以通过以下任一方式控制此程序包的安全性：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将此程序包上的<code class="codeph">EXECUTE</code>授予选定的用户或角色。
                           </p>
                        </li>
                        <li>
                           <p>向选定的用户或角色授予<code class="codeph">EXECUTE_CATALOG_ROLE</code> 。
                           </p>
                        </li>
                     </ul>
                     <p>如果程序包中的子程序是从存储过程中运行的，则必须直接为程序包授予运行子程序的用户<code class="codeph">EXECUTE</code>特权。它不能通过角色授予。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-6086235D-EE8B-4672-AA52-FAF80286ECB4" name="GUID-6086235D-EE8B-4672-AA52-FAF80286ECB4"></a><h3 id="ARPLS-GUID-6086235D-EE8B-4672-AA52-FAF80286ECB4" class="sect3"><span class="enumeration_section">119.3</span> DBMS_PDB_ALTER_SHARING子程序摘要</h3>
               <div>
                  <p>此表列出并简要描述了<code class="codeph">DBMS_PDB_ALTER_SHARING</code>程序。
                  </p>
                  <div class="tblformal" id="GUID-6086235D-EE8B-4672-AA52-FAF80286ECB4__GUID-C666F671-C221-4151-8E54-5494BDD44528">
                     <p class="titleintable">表119-1 DBMS_PDB_ALTER_SHARING子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_PDB_ALTER_SHARING子程序" border="1" summary="This table lists and briefly describes DBMS_PDB_ALTER_SHARING package subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d659646e499">子程序</th>
                              <th align="left" valign="bottom" width="70%" id="d659646e502">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d659646e507" headers="d659646e499 ">
                                 <p><a href="DBMS_PDB_ALTER_SHARING.html#GUID-CDD3C1EB-0439-4719-A707-1DD19F2617CE" title="此过程指定数据库对象不是应用程序公共对象。在应用程序容器中，应用程序公共对象在多个容器之间共享。">REMOVE_LINK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d659646e507 d659646e502 ">
                                 <p>指定数据库对象不是应用程序公共对象</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d659646e518" headers="d659646e499 ">
                                 <p><a href="DBMS_PDB_ALTER_SHARING.html#GUID-E8518B04-8682-4E24-9699-743C30E8E0B5" title="此过程将数据库对象设置为数据链接的应用程序公共对象。在应用程序容器中，数据链接的应用程序公共对象仅将数据存储在应用程序根目录中，并且数据可以由应用程序容器中的所有应用程序PDB访问。数据链接的应用程序公共对象中的数据只能在应用程序根目录中进行修改。">SET_DATA_LINKED程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d659646e518 d659646e502 ">
                                 <p>将数据库对象设置为数据链接的应用程序公共对象</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d659646e529" headers="d659646e499 ">
                                 <p><a href="DBMS_PDB_ALTER_SHARING.html#GUID-2C453BB1-7B5F-4A42-913B-09D27821BA7B" title="此过程将数据库对象设置为扩展的数据链接的应用程序公共对象。在应用程序容器中，对于扩展的数据链接对象，每个应用程序PDB可以在共享应用程序根目录中的公共数据的同时创建自己的特定数据。因此，只有存储在应用程序根目录中的数据对于所有应用程序PDB都是通用的。">SET_EXT_DATA_LINKED过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d659646e529 d659646e502 ">
                                 <p>将数据库对象设置为扩展的数据链接的应用程序公共对象</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d659646e540" headers="d659646e499 ">
                                 <p><a href="DBMS_PDB_ALTER_SHARING.html#GUID-58FF61C9-3C3D-486F-83EB-E7A95C84459C" title="此过程将数据库对象设置为元数据链接的应用程序公共对象。在应用程序容器中，元数据链接的应用程序公共对象存储特定对象（例如表）的元数据，以便共享应用程序公共对象的容器具有相同的结构但具有不同的数据。">SET_METADATA_LINKED程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d659646e540 d659646e502 ">
                                 <p>将数据库对象设置为元数据链接的应用程序公共对象</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d659646e551" headers="d659646e499 ">
                                 <p><a href="DBMS_PDB_ALTER_SHARING.html#GUID-4494FE08-5382-4E80-8A91-335FE5E15D8F" title="此过程将配置文件设置为应用程序容器中的应用程序通用配置文件。此过程用于将概要文件从先前版本迁移到当前版本中的应用程序容器。">SET_PROFILE_EXPLICIT过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d659646e551 d659646e502 ">
                                 <p>将概要文件设置为应用程序容器中的应用程序通用概要文件</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d659646e562" headers="d659646e499 ">
                                 <p><a href="DBMS_PDB_ALTER_SHARING.html#GUID-9E98E83B-535E-4883-BF5F-8E244FBE53F7" title="此过程将角色设置为应用程序容器中的应用程序公共角色。此过程用于将角色从先前版本迁移到当前版本中的应用程序容器。">SET_ROLE_EXPLICIT过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d659646e562 d659646e502 ">
                                 <p>将角色设置为应用程序容器中的应用程序公共角色。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d659646e573" headers="d659646e499 ">
                                 <p><a href="DBMS_PDB_ALTER_SHARING.html#GUID-E04A1BD2-38AB-4DC2-9E35-818490823DD2" title="此过程将本地用户设置为应用程序容器中的应用程序公共用户。">SET_USER_EXPLICIT过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d659646e573 d659646e502 ">
                                 <p>将本地用户设置为应用程序容器中的应用程序通用用户。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div class="sect3"><a id="GUID-CDD3C1EB-0439-4719-A707-1DD19F2617CE" name="GUID-CDD3C1EB-0439-4719-A707-1DD19F2617CE"></a><h4 id="ARPLS-GUID-CDD3C1EB-0439-4719-A707-1DD19F2617CE" class="sect4"><span class="enumeration_section">119.3.1</span> REMOVE_LINK程序</h4>
                  <div>
                     <p>此过程指定数据库对象不是应用程序公共对象。在应用程序容器中，应用程序公共对象在多个容器之间共享。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CDD3C1EB-0439-4719-A707-1DD19F2617CE__GUID-38B61957-64ED-44A5-BC8C-FEA5D0A42AF6">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PDB_ALTER_SHARING.REMOVE_LINK（schema_name IN VARCHAR2，object_name IN VARCHAR2，namespace IN NUMBER，edition_name IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CDD3C1EB-0439-4719-A707-1DD19F2617CE__GUID-700F66A0-2AF6-4F74-9754-162005FF92C6">参数</p>
                        <div class="tblformal" id="GUID-CDD3C1EB-0439-4719-A707-1DD19F2617CE__GUID-C5A21BB7-2C9D-4311-B28A-91088A0A847B">
                           <p class="titleintable">表119-2 <span class="italic"><span class="bold">REMOVE_LINK过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REMOVE_LINK程序参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_PDB_ALTER_SHARING.REMOVE_LINK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d659646e691">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d659646e694">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e699" headers="d659646e691 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e699 d659646e694 ">
                                       <p>拥有数据库对象的架构的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e707" headers="d659646e691 ">
                                       <p><code class="codeph">OBJECT_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e707 d659646e694 ">
                                       <p>数据库对象的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e715" headers="d659646e691 ">
                                       <p><code class="codeph">命名空间</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e715 d659646e694 ">
                                       <p>数据库对象的命名空间。</p>
                                       <p><code class="codeph">DBA_OBJECTS</code>视图的<code class="codeph">NAMESPACE</code>列显示对象的命名空间。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e731" headers="d659646e691 ">
                                       <p><code class="codeph">EDITION_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e731 d659646e694 ">
                                       <p>数据库对象的版本名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-CDD3C1EB-0439-4719-A707-1DD19F2617CE__GUID-7D38BE54-A10D-44B1-B5CF-224BD317FD32">
                           <p class="notep1">也可以看看：</p>
                           <p>有关将应用程序迁移到应用程序容器的信息，请参见<a href="../multi/administering-application-containers-with-sql-plus.html#GUID-D2F30723-9E70-469C-8048-CB06DE00173E" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-E8518B04-8682-4E24-9699-743C30E8E0B5" name="GUID-E8518B04-8682-4E24-9699-743C30E8E0B5"></a><h4 id="ARPLS-GUID-E8518B04-8682-4E24-9699-743C30E8E0B5" class="sect4"><span class="enumeration_section">119.3.2</span> SET_DATA_LINKED程序</h4>
                  <div>
                     <p>此过程将数据库对象设置为数据链接的应用程序公共对象。在应用程序容器中，数据链接的应用程序公共对象仅将数据存储在应用程序根目录中，并且数据可以由应用程序容器中的所有应用程序PDB访问。数据链接的应用程序公共对象中的数据只能在应用程序根目录中进行修改。</p>
                     <div class="section">
                        <p>将PDB中安装的应用程序迁移到应用程序容器时，可以使用此过程设置数据链接的应用程序公共对象。应用程序可以迁移到应用程序根目录或应用程序PDB。例如，可以迁移安装在PDB插入Oracle数据库12 <span class="italic">c</span>解除1（12.1）CDB到应用容器在Oracle数据库12 <span class="italic">c</span>解除2（12.2）CDB的应用程序。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E8518B04-8682-4E24-9699-743C30E8E0B5__GUID-38B61957-64ED-44A5-BC8C-FEA5D0A42AF6">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PDB_ALTER_SHARING.SET_DATA_LINKED（schema_name IN VARCHAR2，object_name IN VARCHAR2，namespace IN NUMBER，edition_name IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E8518B04-8682-4E24-9699-743C30E8E0B5__GUID-700F66A0-2AF6-4F74-9754-162005FF92C6">参数</p>
                        <div class="tblformal" id="GUID-E8518B04-8682-4E24-9699-743C30E8E0B5__GUID-C5A21BB7-2C9D-4311-B28A-91088A0A847B">
                           <p class="titleintable">表119-3 <span class="italic"><span class="bold">SET_DATA_LINKED过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_DATA_LINKED过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_PDB_ALTER_SHARING.SET_DATA_LINKED subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d659646e863">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d659646e866">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e871" headers="d659646e863 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e871 d659646e866 ">
                                       <p>拥有数据库对象的架构的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e879" headers="d659646e863 ">
                                       <p><code class="codeph">OBJECT_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e879 d659646e866 ">
                                       <p>数据库对象的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e887" headers="d659646e863 ">
                                       <p><code class="codeph">命名空间</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e887 d659646e866 ">
                                       <p>数据库对象的命名空间。</p>
                                       <p><code class="codeph">DBA_OBJECTS</code>视图的<code class="codeph">NAMESPACE</code>列显示对象的命名空间。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e903" headers="d659646e863 ">
                                       <p><code class="codeph">EDITION_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e903 d659646e866 ">
                                       <p>数据库对象的版本名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-E8518B04-8682-4E24-9699-743C30E8E0B5__GUID-7D38BE54-A10D-44B1-B5CF-224BD317FD32">
                           <p class="notep1">也可以看看：</p>
                           <p>有关将应用程序迁移到应用程序容器的信息，请参见<a href="../multi/administering-application-containers-with-sql-plus.html#GUID-D2F30723-9E70-469C-8048-CB06DE00173E" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-2C453BB1-7B5F-4A42-913B-09D27821BA7B" name="GUID-2C453BB1-7B5F-4A42-913B-09D27821BA7B"></a><h4 id="ARPLS-GUID-2C453BB1-7B5F-4A42-913B-09D27821BA7B" class="sect4"><span class="enumeration_section">119.3.3</span> SET_EXT_DATA_LINKED过程</h4>
                  <div>
                     <p>此过程将数据库对象设置为扩展的数据链接的应用程序公共对象。在应用程序容器中，对于扩展的数据链接对象，每个应用程序PDB可以在共享应用程序根目录中的公共数据的同时创建自己的特定数据。因此，只有存储在应用程序根目录中的数据对于所有应用程序PDB都是通用的。</p>
                     <div class="section">
                        <p>将PDB中安装的应用程序迁移到应用程序容器时，可以使用此过程设置扩展的数据链接的应用程序公共对象。应用程序可以迁移到应用程序根目录或应用程序PDB。例如，可以迁移安装在PDB插入Oracle数据库12 <span class="italic">c</span>解除1（12.1）CDB到应用容器在Oracle数据库12 <span class="italic">c</span>解除2（12.2）CDB的应用程序。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2C453BB1-7B5F-4A42-913B-09D27821BA7B__GUID-38B61957-64ED-44A5-BC8C-FEA5D0A42AF6">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PDB_ALTER_SHARING.SET_EXT_DATA_LINKED（schema_name IN VARCHAR2，object_name IN VARCHAR2，namespace IN NUMBER，edition_name IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2C453BB1-7B5F-4A42-913B-09D27821BA7B__GUID-700F66A0-2AF6-4F74-9754-162005FF92C6">参数</p>
                        <div class="tblformal" id="GUID-2C453BB1-7B5F-4A42-913B-09D27821BA7B__GUID-C5A21BB7-2C9D-4311-B28A-91088A0A847B">
                           <p class="titleintable">表119-4 <span class="italic"><span class="bold">SET_EXT_DATA_LINKED过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_EXT_DATA_LINKED过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_PDB_ALTER_SHARING.SET_EXT_DATA_LINKED subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d659646e1034">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d659646e1037">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e1042" headers="d659646e1034 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e1042 d659646e1037 ">
                                       <p>拥有数据库对象的架构的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e1050" headers="d659646e1034 ">
                                       <p><code class="codeph">OBJECT_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e1050 d659646e1037 ">
                                       <p>数据库对象的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e1058" headers="d659646e1034 ">
                                       <p><code class="codeph">命名空间</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e1058 d659646e1037 ">
                                       <p>数据库对象的命名空间。</p>
                                       <p><code class="codeph">DBA_OBJECTS</code>视图的<code class="codeph">NAMESPACE</code>列显示对象的命名空间。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e1074" headers="d659646e1034 ">
                                       <p><code class="codeph">EDITION_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e1074 d659646e1037 ">
                                       <p>数据库对象的版本名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-2C453BB1-7B5F-4A42-913B-09D27821BA7B__GUID-7D38BE54-A10D-44B1-B5CF-224BD317FD32">
                           <p class="notep1">也可以看看：</p>
                           <p>有关将应用程序迁移到应用程序容器的信息，请参见<a href="../multi/administering-application-containers-with-sql-plus.html#GUID-D2F30723-9E70-469C-8048-CB06DE00173E" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-58FF61C9-3C3D-486F-83EB-E7A95C84459C" name="GUID-58FF61C9-3C3D-486F-83EB-E7A95C84459C"></a><h4 id="ARPLS-GUID-58FF61C9-3C3D-486F-83EB-E7A95C84459C" class="sect4"><span class="enumeration_section">119.3.4</span> SET_METADATA_LINKED过程</h4>
                  <div>
                     <p>此过程将数据库对象设置为元数据链接的应用程序公共对象。在应用程序容器中，元数据链接的应用程序公共对象存储特定对象（例如表）的元数据，以便共享应用程序公共对象的容器具有相同的结构但具有不同的数据。</p>
                     <div class="section">
                        <p>将PDB中安装的应用程序迁移到应用程序容器时，可以使用此过程设置元数据链接的应用程序公共对象。应用程序可以迁移到应用程序根目录或应用程序PDB。例如，可以迁移安装在PDB插入Oracle数据库12 <span class="italic">c</span>解除1（12.1）CDB到应用容器在Oracle数据库12 <span class="italic">c</span>解除2（12.2）CDB的应用程序。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-58FF61C9-3C3D-486F-83EB-E7A95C84459C__GUID-38B61957-64ED-44A5-BC8C-FEA5D0A42AF6">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PDB_ALTER_SHARING.SET_METADATA_LINKED（schema_name IN VARCHAR2，object_name IN VARCHAR2，namespace IN NUMBER，edition_name IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-58FF61C9-3C3D-486F-83EB-E7A95C84459C__GUID-700F66A0-2AF6-4F74-9754-162005FF92C6">参数</p>
                        <div class="tblformal" id="GUID-58FF61C9-3C3D-486F-83EB-E7A95C84459C__GUID-C5A21BB7-2C9D-4311-B28A-91088A0A847B">
                           <p class="titleintable">表119-5 <span class="italic"><span class="bold">SET_METADATA_LINKED过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_METADATA_LINKED过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_PDB_ALTER_SHARING.SET_METADATA_LINKED subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d659646e1205">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d659646e1208">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e1213" headers="d659646e1205 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e1213 d659646e1208 ">
                                       <p>拥有数据库对象的架构的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e1221" headers="d659646e1205 ">
                                       <p><code class="codeph">OBJECT_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e1221 d659646e1208 ">
                                       <p>数据库对象的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e1229" headers="d659646e1205 ">
                                       <p><code class="codeph">命名空间</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e1229 d659646e1208 ">
                                       <p>数据库对象的命名空间。</p>
                                       <p><code class="codeph">DBA_OBJECTS</code>视图的<code class="codeph">NAMESPACE</code>列显示对象的命名空间。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e1245" headers="d659646e1205 ">
                                       <p><code class="codeph">EDITION_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e1245 d659646e1208 ">
                                       <p>数据库对象的版本名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-58FF61C9-3C3D-486F-83EB-E7A95C84459C__GUID-7D38BE54-A10D-44B1-B5CF-224BD317FD32">
                           <p class="notep1">也可以看看：</p>
                           <p>有关将应用程序迁移到应用程序容器的信息，请参见<a href="../multi/administering-application-containers-with-sql-plus.html#GUID-D2F30723-9E70-469C-8048-CB06DE00173E" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-4494FE08-5382-4E80-8A91-335FE5E15D8F" name="GUID-4494FE08-5382-4E80-8A91-335FE5E15D8F"></a><h4 id="ARPLS-GUID-4494FE08-5382-4E80-8A91-335FE5E15D8F" class="sect4"><span class="enumeration_section">119.3.5</span> SET_PROFILE_EXPLICIT过程</h4>
                  <div>
                     <p>此过程将配置文件设置为应用程序容器中的应用程序通用配置文件。此过程用于将概要文件从先前版本迁移到当前版本中的应用程序容器。</p>
                     <div class="section">
                        <p>必须在应用程序根目录中的应用程序安装，修补，升级或卸载操作中调用此过程。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4494FE08-5382-4E80-8A91-335FE5E15D8F__GUID-38B61957-64ED-44A5-BC8C-FEA5D0A42AF6">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PDB_ALTER_SHARING.SET_PROFILE_EXPLICIT（profile_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4494FE08-5382-4E80-8A91-335FE5E15D8F__GUID-700F66A0-2AF6-4F74-9754-162005FF92C6">参数</p>
                        <div class="tblformal" id="GUID-4494FE08-5382-4E80-8A91-335FE5E15D8F__GUID-C5A21BB7-2C9D-4311-B28A-91088A0A847B">
                           <p class="titleintable">表119-6 <span class="italic"><span class="bold">SET_PROFILE_EXPLICIT过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_PROFILE_EXPLICIT过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_PDB_ALTER_SHARING.SET_PROFILE_EXPLICIT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d659646e1371">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d659646e1374">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e1379" headers="d659646e1371 ">
                                       <p><code class="codeph">PROFILE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e1379 d659646e1374 ">
                                       <p>配置文件的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-4494FE08-5382-4E80-8A91-335FE5E15D8F__GUID-7D38BE54-A10D-44B1-B5CF-224BD317FD32">
                           <p class="notep1">也可以看看：</p>
                           <p>有关将应用程序迁移到应用程序容器的信息，请参见<a href="../multi/administering-application-containers-with-sql-plus.html#GUID-D2F30723-9E70-469C-8048-CB06DE00173E" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-9E98E83B-535E-4883-BF5F-8E244FBE53F7" name="GUID-9E98E83B-535E-4883-BF5F-8E244FBE53F7"></a><h4 id="ARPLS-GUID-9E98E83B-535E-4883-BF5F-8E244FBE53F7" class="sect4"><span class="enumeration_section">119.3.6</span> SET_ROLE_EXPLICIT过程</h4>
                  <div>
                     <p>此过程将角色设置为应用程序容器中的应用程序公共角色。此过程用于将角色从先前版本迁移到当前版本中的应用程序容器。</p>
                     <div class="section">
                        <p>必须在应用程序根目录中的应用程序安装，修补，升级或卸载操作中调用此过程。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9E98E83B-535E-4883-BF5F-8E244FBE53F7__GUID-38B61957-64ED-44A5-BC8C-FEA5D0A42AF6">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PDB_ALTER_SHARING.SET_ROLE_EXPLICIT（role_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9E98E83B-535E-4883-BF5F-8E244FBE53F7__GUID-700F66A0-2AF6-4F74-9754-162005FF92C6">参数</p>
                        <div class="tblformal" id="GUID-9E98E83B-535E-4883-BF5F-8E244FBE53F7__GUID-C5A21BB7-2C9D-4311-B28A-91088A0A847B">
                           <p class="titleintable">表119-7 <span class="italic"><span class="bold">SET_ROLE_EXPLICIT过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_ROLE_EXPLICIT过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_PDB_ALTER_SHARING.SET_ROLE_EXPLICIT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d659646e1504">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d659646e1507">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e1512" headers="d659646e1504 ">
                                       <p><code class="codeph">ROLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e1512 d659646e1507 ">
                                       <p>角色的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-9E98E83B-535E-4883-BF5F-8E244FBE53F7__GUID-7D38BE54-A10D-44B1-B5CF-224BD317FD32">
                           <p class="notep1">也可以看看：</p>
                           <p>有关将应用程序迁移到应用程序容器的信息，请参见<a href="../multi/administering-application-containers-with-sql-plus.html#GUID-D2F30723-9E70-469C-8048-CB06DE00173E" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-E04A1BD2-38AB-4DC2-9E35-818490823DD2" name="GUID-E04A1BD2-38AB-4DC2-9E35-818490823DD2"></a><h4 id="ARPLS-GUID-E04A1BD2-38AB-4DC2-9E35-818490823DD2" class="sect4"><span class="enumeration_section">119.3.7</span> SET_USER_EXPLICIT过程</h4>
                  <div>
                     <p>此过程将本地用户设置为应用程序容器中的应用程序公共用户。</p>
                     <div class="section">
                        <p>必须在应用程序根目录中的应用程序安装，修补，升级或卸载操作中调用此过程。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E04A1BD2-38AB-4DC2-9E35-818490823DD2__GUID-38B61957-64ED-44A5-BC8C-FEA5D0A42AF6">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PDB_ALTER_SHARING.SET_USER_EXPLICIT（user_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E04A1BD2-38AB-4DC2-9E35-818490823DD2__GUID-700F66A0-2AF6-4F74-9754-162005FF92C6">参数</p>
                        <div class="tblformal" id="GUID-E04A1BD2-38AB-4DC2-9E35-818490823DD2__GUID-C5A21BB7-2C9D-4311-B28A-91088A0A847B">
                           <p class="titleintable">表119-8 <span class="italic"><span class="bold">SET_USER_EXPLICIT过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_USER_EXPLICIT过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_PDB_ALTER_SHARING.SET_USER_EXPLICIT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d659646e1637">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d659646e1640">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d659646e1645" headers="d659646e1637 ">
                                       <p><code class="codeph">用户名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d659646e1645 d659646e1640 ">
                                       <p>用户名。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-E04A1BD2-38AB-4DC2-9E35-818490823DD2__GUID-7D38BE54-A10D-44B1-B5CF-224BD317FD32">
                           <p class="notep1">也可以看看：</p>
                           <p>有关将应用程序迁移到应用程序容器的信息，请参见<a href="../multi/administering-application-containers-with-sql-plus.html#GUID-D2F30723-9E70-469C-8048-CB06DE00173E" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="06089.config-odbc-gateway.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>配置Oracle Database Gateway for ODBC</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Installation and Configuration Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Installation and Configuration Guide for Microsoft Windows"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-installation-and-configuration-guide-microsoft-windows.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T19:13:41-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18242-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="install-odbc-gateway.html" title="Previous" type="text/html"></link>
      <link rel="next" href="part-drda-gateway.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway Installation and Configuration Guide for Microsoft Windows"></meta>
    <meta name="dcterms.isVersionOf" content="OTGIW"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="install-odbc-gateway.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="part-drda-gateway.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安装和配置指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-odbc-gateway.html" property="item" typeof="WebPage"><span property="name">安装和配置Oracle Database Gateway for ODBC</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置Oracle Database Gateway for ODBC</li>
            </ol>
            <a id="GUID-5B250E46-5557-49CC-8D4C-00414B184B71" name="GUID-5B250E46-5557-49CC-8D4C-00414B184B71"></a><a id="OTGIW110"></a>
            
            <h2 id="OTGIW-GUID-5B250E46-5557-49CC-8D4C-00414B184B71" class="sect2"><span class="enumeration_chapter">11</span>为ODBC配置Oracle Database Gateway</h2>
         </header>
         <div class="ind">
            <div>
               <p>为非Oracle系统安装网关和ODBC驱动程序后，执行以下任务以配置Oracle Database Gateway for ODBC：</p>
               <ol>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-F32D9722-9B85-4345-B3B4-7E3EAED0D577">配置网关初始化参数文件</a></p>
                  </li>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-A4BB6B61-AD4C-4D8F-A133-B09696EC7CD2">为网关配置Oracle Net</a></p>
                  </li>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-93CFEE74-2A91-4EA0-9636-44D3196735CF">配置Oracle数据库以进行网关访问</a></p>
                  </li>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-2F4BF76B-439B-4E7E-9707-DE91B83E3579">创建数据库链接</a></p>
                  </li>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-ECB89EBA-529E-4E33-B1A7-E015552415BE">加密网关初始化参数值</a></p>
                  </li>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-D81A1E9F-9AC7-42A3-9104-941FCF1B0F3B">配置网关以访问多个ODBC数据源</a></p>
                  </li>
               </ol>
            </div><a id="OTGIW1027"></a><div class="props_rev_3"><a id="GUID-F32D9722-9B85-4345-B3B4-7E3EAED0D577" name="GUID-F32D9722-9B85-4345-B3B4-7E3EAED0D577"></a><h3 id="OTGIW-GUID-F32D9722-9B85-4345-B3B4-7E3EAED0D577" class="sect3">配置网关初始化参数文件</h3>
               <div>
                  <div class="section">
                     <p>执行以下任务以配置网关初始化文件：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-odbc-gateway.html#GUID-A4597A9D-EFBF-439F-B214-1090763A263B">创建初始化参数文件</a></span></li>
                     <li><span><a href="config-odbc-gateway.html#GUID-0362CC27-4E1B-4FA3-A4BD-087CFC90DE07">设置初始化参数值</a></span></li>
                  </ol>
               </div><a id="OTGIW1028"></a><div class="props_rev_3"><a id="GUID-A4597A9D-EFBF-439F-B214-1090763A263B" name="GUID-A4597A9D-EFBF-439F-B214-1090763A263B"></a><h4 id="OTGIW-GUID-A4597A9D-EFBF-439F-B214-1090763A263B" class="sect4">创建初始化参数文件</h4>
                  <div>
                     <div class="section">
                        <p><a id="d20384e151" class="indexterm-anchor"></a><a id="d20384e155" class="indexterm-anchor"></a>您必须为Oracle Database Gateway for ODBC创建初始化文件。 Oracle提供了一个示例初始化文件<code class="codeph">initdg4odbc.ora</code> 。示例文件存储在<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\hs\admin</code>目录中。
                        </p>
                        <p>要为ODBC网关创建初始化文件，请复制样本初始化文件并将其重命名为<code class="codeph">init</code> <span class="italic"><code class="codeph">sid</code></span> <code class="codeph">.ora</code> ，其中<span class="italic"><code class="codeph">sid</code></span>是要用于网关的非Oracle系统实例的系统标识符（SID）连接。
                        </p>
                        <p>该<a id="d20384e187" class="indexterm-anchor"></a>网关系统标识符<a id="d20384e192" class="indexterm-anchor"></a> （SID）是标识网关实例的字母数字字符串。对于要访问的每个ODBC源，您需要一个网关实例，因此需要一个网关SID。
                        </p>
                        <p>如果要访问两个ODBC源，则需要两个网关SID，一个用于网关的每个实例。如果您只有一个ODBC源，但有时希望使用一组网关参数设置访问它，而其他时候使用不同的网关参数设置，那么您将需要多个网关SID用于单个ODBC源。SID用作初始化参数文件的文件名的一部分。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIW1029"></a><div class="props_rev_3"><a id="GUID-0362CC27-4E1B-4FA3-A4BD-087CFC90DE07" name="GUID-0362CC27-4E1B-4FA3-A4BD-087CFC90DE07"></a><h4 id="OTGIW-GUID-0362CC27-4E1B-4FA3-A4BD-087CFC90DE07" class="sect4">设置初始化参数值</h4>
                  <div>
                     <div class="section">
                        <p>创建初始化文件后，必须设置初始化参数值。可以使用许多初始化参数来修改网关行为。您必须设置<code class="codeph">HS_FDS_CONNECT_INFO</code>初始化参数。其他初始化参数具有默认值或是可选的。您可以使用默认值并省略可选参数，也可以使用为安装定制的值指定参数。有关可以设置的初始化参数的完整列表，请参阅<a href="init-param-gateway.html#GUID-69E5F431-CF22-48B1-B05B-984644117C1F">初始化参数</a> 。对初始化参数所做的更改仅在下一个网关会话中生效。
                        </p>
                        <p><code class="codeph">HS_FDS_CONNECT_INFO</code>初始化参数指定连接到非Oracle系统所需的信息。设置<code class="codeph">HS_FDS_CONNECT_INFO</code>如下：</p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO = <span class="italic">dsn_value</span>其中<span class="italic">dsn_value</span>是Microsoft Windows ODBC数据源管理器中定义的系统DSN的名称。</pre><div class="infoboxnote" id="GUID-0362CC27-4E1B-4FA3-A4BD-087CFC90DE07__GUID-E77144E9-5247-4120-BCB4-6D806F6DB445">
                           <p class="notep1">注意：</p>
                           <p>在决定是接受默认值还是更改默认值之前，请参阅<a href="init-param-gateway.html#GUID-69E5F431-CF22-48B1-B05B-984644117C1F">初始化参数</a>以获取有关所有<a href="init-param-gateway.html#GUID-69E5F431-CF22-48B1-B05B-984644117C1F">初始化参数</a>的详细信息。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="OTGIW1030"></a><div class="props_rev_3"><a id="GUID-8BC0D3B4-A9D8-4A11-9780-B82351314A7B" name="GUID-8BC0D3B4-A9D8-4A11-9780-B82351314A7B"></a><h5 id="OTGIW-GUID-8BC0D3B4-A9D8-4A11-9780-B82351314A7B" class="sect5">示例：设置初始化参数值</h5>
                     <div>
                        <div class="section">
                           <p>假设已在Microsoft Windows ODBC数据源管理器中定义了系统DSN。要通过网关连接到此SQL Server数据库， <code class="codeph">init</code> <span class="italic"><code class="codeph">sid</code></span> <code class="codeph">.ora</code>文件中需要以下行：</p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO = <span class="italic">sqlserver7</span>
</pre><p><span class="italic"><code class="codeph">sqlserver7</code></span>是Microsoft Windows ODBC数据源管理器中定义的系统DSN的名称。
                           </p>
                           <p>以下过程使您可以在Microsoft Windows ODBC数据源管理器3.5版中定义系统DSN：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>从“ <span class="bold">开始”</span>菜单中选择<span class="bold">“设置”</span> &gt;“ <span class="bold">控制面板”</span>并选择“ <span class="bold">ODBC”</span> 。</span></li>
                           <li class="stepexpand"><span>选择“ <span class="bold">系统DSN”</span>选项卡页面以显示系统数据源。</span></li>
                           <li class="stepexpand"><span>单击<span class="bold">添加</span> 。</span></li>
                           <li class="stepexpand"><span>从已安装的ODBC驱动程序列表中，选择数据源将使用的驱动程序的名称。例如，选择<span class="bold">SQL Server</span> 。</span></li>
                           <li class="stepexpand"><span>单击<span class="bold">完成</span> 。</span></li>
                           <li class="stepexpand"><span>输入DSN的名称和可选说明。根据ODBC驱动程序输入其他信息。例如，对于SQL Server，请输入SQL Server计算机名称。</span><div>
                                 <div class="infoboxnote" id="GUID-8BC0D3B4-A9D8-4A11-9780-B82351314A7B__GUID-94869912-6F79-4B92-8933-3E6C4811B5C6">
                                    <p class="notep1">注意：</p>
                                    <p>为DSN输入的名称必须与<code class="codeph">init</code> <span class="italic"><code class="codeph">sid</code></span> <code class="codeph">.ora</code>指定的初始化参数<code class="codeph">HS_FDS_CONNECT_INFO</code>的值匹配。
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>请参阅ODBC驱动程序文档，并按照提示完成DSN的配置。</span></li>
                           <li class="stepexpand"><span>创建系统DSN后，单击“ <span class="bold">确定”</span>以退出ODBC数据源管理器。</span></li>
                        </ol>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-8BC0D3B4-A9D8-4A11-9780-B82351314A7B__GUID-7DAEF5B5-B4A0-4A12-A572-DAA19C427210">
                              <p class="notep1">注意：</p>
                              <p>如果ODBC驱动程序支持带引号的标识符或分隔标识符，则应该打开它。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="OTGIW1031"></a><div class="props_rev_3"><a id="GUID-A4BB6B61-AD4C-4D8F-A133-B09696EC7CD2" name="GUID-A4BB6B61-AD4C-4D8F-A133-B09696EC7CD2"></a><h3 id="OTGIW-GUID-A4BB6B61-AD4C-4D8F-A133-B09696EC7CD2" class="sect3">为网关配置Oracle Net</h3>
               <div>
                  <div class="section">
                     <p>网关要求Oracle Net与Oracle数据库通信。配置网关后，执行以下任务以配置Oracle Net以使用网关：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-odbc-gateway.html#GUID-35BECA17-E452-49B5-92BE-791E57DA5078">为网关配置Oracle Net Listener</a></span></li>
                     <li><span><a href="config-odbc-gateway.html#GUID-A4095540-0D5A-42EC-8C24-FD6E36F30C3E">停止并启动Gateway的Oracle Net Listener</a></span></li>
                  </ol>
               </div><a id="OTGIW1032"></a><div class="props_rev_3"><a id="GUID-35BECA17-E452-49B5-92BE-791E57DA5078" name="GUID-35BECA17-E452-49B5-92BE-791E57DA5078"></a><h4 id="OTGIW-GUID-35BECA17-E452-49B5-92BE-791E57DA5078" class="sect4">为网关配置Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>Oracle Net Listener侦听来自Oracle数据库的传入请求。要使Oracle Net Listener监听网关，必须将有关网关的信息添加到Oracle Net Listener配置文件<code class="codeph">listener.ora</code> 。默认情况下，此文件位于<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\network\admin</code> ，其中<span class="italic"><code class="codeph">ORACLE_HOME</code></span>是安装网关的目录。
                        </p>
                        <p>必须将以下条目添加到<code class="codeph">listener.ora</code>文件中：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Oracle Net Listener侦听的Oracle Net地址列表</p>
                           </li>
                           <li>
                              <p>Oracle Net Listener响应传入连接请求而启动的网关的可执行文件名</p>
                           </li>
                        </ul>
                        <p><span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\dg4odbc\admin</code>目录中提供了<code class="codeph">listener.ora</code>条目（ <code class="codeph">listener.ora.sample</code> ）的示例，其中<code class="codeph">ORACLE_HOME</code>是安装网关的目录。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="OTGIW1033"></a><div class="props_rev_3"><a id="GUID-305FEAB7-8D0D-4A80-84BB-1EE91EE91650" name="GUID-305FEAB7-8D0D-4A80-84BB-1EE91EE91650"></a><h5 id="OTGIW-GUID-305FEAB7-8D0D-4A80-84BB-1EE91EE91650" class="sect5">listener.ora文件条目的语法</h5>
                     <div>
                        <div class="section">
                           <p>Oracle数据库使用Oracle Net和任何支持的协议适配器与网关通信。以下是Oracle Net Listener使用TCP / IP协议适配器侦听的地址的语法：</p><pre class="oac_no_warn" dir="ltr">LISTENER =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name</span> ）（PORT = <span class="italic">port_number</span> ））</pre><p>哪里：</p>
                           <div class="tblformal" id="GUID-305FEAB7-8D0D-4A80-84BB-1EE91EE91650__GUID-B6A10E84-8DA6-42C5-BF25-4C0AA5BC63E4">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable definition" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d20384e561">变量</th>
                                       <th align="left" valign="bottom" width="75%" id="d20384e564">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d20384e569" headers="d20384e561 ">
                                          <p><span class="italic"><code class="codeph">主机名</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d20384e569 d20384e564 ">
                                          <p>是安装网关的计算机的名称。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d20384e578" headers="d20384e561 ">
                                          <p><span class="italic"><code class="codeph">端口号</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d20384e578 d20384e564 ">
                                          <p>指定Oracle Net Listener使用的端口号。如果在同一台机器上运行其他侦听器，则<span class="italic"><code class="codeph">port_number</code></span>的值必须与其他侦听器的端口号不同。
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>要指示Oracle Net Listener启动网关以响应传入的连接请求，请在<code class="codeph">listener.ora</code>文件中添加一个条目。
                           </p>
                           <div class="infoboxnote" id="GUID-305FEAB7-8D0D-4A80-84BB-1EE91EE91650__GUID-E34E03E3-0B4C-43F1-A69C-73424E014A84">
                              <p class="notep1">注意：</p>
                              <p>您必须在listener.ora文件和将在下一步中配置的<code class="codeph">tnsnames.ora</code>文件中使用相同的SID值。
                              </p>
                           </div><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =（SID_NAME = <span class="italic">gateway_sid</span> ）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4odbc）））</pre><p>哪里：</p>
                           <div class="tblformal" id="GUID-305FEAB7-8D0D-4A80-84BB-1EE91EE91650__GUID-5694C78E-5EF1-4E27-BA2F-8507C7E6B3C9">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable definition" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d20384e619">变量</th>
                                       <th align="left" valign="bottom" width="75%" id="d20384e622">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d20384e627" headers="d20384e619 ">
                                          <p><span class="italic"><code class="codeph">gateway_sid</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d20384e627 d20384e622 ">
                                          <p>指定网关的SID，并匹配<code class="codeph">tnsnames.ora</code>文件中连接描述符条目中指定的网关SID。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d20384e639" headers="d20384e619 ">
                                          <p><span class="italic"><code class="codeph">oracle_home_directory</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d20384e639 d20384e622 ">
                                          <p>指定网关所在的Oracle主目录。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d20384e648" headers="d20384e619 ">
                                          <p><code class="codeph">dg4odbc</code></p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d20384e648 d20384e622 ">
                                          <p>指定用于ODBC的Oracle数据库网关的可执行文件名。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>如果您已有现有的Oracle Net Listener，请将以下语法添加到现有<code class="codeph">listener.ora</code>文件中的<code class="codeph">SID_LIST</code> ：</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =。。）（SID_DESC =。。）（SID_DESC =（SID_NAME = <span class="italic">gateway_sid</span> ）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4odbc）））</pre><div class="infoboxnotealso" id="GUID-305FEAB7-8D0D-4A80-84BB-1EE91EE91650__GUID-AFE719E9-FA69-4593-9EF1-81B337E96750">
                              <p class="notep1">也可以看看：</p>
                              <p>有关更改<code class="codeph">listener.ora</code>文件的信息，请参见“ <a href="../netag/configuring-and-administering-oracle-net-listener.html#NETAG294" target="_blank"><span class="italic">Oracle数据库网络服务管理员指南”</span></a> 。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="OTGIW1034"></a><div class="props_rev_3"><a id="GUID-A4095540-0D5A-42EC-8C24-FD6E36F30C3E" name="GUID-A4095540-0D5A-42EC-8C24-FD6E36F30C3E"></a><h4 id="OTGIW-GUID-A4095540-0D5A-42EC-8C24-FD6E36F30C3E" class="sect4">停止并启动Gateway的Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>你必须停止并重新启动<a id="d20384e715" class="indexterm-anchor"></a> Oracle Net Listener启动新设置，如下所示：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>从“ <span class="bold">开始”</span>菜单中选择<span class="bold">“设置”</span> ，“ <span class="bold">控制面板”</span> ，然后选择“ <span class="bold">服务”</span></span></li>
                        <li><span>选择网关的Oracle Net Listener服务。</span></li>
                        <li><span>如果该服务已在运行，请单击“ <span class="bold">停止”</span>以停止该服务。</span></li>
                        <li><span>单击“ <span class="bold">开始”</span>以启动或重新启动该服务。</span></li>
                     </ol>
                  </div>
               </div>
            </div><a id="OTGIW1035"></a><div class="props_rev_3"><a id="GUID-93CFEE74-2A91-4EA0-9636-44D3196735CF" name="GUID-93CFEE74-2A91-4EA0-9636-44D3196735CF"></a><h3 id="OTGIW-GUID-93CFEE74-2A91-4EA0-9636-44D3196735CF" class="sect3">配置Oracle数据库以进行网关访问</h3>
               <div>
                  <div class="section">
                     <p>在使用网关访问ODBC数据源之前，必须配置Oracle数据库以启用与Oracle Net上的网关通信。</p>
                     <p>要配置Oracle数据库，必须将连接描述符添加到<code class="codeph">tnsnames.ora</code>文件中。默认情况下，此文件位于<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\network\admin</code> ，其中<code class="codeph">ORACLE_HOME</code>是安装Oracle数据库的目录。您无法使用Oracle Net Assistant或Oracle Net Easy Config工具来配置<code class="codeph">tnsnames.ora</code>文件。您必须手动编辑该文件。
                     </p>
                     <p><span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\dg4odbc\admin</code>目录中提供了<code class="codeph">tnsnames.ora</code>条目（ <code class="codeph">tnsnames.ora.sample</code> ）的示例，其中<code class="codeph">ORACLE_HOME</code>是安装网关的目录。
                     </p>
                     <div class="infoboxnotealso" id="GUID-93CFEE74-2A91-4EA0-9636-44D3196735CF__GUID-2E8CB432-87F8-4085-A532-6FA1AFEF6110">
                        <p class="notep1">也可以看看：</p>
                        <p>有关编辑<code class="codeph">tnsnames.ora</code>文件的信息，请<code class="codeph">tnsnames.ora</code> <a href="../admin/index.html" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="OTGIW1237"></a><a id="OTGIW1036"></a><div class="props_rev_3"><a id="GUID-07F2E18B-924C-4363-8954-17744FD539E3" name="GUID-07F2E18B-924C-4363-8954-17744FD539E3"></a><h4 id="OTGIW-GUID-07F2E18B-924C-4363-8954-17744FD539E3" class="sect4">配置tnsnames.ora</h4>
                  <div>
                     <div class="section">
                        <p>编辑<code class="codeph">tnsnames.ora</code>文件以添加网关的连接描述符。以下是使用TCP / IP协议的Oracle Net条目的语法：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">connect_descriptor</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name</span> ）（PORT = <span class="italic">port_number</span> ））（CONNECT_DATA =（SID = <span class="italic">gateway_sid</span> ））（HS = OK））</pre><p>哪里：</p>
                        <div class="tblformal" id="GUID-07F2E18B-924C-4363-8954-17744FD539E3__GUID-ED07EADE-FCA6-43CA-B663-0DD7AFB53145">
                           <p class="titleintable">表11-1 tnsnames.ora文件的ODBC数据库网关for ODBC参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="适用于tnsnames.ora文件的ODBC参数的Oracle数据库网关" width="100%" border="1" summary="Gateway Parameters for tnsnames.ora File" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d20384e891">变量</th>
                                    <th align="left" valign="bottom" width="69%" id="d20384e894">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d20384e899" headers="d20384e891 ">
                                       <p><span class="italic"><code class="codeph">connect_descriptor</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d20384e899 d20384e894 ">
                                       <p>是创建数据库链接时指定的要连接的对象的描述，例如<code class="codeph">dg4odbc</code> 。
                                       </p>
                                       <p></p>
                                       <p>检查<code class="codeph">sqlnet.ora</code>文件以获取以下参数设置：</p>
                                       <p><code class="codeph">names.directory_path</code> = <code class="codeph">(TNSNAMES)</code> 
                                       </p>
                                       <p>注意： <code class="codeph">sqlnet.ora</code>文件通常存储在<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\network\admin</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d20384e935" headers="d20384e891 ">
                                       <p><code class="codeph">TCP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d20384e935 d20384e894 ">
                                       <p>是用于TCP / IP连接的TCP协议。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d20384e943" headers="d20384e891 ">
                                       <p><span class="italic"><code class="codeph">主机名</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d20384e943 d20384e894 ">
                                       <p>指定运行网关的计算机。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d20384e952" headers="d20384e891 ">
                                       <p><span class="italic"><code class="codeph">端口号</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d20384e952 d20384e894 ">
                                       <p>匹配正在侦听网关的Oracle Net Listener使用的端口号。Oracle Net Listener的端口号可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。请参阅<a href="config-odbc-gateway.html#GUID-305FEAB7-8D0D-4A80-84BB-1EE91EE91650">listener.ora文件条目的语法</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d20384e968" headers="d20384e891 ">
                                       <p><span class="italic"><code class="codeph">gateway_sid</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d20384e968 d20384e894 ">
                                       <p>指定网关的SID，并匹配正在侦听网关的Oracle Net Listener的<code class="codeph">listener.ora</code>文件中指定的SID。有关更多信息，请参阅<a href="config-odbc-gateway.html#GUID-35BECA17-E452-49B5-92BE-791E57DA5078">为网关配置Oracle Net Listener</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d20384e984" headers="d20384e891 ">
                                       <p><code class="codeph">（HS = OK）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d20384e984 d20384e894 ">
                                       <p>指定此连接描述符连接到非Oracle系统。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-4C8ECA63-F914-4FB6-AA75-535A3F61FC0D" name="GUID-4C8ECA63-F914-4FB6-AA75-535A3F61FC0D"></a><h4 id="OTGIW-GUID-4C8ECA63-F914-4FB6-AA75-535A3F61FC0D" class="sect4">为多个侦听器配置tnsnames.ora</h4>
                  <div>
                     <div class="section">
                        <p>要确保更高的可用性，您可以指定多个<a id="d20384e1035" class="indexterm-anchor"></a> connect de scriptor中的监听器。
                        </p><pre class="oac_no_warn" dir="ltr"> <a id="d20384e1043" class="indexterm-anchor"></a> <span class="italic">connect_descriptor</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name_1</span> ）（PORT = <span class="italic">port_number_1</span> ））（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name_2</span> ）（PORT = <span class="italic">port_number_2</span> ））（CONNECT_DATA =（SID = <span class="italic">gateway_sid</span> ））（HS = OK））</pre><p>这表明，如果<span class="italic"><code class="codeph">host_name_1</code></span>和<span class="italic"><code class="codeph">port_number_1</code></span>的侦听器不可用，则<span class="italic"><code class="codeph">host_name_2</code></span>和<span class="italic"><code class="codeph">port_number_2</code></span>的第二个侦听器将接管。
                        </p>
                        <div class="infoboxnotealso" id="GUID-4C8ECA63-F914-4FB6-AA75-535A3F61FC0D__GUID-4D1250BF-CC10-42B0-82E8-12095FEFB5ED">
                           <p class="notep1">也可以看看：</p>
                           <p>有关编辑<code class="codeph">tnsnames.ora</code>文件的信息，请<code class="codeph">tnsnames.ora</code> <a href="../netag/configuring-naming-methods.html#NETAG256" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OTGIW1037"></a><div class="props_rev_3"><a id="GUID-2F4BF76B-439B-4E7E-9707-DE91B83E3579" name="GUID-2F4BF76B-439B-4E7E-9707-DE91B83E3579"></a><h3 id="OTGIW-GUID-2F4BF76B-439B-4E7E-9707-DE91B83E3579" class="sect3">创建数据库链接</h3>
               <div>
                  <div class="section">
                     <p>连接到Oracle数据库的任何Oracle客户端都可以通过网关访问ODBC数据源。Oracle客户端和Oracle数据库可以驻留在不同的计算机上。网关仅接受来自Oracle数据库的连接。</p>
                     <p>首次在Oracle会话中使用时，通过数据库链接建立与网关的连接。在此上下文中，连接是指Oracle数据库与网关之间的连接。在Oracle会话结束之前，连接将保持建立状态。另一个会话或用户可以访问相同的数据库链接，并获得与网关和ODBC数据源的不同连接。</p>
                     <p>数据库链接在网关会话期间处于活动状态。如果要在会话期间关闭数据库链接，可以使用<code class="codeph">ALTER SESSION</code>语句执行此操作。
                     </p>
                     <p>要访问ODBC数据源，您必须创建数据库链接。公共数据库链接是最常见的数据库链接。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK <span class="italic">dblink</span> CONNECT TO 2“ <span class="italic">user”</span> IDENTIFIED BY <span class="italic">“password”</span> <span class="italic">USING'tns_name_entry</span> ';</pre><p>哪里：</p>
                     <div class="tblformal" id="GUID-2F4BF76B-439B-4E7E-9707-DE91B83E3579__GUID-2DDCE36A-73ED-4211-8E36-035134E51B65">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable definition" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d20384e1165">变量</th>
                                 <th align="left" valign="bottom" width="75%" id="d20384e1168">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d20384e1173" headers="d20384e1165 ">
                                    <p><span class="italic"><code class="codeph">DBLINK</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d20384e1173 d20384e1168 ">
                                    <p>是完整的数据库链接名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d20384e1182" headers="d20384e1165 ">
                                    <p><span class="italic"><code class="codeph">tns_name_entry</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d20384e1182 d20384e1168 ">
                                    <p>指定<code class="codeph">tnsnames.ora</code>文件中指定的标识网关的Oracle Net连接描述符</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>创建数据库链接后，您可以验证与ODBC数据源的连接，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM DUAL @dblink;</pre><div class="infoboxnotealso" id="GUID-2F4BF76B-439B-4E7E-9707-DE91B83E3579__GUID-C68518CB-BF6E-4B52-966E-E9BA0EB91F98">
                        <p class="notep1">也可以看看：</p>
                        <p>有关使用数据库链接的详细信息，请<a href="../admin/distributed-database-concepts.html#ADMIN12083" target="_blank"><span><cite>参见Oracle数据库管理员指南</cite></span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OTGIW1038"></a><div class="props_rev_3"><a id="GUID-ECB89EBA-529E-4E33-B1A7-E015552415BE" name="GUID-ECB89EBA-529E-4E33-B1A7-E015552415BE"></a><h3 id="OTGIW-GUID-ECB89EBA-529E-4E33-B1A7-E015552415BE" class="sect3">加密网关初始化参数值</h3>
               <div>
                  <p>网关使用用户标识和密码来访问远程数据库中的信息。必须在网关初始化文件中定义一些用户标识和密码，以处理资源恢复等功能。在当前具有安全意识的环境中，具有可在初始化文件中访问的纯文本密码被认为是不安全的。<code class="codeph">dg4pwd</code>加密实用程序已添加为异构服务的一部分，以帮助提高安全性。此网关可以访问此实用程序。包含敏感值的初始化参数可以以加密形式存储。
                  </p>
                  <div class="infoboxnotealso" id="GUID-ECB89EBA-529E-4E33-B1A7-E015552415BE__GUID-CB0A4F90-5E17-4CC2-BCFE-BF10DBBD1EE8">
                     <p class="notep1">也可以看看：</p>
                     <p>有关使用此实用程序的详细信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgiw&amp;id=HETER4010" target="_blank"><span class="italic">参见“Oracle数据库异构连接用户指南”</span></a> 。
                     </p>
                  </div>
               </div>
            </div><a id="OTGIW1039"></a><div class="props_rev_3"><a id="GUID-D81A1E9F-9AC7-42A3-9104-941FCF1B0F3B" name="GUID-D81A1E9F-9AC7-42A3-9104-941FCF1B0F3B"></a><h3 id="OTGIW-GUID-D81A1E9F-9AC7-42A3-9104-941FCF1B0F3B" class="sect3">配置网关以访问多个ODBC数据源</h3>
               <div>
                  <div class="section">
                     <p>配置网关以访问多个ODBC数据源的任务类似于为单个数据源配置网关的任务。配置示例假定以下内容：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>网关安装并配置了SID为<code class="codeph">dg4odbc</code> 。
                           </p>
                        </li>
                        <li>
                           <p>网关配置为访问名为<code class="codeph">dsn1</code>一个ODBC数据源。
                           </p>
                        </li>
                        <li>
                           <p>正在添加两个名为dsn2和dsn3的ODBC数据源，其中dsn2和dsn3是Microsoft Windows ODBC数据源管理器中定义的系统DSN的名称。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="OTGIW1238"></a><a id="OTGIW1239"></a><a id="OTGIW1040"></a><div class="props_rev_3"><a id="GUID-A5484CCC-67C5-465E-AAC9-6BFF638B4B77" name="GUID-A5484CCC-67C5-465E-AAC9-6BFF638B4B77"></a><h4 id="OTGIW-GUID-A5484CCC-67C5-465E-AAC9-6BFF638B4B77" class="sect4">多个ODBC数据源示例：配置网关</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-A5484CCC-67C5-465E-AAC9-6BFF638B4B77__GUID-2A985655-86DD-420D-93D5-D568F1689C25">为每个ODBC数据源选择一个系统ID</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>每个ODBC数据源都需要一个单独的网关实例。每个实例都需要自己的网关系统ID（SID）。对于此示例，为访问ODBC数据源的实例选择网关SID：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">dg4odbc2</code>用于访问数据源<code class="codeph">dsn2</code>的网关。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">dg4odbc3</code>用于访问数据源<code class="codeph">dsn3</code>的网关。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A5484CCC-67C5-465E-AAC9-6BFF638B4B77__GUID-4690C7A8-A9AF-48EE-BC15-74EAB4B59CDB">创建两个初始化参数文件</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>通过复制原始初始化参数文件： <span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\hs\admin\initdg4odbc.ora</code>两次，为每个网关实例创建一个初始化参数文件，命名一个用于<code class="codeph">dsn2</code>的网关SID， <code class="codeph">dsn3</code>用于<code class="codeph">dsn3</code>的网关SID：</p><pre class="oac_no_warn" dir="ltr">&gt; cd <span class="italic">ORACLE_HOME</span> \ hs \ admin&gt; copy initdg4odbc.ora initdg4odbc2.ora&gt; copy initdg4odbc.ora initdg4odbc3.ora</pre><p>更改新文件中<code class="codeph">HS_FDS_CONNECT_INFO</code>参数的值，如下所示：</p>
                        <p>对于<code class="codeph">initdg4odbc2.ora</code> ，请输入以下内容：</p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO = DSN2</pre><p>对于<code class="codeph">initdg4odbc3.ora</code> ，请输入以下内容：</p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO = dsn3</pre><div class="infoboxnote" id="GUID-A5484CCC-67C5-465E-AAC9-6BFF638B4B77__GUID-93261D1F-2374-4D37-8F49-917787F6C6BE">
                           <p class="notep1">注意：</p>
                           <p>如果您有相同ODBC数据源的多个网关SID，因为您希望在不同时间使用不同的网关参数设置，请遵循相同的过程。您可以创建多个初始化参数文件，每个文件具有不同的SID和不同的参数设置。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIW1240"></a><a id="OTGIW1041"></a><div class="props_rev_3"><a id="GUID-4E855526-3313-4EC8-8E0F-7312575E6591" name="GUID-4E855526-3313-4EC8-8E0F-7312575E6591"></a><h4 id="OTGIW-GUID-4E855526-3313-4EC8-8E0F-7312575E6591" class="sect4">多个ODBC数据源示例：配置Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-4E855526-3313-4EC8-8E0F-7312575E6591__GUID-EB39F76E-A7F0-4B76-87CF-466CA8D8E2AC">将条目添加到listener.ora</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在Oracle Net Listener配置文件中添加两个新条目， <span class="bold"> </span> <code class="codeph">listener.ora</code> 。即使多个网关实例访问同一数据库，您也必须为每个网关实例提供一个条目。
                        </p>
                        <p>以下示例首先显示原始安装网关的条目，然后显示新条目：</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =（SID_NAME = dg4odbc）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4odbc））（SID_DESC =（SID_NAME = dg4odbc2）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4odbc））（SID_DESC =（SID_NAME = dg4odbc3） ）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4odbc）））</pre><p>其中， <code class="codeph">oracle_home_directory</code>是网关所在的目录。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIW1042"></a><div class="props_rev_3"><a id="GUID-1179D8CD-C148-4D0A-A850-BC1FAD14FD9D" name="GUID-1179D8CD-C148-4D0A-A850-BC1FAD14FD9D"></a><h4 id="OTGIW-GUID-1179D8CD-C148-4D0A-A850-BC1FAD14FD9D" class="sect4">多个ODBC数据源示例：停止和启动Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>执行以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>从“ <span class="bold">开始”</span>菜单中选择<span class="bold">“设置”</span> ，“ <span class="bold">控制面板”</span> ，然后选择“ <span class="bold">服务”</span></span></li>
                        <li><span>选择网关的Oracle Net Listener服务。</span></li>
                        <li><span>单击<span class="bold">停止</span> 。</span></li>
                        <li><span>单击<span class="bold">开始</span> 。</span></li>
                     </ol>
                  </div>
               </div><a id="OTGIW1043"></a><div class="props_rev_3"><a id="GUID-9989AE40-8D72-4D84-9BE2-693B68931778" name="GUID-9989AE40-8D72-4D84-9BE2-693B68931778"></a><h4 id="OTGIW-GUID-9989AE40-8D72-4D84-9BE2-693B68931778" class="sect4">多个ODBC数据源示例：为网关访问配置Oracle数据库</h4>
                  <div>
                     <div class="section">
                        <p>将两个连接描述符条目添加到<code class="codeph">tnsnames.ora</code>文件中。即使网关实例访问同一数据库，您也必须为每个网关实例创建一个条目。
                        </p>
                        <p>以下示例首先显示原始安装网关的条目，然后显示新网关实例的两个条目：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">old_dsn_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name））（CONNECT_DATA =（SID = dg4odbc））（HS = OK）） <span class="italic">new_dsn2_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name））（CONNECT_DATA =（SID = dg4odbc2））（HS = OK）） <span class="italic">new_dsn3_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name ））（CONNECT_DATA =（SID = dg4odbc3））（HS = OK））</pre><p><code class="codeph">PORT</code>的值是正在侦听网关的Oracle Net Listener的TCP / IP端口号。该数字可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。<code class="codeph">HOST</code>的值是运行网关的计算机的名称。该名称也可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIW1044"></a><div class="props_rev_3"><a id="GUID-DF24AFAA-CB8E-41FA-B9A9-58C0C9D31573" name="GUID-DF24AFAA-CB8E-41FA-B9A9-58C0C9D31573"></a><h4 id="OTGIW-GUID-DF24AFAA-CB8E-41FA-B9A9-58C0C9D31573" class="sect4">多个ODBC数据源示例：访问ODBC数据</h4>
                  <div>
                     <div class="section">
                        <p>输入以下内容<code class="codeph">dg4odbc2</code>网关创建数据库链接：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK ODBC2 CONNECT TO 2 <span class="italic">“user2”</span> IDENTIFIED BY <span class="italic">“password2</span> ”USING'new_dsn2_using';</pre><p>输入以下内容<code class="codeph">dg4odbc3</code>网关创建数据库链接：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK ODBC3 CONNECT TO 2“ <span class="italic">user3”</span> IDENTIFIED BY <span class="italic">“password3”</span> USING'new_dsn3_using';</pre><p>创建数据库链接后，您可以验证与新ODBC数据源的连接，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM ALL_USERS @ ODBC2;</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM ALL_USERS @ ODBC3;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="06022.mirroring-diskgroup-redundancy.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle ASM镜像和磁盘组冗余</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96198-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="capacity-diskgroups.html" title="Previous" type="text/html"></link>
      <link rel="next" href="performance-scability-diskgroup.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OSTMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="capacity-diskgroups.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="performance-scability-diskgroup.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-instance-diskgroup.html" property="item" typeof="WebPage"><span property="name">Oracle ASM实例和磁盘组</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="admin-asm-diskgroups.html" property="item" typeof="WebPage"><span property="name">管理Oracle ASM磁盘组</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle ASM镜像和磁盘组冗余</li>
            </ol>
            <a id="GUID-76B31808-7017-4299-8CC2-EDD9FFEC4B37" name="GUID-76B31808-7017-4299-8CC2-EDD9FFEC4B37"></a><a id="OSTMG13711"></a>
            
            <h2 id="OSTMG-GUID-76B31808-7017-4299-8CC2-EDD9FFEC4B37" class="sect2">Oracle ASM镜像和磁盘组冗余</h2>
         </header>
         <div class="ind">
            <div>
               <p>本节包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="mirroring-diskgroup-redundancy.html#GUID-C93FC8D9-5FB8-452B-860F-EFB4D3DE95BD">镜像，冗余和故障组选项</a></p>
                  </li>
                  <li>
                     <p><a href="mirroring-diskgroup-redundancy.html#GUID-CF8EC329-446D-4A7B-B252-76AC9F40CA45">Oracle ASM从读写I / O错误中恢复</a></p>
                  </li>
                  <li>
                     <p><a href="mirroring-diskgroup-redundancy.html#GUID-56B52297-F4E2-4D36-A573-3200A0C78D31">Oracle ASM快速镜像重新同步</a></p>
                  </li>
                  <li>
                     <p><a href="mirroring-diskgroup-redundancy.html#GUID-C0EF42F0-4C35-4ACA-AF10-FA98A952B244">首选读取失败组</a></p>
                  </li>
               </ul>
            </div><a id="OSTMG94126"></a><a id="OSTMG10046"></a><div class="props_rev_3"><a id="GUID-C93FC8D9-5FB8-452B-860F-EFB4D3DE95BD" name="GUID-C93FC8D9-5FB8-452B-860F-EFB4D3DE95BD"></a><h3 id="OSTMG-GUID-C93FC8D9-5FB8-452B-860F-EFB4D3DE95BD" class="sect3">镜像，冗余和故障组选项</h3>
               <div>
                  <p>如果为文件指定镜像，则Oracle ASM会自动将文件扩展区的冗余副本存储在单独的故障组中。故障组适用于普通，高，弹性和扩展冗余磁盘组。您可以在创建或更改磁盘组时为每个磁盘组定义故障组。</p>
                  <p>根据Oracle ASM冗余级别，有多种类型的磁盘组。<a href="mirroring-diskgroup-redundancy.html#GUID-C93FC8D9-5FB8-452B-860F-EFB4D3DE95BD__BABFGFEF" title="此表列出了磁盘组的类型以及每个磁盘组支持的镜像选项。">表4-2</a>列出了支持的类型和默认镜像级别。默认镜像级别表示创建每个文件的镜像级别，除非指定了不同的镜像级别。
                  </p>
                  <div class="tblformal" id="GUID-C93FC8D9-5FB8-452B-860F-EFB4D3DE95BD__BABFGFEF">
                     <p class="titleintable">表4-2 Oracle ASM磁盘组类型的镜像选项</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle ASM磁盘组类型的镜像选项" width="100%" border="1" summary="This table lists the types of disk groups and the mirroring options supported by each." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d31054e356">磁盘组类型</th>
                              <th align="left" valign="bottom" width="39%" id="d31054e359">支持的镜像级别</th>
                              <th align="left" valign="bottom" width="31%" id="d31054e362">默认镜像级别</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d31054e367" headers="d31054e356 ">
                                 <p>外部冗余</p>
                              </td>
                              <td align="left" valign="top" width="39%" headers="d31054e367 d31054e359 ">
                                 <p>不受保护（无）</p>
                              </td>
                              <td align="left" valign="top" width="31%" headers="d31054e367 d31054e362 ">
                                 <p>无保护</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d31054e377" headers="d31054e356 ">
                                 <p>正常冗余</p>
                              </td>
                              <td align="left" valign="top" width="39%" headers="d31054e377 d31054e359 ">
                                 <p>双向，三向，无保护（无）</p>
                              </td>
                              <td align="left" valign="top" width="31%" headers="d31054e377 d31054e362 ">
                                 <p>双向</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d31054e387" headers="d31054e356 ">
                                 <p>高冗余</p>
                              </td>
                              <td align="left" valign="top" width="39%" headers="d31054e387 d31054e359 ">
                                 <p>三通</p>
                              </td>
                              <td align="left" valign="top" width="31%" headers="d31054e387 d31054e362 ">
                                 <p>三通</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d31054e397" headers="d31054e356 ">
                                 <p>FLEX冗余</p>
                              </td>
                              <td align="left" valign="top" width="39%" headers="d31054e397 d31054e359 ">
                                 <p>双向，三向，无保护（无）</p>
                              </td>
                              <td align="left" valign="top" width="31%" headers="d31054e397 d31054e362 ">
                                 <p>双向（新创建）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d31054e407" headers="d31054e356 ">
                                 <p>扩展冗余</p>
                              </td>
                              <td align="left" valign="top" width="39%" headers="d31054e407 d31054e359 ">
                                 <p>双向，三向，无保护（无）</p>
                              </td>
                              <td align="left" valign="top" width="31%" headers="d31054e407 d31054e362 ">
                                 <p>双向</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>对于普通和高磁盘组类型，冗余级别控制在不卸载磁盘组或丢失数据的情况下可容忍的磁盘故障数。每个文件都是根据自己的冗余分配的，但默认值来自磁盘组。</p>
                  <p>对于flex组类型，在卸载故障组数量之前允许的故障数量。对于五个或更多故障组，可以容忍两个磁盘故障。对于三个或四个故障组，可以容忍一个磁盘故障。</p>
                  <p>对于扩展磁盘组类型，每个站点类似于Flex磁盘组。如果站点有五个或更多故障组，则在站点受到危害之前，可以容忍站点中的两个磁盘故障。如果站点有三个或四个故障组，则站点可以在站点受到威胁之前容忍一个磁盘故障。当两个站点遭到入侵时，磁盘组将卸载。扩展磁盘组每个数据站点至少需要三个故障组。</p>
                  <p>对于Flex和扩展磁盘组，镜像描述磁盘组中文件的可用性，而不是磁盘组本身。例如：如果文件在具有五个故障组的Flex磁盘组中不受保护，则在一次故障后仍会装入磁盘组，但该文件将变为不可用。</p>
                  <p>冗余级别为：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>外部冗余</p>
                        <p>Oracle ASM不提供镜像冗余，并依赖存储系统来提供RAID功能。任何写入错误都会导致强制卸载磁盘组。必须找到所有磁盘才能成功装入磁盘组。</p>
                     </li>
                     <li>
                        <p>正常冗余</p>
                        <p>Oracle ASM默认提供双向镜像，这意味着镜像所有文件，以便每个范围有两个副本。丢失一个Oracle ASM磁盘。您可以选择三向或不受保护的镜像。</p>
                        <p>在<code class="codeph">NORMAL</code>冗余磁盘组中使用<code class="codeph">HIGH</code>冗余（三向镜像）指定的文件可为一个磁盘中的坏磁盘扇区提供额外保护，另外还可防止另一个磁盘发生故障。但是，此方案无法防止两个磁盘发生故障。
                        </p>
                     </li>
                     <li>
                        <p>高冗余</p>
                        <p>Oracle ASM默认提供三向（三重）镜像。可以容忍在不同故障组中丢失两个Oracle ASM磁盘。</p>
                     </li>
                     <li>
                        <p>FLEX冗余</p>
                        <p>默认情况下，Oracle ASM为新创建的Flex磁盘组提供双向镜像。对于迁移的Flex磁盘组，默认值是在迁移之前从普通或高冗余磁盘组中的模板值获取的。对于从正常冗余迁移，如果未更改模板默认值，则flex默认值为双向镜像。对于从高冗余迁移，如果未更改模板默认值，则弹性默认值为三向镜像。</p>
                     </li>
                     <li>
                        <p>扩展冗余</p>
                        <p>Oracle ASM默认提供双向镜像。冗余设置描述数据站点内的冗余。例如：如果双数据站点扩展磁盘组中存在双向镜像文件，则该文件有四个副本，每个数据站点有两个副本。</p>
                     </li>
                  </ul>
                  <p>Flex或扩展磁盘组中的Oracle ASM文件组可以具有不同的冗余级别。</p>
                  <p>如果没有足够的联机故障组来满足磁盘组文件类型模板中指定的文件镜像（冗余属性值），则Oracle ASM会分配尽可能多的镜像副本，并在有足够的联机故障组可用时分配剩余的镜像。</p>
                  <p>故障组启用元数据和用户数据的镜像。如果您的环境中故障组数量不足，系统可靠性会降低。</p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="mirroring-diskgroup-redundancy.html#GUID-9AAB5AE7-D819-4CDA-9552-4B41C3383C73">Oracle ASM故障组</a></p>
                     </li>
                     <li>
                        <p><a href="mirroring-diskgroup-redundancy.html#GUID-378F26F8-00E2-4058-9AE1-D312633D4D81">Oracle ASM如何管理磁盘故障</a></p>
                     </li>
                     <li>
                        <p><a href="mirroring-diskgroup-redundancy.html#GUID-D76AC1D7-E328-46C2-9091-B20381008652">使用故障组的准则</a></p>
                     </li>
                     <li>
                        <p><a href="mirroring-diskgroup-redundancy.html#GUID-3EB16BAE-32B1-4E8C-A950-9B2636F122BA">失败小组常见问题</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-C93FC8D9-5FB8-452B-860F-EFB4D3DE95BD__GUID-1AE1FB85-F642-4D88-B154-7AB65F751F1D">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关Oracle ASM Flex磁盘组，扩展磁盘组和文件组的信息，请<a href="asm-filegroups.html#GUID-1A056184-65E1-449C-B36A-83AF259A2309" title="Oracle ASM提供面向数据库的存储管理，包括flex和扩展磁盘组。">管理Oracle ASM Flex Disk Groups</a></p>
                        </li>
                        <li>
                           <p><a href="asm-files-directories-templates.html#GUID-5C902590-C607-44E8-B32D-9505E9B8C3EE" title="模板用于设置在Oracle ASM磁盘组中创建的文件的属性。">管理磁盘组模板</a>以获取有关指定Oracle ASM磁盘组模板的信息</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="OSTMG94127"></a><div class="props_rev_3"><a id="GUID-9AAB5AE7-D819-4CDA-9552-4B41C3383C73" name="GUID-9AAB5AE7-D819-4CDA-9552-4B41C3383C73"></a><h4 id="OSTMG-GUID-9AAB5AE7-D819-4CDA-9552-4B41C3383C73" class="sect4">Oracle ASM故障组</h4>
                  <div>
                     <p>故障组用于存储数据的镜像副本。当Oracle ASM为正常冗余文件分配扩展区时，Oracle ASM会分配主副本和辅助副本。Oracle ASM选择存储辅助副本的磁盘，以使其位于与主副本不同的故障组中。每个副本都位于不同故障组的磁盘上，因此故障组中所有磁盘的同时故障不会导致数据丢失。</p>
                     <p>故障组是磁盘组中磁盘的子集，由于它们共享硬件，因此可能同时发生故障。必须容忍通用硬件的故障。位于大型JBOD（Just a Bunch of Disks）阵列的单个可移动托盘中的四个驱动器应位于同一故障组中，因为可以移除托盘，使所有四个驱动器同时发生故障。如果机柜具有冗余电源和冷却，则同一机柜中的驱动器可能处于多个故障组中，因此无需防止整个机柜发生故障。但是，Oracle ASM镜像并非旨在防止破坏整个机柜的计算机房发生火灾。</p>
                     <p>即使未明确创建故障组，也始终存在故障组。如果未指定磁盘的故障组，则Oracle会自动创建仅包含该磁盘的新故障组，但Oracle Exadata单元上包含磁盘的磁盘组除外。</p>
                     <p>普通冗余磁盘组必须至少包含两个故障组。高冗余磁盘组必须至少包含三个故障组。但是，Oracle建议使用更多故障组。少数故障组或容量不均的故障组可能会产生分配问题，导致无法充分利用所有可用存储。</p>
                     <p>对于正常冗余磁盘组，Oracle建议至少使用三个故障组，对于高冗余磁盘组，Oracle建议至少使用五个故障组，以维护合作伙伴状态表（PST）所需的副本数量，并确保存储硬件故障的稳健性。</p>
                     <p>在系统出现故障的情况下，正常冗余磁盘组中的三个故障组允许在三个PST之间进行比较，以准确确定PST的最新版本和正确版本，仅通过两个PST之间的比较无法做到这一点。 。与高冗余磁盘组类似，如果两个故障组脱机，则Oracle ASM可以在剩余的三个PST之间进行比较。</p>
                     <p>如果配置额外故障组存在存储容量管理问题，则可以使用仲裁故障组作为额外故障组来存储PST的副本。仲裁失败组不需要与其他失败组相同的容量。</p>
                     <p>可以将故障组指定为常规或仲裁故障组。有关仲裁失败组的信息，请参阅<a href="create-diskgroups.html#GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE" title="您可以在Oracle ASM磁盘组中存储Oracle Cluster Registry（OCR）和投票文件。">在Oracle ASM磁盘组中存储Oracle Cluster Registry和Voting Files</a> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-9AAB5AE7-D819-4CDA-9552-4B41C3383C73__GUID-0001A5A4-42A2-4995-8619-58513F9CC54F">
                        <p class="notep1">也可以看看：</p>
                        <p>有关Oracle Exadata故障组的信息的<span class="italic">Oracle Exadata文档</span></p>
                     </div>
                  </div>
               </div><a id="OSTMG10043"></a><div class="props_rev_3"><a id="GUID-378F26F8-00E2-4058-9AE1-D312633D4D81" name="GUID-378F26F8-00E2-4058-9AE1-D312633D4D81"></a><h4 id="OSTMG-GUID-378F26F8-00E2-4058-9AE1-D312633D4D81" class="sect4">Oracle ASM如何管理磁盘故障</h4>
                  <div>
                     <p><a id="d31054e828" class="indexterm-anchor"></a><a id="d31054e832" class="indexterm-anchor"></a><a id="d31054e836" class="indexterm-anchor"></a>根据磁盘组的冗余级别以及如何定义故障组，一个或多个磁盘发生故障可能导致以下任一情况：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>磁盘首先脱机然后自动删除。在这种情况下，磁盘组保持安装和可维护状态。此外，由于镜像，所有磁盘组数据仍可访问。磁盘丢弃操作后，Oracle ASM执行重新平衡以恢复故障磁盘上的数据的完全冗余。</p>
                        </li>
                        <li>
                           <p>整个磁盘组将自动卸载，这意味着数据可访问性丢失。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="OSTMG94128"></a><div class="props_rev_3"><a id="GUID-D76AC1D7-E328-46C2-9091-B20381008652" name="GUID-D76AC1D7-E328-46C2-9091-B20381008652"></a><h4 id="OSTMG-GUID-D76AC1D7-E328-46C2-9091-B20381008652" class="sect4">使用故障组的准则</h4>
                  <div>
                     <p><a id="d31054e987" class="indexterm-anchor"></a>以下是使用故障组的准则：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>磁盘组中的每个磁盘只能属于一个故障组。</p>
                        </li>
                        <li>
                           <p>失败组应该都是相同的大小。不同大小的故障组可能导致可用性降低。</p>
                        </li>
                        <li>
                           <p>Oracle ASM至少需要两个故障组才能创建正常冗余磁盘组，并且至少需要三个故障组才能创建高冗余磁盘组。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="OSTMG94129"></a><a id="OSTMG94130"></a><a id="OSTMG94131"></a><a id="OSTMG10090"></a><div class="props_rev_3"><a id="GUID-3EB16BAE-32B1-4E8C-A950-9B2636F122BA" name="GUID-3EB16BAE-32B1-4E8C-A950-9B2636F122BA"></a><h4 id="OSTMG-GUID-3EB16BAE-32B1-4E8C-A950-9B2636F122BA" class="sect4">失败小组常见问题</h4>
                  <div>
                     <p>本节讨论以下主题下有关故障组的常见问题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="mirroring-diskgroup-redundancy.html#GUID-3EB16BAE-32B1-4E8C-A950-9B2636F122BA__CHDIDIJH">我应该创建多少个故障组？</a></p>
                        </li>
                        <li>
                           <p><a href="mirroring-diskgroup-redundancy.html#GUID-3EB16BAE-32B1-4E8C-A950-9B2636F122BA__CHDGECFE">如何在同时发生故障后恢复多个故障组？</a></p>
                        </li>
                        <li>
                           <p><a href="mirroring-diskgroup-redundancy.html#GUID-3EB16BAE-32B1-4E8C-A950-9B2636F122BA__CHDBEGAJ">何时应使用外部，正常或高冗余？</a></p>
                        </li>
                     </ul>
                     <div class="section" id="GUID-3EB16BAE-32B1-4E8C-A950-9B2636F122BA__CHDIDIJH">
                        <p class="subhead3" id="GUID-3EB16BAE-32B1-4E8C-A950-9B2636F122BA__GUID-F3D9E75D-1413-4288-95E0-4DB40982401C">我应该创建多少个故障组？</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>选择要创建的故障组的数量取决于在没有数据丢失的情况下必须容忍的故障类型。对于少量磁盘（例如少于20个），通常最好使用默认故障组创建，将每个磁盘放入其自己的故障组中。</p>
                        <p>对少量磁盘使用默认故障组创建也适用于主要关注磁盘故障的大量磁盘。例如，磁盘组可能由几个小型模块化磁盘阵列配置。如果系统必须在整个模块阵列发生故障时继续运行，则故障组应包含一个模块中的所有磁盘。如果一个模块发生故障，则该模块上的所有数据都将重新定位到其他模块以恢复冗余。如果磁盘依赖于必须容忍故障并且不会丢失可用性的通用硬件，则应将磁盘置于同一故障组中。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-3EB16BAE-32B1-4E8C-A950-9B2636F122BA__CHDGECFE">
                        <p class="subhead3" id="GUID-3EB16BAE-32B1-4E8C-A950-9B2636F122BA__GUID-ECEAB2DD-F4E3-4580-9CAA-EC984BC01863">如何在同时发生故障后恢复多个故障组？</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果多个故障组使用的硬件发生故障，则可能同时发生故障。如果所有磁盘都不可用，则此类故障通常会强制卸载磁盘组。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-3EB16BAE-32B1-4E8C-A950-9B2636F122BA__CHDBEGAJ">
                        <p class="subhead3" id="GUID-3EB16BAE-32B1-4E8C-A950-9B2636F122BA__GUID-6641B7F0-1E20-4343-A017-3C4C16DC445E">何时应使用外部，正常或高冗余？</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Oracle ASM镜像在数据库服务器上运行，Oracle建议使用外部冗余将此处理卸载到存储硬件RAID控制器。您可以在以下方案中使用常规冗余：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>存储系统没有RAID控制器</p>
                           </li>
                           <li>
                              <p>跨存储阵列镜像</p>
                           </li>
                           <li>
                              <p>扩展群集配置</p>
                           </li>
                        </ul>
                        <p>通常，Oracle ASM镜像是第三方逻辑卷管理器的Oracle替代方案。Oracle ASM镜像消除了在Oracle数据库环境中部署额外的软件复杂性层。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OSTMG94132"></a><div class="props_rev_3"><a id="GUID-CF8EC329-446D-4A7B-B252-76AC9F40CA45" name="GUID-CF8EC329-446D-4A7B-B252-76AC9F40CA45"></a><h3 id="OSTMG-GUID-CF8EC329-446D-4A7B-B252-76AC9F40CA45" class="sect3">Oracle ASM从读写I / O错误中恢复</h3>
               <div>
                  <p><a id="d31054e1345" class="indexterm-anchor"></a><a id="d31054e1349" class="indexterm-anchor"></a>读取错误可能是由于无法访问整个磁盘或其他健康磁盘上的介质损坏。Oracle ASM尝试从磁盘上已损坏扇区的读取错误中恢复。当数据库或Oracle ASM的读取错误触发Oracle ASM实例尝试重新块重新映射时，Oracle ASM会读取扩展区的正确副本并将其复制到具有读取错误的磁盘。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果对同一位置的写入成功，则认为基础分配单元（扇区）是健康的。这可能是因为底层磁盘执行了自己的坏块重新分配。</p>
                     </li>
                     <li>
                        <p>如果写入失败，Oracle ASM会尝试将范围写入同一磁盘上的新分配单元。如果此写入成功，则原始分配单元将标记为不可用。如果写入失败，则磁盘将脱机。</p>
                     </li>
                  </ul>
                  <p>基于Oracle ASM的镜像的一个独特优势是数据库实例知道镜像。对于许多类型的逻辑损坏，例如错误的校验和或不正确的系统变更号（SCN），数据库实例通过镜像端进行查找有效内容并继续进行而不会出现错误。如果数据库中遇到读取的进程可以获得适当的锁以确保数据一致性，则会将正确的数据写入所有镜像端。</p>
                  <p><a id="d31054e1364" class="indexterm-anchor"></a><a id="d31054e1368" class="indexterm-anchor"></a>遇到写入错误时，数据库实例会向Oracle ASM实例发送<span class="italic">磁盘</span> <span class="italic">脱机</span>消息。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果数据库可以成功完成对至少一个扩展区副本的写入并从Oracle ASM接收脱机磁盘的确认，则认为写入成功。</p>
                     </li>
                     <li>
                        <p>如果对所有镜像端的写入失败，则数据库会采取适当的操作来响应写入错误，例如使表空间脱机。</p>
                     </li>
                  </ul>
                  <p>当Oracle ASM实例从数据库实例收到写入错误消息或Oracle ASM实例本身遇到写入错误时，Oracle ASM实例会尝试使磁盘脱机。Oracle ASM查询合作伙伴状态表（PST）以查看磁盘的任何合作伙伴是否处于脱机状态。如果有太多合作伙伴脱机，Oracle ASM会强制卸载磁盘组。否则，Oracle ASM会使磁盘脱机。</p>
                  <p>引入了ASMCMD重<code class="codeph">remap</code>命令以解决磁盘上存在一系列坏扇区并且必须在Oracle ASM或数据库I / O之前更正的情况。有关<code class="codeph">remap</code>命令的信息，请参阅<a href="asmcmd-diskgroup-commands.html#GUID-EB28910C-7436-4C14-8DA7-028055A684ED">remap</a> 。
                  </p>
               </div>
            </div><a id="OSTMG10044"></a><div class="props_rev_3"><a id="GUID-56B52297-F4E2-4D36-A573-3200A0C78D31" name="GUID-56B52297-F4E2-4D36-A573-3200A0C78D31"></a><h3 id="OSTMG-GUID-56B52297-F4E2-4D36-A573-3200A0C78D31" class="sect3">Oracle ASM快速镜像重新同步</h3>
               <div>
                  <p>在发生瞬时磁盘路径故障后恢复Oracle ASM磁盘组的冗余可能非常耗时。如果恢复过程需要重建整个Oracle ASM磁盘组，则尤其如此。在这种情况下，Oracle ASM快速镜像重新同步可显着减少重新同步故障磁盘的时间。更换故障磁盘时，Oracle ASM可以快速重新同步Oracle ASM磁盘范围。</p>
                  <div class="infoboxnote" id="GUID-56B52297-F4E2-4D36-A573-3200A0C78D31__GUID-E193F684-F6F4-4545-B7BE-22EF2CE494B3">
                     <p class="notep1">注意：</p>
                     <p>要使用此功能，磁盘组兼容性属性必须设置为<code class="codeph">11.1</code>或更高。
                     </p>
                  </div>
                  <p>使故障组暂时不可用的任何问题都被视为瞬态故障，可通过Oracle ASM快速镜像重新同步功能恢复。例如，瞬态故障可能由磁盘路径故障引起，例如电缆故障，主机总线适配器故障，控制器故障或磁盘电源中断。</p>
                  <p>Oracle ASM快速重新同步会在中断期间跟踪脱机磁盘上的扩展区的挂起更改。磁盘重新联机时，范围将重新同步。</p>
                  <p>默认情况下，Oracle ASM在脱机后的12小时内丢弃磁盘。您可以通过指定修复磁盘并使其恢复联机的时间间隔来设置<code class="codeph">DISK_REPAIR_TIME</code>磁盘组属性以延迟放置操作。时间可以以分钟（ <code class="codeph">m</code>或<code class="codeph">M</code> ）或小时（ <code class="codeph">h</code>或<code class="codeph">H</code> ）为单位指定。如果省略该单位，则默认单位为小时。<code class="codeph">DISK_REPAIR_TIME</code>磁盘组属性只能使用<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> SQL语句设置，并且仅适用于普通和高冗余磁盘组。
                  </p>
                  <p>如果未显式设置该属性，则默认值（ <code class="codeph">12h</code> ）适用于已设置为<code class="codeph">OFFLINE</code>模式而没有显式<code class="codeph">DROP</code> <code class="codeph">AFTER</code>子句的磁盘。由于I / O错误而脱机的磁盘没有<code class="codeph">DROP</code> <code class="codeph">AFTER</code>子句。
                  </p>
                  <p>默认的<code class="codeph">DISK_REPAIR_TIME</code>属性值是对大多数环境应该足够的估计值。但是，请确保将属性值设置为您认为在环境中修复任何瞬态磁盘错误所需的时间量，并且在此期间您可以容忍减少的数据冗余。
                  </p>
                  <p>经过的时间（自磁盘设置为<code class="codeph">OFFLINE</code>模式）仅在装入包含脱机磁盘的磁盘组时递增。<code class="codeph">V$ASM_DISK</code>的<code class="codeph">REPAIR_TIMER</code>列显示删除脱机磁盘之前剩余的时间（以秒为单位）。经过指定的时间后，Oracle ASM会删除磁盘。您可以使用<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">OFFLINE</code> <code class="codeph">DISK</code>语句和<code class="codeph">DROP</code> <code class="codeph">AFTER</code>子句覆盖此属性。
                  </p>
                  <div class="infoboxnote" id="GUID-56B52297-F4E2-4D36-A573-3200A0C78D31__GUID-A6CC7523-13EE-46B4-A8C9-99E9F5A1570E">
                     <p class="notep1">注意：</p>
                     <p>如果由于I / O（写入）错误而导致Oracle ASM脱机，或使用<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code>明确脱机...<code class="codeph">OFFLINE</code>没有<code class="codeph">DROP</code> <code class="codeph">AFTER</code>子句的<code class="codeph">OFFLINE</code>语句中，将使用为磁盘组的<code class="codeph">DISK_REPAIR_TIME</code>属性指定的值。
                     </p>
                     <p>更改<code class="codeph">DISK_REPAIR_TIME</code>属性对脱机磁盘没有影响。新值用于更新属性后脱机的任何磁盘。您可以通过查看Oracle ASM警报日志来确认此行为。
                     </p>
                  </div>
                  <p>如果脱机磁盘第二次脱机，则重置并重新启动已用时间。如果使用此磁盘的<code class="codeph">DROP</code> <code class="codeph">AFTER</code>子句指定了另一个时间，则会覆盖第一个值并应用新值。使用<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">DROP</code> <code class="codeph">DISK</code>语句不能删除处于<code class="codeph">OFFLINE</code>模式的<code class="codeph">DISK</code> ;如果尝试，则返回错误。如果由于某种原因必须在修复时间到期之前丢弃磁盘（例如磁盘无法修复），则可以通过发出第二个<code class="codeph">OFFLINE</code>语句并使用指定<code class="codeph">0h</code>或<code class="codeph">0m</code>的<code class="codeph">DROP</code> <code class="codeph">AFTER</code>子句立即删除磁盘。
                  </p>
                  <p>您可以使用<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code>将<code class="codeph">DISK_REPAIR_TIME</code>属性设置为指定的小时或分钟值，例如6小时或360分钟。例如：</p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP数据SET ATTRIBUTE'disk_repair_time'='6h'ALTER DISKGROUP数据SET ATTRIBUTE'disk_repair_time'='360m'</pre><p>修复磁盘后，运行SQL语句<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">ONLINE</code> <code class="codeph">DISK</code> 。此语句将已修复的磁盘组重新联机以启用写入，以便不会丢失新的写入。此语句还会启动一个过程，以复制冗余副本上标记为过时的所有扩展区。
                  </p>
                  <p>如果磁盘在Oracle ASM实例处于滚动升级模式时脱机，则磁盘将保持脱机状态，直到滚动升级结束，并且停止磁盘的计时器将停止，直到Oracle ASM集群超出滚动升级模式。将磁盘脱机并使其联机的示例如下。</p>
                  <p>以下示例将磁盘<code class="codeph">DATA_001</code>脱机并在十五分钟后将其丢弃。
                  </p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP数据离线DISK DATA_001 15米后丢弃;</pre><p>下一个示例使磁盘<code class="codeph">DATA_001</code>脱机并在<code class="codeph">DISK_REPAIR_TIME</code>指定的时间段过去之后将其<code class="codeph">DISK_REPAIR_TIME</code> ：</p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP数据OFFLINE DISK DATA_001;</pre><p>此示例使故障组<code class="codeph">FG2</code>所有磁盘脱机，并在<code class="codeph">DISK_REPAIR_TIME</code>指定的时间段过后将其<code class="codeph">DISK_REPAIR_TIME</code> 。如果使用<code class="codeph">DROP</code> <code class="codeph">AFTER</code>子句，则在指定时间后将丢弃磁盘：</p><pre class="oac_no_warn" dir="ltr">在FAILGROUP FG2中更改DISKGROUP数据离线磁盘;</pre><p>下一个示例将故障组<code class="codeph">FG2</code>所有磁盘联机：</p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP FAILGROUP FG2中的数据在线磁盘;</pre><p>此示例仅使磁盘<code class="codeph">DATA_001</code>在线：</p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP数据在线磁盘DATA_001;</pre><p>此示例将磁盘组<code class="codeph">DATA</code>所有磁盘联机：</p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP数据在线全部;</pre><p>运行<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">ONLINE</code>语句时查询<code class="codeph">V$ASM_OPERATION</code>视图会显示您正在执行的当前操作的名称和状态。例如，以下SQL查询在联机操作期间显示<code class="codeph">PASS</code>列中的值。
                  </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT GROUP_NUMBER，PASS，STATE FROM V $ ASM_OPERATION; GROUP_NUMBER PASS STAT ------------ --------- ---- 1 RESYNC RUN 1 REBALANCE WAIT 1 COMPACT WAIT</pre><p>脱机操作不会在<code class="codeph">V$ASM_OPERATION</code>视图查询中生成显示。
                  </p>
                  <p>重新同步检查点在发生故障时保持重新同步过程中的位置。如果重新同步过程或实例失败，则下一个重新同步操作将从上一个进程停止的位置继续，而不是从开始或重新同步过程开始。</p>
                  <p>您可以设置<code class="codeph">FAILGROUP_REPAIR_TIME</code>和<code class="codeph">CONTENT.TYPE</code>磁盘组属性。<code class="codeph">FAILGROUP_REPAIR_TIME</code>磁盘组属性指定磁盘组中故障组的默认修复时间。<code class="codeph">CONTENT.TYPE</code>磁盘组属性指定预期存储在磁盘组中的数据类型。您可以使用ASMCA，ASMCMD <code class="codeph">mkdg</code>或SQL <code class="codeph">CREATE</code>和<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code>语句设置这些属性。
                  </p>
                  <p>ASMCMD <code class="codeph">lsop</code>命令显示重新同步时间估计。对于不同的重新平衡阶段， <code class="codeph">V$ASM_OPERATION</code>表中有单独的行：磁盘重新同步，重新平衡和数据压缩。
                  </p>
                  <p>ASMCMD <code class="codeph">online</code>命令具有<code class="codeph">power</code>选项，用于指定在线操作的电源。SQL <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">REPLACE</code> <code class="codeph">DISK</code>语句也有power选项。
                  </p>
                  <p>除了<code class="codeph">add</code>和<code class="codeph">drop</code>标记之外，ASMCMD <code class="codeph">chdg</code>命令还提供<code class="codeph">replace</code>选项。ASMCMD <code class="codeph">mkdg</code>命令具有附加时间参数（ <code class="codeph">-t</code> ），用于指定故障组脱机的时间。
                  </p>
                  <div class="infoboxnotealso" id="GUID-56B52297-F4E2-4D36-A573-3200A0C78D31__GUID-0146265F-DCE8-4B81-93CE-6B8CC5298EB6">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="diskgroup-compatibility.html#GUID-FBB5AA72-5208-48E1-BD8D-0FD4C6876F34" title="您无法将磁盘组兼容性还原为以前的值。相反，您必须创建一个新磁盘组。该主题描述了由磁盘组兼容性属性设置的有效组合启用的Oracle ASM功能。如果提高了磁盘组兼容性，则可以启用创建太大而无法由以前版本的Oracle数据库管理的文件。">磁盘组兼容性</a>有关磁盘组兼容性的信息</p>
                        </li>
                        <li>
                           <p><a href="manage-diskgroup-attributes.html#GUID-28A6ABB3-0AAB-4F7F-A843-CD5187F4D8DC" title="您可以设置和显示磁盘组属性设置。CONTENT.CHECK属性在执行磁盘组的数据重定位操作时启用或禁用内容检查。CONTENT_HARDCHECK.ENABLED磁盘组属性在执行用于重新平衡磁盘组的数据复制操作时启用或禁用硬件辅助弹性数据（HARD）检查。在包含跨多个物理上分离的站点的节点的Oracle扩展群集中，PREFERRED_READ.ENABLED磁盘组属性控制是否为磁盘组启用首选读取功能。">管理磁盘组属性</a>以获取有关磁盘组属性的信息</p>
                        </li>
                        <li>
                           <p>有关升级Oracle ASM的信息，请参阅<span><cite>Oracle Grid Infrastructure安装和升级指南</cite></span>以及<a href="upgrade-patch-asm.html#GUID-383A26A4-AB4E-458B-AF6A-C9DA5E15AD2A" title="通过Oracle ASM滚动升级，您可以独立升级或修补集群Oracle ASM节点，而不会影响数据库可用性，从而提供更长的正常运行时间。您可以在集群Oracle ASM环境中应用修补程序，以便一次将一个节点更新到最新的修补程序级别，而不会影响Oracle ASM集群或使用Oracle ASM进行存储的数据库集群的整体可用性。">升级和修补</a> Oracle ASM</p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code>信息，请<a href="../sqlrf/ALTER-DISKGROUP.html#SQLRF01113" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code>信息，请<a href="../sqlrf/CREATE-DISKGROUP.html#SQLRF01114" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG10047"></a><div class="props_rev_3"><a id="GUID-C0EF42F0-4C35-4ACA-AF10-FA98A952B244" name="GUID-C0EF42F0-4C35-4ACA-AF10-FA98A952B244"></a><h3 id="OSTMG-GUID-C0EF42F0-4C35-4ACA-AF10-FA98A952B244" class="sect3">首选读取失败组</h3>
               <div>
                  <p>配置Oracle ASM故障组时，节点从最接近节点的范围读取可能更有效，即使该范围是辅助范围也是如此。换句话说，如果该范围更接近节点而不是从可能离节点更远的主副本读取Oracle ASM，则可以将Oracle ASM配置为从辅助扩展区读取。使用首选读取失败组功能在扩展群集中最有用。</p>
                  <p>要使用此功能，Oracle建议您从扩展群集中节点本地磁盘配置至少一个镜像扩展区副本。但是，对于一个实例首选的故障组可能远程到同一Oracle RAC数据库中的另一个实例。首选读取故障组的参数设置是特定于实例的。</p>
                  <div class="infoboxnote" id="GUID-C0EF42F0-4C35-4ACA-AF10-FA98A952B244__GUID-C9DF4E96-DE6C-469D-BB53-84B2AB8DE9B3">
                     <p class="notep1">注意：</p>
                     <p>在包含跨多个物理上分离的站点的节点的Oracle扩展群集中， <code class="codeph">PREFERRED_READ.ENABLED</code>磁盘组属性控制是否为磁盘组启用首选读取功能。如果启用了首选读取功能，则此功能使实例能够确定和读取与自身相同的站点上的磁盘，从而提高性能。无论是否已启用<code class="codeph">PREFERRED_READ.ENABLED</code> ，都可以使用<code class="codeph">ASM_PREFERRED_READ_FAILURE_GROUPS</code>初始化参数在Oracle ASM实例或集群中的客户端实例上的故障组级别设置首选读取，该参数可用于向后兼容。
                     </p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-C0EF42F0-4C35-4ACA-AF10-FA98A952B244__GUID-D839100E-A112-4A8B-AB69-BBA49D4F9D05">配置和管理首选读取失败组</p>
                     <p>要配置此功能，请设置<code class="codeph">ASM_PREFERRED_READ_FAILURE_GROUPS</code>初始化参数，以将故障组名称列表指定为首选读取磁盘。
                     </p>
                     <p>设置<span class="italic"><code class="codeph">diskgroup</code></span>是磁盘组名称的参数， <span class="italic"><code class="codeph">failuregroup</code></span>是故障组的名称，用句点分隔这些变量。如果命名磁盘组中不存在故障组，Oracle ASM将忽略您在此参数设置中使用的故障组的名称。您可以使用逗号作为分隔符附加多个值，如下所示：</p>
                     <p><code class="codeph">ASM_PREFERRED_READ_FAILURE_GROUPS</code> <code class="codeph">=</code> <span class="italic"><code class="codeph">diskgroup</code></span> 。 <span class="italic"><code class="codeph">failuregroup</code></span> ，......
                     </p>
                     <p>在扩展群集中，使用<code class="codeph">ASM_PREFERRED_READ_FAILURE_GROUPS</code>参数的设置指定的故障组应仅包含实例本地的磁盘。对于正常冗余磁盘组，扩展群集的每个站点上应该只有一个故障组。
                     </p>
                     <p>如果存在多个镜像副本，并且您已为<code class="codeph">ASM_PREFERRED_READ_FAILURE_GROUPS</code>参数设置了值，则Oracle ASM将首先读取驻留在首选读取磁盘上的副本。如果该读取失败，则Oracle ASM会尝试从可能不在首选读取磁盘上的下一个镜像副本进行读取。
                     </p>
                     <p>如果包含多个故障组的站点出现故障，则在一个站点上具有多个故障组可能会导致其他站点无法访问该磁盘组。此外，通过在站点上具有多个故障组，可能不会将范围镜像到另一个站点。这可能会降低其他站点上故障组的读取性能。</p>
                     <p>例如，对于普通冗余磁盘组，如果站点包含磁盘组的两个故障组，则Oracle ASM可能会将扩展区的两个镜像副本放在同一站点上。在此配置中，Oracle ASM无法防止站点故障导致的数据丢失。</p>
                     <p>对于高冗余磁盘组，您应在站点上配置最多两个故障组。如果扩展群集中有三个站点，由于前面提到的相同原因，那么您应该只创建一个故障组。</p>
                     <p>对于双站点扩展群集，普通冗余磁盘组仅具有两个故障组。在这种情况下，您只能将一个故障组指定为每个实例的首选读取故障组。</p>
                     <p>您可以使用视图来标识首选读取失败组，例如<code class="codeph">V$ASM_DISK</code>视图，该视图通过<code class="codeph">PREFERRED_READ</code>列中的值显示磁盘是否为首选读取磁盘。您还可以使用<code class="codeph">V$ASM_DISK</code>来验证扩展群集中的本地磁盘是否是首选读取磁盘。使用Oracle ASM磁盘I / O统计信息验证读取操作是否正在使用您配置的首选读取磁盘。
                     </p>
                     <p>如果未针对扩展群集优化配置磁盘组，则Oracle ASM会在警报日志中记录警告消息。要确定Oracle ASM首选读取失败组的特定性能问题，请使用<code class="codeph">V$ASM_DISK_IOSTAT</code>视图。此视图显示每个Oracle ASM客户端的磁盘I / O统计信息。您还可以在数据库实例上查询<code class="codeph">V$ASM_DISK_IOSTAT</code>视图。但是，此查询仅显示数据库实例的I / O统计信息。通常，最佳首选读取扩展群集配置可平衡磁盘组可用性。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Oracle ASM客户端和Oracle ASM都需要Oracle Database <span class="italic">11g</span>第1版（11.1）或更高版本才能使用首选读取失败组。
                     </p>
                     <div class="infoboxnote" id="GUID-C0EF42F0-4C35-4ACA-AF10-FA98A952B244__GUID-444D2522-E08B-445D-8A1A-09661680031A">
                        <p class="notep1">注意：</p>
                        <p>如果未指定磁盘组的故障组，则磁盘组中的每个磁盘都属于其自己的故障组。Oracle建议您不要在Oracle ASM实例的磁盘组中配置多个首选读取故障组。对于任何给定实例，如果在同一磁盘组中指定多个故障组作为首选读取，则会向警报日志写入警告消息。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-C0EF42F0-4C35-4ACA-AF10-FA98A952B244__GUID-0CECAB3B-7E94-42A9-838E-692600DD6D27">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="manage-diskgroup-attributes.html#GUID-F3E0FDDE-125D-4D7B-B3F5-8EE81DC1D3FB" title="在包含跨多个物理上分离的站点的节点的Oracle扩展群集中，PREFERRED_READ.ENABLED磁盘组属性控制是否为磁盘组启用首选读取功能。">PREFERRED_READ.ENABLED</a>有关<code class="codeph">PREFERRED_READ.ENABLED</code>磁盘组属性的信息</p>
                           </li>
                           <li>
                              <p><a href="init-params-asm-instance.html#GUID-C80F7E86-9937-434E-964F-6EED495BBF9E" title="ASM_PREFERRED_READ_FAILURE_GROUPS初始化参数值是逗号分隔的字符串列表，用于指定应由给定实例优先读取的故障组。">ASM_PREFERRED_READ_FAILURE_GROUPS</a>有关更多信息<code class="codeph">ASM_PREFERRED_READ_FAILURE_GROUPS</code>初始化参数</p>
                           </li>
                           <li>
                              <p><a href="../racad/administering-storage-in-oracle-rac.html#RACAD820" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”，</cite></span></a>以获取有关在扩展集群中配置首选读取磁盘的信息</p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">V$ASM</code> *动态性能视图的详细信息，请<a href="../refrn/dynamic-performance-views.html#REFRN003" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00568.jms-service-types-examples.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle Java消息服务类型示例</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Advanced Queuing User&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Advanced Queuing User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96511-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="jms-shared-interfaces.html" title="Previous" type="text/html"></link>
      <link rel="next" href="omg-introduction.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle® Database Advanced Queuing"></meta>
    <meta name="dcterms.isVersionOf" content="ADQUE"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="jms-shared-interfaces.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="omg-introduction.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">高级排队用户指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Java消息服务类型示例</li>
            </ol>
            <a id="GUID-07B1C510-0A70-4C98-9D16-AAC23578B66A" name="GUID-07B1C510-0A70-4C98-9D16-AAC23578B66A"></a><a id="ADQUE1600"></a>
            
            <h2 id="ADQUE-GUID-07B1C510-0A70-4C98-9D16-AAC23578B66A" class="sect2"><span class="enumeration_chapter">16</span> Oracle Java消息服务类型示例</h2>
         </header>
         <div class="ind">
            <div>
               <p>以下示例说明了如何使用Oracle JMS类型对Oracle数据库高级队列（AQ）消息进行<a href="glossary.html#GUID-BC8D60E8-953A-4C6C-8163-F7AE187B768B"><span class="xrefglossterm">出</span></a> <a href="glossary.html#GUID-B21E60F7-4BFA-42A2-9A8F-B781C2A55ED9"><span class="xrefglossterm">列</span></a>队列和<a href="glossary.html#GUID-B21E60F7-4BFA-42A2-9A8F-B781C2A55ED9"><span class="xrefglossterm">排队</span></a> 。
               </p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="jms-service-types-examples.html#GUID-D3F77697-9069-4D3D-9A5D-3D83245BE1F7">如何设置Oracle数据库高级队列JMS类型示例</a></p>
                  </li>
                  <li>
                     <p><a href="jms-service-types-examples.html#GUID-D2118ED4-285B-4C73-A88B-09B9F55BBB76">JMS BytesMessage示例</a></p>
                  </li>
                  <li>
                     <p><a href="jms-service-types-examples.html#GUID-2A106B5C-925F-4ED2-9C4D-331BAF261F66">JMS StreamMessage示例</a></p>
                  </li>
                  <li>
                     <p><a href="jms-service-types-examples.html#GUID-806DD371-1C4B-4176-98BF-70C4401C4AF3">JMS MapMessage示例</a></p>
                  </li>
                  <li>
                     <p><a href="jms-service-types-examples.html#GUID-CFB48BB3-9498-4AF2-904A-3D081E6B9A34">更多Oracle数据库高级队列JMS示例</a></p>
                  </li>
               </ul>
            </div><a id="ADQUE3179"></a><a id="ADQUE3684"></a><a id="ADQUE3177"></a><div class="props_rev_3"><a id="GUID-D3F77697-9069-4D3D-9A5D-3D83245BE1F7" name="GUID-D3F77697-9069-4D3D-9A5D-3D83245BE1F7"></a><h3 id="ADQUE-GUID-D3F77697-9069-4D3D-9A5D-3D83245BE1F7" class="sect3"><span class="enumeration_section">16.1</span>如何设置Oracle数据库高级队列JMS类型示例</h3>
               <div>
                  <div class="section">
                     <p>要运行<a href="jms-service-types-examples.html#GUID-D2118ED4-285B-4C73-A88B-09B9F55BBB76__I1005861">示例16-3</a>到<a href="jms-service-types-examples.html#GUID-806DD371-1C4B-4176-98BF-70C4401C4AF3__I1006473">示例16-8，请</a>按照下列步骤操作：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>将<a href="jms-service-types-examples.html#GUID-D3F77697-9069-4D3D-9A5D-3D83245BE1F7__I1005669">示例16-1</a>复制并保存为<code class="codeph">setup.sql</code> 。</span></li>
                     <li class="stepexpand"><span>运行<code class="codeph">setup.sql</code>如下：</span><div><pre class="oac_no_warn" dir="ltr">sqlplus / NOLOG @ setup.sql</pre></div>
                     </li>
                     <li class="stepexpand"><span>以<code class="codeph">jmsuser/jmsuser</code>身份登录SQL * Plus。</span></li>
                     <li class="stepexpand"><span>为每种类型的<a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">消息</span></a>运行相应的SQL脚本对。</span><div>
                           <p>例如，对于JMS <code class="codeph">BytesMessage</code> ，运行<a href="jms-service-types-examples.html#GUID-D2118ED4-285B-4C73-A88B-09B9F55BBB76__I1005861">例16-3</a>和<a href="jms-service-types-examples.html#GUID-D2118ED4-285B-4C73-A88B-09B9F55BBB76__CIHBJGDD">例16-4</a> 。
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>确保数据库参数<code class="codeph">java_pool-size</code>足够大。例如，您可以使用<code class="codeph">java_pool_size</code> = 20M。</span></li>
                  </ol>
                  <div class="example" id="GUID-D3F77697-9069-4D3D-9A5D-3D83245BE1F7__I1005669">
                     <p class="titleinexample">示例16-1设置运行JMS类型的环境示例</p><pre class="oac_no_warn" dir="ltr">连接系统;输入密码： <span class="italic">密码</span> Rem Rem创建JMS用户：jmsuser Rem DROP USER jmsuser CASCADE; CREATE USER jmsuser IDENTIFIED BY jmsuser;在DBMS_AQADM上执行GRANT EXECUTE到jmsuser;在DBMS_AQ上执行GRANT EXECUTE到jmsuser;在DBMS_LOB上执行GRANT EXECUTE到jmsuser;在DBMS_JMS_PLSQL上执行GRANT EXECUTE到jmsuser; set echo offset verify offconnect sysDROP USER jmsuser CASCADE; ACCEPT password CHAR PROMPT'输入JMSUSER的密码：'HIDECREATE USER jmsuser IDENTIFIED BY＆password; GRANT DBA，AQ_ADMINISTRATOR_ROLE，AQ_USER_ROLE to jmsuser; GRANT EXECUTE ON DBMS_AQADM to jmsuser; GRANT EXECUTE ON DBMS_AQ TO jmsuser;在DBMS_LOB上执行GRANT EXECUTE到jmsuser;在DBMS_JMS_PLSQL上执行GRANT执行到jmsuser;连接jmsuser /＆password Rem Rem为五个有效负载创建五个AQ队列表和五个队列：Rem SYS.AQ $ _JMS_TEXT_MESSAGE Rem SYS.AQ $ _JMS_BYTES_MESSAGE Rem SYS.AQ $ _JMS_STREAM_MESSAG Rem SYS.AQ $ _JMS_MAP_MESSAGE Rem SYS.AQ $ _JMS_MESSAGE Rem EXECUTE DBMS_AQADM.CREATE_QUEUE_TABLE（Queue_table =&gt;'jmsuser.jms_qtt_text'，Queue_payload_type =&gt;'SYS.AQ $ _JMS_TEXT_MESSAGE'，compatible =&gt;'8.1.0'）; EXECUTE DBMS_AQADM.CREATE_QUEUE_TABLE（Queue_table =&gt;'jmsuser.jms_qtt_bytes'，Queue_payload_type =&gt;'SYS.AQ $ _JMS_BYTES_MESSAGE'，compatible =&gt;'8.1.0'）; EXECUTE DBMS_AQADM.CREATE_QUEUE_TABLE（Queue_table =&gt;'jmsuser.jms_qtt_stream'，Queue_payload_type =&gt;'SYS.AQ $ _JMS_STREAM_MESSAGE'，compatible =&gt;'8.1.0'）; EXECUTE DBMS_AQADM.CREATE_QUEUE_TABLE（Queue_table =&gt;'jmsuser.jms_qtt_map'，Queue_payload_type =&gt;'SYS.AQ $ _JMS_MAP_MESSAGE'，compatible =&gt;'8.1.0'）; EXECUTE DBMS_AQADM.CREATE_QUEUE_TABLE（Queue_table =&gt;'jmsuser.jms_qtt_general'，Queue_payload_type =&gt;'SYS.AQ $ _JMS_MESSAGE'，compatible =&gt;'8.1.0'）; EXECUTE DBMS_AQADM.CREATE_QUEUE（Queue_name =&gt;'jmsuser.jms_text_que'，Queue_table =&gt;'jmsuser.jms_qtt_text'）; EXECUTE DBMS_AQADM.CREATE_QUEUE（Queue_name =&gt;'jmsuser.jms_bytes_que'，Queue_table =&gt;'jmsuser.jms_qtt_bytes'）; EXECUTE DBMS_AQADM.CREATE_QUEUE（Queue_name =&gt;'jmsuser.jms_stream_que'，Queue_table =&gt;'jmsuser.jms_qtt_stream'）; EXECUTE DBMS_AQADM.CREATE_QUEUE（Queue_name =&gt;'jmsuser.jms_map_que'，Queue_table =&gt;'jmsuser.jms_qtt_map'）; EXECUTE DBMS_AQADM.CREATE_QUEUE（Queue_name =&gt;'jmsuser.jms_general_que'，Queue_table =&gt;'jmsuser.jms_qtt_general'）; Rem Rem启动队列并启用队列和队列Rem EXECUTE DBMS_AQADM.START_QUEUE（Queue_name =&gt;'jmsuser.jms_text_que'）; EXECUTE DBMS_AQADM.START_QUEUE（Queue_name =&gt;'jmsuser.jms_bytes_que'）; EXECUTE DBMS_AQADM.START_QUEUE（Queue_name =&gt;'jmsuser.jms_stream_que'）; EXECUTE DBMS_AQADM.START_QUEUE（Queue_name =&gt;'jmsuser.jms_map_que'）; EXECUTE DBMS_AQADM.START_QUEUE（Queue_name =&gt;'jmsuser.jms_general_que'）; Rem示例中使用的支持实用程序帮助在SQLPLUS环境中显示结果Rem Rem在SQLPLUS Rem中显示RAW数据创建或替换过程display_raw（rdata raw）IS pos pls_integer;长度pls_integer; BEGIN pos：= 1; length：= UTL_RAW.LENGTH（rdata）; WHILE pos &lt;= length LOOP IF pos + 20&gt; length + 1 THEN dbms_output.put_line（UTL_RAW.SUBSTR（rdata，pos，length-pos + 1））; ELSE dbms_output.put_line（UTL_RAW.SUBSTR（rdata，pos，20））;万一; pos：= pos + 20;结束循环; END display_raw; /显示错误; Rem Rem在SQLPLUS中显示BLOB数据Rem创建或替换过程display_blob（bdata blob）IS pos pls_integer;长度pls_integer; BEGIN length：= dbms_lob.getlength（bdata）; pos：= 1; WHILE pos &lt;= length LOOP display_raw（DBMS_LOB.SUBSTR（bdata，2000，pos））; pos：= pos + 2000;结束循环; END display_blob; /显示错误; Rem Rem在SQLPLUS Rem中显示VARCHAR数据创建或替换过程display_varchar（vdata varchar）IS pos pls_integer; text_len pls_integer; BEGIN text_len：= length（vdata）; pos：= 1; WHILE pos &lt;= text_len LOOP IF pos + 20&gt; text_len + 1 THEN dbms_output.put_line（SUBSTR（vdata，pos，text_len-pos + 1））; ELSE dbms_output.put_line（SUBSTR（vdata，pos，20））;万一; pos：= pos + 20;结束循环; END display_varchar; /显示错误; Rem Rem在SQLPLUS中显示CLOB数据Rem创建或替换过程display_clob（cdata clob）IS pos pls_integer;长度pls_integer; BEGIN length：= dbms_lob.getlength（cdata）; pos：= 1; WHILE pos &lt;= length LOOP display_varchar（DBMS_LOB.SUBSTR（cdata，2000，pos））; pos：= pos + 2000;结束循环; END display_clob; /显示错误; Rem Rem在SQLPLUS Rem Rem中显示SYS.AQ $ _JMS_EXCEPTION数据当应用程序收到ORA-24197错误时，这意味着JAVA存储的Rem过程抛出了一些无法进行catergorized的异常。Rem用户可以使用SYS.AQ $ _JMS_BYTES_MESSAGE，Rem SYS.AQ $ _JMS_STREAM_MESSAG或SYS.AQ $ _JMS_MAP_MESSAGE Rem的GET_EXCEPTION过程来检索SYS.AQ $ _JMS_EXCEPTION对象，该对象包含有关此JAVA异常的更详细的Rem信息，包括异常名称，JAVA错误Rem消息和堆栈跟踪。Rem Rem这个实用程序功能是帮助显示Rem SQLPLUS中的SYS.AQ $ _JMS_EXCEPTION对象Rem创建或替换过程display_exp（exp SYS.AQ $ _JMS_EXCEPTION）IS pos1 pls_integer; pos2 pls_integer; text_data varchar（2000）; BEGIN dbms_output.put_line（'exception：'|| exp.exp_name）; DBMS_OUTPUT.PUT_LINE（ 'ERR_MSG：' || exp.err_msg）; DBMS_OUTPUT.PUT_LINE（ '堆栈：' ||长度（exp.stack））; pos1：= 1; LOOP pos2：= INSTR（exp.stack，chr（10），pos1）;如果pos2 = 0那么pos2：= length（exp.stack）+1;万一; dbms_output.put_line（SUBSTR（exp.stack，pos1，pos2-pos1））;如果pos2&gt;长度（exp.stack）那么退出;万一; pos1：= pos2 + 1;结束循环; END display_exp; /显示错误;出口;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-D3F77697-9069-4D3D-9A5D-3D83245BE1F7__GUID-73ABCCB7-400C-4236-9D63-5F596C8E9B7C">
                     <p class="titleinexample">示例16-2设置示例</p>
                  </div>
                  <!-- class="example" -->
                  <div class="section">
                     <p><a href="jms-service-types-examples.html#GUID-D3F77697-9069-4D3D-9A5D-3D83245BE1F7__I1005669">例16-1</a>为JMS类型示例执行必要的设置。复制并将其保存为<code class="codeph">setup.sql</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3181"></a><a id="ADQUE3182"></a><a id="ADQUE3180"></a><div class="props_rev_3"><a id="GUID-D2118ED4-285B-4C73-A88B-09B9F55BBB76" name="GUID-D2118ED4-285B-4C73-A88B-09B9F55BBB76"></a><h3 id="ADQUE-GUID-D2118ED4-285B-4C73-A88B-09B9F55BBB76" class="sect3"><span class="enumeration_section">16.2</span> JMS BytesMessage示例</h3>
               <div>
                  <div class="section">
                     <p>本节包含说明JMS <code class="codeph">BytesMessage</code>队和出列的示例。
                     </p>
                     <p><a href="jms-service-types-examples.html#GUID-D2118ED4-285B-4C73-A88B-09B9F55BBB76__I1005861">例16-3</a>显示了如何使用带有<code class="codeph">DBMS_AQ</code>函数的JMS类型成员函数来填充和排队数据库中表示为<code class="codeph">sys.aq$_jms_bytes_message</code>类型的JMS <code class="codeph">BytesMessage</code> 。稍后此消息可由JAVA <a href="glossary.html#GUID-9885B911-8AC1-49F3-922E-1F8D64C4501D"><span class="xrefglossterm">Oracle Java消息服务</span></a> （Oracle JMS）客户端出列。
                     </p>
                     <p><a href="jms-service-types-examples.html#GUID-D2118ED4-285B-4C73-A88B-09B9F55BBB76__CIHBJGDD">示例16-4</a>说明了如何使用带有<code class="codeph">DBMS_AQ</code>函数的JMS类型成员函数从数据库中表示为<code class="codeph">sys.aq$_jms_bytes_message</code>类型的JMS <code class="codeph">BytesMessage</code>出列数据并从中检索数据。此消息可能由Oracle JMS客户端排队。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-D2118ED4-285B-4C73-A88B-09B9F55BBB76__I1005861">
                     <p class="titleinexample">示例16-3填充和排队BytesMessage</p><pre class="oac_no_warn" dir="ltr">set echo offset verify offconnect sysDROP USER jmsuser CASCADE; ACCEPT password CHAR PROMPT'输入JMSUSER的密码：'HIDECREATE USER jmsuser IDENTIFIED BY＆password; GRANT DBA，AQ_ADMINISTRATOR_ROLE，AQ_USER_ROLE to jmsuser; GRANT EXECUTE ON DBMS_AQADM to jmsuser; GRANT EXECUTE ON DBMS_AQ TO jmsuser;在DBMS_LOB上执行GRANT EXECUTE到jmsuser;在DBMS_JMS_PLSQL上执行GRANT EXECUTE到jmsuser;在DECLARE id上连接jmsuser /＆password SET ECHO ON set serveroutput pls_integer; agent sys.aq $ _agent：= sys.aq $ _agent（''，null，0）; message sys.aq $ _jms_bytes_message; enqueue_options dbms_aq.enqueue_options_t; message_properties dbms_aq.message_properties_t; msgstr raw（16）; java_exp异常;编译指示EXCEPTION_INIT（java_exp，-24197）; BEGIN  - 构造一个空的BytesMessage对象消息：= sys.aq $ _jms_bytes_message.construct; - 显示如何设置JMS头消息.set_replyto（agent）; message.set_type（ 'tkaqpet1'）; message.set_userid（ 'jmsuser'）; message.set_appid（ 'plsql_enq'）; message.set_groupid（ 'ST'）; message.set_groupseq（1）; - 显示如何设置JMS用户属性message.set_string_property（'color'，'RED'）; message.set_int_property（'year'，1999）; message.set_float_property（'price'，16999.99）; message.set_long_property（'mileage'，300000）; message.set_boolean_property（'import'，True）; message.set_byte_property（'password'， -  127）; - 显示如何填充aq $ _jms_bytes_message的消息有效负载 - 传递-1在sys.aq $ _jms_bytes_message的消息存储库中保留新的插槽。- 要在一个会话中同时运行的sys.aq $ _jms_bytes_message类型的最大数量为20。如果当前操作的消息已经为20，则调用带参数-1的clean_body函数可能会导致ORA-24199错误。- 用户负责调用clean或clean_all函数来清理消息存储库。id：= message.clear_body（-1）; - 将数据写入BytesMessage paylaod。这些功能类似于JMS JAVA api。- 有关详细信息，请参阅文档。- 将字节写入BytesMessage有效负载message.write_byte（id，10）; - 将RAW数据作为字节数组写入BytesMessage有效负载message.write_bytes（id，UTL_RAW.XRANGE（HEXTORAW（'00'），HEXTORAW（'FF'）））; - 将一部分RAW数据作为字节数组写入BytesMessage有效负载 - 注意偏移遵循JAVA约定，从0开始message.write_bytes（id，UTL_RAW.XRANGE（HEXTORAW（'00'），HEXTORAW（'FF'） ），0,16）; - 将字符写入BytesMessage有效负载message.write_char（id，'A'）; - 将一个double写入BytesMessage有效负载message.write_double（id，9999.99）; - 将一个浮点写入BytesMessage有效负载message.write_float（id，99.99）; - 将一个int写入BytesMessage有效负载message.write_int（id，12345）; - 将一个long写入BytesMessage有效负载message.write_long（id，1234567）; - 写一个BytesMessage有效负载message.write_short（id，123）的简短; - 将字符串写入BytesMessage有效负载， - 字符串在消息有效负载message.write_utf（id，'Hello World！）中以UTF8编码。“）; - 将数据从JAVA存储过程（JServ）刷新到PL / SQL端 - 如果不执行此操作，PL / SQL消息仍为空。message.flush（ID）; - 当用户 - 不打算再对此消息进行paylaod填充时，使用clean_all或clean来清理消息存储库sys.aq $ _jms_bytes_message.clean_all（）; --message.clean（ID）; - 使用DBMS_AQ包dbms_aq.enqueue将此消息排入AQ队列（queue_name =&gt;'jmsuser.jms_bytes_que'，enqueue_options =&gt; enqueue_options，message_properties =&gt; message_properties，payload =&gt; message，msgid =&gt; msgid）; java_exp之后的异常那么dbms_output.put_line（'异常信息：'）; display_exp（sys.aq $ _jms_stream_message.get_exception（））;结束; / commit;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-D2118ED4-285B-4C73-A88B-09B9F55BBB76__CIHBJGDD">
                     <p class="titleinexample">示例16-4出列和检索JMS BytesMessage数据</p><pre class="oac_no_warn" dir="ltr">设置echo off set verify off DROP USER jmsuser CASCADE;接受密码CHAR PROMPT'输入JMSUSER的密码：'HIDE CREATE USER jmsuser IDENTIFIED BY＆password;在DBMS_AQADM上执行GRANT EXECUTE到jmsuser;在DBMS_AQ上执行GRANT EXECUTE到jmsuser;在DBMS_LOB上执行GRANT EXECUTE到jmsuser;在DBMS_JMS_PLSQL上执行GRANT EXECUTE到jmsuser;在设置serveroutput上连接jmsuser /＆password set echo，大小为20000 DECLARE id pls_integer; blob_data blob; clob_data clob; blob_len pls_integer; message sys.aq $ _jms_bytes_message; agent sys.aq $ _agent; dequeue_options dbms_aq.dequeue_options_t; message_properties dbms_aq.message_properties_t; msgstr raw（16）; gdata sys.aq $ _jms_value; java_exp异常;编译指示EXCEPTION_INIT（java_exp，-24197）; BEGIN DBMS_OUTPUT.ENABLE（20000）; - 使用DBMS_AQ包dbms_aq.dequeue从队列队列中取消此消息（queue_name =&gt;'jmsuser.jms_bytes_que'，dequeue_options =&gt; dequeue_options，message_properties =&gt; message_properties，payload =&gt; message，msgid =&gt; msgid）; - 检索标头代理：= message.get_replyto; dbms_output.put_line（'Type：'|| message.get_type ||'UserId：'|| message.get_userid ||'AppId：'|| message.get_appid ||'GroupId：'|| message.get_groupid ||'GroupSeq ：'|| message.get_groupseq）; - 检索用户属性dbms_output.put_line（'price：'|| message.get_float_property（'price'））; dbms_output.put_line（'color：'|| message.get_string_property（'color'））;如果message.get_boolean_property（'import'）= TRUE那么dbms_output.put_line（'import：Yes'）; ELSIF message.get_boolean_property（'import'）= FALSE那么dbms_output.put_line（'import：No'）;万一; dbms_output.put_line（'year：'|| message.get_int_property（'year'））; dbms_output.put_line（'mileage：'|| message.get_long_property（'mileage'））; dbms_output.put_line（'password：'|| message.get_byte_property（'password'））; - 显示如何检索aq $ _jms_bytes_message的消息有效负载 - 准备调用，将PL / SQL aq $ _jms_bytes_message对象中的内容以字节数组的形式发送到Java存储过程（Jserv）。- 传递-1在sys.aq $ _jms_bytes_message的msg存储中保留一个新槽。- 在会话中同时运行的最大sys.aq $ _jms_bytes_message类型的消息是20。打电话给clean_body fn。使用参数-1  - 如果操作的消息已经是20，则可能导致ORA-24199错误。- 您必须调用clean或clean_all函数来清理消息存储库。id：= message.prepare（-1）; - 从BytesMessage paylaod读取数据。这些fns。类似于JMS Java  -  API。有关详细信息，请参阅JMS类型一章。DBMS_OUTPUT.PUT_LINE（ '有效载荷：'）; - 从BytesMessage有效负载dbms_output.put_line读取一个字节（'read_byte：'|| message.read_byte（id））; - 从BytesMessage有效负载dbms_output.put_line（'read_bytes：'）中读取一个字节数组到blob对象中; blob_len：= message.read_bytes（id，blob_data，272）; display_blob（blob_data）; - 从BytesMessage有效负载dbms_output.put_line读取一个char（'read_char：'|| message.read_char（id））; - 从BytesMessage有效负载dbms_output.put_line读取一个double（'read_double：'|| message.read_double（id））; - 从BytesMessage有效负载dbms_output.put_line读取一个浮点数（'read_float：'|| message.read_float（id））; - 从BytesMessage有效负载dbms_output.put_line读取一个int（'read_int：'|| message.read_int（id））; - 从BytesMessage有效负载dbms_output.put_line读取一个long（'read_long：'|| message.read_long（id））; - 从BytesMessage有效负载dbms_output.put_line读取一个short（'read_short：'|| message.read_short（id））; - 从BytesMessage有效负载读取字符串。- 字符串在消息有效负载dbms_output.put_line（'read_utf：'）中以UTF8编码; message.read_utf（id，clob_data）; display_clob（clob_data）; - 当用户 - 不打算再对此消息进行paylaod检索时，使用clean_all或clean来清理消息存储库message.clean（id）; -  sys.aq $ _jms_bytes_message.clean_all（）; java_exp之后的异常那么dbms_output.put_line（'异常信息：'）; display_exp（sys.aq $ _jms_bytes_message.get_exception（））;结束; / commit;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3184"></a><a id="ADQUE3185"></a><a id="ADQUE3183"></a><div class="props_rev_3"><a id="GUID-2A106B5C-925F-4ED2-9C4D-331BAF261F66" name="GUID-2A106B5C-925F-4ED2-9C4D-331BAF261F66"></a><h3 id="ADQUE-GUID-2A106B5C-925F-4ED2-9C4D-331BAF261F66" class="sect3"><span class="enumeration_section">16.3</span> JMS StreamMessage示例</h3>
               <div>
                  <div class="section">
                     <p>本节包含说明JMS <code class="codeph">StreamMessage</code>队和出列的示例。
                     </p>
                     <p><a href="jms-service-types-examples.html#GUID-2A106B5C-925F-4ED2-9C4D-331BAF261F66__CIHGJBCG">例16-5</a>显示了如何使用带有<code class="codeph">DBMS_AQ</code>函数的JMS类型成员函数来填充和排队数据库中表示为<code class="codeph">sys.aq$_jms_stream_message</code>类型的JMS <code class="codeph">StreamMessage</code> 。稍后此消息可由Oracle JMS客户端出列。
                     </p>
                     <p><a href="jms-service-types-examples.html#GUID-2A106B5C-925F-4ED2-9C4D-331BAF261F66__I1006207">例16-6</a>显示了如何使用带有<code class="codeph">DBMS_AQ</code>函数的JMS类型成员函数从数据库中表示为<code class="codeph">sys.aq$_jms_stream_message</code>类型的JMS <code class="codeph">StreamMessage</code>出列数据并从中检索数据。此消息可能由Oracle JMS客户端排队。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-2A106B5C-925F-4ED2-9C4D-331BAF261F66__CIHGJBCG">
                     <p class="titleinexample">示例16-5填充和排队JMS StreamMessage</p><pre class="oac_no_warn" dir="ltr">设置echo off set verify off DROP USER jmsuser CASCADE;接受密码CHAR PROMPT'输入JMSUSER的密码：'HIDE CREATE USER jmsuser IDENTIFIED BY＆password;在DBMS_AQADM上执行GRANT EXECUTE到jmsuser;在DBMS_AQ上执行GRANT EXECUTE到jmsuser;在DBMS_LOB上执行GRANT EXECUTE到jmsuser;在DBMS_JMS_PLSQL上执行GRANT EXECUTE到jmsuser; connect jmsuser /＆password SET ECHO ON在DECLARE id pls_integer上设置serveroutput; agent sys.aq $ _agent：= sys.aq $ _agent（''，null，0）; message sys.aq $ _jms_stream_message; enqueue_options dbms_aq.enqueue_options_t; message_properties dbms_aq.message_properties_t; msgstr raw（16）; java_exp异常;编译指示EXCEPTION_INIT（java_exp，-24197）; BEGIN  - 构造一个空的StreamMessage对象消息：= sys.aq $ _jms_stream_message.construct; - 显示如何设置JMS头消息.set_replyto（agent）; message.set_type（ 'tkaqpet1'）; message.set_userid（ 'jmsuser'）; message.set_appid（ 'plsql_enq'）; message.set_groupid（ 'ST'）; message.set_groupseq（1）; - 显示如何设置JMS用户属性message.set_string_property（'color'，'RED'）; message.set_int_property（'year'，1999）; message.set_float_property（'price'，16999.99）; message.set_long_property（'mileage'，300000）; message.set_boolean_property（'import'，True）; message.set_byte_property（'password'， -  127）; - 显示如何填充aq $ _jms_stream_message的消息有效负载 - 传递-1在sys.aq $ _jms_stream_message的消息存储中保留一个新插槽。- 要在一个会话中同时运行的sys.aq $ _jms_stream_message类型的最大数量的消息是20。如果当前操作的消息已经为20，则调用带参数-1的clean_body函数可能会导致ORA-24199错误。- 用户负责调用clean或clean_all函数来清理消息存储库。id：= message.clear_body（-1）; - 将数据写入消息paylaod。这些功能类似于JMS JAVA api。- 有关详细信息，请参阅文档。- 将一个字节写入StreamMessage有效载荷message.write_byte（id，10）; - 将RAW数据作为字节数组写入StreamMessage有效负载message.write_bytes（id，UTL_RAW.XRANGE（HEXTORAW（'00'），HEXTORAW（'FF'）））; - 将RAW数据的一部分作为字节数组写入StreamMessage有效负载 - 注意偏移遵循JAVA约定，从0开始message.write_bytes（id，UTL_RAW.XRANGE（HEXTORAW（'00'），HEXTORAW（'FF'） ）），0,16）; - 将一个字符写入StreamMessage有效负载message.write_char（id，'A'）; - 将一个double写入StreamMessage有效负载message.write_double（id，9999.99）; - 将一个浮点写入StreamMessage有效负载message.write_float（id，99.99）; - 将一个int写入StreamMessage有效负载message.write_int（id，12345）; - 将一个long写入StreamMessage有效负载message.write_long（id，1234567）; - 写一个简短的StreamMessage有效载荷message.write_short（id，123）; - 将一个字符串写入StreamMessage有效负载message.write_string（id，'Hello World！“）; - 将数据从JAVA存储过程（JServ）刷新到PL / SQL端 - 如果不执行此操作，PL / SQL消息仍为空。message.flush（ID）; - 当用户 - 不打算再对此消息进行paylaod填充时，使用clean_all或clean来清理消息存储库sys.aq $ _jms_stream_message.clean_all（）; --message.clean（ID）; - 使用DBMS_AQ包dbms_aq.enqueue将此消息排入AQ队列（queue_name =&gt;'jmsuser.jms_stream_que'，enqueue_options =&gt; enqueue_options，message_properties =&gt; message_properties，payload =&gt; message，msgid =&gt; msgid）; java_exp之后的异常那么dbms_output.put_line（'异常信息：'）; display_exp（sys.aq $ _jms_stream_message.get_exception（））;结束; / commit;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-2A106B5C-925F-4ED2-9C4D-331BAF261F66__I1006207">
                     <p class="titleinexample">示例16-6从JMS StreamMessage中出列和检索数据</p><pre class="oac_no_warn" dir="ltr">设置echo off set verify off DROP USER jmsuser CASCADE;接受密码CHAR PROMPT'输入JMSUSER的密码：'HIDE CREATE USER jmsuser IDENTIFIED BY＆password;在DBMS_AQADM上执行GRANT EXECUTE到jmsuser;在DBMS_AQ上执行GRANT EXECUTE到jmsuser;在DBMS_LOB上执行GRANT EXECUTE到jmsuser;在DBMS_JMS_PLSQL上执行GRANT EXECUTE到jmsuser;在DECLARE id pls_integer上的set serveroutput上连接jmsuser /＆password set echo; blob_data blob; clob_data clob; message sys.aq $ _jms_stream_message; agent sys.aq $ _agent; dequeue_options dbms_aq.dequeue_options_t; message_properties dbms_aq.message_properties_t; msgstr raw（16）; gdata sys.aq $ _jms_value; java_exp异常;编译指示EXCEPTION_INIT（java_exp，-24197）; BEGIN DBMS_OUTPUT.ENABLE（20000）; - 使用DBMS_AQ包dbms_aq.dequeue从队列队列中取消此消息（queue_name =&gt;'jmsuser.jms_stream_que'，dequeue_options =&gt; dequeue_options，message_properties =&gt; message_properties，payload =&gt; message，msgid =&gt; msgid）; - 检索标头代理：= message.get_replyto; dbms_output.put_line（'Type：'|| message.get_type ||'UserId：'|| message.get_userid ||'AppId：'|| message.get_appid ||'GroupId：'|| message.get_groupid ||'GroupSeq ：'|| message.get_groupseq）; - 检索用户属性dbms_output.put_line（'price：'|| message.get_float_property（'price'））; dbms_output.put_line（'color：'|| message.get_string_property（'color'））;如果message.get_boolean_property（'import'）= TRUE那么dbms_output.put_line（'import：Yes'）; ELSIF message.get_boolean_property（'import'）= FALSE那么dbms_output.put_line（'import：No'）;万一; dbms_output.put_line（'year：'|| message.get_int_property（'year'））; dbms_output.put_line（'mileage：'|| message.get_long_property（'mileage'））; dbms_output.put_line（'password：'|| message.get_byte_property（'password'））; - 显示如何检索aq $ _jms_stream_message的消息有效负载 -  prepare调用以字节数组的形式将PL / SQL aq $ _jms_stream_message对象中的内容发送到-JAVA存储过程（Jserv）。- 传递-1在sys.aq $ _jms_stream_message的消息存储区中保留一个新插槽。- 要在一个会话中同时运行的sys.aq $ _jms_stream_message类型的最大数量的消息是20。如果当前操作的消息已经为20，则调用带参数-1的clean_body函数可能会导致ORA-24199错误。- 用户负责调用clean或clean_all函数来清理消息存储库。id：= message.prepare（-1）; - 假设用户知道StreamMessage有效负载中的数据类型。- 用户可以使用与数据类型对应的特定读取功能。- 这些功能类似于JMS JAVA api。有关详细信息，请参阅文档dbms_output.put_line（'按Type：'检索有效负载）; - 从StreamMessage有效负载dbms_output.put_line读取一个字节（'read_byte：'|| message.read_byte（id））; - 从StreamMessage有效负载dbms_output.put_line（'read_bytes：'）中将字节数组读入blob对象; message.read_bytes（id，blob_data）; display_blob（blob_data）; - 从StreamMessage有效负载dbms_output.put_line（'read_bytes：'）中将另一个字节数组读入blob对象; message.read_bytes（id，blob_data）; display_blob（blob_data）; - 从StreamMessage有效负载dbms_output.put_line（'read_char：'|| message.read_char（id））中读取一个char; - 从StreamMessage有效负载dbms_output.put_line读取一个double（'read_double：'|| message.read_double（id））; - 从StreamMessage有效负载dbms_output.put_line（'read_float：'|| message.read_float（id））中读取一个浮点数; - 从StreamMessage有效负载dbms_output.put_line读取一个int（'read_int：'|| message.read_int（id））; - 从StreamMessage有效负载dbms_output.put_line读取一个long（'read_long：'|| message.read_long（id））; - 从StreamMessage有效负载dbms_output.put_line读取一个short（'read_short：'|| message.read_short（id））; - 从StreamMessage有效负载dbms_output.put_line（'read_string：'）读取一个字符串到clob数据; message.read_string（id，clob_data）; display_clob（clob_data）; - 假设用户不知道StreamMessage有效负载中的数据类型。- 用户可以使用read_object方法将数据读入sys.aq $ _jms_value对象 - 这些函数类似于JMS JAVA api。有关详细信息，请参阅文档- 将流指针重置为消息的开头，以便我们可以再次读取消息有效负载。message.reset（ID）; LOOP message.read_object（id，gdata）;如果gdata IS NULL那么退出;万一; CASE gdata.type WHEN sys.dbms_jms_plsql。DATA_TYPE_BYTE那么dbms_output.put_line（'read_object / byte：'|| gdata.num_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_SHORT那么dbms_output.put_line（'read_object / short：'|| gdata.num_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_INTEGER那么dbms_output.put_line（'read_object / int：'|| gdata.num_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_LONG那么dbms_output.put_line（'read_object / long：'|| gdata.num_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_FLOAT那么dbms_output.put_line（'read_object / float：'|| gdata.num_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_DOUBLE那么dbms_output.put_line（'read_object / double：'|| gdata.num_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_BOOLEAN那么dbms_output.put_line（'read_object / boolean：'|| gdata.num_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_CHARACTER那么dbms_output.put_line（'read_object / char：'|| gdata.char_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_STRING那么dbms_output.put_line（'read_object / string：'）; display_clob（gdata.text_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_BYTES那么dbms_output.put_line（'read_object / bytes：'）; display_blob（gdata.bytes_val）; ELSE dbms_output.put_line（'没有这样的数据类型'）;结束案例;结束循环; - 当用户 - 不打算再对此消息进行paylaod检索时，使用clean_all或clean来清理消息存储库message.clean（id）; -  sys.aq $ _jms_stream_message.clean_all（）; java_exp之后的异常那么dbms_output.put_line（'异常信息：'）; display_exp（sys.aq $ _jms_stream_message.get_exception（））;结束; / commit;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3187"></a><a id="ADQUE3188"></a><a id="ADQUE3186"></a><div class="props_rev_3"><a id="GUID-806DD371-1C4B-4176-98BF-70C4401C4AF3" name="GUID-806DD371-1C4B-4176-98BF-70C4401C4AF3"></a><h3 id="ADQUE-GUID-806DD371-1C4B-4176-98BF-70C4401C4AF3" class="sect3"><span class="enumeration_section">16.4</span> JMS MapMessage示例</h3>
               <div>
                  <div class="section">
                     <p>本节包含说明JMS <code class="codeph">MapMessage</code>队和出列的示例。
                     </p>
                     <p><a href="jms-service-types-examples.html#GUID-806DD371-1C4B-4176-98BF-70C4401C4AF3__I1006368">实施例16-7</a>显示了如何使用JMS类型成员函数与<code class="codeph">DBMS_AQ</code>函数来填充和排队一个JMS <code class="codeph">MapMessage</code>表示为<code class="codeph">sys.aq$_jms_map_message</code>在数据库类型。稍后此消息可由Oracle JMS客户端出列。
                     </p>
                     <p><a href="jms-service-types-examples.html#GUID-806DD371-1C4B-4176-98BF-70C4401C4AF3__I1006473">实施例16-8</a>示出了如何使用JMS类型成员函数与<code class="codeph">DBMS_AQ</code>函数来从JMS出列和检索数据<code class="codeph">MapMessage</code>表示为<code class="codeph">sys.aq$_jms_map_message</code>在数据库类型。此消息可以由Oracle JMS客户端排队。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-806DD371-1C4B-4176-98BF-70C4401C4AF3__I1006368">
                     <p class="titleinexample">示例16-7填充和排队JMS MapMessage</p><pre class="oac_no_warn" dir="ltr">设置echo off set verify off DROP USER jmsuser CASCADE;接受密码CHAR PROMPT'输入JMSUSER的密码：'HIDE CREATE USER jmsuser IDENTIFIED BY＆password;在DBMS_AQADM上执行GRANT EXECUTE到jmsuser;在DBMS_AQ上执行GRANT EXECUTE到jmsuser;在DBMS_LOB上执行GRANT EXECUTE到jmsuser;在DBMS_JMS_PLSQL上执行GRANT EXECUTE到jmsuser; connect jmsuser /＆password SET ECHO ON在DECLARE id pls_integer上设置serveroutput; agent sys.aq $ _agent：= sys.aq $ _agent（''，null，0）; message sys.aq $ _jms_map_message; enqueue_options dbms_aq.enqueue_options_t; message_properties dbms_aq.message_properties_t; msgstr raw（16）; java_exp异常;编译指示EXCEPTION_INIT（java_exp，-24197）; BEGIN  - 构造一个空的地图消息对象消息：= sys.aq $ _jms_map_message.construct; - 显示如何设置JMS头消息.set_replyto（agent）; message.set_type（ 'tkaqpet1'）; message.set_userid（ 'jmsuser'）; message.set_appid（ 'plsql_enq'）; message.set_groupid（ 'ST'）; message.set_groupseq（1）; - 显示如何设置JMS用户属性message.set_string_property（'color'，'RED'）; message.set_int_property（'year'，1999）; message.set_float_property（'price'，16999.99）; message.set_long_property（'mileage'，300000）; message.set_boolean_property（'import'，True）; message.set_byte_property（'password'， -  127）; - 显示如何填充aq $ _jms_map_message的消息有效内容 - 传递-1在sys.aq $ _jms_map_message的消息存储中保留一个新插槽。- 要在一个会话中同时运行的sys.aq $ _jms_map_message类型的最大数量的消息是20。如果当前操作的消息已经为20，则调用带参数-1的clean_body函数可能会导致ORA-24199错误。- 用户负责调用clean或clean_all函数来清理消息存储库。id：= message.clear_body（-1）; - 将数据写入消息paylaod。这些功能类似于JMS JAVA api。- 有关详细信息，请参阅文档。- 在地图消息有效载荷message.set_byte中设置一个字节条目（id，'BYTE'，10）; - 使用地图消息有效载荷中的RAW数据设置字节数组条目message.set_bytes（id，'BYTES'，UTL_RAW.XRANGE（HEXTORAW（'00'），HEXTORAW（'FF'）））; - 仅使用地图消息有效负载中的一部分RAW数据设置字节数组条目 - 注意偏移遵循JAVA约定，从0消息开始.set_bytes（id，'BYTES_PART'，UTL_RAW.XRANGE（HEXTORAW（'00'） ），HEXTORAW（'FF'）），0,16）; - 在地图消息有效负载message.set_char中设置一个char条目（id，'CHAR'，'A'）; - 在地图消息有效负载message.set_double中设置一个双重条目（id，'DOUBLE'，9999.99）; - 在地图消息有效负载message.set_float中设置一个浮点项（id，'FLOAT'，99.99）; - 在地图消息有效负载message.set_int中设置一个int条目（id，'INT'，12345）; - 在地图消息有效负载message.set_long中设置一个长条目（id，'LONG'，1234567）; - 在地图消息有效负载message.set_short（id，'SHORT'，123）中设置一个短条目; - 在地图消息有效负载message.set_string中设置字符串条目（id，'STRING'，'Hello World！“）; - 将数据从JAVA存储过程（JServ）刷新到PL / SQL端 - 如果不执行此操作，PL / SQL消息仍为空。message.flush（ID）; - 当用户不再计划对此消息进行paylaod填充时，使用clean_all或clean来清理消息存储库sys.aq $ _jms_map_message.clean_all（）; --message.clean（ID）; - 使用DBMS_AQ包dbms_aq.enqueue将此消息排入AQ队列（queue_name =&gt;'jmsuser.jms_map_que'，enqueue_options =&gt; enqueue_options，message_properties =&gt; message_properties，payload =&gt; message，msgid =&gt; msgid）;结束; / commit;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-806DD371-1C4B-4176-98BF-70C4401C4AF3__I1006473">
                     <p class="titleinexample">示例16-8从JMS MapMessage中出列和检索数据</p><pre class="oac_no_warn" dir="ltr">设置echo off set verify off DROP USER jmsuser CASCADE;接受密码CHAR PROMPT'输入JMSUSER的密码：'HIDE CREATE USER jmsuser IDENTIFIED BY＆password;在DBMS_AQADM上执行GRANT EXECUTE到jmsuser;在DBMS_AQ上执行GRANT EXECUTE到jmsuser;在DBMS_LOB上执行GRANT EXECUTE到jmsuser;在DBMS_JMS_PLSQL上执行GRANT EXECUTE到jmsuser;在DECLARE id pls_integer上的set serveroutput上连接jmsuser /＆password set echo; blob_data blob; clob_data clob; message sys.aq $ _jms_map_message; agent sys.aq $ _agent; dequeue_options dbms_aq.dequeue_options_t; message_properties dbms_aq.message_properties_t; msgstr raw（16）; name_arr sys.aq $ _jms_namearray; gdata sys.aq $ _jms_value; java_exp异常;编译指示EXCEPTION_INIT（java_exp，-24197）; BEGIN DBMS_OUTPUT.ENABLE（20000）; - 使用DBMS_AQ包dbms_aq.dequeue从队列队列中取消此消息（queue_name =&gt;'jmsuser.jms_map_que'，dequeue_options =&gt; dequeue_options，message_properties =&gt; message_properties，payload =&gt; message，msgid =&gt; msgid）; - 检索标头代理：= message.get_replyto; dbms_output.put_line（'Type：'|| message.get_type ||'UserId：'|| message.get_userid ||'AppId：'|| message.get_appid ||'GroupId：'|| message.get_groupid ||'GroupSeq ：'|| message.get_groupseq）; - 检索用户属性dbms_output.put_line（'price：'|| message.get_float_property（'price'））; dbms_output.put_line（'color：'|| message.get_string_property（'color'））;如果message.get_boolean_property（'import'）= TRUE那么dbms_output.put_line（'import：Yes'）; ELSIF message.get_boolean_property（'import'）= FALSE那么dbms_output.put_line（'import：No'）;万一; dbms_output.put_line（'year：'|| message.get_int_property（'year'））; dbms_output.put_line（'mileage：'|| message.get_long_property（'mileage'））; dbms_output.put_line（'password：'|| message.get_byte_property（'password'））; - 显示如何检索aq $ _jms_map_message的消息有效负载 - 'Prepare'以字节数组的形式将PL / SQL aq $ _jms_map_message对象中的内容发送到Java存储过程（Jserv）。- 传递-1在 -  sys.aq $ _jms_map_message的消息存储库中保留一个新插槽。sys.aq $ _jms_map_message的最大数量 - 在一个会话中同时操作的消息类型是20。- 调用带参数-1的clean_body函数 - 如果当前操作的消息是 - 已经20，则可能导致ORA-24199错误。用户负责调用clean或clean_all函数 - 清理消息存储库。id：= message.prepare（-1）; - 假设用户知道地图消息有效负载中的名称和类型。- 用户可以使用名称来获取相应的值。- 这些函数类似于JMS Java API。有关详细信息，请参阅JMS类型一章。dbms_output.put_line（'按名称检索有效负载：'）; - 从地图消息有效负载dbms_output.put_line获取一个字节条目（'get_byte：'|| message.get_byte（id，'BYTE'））; - 从映射消息有效负载dbms_output.put_line（'get_bytes：'）获取字节数组条目; message.get_bytes（id，'BYTES'，blob_data）; display_blob（blob_data）; - 从映射消息有效负载dbms_output.put_line（'get_bytes：'）获取另一个字节数组条目; message.get_bytes（id，'BYTES_PART'，blob_data）; display_blob（blob_data）; - 从地图消息有效负载dbms_output.put_line获取char条目（'get_char：'|| message.get_char（id，'CHAR'））; - 从地图消息有效负载dbms_output.put_line获取双重条目（'get_double：'|| message.get_double（id，'DOUBLE'））; - 从映射消息有效负载dbms_output.put_line获取一个float条目（'get_float：'|| message.get_float（id，'FLOAT'））; - 从映射消息有效负载dbms_output.put_line获取一个int条目（'get_int：'|| message.get_int（id，'INT'））; - 从地图消息有效负载dbms_output.put_line获取一个长条目（'get_long：'|| message.get_long（id，'LONG'））; - 从地图消息有效负载dbms_output.put_line获取一个简短条目（'get_short：'|| message.get_short（id，'SHORT'））; - 从地图消息有效负载dbms_output.put_line（'get_string：'）获取字符串条目; message.get_string（id，'STRING'，clob_data）; display_clob（clob_data）; - 假设用户不知道地图消息有效负载中的名称和类型。- 用户可以首先检索包含 -  payload中所有名称的name数组，并遍历名称列表并获取相应的值。这些函数类似于JMS Java API。- 有关详细信息，请参阅JMS类型章节。dbms_output.put_line（'通过迭代检索有效负载：'）; - 从地图消息有效负载中获取名称数组name_arr：= message.get_names（id）; - 遍历name数组以检索每个名称的值。FOR i IN name_arr。FIRST..name_arr。最后的循环 - 测试地图消息有效负载中是否存在名称 - （在这种情况下，没有必要说明如何使用它）IF message.item_exists（id，name_arr（i））那么dbms_output.put_line （'item exists：'|| name_arr（i））; - 因为我们不知道条目的类型，我们必须使用sys.aq $ _jms_value  - 类型对象来返回数据的消息.get_object（id，name_arr（i），gdata）;如果gdata不是NULL那么CASE gdata.type WHEN sys.dbms_jms_plsql。DATA_TYPE_BYTE那么dbms_output.put_line（'get_object / byte：'|| gdata.num_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_SHORT那么dbms_output.put_line（'get_object / short：'|| gdata.num_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_INTEGER那么dbms_output.put_line（'get_object / int：'|| gdata.num_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_LONG那么dbms_output.put_line（'get_object / long：'|| gdata.num_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_FLOAT那么dbms_output.put_line（'get_object / float：'|| gdata.num_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_DOUBLE那么dbms_output.put_line（'get_object / double：'|| gdata.num_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_BOOLEAN那么dbms_output.put_line（'get_object / boolean：'|| gdata.num_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_CHARACTER那么dbms_output.put_line（'get_object / char：'|| gdata.char_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_STRING那么dbms_output.put_line（'get_object / string：'）; display_clob（gdata.text_val）;什么时候sys.dbms_jms_plsql。DATA_TYPE_BYTES那么dbms_output.put_line（'get_object / bytes：'）; display_blob（gdata.bytes_val）; ELSE dbms_output.put_line（'没有这样的数据类型'）;结束案例;万一; ELSE dbms_output.put_line（'item not exists：'|| name_arr（i））;万一;结束循环; - 当用户 - 不打算再对此消息进行paylaod填充时，使用clean_all或clean来清理消息存储库message.clean（id）; -  sys.aq $ _jms_map_message.clean_all（）; java_exp之后的异常那么dbms_output.put_line（'异常信息：'）; display_exp（sys.aq $ _jms_stream_message.get_exception（））;结束; / commit;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3190"></a><a id="ADQUE3191"></a><a id="ADQUE3189"></a><div class="props_rev_3"><a id="GUID-CFB48BB3-9498-4AF2-904A-3D081E6B9A34" name="GUID-CFB48BB3-9498-4AF2-904A-3D081E6B9A34"></a><h3 id="ADQUE-GUID-CFB48BB3-9498-4AF2-904A-3D081E6B9A34" class="sect3"><span class="enumeration_section">16.5</span>更多Oracle数据库高级队列JMS示例</h3>
               <div>
                  <div class="section">
                     <p><a href="jms-service-types-examples.html#GUID-CFB48BB3-9498-4AF2-904A-3D081E6B9A34__i1006655">示例16-9中</a>的示例程序在通过Oracle JMS管理接口创建的Oracle数据库高级队列队列中排队大型<code class="codeph">TextMessage</code> （以及JMS用户属性）以保存JMS <code class="codeph">TEXT</code>消息。此示例中排队的<code class="codeph">TextMessage</code>和<code class="codeph">BytesMessage</code>都可以使用Oracle JMS客户端出列。
                     </p>
                     <p><a href="jms-service-types-examples.html#GUID-CFB48BB3-9498-4AF2-904A-3D081E6B9A34__CHDECGGB">例16-10中</a>的示例程序将大型<code class="codeph">BytesMessage</code>排入队列。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-CFB48BB3-9498-4AF2-904A-3D081E6B9A34__i1006655">
                     <p class="titleinexample">示例16-9将大型TextMessage排入队列</p><pre class="oac_no_warn" dir="ltr">DECLARE text varchar2（32767）; agent sys.aq $ _agent：= sys.aq $ _agent（''，null，0）; message sys.aq $ _jms_text_message; enqueue_options dbms_aq.enqueue_options_t; message_properties dbms_aq.message_properties_t; msgstr raw（16）; BEGIN消息：= sys.aq $ _jms_text_message.construct; message.set_replyto（剂）; message.set_type（ 'tkaqpet2'）; message.set_userid（ 'jmsuser'）; message.set_appid（ 'plsql_enq'）; message.set_groupid（ 'ST'）; message.set_groupseq（1）; message.set_boolean_property（'import'，True）; message.set_string_property（'color'，'RED'）; message.set_short_property（'year'，1999）; message.set_long_property（'mileage'，300000）; message.set_double_property（'price'，16999.99）; message.set_byte_property（'password'，127）; FOR i IN 1..500 LOOP text：= CONCAT（text，'1234567890'）;结束循环; message.set_text（文本）; dbms_aq.enqueue（queue_name =&gt;'jmsuser.jms_text_t1'，enqueue_options =&gt; enqueue_options，message_properties =&gt; message_properties，payload =&gt; message，msgid =&gt; msgid）;结束;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-CFB48BB3-9498-4AF2-904A-3D081E6B9A34__CHDECGGB">
                     <p class="titleinexample">示例16-10将大BytesMessage排入队列</p><pre class="oac_no_warn" dir="ltr">DECLARE text VARCHAR2（32767）; bytes RAW（32767）; agent sys.aq $ _agent：= sys.aq $ _agent（''，null，0）; message sys.aq $ _jms_bytes_message;身体BLOB;位置INT; enqueue_options dbms_aq.enqueue_options_t; message_properties dbms_aq.message_properties_t; msgstr raw（16）; BEGIN消息：= sys.aq $ _jms_bytes_message.construct; message.set_replyto（剂）; message.set_type（ 'tkaqper4'）; message.set_userid（ 'jmsuser'）; message.set_appid（ 'plsql_enq_raw'）; message.set_groupid（ 'ST'）; message.set_groupseq（1）; message.set_boolean_property（'import'，True）; message.set_string_property（'color'，'RED'）; message.set_short_property（'year'，1999）; message.set_long_property（'mileage'，300000）; message.set_double_property（'price'，16999.99）; - 准备一个巨大的有效载荷到一个blob for i IN 1..1000 LOOP text：= CONCAT（text，'0123456789ABCDEF'）;结束循环; bytes：= HEXTORAW（text）; dbms_lob.createtemporary（lob_loc =&gt; body，cache =&gt; TRUE）; dbms_lob.open（body，DBMS_LOB.LOB_READWRITE）;位置：= 1; FOR i IN 1..10 LOOP dbms_lob.write（lob_loc =&gt; body，amount =&gt; FLOOR（（LENGTH（bytes）+1）/ 2），offset =&gt; position，buffer =&gt; bytes）; position：= position + FLOOR（（LENGTH（bytes）+1）/ 2）;结束循环; - 准备消息的结束message.set_bytes（body）; dbms_aq.enqueue（queue_name =&gt;'jmsuser.jms_bytes_t1'，enqueue_options =&gt; enqueue_options，message_properties =&gt; message_properties，payload =&gt; message，msgid =&gt; msgid）; dbms_lob.freetemporary（lob_loc =&gt; body）;结束;</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="05144.ALTER-TYPE-statement.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Use the ALTER TYPE statement to add or drop member attributes or methods. You can change the existing properties of an object type, and you can modify the scalar attributes of the type. You can also use this statement to recompile the specification or body of the type or to change the specification of an object type by adding new object member subprogram specifications."></meta>
      <meta name="description" content="Use the ALTER TYPE statement to add or drop member attributes or methods. You can change the existing properties of an object type, and you can modify the scalar attributes of the type. You can also use this statement to recompile the specification or body of the type or to change the specification of an object type by adding new object member subprogram specifications."></meta>
      <title>ALTER TYPE语句</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database PL/SQL Language Reference "></meta>
      <meta property="og:description" content="Use the ALTER TYPE statement to add or drop member attributes or methods. You can change the existing properties of an object type, and you can modify the scalar attributes of the type. You can also use this statement to recompile the specification or body of the type or to change the specification of an object type by adding new object member subprogram specifications."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database PL/SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-13T20:26:20-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96448-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ALTER-TRIGGER-statement.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CREATE-FUNCTION-statement.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="LNPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ALTER-TRIGGER-statement.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CREATE-FUNCTION-statement.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库PL / SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="sql-statements-for-stored-plsql-units.html" property="item" typeof="WebPage"><span property="name">存储的PL / SQL单元的SQL语句</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ALTER TYPE语句</li>
            </ol>
            <a id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD" name="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD"></a><a id="LNPLS1904"></a><a id="LNPLS1422"></a><a id="LNPLS2186"></a><a id="LNPLS1423"></a><a id="LNPLS1424"></a><a id="LNPLS1425"></a><a id="LNPLS1426"></a><a id="LNPLS1427"></a><a id="LNPLS1428"></a><a id="LNPLS1429"></a><a id="LNPLS1430"></a><a id="LNPLS1431"></a><a id="LNPLS1432"></a><a id="LNPLS1433"></a><a id="LNPLS1434"></a><a id="LNPLS1435"></a><a id="LNPLS1436"></a><a id="LNPLS1437"></a><a id="LNPLS99987"></a><a id="LNPLS1438"></a><a id="LNPLS1439"></a><a id="LNPLS1440"></a><a id="LNPLS1907"></a><a id="LNPLS1908"></a><a id="LNPLS1909"></a><a id="LNPLS1910"></a><a id="LNPLS1475"></a><a id="LNPLS1476"></a><a id="LNPLS1473"></a><a id="LNPLS1474"></a><a id="LNPLS1441"></a><a id="LNPLS1699"></a><a id="LNPLS1911"></a><a id="LNPLS1443"></a><a id="LNPLS1444"></a><a id="LNPLS1445"></a><a id="LNPLS1446"></a><a id="LNPLS1447"></a><a id="LNPLS1912"></a><a id="LNPLS1457"></a><a id="LNPLS1458"></a><a id="LNPLS1913"></a><a id="LNPLS1448"></a><a id="LNPLS1449"></a><a id="LNPLS1450"></a><a id="LNPLS1451"></a><a id="LNPLS1452"></a><a id="LNPLS1453"></a><a id="LNPLS1916"></a><a id="LNPLS1455"></a><a id="LNPLS1456"></a><a id="LNPLS1917"></a><a id="LNPLS1918"></a><a id="LNPLS1459"></a><a id="LNPLS1460"></a><a id="LNPLS1461"></a><a id="LNPLS1462"></a><a id="LNPLS1463"></a><a id="LNPLS1464"></a><a id="LNPLS1465"></a><a id="LNPLS1466"></a><a id="LNPLS1467"></a><a id="LNPLS1468"></a><a id="LNPLS1469"></a><a id="LNPLS1470"></a><a id="LNPLS1471"></a><a id="LNPLS1472"></a><a id="LNPLS1477"></a><a id="LNPLS1478"></a><a id="LNPLS1479"></a><a id="LNPLS1480"></a><a id="LNPLS1481"></a><a id="LNPLS1482"></a><a id="LNPLS1483"></a><a id="LNPLS1484"></a><a id="LNPLS1485"></a><a id="LNPLS99994"></a><a id="LNPLS1486"></a><a id="LNPLS1487"></a><a id="LNPLS1488"></a><a id="LNPLS1489"></a><a id="LNPLS1490"></a><a id="LNPLS1919"></a><a id="LNPLS99995"></a>
            
            <h2 id="LNPLS-GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD" class="sect2"><span class="enumeration_section">14.6</span> ALTER TYPE语句</h2>
         </header>
         <div class="ind">
            <div>
               <p>使用ALTER TYPE语句添加或删除成员属性或方法。您可以更改对象类型的现有属性，并可以修改该类型的标量属性。您还可以使用此语句重新编译类型的规范或正文，或通过添加新的对象成员子程序规范来更改对象类型的规范。</p>
               <div class="section">
                  <p><code class="codeph">ALTER</code> <code class="codeph">TYPE</code>语句对使用<span class="q">“ <a href="CREATE-TYPE-statement.html#GUID-389D603D-FBD0-452A-8414-240BBBC57034" title="CREATE TYPE语句指定类型的名称及其属性，方法和其他属性。">CREATE TYPE Statement</a> ”</span>和<span class="q">“ <a href="CREATE-TYPE-BODY-statement.html#GUID-B468D6FB-75ED-436B-80E4-8460E4551AE0" title="CREATE TYPE BODY定义或实现使用CREATE TYPE语句创建的类型规范中定义的成员方法。">CREATE TYPE BODY Statement</a> ”</span>创建的类型执行以下操作之一：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">演变</span>类型;也就是说，添加或删除成员属性或方法。
                        </p>
                        <p>有关类型演变的更多信息，请参阅<a href="../adobj/type-evolution.html#ADOBJ00603" target="_blank"><span class="italic">Oracle数据库对象关系开发人员指南</span></a> 。
                        </p>
                     </li>
                     <li>
                        <p>通过添加对象成员子程序规范来更改类型的规范。</p>
                     </li>
                     <li>
                        <p>重新编译类型的规范或正文。</p>
                     </li>
                     <li>
                        <p>将类型的版本重置为1，以便不再将其视为进化版本。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-37946842-75FE-4CF7-8850-31C1FD8395B6">话题</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="ALTER-TYPE-statement.html#GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__BABJDJIH">先决条件</a></p>
                     </li>
                     <li>
                        <p><a href="ALTER-TYPE-statement.html#GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__BABFHIFB">句法</a></p>
                     </li>
                     <li>
                        <p><a href="ALTER-TYPE-statement.html#GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__G2262971">语义</a></p>
                     </li>
                     <li>
                        <p><a href="ALTER-TYPE-statement.html#GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__G2265470">例子</a></p>
                     </li>
                     <li>
                        <p><a href="ALTER-TYPE-statement.html#GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__BABFFFFF">相关话题</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__BABJDJIH">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-61FB6A0F-3F95-474D-A587-76FD93132228">先决条件</p>
                  <p>如果类型在<code class="codeph">SYS</code>模式中，则必须以<code class="codeph">SYSDBA</code>身份连接。否则，类型必须在您的模式中，并且您必须具有<code class="codeph">CREATE</code> <code class="codeph">TYPE</code>或<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">TYPE</code>系统特权，或者您必须具有<code class="codeph">ALTER</code> <code class="codeph">ANY</code> <code class="codeph">TYPE</code>系统特权。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__BABFHIFB">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-CD299FE8-E6E6-442D-BFE2-85704FBFBA06">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-B8402A17-8229-483F-9574-D4A44C476E4A"><span class="italic">alter_type</span> :: =</p>
                  <div class="figure" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-F586C46B-48D1-4E8C-A9CC-BC8B819C38E3"><img src="img/alter_type.gif" alt="alter_type.eps的描述如下" title="alter_type.eps的描述如下" longdesc="img_text/alter_type.html"><br><a href="img_text/alter_type.html">说明alter_type.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-FDB12241-AA62-47B3-AAAC-CDA8D895E483"><span class="italic">alter_type_clause</span> :: =</p>
                  <div class="figure" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-572F9F6B-045C-4A87-A5E7-66B73C39ADB4"><img src="img/alter_type_clause.gif" alt="alter_type_clause.eps的描述如下" title="alter_type_clause.eps的描述如下" longdesc="img_text/alter_type_clause.html"><br><a href="img_text/alter_type_clause.html">说明alter_type_clause.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <a href="ALTER-TYPE-statement.html#GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2161217">type_compile_clause :: =</a> ， <a href="ALTER-TYPE-statement.html#GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2121140">type_replace_clause :: =</a> ， <a href="ALTER-TYPE-statement.html#GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2112566">alter_attribute_definition :: =</a> ， <a href="ALTER-TYPE-statement.html#GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2112555">alter_method_spec :: =</a> ， <a href="ALTER-TYPE-statement.html#GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2129758">alter_collections_clauses :: =</a> ， <a href="ALTER-TYPE-statement.html#GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2112577">dependent_handling_clause :: =</a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2161217">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-A69C2837-0594-4CF3-B52D-E7BD93D717ED"><span class="italic">type_compile_clause</span> :: =</p>
                  <div class="figure" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-16CE75C0-BBF8-42AC-A0F5-224B87AE499D"><img src="img/type_compile_clause.gif" alt="下面是type_compile_clause.eps的描述" title="下面是type_compile_clause.eps的描述" longdesc="img_text/type_compile_clause.html"><br><a href="img_text/type_compile_clause.html">插图说明type_compile_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <a href="COMPILE-clause.html#GUID-FB890581-9F65-474B-9D86-6E318110AD5F__COMPILER_PARAMETERS_CLAUSE-7FF866D9">compiler_parameters_clause :: =</a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2121140">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-A8B672B3-5E73-452B-AB43-B0EDD14FBE7D"><span class="italic">type_replace_clause</span> :: =</p>
                  <div class="figure" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-542E5503-BF9E-406A-BCCD-B25CC69137BD"><img src="img/type_replace_clause.gif" alt="下面是type_replace_clause.eps的描述" title="下面是type_replace_clause.eps的描述" longdesc="img_text/type_replace_clause.html"><br><a href="img_text/type_replace_clause.html">插图描述type_replace_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <a href="ACCESSIBLE-BY-clause.html#GUID-9720619C-9862-4123-96E7-3E85F240FF36__ACCESSIBLE_BY_CLAUSE-0B7B66E4">accessible_by_clause :: =</a> ， <a href="invokers_rights_clause.html#GUID-66745CF3-81D9-491B-BD49-E83E05A5C4E4__INVOKER_RIGHTS_CLAUSE-0566ECA9">invoker_rights_clause :: =</a> ， <a href="element-specification.html#GUID-20D95D8A-5C17-4C89-9AAB-1852CDB57CE2__I2121918">element_spec :: =</a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2112555">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-FA234553-EAB5-4B07-AD61-F1CDAD3D64AE"><span class="italic">alter_method_spec</span> :: =</p>
                  <div class="figure" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-F3C11A75-D81D-4AB1-9BFC-246D1621A4DF"><img src="img/alter_method_spec.gif" alt="下面是alter_method_spec.eps的描述" title="下面是alter_method_spec.eps的描述" longdesc="img_text/alter_method_spec.html"><br><a href="img_text/alter_method_spec.html">说明alter_method_spec.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <a href="element-specification.html#GUID-20D95D8A-5C17-4C89-9AAB-1852CDB57CE2__I2121991">map_order_function_spec :: =</a> ， <a href="element-specification.html#GUID-20D95D8A-5C17-4C89-9AAB-1852CDB57CE2__I2112600">subprogram_spec :: =</a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2112566">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-BED1FB19-3E9C-4533-870B-0EADC1E92231"><span class="italic">alter_attribute_definition</span> :: =</p>
                  <div class="figure" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-AF08D61A-B38D-484E-AD0E-EB58672C872E"><img src="img/alter_attribute_definition.gif" alt="下面是alter_attribute_definition.eps的说明" title="下面是alter_attribute_definition.eps的说明" longdesc="img_text/alter_attribute_definition.html"><br><a href="img_text/alter_attribute_definition.html">说明alter_attribute_definition.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2129758">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-6B353DB2-73F2-406B-9D1E-0473197B40FA"><span class="italic">alter_collections_clauses</span> :: =</p>
                  <div class="figure" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-75D34E96-FA46-49D2-801E-14844B547EEF"><img src="img/alter_collection_clauses.gif" alt="alter_collection_clauses.eps的描述如下" title="alter_collection_clauses.eps的描述如下" longdesc="img_text/alter_collection_clauses.html"><br><a href="img_text/alter_collection_clauses.html">说明alter_collection_clauses.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2112577">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-BDB7BF6E-76B4-4CD9-A595-C29AECE7B0E5"><span class="italic">dependent_handling_clause</span> :: =</p>
                  <div class="figure" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-BE090E9B-A98E-4A23-93F1-BE7337B9B45C"><img src="img/dependent_handling_clause.gif" alt="依赖描述dependent_handling_clause.eps" title="依赖描述dependent_handling_clause.eps" longdesc="img_text/dependent_handling_clause.html"><br><a href="img_text/dependent_handling_clause.html">插图描述dependent_handling_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-866E5881-D71E-4644-8A82-B53490846DE1"><span class="italic">exceptions_clause</span> :: =</p>
                  <div class="figure" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-ADAE0DBD-F650-46AA-A4C6-229E93ED3687"><img src="img/exceptions_clause.gif" alt="下面描述了exceptions_clause.eps" title="下面描述了exceptions_clause.eps" longdesc="img_text/exceptions_clause.html"><br><a href="img_text/exceptions_clause.html">例外描述exceptions_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__G2262971">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-F2BB6C59-0868-438C-861E-A53522C2D2FC">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-7DAEC2C9-AD10-4FA5-A97E-0686212391BE"><span class="italic">alter_type</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">模式</span></span></p>
                  <p>包含该类型的架构的名称。<span class="bold">默认值：</span>您的架构。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">TYPE_NAME</span></span></p>
                  <p>ADT， <code class="codeph">VARRAY</code>类型或嵌套表类型的名称。
                  </p>
                  <p><span class="bold">对<span class="italic">type_name的</span>限制</span></p>
                  <p>您无法改进已编辑的ADT。</p>
                  <p>如果满足以下任一条件，则<code class="codeph">ALTER</code> <code class="codeph">TYPE</code>语句将失败并显示ORA-22348：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>类型是已编辑的ADT， <code class="codeph">ALTER</code> <code class="codeph">TYPE</code>语句没有<span class="italic"><code class="codeph">type_compile_clause</code></span> 。
                        </p>
                        <p>（您可以使用<code class="codeph">ALTER</code> <code class="codeph">TYPE</code>语句重新编译已编辑的对象类型，但不能用于任何其他目的。）
                        </p>
                     </li>
                     <li>
                        <p>该类型的依赖项是已编辑的ADT， <code class="codeph">ALTER</code> <code class="codeph">TYPE</code>语句具有<code class="codeph">CASCADE</code>子句。
                        </p>
                     </li>
                  </ul>
                  <p>已<span class="bold">编辑的对象</span>是具有可编辑对象类型的架构对象，由已为其启用版本的用户创建。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">{版权|不可取的}</span></p>
                  <p>指定类型是否成为editioned或noneditioned对象，如果editioning为架构对象类型后启用<code class="codeph">TYPE</code>的<span class="italic"><code class="codeph">schema</code></span> 。<span class="bold">默认值：</span> <code class="codeph">EDITIONABLE</code> 。有关更改已编辑和未编辑的对象的信息，请参阅“ <a href="../adfns/editions.html#ADFNS1287" target="_blank"><span class="italic">Oracle数据库开发指南”</span></a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-AB5C33BD-9192-4BAF-B235-7D3D4B4BF6FE"><span class="italic">alter_type_clause</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">重启</span></p>
                  <p>将此类型的版本重置为1，以便不再将其视为进化版本。</p>
                  <div class="infoboxnote" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-859D2BF1-C821-4751-82DB-08D879E58801">
                     <p class="notep1">注意：</p>
                     <p>将此类型的版本重置为1会使其所有依赖项无效。</p>
                  </div>
                  <p><code class="codeph">RESET</code>适用于阻止其所有者启用版本的演进ADT。有关为用户启用版本的信息，请参阅“ <a href="../adfns/editions.html#ADFNS99878" target="_blank"><span class="italic">Oracle数据库开发指南”</span></a> 。
                  </p>
                  <p>要查看ADT的版本号，请从静态数据字典视图<code class="codeph">*_TYPE_VERSIONS</code>选择<code class="codeph">VERSION#</code> 。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT Version＃FROM DBA_TYPE_VERSIONS WHERE Owner = <span class="italic">schema</span> AND Name =' <span class="italic">type_name'AND</span> Type ='TYPE'</pre><p>对于演进的ADT，前面的查询返回具有不同版本号的多个行。<code class="codeph">RESET</code>删除版本号小于最大版本号的每一行，并将剩余行的版本号重置为1。
                  </p>
                  <p><span class="bold">对RESET的限制</span></p>
                  <p>如果类型具有任何表依赖项（直接或间接），则不能指定<code class="codeph">RESET</code> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">[NOT]不可思议</span></p>
                  <p>如果可以构造此类型的对象实例，请指定<code class="codeph">INSTANTIABLE</code> 。
                  </p>
                  <p>如果此类型不存在构造函数（默认或用户定义），请指定<code class="codeph">NOT</code> <code class="codeph">INSTANTIABLE</code> 。必须为具有不可实例化方法的任何类型以及任何没有属性的类型（在此语句中继承或指定）指定这些关键字。
                  </p>
                  <p><span class="bold">对不可行的限制</span></p>
                  <p>如果类型具有任何表依赖项，则无法将用户定义的类型从<code class="codeph">INSTANTIABLE</code>更改为<code class="codeph">NOT</code> <code class="codeph">INSTANTIABLE</code> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2129717">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-B25DC4E1-9C2C-43A5-9859-8B1B9D4B0FA4">[NOT]最终</p>
                  <p>如果不能为此类型创建其他子类型，请指定<code class="codeph">FINAL</code> 。
                  </p>
                  <p>如果可以在此类型下创建更多子类型，请指定<code class="codeph">NOT</code> <code class="codeph">FINAL</code> 。
                  </p>
                  <p>如果将属性从<code class="codeph">FINAL</code>更改为<code class="codeph">NOT</code> <code class="codeph">FINAL</code> ，或者相反，则必须指定<span class="q">“ <a href="ALTER-TYPE-statement.html#GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__DEPENDENT_HANDLING_CLAUSE-5B4FC23C">dependent_handling_clause</a> ”</span>的<code class="codeph">CASCADE</code>子句以转换依赖列和表中的数据。特别：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果将类型从<code class="codeph">NOT</code> <code class="codeph">FINAL</code>更改为<code class="codeph">FINAL</code> ，则必须指定<code class="codeph">CASCADE</code> [ <code class="codeph">INCLUDING</code> <code class="codeph">TABLE</code> <code class="codeph">DATA</code> ]。您不能使用<code class="codeph">CASCADE</code> <code class="codeph">NOT</code> <code class="codeph">INCLUDING</code> <code class="codeph">TABLE</code> <code class="codeph">DATA</code>推迟数据转换。</p>
                     </li>
                     <li>
                        <p>如果将类型从<code class="codeph">FINAL</code>更改为<code class="codeph">NOT</code> <code class="codeph">FINAL</code> ，则：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果要创建该类型的可替换表和列，请指定<code class="codeph">CASCADE</code> <code class="codeph">INCLUDING</code> <code class="codeph">TABLE</code> <code class="codeph">DATA</code> ，但不关心现有从属表和列的可替换性。
                              </p>
                              <p>该数据库标志着所有现有从属的列和表<code class="codeph">NOT</code> <code class="codeph">SUBSTITUTABLE</code> <code class="codeph">AT</code> <code class="codeph">ALL</code> <code class="codeph">LEVELS</code> ，所以你不能插入改变类型的子类型实例到这些现有的列和表。
                              </p>
                           </li>
                           <li>
                              <p>如果要创建该类型的可替换表和列，并将已更改类型的子类型实例存储在现有依赖表和列中，请指定<code class="codeph">CASCADE</code> <code class="codeph">CONVERT</code> <code class="codeph">TO</code> <code class="codeph">SUBSTITUTABLE</code> 。
                              </p>
                              <p>该数据库标志着所有现有从属的列和表<code class="codeph">SUBSTITUTABLE</code> <code class="codeph">AT</code> <code class="codeph">ALL</code> <code class="codeph">LEVELS</code>除了那些明确标记<code class="codeph">NOT</code> <code class="codeph">SUBSTITUTABLE</code> <code class="codeph">AT</code> <code class="codeph">ALL</code> <code class="codeph">LEVELS</code> 。</p>
                              <div class="infoboxnotealso" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-35555EA1-C137-482E-B0BB-855D8CF39ED7">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="../adobj/type-evolution.html#ADOBJ00603" target="_blank"><span class="italic">Oracle数据库对象关系开发人员指南</span></a> ，全面讨论ADT发展</p>
                              </div>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p><span class="bold">对FINAL的限制</span></p>
                  <p>如果类型具有任何子类型，则无法将用户定义的类型从<code class="codeph">NOT</code> <code class="codeph">FINAL</code>更改为<code class="codeph">FINAL</code> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-6F223B50-B09B-4DEB-86CB-DF69A6AB05E0"><span class="italic">type_compile_clause</span></p>
                  <p><span class="bold">（默认）重新</span>编译类型规范和正文。
                  </p>请参阅<a href="COMPILE-clause.html#GUID-FB890581-9F65-474B-9D86-6E318110AD5F__COMPILE_CLAUSE-7FF5EDA3">compile_clause</a>和<a href="COMPILE-clause.html#GUID-FB890581-9F65-474B-9D86-6E318110AD5F__COMPILER_PARAMETERS_CLAUSE-7FF6AB83">compiler_parameters_clause</a>语义。
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-9A2F8A2A-ECF2-4093-A96D-E3AD97F62E99"><span class="italic">type_replace_clause</span></p>从Oracle Database 12c第2版（12.2）开始，不推荐使用<code class="codeph"><span class="codeinlineitalic">type_replace_clause</span></code> 。请改用<code class="codeph"><span class="codeinlineitalic">alter_method_spec</span></code>子句。或者，您可以使用<code class="codeph">CREATE OR REPLACE TYPE</code>语句重新创建类型。
                  <p>添加成员子程序规范。</p>
                  <p><span class="bold">对<span class="italic">type_replace_clause的</span>限制</span></p>
                  <p>此子句仅对ADT有效，而不对嵌套表或varrays有效。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">属性</span></span></p>
                  <p>对象属性的名称。属性是具有名称和类型说明符的数据项，这些数据项构成对象的结构。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="italic">element_spec</span></p>
                  <p>指定重新定义的对象的元素。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-F29E254F-7097-409F-A05B-39D71B4662EB"><span class="italic">alter_method_spec</span></p>
                  <p>从类型添加方法或从方法中删除方法。数据库禁用任何依赖于类型的基于函数的索引。</p>
                  <p>在一个<code class="codeph">ALTER</code> <code class="codeph">TYPE</code>语句中，您可以添加或删除多个方法，但只能引用每个方法一次。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">加</span></p>
                  <p>添加方法时，其名称不得与其类型层次结构中的任何现有属性冲突。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">下降</span></p>
                  <p>删除方法时，数据库将从目标类型中删除该方法。</p>
                  <p><span class="bold">对DROP的限制</span></p>
                  <p>您不能从子类型中删除从其超类型继承的方法。相反，您必须从超类型中删除该方法。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-EA77D744-56AA-4D75-8E52-3205587F8206"><span class="italic">alter_attribute_definition</span></p>
                  <p>添加，删除或修改ADT的属性。在一个<code class="codeph">ALTER</code> <code class="codeph">TYPE</code>语句中，您可以添加，删除或修改多个成员属性或方法，但只能引用每个属性或方法一次。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">添加属性</span></p>
                  <p>属性的名称不得与类型层次结构中的现有属性或方法冲突。数据库将该属性添加到本地定义的属性列表的末尾。</p>
                  <p>如果将属性添加到超类型，则它将由其所有子类型继承。在子类型中，继承的属性始终位于声明的属性之前。因此，在将属性添加到超类型后，可能需要更新隐式更改的子类型的映射。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">DROP ATTRIBUTE</span></p>
                  <p>从类型中删除属性时，数据库将删除与已删除属性对应的列以及引用已删除属性的任何索引，统计信息和约束。</p>
                  <p>您无需指定要删除的属性的数据类型。</p>
                  <p><span class="bold">DROP ATTRIBUTE的限制</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能删除从超类型继承的属性。相反，您必须从超类型中删除该属性。</p>
                     </li>
                     <li>
                        <p>您不能删除属于分区，子分区或群集键的属性。</p>
                        <div class="infoboxnote" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-7ED11D24-C3A1-4263-972A-6790249F528D">
                           <p class="notep1">警告：</p>
                           <p>如果使用<code class="codeph">INVALIDATE</code>选项，则编译器不会检查依赖项;因此，此规则未得到执行。但是，丢弃此类属性会使表处于不可用状态。
                           </p>
                        </div>
                     </li>
                     <li>
                        <p>您不能删除对象表的基于主键的对象标识符或索引组织表的主键的属性。</p>
                     </li>
                     <li>
                        <p>您不能删除根类型的所有属性。相反，你必须放弃类型。但是，您可以删除子类型的所有本地声明的属性。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">修改属性</span></p>
                  <p>修改现有标量属性的数据类型。例如，您可以增加<code class="codeph">VARCHAR2</code>或<code class="codeph">RAW</code>属性的长度，或者可以增加数字属性的精度或比例。
                  </p>
                  <p><span class="bold">对MODIFY ATTRIBUTE的限制</span></p>
                  <p>您无法扩展基于函数的索引，域索引或群集键中引用的属性的大小。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-4D15C0D5-726B-4169-BF68-624DB29031AD"><span class="italic">alter_collection_clauses</span></p>
                  <p>这些子句仅对集合类型有效。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">MODIFY LIMIT <span class="italic">整数</span></span></p>
                  <p>增加varray中元素的数量。它对嵌套表无效。指定一个大于varray中当前最大元素数的整数。</p><span class="bold"></span><p><span class="bold">MODIFY ELEMENT TYPE <span class="italic">数据类型</span></span></p>
                  <p>增加varray或嵌套表的标量数据类型的精度，大小或长度。该条款对ADT集合无效。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于<code class="codeph">NUMBER</code>的集合，您可以提高精度或比例。
                        </p>
                     </li>
                     <li>
                        <p>对于<code class="codeph">RAW</code>的集合，您可以增加最大尺寸。
                        </p>
                     </li>
                     <li>
                        <p>对于<code class="codeph">VARCHAR2</code>或<code class="codeph">NVARCHAR2</code>的集合，您可以增加最大长度。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__DEPENDENT_HANDLING_CLAUSE-5B4FC23C">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__DEPENDENT_HANDLING_CLAUSE-5000D0E8"><span class="italic">dependent_handling_clause</span></p>
                  <p id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2079300">指定数据库如何处理依赖于已修改类型的对象。如果省略此子句，则如果类型具有任何依赖类型或表，则<code class="codeph">ALTER</code> <code class="codeph">TYPE</code>语句将终止。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">INVALIDATE</span></p>
                  <p>使所有依赖对象无效而没有任何检查机制。从Oracle Database 12c第2版（12.2）开始，不推荐使用<code class="codeph">INVALIDATE</code>命令。Oracle建议您改用<code class="codeph">CASCADE</code>子句。
                  </p>
                  <div class="infoboxnote" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-989B67A8-3D62-4335-9385-F36300D958E9">
                     <p class="notep1">警告：</p>
                     <p>数据库不验证类型更改，因此请谨慎使用此子句。例如，如果删除作为分区或群集键的属性，则表将变为不可用。</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">级联</span></p>
                  <p>将类型更改传播到依赖类型和表。如果在依赖类型或表中发现任何错误，数据库将终止该语句，除非您还指定<code class="codeph">FORCE</code> 。</p>
                  <p>如果在<code class="codeph">FINAL</code>和<code class="codeph">NOT</code> <code class="codeph">FINAL</code>之间更改类型的属性，则必须指定此子句以转换依赖列和表中的数据。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">包括表格数据</span></p>
                  <p><span class="bold">（默认）</span>将存储在所有用户定义列中的数据转换为列类型的最新版本。
                  </p>
                  <div class="infoboxnote" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-58B58563-9290-41FD-B45E-EFA14A2A2C5E">
                     <p class="notep1">注意：</p>
                     <p>如果列数据采用Oracle数据库版本8.0映像格式，则必须指定此子句。如果要更改<code class="codeph">FINAL</code>和<code class="codeph">NOT</code> <code class="codeph">FINAL</code>之间的type属性，则还需要此子句</p>
                  </div>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于添加到列类型的每个属性，数据库会向数据添加属性并将其初始化为null。</p>
                     </li>
                     <li>
                        <p>对于从引用类型中删除的每个属性，数据库将从表中的每一行中删除相应的属性数据。</p>
                     </li>
                  </ul>
                  <p>如果指定<code class="codeph">INCLUDING</code> <code class="codeph">TABLE</code> <code class="codeph">DATA</code> ，则包含表数据的所有表空间必须处于读/写模式。
                  </p>
                  <p>如果指定<code class="codeph">NOT</code> <code class="codeph">INCLUDING</code> <code class="codeph">TABLE</code> <code class="codeph">DATA</code> ，则数据库会升级列的元数据以反映对类型的更改，但不扫描从属列并将此数据更新为此<code class="codeph">ALTER</code> <code class="codeph">TYPE</code>语句的一部分。但是，依赖列数据仍然可访问，并且后续数据查询的结果反映了类型修改。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">转换为可替换的</span></p>
                  <p>如果要将类型从<code class="codeph">FINAL</code>更改为<code class="codeph">NOT</code> <code class="codeph">FINAL</code>并且要创建该类型的可替换表和列，并且还要在现有依赖表和列中存储已更改类型的子类型实例，请指定此子句。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-8D7DD30F-70AA-438C-B4EA-D1C0707FCC1E"><span class="italic">exceptions_clause</span></p>
                  <p><span class="bold">力</span></p>
                  <p>如果希望数据库忽略依赖表和索引中的错误并记录指定异常表中的所有错误，请指定<code class="codeph">FORCE</code> 。必须通过运行<code class="codeph">DBMS_UTILITY</code>创建异常表。 <code class="codeph">CREATE_ALTER_TYPE_ERROR_TABLE</code>程序。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__G2265470">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-D368232B-A181-4C7E-9910-98BD8CB46E29">例子</p>
                  <p>有关创建这些示例中引用的类型的示例，请参阅<span class="q">“ <a href="CREATE-TYPE-statement.html#GUID-389D603D-FBD0-452A-8414-240BBBC57034" title="CREATE TYPE语句指定类型的名称及其属性，方法和其他属性。">CREATE TYPE语句</a> ”</span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2115685">
                  <p class="titleinexample">示例14-7添加成员函数</p>
                  <p>此示例使用ADT <code class="codeph">data_typ1</code> 。
                  </p>
                  <p>将一个方法添加到<code class="codeph">data_typ1</code>并修改其类型主体以对应。日期格式与<code class="codeph">oe.orders</code>示例表的<code class="codeph">order_date</code>列一致。
                  </p><pre class="oac_no_warn" dir="ltr">ALTER TYPE data_typ1 ADD MEMBER FUNCTION qtr（der_qtr DATE）RETURN CHAR CASCADE;创建或替换类型身体data_typ1是会员功能prod（发明号码）返回号码是开始返回（年+发明）;结束;成员函数qtr（der_qtr DATE）返回CHAR是否开始IF（der_qtr &lt;TO_DATE（'01 -APR'，'DD-MON'））然后返回'FIRST'; ELSIF（der_qtr &lt;TO_DATE（'01 -JUL'，'DD-MON'））然后返回'SECOND'; ELSIF（der_qtr &lt;TO_DATE（'01 -OCT'，'DD-MON'））然后返回'第三'; ELSE RETURN'FOURTH';万一;结束;结束; /</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2123852">
                  <p class="titleinexample">示例14-8添加集合属性</p>
                  <p>此示例将<code class="codeph">author</code>属性添加到<code class="codeph">text</code>表的<code class="codeph">textdoc_tab</code>对象列。
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE文本（doc_id NUMBER，description textdoc_tab）NESTED TABLE description STORE AS text_store; ALTER TYPE textdoc_typ ADD ATTRIBUTE（作者VARCHAR2）CASCADE;</pre><p><code class="codeph">CASCADE</code>关键字是必需的，因为<code class="codeph">textdoc_tab</code>和<code class="codeph">text</code>表都依赖于<code class="codeph">textdoc_typ</code>类型。
                  </p>
               </div>
               <!-- class="example" -->
               <div class="example" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2147552">
                  <p class="titleinexample">示例14-9增加集合类型的元素数</p>
                  <p>此示例增加了varray <code class="codeph">phone_list_typ_demo</code>的最大元素数。
                  </p><pre class="oac_no_warn" dir="ltr">ALTER TYPE phone_list_typ_demo MODIFY LIMIT 10 CASCADE;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2147536">
                  <p class="titleinexample">示例14-10增加集合类型的长度</p>
                  <p>此示例增加了varray元素类型<code class="codeph">phone_list_typ</code>的长度。
                  </p><pre class="oac_no_warn" dir="ltr">ALTER TYPE phone_list_typ MODIFY ELEMENT TYPE VARCHAR（64）CASCADE;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2115744">
                  <p class="titleinexample">示例14-11重新编译类型</p>
                  <p>此示例在<code class="codeph">hr</code>模式中重新编译类型<code class="codeph">cust_address_typ</code> 。
                  </p><pre class="oac_no_warn" dir="ltr">ALTER TYPE cust_address_typ2 COMPILE;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__I2115755">
                  <p class="titleinexample">示例14-12重新编译类型规范</p>
                  <p>此示例编译<code class="codeph">link2</code>的类型规范。
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE link1 AS OBJECT（一个NUMBER）; / CREATE TYPE link2 AS OBJECT（NUMBER，b link1， <span class="italic">MEMBER FUNCTION p（c1 NUMBER）RETURN NUMBER</span> ）; / CREATE TYPE BODY LINK2作为<span class="italic">成员函数P（C1 NUMBER）RETURN数目是</span> <span class="italic">BEGIN</span> <span class="italic">DBMS_OUTPUT.PUT_LINE（C1）;</span> <span class="italic">返回c1;</span> <span class="italic">结束;</span>结束; /</pre><p>在此示例中， <code class="codeph">link2</code>的规范和主体都无效，因为<code class="codeph">link1</code> （ <code class="codeph">link2</code>的属性）被更改。
                  </p><pre class="oac_no_warn" dir="ltr">ALTER TYPE link1 ADD ATTRIBUTE（b NUMBER）INVALIDATE;</pre><p>您必须通过在单独的语句中重新编译规范和正文来重新编译该类型：</p><pre class="oac_no_warn" dir="ltr">ALTER TYPE link2编译规范; ALTER TYPE link2 COMPILE BODY;</pre><p>或者，您可以同时编译规范和正文：</p><pre class="oac_no_warn" dir="ltr">ALTER TYPE link2 COMPILE;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__BABHDDFE">
                  <p class="titleinexample">例14-13演进和重置ADT</p>
                  <p>此示例在模式<code class="codeph">Usr</code>创建ADT，演化该ADT，然后尝试启用<code class="codeph">Usr</code>版本，该版本失败。
                  </p>
                  <p>然后，该示例将ADT的版本重置为1，并成功启用<code class="codeph">Usr</code>版本。要显示新创建，演进和重置ADT的版本号，该示例使用静态数据字典视图<code class="codeph">DBA_TYPE_VERSIONS</code> 。</p><pre class="oac_no_warn" dir="ltr"><span class="bold">- 在模式Usr中创建ADT：</span>创建类型Usr。My_ADT authid定义者是对象（a1号码） <span class="bold">- 显示ADT的版本号：</span>选择版本号＃|| Chr（10）||来自DBA_Type_Versions的文本t其中Owner ='USR'和Type_Name ='MY_ADT'/</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">T ------------------------------------------------- ------------------------------- <span class="bold">1</span> type My_ADT authid Definer是对象（a1编号）选择的1行。

<span class="bold">- 进化ADT：</span>改变类型Usr。My_ADT添加属性（a2编号）/ <span class="bold">- 显示演进ADT的版本号：</span>选择版本号＃|| Chr（10）||来自DBA_Type_Versions的文本t其中Owner ='USR'和Type_Name ='MY_ADT'/</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">T ------------------------------------------------- ------------------------------- <span class="bold">1</span> type My_ADT authid Definer是object（a1 number） <span class="bold">2</span> type My_ADT authid Definer是object（ a1 number） <span class="bold">2</span>更改类型My_ADT添加属性（a2编号） <span class="bold">选择3行。</span>

<span class="bold">- 尝试为Usr启用版本：</span> alter user Usr enable editions /</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">alter user Usr启用版本* <span class="bold">第1行的错误：</span> <span class="bold">ORA-38820：用户已演化对象类型</span> <span class="bold">- 将ADT版本重置为1：</span> alter type Usr。My_ADT重置/ <span class="bold">- 显示重置ADT的版本号：</span>选择版本号＃|| Chr（10）||来自DBA_Type_Versions的文本t，其中Owner ='USR'和Type_Name ='MY_ADT'/</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">T ------------------------------------------------- ------------------------------- <span class="bold">1</span> type My_ADT authid Definer是object（a1 number） <span class="bold">1</span> alter type My_ADT add attribute（a2数量） <span class="bold">选择2行。</span>

<span class="bold">- 尝试为Usr启用版本：</span> alter user Usr enable editions /</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr"><span class="bold">用户改动了。</span></pre></div>
               <!-- class="example" -->
               <div class="section" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__BABFFFFF">
                  <p class="subhead1" id="GUID-A8B449E7-E3A8-48F4-A4C6-5BB87B1841CD__GUID-F7B9B645-016F-49CA-98B8-359886315B61">相关话题</p>
                  <p>在这一章当中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="CREATE-TYPE-statement.html#GUID-389D603D-FBD0-452A-8414-240BBBC57034" title="CREATE TYPE语句指定类型的名称及其属性，方法和其他属性。">创建类型声明</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="CREATE-TYPE-BODY-statement.html#GUID-B468D6FB-75ED-436B-80E4-8460E4551AE0" title="CREATE TYPE BODY定义或实现使用CREATE TYPE语句创建的类型规范中定义的成员方法。">CREATE TYPE BODY声明</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="DROP-TYPE-statement.html#GUID-EDB83D12-26B5-42D1-9DB6-BD8AAB6490EC" title="DROP TYPE语句删除ADT，VARRAY类型或嵌套表类型的规范和正文。">DROP TYPE声明</a> ”</span></p>
                     </li>
                  </ul>
                  <p>在其他书籍中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>有关版本的更多信息，请参见<a href="../adfns/editions.html#ADFNS99923" target="_blank"><span class="italic">“Oracle数据库开发指南</span></a></p>
                     </li>
                     <li>
                        <p>有关pragma的更多信息，请参见<a href="../adfns/sql-processing-for-application-developers.html#ADFNS007" target="_blank"><span class="italic">Oracle数据库开发指南</span></a></p>
                     </li>
                     <li>
                        <p><a href="../adobj/type-evolution.html#ADOBJ00603" target="_blank"><span class="italic">“Oracle数据库对象关系开发人员指南”</span></a> ，了解有关修改类型属性时不包括表数据的含义的更多信息</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="01040.DBMS_JSON.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_JSON package provides an interface for data-guide operations."></meta>
      <meta name="description" content="The DBMS_JSON package provides an interface for data-guide operations."></meta>
      <title>DBMS_JSON</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_JSON package provides an interface for data-guide operations."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_JOB.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_LDAP.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_JOB.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_LDAP.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_JSON</li>
            </ol>
            <a id="GUID-167D0318-6E54-44CA-802F-CB65D94CE36F" name="GUID-167D0318-6E54-44CA-802F-CB65D94CE36F"></a>
            
            <h2 id="ARPLS-GUID-167D0318-6E54-44CA-802F-CB65D94CE36F" class="sect2"><span class="enumeration_chapter">90</span> DBMS_JSON</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_JSON</code>包提供了数据引导操作的接口。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_JSON.html#GUID-D060369B-6CB1-4543-9373-FBA8D890793E" title="包DBMS_JSON提供了用于处理存储在Oracle数据库中的JavaScript Object Notation（JSON）数据的子程序。">DBMS_JSON概述</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_JSON.html#GUID-2947DBB7-CBCF-4C2B-9E6C-4D1B1ADB640A" title="PUBLIC被授予包DBMS_JSON的EXECUTE特权。它的子程序以调用者的权限特权执行。">DBMS_JSON安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_JSON.html#GUID-F9032949-7FE1-4A31-AA4B-4A2775F0CBE6" title="DBMS_JSON包使用这些常量来定义JSON模式类型和数据指南格式选项。">DBMS_JSON常量</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_JSON.html#GUID-E7EC7B9E-8232-4316-83B2-4042B45E2AA5" title="此表列出了DBMS_JSON子程序并简要描述了它们。">DBMS_JSON子程序摘要</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-D060369B-6CB1-4543-9373-FBA8D890793E" name="GUID-D060369B-6CB1-4543-9373-FBA8D890793E"></a><h3 id="ARPLS-GUID-D060369B-6CB1-4543-9373-FBA8D890793E" class="sect3"><span class="enumeration_section">90.1</span> DBMS_JSON概述</h3>
               <div>
                  <p>包<code class="codeph">DBMS_JSON</code>提供了用于处理存储在Oracle数据库中的JavaScript Object Notation（JSON）数据的子程序。
                  </p>
               </div>
            </div>
            <div class="sect2"><a id="GUID-2947DBB7-CBCF-4C2B-9E6C-4D1B1ADB640A" name="GUID-2947DBB7-CBCF-4C2B-9E6C-4D1B1ADB640A"></a><h3 id="ARPLS-GUID-2947DBB7-CBCF-4C2B-9E6C-4D1B1ADB640A" class="sect3"><span class="enumeration_section">90.2</span> DBMS_JSON安全模型</h3>
               <div>
                  <p><code class="codeph">PUBLIC</code>被授予包<code class="codeph">DBMS_JSON</code>的<code class="codeph">EXECUTE</code>特权。它的子程序以调用者的权限特权执行。
                  </p>
               </div>
            </div>
            <div class="sect2"><a id="GUID-F9032949-7FE1-4A31-AA4B-4A2775F0CBE6" name="GUID-F9032949-7FE1-4A31-AA4B-4A2775F0CBE6"></a><h3 id="ARPLS-GUID-F9032949-7FE1-4A31-AA4B-4A2775F0CBE6" class="sect3"><span class="enumeration_section">90.3</span> DBMS_JSON常量</h3>
               <div>
                  <p>DBMS_JSON包使用这些常量来定义JSON模式类型和数据指南格式选项。</p>
                  <div class="tblformal" id="GUID-F9032949-7FE1-4A31-AA4B-4A2775F0CBE6__GUID-BE023D4F-674A-47BB-AD76-364EF6EC703A">
                     <p class="titleintable">表90-1为JSON数据指南格式定义的DBMS_JSON常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="为JSON数据指南格式定义的DBMS_JSON常量" border="1" summary="This table describes constants used by DBMS_JSON subprograms to define formatting options." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d485748e420">名称</th>
                              <th align="left" valign="bottom" width="20%" id="d485748e422">值</th>
                              <th align="left" valign="bottom" width="20%" id="d485748e424">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d485748e428" headers="d485748e420 ">FORMAT_FLAT</td>
                              <td align="left" valign="top" width="20%" headers="d485748e428 d485748e422 ">2</td>
                              <td align="left" valign="top" width="20%" headers="d485748e428 d485748e424 ">显示平面格式</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d485748e435" headers="d485748e420 ">FORMAT_HIERARCHICAL</td>
                              <td align="left" valign="top" width="20%" headers="d485748e435 d485748e422 ">1</td>
                              <td align="left" valign="top" width="20%" headers="d485748e435 d485748e424 ">显示分层格式</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d485748e442" headers="d485748e420 ">漂亮</td>
                              <td align="left" valign="top" width="20%" headers="d485748e442 d485748e422 ">1</td>
                              <td align="left" valign="top" width="20%" headers="d485748e442 d485748e424 ">使用适当的缩进来提高可读性</td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-F9032949-7FE1-4A31-AA4B-4A2775F0CBE6__GUID-C27A6757-FDFD-4E13-9D4D-0604D56E01D3">
                     <p class="titleintable">表90-2 JSON模式类型的DBMS_JSON常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_JSON JSON模式类型的常量" border="1" summary="This table describes constants used by DBMS_JSON subprograms to define the field types for JSON values." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d485748e460">名称</th>
                              <th align="left" valign="bottom" width="20%" id="d485748e462">类型</th>
                              <th align="left" valign="bottom" width="20%" id="d485748e464">值</th>
                              <th align="left" valign="bottom" width="20%" id="d485748e466">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d485748e470" headers="d485748e460 ">TYPE_ARRAY</td>
                              <td align="left" valign="top" width="20%" headers="d485748e470 d485748e462 ">2号）</td>
                              <td align="left" valign="top" width="20%" headers="d485748e470 d485748e464 ">6</td>
                              <td align="left" valign="top" width="20%" headers="d485748e470 d485748e466 ">一个JSON数组</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d485748e479" headers="d485748e460 ">TYPE_BOOLEAN</td>
                              <td align="left" valign="top" width="20%" headers="d485748e479 d485748e462 ">2号）</td>
                              <td align="left" valign="top" width="20%" headers="d485748e479 d485748e464 ">2</td>
                              <td align="left" valign="top" width="20%" headers="d485748e479 d485748e466 ">一个JSON布尔值</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d485748e488" headers="d485748e460 ">TYPE_OBJECT</td>
                              <td align="left" valign="top" width="20%" headers="d485748e488 d485748e462 ">2号）</td>
                              <td align="left" valign="top" width="20%" headers="d485748e488 d485748e464 ">五</td>
                              <td align="left" valign="top" width="20%" headers="d485748e488 d485748e466 ">一个JSON对象</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d485748e497" headers="d485748e460 ">TYPE_NULL</td>
                              <td align="left" valign="top" width="20%" headers="d485748e497 d485748e462 ">2号）</td>
                              <td align="left" valign="top" width="20%" headers="d485748e497 d485748e464 ">1</td>
                              <td align="left" valign="top" width="20%" headers="d485748e497 d485748e466 ">JSON NULL值</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d485748e506" headers="d485748e460 ">TYPE_NUMBER</td>
                              <td align="left" valign="top" width="20%" headers="d485748e506 d485748e462 ">2号）</td>
                              <td align="left" valign="top" width="20%" headers="d485748e506 d485748e464 ">3</td>
                              <td align="left" valign="top" width="20%" headers="d485748e506 d485748e466 ">一个JSON号码</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d485748e515" headers="d485748e460 ">TYPE_STRING</td>
                              <td align="left" valign="top" width="20%" headers="d485748e515 d485748e462 ">2号）</td>
                              <td align="left" valign="top" width="20%" headers="d485748e515 d485748e464 ">4</td>
                              <td align="left" valign="top" width="20%" headers="d485748e515 d485748e466 ">一个JSON字符串</td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-E7EC7B9E-8232-4316-83B2-4042B45E2AA5" name="GUID-E7EC7B9E-8232-4316-83B2-4042B45E2AA5"></a><h3 id="ARPLS-GUID-E7EC7B9E-8232-4316-83B2-4042B45E2AA5" class="sect3"><span class="enumeration_section">90.4</span> DBMS_JSON子程序摘要</h3>
               <div>
                  <p>此表列出了<code class="codeph">DBMS_JSON</code>子程序并简要描述了它们。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-E7EC7B9E-8232-4316-83B2-4042B45E2AA5__GUID-1854FF7B-741E-4C68-86EB-BE9393A16C43">DBMS_JSON包子程序</p>
                     <div class="tblformal" id="GUID-E7EC7B9E-8232-4316-83B2-4042B45E2AA5__TABLE-1512-F302E07A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="This table lists the DBMS_JSON subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d485748e625">子程序</th>
                                 <th align="left" valign="bottom" id="d485748e627">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d485748e631" headers="d485748e625 "><a href="DBMS_JSON.html#GUID-69DD0940-58EA-48D8-A635-097A6BA7A31B" title="此过程根据数据指南添加虚拟列。">ADD_VIRTUAL_COLUMNS过程</a></td>
                                 <td align="left" valign="top" headers="d485748e631 d485748e627 ">
                                    <p>根据数据指南信息添加虚拟列。</p>
                                    <p>在分片目录服务器上运行时，这不起作用 - 不添加任何虚拟列。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d485748e643" headers="d485748e625 "><a href="DBMS_JSON.html#GUID-9A634A69-6F96-43E2-9A44-80FD21E262C1" title="此过程使用数据指南中指定的标量JSON字段创建具有关系列的视图。此过程不需要启用数据指南的JSON搜索索引;数据指南传递给过程。">CREATE_VIEW程序</a></td>
                                 <td align="left" valign="top" headers="d485748e643 d485748e627 ">使用数据指南中指定的关系列和标量JSON字段创建视图。</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d485748e652" headers="d485748e625 "><a href="DBMS_JSON.html#GUID-F6FCD886-191D-4F2E-8767-62CFDC762FC1" title="此过程使用顶级标量值和给定路径下展开的子树中的标量值创建具有关系列的视图。JSON列必须具有启用数据引导的搜索索引。">CREATE_VIEW_ON_PATH过程</a></td>
                                 <td align="left" valign="top" headers="d485748e652 d485748e627 ">
                                    <p>基于数据引导信息创建视图，在给定路径下使用关系列，顶级标量类型和完全展开的子树。</p>
                                    <p>在分片目录服务器上运行时，会引发错误，指出数据指南为空。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d485748e664" headers="d485748e625 "><a href="DBMS_JSON.html#GUID-119D090B-A309-4A2F-887F-A40B4266D68C" title="删除使用PL / SQL过程DBMS_JSON.add_virtual_columns或使用数据指南更改触发器过程add_vc添加的所有虚拟列。">DROP_VIRTUAL_COLUMNS过程</a></td>
                                 <td align="left" valign="top" headers="d485748e664 d485748e627 ">
                                    <p>删除由过程<code class="codeph">add_virtual_columns</code>创建的虚拟列。
                                    </p>
                                    <p>在分片目录服务器上运行时，这不起作用。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d485748e685" headers="d485748e625 "><a href="DBMS_JSON.html#GUID-52B63CEE-669C-46FB-A276-56F7C6ECD036" title="GET_INDEX_DATAGUIDE从启用了数据指南的JSON搜索索引中获取JSON数据指南。">GET_INDEX_DATAGUIDE函数</a></td>
                                 <td align="left" valign="top" headers="d485748e685 d485748e627 ">
                                    <p>从支持数据指南的JSON搜索索引中获取JSON数据指南。</p>
                                    <p>在分片目录服务器上运行时，返回一个空行作为结果。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d485748e699" headers="d485748e625 "><a href="DBMS_JSON.html#GUID-0E802354-4508-4DF7-A07A-6999F3337CA5" title="此过程设置JSON列的首选名称，供create视图使用，或添加虚拟列过程。">RENAME_COLUMN程序</a></td>
                                 <td align="left" valign="top" headers="d485748e699 d485748e627 ">
                                    <p>使用数据指南设置视图列或虚拟列的首选名称。</p>
                                    <p>在分片目录服务器上运行时，这不起作用。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-E7EC7B9E-8232-4316-83B2-4042B45E2AA5__GUID-6E0B95AB-3BD2-4F38-AD9E-32AEBCE07E06">
                        <p class="notep1">注意：</p>
                        <p>在分片的上下文中，每个单独的分片都维护自己的数据引导信息，该信息是从存储在该分片中的JSON文档中获取的。在单个分片上运行时，此程序包中使用数据引导信息的过程仅使用为该分片维护的信息。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div class="sect3"><a id="GUID-69DD0940-58EA-48D8-A635-097A6BA7A31B" name="GUID-69DD0940-58EA-48D8-A635-097A6BA7A31B"></a><h4 id="ARPLS-GUID-69DD0940-58EA-48D8-A635-097A6BA7A31B" class="sect4"><span class="enumeration_section">90.4.1</span> ADD_VIRTUAL_COLUMNS过程</h4>
                  <div>
                     <p>此过程根据数据指南添加虚拟列。</p>
                     <div class="section">
                        <p>虚拟列名称是数据指南中<code class="codeph">o:preferred_vc_name</code>的值。该过程忽略数据指南中数组下的JSON对象，数组和字段。在添加虚拟列之前，过程<code class="codeph">add_virtual_columns</code>首先删除通过先前调用<code class="codeph">add_virtual_columns</code>或通过数据引导更改触发器过程<code class="codeph">add_vc</code>从同一JSON列中的字段投影的任何现有虚拟列（实际上，它执行<code class="codeph">DBMS_JSON.drop_virtual_columns</code>过程） <code class="codeph">DBMS_JSON.drop_virtual_columns</code> ）。
                        </p>
                        <div class="infoboxnotealso" id="GUID-69DD0940-58EA-48D8-A635-097A6BA7A31B__GUID-6F4EBBD2-933E-40A6-9FC3-76CDD3A951A2">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="DBMS_JSON.html#GUID-119D090B-A309-4A2F-887F-A40B4266D68C" title="删除使用PL / SQL过程DBMS_JSON.add_virtual_columns或使用数据指南更改触发器过程add_vc添加的所有虚拟列。">DROP_VIRTUAL_COLUMNS过程</a></p>
                              </li>
                              <li>
                                 <p><a href="../adjsn/json-dataguide.html#ADJSN-GUID-7AEF436C-B743-4BA1-B6D4-1F1B98E26DB1" target="_blank"><span><cite>Oracle数据库JSON开发人员指南</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69DD0940-58EA-48D8-A635-097A6BA7A31B__GUID-ECB3DA9A-3200-420D-8ED2-C2F95DCBAA54">句法</p><pre class="pre codeblock"><code>DBMS_JSON.ADD_VIRTUAL_COLUMNS（tablename IN VARCHAR2，jcolname IN VARCHAR2，dataguide IN CLOB）;</code></pre><p>对于以下签名，您必须在JSON列上具有启用数据引导的搜索索引。（以前的签名不需要这样做。）</p><pre class="pre codeblock"><code>DBMS_JSON.ADD_VIRTUAL_COLUMNS（tablename IN VARCHAR2，jcolname IN VARCHAR2，频率NUMBER DEFAULT 0，隐藏BOOLEAN DEFAULT FALSE）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69DD0940-58EA-48D8-A635-097A6BA7A31B__PARAMETERS-EEB761D0">参数</p>
                        <div class="tblformal" id="GUID-69DD0940-58EA-48D8-A635-097A6BA7A31B__GUID-9C2EA4B5-F291-4EBD-B15D-7DB59C7EC170">
                           <p class="titleintable">表90-3 ADD_VIRTUAL_COLUMNS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADD_VIRTUAL_COLUMNS过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_JSON.ADD_VIRTUAL_COLUMNS procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d485748e863">参数</th>
                                    <th align="left" valign="bottom" width="20%" id="d485748e865">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e869" headers="d485748e863 "><code class="codeph">表名</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e869 d485748e865 ">包含JSON列<code class="codeph">jcolname</code>的表的名称。
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e878" headers="d485748e863 "><code class="codeph">jcolname</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e878 d485748e865 ">表<code class="codeph">tablename</code>中JSON列的名称，其中包含用于创建虚拟列的数据。
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e887" headers="d485748e863 "><code class="codeph">频率</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e887 d485748e865 ">设置显示JSON列的最小频率阈值。频率为0表示显示所有JSON列。此外，如果尚未收集统计信息，则会显示所有JSON列，从而有效地覆盖此参数设置的任何值。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e893" headers="d485748e863 "><code class="codeph">隐</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e893 d485748e865 "><code class="codeph">TRUE</code>表示隐藏添加的虚拟列; <code class="codeph">FALSE</code>意味着它不是。默认值为<code class="codeph">FALSE</code> 。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e907" headers="d485748e863 "><code class="codeph">dataguide</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e907 d485748e865 ">数据指南。当<code class="codeph">o:hidden</code>在特定JSON字段的数据指南中<code class="codeph">o:hidden</code>设置为<code class="codeph">TRUE</code> ，相应的虚拟列将添加为隐藏列。<code class="codeph">o:hidden</code>的默认值为<code class="codeph">FALSE</code> 。</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69DD0940-58EA-48D8-A635-097A6BA7A31B__GUID-82909A09-A071-4130-AE70-67BB8604D4EF">使用说明</p>
                        <p>过程<code class="codeph">DBMS_STATS.GATHER_STATS</code>收集数据指南中的统计信息。如果尚未收集频率统计，则频率为<code class="codeph">NULL</code> 。将频率设置为大于零的值意味着不包括没有收集频率统计信息的列（统计信息为<code class="codeph">NULL</code> ），除非从未执行过<code class="codeph">DBMS_STATS.GATHER_STATS</code> 。在这种情况下，将忽略频率参数，并在视图中显示所有列。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-9A634A69-6F96-43E2-9A44-80FD21E262C1" name="GUID-9A634A69-6F96-43E2-9A44-80FD21E262C1"></a><h4 id="ARPLS-GUID-9A634A69-6F96-43E2-9A44-80FD21E262C1" class="sect4"><span class="enumeration_section">90.4.2</span> CREATE_VIEW程序</h4>
                  <div>
                     <p>此过程使用数据指南中指定的标量JSON字段创建具有关系列的视图。此过程不需要启用数据指南的JSON搜索索引;数据指南传递给过程。</p>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-9A634A69-6F96-43E2-9A44-80FD21E262C1__GUID-43229AED-CD19-4255-9D43-53FCD9633E3D">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../adjsn/json-dataguide.html#ADJSN-GUID-394009D2-F829-49B0-B6EF-DB24606FEF75" target="_blank"><span><cite>Oracle数据库JSON开发人员指南</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9A634A69-6F96-43E2-9A44-80FD21E262C1__GUID-267CC4CA-EA0C-40CF-8C46-30A64B2B233D">句法</p>
                        <p>（可选）在此处输入语法信息。</p><pre class="pre codeblock"><code>PROCEDURE CREATE_VIEW（viewname VARCHAR2，tablename VARCHAR2，jcolname VARCHAR2，dataguide CLOB）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9A634A69-6F96-43E2-9A44-80FD21E262C1__GUID-06731B11-3380-4903-96C3-F80D2F9065D9">参数</p>
                        <div class="tblformal" id="GUID-9A634A69-6F96-43E2-9A44-80FD21E262C1__DBMS_JSON.CREATE_VIEWPROCEDUREPARAM-F5EC64B7">
                           <p class="titleintable">表90-4 DBMS_JSON.CREATE_VIEW过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_JSON.CREATE_VIEW过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_JSON.CREATE_VIEW procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d485748e1058">参数</th>
                                    <th align="left" valign="bottom" width="20%" id="d485748e1060">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1064" headers="d485748e1058 "><code class="codeph">视图名</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1064 d485748e1060 ">视图的名称。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1070" headers="d485748e1058 "><code class="codeph">表名</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1070 d485748e1060 ">包含JSON列<code class="codeph">jcolname</code>的表的名称。
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1079" headers="d485748e1058 "><code class="codeph">jcolname</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1079 d485748e1060 ">表<code class="codeph">tablename</code>中用于创建视图的JSON列的名称。
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1088" headers="d485748e1058 "><code class="codeph">dataguide</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1088 d485748e1060 ">数据指南。</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-F6FCD886-191D-4F2E-8767-62CFDC762FC1" name="GUID-F6FCD886-191D-4F2E-8767-62CFDC762FC1"></a><h4 id="ARPLS-GUID-F6FCD886-191D-4F2E-8767-62CFDC762FC1" class="sect4"><span class="enumeration_section">90.4.3</span> CREATE_VIEW_ON_PATH过程</h4>
                  <div>
                     <p>此过程使用顶级标量值和给定路径下展开的子树中的标量值创建具有关系列的视图。JSON列必须具有启用数据引导的搜索索引。</p>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-F6FCD886-191D-4F2E-8767-62CFDC762FC1__GUID-CB3E7892-DBF3-4F1A-8330-10E2CA586874">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../adjsn/json-dataguide.html#ADJSN-GUID-394009D2-F829-49B0-B6EF-DB24606FEF75" target="_blank"><span><cite>Oracle数据库JSON开发人员指南</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F6FCD886-191D-4F2E-8767-62CFDC762FC1__GUID-8ECF2494-427E-4085-9624-31C095D98235">句法</p><pre class="pre codeblock"><code>PROCEDURE CREATE_VIEW_ON_PATH（viewname VARCHAR2，tablename VARCHAR2，jcolname VARCHAR2，path VARCHAR2，frequency NUMBER DEFAULT 0）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F6FCD886-191D-4F2E-8767-62CFDC762FC1__PARAMETERS-EEB761D0">参数</p>
                        <div class="tblformal" id="GUID-F6FCD886-191D-4F2E-8767-62CFDC762FC1__CREATE_VIEW_ON_PATHPROCEDUREPARAMET-F5F0073E">
                           <p class="titleintable">表90-5 CREATE_VIEW_ON_PATH过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_VIEW_ON_PATH过程参数" width="100%" border="1" summary="This table describes the parameters of procedure DBMS_JSON.CREATE_VIEW_ON_PATH." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d485748e1207">参数</th>
                                    <th align="left" valign="bottom" width="20%" id="d485748e1209">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1213" headers="d485748e1207 "><code class="codeph">视图名</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1213 d485748e1209 ">视图的名称。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1219" headers="d485748e1207 "><code class="codeph">表名</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1219 d485748e1209 ">包含JSON列<code class="codeph">jcolname</code>的表的名称。
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1228" headers="d485748e1207 "><code class="codeph">jcolname</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1228 d485748e1209 ">表<code class="codeph">tablename</code>中用于创建视图的JSON列的名称。该列必须具有启用数据引导的JSON搜索索引，否则会引发错误。
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1237" headers="d485748e1207 "><code class="codeph">路径</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1237 d485748e1209 ">要扩展的JSON字段的路径。它使用JSON路径表达式语法。它会扩展指定路径下的后代，并为生成的子树中的每个标量值创建视图列。路径<code class="codeph">$</code>从JSON文档根开始创建视图。
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1246" headers="d485748e1207 "><code class="codeph">频率</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1246 d485748e1209 ">显示JSON列的最小频率阈值。频率为0表示显示所有JSON列。如果尚未收集统计信息，则还会显示所有JSON列，从而有效地覆盖此参数设置的任何值。视图仅显示频率大于给定<code class="codeph">frequency</code> JSON字段。如果给定频率大于0，则它不显示在收集统计信息后添加的JSON字段，如果它们的统计列为<code class="codeph">NULL</code> 。</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-119D090B-A309-4A2F-887F-A40B4266D68C" name="GUID-119D090B-A309-4A2F-887F-A40B4266D68C"></a><h4 id="ARPLS-GUID-119D090B-A309-4A2F-887F-A40B4266D68C" class="sect4"><span class="enumeration_section">90.4.4</span> DROP_VIRTUAL_COLUMNS过程</h4>
                  <div>
                     <p>删除使用PL / SQL过程<code class="codeph">DBMS_JSON.add_virtual_columns</code>或使用数据指南更改触发器过程<code class="codeph">add_vc</code>添加的所有虚拟列。
                     </p>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-119D090B-A309-4A2F-887F-A40B4266D68C__GUID-39365208-AC0D-40F4-AAFA-F10C975414E9">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="DBMS_JSON.html#GUID-69DD0940-58EA-48D8-A635-097A6BA7A31B" title="此过程根据数据指南添加虚拟列。">ADD_VIRTUAL_COLUMNS过程</a></p>
                              </li>
                              <li>
                                 <p><a href="../adjsn/json-dataguide.html#ADJSN-GUID-3526B063-FCD8-4F78-94E4-1A2E07F115E1" target="_blank"><span><cite>Oracle数据库JSON开发人员指南</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-119D090B-A309-4A2F-887F-A40B4266D68C__GUID-BCFFA55D-5F78-413B-8DB7-3DD8451F55E3">句法</p>
                        <div class="p"><pre class="pre codeblock"><code>PROCEDURE DROP_VIRTUAL_COLUMNS（tablename VARCHAR2，jcolname VARCHAR2）;</code></pre></div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-119D090B-A309-4A2F-887F-A40B4266D68C__PARAMETERS-F5F341A5">参数</p>
                        <div class="tblformal" id="GUID-119D090B-A309-4A2F-887F-A40B4266D68C__DBMS_JSON.DROP_VIRTUAL_COLUMNSPROCE-F5F33F1E">
                           <p class="titleintable">表90-6 DBMS_JSON.DROP_VIRTUAL_COLUMNS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_JSON.DROP_VIRTUAL_COLUMNS过程参数" width="100%" border="1" summary="This table describes the parameters of procedure DBMS_JSON.DROP_VIRTUAL_COLUMNS." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d485748e1387">参数</th>
                                    <th align="left" valign="bottom" width="20%" id="d485748e1389">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1393" headers="d485748e1387 "><code class="codeph">表名</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1393 d485748e1389 ">包含JSON列<code class="codeph">jcolname</code>的表的名称。
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1402" headers="d485748e1387 "><code class="codeph">jcolname</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1402 d485748e1389 ">表<code class="codeph">tablename</code> JSON列的名称。
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-52B63CEE-669C-46FB-A276-56F7C6ECD036" name="GUID-52B63CEE-669C-46FB-A276-56F7C6ECD036"></a><h4 id="ARPLS-GUID-52B63CEE-669C-46FB-A276-56F7C6ECD036" class="sect4"><span class="enumeration_section">90.4.5</span> GET_INDEX_DATAGUIDE函数</h4>
                  <div>
                     <p><code class="codeph">GET_INDEX_DATAGUIDE</code>从启用了数据指南的JSON搜索索引中获取JSON数据指南。
                     </p>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-52B63CEE-669C-46FB-A276-56F7C6ECD036__GUID-17CC8454-C9C5-4372-A752-A0EFDCC34FAA">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../adjsn/json-dataguide.html#ADJSN-GUID-B57975A8-3000-4F21-BB22-DC413F06D6DB" target="_blank"><span><cite>Oracle数据库JSON开发人员指南</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-52B63CEE-669C-46FB-A276-56F7C6ECD036__GUID-8FAEE1AA-A74A-4739-86B9-6C8F2F938DC7">句法</p><pre class="pre codeblock"><code>功能GET_INDEX_DATAGUIDE（tablename VARCHAR2，jcolname VARCHAR2，格式NUMBER，非常NUMBER DEFAULT 0）RETURN CLOB;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-52B63CEE-669C-46FB-A276-56F7C6ECD036__PARAMETERS-F5F4301F">参数</p>
                        <div class="tblformal" id="GUID-52B63CEE-669C-46FB-A276-56F7C6ECD036__DBMS_JSON.GET_INDEX_DATAGUIDEPROCED-F5F432C1">
                           <p class="titleintable">表90-7 DBMS_JSON.GET_INDEX_DATAGUIDE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_JSON.GET_INDEX_DATAGUIDE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_JSON.GET_INDEX_DATAGUIDE procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d485748e1527">参数</th>
                                    <th align="left" valign="bottom" width="20%" id="d485748e1529">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1533" headers="d485748e1527 "><code class="codeph">表名</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1533 d485748e1529 ">包含JSON列<code class="codeph">jcolname</code>的表的名称。
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1542" headers="d485748e1527 "><code class="codeph">jcolname</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1542 d485748e1529 ">表<code class="codeph">tablename</code>中具有启用数据引导的JSON搜索索引的JSON列的名称。
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1551" headers="d485748e1527 "><code class="codeph">格式</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1551 d485748e1529 ">数据指南格式：<ul style="list-style-type:disc">
                                          <li><code class="codeph">FORMAT_HIERARCHICAL</code> - 分层格式</li>
                                          <li><code class="codeph">FORMAT_FLAT</code> - 平面格式</li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1566" headers="d485748e1527 "><code class="codeph">漂亮</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1566 d485748e1529 ">值<code class="codeph">DBMS_JSON.PRETTY</code>意味着打印数据指南，使用缩进来提高可读性。
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-52B63CEE-669C-46FB-A276-56F7C6ECD036__GUID-FF1DE776-7EA4-4C37-AF6C-96118A643D42">
                        <p class="titleinexample">示例90-1以分层漂亮格式获取数据指南的示例</p>
                        <p>此示例以分层格式返回数据指南。</p><pre class="pre codeblock"><code>SELECT DBMS_JSON.GET_INDEX_DATAGUIDE（'T1'，'PO'，DBMS_JSON.FORMAT_HIERARCHICAL，DBMS_JSON.PRETTY）FROM DUAL;</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-0E802354-4508-4DF7-A07A-6999F3337CA5" name="GUID-0E802354-4508-4DF7-A07A-6999F3337CA5"></a><h4 id="ARPLS-GUID-0E802354-4508-4DF7-A07A-6999F3337CA5" class="sect4"><span class="enumeration_section">90.4.6</span> RENAME_COLUMN过程</h4>
                  <div>
                     <p>此过程设置JSON列的首选名称，供create视图使用，或添加虚拟列过程。</p>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-0E802354-4508-4DF7-A07A-6999F3337CA5__GUID-02746E2A-FE3A-4D7E-8AA1-D830AB1B89FB">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../adjsn/json-dataguide.html#ADJSN-GUID-D8448CB1-0350-4848-B07E-9370B3B1A9BE" target="_blank"><span><cite>Oracle数据库JSON开发人员指南</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0E802354-4508-4DF7-A07A-6999F3337CA5__GUID-599C3F00-6710-40C4-8945-2C138FC544F3">句法</p><pre class="pre codeblock"><code>PROCEDURE RENAME_COLUMN（tablename VARCHAR2，jcolname VARCHAR2，path VARCHAR2，type NUMBER，preferred_name VARCHAR2）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0E802354-4508-4DF7-A07A-6999F3337CA5__PARAMETERS-F5F6742D">参数</p>
                        <div class="tblformal" id="GUID-0E802354-4508-4DF7-A07A-6999F3337CA5__RENAME_COLUMNPROCEDUREPARAMETERS-F5F6773E">
                           <p class="titleintable">表90-8 RENAME_COLUMN过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RENAME_COLUMN过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_JSON.RENAME_COLUMN  procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d485748e1695">参数</th>
                                    <th align="left" valign="bottom" width="20%" id="d485748e1697">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1701" headers="d485748e1695 "><code class="codeph">表名</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1701 d485748e1697 ">包含JSON列<code class="codeph">jcolname</code>的表的名称。
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1710" headers="d485748e1695 "><code class="codeph">jcolname</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1710 d485748e1697 ">表<code class="codeph">tablename</code> JSON列的名称。它必须具有启用数据引导的JSON搜索索引，否则会引发错误。
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1719" headers="d485748e1695 "><code class="codeph">路径</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1719 d485748e1697 ">JSON字段的路径，用于设置首选列名称。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1725" headers="d485748e1695 "><code class="codeph">类型</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1725 d485748e1697 "><code class="codeph">path</code>针对的JSON字段的类型。如果两个JSON字段的类型不同，则它们可以具有相同的路径。可能的值：<ul style="list-style-type:disc">
                                          <li><code class="codeph">TYPE_NULL</code></li>
                                          <li><code class="codeph">TYPE_STRING</code></li>
                                          <li><code class="codeph">TYPE_NUMBER</code></li>
                                          <li><code class="codeph">TYPE_BOOLEAN</code></li>
                                          <li> <code class="codeph">TYPE_OBJECT</code></li>
                                          <li> <code class="codeph">TYPE_ARRAY</code></li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d485748e1755" headers="d485748e1695 "><code class="codeph">preferred_name</code></td>
                                    <td align="left" valign="top" width="20%" headers="d485748e1755 d485748e1697 "><code class="codeph">path</code>指定的JSON字段的首选名称。如果存在名称冲突，则使用系统生成的名称。
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-0E802354-4508-4DF7-A07A-6999F3337CA5__GUID-19568509-709A-40E0-8F4A-9DB66EBA85CA">
                        <p class="titleinexample">示例90-2重命名列的示例</p>
                        <p>此示例将字段重命名为item_name。</p><pre class="pre codeblock"><code>EXEC DBMS_JSON.RENAME_COLUMN（'T1'，'PO'，'$ .purchaseOrder.items.name'，DBMS_JSON.TYPE_STRING，'item_name'）;</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00949.ANYDATA-TYPE.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="An ANYDATA TYPE contains an instance of a given type, plus a description of the type. In this sense, an ANYDATA is self-describing. An ANYDATA can be persistently stored in the database."></meta>
      <meta name="description" content="An ANYDATA TYPE contains an instance of a given type, plus a description of the type. In this sense, an ANYDATA is self-describing. An ANYDATA can be persistently stored in the database."></meta>
      <title>ANYDATA TYPE</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="An ANYDATA TYPE contains an instance of a given type, plus a description of the type. In this sense, an ANYDATA is self-describing. An ANYDATA can be persistently stored in the database."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="WPG_DOCLOAD.html" title="Previous" type="text/html"></link>
      <link rel="next" href="ANYDATASET-TYPE.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="WPG_DOCLOAD.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="ANYDATASET-TYPE.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ANYDATA TYPE</li>
            </ol>
            <a id="GUID-08696B1A-5E92-45C6-89E9-00F934311797" name="GUID-08696B1A-5E92-45C6-89E9-00F934311797"></a><a id="ARPLS077"></a><a id="ARPLS077"></a>
            
            <h2 id="ARPLS-GUID-08696B1A-5E92-45C6-89E9-00F934311797" class="sect2"><span class="enumeration_chapter">271</span> ANYDATA TYPE</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">ANYDATA</code> TYPE包含给定类型的实例，以及类型的描述。从这个意义上说， <code class="codeph">ANYDATA</code>是自我描述的。<code class="codeph">ANYDATA</code>可以持久存储在数据库中。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="ANYDATA-TYPE.html#GUID-A638946B-0E1F-4EDE-8CA6-B5D96187D39E" title="目前不支持持久存储其类型包含除BFILE之外的嵌入式LOB的ANYDATA实例。">限制</a></p>
                  </li>
                  <li>
                     <p><a href="ANYDATA-TYPE.html#GUID-4DAF6DFF-AED2-4724-A1EF-CA10C75E0C4A" title="本节包含与ANYDATA TYPE构造和访问相关的注释。">操作说明</a></p>
                  </li>
                  <li>
                     <p><a href="ANYDATA-TYPE.html#GUID-CC631358-20AC-4B25-962D-B34634AF7252" title="该表按字母顺序列出了ANYDATA子程序，并简要描述了它们。">ANYDATA子程序摘要</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS71603"></a><a id="ARPLS71603"></a><div class="props_rev_3"><a id="GUID-A638946B-0E1F-4EDE-8CA6-B5D96187D39E" name="GUID-A638946B-0E1F-4EDE-8CA6-B5D96187D39E"></a><h3 id="ARPLS-GUID-A638946B-0E1F-4EDE-8CA6-B5D96187D39E" class="sect3"><span class="enumeration_section">271.1</span> ANDDATA TYPE限制</h3>
               <div>
                  <p>目前不支持持久存储其类型包含除<code class="codeph">BFILE</code>的嵌入式LOB的<code class="codeph">ANYDATA</code>实例。
                  </p>
               </div>
            </div><a id="ARPLS71604"></a><a id="ARPLS71604"></a><div class="props_rev_3"><a id="GUID-4DAF6DFF-AED2-4724-A1EF-CA10C75E0C4A" name="GUID-4DAF6DFF-AED2-4724-A1EF-CA10C75E0C4A"></a><h3 id="ARPLS-GUID-4DAF6DFF-AED2-4724-A1EF-CA10C75E0C4A" class="sect3"><span class="enumeration_section">271.2</span> ANDDATA TYPE操作说明</h3>
               <div>
                  <p>本节包含与ANYDATA TYPE构造和访问相关的注释。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-4DAF6DFF-AED2-4724-A1EF-CA10C75E0C4A__GUID-3D581952-604F-409F-A74C-0B1A8509D452">施工</p>
                     <p>有两种方法可以构建<code class="codeph">ANYDATA</code> 。 <code class="codeph">CONVERT*</code>调用可以通过一次调用完整地构建<code class="codeph">ANYDATA</code> 。它们用作Oracle ORDBMS到<code class="codeph">ANYDATA</code>任何类型的显式CAST函数。</p><pre class="oac_no_warn" dir="ltr">静态函数ConvertBDouble（dbl IN BINARY_DOUBLE）返回ANYDATA，STATIC FUNCTION ConvertBfile（b IN BFILE）返回ANYDATA，静态函数ConvertBFloat（fl IN BINARY_FLOAT）返回ANYDATA，STATIC FUNCTION ConvertBlob（b IN BLOB）返回ANYDATA，STATIC FUNCTION ConvertChar（c IN CHAR）返回ANYDATA，静态函数ConvertClob（c IN CLOB）返回ANYDATA，静态函数ConvertCollection（col IN“collection_type”）返回任意数据，静态函数ConvertDate（dat IN DATE）返回任意数据，静态函数ConvertIntervalDS（inv in INTERVAL DAY TO SECOND ）返回ANYDATA，STATIC FUNCTION ConvertIntervalYM（invIN INTERVAL YEAR TO MONTH）返回ANYDATA，STATIC FUNCTION ConvertNchar（nc IN NCHAR）返回ANYDATA，STATIC FUNCTION ConvertNClob（nc IN NCLOB）返回ANYDATA，STATIC FUNCTION ConvertNumber（num IN NUMBER）RETURN ANYDATA，静态函数ConvertNVarchar2（nc IN NVARCHAR2）返回ANYDATA，STATIC FUNCTION ConvertObject（obj IN“&lt;object_type&gt;”）返回ANYDATA，STATIC FUNCTION ConvertRaw（r IN RAW）返回ANYDATA，静态函数ConvertRef（rf IN REF“&lt;object_type&gt;”）返回ANYDATA，静态函数ConvertTimestamp（ts IN TIMESTAMP）返回ANYDATA，STATIC FUNCTION ConvertTimestampTZ（ts TIMESTAMP WITH TIMEZONE）返回ANYDATA，STATIC FUNCTION ConvertTimestampLTZ（ts IN TIMESTAMP WITH LOCAL TIMEZONE）返回ANYDATA，STATIC FUNCTION ConvertURowid（rid IN UROWID）返回ANYDATA，STATIC FUNCTION ConvertVarchar（c IN VARCHAR）RETURN ANYDATA，STATIC FUNCTION ConvertVarchar2（c IN VARCHAR2）RETURN ANYDATA，</pre><p>构建<code class="codeph">ANYDATA</code>的第二种方法是逐件方法。<a href="ANYDATA-TYPE.html#GUID-724E8B4C-68E6-4957-B3E5-8ABAD678CB43" title="此过程开始在新的ANYDATA上创建过程。">BEGINCREATE静态过程</a>调用开始构造过程， <a href="ANYDATA-TYPE.html#GUID-8A9131D0-5FB2-4E4F-8122-FF9B6E9D38EF" title="此过程结束ANYDATA的创建。此调用后无法调用其他创建函数。">ENDCREATE成员过程</a>调用完成构造过程。在这两个调用之间，可以使用<code class="codeph">SET*</code>调用设置对象类型的各个属性或集合的元素。要逐个访问对象和集合元素的属性，应在<code class="codeph">GET*</code>调用之前调用<a href="ANYDATA-TYPE.html#GUID-45FE1E1F-E8E7-446C-9FA5-D04074F596BB" title="此过程将当前数据值的访问模式设置为一次属性（如果数据值为TYPECODE_OBJECT）。">PIECEWISE成员过程</a> 。
                     </p>
                     <p>注意：必须从第一个属性（或集合元素）开始按顺序构造或访问<code class="codeph">ANYDATA</code> 。<code class="codeph">BEGINCREATE</code>调用自动以分段模式开始构造。在<code class="codeph">PIECEWISE</code>之后<code class="codeph">BEGINCREATE</code>立即致电<code class="codeph">BEGINCREATE</code> 。应该调用<code class="codeph">ENDCREATE</code>来完成构建过程（在此之前可以进行任何访问调用）。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4DAF6DFF-AED2-4724-A1EF-CA10C75E0C4A__GUID-9574D111-59DA-4DAE-B0FA-10F8401272FD">访问</p>
                     <p>访问功能基于SQL。这些函数不会在类型不匹配上抛出异常。相反，如果<code class="codeph">ANYDATA</code>的类型与访问类型不对应，它们将返回<code class="codeph">NULL</code> 。如果你希望只使用<code class="codeph">ANYDATA</code>在查询返回的相应类型的功能，你应该使用<code class="codeph">WHERE</code>它使用条款<code class="codeph">GETTYPENAME</code> ，并选择您感兴趣的类型（比如“ <code class="codeph">SYS</code> 。 <code class="codeph">NUMBER</code> ”）。这些函数中的每一个都返回<code class="codeph">SYS.ANYDATA</code>包装器中指定数据类型的值。
                     </p><pre class="oac_no_warn" dir="ltr">成员函数AccessBDouble（self IN ANYDATA）返回BINARY_DOUBLE确定性，成员函数AccessBfile（自身IN ANYDATA）返回BFILE，成员函数AccessBFloat（自身IN ANYDATA）返回BINARY_FLOAT确定性，成员函数AccessBlob（自身IN ANYDATA）返回BLOB，成员函数AccessChar（ self IN ANYDATA）返回CHAR，成员函数AccessClob（自我IN ANYDATA）返回CLOB，成员函数AccessDate（自我IN ANYDATA）返回DATE，成员函数AccessIntervalYM（自己IN ANYDATA）返回INTERVAL年份到月份，成员函数AccessIntervalDS（自我IN ANDDATA ）返回INTERVAL DAY到第二个，成员函数AccessNchar（自我IN ANYDATA）返回NCHAR，成员函数AccessNClob（自我IN ANYDATA）返回NCLOB成员函数AccessNumber（自我IN ANYDATA）返回NUMBER，成员函数AccessNVarchar2（自己IN ANYDATA）返回NVARCHAR2，成员函数AccessRaw（自IN ANYDATA）返回RAW，成员函数AccessTimestamp（自IN ANYDATA）返回TIMESTAMP，成员函数Acce ssTimestampLTZ（self IN ANYDATA）返回TIMESTAMP WITH LOCAL TIMEZONE，成员函数AccessTimestampTZ（self IN ANYDATA）返回TIMESTAMP WITH TIMEZONE，成员函数AccessURowid（self IN ANYDATA）返回UROWID DETERMINISTIC成员函数AccessVarchar（self IN ANYDATA）返回VARCHAR，MEMBER FUNCTION AccessVarchar2 （self IN ANYDATA）返回VARCHAR2，</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS71607"></a><a id="ARPLS71608"></a><a id="ARPLS71608"></a><a id="ARPLS71607"></a><div class="props_rev_3"><a id="GUID-CC631358-20AC-4B25-962D-B34634AF7252" name="GUID-CC631358-20AC-4B25-962D-B34634AF7252"></a><h3 id="ARPLS-GUID-CC631358-20AC-4B25-962D-B34634AF7252" class="sect3"><span class="enumeration_section">271.3</span> ANYDATA子程序摘要</h3>
               <div>
                  <p>该表按字母顺序列出了<code class="codeph">ANYDATA</code>子程序，并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-CC631358-20AC-4B25-962D-B34634AF7252__GUID-232B42B6-2D95-493A-9EEB-E51D95C3E5DB">
                     <p class="titleintable">表271-1 <span class="italic"><span class="bold">ANYDATA类型子程序</span></span></p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="ANYDATA类型子程序" width="100%" border="1" summary="This table lists the ANYDATA subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d1557804e521">子程序</th>
                              <th align="left" valign="bottom" width="69%" id="d1557804e524">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1557804e529" headers="d1557804e521 ">
                                 <p><a href="ANYDATA-TYPE.html#GUID-724E8B4C-68E6-4957-B3E5-8ABAD678CB43" title="此过程开始在新的ANYDATA上创建过程。">BEGINCREATE静态过程</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1557804e529 d1557804e524 ">
                                 <p>在新的<code class="codeph">ANYDATA</code>上开始创建过程</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1557804e546" headers="d1557804e521 ">
                                 <p><a href="ANYDATA-TYPE.html#GUID-8A9131D0-5FB2-4E4F-8122-FF9B6E9D38EF" title="此过程结束ANYDATA的创建。此调用后无法调用其他创建函数。">ENDCREATE会员程序</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1557804e546 d1557804e524 ">
                                 <p>结束创建<code class="codeph">ANYDATA</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1557804e563" headers="d1557804e521 ">
                                 <p><a href="ANYDATA-TYPE.html#GUID-920DBDDF-669A-4FDB-9635-758CB0C234D3" title="这些函数获取当前数据值（应该是适当的类型）。">GET *会员职能</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1557804e563 d1557804e524 ">
                                 <p>获取当前数据值（应该是适当的类型）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1557804e575" headers="d1557804e521 ">
                                 <p><a href="ANYDATA-TYPE.html#GUID-B4BE4E7F-6007-4261-8DBE-3B3C01AC98EE" title="此函数获取ANYDATA的类型代码。">GETTYPE成员函数</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1557804e575 d1557804e524 ">
                                 <p>获取<code class="codeph">ANYDATA</code>的类型</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1557804e592" headers="d1557804e521 ">
                                 <p><a href="ANYDATA-TYPE.html#GUID-60F90506-56C1-43AE-ABCA-8219F704AA87" title="此函数获取ANYDATA的完全限定类型名称。">GETTYPENAME会员功能</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1557804e592 d1557804e524 ">
                                 <p>获取<code class="codeph">ANYDATA</code>的完全限定类型名称</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1557804e609" headers="d1557804e521 ">
                                 <p><a href="ANYDATA-TYPE.html#GUID-45FE1E1F-E8E7-446C-9FA5-D04074F596BB" title="此过程将当前数据值的访问模式设置为一次属性（如果数据值为TYPECODE_OBJECT）。">PIECEWISE会员程序</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1557804e609 d1557804e524 ">
                                 <p>将当前数据值的访问<code class="codeph">MODE</code>设置为一次属性（如果数据值为<code class="codeph">TYPECODE_OBJECT</code> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1557804e630" headers="d1557804e521 ">
                                 <p><a href="ANYDATA-TYPE.html#GUID-31ED0083-F1C7-40C3-8164-F928B764B40A" title="此过程设置当前数据值。">SET *会员手续</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1557804e630 d1557804e524 ">
                                 <p>设置当前数据值。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS71609"></a><a id="ARPLS71610"></a><a id="ARPLS71610"></a><a id="ARPLS71609"></a><div class="props_rev_3"><a id="GUID-724E8B4C-68E6-4957-B3E5-8ABAD678CB43" name="GUID-724E8B4C-68E6-4957-B3E5-8ABAD678CB43"></a><h4 id="ARPLS-GUID-724E8B4C-68E6-4957-B3E5-8ABAD678CB43" class="sect4"><span class="enumeration_section">271.3.1</span> BEGINCREATE静态程序</h4>
                  <div>
                     <p>此过程开始在新的<code class="codeph">ANYDATA</code>上创建过程。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-724E8B4C-68E6-4957-B3E5-8ABAD678CB43__GUID-D17382C5-DBCB-46F7-B3A3-5CE7183B3DA0">句法</p><pre class="oac_no_warn" dir="ltr">静态程序BeginCreate（dtype IN OUT NOCOPY AnyType，adata OUT NOCOPY ANYDATA）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-724E8B4C-68E6-4957-B3E5-8ABAD678CB43__GUID-A228C43D-20E2-4EE9-BF53-B7F7641585C8">参数</p>
                        <div class="tblformal" id="GUID-724E8B4C-68E6-4957-B3E5-8ABAD678CB43__GUID-F5FE6803-B407-400A-B35F-919BB28DC82B">
                           <p class="titleintable">表271-2 BEGINCREATE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="BEGINCREATE过程参数" width="100%" border="1" summary="This table describes the Parameters of the ANYDATA Type member subprogram BEGINCREATE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1557804e756">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1557804e759">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1557804e764" headers="d1557804e756 ">
                                       <p><code class="codeph">D型</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1557804e764 d1557804e759 ">
                                       <p><code class="codeph">ANYDATA</code>的类型。 （应该对应于<code class="codeph">OCI_TYPECODE_OBJECT</code>或Collection typecode。）
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1557804e778" headers="d1557804e756 ">
                                       <p><code class="codeph">ADATA</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1557804e778 d1557804e759 ">
                                       <p>ANYDATA正在建设中。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-724E8B4C-68E6-4957-B3E5-8ABAD678CB43__GUID-800FA11D-A3D1-4C1A-B0B9-27ADE4B7D983">例外</p>
                        <p><code class="codeph">DBMS_TYPES.INVALID_PARAMETERS</code> ： <code class="codeph">DBMS_TYPES.INVALID_PARAMETERS</code>无效（未完全构造，类似的缺陷。）
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-724E8B4C-68E6-4957-B3E5-8ABAD678CB43__GUID-2E4A1B97-52A6-4BF0-8B0A-54230EBA1F59">使用说明</p>
                        <p>此次通话后<code class="codeph">PIECEWISE</code>立即致电<code class="codeph">PIECEWISE</code> 。施工过程自动以分段方式开始。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71611"></a><a id="ARPLS71612"></a><a id="ARPLS71612"></a><a id="ARPLS71611"></a><div class="props_rev_3"><a id="GUID-8A9131D0-5FB2-4E4F-8122-FF9B6E9D38EF" name="GUID-8A9131D0-5FB2-4E4F-8122-FF9B6E9D38EF"></a><h4 id="ARPLS-GUID-8A9131D0-5FB2-4E4F-8122-FF9B6E9D38EF" class="sect4"><span class="enumeration_section">271.3.2</span> ENDCREATE会员程序</h4>
                  <div>
                     <p>此过程结束<code class="codeph">ANYDATA</code>创建。此调用后无法调用其他创建函数。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8A9131D0-5FB2-4E4F-8122-FF9B6E9D38EF__GUID-1E889B55-85DA-42C5-BFE6-B4342EAFBD2B">句法</p><pre class="oac_no_warn" dir="ltr">会员程序EndCreate（自我IN NOCOPY ANYDATA）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8A9131D0-5FB2-4E4F-8122-FF9B6E9D38EF__GUID-4FB71273-41D4-4291-85AF-9BAD0BAEB5CD">参数</p>
                        <div class="tblformal" id="GUID-8A9131D0-5FB2-4E4F-8122-FF9B6E9D38EF__GUID-C8B32469-11D7-4CC5-8B3E-0BD2FB6A6924">
                           <p class="titleintable">表271-3 ENDCREATE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ENDCREATE过程参数" width="100%" border="1" summary="This table describes the Parameters of the ANYDATA Type member subprogram ENDCREATE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1557804e916">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1557804e919">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1557804e924" headers="d1557804e916 ">
                                       <p><code class="codeph">自</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1557804e924 d1557804e919 ">
                                       <p><code class="codeph">ANYDATA</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71613"></a><a id="ARPLS71614"></a><a id="ARPLS71614"></a><a id="ARPLS71613"></a><div class="props_rev_3"><a id="GUID-920DBDDF-669A-4FDB-9635-758CB0C234D3" name="GUID-920DBDDF-669A-4FDB-9635-758CB0C234D3"></a><h4 id="ARPLS-GUID-920DBDDF-669A-4FDB-9635-758CB0C234D3" class="sect4"><span class="enumeration_section">271.3.3</span>获取*成员函数</h4>
                  <div>
                     <p>这些函数获取当前数据值（应该是适当的类型）。</p>
                     <div class="section">
                        <p>当前数据值的类型取决于访问它的MODE（取决于是否调用<code class="codeph">PIECEWISE</code>调用）。
                        </p>
                        <p>如果<code class="codeph">PIECEWISE</code>没有被调用时， <code class="codeph">ANYDATA</code>被全部访问和数据值的类型应该匹配的类型<code class="codeph">ANYDATA</code> 。</p>
                        <p>如果<code class="codeph">PIECEWISE</code>被调用， <code class="codeph">ANYDATA</code>访问分段。数据值的类型应与当前位置的属性（或集合元素）的类型匹配。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-920DBDDF-669A-4FDB-9635-758CB0C234D3__GUID-D23A7F4D-B4D6-440B-8FB8-8FEAE2FA332A">句法</p><pre class="oac_no_warn" dir="ltr">成员函数GetBDouble（自我IN ANYDATA，dbl OUT NOCOPY BINARY_DOUBLE）返回PLS_INTEGER;成员函数GetBfile（自我IN ANYDATA，b OUT NOCOPY BFILE）返回PLS_INTEGER;成员函数GetBFloat（自我IN ANYDATA，fl out NOCOPY BINARY_FLOAT）返回PLS_INTEGER;成员函数GetBlob（自我IN ANYDATA，b OUT NOCOPY BLOB）返回PLS_INTEGER;成员函数GetChar（自我IN ANYDATA，c OUT NOCOPY CHAR）返回PLS_INTEGER;成员函数GetClob（自我IN ANDDATA，c OUT NOCOPY CLOB）返回PLS_INTEGER;成员函数GetCollection（自我IN ANYDATA，col OUT NOCOPY“&lt;collection_type&gt;”）RETURN PLS_INTEGER;成员函数GetDate（自我IN ANYDATA，数据输出NOCOPY DATE）返回PLS_INTEGER;成员函数GetIntervalDS（自我IN ANYDATA，inv NOCOPY INTERVAL DAY TO SECOND）返回PLS_INTEGER;成员函数GetIntervalYM（自我IN ANYDATA，每月间隔一段时间）返回PLS_INTEGER;成员函数GetNchar（自我IN ANYDATA，nc OUT NOCOPY NCHAR）返回PLS_INTEGER;成员函数GetNClob（自我IN ANYDATA，nc OUT NOCOPY NCLOB）返回PLS_INTEGER;会员功能GetNumber（自我IN ANDDATA，数字编号）返回PLS_INTEGER;成员函数GetNVarchar2（自我IN ANYDATA，nc OUT NOCOPY NVARCHAR2）返回PLS_INTEGER;成员函数GetObject（自我IN ANYDATA，obj OUT NOCOPY“&lt;object_type&gt;”）RETURN PLS_INTEGER;会员功能GetRaw（自我IN ANDDATA，r OUT NOCOPY RAW）返回PLS_INTEGER; MMEMBER FUNCTION GetRef（自我IN ANYDATA，rf OUT NOCOPY REF“&lt;object_type&gt;”）RETURN PLS_INTEGER;成员函数GetTimestamp（自我IN ANYDATA，ts OUT NOCOPY TIMESTAMP）返回PLS_INTEGER;成员函数GetTimestampTZ（自我IN ANYDATA，ts OUT NOCOPY TIMESTAMP WITH TIME ZONE）返回PLS_INTEGER;成员函数GetTimestampLTZ（自我IN ANYDATA，ts OUT NOCOPY TIMESTAMP WITH LOCAL TIME ZONE）RETURN PLS_INTEGER;成员函数GetVarchar（自我IN ANYDATA，c OUT NOCOPY VARCHAR）返回PLS_INTEGER;成员函数GetVarchar2（自我IN ANYDATA，c OUT NOCOPY VARCHAR2）返回PLS_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-920DBDDF-669A-4FDB-9635-758CB0C234D3__GUID-29B476CE-43DC-464C-80C6-A03C7D67FCF9">参数</p>
                        <div class="tblformal" id="GUID-920DBDDF-669A-4FDB-9635-758CB0C234D3__GUID-74103A9D-B00E-4C09-BE17-4CC99259D2F1">
                           <p class="titleintable">表271-4 GET *功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET *功能参数" width="100%" border="1" summary="This table describes the Parameters of the ANYDATA Type member subprogram GET." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1557804e1071">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1557804e1074">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1557804e1079" headers="d1557804e1071 ">
                                       <p><code class="codeph">自</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1557804e1079 d1557804e1074 ">
                                       <p>ANYDATA。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1557804e1087" headers="d1557804e1071 ">
                                       <p><code class="codeph">NUM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1557804e1087 d1557804e1074 ">
                                       <p>要获得的数量。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-920DBDDF-669A-4FDB-9635-758CB0C234D3__GUID-4A780CF0-9B71-4DB1-86C5-071222139E4F">返回值</p>
                        <p><code class="codeph">DBMS_TYPES</code> 。 <code class="codeph">SUCCESS</code>或<code class="codeph">DBMS_TYPES</code> 。 <code class="codeph">NO_DATA</code></p>
                        <p>只有在已经调用<code class="codeph">PIECEWISE</code> （对于集合）时，返回值才是相关的。在这种情况下，DBMS_TYPES.NO_DATA表示访问所有元素时集合的结束。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-920DBDDF-669A-4FDB-9635-758CB0C234D3__GUID-0A05F6A7-71C1-49F8-BC45-50318FE44919">例外</p>
                        <p><code class="codeph">DBMS_TYPES.TYPE_MISMATCH</code> ：当预期类型与传入类型不同时。
                        </p>
                        <p><code class="codeph">DBMS_TYPES.INVALID_PARAMETERS</code> ：参数无效（如果在创建过程中此时不适合添加数字）。
                        </p>
                        <p><code class="codeph">DBMS_TYPES.INCORRECT_USAGE</code> ：使用不正确。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71615"></a><a id="ARPLS71616"></a><a id="ARPLS71616"></a><a id="ARPLS71615"></a><div class="props_rev_3"><a id="GUID-B4BE4E7F-6007-4261-8DBE-3B3C01AC98EE" name="GUID-B4BE4E7F-6007-4261-8DBE-3B3C01AC98EE"></a><h4 id="ARPLS-GUID-B4BE4E7F-6007-4261-8DBE-3B3C01AC98EE" class="sect4"><span class="enumeration_section">271.3.4</span> GETTYPE成员函数</h4>
                  <div>
                     <p>此函数获取<code class="codeph">ANYDATA</code>的类型代码。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B4BE4E7F-6007-4261-8DBE-3B3C01AC98EE__GUID-D519A0BD-F904-4163-9797-4A768C91E47C">句法</p><pre class="oac_no_warn" dir="ltr">成员函数GETTYPE（自我IN ANYDATA，典型的NOCOPY AnyType）RETURN PLS_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4BE4E7F-6007-4261-8DBE-3B3C01AC98EE__GUID-C67A804C-7B54-4404-951E-4F9D4B290E80">参数</p>
                        <div class="tblformal" id="GUID-B4BE4E7F-6007-4261-8DBE-3B3C01AC98EE__GUID-D83C6DD4-75D1-4E0E-AB56-3655856D80E1">
                           <p class="titleintable">表271-5 GETTYPE函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GETTYPE函数参数" width="100%" border="1" summary="This table describes the Parameters of the ANYDATA Type member subprogram GETTYPE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1557804e1244">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1557804e1247">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1557804e1252" headers="d1557804e1244 ">
                                       <p><code class="codeph">自</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1557804e1252 d1557804e1247 ">
                                       <p><code class="codeph">ANYDATA</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1557804e1263" headers="d1557804e1244 ">
                                       <p><code class="codeph">（典型值）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1557804e1263 d1557804e1247 ">
                                       <p>与ANYDATA对应的<code class="codeph">ANYDATA</code> 。如果它不表示用户定义的类型，则可以为<code class="codeph">NULL</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4BE4E7F-6007-4261-8DBE-3B3C01AC98EE__GUID-29B6E6FB-3C86-4C9C-B2C1-CB2A98BAC4A0">返回值</p>
                        <p>typecode对应于<code class="codeph">ANYDATA</code>的类型。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71617"></a><a id="ARPLS71618"></a><a id="ARPLS71618"></a><a id="ARPLS71617"></a><div class="props_rev_3"><a id="GUID-60F90506-56C1-43AE-ABCA-8219F704AA87" name="GUID-60F90506-56C1-43AE-ABCA-8219F704AA87"></a><h4 id="ARPLS-GUID-60F90506-56C1-43AE-ABCA-8219F704AA87" class="sect4"><span class="enumeration_section">271.3.5</span> GETTYPENAME成员函数</h4>
                  <div>
                     <p>此函数获取<code class="codeph">ANYDATA</code>的完全限定类型名称。</p>
                     <div class="section">
                        <p>如果<code class="codeph">ANYDATA</code>基于内置类型，此函数将返回NUMBER和其他相关信息。
                        </p>
                        <p>如果它基于用户定义的类型，则此函数将返回<span class="italic">schema_name</span> 。 <span class="italic">type_name</span> ，例如，SCOTT.FOO。</p>
                        <p>如果它基于瞬态匿名类型，则此函数将返回NULL。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-60F90506-56C1-43AE-ABCA-8219F704AA87__GUID-C19AABA4-A0C0-40E0-A285-F51DBA3BFA31">句法</p><pre class="oac_no_warn" dir="ltr">成员函数GETTYPENAME（自我IN ANYDATA）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-60F90506-56C1-43AE-ABCA-8219F704AA87__GUID-CCE931E7-E771-4519-AA2C-6DB9A2AE3A1C">参数</p>
                        <div class="tblformal" id="GUID-60F90506-56C1-43AE-ABCA-8219F704AA87__GUID-11D2907B-6818-4F2A-8F01-7C7D09B68B12">
                           <p class="titleintable">表271-6 GETTYPENAME函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GETTYPENAME函数参数" width="100%" border="1" summary="This table describes the Parameters of the ANYDATA Type member subprogram GETTYPENAME." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1557804e1416">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1557804e1419">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1557804e1424" headers="d1557804e1416 ">
                                       <p><code class="codeph">自</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1557804e1424 d1557804e1419 ">
                                       <p><code class="codeph">ANYDATA</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-60F90506-56C1-43AE-ABCA-8219F704AA87__GUID-8767FE2A-C174-42BE-988A-A0A661C40A0F">返回值</p>
                        <p>输入<code class="codeph">ANYDATA</code>名称。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71619"></a><a id="ARPLS71620"></a><a id="ARPLS71620"></a><a id="ARPLS71619"></a><div class="props_rev_3"><a id="GUID-45FE1E1F-E8E7-446C-9FA5-D04074F596BB" name="GUID-45FE1E1F-E8E7-446C-9FA5-D04074F596BB"></a><h4 id="ARPLS-GUID-45FE1E1F-E8E7-446C-9FA5-D04074F596BB" class="sect4"><span class="enumeration_section">271.3.6</span> PIECEWISE会员程序</h4>
                  <div>
                     <p>此过程将当前数据值的访问模式设置为一次属性（如果数据值为<code class="codeph">TYPECODE_OBJECT</code> ）。
                     </p>
                     <div class="section">
                        <p>它将数据值的访问模式设置为一次一个集合元素（如果数据值是集合类型）。一旦完成此调用，后续调用<code class="codeph">SET*</code>和<code class="codeph">GET*</code>将依次获取单个属性或集合元素。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-45FE1E1F-E8E7-446C-9FA5-D04074F596BB__GUID-C81946F0-4E75-4DB2-AD1A-1EC92A073D19">句法</p><pre class="oac_no_warn" dir="ltr">会员程序（自我管理）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-45FE1E1F-E8E7-446C-9FA5-D04074F596BB__GUID-9DC40086-5C29-4347-93A5-FC320EEEC520">参数</p>
                        <div class="tblformal" id="GUID-45FE1E1F-E8E7-446C-9FA5-D04074F596BB__GUID-AAC8B3DB-3574-4021-B19E-92FE07157EF9">
                           <p class="titleintable">表271-7 PIECEWISE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PIECEWISE程序参数" width="100%" border="1" summary="This table describes the Parameters of the ANYDATA Type member subprogram PIECEWISE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1557804e1566">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1557804e1569">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1557804e1574" headers="d1557804e1566 ">
                                       <p><code class="codeph">自</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1557804e1574 d1557804e1569 ">
                                       <p>当前数据值。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-45FE1E1F-E8E7-446C-9FA5-D04074F596BB__GUID-29AA142E-A257-4E5D-8604-DB61352B541B">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">DBMS_TYPES.INVALID_PARAMETERS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_TYPES.INCORRECT_USAGE</code> ：使用不正确。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-45FE1E1F-E8E7-446C-9FA5-D04074F596BB__GUID-1EA6D492-5EB4-4AFD-B0AE-5363DBD6936F">使用说明</p>
                        <p>在进行此调用之前，当前数据值必须是<code class="codeph">OBJECT</code>或<code class="codeph">COLLECTION</code>类型。
                        </p>
                        <p>不支持分段构造和访问对象或集合类型的嵌套属性。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71621"></a><a id="ARPLS71622"></a><a id="ARPLS71622"></a><a id="ARPLS71621"></a><div class="props_rev_3"><a id="GUID-31ED0083-F1C7-40C3-8164-F928B764B40A" name="GUID-31ED0083-F1C7-40C3-8164-F928B764B40A"></a><h4 id="ARPLS-GUID-31ED0083-F1C7-40C3-8164-F928B764B40A" class="sect4"><span class="enumeration_section">271.3.7</span> SET *会员程序</h4>
                  <div>
                     <p>此过程设置当前数据值。</p>
                     <div class="section">
                        <p>这是应根据当前数据值的类型调用的过程列表。数据值的类型应该是分段构造过程中当前位置的属性类型。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-31ED0083-F1C7-40C3-8164-F928B764B40A__GUID-ECA2A7BE-9210-4307-8274-408CC7297C49">句法</p><pre class="oac_no_warn" dir="ltr">成员程序SETBDOUBLE（自我输出NOCOPY ANYDATA，dbl IN BINARY_DOUBLE，last_elem IN boolean DEFAULT FALSE）;成员程序SETBFILE（自我输出NOCOPY ANYDATA，b IN BFILE，last_elem IN布尔默认值为假）;成员程序SETBFLOAT（自我输出NOCOPY ANYDATA，fl IN BINARY_FLOAT，last_elem IN boolean DEFAULT FALSE）;会员程序SETBLOB（自我输出NOCOPY ANYDATA，b IN BLOB，last_elem IN boolean DEFAULT FALSE）;成员程序SETCHAR（自我IN OUT NOCOPY ANYDATA，c IN CHAR，last_elem IN boolean DEFAULT FALSE）;成员程序SETCLOB（自我输出NOCOPY ANYDATA，c IN CLOB，last_elem IN boolean DEFAULT FALSE）;成员程序设置（自我输出NOCOPY ANYDATA，输入“&lt;collectyion_type&gt;”，last_elem输入布尔值默认值）;成员程序设置（自我输出NOCOPY ANYDATA，dat IN DATE，last_elem IN boolean DEFAULT FALSE）;成员程序SETINTERVALDS（自我进入NOCOPY ANYDATA，inv在INTERVAL DAY到SECOND，last_elem IN boolean DEFAULT FALSE）;成员程序SETINTERVALYM（自我输出NOCOPY ANYDATA，inv在间隔年份到月份，last_elem IN布尔值默认值为假）;成员程序SETNCHAR（自我输出NOCOPY ANYDATA，nc IN NCHAR，last_elem IN boolean DEFAULT FALSE）;成员程序SETNCLOB（自我输出NOCOPY ANYDATA，nc IN NClob，last_elem IN boolean DEFAULT FALSE）;会员程序SETNUMBER（自我输出NOCOPY ANYDATA，num IN NUMBER，last_elem IN boolean DEFAULT FALSE）;成员程序SETNVARCHAR2（自我输出NOCOPY ANYDATA，nc IN NVarchar2，last_elem IN布尔默认错误），成员程序SETOBJECT（自我输出NOCOPY ANYDATA，obj IN“&lt;object_type&gt;”，last_elem IN boolean DEFAULT FALSE）;会员程序SETRAW（自我输出NOCOPY ANYDATA，r IN RAW，last_elem IN boolean DEFAULT FALSE）;成员程序SETREF（自我输出NOCOPY ANYDATA，rf IN REF“&lt;object_type&gt;”，last_elem IN boolean DEFAULT FALSE）;成员程序SETTIMESTAMP（自我进入NOCOPY ANYDATA，ts在TIMESTAMP，last_elem在BOOLEAN DEFAULT FALSE）;会员程序SETTIMESTAMPTZ（自我进出心跳任意数据，时间范围内有时区，最后一次是在布尔的默认错误中）;成员程序SETTIMESTAMPLTZ（自我输出NOCOPY ANYDATA，ts在TIMESTAMP中与当地时区，last_elem在布尔默认错误），成员程序SETVARCHAR（自我输出NOCOPY ANYDATA，c IN VARCHAR，last_elem IN布尔默认错误）;成员程序SETVARCHAR2（自我输出NOCOPY ANYDATA，c IN VARCHAR2，last_elem IN boolean DEFAULT FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-31ED0083-F1C7-40C3-8164-F928B764B40A__GUID-4A5C359A-53B2-4EBD-B9E2-F8C63E848223">参数</p>
                        <div class="tblformal" id="GUID-31ED0083-F1C7-40C3-8164-F928B764B40A__GUID-16A5BC50-375D-4C2B-8562-165F7709D514">
                           <p class="titleintable">表271-8 SET *过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET *过程参数" width="100%" border="1" summary="This table describes the Parameters of the ANYDATA Type member subprogram SET." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1557804e1722">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1557804e1725">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1557804e1730" headers="d1557804e1722 ">
                                       <p><code class="codeph">自</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1557804e1730 d1557804e1725 ">
                                       <p><code class="codeph">ANYDATA</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1557804e1741" headers="d1557804e1722 ">
                                       <p><code class="codeph">NUM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1557804e1741 d1557804e1725 ">
                                       <p>要设置的数量和相关信息。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1557804e1749" headers="d1557804e1722 ">
                                       <p><code class="codeph">last_elem</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1557804e1749 d1557804e1725 ">
                                       <p>仅当<code class="codeph">ANYDATA</code>代表集合时才相关。
                                       </p>
                                       <p>如果它是集合的最后一个元素，则设置为<code class="codeph">TRUE</code> ，否则为<code class="codeph">FALSE</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-31ED0083-F1C7-40C3-8164-F928B764B40A__GUID-E4045D4E-711F-44B4-9B39-6630BBAD1CD5">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">DBMS_TYPES.INVALID_PARAMETERS</code> ：参数无效（如果在创建过程中此时不适合添加数字）。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_TYPES.INCORRECT_USAGE</code> ：使用不正确。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_TYPES.TYPE_MISMATCH</code> ：当预期类型与传入类型不同时。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-31ED0083-F1C7-40C3-8164-F928B764B40A__GUID-441651DA-3154-4C73-9BE6-7B12C8DFCDF6">使用说明</p>
                        <p>当<code class="codeph">BEGINCREATE</code>被召唤时，建筑已经以分段方式开始。对<code class="codeph">SET*</code>后续调用将设置连续的属性值。
                        </p>
                        <p>如果<code class="codeph">ANYDATA</code>是独立集合，则<code class="codeph">SET*</code>调用将设置连续的集合元素。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="06130.changes-in-this-release-for-oracle-real-application-clusters-administration-and-deployment-guide.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>“Oracle Real Application Clusters管理和部署指南”中此版本的更改</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Real Application Clusters Administration and Deployment Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Real Application Clusters Administration and Deployment Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="real-application-clusters-administration-and-deployment-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-25T14:02:30-07:00"></meta>
      <meta name="dcterms.title" content="Real Application Clusters Administration and Deployment Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95728-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="preface.html" title="Previous" type="text/html"></link>
      <link rel="next" href="introduction-to-oracle-rac.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="RACAD"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="preface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="introduction-to-oracle-rac.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Clusters管理和部署指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">“Oracle Real Application Clusters管理和部署指南”中此版本的更改</li>
            </ol>
            <a id="GUID-61E92A6F-4CA7-41EB-931E-EA4EC0A63AA0" name="GUID-61E92A6F-4CA7-41EB-931E-EA4EC0A63AA0"></a><a id="RACAD8880"></a>
            
            <h2 id="RACAD-GUID-61E92A6F-4CA7-41EB-931E-EA4EC0A63AA0" class="sect2">“Oracle Real Application Clusters管理和部署指南”中此版本的更改</h2>
         </header>
         <div class="ind">
            <div>
               <p>本前言包括：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="changes-in-this-release-for-oracle-real-application-clusters-administration-and-deployment-guide.html#GUID-EDBE9390-35B5-4633-BF61-AC3F956B8619" title="以下主题列出了Oracle Real Application Clusters管理和部署Oracle Database 19c中新增，已弃用或不支持的功能。">Oracle Real Application Clusters版本19c中的更改</a></p>
                  </li>
                  <li>
                     <p><a href="changes-in-this-release-for-oracle-real-application-clusters-administration-and-deployment-guide.html#GUID-A0DDD337-6B46-4405-8D35-AB928CF3FAB0" title="以下是Oracle Real Application Clusters管理和部署指南（适用于Oracle Real Application Clusters 18c）中新增功能的列表（18.1）。">Oracle Real Application Clusters版本18c，版本18.1中的更改</a></p>
                  </li>
                  <li>
                     <p><a href="changes-in-this-release-for-oracle-real-application-clusters-administration-and-deployment-guide.html#GUID-32B05FBA-61BE-4A64-9783-E3F7445C9179" title="以下是Oracle Real Application Clusters管理和部署指南（适用于Oracle Real Application Clusters 12c第2版）（12.2）中新增功能的列表。">Oracle Real Application Clusters 12c Release 2（12.2）中的更改</a></p>
                  </li>
                  <li>
                     <p><a href="changes-in-this-release-for-oracle-real-application-clusters-administration-and-deployment-guide.html#GUID-8BA0CC2E-9E9C-4B50-9061-81316EB5A048">Oracle Real Application Clusters 12c Release 1（12.1）中的更改</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-EDBE9390-35B5-4633-BF61-AC3F956B8619" name="GUID-EDBE9390-35B5-4633-BF61-AC3F956B8619"></a><h3 id="RACAD-GUID-EDBE9390-35B5-4633-BF61-AC3F956B8619" class="sect3">Oracle Real Application Clusters版本19c中的更改</h3>
               <div>
                  <p>以下主题列出了<span><cite>Oracle Real Application Clusters管理和部署</cite></span> Oracle Database 19c中新增，已弃用或不支持的功能。
                  </p>
               </div>
               <div class="sect3"><a id="GUID-54991F84-795D-40FC-8A16-46D6EC733279" name="GUID-54991F84-795D-40FC-8A16-46D6EC733279"></a><h4 id="RACAD-GUID-54991F84-795D-40FC-8A16-46D6EC733279" class="sect4">新功能</h4>
                  <div>
                     <p>以下功能是此版本中的新增功能。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">客户端路由的协同定位标记</span></p>
                           <p>从Oracle Database版本19.3开始， <code class="codeph">colocation_tag</code>允许提供字符串值作为连接字符串的<code class="codeph">CONNECT_DATA</code>的一部分。具有相同主机托管标记的客户端将尽可能路由到提供给定服务的同一实例。如果在建立连接时无法进行协同定位，则忽略标记，并将连接路由到可用实例，因为它们没有标记。
                           </p>
                           <p>在同一实例上的会话的共址可以有助于减少实例间通信，从而提高在同一实例中执行的工作负载的性能。</p>
                           <p>请参阅<a href="workload-management-with-dynamic-database-services.html#GUID-8E0EE7C3-AE33-4BA4-88C3-47EF96F80564" title="如果可能，Oracle RAC将具有相同COLOCATION_TAG的客户端路由到同一数据库实例。">服务协同定位</a> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">动态服务后备选项</span></p>
                           <p>对于使用<code class="codeph">preferred</code>和<code class="codeph">available</code>设置放置的动态数据库服务，从Oracle数据库发行版19.3开始，您现在可以指定此服务在可用时以及故障转移到可用实例后应回退到首选实例。当没有可用的首选实例时，服务将故障转移到可用实例。动态服务后备选项允许更多地控制放置动态数据库服务，并确保尽可能在首选实例上提供给定服务。
                           </p>
                           <p>请参阅<a href="workload-management-with-dynamic-database-services.html#GUID-58636C69-C704-400C-A5C9-12A6BAC47E5A" title="为管理员管理的数据库定义服务时，可以使用带有-preferred参数的SRVCTL定义通常支持该服务的实例。">实例首选项</a> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">RAC资源运行时管理</span></p>
                           <p>使用Oracle Database SGA运行时管理，SGA可以在运行时增长。从Oracle Database 19.3开始，Oracle RAC资源运行时管理允许自动和运行时调整资源，否则这些资源以前只在数据库启动时分配。这可以实现更有效的资源分配。</p>
                           <p>有关自动内存管理的信息，请参阅“ <span><cite>Oracle数据库管理员指南”中的“</cite></span> <a href="../admin/managing-memory.html#ADMIN-GUID-0F348EAB-9970-4207-8EF3-0F58B64E959A" target="_blank">关于自动内存管理</a> <span><cite>”</cite></span> 。
                           </p>
                        </li>
                        <li><span class="bold">Grid Infrastructure Management存储库的可选安装</span> 
                           <p>从Oracle Grid Infrastructure 19c开始，Grid Infrastructure Management Repository（GIMR）对于Oracle Standalone Cluster的新安装是可选的。Oracle Domain Services Clusters仍然需要安装GIMR作为服务组件。</p>
                           <p>GIMR中包含的数据是基于应用机器学习的预防性诊断的基础，可以帮助提高Oracle Real Application Clusters（Oracle RAC）数据库的可用性。对GIMR进行可选安装可以实现更灵活的存储空间管理和更快的部署，尤其是在安装测试和开发系统期间。</p>
                           <p>请参阅<span><cite>“适用于Linux的Oracle Grid Infrastructure安装和升级指南”中的“</cite></span> <a href="../cwlin/about-gimr.html#CWLIN-GUID-C83CC011-A710-4696-BD1E-E0F36F248AA1" target="_blank">关于Grid Infrastructure Management资源库</a> <span><cite>”</cite></span> 。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-BB665D9F-A5C3-4672-BBE4-51AF2804C76E" name="GUID-BB665D9F-A5C3-4672-BBE4-51AF2804C76E"></a><h4 id="RACAD-GUID-BB665D9F-A5C3-4672-BBE4-51AF2804C76E" class="sect4">支持OCR和表决磁盘的直接文件放置</h4>
                  <div>
                     <p>从Oracle Grid Infrastructure 19c开始，Oracle Standalone Clusters将取消对共享文件系统上直接OCR和Voting磁盘文件放置的支持。</p>
                     <p>在Oracle Grid Infrastructure 12c第2版（12.2）中，Oracle宣布它将不再支持直接在共享文件系统上放置Oracle Grid Infrastructure Oracle Cluster Registry（OCR）和投票文件。这种支持现在已经废除。从Oracle Grid Infrastructure 19c（19.3）开始，使用Oracle Standalone Clusters，您可以再次将OCR和Voting磁盘文件直接放在共享文件系统上。但是，对于Oracle域服务群集，您必须继续将OCR和表决文件放在由Oracle自动存储管理（Oracle ASM）管理的仲裁失败组中。</p>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-19F37F1B-927C-469B-A346-7E7462E29C8A" name="GUID-19F37F1B-927C-469B-A346-7E7462E29C8A"></a><h4 id="RACAD-GUID-19F37F1B-927C-469B-A346-7E7462E29C8A" class="sect4">Oracle Real Application Clusters 19c中不推荐使用的功能</h4>
                  <div>
                     <p>Oracle Real Application Clusters 19c中不推荐使用以下功能，并且在将来的版本中可能不支持这些功能：</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-19F37F1B-927C-469B-A346-7E7462E29C8A__GUID-5C7A815D-7143-4B6F-9B92-A4122077DAB4">Addnode脚本的弃用</p>
                        <p>Oracle Grid Infrastructure 19c中不推荐使用<code class="codeph">addnode</code>脚本。安装程序向导中提供了向群集添加节点的功能。
                        </p>
                        <p>可以在将来的版本中删除<code class="codeph">addnode</code>脚本。不使用<code class="codeph">addnode</code>脚本（ <code class="codeph">addnode.sh</code>或<code class="codeph">addnode.bat</code> ），而是使用安装程序向导添加节点。安装程序向导相对于<code class="codeph">addnode</code>脚本提供了许多增强功能。使用安装程序向导可将所有软件生命周期操作合并到一个工具中，从而简化管理。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-19F37F1B-927C-469B-A346-7E7462E29C8A__GUID-CD2AA141-D6A3-4F8F-9B1B-E994CF3E8961">clone.pl脚本的弃用</p>
                        <p></p>
                        <p>可以在将来的发行版中删除<code class="codeph">clone.pl</code>脚本。Oracle建议您使用安装程序向导将提取的黄金映像作为主目录安装，而不是使用<code class="codeph">clone.pl</code>脚本。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C444BAC8-FA34-4D39-9F63-E8BFC8969CF6" name="GUID-C444BAC8-FA34-4D39-9F63-E8BFC8969CF6"></a><h4 id="RACAD-GUID-C444BAC8-FA34-4D39-9F63-E8BFC8969CF6" class="sect4">Oracle Real Application Clusters 19c中不支持的功能</h4>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C444BAC8-FA34-4D39-9F63-E8BFC8969CF6__GUID-3629DBC2-E091-4C7A-8E39-F38A05AFE48E">
                        <p class="notep1">也可以看看：</p><a href="../upgrd/behavior-changes-deprecated-desupport-oracle-database.html#UPGRD60000" target="_blank"><span class="italic">Oracle数据库升级指南</span></a>以获取更多信息</div>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">在Standard Edition 2（SE2）数据库版中支持Oracle Real Application Clusters</span></p>
                           <p><span>从Oracle Database 19c开始，Oracle数据库标准版2（SE2）不支持Oracle Real Application Clusters（Oracle RAC）。</span></p>
                        </li>
                        <li>
                           <p><span class="bold">不支持Oracle Streams</span></p>
                           <p><span>从Oracle Database 19c（19.1）开始，不支持Oracle Streams。Oracle GoldenGate是Oracle数据库的复制解决方案。</span></p>
                           <p>请注意，不推荐使用Oracle数据库高级队列，Oracle Database 19c完全支持Oracle数据库高级队列。Oracle Streams不支持Oracle Database 12c（12.1）及更高版本中添加的功能，包括多租户架构， <code class="codeph">LONG VARCHAR</code>和其他新功能。Oracle Streams复制功能已被GoldenGate取代。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-A0DDD337-6B46-4405-8D35-AB928CF3FAB0" name="GUID-A0DDD337-6B46-4405-8D35-AB928CF3FAB0"></a><h3 id="RACAD-GUID-A0DDD337-6B46-4405-8D35-AB928CF3FAB0" class="sect3">Oracle Real Application Clusters版本18c，版本18.1中的更改</h3>
               <div>
                  <p>以下是<span><cite>Oracle Real Application Clusters管理和部署指南（</cite></span>适用于Oracle Real Application Clusters 18c）中新增功能的列表（18.1）。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-A0DDD337-6B46-4405-8D35-AB928CF3FAB0__GUID-EB048411-C335-433C-90E7-8FAAFF462621">持续的应用可用性</p>
                     <p>通过计划维护和透明应用程序连续性的组合实现持续的应用程序可用性。数据库的计划维护包括在开始任何计划维护之前排空和迁移数据库会话，而应用程序不知道该活动。启用应用程序连续性时会发生透明数据库会话耗尽，并且会在事务中安全点（例如，应用程序提交连接测试时或事务中的请求边界）上将会话转移到另一个数据库实例时失败。</p>
                     <p>透明应用程序连续性透明地跟踪和记录会话和事务状态，以便可以在可恢复的中断后恢复数据库会话。这是安全的，不依赖于应用程序知识或代码更改，使应用程序连续性成为您的应用程序的标准。通过使用新的状态跟踪基础结构来实现透明性，该基础结构在应用程序发出用户调用时对会话状态使用进行分类。</p>
                     <p>请参阅<span class="q">“ <a href="ensuring-application-continuity.html#GUID-B2895452-68A1-45E5-A9A7-1888B7B10481" title="当计划内维护和计划外中断数据库透明时，应用程序可实现持续可用性。">透明应用程序连续性</a> ”</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A0DDD337-6B46-4405-8D35-AB928CF3FAB0__GUID-5160983E-ED18-424D-A3EA-742BDF0A622C">Oracle RAC Sharding</p>
                     <p>Oracle RAC Sharding将表分区与Oracle RAC实例关联，并将指定分区键的数据库请求路由到逻辑上保存相应分区的实例。这提供了更好的缓存利用率，并显着减少了跨实例的块ping。分区键只能添加到性能最关键的请求中。未指定密钥的请求仍然可以透明地工作，并且可以路由到任何实例。无需更改数据库架构即可启用此功能。Oracle RAC Sharding通过最少的应用程序更改提供了性能和可伸缩性优势。</p>
                     <p>请参阅<span class="q">“ <a href="workload-management-with-dynamic-database-services.html#GUID-1100990E-18BD-4C92-A0C7-3C08C40AAD14" title="Oracle RAC Sharding在表分区和Oracle RAC实例之间创建关联，并将指定分区键的数据库请求路由到逻辑上保存相应分区的实例。">Oracle RAC Sharding</a> ”</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A0DDD337-6B46-4405-8D35-AB928CF3FAB0__GUID-6341C057-098D-4E55-971B-786D608B4E04">可扩展的序列</p>
                     <div class="p">当将数据加载到使用序列值作为键的表中时，可伸缩序列减轻了索引叶块争用。
                        <div class="infoboxnotealso" id="GUID-A0DDD337-6B46-4405-8D35-AB928CF3FAB0__GUID-BD4484D1-AB6C-4F0D-8E6B-06C13996FF20">
                           <p class="notep1">也可以看看：</p><a href="../admin/managing-views-sequences-and-synonyms.html#ADMIN-GUID-76663C84-D792-46A3-A25A-03C49DED71AD" target="_blank">使序列可扩展</a></div>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-32B05FBA-61BE-4A64-9783-E3F7445C9179" name="GUID-32B05FBA-61BE-4A64-9783-E3F7445C9179"></a><h3 id="RACAD-GUID-32B05FBA-61BE-4A64-9783-E3F7445C9179" class="sect3">Oracle Real Application Clusters中的更改12 <span class="italic">c</span>第2版（12.2）</h3>
               <div>
                  <p>以下是<span><cite>Oracle Real Application Clusters管理和部署指南（</cite></span>适用于Oracle Real Application Clusters 12c第2版）（12.2）中新增功能的列表。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-32B05FBA-61BE-4A64-9783-E3F7445C9179__GUID-25D55011-23C8-4F63-8D6B-A25683BF4081">SCAN侦听器支持HTTP协议</p>
                     <p>当前，当连接请求进入时，SCAN侦听器在位于同一节点上的处理程序之间进行负载平衡。然后，它直接将连接移交给节点上负载最小的处理程序。在此版本中，SCAN侦听器了解HTTP协议，以便它可以将HTTP客户端重定向到适当的处理程序，该处理程序可以驻留在集群中除SCAN侦听器所在节点之外的节点上。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-32B05FBA-61BE-4A64-9783-E3F7445C9179__GUID-518BD268-BE66-4929-82B9-DD334571E2C0">专用网络上的Oracle Real Application Clusters的IPv6支持</p>
                     <p>您可以将群集节点配置为在专用网络上使用基于IPv4或IPv6的IP地址，并且可以为群集使用多个专用网络。</p>
                     <div class="infoboxnotealso" id="GUID-32B05FBA-61BE-4A64-9783-E3F7445C9179__GUID-285A2E76-7FD1-425A-9B01-9C5CD8F812D2">
                        <p class="notep1">也可以看看：</p><a href="../cwadd/oracle-clusterware-administration.html#CWADD-GUID-F6217425-BBF4-4989-B943-7A660E03E6BE" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-32B05FBA-61BE-4A64-9783-E3F7445C9179__GUID-6B13CD93-A3DF-4BD5-97E8-330CA4BA4DB6">扩展Oracle数据库QoS管理以完全支持管理员管理的数据库</p>
                     <p>在此版本中，还支持完整的Oracle数据库服务质量管理（Oracle数据库QoS管理）支持，并支持其管理模式。Oracle通过调整数据库中运行的性能类的CPU份额，支持管理员管理的Oracle RAC数据库中的架构合并。此外，通过调整托管在相同物理服务器上的每个数据库的CPU计数来支持数据库整合。</p>
                     <div class="p">由于管理员管理的数据库不在服务器池中运行，因此管理员管理的数据库无法通过更改策略管理的数据库部署中支持的服务器池大小来扩展或缩减实例数。此部署支持已集成到Oracle Enterprise Manager Cloud Control中的Oracle数据库QoS管理页面中。
                        <div class="infoboxnotealso" id="GUID-32B05FBA-61BE-4A64-9783-E3F7445C9179__GUID-C26C1C50-E075-481C-B1DA-886313CFD077">
                           <p class="notep1">也可以看看：</p><a href="../atnms/supported-configurations-qos-management.html#GUID-1466C923-4F4F-4313-8962-D870249A79A7" target="_blank"><span><cite>Oracle数据库服务质量管理用户指南</cite></span></a></div>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-32B05FBA-61BE-4A64-9783-E3F7445C9179__GUID-23020559-2BEB-4859-B7EC-4538436A5BC5">Oracle Real Application Clusters Reader Nodes</p>
                     <div class="p">Oracle RAC Reader节点通过在集群中的Hub节点和叶节点之间分配一组运行联机事务处理（OLTP）工作负载的读/写实例和一组只读数据库实例来促进Oracle Flex Cluster体系结构。在此体系结构中，对读写实例的更新会立即传播到叶节点上的只读实例，在那里它们可用于在线报告或即时查询。
                        <div class="infoboxnotealso" id="GUID-32B05FBA-61BE-4A64-9783-E3F7445C9179__GUID-B5A35192-ABD7-4C16-81E8-40ECD2A0A8F2">
                           <p class="notep1">也可以看看：</p><a href="../cwadd/oracle-flex-clusters.html#CWADD-GUID-E1014B42-E671-4314-A2B0-D7B03EA4285F" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></div>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-32B05FBA-61BE-4A64-9783-E3F7445C9179__GUID-62FBFBDC-9CBA-48DB-9529-02AD1A5EB6C9">基于服务器权重的节点驱逐</p>
                     <div class="p">在Oracle Clusterware必须从群集中驱逐特定节点或一组节点的情况下，基于服务器权重的节点驱逐充当抢七机制，其中所有节点代表驱逐的相同选择。基于服务器权重的节点逐出机制有助于基于关于那些服务器上的负载的附加信息来识别要被驱逐的节点或节点组。存在两种主要机制，即系统固有的自动机制和基于用户输入的机制，以提供相应的指导。
                        <div class="infoboxnotealso" id="GUID-32B05FBA-61BE-4A64-9783-E3F7445C9179__GUID-683DC241-E16A-49AB-B25A-2C6E799A0FEF">
                           <p class="notep1">也可以看看：</p><a href="../cwadd/oracle-clusterware-administration.html#CWADD-GUID-3C3E0790-166E-4D94-B008-AEF8458FAF60" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></div>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-32B05FBA-61BE-4A64-9783-E3F7445C9179__GUID-9782052A-11CE-4DF4-AA08-5B4807A36E0E">管理Oracle Real Application Clusters的职责分离</p>
                     <p>从Oracle Database 12 <span class="italic">c第</span> 2版（12.2）开始，Oracle数据库通过引入集群件代理的SYSRAC管理权限，在管理Oracle Real Application Clusters（Oracle RAC）时为分离任务最佳实践提供支持。此功能消除了对Oracle RAC使用强大的SYSDBA管理权限的需要。</p>
                     <p>SYSRAC与SYSDG，SYSBACKUP和SYSKM一样，有助于强制执行职责分离，减少对生产系统上SYSDBA使用的依赖。此管理权限是集群件代理程序代表Oracle RAC实用程序（如SRVCTL）连接到数据库的默认模式。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-32B05FBA-61BE-4A64-9783-E3F7445C9179__GUID-0B160508-623C-471D-B2A0-2BCD4387467C">内存快速启动</p>
                     <div class="p">In-Memory FastStart通过直接在磁盘上存储内存中压缩单元来优化内存中列存储中的数据库对象的数量。
                        <div class="infoboxnotealso" id="GUID-32B05FBA-61BE-4A64-9783-E3F7445C9179__GUID-F705EEC8-17AE-4EAA-86F1-CB7B8ACFDB25">
                           <p class="notep1">也可以看看：</p><a href="../inmem/managing-im-faststart-for-im-column-store.html#INMEM-GUID-CAA790EA-0CF6-44A8-A332-3CE23EC0FE79" target="_blank"><span><cite>Oracle数据库内存指南</cite></span></a></div>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="RACAD8881"></a><div class="sect2"><a id="GUID-8BA0CC2E-9E9C-4B50-9061-81316EB5A048" name="GUID-8BA0CC2E-9E9C-4B50-9061-81316EB5A048"></a><h3 id="RACAD-GUID-8BA0CC2E-9E9C-4B50-9061-81316EB5A048" class="sect3">Oracle Real Application Clusters中的更改12 <span class="italic">c</span>第1版（12.1）</h3>
               <div>
                  <p>以下是适用于<span class="italic">Oracle Real Application Clusters的Oracle Real Application Clusters管理和部署指南</span> （Oracle RAC）12 <span class="italic">c</span>中的更改：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="changes-in-this-release-for-oracle-real-application-clusters-administration-and-deployment-guide.html#GUID-660B4A8C-A777-481A-8B7A-B06F87FC9182">Oracle Real Application Clusters 12c Release 1（12.1.0.2）中的更改</a></p>
                     </li>
                     <li>
                        <p><a href="changes-in-this-release-for-oracle-real-application-clusters-administration-and-deployment-guide.html#GUID-181EF929-3DDC-4B25-98DD-C66386350DF8">Oracle Real Application Clusters 12c Release 1（12.1.0.1）中的更改</a></p>
                     </li>
                     <li>
                        <p><a href="changes-in-this-release-for-oracle-real-application-clusters-administration-and-deployment-guide.html#GUID-2770B9C5-C193-4FF4-9D96-0E4F66DA2EF4">不推荐的功能</a></p>
                     </li>
                     <li>
                        <p><a href="changes-in-this-release-for-oracle-real-application-clusters-administration-and-deployment-guide.html#GUID-0ECD24C2-BF96-4E8C-845D-BBB71119D91B">不受支持的功能</a></p>
                     </li>
                  </ul>
               </div><a id="RACAD8949"></a><div class="sect3"><a id="GUID-660B4A8C-A777-481A-8B7A-B06F87FC9182" name="GUID-660B4A8C-A777-481A-8B7A-B06F87FC9182"></a><h4 id="RACAD-GUID-660B4A8C-A777-481A-8B7A-B06F87FC9182" class="sect4">Oracle Real Application Clusters 12 <span class="italic">c</span> Release 1（12.1.0.2）中的更改</h4>
                  <div>
                     <p>以下功能是此版本中的新增功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">内存列存储</span></p>
                           <p>内存中列存储是SGA中的可选区域，以压缩列格式存储整个表，表分区和各个列。该数据库使用特殊技术（包括SIMD矢量处理）来极快地扫描柱状数据。内存中列存储是数据库缓冲区高速缓存的补充，而不是替代。</p>
                           <div class="infoboxnotealso" id="GUID-660B4A8C-A777-481A-8B7A-B06F87FC9182__GUID-11E2879B-73E4-4CB6-8ADE-8674508603ED">
                              <p class="notep1">也可以看看：</p>
                              <p>有关更多信息，请<a href="../dwhsg/index.html" target="_blank"><span><cite>参见Oracle数据库数据仓库指南</cite></span></a></p>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">内存中事务管理器</span></p>
                           <p>内存中事务管理器是一个独立引擎，可自动为将更改应用于内存中列存储的事务提供读取一致性。此引擎是必需的，因为驻留在内存中列存储中的表和分区以列式格式存储在内存中，并以行主格式存储在数据文件和数据库缓冲区高速缓存中。</p>
                           <div class="infoboxnotealso" id="GUID-660B4A8C-A777-481A-8B7A-B06F87FC9182__GUID-30C23D42-7EEA-4A80-9265-BAF50900BE33">
                              <p class="notep1">也可以看看：</p>
                              <p>有关详细信息，请参阅<span><cite>“Oracle数据库管理员指南”中</cite></span> <a href="../admin/managing-memory.html#ADMIN-GUID-7990553D-9199-4AFE-B912-40ADC9C3EDF1" target="_blank">的内存中列存储</a>来<a href="../admin/managing-memory.html#ADMIN-GUID-7990553D-9199-4AFE-B912-40ADC9C3EDF1" target="_blank">提高查询性能</a></p>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">舰队修补和供应</span></p>
                           <p>Fleet Patching和Provisioning使您能够基于存储在预先创建的软件家庭目录中的映像来部署Oracle家庭。</p>
                           <div class="infoboxnotealso" id="GUID-660B4A8C-A777-481A-8B7A-B06F87FC9182__GUID-FA75CCF1-A213-4337-A6A1-5D7AFE9B02FD">
                              <p class="notep1">也可以看看：</p>
                              <p>有关详细信息，请参阅<a href="../cwadd/rapid-home-provisioning.html#CWADD92402" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></p>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">完整数据库内存缓存</span></p>
                           <p>在此版本中，您可以将整个数据库缓存在内存中。当每个实例的缓冲区高速缓存大小大于整个数据库的大小时，请使用此功能。在Oracle RAC系统中，对于分区良好的应用程序，当所有数据库实例的组合缓冲区高速缓存（具有一些额外空间来处理实例之间的重复高速缓存块）大于数据库大小时，可以使用此功能。</p>
                           <div class="infoboxnotealso" id="GUID-660B4A8C-A777-481A-8B7A-B06F87FC9182__GUID-4B4FE07C-9C2A-4E8E-B8E7-4BAC0B91AEF1">
                              <p class="notep1">也可以看看：</p>
                              <p>有关更多信息，请<a href="../tgdba/tuning-database-buffer-cache.html#TGDBA95404" target="_blank"><span><cite>参见Oracle数据库性能调整指南</cite></span></a></p>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">Memory Guard不要求Oracle数据库QoS管理处于活动状态</span></p>
                           <p>在此版本中，默认情况下启用Memory Guard，与您是否使用Oracle数据库服务质量管理（Oracle数据库QoS管理）无关。Memory Guard检测节点上的内存压力，并将新会话定向到其他实例，直到现有工作负载耗尽并释放内存。当节点上的可用内存增加时，将再次启用服务以自动接受新连接。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="RACAD8882"></a><div class="sect3"><a id="GUID-181EF929-3DDC-4B25-98DD-C66386350DF8" name="GUID-181EF929-3DDC-4B25-98DD-C66386350DF8"></a><h4 id="RACAD-GUID-181EF929-3DDC-4B25-98DD-C66386350DF8" class="sect4">Oracle Real Application Clusters 12 <span class="italic">c</span> Release 1（12.1.0.1）中的更改</h4>
                  <div>
                     <p>以下功能是此版本中的新增功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">应用程序连续性</span></p>
                           <p>在此版本发布之前，如果应用程序开发人员想要屏蔽最终用户的中断，则需要明确处理底层软件，硬件和通信层的中断。</p>
                           <p>在Oracle数据库<span class="italic">10g中</span> ，快速应用程序通知（FAN）可以快速向应用程序提供异常条件。但是，FAN和早期的Oracle技术都没有报告应用程序的最后一个事务的结果，也没有从应用程序的角度恢复正在进行的请求。结果，中断暴露导致用户不便和收入损失。用户可能会无意中进行重复购买并为同一发票提交多笔付款。在有问题的情况下，管理员需要重新启动中间层来处理由此引起的传入问题。
                           </p>
                           <p>Application Continuity是一种独立于应用程序的功能，它尝试从应用程序角度恢复不完整的请求，并屏蔽最终用户的许多系统，通信，硬件故障和存储中断。</p>
                           <div class="infoboxnotealso" id="GUID-181EF929-3DDC-4B25-98DD-C66386350DF8__GUID-D89B38CB-EEC5-4BD5-95A7-D4F7F267C8C9">
                              <p class="notep1">也可以看看：</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="../cncpt/transactions.html#CNCPT89322" target="_blank"><span><cite>Oracle数据库概念</cite></span></a>以获取更多信息</p>
                                 </li>
                                 <li>
                                    <p><a href="ensuring-application-continuity.html#GUID-C1EF6BDA-5F90-448F-A1E2-DC15AD5CFE75" title="应用程序连续性是一种功能，可以在数据库会话不可用的可恢复错误之后以无中断和快速的方式重放对数据库的请求，从而使用户看到中断只是延迟执行请求。">确保应用程序的连续性</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">Java的Transaction Guard</span></p>
                           <p>此功能将新的Application Continuity基础结构公开给Java。它提供以下支持：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>最多一次的事务执行协议，例如事务幂等性</p>
                              </li>
                              <li>
                                 <p>用于检索逻辑事务ID的API（LTXID）</p>
                              </li>
                              <li>
                                 <p>获取连接或会话状态的属性</p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-181EF929-3DDC-4B25-98DD-C66386350DF8__GUID-D0F455EF-6934-4C6D-9017-F28A750E1F68">
                              <p class="notep1">也可以看看：</p>
                              <p>有关更多信息，请<a href="../jjdbc/transaction-guard.html#JJDBC29121" target="_blank"><span><cite>参见Oracle数据库JDBC开发人员指南</cite></span></a></p>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">交易幂等</span></p>
                           <p>此功能提供了一个通用的，独立于应用程序的基础架构，可以从应用程序的角度恢复工作，并掩盖用户的大多数系统，通信和硬件故障。交易幂等性确保您的交易按时执行，最多只执行一次。</p>
                           <div class="infoboxnotealso" id="GUID-181EF929-3DDC-4B25-98DD-C66386350DF8__GUID-A9DAE49D-369E-4F03-8CAC-ECDD1361CD91">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../adfns/sql-processing-for-application-developers.html#ADFNS-GUID-0D79C66F-A106-412F-9EE6-7D43CBFE2AB5" target="_blank"><span><cite>Oracle数据库开发指南</cite></span></a>了解更多信息</p>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">Oracle Flex集群</span></p>
                           <p>由可能数千个节点组成的大型集群为Oracle RAC提供了支持大规模并行查询操作的平台。</p>
                           <div class="infoboxnotealso" id="GUID-181EF929-3DDC-4B25-98DD-C66386350DF8__GUID-10FE04F4-AB07-4197-8B2E-8DDF4970FC13">
                              <p class="notep1">也可以看看：</p>
                              <p>有关Oracle Flex群集的详细信息<a href="../cwadd/oracle-flex-clusters.html#CWADD92560" target="_blank"><span><cite>，请参见“Oracle Clusterware管理和部署指南”</cite></span></a></p>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">磁盘组中的共享Oracle ASM密码文件</span></p>
                           <p>此功能实现了解决在Oracle ASM磁盘组中存储Oracle自动存储管理（Oracle ASM）共享密码文件的引导问题所需的基础结构。</p>
                           <div class="infoboxnotealso" id="GUID-181EF929-3DDC-4B25-98DD-C66386350DF8__GUID-277528C9-8B6C-4E75-9B3F-917CF83C4B61">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../ostmg/authenticate-access-asm-instance.html#OSTMG02600" target="_blank"><span><cite>Oracle自动存储管理管理员指南</cite></span></a></p>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">全球数据服务</span></p>
                           <p>与Oracle RAC支持数据库服务的方式类似，并支持跨群集中的数据库实例进行服务级工作负载管理，Global Data Services提供类似Oracle RAC的连接时和运行时负载平衡，故障转移和集中式服务管理。一组提供公共服务的复制数据库。该组数据库可以包括Oracle RAC和与Oracle Data Guard，Oracle GoldenGate或任何其他复制技术互连的非集群Oracle数据库。</p>
                           <div class="infoboxnotealso" id="GUID-181EF929-3DDC-4B25-98DD-C66386350DF8__GUID-7AD908AD-6105-4184-85DA-76B4E435B331">
                              <p class="notep1">也可以看看：</p>
                              <p>有关详细信息<a href="../gsmug/intro-global-data-services.html#GSMUG107" target="_blank"><span><cite>，请参见“Oracle数据库全局数据服务概念和管</cite></span></a></p>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">共享网格命名服务</span></p>
                           <p>网格命名服务（GNS）的一个实例可以服务于任意数量的集群。</p>
                           <div class="infoboxnotealso" id="GUID-181EF929-3DDC-4B25-98DD-C66386350DF8__GUID-88F671BE-3ACF-49DC-9821-D76CDFDB93BB">
                              <p class="notep1">也可以看看：</p>
                              <p>有关详细信息，请参阅<a href="../cwadd/introduction-to-oracle-clusterware.html#CWADD91886" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></p>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">Oracle RAC的假设命令评估</span></p>
                           <p>Oracle Clusterware的此功能通过一种机制来改进资源管理和可用性，该机制为假设的计划或计划外事件提供策略响应，而无需修改系统状态。</p>
                           <p>在Oracle RAC中，SRVCTL的增强功能可帮助您在运行某些命令之前确定某些命令的影响，以确定命令的潜在影响。</p>
                           <div class="infoboxnotealso" id="GUID-181EF929-3DDC-4B25-98DD-C66386350DF8__GUID-A1FFA30F-51E5-4BB0-91C0-1A7ADF0359EF">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="server-control-utility-reference.html#GUID-803F603E-8638-4946-84D4-CB24D21C893C" title="默认情况下，SRVCTL安装在群集中的每个节点上。要使用SRVCTL，请登录节点的操作系统，并以区分大小写的语法输入SRVCTL命令及其参数。">SRVCTL使用信息</a> ”，</span>用于具有假设功能的SRVCTL命令列表</p>
                                 </li>
                                 <li>
                                    <p><a href="../cwadd/oracle-clusterware-control-crsctl-utility-reference.html#CWADD92683" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a> ，其中列出了具有类似增强功能的Oracle Clusterware Control（CRSCTL）实用程序命令</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">限制Oracle RAC部署的服务注册</span></p>
                           <p>此功能允许默认情况下仅从本地IP注册侦听器，并提供配置和动态更新侦听器允许注册请求的一组IP地址或子网的功能。</p>
                           <div class="infoboxnotealso" id="GUID-181EF929-3DDC-4B25-98DD-C66386350DF8__GUID-97648BDF-B9E5-439A-ACEA-D93003853EF6">
                              <p class="notep1">也可以看看：</p>
                              <p>有关更多信息，请<a href="../netag/index.html" target="_blank"><span><cite>参见“Oracle数据库网络服务管理员指南</cite></span></a></p>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">使用有效节点检查限制服务注册</span></p>
                           <p>此功能使网络管理员可以指定单客户端访问名称（SCAN）侦听器接受注册的节点和子网信息列表。您可以使用SRVCTL指定节点和子网信息，SRVCTL将信息存储在SCAN侦听器资源概要文件中，此信息也会写入<code class="codeph">listener.ora</code>文件。限制客户端对数据库的访问使Oracle RAC更安全，更不容易受到安全线程和攻击。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">可插拔数据库</span></p>
                           <p>可插拔数据库使Oracle数据库能够包含一个可移植的模式，模式对象和非模式对象集合，这些对象在Oracle Net客户端中显示为单独的数据库。这个自包含的集合称为可插拔数据库（PDB）。容器数据库（CDB）是Oracle数据库，包括零个，一个或多个用户创建的可插拔数据库（PDB）。您可以从CDB拔出PDB并将其插入另一个CDB。</p>
                           <div class="infoboxnotealso" id="GUID-181EF929-3DDC-4B25-98DD-C66386350DF8__GUID-44B50385-5421-48C5-948A-08E15D88DEB0">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../multi/managing-a-multitenant-environment.html#ADMIN13506" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></p>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">在Windows上支持Oracle Home User</span></p>
                           <p>与Oracle数据库<span class="italic">12c的</span>开始，Oracle数据库支持使用甲骨文的家庭用户，您可以在安装时指定的。Oracle主用户与Windows域用户关联。Windows域用户应该是低权限（非管理员）帐户，以确保Oracle主用户具有有限的权限集，从而确保Oracle数据库服务仅具有运行Oracle产品所需的权限。
                           </p>
                           <p>执行Oracle软件维护任务（包括安装，升级，修补等）仍需要Windows管理员用户权限。如果需要，Oracle数据库管理工具已得到增强，可以请求Oracle主用户的密码。在Oracle RAC环境中，您可以将Oracle家庭用户的密码存储在安全钱包中。如果存在这样的钱包，则Oracle数据库管理工具会自动使用钱包中的密码，并且不要求用户输入Oracle家庭用户的密码。</p>
                        </li>
                        <li>
                           <p><span class="bold">Oracle ACFS和Oracle ADVM的群集资源</span></p>
                           <p>Oracle Clusterware资源支持包括存储在Oracle自动存储管理群集文件系统（Oracle ACFS），Oracle ACFS网格家庭通用文件系统和Oracle ASM动态卷管理器（Oracle ADVM）卷上的Oracle主目录的增强功能。Oracle Clusterware管理的这些资源支持自动加载Oracle ACFS，Oracle ADVM和OKS驱动程序，磁盘组安装，动态卷启用和自动Oracle ACFS文件系统安装。</p>
                           <div class="infoboxnotealso" id="GUID-181EF929-3DDC-4B25-98DD-C66386350DF8__GUID-6EA5CE99-1E52-4841-A394-CF139D2B4D16">
                              <p class="notep1">也可以看看：</p>
                              <p>有关详细信息，请<a href="../ostmg/understand-acfs-admin.html#OSTMG34000" target="_blank"><span><cite>参见Oracle自动存储管理管理员指南</cite></span></a></p>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">Oracle高度可用的NFS</span></p>
                           <p>您可以将Oracle ACFS配置为高可用性的导出文件系统服务。此服务使用Oracle ACFS的集群范围数据一致性和一致性，结合虚拟IP地址，为NFS导出提供故障转移功能。通过从此虚拟IP地址挂载NFS导出，可以确保客户端，如果群集中的一个节点可用，则NFS导出将可用。</p>
                           <div class="infoboxnotealso" id="GUID-181EF929-3DDC-4B25-98DD-C66386350DF8__GUID-7E7BEB32-32B6-41B5-B4B8-2F4CBAB82607">
                              <p class="notep1">也可以看看：</p>
                              <p>有关详细信息，请<a href="../ostmg/understand-acfs-admin.html#OSTMG34000" target="_blank"><span><cite>参见Oracle自动存储管理管理员指南</cite></span></a></p>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">基于策略的集群管理和管理</span></p>
                           <p>Oracle Grid Infrastructure允许在一个集群中运行多个应用程序。使用基于策略的方法，可以使用策略在群集中分配这些应用程序引入的工作负载。此外，策略集允许根据需要随时间将不同的策略应用于群集。您可以使用基于Web的界面或命令行界面定义策略集。</p>
                           <p>在同一群集中托管各种工作负载有助于将工作负载整合到提供高可用性和可伸缩性的共享基础架构中。使用集中的基于策略的方法允许在需求变化时动态资源重新分配和优先级。</p>
                           <div class="infoboxnotealso" id="GUID-181EF929-3DDC-4B25-98DD-C66386350DF8__GUID-E9696508-DA1F-4F1E-9A30-2CB34B659C4D">
                              <p class="notep1">也可以看看：</p>
                              <p>有关详细信息，请参阅<a href="../cwadd/policy-based-cluster-and-capacity-management.html#CWADD92894" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></p>
                           </div>
                        </li>
                        <li id="GUID-181EF929-3DDC-4B25-98DD-C66386350DF8__BABDHFJJ">
                           <p><span class="bold">在线资源属性修改</span></p>
                           <p>Oracle Clusterware使用资源模型管理硬件和软件组件以实现高可用性。您可以使用资源属性来定义Oracle Clusterware如何管理这些资源。您可以修改某些资源属性并实现这些更改，而无需使用联机资源属性修改重新启动资源。您可以使用某些SRVCTL和CRSCTL命令管理在线资源属性修改。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="RACAD8886"></a><div class="sect3"><a id="GUID-2770B9C5-C193-4FF4-9D96-0E4F66DA2EF4" name="GUID-2770B9C5-C193-4FF4-9D96-0E4F66DA2EF4"></a><h4 id="RACAD-GUID-2770B9C5-C193-4FF4-9D96-0E4F66DA2EF4" class="sect4">不推荐的功能</h4>
                  <div>
                     <p><span class="bold">单字母SRVCTL CLI选项的弃用</span></p>
                     <p>所有SRVCTL命令都已增强，可接受全字选项而不是单字母选项。此版本中添加的所有新SRVCTL命令选项仅支持全字选项，并且没有单字母等效项。在将来的版本中可能不支持使用带有SRVCTL命令的单字母选项。</p>
                  </div>
               </div><a id="RACAD8884"></a><div class="sect3"><a id="GUID-0ECD24C2-BF96-4E8C-845D-BBB71119D91B" name="GUID-0ECD24C2-BF96-4E8C-845D-BBB71119D91B"></a><h4 id="RACAD-GUID-0ECD24C2-BF96-4E8C-845D-BBB71119D91B" class="sect4">不受支持的功能</h4>
                  <div>
                     <div class="infoboxnotealso" id="GUID-0ECD24C2-BF96-4E8C-845D-BBB71119D91B__GUID-3629DBC2-E091-4C7A-8E39-F38A05AFE48E">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../upgrd/behavior-changes-deprecated-desupport-oracle-database.html#UPGRD60000" target="_blank"><span class="italic">Oracle数据库升级指南</span></a>以获取更多信息</p>
                     </div>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">适用于Windows的Oracle集群文件系统</span></p>
                           <p>Oracle不再支持Windows上的Oracle Cluster File System（OCFS）。</p>
                        </li>
                        <li>
                           <p><span class="bold">适用于Oracle数据库和相关技术的原始（块）存储设备</span></p>
                           <p>Oracle Database 12c第1版（12.1）及其相关的网格技术（如Oracle Clusterware）不再支持直接使用原始或块存储设备。在升级到Oracle Clusterware 12c第1版（12.1）之前，必须将现有文件从原始或块设备移动到Oracle ASM。</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="13322.autoupgrade-command-line-parameters.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Review the AutoUpgrade parameters and select the parameters and options that you require for your Oracle Database upgrade use case."></meta>
      <meta name="description" content="Review the AutoUpgrade parameters and select the parameters and options that you require for your Oracle Database upgrade use case."></meta>
      <title>AutoUpgrade命令行参数</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Upgrade Guide"></meta>
      <meta property="og:description" content="Review the AutoUpgrade parameters and select the parameters and options that you require for your Oracle Database upgrade use case."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Upgrade Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-upgrade-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-25T08:26:31-07:00"></meta>
      <meta name="dcterms.title" content="Database Upgrade Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96252-05"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="understanding-autoupgrade-workflows-stages.html" title="Previous" type="text/html"></link>
      <link rel="next" href="autoupgrade-utility-configuration-files.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="UPGRD"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="understanding-autoupgrade-workflows-stages.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="autoupgrade-utility-configuration-files.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库升级指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-autoupgrade-oracle-database-upgrades.html" property="item" typeof="WebPage"><span property="name">使用AutoUpgrade进行Oracle数据库升级</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">AutoUpgrade命令行参数</li>
            </ol>
            <a id="GUID-F535B6AC-7F42-4328-B8B2-9E8870E6DFF6" name="GUID-F535B6AC-7F42-4328-B8B2-9E8870E6DFF6"></a>
            
            <h2 id="UPGRD-GUID-F535B6AC-7F42-4328-B8B2-9E8870E6DFF6" class="sect2">AutoUpgrade命令行参数</h2>
         </header>
         <div class="ind">
            <div>
               <p>查看AutoUpgrade参数，并选择Oracle数据库升级用例所需的参数和选项。</p>
               <p>使用命令<code class="codeph">java -jar autoupgrade.jar</code>使用这些参数。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="autoupgrade-command-line-parameters.html#GUID-37E47B92-642E-4316-877F-2449B4A4B815">关于AutoUpgrade命令行参数</a><br>查看使用AutoUpgrade实用程序（ <code class="codeph">autoupgrade.jar</code> ）参数的语法和先决条件。
                  </li>
                  <li class="ulchildlink"><a href="autoupgrade-command-line-parameters.html#GUID-6EFE3E77-CFC4-4C50-AD0A-8062B877203C">配置</a><br>AutoUpgrade参数<code class="codeph">config</code>标识用于提供有关要升级的数据库的信息的配置文件。
                  </li>
                  <li class="ulchildlink"><a href="autoupgrade-command-line-parameters.html#GUID-46EF1C88-FDC8-41FE-99D6-C2DED7F35139">安慰</a><br>AutoUpgrade参数<code class="codeph">console</code>打开AutoUpgrade控制台，并提供一组命令来监控AutoUpgrade作业的进度。
                  </li>
                  <li class="ulchildlink"><a href="autoupgrade-command-line-parameters.html#GUID-7DE1D595-26DC-49EA-B08E-A3A3A97359D6">Create_sample_file</a><br>AutoUpgrade参数<code class="codeph">create_sample_file</code>生成配置文件或设置文件。您可以编辑这些文件以为AutoUpgrade创建生产配置或设置文件。
                  </li>
                  <li class="ulchildlink"><a href="autoupgrade-command-line-parameters.html#GUID-A4FF9D2D-1CC8-4B10-B55F-1F72A18CAECE">NOCONSOLE</a><br>AutoUpgrade参数<code class="codeph">noconsole</code>关闭AutoUpgrade控制台，以便AutoUpgrade仅使用配置文件信息运行。
                  </li>
                  <li class="ulchildlink"><a href="autoupgrade-command-line-parameters.html#GUID-0036136B-8FBE-4670-88B3-31A37C17A89F">设置</a><br>AutoUpgrade参数<code class="codeph">settings</code>标识用于提供AutoUpgrade实用程序的自定义运行时配置的配置文件。
                  </li>
                  <li class="ulchildlink"><a href="autoupgrade-command-line-parameters.html#GUID-0CC69B62-933D-43C4-B6A1-0E3C0685F624">版</a><br>AutoUpgrade参数<code class="codeph">version</code>在终端屏幕上打印<code class="codeph">autoupgrade.jar</code>文件的当前版本。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="using-autoupgrade-oracle-database-upgrades.html#GUID-71883C8C-7A34-4E93-8955-040CB04F2109" title="了解如何使用AutoUpgrade简化升级任务。">使用AutoUpgrade进行Oracle数据库升级</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-37E47B92-642E-4316-877F-2449B4A4B815" name="GUID-37E47B92-642E-4316-877F-2449B4A4B815"></a><h3 id="UPGRD-GUID-37E47B92-642E-4316-877F-2449B4A4B815" class="sect3">关于AutoUpgrade命令行参数</h3>
               <div>
                  <p>查看使用AutoUpgrade实用程序（ <code class="codeph">autoupgrade.jar</code> ）参数的语法和先决条件。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-37E47B92-642E-4316-877F-2449B4A4B815__GUID-26FEF052-7416-453F-9AE6-DE72DA555BA7">先决条件</p>
                     <ul id="GUID-37E47B92-642E-4316-877F-2449B4A4B815__UL_VPS_PGK_XGB" style="list-style-type:disc">
                        <li>
                           <p>您必须在源环境中安装Java Development Kit（JDK）8或更高版本。</p>
                           <p>从Oracle Database 12c第2版（12.2）开始，每个版本都安装了JDK 8。对于早于12.2的任何版本，您必须使用目标Oracle数据库中的Java版本运行AutoUpgrade，或者必须在源数据库服务器上安装JDK 8。</p>
                        </li>
                        <li>
                           <p>使用AutoUpgrade实用程序进行的Oracle数据库升级遵循适用于手动Oracle数据库升级的相同升级规则。确认您的源Oracle Database发行版是否支持升级。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-37E47B92-642E-4316-877F-2449B4A4B815__GUID-FBE1B4D2-656B-4FDE-8228-2873C1F36A71">文件路径</p>
                     <p>AutoUpgrade实用程序是一个Java JAR文件，位于新版本的Oracle Database主目录中。</p><code><span class="variable" translate="no">ORACLE_home</span> / jdk / bin / java</code><p>Oracle建议您从My Oracle Support获取最新的AutoUpgrade JAR文件。JAR文件的JAR文件和部署说明可从My Oracle Support说明2485457.1获得</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-37E47B92-642E-4316-877F-2449B4A4B815__GUID-9D800994-C32F-442B-9F56-6A139CE6969F">句法</p>
                     <p>AutoUpgrade命令语法区分大小写。以小写形式输入命令。</p><pre class="pre codeblock"><code>java -jar autoupgrade.jar [-version | -help | -create_sample_file <span class="variable" translate="no">create_sample_file</span> [-settings <span class="variable" translate="no">settings</span> ] [-config <span class="variable" translate="no">configfile</span> .cfg] [-clear_recovery_data] [-mode <span class="variable" translate="no">mode</span> ] [-console | -noconsole] [-restore_on_fail] [-debug]</code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>每个参数都必须以减号（ <code class="codeph">-</code> ）为前缀。有关可以与每个参数一起使用的选项的信息，请参阅相关参数主题。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;id=2485457.1" target="_blank">我的Oracle支持说明2485457.1</a></li>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/upgrd&amp;id=UPGRD-GUID-7AA90913-D8AB-4EBA-944F-31FA01D6BE5D" target="_blank">支持直接升级的Oracle数据库版本</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="autoupgrade-command-line-parameters.html#GUID-F535B6AC-7F42-4328-B8B2-9E8870E6DFF6" title="查看AutoUpgrade参数，并选择Oracle数据库升级用例所需的参数和选项。">AutoUpgrade命令行参数</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-6EFE3E77-CFC4-4C50-AD0A-8062B877203C" name="GUID-6EFE3E77-CFC4-4C50-AD0A-8062B877203C"></a><h3 id="UPGRD-GUID-6EFE3E77-CFC4-4C50-AD0A-8062B877203C" class="sect3">配置</h3>
               <div>
                  <p>AutoUpgrade参数<code class="codeph">config</code>标识用于提供有关要升级的数据库的信息的配置文件。
                  </p>
                  <div class="tblformal" id="GUID-6EFE3E77-CFC4-4C50-AD0A-8062B877203C__GUID-14BBB7E5-1801-4A43-A7B8-E7267E4216C6">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="The AutoUpgrade utility config parameter " frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d17645e357">属性</th>
                              <th align="left" valign="bottom" id="d17645e359">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d17645e363" headers="d17645e357 "><span class="bold">参数类型</span></td>
                              <td align="left" valign="top" headers="d17645e363 d17645e359 ">串</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d17645e369" headers="d17645e357 "><span class="bold">句法</span></td>
                              <td align="left" valign="top" headers="d17645e369 d17645e359 "><code class="codeph">-config <span class="variable" translate="no">configfile</span> [-mode <span class="variable" translate="no">mode</span> ] [-console | -noconsole] [-restore_on_fail] [-debug]</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d17645e382" headers="d17645e357 "><span class="bold">默认值</span></td>
                              <td align="left" valign="top" headers="d17645e382 d17645e359 ">默认情况下启用选项<code class="codeph">-console</code> 。
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6EFE3E77-CFC4-4C50-AD0A-8062B877203C__GUID-C321E7EF-AC49-4620-8068-98C46D9C53C4">描述</p>
                     <p><code class="codeph">config...mode</code>子句需要两个必需的参数：</p>
                     <ul id="GUID-6EFE3E77-CFC4-4C50-AD0A-8062B877203C__UL_NPT_YSK_XGB_XB" style="list-style-type:disc">
                        <li>
                           <p>配置文件名，以及可选的路径，由<code class="codeph"><span class="variable" translate="no">config-file</span></code>表示</p>
                        </li>
                        <li>
                           <p>模式类型，使用参数<code class="codeph">-mode <span class="variable" translate="no">mode</span> , where mode is the processing mode used with the configuration file</code> 。<code class="codeph">mode</code>参数采用以下选项：</p>
                           <ul id="GUID-6EFE3E77-CFC4-4C50-AD0A-8062B877203C__UL_YMW_FKM_YGB" style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">analyze</code> ：分析数据库</p>
                              </li>
                              <li>
                                 <p><code class="codeph">fixups</code> ：纠正源数据库中的错误</p>
                              </li>
                              <li>
                                 <p><code class="codeph">deploy</code> ：执行数据库上的所有操作，从analyze到postupgrade</p>
                              </li>
                              <li>
                                 <p><code class="codeph">upgrade</code> ：在目标Oracle主目录上执行升级。
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p><code class="codeph">-config</code>子句可以使用以下可选子句：</p>
                     <ul id="GUID-6EFE3E77-CFC4-4C50-AD0A-8062B877203C__UL_MW4_DTN_YGB" style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">-console</code> ：如果禁用，则启用AutoUpgrade控制台。默认情况下启用控制台。通过控制台，您可以在终端上提交命令，以实时接收有关正在运行的作业的详细信息，以便您可以修改其工作流程。例如，从控制台，您可以中止作业或还原给定的数据库。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">-noconsole</code> ：禁用控制台。使用<code class="codeph">noconsole</code>模式进行批处理脚本编写，其中运行AutoUpgrade命令而无需在终端进行交互。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">-restore_on_fail</code> ：启用选项，以便在升级失败时自动还原数据库。此选项仅在部署模式下运行AutoUpgrade时适用。在其他模式下，此选项将被忽略。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">-debug</code> ：在日志文件和终端输出中启用调试级别消息。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6EFE3E77-CFC4-4C50-AD0A-8062B877203C__GUID-25AB43E4-1A77-4250-AEF2-56BDC43E5C73">例子</p>
                     <p>使用名为<code class="codeph">myconfig.txt</code>的配置文件运行AutoUpgrade，处理模式为<code class="codeph">deploy</code> ：</p><pre class="pre codeblock"><code>java -jar autoupgrade.jar -config myconfig.txt -mode deploy</code></pre><p>名为的配置文件上运行自动升级<code class="codeph">config.txt</code>位于我的路径<code class="codeph">/usr/home/oracle1</code> ，与处理模式<code class="codeph">analyze</code> ：</p><pre class="pre codeblock"><code>java -jar autoupgrade.jar -config ./usr/home/oracle1/config.txt-mode analyze</code></pre><p>在分析模式下使用名为<code class="codeph">config.txt</code>的配置文件运行AutoUpgrade：</p><pre class="pre codeblock"><code>java -jar autoupgrade.jar -config config.txt -mode analyze -console</code></pre><p>在<code class="codeph">analyze</code>模式下使用名为<code class="codeph">config.txt</code>的配置文件运行AutoUpgrade，并禁用AutoUpgrade控制台：</p><pre class="pre codeblock"><code>java -jar autoupgrade.jar -config config.txt -mode analyze -noconsole</code></pre><p>在<code class="codeph">analyze</code>模式下使用名为<code class="codeph">config.txt</code>的配置文件运行AutoUpgrade，并选择在升级失败的情况下启用数据库的自动还原：</p><pre class="pre codeblock"><code>java -jar autoupgrade.jar -config config.txt -mode deploy -restore_on_fail</code></pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="autoupgrade-command-line-parameters.html#GUID-F535B6AC-7F42-4328-B8B2-9E8870E6DFF6" title="查看AutoUpgrade参数，并选择Oracle数据库升级用例所需的参数和选项。">AutoUpgrade命令行参数</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-46EF1C88-FDC8-41FE-99D6-C2DED7F35139" name="GUID-46EF1C88-FDC8-41FE-99D6-C2DED7F35139"></a><h3 id="UPGRD-GUID-46EF1C88-FDC8-41FE-99D6-C2DED7F35139" class="sect3">安慰</h3>
               <div>
                  <p>AutoUpgrade参数<code class="codeph">console</code>打开AutoUpgrade控制台，并提供一组命令来监控AutoUpgrade作业的进度。
                  </p>
                  <div class="tblformal" id="GUID-46EF1C88-FDC8-41FE-99D6-C2DED7F35139__GUID-3F03B923-38DF-4B0B-8097-EB298370E1CA">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="AutoUpgrade console parameter properties and options" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d17645e605">属性</th>
                              <th align="left" valign="bottom" width="20%" id="d17645e607">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d17645e611" headers="d17645e605 ">
                                 <p><span class="bold">参数类型</span></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d17645e611 d17645e607 ">
                                 <p>串</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d17645e619" headers="d17645e605 "><span class="bold">句法</span></td>
                              <td align="left" valign="top" width="20%" headers="d17645e619 d17645e607 ">
                                 <p><code class="codeph">autoupgrade.jar -config <span class="variable" translate="no">your-file</span> -mode <span class="variable" translate="no">your-mode</span> -console [exit |帮助| lsj [（-r | -fp | -e）| -n <span class="variable" translate="no">number</span> | lsr | lsa |任务|明确| resume -job <span class="variable" translate="no">number</span> | status [-job <span class="variable" translate="no">number</span> | -long | restore -job number [force] |恢复all_failed |日志| abort -job <span class="variable" translate="no">number</span> | H [IST] [/数]</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-46EF1C88-FDC8-41FE-99D6-C2DED7F35139__GUID-B5A0E70D-353C-46F2-81B3-F86468B649CE">描述</p>
                     <p>要监视升级，请使用AutoUpgrade参数<code class="codeph">console</code>运行控制台，该控制台监视升级作业的状态。
                     </p>
                     <p>默认情况下，AutoUpgrade控制台使用AutoUpgrade命令启动。您可以使用选项<code class="codeph">-console</code> |重新启用或禁用AutoUpgrade控制台<code class="codeph">-noconsole</code></p>
                     <p>使用<code class="codeph">-noconsole</code>选项时，AutoUpgrade仅使用配置文件中的设置运行，无需控制台输入。如果要为AutoUpgrade创建脚本，请使用<code class="codeph">noconsole</code>选项，例如在要分析多个数据库的情况下。完成AutoUpgrade作业后，您可以查看Analyze模式日志的输出，以查看升级配置脚本中包含的每个数据库所需的内容。
                     </p>
                     <div class="infoboxnote" id="GUID-46EF1C88-FDC8-41FE-99D6-C2DED7F35139__GUID-B59E8386-8E5A-4C96-A2CD-437C770699E7">
                        <p class="notep1">注意：</p>
                        <p>您一次只能运行一个AutoUpgrade实例。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-46EF1C88-FDC8-41FE-99D6-C2DED7F35139__GUID-05DFA45C-E5BC-44CC-A834-2FB1BB844AE0">使用说明</p>
                     <p>每个AutoUpgrade控制台选项都必须以减号（ <code class="codeph">-</code> ）为前缀</p>
                     <div class="tblformal" id="GUID-46EF1C88-FDC8-41FE-99D6-C2DED7F35139__GUID-0C71A7F7-FA41-4B2B-9F18-99A411CD5010">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="AutoUpgrade console command options" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d17645e687">控制台选项</th>
                                 <th align="left" valign="bottom" width="20%" id="d17645e689">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d17645e693" headers="d17645e687 ">
                                    <p><code class="codeph">出口</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d17645e693 d17645e689 ">
                                    <p>关闭并退出控制台。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d17645e701" headers="d17645e687 ">
                                    <p><code class="codeph">救命</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d17645e701 d17645e689 ">
                                    <p>显示控制台命令帮助</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d17645e709" headers="d17645e687 ">
                                    <p><code class="codeph">lsj [（-r | -fp | -e）| -n <span class="variable" translate="no">number</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d17645e709 d17645e689 ">
                                    <p>按状态列出作业，最多列出您使用数值<code class="codeph"><span class="variable" translate="no">number</span></code>指定的作业<code class="codeph"><span class="variable" translate="no">number</span></code> 。您可以使用以下标志：</p>
                                    <p><code class="codeph">-f</code> :(可选）按已完成的作业过滤。
                                    </p>
                                    <p><code class="codeph">-r</code> :(可选）通过运行作业进行筛选。
                                    </p>
                                    <p><code class="codeph">-e</code> :(可选）按错误作业过滤。
                                    </p>
                                    <p><code class="codeph">-p</code> :(可选）按准备过滤作业。
                                    </p>
                                    <p><code class="codeph">-n <span class="variable" translate="no">number</span> :(必需）要显示的作业数，由整数值指定。</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d17645e745" headers="d17645e687 ">
                                    <p><code class="codeph">LSR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d17645e745 d17645e689 ">
                                    <p>显示还原队列。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d17645e753" headers="d17645e687 ">
                                    <p><code class="codeph">LSA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d17645e753 d17645e689 ">
                                    <p>显示中止队列。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d17645e761" headers="d17645e687 ">
                                    <p><code class="codeph">任务</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d17645e761 d17645e689 ">
                                    <p>显示正在运行的任务。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d17645e769" headers="d17645e687 ">
                                    <p><code class="codeph">明确</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d17645e769 d17645e689 ">
                                    <p>清除终端显示屏。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d17645e777" headers="d17645e687 ">
                                    <p><code class="codeph">简历 - 工<span class="variable" translate="no">number</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d17645e777 d17645e689 ">
                                    <p>从正在运行的上一个作业重新启动，由作业的数值（ <code class="codeph"><span class="variable" translate="no">number</span></code> ）指定。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d17645e791" headers="d17645e687 ">
                                    <p><code class="codeph">status [-job <span class="variable" translate="no">number</span> | -long</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d17645e791 d17645e689 ">
                                    <p>列出由数值（ <code class="codeph">-job <span class="variable" translate="no">number</span></code>指定的特定作业的状态。当与运行<code class="codeph">-long</code> ，自动升级以详细模式运行命令。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d17645e810" headers="d17645e687 ">
                                    <p><code class="codeph">恢复工作<span class="variable" translate="no">number</span> [强制]</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d17645e810 d17645e689 ">
                                    <p>在恢复由整数值指定的自动升级作业的数据库<code class="codeph"><span class="variable" translate="no">number</span></code>开始升级前的状态。
                                    </p>
                                    <p>使用<code class="codeph">force</code>标志运行时，即使作业未处于中止或错误状态，AutoUpgrade也会还原数据库。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d17645e830" headers="d17645e687 ">
                                    <p><code class="codeph">恢复all_failed</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d17645e830 d17645e689 ">
                                    <p>在升级开始之前将所有失败的作业还原到以前的状态。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d17645e839" headers="d17645e687 ">
                                    <p><code class="codeph">日志</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d17645e839 d17645e689 ">
                                    <p>显示所有日志文件位置。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d17645e847" headers="d17645e687 ">
                                    <p><code class="codeph">中止 - 工作<span class="variable" translate="no">number</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d17645e847 d17645e689 ">
                                    <p>中止由您提供的数值（ <code class="codeph"><span class="variable" translate="no">number</span></code> ）指定的作业。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d17645e861" headers="d17645e687 "><code class="codeph">h [ist] [/ <span class="variable" translate="no">number</span> ]</code> 
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d17645e861 d17645e689 ">
                                    <p>显示控制台命令行历史记录，并选择再次运行命令，具体取决于运行它的单元：</p>
                                    <p>标志：</p>
                                    <p><code class="codeph">/</code>再次运行最后一个命令。
                                    </p>
                                    <p>/ <span class="variable" translate="no">number</span>在由指定的命令行号指定的历史记录日志中运行该命令。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="autoupgrade-command-line-parameters.html#GUID-F535B6AC-7F42-4328-B8B2-9E8870E6DFF6" title="查看AutoUpgrade参数，并选择Oracle数据库升级用例所需的参数和选项。">AutoUpgrade命令行参数</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-7DE1D595-26DC-49EA-B08E-A3A3A97359D6" name="GUID-7DE1D595-26DC-49EA-B08E-A3A3A97359D6"></a><h3 id="UPGRD-GUID-7DE1D595-26DC-49EA-B08E-A3A3A97359D6" class="sect3">Create_sample_file</h3>
               <div>
                  <p>AutoUpgrade参数<code class="codeph">create_sample_file</code>生成配置文件或设置文件。您可以编辑这些文件以为AutoUpgrade创建生产配置或设置文件。
                  </p>
                  <div class="tblformal" id="GUID-7DE1D595-26DC-49EA-B08E-A3A3A97359D6__GUID-F5B21BE5-36A4-4D0F-9B09-54D16AF2284F">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="Properties of the create_sample_file parameter for the autoupgrade.jar command." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d17645e970">属性</th>
                              <th align="left" valign="bottom" width="20%" id="d17645e972">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d17645e976" headers="d17645e970 ">
                                 <p><span class="bold">参数类型</span></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d17645e976 d17645e972 ">
                                 <p>串</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d17645e984" headers="d17645e970 ">
                                 <p><span class="bold">句法</span></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d17645e984 d17645e972 ">
                                 <p><code class="codeph">-create_sample_file [settings |配置]</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d17645e993" headers="d17645e970 ">
                                 <p><span class="bold">默认值</span></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d17645e993 d17645e972 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7DE1D595-26DC-49EA-B08E-A3A3A97359D6__GUID-2FF51003-E3AD-47C1-AFDD-5098EA81ACD7">使用说明</p>
                     <p><code class="codeph">create_sample_file</code>参数是可选的。它不能与其他参数一起使用。指定此参数时，它需要<code class="codeph">settings</code>或<code class="codeph">config</code>子句：</p>
                     <p><code class="codeph">settings</code> ：生成AutoUpgrade <strong class="term">设置</strong>文件。
                     </p>
                     <p><code class="codeph">config</code> ：生成AutoUpgrade <strong class="term">配置</strong>文件</p>
                     <p>生成其中一个示例文件后，您可以修改该文件以控制AutoUpgrade实用程序执行升级的方式。</p>
                     <ul id="GUID-7DE1D595-26DC-49EA-B08E-A3A3A97359D6__UL_NPT_YSK_XGB" style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">settings</code> AutoUpgrade在当前文件夹中生成名为<code class="codeph">sample_autoupg.cfg</code>的文件。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">config</code> ：生成配置模式类型的模板升级配置文件。AutoUpgrade在当前文件夹中生成名为<code class="codeph">sample_config.cfg</code>的文件</p>
                        </li>
                     </ul>
                     <p>对于<code class="codeph">settings</code>和<code class="codeph">config</code>选项，将生成扩展名为<code class="codeph">.cfg</code>的默认文件名。但是，只要该文件是有效（纯文本）文件，AutoUpgrade就可以读取没有扩展名的文件，也可以读取您提供的扩展名。默认扩展名是为了方便将这些文件标识为配置文件。
                     </p>
                     <p>生成示例配置文件是准备使用AutoUpgrade的标准部分。在示例配置文件中自定义配置文件参数后，可以将该文件用作升级的生产设置和配置文件。</p>
                     <div class="infoboxnote" id="GUID-7DE1D595-26DC-49EA-B08E-A3A3A97359D6__GUID-A3786D4F-4604-4ACF-BA47-5F4ED9E72278">
                        <p class="notep1">警告：</p>
                        <p>设置文件用于覆盖AutoUpgrade的内部设置。大多数用例不需要生成示例设置文件。小心使用。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7DE1D595-26DC-49EA-B08E-A3A3A97359D6__GUID-1CC90E38-7274-420B-B60F-6BB5C7E1590F">例子</p>
                     <p>使用<code class="codeph">config</code>子句运行<code class="codeph">create_sample_file</code>参数的示例：</p><pre class="pre codeblock"><code>[oracle @ example~] $ java -jar autoupgrade.jar -create_sample_file config创建的示例配置文件/ home / oracle / sample_config</code></pre><p>使用<code class="codeph">settings</code>子句运行<code class="codeph">create_sample_file</code>参数的示例：</p><pre class="pre codeblock"><code>oracle @ example~] $ java -jar autoupgrade.jar -create_sample_file config创建的示例配置文件/home/oracle/sample_config.cfg</code></pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="autoupgrade-command-line-parameters.html#GUID-F535B6AC-7F42-4328-B8B2-9E8870E6DFF6" title="查看AutoUpgrade参数，并选择Oracle数据库升级用例所需的参数和选项。">AutoUpgrade命令行参数</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-A4FF9D2D-1CC8-4B10-B55F-1F72A18CAECE" name="GUID-A4FF9D2D-1CC8-4B10-B55F-1F72A18CAECE"></a><h3 id="UPGRD-GUID-A4FF9D2D-1CC8-4B10-B55F-1F72A18CAECE" class="sect3">NOCONSOLE</h3>
               <div>
                  <p>AutoUpgrade参数<code class="codeph">noconsole</code>关闭AutoUpgrade控制台，以便AutoUpgrade仅使用配置文件信息运行。
                  </p>
                  <div class="tblformal" id="GUID-A4FF9D2D-1CC8-4B10-B55F-1F72A18CAECE__GUID-46B19A9B-A8A3-4A00-B9D6-565413A09703">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="AutoUpgrade noconsole properties and options" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d17645e1172">属性</th>
                              <th align="left" valign="bottom" id="d17645e1174">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d17645e1178" headers="d17645e1172 ">
                                 <p><span class="bold">参数类型</span></p>
                              </td>
                              <td align="left" valign="top" headers="d17645e1178 d17645e1174 ">
                                 <p>串</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d17645e1186" headers="d17645e1172 ">
                                 <p><span class="bold">句法</span></p>
                              </td>
                              <td align="left" valign="top" headers="d17645e1186 d17645e1174 ">
                                 <p><code class="codeph">NOCONSOLE</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A4FF9D2D-1CC8-4B10-B55F-1F72A18CAECE__GUID-5BC5C3F7-3928-49E6-B64F-7384AB80D802">描述</p>
                     <p>使用<code class="codeph">-noconsole</code>选项时，AutoUpgrade仅使用配置文件中的设置运行，无需控制台输入。如果要为AutoUpgrade创建脚本，请使用<code class="codeph">noconsole</code>选项，例如在要分析多个数据库的情况下。完成AutoUpgrade作业后，您可以查看Analyze模式日志的输出，以查看升级配置脚本中包含的每个数据库所需的内容。
                     </p>
                     <div class="infoboxnote" id="GUID-A4FF9D2D-1CC8-4B10-B55F-1F72A18CAECE__GUID-111070A7-C471-4002-A787-2DA96455C7D4">
                        <p class="notep1">注意：</p>
                        <p>您一次只能运行一个AutoUpgrade实例。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A4FF9D2D-1CC8-4B10-B55F-1F72A18CAECE__GUID-94C008B7-5F0C-4DE5-89BB-4F630375F434">使用说明</p>
                     <p>在此示例中，AutoUpgrade使用<code class="codeph">noconsole</code>模式下的配置文件在<code class="codeph">noconsole</code>模式下运行。
                     </p><pre class="pre codeblock"><code>java -jar autoupgrade.jar -config autoupgrade.cfg -mode analyze -noconsole</code></pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="autoupgrade-command-line-parameters.html#GUID-F535B6AC-7F42-4328-B8B2-9E8870E6DFF6" title="查看AutoUpgrade参数，并选择Oracle数据库升级用例所需的参数和选项。">AutoUpgrade命令行参数</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-0036136B-8FBE-4670-88B3-31A37C17A89F" name="GUID-0036136B-8FBE-4670-88B3-31A37C17A89F"></a><h3 id="UPGRD-GUID-0036136B-8FBE-4670-88B3-31A37C17A89F" class="sect3">设置</h3>
               <div>
                  <p>AutoUpgrade参数<code class="codeph">settings</code>标识用于提供AutoUpgrade实用程序的自定义运行时配置的配置文件。
                  </p>
                  <div class="tblformal" id="GUID-0036136B-8FBE-4670-88B3-31A37C17A89F__GUID-1085B04E-A3B3-4A5C-83C0-D7E0493C9D79">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="Properties of the settings parameter of the AutoUpgrade utility" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d17645e1303">属性</th>
                              <th align="left" valign="bottom" id="d17645e1305">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d17645e1309" headers="d17645e1303 "><span class="bold">参数类型</span></td>
                              <td align="left" valign="top" headers="d17645e1309 d17645e1305 ">串</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d17645e1315" headers="d17645e1303 "><span class="bold">句法</span></td>
                              <td align="left" valign="top" headers="d17645e1315 d17645e1305 "><code class="codeph">- 设置<span class="variable" translate="no">my-custom-advanced-settings</span></code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d17645e1324" headers="d17645e1303 "><span class="bold">默认值</span></td>
                              <td align="left" valign="top" headers="d17645e1324 d17645e1305 ">不适用</td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0036136B-8FBE-4670-88B3-31A37C17A89F__GUID-ABF7A4E8-79C2-43E6-9152-BE2A29950010">描述</p>
                     <p><code class="codeph">-settings</code>子句具有设置配置文件的名称和路径的必需参数，您已使用自定义设置对其进行了修改。<code class="codeph">-settings</code>子句不能单独使用，而是作为配置输入文件修改AutoUpgrade运行处理模式的方式。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0036136B-8FBE-4670-88B3-31A37C17A89F__GUID-A47C00A0-D2BA-4CDE-BF5A-CB45FE3B2AA9">使用说明</p>
                     <p>此参数是高级参数。对于大多数升级方案，您不需要修改任何内部AutoUpgrade参数设置。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0036136B-8FBE-4670-88B3-31A37C17A89F__GUID-6BE79329-2FEE-43F7-B7D5-FDF7BB6B6555">例</p><pre class="pre codeblock"><code>java -jar autoupgrade.jar -settings my_custom_advanced_settings.cfg -config config.cfg -mode deploy</code></pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="autoupgrade-command-line-parameters.html#GUID-F535B6AC-7F42-4328-B8B2-9E8870E6DFF6" title="查看AutoUpgrade参数，并选择Oracle数据库升级用例所需的参数和选项。">AutoUpgrade命令行参数</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-0CC69B62-933D-43C4-B6A1-0E3C0685F624" name="GUID-0CC69B62-933D-43C4-B6A1-0E3C0685F624"></a><h3 id="UPGRD-GUID-0CC69B62-933D-43C4-B6A1-0E3C0685F624" class="sect3">版</h3>
               <div>
                  <p>AutoUpgrade参数<code class="codeph">version</code>在终端屏幕上打印<code class="codeph">autoupgrade.jar</code>文件的当前版本。
                  </p>
                  <div class="tblformal" id="GUID-0CC69B62-933D-43C4-B6A1-0E3C0685F624__GUID-56DB06DA-AF97-4101-B7DD-2AF4AF58F511">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="Properties of the version parameter for the autoupgrade.jar command." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d17645e1438">属性</th>
                              <th align="left" valign="bottom" id="d17645e1440">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d17645e1444" headers="d17645e1438 "><span class="bold">参数类型</span></td>
                              <td align="left" valign="top" headers="d17645e1444 d17645e1440 ">串</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d17645e1450" headers="d17645e1438 "><span class="bold">句法</span></td>
                              <td align="left" valign="top" headers="d17645e1450 d17645e1440 ">-版</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d17645e1456" headers="d17645e1438 "><span class="bold">默认值</span></td>
                              <td align="left" valign="top" headers="d17645e1456 d17645e1440 ">不适用。</td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0CC69B62-933D-43C4-B6A1-0E3C0685F624__GUID-790C8B11-DEBB-4A30-ACD2-191EB9FED4F9">描述</p>
                     <p>使用此可选参数可以检查服务器上的autoupgrade.jar实用程序的版本。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0CC69B62-933D-43C4-B6A1-0E3C0685F624__GUID-46CF15AA-3AB3-44D5-B0B3-AA6F92ABE3B0">使用说明</p>
                     <p>命令示例：</p><pre class="pre codeblock"><code>java -jar autoupgrade.jar -version</code></pre><p>输出示例：</p><pre class="pre codeblock"><code>[oracle @ devbox~] $ java -jar autoupgrade.jar -version build.version 20181129 build.date 2018/11/29 11:33:51 build.label RDBMS_PT.AUTOUPGRADE_LINUX.X64_181128.1801</code></pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="autoupgrade-command-line-parameters.html#GUID-F535B6AC-7F42-4328-B8B2-9E8870E6DFF6" title="查看AutoUpgrade参数，并选择Oracle数据库升级用例所需的参数和选项。">AutoUpgrade命令行参数</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="05929.using-oracle-label-security-with-a-distributed-database.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You should understand the special considerations for using Oracle Label Security in a distributed configuration."></meta>
      <meta name="description" content="You should understand the special considerations for using Oracle Label Security in a distributed configuration."></meta>
      <title>将Oracle Label Security与分布式数据库配合使用</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content="You should understand the special considerations for using Oracle Label Security in a distributed configuration."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="label-security-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-11T09:39:52-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96303-05"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="auditing-under-oracle-label-security.html" title="Previous" type="text/html"></link>
      <link rel="next" href="performing-dba-functions-under-oracle-label-security.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Label Security Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OLSAG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="auditing-under-oracle-label-security.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="performing-dba-functions-under-oracle-label-security.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part3.html" property="item" typeof="WebPage"><span property="name">管理Oracle Label Security应用程序</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">将Oracle Label Security与分布式数据库配合使用</li>
            </ol>
            <a id="GUID-21087442-8EFA-4118-A5A5-A108249F7A9A" name="GUID-21087442-8EFA-4118-A5A5-A108249F7A9A"></a><a id="OLSAG080"></a>
            
            <h2 id="OLSAG-GUID-21087442-8EFA-4118-A5A5-A108249F7A9A" class="sect2"><span class="enumeration_chapter">14</span>将Oracle Label Security与分布式数据库配合使用</h2>
         </header>
         <div class="ind">
            <div>
               <p>您应该了解在分布式配置中使用Oracle Label Security的特殊注意事项。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-6861F1C9-4232-40E1-885D-FA46CF0B3A1F">关于Oracle Label Security分布式配置</a><br>在支持分布式数据库的网络配置中，多个Oracle数据库（或其他）服务器可以在相同或不同的操作系统上运行。
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-202B86E6-4977-4D9D-AED8-A1961ECDCC9A">如何在Oracle Label Security工作下连接到远程数据库</a><br>分布式数据库以标准方式与Oracle Label Security一起使用：本地用户最终作为特定远程用户连接。
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-39EC9824-59E3-4045-8028-13104E875E39">远程会话中的会话标签和行标签</a><br>远程连接时，可以在建立连接时直接控制有效的会话标签和行标签。
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-8082D025-6375-4DE7-AE66-C062D5B103CE">分布式环境中的标签</a><br>您应该在要受策略保护的任何数据库上使用相同的标签组件定义和标签标记。
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-285BD47E-9AB5-43C3-A35B-C7052F05371A">分布式环境中的Oracle Label Security策略</a><br>Oracle Label Security支持所有标准的Oracle Database分布式配置。
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-AFE7EC49-CA2E-4C81-99D9-B2EDE41EB302">使用Oracle Label Security进行复制</a><br>您应该了解如何将复制选项与受Oracle Label Security策略保护的表一起使用。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part3.html" title="第IV部分介绍了如何管理Oracle Label Security应用程序。">管理Oracle Label Security应用程序</a></p>
                  </div>
               </div>
            </div>
            <a id="OLSAG3397"></a><a id="OLSAG081"></a><div class="props_rev_3"><a id="GUID-6861F1C9-4232-40E1-885D-FA46CF0B3A1F" name="GUID-6861F1C9-4232-40E1-885D-FA46CF0B3A1F"></a><h3 id="OLSAG-GUID-6861F1C9-4232-40E1-885D-FA46CF0B3A1F" class="sect3">关于Oracle Label Security分布式配置</h3>
               <div>
                  <p>在支持分布式数据库的网络配置中，多个Oracle数据库（或其他）服务器可以在相同或不同的操作系统上运行。</p>
                  <p>分布式系统中的每个协作服务器通过网络与其他客户端和服务器通信。</p>
                  <p><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-6861F1C9-4232-40E1-885D-FA46CF0B3A1F__CACBCAIF">图14-1</a>说明了一个分布式数据库，其中包括具有和不具有Oracle Label Security的客户端和服务器。如本章所述，如果您建立从<code class="codeph">WESTERN_REGION</code>数据库到<code class="codeph">EASTERN_REGION</code>数据库的数据库链接，那么您可以访问<code class="codeph">EASTERN_REGION</code>上的用户ID以查看它，即使本地（在<code class="codeph">WESTERN_REGION</code> ）您没有此访问权限。
                  </p>
                  <div class="figure" id="GUID-6861F1C9-4232-40E1-885D-FA46CF0B3A1F__CACBCAIF">
                     <p class="titleinfigure">图14-1将Oracle Label Security与分布式数据库配合使用</p><img src="img/olsag019.gif" alt="下面是图14-1的描述" title="下面是图14-1的描述" longdesc="img_text/olsag019.html"><br><a href="img_text/olsag019.html">“图14-1在分布式数据库中使用Oracle Label Security”的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-21087442-8EFA-4118-A5A5-A108249F7A9A" title="您应该了解在分布式配置中使用Oracle Label Security的特殊注意事项。">将Oracle Label Security与分布式数据库一起使用</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="OLSAG082"></a><div class="props_rev_3"><a id="GUID-202B86E6-4977-4D9D-AED8-A1961ECDCC9A" name="GUID-202B86E6-4977-4D9D-AED8-A1961ECDCC9A"></a><h3 id="OLSAG-GUID-202B86E6-4977-4D9D-AED8-A1961ECDCC9A" class="sect3">如何在Oracle Label Security工作下连接到远程数据库</h3>
               <div>
                  <p>分布式数据库以标准方式与Oracle Label Security一起使用：本地用户最终作为特定远程用户连接。</p>
                  <p>无论您是本地连接还是远程连接，Oracle Label Security都可以保护标记数据。如果远程用户具有正确的标签，则可以访问该数据。如果没有，那么您无法访问数据。</p>
                  <p>数据库链接设置与远程数据库的连接，并标识将与远程会话关联的用户。您在远程数据库上的Oracle Label Security授权基于数据库链接中标识的远程用户的授权。</p>
                  <p>例如，本地用户<code class="codeph">JANE</code>可能在连接字符串<code class="codeph">sales</code>引用的数据库中作为远程用户<code class="codeph">AUSTEN</code>连接，如下所示：</p><pre class="oac_no_warn" dir="ltr">创建数据库链接销售连接到奥地利骄傲使用'销售'</pre><p>当<code class="codeph">JANE</code>连接时，她的授权基于远程用户<code class="codeph">AUSTEN</code>的标签和权限，因为<code class="codeph">AUSTEN</code>是数据库链接中标识的用户。当<code class="codeph">JANE</code>首次引用远程数据库时，实际建立了远程会话。例如，如果JANE进入，则会创建远程会话：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM emp @ sales</pre><p>您无需成为本地数据库中的Oracle Label Security策略用户。如果以远程数据库上的策略用户身份进行连接，则可以访问受保护的数据。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-21087442-8EFA-4118-A5A5-A108249F7A9A" title="您应该了解在分布式配置中使用Oracle Label Security的特殊注意事项。">将Oracle Label Security与分布式数据库一起使用</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="OLSAG083"></a><div class="props_rev_3"><a id="GUID-39EC9824-59E3-4045-8028-13104E875E39" name="GUID-39EC9824-59E3-4045-8028-13104E875E39"></a><h3 id="OLSAG-GUID-39EC9824-59E3-4045-8028-13104E875E39" class="sect3">远程会话中的会话标签和行标签</h3>
               <div>
                  <p>远程连接时，可以在建立连接时直接控制有效的会话标签和行标签。</p>
                  <p>连接时，Oracle Label Security会将这些值（对于所有策略）传递到远程数据库。请注意：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果远程会话标签和行标签对远程用户有效，则它们将用作远程会话的默认值。</p>
                     </li>
                     <li>
                        <p>远程会话受远程用户的最小和最大授权限制。</p>
                     </li>
                     <li>
                        <p>虽然本地用户的会话标签被传递到远程数据库，但不传递本地用户的权限。远程会话的权限是与远程用户关联的权限。</p>
                     </li>
                  </ul>
                  <p>考虑本地用户<code class="codeph">Diana</code> ，其最高级别为<code class="codeph">HS</code> ，会话级别为<code class="codeph">S</code>在远程数据库上，数据库链接中标识的远程用户的最大级别为<code class="codeph">S</code></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果在建立数据库链接时Diana的会话标签为<code class="codeph">S</code> ，则传递<code class="codeph">S</code>标签。这是一个有效的标签。戴安娜可以连接和读取<code class="codeph">SENSITIVE</code>数据。
                        </p>
                     </li>
                     <li>
                        <p>如果在建立数据库链接时Diana的会话标签是<code class="codeph">HS</code> ，则<code class="codeph">HS</code>级别将被传递，但对远程用户无效。戴安娜将获取远程用户的默认标签（ <code class="codeph">S</code> ）。
                        </p>
                     </li>
                  </ul>
                  <p>第一次连接到远程数据库时，请注意运行的标签。第一次引用数据库链接时，会在建立连接时将本地会话标签发送到远程系统。稍后，您可以更改标签，但要执行此操作，您必须运行<code class="codeph">SA_SESSION</code> 。远程数据库上的<code class="codeph">SET_LABEL</code>过程。
                  </p>
                  <p>戴安娜可以在级别<code class="codeph">HS</code>连接，将标签设置为<code class="codeph">S</code> ，然后执行远程访问。建立数据库链接时隐式进行连接。她的默认标签是远程数据库上的S.
                  </p>
                  <p>在本地数据库中，Diana可以将其会话标签设置为其最高<code class="codeph">HS</code>级别，但如果远程用户的标签设置为<code class="codeph">S</code> ，则她只能从远程数据库中检索<code class="codeph">S</code>数据。如果她执行分布式查询，那么她将从本地数据库获取<code class="codeph">HS</code>数据，并从远程数据库获取<code class="codeph">S</code>数据。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-21087442-8EFA-4118-A5A5-A108249F7A9A" title="您应该了解在分布式配置中使用Oracle Label Security的特殊注意事项。">将Oracle Label Security与分布式数据库一起使用</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="OLSAG084"></a><div class="props_rev_3"><a id="GUID-8082D025-6375-4DE7-AE66-C062D5B103CE" name="GUID-8082D025-6375-4DE7-AE66-C062D5B103CE"></a><h3 id="OLSAG-GUID-8082D025-6375-4DE7-AE66-C062D5B103CE" class="sect3">分布式环境中的标签</h3>
               <div>
                  <p>您应该在要受策略保护的任何数据库上使用相同的标签组件定义和标签标记。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-2B80118A-CE90-443B-AB61-A04F3E05E9FE">分布式环境中的标签标签</a><br>在分布式环境中，您可以选择在多个数据库中使用相同的标签标记。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-9850945D-D9C3-4AFB-A743-DCDB736C8527">分布式环境中标签组件的数字形式</a><br>在分布式环境中，级别组件的数字形式的相同相对排名可确保标签正确排序。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-21087442-8EFA-4118-A5A5-A108249F7A9A" title="您应该了解在分布式配置中使用Oracle Label Security的特殊注意事项。">将Oracle Label Security与分布式数据库一起使用</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG3399"></a><a id="OLSAG3398"></a><div class="props_rev_3"><a id="GUID-2B80118A-CE90-443B-AB61-A04F3E05E9FE" name="GUID-2B80118A-CE90-443B-AB61-A04F3E05E9FE"></a><h4 id="OLSAG-GUID-2B80118A-CE90-443B-AB61-A04F3E05E9FE" class="sect4">分布式环境中的标签标签</h4>
                  <div>
                     <p>在分布式环境中，您可以选择在多个数据库中使用相同的标签标记。</p>
                     <p>但是，如果您选择<span class="italic">不在</span>多个数据库中使用相同的标记，则应在执行远程操作时检索标签的字符形式。这将确保标签一致。
                     </p>
                     <p>在以下示例中，标签字符串的字符串表示形式相同。但是，标签标签不匹配。如果检索到的label标签在<code class="codeph">WESTERN_REGION</code>数据库中的值为<code class="codeph">11</code> ，但在<code class="codeph">EASTERN_REGION</code>数据库上的标签为<code class="codeph">2001</code> ，则标签没有任何意义。可能导致严重后果。
                     </p>
                     <div class="figure" id="GUID-2B80118A-CE90-443B-AB61-A04F3E05E9FE__GUID-2B828386-1C3B-4543-BDAE-CCA7B5DDA2D7">
                        <p class="titleinfigure">图14-2分布式数据库中的标签标签</p><img src="img/olsag020.gif" alt="下面是图14-2的描述" title="下面是图14-2的描述" longdesc="img_text/olsag020.html"><br><a href="img_text/olsag020.html">“图14-2分布式数据库中的标签标签”的说明</a></div>
                     <!-- class="figure" -->
                     <p>从远程系统检索标签时，除非在两个数据库上使用相同的数字标签，否则应返回字符串表示形式（而不是数字标签标签）。</p>
                     <p>如果允许Oracle Label Security在不同数据库上自动生成标签，则标签标签将不相同。字符串具有含义，但数值不会，除非您在两个实例上都有预定义标签，并且标签标签相同。</p>
                     <p>为避免标签标签的复杂性，您可以在检索时将标签转换为字符串（使用<code class="codeph">LABEL_TO_CHAR</code> ），并在存储标签时使用<code class="codeph">CHAR_TO_LABEL</code> 。只要组件名称相同，操作就会成功。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-8082D025-6375-4DE7-AE66-C062D5B103CE" title="您应该在要受策略保护的任何数据库上使用相同的标签组件定义和标签标记。">分布式环境中的标签</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3401"></a><a id="OLSAG3400"></a><div class="props_rev_3"><a id="GUID-9850945D-D9C3-4AFB-A743-DCDB736C8527" name="GUID-9850945D-D9C3-4AFB-A743-DCDB736C8527"></a><h4 id="OLSAG-GUID-9850945D-D9C3-4AFB-A743-DCDB736C8527" class="sect4">分布式环境中标签组件的数字形式</h4>
                  <div>
                     <p>在分布式环境中，级别组件的数字形式的相同相对排名可确保标签正确排序。</p>
                     <p>在以下示例中，两个数据库中的级别实际上是相同的。虽然数字形式不同，但数字形式的相对排名是相同的。只要组件的相对顺序相同，标签就被认为是相同的。</p>
                     <div class="figure" id="GUID-9850945D-D9C3-4AFB-A743-DCDB736C8527__GUID-1540573B-320E-45A4-A9A5-3F52A65B5B56">
                        <p class="titleinfigure">图14-3分布式数据库中的标签组件</p><img src="img/olsag021.gif" alt="下面是图14-3的描述" title="下面是图14-3的描述" longdesc="img_text/olsag021.html"><br><a href="img_text/olsag021.html">“图14-3分布式数据库中的标签组件”的说明</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-8082D025-6375-4DE7-AE66-C062D5B103CE" title="您应该在要受策略保护的任何数据库上使用相同的标签组件定义和标签标记。">分布式环境中的标签</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="OLSAG085"></a><div class="props_rev_3"><a id="GUID-285BD47E-9AB5-43C3-A35B-C7052F05371A" name="GUID-285BD47E-9AB5-43C3-A35B-C7052F05371A"></a><h3 id="OLSAG-GUID-285BD47E-9AB5-43C3-A35B-C7052F05371A" class="sect3">分布式环境中的Oracle Label Security策略</h3>
               <div>
                  <p>Oracle Label Security支持所有标准的Oracle Database分布式配置。</p>
                  <p>是否可以访问受保护的数据取决于每个分布式数据库中安装的策略。</p>
                  <p>请务必考虑分布式环境中数据库之间的关系：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果同一应用程序在两个数据库上运行，并且您希望它们具有相同的保护，则必须将相同的Oracle Label Security策略应用于本地和远程数据库。</p>
                     </li>
                     <li>
                        <p>如果本地和远程数据库具有共同的策略，则本地会话标签和行标签将覆盖远程用户的默认标签。</p>
                     </li>
                     <li>
                        <p>如果远程数据库具有与本地数据库不同的策略，则远程策略可以独立于本地策略限制对数据的访问。另一方面，当您作为具有远程策略授权的远程用户建立连接时，无论您的本地授权如何，都可以访问远程用户有权访问的任何数据。</p>
                     </li>
                  </ul>
                  <p>如果远程数据库没有应用策略，则可以像使用标准分布式数据库一样访问其数据。</p>
                  <p>考虑存在三个数据库的情况，其中有不同的Oracle Label Security策略：</p>
                  <ul class="simple" style="list-style-type:none;padding-left:0">
                     <li>数据库1具有策略A和策略B.</li>
                     <li>数据库2具有策略A.</li>
                     <li>数据库3有策略C.</li>
                  </ul>
                  <p>获得策略A授权的用户可以从数据库1和数据库2获取受保护的数据。如果远程用户被授权使用策略C，则该用户也可以从数据库3获取数据。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-21087442-8EFA-4118-A5A5-A108249F7A9A" title="您应该了解在分布式配置中使用Oracle Label Security的特殊注意事项。">将Oracle Label Security与分布式数据库一起使用</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="OLSAG086"></a><div class="props_rev_3"><a id="GUID-AFE7EC49-CA2E-4C81-99D9-B2EDE41EB302" name="GUID-AFE7EC49-CA2E-4C81-99D9-B2EDE41EB302"></a><h3 id="OLSAG-GUID-AFE7EC49-CA2E-4C81-99D9-B2EDE41EB302" class="sect3">使用Oracle Label Security进行复制</h3>
               <div>
                  <p>您应该了解如何将复制选项与受Oracle Label Security策略保护的表一起使用。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-FEB21DEF-0C31-4BCF-B14B-64B151667386">关于Oracle Label Security下的复制</a><br>您可以在Oracle Label Security中复制数据。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-440E0AE0-2B79-4807-BA3A-BE24BEE9393C">物化视图的内容</a><br>Oracle Label Security可以创建物化视图。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-A5B0337B-DAAF-4B0C-8031-6ADFFE43C923">在Oracle Label Security下创建物化视图的要求</a><br>创建物化视图的要求取决于您正在创建的物化视图的类型。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-F67385ED-5C85-4F78-871E-06C1CC59881E">如何刷新物化视图</a><br>如果主表的内容或定义发生更改，则应刷新实例化视图。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-21087442-8EFA-4118-A5A5-A108249F7A9A" title="您应该了解在分布式配置中使用Oracle Label Security的特殊注意事项。">将Oracle Label Security与分布式数据库一起使用</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG3402"></a><div class="props_rev_3"><a id="GUID-FEB21DEF-0C31-4BCF-B14B-64B151667386" name="GUID-FEB21DEF-0C31-4BCF-B14B-64B151667386"></a><h4 id="OLSAG-GUID-FEB21DEF-0C31-4BCF-B14B-64B151667386" class="sect4">关于Oracle Label Security下的复制</h4>
                  <div>
                     <p>您可以在Oracle Label Security中复制数据。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-33DD8D62-6186-40E3-9A82-4F17CD9902B7">Oracle Label Security支持的复制功能</a><br>Oracle Label Security支持使用只读物化视图（快照）进行复制。
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-83B99214-146F-465A-80B8-E644F05112D1">Oracle Label Security下的复制行级安全限制</a><br>如果将<code class="codeph">READ_CONTROL</code>指定为策略选项之一，则Oracle Label Security策略将行级安全性（RLS）应用于表。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-AFE7EC49-CA2E-4C81-99D9-B2EDE41EB302" title="您应该了解如何将复制选项与受Oracle Label Security策略保护的表一起使用。">使用Oracle Label Security进行复制</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="OLSAG3404"></a><a id="OLSAG3403"></a><div class="props_rev_3"><a id="GUID-33DD8D62-6186-40E3-9A82-4F17CD9902B7" name="GUID-33DD8D62-6186-40E3-9A82-4F17CD9902B7"></a><h5 id="OLSAG-GUID-33DD8D62-6186-40E3-9A82-4F17CD9902B7" class="sect5">Oracle Label Security支持的复制功能</h5>
                     <div>
                        <p>Oracle Label Security支持使用只读物化视图（快照）进行复制。</p>
                        <p></p>
                        <p>Oracle数据库使用物化视图来复制数据。实例<span class="italic">化视图</span>是本地或远程主表的本地副本，它反映了主表的最新状态。
                        </p>
                        <p><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-33DD8D62-6186-40E3-9A82-4F17CD9902B7__I1012594">如图14-4所示</a> ，主表是您希望在指定为主节点的节点上复制的表。使用<code class="codeph">dblink</code>帐户，可以在其他数据库中创建表的<code class="codeph">dblink</code>化视图。（这也可以在同一个数据库中，在同一个系统上完成。）您可以从远程主表中选择行，并将它们复制到本地物化视图中。这里， <code class="codeph">mvEMP</code>表示表<code class="codeph">EMP</code>的物化视图， <code class="codeph">mlog$_EMP</code>表示物化视图日志。
                        </p>
                        <div class="figure" id="GUID-33DD8D62-6186-40E3-9A82-4F17CD9902B7__I1012594">
                           <p class="titleinfigure">图14-4使用物化视图进行复制</p><img src="img/olsag018.gif" alt="下面是图14-4的描述" title="下面是图14-4的描述" longdesc="img_text/olsag018.html"><br><a href="img_text/olsag018.html">“图14-4使用物化视图进行复制”的说明</a></div>
                        <!-- class="figure" -->
                        <p>在分布式环境中，物化视图可减轻网络上的查询流量，并在节点不可用时提高数据可用性。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-FEB21DEF-0C31-4BCF-B14B-64B151667386" title="您可以在Oracle Label Security中复制数据。">关于Oracle Label Security下的复制</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3405"></a><div class="props_rev_3"><a id="GUID-83B99214-146F-465A-80B8-E644F05112D1" name="GUID-83B99214-146F-465A-80B8-E644F05112D1"></a><h5 id="OLSAG-GUID-83B99214-146F-465A-80B8-E644F05112D1" class="sect5">Oracle Label Security下的复制行级安全限制</h5>
                     <div>
                        <p>如果将<code class="codeph">READ_CONTROL</code>指定为策略选项之一，则Oracle Label Security策略将行级安全性（RLS）应用于表。
                        </p>
                        <p>如果<span class="italic">满足</span>以下<span class="italic">两个</span>条件，则会出现问题：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Oracle Label Security策略应用于与复制相关的任何表（例如主表，物化视图或物化视图日志），以及</p>
                           </li>
                           <li>
                              <p>该策略在<code class="codeph">SELECT</code>语句的<code class="codeph">WHERE</code>子句中返回谓词。
                              </p>
                           </li>
                        </ul>
                        <p>为避免使用其他谓词（因此避免此问题），应为复制环境中涉及的用户提供必要的Oracle Label Security权限。具体而言，数据库链接中的指定用户（例如<code class="codeph">REPADMIN</code>和物化视图所有者）必须具有<code class="codeph">READ</code>或<code class="codeph">FULL</code>权限。因此，RLS不会修改用于执行复制的查询。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-FEB21DEF-0C31-4BCF-B14B-64B151667386" title="您可以在Oracle Label Security中复制数据。">关于Oracle Label Security下的复制</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="OLSAG3406"></a><div class="props_rev_3"><a id="GUID-440E0AE0-2B79-4807-BA3A-BE24BEE9393C" name="GUID-440E0AE0-2B79-4807-BA3A-BE24BEE9393C"></a><h4 id="OLSAG-GUID-440E0AE0-2B79-4807-BA3A-BE24BEE9393C" class="sect4">物化视图的内容</h4>
                  <div>
                     <p>Oracle Label Security可以创建物化视图。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-8D60012D-D6D3-43C4-AFE0-E180E02A3121">如何确定物化视图内容</a><br>Oracle Label Security在创建实体化视图时执行设定步骤。
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-429D221F-761C-441B-A72E-B61A6BCDD830">完整的物化视图</a><br>Oracle Label Security支持完整的物化视图。
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-DF69B1EF-73F7-4449-A316-CA76D76C997B">部分物化观点</a><br>在<code class="codeph">WHERE</code>化视图定义中指定<code class="codeph">WHERE</code>子句时，将创建部分<code class="codeph">WHERE</code>化视图。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-AFE7EC49-CA2E-4C81-99D9-B2EDE41EB302" title="您应该了解如何将复制选项与受Oracle Label Security策略保护的表一起使用。">使用Oracle Label Security进行复制</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="OLSAG3407"></a><div class="props_rev_3"><a id="GUID-8D60012D-D6D3-43C4-AFE0-E180E02A3121" name="GUID-8D60012D-D6D3-43C4-AFE0-E180E02A3121"></a><h5 id="OLSAG-GUID-8D60012D-D6D3-43C4-AFE0-E180E02A3121" class="sect5">如何确定物化视图内容</h5>
                     <div>
                        <p>Oracle Label Security在创建实体化视图时执行设定步骤。</p>
                        <p>以下步骤确定视图的内容：</p>
                        <ol>
                           <li>
                              <p>它读取远程数据库中主表的定义。</p>
                           </li>
                           <li>
                              <p>它读取主表中满足物化视图定义中定义的条件的行。</p>
                           </li>
                           <li>
                              <p>它将这些行写入本地数据库中的物化视图。</p>
                           </li>
                        </ol>
                        <p>由于Oracle Label Security仅在本地数据库中写入您具有写访问权限的行，因此实例化视图的内容根据以下内容而有所不同：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>政策选项生效</p>
                           </li>
                           <li>
                              <p>您在本地数据库中定义的权限</p>
                           </li>
                           <li>
                              <p>会话标签</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-440E0AE0-2B79-4807-BA3A-BE24BEE9393C" title="Oracle Label Security可以创建物化视图。">实体化视图的内容</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3408"></a><div class="props_rev_3"><a id="GUID-429D221F-761C-441B-A72E-B61A6BCDD830" name="GUID-429D221F-761C-441B-A72E-B61A6BCDD830"></a><h5 id="OLSAG-GUID-429D221F-761C-441B-A72E-B61A6BCDD830" class="sect5">完整的物化视图</h5>
                     <div>
                        <p>Oracle Label Security支持完整的物化视图。</p>
                        <p>如果读取主表中的所有行并且在本地数据库中对物化视图中的每个标签具有写访问权限，则结果是主表的完整物化视图。要确保物化视图完整，您应该具有对主表中所有数据的读访问权限，并且可以将本地数据库中的访问权限写入主表中存储数据的所有标签。</p>
                        <div class="infoboxnote" id="GUID-429D221F-761C-441B-A72E-B61A6BCDD830__GUID-60815FFE-FC41-4A02-870A-CF96B3C81569">
                           <p class="notep1">注意：</p>
                           <p>永远不要撤消在创建实体化视图时授予的权限。如果这样做，则可能无法执行复制刷新。</p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-440E0AE0-2B79-4807-BA3A-BE24BEE9393C" title="Oracle Label Security可以创建物化视图。">实体化视图的内容</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3409"></a><div class="props_rev_3"><a id="GUID-DF69B1EF-73F7-4449-A316-CA76D76C997B" name="GUID-DF69B1EF-73F7-4449-A316-CA76D76C997B"></a><h5 id="OLSAG-GUID-DF69B1EF-73F7-4449-A316-CA76D76C997B" class="sect5">部分物化观点</h5>
                     <div>
                        <p>在<code class="codeph">WHERE</code>化视图定义中指定<code class="codeph">WHERE</code>子句时，将创建部分<code class="codeph">WHERE</code>化视图。
                        </p>
                        <p>部分物化视图是将数据子集传递到远程数据库的便捷方式。</p>
                        <p>要创建部分实例化视图，用户必须具有对要复制的所有行的写访问权。您可以通过查询<span class="apiname" translate="no">DBA_SA_USER_PRIVS</span>数据字典视图来查找当前为用户授予的权限。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-440E0AE0-2B79-4807-BA3A-BE24BEE9393C" title="Oracle Label Security可以创建物化视图。">实体化视图的内容</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="OLSAG3410"></a><div class="props_rev_3"><a id="GUID-A5B0337B-DAAF-4B0C-8031-6ADFFE43C923" name="GUID-A5B0337B-DAAF-4B0C-8031-6ADFFE43C923"></a><h4 id="OLSAG-GUID-A5B0337B-DAAF-4B0C-8031-6ADFFE43C923" class="sect4">在Oracle Label Security下创建物化视图的要求</h4>
                  <div>
                     <p>创建物化视图的要求取决于您正在创建的物化视图的类型。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-3B313E21-5104-43DF-8BF0-0FAD76C1D45D">复制管理员的要求</a><br>通常使用<code class="codeph">REPADMIN</code>帐户的复制管理员的要求因配置而异。
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-08AC43E9-4E0C-4F4A-9A17-08FFC59C723E">物化视图所有者的要求</a><br>在物化视图的刷新期间使用属于物化视图所有者的权限。
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-0E84D3F4-BF6F-4A2D-A299-26314E1B278E">创建部分多级物化视图的要求</a><br>部分实例化视图只能包含受Oracle Label Security保护的远程主表中的某些行。
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-6485AF41-D4CE-4742-8325-52001790686B">创建完整的多级物化视图的要求</a><br>完整的物化视图可以包括受Oracle Label Security保护的远程主表中的每一行。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-AFE7EC49-CA2E-4C81-99D9-B2EDE41EB302" title="您应该了解如何将复制选项与受Oracle Label Security策略保护的表一起使用。">使用Oracle Label Security进行复制</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="OLSAG3411"></a><div class="props_rev_3"><a id="GUID-3B313E21-5104-43DF-8BF0-0FAD76C1D45D" name="GUID-3B313E21-5104-43DF-8BF0-0FAD76C1D45D"></a><h5 id="OLSAG-GUID-3B313E21-5104-43DF-8BF0-0FAD76C1D45D" class="sect5">复制管理员的要求</h5>
                     <div>
                        <p>通常使用<code class="codeph">REPADMIN</code>帐户的复制管理员的要求因配置而异。
                        </p>
                        <p>但是，一般来说，它应符合以下要求：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>它必须具有<code class="codeph">FULL</code> Oracle Label Security权限（对所有配置都是必需的）。
                              </p>
                           </li>
                           <li>
                              <p>它必须具有主表的<code class="codeph">SELECT</code>权限。
                              </p>
                           </li>
                           <li>
                              <p>它必须是建立从远程节点到包含主表的数据库的数据库链接的帐户。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-A5B0337B-DAAF-4B0C-8031-6ADFFE43C923" title="创建物化视图的要求取决于您正在创建的物化视图的类型。">在Oracle Label Security下创建实体化视图的要求</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3412"></a><div class="props_rev_3"><a id="GUID-08AC43E9-4E0C-4F4A-9A17-08FFC59C723E" name="GUID-08AC43E9-4E0C-4F4A-9A17-08FFC59C723E"></a><h5 id="OLSAG-GUID-08AC43E9-4E0C-4F4A-9A17-08FFC59C723E" class="sect5">物化视图所有者的要求</h5>
                     <div>
                        <p>在物化视图的刷新期间使用属于物化视图所有者的权限。</p>
                        <p></p>
                        <p>如果这些权限不够，那么有两种选择：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>物化视图可以在<code class="codeph">REPADMIN</code>帐户中创建，或</p>
                           </li>
                           <li>
                              <p>必须为物化视图的所有者授予其他权限。</p>
                           </li>
                        </ul>
                        <p>例如，考虑用户SCOTT创建的以下物化视图：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW mvemp as SELECT * FROM EMP @ link_to_master WHERE label_to_char（sa_label）='HS';</pre><p>在这里， <code class="codeph">SCOTT</code>应该有权在本地数据库中的<code class="codeph">HS</code>级别插入记录。如果在物化视图上应用Oracle Label Security策略，则<code class="codeph">SCOTT</code>必须具有<code class="codeph">FULL</code>权限才能避免RLS限制。
                        </p>
                        <p>可以设置不同的配置，具体取决于Oracle Label Security策略是否应用于物化视图，授予物化视图所有者的权限等。如果Oracle Label Security策略应用于实例化视图，但不应授予<code class="codeph">SCOTT</code> <code class="codeph">FULL</code>权限，则必须使用<code class="codeph">REPADMIN</code>帐户创建<code class="codeph">REPADMIN</code>化视图。然后可以为<code class="codeph">SCOTT</code>授予该表的<code class="codeph">SELECT</code>权限。
                        </p>
                        <p>如果没有策略应用于物化视图，则可以在<code class="codeph">SCOTT</code>的模式中创建视图，而无需任何其他权限。在这种情况下，应该以这样的方式创建物化视图，即<code class="codeph">WHERE</code>条件将记录限制为<code class="codeph">SCOTT</code>可以读取的记录。
                        </p>
                        <p>最后，如果<code class="codeph">SCOTT</code>可以被授予<code class="codeph">FULL</code>特权，那么可以在<code class="codeph">SCOTT</code>的模式中创建物化视图，也可以在物化视图上应用Oracle Label Security策略。
                        </p>
                        <p>请注意，主表可以具有包含任何策略选项集的Oracle Label Security策略。如果<code class="codeph">SCOTT</code>具有<code class="codeph">FULL</code>或<code class="codeph">READ</code>权限，则无论策略选项如何，他都可以选择所有行。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-A5B0337B-DAAF-4B0C-8031-6ADFFE43C923" title="创建物化视图的要求取决于您正在创建的物化视图的类型。">在Oracle Label Security下创建实体化视图的要求</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3413"></a><div class="props_rev_3"><a id="GUID-0E84D3F4-BF6F-4A2D-A299-26314E1B278E" name="GUID-0E84D3F4-BF6F-4A2D-A299-26314E1B278E"></a><h5 id="OLSAG-GUID-0E84D3F4-BF6F-4A2D-A299-26314E1B278E" class="sect5">创建部分多级物化视图的要求</h5>
                     <div>
                        <p>部分实例化视图只能包含受Oracle Label Security保护的远程主表中的某些行。</p>
                        <p>如果在Oracle Label Security保护的表中使用部分实例化视图，则应确保在查询检索到的每个标签的本地数据库中具有足够的<code class="codeph">WRITE</code>权限。您可以通过查询<code class="codeph">ALL_SA_USER_PRIVS</code>数据字典视图来查找当前授予的权限。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-A5B0337B-DAAF-4B0C-8031-6ADFFE43C923" title="创建物化视图的要求取决于您正在创建的物化视图的类型。">在Oracle Label Security下创建实体化视图的要求</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3414"></a><div class="props_rev_3"><a id="GUID-6485AF41-D4CE-4742-8325-52001790686B" name="GUID-6485AF41-D4CE-4742-8325-52001790686B"></a><h5 id="OLSAG-GUID-6485AF41-D4CE-4742-8325-52001790686B" class="sect5">创建完整的多级物化视图的要求</h5>
                     <div>
                        <p>完整的物化视图可以包括受Oracle Label Security保护的远程主表中的每一行。</p>
                        <p>如果在Oracle Label Security保护的表中使用完整的物化视图，则您必须能够在本地数据库中对定义的物化视图查询检索到的所有行的标签具有<code class="codeph">WRITE</code>访问权限。您可以通过查询<code class="codeph">ALL_SA_USER_PRIVS</code>数据字典视图来查找当前授予的权限。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-A5B0337B-DAAF-4B0C-8031-6ADFFE43C923" title="创建物化视图的要求取决于您正在创建的物化视图的类型。">在Oracle Label Security下创建实体化视图的要求</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="OLSAG3415"></a><div class="props_rev_3"><a id="GUID-F67385ED-5C85-4F78-871E-06C1CC59881E" name="GUID-F67385ED-5C85-4F78-871E-06C1CC59881E"></a><h4 id="OLSAG-GUID-F67385ED-5C85-4F78-871E-06C1CC59881E" class="sect4">如何刷新物化视图</h4>
                  <div>
                     <p>如果主表的内容或定义发生更改，则应刷新实例化视图。</p>
                     <p>这可确保物化视图准确反映主表的内容。</p>
                     <p>要刷新远程多级表的实例化视图，您还必须具有在实例化视图查询检索的所有行的标签处在本地数据库中写入的权限</p>
                     <div class="infoboxnotewarn" id="GUID-F67385ED-5C85-4F78-871E-06C1CC59881E__GUID-CEBCD660-EB88-44D8-A29D-CCA50AC97D24">
                        <p class="notep1">警告：</p>
                        <p>如果刷新部分或完整的物化视图但没有对主表中所有行的READ访问权限，则物化视图可能包含过时的行，因此不会使用更新的行覆盖原始物化视图中的行。主表。</p>
                     </div>
                     <p>要确保准确的物化视图刷新，应使用作业队列自动刷新视图。这些进程必须具有足够的权限才能读取主表中的所有行并将这些行写入实例化视图，从而确保完全刷新视图。请记住，这些进程使用的权限是物化视图所有者的权限。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F67385ED-5C85-4F78-871E-06C1CC59881E__GUID-D63B826B-67A2-4C9D-98C7-591CC16A108D">
                        <p class="notep1">也可以看看：</p>
                        <p>有关作业队列的信息，请<a href="../dwhsg/refreshing-materialized-views.html#DWHSG8369" target="_blank"><span><cite>参见“Oracle数据库数据仓库指南”</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-label-security-with-a-distributed-database.html#GUID-AFE7EC49-CA2E-4C81-99D9-B2EDE41EB302" title="您应该了解如何将复制选项与受Oracle Label Security策略保护的表一起使用。">使用Oracle Label Security进行复制</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>