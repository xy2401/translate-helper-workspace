<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="A join between the tables for one-to-many relationship is represented through nested columns.">
      <meta name="description" content="A join between the tables for one-to-many relationship is represented through nested columns.">
      <title>Using Nested Data</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="API Guide">
      <meta property="og:description" content="A join between the tables for one-to-many relationship is represented through nested columns.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="API Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-mining-api-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-12T22:34:55-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E97869-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="about-attributes.html" title="Previous" type="text/html">
      <link rel="next" href="using-market-basket-data.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Mining API Guide">
    <meta name="dcterms.isVersionOf" content="DMAPI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="about-attributes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-market-basket-data.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">API Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-data-mining-API.html" property="item" typeof="WebPage"><span property="name">Using the Data Mining API</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="preparing-data.html" property="item" typeof="WebPage"><span property="name">Preparing the Data</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Using Nested Data</li>
            </ol>
            <a id="GUID-4BBB376F-7CED-4E23-826B-922D00CBFA44" name="GUID-4BBB376F-7CED-4E23-826B-922D00CBFA44"></a><a id="DMPRG006"></a>
            
            <h2 id="DMAPI-GUID-4BBB376F-7CED-4E23-826B-922D00CBFA44" class="sect2"><span class="enumeration_section">29.3 </span>Using Nested Data
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>A join between the tables for one-to-many relationship is represented through nested columns.</p>
               <div class="section">
                  <p><a id="d31793e20" class="indexterm-anchor"></a>Oracle Data Mining <a id="d31793e23" class="indexterm-anchor"></a>requires a case table in single-record case format, with each record in a separate row. What if some or all of your data is in multi-record case format, with each record in several rows? What if you want one attribute to represent a series or collection of values, such as a student's test scores or the products purchased by a customer?
                  </p>
                  <p>This kind of one-to-many relationship is usually implemented as a join between tables. For example, you can join your customer table to a sales table and thus associate a list of products purchased with each customer. </p>
                  <p>Oracle Data Mining supports dimensioned data through nested columns. To include dimensioned data in your case table, create a view and cast the joined data to one of the Data Mining nested table types. Each row in the nested column consists of an attribute name/value pair. Oracle Data Mining internally processes each nested row as a separate attribute. </p>
                  <div class="infoboxnote" id="GUID-4BBB376F-7CED-4E23-826B-922D00CBFA44__GUID-5AAFC8C6-3D2B-4A7B-AD96-5306CC843D16">
                     <p class="notep1">Note:</p>
                     <p><a id="d31793e34" class="indexterm-anchor"></a>O-Cluster is the only algorithm that does not support nested data.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="using-market-basket-data.html#GUID-F157D6D3-52E2-48BF-AABA-1226339DF510" title="The example shows how to define a nested column for market basket analysis.">Example: Creating a Nested Column for Market Basket Analysis</a></li>
                  </ul>
               </div>
            </div><a id="DMPRG750"></a><a id="DMPRG162"></a><div class="props_rev_3"><a id="GUID-EE26B994-34FE-469F-934E-6989416F33FF" name="GUID-EE26B994-34FE-469F-934E-6989416F33FF"></a><h3 id="DMAPI-GUID-EE26B994-34FE-469F-934E-6989416F33FF" class="sect3"><span class="enumeration_section">29.3.1 </span>Nested Object Types
               </h3>
               <div>
                  <p>Nested tables are object data types that can be used in place of other data types.</p>
                  <div class="section">
                     <p>Oracle Database supports user-defined data types that make it possible to model real-world entities as objects in the database. <strong class="term">Collection types</strong> are object data types for modeling multi-valued attributes. Nested tables are collection types. Nested tables can be used anywhere that other data types can be used. 
                     </p>
                     <p>Oracle Data Mining supports the following nested object types: </p>
                     <ul class="simple" style="list-style-type: none;padding-left:0;">
                        <li><code class="codeph">DM_NESTED_BINARY_DOUBLES</code></li>
                        <li><code class="codeph">DM_NESTED_BINARY_FLOATS</code></li>
                        <li><code class="codeph">DM_NESTED_NUMERICALS</code></li>
                        <li><code class="codeph">DM_NESTED_CATEGORICALS</code></li>
                     </ul>
                     <p>Descriptions of the nested types are provided in this example.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-EE26B994-34FE-469F-934E-6989416F33FF__CIHHCECA">
                     <p class="titleinexample">Example 29-3 Oracle Data Mining Nested Data Types</p><pre class="oac_no_warn" dir="ltr">
describe <span class="bold">dm_nested_binary_double</span>
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ATTRIBUTE_NAME                                     VARCHAR2(4000)
 VALUE                                              BINARY_DOUBLE

describe <span class="bold">dm_nested_binary_doubles</span>
 DM_NESTED_BINARY_DOUBLES TABLE OF SYS.DM_NESTED_BINARY_DOUBLE
 Name                                       Null?    Type
 ------------------------------------------ -------- ---------------------------
 ATTRIBUTE_NAME                                      VARCHAR2(4000)
 VALUE                                               BINARY_DOUBLE

describe <span class="bold"><code class="codeph">dm_nested_binary_float</code></span>
 Name                                      Null?    Type
 ----------------------------------------- -------- ---------------------------
 ATTRIBUTE_NAME                                     VARCHAR2(4000)
 VALUE                                              BINARY_FLOAT
 
describe <span class="bold"><code class="codeph">dm_nested_binary_floats</code></span>
 DM_NESTED_BINARY_FLOATS TABLE OF SYS.DM_NESTED_BINARY_FLOAT
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ATTRIBUTE_NAME                                     VARCHAR2(4000)
 VALUE                                              BINARY_FLOAT

describe <span class="bold"><code class="codeph">dm_nested_numerical</code></span>
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ATTRIBUTE_NAME                                     VARCHAR2(4000)
 VALUE                                              NUMBER
 
describe <span class="bold"><code class="codeph">dm_nested_numericals</code></span>
 DM_NESTED_NUMERICALS TABLE OF SYS.DM_NESTED_NUMERICAL
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ATTRIBUTE_NAME                                     VARCHAR2(4000)
 VALUE                                              NUMBER

describe <span class="bold"><code class="codeph">dm_nested_categorical</code></span>
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ATTRIBUTE_NAME                                     VARCHAR2(4000)
 VALUE                                              VARCHAR2(4000)
 
describe <span class="bold"><code class="codeph">dm_nested_categoricals</code></span>
 DM_NESTED_CATEGORICALS TABLE OF SYS.DM_NESTED_CATEGORICAL
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ATTRIBUTE_NAME                                     VARCHAR2(4000)
 VALUE                                              VARCHAR2(4000)</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../adobj/support-for-collection-data-types.html#ADOBJ00204" target="_blank"><span><cite>Oracle Database Object-Relational Developer's Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="DMPRG166"></a><a id="DMPRG167"></a><a id="DMPRG168"></a><a id="DMPRG165"></a><div class="props_rev_3"><a id="GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA" name="GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA"></a><h3 id="DMAPI-GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA" class="sect3"><span class="enumeration_section">29.3.2 </span>Example: Transforming Transactional Data for Mining
               </h3>
               <div>
                  <div class="section">
                     <p><a href="using-nested-dita.html#GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA__BGBHBDBD">Example 29-4</a> shows data from a view of a sales table. <a id="d31793e164" class="indexterm-anchor"></a>It <a id="d31793e167" class="indexterm-anchor"></a>includes <a id="d31793e170" class="indexterm-anchor"></a>sales for three of the many products sold in four regions. This data is not suitable for mining at the product level because sales for each case (product), is stored in <a id="d31793e175" class="indexterm-anchor"></a>several rows.
                     </p>
                     <p><a href="using-nested-dita.html#GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA__BGBDHCDI">Example 29-5</a> shows how this data can be transformed for mining. The case ID column is <code class="codeph">PRODUCT</code>. <code class="codeph">SALES_PER_REGION</code>, a nested column of type <code class="codeph">DM_NESTED_NUMERICALS</code>, is a data attribute. This table is suitable for mining at the product case level, because the information for each case is stored in a single row.
                     </p>
                     <div class="p">Oracle Data Mining treats each nested row as a separate model attribute, as shown in <a href="using-nested-dita.html#GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA__BABHHCFF">Example 29-6</a>. 
                        <div class="infoboxnote" id="GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA__GUID-561E491A-EF7D-4D80-BDF8-386292D9905A">
                           <p class="notep1">Note:</p>
                           <p>The presentation in this example is conceptual only. The data is not actually pivoted before being processed.</p>
                        </div>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA__BGBHBDBD">
                     <p class="titleinexample">Example 29-4 Product Sales per Region in Multi-Record Case Format</p><pre class="oac_no_warn" dir="ltr">PRODUCT   REGION         SALES
-------   --------   ----------
Prod1       NE           556432
Prod2       NE           670155
Prod3       NE             3111
.
.
Prod1       NW            90887
Prod2       NW           100999
Prod3       NW           750437
.
.
Prod1       SE            82153
Prod2       SE            57322
Prod3       SE            28938
.
.
Prod1       SW          3297551
Prod2       SW          4972019
Prod3       SW           884923
.
.
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA__BGBDHCDI">
                     <p class="titleinexample">Example 29-5 Product Sales per Region in Single-Record Case Format</p><pre class="oac_no_warn" dir="ltr">PRODUCT      SALES_PER_REGION
          (ATTRIBUTE_NAME, VALUE)
------    --------------------------
Prod1      ('NE' ,     556432)
           ('NW' ,      90887)
           ('SE' ,      82153)
           ('SW' ,    3297551)
Prod2      ('NE' ,     670155)
           ('NW' ,     100999)
           ('SE' ,      57322)
           ('SW' ,    4972019)
Prod3      ('NE' ,       3111)
           ('NW' ,     750437)
           ('SE' ,      28938)
           ('SW' ,     884923)
.
.
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-7C1CE442-8D0C-4B8B-96E9-B72BA31289AA__BABHHCFF">
                     <p class="titleinexample">Example 29-6 Model Attributes Derived From SALES_PER_REGION</p><pre class="oac_no_warn" dir="ltr">PRODUCT    SALES_PER_REGION.NE    SALES_PER_REGION.NW    SALES_PER_REGION.SE    SALES_PER_REGION.SW   
-------    ------------------    -------------------    ------------------    -------------------
Prod1                 556432                 90887                  82153                3297551
Prod2                 670155                100999                  57322                4972019
Prod3                   3111                 750437                 28938                 884923
.
.</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>