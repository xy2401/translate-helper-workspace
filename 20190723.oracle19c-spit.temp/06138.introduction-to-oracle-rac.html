<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Provides an overview of Oracle Real Application Clusters (Oracle RAC) installation and administration, and various components and functions.">
      <meta name="description" content="Provides an overview of Oracle Real Application Clusters (Oracle RAC) installation and administration, and various components and functions.">
      <title>Introduction to Oracle RAC</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Real Application Clusters Administration and Deployment Guide">
      <meta property="og:description" content="Provides an overview of Oracle Real Application Clusters (Oracle RAC) installation and administration, and various components and functions.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Real Application Clusters Administration and Deployment Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="real-application-clusters-administration-and-deployment-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-25T14:02:30-07:00">
      <meta name="dcterms.title" content="Real Application Clusters Administration and Deployment Guide">
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E95728-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="changes-in-this-release-for-oracle-real-application-clusters-administration-and-deployment-guide.html" title="Previous" type="text/html">
      <link rel="next" href="administering-storage-in-oracle-rac.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="RACAD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="changes-in-this-release-for-oracle-real-application-clusters-administration-and-deployment-guide.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="administering-storage-in-oracle-rac.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Clusters Administration and Deployment Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Introduction to Oracle RAC</li>
            </ol>
            <a id="GUID-5A1B02A2-A327-42DD-A1AD-20610B2A9D92" name="GUID-5A1B02A2-A327-42DD-A1AD-20610B2A9D92"></a><a id="RACAD1111"></a>
            
            <h2 id="RACAD-GUID-5A1B02A2-A327-42DD-A1AD-20610B2A9D92" class="sect2"><span class="enumeration_chapter">1 </span>Introduction to Oracle RAC
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Provides an overview of Oracle Real Application Clusters (Oracle RAC) installation and administration, and various components and functions.</p>
               <p>This chapter includes the following topics: </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="introduction-to-oracle-rac.html#GUID-D04AA2A7-2E68-4C5C-BD6E-36C62427B98E" title="This topic provides an introduction to Oracle RAC and its functionality.">Overview of Oracle RAC</a></p>
                  </li>
                  <li>
                     <p><a href="introduction-to-oracle-rac.html#GUID-3FE2D3E6-EC1C-4478-A9E4-3751F7A47C9E" title="Install Oracle Grid Infrastructure and Oracle Database software using Oracle Universal Installer, and create your database with Database Configuration Assistant (DBCA).">Overview of Installing Oracle RAC</a></p>
                  </li>
                  <li>
                     <p><a href="introduction-to-oracle-rac.html#GUID-E54C835B-85EC-477F-AE44-AD4B9690C7F6" title="Oracle Real Application Clusters One Node (Oracle RAC One Node) is an option to Oracle Database Enterprise Edition available since Oracle Database 11g release 2 (11.2).">Overview of Oracle Real Application Clusters One Node</a></p>
                  </li>
                  <li>
                     <p><a href="introduction-to-oracle-rac.html#GUID-4194E2D5-53CD-4D93-BE20-42EC14B7C44A" title="Oracle Clusterware provides a complete, integrated clusterware management solution on all Oracle Database platforms.">Overview of Oracle Clusterware for Oracle RAC</a></p>
                  </li>
                  <li>
                     <p><a href="introduction-to-oracle-rac.html#GUID-0014A9C2-F7E3-43D2-913E-494CAC107C03" title="All nodes in an Oracle RAC environment must connect to at least one Local Area Network (LAN) (commonly referred to as the public network) to enable users and applications to access the database.Applications should use the Dynamic Database Services feature to connect to an Oracle database over the public network.The valid node checking feature provides the ability to configure and dynamically update a set of IP addresses or subnets from which registration requests are allowed by the listener.Oracle RAC databases generally have two or more database instances that each contain memory structures and background processes.">Overview of Oracle RAC Architecture and Processing</a></p>
                  </li>
                  <li>
                     <p><a href="introduction-to-oracle-rac.html#GUID-75EE86C1-E690-4624-BA83-DFB83234156C" title="Services represent groups of applications with common attributes, service level thresholds, and priorities.">Overview of Automatic Workload Management with Dynamic Database Services</a></p>
                  </li>
                  <li>
                     <p><a href="introduction-to-oracle-rac.html#GUID-7D01967A-2E0F-4228-82CE-428D7B65F961" title="Server pools are the basis for policy-managed databases.">Overview of Server Pools and Policy-Managed Databases</a></p>
                  </li>
                  <li>
                     <p><a href="introduction-to-oracle-rac.html#GUID-0E5D04E9-CE2E-4937-B4B3-27CE608E8F01" title="Oracle Database Quality of Service Management (Oracle Database QoS Management) is an automated, policy-based product that monitors the workload requests for an entire system.">Overview of Oracle Database Quality of Service Management</a></p>
                  </li>
                  <li>
                     <p><a href="introduction-to-oracle-rac.html#GUID-249A970C-4650-485E-9E11-EFC70FDF3079" title="Hang Manager is an Oracle Database feature that automatically detects and resolves system hangs.">Overview of Hang Manager</a></p>
                  </li>
                  <li>
                     <p><a href="introduction-to-oracle-rac.html#GUID-2FB4477F-8D93-4210-8E17-0FDCAFE9DE33" title="Oracle Multitenant is an option with Oracle Database 12c that simplifies consolidation, provisioning, upgrades, and more.">Overview of Oracle Multitenant with Oracle RAC</a></p>
                  </li>
                  <li>
                     <p><a href="introduction-to-oracle-rac.html#GUID-63748559-8BC8-473C-BE6E-453DD38ED9A3" title="Every Oracle RAC node has its own In-Memory (IM) column store. By default, populated objects are distributed across all IM column stores in the cluster.">Overview of Database In-Memory and Oracle RAC</a></p>
                  </li>
                  <li>
                     <p><a href="introduction-to-oracle-rac.html#GUID-74F4FF89-688A-4DE4-9592-1D96E851013C" title="Any enterprise that is designing and implementing a high availability strategy with Oracle RAC must begin by performing a thorough analysis of the business drivers that require high availability.You administer a cluster database as a single-system image using the Server Control Utility (SRVCTL), Oracle Enterprise Manager, SQL*Plus, and other utilities.Web-based Oracle Enterprise Manager Cloud Control enables you to monitor an Oracle RAC database.">Overview of Managing Oracle RAC Environments</a></p>
                  </li>
               </ul>
            </div><a id="RACAD8887"></a><a id="RACAD7270"></a><div class="sect2"><a id="GUID-D04AA2A7-2E68-4C5C-BD6E-36C62427B98E" name="GUID-D04AA2A7-2E68-4C5C-BD6E-36C62427B98E"></a><h3 id="RACAD-GUID-D04AA2A7-2E68-4C5C-BD6E-36C62427B98E" class="sect3">Overview of Oracle RAC</h3>
               <div>
                  <p>This topic provides an introduction to Oracle RAC and its functionality.</p>
                  <p>Non-cluster Oracle databases have a one-to-one relationship between the Oracle database and the instance. Oracle RAC environments, however, have a one-to-many relationship between the database and instances. An Oracle RAC database can have several instances, all of which access one database. All database instances must use the same interconnect, which can also be used by Oracle Clusterware.</p>
                  <p>Oracle RAC databases differ architecturally from non-cluster Oracle databases in that each Oracle RAC database instance also has: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>At least one additional thread of redo for each instance</p>
                     </li>
                     <li>
                        <p>An instance-specific undo tablespace</p>
                     </li>
                  </ul>
                  <p>The combined processing power of the multiple servers can provide greater throughput and Oracle RAC scalability than is available from a single server.</p>
                  <p>A <a href="glossary.html#GUID-1B7C963C-0E0C-425E-AD47-D75C912230CB"><span class="xrefglossterm">cluster</span></a> comprises multiple interconnected computers or servers that appear as if they are one server to end users and applications. The Oracle RAC option with Oracle Database enables you to cluster Oracle databases. Oracle RAC uses Oracle Clusterware for the infrastructure to bind multiple servers so they operate as a single system.
                  </p>
                  <p>Oracle Clusterware is a portable cluster management solution that is integrated with Oracle Database. Oracle Clusterware is a required component for using Oracle RAC that provides the infrastructure necessary to run Oracle RAC. Oracle Clusterware also manages resources, such as <a href="glossary.html#GUID-918C3356-9A2D-4A62-84B3-3C0290971BD9"><span class="xrefglossterm">Virtual Internet Protocol (VIP)</span></a> addresses, databases, listeners, services, and so on. In addition, Oracle Clusterware enables both non-cluster Oracle databases and Oracle RAC databases to use the Oracle high-availability infrastructure. Oracle Clusterware along with Oracle Automatic Storage Management (Oracle ASM) (the two together comprise the <a href="glossary.html#GUID-D9337CD1-B7A6-473D-9590-939D04ACED56"><span class="xrefglossterm">Oracle Grid Infrastructure</span></a>) enables you to create a clustered pool of storage to be used by any combination of non cluster and Oracle RAC databases. 
                  </p>
                  <p>Oracle Clusterware is the only clusterware that you need for most platforms on which Oracle RAC operates. If your database applications require vendor clusterware, then you can use such clusterware in conjunction with Oracle Clusterware if that vendor clusterware is certified for Oracle RAC.</p>
                  <p><a href="introduction-to-oracle-rac.html#GUID-D04AA2A7-2E68-4C5C-BD6E-36C62427B98E__BABHCCAE">Figure 1-1</a> shows how Oracle RAC is the Oracle Database option that provides a single system image for multiple servers to access one Oracle database. In Oracle RAC, each Oracle instance must run on a separate server.
                  </p>
                  <div class="figure" id="GUID-D04AA2A7-2E68-4C5C-BD6E-36C62427B98E__BABHCCAE">
                     <p class="titleinfigure">Figure 1-1 Oracle Database with Oracle RAC Architecture</p><img src="img/haovw002.gif" width="421" alt="Description of Figure 1-1 follows" title="Description of Figure 1-1 follows" longdesc="img_text/haovw002.html"><br><a href="img_text/haovw002.html">Description of "Figure 1-1 Oracle Database with Oracle RAC Architecture"</a></div>
                  <!-- class="figure" -->
                  <p>Traditionally, an Oracle RAC environment is located in one data center. However, you can configure Oracle RAC on an <a href="glossary.html#GUID-A0C837CD-9E57-4EC9-AA24-18511C0C5B07"><span class="xrefglossterm">Oracle Extended Cluster</span></a>, which is an architecture that provides extremely fast recovery from a site failure and allows for all nodes, at all sites, to actively process transactions as part of a single database cluster. In an extended cluster, the nodes in the cluster are typically dispersed, geographically, such as between two fire cells, between two rooms or buildings, or between two different data centers or cities. For availability reasons, the data must be located at both sites, thus requiring the implementation of disk mirroring technology for storage.
                  </p>
                  <p>If you choose to implement this architecture, you must assess whether this architecture is a good solution for your business, especially considering distance, latency, and the degree of protection it provides. Oracle RAC on extended clusters provides higher availability than is possible with local Oracle RAC configurations, but an extended cluster may not fulfill all of the disaster-recovery requirements of your organization. A feasible separation provides great protection for some disasters (for example, local power outage or server room flooding) but it cannot provide protection against all types of outages. For comprehensive protection against disasters—including protection against corruptions and regional disasters—Oracle recommends the use of Oracle Data Guard with Oracle RAC, as described in the <span><cite>Oracle Data Guard Concepts and Administration</cite></span> and on the Maximum Availability Architecture (MAA) Web site.
                  </p>
                  <p>Oracle RAC is a unique technology that provides high availability and scalability for all application types. The Oracle RAC infrastructure is also a key component for implementing the Oracle enterprise grid computing architecture. Having multiple instances access a single database prevents the server from being a single point of failure. Oracle RAC enables you to combine smaller commodity servers into a cluster to create scalable environments that support mission critical business applications. Applications that you deploy on Oracle RAC databases can operate without code changes.</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../cwadd/introduction-to-oracle-clusterware.html#CWADD-GUID-58F85575-7D88-4D45-B097-6274FBBBB646" target="_blank">Introduction to Oracle Clusterware</a></li>
                        <li><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a></li>
                        <li><a href="../sbydb/configuring-data-guard-standby-databases-in-oracle-RAC.html#SBYDB-GUID-084DF97B-5524-401A-BAA4-65BA279F5B11" target="_blank">Oracle Data Guard and Oracle Real Application Clusters</a></li>
                        <li><a href="http://www.oracle.com/au/products/database/maa-096107.html" target="_blank">Maximum Availability Architecture (MAA)</a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD03261"></a><div class="sect2"><a id="GUID-3FE2D3E6-EC1C-4478-A9E4-3751F7A47C9E" name="GUID-3FE2D3E6-EC1C-4478-A9E4-3751F7A47C9E"></a><h3 id="RACAD-GUID-3FE2D3E6-EC1C-4478-A9E4-3751F7A47C9E" class="sect3">Overview of Installing Oracle RAC</h3>
               <div>
                  <p>Install Oracle Grid Infrastructure and Oracle Database software using Oracle Universal Installer, and create your database with Database Configuration Assistant (DBCA).</p>
                  <p>This ensures that your Oracle RAC environment has the optimal network configuration, database structure, and parameter settings for the environment that you selected.</p>
                  <p>Alternatively, you can install Oracle RAC using Fleet Patching and Provisioning, which offers all of the advantages of Oracle Universal Installer and DBCA previously specified. In addition, Fleet Patching and Provisioning allows for standardization and automation.</p>
                  <p>This section introduces the installation processes for Oracle RAC under the following topics: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="introduction-to-oracle-rac.html#GUID-11942C40-7052-48CE-BA1E-C92587F5936E">Understanding Compatibility in Oracle RAC Environments</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-oracle-rac.html#GUID-19E75965-E3B7-4ADE-9B31-FFEF50E5BE9C">Oracle RAC Database Management Styles and Database Installation</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-oracle-rac.html#GUID-81F57BE7-2E72-4F73-9BF2-1C924D91D506" title="Part of Oracle Database deployment is the creation of the database.">Oracle RAC Database Management Styles and Database Creation</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-oracle-rac.html#GUID-918558E3-24DC-4145-A073-4A4A20BE97C2" title="If you want to extend the Oracle RAC cluster (also known as cloning) and add nodes to the existing environment after your initial deployment, then you must to do this on multiple layers, considering the management style that you currently use in the cluster.">Overview of Extending an Oracle RAC Cluster</a></p>
                        <div class="infoboxnote" id="GUID-3FE2D3E6-EC1C-4478-A9E4-3751F7A47C9E__GUID-8832EECE-F3E8-4615-A4A9-CF3F05FB8C46">
                           <p class="notep1">Note:</p>
                           <p>You must first install Oracle Grid Infrastructure before installing Oracle RAC.</p>
                        </div>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Real Application Clusters Installation Guide</cite></span></a></li>
                        <li><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div><a id="RACAD7277"></a><div class="sect3"><a id="GUID-11942C40-7052-48CE-BA1E-C92587F5936E" name="GUID-11942C40-7052-48CE-BA1E-C92587F5936E"></a><h4 id="RACAD-GUID-11942C40-7052-48CE-BA1E-C92587F5936E" class="sect4">Understanding Compatibility in Oracle RAC Environments</h4>
                  <div>
                     <p>To run Oracle RAC in configurations with different versions of Oracle Database in the same cluster, you must first install Oracle Grid Infrastructure, which must be the same version, or higher, as the highest version of Oracle Database that you want to deploy in this cluster. For example, to run an Oracle RAC 12<span class="italic">c</span> database and an Oracle RAC 18c database in the same cluster, you must install Oracle Grid Infrastructure 18c. Contact My Oracle Support for more information about version compatibility in Oracle RAC environments.
                     </p>
                     <div class="infoboxnote" id="GUID-11942C40-7052-48CE-BA1E-C92587F5936E__GUID-A4E13CBC-3079-4247-A960-506A15843509">
                        <p class="notep1">Note:</p>
                        <p>Oracle does not support deploying an Oracle9<span class="italic">i</span> cluster in an Oracle Grid Infrastructure 12<span class="italic">c</span>, or later, environment.
                        </p>
                     </div>
                  </div>
               </div><a id="RACAD7278"></a><div class="sect3"><a id="GUID-19E75965-E3B7-4ADE-9B31-FFEF50E5BE9C" name="GUID-19E75965-E3B7-4ADE-9B31-FFEF50E5BE9C"></a><h4 id="RACAD-GUID-19E75965-E3B7-4ADE-9B31-FFEF50E5BE9C" class="sect4">Oracle RAC Database Management Styles and Database Installation</h4>
                  <div>
                     <p>Before installing the Oracle RAC database software and creating respective databases, decide on the management style you want to apply to the Oracle RAC databases, as described in <span class="q">"Overview of Server Pools and Policy-Managed Databases"</span>.
                     </p>
                     <p>The management style you choose impacts the software deployment and database creation. If you choose the administrator-managed database deployment model, using a per-node installation of software, then it is sufficient to deploy the Oracle Database software (the database home) on only those nodes on which you plan to run Oracle Database.</p>
                     <p>If you choose the policy-managed deployment model, using a per-node installation of software, then you must deploy the software on all nodes in the cluster, because the dynamic allocation of servers to server pools, in principle, does not predict on which server a database instance can potentially run. To avoid instance startup failures on servers that do not host the respective database home, Oracle strongly recommends that you deploy the database software on all nodes in the cluster. When you use a shared Oracle Database home, accessibility to this home from all nodes in the cluster is assumed and the setup needs to ensure that the respective file system is mounted on all servers, as required.</p>
                     <p>Oracle Universal Installer will only allow you to deploy an Oracle Database home across nodes in the cluster if you previously installed and configured Oracle Grid Infrastructure for the cluster. If Oracle Universal Installer does not give you an option to deploy the database home across all nodes in the cluster, then check the prerequisite, as stated, by Oracle Universal Installer.</p>
                     <p>During installation, you can choose to create a database during the database home installation. Oracle Universal Installer runs DBCA to create your Oracle RAC database according to the options that you select.</p>
                     <div class="infoboxnotealso" id="GUID-19E75965-E3B7-4ADE-9B31-FFEF50E5BE9C__GUID-5668356C-BAC4-4EC7-AFE6-814E3189BDDF">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"Oracle RAC Database Management Styles and Database Creation"</span> for more information if you choose this option
                        </p>
                     </div>
                     <div class="infoboxnote" id="GUID-19E75965-E3B7-4ADE-9B31-FFEF50E5BE9C__GUID-5287E1E6-21C5-4A47-940B-6A03FED8F1B1">
                        <p class="notep1">Note:</p>
                        <p>Before you create a database, a default listener must be running in the Oracle Grid Infrastructure home. If a default listener is not present in the Oracle Grid Infrastructure home, then DBCA returns an error instructing you to run NETCA from the Oracle Grid Infrastructure home to create a default listener.</p>
                     </div>
                     <p>The Oracle RAC software is distributed as part of the Oracle Database installation media. By default, the Oracle Database software installation process installs the Oracle RAC option when it recognizes that you are performing the installation on a cluster. Oracle Universal Installer installs Oracle RAC into a directory structure referred to as the Oracle home, which is separate from the Oracle home directory for other Oracle software running on the system. Because Oracle Universal Installer is cluster aware, it installs the Oracle RAC software on all of the nodes that you defined to be part of the cluster.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="introduction-to-oracle-rac.html#GUID-7D01967A-2E0F-4228-82CE-428D7B65F961" title="Server pools are the basis for policy-managed databases.">Overview of Server Pools and Policy-Managed Databases</a></li>
                           <li><a href="introduction-to-oracle-rac.html#GUID-81F57BE7-2E72-4F73-9BF2-1C924D91D506" title="Part of Oracle Database deployment is the creation of the database.">Oracle RAC Database Management Styles and Database Creation</a></li>
                           <li><a href="../netag/managing-oracle-net-services.html#NETAG-GUID-D8861C13-A525-4A57-97FD-BD8F2DC5A662" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD8905"></a><div class="sect3"><a id="GUID-81F57BE7-2E72-4F73-9BF2-1C924D91D506" name="GUID-81F57BE7-2E72-4F73-9BF2-1C924D91D506"></a><h4 id="RACAD-GUID-81F57BE7-2E72-4F73-9BF2-1C924D91D506" class="sect4">Oracle RAC Database Management Styles and Database Creation</h4>
                  <div>
                     <p>Part of Oracle Database deployment is the creation of the database.</p>
                     <p>You can choose to create a database as part of the database software deployment, as described in <span class="q">"Oracle RAC Database Management Styles and Database Installation"</span>, or you can choose to only deploy the database software, first, and then, subsequently, create any database that is meant to run out of the newly created Oracle home by using DBCA. In either case, you must consider the management style that you plan to use for the Oracle RAC databases.
                     </p>
                     <p>For administrator-managed databases, you must ensure that the database software is deployed on the nodes on which you plan to run the respective database instances. You must also ensure that these nodes have access to the storage in which you want to store the database files. Oracle recommends that you select Oracle ASM during database installation to simplify storage management. Oracle ASM automatically manages the storage of all database files within disk groups. If you plan to use Oracle Database Standard Edition to create an Oracle RAC database, then you <span class="italic">must</span> use Oracle ASM to store all of the database files.
                     </p>
                     <p>For policy-managed databases, you must ensure that the database software is deployed on all nodes on which database instances can potentially run, given your active server pool setup. You must also ensure that these nodes have access to the storage in which you want to store the database files. Oracle recommends using Oracle ASM, as previously described for administrator-managed databases.</p>
                     <p>Server pools are a feature of Oracle Grid Infrastructure (specifically Oracle Clusterware). There are different ways you can set up server pools on the Oracle Clusterware level, and Oracle recommends you create server pools for database management before you create the respective databases. DBCA, however, will present you with a choice of either using precreated server pools or creating a new server pool, when you are creating a policy-managed database. Whether you can create a new server pool during database creation depends on the server pool configuration that is active at the time.</p>
                     <p>By default, DBCA creates one service for your Oracle RAC installation. This is the default database service and should not be used for user connectivity. The default database service is typically identified using the combination of the <code class="codeph">DB_NAME</code> and <code class="codeph">DB_DOMAIN</code> initialization parameters: <code class="codeph"><span class="variable" translate="no">db_name.db_domain</span></code>. The default service is available on all instances in an Oracle RAC environment, unless the database is in restricted mode.
                     </p>
                     <div class="infoboxnote" id="GUID-81F57BE7-2E72-4F73-9BF2-1C924D91D506__GUID-A3557EF3-5EFE-4F60-9834-316CE649506B">
                        <p class="notep1">Note:</p>
                        <p>Oracle recommends that you reserve the default database service for maintenance operations and create dynamic database services for user or application connectivity as a post-database-creation step, using either SRVCTL or Oracle Enterprise Manager. DBCA no longer offers a dynamic database service creation option for Oracle RAC databases. For Oracle RAC One Node databases, you must create at least one dynamic database service.</p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="introduction-to-oracle-rac.html#GUID-19E75965-E3B7-4ADE-9B31-FFEF50E5BE9C">Oracle RAC Database Management Styles and Database Installation</a></li>
                           <li><a href="../cwadd/policy-based-cluster-and-capacity-management.html#CWADD-GUID-42F6324B-8A51-4FDE-9E9B-38B058F227A5" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD1113"></a><div class="sect3"><a id="GUID-918558E3-24DC-4145-A073-4A4A20BE97C2" name="GUID-918558E3-24DC-4145-A073-4A4A20BE97C2"></a><h4 id="RACAD-GUID-918558E3-24DC-4145-A073-4A4A20BE97C2" class="sect4">Overview of Extending an Oracle RAC Cluster</h4>
                  <div>
                     <p>If you want to extend the Oracle RAC cluster (also known as cloning) and add nodes to the existing environment after your initial deployment, then you must to do this on multiple layers, considering the management style that you currently use in the cluster.</p>
                     <p>Oracle provides various means of extending an Oracle RAC cluster. In principle, you can choose from the following approaches to extend the current environment:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Fleet Patching and Provisioning to provision new Oracle RAC databases and other software</p>
                        </li>
                        <li>
                           <p>Cloning using cloning scripts</p>
                        </li>
                        <li>
                           <p>Adding nodes using the <code class="codeph">addnode.sh</code> (<code class="codeph">addnode.bat</code> on Windows) script
                           </p>
                        </li>
                     </ul>
                     <p>Both approaches are applicable, regardless of how you initially deployed the environment. Both approaches copy the required Oracle software on to the node that you plan to add to the cluster. Software that gets copied to the node includes the Oracle Grid Infrastructure software and the Oracle database homes.</p>
                     <p>For Oracle database homes, you must consider the management style deployed in the cluster. For administrator-managed databases, you must ensure that the database software is deployed on the nodes on which you plan to run the respective database instances. For policy-managed databases, you must ensure that the database software is deployed on all nodes on which database instances can potentially run, given your active server pool setup. In either case, you must first deploy Oracle Grid Infrastructure on all nodes that are meant to be part of the cluster.</p>
                     <div class="infoboxnote" id="GUID-918558E3-24DC-4145-A073-4A4A20BE97C2__GUID-1938526B-7663-42EC-BFF8-1AC341AD964D">
                        <p class="notep1">Note:</p>
                        <p>Oracle cloning is not a replacement for cloning using Oracle Enterprise Manager as part of the Provisioning Pack. When you clone Oracle RAC using Oracle Enterprise Manager, the provisioning process includes a series of steps where details about the home you want to capture, the location to which you want to deploy, and various other parameters are collected.</p>
                     </div>
                     <p>For new installations or if you install only one Oracle RAC database, use the traditional automated and interactive installation methods, such as Oracle Universal Installer, Fleet Patching and Provisioning, or the Provisioning Pack feature of Oracle Enterprise Manager. If your goal is to add or delete Oracle RAC from nodes in the cluster, you can use the procedures detailed in <span class="q">"Adding and Deleting Oracle RAC from Nodes on Linux and UNIX Systems"</span>.
                     </p>
                     <p>The cloning process assumes that you successfully installed an Oracle Clusterware home and an Oracle home with Oracle RAC on at least one node. In addition, all root scripts must have run successfully on the node from which you are extending your cluster database.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="cloning-oracle-rac-to-nodes-in-a-new-cluster.html#GUID-8444F1C2-5F67-46B4-ABDE-18D3AFF42D55" title="This chapter describes how to clone Oracle Real Application Clusters (Oracle RAC) database homes on Linux and UNIX systems to nodes in a new cluster.">Cloning Oracle RAC to Nodes in a New Cluster</a></li>
                           <li><a href="adding-and-deleting-oracle-rac-from-nodes-on-linux-and-unix-systems.html#GUID-66AB702E-D600-4B10-9BF3-AC0E7C7BF44D" title="Extend an existing Oracle Real Application Clusters (Oracle RAC) home to other nodes and instances in the cluster, and delete Oracle RAC from nodes and instances in the cluster.">Adding and Deleting Oracle RAC from Nodes on Linux and UNIX Systems</a></li>
                           <li><a href="adding-and-deleting-oracle-rac-from-nodes-on-windows-systems.html#GUID-75C6891F-ECDC-4D78-9176-EB7E7080FBCB" title="You can use either Oracle Enterprise Manager or DBCA to add Oracle RAC database instances to the target nodes.Add instances to nodes on which you have extended an Oracle Clusterware home and an Oracle Database home.The procedures for deleting instances are different for policy-managed and administrator-managed databases.This procedure removes the Oracle RAC software from the node you are deleting from the cluster and updates inventories on the remaining nodes.">Adding and Deleting Oracle RAC from Nodes on Windows Systems</a></li>
                           <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/racad&amp;id=CWADD-GUID-CCEC5960-EDA4-4A3F-9643-0CA308EA49AA" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-918558E3-24DC-4145-A073-4A4A20BE97C2__GUID-57B875BB-8920-4750-9510-63D83E487AA7">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span> for more information about Fleet Patching and Provisioning
                              </p>
                           </li>
                           <li>
                              <p>Oracle Enterprise Manager online help system for more information about the Provisioning Pack</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="RACAD8960"></a><div class="sect2"><a id="GUID-E54C835B-85EC-477F-AE44-AD4B9690C7F6" name="GUID-E54C835B-85EC-477F-AE44-AD4B9690C7F6"></a><h3 id="RACAD-GUID-E54C835B-85EC-477F-AE44-AD4B9690C7F6" class="sect3">Overview of Oracle Real Application Clusters One Node</h3>
               <div>
                  <p>Oracle Real Application Clusters One Node (Oracle RAC One Node) is an option to Oracle Database Enterprise Edition available since Oracle Database 11<span class="italic">g</span> release 2 (11.2).
                  </p>
                  <p>Oracle RAC One Node is a single instance of an Oracle RAC-enabled database running on one node in the cluster, only, under normal operations. This option adds to the flexibility that Oracle offers for database consolidation while reducing management overhead by providing a standard deployment for Oracle databases in the enterprise. Oracle RAC One Node database requires Oracle Grid Infrastructure and, therefore, requires the same hardware setup as an Oracle RAC database.</p>
                  <p>Oracle supports Oracle RAC One Node on all platforms on which Oracle RAC is certified. Similar to Oracle RAC, Oracle RAC One Node is certified on Oracle Virtual Machine (Oracle VM). Using Oracle RAC or Oracle RAC One Node with Oracle VM increases the benefits of Oracle VM with the high availability and scalability of Oracle RAC.</p>
                  <p>With Oracle RAC One Node, there is no limit to server scalability and, if applications grow to require more resources than a single node can supply, then you can upgrade your applications online to Oracle RAC. If the node that is running Oracle RAC One Node becomes overloaded, then you can relocate the instance to another node in the cluster. With Oracle RAC One Node you can use the Online Database Relocation feature to relocate the database instance with no downtime for application users. Alternatively, you can limit the CPU consumption of individual database instances per server within the cluster using Resource Manager Instance Caging and dynamically change this limit, if necessary, depending on the demand scenario.</p>
                  <p>Using the Single Client Access Name (SCAN) to connect to the database, clients can locate the service independently of the node on which it is running. Relocating an Oracle RAC One Node instance is therefore mostly transparent to the client, depending on the client connection. Oracle recommends to use either Application Continuity and Oracle Fast Application Notification or Transparent Application Failover to minimize the impact of a relocation on the client.</p>
                  <p>Oracle RAC One Node databases are administered slightly differently from Oracle RAC or non-cluster databases. For administrator-managed Oracle RAC One Node databases, you must monitor the candidate node list and make sure a server is always available for failover, if possible. Candidate servers reside in the Generic server pool and the database and its services will fail over to one of those servers.</p>
                  <p>For policy-managed Oracle RAC One Node databases, you must ensure that the server pools are configured such that a server will be available for the database to fail over to in case its current node becomes unavailable. In this case, the destination node for online database relocation must be located in the server pool in which the database is located. Alternatively, you can use a server pool of size 1 (one server in the server pool), setting the minimum size to 1 and the importance high enough in relation to all other server pools used in the cluster, to ensure that, upon failure of the one server used in the server pool, a new server from another server pool or the Free server pool is relocated into the server pool, as required.</p>
                  <div class="infoboxnote" id="GUID-E54C835B-85EC-477F-AE44-AD4B9690C7F6__GUID-F0914FAD-410D-434A-A94E-ACCA4F2454C0">
                     <p class="notep1">Note:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle RAC One Node supports Transaction Guard and Application Continuity for failing clients over.</p>
                        </li>
                        <li>
                           <p>To prepare for all failure possibilities, you must add at least one Dynamic Database Service (Oracle Clusterware-managed database service) to an Oracle RAC One Node database.</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../rilin/installing-oracle-rac-and-oracle-rac-one-node.html#RILIN-GUID-15AAC8E3-5AF7-48B7-BD53-EFE662FA669A" target="_blank"><span><cite>Oracle Real Application Clusters Installation Guide for Linux and UNIX</cite></span></a></li>
                        <li><a href="ensuring-application-continuity.html#GUID-097A5067-8CCF-4FF0-B97B-BF109DFA1841" title="Transaction Guard prevents a transaction being replayed by Application Continuity from being applied more than once.">Transaction Guard for Improving Client Failover</a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD0015"></a><div class="sect2"><a id="GUID-4194E2D5-53CD-4D93-BE20-42EC14B7C44A" name="GUID-4194E2D5-53CD-4D93-BE20-42EC14B7C44A"></a><h3 id="RACAD-GUID-4194E2D5-53CD-4D93-BE20-42EC14B7C44A" class="sect3">Overview of Oracle Clusterware for Oracle RAC</h3>
               <div>
                  <p>Oracle Clusterware provides a complete, integrated clusterware management solution on all Oracle Database platforms.</p>
                  <p>This clusterware functionality provides all of the features required to manage your cluster database including node membership, group services, global resource management, and high availability functions.</p>
                  <p>You can install Oracle Clusterware independently or as a prerequisite to the Oracle RAC installation process. Oracle Database features, such as services, use the underlying Oracle Clusterware mechanisms to provide advanced capabilities. Oracle Database also continues to support select third-party clusterware products on specified platforms.</p>
                  <p>Oracle Clusterware is designed for, and tightly integrated with, Oracle RAC. You can use Oracle Clusterware to manage high-availability operations in a cluster. When you create an Oracle RAC database using any of the management tools, the database is registered with and managed by Oracle Clusterware, along with the other required components such as the VIP address, the Single Client Access Name (SCAN) (which includes the SCAN VIPs and the SCAN listener), Oracle Notification Service, and the Oracle Net listeners. These resources are automatically started when the node starts and automatically restart if they fail. The Oracle Clusterware daemons run on each node.</p>
                  <p>Anything that Oracle Clusterware manages is known as a <span class="italic">CRS resource</span>. A CRS resource can be a database, an instance, a service, a listener, a VIP address, or an application process. Oracle Clusterware manages CRS resources based on the resource's configuration information that is stored in the Oracle Cluster Registry (OCR). You can use SRVCTL commands to administer any Oracle-defined CRS resources. Oracle Clusterware provides the framework that enables you to create CRS resources to manage any process running on servers in the cluster which are not predefined by Oracle. Oracle Clusterware stores the information that describes the configuration of these components in OCR that you can administer.
                  </p>
                  <p>Another advantage with Oracle Flex Clusters is that you can convert Hub Nodes to Leaf Nodes and vice versa, and you can convert a Leaf Node to a Hub Node with no downtime.</p>
                  <p>This section includes the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="introduction-to-oracle-rac.html#GUID-083A53F8-C0EC-4308-B5C9-6C92148BAE41" title="Oracle Flex Clusters provide a platform for a variety of applications, including Oracle RAC databases with large numbers of nodes.">Overview of Oracle Flex Clusters</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-oracle-rac.html#GUID-FE34333D-7A31-4C33-BDE5-0C92F5739998" title="Reader nodes are instances of an Oracle RAC database that run on Leaf Nodes in an Oracle Flex Cluster.">Overview of Reader Nodes</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-oracle-rac.html#GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F" title="Oracle uses local temporary tablespaces to write spill-overs to the local (non-shared) temporary tablespaces which are created on local disks on the reader nodes.">Overview of Local Temporary Tablespaces</a></p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../cwadd/managing-oracle-cluster-registry-and-voting-files.html#CWADD-GUID-20101C89-B87C-49C9-BA63-634376EDB62E" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                        <li><a href="../cwadd/oracle-flex-clusters.html#CWADD-GUID-DF441DD8-B3B4-48C2-96B5-3DD59EAAC8EF" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-083A53F8-C0EC-4308-B5C9-6C92148BAE41" name="GUID-083A53F8-C0EC-4308-B5C9-6C92148BAE41"></a><h4 id="RACAD-GUID-083A53F8-C0EC-4308-B5C9-6C92148BAE41" class="sect4">Overview of Oracle Flex Clusters</h4>
                  <div>
                     <p>Oracle Flex Clusters provide a platform for a variety of applications, including Oracle RAC databases with large numbers of nodes.</p>
                     <p>Oracle Flex Clusters also provide a platform for other service deployments that require coordination and automation for high availability.</p>
                     <p>All nodes in an Oracle Flex Cluster belong to a single Oracle Grid Infrastructure cluster. This architecture centralizes policy decisions for deployment of resources based on application needs, to account for various service levels, loads, failure responses, and recovery.</p>
                     <p>Oracle Flex Clusters contain two types of nodes arranged in a hub and spoke architecture: <a href="glossary.html#GUID-8AD68754-1C50-408B-82A9-61D132FC09F9"><span class="xrefglossterm">Hub Node</span></a>s and <a href="glossary.html#GUID-57A8F9FA-9AA0-4F47-828D-22B38FE7B924"><span class="xrefglossterm">Leaf Node</span></a>s. The number of Hub Nodes in an Oracle Flex Cluster can be as many as 64. The number of Leaf Nodes can be many more. Hub Nodes and Leaf Nodes can host different types of applications.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../cwadd/oracle-flex-clusters.html#CWADD-GUID-DF441DD8-B3B4-48C2-96B5-3DD59EAAC8EF" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-FE34333D-7A31-4C33-BDE5-0C92F5739998" name="GUID-FE34333D-7A31-4C33-BDE5-0C92F5739998"></a><h4 id="RACAD-GUID-FE34333D-7A31-4C33-BDE5-0C92F5739998" class="sect4">Overview of Reader Nodes</h4>
                  <div>
                     <p>Reader nodes are instances of an Oracle RAC database that run on Leaf Nodes in an Oracle Flex Cluster.</p>
                     <p>An advantage of using reader nodes is that these instances are not affected if you need to reconfigure a Hub Node. Parallel query jobs running on reader nodes are not subject to the brownout times that can occur when you reconfigure a Hub Node, and can continue to service clients that are connected to the reader nodes, as long as the Hub Node to which it is connected is not evicted from the cluster. You can scale up to 64 reader nodes per Hub Node, and reader nodes can utilize massive parallel query to speed up operations on large data sets.</p>
                     <p>Database instances running on reader nodes have different characteristics than database instances running on Hub Nodes. Hub Node instances are similar to previous versions of Oracle RAC database instances, whereas instances running on reader nodes have the following notable differences:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Database instances run in read-only mode.</p>
                        </li>
                        <li>
                           <p>Database instances are unaffected if you reconfigure Hub Node clusterware. Database instances running on reader nodes are not subject to the brownout times and can continue to service the clients connected to the reader nodes, as long as the Hub Node to which it is connected is not evicted from the cluster. Using reader nodes, you can scale up to 64 reader nodes per hub.</p>
                        </li>
                        <li>
                           <p>Because database instances running on the reader nodes are read only, you will receive an error if you attempt any DDL or DML operations.</p>
                        </li>
                     </ul>
                     <p>You can create services to direct queries to read-only instances running on reader nodes. These services can use parallel query to further speed up performance. Oracle recommends that you size the memory in these reader nodes as high as possible so that parallel queries can use the memory for best performance.</p>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F" name="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F"></a><h4 id="RACAD-GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F" class="sect4">Overview of Local Temporary Tablespaces</h4>
                  <div>
                     <p>Oracle uses local temporary tablespaces to write spill-overs to the local (non-shared) temporary tablespaces which are created on local disks on the reader nodes.</p>
                     <p>It is still possible for SQL operations, such as hash aggregation, sort, hash join, creation of cursor-duration temporary tables for the <code class="codeph">WITH</code> clause, and star transformation to spill over to disk (specifically to the global temporary tablespace on shared disks). Management of the local temporary tablespace is similar to that of the existing temporary tablespace.
                     </p>
                     <p>Local temporary tablespaces improve temporary tablespace management in read-only instances by:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Storing temp files in reader node private storage to take advantage of the I/O benefits of local storage.</p>
                        </li>
                        <li>
                           <p>Avoiding expensive cross-instance temporary tablespace management.</p>
                        </li>
                        <li>
                           <p>Increased addressability of temporary tablespace.</p>
                        </li>
                        <li>
                           <p>Improving instance warm-up performance by eliminating on-disk space metadata management.</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__GUID-D6ACD8BF-2373-4F09-B885-EE33022074F1">
                        <p class="notep1">Note:</p>You cannot use local temporary tablespaces to store database objects, such as tables or indexes. This same restriction is also true for space for Oracle global temporary tables.
                     </div>
                     <p>This section includes the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="introduction-to-oracle-rac.html#GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__PARALLELEXECUTIONSUPPORTFORCURSOR-D-054A7763">Parallel Execution Support for Cursor-Duration Temporary Tablespaces</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-oracle-rac.html#GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__LOCALTEMPORARYTABLESPACEORGANIZATIO-054A79AC">Local Temporary Tablespace Organization</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-oracle-rac.html#GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__TEMPORARYTABLESPACEHIERARCHY-054A7B94">Temporary Tablespace Hierarchy</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-oracle-rac.html#GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__LOCALTEMPORARYTABLESPACEFEATURES-054A807A">Local Temporary Tablespace Features</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-oracle-rac.html#GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__METADATAMANAGEMENTOFLOCALTEMPORARYF-054A8203">Metadata Management of Local Temporary Files</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-oracle-rac.html#GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__DDLSUPPORTFORLOCALTEMPORARYTABLESPA-054A8408">DDL Support for Local Temporary Tablespaces</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-oracle-rac.html#GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__LOCALTEMPORARYTABLESPACEFORUSERS-054A86C7">Local Temporary Tablespaces for Users</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-oracle-rac.html#GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__ATOMICITYREQUIREMENTFORCOMMANDS-054A88E3">Atomicity Requirement for Commands</a></p>
                        </li>
                        <li>
                           <p><a href="introduction-to-oracle-rac.html#GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__LOCALTEMPORARYTABLESPACEANDDICTIONA-054A8C42">Local Temporary Tablespace and Dictionary Views</a></p>
                        </li>
                     </ul>
                     <div class="section" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__PARALLELEXECUTIONSUPPORTFORCURSOR-D-054A7763">
                        <p class="subhead3" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__GUID-B21F4FB0-E49A-4310-A0A1-DB7AECE19B1D">Parallel Execution Support for Cursor-Duration Temporary Tablespaces</p>
                        <p>The temporary tablespaces created for the <code class="codeph">WITH</code> clause and star transformation exist in the temporary tablespace on the shared disk. A set of parallel query child processes load intermediate query results into these temporary tablespaces, which are then read later by a different set of child processes. There is no restriction on how these child processes reading these results are allocated, as any parallel query child process on any instance can read the temporary tablespaces residing on the shared disk.
                        </p>
                        <p>For read-write and read-only instance architecture, as the parallel query child processes load intermediate results to the local temporary tablespaces of these instances, the parallel query child processes belonging to the instance where the intermediate results are stored share affinity with the reads for the intermediate results and can thus read them.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__LOCALTEMPORARYTABLESPACEORGANIZATIO-054A79AC">
                        <p class="subhead3" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__GUID-FF6A5E9D-486D-4F2C-AF33-35FC90B02A3D">Local Temporary Tablespace Organization</p>
                        <p>You can create local temporary tablespace using the <code class="codeph">{FOR_RIM | FOR ALL}</code> extension, as follows:
                        </p><pre class="pre codeblock"><code>CREATE LOCAL TEMPORARY TABLESPACE FOR RIM local_temp_ts_for_rim TEMPFILE\
   '/u01/app/oracle/database/12.2.0.1/dbs/temp_file_rim'\
   EXTENT MANAGEMENT LOCAL UNIFORM SIZE 1M AUTOEXTEND ON;</code></pre><ul style="list-style-type: disc;">
                           <li>
                              <p>Creation of a local temporary tablespace results in the creation of local temporary files on every instance and not a single file, as is currently true for shared global temporary tablespaces.</p>
                           </li>
                           <li>
                              <p>You can create local temporary tablespaces for both read-only and read-write instances. The <code class="codeph">LOCAL...FOR RIM</code> option creates a local temporary tablespace whose files reside on local disks for read-only instances. The <code class="codeph">LOCAL...FOR ALL</code> option creates a local temporary tablespace whose files reside on local disks for both read-write and read-only instances. For example:
                              </p><pre class="pre codeblock"><code>CREATE LOCAL TEMPORARY TABLESPACE FOR ALL temp_ts_for_all  TEMPFILE\
  ‘/u01/app/oracle/database/12.2.0.1/dbs/temp_file_all’\
  EXTENT MANAGEMENT LOCAL UNIFORM SIZE 1M AUTOEXTEND ON;</code></pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__TEMPORARYTABLESPACEHIERARCHY-054A7B94">
                        <p class="subhead3" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__GUID-FFF2F364-A6B3-42AE-9617-EB09B4ABD977">Temporary Tablespace Hierarchy</p>
                        <p>When you define local temporary tablespace and shared (existing) temporary tablespace, there is a hierarchy in which they are used. To understand the hierarchy, remember that there can be multiple shared temporary tablespaces in a database, such the default shared temporary tablespace for the database and multiple temporary tablespaces assigned to individual users. If a user has a shared temporary tablespace assigned, then that tablespace is used first, otherwise the database default temporary tablespace is used.</p>
                        <p>Once a tablespace has been selected for spilling during query processing, there is no switching to another tablespace. For example, if a user has a shared temporary tablespace assigned and during spilling it runs out of space, then there is no switching to an alternative tablespace. The spilling, in that case, will result in an error. Additionally, remember that shared temporary tablespaces are shared among instances.</p>
                        <p>The allocation of temporary space for spilling to a local temporary tablespace differs between read-only and read-write instances. For read-only instances, the following is the priority of selecting which temporary location to use for spills:</p>
                        <ol>
                           <li>
                              <p>Allocate from a user's local temporary tablespace.</p>
                           </li>
                           <li>
                              <p>Allocate from the database default local temporary tablespace.</p>
                           </li>
                           <li>
                              <p>Allocate from a user's temporary tablespace.</p>
                           </li>
                           <li>
                              <p>Allocate from the database default temporary tablespace.</p>
                           </li>
                        </ol>
                        <div class="infoboxnote" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__GUID-06284F3F-8921-408C-8AB5-416573E8585A">
                           <p class="notep1">Note:</p>If there is no local temporary tablespace in the database, then read-only instances will spill to shared temporary tablespace.
                        </div>
                        <p>For read-write instances, the priority of allocation differs from the preceding allocation order, as shared temporary tablespaces are given priority, as follows:</p>
                        <ol>
                           <li>
                              <p>Allocate from a user’s shared temporary tablespace.</p>
                           </li>
                           <li>
                              <p>Allocate from a user’s local temporary tablespace.</p>
                           </li>
                           <li>
                              <p>Allocate from the database default shared temporary tablespace.</p>
                           </li>
                           <li>
                              <p>Allocate from the database default local temporary tablespace.</p>
                           </li>
                        </ol>
                        <div class="infoboxnote" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__GUID-CD5915B1-0840-4D67-8858-B07C3A7F29F7">
                           <p class="notep1">Note:</p>For read-write instances to use a local temporary tablespace, that temporary tablespace must be created with the <code class="codeph">LOCAL...FOR ALL</code> option.
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__LOCALTEMPORARYTABLESPACEFEATURES-054A807A">
                        <p class="subhead3" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__GUID-E7B96DDE-DF2F-4DB3-B676-7DCDD778385D">Local Temporary Tablespace Features</p>
                        <p>Instances cannot share local temporary tablespace, hence one instance cannot take local temporary tablespace from another. If an instance runs out of temporary tablespace during spilling, then the statement resutls in an error.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Local temporary tablespace support only one <code class="codeph">BIGFILE</code> per tablespace.
                              </p>
                           </li>
                           <li>
                              <p>To address contention issues arising from having only one <code class="codeph">BIGFILE</code>-based local temporary tablespace, multiple local temporary tablespaces can be assigned to different users, as default.
                              </p>
                           </li>
                           <li>
                              <p>A database administrator can specify the default temporary tablespace for a user using <code class="codeph">ALTER USER</code> syntax. For example:
                              </p><pre class="pre codeblock"><code>ALTER USER MAYNARD LOCAL TEMPORARY TABLESPACE temp_ts_for_rim;</code></pre></li>
                           <li>
                              <p>A user can be configured with two default temporary tablespaces:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>One local temporary (created with the <code class="codeph">FOR RIM</code> option) when the user is connected to the read-only instance running on reader nodes.
                                    </p>
                                 </li>
                                 <li>
                                    <p>One shared temporary tablespace to be used when the same user is connected on the read-write instances running on a Hub Node.</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__METADATAMANAGEMENTOFLOCALTEMPORARYF-054A8203">
                        <p class="subhead3" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__GUID-389B0E4A-56BE-4EF8-BCBC-0C64528F10C5">Metadata Management of Local Temporary Files</p>
                        <p>Currently, temporary file information (such as file name, creation size, creation SCN, temporary block size, and file status) is stored in the control file along with the initial and max files, as well as auto extent attributes. However, the information about local temporary files in the control file is common to all applicable instances (read write and read only for <code class="codeph">LOCAL...FOR ALL</code>, and read only for <code class="codeph">LOCAL...FOR RIM</code>).
                        </p>
                        <p>Instance-specific information, such as bitmap for allocation, current size for a temporary file, and the file status, is stored in the SGA on instances and not in the control file because this information can be different for different instances. When an instance starts up, it reads the information in the control file and creates the temporary files that constitute the local temporary tablespace for that instance. If there are two or more instances running on a node, then each instance will have its own local temporary files.</p>
                        <p>For local temporary tablespaces, there is a separate file for each involved instance. If you create the local temporary tablespace using the <code class="codeph">LOCAL...FOR RIM</code> option, then Oracle creates files only on read-only instances. If you create the local temporary tablespace using the <code class="codeph">LOCAL...FOR ALL</code> option, then Oracle creates files on all instances. The local temporary file names follow a naming convention such that the instance numbers are appended to the temporary file names specified while creating the local temporary tablespace.
                        </p>
                        <p>For example, assume that a read-only node, N1, runs two Oracle read-only database instances with numbers 3 and 4. The following DDL command creates two files on node N1—<code>/temp/temp_file_rim_3</code> and <code>/temp/temp_file_rim_4</code>, for instance 3 and 4 respectively:
                        </p><pre class="pre codeblock"><code>CREATE LOCAL TEMPORARY TABLESPACE FOR RIM temp_ts_for_rim TEMPFILE  '/temp/temp_file_rim'\
   EXTENT MANAGEMENT LOCAL UNIFORM SIZE 1M AUTOEXTEND ON;</code></pre><p>Assuming that there are two read-write instances (instance numbers 1 and 2) and two read-only instances (instance numbers 3 and 4), the following DDL command creates four files—<code>/temp/temp_file_all_1</code> and <code>/temp/temp_file_all_2</code> for instances 1 and 2, respectively, and <code>/temp/temp_file_all_3</code> and <code>/temp/temp_file_all_4</code> for instances 3 and 4, respectively:
                        </p><pre class="pre codeblock"><code>CREATE LOCAL TEMPORARY TABLESPACE FOR ALL  temp_ts_for_all TEMPFILE  '/temp/temp_file_all'\
   EXTENT MANAGEMENT LOCAL UNIFORM SIZE 1M AUTOEXTEND ON;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__DDLSUPPORTFORLOCALTEMPORARYTABLESPA-054A8408">
                        <p class="subhead3" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__GUID-6020B383-934F-494F-82AB-0CFD2694ED3E">DDL Support for Local Temporary Tablespaces</p>
                        <p>You manage local temporary tablespaces and temporary files with either <code class="codeph">ALTER TABLESPACE</code>, <code class="codeph">ALTER DATABASE</code>, or both DDL commands. All DDL commands related to local temporary tablespace management and creation are run from the read-write instances. Running all other DDL commands will affect all instances in a homogeneous manner.
                        </p>
                        <p>For example, the following command resizes the temporary files on all read-only instances:</p><pre class="pre codeblock"><code>ALTER TABLESPACE temp_ts_for_rim RESIZE 1G;</code></pre><p>For local temporary tablespaces, Oracle supports the allocation options and their restrictions currently active for temporary files.</p>
                        <p>To run a DDL command on a local temporary tablespace on a read-only instance, only (in particular, <code class="codeph">CREATE LOCAL TABLESPACE...FOR RIM</code> or <code class="codeph">ALTER TABLESPACE LOCAL TABLESPACE...FOR RIM</code>), there must be at least one read-only instance in the cluster. This restriction is not applicable when creating or altering local temporary tablespaces <code class="codeph">FOR ALL</code>. Users can assign a default local temporary tablespace to the database with a <code class="codeph">DEFAULT LOCAL TEMPORARY TABLESPACE</code> clause appended to the <code class="codeph">ALTER DATABASE</code> command.
                        </p>
                        <div class="infoboxnote" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__GUID-B1829D8F-CE71-46BB-AC61-8FD727B48934">
                           <p class="notep1">Note:</p>The annotation <code class="codeph">FOR RIM</code> is unnecessary because it is implied by the name of the table space.
                        </div>
                        <p>For example:</p><pre class="pre codeblock"><code>ALTER DATABASE DEFAULT LOCAL TEMPORARY TABLESPACE temp_ts_for_rim;</code></pre><p>A database administrator can specify default temporary tablespace when creating the database, as follows:</p><pre class="pre codeblock"><code>CREATE DATABASE .. DEFAULT TEMPORARY TABLESPACE temp_ts_for_dbtemp_ts_for_rim TEMPFILE\
   '/temp/temp_file_for_dbrim' EXTENT MANAGEMENT LOCAL UNIFORM SIZE 1M AUTOEXTEND ON;</code></pre><p>It is not possible to specify default local temporary tablespaces using the <code class="codeph">CREATE DATABASE</code> command. When you create a database, its default local temporary tablespace will point to the default shared temporary tablespace. Database administrators must run the <code class="codeph">ALTER DATABASE</code> command to assign an existing local temporary tablespace as the default for the database.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__LOCALTEMPORARYTABLESPACEFORUSERS-054A86C7">
                        <p class="subhead3" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__GUID-3811732C-71A0-4A89-A965-368E40A389BC">Local Temporary Tablespace for Users</p>
                        <p>When you create a user without explicitly specifying shared or local temporary tablespace, the user inherits shared and local temporary tablespace from the corresponding default database tablespaces. You can specify default local temporary tablespace for a user, as follows:</p><pre class="pre codeblock"><code>CREATE USER <span class="variable" translate="no">new_user</span> IDENTIFIED BY <span class="variable" translate="no">new_user</span> LOCAL TEMPORARY TABLESPACE temp_ts_for_all;</code></pre><p>You can change the local temporary tablespace for a user using the <code class="codeph">ALTER USER</code> command, as follows:
                        </p><pre class="pre codeblock"><code>ALTER USER maynard LOCAL TEMPORARY TABLESPACE temp_ts_for_rim;</code></pre><p>As previously mentioned, default user local temporary tablespace can be shared temporary space. Consider the following items for the <code class="codeph">ALTER USER...TEMPORARY TABLESPACE</code> command:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You can change the user default local temporary tablespace to any existing local temporary tablespace.</p>
                           </li>
                           <li>
                              <p>If you want to set the user default local temporary tablespace to a shared temporary tablespace, <code class="codeph">T</code>, then <code class="codeph">T</code> must be the same as the default shared temporary tablespace.
                              </p>
                           </li>
                           <li>
                              <p>If a default user local temporary tablespace points to a shared temporary tablespace, then, when you change the default shared temporary tablespace of the user, you also change the default local temporary tablespace to that tablespace.</p>
                           </li>
                        </ul>
                        <p>Following are some examples of local temporary space management using the <code class="codeph">ALTER</code> command:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To take a local temporary tablespace offline:</p><pre class="pre codeblock"><code>ALTER DATABASE TEMPFILE ‘/temp/temp_file_rim’ OFFLINE;</code></pre></li>
                           <li>
                              <p>To decrease the size of a local temporary tablespace:</p><pre class="pre codeblock"><code>ALTER TABLESPACE temp_ts_for_rim SHRINK SPACE KEEP 20M</code></pre></li>
                           <li>
                              <p>To change the auto-extension attributes of a local temporary file:</p><pre class="pre codeblock"><code>ALTER TABLESPACE temp_ts_for_rim AUTOEXTEND ON NEXT 20G</code></pre></li>
                           <li>
                              <p>To resize a local temporary file:</p><pre class="pre codeblock"><code>ALTER TABLESPACE temp_ts_for_rim RESIZE 10G</code></pre><div class="infoboxnote" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__GUID-2549168B-2606-4181-A770-5FA8436760D6">
                                 <p class="notep1">Note:</p>When you resize a local temporary file, it applies to individual files.
                              </div>
                           </li>
                        </ul>
                        <p>Some read-only instances may be down when you run any of the preceding commands. This does not prevent the commands from succeeding because, when a read-only instance starts up later, it creates the temporary files based on information in the control file. Creation is fast because Oracle reformats only the header block of the temporary file, recording information about the file size, among other things. If you cannot create any of the temporary files, then the read-only instance stays down. Commands that were submitted from a read-write instance are replayed, immediately, on all open read-only instances.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__ATOMICITYREQUIREMENTFORCOMMANDS-054A88E3">
                        <p class="subhead3" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__GUID-4DB1A780-7583-42C2-A1A1-B59BE684C445">Atomicity Requirement for Commands</p>
                        <p>All the commands that you run from the read-write instances are performed in an atomic manner, which means the command succeeds only when it succeeds on all live instances.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__LOCALTEMPORARYTABLESPACEANDDICTIONA-054A8C42">
                        <p class="subhead3" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__GUID-87C59A8F-3C09-4ADB-A1E3-0B0909F5887C">Local Temporary Tablespace and Dictionary Views</p>
                        <p>Oracle extended dictionary views to display information about local temporary tablespaces. Oracle made the following changes:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>All the diagnosibility information related to temporary tablespaces and temporary files exposed through AWR, SQL monitor, and other utilities, is also available for local temporary tablespaces and local temporary files. This information is available with the exisiting dictionary views for temporary tablespaces and temporary files: <code class="codeph">DBA_TEMP_FILES</code>, <code class="codeph">DBA_TEMP_FREE_SPACE</code>.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">USER_TABLESPACES</code> and <code class="codeph">DBA_TABLESPACES</code> dictionary view are extended by a column, called <code class="codeph">SHARED</code>, that indicates whether the temporary file is local (<code class="codeph">FOR RIM</code> or <code class="codeph">FOR ALL</code>) or shared.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">DBA_TEMP_FILES</code> dictionary view is extended by two columns: <code class="codeph">SHARED</code> and <code class="codeph">INST_ID</code>. The <code class="codeph">SHARED</code> column indicates whether the temp file is local (<code class="codeph">FOR RIM</code> or <code class="codeph">FOR ALL</code>) or shared. The <code class="codeph">INST_ID</code> column contains the instance number. For shared temporary files, there is a single row per file, and the <code class="codeph">INST_ID</code> is null. For local temporary files, this column contains information about temporary files per instance, such as the size of the file in bytes (<code class="codeph">BYTES</code> column).
                              </p>
                              <div class="infoboxnote" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__GUID-CFD85A78-74F2-4B4E-8113-BD4459AF495B">
                                 <p class="notep1">Note:</p><code class="codeph">LOCAL...FOR RIM</code> shows only read-only instances per file.
                              </div>
                           </li>
                           <li>
                              <p>The <code class="codeph">DBA_TEMP_FREE_SPACE</code> dictionary view is extended by two columns: <code class="codeph">SHARED</code> and <code class="codeph">INST_ID</code>. The <code class="codeph">SHARED</code> column indicates whether the temporary file is local (<code class="codeph">FOR RIM</code> or <code class="codeph">FOR ALL</code>) or shared. The <code class="codeph">INST_ID</code> column contains the instance number. For shared temporary files, there is a single row per file, and the <code class="codeph">INST_ID</code> is null. For local temporary files, this column contains information about temporary files per instance, such as total free space available (<code class="codeph">FREE_SPACE</code> column).
                              </p>
                              <div class="infoboxnote" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__GUID-875375A5-323E-4365-B689-09537091F268">
                                 <p class="notep1">Note:</p><code class="codeph">LOCAL...FOR RIM</code> shows only read-only instances per file.
                              </div>
                           </li>
                           <li>
                              <p>In the dictionary views, such as <code class="codeph">DBA_TABLESPACES</code>, Oracle distinguishes the type of the tablespace using the <code class="codeph">SHARED</code> column with the following values:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">SHARED</code>: for shared temporary tablespace
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">LOCAL_ON_ALL</code>: for local temporary tablespace on all instances
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">LOCAL_ON_RIM</code>: for local temporary tablespace on read-only instances
                                    </p>
                                 </li>
                              </ul>
                              <div class="infoboxnote" id="GUID-E84E3BA2-7F36-406B-B630-CD651E0C856F__GUID-5D4396A6-BC67-4D0A-BA63-D1B2159E201E">
                                 <p class="notep1">Note:</p>Currently, spills onto temporary tablespace for queries (such as sort and hash join spills) are automatically encrypted. This is also true for spills to local temporary tablespace.
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../sqlrf/CREATE-TABLESPACE.html#SQLRF-GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="RACAD7271"></a><div class="sect2"><a id="GUID-0014A9C2-F7E3-43D2-913E-494CAC107C03" name="GUID-0014A9C2-F7E3-43D2-913E-494CAC107C03"></a><h3 id="RACAD-GUID-0014A9C2-F7E3-43D2-913E-494CAC107C03" class="sect3">Overview of Oracle RAC Architecture and Processing</h3>
               <div>
                  <p>At a minimum, Oracle RAC requires Oracle Clusterware software infrastructure to provide concurrent access to the same storage and the same set of data files from all nodes in the cluster, a communications protocol for enabling interprocess communication (IPC) across the nodes in the cluster, enable multiple database instances to process data as if the data resided on a logically combined, single cache, and a mechanism for monitoring and communicating the status of the nodes in the cluster. </p>
                  <p>The following sections describe these concepts in more detail:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="introduction-to-oracle-rac.html#GUID-3D97ED57-338F-465F-8CC9-A2DFB14A00E4">Understanding Cluster-Aware Storage Solutions</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-oracle-rac.html#GUID-504A615B-C63C-43C4-A481-520DEC015EF1" title="All nodes in an Oracle RAC environment must connect to at least one Local Area Network (LAN) (commonly referred to as the public network) to enable users and applications to access the database.">Oracle RAC and Network Connectivity</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-oracle-rac.html#GUID-F859B8B3-16B2-49CC-B41E-39A328F8027B" title="Applications should use the Dynamic Database Services feature to connect to an Oracle database over the public network.">Overview of Using Dynamic Database Services to Connect to Oracle Databases</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-oracle-rac.html#GUID-AEC7612B-4C10-40F2-A0DC-F5E308A948E8" title="The valid node checking feature provides the ability to configure and dynamically update a set of IP addresses or subnets from which registration requests are allowed by the listener.">Restricted Service Registration in Oracle RAC</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-oracle-rac.html#GUID-B1CFEBD7-9F45-45A8-B1EE-4699950885B4" title="Oracle RAC databases generally have two or more database instances that each contain memory structures and background processes.">About Oracle RAC Software Components</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-oracle-rac.html#GUID-AEBD3F49-4F10-4BDE-9008-DC1AF8E7DB42">About Oracle RAC Background Processes</a></p>
                     </li>
                  </ul>
               </div><a id="RACAD7272"></a><div class="sect3"><a id="GUID-3D97ED57-338F-465F-8CC9-A2DFB14A00E4" name="GUID-3D97ED57-338F-465F-8CC9-A2DFB14A00E4"></a><h4 id="RACAD-GUID-3D97ED57-338F-465F-8CC9-A2DFB14A00E4" class="sect4">Understanding Cluster-Aware Storage Solutions</h4>
                  <div>
                     <p>An Oracle RAC database is a <a id="d6446e3181" class="indexterm-anchor"></a><a href="glossary.html#GUID-7F14B19A-BECA-4CCF-BDD0-21A6A4449B96"><span class="xrefglossterm">shared everything</span></a> database. All data files, control files, SPFILEs, and redo log files in Oracle RAC environments must reside on cluster-aware shared disks, so that all of the cluster database instances can access these storage components. Because Oracle RAC databases use a shared everything architecture, Oracle RAC requires cluster-aware storage for all database files.
                     </p>
                     <p>In Oracle RAC, the Oracle Database software manages disk access and is certified for use on a variety of storage architectures. It is your choice how to configure your storage, but you must use a supported cluster-aware storage solution. Oracle Database provides the following storage options for Oracle RAC:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d6446e3192" class="indexterm-anchor"></a>Oracle Automatic Storage Management (Oracle ASM)
                           </p>
                           <p>Oracle recommends this solution to manage your storage.</p>
                        </li>
                        <li>
                           <p>A certified cluster file system</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Oracle recommends <a id="d6446e3208" class="indexterm-anchor"></a><a id="d6446e3214" class="indexterm-anchor"></a>Oracle Automatic Storage Management Cluster File System (Oracle ACFS).
                                 </p>
                              </li>
                              <li>
                                 <p>A third-party cluster file system on a cluster-aware <a id="d6446e3220" class="indexterm-anchor"></a>volume manager that is certified for Oracle RAC. For example:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a id="d6446e3230" class="indexterm-anchor"></a>Oracle OCFS2 (Linux, only)
                                       </p>
                                    </li>
                                    <li>
                                       <p><a id="d6446e3239" class="indexterm-anchor"></a>IBM GPFS (IBM AIX, only)
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Certified <a id="d6446e3249" class="indexterm-anchor"></a>network file system (NFS) solution
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="RACAD7273"></a><div class="sect3"><a id="GUID-504A615B-C63C-43C4-A481-520DEC015EF1" name="GUID-504A615B-C63C-43C4-A481-520DEC015EF1"></a><h4 id="RACAD-GUID-504A615B-C63C-43C4-A481-520DEC015EF1" class="sect4">Oracle RAC and Network Connectivity</h4>
                  <div>
                     <p>All nodes in an Oracle RAC environment must connect to at least one Local Area Network (LAN) (commonly referred to as the <span class="italic">public network</span>) to enable users and applications to access the database.
                     </p>
                     <p>In addition to the public network, Oracle RAC requires private network connectivity used exclusively for communication between the <a href="glossary.html#GUID-DAAF0CE2-6E9E-4DF8-9971-0A0377BEE1E8"><span class="xrefglossterm">node</span></a>s and database instances running on those nodes. This network is commonly referred to as the <span class="italic">interconnect</span>.
                     </p>
                     <p>The interconnect network is a private network that connects all of the servers in the cluster. The interconnect network must use at least one switch and a Gigabit Ethernet adapter.</p>
                     <div class="infoboxnote" id="GUID-504A615B-C63C-43C4-A481-520DEC015EF1__GUID-95CAEF77-CA33-4297-AFF0-F77A5BB31F7D">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Oracle supports interfaces with higher bandwidth but <span class="italic">does not</span> support using crossover cables with the interconnect.
                              </p>
                           </li>
                           <li>
                              <p>Do not use the interconnect (the private network) for user communication, because <a href="glossary.html#GUID-178C264E-12FF-468C-89B5-99CD47A4B373"><span class="xrefglossterm">Cache Fusion</span></a> uses the interconnect for interinstance communication.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p>You can configure Oracle RAC to use either the User Datagram Protocol (UDP) or Reliable Data Socket (RDS) protocols for inter-instance communication on the interconnect. Oracle Clusterware uses the same interconnect using the UDP protocol, but cannot be configured to use RDS.</p>
                     <p>An additional network connectivity is required when using <a href="glossary.html#GUID-9A54D98E-C943-43F6-9D49-3FBE35142F0B"><span class="xrefglossterm">Network Attached Storage (NAS)</span></a>. Network attached storage can be typical NAS devices, such as NFS filers, or can be storage that is connected using Fibre Channel over IP, for example. This additional network communication channel should be independent of the other communication channels used by Oracle RAC (the public and private network communication). If the storage network communication must be converged with one of the other network communication channels, then you must ensure that storage-related communication gets first priority.
                     </p>
                  </div>
               </div><a id="RACAD8899"></a><div class="sect3"><a id="GUID-F859B8B3-16B2-49CC-B41E-39A328F8027B" name="GUID-F859B8B3-16B2-49CC-B41E-39A328F8027B"></a><h4 id="RACAD-GUID-F859B8B3-16B2-49CC-B41E-39A328F8027B" class="sect4">Overview of Using Dynamic Database Services to Connect to Oracle Databases</h4>
                  <div>
                     <p>Applications should use the Dynamic Database Services feature to connect to an Oracle database over the public network.</p>
                     <p>Dynamic Database Services enable you to define rules and characteristics to control how users and applications connect to database instances. These characteristics include a unique name, workload balancing and failover options, and high availability characteristics.</p>
                     <p>Users can access an Oracle RAC database using a client/server configuration or through one or more middle tiers, with or without connection pooling. By default, a user connection to an Oracle RAC database is established using the TCP/IP protocol but Oracle supports other protocols. Oracle RAC database instances must be accessed through the SCAN for the cluster.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="introduction-to-oracle-rac.html#GUID-75EE86C1-E690-4624-BA83-DFB83234156C" title="Services represent groups of applications with common attributes, service level thresholds, and priorities.">Overview of Automatic Workload Management with Dynamic Database Services</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD8950"></a><div class="sect3"><a id="GUID-6C72F02D-BB43-4C56-9F46-244C8D6BB670" name="GUID-6C72F02D-BB43-4C56-9F46-244C8D6BB670"></a><h4 id="RACAD-GUID-6C72F02D-BB43-4C56-9F46-244C8D6BB670" class="sect4">Overview of Virtual IP Addresses</h4>
                  <div>
                     <p>Oracle Clusterware hosts node virtual IP (VIP) addresses on the public network. <a id="d6446e3751" class="indexterm-anchor"></a><a id="d6446e3753" class="indexterm-anchor"></a>Node VIPs are VIP addresses that clients use to connect to an Oracle RAC database. A typical connect attempt from a database client to an Oracle RAC database instance can be summarized, as follows:
                     </p>
                     <ol>
                        <li>
                           <p>The database client connects to SCAN (which includes a SCAN VIP on a public network), providing the SCAN listener with a valid service name.</p>
                        </li>
                        <li>
                           <p>The SCAN listener then determines which database instance hosts this service and routes the client to the local or node listener on the respective node.</p>
                        </li>
                        <li>
                           <p>The node listener, listening on a node VIP and a given port, retrieves the connection request and connects the client to the an instance on the local node.</p>
                        </li>
                     </ol>
                     <p>If multiple public networks are used on the cluster to support client connectivity through multiple subnets, then the preceding operation is performed within a given subnet.</p>
                     <p>If a <a id="d6446e3772" class="indexterm-anchor"></a>node fails, then the VIP address fails over to another node on which the VIP address can accept TCP connections, but it does not accept connections to the Oracle database. Clients that attempt to connect to a VIP address not residing on its home node receive a <span class="italic">rapid connection refused</span> error instead of waiting for TCP connect timeout messages. When the network on which the VIP is configured comes back online, Oracle Clusterware fails back the VIP to its home node, where connections are accepted. Generally, VIP addresses fail over when:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The node on which a VIP address runs fails</p>
                        </li>
                        <li>
                           <p>All interfaces for the VIP address fail</p>
                        </li>
                        <li>
                           <p>All interfaces for the VIP address are disconnected from the network</p>
                        </li>
                     </ul>
                     <p>Oracle RAC 12<span class="italic">c</span> supports <a id="d6446e3795" class="indexterm-anchor"></a><a id="d6446e3797" class="indexterm-anchor"></a>multiple public networks to enable access to the cluster through different subnets. Each network resource represents its own <a id="d6446e3800" class="indexterm-anchor"></a>subnet and each database service uses a particular network to access the Oracle RAC database. Each network resource is a resource managed by Oracle Clusterware, which enables the VIP behavior previously described.
                     </p>
                     <p>SCAN is a single network name defined either in your organization's Domain Name Server (DNS) or in the Grid Naming Service (GNS) that round robins to three IP addresses. Oracle recommends that all connections to the Oracle RAC database use the SCAN in their client connection string. Incoming connections are load balanced across the active instances providing the requested service through the three SCAN listeners. With SCAN, you do not have to change the client connection even if the configuration of the cluster changes (nodes added or removed). Unlike in previous releases, SCAN in Oracle RAC 12<span class="italic">c</span> fully supports multiple subnets, which means you can create one SCAN for each subnet in which you want the cluster to operate.
                     </p>
                  </div>
               </div><a id="RACAD8900"></a><div class="sect3"><a id="GUID-AEC7612B-4C10-40F2-A0DC-F5E308A948E8" name="GUID-AEC7612B-4C10-40F2-A0DC-F5E308A948E8"></a><h4 id="RACAD-GUID-AEC7612B-4C10-40F2-A0DC-F5E308A948E8" class="sect4">Restricted Service Registration in Oracle RAC</h4>
                  <div>
                     <p>The valid node checking feature provides the ability to configure and dynamically update a set of IP addresses or subnets from which registration requests are allowed by the listener.</p>
                     <p>Database instance registration with a listener succeeds only when the request originates from a valid node. The network administrator can specify a list of valid nodes, excluded nodes, or disable valid node checking. The list of valid nodes explicitly lists the nodes and subnets that can register with the database. The list of excluded nodes explicitly lists the nodes that cannot register with the database. The control of dynamic registration results in increased manageability and security of Oracle RAC deployments.</p>
                     <p>By default, valid node checking for registration (VNCR) is enabled. In the default configuration, registration requests from all nodes within the subnet of the SCAN listener can register with the listener. Non-SCAN listeners only accept registration from instances on the local node. Remote nodes or nodes outside the subnet of the SCAN listener must be included on the list of valid nodes by using the <code class="codeph">registration_invited_nodes_<span class="variable" translate="no">alias</span></code> parameter in the <code class="codeph">listener.ora</code> file or by modifying the SCAN listener using SRVCTL.
                     </p>
                  </div>
               </div><a id="RACAD7274"></a><div class="sect3"><a id="GUID-B1CFEBD7-9F45-45A8-B1EE-4699950885B4" name="GUID-B1CFEBD7-9F45-45A8-B1EE-4699950885B4"></a><h4 id="RACAD-GUID-B1CFEBD7-9F45-45A8-B1EE-4699950885B4" class="sect4">About Oracle RAC Software Components</h4>
                  <div>
                     <p>Oracle RAC databases generally have two or more database instances that each contain memory structures and background processes.</p>
                     <p>An Oracle RAC database has the same processes and memory structures as a noncluster Oracle database and additional processes and memory structures that are specific to Oracle RAC. Any one instance's database view is nearly identical to any other instance's view in the same Oracle RAC database; the view is a single system image of the environment. </p>
                     <p>Each instance has a buffer cache in its System Global Area (SGA). Using Cache Fusion, Oracle RAC environments logically combine each instance's buffer cache to enable the instances to process data as if the data resided on a logically combined, single cache.</p>
                     <div class="infoboxnote" id="GUID-B1CFEBD7-9F45-45A8-B1EE-4699950885B4__GUID-4B9257B8-4269-42B8-8101-73EC793721B2">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The In-Memory Transaction Manager integrates with the Cache Fusion protocol.</p>
                           </li>
                           <li>
                              <p>The SGA size requirements for Oracle RAC are greater than the SGA requirements for noncluster Oracle databases due to Cache Fusion.</p>
                           </li>
                        </ul>
                     </div>
                     <p>To ensure that each Oracle RAC database instance obtains the block that it requires to satisfy a query or transaction, Oracle RAC instances use two processes, the Global Cache Service (GCS) and the Global Enqueue Service (GES). The GCS and GES maintain records of the statuses of each data file and each cached block using a Global Resource Directory (GRD). The GRD contents are distributed across all of the active instances, which effectively increases the size of the SGA for an Oracle RAC instance.</p>
                     <p>After one instance caches data, any other instance within the same cluster database can acquire a block image from another instance in the same database faster than by reading the block from disk. Therefore, Cache Fusion moves current blocks between instances rather than re-reading the blocks from disk. When a consistent block is needed or a changed block is required on another instance, Cache Fusion transfers the block image directly between the affected instances. Oracle RAC uses the private interconnect for interinstance communication and block transfers. The GES Monitor and the Instance Enqueue Process manage access to Cache Fusion resources and enqueue recovery processing.\</p>
                     <p>Cache Fusion monitors the latency on the private networks and the service time on the disks, and automatically chooses the best path. If shared disks include low latency SSDs, then Oracle automatically chooses the best path.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../inmem/concepts-for-the-im-column-store.html#INMEM-GUID-5A72B48A-8427-41AE-9220-E46042BC90C4" target="_blank"><span><cite>Oracle Database In-Memory Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD7275"></a><div class="sect3"><a id="GUID-AEBD3F49-4F10-4BDE-9008-DC1AF8E7DB42" name="GUID-AEBD3F49-4F10-4BDE-9008-DC1AF8E7DB42"></a><h4 id="RACAD-GUID-AEBD3F49-4F10-4BDE-9008-DC1AF8E7DB42" class="sect4">About Oracle RAC Background Processes</h4>
                  <div>
                     <p>The GCS and GES processes, and the GRD collaborate to enable Cache Fusion. The Oracle RAC processes and their identifiers are as follows:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ACMS</code>: Atomic Controlfile to Memory Service (<code class="codeph">ACMS</code>)
                           </p>
                           <p>In an Oracle RAC environment, the <code class="codeph">ACMS</code> per-instance process is an agent that contributes to ensuring a distributed SGA memory update is either globally committed on success or globally aborted if a failure occurs.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">GTX0-j</code>: Global Transaction Process
                           </p>
                           <p>The <code class="codeph">GTX0-j</code> process provides transparent support for XA global transactions in an Oracle RAC environment. The database autotunes the number of these processes based on the workload of XA global transactions.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LMON</code>: Global Enqueue Service Monitor
                           </p>
                           <p>The <code class="codeph">LMON</code> process monitors global enqueues and resources across the cluster and performs global enqueue recovery operations.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LMD</code>: Global Enqueue Service Daemon
                           </p>
                           <p>The <code class="codeph">LMD</code> process manages incoming remote resource requests within each instance.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LMS</code>: Global Cache Service Process
                           </p>
                           <p>The <code class="codeph">LMS</code> process maintains records of the data file statuses and each cached block by recording information in a Global Resource Directory (GRD). The <code class="codeph">LMS</code> process also controls the flow of messages to remote instances and manages global data block access and transmits block images between the buffer caches of different instances. This processing is part of the Cache Fusion feature.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LCK0</code>: Instance Enqueue Process
                           </p>
                           <p>The <code class="codeph">LCK0</code> process manages non-Cache Fusion resource requests such as library and row cache requests.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">RMS<span class="variable" translate="no">n</span></code>: Oracle RAC Management Processes (<code class="codeph">RMS<span class="variable" translate="no">n</span></code>)
                           </p>
                           <p>The <code class="codeph">RMS<span class="variable" translate="no">n</span></code> processes perform manageability tasks for Oracle RAC. Tasks accomplished by an <code class="codeph">RMS<span class="variable" translate="no">n</span></code> process include creation of resources related to Oracle RAC when new instances are added to the clusters.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">RSMN</code>: Remote Slave Monitor manages background slave process creation and communication on remote instances. These background slave processes perform tasks on behalf of a coordinating process running in another instance.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-AEBD3F49-4F10-4BDE-9008-DC1AF8E7DB42__GUID-2D5A372E-B03E-48CE-A228-B041E24364F6">
                        <p class="notep1">Note:</p>
                        <p>Many of the Oracle Database components that this section describes are in addition to the components that are described for noncluster Oracle databases in <span><cite>Oracle Database Concepts</cite></span>.
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../cncpt/introduction-to-oracle-database.html#CNCPT-GUID-A42A6EF0-20F8-4F4B-AFF7-09C100AE581E" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="RACAD8888"></a><a id="RACAD7276"></a><div class="sect2"><a id="GUID-75EE86C1-E690-4624-BA83-DFB83234156C" name="GUID-75EE86C1-E690-4624-BA83-DFB83234156C"></a><h3 id="RACAD-GUID-75EE86C1-E690-4624-BA83-DFB83234156C" class="sect3">Overview of Automatic Workload Management with Dynamic Database Services</h3>
               <div>
                  <p>Services represent groups of applications with common attributes, service level thresholds, and priorities.</p>
                  <p>Application functions can be divided into workloads identified by services. For example, Oracle E-Business Suite can define a service for each responsibility, such as general ledger, accounts receivable, order entry, and so on. A service can span one or more instances of an Oracle database, multiple databases in a global cluster, and a single instance can support multiple services. The number of instances that are serving the service is transparent to the application. Services provide a single system image to manage competing applications, and allow each workload to be managed as a unit.</p>
                  <p>Middle tier applications and clients select a service by specifying the service name as part of the connection in the TNS connect string. For example, data sources for Oracle WebLogic Server are set to route to a service. Using Net Easy*Connection, this connection comprises simply the service name and network address, as follows: <code class="codeph"><span class="variable" translate="no">user_name</span>/<span class="variable" translate="no">password</span>@SCAN/<span class="variable" translate="no">service_name</span></code>. Server-side work such as Oracle Scheduler, Parallel Query, and Oracle GoldenGate queues set the service name as part of the workload definition. For Oracle Scheduler, jobs are assigned to job classes and job classes execute within services. For Parallel Query and Parallel DML, the query coordinator connects to a service and the parallel query slaves inherit the service for the duration of the parallel execution. For Oracle GoldenGate, streams queues are accessed using services. Work executing under a service inherits the thresholds and attributes for the service and is measured as part of the service.
                  </p>
                  <p>Oracle Database Resource Manager binds services to consumer groups and priorities. This allows the database to manage the services in the order of their importance. For example, the DBA can define separate services for high priority online users and lower priority internal reporting applications. Likewise, the DBA can define Gold, Silver and Bronze services to prioritize the order in which requests are serviced for the same application. When planning the services for a system, the plan should include the priority of each service relative to the other services. In this way, Oracle Database Resource Manager can satisfy the priority-one services first, followed by the priority-two services, and so on.</p>
                  <p>When users or applications connect to a database, Oracle recommends that you use a service specified in the <code class="codeph">CONNECT_DATA</code> portion of the connect string. Oracle Database automatically creates one database service when the database is created but the behavior of this service is different from that of database services that you subsequently create. To enable more flexibility in the management of a workload using the database, Oracle Database enables you to create multiple services and specify on which instances (or in which server pools) the services start. If you are interested in greater workload management flexibility, then continue reading this chapter to understand the added features that you can use with services.
                  </p>
                  <div class="infoboxnote" id="GUID-75EE86C1-E690-4624-BA83-DFB83234156C__GUID-895C4868-AE1A-4310-8995-3FB77F3806F5">
                     <p class="notep1">Note:</p>
                     <p>The features discussed in this chapter do not work with the following default database services: <code class="codeph">DB_NAME</code>, <code class="codeph">DB_UNIQUE_NAME</code>, <code class="codeph">PDB_NAME</code>, <code class="codeph">SYS$BACKGROUND</code>, and <code class="codeph">SYS$USERS</code>. Oracle strongly recommends that you do not use these services for applications to connect to the database. You must create cluster managed services to take advantage of these features. You can only manage the services that you create. Any service that the database create automatically is managed by the database server.
                     </p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-75EE86C1-E690-4624-BA83-DFB83234156C__GUID-BC45815E-C493-4E0F-A372-3D98A398ACEF">Dynamic Database Services</p>
                  </div>
                  <!-- class="section" -->
                  <p>Dynamic database services enable you to manage workload distributions to provide optimal performance for users and applications. Dynamic database services offer the following features:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="bold">Services</span>: Oracle Database provides a powerful automatic workload management facility, called services, to enable the enterprise grid vision. Services are entities that you can define in Oracle RAC databases that enable you to group database workloads, route work to the optimal instances that are assigned to offer the service, and achieve high availability for planned and unplanned actions.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">High Availability Framework</span>: An Oracle RAC component that enables Oracle Database to always maintain components in a running state.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Fast Application Notification (FAN)</span>: Provides information to Oracle RAC applications and clients about cluster state changes and Load Balancing Advisory events, such as <code class="codeph">UP</code> and <code class="codeph">DOWN</code> events for instances, services, or nodes. FAN has two methods for publishing events to clients, the Oracle Notification Service daemon, which is used by Java Database Connectivity (JDBC) clients including the Oracle Application Server, and Oracle GoldenGate Advanced Queueing, which is only used by previous releases of Oracle Call Interface (OCI) and Oracle Data Provider for .NET (ODP.NET) clients.
                        </p>
                        <div class="infoboxnote" id="GUID-75EE86C1-E690-4624-BA83-DFB83234156C__GUID-B92CBA9A-DE29-406C-956F-1D167E1DDC18">
                           <p class="notep1">Note:</p>
                           <p>All clients beginning with Oracle Database 12<span class="italic">c</span> release 2 (12.2) use Oracle Notification Service.
                           </p>
                        </div>
                     </li>
                     <li>
                        <p><span class="bold">Transaction Guard</span>: A tool that provides a protocol and an API for at-most-once execution of transactions in case of unplanned outages and duplicate submissions.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Application Continuity</span>: Provides a general purpose infrastructure that replays the in-flight request when a recoverable error is received, masking many system, communication, and storage outages, and hardware failures. Unlike existing recovery technologies, this feature attempts to recover the transactional and non-transactional session states beneath the application, so that the outage appears to the application as a delayed execution.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Connection Load Balancing</span>: A feature of Oracle Net Services that balances incoming connections across all of the instances that provide the requested database service.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Load Balancing Advisory</span>: Provides information to applications about the current service levels that the database and its instances are providing. The load balancing advisory makes recommendations to applications about where to direct application requests to obtain the best service based on the management policy that you have defined for that service. Load balancing advisory events are published through Oracle Notification Service.
                        </p>
                     </li>
                     <li>
                        <p> <span class="bold">Automatic Workload Repository (AWR)</span>: Tracks service-level statistics as <a href="glossary.html#GUID-3C591280-F8D5-4979-8134-152C2DF66F2F"><span class="xrefglossterm">metric</span></a>s. Server generated alerts can be created for these metrics when they exceed or fail to meet certain thresholds. 
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Fast Connection Failover (FCF)</span>: This is the ability of Oracle Clients to provide rapid failover of connections by subscribing to FAN events. 
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Runtime Connection Load Balancing</span>: This is the ability of Oracle Clients to provide intelligent allocations of connections in the connection pool based on the current service level provided by the database instances when applications request a connection to complete some work.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Single Client Access Name (SCAN)</span>: Provides a single name to the clients connecting to Oracle RAC that does not change throughout the life of the cluster, even if you add or remove nodes from the cluster. Clients connecting with SCAN can use a simple connection string, such as a thin JDBC URL or EZConnect, and still achieve the load balancing and client connection failover.
                        </p>
                     </li>
                  </ul>
                  <p>You can deploy Oracle RAC and noncluster Oracle database environments to use dynamic database service features in many different ways. Depending on the number of nodes and your environment's complexity and objectives, your choices for optimal automatic workload management and high-availability configuration depend on several considerations that are described in this chapter.</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../admin/managing-resources-with-oracle-database-resource-manager.html#ADMIN-GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a></li>
                        <li><a href="workload-management-with-dynamic-database-services.html#GUID-8DC4D5E0-CA9D-47BC-BAD0-8769405AFEC5" title="Workload management includes load balancing, enabling clients for Oracle Real Application Clusters (Oracle RAC), distributed transaction processing, and services.">Workload Management with Dynamic Database Services</a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD8889"></a><div class="sect2"><a id="GUID-7D01967A-2E0F-4228-82CE-428D7B65F961" name="GUID-7D01967A-2E0F-4228-82CE-428D7B65F961"></a><h3 id="RACAD-GUID-7D01967A-2E0F-4228-82CE-428D7B65F961" class="sect3">Overview of Server Pools and Policy-Managed Databases</h3>
               <div>
                  <p>Server pools are the basis for policy-managed databases.</p>
                  <p>You can create Oracle RAC databases, whether multinode or Oracle Real Application Clusters One Node (Oracle RAC One Node), using the following deployment models:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Administrator-managed deployment is based on the Oracle RAC deployment types that existed before Oracle Database 11<span class="italic">g</span> release 2 (11.2) and requires that you statically configure each database instance to run on a specific node in the cluster, and that you configure database services to run on specific instances belonging to a certain database using the <code class="codeph">preferred</code> and <code class="codeph">available</code> designation.
                        </p>
                     </li>
                     <li>
                        <p>Policy-managed deployment is based on <span class="italic">server pools</span>, where database services run within a server pool as <span class="italic">singleton</span> or <span class="italic">uniform</span> across all of the servers in the server pool. Databases are deployed in one or more server pools and the size of the server pools determine the number of database instances in the deployment.
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/racad&amp;id=APQOS-GUID-1466C923-4F4F-4313-8962-D870249A79A7" target="_blank"><span><cite>Oracle Database Quality of Service Management User's Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div><a id="RACAD8890"></a><div class="sect3"><a id="GUID-342BDB31-4A5D-473B-8F27-AB5785BBC0A9" name="GUID-342BDB31-4A5D-473B-8F27-AB5785BBC0A9"></a><h4 id="RACAD-GUID-342BDB31-4A5D-473B-8F27-AB5785BBC0A9" class="sect4">Introduction to Server Pools</h4>
                  <div>
                     <p>Server pools logically apportion a cluster into groups of servers offering database or application services.</p>
                     <p>Server pool properties control the scalability and availability of those databases and applications. You can configure each server pool with a minimum and maximum size, which determines scalability. Oracle Clusterware manages availability between server pools, and you can further regulate availability by configuring the importance value of individual server pools.</p>
                     <p>Servers are not assigned to server pools by name but by number. Therefore, you must configure any server to run any database. If you cannot configure servers due to, for example, heterogeneous servers or storage connectivity, then you can restrict servers by using server category definitions to determine server pool membership eligibility.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../cwadd/policy-based-cluster-and-capacity-management.html#CWADD-GUID-B591A9DF-BEB1-4B72-B665-7416BEA27C7A" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div><a id="RACAD8892"></a><a id="RACAD8901"></a><a id="RACAD8893"></a><a id="RACAD8902"></a><a id="RACAD8894"></a><a id="RACAD8903"></a><a id="RACAD8891"></a><div class="sect4"><a id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733" name="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733"></a><h5 id="RACAD-GUID-B1523FC3-DED5-4A91-98D5-789CFE650733" class="sect5">Examples of Using Server Pools</h5>
                     <div>
                        <p>This section includes the following examples of using server pools:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="introduction-to-oracle-rac.html#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__BABEJACC">Minimum and Maximum Number of Servers</a></p>
                           </li>
                           <li>
                              <p><a href="introduction-to-oracle-rac.html#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__BABIFIIE">IMPORTANCE Attribute of Server Pools</a></p>
                           </li>
                           <li>
                              <p><a href="introduction-to-oracle-rac.html#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__BABJGBHE">Consolidation of Databases</a></p>
                           </li>
                        </ul>
                        <div class="section" id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__BABEJACC">
                           <p class="subhead3" id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__GUID-8D7D8BD4-3264-4686-B6BF-9DBBD4195213">Minimum and Maximum Number of Servers</p>
                        </div>
                        <!-- class="section" -->
                        <p>Consider a four-node cluster configured into two server pools named <code class="codeph">online</code> and <code class="codeph">backoffice</code>. A database named <code class="codeph">dbsales</code> runs in the <code class="codeph">online</code> server pool offering the <code class="codeph">browse</code>, <code class="codeph">search</code>, and <code class="codeph">salescart</code> services. A database named <code class="codeph">dberp</code> runs in the <code class="codeph">backoffice</code> server pool and offers the <code class="codeph">inventory</code> and <code class="codeph">shipping</code> services, as shown in <a href="introduction-to-oracle-rac.html#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__CHDEBFHG">Figure 1-2</a>. During normal business hours the enterprise requires a minimum of two instances of the <code class="codeph">dbsales</code> database and one instance of the <code class="codeph">dberp</code> database to meet normal demand.
                        </p>
                        <div class="figure" id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__CHDEBFHG">
                           <p class="titleinfigure">Figure 1-2 Server Placement by Minimum and Maximum Limits</p><img src="img/racad_vm_039.png" width="573" alt="Description of Figure 1-2 follows" title="Description of Figure 1-2 follows" longdesc="img_text/racad_vm_039.html"><br><a href="img_text/racad_vm_039.html">Description of "Figure 1-2 Server Placement by Minimum and Maximum Limits"</a></div>
                        <!-- class="figure" -->
                        <p>In this policy-managed deployment, the value of the <code class="codeph">MIN_SIZE</code> server pool attribute for the <code class="codeph">online</code> server pool is 2, while the value of the <code class="codeph">MIN_SIZE</code> server pool attribute for the <code class="codeph">backoffice</code> server pool is 1. Configured this way, Oracle Clusterware ensures that there are always two servers in the <code class="codeph">online</code> server pool and one server in the <code class="codeph">backoffice</code> server pool. Because this is a four-node cluster, there is one server left not assigned to either server pool. Where that last server gets deployed is determined by the <code class="codeph">MAX_SIZE</code> server pool parameter of each server pool. If the sum of the values of the <code class="codeph">MAX_SIZE</code> server pool attribute for each server pool is less than the total number of servers in the cluster, then the remaining servers stay in the Free server pool awaiting a failure of a deployed node.
                        </p>
                        <p>If the value of <code class="codeph">MAX_SIZE</code> is greater than that of <code class="codeph">MIN_SIZE</code>, then the remaining server will be deployed into the server pool whose importance value is greatest, as shown in <a href="introduction-to-oracle-rac.html#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__CHDEBFHG">Figure 1-2</a>, and fully discussed in the next section. In this case, the server is a shareable resource that can be relocated online to join the server pool where it is required. For example, during business hours the server could be given to the <code class="codeph">online</code> server pool to add an instance of the <code class="codeph">dbsales</code> database but after hours could be relocated to the <code class="codeph">backoffice</code> server pool, adding a <code class="codeph">dberp</code> database instance. All such movements are online and instances are shut down, transactionally.
                        </p>
                        <p>These two policy-managed databases are running only the instances that are required and they can be dynamically increased or decreased to meet demand or business requirements.</p>
                        <div class="section" id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__BABIFIIE">
                           <p class="subhead3" id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__GUID-B4421E08-80C3-4082-B1A1-7FF2ED95BA6A">IMPORTANCE Attribute of Server Pools</p>
                        </div>
                        <!-- class="section" -->
                        <p>The <code class="codeph">IMPORTANCE</code> server pool attribute is used at cluster startup and in response to a node failure or eviction. In contrast to administrator-managed databases, you can configure server pools with different importance levels to determine which databases are started first and which databases remain online in case there is a multinode outage.
                        </p>
                        <p>Consider a four-node cluster that hosts a database named <code class="codeph">dbapps</code> in two server pools, <code class="codeph">sales</code> and <code class="codeph">backoffice</code>. Two services, <code class="codeph">orderentry</code> and <code class="codeph">billing</code>, run in the <code class="codeph">sales</code> server pool, while two other services, <code class="codeph">erp</code> and <code class="codeph">reports</code>, run in the <code class="codeph">backoffice</code> server pool, as shown in <a href="introduction-to-oracle-rac.html#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__SERVERPOOLIMPORTANCE-4980C05C">Figure 1-3</a>. By configuring the value of the <code class="codeph">IMPORTANCE</code> server pool attribute of the <code class="codeph">sales</code> server pool higher than that of the <code class="codeph">backoffice</code> server pool, the services in <code class="codeph">sales</code> start first when the cluster starts and are always available, even if there is only one server left running after a multinode failure. The <code class="codeph">IMPORTANCE</code> server pool attribute enables you to rank services and also eliminates the requirement to run a service on all nodes in a cluster to ensure that it is always available.
                        </p>
                        <div class="figure" id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__SERVERPOOLIMPORTANCE-4980C05C">
                           <p class="titleinfigure">Figure 1-3 Server Pool Importance</p><img src="img/racad_vm_038.png" width="573" alt="Description of Figure 1-3 follows" title="Description of Figure 1-3 follows" longdesc="img_text/racad_vm_038.html"><br><a href="img_text/racad_vm_038.html">Description of "Figure 1-3 Server Pool Importance"</a></div>
                        <!-- class="figure" -->
                        <div class="section" id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__BABJGBHE">
                           <p class="subhead3" id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__GUID-D3A7AA34-E595-4626-97C7-F2E7845F05B7">Consolidation of Databases</p>
                        </div>
                        <!-- class="section" -->
                        <p>You can use several different approaches, either discretely or combined, to consolidate Oracle databases. Policy-managed deployments facilitate consolidation. In the case of schema consolidation, where multiple applications are being hosted in a single database separated into discrete schemas or pluggable databases (PDBs), you can use server pools to meet required capacity. Because of the dynamic scaling property of server pools, you can increase or decrease the number of database instances to meet current demand or business requirements. Since server pools also determine which services run together or separately, you can configure and maintain required affinity or isolation.</p>
                        <p>When it is not possible to use schema consolidation because of, for example, version requirements, you can host multiple databases on a single set of servers. Using policy-managed databases facilitates this database consolidation because they can share the same server pool by making use of <a href="glossary.html#GUID-EA9BDE17-264E-4375-8F98-1B4184A03648"><span class="xrefglossterm">instance caging</span></a>, which enables you to dynamically increase or decrease databases, both horizontally (using server pool size) and vertically (using the <code class="codeph">CPU_COUNT</code> server configuration attribute) to meet demand or business policies and schedules.
                        </p>
                        <p>By contrast, with administrator-managed databases, you are required to reserve capacity on each server to absorb workload failing over should a database instance or server fail. With policy-managed databases, however, you can effectively rank server pools by the business necessity of the workloads that they are running using the <code class="codeph">MIN_SIZE</code>, <code class="codeph">MAX_SIZE</code>, and <code class="codeph">IMPORTANCE</code> server pool attributes.
                        </p>
                        <p>When the failure of a server brings a server pool to below its configured minimum number of servers, another server will move from a less important server pool to take its place and bring the number of servers back up to the configured minimum. This eliminates the risk of cascade failures due to overloading the remaining servers and enables you to significantly reduce or even eliminate the need to reserve capacity for handling failures.</p>
                        <p>Migrating or converting to policy-managed databases also enables cluster consolidation and creates larger clusters that have greater availability and scalability because of the increased number of servers available to host and scale databases. Because policy-managed databases do not require binding their instance names to a particular server and binding services to particular instances, the complexity of configuring and managing large clusters is greatly reduced.</p>
                        <p>An example deployment is shown in <a href="introduction-to-oracle-rac.html#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__CONSOLIDATINGDATABASES-49815171">Figure 1-4</a> where the previous two cluster examples (shown in <a href="introduction-to-oracle-rac.html#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__CHDEBFHG">Figure 1-2</a> and <a href="introduction-to-oracle-rac.html#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__SERVERPOOLIMPORTANCE-4980C05C">Figure 1-3</a>) are consolidated into a single cluster, making use of both database consolidation (using instance caging) and cluster consolidation (using server pools) configured so that workloads are properly sized and prioritized.
                        </p>
                        <div class="figure" id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__CONSOLIDATINGDATABASES-49815171">
                           <p class="titleinfigure">Figure 1-4 Consolidating Databases</p><img src="img/racad_vm_037.png" width="573" alt="Description of Figure 1-4 follows" title="Description of Figure 1-4 follows" longdesc="img_text/racad_vm_037.html"><br><a href="img_text/racad_vm_037.html">Description of "Figure 1-4 Consolidating Databases"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="../cwadd/policy-based-cluster-and-capacity-management.html#CWADD-GUID-E5103867-6683-4D5C-9343-1F1F2522FEF3" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="RACAD8895"></a><div class="sect3"><a id="GUID-0D6E4EC3-7D75-45DB-97D8-372B2FD010D3" name="GUID-0D6E4EC3-7D75-45DB-97D8-372B2FD010D3"></a><h4 id="RACAD-GUID-0D6E4EC3-7D75-45DB-97D8-372B2FD010D3" class="sect4">Deploying Policy-Managed Databases</h4>
                  <div>
                     <p>When you deploy a policy-managed database you must first determine the services and their required sizing, taking into account that services cannot span server pools.</p>
                     <p>If you are going to collocate this database with other databases, then you should factor in its CPU requirements relative to the other hosted databases, and also factor in the value of its <code class="codeph">CPU_COUNT</code> attribute for instance caging, so that you can size the database both vertically and horizontally in one or more server pools.
                     </p>
                     <p>If you are going to collocate the server pools for this database with other server pools, then consider configuring the server pools to adjust the server pool sizes on a calendar or event basis to optimize meeting demand and business requirements. Once you have determined the sizes of the server pools, and configured the appropriate values for the <code class="codeph">MIN_SIZE</code> and <code class="codeph">MAX_SIZE</code> server pool attributes, you can then determine the relative importance of each server pool.
                     </p>
                     <p>You, as the cluster administrator, create policy-managed database server pools using the <code class="codeph">srvctl add serverpool</code> command. You can modify the properties of the server pool using the <code class="codeph">srvctl modify serverpool</code> command in the Oracle Grid Infrastructure home.
                     </p>
                     <p>While it is possible to create a server pool using DBCA, Oracle recommends this only for small, single server pool deployments, because DBCA will fail if servers are already allocated to other server pools. Additionally, if the cluster is made up of servers with different capacities, such as old and new servers, Oracle recommends that you set up server category definitions defining the minimum server requirements for a server to join each server pool.</p>
                     <p>After you create the server pools, you can run DBCA from the appropriate database home. Depending on the database type and task, you will be presented with different default options. For all new Oracle RAC and Oracle RAC One Node databases, including container databases (CDBs), the Policy-Managed option is the default and the option that Oracle recommends.</p>
                     <p>If you are upgrading your database from an administrator-managed database or a database earlier than Oracle Database 11<span class="italic">g</span> release 2 (11.2), then you will not have the option to directly upgrade to a policy-managed database. After you upgrade, however, you can convert the database to policy managed using the <code class="codeph">srvctl modify database</code> command.
                     </p>
                     <p>When you convert from an administrator-managed database to a policy-managed database, the instance names are automatically updated to include the underscore (for example: <code class="codeph">orcl1</code> becomes <code class="codeph">orcl_1</code>). The underscore is required so that the database can automatically create instances when a server pool grows in size.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../cwadd/policy-based-cluster-and-capacity-management.html#CWADD-GUID-E5103867-6683-4D5C-9343-1F1F2522FEF3" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                           <li><a href="../cwadd/policy-based-cluster-and-capacity-management.html#CWADD-GUID-F936D4CA-C277-4F22-A701-5DC28B6C5D49" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                           <li><a href="administering-database-instances-and-cluster-databases.html#GUID-1423B27A-3FD5-4B5F-AD29-029A799E28FF" title="You can convert an administrator-managed database to a policy-managed database.">Converting an Administrator-Managed Database to a Policy-Managed Database</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD8904"></a><div class="sect3"><a id="GUID-977D2FC5-8D6D-4CE5-AE51-C216CF81F477" name="GUID-977D2FC5-8D6D-4CE5-AE51-C216CF81F477"></a><h4 id="RACAD-GUID-977D2FC5-8D6D-4CE5-AE51-C216CF81F477" class="sect4">Managing Policy-Managed Databases</h4>
                  <div>
                     <p>Managing a policy-managed database requires less configuration and reconfiguration steps than an administrator-managed one with respect to creation, sizing, patching, and load balancing.</p>
                     <p>Also, because any server in the server pools within the cluster can run any of the databases, you do not have to create and maintain database instance-to-node-name mappings. If, however, you want a database to use a specific instance name whenever it runs on a particular node, then you can create instance-to-node-name mappings using the <code class="codeph">srvctl modify instance -db <span class="variable" translate="no">db_unique_name</span> -instance <span class="variable" translate="no">inst_name</span> -node <span class="variable" translate="no">node_name</span></code> command. This can be useful when scripts on a particular node connect to the database using a fixed <code class="codeph">ORACLE_SID</code> value.
                     </p>
                     <p>You can perform maintenance tasks such as patching by relocating servers into the Free pool or by adjusting the server pool minimum and maximum sizes, thereby retaining required availability.</p>
                     <p>Policy-managed databases also facilitate the management of services, because they are assigned to a single server pool and run as singletons or uniform across all servers in the pool. You no longer have to create or maintain explicit preferred and available database instance lists for each service. If a server moves into a server pool because of manual relocation or a high availability event, all uniform services and their dependent database instances are automatically started. If a server hosting one or more singleton services goes down, those services will automatically be started on one or more of the remaining servers in the server pool. In the case of Oracle RAC One Node, the corresponding database instance will also be started automatically.</p>
                     <p>Managing services relative to each other is improved by making use of the importance attribute of each server pool. Each service running in a server pool inherits the server pool's importance relative to the other server pool-hosted services in the cluster. If the minimum size of the most important server pool is greater than zero, then the services and associated database instances in that server pool are started first on cluster startup and will be the last services and database instances running, as long as there is one server running in the cluster. You can offer services not critical to the business in the least important server pool, ensuring that, should sufficient resources not be available due to demand or failures, those services will eventually be shut down and the more business-critical services remain available.</p>
                     <p>Because many management tasks may involve making changes that can affect multiple databases, services, or server pools in a consolidated environment, you can use the evaluate mode for certain SRVCTL commands to get a report of the resource impact of a command.</p>
                     <p>Consider the following example, that evaluates the effect on the system of modifying a server pool:</p><pre class="pre codeblock"><code><span class="bold">$ srvctl modify srvpool -l 3 -g online -eval</span>

Service erp1 will be stopped on node test3
Service reports will be stopped on node test3
Service inventory will be stopped on node test3
Service shipping will be stopped on node test3
Database dbsales will be started on node test3
Service orderentry will be started on node test3
Service billing will be started on node test3
Service browse will be started on node test3
Service search will be started on node test3
Service salescart will be started on node test3
Server test3 will be moved from pool backoffice to pool online
</code></pre><p>As shown in the preceding example, modifying a server pool can result in many resource state changes. You can use a <span class="italic">policy set</span> through either Oracle Clusterware or Oracle Database Quality of Service Management.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="server-control-utility-reference.html#GUID-E768864F-7362-4A80-AB40-96274F61A19A" title="Modifies a server pool in a cluster.">srvctl modify srvpool</a></li>
                           <li><a href="server-control-utility-reference.html#GUID-03EAA16F-2197-45AF-93A6-DDC7943166BD" title="Relocates servers to a server pool in the cluster.">srvctl relocate server</a></li>
                           <li><a href="server-control-utility-reference.html#GUID-803F603E-8638-4946-84D4-CB24D21C893C" title="SRVCTL is installed on each node in a cluster by default. To use SRVCTL, log in to the operating system of a node and enter the SRVCTL command and its parameters in case-sensitive syntax.">SRVCTL Usage Information</a></li>
                           <li><a href="../cwadd/policy-based-cluster-and-capacity-management.html#CWADD-GUID-7FBE1007-3BA0-4DE5-A993-358E3423721B" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD8844"></a><div class="sect3"><a id="GUID-41B8D007-0D96-49A0-960F-315940BE436A" name="GUID-41B8D007-0D96-49A0-960F-315940BE436A"></a><h4 id="RACAD-GUID-41B8D007-0D96-49A0-960F-315940BE436A" class="sect4">Policy-Based Cluster Management</h4>
                  <div>
                     <p>Oracle Clusterware supports the management of a cluster configuration policy set as a native Oracle Clusterware feature.</p>
                     <p>A <a href="glossary.html#GUID-8331EB9B-FDBB-4F03-94DC-80220D2942B8"><span class="xrefglossterm">cluster configuration policy</span></a> contains one definition for each server pool that is defined in the system. A cluster configuration policy also specifies resource placement and cluster node availability. A <a href="glossary.html#GUID-748D6AE0-F7E8-4716-9AB7-2AAA8D6AC393"><span class="xrefglossterm">cluster configuration policy set</span></a> defines the names of all of the server pools that are configured in a cluster, and contains one or more configuration policies. 
                     </p>
                     <p>There is always only one configuration policy in effect at any one time. However, administrators typically create several configuration policies to reflect the different business needs and demands based on calendar dates or time of day parameters. For instance, morning hours during business days are typically when most users log in and download their email; email-related workloads are usually light at nighttime and on weekends. In such cases, you can use cluster configuration policies to define the server allocation based on the expected demand. More specifically for this example, a configuration policy that allocates more servers to OLTP workloads is in effect during workday mornings, and another configuration policy allocates more servers to batch workloads on weekends and workday evenings. </p>
                     <p>Using cluster configuration policies can also help manage clusters that comprise servers of different capabilities, such as different computer and memory sizes (heterogeneous). To create management and availability policies for clusters comprised of heterogeneous server types, the cluster administrator can create server categories based on server attributes. These attributes can restrict which servers can be assigned to which server pools. For example, if you have some servers in a cluster that run older hardware, then you can use an attribute to specify that these servers should only be allocated to the server pools that support batch jobs and testing, instead of allocating them to the server pools that are used for online sales or other business-critical applications.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../cwadd/policy-based-cluster-and-capacity-management.html#CWADD-GUID-7FBE1007-3BA0-4DE5-A993-358E3423721B" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-0E5D04E9-CE2E-4937-B4B3-27CE608E8F01" name="GUID-0E5D04E9-CE2E-4937-B4B3-27CE608E8F01"></a><h3 id="RACAD-GUID-0E5D04E9-CE2E-4937-B4B3-27CE608E8F01" class="sect3">Overview of Oracle Database Quality of Service Management</h3>
               <div>
                  <p>Oracle Database Quality of Service Management (Oracle Database QoS Management) is an automated, policy-based product that monitors the workload requests for an entire system.</p>
                  <p>Oracle Database QoS Management manages the resources that are shared across applications, and adjusts the system configuration to keep the applications running at the performance levels needed by your business. Oracle Database QoS Management responds gracefully to changes in system configuration and demand, thus avoiding additional oscillations in the performance levels of your applications.</p>
                  <p>Oracle Database QoS Management monitors and manages Oracle RAC database workload performance objectives by identifying bottlenecked resources impacting these objectives, and both recommending and taking actions to restore performance. Administrator-managed deployments bind database instances to nodes but policy-managed deployments do not, so the Oracle Database QoS Management server pool size resource control is only available for the latter. All other resource management controls are available for both deployments.</p>
                  <p>Oracle Database QoS Management supports administrator-managed Oracle RAC and Oracle RAC One Node databases with its Measure-Only, Monitor, and Management modes. This enables schema consolidation support within an administrator-managed Oracle RAC database by adjusting the CPU shares of performance classes running in the database. Additionally, database consolidation is supported by adjusting CPU counts for databases hosted on the same physical servers.</p>
                  <p>Because administrator-managed databases do not run in server pools, the ability to expand or shrink the number of instances by changing the server pool size that is supported in policy-managed database deployments is not available for administrator-managed databases. This new deployment support is integrated into the Oracle QoS Management pages in Oracle Enterprise Manager Cloud Control.</p>
               </div>
            </div>
            <div class="sect2"><a id="GUID-249A970C-4650-485E-9E11-EFC70FDF3079" name="GUID-249A970C-4650-485E-9E11-EFC70FDF3079"></a><h3 id="RACAD-GUID-249A970C-4650-485E-9E11-EFC70FDF3079" class="sect3">Overview of Hang Manager</h3>
               <div>
                  <p>Hang Manager is an Oracle Database feature that automatically detects and resolves system hangs.</p>
                  <div class="p">Hang Manager was first available in Oracle Database 11<span class="italic">g</span> release 1 (11.1) and, initially, identified system hangs and then dumped the relevant information about the hang into a trace file. In Oracle Database 12<span class="italic">c</span> release 2 (12.2), Hang Manager can take action on and attempt to resolve the system hang. Hang Manager also runs in both single-instance and Oracle RAC database instances.
                     <div class="infoboxnote" id="GUID-249A970C-4650-485E-9E11-EFC70FDF3079__GUID-BDC2B009-1AC1-4B7F-987A-8E4F8A064916">
                        <p class="notep1">Note:</p>Hang manager does not resolve dead locks, although dead lock detection has been available in Oracle Database for several of the past releases.
                     </div>
                  </div>
                  <p>Hang Manager functions, as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>First detects a system hang and then analyzes the hang and verifies the cause of the hang. It then applies heuristics to decide on a course of action to resolve the hang.</p>
                     </li>
                     <li>
                        <p>Automates the tasks that used to require manual steps by a DBA to provide the trace files to My Oracle Support so that someone there could identify the source of the hang, minimizing or eliminating database and application downtime.</p>
                     </li>
                     <li>
                        <p>Periodically scans all processes and analyzes a smaller subset of processes that are holding resources in successive scans. Hang manager ignores processes if there is nothing waiting on the resource.</p>
                     </li>
                     <li>
                        <p>Considers cross-instance hangs, which are hangs where the holder is a database process waiting on a response from an Oracle ASM instance.</p>
                     </li>
                     <li>
                        <p>Is aware of processes running in reader nodes instances, and checks whether any of these processes are blocking progress on Hub Nodes and takes action, if possible.</p>
                     </li>
                     <li>
                        <p>Considers the Oracle Database Quality of Service Management settings of the holder.</p>
                     </li>
                     <li>
                        <p>Terminates the holder process so the next process waiting on that resource can move on and prevent a hang.</p>
                     </li>
                     <li>
                        <p>Notifies a DBA with an ORA-32701 error message in the alert log.</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-249A970C-4650-485E-9E11-EFC70FDF3079__GUID-71C522C1-2E7F-4CDA-B9A6-268BCE93528D">
                     <p class="notep1">See Also:</p><a href="../atnms/hang-manager.html#ATNMS-GUID-6E2043A6-E460-4442-A6F7-088206563D5E" target="_blank"><span><cite>Oracle Autonomous Health Framework User's Guide</cite></span></a></div>
               </div>
            </div><a id="RACAD8961"></a><div class="sect2"><a id="GUID-2FB4477F-8D93-4210-8E17-0FDCAFE9DE33" name="GUID-2FB4477F-8D93-4210-8E17-0FDCAFE9DE33"></a><h3 id="RACAD-GUID-2FB4477F-8D93-4210-8E17-0FDCAFE9DE33" class="sect3">Overview of Oracle Multitenant with Oracle RAC</h3>
               <div>
                  <p>Oracle Multitenant is an option with Oracle Database 12<span class="italic">c</span> that simplifies consolidation, provisioning, upgrades, and more.
                  </p>
                  <p>It is based on an architecture that allows a multitenant container database (CDB) to hold several pluggable databases (PDBs). You can adopt an existing database as a PDB without having to change the application tier. In this architecture, Oracle RAC provides the local high availability that is required when consolidating various business-critical applications on one system.</p>
                  <p>When using PDBs with Oracle RAC, the multitenant CDB is based on Oracle RAC. You can make each PDB available on either every instance of the Oracle RAC CDB or a subset of instances. In either case, access to and management of the PDBs are regulated using dynamic database services, which will also be used by applications to connect to the respective PDB, as they would in a single instance Oracle database using Oracle Net Services for connectivity.</p>
                  <p>You can isolate PDBs to prevent certain operations from being performed on or within a particular PDB that may interfere with other PDBs sharing the same Oracle RAC database or database instance. PDB isolation allows for a higher degree of consolidation using Oracle Multitenant.</p>
                  <p>If you create an Oracle RAC database as a CDB and plug one or more PDBs into the CDB, then, by default, a PDB is not started automatically on any instance of the Oracle RAC CDB. With the first dynamic database service assigned to the PDB (other than the default database service which has the same name as the database name), the PDB is made available on those instances on which the service runs.</p>
                  <p>Whether a PDB is available on more than one instance of an Oracle RAC CDB, the CDB is typically managed by the services running on the PDB. You can manually enable PDB access on each instance of an Oracle RAC CDB by starting the PDB manually on that instance.</p>
               </div>
            </div><a id="RACAD8951"></a><div class="sect2"><a id="GUID-63748559-8BC8-473C-BE6E-453DD38ED9A3" name="GUID-63748559-8BC8-473C-BE6E-453DD38ED9A3"></a><h3 id="RACAD-GUID-63748559-8BC8-473C-BE6E-453DD38ED9A3" class="sect3">Overview of Database In-Memory and Oracle RAC</h3>
               <div>
                  <p>Every Oracle RAC node has its own In-Memory (IM) column store. By default, populated objects are distributed across all IM column stores in the cluster.</p>
                  <p>Oracle recommends that you size the IM column stores equally on every Oracle RAC node. If an Oracle RAC node does not require an IM column store, then set the <code class="codeph">INMEMORY_SIZE</code> parameter to <code class="codeph">0</code>.
                  </p>
                  <p>It is possible to have completely different objects populated on every node, or to have larger objects distributed across all of the IM column stores in the cluster. On Oracle Engineered Systems, it is also possible for the same objects to appear in the IM column store on every node. The distribution of objects across the IM column stores in a cluster is controlled by two subclauses to the <code class="codeph">INMEMORY</code> attribute: <code class="codeph">DISTRIBUTE</code> and <code class="codeph">DUPLICATE</code>.
                  </p>
                  <p>In an Oracle RAC environment, an object that only has the <code class="codeph">INMEMORY</code> attribute specified is automatically distributed across the IM column stores in the cluster. You can use the <code class="codeph">DISTRIBUTE</code> clause to specify how an object is distributed across the cluster. By default, the type of partitioning used (if any) determines how the object is distributed. If the object is not partitioned, then it is distributed by rowid range. Alternatively, you can specify the <code class="codeph">DISTRIBUTE</code> clause to override the default behavior. 
                  </p>
                  <p>On an Oracle Engineered System, you can duplicate or mirror populated objects across the IM column stores in the cluster. This technique provides the highest level of redundancy. The <code class="codeph">DUPLICATE</code> clause controls how an object is duplicated. If you specify only <code class="codeph">DUPLICATE</code>, then one mirrored copy of the data is distributed across the IM column stores in the cluster. To duplicate the entire object in each IM column store, specify <code class="codeph">DUPLICATE ALL</code>.
                  </p>
                  <div class="infoboxnote" id="GUID-63748559-8BC8-473C-BE6E-453DD38ED9A3__GUID-066A39FB-3D36-4E0C-86EA-91CBF912EB51">
                     <p class="notep1">Note:</p>
                     <p>When you deploy Oracle RAC on a non-Engineered System, the <code class="codeph">DUPLICATE</code> clause is treated as <code class="codeph">NO DUPLICATE</code>.
                     </p>
                  </div>
               </div>
            </div><a id="RACAD7279"></a><div class="sect2"><a id="GUID-74F4FF89-688A-4DE4-9592-1D96E851013C" name="GUID-74F4FF89-688A-4DE4-9592-1D96E851013C"></a><h3 id="RACAD-GUID-74F4FF89-688A-4DE4-9592-1D96E851013C" class="sect3">Overview of Managing Oracle RAC Environments</h3>
               <div>
                  <p>This section describes the following Oracle RAC environment management topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="introduction-to-oracle-rac.html#GUID-3A105B5C-75B4-4031-AC3A-7D8896CF0A72" title="Any enterprise that is designing and implementing a high availability strategy with Oracle RAC must begin by performing a thorough analysis of the business drivers that require high availability.">About Designing and Deploying Oracle RAC Environments</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-oracle-rac.html#GUID-B97D335E-105F-4721-9647-D1A3D485399A" title="You administer a cluster database as a single-system image using the Server Control Utility (SRVCTL), Oracle Enterprise Manager, SQL*Plus, and other utilities.">About Administrative Tools for Oracle RAC Environments</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-oracle-rac.html#GUID-7EFE5C90-2C34-44ED-AB03-3C0A753FDD14" title="Web-based Oracle Enterprise Manager Cloud Control enables you to monitor an Oracle RAC database.">About Monitoring Oracle RAC Environments</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-to-oracle-rac.html#GUID-BE8B9433-C6D9-442A-B83C-B39C0B3CF4D6">About Evaluating Performance in Oracle RAC Environments</a></p>
                     </li>
                  </ul>
               </div><a id="RACAD7280"></a><div class="sect3"><a id="GUID-3A105B5C-75B4-4031-AC3A-7D8896CF0A72" name="GUID-3A105B5C-75B4-4031-AC3A-7D8896CF0A72"></a><h4 id="RACAD-GUID-3A105B5C-75B4-4031-AC3A-7D8896CF0A72" class="sect4">About Designing and Deploying Oracle RAC Environments</h4>
                  <div>
                     <p>Any enterprise that is designing and implementing a high availability strategy with Oracle RAC must begin by performing a thorough analysis of the business drivers that require high availability.</p>
                     <p>An analysis of business requirements for high availability combined with an understanding of the level of investment required to implement different high availability solutions enables the development of a high availability architecture that achieves both business and technical objectives.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="design-and-deployment-techniques.html#GUID-DD273C7C-7F74-4A95-B8E5-E007D36119D2" title="For mission critical systems, you must be able to perform failover and recovery, and your environment must be resilient to all types of failures.A database cloud is a set of databases integrated by the Global Data Services framework into a single virtual server that offers one or more global services, while ensuring high performance, availability and optimal utilization of resources.You can configure and use SSL certificates to set up authentication between the ONS server in the database tier and the notification client in the middle tier.">Design and Deployment Techniques</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-3A105B5C-75B4-4031-AC3A-7D8896CF0A72__GUID-66E64B61-4AD6-4978-9523-25451289E32B">
                        <p class="notep1">See Also:</p>
                        <p>For help choosing and implementing the architecture that best fits your availability requirements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"Design and Deployment Techniques"</span> provides a high-level overview you can use to evaluate the high availability requirements of your business. 
                              </p>
                           </li>
                           <li>
                              <p><span><cite>Oracle Database High Availability Overview</cite></span> describes how to select the most suitable architecture for your organization, describes several high availability architectures, and provides guidelines for choosing the one that best meets your requirements, and also provides information about the Oracle Maximum Availability Architecture
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD7281"></a><div class="sect3"><a id="GUID-B97D335E-105F-4721-9647-D1A3D485399A" name="GUID-B97D335E-105F-4721-9647-D1A3D485399A"></a><h4 id="RACAD-GUID-B97D335E-105F-4721-9647-D1A3D485399A" class="sect4">About Administrative Tools for Oracle RAC Environments</h4>
                  <div>
                     <p>You administer a cluster database as a single-system image using the Server Control Utility (SRVCTL), Oracle Enterprise Manager, SQL*Plus, and other utilities.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Server Control Utility (SRVCTL)</span>: SRVCTL is a command-line interface that you can use to manage an Oracle RAC database from a single point. You can use SRVCTL to start and stop the database and instances and to delete or move instances and services. You can also use SRVCTL to manage configuration information, Oracle Real Application Clusters One Node (Oracle RAC One Node), Oracle Clusterware, and Oracle ASM.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Fleet Patching and Provisioning</span>: Use Fleet Patching and Provisioning to patch, upgrade, and provision Oracle RAC databases.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Oracle Enterprise Manager</span>: Oracle Enterprise Manager Cloud Control GUI interface for managing both noncluster database and Oracle RAC database environments. Oracle recommends that you use Oracle Enterprise Manager to perform administrative tasks whenever feasible.
                           </p>
                           <p>You can use Oracle Enterprise Manager Cloud Control to also manage Oracle RAC One Node databases.</p>
                        </li>
                        <li>
                           <p><span class="bold">SQL*Plus</span>: SQL*Plus commands operate on the current instance. The current instance can be either the local default instance on which you initiated your SQL*Plus session, or it can be a remote instance to which you connect with Oracle Net Services.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Cluster Verification Utility (CVU)</span>: CVU is a command-line tool that you can use to verify a range of cluster and Oracle RAC components, such as shared storage devices, networking configurations, system requirements, and Oracle Clusterware, in addition to operating system groups and users. You can use CVU for preinstallation checks and for postinstallation checks of your cluster environment. CVU is especially useful during preinstallation and during installation of Oracle Clusterware and Oracle RAC components. Oracle Universal Installer runs CVU after installing Oracle Clusterware and Oracle Database to verify your environment.
                           </p>
                           <p>Install and use CVU before you install Oracle RAC to ensure that your configuration meets the minimum Oracle RAC installation requirements. Also, use CVU for verifying the completion of ongoing administrative tasks, such as node addition and node deletion.</p>
                        </li>
                        <li>
                           <p><span class="bold">DBCA</span>: The recommended utility for creating and initially configuring Oracle RAC, Oracle RAC One Node, and Oracle noncluster databases.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">NETCA</span>: Configures the network for your Oracle RAC environment.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../cwadd/rapid-home-provisioning.html#CWADD-GUID-CCEC5960-EDA4-4A3F-9643-0CA308EA49AA" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                           <li><a href="administering-database-instances-and-cluster-databases.html#GUID-C9DB4DCB-34B9-42F0-8AB4-33199087CE98" title="Oracle RAC database administration requires certain privileges and involves either a policy-managed or administrator-managed deployment model.The Server Control Utility (SRVCTL) is a command-line interface that you can use to manage Oracle Databases in a centralized manner.Oracle Enterprise Manager provides a central point of control for the Oracle RAC environment, allowing you to perform administrative tasks simultaneously on multiple cluster databases.Unlike SRVCTL or Oracle Enterprise Manager, SQL*Plus is an instance-oriented management tool.You can start and stop instances with Oracle Enterprise Manager, SQL*Plus, or SRVCTL.Use SRVCTL start Oracle RAC databases and instances.Use SRVCTL to stop instances and Oracle RAC databases.If you want to start or stop just one instance and you are connected to your local node, then you must first ensure that your current environment includes the SID for the local instance.Administering a pluggable database (PDB) involves a small subset of the tasks required to administer a non-CDB.You can use SQL*Plus to verify that database instances are running.You can use the ALTER SYSTEM KILL SESSION statement to terminate a session on a specific instance.Oracle Database searches for your parameter file in a particular order depending on your platform. For Oracle RAC databases, you can easily determine the location of the parameter file by using the srvctl config database command.Oracle recommends that you regularly back up the server parameter file for recovery purposes.By default, most parameters are set to a default value and this value is the same across all instances.Oracle recommends that the parameters listed here have identical settings on all instances.You can convert an administrator-managed database to a policy-managed database.The procedure for quiescing Oracle RAC databases is identical to quiescing a noncluster database.In Oracle RAC environments that run on Linux and UNIX platforms, you can use the CLUSTER_INTERCONNECTS initialization parameter to specify an alternative interconnect to the one Oracle Clusterware is using for the private network.Use these examples to minimize Oracle Clusterware control over Oracle RAC databases, which you may need to do during upgrades.You can install, configure, and monitor an Oracle RAC database from a single location using Oracle Enterprise Manager Cloud Control.You can use Oracle Enterprise Manager to configure Oracle RAC environment alerts.">Administering Database Instances and Cluster Databases</a></li>
                           <li><a href="monitoring-performance.html#GUID-CB16404E-DC1C-4EA0-8A2D-7FA0907E63CD" title="The Oracle Enterprise Manager Cluster Database Performance page provides a quick glimpse of the performance statistics for a database.">Monitoring Oracle RAC and Oracle Clusterware</a></li>
                           <li><a href="server-control-utility-reference.html#GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" title="SRVCTL is installed on each node in a cluster by default. To use SRVCTL, log in to the operating system of a node and enter the SRVCTL command and its parameters in case-sensitive syntax.Use SRVCTL to manage databases, instances, cluster databases, cluster database instances, Oracle ASM instances and disk groups, services, listeners, or other clusterware resources. This section includes information about using context sensitive help with SRVCTL.A number of SRVCTL commands and parameters have been deprecated in this release.Single-character parameters have been deprecated in Oracle Database 12c.A comprehensive list of SRVCTL commands to use in Oracle RAC environments.Adds a database configuration to Oracle Clusterware.Displays the configuration for an Oracle RAC database or lists all configured databases that are registered with Oracle Clusterware.Converts a database either to or from an Oracle RAC One Node database.Disables a running database.Downgrades the configuration of a database and its services from its current version to a specific lower version.Enables a cluster database and its instances.Displays the values for environment variables associated with a database.Modifies the configuration for a database.Predicts the consequences of the failure of a specific database.Initiates the relocation of an Oracle RAC One Node database from one node to another node.Removes database configurations.Administers cluster database environment configurations.Starts a cluster database and its enabled instances, and all listeners on nodes with database instances.This command displays the current state of the of the database.Stops a database, its instances, and its services.Unsets the cluster database environment configurations.Updates the specified database to use the new listener endpoints.Upgrades the configuration of a database and all of its services to the version of the database home from where this command is run.Disables a specific disk group on a number of specified nodes.Enables a specific disk group on a number of specified nodes.Predicts the consequences of an Oracle ASM disk group failure.Removes a specific Oracle ASM disk group resource from Oracle Clusterware or Oracle Restart.Starts a specific Oracle ASM disk group resource on a number of specified nodes.Displays the status of a specific disk group on a number of specified nodes.Stops a specific Oracle ASM disk group resource on a number of specified nodes.Starts all the Oracle Restart-managed or Oracle Clusterware-managed resources on the specified Oracle home.Displays the status of all the Oracle Restart-managed or Oracle Clusterware-managed resources for the specified Oracle home.Stops all the Oracle Restart-managed or Oracle Clusterware-managed resources that run from the specified Oracle home.Adds a configuration for an instance to your cluster database configuration. Disables a database instance.Enables an instance of an Oracle RAC database.For an administrator-managed database, this command modifies the configuration for a database instance from its current node to another node. For a policy-managed database, this command defines an instance name to use when the database runs on the specified node.Removes the configurations for an instance of an administrator-managed database.Starts instances in the cluster database.The srvctl stop instance command stops instances and stops any services running on specified instances.The srvctl update instance command changes to which Oracle ASM instance or Oracle ASM IOServer the instance connects, or it changes the open mode of the instance.Adds a listener to every node in a cluster.Displays configuration information of a specific listener that is registered with Oracle Clusterware.Disables a listener resource.Enables a listener resource.Displays the environment variables for the specified listener.Changes several aspects of the listenerPredicts the consequences of a listener failure.Removes the configuration of a specific listener, or all listeners, from Oracle Clusterware or Oracle Restart.Administers listener environment configurations.Starts the default listener on specific node, or starts the specified listener on all nodes that are registered with Oracle Clusterware or on the given node.Displays the status of listener resources.Stops the default listener or a specific listener on all nodes or the specified node.Unsets the environment configuration for a listener.Updates the listener to listen on the new endpoints.Adds a static or dynamic network.Displays the network configuration for the cluster.Modifies the subnet, network type, or IP address type for a network.Predicts the consequences of network failure.Removes the network configuration.Adds a node application configuration to the specified node.Displays the VIP configuration for each node in the cluster.Disables node applications on all nodes in the cluster.Enables the node applications on all nodes in the cluster.Displays the environment variables for the node application configurations.Modifies the configuration for a node application.Removes the node application configuration.Sets the environment variables for the node application configurations.Starts node-level applications on a node or all nodes in the cluster.Displays the status of node applications.Stops node-level applications on a node in the cluster.Unsets the environment configuration for the node applications.Adds an Oracle Notification Service daemon to an Oracle Restart configuration.Displays configuration information for the Oracle Notification Service daemon.Disables the Oracle Notification Service daemon for Oracle Restart installations.Enables the Oracle Notification Service daemon.Modifies the ports used by the Oracle Notification Service daemon that is registered with Oracle Restart.Removes Oracle Notification Service from the Oracle Grid Infrastructure home.Starts the Oracle Notification Service daemon.Displays the current state of the Oracle Notification Service daemon.Stops the Oracle Notification Service daemon.Adds Oracle Clusterware resources for the given SCAN. Displays the configuration information for all SCAN VIPs, by default, or a specific SCAN VIP identified by ordinal_number.Disables all SCAN VIPs, by default, or a specific SCAN VIP identified by ordinal_number.Enables all SCAN VIPs, by default, or a specific SCAN VIP identified by its ordinal number.Modifies the number of SCAN VIPs to match the number of IP addresses returned by looking up the scan_name you specify in DNS.Predicts the consequences of SCAN failure.Relocates a specific SCAN VIP from its current hosting node to another node within the cluster.Removes Oracle Clusterware resources from all SCAN VIPs.Starts all SCAN VIPs, by default, or a specific SCAN VIP, on all nodes or a specific node in the cluster.Displays the status for all SCAN VIPs, by default, or a specific SCAN VIP.Stops all SCAN VIPs, by default, that are running or in starting state, or stops a specific SCAN VIP identified by an ordinal number.Adds Oracle Clusterware resources for the SCAN listeners.Displays the configuration information for all SCAN listeners, by default, or a specific listener identified by network number or ordinal_number.Disables all SCAN listeners, by default, or a specific listener identified by an ordinal number.Enables all SCAN listeners, by default, or a specific listener identified by its ordinal number.Modifies the SCAN listener to match that of the SCAN VIP, or modifies the SCAN listener endpoints or service registration restrictions.Predicts the consequences of SCAN listener failure.Relocates a specific SCAN listener from its current hosting node to another node within the cluster.Removes Oracle Clusterware resources from all SCAN listeners.Starts all SCAN listeners, by default, or a specific listener on all nodes or a specific node in the cluster.Displays the status for all SCAN listeners, by default, or a specific listener.Stops all SCAN listeners, by default, that are in a running or starting state, or a specific listener identified by an ordinal number.Updates the SCAN listeners to listen on the new endpoints.Relocates servers to a server pool in the cluster.Displays the current state of specific servers.Adds services to a database and assigns them to instances.Displays the configuration for a service.Disables a service.Enables a service for Oracle Clusterware.Modifies service configuration.Predicts the consequences of service failure.Temporarily relocates the specified service names from one specified instance to another specified instance.Removes the configuration for a service.Starts a service or multiple services on a database, pluggable database, or instance.Displays the status of a service.Stops one or more services globally across the cluster database, or on the specified instance.Adds a server pool that is configured to host Oracle databases to a cluster.Displays configuration information including name, minimum size, maximum size, importance, and a list of server names, if applicable, for a specific server pool in a cluster.Modifies a server pool in a cluster.Removes a specific server pool.Displays server pool names, number of servers in server pools, and, optionally, the names of the servers in the server pools.Adds a virtual IP address (VIP) to a node.Displays all VIPs on all networks in the cluster except for user VIPs.Disables a specific VIP.Enables a specific VIP.Obtains the values of environment variables for a specific VIP.Modifies IP address type but you can also use it to modify just the IP address.Predicts the consequences of VIP failure.Relocates a specific VIP from its current hosting node to another node within the cluster.Removes specific VIPs.Administers cluster VIP environment configurations.Starts a specific VIP or a VIP on a specific node.Displays status for a specific VIP or a VIP on a specific node.Stops a specific VIP or all VIPs on a specific node, including any VIPs that were relocated due to a failover.Unsets the environment configuration for the specified cluster VIP.Displays the configuration for a specific volume or all volumes.Disables Oracle Clusterware management for a specific volume or all volumes.Enables Oracle Clusterware management for a specific volume or all volumes.Removes a specific volume.Starts a specific, enabled volume.Displays the status of a specific volume or all volumes.Stops a specific, running volume.">Server Control Utility Reference</a></li>
                           <li><a href="../cwadd/cluster-verification-utility-reference.html#CWADD-GUID-B88DC0CC-851A-4821-AB02-539D994ED524" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                           <li><a href="../netag/managing-oracle-net-services.html#NETAG-GUID-D8861C13-A525-4A57-97FD-BD8F2DC5A662" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-B97D335E-105F-4721-9647-D1A3D485399A__GUID-B8DCBE41-C04A-4546-8320-91963C52192D">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"Administering Database Instances and Cluster Databases"</span> for an introduction to Oracle RAC administration using SRVCTL, Oracle Enterprise Manager, and SQL*Plus
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"Monitoring Oracle RAC and Oracle Clusterware"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"Server Control Utility Reference"</span> for SRVCTL reference information 
                              </p>
                           </li>
                           <li>
                              <p><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span> for information about the Cluster Verification Utility (CVU), in addition to other Oracle Clusterware tools, such as the OIFCFG tool for allocating and deallocating network interfaces and the <code class="codeph">OCRCONFIG</code> command-line tool for managing OCR
                              </p>
                           </li>
                           <li>
                              <p><span><cite>Oracle Database Net Services Administrator's Guide</cite></span> for more information about NETCA
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD7282"></a><div class="sect3"><a id="GUID-7EFE5C90-2C34-44ED-AB03-3C0A753FDD14" name="GUID-7EFE5C90-2C34-44ED-AB03-3C0A753FDD14"></a><h4 id="RACAD-GUID-7EFE5C90-2C34-44ED-AB03-3C0A753FDD14" class="sect4">About Monitoring Oracle RAC Environments</h4>
                  <div>
                     <p>Web-based Oracle Enterprise Manager Cloud Control enables you to monitor an Oracle RAC database.</p>
                     <p>Oracle Enterprise Manager Cloud Control is a central point of control for the Oracle environment that you access by way of a graphical user interface (GUI). See <span class="q">"Monitoring Oracle RAC and Oracle Clusterware"</span> for more information about using Oracle Enterprise Manager to monitor Oracle RAC environments.
                     </p>
                     <p>Also, note the following recommendations about monitoring Oracle RAC environments:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Use Oracle Enterprise Manager Cloud Control to initiate cluster database management tasks.</p>
                        </li>
                        <li>
                           <p>Use Oracle Enterprise Manager Cloud Control to administer multiple or individual Oracle RAC databases.</p>
                        </li>
                        <li>
                           <p>Use the global views (<code class="codeph">GV$</code> views), which are based on <code class="codeph">V$</code> views. The <code class="codeph">catclustdb.sql</code> script creates the <code class="codeph">GV$</code> views. Run this script if you do not create your database with DBCA. Otherwise, DBCA runs this script for you.
                           </p>
                           <p>For almost every <code class="codeph">V$</code> view, there is a corresponding global <code class="codeph">GV$</code> view. In addition to the <code class="codeph">V$</code> information, each <code class="codeph">GV$</code> view contains an extra column named <code class="codeph">INST_ID</code>, which displays the instance number from which the associated <code class="codeph">V$</code> view information was obtained.
                           </p>
                        </li>
                        <li>
                           <p>Use the sophisticated management and monitoring features of the Oracle Database Diagnostic and Tuning packs within Oracle Enterprise Manager that include the Automatic Database Diagnostic Monitor (ADDM) and Automatic Workload Repository (AWR).</p>
                           <div class="infoboxnote" id="GUID-7EFE5C90-2C34-44ED-AB03-3C0A753FDD14__GUID-AFCCD611-FD5A-4F9F-9F1A-44DDB698358C">
                              <p class="notep1">Note:</p>
                              <p>Although Statspack is available for backward compatibility, Statspack provides reporting only. You must run Statspack at level 7 to collect statistics related to block contention and segment block waits.</p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="monitoring-performance.html#GUID-CB16404E-DC1C-4EA0-8A2D-7FA0907E63CD" title="The Oracle Enterprise Manager Cluster Database Performance page provides a quick glimpse of the performance statistics for a database.">Monitoring Oracle RAC and Oracle Clusterware</a></li>
                           <li><a href="../tgdba/automatic-performance-diagnostics.html#TGDBA-GUID-843A596D-2D8B-422D-9C8D-73C0EF52739D" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-7EFE5C90-2C34-44ED-AB03-3C0A753FDD14__GUID-401BA8B5-7AD1-49D5-9F67-6A73EDBFF1D5">
                        <p class="notep1">See Also:</p>
                        <p><span><cite>Oracle Database Performance Tuning Guide</cite></span> for descriptions of the Oracle Database automatic features for performance diagnosing and tuning, including ADDM
                        </p>
                     </div>
                  </div>
               </div><a id="RACAD7283"></a><div class="sect3"><a id="GUID-BE8B9433-C6D9-442A-B83C-B39C0B3CF4D6" name="GUID-BE8B9433-C6D9-442A-B83C-B39C0B3CF4D6"></a><h4 id="RACAD-GUID-BE8B9433-C6D9-442A-B83C-B39C0B3CF4D6" class="sect4">About Evaluating Performance in Oracle RAC Environments</h4>
                  <div>
                     <p>You do not need to perform special tuning for Oracle RAC; Oracle RAC scales without special configuration changes. If your application performs well on a noncluster Oracle database, then it will perform well in an Oracle RAC environment. Many of the tuning tasks that you would perform on a noncluster Oracle database can also improve Oracle RAC database performance<a id="d6446e7978" class="indexterm-anchor"></a>. This is especially true if your environment requires scalability across a greater number of CPUs.
                     </p>
                     <p>Some of the performance features specific to Oracle RAC include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d6446e7988" class="indexterm-anchor"></a>Dynamic resource allocation
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Oracle Database dynamically allocates Cache Fusion resources as needed</p>
                              </li>
                              <li>
                                 <p>The dynamic mastering of resources improves performance by keeping resources local to data blocks </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Cache Fusion<a id="d6446e8003" class="indexterm-anchor"></a> enables a simplified tuning methodology
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You do not have to tune any parameters for Cache Fusion</p>
                              </li>
                              <li>
                                 <p>No application-level tuning is necessary</p>
                              </li>
                              <li>
                                 <p>You can use a bottom-up tuning approach with virtually no effect on your existing applications</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>More detailed performance statistics</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>More views for Oracle RAC performance monitoring</p>
                              </li>
                              <li>
                                 <p>Oracle RAC-specific performance views in Oracle Enterprise Manager</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>