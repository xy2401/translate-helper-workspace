<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>REGEXP_INSTR</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="REGEXP_COUNT.html" title="Previous" type="text/html">
      <link rel="next" href="REGEXP_REPLACE.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="REGEXP_COUNT.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="REGEXP_REPLACE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">REGEXP_INSTR </li>
            </ol>
            <a id="GUID-D21B53A1-83E2-4722-9BBB-638470715DD6" name="GUID-D21B53A1-83E2-4722-9BBB-638470715DD6"></a><a id="SQLRF51686"></a><a id="SQLRF51687"></a><a id="SQLRF51688"></a><a id="SQLRF06300"></a>
            
            <h2 id="SQLRF-GUID-D21B53A1-83E2-4722-9BBB-638470715DD6" class="sect2">REGEXP_INSTR </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-D21B53A1-83E2-4722-9BBB-638470715DD6__GUID-A8BFC470-98F5-4531-98B6-E31830C76419">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-D21B53A1-83E2-4722-9BBB-638470715DD6__GUID-7DA8422F-5A71-42B5-AA7C-D017E04F203D"><img src="img/regexp_instr.gif" alt="Description of regexp_instr.eps follows" title="Description of regexp_instr.eps follows" longdesc="img_text/regexp_instr.html"><br><a href="img_text/regexp_instr.html">Description of the illustration regexp_instr.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D21B53A1-83E2-4722-9BBB-638470715DD6__GUID-AA7B8A41-1050-4E81-B0FB-28598EA4B800">Purpose</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">REGEXP_INSTR</code> extends the functionality of the <code class="codeph">INSTR</code> function by letting you search a string for a regular expression pattern. The function evaluates strings using characters as defined by the input character set. It returns an integer indicating the beginning or ending position of the matched substring, depending on the value of the <span class="italic"><code class="codeph">return_option</code></span> argument. If no match is found, then the function returns 0.
                  </p>
                  <p>This function complies with the POSIX regular expression standard and the Unicode Regular Expression Guidelines. For more information, refer to <a href="Oracle-Regular-Expression-Support.html#GUID-969230D6-FC1A-4C75-BF2A-6B1BE909DED6">Oracle Regular Expression Support</a>.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="italic"><code class="codeph">source_char</code></span> is a character expression that serves as the search value. It is commonly a character column and can be of any of the data types <code class="codeph">CHAR</code>, <code class="codeph">VARCHAR2</code>, <code class="codeph">NCHAR</code>, <code class="codeph">NVARCHAR2</code>, <code class="codeph">CLOB</code>, or <code class="codeph">NCLOB</code>.
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">pattern</code></span> is the regular expression. It is usually a text literal and can be of any of the data types <code class="codeph">CHAR</code>, <code class="codeph">VARCHAR2</code>, <code class="codeph">NCHAR</code>, or <code class="codeph">NVARCHAR2</code>. It can contain up to 512 bytes. If the data type of <span class="italic"><code class="codeph">pattern</code></span> is different from the data type of <span class="italic"><code class="codeph">source_char</code></span>, then Oracle Database converts <span class="italic"><code class="codeph">pattern</code></span> to the data type of <span class="italic"><code class="codeph">source_char</code></span>. For a listing of the operators you can specify in <span class="italic"><code class="codeph">pattern</code></span>, refer to <a href="Oracle-Regular-Expression-Support.html#GUID-969230D6-FC1A-4C75-BF2A-6B1BE909DED6">Oracle Regular Expression Support</a>.
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">position</code></span> is a positive integer indicating the character of <span class="italic"><code class="codeph">source_char</code></span> where Oracle should begin the search. The default is 1, meaning that Oracle begins the search at the first character of <span class="italic"><code class="codeph">source_char</code></span>.
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">occurrence</code></span> is a positive integer indicating which occurrence of <span class="italic"><code class="codeph">pattern</code></span> in <span class="italic"><code class="codeph">source_char</code></span> Oracle should search for. The default is 1, meaning that Oracle searches for the first occurrence of <span class="italic"><code class="codeph">pattern</code></span>. If <span class="italic"><code class="codeph">occurrence</code></span> is greater than 1, then the database searches for the second occurrence beginning with the first character following the first occurrence of <span class="italic"><code class="codeph">pattern</code></span>, and so forth. This behavior is different from the <code class="codeph">INSTR</code> function, which begins its search for the second occurrence at the second character of the first occurrence.
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">return_option</code></span> lets you specify what Oracle should return in relation to the occurrence:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If you specify 0, then Oracle returns the position of the first character of the occurrence. This is the default.</p>
                           </li>
                           <li>
                              <p>If you specify 1, then Oracle returns the position of the character following the occurrence.</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">match_parameter</code></span> is a text literal that lets you change the default matching behavior of the function. The behavior of this parameter is the same for this function as for <code class="codeph">REGEXP_COUNT</code>. Refer to <a href="REGEXP_COUNT.html#GUID-5148AF2E-9CED-497D-A78D-3A7847A45276">REGEXP_COUNT</a> for detailed information.
                        </p>
                     </li>
                     <li>
                        <p><a id="d147705e291" class="indexterm-anchor"></a><a id="d147705e295" class="indexterm-anchor"></a>For a <span class="italic"><code class="codeph">pattern</code></span> with subexpressions, <span class="italic"><code class="codeph">subexpr</code></span> is an integer from 0 to 9 indicating which subexpression in <span class="italic"><code class="codeph">pattern</code></span> is the target of the function. The <span class="italic"><code class="codeph">subexpr</code></span> is a fragment of pattern enclosed in parentheses. Subexpressions can be nested. Subexpressions are numbered in order in which their left parentheses appear in pattern. For example, consider the following expression:
                        </p><pre class="oac_no_warn" dir="ltr">0123(((abc)(de)f)ghi)45(678)
</pre><p>This expression has five subexpressions in the following order: "abcdefghi" followed by "abcdef", "abc", "de" and "678".</p>
                        <p>If <span class="italic"><code class="codeph">subexpr</code></span> is zero, then the position of the entire substring that matches the <span class="italic"><code class="codeph">pattern</code></span> is returned. If <span class="italic"><code class="codeph">subexpr</code></span> is greater than zero, then the position of the substring fragment that corresponds to subexpression number <span class="italic"><code class="codeph">subexpr</code></span> in the matched substring is returned.  If <span class="italic"><code class="codeph">pattern</code></span> does not have at least <span class="italic"><code class="codeph">subexpr</code></span> subexpressions, the function returns zero. A null <span class="italic"><code class="codeph">subexpr</code></span> value returns <code class="codeph">NULL</code>. The default value for <span class="italic"><code class="codeph">subexpr</code></span> is zero.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D21B53A1-83E2-4722-9BBB-638470715DD6__GUID-47E7FE21-37AB-44AC-BC7A-C4F83AA7007B">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="INSTR.html#GUID-47E3A7C4-ED72-458D-A1FA-25A9AD3BE113">INSTR</a> and <a href="REGEXP_SUBSTR.html#GUID-2903904D-455F-4839-A8B2-1731EF4BD099">REGEXP_SUBSTR</a></p>
                        </li>
                        <li>
                           <p><a href="REGEXP_REPLACE.html#GUID-EA80A33C-441A-4692-A959-273B5A224490">REGEXP_REPLACE</a> and <a href="Pattern-matching-Conditions.html#GUID-D2124F3A-C6E4-4CCA-A40E-2FFCABFD8E19">REGEXP_LIKE Condition</a> 
                           </p>
                        </li>
                        <li>
                           <p>Appendix C in <a href="../nlspg/appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#NLSPG-GUID-AFCE41ED-775B-4A00-AF38-C436776AE0C5" target="_blank"><span class="italic">Oracle Database Globalization Support Guide</span></a> for the collation determination rules, which define the collation <code class="codeph">REGEXP_INSTR</code> uses to compare characters from <span class="italic"><code class="codeph">source_char</code></span> with characters from <span class="italic"><code class="codeph">pattern</code></span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D21B53A1-83E2-4722-9BBB-638470715DD6__GUID-54E6760D-2D61-4375-8723-887B031F8F69">Examples</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>The following example examines the string, looking for occurrences of one or more non-blank characters. Oracle begins searching at the first character in the string and returns the starting position (default) of the sixth occurrence of one or more non-blank characters.</p><pre class="oac_no_warn" dir="ltr">SELECT
  REGEXP_INSTR('500 Oracle Parkway, Redwood Shores, CA',
               '[^ ]+', 1, 6) "REGEXP_INSTR"
  FROM DUAL;

REGEXP_INSTR
------------
          37
</pre><p>The following example examines the string, looking for occurrences of words beginning with <code class="codeph">s</code>, <code class="codeph">r</code>, or <code class="codeph">p</code>, regardless of case, followed by any six alphabetic characters. Oracle begins searching at the third character in the string and returns the position in the string of the character following the second occurrence of a seven-letter word beginning with <code class="codeph">s</code>, <code class="codeph">r</code>, or <code class="codeph">p</code>, regardless of case.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT
  REGEXP_INSTR('500 Oracle Parkway, Redwood Shores, CA',
               '[s|r|p][[:alpha:]]{6}', 3, 2, 1, 'i') "REGEXP_INSTR"
  FROM DUAL;

REGEXP_INSTR
------------
          28
</pre><p>The following examples use the <span class="italic"><code class="codeph">subexpr</code></span> argument to search for a particular subexpression in <span class="italic"><code class="codeph">pattern</code></span>. The first statement returns the position in the source string of the first character in the first subexpression, which is '123':
                  </p><pre class="oac_no_warn" dir="ltr">SELECT REGEXP_INSTR('1234567890', '(123)(4(56)(78))', 1, 1, 0, 'i', 1) 
"REGEXP_INSTR" FROM DUAL;

REGEXP_INSTR
-------------------
1
</pre><p>The next statement returns the position in the source string of the first character in the second subexpression, which is '45678':</p><pre class="oac_no_warn" dir="ltr">SELECT REGEXP_INSTR('1234567890', '(123)(4(56)(78))', 1, 1, 0, 'i', 2) 
"REGEXP_INSTR" FROM DUAL;

REGEXP_INSTR
-------------------
4
</pre><p>The next statement returns the position in the source string of the first character in the fourth subexpression, which is '78':</p><pre class="oac_no_warn" dir="ltr">SELECT REGEXP_INSTR('1234567890', '(123)(4(56)(78))', 1, 1, 0, 'i', 4) 
"REGEXP_INSTR" FROM DUAL;

REGEXP_INSTR
-------------------
7</pre><p><span class="bold">REGEXP_INSTR pattern matching: Examples</span></p>
                  <p>The following statements create a table regexp_temp and insert values into it:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE regexp_temp(empName varchar2(20), emailID varchar2(20));

INSERT INTO regexp_temp (empName, emailID) VALUES ('John Doe', 'johndoe@example.com');
INSERT INTO regexp_temp (empName, emailID) VALUES ('Jane Doe', 'janedoe');</pre><p>In the following example, the statement queries the email column and searches for valid email addresses:</p><pre class="oac_no_warn" dir="ltr">SELECT emailID, REGEXP_INSTR(emailID, '\w+@\w+(\.\w+)+') "IS_A_VALID_EMAIL" FROM regexp_temp;

EMAILID 	     IS_A_VALID_EMAIL
-------------------- ----------------
johndoe@example.com		    1
example.com			    0</pre><p>In the following example, the statement queries the email column and returns the count of valid email addresses:</p><pre class="oac_no_warn" dir="ltr">EMPNAME		Valid Email			FIELD_WITH_VALID_EMAIL
--------	-------------------	----------------------
John Doe	johndoe@example.com	1
Jane Doe						</pre><div class="infoboxnote" id="GUID-D21B53A1-83E2-4722-9BBB-638470715DD6__GUID-8746B1B8-C8DE-4028-8A40-C1B0A5CE2D12">
                     <p class="notep1">Live SQL:</p>
                     <p>View and run related examples on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/sqlrf/regexp_instr/find-location.html" target="_blank"><span class="italic">REGEXP_INSTR pattern matching</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>