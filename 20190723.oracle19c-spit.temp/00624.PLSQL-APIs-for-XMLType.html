<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="There are several PL/SQL packages that provide APIs for XMLType.">
      <meta name="description" content="There are several PL/SQL packages that provide APIs for XMLType.">
      <title>PL/SQL APIs for XMLType</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="There are several PL/SQL packages that provide APIs for XMLType.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96222-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="XMLType-APIs.html" title="Previous" type="text/html">
      <link rel="next" href="PLSQL-package-DBMS_XMLSTORE.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer's Guide">
    <meta name="dcterms.isVersionOf" content="ADXDB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="XMLType-APIs.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="PLSQL-package-DBMS_XMLSTORE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XMLType-APIs.html" property="item" typeof="WebPage"><span property="name"> XMLType APIs</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> PL/SQL APIs for XMLType</li>
            </ol>
            <a id="GUID-2D5B2D47-9CFF-49D0-9BD8-114BBE48A289" name="GUID-2D5B2D47-9CFF-49D0-9BD8-114BBE48A289"></a><a id="ADXDB1100"></a>
            
            <h2 id="ADXDB-GUID-2D5B2D47-9CFF-49D0-9BD8-114BBE48A289" class="sect2"><span class="enumeration_chapter">11 </span> PL/SQL APIs for XMLType
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>There are several PL/SQL packages that provide APIs for <code class="codeph">XMLType</code>.
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-F0B8E95C-E73D-475E-B4E3-DB9D753DA274">Overview of PL/SQL APIs for XMLType</a><br>The PL/SQL Application Program Interfaces (APIs) for <code class="codeph">XMLType</code> include a DOM API, a parser API, and a processor API.
                  </li>
                  <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a><br>The PL/SQL DOM API for <code class="codeph">XMLType</code>, <code class="codeph">DBMS_XMLDOM</code> lets you operate on <code class="codeph">XMLType</code> instances using a DOM. 
                  </li>
                  <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-3EA684A3-2149-4550-924A-35CD5246ED90">PL/SQL Parser API for XMLType (DBMS_XMLPARSER)</a><br>The PL/SQL Parser API for <code class="codeph">XMLType</code> (<code class="codeph">DBMS_XMLPARSER</code>) builds a parsing result tree that can be accessed by PL/SQL APIs. If parsing fails, it raises an error.
                  </li>
                  <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-0E3358AF-0819-4B17-AF0B-793E96DA5EB9">PL/SQL XSLT Processor for XMLType (DBMS_XSLPROCESSOR)</a><br>You can use PL/SQL package <code class="codeph">DBMS_XSLPROCESSOR</code> to transform one XML document to another or to convert XML data into HTML, PDF, or other formats. This package traverses the DOM tree for the document and applies Extensible Stylesheet Language Transformation (XSLT) statements to it to produce the transformed document.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="XMLType-APIs.html#GUID-6209297F-DBE4-4F31-85F1-4083BF5BDE01" title="You can use Oracle XML&nbsp;DB XMLType PL/SQL, Java, C APIs, and Oracle Data Provider for .NET (ODP.NET) to access and manipulate XML data.">XMLType APIs</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB4870"></a><div class="props_rev_3"><a id="GUID-F0B8E95C-E73D-475E-B4E3-DB9D753DA274" name="GUID-F0B8E95C-E73D-475E-B4E3-DB9D753DA274"></a><h3 id="ADXDB-GUID-F0B8E95C-E73D-475E-B4E3-DB9D753DA274" class="sect3"><span class="enumeration_section">11.1 </span>Overview of PL/SQL APIs for XMLType
               </h3>
               <div>
                  <p>The PL/SQL Application Program Interfaces (APIs) for <code class="codeph">XMLType</code> include a DOM API, a parser API, and a processor API.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>PL/SQL Document Object Model (DOM) API for <code class="codeph">XMLType</code> (package <code class="codeph">DBMS_XMLDOM</code>): For accessing <code class="codeph">XMLType</code> objects. You can access both XML schema-based and non-schema-based documents.
                        </p>
                        <p>A <strong class="term">DOM</strong> is a tree-based object representation of an XML document in dynamic memory. It enables programmatic access to its elements and attributes. The DOM object and its interface is a W3C recommendation. It specifies the Document Object Model of an XML document including APIs for programmatic access. DOM views the parsed document as a tree of objects. 
                        </p>
                     </li>
                     <li>
                        <p>PL/SQL XML Parser API for <code class="codeph">XMLType</code> (package <code class="codeph">DBMS_XMLPARSER</code>): For creating a DOM and accessing the content and structure of XML documents.
                        </p>
                     </li>
                     <li>
                        <p>PL/SQL XSLT Processor for <code class="codeph">XMLType</code> (package <code class="codeph">DBMS_XSLPROCESSOR</code>): For transforming XML documents to other formats using XSLT.
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-CF14A19A-A284-4CA3-8103-8D7713CE8BDC">PL/SQL APIs for XMLType: Features</a><br>You can use the PL/SQL APIs for <code class="codeph">XMLType</code> to create <code class="codeph">XMLType</code> tables, columns, and views; construct <code class="codeph">XMLType</code> instances from data encoded in different character sets; and access and manipulate <code class="codeph">XMLType</code> in various ways.
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39">PL/SQL APIs for XMLType: References</a><br>The PL/SQL Application Programming Interfaces (APIs) for <code class="codeph">XMLType</code> are described.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-2D5B2D47-9CFF-49D0-9BD8-114BBE48A289" title="There are several PL/SQL packages that provide APIs for XMLType.">PL/SQL APIs for XMLType</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4871"></a><div class="props_rev_3"><a id="GUID-CF14A19A-A284-4CA3-8103-8D7713CE8BDC" name="GUID-CF14A19A-A284-4CA3-8103-8D7713CE8BDC"></a><h4 id="ADXDB-GUID-CF14A19A-A284-4CA3-8103-8D7713CE8BDC" class="sect4"><span class="enumeration_section">11.1.1 </span>PL/SQL APIs for XMLType: Features
                  </h4>
                  <div>
                     <p>You can use the PL/SQL APIs for <code class="codeph">XMLType</code> to create <code class="codeph">XMLType</code> tables, columns, and views; construct <code class="codeph">XMLType</code> instances from data encoded in different character sets; and access and manipulate <code class="codeph">XMLType</code> in various ways.
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-CC88AF77-83DA-4AA5-B7B9-AC7C67DAFA74">Lazy Load of XML Data (Lazy Manifestation)</a><br>Lazy XML loading loads rows of data only when they are requested, enhancing scalability of your applications that involve large XML documents and many concurrent users.
                        </li>
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-57B7D074-7870-4CE3-8EDA-515485742595">XMLType Data Type Supports XML Schema</a><br>SQL data type <code class="codeph">XMLType</code> supports XML Schema.
                        </li>
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-01ACFBC7-9C51-4D27-8CC9-5377C8426AD2">XMLType Supports Data in Different Character Sets</a><br>You can use PL/SQL to create <code class="codeph">XMLType</code> instances from data that is encoded in any Oracle-supported character set. To do this, you use the PL/SQL <code class="codeph">XMLType</code> constructor or <code class="codeph">XMLType</code> method <code class="codeph">createXML()</code>. 
                        </li>
                     </ul>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="intro-to-XML-DB.html#GUID-E5AC647D-E48C-4D2F-A528-D03CD911ED3A" title="Oracle XML&nbsp;DB provides standard database features such as transaction control, data integrity, replication, reliability, availability, security, and scalability, while also allowing for efficient indexing, querying, updating, and searching of XML documents in an XML-centric manner.">Oracle XML&nbsp;DB Features</a></li>
                           <li><a href="query-and-update-XML.html#GUID-01C75289-804F-4BAA-AE7C-DFA73198581E" title="There are many ways for applications to query and update XML data that is in Oracle Database, both XML schema-based and non-schema-based.">Query and Update of XML Data</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-F0B8E95C-E73D-475E-B4E3-DB9D753DA274" title="The PL/SQL Application Program Interfaces (APIs) for XMLType include a DOM API, a parser API, and a processor API.">Overview of PL/SQL APIs for XMLType</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADXDB4872"></a><div class="props_rev_3"><a id="GUID-CC88AF77-83DA-4AA5-B7B9-AC7C67DAFA74" name="GUID-CC88AF77-83DA-4AA5-B7B9-AC7C67DAFA74"></a><h5 id="ADXDB-GUID-CC88AF77-83DA-4AA5-B7B9-AC7C67DAFA74" class="sect5"><span class="enumeration_section">11.1.1.1 </span>Lazy Load of XML Data (Lazy Manifestation)
                     </h5>
                     <div>
                        <p>Lazy XML loading loads rows of data only when they are requested, enhancing scalability of your applications that involve large XML documents and many concurrent users.</p>
                        <p>Because <code class="codeph">XMLType</code> provides a dynamic memory or virtual Document Object Model (DOM), it can use a memory conserving process called <span class="bold">lazy XML loading</span>, also sometimes referred to as <span class="bold">lazy manifestation</span>. This process optimizes memory usage by only loading rows of data when they are requested. It throws away previously-referenced sections of the document if memory usage grows too large. Lazy XML loading supports highly scalable applications that have many concurrent users needing to access large XML documents.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-CF14A19A-A284-4CA3-8103-8D7713CE8BDC" title="You can use the PL/SQL APIs for XMLType to create XMLType tables, columns, and views; construct XMLType instances from data encoded in different character sets; and access and manipulate XMLType in various ways.">PL/SQL APIs for XMLType: Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB4873"></a><div class="props_rev_3"><a id="GUID-57B7D074-7870-4CE3-8EDA-515485742595" name="GUID-57B7D074-7870-4CE3-8EDA-515485742595"></a><h5 id="ADXDB-GUID-57B7D074-7870-4CE3-8EDA-515485742595" class="sect5"><span class="enumeration_section">11.1.1.2 </span>XMLType Data Type Supports XML Schema
                     </h5>
                     <div>
                        <p>SQL data type <code class="codeph">XMLType</code> supports XML Schema.
                        </p>
                        <p>You can create an XML schema and annotate it with mappings from XML to object-relational storage. To take advantage of the PL/SQL DOM API, first create an XML schema and register it. Then, when you create <code class="codeph">XMLType</code> tables and columns, you can specify that these conform to the registered XML schema.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-CF14A19A-A284-4CA3-8103-8D7713CE8BDC" title="You can use the PL/SQL APIs for XMLType to create XMLType tables, columns, and views; construct XMLType instances from data encoded in different character sets; and access and manipulate XMLType in various ways.">PL/SQL APIs for XMLType: Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB4874"></a><div class="props_rev_3"><a id="GUID-01ACFBC7-9C51-4D27-8CC9-5377C8426AD2" name="GUID-01ACFBC7-9C51-4D27-8CC9-5377C8426AD2"></a><h5 id="ADXDB-GUID-01ACFBC7-9C51-4D27-8CC9-5377C8426AD2" class="sect5"><span class="enumeration_section">11.1.1.3 </span>XMLType Supports Data in Different Character Sets
                     </h5>
                     <div>
                        <p>You can use PL/SQL to create <code class="codeph">XMLType</code> instances from data that is encoded in any Oracle-supported character set. To do this, you use the PL/SQL <code class="codeph">XMLType</code> constructor or <code class="codeph">XMLType</code> method <code class="codeph">createXML()</code>. 
                        </p>
                        <p>The source XML data must be supplied using data type <code class="codeph">BFILE</code> or <code class="codeph">BLOB</code>. The encoding of the data is specified through argument <code class="codeph">csid</code>. When this argument is zero (<code class="codeph">0</code>), the encoding of the source data is determined from the XML prolog, as specified in Appendix F of the XML 1.0 Reference. 
                        </p>
                        <div class="infoboxnote" id="GUID-01ACFBC7-9C51-4D27-8CC9-5377C8426AD2__GUID-18C5E9C4-EF02-43D3-8D53-7907613E821F">
                           <p class="notep1">Caution:</p>
                           <p> <span class="italic">AL32UTF8</span> is the Oracle Database character set that is appropriate for <code class="codeph">XMLType</code> data. It is equivalent to the IANA registered standard UTF-8 encoding, which supports all valid XML characters.
                           </p>
                           <p>Do not confuse Oracle Database database character set UTF8 (no hyphen) with database character set AL32UTF8 or with character <span class="italic">encoding</span> UTF-8. Database character set UTF8 has been <span class="italic">superseded</span> by AL32UTF8. Do <span class="italic">not</span> use UTF8 for XML data. Character set UTF8 supports only Unicode version 3.1 and earlier. It does not support all valid XML characters. AL32UTF8 has no such limitation.
                           </p>
                           <p>Using database character set UTF8 for XML data could potentially <span class="italic">stop a system or affect security negatively</span>. If a character that is not supported by the database character set appears in an input-document element name, a replacement character (usually "<code class="codeph">?</code>") is substituted for it. This terminates parsing and raises an exception. It could cause an irrecoverable error.
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-CF14A19A-A284-4CA3-8103-8D7713CE8BDC" title="You can use the PL/SQL APIs for XMLType to create XMLType tables, columns, and views; construct XMLType instances from data encoded in different character sets; and access and manipulate XMLType in various ways.">PL/SQL APIs for XMLType: Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADXDB3955"></a><a id="ADXDB0110"></a><div class="props_rev_3"><a id="GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39" name="GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39"></a><h4 id="ADXDB-GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39" class="sect4"><span class="enumeration_section">11.1.2 </span>PL/SQL APIs for XMLType: References
                  </h4>
                  <div>
                     <p>The PL/SQL Application Programming Interfaces (APIs) for <code class="codeph">XMLType</code> are described.
                     </p>
                     <div class="section">
                        <p><a href="PLSQL-APIs-for-XMLType.html#GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39__CHDFJDFJ" title="This table lists the reference documentation for the PL/SQL APIs that you can use to manipulate XML data.">Table 11-1</a> lists the reference documentation for the PL/SQL APIs that you can use to manipulate XML data. The main reference for PL/SQL APIs is <a href="../arpls/index.html" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a>. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39__GUID-E55DD7EB-69C5-45AA-80D1-A5CB97191BF4">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../jaxml/index.html" target="_blank"><span><cite>Oracle Database XML Java API Reference</cite></span></a> for information about Java APIs for XML
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../caxml/index.html" target="_blank"><span><cite>Oracle Database XML C API Reference</cite></span></a> for information about C APIs for XML
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../cpxml/index.html" target="_blank"><span><cite>Oracle Database XML C++ API Reference</cite></span></a>for information about C++ APIs for XML
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformalwide" id="GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39__CHDFJDFJ">
                        <p class="titleintable">Table 11-1 PL/SQL APIs Related to XML</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="PL/SQL APIs Related to XML" summary="This table lists the reference documentation for the PL/SQL APIs that you can use to manipulate XML data. " width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d66991e616">API</th>
                                 <th align="left" valign="bottom" width="33%" id="d66991e619">Documentation</th>
                                 <th align="left" valign="bottom" width="37%" id="d66991e622">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e627" headers="d66991e616 ">
                                    <p><code class="codeph">XMLType</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e627 d66991e619 ">
                                    <p><a href="../arpls/XMLTYPE.html#ARPLS369" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "XMLType"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e627 d66991e622 ">
                                    <p>PL/SQL APIs with XML operations on <code class="codeph">XMLType</code> data &#x2013; validation, transformation.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e646" headers="d66991e616 ">
                                    <p>Database URI types</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e646 d66991e619 ">
                                    <p><a href="../arpls/Database-URI-TYPEs.html#ARPLS800" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "Database URI TYPEs"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e646 d66991e622 ">
                                    <p>Functions used for various URI types.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e661" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_METADATA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e661 d66991e619 ">
                                    <p><a href="../arpls/DBMS_METADATA.html#ARPLS026" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_METADATA"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e661 d66991e622 ">
                                    <p>PL/SQL API for retrieving metadata from the database dictionary as XML, or retrieving creation DDL and submitting the XML to re-create the associated object.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e677" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_RESCONFIG</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e677 d66991e619 ">
                                    <p><a href="../arpls/DBMS_RESCONFIG.html#ARPLS199" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_RESCONFIG"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e677 d66991e622 ">
                                    <p>PL/SQL API to operate on a resource configuration list, and to retrieve listener information for a resource.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e693" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XDB_ADMIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e693 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XDB_ADMIN.html#ARPLS214" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_XDB_ADMIN"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e693 d66991e622 ">
                                    <p>PL/SQL API for the management of Oracle XML&nbsp;DB Repository by database administrators.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e709" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XDB_CONFIG</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e709 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XDB_CONFIG.html#ARPLS73564" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_XDB_CONFIG"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e709 d66991e622 ">
                                    <p>PL/SQL API for managing Oracle XML&nbsp;DB configuration sessions.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e725" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XDB_CONSTANTS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e725 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XDB_CONSTANTS.html#ARPLS73572" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_XDB_CONSTANTS"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e725 d66991e622 ">
                                    <p>PL/SQL constants for use with Oracle XML&nbsp;DB</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e741" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XDB_REPOS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e741 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XDB_REPOS.html#ARPLS74188" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_XDB_REPOS"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e741 d66991e622 ">
                                    <p>PL/SQL API for the use of Oracle XML&nbsp;DB Repository by application developers.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e757" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XDBRESOURCE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e757 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XDBRESOURCE.html#ARPLS230" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_XDBRESOURCE"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e757 d66991e622 ">
                                    <p>PL/SQL API to operate on repository resource metadata and contents.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e773" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XDBT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e773 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XDBT.html#ARPLS372" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_XDBT"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e773 d66991e622 ">
                                    <p>PL/SQL API for creation of text indexes on repository resources.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e789" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XDB_VERSION</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e789 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XDB_VERSION.html#ARPLS373" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_XDB_VERSION"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e789 d66991e622 ">
                                    <p>PL/SQL API for version management of repository resources.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e806" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XDBZ</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e806 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XDBZ.html#ARPLS805" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_XDBZ"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e806 d66991e622 ">
                                    <p>Oracle XML&nbsp;DB Repository ACL-based security.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e822" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XEVENT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e822 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XEVENT.html#ARPLS210" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_XEVENT"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e822 d66991e622 ">
                                    <p>PL/SQL API providing event-related types and supporting interface..</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e838" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XMLDOM</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e838 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XMLDOM.html#ARPLS399" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_XMLDOM"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e838 d66991e622 ">
                                    <p>PL/SQL implementation of the DOM API for <code class="codeph">XMLType</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e857" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XMLGEN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e857 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XMLGEN.html#ARPLS374" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_XMLGEN"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e857 d66991e622 ">
                                    <p>PL/SQL API for transformation of SQL query results into canonical XML format.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e873" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XMLINDEX</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e873 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XMLINDEX.html#ARPLS212" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_XMLINDEX</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e873 d66991e622 ">
                                    <p>PL/SQL API for <code class="codeph">XMLIndex</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e892" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XMLPARSER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e892 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XMLPARSER.html#ARPLS375" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_XMLPARSER"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e892 d66991e622 ">
                                    <p>PL/SQL implementation of the DOM Parser API for <code class="codeph">XMLType</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e911" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XMLSCHEMA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e911 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XMLSCHEMA.html#ARPLS377" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_XMLSCHEMA</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e911 d66991e622 ">
                                    <p>PL/SQL API for managing XML schemas within Oracle Database &#x2013; schema registration, deletion.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e927" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XMLSCHEMA_ANNOTATE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e927 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XMLSCHEMA_ANNOTATE.html#ARPLS73580" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a>, chapter "DBMS_XMLSCHEMA_ANNOTATE"
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e927 d66991e622 ">
                                    <p>PL/SQL API for adding and managing Oracle-specific XML Schema annotations.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e943" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XMLSTORAGE_MANAGE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e943 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XMLSTORAGE_MANAGE.html#ARPLS73588" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a>, chapter "DBMS_XMLSTORAGE_MANAGE"
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e943 d66991e622 ">
                                    <p>PL/.SQL API managing and modifying storage of XML data after XML schema registration.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e959" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XMLSTORE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e959 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XMLSTORE.html#ARPLS801" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_XMLSTORE"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e959 d66991e622 ">
                                    <p>PL/SQL API for storing XML data in relational tables.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e975" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XSLPROCESSOR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e975 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XSLPROCESSOR.html#ARPLS379" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span>, chapter "DBMS_XSLPROCESSOR"</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e975 d66991e622 ">
                                    <p>PL/SQL implementation of an XSLT processor. </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-F0B8E95C-E73D-475E-B4E3-DB9D753DA274" title="The PL/SQL Application Program Interfaces (APIs) for XMLType include a DOM API, a parser API, and a processor API.">Overview of PL/SQL APIs for XMLType</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4875"></a><div class="props_rev_3"><a id="GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" name="GUID-C8B6BD89-F267-46C3-8656-99CFA052A198"></a><h3 id="ADXDB-GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" class="sect3"><span class="enumeration_section">11.2 </span>PL/SQL DOM API for XMLType (DBMS_XMLDOM)
               </h3>
               <div>
                  <p>The PL/SQL DOM API for <code class="codeph">XMLType</code>, <code class="codeph">DBMS_XMLDOM</code> lets you operate on <code class="codeph">XMLType</code> instances using a DOM. 
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-F1FAD45D-0C4D-4037-9676-F126EAAB2F87">Overview of the W3C Document Object Model (DOM) Recommendation</a><br>The Document Object Model (DOM) recommended by the World Wide Web Consortium (W3C) is a universal API for accessing the structure of XML documents.
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-629DC11A-283C-4A89-AB96-DE142E5FF34B">PL/SQL DOM API for XMLType (DBMS_XMLDOM): Features</a><br>Oracle XML&nbsp;DB extends the Oracle Database XML development platform beyond SQL support for storage and retrieval of XML data. It lets you operate on <code class="codeph">XMLType</code> instances using DOM in PL/SQL, Java, and C. 
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-1395CFCB-6CDC-4FC6-9AA3-81443805E0C4">Application Design Using Oracle XML Developer's Kit and Oracle XML&nbsp;DB</a><br>When you build applications based on Oracle XML&nbsp;DB, you do not need the additional components provided by Oracle XML Developer's Kit (XDK). However, you can use XDK components with Oracle XML&nbsp;DB to deploy a full suite of XML-enabled applications that run end-to-end. 
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-0DAAFA6D-6EDD-465B-999A-D9011FA46230">Preparing XML Data to Use the PL/SQL DOM API for XMLType</a><br>Create an XML schema, annotate it to map XML to SQL objects, and register the XML schema.
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-92017A80-EA34-4ED4-8B8A-EB222D404867">XML Schema Types Are Mapped to SQL Object Types</a><br>An XML schema must be registered with Oracle XML&nbsp;DB before it can be referenced by an XML document. When you register an XML schema, elements and attributes it declares are mapped to attributes of corresponding SQL object types within the database. 
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-10C47D9D-A6CD-4E37-B9D8-9E0B75ACADB2">Wrap Existing Data as XML with XMLType Views</a><br>To make existing relational and object-relational data available to your XML applications, you can create <code class="codeph">XMLType</code> views based on it. You can then access the resulting XML data using the PL/SQL DOM API.
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-7E32FE20-2471-4FA2-BF90-3036E4A73991">DBMS_XMLDOM Methods Supported by Oracle XML&nbsp;DB</a><br>All <code class="codeph">DBMS_XMLDOM</code> methods are supported by Oracle XML&nbsp;DB, with a few exceptions.
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-33EBF3B7-B804-4A2B-A4EF-0F40FFC742F6">PL/SQL DOM API for XMLType: Node Types</a><br>The DOM specifies the way elements within an XML document are used to create an object-based tree structure. It defines and exposes interfaces to manage and use the objects stored in XML documents. The DOM supports storage of documents in diverse systems.
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-DD35C504-C429-49AC-A6A7-3001BA96C1F5">PL/SQL Function NEWDOMDOCUMENT and DOMDOCUMENT Nodes</a><br>PL/SQL function <code class="codeph">newDOMDocument</code> constructs a DOM document handle, given an <code class="codeph">XMLType</code> value. The resulting handle is of type <code class="codeph">DOMDocument</code>.
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-11900518-CC1D-4344-9ABE-CE3F67D8C71F">DOM NodeList and NamedNodeMap Objects</a><br>When you change the document structure underlying a <code class="codeph">DOMDocument</code> instance, the changes are reflected in all relevant <code class="codeph">NodeList</code> and <code class="codeph">NamedNodeMap</code> objects.
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-378E17DE-EE95-4D4B-96B3-8F181B235CFD">Overview of Using the PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a><br>Using PL/SQL package <code class="codeph">DBMS_XMLDOM</code> typically involves creating DOM documents, traversing or extending the DOM tree, and creating and manipulating nodes.
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F">PL/SQL DOM API for XMLType &#x2013; Examples</a><br>Examples are presented of using the PL/SQL DOM API for <code class="codeph">XMLType</code>.
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-27F60B86-33DC-4E4B-B870-DDCBCF7819F6">Large Node Handling Using DBMS_XMLDOM</a><br>Oracle XML&nbsp;DB provides abstract streams and stream-manipulation methods that you can use to handle XML nodes that are larger than 64 K bytes.
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-F9CC00ED-132E-451F-94D4-953161F87482">Get-Push Model for Large Node Handling</a><br>In this model, you retrieve the value of a DOM node, using a parser that is in push mode. Oracle XML&nbsp;DB writes the node data to an output stream that the parser reads.
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57">Get-Pull Model for Large Node Handling</a><br>In this model, you retrieve the value of a DOM node, using a parser that is in pull mode. Oracle XML&nbsp;DB reads the event data from an input stream written by the parser.
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-43443083-4ED7-4E62-A450-E60CE2524AD7">Set-Pull Model for Large Node Handling</a><br>In this model, you set the value of a DOM node, using a parser that is in pull mode. Oracle XML&nbsp;DB reads the event data from an input stream written by the parser.
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-DCBCC32B-3529-49A0-BF23-1BFF9062367D">Set-Push Model for Large Node Handling</a><br>In this model, you set the value of a DOM node, using a parser that is in push mode. Oracle XML&nbsp;DB writes the node data to an output stream that the parser reads.
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-A0C33052-CAEA-4678-B3AA-C0D2EA7A56F7">Determining Binary Stream or Character Stream for Large Node Handling</a><br>You can use subprogram <code class="codeph">DBMS_XMLDOM.useBinaryStream</code> to determine whether to use a character stream or a binary stream to access the content of a large node.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-C8B6BD89-F267-46C3-8656-99CFA052A198__GUID-4B885720-FBB0-4890-8FA5-1CEA3DEFF892">
                     <p class="notep1">See Also:</p>
                     <p> <a href="../arpls/DBMS_XMLDOM.html#ARPLS399" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for descriptions of the individual <code class="codeph">DBMS_XMLDOM</code> methods
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-2D5B2D47-9CFF-49D0-9BD8-114BBE48A289" title="There are several PL/SQL packages that provide APIs for XMLType.">PL/SQL APIs for XMLType</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4876"></a><div class="props_rev_3"><a id="GUID-F1FAD45D-0C4D-4037-9676-F126EAAB2F87" name="GUID-F1FAD45D-0C4D-4037-9676-F126EAAB2F87"></a><h4 id="ADXDB-GUID-F1FAD45D-0C4D-4037-9676-F126EAAB2F87" class="sect4"><span class="enumeration_section">11.2.1 </span>Overview of the W3C Document Object Model (DOM) Recommendation
                  </h4>
                  <div>
                     <p>The Document Object Model (DOM) recommended by the World Wide Web Consortium (W3C) is a universal API for accessing the structure of XML documents.</p>
                     <p>The DOM is a universal API for accessing the structure of XML documents. It was originally developed to formalize Dynamic HTML, which is used for animation, interaction, and dynamic updating of Web pages. DOM provides a language-neutral and platform-neutral object model for Web pages and XML documents. DOM describes language-independent and platform-independent interfaces to access and operate on XML components and elements. It expresses the structure of an XML document in a universal, content-neutral way. Applications can be written to dynamically delete, add, and edit the content, attributes, and style of XML documents. DOM makes it possible to create applications that work properly on all browsers, servers, and platforms.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-27EFF9BC-8944-45D2-AAA0-B4B398E28318">Oracle XML Developer's Kit Extensions to the W3C DOM Standard</a><br>Oracle XML Developer's Kit (XDK) extends the W3C DOM API. These extensions are supported by Oracle XML&nbsp;DB except for those relating to client-side operations that are not applicable in the database. See the Simple API for XML (SAX) interface in the Oracle XML Developer's Kit Java and C components.
                        </li>
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-70263FE1-8B79-4A10-A7DC-83CC2E4194DE">Supported W3C DOM Recommendations</a><br>All Oracle XML&nbsp;DB APIs for accessing and manipulating XML data comply with standard XML processing requirements as approved by the W3C. The PL/SQL DOM supports Levels 1 and 2 of the W3C DOM specifications. 
                        </li>
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-47252A61-464B-418C-83AA-5CE2AD5A3310">Difference Between DOM and SAX</a><br>DOM is the primary generic tree-based API for XML. SAX (Simple API for XML) is the primary generic event-based programming interface between an XML parser and an XML application.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADXDB4877"></a><div class="props_rev_3"><a id="GUID-27EFF9BC-8944-45D2-AAA0-B4B398E28318" name="GUID-27EFF9BC-8944-45D2-AAA0-B4B398E28318"></a><h5 id="ADXDB-GUID-27EFF9BC-8944-45D2-AAA0-B4B398E28318" class="sect5"><span class="enumeration_section">11.2.1.1 </span>Oracle XML Developer's Kit Extensions to the W3C DOM Standard
                     </h5>
                     <div>
                        <p>Oracle XML Developer's Kit (XDK) extends the W3C DOM API. These extensions are supported by Oracle XML&nbsp;DB except for those relating to client-side operations that are not applicable in the database. See the Simple API for XML (SAX) interface in the Oracle XML Developer's Kit Java and C components.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-27EFF9BC-8944-45D2-AAA0-B4B398E28318__GUID-1D59D2DA-F49D-4A53-A3A6-F82C8BE6B3F9">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=ADXDK" target="_blank"><span><cite>Oracle XML Developer's Kit Programmer's Guide</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-F1FAD45D-0C4D-4037-9676-F126EAAB2F87" title="The Document Object Model (DOM) recommended by the World Wide Web Consortium (W3C) is a universal API for accessing the structure of XML documents.">Overview of the W3C Document Object Model (DOM) Recommendation</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB4878"></a><div class="props_rev_3"><a id="GUID-70263FE1-8B79-4A10-A7DC-83CC2E4194DE" name="GUID-70263FE1-8B79-4A10-A7DC-83CC2E4194DE"></a><h5 id="ADXDB-GUID-70263FE1-8B79-4A10-A7DC-83CC2E4194DE" class="sect5"><span class="enumeration_section">11.2.1.2 </span>Supported W3C DOM Recommendations
                     </h5>
                     <div>
                        <p>All Oracle XML&nbsp;DB APIs for accessing and manipulating XML data comply with standard XML processing requirements as approved by the W3C. The PL/SQL DOM supports Levels 1 and 2 of the W3C DOM specifications. </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="bold">DOM Level 1.0 &#x2013;</span> The first formal Level of the DOM specifications, completed in October 1998. Level 1.0 defines support for XML 1.0 and HTML.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">DOM Level 2.0 &#x2013;</span> Completed in November 2000, Level 2.0 extends Level 1.0 with support for XML 1.0 with namespaces and adds support for Cascading Style Sheets (CSS) and events (user-interface events and tree manipulation events), and enhances tree manipulations (tree ranges and traversal mechanisms). CSS are a simple mechanism for adding style (fonts, colors, spacing, and so on) to Web documents.
                              </p>
                           </li>
                        </ul>
                        <p>Oracle support for DOM is as follows:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>In Oracle9i release 1 (9.0.1), Oracle XML Developer's Kit for PL/SQL implemented DOM Level 1.0 and parts of DOM Level 2.0. </p>
                           </li>
                           <li>
                              <p>In Oracle9i release 2 (9.2) and Oracle Database 10g release 1 (10.1), the PL/SQL API for <code class="codeph">XMLType</code> implements DOM Levels 1.0 and Level 2.0 Core, and is fully integrated in the database through extensions to the <code class="codeph">XMLType</code> API.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-F1FAD45D-0C4D-4037-9676-F126EAAB2F87" title="The Document Object Model (DOM) recommended by the World Wide Web Consortium (W3C) is a universal API for accessing the structure of XML documents.">Overview of the W3C Document Object Model (DOM) Recommendation</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB4879"></a><div class="props_rev_3"><a id="GUID-47252A61-464B-418C-83AA-5CE2AD5A3310" name="GUID-47252A61-464B-418C-83AA-5CE2AD5A3310"></a><h5 id="ADXDB-GUID-47252A61-464B-418C-83AA-5CE2AD5A3310" class="sect5"><span class="enumeration_section">11.2.1.3 </span>Difference Between DOM and SAX
                     </h5>
                     <div>
                        <p>DOM is the primary generic tree-based API for XML. SAX (Simple API for XML) is the primary generic event-based programming interface between an XML parser and an XML application.</p>
                        <p>DOM works by creating objects. These objects have child objects and properties. The child objects have their own child objects and properties, and so on. Objects are referenced either by moving down the object hierarchy or by explicitly giving an HTML element an ID attribute. For example:</p><pre class="pre codeblock"><code>&lt;img src="employee_jdoe.gif" ID="0123jdoe"&gt;
</code></pre><p>Examples of structural manipulations are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Reordering elements</p>
                           </li>
                           <li>
                              <p>Adding or deleting elements</p>
                           </li>
                           <li>
                              <p>Adding or deleting attributes</p>
                           </li>
                           <li>
                              <p>Renaming elements</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-47252A61-464B-418C-83AA-5CE2AD5A3310__GUID-5E8B118C-2782-4AE4-87D2-45B8AEA9C0FF">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=w3_org_dom" target="_blank">Document Object Model (<span class="bold">DOM</span><span class="bold">)</span></a></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=sax_project_org" target="_blank">SAX Project</a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-F1FAD45D-0C4D-4037-9676-F126EAAB2F87" title="The Document Object Model (DOM) recommended by the World Wide Web Consortium (W3C) is a universal API for accessing the structure of XML documents.">Overview of the W3C Document Object Model (DOM) Recommendation</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADXDB4880"></a><div class="props_rev_3"><a id="GUID-629DC11A-283C-4A89-AB96-DE142E5FF34B" name="GUID-629DC11A-283C-4A89-AB96-DE142E5FF34B"></a><h4 id="ADXDB-GUID-629DC11A-283C-4A89-AB96-DE142E5FF34B" class="sect4"><span class="enumeration_section">11.2.2 </span>PL/SQL DOM API for XMLType (DBMS_XMLDOM): Features
                  </h4>
                  <div>
                     <p>Oracle XML&nbsp;DB extends the Oracle Database XML development platform beyond SQL support for storage and retrieval of XML data. It lets you operate on <code class="codeph">XMLType</code> instances using DOM in PL/SQL, Java, and C. 
                     </p>
                     <p>The <span class="italic">default</span> action for the PL/SQL DOM API for <code class="codeph">XMLType</code> (<code class="codeph">DBMS_XMLDOM</code>) does the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Produce a parse tree that can be accessed by DOM APIs.</p>
                        </li>
                        <li>
                           <p>Validate, if a DTD is found. Otherwise, do not validate.</p>
                        </li>
                        <li>
                           <p>Raise an application error if parsing fails.</p>
                        </li>
                     </ul>
                     <p>DTD validation occurs when the object document is manifested. If lazy manifestation is employed, then the document is validated when it is used.</p>
                     <p>The PL/SQL DOM API exploits a C-based representation of XML in the server and operates on XML schema-based XML instances. The PL/SQL, Java, and C DOM APIs for <code class="codeph">XMLType</code> comply with the W3C DOM Recommendations to define and implement object-relational storage of XML data in relational or object-relational columns and as dynamic memory instances of <code class="codeph">XMLType</code>. See <a href="PLSQL-APIs-for-XMLType.html#GUID-0DAAFA6D-6EDD-465B-999A-D9011FA46230" title="Create an XML schema, annotate it to map XML to SQL objects, and register the XML schema.">Preparing XML Data to Use the PL/SQL DOM API for XMLType</a>, for a description of W3C DOM Recommendations.
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-46089A58-2DAA-4D13-8989-F59B1CE68406">PL/SQL DOM API Support for XML Schema</a><br>The PL/SQL DOM API for <code class="codeph">XMLType</code> supports XML Schema. Oracle XML&nbsp;DB uses annotations within an XML schema as metadata to determine the structure of an XML document and the mapping of the document to a database schema.
                        </li>
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-2EF9BD1C-1EBF-43D5-838E-73261791081A">Enhanced DOM Performance</a><br>Oracle XML&nbsp;DB uses DOM to provide a standard way to translate data between XML and multiple back-end data sources. This eliminates the need to use separate XML translation techniques for the different data sources in your environment. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADXDB6003"></a><div class="props_rev_3"><a id="GUID-46089A58-2DAA-4D13-8989-F59B1CE68406" name="GUID-46089A58-2DAA-4D13-8989-F59B1CE68406"></a><h5 id="ADXDB-GUID-46089A58-2DAA-4D13-8989-F59B1CE68406" class="sect5"><span class="enumeration_section">11.2.2.1 </span>PL/SQL DOM API Support for XML Schema
                     </h5>
                     <div>
                        <p>The PL/SQL DOM API for <code class="codeph">XMLType</code> supports XML Schema. Oracle XML&nbsp;DB uses annotations within an XML schema as metadata to determine the structure of an XML document and the mapping of the document to a database schema.
                        </p>
                        <div class="infoboxnote" id="GUID-46089A58-2DAA-4D13-8989-F59B1CE68406__GUID-509DFEAE-DC3D-4B83-BEF4-9AAD1386551F">
                           <p class="notep1">Note:</p>
                           <p>For backward compatibility and flexibility, the PL/SQL DOM supports both XML Schema-based documents and non-schema-based documents.</p>
                        </div>
                        <p>After an XML schema is registered with Oracle XML&nbsp;DB, the PL/SQL DOM API for <code class="codeph">XMLType</code> builds a tree representation of an associated XML document in dynamic memory as a hierarchy of node objects, each with its own specialized interfaces. Most node object types can have child node types, which in turn implement additional, more specialized interfaces. Nodes of some node types can have child nodes of various types, while nodes of other node types must be leaf nodes, which do not have child nodes.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-629DC11A-283C-4A89-AB96-DE142E5FF34B" title="Oracle XML&nbsp;DB extends the Oracle Database XML development platform beyond SQL support for storage and retrieval of XML data. It lets you operate on XMLType instances using DOM in PL/SQL, Java, and C.">PL/SQL DOM API for XMLType (DBMS_XMLDOM): Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB4882"></a><div class="props_rev_3"><a id="GUID-2EF9BD1C-1EBF-43D5-838E-73261791081A" name="GUID-2EF9BD1C-1EBF-43D5-838E-73261791081A"></a><h5 id="ADXDB-GUID-2EF9BD1C-1EBF-43D5-838E-73261791081A" class="sect5"><span class="enumeration_section">11.2.2.2 </span>Enhanced DOM Performance
                     </h5>
                     <div>
                        <p>Oracle XML&nbsp;DB uses DOM to provide a standard way to translate data between XML and multiple back-end data sources. This eliminates the need to use separate XML translation techniques for the different data sources in your environment. </p>
                        <p>Applications needing to exchange XML data can use a single native XML database to cache XML documents. Oracle XML&nbsp;DB can thus speed up application performance by acting as an intermediate cache between your Web applications and your back-end data sources, whether they are in relational databases or file systems.</p>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="Java-DOM-API-for-XMLType.html#GUID-4C510052-8A31-4917-8567-0E2825927C54" title="The Java DOM API for XMLType lets you operate on XMLType instances using a DOM. You can use it to manipulate XML data in Java, including fetching it through Java Database Connectivity (JDBC).">Java DOM API for XMLType</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-629DC11A-283C-4A89-AB96-DE142E5FF34B" title="Oracle XML&nbsp;DB extends the Oracle Database XML development platform beyond SQL support for storage and retrieval of XML data. It lets you operate on XMLType instances using DOM in PL/SQL, Java, and C.">PL/SQL DOM API for XMLType (DBMS_XMLDOM): Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADXDB4883"></a><div class="props_rev_3"><a id="GUID-1395CFCB-6CDC-4FC6-9AA3-81443805E0C4" name="GUID-1395CFCB-6CDC-4FC6-9AA3-81443805E0C4"></a><h4 id="ADXDB-GUID-1395CFCB-6CDC-4FC6-9AA3-81443805E0C4" class="sect4"><span class="enumeration_section">11.2.3 </span>Application Design Using Oracle XML Developer's Kit and Oracle XML&nbsp;DB
                  </h4>
                  <div>
                     <p>When you build applications based on Oracle XML&nbsp;DB, you do not need the additional components provided by Oracle XML Developer's Kit (XDK). However, you can use XDK components with Oracle XML&nbsp;DB to deploy a full suite of XML-enabled applications that run end-to-end. </p>
                     <p>These XDK features are particularly useful for developing XML applications based on Oracle XML&nbsp;DB.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Simple API for XML (SAX) interface processing. SAX is an XML standard interface provided by XML parsers and used by procedural and event-based applications. </p>
                        </li>
                        <li>
                           <p>DOM interface processing, for structural and recursive object-based processing.</p>
                        </li>
                     </ul>
                     <p>Oracle XML Developer's Kit contains the basic building blocks for creating applications that run on a client, in a browser or a plug-in. Such applications typically read, manipulate, transform and view XML documents. To provide a broad variety of deployment options, Oracle XML Developer's Kit is available for Java, C, and C++. Oracle XML Developer's Kit is fully supported and comes with a commercial redistribution license.</p>
                     <p>Oracle XML Developer's Kit for Java consists of these components:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">XML Parsers &#x2013;</span> Creates and parses XML using industry standard DOM and SAX interfaces. Supports Java, C, C++, and the Java API for XML Processing (JAXP). 
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">XSL Processor &#x2013;</span> Transforms or renders XML into other text-based formats such as HTML. Supports Java, C, and C++. 
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">XML Schema Processor &#x2013;</span> Uses XML simple and complex data types. Supports Java, C, and C++.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">XML Class Generator, Oracle JAXB Class Generator &#x2013;</span> Automatically generate C++ and Java classes, respectively, from DTDs and XML schemas, to send XML data from Web forms or applications. Class generators accept an input file and create a set of output classes that have corresponding functionality. For the XML Class Generator, the input file is a DTD, and the output is a series of classes that can be used to create XML documents conforming with the DTD. 
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">XML SQL Utility &#x2013;</span> Generates XML documents, DTDs, and XML schemas from SQL queries. Supports Java.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">TransX Utility &#x2013;</span> Loads data encapsulated in XML into the database. Has additional functionality useful for installations.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">XML Pipeline Processor &#x2013;</span> Invokes Java processes through XML control files.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">XSLT VM and Compiler &#x2013;</span> Provides a high-performance C-based XSLT transformation engine that uses compiled XSL stylesheets.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">XML Java Beans &#x2013;</span> Parses, transforms, compares, retrieves, and compresses XML documents using Java components.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1395CFCB-6CDC-4FC6-9AA3-81443805E0C4__GUID-8167ACA7-0E49-40F4-A796-C78FEBEAF452">
                        <p class="notep1">See Also:</p>
                        <p><a href="../adxdk/index.html" target="_blank"><span><cite>Oracle XML Developer's Kit Programmer's Guide</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4884"></a><div class="props_rev_3"><a id="GUID-0DAAFA6D-6EDD-465B-999A-D9011FA46230" name="GUID-0DAAFA6D-6EDD-465B-999A-D9011FA46230"></a><h4 id="ADXDB-GUID-0DAAFA6D-6EDD-465B-999A-D9011FA46230" class="sect4"><span class="enumeration_section">11.2.4 </span>Preparing XML Data to Use the PL/SQL DOM API for XMLType 
                  </h4>
                  <div>
                     <p>Create an XML schema, annotate it to map XML to SQL objects, and register the XML schema.</p>
                     <div class="section">
                        <p>To prepare data for using PL/SQL DOM APIs in Oracle XML&nbsp;DB:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Create a standard XML schema.</span></li>
                        <li><span>Annotate the XML schema with definitions for the SQL objects you use.</span></li>
                        <li><span>Register the XML schema, to generate the necessary database mappings.</span></li>
                     </ol>
                     <div class="section">
                        <p>You can then do any of the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use <code class="codeph">XMLType</code> views to wrap existing relational or object-relational data in XML formats, making it available to your applications in XML form. See <a href="PLSQL-APIs-for-XMLType.html#GUID-10C47D9D-A6CD-4E37-B9D8-9E0B75ACADB2" title="To make existing relational and object-relational data available to your XML applications, you can create XMLType views based on it. You can then access the resulting XML data using the PL/SQL DOM API.">Wrap Existing Data as XML with XMLType Views</a>.
                              </p>
                           </li>
                           <li>
                              <p>Insert XML data into <code class="codeph">XMLType</code> columns.
                              </p>
                           </li>
                           <li>
                              <p>Use Oracle XML&nbsp;DB PL/SQL and Java DOM APIs to manipulate XML data stored in <code class="codeph">XMLType</code> columns and tables.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4885"></a><div class="props_rev_3"><a id="GUID-92017A80-EA34-4ED4-8B8A-EB222D404867" name="GUID-92017A80-EA34-4ED4-8B8A-EB222D404867"></a><h4 id="ADXDB-GUID-92017A80-EA34-4ED4-8B8A-EB222D404867" class="sect4"><span class="enumeration_section">11.2.5 </span>XML Schema Types Are Mapped to SQL Object Types
                  </h4>
                  <div>
                     <p>An XML schema must be registered with Oracle XML&nbsp;DB before it can be referenced by an XML document. When you register an XML schema, elements and attributes it declares are mapped to attributes of corresponding SQL object types within the database. </p>
                     <p>After XML schema registration, XML documents that conform to the XML schema and reference it can be managed by Oracle XML&nbsp;DB. Tables and columns for storing the conforming documents can be created for root elements defined by the XML schema. </p>
                     <p>An XML schema is registered by using PL/SQL package <code class="codeph">DBMS_XMLSCHEMA</code> and by specifying the schema document and its <span class="italic">schema-location URL</span>. This URL is a name that uniquely identifies the registered schema within the database. It need not correspond to any real locationin particular, it need not indicate where the schema document is located.
                     </p>
                     <p>The <span class="italic">target namespace</span> of the schema is another URL used in the XML schema. It specifies a namespace for the XML-schema elements and types. An XML document should specify both the namespace of the root element and the schema-location URL identifying the schema that defines this element.
                     </p>
                     <p>When documents are inserted into Oracle XML&nbsp;DB using path-based protocols such as HTTP(S) and FTP, the XML schema to which the document conforms is <span class="italic">registered implicitly</span>, provided its name and location are specified and it has not yet been registered.
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-21ABBFB2-3961-4706-BD1A-0F71FA5CB09A">DOM Fidelity for XML Schema Mapping</a><br>Elements and attributes declared within an XML schema get mapped to separate attributes of the corresponding SQL object type. Other information encoded in an XML document, such as comments, processing instructions, namespace declarations and prefix definitions, and whitespace, is not represented directly. 
                        </li>
                     </ul>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="XML-Schema-and-query-basic.html#GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" title="XML Schema is a standard for describing the content and structure of XML documents. You can register, update, and delete an XML schema used with Oracle XML&nbsp;DB. You can define storage structures to use for your XML schema-based data and map XML Schema data types to SQL data types.">XML Schema Storage and Query: Basic</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-92017A80-EA34-4ED4-8B8A-EB222D404867__GUID-1BDA6F6B-EB95-44BE-B06C-46F4DC3C9F9B">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=ARPLS377" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> descriptions of the individual <code class="codeph">DBMS_XMLSCHEMA</code> methods 
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADXDB4886"></a><div class="props_rev_3"><a id="GUID-21ABBFB2-3961-4706-BD1A-0F71FA5CB09A" name="GUID-21ABBFB2-3961-4706-BD1A-0F71FA5CB09A"></a><h5 id="ADXDB-GUID-21ABBFB2-3961-4706-BD1A-0F71FA5CB09A" class="sect5"><span class="enumeration_section">11.2.5.1 </span>DOM Fidelity for XML Schema Mapping
                     </h5>
                     <div>
                        <p>Elements and attributes declared within an XML schema get mapped to separate attributes of the corresponding SQL object type. Other information encoded in an XML document, such as comments, processing instructions, namespace declarations and prefix definitions, and whitespace, is not represented directly. </p>
                        <p>To store this additional information, binary attribute <code class="codeph">SYS_XDBPD$</code> is present in all generated SQL object types. This database attribute stores all information in the original XML document that is not stored using the other database attributes. Retaining this accessory information ensures <span class="italic">DOM fidelity</span> for XML documents stored in Oracle XML&nbsp;DB: an XML document retrieved from the database is identical to the original document that was stored.
                        </p>
                        <div class="infoboxnote" id="GUID-21ABBFB2-3961-4706-BD1A-0F71FA5CB09A__GUID-08227380-74C9-436C-AE44-6215756510D6">
                           <p class="notep1">Note:</p>
                           <p>In this book, attribute <code class="codeph">SYS_XDBPD$</code> has been omitted from most examples, for simplicity. However, the attribute is always present in SQL object types generated by schema registration.
                           </p>
                        </div>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="XML-Schema-and-query-object-relational-storage.html#GUID-AF8651CF-49C5-4B13-A198-0AE1F0770439" title="In order to provide DOM fidelity for XML data that is stored object-relationally, Oracle XML&nbsp;DB records all information that cannot be stored in any of the other object attributes as instance-level metadata using the system-defined binary object attribute SYS_XDBPD$ (positional descriptor, or PD).">SYS_XDBPD$ and DOM Fidelity for Object-Relational Storage</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-92017A80-EA34-4ED4-8B8A-EB222D404867" title="An XML schema must be registered with Oracle XML&nbsp;DB before it can be referenced by an XML document. When you register an XML schema, elements and attributes it declares are mapped to attributes of corresponding SQL object types within the database.">XML Schema Types Are Mapped to SQL Object Types</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADXDB4887"></a><div class="props_rev_3"><a id="GUID-10C47D9D-A6CD-4E37-B9D8-9E0B75ACADB2" name="GUID-10C47D9D-A6CD-4E37-B9D8-9E0B75ACADB2"></a><h4 id="ADXDB-GUID-10C47D9D-A6CD-4E37-B9D8-9E0B75ACADB2" class="sect4"><span class="enumeration_section">11.2.6 </span>Wrap Existing Data as XML with XMLType Views
                  </h4>
                  <div>
                     <p>To make existing relational and object-relational data available to your XML applications, you can create <code class="codeph">XMLType</code> views based on it. You can then access the resulting XML data using the PL/SQL DOM API.
                     </p>
                     <p>After you register an XML schema containing annotations that represent the mapping between XML types and SQL object types, you can create an <code class="codeph">XMLType</code> view that conforms to the XML schema. 
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="XMLType-views.html#GUID-9F0A7B1F-269B-411F-AD8B-8F1CB2E2A671" title="You can create XMLType views over relational and object-relational data.">XMLType Views</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4888"></a><div class="props_rev_3"><a id="GUID-7E32FE20-2471-4FA2-BF90-3036E4A73991" name="GUID-7E32FE20-2471-4FA2-BF90-3036E4A73991"></a><h4 id="ADXDB-GUID-7E32FE20-2471-4FA2-BF90-3036E4A73991" class="sect4"><span class="enumeration_section">11.2.7 </span>DBMS_XMLDOM Methods Supported by Oracle XML&nbsp;DB
                  </h4>
                  <div>
                     <p>All <code class="codeph">DBMS_XMLDOM</code> methods are supported by Oracle XML&nbsp;DB, with a few exceptions.
                     </p>
                     <div class="section">
                        <p>These methods are <span class="italic">not</span> supported by Oracle XML&nbsp;DB:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">writeExternalDTDToFile()</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">writeExternalDTDToBuffer()</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">writeExternalDTDToClob()</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-7E32FE20-2471-4FA2-BF90-3036E4A73991__GUID-918F3952-EE17-4B6B-B72A-4D19C4F30CC6">
                        <p class="notep1">See Also:</p>
                        <p> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=ARPLS399" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for descriptions of the individual <code class="codeph">DBMS_XMLDOM</code> methods
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4890"></a><a id="ADXDB4889"></a><div class="props_rev_3"><a id="GUID-33EBF3B7-B804-4A2B-A4EF-0F40FFC742F6" name="GUID-33EBF3B7-B804-4A2B-A4EF-0F40FFC742F6"></a><h4 id="ADXDB-GUID-33EBF3B7-B804-4A2B-A4EF-0F40FFC742F6" class="sect4"><span class="enumeration_section">11.2.8 </span>PL/SQL DOM API for XMLType: Node Types
                  </h4>
                  <div>
                     <p>The DOM specifies the way elements within an XML document are used to create an object-based tree structure. It defines and exposes interfaces to manage and use the objects stored in XML documents. The DOM supports storage of documents in diverse systems.</p>
                     <p>In the DOM specification, the term "<span class="bold">document</span>" describes a container for many different kinds of information or data, which the DOM objectifies.
                     </p>
                     <p>When a request such as <code class="codeph">getNodeType(myNode)</code> is invoked, it returns <code class="codeph">myNodeType</code>, which is the node type supported by the parent node. The following constants represent the different types that a node can adopt:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ELEMENT_NODE </code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ATTRIBUTE_NODE </code></p>
                        </li>
                        <li>
                           <p><code class="codeph">TEXT_NODE </code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CDATA_SECTION_NODE </code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ENTITY_REFERENCE_NODE </code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ENTITY_NODE </code></p>
                        </li>
                        <li>
                           <p><code class="codeph">PROCESSING_INSTRUCTION_NODE </code></p>
                        </li>
                        <li>
                           <p><code class="codeph">COMMENT_NODE </code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DOCUMENT_NODE </code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DOCUMENT_TYPE_NODE </code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DOCUMENT_FRAGMENT_NODE </code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NOTATION_NODE</code></p>
                        </li>
                     </ul>
                     <p><a href="PLSQL-APIs-for-XMLType.html#GUID-33EBF3B7-B804-4A2B-A4EF-0F40FFC742F6__G1047756" title="This table describes the XML and HTML DOM node types and child node types supported in DBMS_XMLDOM.">Table 11-2</a> shows the node types for XML and HTML, and the allowed corresponding child node types.
                     </p>
                     <div class="tblformalwide" id="GUID-33EBF3B7-B804-4A2B-A4EF-0F40FFC742F6__G1047756">
                        <p class="titleintable">Table 11-2 XML and HTML DOM Node Types and Their Child Node Types </p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="XML and HTML DOM Node Types and Their Child Node Types " summary="This table describes the XML and HTML DOM node types and child node types supported in DBMS_XMLDOM." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d66991e2350">Node Type</th>
                                 <th align="left" valign="bottom" width="75%" id="d66991e2353">Children Node Types</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2358" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">Document</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2358 d66991e2353 ">
                                    <p><code class="codeph">Element</code> (maximum of one), <code class="codeph">ProcessingInstruction</code>, <code class="codeph">Comment</code>, <code class="codeph">DocumentType</code> (maximum of one)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2376" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">DocumentFragment</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2376 d66991e2353 ">
                                    <p><code class="codeph">Element</code>, <code class="codeph">ProcessingInstruction</code>, <code class="codeph">Comment</code>, <code class="codeph">Text</code>, <code class="codeph">CDATASection</code>, <code class="codeph">EntityReference</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2399" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">DocumentType</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2399 d66991e2353 ">
                                    <p>No children</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2406" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">EntityReference</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2406 d66991e2353 ">
                                    <p><code class="codeph">Element</code>, <code class="codeph">ProcessingInstruction</code>, <code class="codeph">Comment</code>, <code class="codeph">Text</code>, <code class="codeph">CDATASection</code>, <code class="codeph">EntityReference</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2429" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">Element</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2429 d66991e2353 ">
                                    <p><code class="codeph">Element</code>, <code class="codeph">Text</code>, <code class="codeph">Comment</code>, <code class="codeph">ProcessingInstruction</code>, <code class="codeph">CDATASection</code>, <code class="codeph">EntityReference</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2452" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">Attr</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2452 d66991e2353 ">
                                    <p><code class="codeph">Text</code>, <code class="codeph">EntityReference</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2463" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">ProcessingInstruction</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2463 d66991e2353 ">
                                    <p>No children</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2470" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">Comment</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2470 d66991e2353 ">
                                    <p>No children</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2477" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">Text</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2477 d66991e2353 ">
                                    <p>No children</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2484" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">CDATASection</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2484 d66991e2353 ">
                                    <p>No children</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2491" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">Entity</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2491 d66991e2353 ">
                                    <p><code class="codeph">Element</code>, <code class="codeph">ProcessingInstruction</code>, <code class="codeph">Comment</code>, <code class="codeph">Text</code>, <code class="codeph">CDATASection</code>, <code class="codeph">EntityReference</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2515" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">Notation</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2515 d66991e2353 ">
                                    <p>No children</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>Oracle XML&nbsp;DB DOM API for <code class="codeph">XMLType</code> also specifies the following interfaces:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">A </span><span class="bold">NodeList</span><span class="bold"> interface</span> to handle ordered lists of Nodes, for example:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The children of a Node</p>
                              </li>
                              <li>
                                 <p>Elements returned by method <code class="codeph">getElementsByTagName()</code> of the element interface
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><span class="bold">A </span><span class="bold">NamedNodeMap</span><span class="bold"> interface</span> to handle unordered sets of nodes, referenced by their name attribute, such as the attributes of an element.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4891"></a><div class="props_rev_3"><a id="GUID-DD35C504-C429-49AC-A6A7-3001BA96C1F5" name="GUID-DD35C504-C429-49AC-A6A7-3001BA96C1F5"></a><h4 id="ADXDB-GUID-DD35C504-C429-49AC-A6A7-3001BA96C1F5" class="sect4"><span class="enumeration_section">11.2.9 </span>PL/SQL Function NEWDOMDOCUMENT and DOMDOCUMENT Nodes
                  </h4>
                  <div>
                     <p>PL/SQL function <code class="codeph">newDOMDocument</code> constructs a DOM document handle, given an <code class="codeph">XMLType</code> value. The resulting handle is of type <code class="codeph">DOMDocument</code>.
                     </p>
                     <p>A typical usage scenario for a PL/SQL application is:</p>
                     <ol>
                        <li>
                           <p>Fetch or construct an <code class="codeph">XMLType</code> instance
                           </p>
                        </li>
                        <li>
                           <p>Construct a <code class="codeph">DOMDocument</code> node over the <code class="codeph">XMLType</code> instance
                           </p>
                        </li>
                        <li>
                           <p>Use the DOM API to access and manipulate the XML data</p>
                           <div class="infoboxnote" id="GUID-DD35C504-C429-49AC-A6A7-3001BA96C1F5__GUID-CD1A0F5D-8284-4511-A7D0-6A0F9192490E">
                              <p class="notep1">Note:</p>
                              <p>For <code class="codeph">DOMDocument</code>, node types represent handles to XML fragments but do not represent the data itself. 
                              </p>
                              <p>For example, if you copy a node value, <code class="codeph">DOMDocument</code> clones the handle to the same underlying data. Any data modified by one of the handles is visible when accessed by the other handle. The <code class="codeph">XMLType</code> value from which the <code class="codeph">DOMDocument</code> handle is constructed is the data, and reflects the results of all DOM operations on it.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4892"></a><div class="props_rev_3"><a id="GUID-11900518-CC1D-4344-9ABE-CE3F67D8C71F" name="GUID-11900518-CC1D-4344-9ABE-CE3F67D8C71F"></a><h4 id="ADXDB-GUID-11900518-CC1D-4344-9ABE-CE3F67D8C71F" class="sect4"><span class="enumeration_section">11.2.10 </span>DOM NodeList and NamedNodeMap Objects
                  </h4>
                  <div>
                     <p>When you change the document structure underlying a <code class="codeph">DOMDocument</code> instance, the changes are reflected in all relevant <code class="codeph">NodeList</code> and <code class="codeph">NamedNodeMap</code> objects.
                     </p>
                     <p>For example, if a DOM user gets a <code class="codeph">NodeList</code> object containing the children of an element, and then subsequently adds more children to that element (or removes children, or modifies existing children) then those changes automatically propagate to the <code class="codeph">NodeList</code> without additional action from the user. Likewise, changes to a node in the tree are propagated throughout all references to that node in <code class="codeph">NodeList</code> and <code class="codeph">NamedNodeMap</code> objects.
                     </p>
                     <p>The interfaces: <code class="codeph">Text</code>, <code class="codeph">Comment</code>, and <code class="codeph">CDATASection,</code> all inherit from the <code class="codeph">CharacterData</code> interface.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4894"></a><a id="ADXDB4893"></a><div class="props_rev_3"><a id="GUID-378E17DE-EE95-4D4B-96B3-8F181B235CFD" name="GUID-378E17DE-EE95-4D4B-96B3-8F181B235CFD"></a><h4 id="ADXDB-GUID-378E17DE-EE95-4D4B-96B3-8F181B235CFD" class="sect4"><span class="enumeration_section">11.2.11 </span>Overview of Using the PL/SQL DOM API for XMLType (DBMS_XMLDOM)
                  </h4>
                  <div>
                     <p>Using PL/SQL package <code class="codeph">DBMS_XMLDOM</code> typically involves creating DOM documents, traversing or extending the DOM tree, and creating and manipulating nodes.
                     </p>
                     <div class="section">
                        <p><a href="PLSQL-APIs-for-XMLType.html#GUID-378E17DE-EE95-4D4B-96B3-8F181B235CFD__I1043435">Figure 11-1</a> illustrates the use of PL/SQL DOM API for <code class="codeph">XMLType</code> (<code class="codeph">DBMS_XMLDOM</code>).
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You can create a DOM document (<code class="codeph">DOMDocument</code>) from an existing <code class="codeph">XMLType</code> or as an empty document. Procedure <code class="codeph">newDOMDocument</code> processes the <code class="codeph">XMLType</code> instance or empty document. 
                              </p>
                              <p>This creates a <code class="codeph">DOMDocument</code> instance.
                              </p>
                           </li>
                           <li>
                              <p> You can use DOM API PL/SQL methods such as <code class="codeph">createElement()</code>, <code class="codeph">createText()</code>, <code class="codeph">createAttribute()</code>, and <code class="codeph">createComment()</code> to traverse and extend the DOM tree.
                              </p>
                           </li>
                           <li>
                              <p>The results of PL/SQL methods such as <code class="codeph">DOMElement()</code> and <code class="codeph">DOMText()</code> can also be passed to PL/SQL function <code class="codeph">makeNode</code> to obtain the <code class="codeph">DOMNode</code> interface.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="figure" id="GUID-378E17DE-EE95-4D4B-96B3-8F181B235CFD__I1043435">
                           <p class="titleinfigure">Figure 11-1 Using the PL/SQL DOM API for XMLType</p><img src="img/adxdb014.gif" width="457" alt="Description of Figure 11-1 follows" title="Description of Figure 11-1 follows" longdesc="img_text/adxdb014.html"><br><a href="img_text/adxdb014.html">Description of "Figure 11-1 Using the PL/SQL DOM API for XMLType"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4896"></a><a id="ADXDB4897"></a><a id="ADXDB4895"></a><div class="props_rev_3"><a id="GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F" name="GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F"></a><h4 id="ADXDB-GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F" class="sect4"><span class="enumeration_section">11.2.12 </span>PL/SQL DOM API for XMLType &#x2013; Examples
                  </h4>
                  <div>
                     <p>Examples are presented of using the PL/SQL DOM API for <code class="codeph">XMLType</code>.
                     </p>
                     <div class="section">
                        <p>Remember to call procedure <code class="codeph">freeDocument</code> for <span class="italic">each</span> <code class="codeph">DOMDocument</code> instance, when you are through with the instance. This procedure frees the document and all of its nodes. You can still access <code class="codeph">XMLType</code> instances on which <code class="codeph">DOMDocument</code> instances were built, even after the <code class="codeph">DOMDocument</code> instances have been freed.
                        </p>
                        <p><a href="PLSQL-APIs-for-XMLType.html#GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F__CHDHAJEC">Example 11-1</a> creates a hierarchical, representation of an XML document in dynamic memory: a DOM document. 
                        </p>
                        <p><a href="PLSQL-APIs-for-XMLType.html#GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F__CHDHAJEC">Example 11-1</a> uses a <span class="italic">handle</span> to the DOM document to manipulate it: print it, change part of it, and print it again after the change. Manipulating the DOM document by its handle also indirectly affects the XML data represented by the document, so that querying that data after the change shows the changed result.
                        </p>
                        <p>The DOM document is created from an <code class="codeph">XMLType</code> variable using PL/SQL function <code class="codeph">newDOMDocument</code>. The handle to this document is created using function <code class="codeph">makeNode</code>. The document is written to a <code class="codeph">VARCHAR2</code> buffer using function <code class="codeph">writeToBuffer</code>, and the buffer is printed using <code class="codeph">DBMS_OUTPUT.put_line</code>. 
                        </p>
                        <p>After manipulating the document using various <code class="codeph">DBMS_XMLDOM</code> procedures, the (changed) data in the <code class="codeph">XMLType</code> variable is inserted into a table and queried, showing the change. It is only when the data is inserted into a database table that it becomes persistent. Until then, it exists in memory only. This persistence is demonstrated by the fact that the database query is made after the document (<code class="codeph">DOMDocument</code> instance) has been freed from dynamic memory.
                        </p>
                        <p><a href="PLSQL-APIs-for-XMLType.html#GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F__BEIDGEJC">Example 11-2</a> creates an empty DOM document, and then adds an element node (<code class="codeph">&lt;ELEM&gt;</code>) to the document. <code class="codeph">DBMS_XMLDOM</code> API node procedures are used to obtain the name (<code class="codeph">&lt;ELEM&gt;</code>), value (<code class="codeph">NULL</code>), and type (<code class="codeph">1</code> = element node) of the element node.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F__CHDHAJEC">
                        <p class="titleinexample">Example 11-1 Creating and Manipulating a DOM Document</p><pre class="pre codeblock"><code>CREATE TABLE person OF XMLType;

DECLARE 
  var       XMLType; 
  doc       DBMS_XMLDOM.DOMDocument; 
  ndoc      DBMS_XMLDOM.DOMNode; 
  docelem   DBMS_XMLDOM.DOMElement;
  node      DBMS_XMLDOM.DOMNode; 
  childnode DBMS_XMLDOM.DOMNode; 
  nodelist  DBMS_XMLDOM.DOMNodelist;
  buf       VARCHAR2(2000);
BEGIN 
  var := XMLType('&lt;PERSON&gt;&lt;NAME&gt;<span class="bold">ramesh</span>&lt;/NAME&gt;&lt;/PERSON&gt;');

  -- Create DOMDocument handle
  doc     := DBMS_XMLDOM.newDOMDocument(var); 
  ndoc    := DBMS_XMLDOM.makeNode(doc);

  DBMS_XMLDOM.writeToBuffer(ndoc, buf);
  DBMS_OUTPUT.put_line('<span class="bold">Before:</span>'||buf);

  docelem := DBMS_XMLDOM.getDocumentElement(doc);

  -- Access element
  nodelist := DBMS_XMLDOM.getElementsByTagName(docelem, '<span class="bold">NAME</span>');
  node := DBMS_XMLDOM.item(nodelist, 0);
  childnode := DBMS_XMLDOM.getFirstChild(node);

  -- Manipulate element
  DBMS_XMLDOM.setNodeValue(childnode, '<span class="bold">raj</span>');
  DBMS_XMLDOM.writeToBuffer(ndoc, buf);
  DBMS_OUTPUT.put_line('<span class="bold">After:</span>'||buf);
  DBMS_XMLDOM.freeDocument(doc);
  INSERT INTO person VALUES (var);
END;
/
</code></pre><p>This produces the following output:</p><pre class="oac_no_warn" dir="ltr">Before:&lt;PERSON&gt;
  &lt;NAME&gt;<span class="bold">ramesh</span>&lt;/NAME&gt;
&lt;/PERSON&gt;
 
After:&lt;PERSON&gt;
  &lt;NAME&gt;<span class="bold">raj</span>&lt;/NAME&gt;
&lt;/PERSON&gt;
</pre><p>This query confirms that the data has changed:</p><pre class="pre codeblock"><code>
SELECT * FROM person;
SYS_NC_ROWINFO$
---------------
&lt;PERSON&gt;
  &lt;NAME&gt;<span class="bold">raj</span>&lt;/NAME&gt;
&lt;/PERSON&gt;
 
1 row selected.
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F__BEIDGEJC">
                        <p class="titleinexample">Example 11-2 Creating an Element Node and Obtaining Information About It</p><pre class="pre codeblock"><code>DECLARE
  doc   DBMS_XMLDOM.DOMDocument;
  elem  DBMS_XMLDOM.DOMElement;
  nelem DBMS_XMLDOM.DOMNode;
BEGIN
  doc := DBMS_XMLDOM.newDOMDocument;
  elem := DBMS_XMLDOM.createElement(doc, 'ELEM');
  nelem := DBMS_XMLDOM.makeNode(elem);
  DBMS_OUTPUT.put_line('Node name = ' || DBMS_XMLDOM.getNodeName(nelem));
  DBMS_OUTPUT.put_line('Node value = '|| DBMS_XMLDOM.getNodeValue(nelem));
  DBMS_OUTPUT.put_line('Node type = ' || DBMS_XMLDOM.getNodeType(nelem));
  DBMS_XMLDOM.freeDocument(doc);
END;
/
</code></pre><p>This produces the following output:</p><pre class="pre codeblock"><code>Node name = ELEM
Node value =
Node type = 1</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4898"></a><div class="props_rev_3"><a id="GUID-27F60B86-33DC-4E4B-B870-DDCBCF7819F6" name="GUID-27F60B86-33DC-4E4B-B870-DDCBCF7819F6"></a><h4 id="ADXDB-GUID-27F60B86-33DC-4E4B-B870-DDCBCF7819F6" class="sect4"><span class="enumeration_section">11.2.13 </span>Large Node Handling Using DBMS_XMLDOM
                  </h4>
                  <div>
                     <p>Oracle XML&nbsp;DB provides abstract streams and stream-manipulation methods that you can use to handle XML nodes that are larger than 64 K bytes.</p>
                     <p>Prior to Oracle Database 11g Release 1 (11.1), each text node or attribute value processed by Oracle XML&nbsp;DB was limited in size to 64 K bytes. Starting with release 11.1, this restriction no longer applies.</p>
                     <p>To overcome this size limitation and allow nodes to contain graphics files, PDF files, and multibyte character encodings, the following abstract streams are available. These abstract PL/SQL streams are analogous to the corresponding Java streams. Each input stream has an associated writer, or data producer, and each output stream has an associated reader, or data consumer. </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Binary Input Stream:</span> This provides the data consumer with read-only access to source data, as a sequential (non-array) linear space of bytes. The consumer has iterative read access to underlying source data (whatever representation) in binary format, that is, read access to source data in unconverted, "raw" format. The consumer sees a sequence of bytes as they exist in the node. There is no specification of the format or representation of the source data. In particular, there is no associated character set.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Binary Output Stream: </span>This provides the data producer with write-only access to target data as a sequential (non-array) linear space of bytes. The producer has iterative write access to target data in binary format, that is, write access to target data in pure binary format with no data semantics at all. The producer passes a sequence of bytes and the target data is replaced by these bytes. No data conversion occurs.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Character Input Stream:</span> This provides the data consumer iterative read-only access to source data as a sequential (non-array) linear space of characters, independent of the representation and format of the source data. Conversion of the source data may or may not occur.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Character Output Stream:</span> This provides the data producer with iterative write-only access to target data as a sequential (non-array) linear space of characters. The producer passes a sequence of characters and the target data is replaced by this sequence of characters. Conversion of the passed data may or may not occur.
                           </p>
                        </li>
                     </ul>
                     <p>Each of the input streams has the following abstract methods: open, read, and close. Each of the output streams has the following abstract methods: open, write, flush, and close. For output streams, you must close the stream before any nodes are physically written.</p>
                     <p>There are four general node-access models, for reading and writing. Each access model has both binary and character versions. Binary and character stream methods defined on data type <code class="codeph">DOMNode</code> realize these access models. 
                     </p>
                     <p>Your application acts as the client, with the parser as its service provider. The parser mode determines whether the parser or your application drives the stream dataflow.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>For a parser in push mode, your application pushes data to the parser in an output stream, and the parser returns the result of the requested operation.</p>
                        </li>
                        <li>
                           <p>For a parser in pull mode, your application pulls data from the parser in an input stream. Each data item in the stream is the result of a parsing event.</p>
                        </li>
                     </ul>
                     <p>Each access model is described in a separate section, with an explanation of the PL/SQL functions and procedures in package <code class="codeph">DBMS_XMLDOM</code> that operate on large nodes. The name of each subprogram reflects whether it reads (get) or writes (set) data, and whether the parser is being used in push (push) or pull (pull) mode.
                     </p>
                     <p>For all except the get-push and set-pull access models (whether binary or character), Oracle supplies a concrete stream that you can use (implicitly). For get-push and set-pull, you must define a subtype of the abstract stream type that Oracle provides, and you must implement its access methods (open, close, and so on). For get-push and set-pull, you then instantiate your stream type and supply your stream as an argument to the access method. So, for example, you would use <code class="codeph">my_node.getNodeValueAsCharacterStream(my-stream)</code> for get-push, but just <code class="codeph">my_node.getNodeValueAsCharacterStream()</code> for get-pull. The latter requires no explicit stream argument, because the concrete stream supplied by Oracle is used.
                     </p>
                     <div class="infoboxnote" id="GUID-27F60B86-33DC-4E4B-B870-DDCBCF7819F6__GUID-B6406E01-9925-490E-B062-02B9C26E18E6">
                        <p class="notep1">Note:</p>
                        <p>When you access a character-data stream, the access method you use determines the apparent character set of the nodes accessed. If you use Java to access the stream, then the character set seen by your Java program is UCS2 (or an application-specified character set). If you use PL/SQL to access the stream, then the character set seen by your PL/SQL program is the database-session character set (or an application-specified character set). In all cases, however, the XML data is stored in the database in the database character set.</p>
                        <p>In the following descriptions, C1 is the character set of the node as stored in the database, and C2 is the character set of the node as seen by your program.</p>
                     </div>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="PLSQL-APIs-for-XMLType.html#GUID-F9CC00ED-132E-451F-94D4-953161F87482" title="In this model, you retrieve the value of a DOM node, using a parser that is in push mode. Oracle XML&nbsp;DB writes the node data to an output stream that the parser reads.">Get-Push Model for Large Node Handling</a></li>
                           <li><a href="PLSQL-APIs-for-XMLType.html#GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57" title="In this model, you retrieve the value of a DOM node, using a parser that is in pull mode. Oracle XML&nbsp;DB reads the event data from an input stream written by the parser.">Get-Pull Model for Large Node Handling</a></li>
                           <li><a href="PLSQL-APIs-for-XMLType.html#GUID-43443083-4ED7-4E62-A450-E60CE2524AD7" title="In this model, you set the value of a DOM node, using a parser that is in pull mode. Oracle XML&nbsp;DB reads the event data from an input stream written by the parser.">Set-Pull Model for Large Node Handling</a></li>
                           <li><a href="PLSQL-APIs-for-XMLType.html#GUID-DCBCC32B-3529-49A0-BF23-1BFF9062367D" title="In this model, you set the value of a DOM node, using a parser that is in push mode. Oracle XML&nbsp;DB writes the node data to an output stream that the parser reads.">Set-Push Model for Large Node Handling</a></li>
                           <li><a href="Java-DOM-API-for-XMLType.html#GUID-292AD380-743C-4E36-BDD1-039A279006C0" title="Oracle XML&nbsp;DB provides abstract streams and stream-manipulation methods that you can use to handle XML nodes that are larger than 64 K bytes. Use Java classes XMLNode and XMLAttr, together with a thick or kprb connection, to manipulate large nodes.">Large XML Node Handling with Java</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-27F60B86-33DC-4E4B-B870-DDCBCF7819F6__GUID-561B5F2B-5CE8-42C6-AD4A-5C48A675ACC8">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=ARPLS399" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../jaxml/index.html" target="_blank"><span><cite>Oracle Database XML Java API Reference</cite></span></a> for information about Java functions for handling large nodes
                              </p>
                           </li>
                           <li>
                              <p><a href="../caxml/package-DOM-API.html#CAXML-GUID-1A4B5DBB-1B8C-4963-AEC4-C5DC0709C325" target="_blank"><span><cite>Oracle Database XML C API Reference </cite></span></a>for information about C functions for handling large nodes
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4900"></a><a id="ADXDB4901"></a><a id="ADXDB4899"></a><div class="props_rev_3"><a id="GUID-F9CC00ED-132E-451F-94D4-953161F87482" name="GUID-F9CC00ED-132E-451F-94D4-953161F87482"></a><h4 id="ADXDB-GUID-F9CC00ED-132E-451F-94D4-953161F87482" class="sect4"><span class="enumeration_section">11.2.14 </span>Get-Push Model for Large Node Handling
                  </h4>
                  <div>
                     <p>In this model, you retrieve the value of a DOM node, using a parser that is in push mode. Oracle XML&nbsp;DB writes the node data to an output stream that the parser reads.</p>
                     <p>To read a node value in this model, your application creates a binary output stream or <span>character output stream</span> and passes this to Oracle XML&nbsp;DB. In this case, the source data is the node value. Oracle XML&nbsp;DB populates the output stream by adding node data to the stream. If the stream is a <span>character output stream</span>, then the character set, C2, is the session character set, and node data is converted, if necessary, from C1 to C2. Additionally, the data type of the node can be any that is supported by Oracle XML&nbsp;DB. If the node data type is not character data then the node data is first converted to character data in C2. If a <span>binary output stream</span>, the data type of the node must be <code class="codeph">RAW</code> or <code class="codeph">BLOB</code>.
                     </p>
                     <p>The procedures of the <code class="codeph">DBMS_XMLDOM</code> package to be used for this case are:
                     </p><pre class="pre codeblock"><code>PROCEDURE getNodeValueAsBinaryStream (n     IN DBMS_XMLDOM.domnode, 
                                      value IN SYS.utl_BinaryOutputStream);
</code></pre><p>The application passes an implementation of <code class="codeph">SYS.utl_BinaryOutputStream</code> into which Oracle XML&nbsp;DB writes the contents of the node. The data type of the node must be <code class="codeph">RAW</code> or <code class="codeph">CLOB</code> or else an exception is raised.
                     </p><pre class="pre codeblock"><code>PROCEDURE getNodeValueAsCharacterStream (n     IN DBMS_XMLDOM.domnode,
                                         value IN SYS.utl_CharacterOutputStream);
</code></pre><p>The node data is converted, as necessary, to the session character set and then "pushed" into the <code class="codeph">SYS.utl_CharacterOutputStream</code>.
                     </p>
                     <p>The following example fragments illustrate reading the node value as binary data and driving the write methods in a user-defined subtype of <code class="codeph">SYS.utl_BinaryOutPutStream</code>, which is called <code class="codeph">MyBinaryOutputStream</code>:
                     </p>
                     <div class="example" id="GUID-F9CC00ED-132E-451F-94D4-953161F87482__GUID-B18213EB-09FC-4CEE-B98F-61F3C7B32D06">
                        <p class="titleinexample">Example 11-3 Creating a User-Defined Subtype of SYS.util_BinaryOutputStream()</p><pre class="pre codeblock"><code>CREATE TYPE MyBinaryOutputStream UNDER SYS.utl_BinaryOutputStream (
    CONSTRUCTOR FUNCTION MyBinaryOutputStream ()
    RETURN SELF AS RESULT,
    MEMBER FUNCTION  write (bytes IN RAW) RETURN INTEGER,
    MEMBER PROCEDURE write (bytes IN RAW, offset IN INTEGER, length IN OUT 
           INTEGER),
    MEMBER FUNCTION flush () RETURN BOOLEAN,
    MEMBER FUNCTION close () RETURN BOOLEAN);
);

-- Put code here that implements these methods
...</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-F9CC00ED-132E-451F-94D4-953161F87482__GUID-11572A36-0C31-41B8-A3A6-691A218EC1F5">
                        <p class="titleinexample">Example 11-4 Retrieving Node Value with a User-Defined Stream</p><pre class="pre codeblock"><code>DECLARE
  ostream     MyBinaryOutputStream = MyBinaryOutputStream ();
  node        DBMS_XMLDOM.domnode;
  ...
BEGIN
  ...
  -- This drives the write methods in MyBinaryOutputStream,
  -- flushes the data, and closes the stream after the value has been
  -- completely written.
  DBMS_XMLDOM.getNodeValueAsBinaryStream (node, ostream);
  ...
END;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4903"></a><a id="ADXDB4904"></a><a id="ADXDB4902"></a><div class="props_rev_3"><a id="GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57" name="GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57"></a><h4 id="ADXDB-GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57" class="sect4"><span class="enumeration_section">11.2.15 </span>Get-Pull Model for Large Node Handling
                  </h4>
                  <div>
                     <p>In this model, you retrieve the value of a DOM node, using a parser that is in pull mode. Oracle XML&nbsp;DB reads the event data from an input stream written by the parser.</p>
                     <p>To read the value of a node in this model, Oracle XML&nbsp;DB creates a <span>binary input stream</span> or character input stream and returns this to the caller. The character set, C2, of the <span>character input stream</span> is the current session character set. Oracle XML&nbsp;DB populates the input stream as the caller pulls the node data from the stream so Oracle XML&nbsp;DB is again the producer of the data. If the stream is a <span>character input stream</span>, then the node data type may be any supported by Oracle XML&nbsp;DB and node data, if character, is converted, if necessary, from C1 to C2. If the node data is non-character, it is converted to character in C2. If a <span>binary input stream</span>, the data type of the node must be <code class="codeph">RAW</code> or <code class="codeph">BLOB</code>.
                     </p>
                     <p>The functions of the <code class="codeph">DBMS_XMLDOM</code> package to be used for this case are <code class="codeph">getNodeValueAsBinaryStream</code> and <code class="codeph">getNodeValueAsCharacterStream</code>.
                     </p><pre class="oac_no_warn" dir="ltr">
FUNCTION getNodeValueAsBinaryStream(n IN DBMS_XMLDOM.domnode) 
         RETURN SYS.utl_BinaryInputStream;
</pre><p>This function returns an instance of the new PL/SQL <code class="codeph">SYS.utl_BinaryInputStream</code> that can be read using defined methods as described in the section <a href="PLSQL-APIs-for-XMLType.html#GUID-43443083-4ED7-4E62-A450-E60CE2524AD7" title="In this model, you set the value of a DOM node, using a parser that is in pull mode. Oracle XML&nbsp;DB reads the event data from an input stream written by the parser.">Set-Pull Model for Large Node Handling</a>. The node data type must be <code class="codeph">RAW</code> or <code class="codeph">BLOB</code> or else an exception is raised.
                     </p><pre class="oac_no_warn" dir="ltr">FUNCTION getNodeValueAsCharacterStream (n IN DBMS_XMLDOM.domnode) 
         RETURN SYS.utl_CharacterInputStream;
</pre><p>This function returns an instance of the new PL/SQL <code class="codeph">SYS.utl_CharacterInputStream</code> that can be read using defined methods. If the node data is character it is converted to the current session character set. If the node data is not character data, it is first converted to character data.
                     </p>
                     <p><a href="PLSQL-APIs-for-XMLType.html#GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57__CHDBFEGJ">Example 11-5</a> illustrates reading a node value as binary data in 50-byte increments:
                     </p>
                     <p><a href="PLSQL-APIs-for-XMLType.html#GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57__CHDBIJAC">Example 11-6</a> illustrates reading a node value as character data in 50-character increments:
                     </p>
                     <div class="example" id="GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57__CHDBFEGJ">
                        <p class="titleinexample">Example 11-5 Get-Pull of Binary Data</p><pre class="oac_no_warn" dir="ltr">DECLARE
  istream      SYS.utl_BinaryInputStream;
  node         DBMS_XMLDOM.domnode;
  buffer       raw(50);
  numBytes     pls_integer;
  ...
BEGIN
  ...
  istream := DBMS_XMLDOM.getNodeValueAsBinaryStream (node);
  -- Read stream in 50-byte chunks
  LOOP
    numBytes := 50;
    istream.read ( buffer, numBytes);
    if numBytes &lt;= 0 then
       exit;
    end if;
-- Process next 50 bytes of node value in buffer
END LOOP
...
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57__CHDBIJAC">
                        <p class="titleinexample">Example 11-6 Get-Pull of Character Data</p><pre class="oac_no_warn" dir="ltr">DECLARE
  istream      SYS.utl_CharacterInputStream;
  node         DBMS_XMLDOM.domnode;
  buffer       varchar2(50);
  numChars     pls_integer;
  ...
BEGIN
  ...
  istream := DBMS_XMLDOM.getNodeValueAsCharacterStream (node);
-- Read stream in 50-character chunks
LOOP
   numChars := 50;
   istream.read ( buffer, numChars);
   IF numChars &lt;= 0 then
      exit;
   END IF;
-- Process next 50 characters of node value in buffer
END LOOP 
...
END;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4906"></a><a id="ADXDB4905"></a><div class="props_rev_3"><a id="GUID-43443083-4ED7-4E62-A450-E60CE2524AD7" name="GUID-43443083-4ED7-4E62-A450-E60CE2524AD7"></a><h4 id="ADXDB-GUID-43443083-4ED7-4E62-A450-E60CE2524AD7" class="sect4"><span class="enumeration_section">11.2.16 </span>Set-Pull Model for Large Node Handling
                  </h4>
                  <div>
                     <p>In this model, you set the value of a DOM node, using a parser that is in pull mode. Oracle XML&nbsp;DB reads the event data from an input stream written by the parser.</p>
                     <p>To write a node value in this mode, the application creates a <span>binary input stream</span> or <span>character input stream</span> and passes this to Oracle XML&nbsp;DB. 
                     </p>
                     <p>The character set of the <span>character input stream</span>, C2, is the session character set. Oracle XML&nbsp;DB pulls the data from the input stream and populates the node. If the stream is a <span>character input stream</span>, then the data type of the node may be any supported by Oracle XML&nbsp;DB. If the data type of the node is not character, the stream data is first converted to the node data type. If the node data type is character, then no conversion occurs, so the node data remains in character set C2. If the stream is a <code class="codeph">binary input stream</code>, then the data type of the node must be <code class="codeph">RAW</code> or <code class="codeph">BLOB</code> and no conversion occurs.
                     </p>
                     <p>The procedures of the <code class="codeph">DBMS_XMLDOM</code> package to be used for this case are <code class="codeph">setNodeValueAsBinaryStream</code> and <code class="codeph">setNodeValueAsCharacterStream</code>.
                     </p><pre class="pre codeblock"><code>PROCEDURE setNodeValueAsBinaryStream(<span class="italic">n</span> IN DBMS_XMLDOM.domnode,
          <span class="italic">value</span> IN SYS.utl_BinaryInputStream);
</code></pre><p>The application passes in an implementation of <code class="codeph">SYS.utl_BinaryInputStream</code> from which Oracle XML&nbsp;DB reads data to populate the node. The data type of the node must be <code class="codeph">RAW</code> or <code class="codeph">BLOB</code> or else an exception is raised.
                     </p><pre class="pre codeblock"><code>PROCEDURE setNodeValueAsCharacterStream (<span class="italic">n</span> IN DBMS_XMLDOM.domnode,
          <span class="italic">value</span> IN SYS.utl_CharacterInputStream);
</code></pre><p>The application passes in an implementation of <code class="codeph">SYS.utl_CharacterInputStream</code> from which Oracle XML&nbsp;DB reads to populate the node. The data type of the node may be any valid type supported by Oracle XML&nbsp;DB. If it is a non-character data type, the character data read from the stream is converted to the data type of the node. If the data type of the node is either character or <code class="codeph">CLOB</code>, then no conversion occurs and the character set of the node becomes the character set of the PL/SQL session.
                     </p>
                     <p><a href="PLSQL-APIs-for-XMLType.html#GUID-43443083-4ED7-4E62-A450-E60CE2524AD7__CHDFDBIG">Example 11-7</a> illustrates setting the node value to binary data produced by the read methods defined in a user-defined subtype of <code class="codeph">SYS.utl_BinaryInputStream</code>, which is called <code class="codeph">MyBinaryInputStream</code>:
                     </p>
                     <p>You can use an object of type <code class="codeph">MyBinaryInputStream</code> to set the value of a node as follows:
                     </p><pre class="pre codeblock"><code>DECLARE
  istream     MyBinaryInputStream = MyBinaryInputStream ();
  node        DBMS_XMLDOM.domnode;
  ...
BEGIN
  ...
  -- This drives the read methods in MyBinaryInputStream
  DBMS_XMLDOM.setNodeValueAsBinaryStream (node, istream);
  ...
END;</code></pre><div class="example" id="GUID-43443083-4ED7-4E62-A450-E60CE2524AD7__CHDFDBIG">
                        <p class="titleinexample">Example 11-7 Set-Pull of Binary Data</p><pre class="pre codeblock"><code>CREATE TYPE MyBinaryInputStream UNDER SYS.utl_BinaryInputStream (
    CONSTRUCTOR FUNCTION MyBinaryInputStream ()
    RETURN SELF AS RESULT,
  MEMBER FUNCTION read () RETURN RAW,
  MEMBER PROCEDURE read (bytes IN OUT RAW, numbytes IN OUT INTEGER),
  MEMBER PROCEDURE read (bytes IN OUT RAW,
                         offset IN INTEGER,
                         length IN OUT INTEGER),
  MEMBER FUNCTION close () RETURN BOOLEAN);
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4908"></a><a id="ADXDB4907"></a><div class="props_rev_3"><a id="GUID-DCBCC32B-3529-49A0-BF23-1BFF9062367D" name="GUID-DCBCC32B-3529-49A0-BF23-1BFF9062367D"></a><h4 id="ADXDB-GUID-DCBCC32B-3529-49A0-BF23-1BFF9062367D" class="sect4"><span class="enumeration_section">11.2.17 </span>Set-Push Model for Large Node Handling
                  </h4>
                  <div>
                     <p>In this model, you set the value of a DOM node, using a parser that is in push mode. Oracle XML&nbsp;DB writes the node data to an output stream that the parser reads.</p>
                     <p>To write a new node value in this mode, Oracle XML&nbsp;DB creates a <span>binary output stream</span> or <span>character output stream</span> and returns this to the caller. The character set of the <span>character output stream</span>, C2, is the current session character set. The caller pushes data into the output stream and Oracle XML&nbsp;DB then writes this to the Oracle XML&nbsp;DB Node. If the stream is a <span>character output stream</span>, then the data type of the node may be any type supported by Oracle XML&nbsp;DB. In this case, the character data is converted to the node data type. If the node data type is character, then the character set, C1, is changed to C2. No data conversion occurs. If the stream is a <span>binary input stream</span>, and the data type of the node must be <code class="codeph">RAW</code> or <code class="codeph">BLOB</code>. In this case, the stream is read without data conversion.
                     </p>
                     <p>The procedures of the <code class="codeph">DBMS_XMLDOM</code> package to be used for this case are <code class="codeph">setNodeValueAsBinaryStream</code> and <code class="codeph">setNodeValueAsCharacterStream</code>.
                     </p><pre class="pre codeblock"><code>FUNCTION setNodeValueAsBinaryStream(n IN DBMS_XMLDOM.domnode) 
         RETURN SYS.utl_BinaryOutputStream;
</code></pre><p>This function returns an instance of <code class="codeph">SYS.utl_BinaryOutputStream</code> into which the caller can write the node value. The data type of the node must be <code class="codeph">RAW</code> or <code class="codeph">BLOB</code> or else an exception is raised.
                     </p><pre class="pre codeblock"><code>FUNCTION setNodeValueAsCharacterStream (n IN DBMS_XMLDOM.domnode) 
         RETURN SYS.utl_CharacterOutputStream;
</code></pre><p>This function returns an instance of the PL/SQL <code class="codeph">SYS.utl_CharacterOutputStream</code> type into which the caller can write the node value. The data type of the node can be any valid Oracle XML&nbsp;DB data type. If the type is not character or <code class="codeph">CLOB</code>, the character data written to the stream is converted to the node data type. If the data type of the node is character or <code class="codeph">CLOB</code>, then the character data written to the stream is converted from PL/SQL session character set to the character set of the node
                     </p>
                     <p><a href="PLSQL-APIs-for-XMLType.html#GUID-DCBCC32B-3529-49A0-BF23-1BFF9062367D__CHDCEHBB">Example 11-8</a> illustrates setting the value of a node to binary data by writing 50-byte segments into the <code class="codeph">SYS.utl_BinaryOutputStream</code>:
                     </p>
                     <div class="example" id="GUID-DCBCC32B-3529-49A0-BF23-1BFF9062367D__CHDCEHBB">
                        <p class="titleinexample">Example 11-8 Set-Push of Binary Data</p><pre class="pre codeblock"><code>DECLARE
  ostream      SYS.utl_BinaryOutputStream;
  node         DBMS_XMLDOM.domnode;
  buffer       raw(500);
  segment      raw(50);
  numBytes     pls_integer;
  offset       pls_integer;
  ...
BEGIN
  ...
  ostream := DBMS_XMLDOM.setNodeValueAsBinaryStream (node);
  offset := 0;
  length := 500;
  -- Write to stream in 50-byte chunks
  LOOP
    numBytes := 50;
    -- Get next 50 bytes of buffer
    ostream.write ( segment, offset, numBytes);
    length := length - numBytes;
    IF length  &lt;= 0 then
       exit;
    END IF;
  END LOOP
  ostream.close();
  ...
END;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4909"></a><div class="props_rev_3"><a id="GUID-A0C33052-CAEA-4678-B3AA-C0D2EA7A56F7" name="GUID-A0C33052-CAEA-4678-B3AA-C0D2EA7A56F7"></a><h4 id="ADXDB-GUID-A0C33052-CAEA-4678-B3AA-C0D2EA7A56F7" class="sect4"><span class="enumeration_section">11.2.18 </span>Determining Binary Stream or Character Stream for Large Node Handling
                  </h4>
                  <div>
                     <p>You can use subprogram <code class="codeph">DBMS_XMLDOM.useBinaryStream</code> to determine whether to use a character stream or a binary stream to access the content of a large node.
                     </p>
                     <div class="section"><pre class="pre codeblock"><code>FUNCTION useBinaryStream (n IN DBMS_XMLDOM.domnode) RETURN BOOLEAN;
</code></pre><p>This function returns <code class="codeph">TRUE</code> if the data type of the node is <code class="codeph">RAW</code> or <code class="codeph">BLOB</code>, so that the node value may be read or written using either a <code class="codeph">SYS.utl_BinaryInputStream</code> or a <code class="codeph">SYS.utl_BinaryOutputStream</code>. If a value of <code class="codeph">FALSE</code> is returned, the node value can be accessed only using a <code class="codeph">SYS.utl_CharacterInputStream</code> or a <code class="codeph">SYS.utl_CharacterOutputStream</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="The PL/SQL DOM API for XMLType, DBMS_XMLDOM lets you operate on XMLType instances using a DOM.">PL/SQL DOM API for XMLType (DBMS_XMLDOM)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4913"></a><a id="ADXDB4914"></a><a id="ADXDB4910"></a><div class="props_rev_3"><a id="GUID-3EA684A3-2149-4550-924A-35CD5246ED90" name="GUID-3EA684A3-2149-4550-924A-35CD5246ED90"></a><h3 id="ADXDB-GUID-3EA684A3-2149-4550-924A-35CD5246ED90" class="sect3"><span class="enumeration_section">11.3 </span>PL/SQL Parser API for XMLType (DBMS_XMLPARSER)
               </h3>
               <div>
                  <p>The PL/SQL Parser API for <code class="codeph">XMLType</code> (<code class="codeph">DBMS_XMLPARSER</code>) builds a parsing result tree that can be accessed by PL/SQL APIs. If parsing fails, it raises an error.
                  </p>
                  <p>A software module called an XML parser or processor reads XML documents and provides access to their content and structure. An XML parser usually does its work on behalf of another module, typically the application. </p>
                  <p>XML documents are made up of storage units, called <span class="italic">entities</span>, that contain either parsed or unparsed data. Parsed data is made up of characters, some of which constitute character data and some of which act as markup. Markup encodes a description of the document storage layout and logical structure. XML provides a mechanism for imposing constraints on the storage layout and logical structure.
                  </p>
                  <p><a href="PLSQL-APIs-for-XMLType.html#GUID-3EA684A3-2149-4550-924A-35CD5246ED90__I1043623">Figure 11-2</a> illustrates how to use the PL/SQL Parser for <code class="codeph">XMLType</code> (<code class="codeph">DBMS_XMLPARSER</code>). These are the steps:
                  </p>
                  <ol>
                     <li>
                        <p>Construct a parser instance using PL/SQL method <code class="codeph">newParser()</code>.
                        </p>
                     </li>
                     <li>
                        <p>Parse XML documents using PL/SQL methods such as <code class="codeph">parseBuffer()</code>, <code class="codeph">parseClob()</code>, and <code class="codeph">parse(URI)</code>. An error is raised if the input is not a valid XML document.
                        </p>
                     </li>
                     <li>
                        <p>Call PL/SQL function <code class="codeph">getDocument</code> on the parser to obtain a <code class="codeph">DOMDocument</code> interface.
                        </p>
                     </li>
                  </ol>
                  <div class="figure" id="GUID-3EA684A3-2149-4550-924A-35CD5246ED90__I1043623">
                     <p class="titleinfigure">Figure 11-2 Using the PL/SQL Parser API for XMLType</p><img src="img/adxdb015.gif" width="188" alt="Description of Figure 11-2 follows" title="Description of Figure 11-2 follows" longdesc="img_text/adxdb015.html"><br><a href="img_text/adxdb015.html">Description of "Figure 11-2 Using the PL/SQL Parser API for XMLType"</a></div>
                  <!-- class="figure" -->
                  <p><a href="PLSQL-APIs-for-XMLType.html#GUID-3EA684A3-2149-4550-924A-35CD5246ED90__BEIGFDHI">Example 11-9</a> parses a simple XML document. It creates an XML parser (instance of <code class="codeph">DBMS_XMLPARSER.parser</code>) and uses it to parse the XML document (text) in variable <code class="codeph">indoc</code>. Parsing creates a DOM document, which is retrieved from the parser using <code class="codeph">DBMS_XMLPARSER.getDocument</code>. A DOM node is created that contains the entire document, and the node is printed. After freeing (destroying) the DOM document, the parser instance is freed using <code class="codeph">DBMS_XMLPARSER.freeParser</code>.
                  </p>
                  <div class="infoboxnote" id="GUID-3EA684A3-2149-4550-924A-35CD5246ED90__GUID-DEB9E8FE-378C-483A-8490-B3573CC7FCB5">
                     <p class="notep1">Note:</p>
                     <p>Method <code class="codeph">DBMS_XMLPARSER.setErrorLog()</code> is not supported.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-3EA684A3-2149-4550-924A-35CD5246ED90__GUID-CAB21705-BD3A-438B-A983-82FD20A2FED4">
                     <p class="notep1">See Also:</p>
                     <p><a href="../arpls/DBMS_XMLPARSER.html#ARPLS375" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for descriptions of individual <code class="codeph">DBMS_XMLPARSER</code> methods
                     </p>
                  </div>
                  <div class="example" id="GUID-3EA684A3-2149-4550-924A-35CD5246ED90__BEIGFDHI">
                     <p class="titleinexample">Example 11-9 Parsing an XML Document</p><pre class="oac_no_warn" dir="ltr">DECLARE
  indoc    VARCHAR2(2000);
  indomdoc DBMS_XMLDOM.DOMDocument;
  innode   DBMS_XMLDOM.DOMNode;
  myparser DBMS_XMLPARSER.parser;
  buf      VARCHAR2(2000);
BEGIN
  indoc := '&lt;emp&gt;&lt;name&gt;De Selby&lt;/name&gt;&lt;/emp&gt;';
  myParser := DBMS_XMLPARSER.newParser;
  DBMS_XMLPARSER.parseBuffer(myParser, indoc);
  indomdoc := DBMS_XMLPARSER.getDocument(myParser);
  innode := DBMS_XMLDOM.makeNode(indomdoc);
  DBMS_XMLDOM.writeToBuffer(innode, buf);
  DBMS_OUTPUT.put_line(buf);
  DBMS_XMLDOM.freeDocument(indomdoc);
  DBMS_XMLPARSER.freeParser(myParser);
END;
/
</pre><p>This produces the following output:</p><pre class="oac_no_warn" dir="ltr">&lt;emp&gt;&lt;name&gt;De Selby&lt;/name&gt;&lt;/emp&gt;</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-2D5B2D47-9CFF-49D0-9BD8-114BBE48A289" title="There are several PL/SQL packages that provide APIs for XMLType.">PL/SQL APIs for XMLType</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB4915"></a><div class="props_rev_3"><a id="GUID-0E3358AF-0819-4B17-AF0B-793E96DA5EB9" name="GUID-0E3358AF-0819-4B17-AF0B-793E96DA5EB9"></a><h3 id="ADXDB-GUID-0E3358AF-0819-4B17-AF0B-793E96DA5EB9" class="sect3"><span class="enumeration_section">11.4 </span>PL/SQL XSLT Processor for XMLType (DBMS_XSLPROCESSOR)
               </h3>
               <div>
                  <p>You can use PL/SQL package <code class="codeph">DBMS_XSLPROCESSOR</code> to transform one XML document to another or to convert XML data into HTML, PDF, or other formats. This package traverses the DOM tree for the document and applies Extensible Stylesheet Language Transformation (XSLT) statements to it to produce the transformed document.
                  </p>
                  <p>The W3C XSL Recommendation describes rules for transforming a source tree into a result tree. A transformation expressed in XSL is called an <strong class="term">XSLT stylesheet</strong>. The transformation specified is achieved by associating patterns with templates defined in the XSLT stylesheet. A template is instantiated to create part of the result tree. XSLT is widely used to convert XML data to HTML for web browser display.
                  </p>
                  <div class="infoboxnote" id="GUID-0E3358AF-0819-4B17-AF0B-793E96DA5EB9__GUID-FB8722D7-BA31-4BF7-AF82-334277CA24FF">
                     <p class="notep1">Note:</p>
                     <p>Oracle XML&nbsp;DB applications do not require a separate XML parser. However, applications requiring external processing can still use the XML Parser for PL/SQL first to expose the document structure. The XML Parser for PL/SQL in Oracle XML Developer's Kit parses an XML document (or a standalone DTD) so that the XML document can be processed by an application, typically running on the client. PL/SQL APIs for <code class="codeph">XMLType</code> are used for applications that run on the server and are natively integrated in the database. Benefits of running applications on the server include performance improvements and enhanced access and manipulation options.
                     </p>
                  </div>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-A12D2387-0268-4766-80B2-1BBDDDC77C8D">PL/SQL XSLT Processor for XMLType: Features</a><br>PL/SQL XSLT Processor for <code class="codeph">XMLType</code> (<code class="codeph">DBMS_XSLPROCESSOR</code>) follows the W3C XSLT final recommendation (REC-xslt-19991116). It provides a convenient and efficient way of applying a single XSL stylesheet to multiple documents.
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-0C886A80-A2C1-4E02-8E80-B13D577F4AC3">Using the PL/SQL XSLT Processor API for XMLType (DBMS_XSLPROCESSOR)</a><br>You create an XSLT processor, build a <code class="codeph">STYLESHEET</code> object from a DOM document, transform the document using the processor and the stylesheet, and use the DOM API for <code class="codeph">XMLType</code> to manipulate the result of XSLT processing.
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="transformation-and-validation-of-XMLType-data.html#GUID-EC4E2212-67EF-425C-AB5E-D48E62EAB9A7" title="There are several Oracle SQL functions and XMLType APIs for transforming XMLType data using XSLT stylesheets and for validating XMLType instances against an XML schema.">Transformation and Validation of XMLType Data</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-2D5B2D47-9CFF-49D0-9BD8-114BBE48A289" title="There are several PL/SQL packages that provide APIs for XMLType.">PL/SQL APIs for XMLType</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4917"></a><div class="props_rev_3"><a id="GUID-A12D2387-0268-4766-80B2-1BBDDDC77C8D" name="GUID-A12D2387-0268-4766-80B2-1BBDDDC77C8D"></a><h4 id="ADXDB-GUID-A12D2387-0268-4766-80B2-1BBDDDC77C8D" class="sect4"><span class="enumeration_section">11.4.1 </span>PL/SQL XSLT Processor for XMLType: Features
                  </h4>
                  <div>
                     <p>PL/SQL XSLT Processor for <code class="codeph">XMLType</code> (<code class="codeph">DBMS_XSLPROCESSOR</code>) follows the W3C XSLT final recommendation (REC-xslt-19991116). It provides a convenient and efficient way of applying a single XSL stylesheet to multiple documents.
                     </p>
                     <p>The methods in PL/SQL package <code class="codeph">DBMS_XSLPROCESSOR</code> use PL/SQL data types <code class="codeph">PROCESSOR</code> and <code class="codeph">STYLESHEET</code>, which are specific to the XSL Processor implementation. All <code class="codeph">DBMS_XSLPROCESSOR</code> methods are supported by Oracle XML&nbsp;DB, with the <span class="italic">exception</span> of method <code class="codeph">setErrorLog()</code>.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A12D2387-0268-4766-80B2-1BBDDDC77C8D__GUID-8D89DEF2-2483-46D6-8CC6-D2C19BE12EB0">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/DBMS_XSLPROCESSOR.html#ARPLS379" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for descriptions of the individual <code class="codeph">DBMS_XSLPROCESSOR</code> methods
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-0E3358AF-0819-4B17-AF0B-793E96DA5EB9" title="You can use PL/SQL package DBMS_XSLPROCESSOR to transform one XML document to another or to convert XML data into HTML, PDF, or other formats. This package traverses the DOM tree for the document and applies Extensible Stylesheet Language Transformation (XSLT) statements to it to produce the transformed document.">PL/SQL XSLT Processor for XMLType (DBMS_XSLPROCESSOR)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4919"></a><a id="ADXDB4920"></a><a id="ADXDB4918"></a><div class="props_rev_3"><a id="GUID-0C886A80-A2C1-4E02-8E80-B13D577F4AC3" name="GUID-0C886A80-A2C1-4E02-8E80-B13D577F4AC3"></a><h4 id="ADXDB-GUID-0C886A80-A2C1-4E02-8E80-B13D577F4AC3" class="sect4"><span class="enumeration_section">11.4.2 </span>Using the PL/SQL XSLT Processor API for XMLType (DBMS_XSLPROCESSOR)
                  </h4>
                  <div>
                     <p>You create an XSLT processor, build a <code class="codeph">STYLESHEET</code> object from a DOM document, transform the document using the processor and the stylesheet, and use the DOM API for <code class="codeph">XMLType</code> to manipulate the result of XSLT processing.
                     </p>
                     <div class="section">
                        <p><a href="PLSQL-APIs-for-XMLType.html#GUID-0C886A80-A2C1-4E02-8E80-B13D577F4AC3__BEIJAGBB">Figure 11-3</a> illustrates how to use the XSLT Processor for <code class="codeph">XMLType</code> (<code class="codeph">DBMS_XSLPROCESSOR</code>). 
                        </p>
                        <div class="figure" id="GUID-0C886A80-A2C1-4E02-8E80-B13D577F4AC3__BEIJAGBB">
                           <p class="titleinfigure">Figure 11-3 Using the PL/SQL XSLT Processor for XMLType</p><img src="img/adxdb016.gif" width="323" alt="Description of Figure 11-3 follows" title="Description of Figure 11-3 follows" longdesc="img_text/adxdb016.html"><br><a href="img_text/adxdb016.html">Description of "Figure 11-3 Using the PL/SQL XSLT Processor for XMLType"</a></div>
                        <!-- class="figure" -->
                        <p>These are the steps:</p>
                        <ol>
                           <li>
                              <p>Construct an XSLT processor using <code class="codeph">newProcessor</code>.
                              </p>
                           </li>
                           <li>
                              <p>Use <code class="codeph">newStylesheet</code> to build a <code class="codeph">STYLESHEET</code> object from a DOM document.
                              </p>
                           </li>
                           <li>
                              <p>Optionally, you can set parameters for the <code class="codeph">STYLESHEET</code> object using <code class="codeph">setParams</code>.
                              </p>
                           </li>
                           <li>
                              <p>Use <code class="codeph">processXSL</code> to transform a DOM document using the processor and <code class="codeph">STYLESHEET</code> object.
                              </p>
                           </li>
                           <li>
                              <p>Use the PL/SQL DOM API for <code class="codeph">XMLType</code> to manipulate the result of XSLT processing.
                              </p>
                           </li>
                        </ol>
                        <p><a href="PLSQL-APIs-for-XMLType.html#GUID-0C886A80-A2C1-4E02-8E80-B13D577F4AC3__BEIFDEJB">Example 11-10</a> transforms an XML document using procedure <code class="codeph">processXSL</code>. It uses the same parser instance to create two different DOM documents: the XML text to transform and the XSLT stylesheet. An XSL processor instance is created, which applies the stylesheet to the source XML to produce a new DOM fragment. A DOM node (<code class="codeph">outnode</code>) is created from this fragment, and the node content is printed. The output DOM fragment, parser, and XSLT processor instances are freed using procedures <code class="codeph">freeDocFrag</code>, <code class="codeph">freeParser</code>, and <code class="codeph">freeProcessor</code>, respectively.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-0C886A80-A2C1-4E02-8E80-B13D577F4AC3__BEIFDEJB">
                        <p class="titleinexample">Example 11-10 Transforming an XML Document Using an XSL Stylesheet</p><pre class="pre codeblock"><code>DECLARE
  indoc      VARCHAR2(2000);
  xsldoc     VARCHAR2(2000);
  myParser   DBMS_XMLPARSER.parser;
  indomdoc   DBMS_XMLDOM.DOMDocument;
  xsltdomdoc DBMS_XMLDOM.DOMDocument;
  xsl        DBMS_XSLPROCESSOR.stylesheet;
  outdomdocf DBMS_XMLDOM.DOMDocumentFragment;
  outnode    DBMS_XMLDOM.DOMNode;
  proc       DBMS_XSLPROCESSOR.processor;
  buf        VARCHAR2(2000);
BEGIN
  indoc := '&lt;emp&gt;&lt;empno&gt;1&lt;/empno&gt; 
              &lt;fname&gt;robert&lt;/fname&gt; 
              &lt;lname&gt;smith&lt;/lname&gt;
              &lt;sal&gt;1000&lt;/sal&gt;
              &lt;job&gt;engineer&lt;/job&gt;
            &lt;/emp&gt;';
  xsldoc := '&lt;?xml version="1.0"?&gt; 
             &lt;xsl:stylesheet version="1.0"     
                             xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt;
               &lt;xsl:output encoding="utf-8"/&gt;
               &lt;!-- alphabetizes an xml tree --&gt;
               &lt;xsl:template match="*"&gt;
                 &lt;xsl:copy&gt;
                   &lt;xsl:apply-templates select="*|text()"&gt;
                     &lt;xsl:sort select="name(.)" data-type="text" 
                               order="ascending"/&gt;
                   &lt;/xsl:apply-templates&gt;
                 &lt;/xsl:copy&gt;
               &lt;/xsl:template&gt;
               &lt;xsl:template match="text()"&gt;
                 &lt;xsl:value-of select="normalize-space(.)"/&gt;
               &lt;/xsl:template&gt;
             &lt;/xsl:stylesheet&gt;';
  myParser := DBMS_XMLPARSER.newParser;
  DBMS_XMLPARSER.parseBuffer(myParser, indoc);
  indomdoc   := DBMS_XMLPARSER.getDocument(myParser);
  DBMS_XMLPARSER.parseBuffer(myParser, xsldoc);
  xsltdomdoc := DBMS_XMLPARSER.getDocument(myParser);
  xsl        := DBMS_XSLPROCESSOR.newStyleSheet(xsltdomdoc, '');
  proc       := DBMS_XSLPROCESSOR.newProcessor;
  --apply stylesheet to DOM document   
  outdomdocf := DBMS_XSLPROCESSOR.processXSL(proc, xsl, indomdoc);
  outnode    := DBMS_XMLDOM.makeNode(outdomdocf); 
  -- PL/SQL DOM API for XMLType can be used here
  DBMS_XMLDOM.writeToBuffer(outnode, buf);
  DBMS_OUTPUT.put_line(buf);
  DBMS_XMLDOM.freeDocument(indomdoc);
  DBMS_XMLDOM.freeDocument(xsltdomdoc);
  DBMS_XMLDOM.freeDocFrag(outdomdocf);
  DBMS_XMLPARSER.freeParser(myParser);
  DBMS_XSLPROCESSOR.freeProcessor(proc);
END;
/
</code></pre><p>This produces the following output:</p><pre class="pre codeblock"><code>&lt;emp&gt;
&lt;empno&gt;1&lt;/empno&gt;
&lt;fname&gt;robert&lt;/fname&gt;
&lt;job&gt;engineer&lt;/job&gt;
&lt;lname&gt;smith&lt;/lname&gt;
&lt;sal&gt;1000&lt;/sal&gt;
&lt;/emp&gt;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-0E3358AF-0819-4B17-AF0B-793E96DA5EB9" title="You can use PL/SQL package DBMS_XSLPROCESSOR to transform one XML document to another or to convert XML data into HTML, PDF, or other formats. This package traverses the DOM tree for the document and applies Extensible Stylesheet Language Transformation (XSLT) statements to it to produce the transformed document.">PL/SQL XSLT Processor for XMLType (DBMS_XSLPROCESSOR)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>