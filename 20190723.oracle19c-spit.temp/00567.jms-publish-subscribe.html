<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Oracle Java Message Service Publish/Subscribe</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Advanced Queuing User's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Advanced Queuing User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96511-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="jms-point-to-point.html" title="Previous" type="text/html">
      <link rel="next" href="jms-shared-interfaces.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OracleÂ® Database Advanced Queuing">
    <meta name="dcterms.isVersionOf" content="ADQUE">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="jms-point-to-point.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="jms-shared-interfaces.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Advanced Queuing User's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Oracle Java Message Service Publish/Subscribe</li>
            </ol>
            <a id="GUID-882CB057-A0C0-4C5E-A5D0-CCB0AAA8D0D5" name="GUID-882CB057-A0C0-4C5E-A5D0-CCB0AAA8D0D5"></a><a id="ADQUE1400"></a>
            
            <h2 id="ADQUE-GUID-882CB057-A0C0-4C5E-A5D0-CCB0AAA8D0D5" class="sect2"><span class="enumeration_chapter">14 </span> Oracle Java Message Service Publish/Subscribe
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The following topics describe the components of the Oracle Database Advanced Queuing (AQ) <a href="glossary.html#GUID-3A98EBD4-296B-4BE8-82AE-5B42D07E9894"><span class="xrefglossterm">Java Message Service</span></a> (JMS) operational interface that are specific to <a href="glossary.html#GUID-C1099A1A-C20D-4C9C-AD73-BBF6BC8939B5"><span class="xrefglossterm">publish/subscribe</span></a> operations. Components that are shared by point-to-point and publish/subscribe are described in <a href="jms-shared-interfaces.html#GUID-B53CE112-EBD2-48FD-BC3B-1090F5E29BD0"> Oracle Java Message Service Shared Interfaces</a>.
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-A61A67BA-C875-4DD3-9FC0-87457812B16C">Creating a Connection with User Name/Password</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-63A174F1-909C-42C4-95E0-2F57066235E2">Creating a Connection with Default ConnectionFactory Parameters</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-67ED685D-0B92-451D-8DAB-CE5E23435A6A">Creating a TopicConnection with User Name/Password</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-60537E82-F3B4-414C-8375-B273FF1A3DAC">Creating a TopicConnection with Open JDBC Connection</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-39155312-0353-407C-9EE9-9D84B5E5698B">Creating a TopicConnection with an Open OracleOCIConnectionPool</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-EF96F5A8-7455-4804-A1AF-530969904F38">Creating a Session</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-EBCE0684-7337-4EEA-A1FA-ABEC0717BEA5">Creating a TopicSession</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-0A249758-0231-4CF3-A2F8-1A95C8111134">Creating a TopicPublisher</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-37E67651-EEEC-46F4-8331-D95D2BA43D01">Publishing Messages with Minimal Specification</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-E4E95421-8B4F-480A-810B-F7B8B45AFB9E">Publishing Messages Specifying Topic</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-7D8D58AC-CFDE-471D-8252-237BAE32153F">Publishing Messages Specifying Delivery Mode_ Priority_ and TimeToLive </a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-0B3FC447-D075-4A24-A0D0-93C72B825A20">Publishing Messages Specifying a Recipient List</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-D367FE9C-FDCB-44ED-918F-B8912B0EA98A">Creating a DurableSubscriber for a JMS Topic Without Selector </a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-55B7D08A-E221-4B93-997F-80065752F9ED">Creating a DurableSubscriber for a JMS Topic with Selector </a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-4251552A-AE97-48FE-972F-A1563616F61C">Creating a DurableSubscriber for an Oracle Object Type Topic Without Selector</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-468FBDF8-98D0-41BB-A3C1-2554F86A18C3">Creating a DurableSubscriber for an Oracle Object Type Topic with Selector</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-5EF25837-B7C5-491F-9BBF-002626AB94B7">Specifying Transformations for Topic Subscribers</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-73D207BA-EF8F-4612-94B9-6A038649424F">Creating a Remote Subscriber for JMS Messages</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-A1063E43-BF5C-4466-851D-5D0C489644A0">Creating a Remote Subscriber for Oracle Object Type Messages </a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-8D7D0BC0-4454-4310-AF06-11B6A6EAA707">Specifying Transformations for Remote Subscribers</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-C4B96289-E295-4B48-8423-527D7EC80A2F">Unsubscribing a Durable Subscription for a Local Subscriber </a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-526219F2-6B38-468D-8FB4-7B84285DFF0E">Unsubscribing a Durable Subscription for a Remote Subscriber</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-3532BDBD-3E62-4E1E-A79B-8012AE661EFF">Creating a TopicReceiver for a Topic of Standard JMS Type Messages </a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-9E165968-66F8-4A2E-A4F7-1B8F38832DA9">Creating a TopicReceiver for a Topic of Oracle Object Type Messages</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-B5A94557-8D39-4C3E-9D76-E78BA526E440">Creating a TopicBrowser for Standard JMS Messages</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-95BE7FA2-76E1-40CD-90BB-0E96D6E39F54">Creating a TopicBrowser for Standard JMS Messages_ Locking Messages</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-36964605-00F2-4585-9177-9D2C3268E578">Creating a TopicBrowser for Oracle Object Type Messages</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-D467A464-3B85-4197-9F91-023A321F1E88">Creating a TopicBrowser for Oracle Object Type Messages_ Locking Messages</a></p>
                  </li>
                  <li>
                     <p><a href="jms-publish-subscribe.html#GUID-073E8D0D-703B-4941-869A-7AA8C9F4CCC1">Browsing Messages Using a TopicBrowser</a></p>
                  </li>
               </ul>
            </div><a id="ADQUE3041"></a><div class="props_rev_3"><a id="GUID-A61A67BA-C875-4DD3-9FC0-87457812B16C" name="GUID-A61A67BA-C875-4DD3-9FC0-87457812B16C"></a><h3 id="ADQUE-GUID-A61A67BA-C875-4DD3-9FC0-87457812B16C" class="sect3"><span class="enumeration_section">14.1 </span>Creating a Connection with User Name/Password
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.Connection createConnection(
             java.lang.String username,
             java.lang.String password)
      throws JMSException
</pre><p>This method creates a connection supporting both point-to-point and publish/subscribe operations with the specified user name and password. This method is new and supports JMS version 1.1 specifications. It has the following parameters:</p>
                     <div class="tblformal" id="GUID-A61A67BA-C875-4DD3-9FC0-87457812B16C__GUID-1E26D3B1-1F24-429F-BF9E-7F2FAB3C29C3">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d88908e271">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d88908e274">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e279" headers="d88908e271 ">
                                    <p><code class="codeph">username</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e279 d88908e274 ">
                                    <p>Name of the user connecting to the database for queuing</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e287" headers="d88908e271 ">
                                    <p><code class="codeph">password</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e287 d88908e274 ">
                                    <p>Password for creating the connection to the server</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3042"></a><div class="props_rev_3"><a id="GUID-63A174F1-909C-42C4-95E0-2F57066235E2" name="GUID-63A174F1-909C-42C4-95E0-2F57066235E2"></a><h3 id="ADQUE-GUID-63A174F1-909C-42C4-95E0-2F57066235E2" class="sect3"><span class="enumeration_section">14.2 </span>Creating a Connection with Default ConnectionFactory Parameters
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.Connection createConnection()
      throws JMSException
</pre><p>This method creates a connection supporting both point-to-point and publish/subscribe operations with default <a href="glossary.html#GUID-BA2DFFB2-5E44-4256-9DDD-D5B2AE0D81B9"><span class="xrefglossterm">ConnectionFactory</span></a> parameters. This method is new and supports JMS version 1.1 specifications. If the <code class="codeph">ConnectionFactory</code> properties do not contain a default user name and password, then it throws a JMSException.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3044"></a><a id="ADQUE3043"></a><div class="props_rev_3"><a id="GUID-67ED685D-0B92-451D-8DAB-CE5E23435A6A" name="GUID-67ED685D-0B92-451D-8DAB-CE5E23435A6A"></a><h3 id="ADQUE-GUID-67ED685D-0B92-451D-8DAB-CE5E23435A6A" class="sect3"><span class="enumeration_section">14.3 </span>Creating a TopicConnection with User Name/Password
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.TopicConnection createTopicConnection(
             java.lang.String username,
             java.lang.String password)
      throws JMSException
</pre><p>This method creates a <code class="codeph">TopicConnection</code> with the specified user name and password. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-67ED685D-0B92-451D-8DAB-CE5E23435A6A__GUID-2950ECDE-B142-4533-B818-8CC2C5DC2435">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d88908e432">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d88908e435">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e440" headers="d88908e432 ">
                                    <p><code class="codeph">username</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e440 d88908e435 ">
                                    <p>Name of the user connecting to the database for queuing</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e448" headers="d88908e432 ">
                                    <p><code class="codeph">password</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e448 d88908e435 ">
                                    <p>Password for creating the connection to the server</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-67ED685D-0B92-451D-8DAB-CE5E23435A6A__GUID-51FA5F39-6B79-407C-8AC2-CCC9B0ACAFF2">
                     <p class="titleinexample">Example 14-1 Creating a TopicConnection with User Name/Password</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory tc_fact = AQjmsFactory.getTopicConnectionFactory("sun123", "oratest", 5521, "thin");
/* Create a TopicConnection using a username/password */
TopicConnection tc_conn = tc_fact.createTopicConnection("jmsuser", "jmsuser");</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3046"></a><a id="ADQUE3047"></a><a id="ADQUE3045"></a><div class="props_rev_3"><a id="GUID-60537E82-F3B4-414C-8375-B273FF1A3DAC" name="GUID-60537E82-F3B4-414C-8375-B273FF1A3DAC"></a><h3 id="ADQUE-GUID-60537E82-F3B4-414C-8375-B273FF1A3DAC" class="sect3"><span class="enumeration_section">14.4 </span>Creating a TopicConnection with Open JDBC Connection
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms.TopicConnection createTopicConnection(
              java.sql.Connection jdbc_connection)
       throws JMSException
</pre><p>This method creates a <code class="codeph">TopicConnection</code> with open JDBC connection. It has the following parameter:
                     </p>
                     <div class="tblformal" id="GUID-60537E82-F3B4-414C-8375-B273FF1A3DAC__GUID-D58A37D6-4BD0-47D8-A11B-DD77AA0D7C82">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d88908e531">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d88908e534">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e539" headers="d88908e531 ">
                                    <p><code class="codeph">jdbc_connection</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e539 d88908e534 ">
                                    <p>Valid open connection to database</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-60537E82-F3B4-414C-8375-B273FF1A3DAC__GUID-B289C019-C644-46E0-B2C5-30A1FA9F7A1E">
                     <p class="titleinexample">Example 14-2 Creating a TopicConnection with Open JDBC Connection</p><pre class="oac_no_warn" dir="ltr">Connection db_conn;   /*previously opened JDBC connection */
TopicConnection tc_conn = 
AQjmsTopicConnectionFactory createTopicConnection(db_conn);</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-60537E82-F3B4-414C-8375-B273FF1A3DAC__GUID-37108348-07AE-443C-952B-B66185C970CA">
                     <p class="titleinexample">Example 14-3 Creating a TopicConnection with New JDBC Connection</p><pre class="oac_no_warn" dir="ltr">OracleDriver ora = new OracleDriver();
TopicConnection tc_conn = 
AQjmsTopicConnectionFactory.createTopicConnection(ora.defaultConnection());</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3049"></a><a id="ADQUE3048"></a><div class="props_rev_3"><a id="GUID-39155312-0353-407C-9EE9-9D84B5E5698B" name="GUID-39155312-0353-407C-9EE9-9D84B5E5698B"></a><h3 id="ADQUE-GUID-39155312-0353-407C-9EE9-9D84B5E5698B" class="sect3"><span class="enumeration_section">14.5 </span>Creating a TopicConnection with an Open OracleOCIConnectionPool
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms.TopicConnection createTopicConnection(
              oracle.jdbc.pool.OracleOCIConnectionPool cpool)
       throws JMSException
</pre><p>This method creates a <code class="codeph">TopicConnection</code> with an open <code class="codeph">OracleOCIConnectionPool</code>. It is static and has the following parameter:
                     </p>
                     <div class="tblformal" id="GUID-39155312-0353-407C-9EE9-9D84B5E5698B__GUID-D057D459-6104-47A6-A650-AD0FF43CFA01">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d88908e629">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d88908e632">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e637" headers="d88908e629 ">
                                    <p><code class="codeph">cpool</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e637 d88908e632 ">
                                    <p>Valid open OCI connection pool to the database</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-39155312-0353-407C-9EE9-9D84B5E5698B__GUID-BF681B09-6FED-48FD-862C-9E6A6178166B">
                     <p class="titleinexample">Example 14-4 Creating a TopicConnection with Open OracleOCIConnectionPool</p><pre class="oac_no_warn" dir="ltr">OracleOCIConnectionPool cpool; /* previously created OracleOCIConnectionPool */
TopicConnection tc_conn = 
AQjmsTopicConnectionFactory.createTopicConnection(cpool);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3050"></a><div class="props_rev_3"><a id="GUID-EF96F5A8-7455-4804-A1AF-530969904F38" name="GUID-EF96F5A8-7455-4804-A1AF-530969904F38"></a><h3 id="ADQUE-GUID-EF96F5A8-7455-4804-A1AF-530969904F38" class="sect3"><span class="enumeration_section">14.6 </span>Creating a Session
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.Session createSession(boolean transacted,
                                                 int ack_mode)
                                          throws JMSException
</pre><p>This method creates a <code class="codeph">Session</code> supporting both point-to-point and publish/subscribe operations. It is new and supports JMS version 1.1 specifications. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-EF96F5A8-7455-4804-A1AF-530969904F38__GUID-ECC5E507-492E-40F3-A615-141D81F01D20">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d88908e723">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d88908e726">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e731" headers="d88908e723 ">
                                    <p><code class="codeph">transacted</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e731 d88908e726 ">
                                    <p>If set to true, then the session is <a href="glossary.html#GUID-4956C594-EE49-498B-A9DD-7371518B4EBA"><span class="xrefglossterm">transactional</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e742" headers="d88908e723 ">
                                    <p><code class="codeph">ack_mode</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e742 d88908e726 ">
                                    <p>Indicates whether the consumer or the client will acknowledge any messages it receives. It is ignored if the session is transactional. Legal values are <code class="codeph">Session.AUTO_ACKNOWLEDGE</code>, <code class="codeph">Session.CLIENT_ACKNOWLEDGE</code>, and <code class="codeph">Session.DUPS_OK_ACKNOWLEDGE</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3052"></a><a id="ADQUE3051"></a><div class="props_rev_3"><a id="GUID-EBCE0684-7337-4EEA-A1FA-ABEC0717BEA5" name="GUID-EBCE0684-7337-4EEA-A1FA-ABEC0717BEA5"></a><h3 id="ADQUE-GUID-EBCE0684-7337-4EEA-A1FA-ABEC0717BEA5" class="sect3"><span class="enumeration_section">14.7 </span>Creating a TopicSession
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.TopicSession createTopicSession(boolean transacted,
                                                 int ack_mode)
                                          throws JMSException
</pre><p>This method creates a <code class="codeph">TopicSession</code>. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-EBCE0684-7337-4EEA-A1FA-ABEC0717BEA5__GUID-A70FD6C2-E3A3-499C-AFDC-D4EA3C51F4FC">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d88908e828">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d88908e831">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e836" headers="d88908e828 ">
                                    <p><code class="codeph">transacted</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e836 d88908e831 ">
                                    <p>If set to true, then the session is <a href="glossary.html#GUID-4956C594-EE49-498B-A9DD-7371518B4EBA"><span class="xrefglossterm">transactional</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e847" headers="d88908e828 ">
                                    <p><code class="codeph">ack_mode</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e847 d88908e831 ">
                                    <p>Indicates whether the consumer or the client will acknowledge any messages it receives. It is ignored if the session is transactional. Legal values are <code class="codeph">Session.AUTO_ACKNOWLEDGE</code>, <code class="codeph">Session.CLIENT_ACKNOWLEDGE</code>, and <code class="codeph">Session.DUPS_OK_ACKNOWLEDGE</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-EBCE0684-7337-4EEA-A1FA-ABEC0717BEA5__GUID-A9AACD81-32E9-46DB-8D93-936C4AB7FE15">
                     <p class="titleinexample">Example 14-5 Creating a TopicSession</p><pre class="oac_no_warn" dir="ltr">TopicConnection tc_conn;
TopicSession t_sess = tc_conn.createTopicSession(true,0);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3053"></a><div class="props_rev_3"><a id="GUID-0A249758-0231-4CF3-A2F8-1A95C8111134" name="GUID-0A249758-0231-4CF3-A2F8-1A95C8111134"></a><h3 id="ADQUE-GUID-0A249758-0231-4CF3-A2F8-1A95C8111134" class="sect3"><span class="enumeration_section">14.8 </span>Creating a TopicPublisher
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.TopicPublisher createPublisher(javax.jms.Topic topic)
                                         throws JMSException
</pre><p>This method creates a <code class="codeph">TopicPublisher</code>. It has the following parameter:
                     </p>
                     <div class="tblformal" id="GUID-0A249758-0231-4CF3-A2F8-1A95C8111134__GUID-DF637531-C31B-4954-8E00-357B6F5FB588">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d88908e937">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d88908e940">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e945" headers="d88908e937 ">
                                    <p><code class="codeph">topic</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e945 d88908e940 ">
                                    <p>Topic to publish to, or null if this is an unidentified <a href="glossary.html#GUID-B9E1FDFC-EDA0-4D9C-8D65-FE429EF9043C"><span class="xrefglossterm">producer</span></a></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3055"></a><a id="ADQUE3056"></a><a id="ADQUE3054"></a><div class="props_rev_3"><a id="GUID-37E67651-EEEC-46F4-8331-D95D2BA43D01" name="GUID-37E67651-EEEC-46F4-8331-D95D2BA43D01"></a><h3 id="ADQUE-GUID-37E67651-EEEC-46F4-8331-D95D2BA43D01" class="sect3"><span class="enumeration_section">14.9 </span>Publishing Messages with Minimal Specification
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void publish(javax.jms.Message message)
             throws JMSException
</pre><p>This method publishes a message with minimal specification. It has the following parameter:</p>
                     <div class="tblformal" id="GUID-37E67651-EEEC-46F4-8331-D95D2BA43D01__GUID-2313820F-B2D2-4F78-96E8-0F6257D29D40">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d88908e1030">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d88908e1033">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1038" headers="d88908e1030 ">
                                    <p><code class="codeph">message</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1038 d88908e1033 ">
                                    <p>Message to send</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The <code class="codeph">TopicPublisher</code> uses the default values for message <code class="codeph">priority</code> (<code class="codeph">1</code>) and <code class="codeph">timeToLive</code> (<code class="codeph">infinite</code>). 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-37E67651-EEEC-46F4-8331-D95D2BA43D01__GUID-573DC7A9-BAA8-4917-88EB-893B7C926E8C">
                     <p class="titleinexample">Example 14-6 Publishing Without Specifying Topic</p><pre class="oac_no_warn" dir="ltr">/* Publish without specifying topic */
TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              jms_sess;
TopicPublisher            publisher1;
Topic                     shipped_orders;
int                       myport = 5521;
/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
          "MYHOSTNAME",
          "MYSID", 
           myport, 
          "oci8");
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
/* create TopicSession */
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE);
/* get shipped orders topic */
shipped_orders = ((AQjmsSession )jms_sess).getTopic(
          "OE", 
          "Shipped_Orders_Topic");
publisher1 = jms_sess.createPublisher(shipped_orders);
/* create TextMessage */
TextMessage     jms_sess.createTextMessage();
/* publish without specifying the topic */
publisher1.publish(text_message);</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-37E67651-EEEC-46F4-8331-D95D2BA43D01__GUID-D14ACAC4-8D17-47CA-8D4F-412ADC0A8E91">
                     <p class="titleinexample">Example 14-7 Publishing Specifying Correlation and Delay</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              jms_sess;
TopicPublisher            publisher1;
Topic                     shipped_orders;
int                       myport = 5521;
/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
          "MYHOSTNAME",
          "MYSID", 
           myport, 
          "oci8");
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE);
shipped_orders = ((AQjmsSession )jms_sess).getTopic(
          "OE", 
          "Shipped_Orders_Topic");
publisher1 = jms_sess.createPublisher(shipped_orders);
/* Create TextMessage */
TextMessage     jms_sess.createTextMessage();
/* Set correlation and delay */
/* Set correlation */
jms_sess.setJMSCorrelationID("FOO");
/* Set delay of 30 seconds */
jms_sess.setLongProperty("JMS_OracleDelay", 30);
/* Publish  */
publisher1.publish(text_message);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3058"></a><a id="ADQUE3057"></a><div class="props_rev_3"><a id="GUID-E4E95421-8B4F-480A-810B-F7B8B45AFB9E" name="GUID-E4E95421-8B4F-480A-810B-F7B8B45AFB9E"></a><h3 id="ADQUE-GUID-E4E95421-8B4F-480A-810B-F7B8B45AFB9E" class="sect3"><span class="enumeration_section">14.10 </span>Publishing Messages Specifying Topic
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void publish(javax.jms.Topic topic, javax.jms.Message message)
             throws JMSException
</pre><p>This method publishes a message specifying the topic. It has the following parameters:</p>
                     <div class="tblformal" id="GUID-E4E95421-8B4F-480A-810B-F7B8B45AFB9E__GUID-15937861-F047-4E44-AA17-767D57D3CA81">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d88908e1145">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d88908e1148">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1153" headers="d88908e1145 ">
                                    <p><code class="codeph">topic</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1153 d88908e1148 ">
                                    <p>Topic to publish to</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1161" headers="d88908e1145 ">
                                    <p><code class="codeph">message</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1161 d88908e1148 ">
                                    <p>Message to send</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>If the <code class="codeph">TopicPublisher</code> has been created with a default topic, then the <code class="codeph">topic</code> parameter may not be specified in the <code class="codeph">publish()</code> call. If a topic is specified, then that value overrides the default in the <code class="codeph">TopicPublisher</code>. If the <code class="codeph">TopicPublisher</code> has been created without a default topic, then the topic must be specified with the <code class="codeph">publish()</code> call. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-E4E95421-8B4F-480A-810B-F7B8B45AFB9E__GUID-AFAF0F1A-FD39-4443-BD33-253CC0185422">
                     <p class="titleinexample">Example 14-8 Publishing Specifying Topic</p><pre class="oac_no_warn" dir="ltr">/* Publish specifying topic */
TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              jms_sess;
TopicPublisher            publisher1;
Topic                     shipped_orders;
int                       myport = 5521;
/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
          'MYHOSTNAME', 'MYSID', myport, 'oci8');
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE); 
/* create TopicPublisher */
publisher1 = jms_sess.createPublisher(null);
/* get topic object */
shipped_orders = ((AQjmsSession )jms_sess).getTopic(
          'WS', 'Shipped_Orders_Topic');
/* create text message */
TextMessage     jms_sess.createTextMessage();
/* publish specifying the topic */
publisher1.publish(shipped_orders, text_message);
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3060"></a><a id="ADQUE3059"></a><div class="props_rev_3"><a id="GUID-7D8D58AC-CFDE-471D-8252-237BAE32153F" name="GUID-7D8D58AC-CFDE-471D-8252-237BAE32153F"></a><h3 id="ADQUE-GUID-7D8D58AC-CFDE-471D-8252-237BAE32153F" class="sect3"><span class="enumeration_section">14.11 </span>Publishing Messages Specifying Delivery Mode, Priority, and TimeToLive 
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void publish(javax.jms.Topic topic,
                    javax.jms.Message message,
                    oracle.jms.AQjmsAgent[] recipient_list,
                    int deliveryMode,
                    int priority,
                    long timeToLive)
             throws JMSException
</pre><p>This method publishes a message specifying delivery mode, priority and <code class="codeph">TimeToLive</code>. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-7D8D58AC-CFDE-471D-8252-237BAE32153F__GUID-E9871AA5-D0A1-47D1-A785-E8431D313432">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d88908e1270">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d88908e1273">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1278" headers="d88908e1270 ">
                                    <p><code class="codeph">topic</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1278 d88908e1273 ">
                                    <p>Topic to which to publish the message (overrides the default topic of the <code class="codeph">MessageProducer</code>)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1289" headers="d88908e1270 ">
                                    <p><code class="codeph">message</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1289 d88908e1273 ">
                                    <p>Message to publish</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1297" headers="d88908e1270 ">
                                    <p><code class="codeph">recipient_list</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1297 d88908e1273 ">
                                    <p>List of recipients to which the message is published. Recipients are of type <code class="codeph">AQjmsAgent</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1308" headers="d88908e1270 ">
                                    <p><code class="codeph">deliveryMode</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1308 d88908e1273 ">
                                    <p><code class="codeph">PERSISTENT</code> or <code class="codeph">NON_PERSISTENT</code> (only <code class="codeph">PERSISTENT</code> is supported in this release) 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1324" headers="d88908e1270 ">
                                    <p><code class="codeph">priority</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1324 d88908e1273 ">
                                    <p>Priority for this message</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1332" headers="d88908e1270 ">
                                    <p><code class="codeph">timeToLive</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1332 d88908e1273 ">
                                    <p>Message lifetime in milliseconds (zero is unlimited)</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-7D8D58AC-CFDE-471D-8252-237BAE32153F__GUID-3ADF44D9-9799-4446-ACCE-E4468AB628E4">
                     <p class="titleinexample">Example 14-9 Publishing Specifying Priority and TimeToLive</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              jms_sess;
TopicPublisher            publisher1;
Topic                     shipped_orders;
int                       myport = 5521;
/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
          "MYHOSTNAME", "MYSID", myport, "oci8");
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE);
shipped_orders = ((AQjmsSession )jms_sess).getTopic(
          "OE", "Shipped_Orders_Topic");
publisher1 = jms_sess.createPublisher(shipped_orders);
/* Create TextMessage */
TextMessage     jms_sess.createTextMessage();
/* Publish  message with priority 1 and time to live 200 seconds */
publisher1.publish(text_message, DeliveryMode.PERSISTENT, 1, 200000);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3062"></a><a id="ADQUE3061"></a><div class="props_rev_3"><a id="GUID-0B3FC447-D075-4A24-A0D0-93C72B825A20" name="GUID-0B3FC447-D075-4A24-A0D0-93C72B825A20"></a><h3 id="ADQUE-GUID-0B3FC447-D075-4A24-A0D0-93C72B825A20" class="sect3"><span class="enumeration_section">14.12 </span>Publishing Messages Specifying a Recipient List
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void publish(javax.jms.Message message,
                    oracle.jms.AQjmsAgent[] recipient_list)
             throws JMSException
</pre><p>This method publishes a message specifying a <a href="glossary.html#GUID-F50CE039-717A-4D4C-B4D9-62EB3191885A"><span class="xrefglossterm">recipient</span></a> list overriding topic subscribers. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-0B3FC447-D075-4A24-A0D0-93C72B825A20__GUID-1CFA2CE8-DEC6-4D4B-A8FD-2CF9D12AE740">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d88908e1422">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d88908e1425">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1430" headers="d88908e1422 ">
                                    <p><code class="codeph">message</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1430 d88908e1425 ">
                                    <p>Message to publish</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1438" headers="d88908e1422 ">
                                    <p><code class="codeph">recipient_list</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1438 d88908e1425 ">
                                    <p>List of recipients to which the message is published. Recipients are of type <code class="codeph">AQjmsAgent</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-0B3FC447-D075-4A24-A0D0-93C72B825A20__GUID-B421C954-F914-4BD9-AC38-5D345DEF3A56">
                     <p class="titleinexample">Example 14-10 Publishing Specifying a Recipient List Overriding Topic Subscribers</p><pre class="oac_no_warn" dir="ltr">/* Publish specifying priority and timeToLive */
TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              jms_sess;
TopicPublisher            publisher1;
Topic                     shipped_orders;
int                       myport = 5521;
AQjmsAgent[]              recipList;
/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
          "MYHOSTNAME", "MYSID", myport, "oci8");
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE);
shipped_orders = ((AQjmsSession )jms_sess).getTopic(
          "OE", "Shipped_Orders_Topic");
publisher1 = jms_sess.createPublisher(shipped_orders);
/* create TextMessage */
TextMessage     jms_sess.createTextMessage();
/* create two receivers */
recipList = new AQjmsAgent[2];
recipList[0] = new AQjmsAgent(
          "ES", "ES.shipped_orders_topic", AQAgent.DEFAULT_AGENT_PROTOCOL);
recipList[1] = new AQjmsAgent(
          "WS", "WS.shipped_orders_topic", AQAgent.DEFAULT_AGENT_PROTOCOL);
/* publish  message specifying a recipient list */
publisher1.publish(text_message, recipList);
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3064"></a><a id="ADQUE3065"></a><a id="ADQUE3063"></a><div class="props_rev_3"><a id="GUID-D367FE9C-FDCB-44ED-918F-B8912B0EA98A" name="GUID-D367FE9C-FDCB-44ED-918F-B8912B0EA98A"></a><h3 id="ADQUE-GUID-D367FE9C-FDCB-44ED-918F-B8912B0EA98A" class="sect3"><span class="enumeration_section">14.13 </span>Creating a DurableSubscriber for a JMS Topic Without Selector 
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.TopicSubscriber createDurableSubscriber(
             javax.jms.Topic topic,
             java.lang.String subs_name)
      throws JMSException
</pre><p>This method creates a DurableSubscriber for a <a href="glossary.html#GUID-F601025D-262D-4ECD-A274-1E1F92D9D4EA"><span class="xrefglossterm">JMS topic</span></a> without selector. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-D367FE9C-FDCB-44ED-918F-B8912B0EA98A__GUID-C099CB95-320B-48F5-A621-57A531569073">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d88908e1531">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d88908e1534">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1539" headers="d88908e1531 ">
                                    <p><code class="codeph">topic</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1539 d88908e1534 ">
                                    <p>Non-temporary topic to subscribe to</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1547" headers="d88908e1531 ">
                                    <p><code class="codeph">subs_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1547 d88908e1534 ">
                                    <p>Name used to identify this subscription</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-D367FE9C-FDCB-44ED-918F-B8912B0EA98A__CHDEGJGH">
                     <p class="subhead2" id="GUID-D367FE9C-FDCB-44ED-918F-B8912B0EA98A__GUID-88DA386C-BE92-45E4-BA5E-5DD564789B5B">Exclusive Access to Topics</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">CreateDurableSubscriber()</code> and <code class="codeph">Unsubscribe()</code> both require exclusive access to their target topics. If there are pending JMS <code class="codeph">send()</code>, <code class="codeph">publish()</code>, or <code class="codeph">receive()</code> operations on the same topic when these calls are applied, then exception ORA - 4020 is raised. There are two solutions to the problem:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Limit calls to <code class="codeph">createDurableSubscriber()</code> and <code class="codeph">Unsubscribe()</code> to the setup or cleanup phase when there are no other JMS operations pending on the topic. That makes sure that the required resources are not held by other JMS operational calls.
                           </p>
                        </li>
                        <li>
                           <p>Call <code class="codeph">TopicSession.commit</code> before calling <code class="codeph">createDurableSubscriber()</code> or <code class="codeph">Unsubscribe()</code>.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-D367FE9C-FDCB-44ED-918F-B8912B0EA98A__GUID-FE4D7C88-5C61-4935-BA34-6DE9BC3415E7">
                     <p class="titleinexample">Example 14-11 Creating a Durable Subscriber for a JMS Topic Without Selector</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              jms_sess;
TopicSubscriber           subscriber1;
Topic                     shipped_orders;
int                       myport = 5521;
AQjmsAgent[]              recipList;
/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
          "MYHOSTNAME",
          "MYSID", 
           myport, 
          "oci8");
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE);
shipped_orders = ((AQjmsSession )jms_sess).getTopic(
          "OE", 
          "Shipped_Orders_Topic");
/* create a durable subscriber on the shipped_orders topic*/
subscriber1 = jms_sess.createDurableSubscriber(
          shipped_orders, 
         'WesternShipping');</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3067"></a><a id="ADQUE3066"></a><div class="props_rev_3"><a id="GUID-55B7D08A-E221-4B93-997F-80065752F9ED" name="GUID-55B7D08A-E221-4B93-997F-80065752F9ED"></a><h3 id="ADQUE-GUID-55B7D08A-E221-4B93-997F-80065752F9ED" class="sect3"><span class="enumeration_section">14.14 </span>Creating a DurableSubscriber for a JMS Topic with Selector 
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.TopicSubscriber createDurableSubscriber(
             javax.jms.Topic topic,
             java.lang.String subs_name,
             java.lang.String messageSelector,
             boolean noLocal)
      throws JMSException
</pre><p>This method creates a durable subscriber for a JMS topic with selector. It has the following parameters:</p>
                     <div class="tblformal" id="GUID-55B7D08A-E221-4B93-997F-80065752F9ED__GUID-A9D4439C-0806-4761-81E9-E574DAE53B2D">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d88908e1674">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d88908e1677">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1682" headers="d88908e1674 ">
                                    <p><code class="codeph">topic</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1682 d88908e1677 ">
                                    <p>Non-temporary topic to subscribe to</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1690" headers="d88908e1674 ">
                                    <p><code class="codeph">subs_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1690 d88908e1677 ">
                                    <p>Name used to identify this subscription</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1698" headers="d88908e1674 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1698 d88908e1677 ">
                                    <p>Only messages with properties matching the <code class="codeph">messageSelector</code> expression are delivered. A value of null or an empty string indicates that there is no <code class="codeph">messageSelector</code> for the message consumer.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1712" headers="d88908e1674 ">
                                    <p><code class="codeph">noLocal</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1712 d88908e1677 ">
                                    <p>If set to true, then it inhibits the delivery of messages published by its own connection</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>A client can change an existing durable subscription by creating a durable TopicSubscriber with the same name and a different <code class="codeph">messageSelector</code>. An unsubscribe call is needed to end the subscription to the topic.
                     </p>
                     <div class="infoboxnotealso" id="GUID-55B7D08A-E221-4B93-997F-80065752F9ED__GUID-0A3F0EFB-E810-40D9-B682-B586729BC415">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="jms-publish-subscribe.html#GUID-D367FE9C-FDCB-44ED-918F-B8912B0EA98A__CHDEGJGH">Exclusive Access to Topics</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="jms-introduction.html#GUID-9CD17AB0-4085-4E8C-A7FF-E5C15A4BAEFA__CACBBCBJ">MessageSelector</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-55B7D08A-E221-4B93-997F-80065752F9ED__GUID-17647BA9-525B-4F3D-81F5-E70B3979FAC9">
                     <p class="titleinexample">Example 14-12 Creating a Durable Subscriber for a JMS Topic With Selector</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              jms_sess;
TopicSubscriber           subscriber1;
Topic                     shipped_orders;
int                       myport = 5521;
AQjmsAgent[]              recipList;
/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
          "MYHOSTNAME", "MYSID", myport, "oci8");
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE);
shipped_orders = ((AQjmsSession )jms_sess).getTopic(
          "OE", "Shipped_Orders_Topic");
/* create a subscriber */
/* with condition on JMSPriority and user property 'Region' */
subscriber1 = jms_sess.createDurableSubscriber(
          shipped_orders, 'WesternShipping', 
         "JMSPriority &gt; 2 and Region like 'Western%'", false);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3069"></a><a id="ADQUE3068"></a><div class="props_rev_3"><a id="GUID-4251552A-AE97-48FE-972F-A1563616F61C" name="GUID-4251552A-AE97-48FE-972F-A1563616F61C"></a><h3 id="ADQUE-GUID-4251552A-AE97-48FE-972F-A1563616F61C" class="sect3"><span class="enumeration_section">14.15 </span>Creating a DurableSubscriber for an Oracle Object Type Topic Without Selector
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.TopicSubscriber createDurableSubscriber(
             javax.jms.Topic topic,
             java.lang.String subs_name,
             java.lang.Object payload_factory)
      throws JMSException
</pre><p>This method creates a durable subscriber for an Oracle <a href="glossary.html#GUID-5A1E34E2-9B71-497D-879B-E355EDCF7108"><span class="xrefglossterm">object type</span></a> topic without selector. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-4251552A-AE97-48FE-972F-A1563616F61C__GUID-0C5559EE-7699-43ED-A5FD-8F39BCCCCB6F">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d88908e1819">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d88908e1822">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1827" headers="d88908e1819 ">
                                    <p><code class="codeph">topic</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1827 d88908e1822 ">
                                    <p>Non-temporary topic to subscribe to</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1835" headers="d88908e1819 ">
                                    <p><code class="codeph">subs_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1835 d88908e1822 ">
                                    <p>Name used to identify this subscription</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1843" headers="d88908e1819 ">
                                    <p><code class="codeph">payload_factory</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1843 d88908e1822 ">
                                    <p><code class="codeph">CustomDatumFactory</code> or <code class="codeph">ORADataFactory</code> for the Java class that maps to the Oracle ADT
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-4251552A-AE97-48FE-972F-A1563616F61C__GUID-863F206A-558C-4E5B-B98A-06AE8AB588C4">
                        <p class="notep1">Note:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">CustomDatum</code> support will be deprecated in a future release. Use <code class="codeph">ORADataFactory</code> payload factories instead.
                              </p>
                           </li>
                           <li>
                              <p>Sharded queues do not support object type messages.</p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-4251552A-AE97-48FE-972F-A1563616F61C__GUID-1F32A37F-CA14-4410-8CA4-DCBFB195D55D">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="jms-publish-subscribe.html#GUID-D367FE9C-FDCB-44ED-918F-B8912B0EA98A__CHDEGJGH">Exclusive Access to Topics</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-4251552A-AE97-48FE-972F-A1563616F61C__GUID-3BA04BBD-8FCA-4736-9067-CE4064FC8A1F">
                     <p class="titleinexample">Example 14-13 Creating a Durable Subscriber for an Oracle Object Type Topic Without Selector</p><pre class="oac_no_warn" dir="ltr">/* Subscribe to an ADT queue */
TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              t_sess    = null;
TopicSession              jms_sess;
TopicSubscriber           subscriber1;
Topic                     shipped_orders;
int                       my[port = 5521;
AQjmsAgent[]              recipList;
/* the java mapping of the oracle object type created by J Publisher */
ADTMessage                message; 
/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
          "MYHOSTNAME", "MYSID", myport, "oci8");
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE);
shipped_orders = ((AQjmsSession )jms_sess).getTopic(
          "OE", "Shipped_Orders_Topic");
/* create a subscriber, specifying the correct CustomDatumFactory */
subscriber1 = jms_sess.createDurableSubscriber(
          shipped_orders, 'WesternShipping', AQjmsAgent.getFactory());</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3071"></a><a id="ADQUE3070"></a><div class="props_rev_3"><a id="GUID-468FBDF8-98D0-41BB-A3C1-2554F86A18C3" name="GUID-468FBDF8-98D0-41BB-A3C1-2554F86A18C3"></a><h3 id="ADQUE-GUID-468FBDF8-98D0-41BB-A3C1-2554F86A18C3" class="sect3"><span class="enumeration_section">14.16 </span>Creating a DurableSubscriber for an Oracle Object Type Topic with Selector
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.TopicSubscriber createDurableSubscriber(
             javax.jms.Topic topic,
             java.lang.String subs_name,
             java.lang.String messageSelector,
             boolean noLocal,
             java.lang.Object payload_factory)
      throws JMSException
</pre><p>This method creates a durable subscriber for an Oracle object type topic with selector. It has the following parameters:</p>
                     <div class="tblformal" id="GUID-468FBDF8-98D0-41BB-A3C1-2554F86A18C3__GUID-834A0F56-4878-4F24-A63A-AF7F5CA1D397">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d88908e1952">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d88908e1955">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1960" headers="d88908e1952 ">
                                    <p><code class="codeph">topic</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1960 d88908e1955 ">
                                    <p>Non-temporary topic to subscribe to</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1968" headers="d88908e1952 ">
                                    <p><code class="codeph">subs_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1968 d88908e1955 ">
                                    <p>Name used to identify this subscription</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1976" headers="d88908e1952 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1976 d88908e1955 ">
                                    <p>Only messages with properties matching the <code class="codeph">messageSelector</code> expression are delivered. A value of null or an empty string indicates that there is no <code class="codeph">messageSelector</code> for the message consumer.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1990" headers="d88908e1952 ">
                                    <p><code class="codeph">noLocal</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1990 d88908e1955 ">
                                    <p>If set to true, then it inhibits the delivery of messages published by its own connection</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e1998" headers="d88908e1952 ">
                                    <p><code class="codeph">payload_factory</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e1998 d88908e1955 ">
                                    <p><code class="codeph">CustomDatumFactory</code> or <code class="codeph">ORADataFactory</code> for the Java class that maps to the Oracle ADT
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-468FBDF8-98D0-41BB-A3C1-2554F86A18C3__GUID-55DAE94A-AC79-4970-B4E7-B8FCF22EB836">
                        <p class="notep1">Note:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">CustomDatum</code> support will be deprecated in a future release. Use <code class="codeph">ORADataFactory</code> payload factories instead.
                              </p>
                           </li>
                           <li>
                              <p>Sharded queues do not support object yype messages.</p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-468FBDF8-98D0-41BB-A3C1-2554F86A18C3__GUID-EB569355-502F-4F6F-A7CD-768DF09E039C">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="jms-publish-subscribe.html#GUID-D367FE9C-FDCB-44ED-918F-B8912B0EA98A__CHDEGJGH">Exclusive Access to Topics</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-468FBDF8-98D0-41BB-A3C1-2554F86A18C3__GUID-0466319E-1C34-41E8-98A9-40D505767239">
                     <p class="titleinexample">Example 14-14 Creating a Durable Subscriber for an Oracle Object Type Topic With Selector</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              jms_sess;
TopicSubscriber           subscriber1;
Topic                     shipped_orders;
int                       myport = 5521;
AQjmsAgent[]              recipList;
/* the java mapping of the oracle object type created by J Publisher */
ADTMessage                message; 
/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
          "MYHOSTNAME", "MYSID", myport, "oci8");
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE);
shipped_orders = ((AQjmsSession )jms_sess).getTopic(
          "OE", "Shipped_Orders_Topic");
/* create a subscriber, specifying correct CustomDatumFactory and selector */
subscriber1 = jms_sess.createDurableSubscriber(
          shipped_orders, "WesternShipping", 
         "priority &gt; 1 and tab.user_data.region like 'WESTERN %'", false, 
          ADTMessage.getFactory());</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3073"></a><a id="ADQUE3074"></a><a id="ADQUE3072"></a><div class="props_rev_3"><a id="GUID-5EF25837-B7C5-491F-9BBF-002626AB94B7" name="GUID-5EF25837-B7C5-491F-9BBF-002626AB94B7"></a><h3 id="ADQUE-GUID-5EF25837-B7C5-491F-9BBF-002626AB94B7" class="sect3"><span class="enumeration_section">14.17 </span>Specifying Transformations for Topic Subscribers
               </h3>
               <div>
                  <div class="section">
                     <p>A transformation can be supplied when sending/publishing a message to a queue/topic. The transformation is applied before putting the message into the queue/topic. </p>
                     <p>The application can specify a transformation using the <code class="codeph">setTransformation</code> interface in the <code class="codeph">AQjmsQueueSender</code> and <code class="codeph">AQjmsTopicPublisher</code> interfaces.
                     </p>
                     <p>A transformation can also be specified when creating topic subscribers using the <code class="codeph">CreateDurableSubscriber()</code> call. The transformation is applied to the retrieved message before returning it to the subscriber. If the subscriber specified in the <code class="codeph">CreateDurableSubscriber()</code> call already exists, then its transformation is set to the specified transformation.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-5EF25837-B7C5-491F-9BBF-002626AB94B7__GUID-86495C9D-2F86-480A-BE45-DAB65B7A737C">
                     <p class="titleinexample">Example 14-15 Sending Messages to a Destination Using a Transformation </p>
                     <p>Suppose that the orders that are processed by the order entry application should be published to <code class="codeph">WS_bookedorders_topic</code>. The transformation OE2WS (defined in the previous section) is supplied so that the messages are inserted into the topic in the correct format.
                     </p><pre class="oac_no_warn" dir="ltr">public void ship_bookedorders(
   TopicSession jms_session, 
   	AQjmsADTMessage adt_message)				
{
    TopicPublisher  publisher;
    Topic           topic;

    try
    {
      /* get a handle to the WS_bookedorders_topic */
	 &nbsp;    topic = ((AQjmsSession)jms_session).getTopic("WS", "WS_bookedorders_topic");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;publisher = jms_session.createPublisher(topic);

      /* set the transformation in the publisher */
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((AQjmsTopicPublisher)publisher).setTransformation("OE2WS");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;publisher.publish(topic, adt_message);
	 &nbsp;&nbsp;&nbsp;}
	 &nbsp;&nbsp;&nbsp;catch (JMSException ex)
	 &nbsp;&nbsp;&nbsp;{
	   &nbsp;&nbsp;&nbsp;&nbsp;System.out.println("Exception :" ex);
    }
}
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-5EF25837-B7C5-491F-9BBF-002626AB94B7__GUID-03D90FC2-59C4-44F7-9370-9794E3389937">
                     <p class="titleinexample">Example 14-16 Specifying Transformations for Topic Subscribers</p>
                     <p>The Western Shipping application subscribes to the OE_bookedorders_topic with the transformation <code class="codeph">OE2WS</code>. This transformation is applied to the messages and the returned message is of Oracle object type <code class="codeph">WS.WS_orders</code>.
                     </p>
                     <p>Suppose that the WSOrder java class has been generated by Jpublisher to map to the Oracle object <code class="codeph">WS.WS_order</code>:
                     </p><pre class="oac_no_warn" dir="ltr">public AQjmsAdtMessage retrieve_bookedorders(TopicSession jms_session)
{
    TopicSubscriber     subscriber;
    Topic               topic;
    AQjmsAdtMessage     msg = null;

    try
    {
      /* get a handle to the OE_bookedorders_topic */
      topic = ((AQjmsSession)jms_session).getTopic("OE", "OE_bookedorders_topic");

      /* create a subscriber with the transformation OE2WS */
      subs = ((AQjmsSession)jms_session).createDurableSubscriber(
         topic, 'WShip', null, false, WSOrder.getFactory(), "OE2WS");
      msg = subscriber.receive(10);
    }
    catch (JMSException ex)
    {
        System.out.println("Exception :" ex);
    }
    return (AQjmsAdtMessage)msg;
}</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3076"></a><a id="ADQUE3075"></a><div class="props_rev_3"><a id="GUID-73D207BA-EF8F-4612-94B9-6A038649424F" name="GUID-73D207BA-EF8F-4612-94B9-6A038649424F"></a><h3 id="ADQUE-GUID-73D207BA-EF8F-4612-94B9-6A038649424F" class="sect3"><span class="enumeration_section">14.18 </span>Creating a Remote Subscriber for JMS Messages
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void createRemoteSubscriber(javax.jms.Topic topic,
                                   oracle.jms.AQjmsAgent remote_subscriber,
                                   java.lang.String messageSelector)
                            throws JMSException
</pre><p>This method creates a remote subscriber for topics of JMS messages. It has the following parameters:</p>
                     <div class="tblformal" id="GUID-73D207BA-EF8F-4612-94B9-6A038649424F__GUID-1A9113A3-E2B5-46D9-98AE-E0E5E60FB095">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d88908e2215">Parameter</th>
                                 <th align="left" valign="bottom" width="74%" id="d88908e2218">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e2223" headers="d88908e2215 ">
                                    <p><code class="codeph">topic</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e2223 d88908e2218 ">
                                    <p>Topic to subscribe to</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e2231" headers="d88908e2215 ">
                                    <p><code class="codeph">remote_subscriber</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e2231 d88908e2218 ">
                                    <p><code class="codeph">AQjmsAgent</code> that refers to the remote subscriber
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e2241" headers="d88908e2215 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e2241 d88908e2218 ">
                                    <p>Only messages with properties matching the <code class="codeph">messageSelector</code> expression are delivered. A value of null or an empty string indicates that there is no <code class="codeph">messageSelector</code> for the message consumer.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>Oracle Database Advanced Queuing allows topics to have remote subscribers, for example, subscribers at other topics in the same or different database. In order to use remote subscribers, you must set up <a href="glossary.html#GUID-DE5B852F-823C-4DC8-B6BB-4825D688A00A"><span class="xrefglossterm">propagation</span></a> between the local and remote topic.
                     </p>
                     <p>Remote subscribers can be a specific consumer at the remote topic or all subscribers at the remote topic. A remote subscriber is defined using the <code class="codeph">AQjmsAgent</code> structure. An <code class="codeph">AQjmsAgent</code> consists of a name and address. The name refers to the <code class="codeph">consumer_name</code> at the remote topic. The address refers to the remote topic. Its syntax is <code class="codeph">schema.topic_name[@dblink]</code>.
                     </p>
                     <p>To publish messages to a particular consumer at the remote topic, the <code class="codeph">subscription_name</code> of the recipient at the remote topic must be specified in the name field of <code class="codeph">AQjmsAgent</code>, and the remote topic must be specified in the address field. To publish messages to all subscribers of the remote topic, the name field of <code class="codeph">AQjmsAgent</code> must be set to null. 
                     </p>
                     <div class="infoboxnote" id="GUID-73D207BA-EF8F-4612-94B9-6A038649424F__GUID-7B0E7726-C932-4828-89C5-6C2715AD94FD">
                        <p class="notep1">Note:</p>
                        <p>Sharded queues do not support remote subscribers.</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-73D207BA-EF8F-4612-94B9-6A038649424F__GUID-1CBAB7D9-ABEA-4FC4-B414-9AB2F8E46F28">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="jms-introduction.html#GUID-9CD17AB0-4085-4E8C-A7FF-E5C15A4BAEFA__CACBBCBJ">MessageSelector</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-73D207BA-EF8F-4612-94B9-6A038649424F__GUID-33B9433D-A1FD-49F9-BC4D-2983BA700A48">
                     <p class="titleinexample">Example 14-17 Creating a Remote Subscriber for Topics of JMS Messages</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              t_sess    = null;
TopicSession              jms_sess;
TopicSubscriber           subscriber1;
Topic                     shipped_orders;
int                       my[port = 5521;
AQjmsAgent                remoteAgent;
/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
          "MYHOSTNAME", "MYSID", myport, "oci8");
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE);
shipped_orders = ((AQjmsSession )jms_sess).getTopic(
          "OE", "Shipped_Orders_Topic");
remoteAgent = new AQjmsAgent("WesternRegion", "WS.shipped_orders_topic", null);
/* create a remote subscriber (selector is null )*/
subscriber1 = ((AQjmsSession)jms_sess).createRemoteSubscriber(
          shipped_orders, remoteAgent, null);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3078"></a><a id="ADQUE3077"></a><div class="props_rev_3"><a id="GUID-A1063E43-BF5C-4466-851D-5D0C489644A0" name="GUID-A1063E43-BF5C-4466-851D-5D0C489644A0"></a><h3 id="ADQUE-GUID-A1063E43-BF5C-4466-851D-5D0C489644A0" class="sect3"><span class="enumeration_section">14.19 </span>Creating a Remote Subscriber for Oracle Object Type Messages 
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void createRemoteSubscriber(javax.jms.Topic topic,
                                   oracle.jms.AQjmsAgent remote_subscriber,
                                   java.lang.String messageSelector,
                                   java.lang.Object payload_factory)
                            throws JMSException
</pre><p>This method creates a remote subscriber for topics of Oracle object type messages. It has the following parameters:</p>
                     <div class="tblformal" id="GUID-A1063E43-BF5C-4466-851D-5D0C489644A0__GUID-37FEA278-4022-4367-9954-3ABA2955B715">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d88908e2365">Parameter</th>
                                 <th align="left" valign="bottom" width="74%" id="d88908e2368">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e2373" headers="d88908e2365 ">
                                    <p><code class="codeph">topic</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e2373 d88908e2368 ">
                                    <p>Topic to subscribe to</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e2381" headers="d88908e2365 ">
                                    <p><code class="codeph">remote_subscriber</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e2381 d88908e2368 ">
                                    <p><code class="codeph">AQjmsAgent</code> that refers to the remote subscriber
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e2391" headers="d88908e2365 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e2391 d88908e2368 ">
                                    <p>Only messages with properties matching the <code class="codeph">messageSelector</code> expression are delivered. A value of null or an empty string indicates that there is no <code class="codeph">messageSelector</code> for the message consumer.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e2405" headers="d88908e2365 ">
                                    <p><code class="codeph">payload_factory</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e2405 d88908e2368 ">
                                    <p><code class="codeph">CustomDatumFactory</code> or <code class="codeph">ORADataFactory</code> for the Java class that maps to the Oracle ADT
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-A1063E43-BF5C-4466-851D-5D0C489644A0__GUID-F450264E-2332-4F91-A10B-28076BD8D98E">
                        <p class="notep1">Note:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">CustomDatum</code> support will be deprecated in a future release. Use <code class="codeph">ORADataFactory</code> payload factories instead.
                              </p>
                           </li>
                           <li>
                              <p>Sharded queues do not support remote subscribers or object type messages.</p>
                           </li>
                        </ul>
                     </div>
                     <p>Oracle Database Advanced Queuing allows topics to have remote subscribers, for example, subscribers at other topics in the same or different database. In order to use remote subscribers, you must set up <a href="glossary.html#GUID-DE5B852F-823C-4DC8-B6BB-4825D688A00A"><span class="xrefglossterm">propagation</span></a> between the local and remote topic.
                     </p>
                     <p>Remote subscribers can be a specific consumer at the remote topic or all subscribers at the remote topic. A remote subscriber is defined using the <code class="codeph">AQjmsAgent</code> structure. An <code class="codeph">AQjmsAgent</code> consists of a name and address. The name refers to the <code class="codeph">consumer_name</code> at the remote topic. The address refers to the remote topic. Its syntax is <code class="codeph">schema.topic_name[@dblink]</code>.
                     </p>
                     <p>To publish messages to a particular consumer at the remote topic, the <code class="codeph">subscription_name</code> of the recipient at the remote topic must be specified in the name field of <code class="codeph">AQjmsAgent</code>, and the remote topic must be specified in the address field. To publish messages to all subscribers of the remote topic, the name field of <code class="codeph">AQjmsAgent</code> must be set to null. 
                     </p>
                     <div class="infoboxnote" id="GUID-A1063E43-BF5C-4466-851D-5D0C489644A0__GUID-97A92950-F3E4-4469-B0BD-BFA42A123159">
                        <p class="notep1">Note:</p>
                        <p>AQ does not support the use of multiple dblink to the same destination. As a workaround, use a single database link for each destination. </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-A1063E43-BF5C-4466-851D-5D0C489644A0__GUID-34D08CAA-C958-49D5-9450-FCD9F92D2AB3">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="jms-introduction.html#GUID-9CD17AB0-4085-4E8C-A7FF-E5C15A4BAEFA__CACBBCBJ">MessageSelector</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-A1063E43-BF5C-4466-851D-5D0C489644A0__GUID-4A6E43CF-C41F-45F8-BAC4-AD77DE16FA81">
                     <p class="titleinexample">Example 14-18 Creating a Remote Subscriber for Topics of Oracle Object Type Messages</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              t_sess    = null;
TopicSession              jms_sess;
TopicSubscriber           subscriber1;
Topic                     shipped_orders;
int                       my[port = 5521;
AQjmsAgent                remoteAgent;
ADTMessage                message;
/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
          "MYHOSTNAME", "MYSID", myport, "oci8");
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
/* create TopicSession */
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE);
/* get the Shipped order topic */
shipped_orders = ((AQjmsSession )jms_sess).getTopic(
          "OE", "Shipped_Orders_Topic");
/* create a remote agent */
remoteAgent = new AQjmsAgent("WesternRegion", "WS.shipped_orders_topic", null);
/* create a remote subscriber  with null selector*/
subscriber1 = ((AQjmsSession)jms_sess).createRemoteSubscriber(
          shipped_orders, remoteAgent, null, message.getFactory);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3080"></a><a id="ADQUE3079"></a><div class="props_rev_3"><a id="GUID-8D7D0BC0-4454-4310-AF06-11B6A6EAA707" name="GUID-8D7D0BC0-4454-4310-AF06-11B6A6EAA707"></a><h3 id="ADQUE-GUID-8D7D0BC0-4454-4310-AF06-11B6A6EAA707" class="sect3"><span class="enumeration_section">14.20 </span>Specifying Transformations for Remote Subscribers
               </h3>
               <div>
                  <div class="section">
                     <p>Oracle Database Advanced Queuing allows a remote subscriber, that is a subscriber at another database, to subscribe to a topic. </p>
                     <p>Transformations can be specified when creating remote subscribers using the <code class="codeph">createRemoteSubscriber()</code> call. This enables propagation of messages between topics of different formats. When a message published at a topic meets the criterion of a remote subscriber, Oracle Database Advanced Queuing automatically propagates the message to the queue/topic at the remote database specified for the remote subscriber. If a transformation is also specified, then Oracle Database Advanced Queuing applies the transformation to the message before propagating it to the queue/topic at the remote database.
                     </p>
                     <div class="infoboxnote" id="GUID-8D7D0BC0-4454-4310-AF06-11B6A6EAA707__GUID-399E0B5C-3EBA-4901-B1B9-8244954F5442">
                        <p class="notep1">Note:</p>
                        <p>Sharded queues do not support remote subscribers.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-8D7D0BC0-4454-4310-AF06-11B6A6EAA707__GUID-788F2F52-8F0D-42C6-AC60-6B012FBA53BF">
                     <p class="titleinexample">Example 14-19 Specifying Transformations for Remote Subscribers</p>
                     <p>A remote subscriber is created at the OE.OE_bookedorders_topic so that messages are automatically propagated to the WS.WS_bookedorders_topic. The transformation OE2WS is specified when creating the remote subscriber so that the messages reaching the WS_bookedorders_topic have the correct format.</p>
                     <p>Suppose that the WSOrder java class has been generated by Jpublisher to map to the Oracle object <code class="codeph">WS.WS_order</code></p><pre class="oac_no_warn" dir="ltr">public void create_remote_sub(TopicSession jms_session)
{
   AQjmsAgent          subscriber;
   Topic               topic;

   try
   {
     /* get a handle to the OE_bookedorders_topic */
     topic = ((AQjmsSession)jms_session).getTopic("OE", "OE_bookedorders_topic");
     subscriber = new AQjmsAgent("WShip", "WS.WS_bookedorders_topic");

     ((AQjmsSession )jms_session).createRemoteSubscriber(
        topic, subscriber, null, WSOrder.getFactory(),"OE2WS");
   }
   catch (JMSException ex)
   {
     System.out.println("Exception :" ex);
   }
}</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3082"></a><a id="ADQUE3081"></a><div class="props_rev_3"><a id="GUID-C4B96289-E295-4B48-8423-527D7EC80A2F" name="GUID-C4B96289-E295-4B48-8423-527D7EC80A2F"></a><h3 id="ADQUE-GUID-C4B96289-E295-4B48-8423-527D7EC80A2F" class="sect3"><span class="enumeration_section">14.21 </span>Unsubscribing a Durable Subscription for a Local Subscriber 
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void unsubscribe(javax.jms.Topic topic,
                        java.lang.String subs_name)
                 throws JMSException
</pre><p>This method unsubscribes a durable subscription for a local subscriber. It has the following parameters:</p>
                     <div class="tblformal" id="GUID-C4B96289-E295-4B48-8423-527D7EC80A2F__GUID-A159EBFE-AD03-4ECD-9F6F-9DA3752472EF">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d88908e2621">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d88908e2624">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e2629" headers="d88908e2621 ">
                                    <p><code class="codeph">topic</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e2629 d88908e2624 ">
                                    <p>Non-temporary topic to unsubscribe</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d88908e2637" headers="d88908e2621 ">
                                    <p><code class="codeph">subs_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d88908e2637 d88908e2624 ">
                                    <p>Name used to identify this subscription</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-C4B96289-E295-4B48-8423-527D7EC80A2F__GUID-175A5E2E-7204-471B-AFC7-50746D549A4A">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="jms-publish-subscribe.html#GUID-D367FE9C-FDCB-44ED-918F-B8912B0EA98A__CHDEGJGH">Exclusive Access to Topics</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-C4B96289-E295-4B48-8423-527D7EC80A2F__GUID-A33A087E-2FF2-4F1A-9967-940CEC3A62ED">
                     <p class="titleinexample">Example 14-20 Unsubscribing a Durable Subscription for a Local Subscriber</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              jms_sess;
TopicSubscriber           subscriber1;
Topic                     shipped_orders;
int                       myport = 5521;
AQjmsAgent[]              recipList;
/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
          "MYHOSTNAME", "MYSID", myport, "oci8");
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE);
shipped_orders = ((AQjmsSession )jms_sess).getTopic(
          "OE", "Shipped_Orders_Topic");
/* unsusbcribe "WesternShipping" from shipped_orders */
jms_sess.unsubscribe(shipped_orders, "WesternShipping");</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3084"></a><a id="ADQUE3083"></a><div class="props_rev_3"><a id="GUID-526219F2-6B38-468D-8FB4-7B84285DFF0E" name="GUID-526219F2-6B38-468D-8FB4-7B84285DFF0E"></a><h3 id="ADQUE-GUID-526219F2-6B38-468D-8FB4-7B84285DFF0E" class="sect3"><span class="enumeration_section">14.22 </span>Unsubscribing a Durable Subscription for a Remote Subscriber
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void unsubscribe(javax.jms.Topic topic,
                        oracle.jms.AQjmsAgent remote_subscriber)
                 throws JMSException
</pre><p>This method unsubscribes a durable subscription for a remote subscriber. It has the following parameters:</p>
                     <div class="tblformal" id="GUID-526219F2-6B38-468D-8FB4-7B84285DFF0E__GUID-69313B03-63D2-47B1-A87C-70D1CA176CE0">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d88908e2723">Parameter</th>
                                 <th align="left" valign="bottom" width="74%" id="d88908e2726">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e2731" headers="d88908e2723 ">
                                    <p><code class="codeph">topic</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e2731 d88908e2726 ">
                                    <p>Non-temporary topic to unsubscribe</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e2739" headers="d88908e2723 ">
                                    <p><code class="codeph">remote_subscriber</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e2739 d88908e2726 ">
                                    <p><code class="codeph">AQjmsAgent</code> that refers to the remote subscriber. The address field of the <code class="codeph">AQjmsAgent</code> cannot be null.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-526219F2-6B38-468D-8FB4-7B84285DFF0E__GUID-288A3216-2E39-4C26-92DC-5979CB8C3051">
                        <p class="notep1">Note:</p>
                        <p>Sharded queues do not support remote subscribers.</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-526219F2-6B38-468D-8FB4-7B84285DFF0E__GUID-4700E940-1A1B-4AE9-8906-91BB61C957A1">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="jms-publish-subscribe.html#GUID-D367FE9C-FDCB-44ED-918F-B8912B0EA98A__CHDEGJGH">Exclusive Access to Topics</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-526219F2-6B38-468D-8FB4-7B84285DFF0E__GUID-5FF8BA56-A764-49DB-AE1A-EF2F048D6024">
                     <p class="titleinexample">Example 14-21 Unsubscribing a Durable Subscription for a Remote Subscriber</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              t_sess    = null;
TopicSession              jms_sess;
Topic                     shipped_orders;
int                       myport = 5521;
AQjmsAgent                remoteAgent;
/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
          "MYHOSTNAME", "MYSID", myport, "oci8");
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE);
shipped_orders = ((AQjmsSession )jms_sess).getTopic(
          "OE", "Shipped_Orders_Topic");
remoteAgent = new AQjmsAgent("WS", "WS.Shipped_Orders_Topic", null);
/* unsubscribe the remote agent from shipped_orders */
((AQjmsSession)jms_sess).unsubscribe(shipped_orders, remoteAgent);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3086"></a><a id="ADQUE3085"></a><div class="props_rev_3"><a id="GUID-3532BDBD-3E62-4E1E-A79B-8012AE661EFF" name="GUID-3532BDBD-3E62-4E1E-A79B-8012AE661EFF"></a><h3 id="ADQUE-GUID-3532BDBD-3E62-4E1E-A79B-8012AE661EFF" class="sect3"><span class="enumeration_section">14.23 </span>Creating a TopicReceiver for a Topic of Standard JMS Type Messages 
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public oracle.jms.AQjmsTopicReceiver createTopicReceiver(
              javax.jms.Topic topic,
              java.lang.String receiver_name,
              java.lang.String messageSelector)
       throws JMSException
</pre><p>This method creates a <code class="codeph">TopicReceiver</code> for a topic of standard JMS type messages. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-3532BDBD-3E62-4E1E-A79B-8012AE661EFF__GUID-8D507A34-127C-48C2-837D-8F30D7F93DE7">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d88908e2838">Parameter</th>
                                 <th align="left" valign="bottom" width="74%" id="d88908e2841">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e2846" headers="d88908e2838 ">
                                    <p><code class="codeph">topic</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e2846 d88908e2841 ">
                                    <p>Topic to access</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e2854" headers="d88908e2838 ">
                                    <p><code class="codeph">receiver_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e2854 d88908e2841 ">
                                    <p>Name of message receiver</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e2862" headers="d88908e2838 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e2862 d88908e2841 ">
                                    <p>Only messages with properties matching the <code class="codeph">messageSelector</code> expression are delivered. A value of null or an empty string indicates that there is no <code class="codeph">messageSelector</code> for the message consumer.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>Oracle Database Advanced Queuing allows messages to be sent to specified recipients. These receivers may or may not be subscribers of the topic. If the receiver is not a subscriber to the topic, then it receives only those messages that are explicitly addressed to it. This method must be used order to create a <code class="codeph">TopicReceiver</code> object for consumers that are not durable subscribers.
                     </p>
                     <div class="infoboxnotealso" id="GUID-3532BDBD-3E62-4E1E-A79B-8012AE661EFF__GUID-D3EF1552-2EF9-4C66-85B0-01464EDAF16B">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="jms-introduction.html#GUID-9CD17AB0-4085-4E8C-A7FF-E5C15A4BAEFA__CACBBCBJ">MessageSelector</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-3532BDBD-3E62-4E1E-A79B-8012AE661EFF__GUID-7177F611-3F0B-4C50-89F6-CE06153C09FB">
                     <p class="titleinexample">Example 14-22 Creating a TopicReceiver for Standard JMS Type Messages</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              t_sess    = ull;
TopicSession              jms_sess;
Topic                     shipped_orders;
int                       myport = 5521;
TopicReceiver             receiver;
/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
          "MYHOSTNAME", "MYSID", myport, "oci8");
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE);
shipped_orders = ((AQjmsSession )jms_sess).getTopic(
          "WS", "Shipped_Orders_Topic");
receiver = ((AQjmsSession)jms_sess).createTopicReceiver(
          shipped_orders, "WesternRegion", null); </pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3088"></a><a id="ADQUE3087"></a><div class="props_rev_3"><a id="GUID-9E165968-66F8-4A2E-A4F7-1B8F38832DA9" name="GUID-9E165968-66F8-4A2E-A4F7-1B8F38832DA9"></a><h3 id="ADQUE-GUID-9E165968-66F8-4A2E-A4F7-1B8F38832DA9" class="sect3"><span class="enumeration_section">14.24 </span>Creating a TopicReceiver for a Topic of Oracle Object Type Messages
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public oracle.jms.AQjmsTopicReceiver createTopicReceiver(
              javax.jms.Topic topic,
              java.lang.String receiver_name,
              java.lang.String messageSelector,
              java.lang.Object payload_factory)
       throws JMSException
</pre><p>This method creates a <code class="codeph">TopicReceiver</code> for a topic of Oracle object type messages with selector. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-9E165968-66F8-4A2E-A4F7-1B8F38832DA9__GUID-B608E2ED-21C2-44C7-AA82-343AD47A867E">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d88908e2965">Parameter</th>
                                 <th align="left" valign="bottom" width="74%" id="d88908e2968">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e2973" headers="d88908e2965 ">
                                    <p><code class="codeph">topic</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e2973 d88908e2968 ">
                                    <p>Topic to access</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e2981" headers="d88908e2965 ">
                                    <p><code class="codeph">receiver_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e2981 d88908e2968 ">
                                    <p>Name of message receiver</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e2989" headers="d88908e2965 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e2989 d88908e2968 ">
                                    <p>Only messages with properties matching the <code class="codeph">messageSelector</code> expression are delivered. A value of null or an empty string indicates that there is no <code class="codeph">messageSelector</code> for the message consumer.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3003" headers="d88908e2965 ">
                                    <p><code class="codeph">payload_factory</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3003 d88908e2968 ">
                                    <p><code class="codeph">CustomDatumFactory</code> or <code class="codeph">ORADataFactory</code> for the Java class that maps to the Oracle ADT
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-9E165968-66F8-4A2E-A4F7-1B8F38832DA9__GUID-9003F89B-3F9E-4DF1-B10A-0B6D046057C7">
                        <p class="notep1">Note:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">CustomDatum</code> support will be deprecated in a future release. Use <code class="codeph">ORADataFactory</code> payload factories instead.
                              </p>
                           </li>
                           <li>
                              <p>Sharded queues do not support object type messages.</p>
                           </li>
                        </ul>
                     </div>
                     <p>Oracle Database Advanced Queuing allows messages to be sent to all subscribers of a topic or to specified recipients. These receivers may or may not be subscribers of the topic. If the receiver is not a subscriber to the topic, then it receives only those messages that are explicitly addressed to it. This method must be used order to create a <code class="codeph">TopicReceiver</code> object for consumers that are not durable subscribers. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-9E165968-66F8-4A2E-A4F7-1B8F38832DA9__GUID-B5AC5C70-5B77-4622-8F2F-E76B3592CD0B">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="jms-introduction.html#GUID-9CD17AB0-4085-4E8C-A7FF-E5C15A4BAEFA__CACBBCBJ">MessageSelector</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-9E165968-66F8-4A2E-A4F7-1B8F38832DA9__GUID-B77C939F-7E7E-4A54-A40C-BE6E68178522">
                     <p class="titleinexample">Example 14-23 Creating a TopicReceiver for Oracle Object Type Messages</p><pre class="oac_no_warn" dir="ltr">TopicConnectionFactory    tc_fact   = null;
TopicConnection           t_conn    = null;
TopicSession              t_sess    = null;
TopicSession              jms_sess;
Topic                     shipped_orders;
int                       myport = 5521;
TopicReceiver             receiver;
/* create connection and session */
tc_fact = AQjmsFactory.getTopicConnectionFactory(
          "MYHOSTNAME", "MYSID", myport, "oci8");
t_conn = tc_fact.createTopicConnection("jmstopic", "jmstopic");
jms_sess = t_conn.createTopicSession(true, Session.CLIENT_ACKNOWLEDGE);
shipped_orders = ((AQjmsSession )jms_sess).getTopic(
          "WS", "Shipped_Orders_Topic");
receiver = ((AQjmsSession)jms_sess).createTopicReceiver(
          shipped_orders, "WesternRegion", null);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3090"></a><a id="ADQUE3091"></a><a id="ADQUE3089"></a><div class="props_rev_3"><a id="GUID-B5A94557-8D39-4C3E-9D76-E78BA526E440" name="GUID-B5A94557-8D39-4C3E-9D76-E78BA526E440"></a><h3 id="ADQUE-GUID-B5A94557-8D39-4C3E-9D76-E78BA526E440" class="sect3"><span class="enumeration_section">14.25 </span>Creating a TopicBrowser for Standard JMS Messages
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public oracle.jms.TopicBrowser createBrowser(javax.jms.Topic topic,
                                             java.lang.String cons_name,
                                             java.lang.String messageSelector)
                                      throws JMSException
</pre><p>This method creates a <code class="codeph">TopicBrowser</code> for topics with <code class="codeph">TextMessage</code>, <code class="codeph">StreamMessage</code>, <code class="codeph">ObjectMessage</code>, <code class="codeph">BytesMessage</code>, or <code class="codeph">MapMessage</code> message bodies. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-B5A94557-8D39-4C3E-9D76-E78BA526E440__GUID-9438189B-75EC-4914-9E43-938EA17FD5E6">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d88908e3135">Parameter</th>
                                 <th align="left" valign="bottom" width="74%" id="d88908e3138">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3143" headers="d88908e3135 ">
                                    <p><code class="codeph">topic</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3143 d88908e3138 ">
                                    <p>Topic to access</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3151" headers="d88908e3135 ">
                                    <p><code class="codeph">cons_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3151 d88908e3138 ">
                                    <p>Name of the durable subscriber or consumer</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3159" headers="d88908e3135 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3159 d88908e3138 ">
                                    <p>Only messages with properties matching the <code class="codeph">messageSelector</code> expression are delivered. A value of null or an empty string indicates that there is no <code class="codeph">messageSelector</code> for the message consumer.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3173" headers="d88908e3135 ">
                                    <p><code class="codeph">payload_factory</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3173 d88908e3138 ">
                                    <p><code class="codeph">CustomDatumFactory</code> or <code class="codeph">ORADataFactory</code> for the Java class that maps to the Oracle ADT
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-B5A94557-8D39-4C3E-9D76-E78BA526E440__GUID-2B127D7D-63D5-44AF-A2C4-5A4CCF4679DC">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="jms-introduction.html#GUID-9CD17AB0-4085-4E8C-A7FF-E5C15A4BAEFA__CACBBCBJ">MessageSelector</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-B5A94557-8D39-4C3E-9D76-E78BA526E440__GUID-0A6BF10E-34EB-4B3C-9BB7-68A439541F17">
                     <p class="titleinexample">Example 14-24 Creating a TopicBrowser Without a Selector</p><pre class="oac_no_warn" dir="ltr">/* Create a browser without a selector */
TopicSession    jms_session;
TopicBrowser    browser;
Topic           topic;
browser = ((AQjmsSession) jms_session).createBrowser(topic, "SUBS1");
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-B5A94557-8D39-4C3E-9D76-E78BA526E440__GUID-50AC9FFD-BF69-4538-99BB-33E0BF6AE960">
                     <p class="titleinexample">Example 14-25 Creating a TopicBrowser With a Specified Selector</p><pre class="oac_no_warn" dir="ltr">/* Create a browser for topics with a specified selector */
TopicSession    jms_session;
TopicBrowser    browser;
Topic           topic;
/* create a Browser to look at messages with correlationID = RUSH  */
browser = ((AQjmsSession) jms_session).createBrowser(
          topic, "SUBS1", "JMSCorrelationID = 'RUSH'");</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3093"></a><a id="ADQUE3094"></a><a id="ADQUE3092"></a><div class="props_rev_3"><a id="GUID-95BE7FA2-76E1-40CD-90BB-0E96D6E39F54" name="GUID-95BE7FA2-76E1-40CD-90BB-0E96D6E39F54"></a><h3 id="ADQUE-GUID-95BE7FA2-76E1-40CD-90BB-0E96D6E39F54" class="sect3"><span class="enumeration_section">14.26 </span>Creating a TopicBrowser for Standard JMS Messages, Locking Messages
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public oracle.jms.TopicBrowser createBrowser(javax.jms.Topic topic,
                                             java.lang.String cons_name,
                                             java.lang.String messageSelector,
                                             boolean locked)
                                      throws JMSException
</pre><p>This method creates a <code class="codeph">TopicBrowser</code> for topics with text, stream, objects, bytes or map messages, locking messages while browsing. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-95BE7FA2-76E1-40CD-90BB-0E96D6E39F54__GUID-B68C0A1C-BA13-4AFC-99AD-E3EE5263B350">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d88908e3275">Parameter</th>
                                 <th align="left" valign="bottom" width="74%" id="d88908e3278">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3283" headers="d88908e3275 ">
                                    <p><code class="codeph">topic</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3283 d88908e3278 ">
                                    <p>Topic to access</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3291" headers="d88908e3275 ">
                                    <p><code class="codeph">cons_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3291 d88908e3278 ">
                                    <p>Name of the durable subscriber or consumer</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3299" headers="d88908e3275 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3299 d88908e3278 ">
                                    <p>Only messages with properties matching the <code class="codeph">messageSelector</code> expression are delivered. A value of null or an empty string indicates that there is no <code class="codeph">messageSelector</code> for the message consumer.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3313" headers="d88908e3275 ">
                                    <p><code class="codeph">locked</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3313 d88908e3278 ">
                                    <p>If set to true, then messages are locked as they are browsed (similar to a SELECT for UPDATE)</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-95BE7FA2-76E1-40CD-90BB-0E96D6E39F54__GUID-3D17F146-4CD9-49C8-B830-8AEFE53EED48">
                     <p class="titleinexample">Example 14-26 Creating a TopicBrowser Without a Selector, Locking Messages While Browsing</p><pre class="oac_no_warn" dir="ltr">/* Create a browser without a selector */
TopicSession    jms_session;
TopicBrowser    browser;
Topic           topic;
browser = ((AQjmsSession) jms_session).createBrowser(
          topic, "SUBS1", true);</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-95BE7FA2-76E1-40CD-90BB-0E96D6E39F54__GUID-3CABEF2F-6431-4FDD-BA34-BCFB6D3E5B09">
                     <p class="titleinexample">Example 14-27 Creating a TopicBrowser With a Specified Selector, Locking Messages</p><pre class="oac_no_warn" dir="ltr">/* Create a browser for topics with a specified selector */
TopicSession    jms_session;
TopicBrowser    browser;
Topic           topic;
/* create a Browser to look at messages with correlationID = RUSH in
lock mode */
browser = ((AQjmsSession) jms_session).createBrowser(
          topic, "SUBS1", "JMSCorrelationID = 'RUSH'", true);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3096"></a><a id="ADQUE3095"></a><div class="props_rev_3"><a id="GUID-36964605-00F2-4585-9177-9D2C3268E578" name="GUID-36964605-00F2-4585-9177-9D2C3268E578"></a><h3 id="ADQUE-GUID-36964605-00F2-4585-9177-9D2C3268E578" class="sect3"><span class="enumeration_section">14.27 </span>Creating a TopicBrowser for Oracle Object Type Messages
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public oracle.jms.TopicBrowser createBrowser(javax.jms.Topic topic,
                                             java.lang.String cons_name,
                                             java.lang.String messageSelector,
                                             java.lang.Object payload_factory)
                                      throws JMSException
</pre><p>This method creates a <code class="codeph">TopicBrowser</code> for topics of Oracle object type messages. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-36964605-00F2-4585-9177-9D2C3268E578__GUID-620B349D-ECF6-4652-A7BF-5CAF183512B4">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d88908e3401">Parameter</th>
                                 <th align="left" valign="bottom" width="74%" id="d88908e3404">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3409" headers="d88908e3401 ">
                                    <p><code class="codeph">topic</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3409 d88908e3404 ">
                                    <p>Topic to access</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3417" headers="d88908e3401 ">
                                    <p><code class="codeph">cons_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3417 d88908e3404 ">
                                    <p>Name of the durable subscriber or consumer</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3425" headers="d88908e3401 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3425 d88908e3404 ">
                                    <p>Only messages with properties matching the <code class="codeph">messageSelector</code> expression are delivered. A value of null or an empty string indicates that there is no <code class="codeph">messageSelector</code> for the message consumer.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3439" headers="d88908e3401 ">
                                    <p><code class="codeph">payload_factory</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3439 d88908e3404 ">
                                    <p><code class="codeph">CustomDatumFactory</code> or <code class="codeph">ORADataFactory</code> for the Java class that maps to the Oracle ADT
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-36964605-00F2-4585-9177-9D2C3268E578__GUID-25AF7B1D-8D98-4D4C-8DD7-CB363BD1B75C">
                        <p class="notep1">Note:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">CustomDatum</code> support will be deprecated in a future release. Use <code class="codeph">ORADataFactory</code> payload factories instead.
                              </p>
                           </li>
                           <li>
                              <p>Sharded queues do not support object type messages.</p>
                           </li>
                        </ul>
                     </div>
                     <p>The <code class="codeph">CustomDatumFactory</code> for a particular Java class that maps to the SQL object type payload can be obtained using the <code class="codeph">getFactory</code> static method. Assume the topic<code class="codeph"> test_topic</code> has payload of type <code class="codeph">SCOTT.EMPLOYEE</code> and the Java class that is generated by Jpublisher for this Oracle object type is called <code class="codeph">Employee</code>. The Employee class implements the <code class="codeph">CustomDatum</code> interface. The <code class="codeph">CustomDatumFactory</code> for this class can be obtained by using the <code class="codeph">Employee.getFactory()</code> method.
                     </p>
                     <div class="infoboxnotealso" id="GUID-36964605-00F2-4585-9177-9D2C3268E578__GUID-A2791877-3E48-4427-9BEF-BAC8E18D5760">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="jms-introduction.html#GUID-9CD17AB0-4085-4E8C-A7FF-E5C15A4BAEFA__CACBBCBJ">MessageSelector</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-36964605-00F2-4585-9177-9D2C3268E578__GUID-4D182A8F-7642-4728-B0F3-3C4066005B03">
                     <p class="titleinexample">Example 14-28 Creating a TopicBrowser for AdtMessage Messages</p><pre class="oac_no_warn" dir="ltr">/* Create a browser for a Topic with AdtMessage messages of type EMPLOYEE*/
TopicSession jms_session
TopicBrowser browser;
Topic        test_topic;
browser = ((AQjmsSession) jms_session).createBrowser(
          test_topic, "SUBS1", Employee.getFactory());</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3098"></a><a id="ADQUE3097"></a><div class="props_rev_3"><a id="GUID-D467A464-3B85-4197-9F91-023A321F1E88" name="GUID-D467A464-3B85-4197-9F91-023A321F1E88"></a><h3 id="ADQUE-GUID-D467A464-3B85-4197-9F91-023A321F1E88" class="sect3"><span class="enumeration_section">14.28 </span>Creating a TopicBrowser for Oracle Object Type Messages, Locking Messages
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public oracle.jms.TopicBrowser createBrowser(javax.jms.Topic topic,
                                             java.lang.String cons_name,
                                             java.lang.String messageSelector,
                                             java.lang.Object payload_factory,
                                             boolean locked)
                                      throws JMSException
</pre><p>This method creates a <code class="codeph">TopicBrowser</code> for topics of Oracle object type messages, locking messages while browsing. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-D467A464-3B85-4197-9F91-023A321F1E88__GUID-F11B8FDC-0589-4AD3-9BBE-FDE900AF7A36">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d88908e3572">Parameter</th>
                                 <th align="left" valign="bottom" width="74%" id="d88908e3575">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3580" headers="d88908e3572 ">
                                    <p><code class="codeph">topic</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3580 d88908e3575 ">
                                    <p>Topic to access</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3588" headers="d88908e3572 ">
                                    <p><code class="codeph">cons_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3588 d88908e3575 ">
                                    <p>Name of the durable subscriber or consumer</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3596" headers="d88908e3572 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3596 d88908e3575 ">
                                    <p>Only messages with properties matching the <code class="codeph">messageSelector</code> expression are delivered. A value of null or an empty string indicates that there is no <code class="codeph">messageSelector</code> for the message consumer.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3610" headers="d88908e3572 ">
                                    <p><code class="codeph">payload_factory</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3610 d88908e3575 ">
                                    <p><code class="codeph">CustomDatumFactory</code> or <code class="codeph">ORADataFactory</code> for the Java class that maps to the Oracle ADT
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d88908e3623" headers="d88908e3572 ">
                                    <p><code class="codeph">locked</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d88908e3623 d88908e3575 ">
                                    <p>If set to true, then messages are locked as they are browsed (similar to a SELECT for UPDATE)</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-D467A464-3B85-4197-9F91-023A321F1E88__GUID-7EBE2156-4BD5-41FA-90BE-51476CA3E9C6">
                        <p class="notep1">Note:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">CustomDatum</code> support will be deprecated in a future release. Use <code class="codeph">ORADataFactory</code> payload factories instead.
                              </p>
                           </li>
                           <li>
                              <p>Sharded queues do not support object type messages.</p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-D467A464-3B85-4197-9F91-023A321F1E88__GUID-C03CD205-39F3-4A6B-80E2-87F238856BE8">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="jms-introduction.html#GUID-9CD17AB0-4085-4E8C-A7FF-E5C15A4BAEFA__CACBBCBJ">MessageSelector</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-D467A464-3B85-4197-9F91-023A321F1E88__GUID-F96CA37B-B1A2-4605-8F6D-A7BC000F1A54">
                     <p class="titleinexample">Example 14-29 Creating a TopicBrowser for AdtMessage Messages, Locking Messages</p><pre class="oac_no_warn" dir="ltr">/* Create a browser for a Topic with AdtMessage messages of type EMPLOYEE* in
lock mode/
TopicSession jms_session
TopicBrowser browser;
Topic        test_topic;
browser = ((AQjmsSession) jms_session).createBrowser(
          test_topic, "SUBS1", Employee.getFactory(), true);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3100"></a><a id="ADQUE3099"></a><div class="props_rev_3"><a id="GUID-073E8D0D-703B-4941-869A-7AA8C9F4CCC1" name="GUID-073E8D0D-703B-4941-869A-7AA8C9F4CCC1"></a><h3 id="ADQUE-GUID-073E8D0D-703B-4941-869A-7AA8C9F4CCC1" class="sect3"><span class="enumeration_section">14.29 </span>Browsing Messages Using a TopicBrowser
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void purgeSeen()
               throws JMSException
</pre><p>This method browses messages using a <code class="codeph">TopicBrowser</code>. Use methods in <code class="codeph">java.util.Enumeration</code> to go through the list of messages. Use the method <code class="codeph">purgeSeen</code> in <code class="codeph">TopicBrowser</code> to purge messages that have been seen during the current browse.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-073E8D0D-703B-4941-869A-7AA8C9F4CCC1__GUID-4202A758-8D87-4E4E-B69A-A6E1528F6958">
                     <p class="titleinexample">Example 14-30 Creating a TopicBrowser with a Specified Selector</p><pre class="oac_no_warn" dir="ltr">/* Create a browser for topics with a specified selector */
public void browse_rush_orders(TopicSession jms_session)
TopicBrowser    browser;
Topic           topic;
ObjectMessage   obj_message
BolOrder        new_order;
Enumeration     messages;
/* get a handle to the new_orders topic */
topic = ((AQjmsSession) jms_session).getTopic("OE", "OE_bookedorders_topic");
/* create a Browser to look at RUSH orders */
browser = ((AQjmsSession) jms_session).createBrowser(
          topic, "SUBS1", "JMSCorrelationID = 'RUSH'");
/* Browse through the messages */
for (messages = browser.elements() ; message.hasMoreElements() ;)
{obj_message = (ObjectMessage)message.nextElement();}
/* Purge messages seen during this browse */
browser.purgeSeen() </pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>