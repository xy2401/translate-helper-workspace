<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Lists and describes OCI flush or refresh functions.">
      <meta name="description" content="Lists and describes OCI flush or refresh functions.">
      <title>OCI Flush or Refresh Functions</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="Lists and describes OCI flush or refresh functions.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96204-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="intro-to-navigational-and-type-functions.html" title="Previous" type="text/html">
      <link rel="next" href="oci-mark-or-unmark-object-cache-functions.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="intro-to-navigational-and-type-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oci-mark-or-unmark-object-cache-functions.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oci-navigational-and-type-functions.html" property="item" typeof="WebPage"><span property="name"> OCI Navigational and Type Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCI Flush or Refresh Functions</li>
            </ol>
            <a id="GUID-C53CECCE-A6AA-433F-8EC7-419BA3503EB2" name="GUID-C53CECCE-A6AA-433F-8EC7-419BA3503EB2"></a><a id="LNOCI17317"></a><a id="LNOCI171"></a>
            
            <h2 id="LNOCI-GUID-C53CECCE-A6AA-433F-8EC7-419BA3503EB2" class="sect2"><span class="enumeration_section">27.2 </span>OCI Flush or Refresh Functions
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Lists and describes OCI flush or refresh functions.</p>
               <div class="section">
                  <p><a href="oci-flush-or-refresh-functions.html#GUID-C53CECCE-A6AA-433F-8EC7-419BA3503EB2__CACEIBCE" title="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">Table 27-4</a> describes the OCI flush or refresh functions that are described in this section.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-C53CECCE-A6AA-433F-8EC7-419BA3503EB2__CACEIBCE">
                  <p class="titleintable">Table 27-4 Flush or Refresh Functions</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="Flush or Refresh Functions" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="56%" id="d239589e201">Function</th>
                           <th align="left" valign="bottom" width="44%" id="d239589e204">Purpose</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="56%" id="d239589e209" headers="d239589e201 ">
                              <p><a href="oci-flush-or-refresh-functions.html#GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E" title="Flushes modified persistent objects to the server.">OCICacheFlush()</a></p>
                           </td>
                           <td align="left" valign="top" width="44%" headers="d239589e209 d239589e204 ">
                              <p>Flush modified persistent objects in cache to server</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="56%" id="d239589e221" headers="d239589e201 ">
                              <p><a href="oci-flush-or-refresh-functions.html#GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F" title="Refreshes all pinned persistent objects in the cache.">OCICacheRefresh()</a></p>
                           </td>
                           <td align="left" valign="top" width="44%" headers="d239589e221 d239589e204 ">
                              <p>Refresh pinned persistent objects</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="56%" id="d239589e233" headers="d239589e201 ">
                              <p><a href="oci-flush-or-refresh-functions.html#GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301" title="Flushes a modified persistent object to the server.">OCIObjectFlush()</a></p>
                           </td>
                           <td align="left" valign="top" width="44%" headers="d239589e233 d239589e204 ">
                              <p>Flush a modified persistent object to the server</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="56%" id="d239589e245" headers="d239589e201 ">
                              <p><a href="oci-flush-or-refresh-functions.html#GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C" title="Refreshes a persistent object from the most current database snapshot.">OCIObjectRefresh()</a></p>
                           </td>
                           <td align="left" valign="top" width="44%" headers="d239589e245 d239589e204 ">
                              <p>Refresh a persistent object</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNOCI17318"></a><div class="props_rev_3"><a id="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E" name="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E"></a><h3 id="LNOCI-GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E" class="sect3"><span class="enumeration_section">27.2.1 </span>OCICacheFlush()
               </h3>
               <div>
                  <p>Flushes modified persistent objects to the server.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-3B961491-D320-4B5A-B4A6-56E7A86826A2">Purpose</p>
                     <p>Flushes modified persistent objects to the server.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-823CBFBB-D499-421F-A2FC-63EAFF410355">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCICacheFlush ( OCIEnv              *env, 
                      OCIError            *err, 
                      const OCISvcCtx     *svc, 
                      void                *context,
                      OCIRef              *(*get)
                                          ( void    *context,
                                            ub1     *last ), 
                      OCIRef             **ref );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-217ED454-3937-46AE-8FA7-6275B6F1909A">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-2A4881BE-EF77-4CD9-9D98-A0C0D2FF6CD7">
                              <!-- --></a>env (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI environment handle initialized in object mode. See the descriptions of <code class="codeph">OCIEnvCreate()</code>, <code class="codeph">OCIEnvNlsCreate()</code>, and <code class="codeph">OCIInitialize()</code> (deprecated) for more information.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-B3481F88-A9D2-47AE-87C8-1B81086AB528">
                              <!-- --></a>err (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Obtain diagnostic information by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-1619436A-4B25-4B50-9FB0-E5938905B736">
                              <!-- --></a>svc (IN)
                        </dt>
                        <dd>
                           <p>OCI service context.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-14B0BAB5-05AC-4F8F-89B2-76C1F5987935">
                              <!-- --></a>context (IN) [optional]
                        </dt>
                        <dd>
                           <p>Specifies a user context that is an argument to the client callback function <code class="codeph">get</code>. This parameter is set to <code class="codeph">NULL</code> if there is no user context.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-4E82E1BF-235E-42DC-B837-41879FBD0A47">
                              <!-- --></a>get (IN) [optional]
                        </dt>
                        <dd>
                           <p>A client-defined function that acts as an iterator to retrieve a batch of dirty objects that need to be flushed. If the function is not <code class="codeph">NULL</code>, this function is called to get a reference of a dirty object. This is repeated until a <code class="codeph">NULL</code> reference is returned by the client function or the parameter <code class="codeph">last</code> is set to <code class="codeph">TRUE</code>. The parameter <code class="codeph">context</code> is passed to <code class="codeph">get()</code> for each invocation of the client function. This parameter should be <code class="codeph">NULL</code> if user callback is not given. If the object that is returned by the client function is not a dirtied persistent object, the object is ignored.
                           </p>
                           <p>All the objects that are returned from the client function must be newed or pinned using the same service context; otherwise, an error is signaled. Note that the cache flushes the returned objects in the order in which they were marked dirty.</p>
                           <p>If this parameter is passed as <code class="codeph">NULL</code> (for example, no client-defined function is provided), then all dirty persistent objects for the given service context are flushed in the order in which they were dirtied.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-5AE6C1F9-00E9-436B-9474-A6F37FE16800">
                              <!-- --></a>ref (OUT) [optional]
                        </dt>
                        <dd>
                           <p>If there is an error in flushing the objects, (<code class="codeph">*ref</code>) points to the object that is causing the error. If <code class="codeph">ref</code> is <code class="codeph">NULL</code>, then the object is not returned. If <code class="codeph">*ref</code> is <code class="codeph">NULL</code>, then a reference is allocated and set to point to the object. If <code class="codeph">*ref</code> is not <code class="codeph">NULL</code>, then the reference of the object is copied into the given space. If the error is not caused by any of the dirtied objects, the given <code class="codeph">REF</code> is initialized to be a <code class="codeph">NULL</code> reference (<code class="codeph">OCIRefIsNull(*ref</code>) is <code class="codeph">TRUE</code>).
                           </p>
                           <p>The <code class="codeph">REF</code> is allocated for session duration (<code class="codeph">OCI_DURATION_SESSION</code>). The application can free the allocated <code class="codeph">REF</code> using the <code class="codeph">OCIObjectFree()</code> function.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-FDBF5830-2448-4793-8173-1FE278BBCB41">Comments</p>
                     <p>This function flushes the modified persistent objects from the object cache to the server. The objects are flushed in the order that they are new or marked as updated or marked as deleted. </p>
                     <div class="infoboxnotealso" id="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-3A87B146-A12C-43C4-A79B-A28381F27E6C">
                        <p class="notep1">See Also:</p>
                        <p><code class="codeph">OCIObjectFlush()</code></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This function incurs, at most, one network round-trip.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="oci-flush-or-refresh-functions.html#GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301" title="Flushes a modified persistent object to the server.">OCIObjectFlush()</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="This function was deprecated in a release previous to Oracle Database 11g Release 2 (11.2).">OCIInitialize()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17319"></a><div class="props_rev_3"><a id="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F" name="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F"></a><h3 id="LNOCI-GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F" class="sect3"><span class="enumeration_section">27.2.2 </span>OCICacheRefresh()
               </h3>
               <div>
                  <p>Refreshes all pinned persistent objects in the cache.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-33D56E40-2701-4C6B-BDAE-B72D39D63AF5">Purpose</p>
                     <p>Refreshes all pinned persistent objects in the cache.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-988D2B77-C537-4E6E-8145-1A3B45CE9739">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCICacheRefresh ( OCIEnv            *env, 
                       OCIError           *err, 
                       const OCISvcCtx    *svc,
                       OCIRefreshOpt       option, 
                       void               *context,
                       OCIRef             *(*get)(void  *context), 
                       OCIRef            **ref );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-D52A27B0-32BD-424B-AB24-DE2CCE16F95C">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-352A2B5D-4D2E-4F22-A045-5F80964870CB">
                              <!-- --></a>env (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI environment handle initialized in object mode. See the description of <code class="codeph">OCIEnvCreate()</code>, <code class="codeph">OCIEnvNlsCreate()</code>, and <code class="codeph">OCIInitialize()</code> (deprecated) for more information.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-3A875E73-C831-4D32-A8A5-A2EA738F1A02">
                              <!-- --></a>err (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Obtain diagnostic information by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-07B5C2FA-9333-4DA6-8475-78AB45436690">
                              <!-- --></a>svc (IN)
                        </dt>
                        <dd>
                           <p>OCI service context.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-79399133-2E32-4CA3-B67B-8ECF7EA818AF">
                              <!-- --></a>option (IN) [optional]
                        </dt>
                        <dd>
                           <p>If <code class="codeph">OCI_REFRESH_LOADED</code> is specified, all objects that are loaded within the transaction are refreshed. If the option is <code class="codeph">OCI_REFRESH_LOADED</code> and the parameter <code class="codeph">get</code> is not <code class="codeph">NULL</code>, this function ignores the parameter. 
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-B15246C4-47B5-4615-A288-CC8A775737A5">
                              <!-- --></a>context (IN) [optional]
                        </dt>
                        <dd>
                           <p>Specifies a user context that is an argument to the client callback function <code class="codeph">get</code>. This parameter is set to <code class="codeph">NULL</code> if there is no user context.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-D5D245FF-CEF1-405A-BBE5-22CC58ABBD7F">
                              <!-- --></a>get (IN) [optional]
                        </dt>
                        <dd>
                           <p>A client-defined function that acts as an iterator to retrieve a batch of objects that need to be refreshed. If the function is not <code class="codeph">NULL</code>, this function is called to get a reference of an object. If the reference is not <code class="codeph">NULL</code>, then the object is refreshed. These steps are repeated until a <code class="codeph">NULL</code> reference is returned by this function. The parameter <code class="codeph">context</code> is passed to <code class="codeph">get()</code> for each invocation of the client function. This parameter should be <code class="codeph">NULL</code> if user callback is not given.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-6467F1AF-E88F-4DEB-938C-3532A4763791">
                              <!-- --></a>ref (OUT) [optional]
                        </dt>
                        <dd>
                           <p>If there is an error in refreshing the objects, (<code class="codeph">*ref</code>) points to the object that is causing the error. If <code class="codeph">ref</code> is <code class="codeph">NULL</code>, then the object is not returned. If <code class="codeph">*ref</code> is <code class="codeph">NULL</code>, then a reference is allocated and set to point to the object. If <code class="codeph">*ref</code> is not <code class="codeph">NULL</code>, then the reference of the object is copied into the given space. If the error is not caused by any of the objects, the given <code class="codeph">ref</code> is initialized to be a <code class="codeph">NULL</code> reference (<code class="codeph">OCIRefIsNull(*ref</code>) is <code class="codeph">TRUE</code>).
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-D85A32EC-F587-4467-8218-03D1F3E12AFD">Comments</p>
                     <p>This function refreshes all pinned persistent objects and frees all unpinned persistent objects from the object cache.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-B3C21F2D-30B7-4DCF-AA2E-4D77164D3590">
                        <p class="notep1">Note:</p>
                        <p>When objects are refreshed, the secondary-level memory of those objects could potentially move to a different place in memory. As a result, any pointers to attributes that were saved prior to this call may be invalidated. Examples of attributes using secondary-level memory include <code class="codeph">OCIString *</code>, <code class="codeph">OCIColl *</code>, and <code class="codeph">OCIRaw *</code>.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="oci-flush-or-refresh-functions.html#GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C" title="Refreshes a persistent object from the most current database snapshot.">OCIObjectRefresh()</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="This function was deprecated in a release previous to Oracle Database 11g Release 2 (11.2).">OCIInitialize()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                        <li><a href="object-advanced-topics-in-oci.html#GUID-4FC980A1-942B-4CE8-B3B7-BFD72C44FB42" title="When refreshed, an object copy is reloaded with the latest value of the corresponding object in the server.">About Refreshing an Object Copy</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17320"></a><div class="props_rev_3"><a id="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301" name="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301"></a><h3 id="LNOCI-GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301" class="sect3"><span class="enumeration_section">27.2.3 </span>OCIObjectFlush()
               </h3>
               <div>
                  <p>Flushes a modified persistent object to the server.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301__GUID-326785AA-4651-4091-BF31-2E42576C8623">Purpose</p>
                     <p>Flushes a modified persistent object to the server.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301__GUID-5250A8F7-3501-433B-A43D-263D84274741">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIObjectFlush ( OCIEnv        *env,
                       OCIError      *err,
                       void          *object );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301__GUID-AAA01752-C53A-4B67-973A-BCCBADE1E223">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301__GUID-7D58A041-D1EF-4132-9848-5AECB2C5E326">
                              <!-- --></a>env (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI environment handle initialized in object mode. See the descriptions of <code class="codeph">OCIEnvCreate()</code>, <code class="codeph">OCIEnvNlsCreate()</code>, and <code class="codeph">OCIInitialize()</code> (deprecated) for more information.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301__GUID-6DBC5260-F610-4031-8C3A-4089FF5F88AD">
                              <!-- --></a>err (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Obtain diagnostic information by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301__GUID-B8C3508C-E3EA-4CC7-8D11-4B4613EB045E">
                              <!-- --></a>object (IN)
                        </dt>
                        <dd>
                           <p>A pointer to the persistent object. The object must be pinned before this call.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301__GUID-F7F21C30-7BBD-4154-A385-7B609280BE38">Comments</p>
                     <p>This function flushes a modified persistent object to the server. An exclusive lock is obtained implicitly for the object when it is flushed. When this function writes the object to the server, triggers may be fired. This function returns an error for transient objects and values, and for unmodified persistent objects.</p>
                     <p>Objects can be modified by triggers at the server. To keep objects in the cache consistent with the database, an application can free or refresh objects in the cache.</p>
                     <p>If the object to flush contains an internal LOB attribute and the LOB attribute was modified due to an <code class="codeph">OCIObjectCopy()</code>, <code class="codeph">OCILobAssign()</code>, or <code class="codeph">OCILobLocatorAssign()</code> operation or by assigning another LOB locator to it, then the flush makes a copy of the LOB value that existed in the source LOB at the time of the assignment or copy of the internal LOB locator or object. 
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="Pins a referenceable object.">OCIObjectPin()</a></li>
                        <li><a href="oci-flush-or-refresh-functions.html#GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E" title="Flushes modified persistent objects to the server.">OCICacheFlush()</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="This function was deprecated in a release previous to Oracle Database 11g Release 2 (11.2).">OCIInitialize()</a></li>
                        <li><a href="oci-miscellaneous-object-functions.html#GUID-73C98F89-47E5-4B82-B869-731F30F011B0" title="Copies a source instance to a destination.">OCIObjectCopy()</a></li>
                        <li><a href="lob-functions.html#GUID-B052C110-D039-44A1-85C6-F5CC7348E2DC" title="Assigns one LOB or BFILE locator to another">OCILobAssign()</a></li>
                        <li><a href="lob-functions.html#GUID-F7887376-4B3C-430C-94A3-11FE96E26627" title="Assigns one LOB or BFILE locator to another.">OCILobLocatorAssign()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                        <li><a href="lob-functions.html#GUID-699FFE4B-07C8-4904-959F-3686E73B8188">LOB Functions</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17322"></a><a id="LNOCI17321"></a><div class="props_rev_3"><a id="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C" name="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C"></a><h3 id="LNOCI-GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C" class="sect3"><span class="enumeration_section">27.2.4 </span>OCIObjectRefresh()
               </h3>
               <div>
                  <p>Refreshes a persistent object from the most current database snapshot.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-6962B07B-A47F-4339-B395-0649A08E41D0">Purpose</p>
                     <p>Refreshes a persistent object from the most current database snapshot.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-FB34905E-1881-4796-854D-6762C2E1AB90">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIObjectRefresh ( OCIEnv        *env, 
                         OCIError      *err, 
                         void          *object );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-957AD274-852D-4F6C-BC83-72EE5E5AE144">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-F0FFC9F2-CF58-46C1-B3F3-A186EDAB69AF">
                              <!-- --></a>env (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI environment handle initialized in object mode. See the descriptions of <code class="codeph">OCIEnvCreate()</code>, <code class="codeph">OCIEnvNlsCreate()</code>, and <code class="codeph">OCIInitialize()</code> (deprecated) for more information.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-252345CA-416A-43E6-9E67-798234330B0B">
                              <!-- --></a>err (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Obtain diagnostic information by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-076169D0-2C76-4CB5-88F6-C0D3BF338173">
                              <!-- --></a>object (IN)
                        </dt>
                        <dd>
                           <p>A pointer to the persistent object, which must already be pinned.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-DFB5953F-E4DB-4323-949E-5BC0BFC0C697">Comments</p>
                     <p>This function refreshes an object with data retrieved from the latest snapshot in the server. An object should be refreshed when the objects in the object cache are inconsistent with the objects in the server.</p>
                     <div class="infoboxnote" id="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-4A0E031D-C215-412C-A823-97EDE0017B0C">
                        <p class="notep1">Note:</p>
                        <p>When an object is flushed to the server, triggers can be fired to modify more objects in the server. The same objects (modified by the triggers) in the object cache become out-of-date, and must be refreshed before they can be locked or flushed.</p>
                        <p>This occurs when the user issues a SQL statement or PL/SQL procedure to modify any object in the server.</p>
                     </div>
                     <div class="infoboxnote" id="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-F07E10D0-582E-4F01-9730-459704520213">
                        <p class="notep1">Note:</p>
                        <p>Modifications made to objects (dirty objects) since the last flush are lost if unmarked objects are refreshed by this function.</p>
                     </div>
                     <p><a href="oci-flush-or-refresh-functions.html#GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__CACGGHIJ" title="This table has 2 columns. Column 1 is the object attribute and column 2 describes its status after refresh.">Table 27-5</a> shows how the various meta-attribute flags and durations of an object are modified after being refreshed.
                     </p>
                     <div class="tblformal" id="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__CACGGHIJ">
                        <p class="titleintable">Table 27-5 Object Status After Refresh </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Object Status After Refresh " summary="This table has 2 columns. Column 1 is the object attribute and column 2 describes its status after refresh." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="47%" id="d239589e1677">Object Attribute</th>
                                 <th align="left" valign="bottom" width="53%" id="d239589e1680">Status After Refresh</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d239589e1685" headers="d239589e1677 ">
                                    <p>existent</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d239589e1685 d239589e1680 ">
                                    <p>Set to appropriate value</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d239589e1692" headers="d239589e1677 ">
                                    <p>pinned</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d239589e1692 d239589e1680 ">
                                    <p>Unchanged</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d239589e1699" headers="d239589e1677 ">
                                    <p>allocation duration</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d239589e1699 d239589e1680 ">
                                    <p>Unchanged</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d239589e1706" headers="d239589e1677 ">
                                    <p>pin duration</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d239589e1706 d239589e1680 ">
                                    <p>Unchanged</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The object that is refreshed is <span class="italic">replaced-in-place</span>. When an object is replaced-in-place, the top-level memory of the object is reused so that new data can be loaded into the same memory address. The top-level memory of the <code class="codeph">NULL</code> indicator structure is also reused. Unlike the top-level memory chunk, the secondary memory chunks are freed and reallocated. 
                     </p>
                     <p>You should be careful when writing functionality that retains a pointer to the secondary memory chunk, such as assigning the address of a secondary memory chunk to a local variable, because this pointer can become invalid after the object is refreshed.</p>
                     <p>This function does no affect transient objects or values.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="oci-flush-or-refresh-functions.html#GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F" title="Refreshes all pinned persistent objects in the cache.">OCICacheRefresh()</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="This function was deprecated in a release previous to Oracle Database 11g Release 2 (11.2).">OCIInitialize()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>