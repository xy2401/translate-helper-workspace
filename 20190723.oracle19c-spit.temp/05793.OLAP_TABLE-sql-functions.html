<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>OLAP_TABLE SQL Functions</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="DML Reference">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="DML Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="olap-dml-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T13:59:56-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1994, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96403-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="olap-dml-commands-h-z.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_AW-plsql-package.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OLAP DML Reference">
    <meta name="dcterms.isVersionOf" content="OLADM">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="olap-dml-commands-h-z.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_AW-plsql-package.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">DML Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> OLAP_TABLE SQL Functions </li>
            </ol>
            <a id="GUID-7A3B0D7D-4B11-48FD-8A58-A6EF8084F85D" name="GUID-7A3B0D7D-4B11-48FD-8A58-A6EF8084F85D"></a><a id="OLADM930"></a><a id="olapdml_olap_table_funcs"></a>
            
            <h2 id="OLADM-GUID-7A3B0D7D-4B11-48FD-8A58-A6EF8084F85D" class="sect2"><span class="enumeration_chapter">A </span> OLAP_TABLE SQL Functions 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This appendix contains reference documentation for the following SQL functions that you can use to extract multidimensional data from an analytic workspace and present it in the two-dimensional format of a relational table:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722">Creating Relational Views Using OLAP_TABLE</a></p>
                  </li>
                  <li>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F">Using OLAP DML Expressions in SELECT FROM OLAP_TABLE Statements</a></p>
                  </li>
                  <li>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511">OLAP_TABLE</a></p>
                  </li>
                  <li>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A">OLAP_CONDITION</a></p>
                  </li>
                  <li>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a></p>
                  </li>
                  <li>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54">OLAP_EXPRESSION_BOOL</a></p>
                  </li>
                  <li>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9">OLAP_EXPRESSION_DATE</a></p>
                  </li>
                  <li>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0">OLAP_EXPRESSION_TEXT</a></p>
                  </li>
               </ul>
            </div><a id="OLADM931"></a><a id="olapdml_olaptable_createviews"></a><div class="props_rev_3"><a id="GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722" name="GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722"></a><h3 id="OLADM-GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722" class="sect3"><span class="enumeration_section">A.1 </span>Creating Relational Views Using OLAP_TABLE
               </h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">OLAP_TABLE</code> is a SQL function that returns a table of objects that can be joined to relational tables and views, and to other tables of objects populated by <code class="codeph">OLAP_TABLE</code>. Within a SQL statement, you can specify an <code class="codeph">OLAP_TABLE</code> function call wherever you would provide the name of a table or view.
                     </p>
                     <p><code class="codeph">OLAP_TABLE</code> <a id="d248156e106" class="indexterm-anchor"></a><a id="d248156e108" class="indexterm-anchor"></a>uses a <span class="bold">limit map</span> to map dimensions and measures defined in an analytic workspace to columns in a logical table. The limit map combines with the <code class="codeph">WHERE</code> clause of a SQL <code class="codeph">SELECT</code> statement to generate a series of OLAP DML LIMIT commands that are executed in the analytic workspace.
                     </p>
                     <p><code class="codeph">OLAP_TABLE</code> can use a limit map with a predefined logical table, or it can use the information in a limit map to dynamically generate a logical table at run time.
                     </p>
                     <div class="infoboxnotealso" id="GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722__GUID-9D9813A4-12B6-463C-9457-C846E6B11535">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="olap-dml-commands-h-z.html#GUID-C84F165D-930A-461C-976B-F4C28F6DCA14">LIMIT command</a></p>
                           </li>
                           <li>
                              <p>The discussion of the <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHCGCBF">"limit_map"</a> parameter of <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511">OLAP_TABLE</a></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-18A04504-CC0B-4B59-8007-BD88818A6F99">Creating Logical Tables for Use by OLAP_TABLE</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-14F21C1D-20A6-45C8-B3D9-3DCACBE89252">Required OLAP DML Objects</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-18A04504-CC0B-4B59-8007-BD88818A6F99">Creating Logical Tables for Use by OLAP_TABLE</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-18A04504-CC0B-4B59-8007-BD88818A6F99">Creating Logical Tables for Use by OLAP_TABLE</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-18A04504-CC0B-4B59-8007-BD88818A6F99">Creating Logical Tables for Use by OLAP_TABLE</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="OLADM932"></a><div class="props_rev_3"><a id="GUID-14F21C1D-20A6-45C8-B3D9-3DCACBE89252" name="GUID-14F21C1D-20A6-45C8-B3D9-3DCACBE89252"></a><h4 id="OLADM-GUID-14F21C1D-20A6-45C8-B3D9-3DCACBE89252" class="sect4"><span class="enumeration_section">A.1.1 </span>Required OLAP DML Objects
                  </h4>
                  <div>
                     <div class="section">
                        <p>Several objects must be predefined within the analytic workspace to support the mapping of dimension hierarchies in the limit map:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>a <span class="bold">parent relation</span>, which identifies the parent of each dimension member within a hierarchy. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-DDB9F83C-9589-4E2C-A1F2-9B64742C7B73">Parentrel Relation</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>a <span class="bold">hierarchy dimension</span>, which lists the hierarchies of a dimension. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-C549C23C-B212-46F3-9554-7EF66DED9843">Hierlist Dimension</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>an <span class="bold">inhierarchy</span> variable or valueset, which specifies which dimension members belong to each level of a hierarchy. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-3AEE9CB7-E70C-4D78-B02B-ECE81F012EE9">Inhier Valueset or Variable</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>a <span class="bold">grouping ID</span> variable, which identifies the depth within a hierarchy of each dimension member. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-195094D6-3CD6-4E52-8161-06E5C3DE3E29">Gidrel Relation</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>a <span class="bold">family relation</span>, which provides the full parentage of each dimension member in a hierarchy. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-AFD82568-4D30-43B1-A193-AD553DB11A1C">Familyrel Relation</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>a <span class="bold">level dimension</span>, which lists the levels of a dimension. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-247C1B87-E4E3-4313-8E2E-D18DA9F2F290">Levellist Dimension</a>"</span> for more information.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OLADM933"></a><div class="props_rev_3"><a id="GUID-18A04504-CC0B-4B59-8007-BD88818A6F99" name="GUID-18A04504-CC0B-4B59-8007-BD88818A6F99"></a><h4 id="OLADM-GUID-18A04504-CC0B-4B59-8007-BD88818A6F99" class="sect4"><span class="enumeration_section">A.1.2 </span>Creating Logical Tables for Use by OLAP_TABLE
                  </h4>
                  <div>
                     <div class="section">
                        <p>The logical table populated by <code class="codeph">OLAP_TABLE</code> is actually a table type whose rows are user-defined object types, also known as <span class="bold">Abstract Data Types</span> or <span class="bold">ADTs</span>.
                        </p>
                        <p>A <a id="d248156e303" class="indexterm-anchor"></a>user-defined object type is composed of attributes, which are equivalent to the columns of a table. The basic syntax for defining a row is as follows.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE <span class="italic">object_name</span> AS OBJECT (
   <span class="italic">attribute1</span>      <span class="italic">datatype</span>,
   <span class="italic">attribute2</span>      <span class="italic">datatype</span>,
   <span class="italic">attribute</span>n      <span class="italic">datatype</span>);
</pre><p>A <a id="d248156e334" class="indexterm-anchor"></a>table type is a collection of object types; this collection is equivalent to the rows of a table. The basic syntax for creating a table type is as follows.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE <span class="italic">table_name</span> AS TABLE OF <span class="italic">object_name</span>;
</pre><p><code class="codeph">OLAP_TABLE</code> can use a limit map with a predefined logical table, or it can use the information in a limit map to dynamically generate a logical table at run time.
                        </p>
                        <div class="infoboxnotealso" id="GUID-18A04504-CC0B-4B59-8007-BD88818A6F99__GUID-1AC77CDB-431C-496B-A631-0E9A04F06CB3">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2">Using OLAP_TABLE With Predefined ADTs</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D">Using OLAP_TABLE With Automatic ADTs</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../adobj/key-features-object-relational-model.html#ADOBJ-GUID-0C7CE261-467B-4F8B-A04D-B0900E1FB284" target="_blank">About Object Types</a> in <span><cite>Oracle Database Object-Relational Developer's Guide</cite></span> for information about object types
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/CREATE-TYPE.html#SQLRF01506" target="_blank">CREATE TYPE</a> in <span class="italic">Oracle Database SQL Language Reference</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="OLADM2951"></a><a id="OLADM2952"></a><a id="OLADM934"></a><div class="props_rev_3"><a id="GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2" name="GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2"></a><h5 id="OLADM-GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2" class="sect5"><span class="enumeration_section">A.1.2.1 </span>Using OLAP_TABLE With Predefined ADTs
                     </h5>
                     <div>
                        <div class="section">
                           <p>You can predefine the table of objects or generate it dynamically. When you create the table type in advance, it is available in the database for use by any invocation of <code class="codeph">OLAP_TABLE</code>. Queries that use predefined objects typically perform better than queries that dynamically generate the objects.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2__GUID-AB1A0506-22DF-45FB-AA26-AC512A484457">Examples</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2__CHDHJDBA">
                           <p class="titleinexample">Example A-1 Template for Creating a View Using Predefined ADTs</p>
                           <p>This example shows how to create a view of an analytic workspace using predefined ADTs. </p><pre class="oac_no_warn" dir="ltr">SET ECHO ON
SET SERVEROUT ON

DROP TYPE <span class="italic">table_obj</span>;
DROP TYPE <span class="italic">row_obj</span>;

CREATE TYPE <span class="italic">row_obj</span> AS OBJECT (
   <span class="italic">         column_first</span>     <span class="italic">datatype</span>,
   <span class="italic">         column_next</span>      <span class="italic">datatype</span>,
   <span class="italic">         column_</span>n      <span class="italic">   datatype</span>);
/   
CREATE TYPE <span class="italic">table_obj</span> AS TABLE OF <span class="italic">row_obj</span>;
/
CREATE OR REPLACE VIEW <span class="italic">view_name</span> AS
   SELECT <span class="italic">column_first</span>, <span class="italic">column_next</span>, <span class="italic">column_</span>n
      FROM TABLE(OLAP_TABLE(
         '<span class="italic">analytic_workspace</span>', 
         '<span class="italic">table_obj</span>', 
         '<span class="italic">olap_command</span>',
         '<span class="italic">limit_map</span>'));
/
COMMIT;
/ 
GRANT SELECT ON <span class="italic">view_name</span> TO PUBLIC;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2__CHDFJHHA">
                           <p class="titleinexample">Example A-2 Sample View of the TIME Dimension Using Predefined ADTs</p>
                           <p>This example uses <code class="codeph">OLAP_TABLE</code> with a predefined table type to create a relational view of the <code class="codeph">TIME</code> dimension in an analytic workspace named <code class="codeph">MYAW</code> in the <code class="codeph">MYAW_AW</code> schema. 
                           </p>
                           <p>The first parameter in the <code class="codeph">OLAP_TABLE</code> call is the name of the analytic workspace. The second is the name of the predefined table type. The fourth is the limit map that specifies how to map the workspace dimension to the columns of the predefined table type. The third parameter is not specified.
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE time_cal_row AS OBJECT (
            time_id           varchar2(32),
            cal_short_label   varchar2(32),
            cal_end_date      date,
            cal_timespan      number(6));

CREATE TYPE time_cal_table AS TABLE OF time_cal_row;

CREATE OR REPLACE VIEW time_cal_view AS
   SELECT time_id, cal_short_label, cal_end_date, cal_timespan
      FROM TABLE(OLAP_TABLE(
         'myaw_aw.myaw duration session',
         'time_cal_table',
          '',
         'DIMENSION time_id from time with
            HIERARCHY time_parentrel
               INHIERARCHY time_inhier
            ATTRIBUTE cal_short_label from time_short_description
            ATTRIBUTE cal_end_date    from time_end_date
            ATTRIBUTE cal_timespan    from time_time_span'));</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="OLADM2953"></a><a id="OLADM2954"></a><a id="OLADM935"></a><div class="props_rev_3"><a id="GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D" name="GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D"></a><h5 id="OLADM-GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D" class="sect5"><span class="enumeration_section">A.1.2.2 </span>Using OLAP_TABLE With Automatic ADTs
                     </h5>
                     <div>
                        <div class="section">
                           <p>If you <a id="d248156e577" class="indexterm-anchor"></a>do not supply the name of a table type as an argument, <code class="codeph">OLAP_TABLE</code> uses information in the limit map to generate the logical table automatically. In this case, the table type is only available at run time within the context of the calling SQL <code class="codeph">SELECT</code> statement.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D__GUID-FFBF7713-508C-4E43-99C4-7A2037BB95EC">Examples</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D__CIHICBCD">
                           <p class="titleinexample">Example A-3 Template for Creating a View Using Automatic ADTs</p>
                           <p>This example shows how to create a view of an analytic workspace using automatic ADTs. </p><pre class="oac_no_warn" dir="ltr">SET ECHO ON
SET SERVEROUT ON

CREATE OR REPLACE VIEW <span class="italic">view_name</span> AS
   SELECT <span class="italic">column_first</span>, <span class="italic">column_next</span>, <span class="italic">column_</span>n
      FROM TABLE(OLAP_TABLE(
         '<span class="italic">analytic_workspace</span>',
         '', 
         '<span class="italic">olap_command</span>',
         '<span class="italic">limit_map</span>'));
/
COMMIT;
/ 
GRANT SELECT ON <span class="italic">view_name</span> TO PUBLIC;        
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D__CIHDHDDB">
                           <p class="titleinexample">Example A-4 View of the TIME Dimension Using Automatic ADTs </p>
                           <p>This example creates the same view produced by the previous example, but it automatically generates the ADTs instead of using a predefined table type. It uses <code class="codeph">AS</code> clauses in the limit map to specify the data types of the target columns.
                           </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE VIEW time_cal_view AS
   SELECT time_id, cal_short_label, cal_end_date, cal_timespan
      FROM TABLE(OLAP_TABLE(
        'myaw_aw.myaw duration session',
        null,
        null,
        'DIMENSION time_id AS varchar2(32) FROM time WITH
           HIERARCHY time_parentrel
              INHIERARCHY time_inhier
           ATTRIBUTE cal_short_label AS VARCHAR2(32) from time_short_description
           ATTRIBUTE cal_end_date AS DATE            from time_end_date
           ATTRIBUTE cal_timespan AS NUMBER(6)       from time_time_span'));

</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <p>When automatically generating ADTs, <code class="codeph">OLAP_TABLE</code> uses default relational data types for the target columns unless you override them with <code class="codeph">AS</code> clauses in the limit map. The default data type conversions used by <code class="codeph">OLAP_TABLE</code> are described in <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAFCIEA" title="OLAP_TABLE default data type conversions">Table A-2</a>. 
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="OLADM936"></a><div class="props_rev_3"><a id="GUID-02689531-77D8-4136-98A8-68B96DE01EC4" name="GUID-02689531-77D8-4136-98A8-68B96DE01EC4"></a><h4 id="OLADM-GUID-02689531-77D8-4136-98A8-68B96DE01EC4" class="sect4"><span class="enumeration_section">A.1.3 </span>Adding Calculated Columns to the Relational View
                  </h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">OLAP_TABLE</code> uses a limit map to present the multidimensional data from an analytic workspace in tabular form. The limit map specifies the columns of the logical table. You can add a calculated column to your relational view by specifying the <code class="codeph">OLAP_EXPRESSION</code> function or a related Boolean, text, or date function in the select list of the query. When you specify one of these functions in the select list, <code class="codeph">OLAP_TABLE</code> generates additional columns for the results of the function.
                        </p>
                        <p>Before you use one of these expressions, you must specify a <code class="codeph">ROW2CELL</code> clause in the limit map used by <code class="codeph">OLAP_TABLE</code> to identifies the <code class="codeph">RAW</code> column that <code class="codeph">OLAP_TABLE</code> populates with information used by the OLAP single-row functions.
                        </p>
                        <div class="infoboxnotealso" id="GUID-02689531-77D8-4136-98A8-68B96DE01EC4__GUID-170B0826-F8C5-4B0A-BACE-4C7309F5FD2E">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-00A7C470-939E-4240-B089-B179CDE05252">Using OLAP DML Expressions as Single-Row Functions</a>"</span> and <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHGCEGC">ROW2CELL Clause</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OLADM937"></a><a id="olapdml_in_selectfrom"></a><div class="props_rev_3"><a id="GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F" name="GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F"></a><h3 id="OLADM-GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F" class="sect3"><span class="enumeration_section">A.2 </span>Using OLAP DML Expressions in SELECT FROM OLAP_TABLE Statements
               </h3>
               <div>
                  <p>You can use OLAP DML commands within your SELECT FROM OLAP_TABLE statements as described in:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-00A7C470-939E-4240-B089-B179CDE05252">Using OLAP DML Expressions as Single-Row Functions</a>"</span></p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-CAF827B8-8E19-4330-BC3F-D339DD0F1AE8">Modifying an Analytic Workspace From Within a SELECT FROM OLAP_TABLE Statement</a>"</span></p>
                     </li>
                  </ul>
               </div><a id="OLADM938"></a><div class="props_rev_3"><a id="GUID-00A7C470-939E-4240-B089-B179CDE05252" name="GUID-00A7C470-939E-4240-B089-B179CDE05252"></a><h4 id="OLADM-GUID-00A7C470-939E-4240-B089-B179CDE05252" class="sect4"><span class="enumeration_section">A.2.1 </span>Using OLAP DML Expressions as Single-Row Functions
                  </h4>
                  <div>
                     <p>SQL functions are typically single-row<a id="d248156e786" class="indexterm-anchor"></a> functions that return a single result row for every row of a queried table or view. Oracle supports several predefined SQL <a id="d248156e789" class="indexterm-anchor"></a>single-row functions, for example <code class="codeph">COS</code>, <code class="codeph">LOG</code>, and <code class="codeph">ROUND</code>, which return numeric data, and <code class="codeph">UPPER</code> and <code class="codeph">LOWER</code>, which return character data.
                     </p>
                     <p>Within the context of a <code class="codeph">SELECT FROM OLAP_TABLE</code> statement, there are four SQL functions that you can use to wrap OLAP DML functions so that the OLAP DML function acts as a single-row function. There are four functions that return the results of expressions of different OLAP DML data types: <a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a> for Oracle OLAP numeric expressions, <a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54">OLAP_EXPRESSION_BOOL</a> for Oracle OLAP Boolean expressions, <a href="OLAP_TABLE-sql-functions.html#GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9">OLAP_EXPRESSION_DATE</a> for Oracle OLAP datetime expressions, and <a href="OLAP_TABLE-sql-functions.html#GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0">OLAP_EXPRESSION_TEXT</a> for Oracle OLAP text expressions. One argument of each of these SQL functions is an OLAP DML function. 
                     </p>
                     <p>You can specify the OLAP_EXPRESSION function and its variants in the same way you specify other Oracle single-row functions, notably in the select list, <code class="codeph">WHERE</code>, and <code class="codeph">ORDER BY</code> clauses. 
                     </p>
                  </div>
               </div><a id="OLADM939"></a><div class="props_rev_3"><a id="GUID-CAF827B8-8E19-4330-BC3F-D339DD0F1AE8" name="GUID-CAF827B8-8E19-4330-BC3F-D339DD0F1AE8"></a><h4 id="OLADM-GUID-CAF827B8-8E19-4330-BC3F-D339DD0F1AE8" class="sect4"><span class="enumeration_section">A.2.2 </span>Modifying an Analytic Workspace From Within a SELECT FROM OLAP_TABLE Statement
                  </h4>
                  <div>
                     <p>There are several mechanisms for modifying an analytic workspace on the fly during the execution of <code class="codeph">OLAP_TABLE</code>. 
                     </p>
                     <p>You can use the <code class="codeph">OLAP_CONDITION</code> SQL function modifies an analytic workspace within the context of a <code class="codeph">SELECT FROM OLAP_TABLE</code> statement. You can specify <code class="codeph">OLAP_CONDITION</code> like other Oracle functions, typically in the <code class="codeph">WHERE</code> clause. Using the <code class="codeph">OLAP_CONDITION</code>, you can set an option, execute a <code class="codeph">LIMIT</code> command, execute an OLAP model or forecast, or run a program. The changes made to the workspace can be transitory or they can persist in your session upon completion of the query.
                     </p>
                     <p>In addition to <code class="codeph">OLAP_CONDITION</code>, you can use syntax supported by the <code class="codeph">OLAP_TABLE</code> function itself: The <code class="codeph">PREDMLCMD</code> and <code class="codeph">POSTDMLCMD</code> clauses in the limit map, and the <span class="italic">olap_command</span> parameter. <code class="codeph">OLAP_CONDITION</code> has the advantage of portability, because it is not embedded within <code class="codeph">OLAP_TABLE</code>, and versatility, because it can be applied at different entry points. 
                     </p>
                     <p><code class="codeph">OLAP_TABLE</code> saves the status of dimensions in the limit map before executing the <code class="codeph">LIMIT</code> commands that generate the result set for the query. After the data is fetched, <code class="codeph">OLAP_TABLE</code> restores the status of the dimensions. You can specify a <code class="codeph">PREDMLCMD</code> clause in the limit map to cause an OLAP DML command to execute before the dimension status is saved. Modifications resulting from the <code class="codeph">PREDMLCMD</code> clause remain in the workspace after execution of <code class="codeph">OLAP_TABLE</code>, unless reversed with a <code class="codeph">POSTDMLCMD</code> clause. For more information, see <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHCGCBF">"limit_map"</a>.
                     </p>
                     <p>The <span class="italic">olap_command</span> parameter of <code class="codeph">OLAP_TABLE</code> specifies an OLAP DML command that executes immediately before the result set is fetched. In some circumstances, the <span class="italic">olap_command</span> parameter may contain an OLAP DML <a href="olap-dml-commands-a-g.html#GUID-D3B20F03-6C0D-4F6D-A63D-22130EF8956F">FETCH</a> command, which itself manages the fetch. Limits set by the <span class="italic">olap_command</span> parameter are only in effect during the execution of <code class="codeph">OLAP_TABLE</code>. For more information, see <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFFIBI">"olap_command"</a>.
                     </p>
                  </div>
               </div>
            </div><a id="OLADM940"></a><a id="OLADM3031"></a><a id="OLADM2955"></a><a id="OLADM2956"></a><a id="OLADM2957"></a><a id="OLADM2958"></a><a id="OLADM2959"></a><a id="OLADM2960"></a><a id="OLADM2961"></a><a id="OLADM2962"></a><a id="OLADM2963"></a><a id="OLADM2964"></a><a id="OLADM2965"></a><a id="OLADM2966"></a><a id="OLADM2967"></a><a id="olapdml_OLAP_TABLE"></a><div class="sect2"><a id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511" name="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511"></a><h3 id="OLADM-GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511" class="sect3"><span class="enumeration_section">A.3 </span>OLAP_TABLE
               </h3>
               <div>
                  <p><a id="d248156e1022" class="indexterm-anchor"></a><code class="codeph">OLAP_TABLE</code> is a SQL function that extracts multidimensional data from an analytic workspace and presents it in the two-dimensional format of a relational table.
                  </p>
                  <div class="infoboxnotealso" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-D64F379C-F786-4541-B791-DA9B89601FFC">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722">Creating Relational Views Using OLAP_TABLE</a>"</span> and <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F">Using OLAP DML Expressions in SELECT FROM OLAP_TABLE Statements</a>"</span></p>
                  </div>
                  <p>The <code class="codeph">OLAP_TABLE</code> function returns multidimensional data in an analytic workspace as a logical table. 
                  </p>
                  <p>The order in which <code class="codeph">OLAP_TABLE</code> processes information specified in its input parameters is described in <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">Order of Processing in OLAP_TABLE</a>"</span>.
                  </p>
                  <p><code class="codeph">OLAP_TABLE</code> is the fundamental mechanism in the database for querying an analytic workspace. Within a SQL statement, you can specify an <code class="codeph">OLAP_TABLE</code> function call wherever you would provide the name of a table or view.
                  </p>
                  <p><code class="codeph">OLAP_TABLE</code> returns a table of objects that can be joined to relational tables and views, and to other tables of objects populated by <code class="codeph">OLAP_TABLE</code>.
                  </p>
                  <div class="infoboxnote" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-95F5C8B7-58FE-4D1D-A001-C95C10CB61EB">
                     <p class="notep1">Note:</p>
                     <p>You cannot execute this function from within the OLAP Worksheet. You must execute it in a SQL tool such as SQL Worksheet.</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-1C7BEC66-4153-40C0-B056-E7F260A026E3">Returns</p>
                     <p>A table type whose rows are objects (ADTs) that identify the selected workspace data. See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722">Creating Relational Views Using OLAP_TABLE</a>"</span>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-6BC7169F-F479-4DD2-BF10-AA4163612BC4">Syntax</p><pre class="oac_no_warn" dir="ltr">OLAP_TABLE(
        analytic_workspace    IN   VARCHAR2,
        table_object          IN   VARCHAR2,
        olap_command          IN   VARCHAR2,
        limit_map1            IN   VARCHAR2,
        limit_map2            IN   VARCHAR2,
              .
              .
              .
        limit_map8            IN   VARCHAR2)
     RETURN TYPE;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-A37C6246-A36A-4771-8980-8C1E9DA38AEB">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-D0FE8604-12A2-44E9-A75D-31BFB6CB10B2">
                              <!-- --></a><span class="italic">analytic_workspace</span></dt>
                        <dd>
                           <p><a id="d248156e1092" class="indexterm-anchor"></a>Provides the name of the analytic workspace where the source data is stored. It also specifies how long the analytic workspace is attached to your OLAP session, which opens on your first call to <code class="codeph">OLAP_TABLE</code>.
                           </p>
                           <p>This parameter is always required by <code class="codeph">OLAP_TABLE</code>. 
                           </p>
                           <p>The syntax of this parameter is:</p><pre class="oac_no_warn" dir="ltr">'[<span class="italic">owner.</span>]<span class="italic">aw_name</span> DURATION QUERY | SESSION'
</pre><p>For example:</p><pre class="oac_no_warn" dir="ltr">'olapuser.xademo DURATION SESSION'
</pre><ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="italic"><span class="bold">owner</span></span></p>
                                 <p>Specify <span class="italic">owner</span> whenever you are creating views to be accessed by other users. Otherwise, you can omit the <span class="italic">owner</span> if you own the analytic workspace. It is required only when you are logged in under a different user name than the owner. 
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">QUERY</span></p>
                                 <p>Attaches an analytic workspace for the duration of a single query. Use <code class="codeph">QUERY</code> only when you must see updates to the analytic workspace made in other sessions. 
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">SESSION</span></p>
                                 <p>Attaches an analytic workspace and keeps it attached after the query. It provides better performance than <code class="codeph">QUERY</code> because it keeps the OLAP session open. This performance difference is significant when the function is called without either a <span class="italic">table_object</span> parameter or <code class="codeph">AS</code> clauses in the limit map; in this case, the <code class="codeph">OLAP_TABLE</code> function must determine the appropriate table definition. See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D">Using OLAP_TABLE With Automatic ADTs</a>"</span>.
                                 </p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-8D2CAFE2-F6AD-46CE-AD6A-658FD2254DE4">
                              <!-- --></a><span class="italic">table_object</span></dt>
                        <dd>
                           <p><a id="d248156e1170" class="indexterm-anchor"></a><a id="d248156e1174" class="indexterm-anchor"></a>The name of a predefined table of objects, as described in <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2">Using OLAP_TABLE With Predefined ADTs</a>"</span>.
                           </p>
                           <p>This parameter is optional. Omit this parameter when you are using automatic ADTs. </p>
                           <p>The syntax of this parameter is:</p><pre class="oac_no_warn" dir="ltr">'<span class="italic">table_name</span>'
</pre><p>For example:</p><pre class="oac_no_warn" dir="ltr">'product_dim_tbl'
</pre><p>When you specify the <span class="italic">table_name</span> parameter, the column data types for the returned data are predefined. In this case you cannot use <code class="codeph">AS</code> clauses in the limit map. 
                           </p>
                           <p>When you omit the <span class="italic">table_name</span> parameter, the column data types for the returned data are generated at run time. You can either provide the target data types with <code class="codeph">AS</code> clauses in the limit map, or you can use the default data types described in <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAFCIEA" title="OLAP_TABLE default data type conversions">Table A-2</a>. See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D">Using OLAP_TABLE With Automatic ADTs</a>"</span>. 
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFFIBI">
                              <!-- --></a><span class="italic">olap_command</span></dt>
                        <dd>
                           <p>A single OLAP DML command. To execute multiple commands, create a program in your analytic workspace and call the program in this parameter. The power and flexibility of this parameter comes from its ability to process virtually any data manipulation commands available in the OLAP DML.</p>
                           <p>The order in which <code class="codeph">OLAP_TABLE</code> processes the <span class="italic">olap_command</span> parameter is specified in <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">Order of Processing in OLAP_TABLE</a>"</span>.
                           </p>
                           <p>The syntax of this parameter is:</p><pre class="oac_no_warn" dir="ltr">'<span class="italic">olap_command</span>'
</pre><p>There are two distinct ways of using the <span class="italic">olap_command</span> parameter:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>To make changes in the workspace session immediately before the data is fetched (after all the limits have been applied) as described in <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHJADBF">Using FETCH in the olap_command Parameter</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>To specify the source data directly instead of using a limit map as described in <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHICDGB">Using olap_command with a Limit Map</a>"</span>.
                                 </p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHCGCBF">
                              <!-- --></a><span class="italic">limit_map</span></dt>
                        <dd>
                           <p>Maps workspace objects to relational columns and identifies the role of each one. See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722">Creating Relational Views Using OLAP_TABLE</a>"</span>.
                           </p>
                           <p>The limit map can also specify special instructions to be executed by <code class="codeph">OLAP_TABLE</code>. For example: It can cause an OLAP DML command to execute before or after the limit map is processed; it can specify a <code class="codeph">ROW2CELL</code> column for the <code class="codeph">OLAP_CONDITION</code> and <code class="codeph">OLAP_EXPRESSION</code> functions. (See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A">OLAP_CONDITION</a>"</span> and <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a>"</span>.) 
                           </p>
                           <p>The order in which <code class="codeph">OLAP_TABLE</code> processes information in the limit map is specified in <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">Order of Processing in OLAP_TABLE</a>"</span>.
                           </p>
                           <p>The limit map parameter is generally a required parameter. It can only be omitted when you specify a <code class="codeph">FETCH</code> command in the <span class="italic">olap_command</span> parameter. See the discussion of <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFFIBI">"olap_command"</a>.
                           </p>
                           <p>You can supply the entire text of the limit map as a parameter to <code class="codeph">OLAP_TABLE</code>, or you can store all or part of the limit map in a text variable in the analytic workspace and reference it using ampersand substitution. For example, the following <code class="codeph">OLAP_TABLE</code> query uses a limit map stored in a variable called <code class="codeph">limitmapvar</code> in the <code class="codeph">MYAW</code> analytic workspace of the <code class="codeph">MYAW_AW</code> schema.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM TABLE(OLAP_TABLE(
          'myaw_aw.myaw DURATION SESSION',
          '',
          '',
          '&amp;(myaw_aw.myaw!limitmapvar)');
</pre><p>If you supply the limit map as text within the call to <code class="codeph">OLAP_TABLE</code>, then it has a maximum length of 4,000 characters, which is imposed by PL/SQL. If you store the limit map in the analytic workspace, then the limit map has no maximum length.
                           </p>
                           <div class="infoboxnote" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-ADDC89FE-9897-4ABB-A4B3-3856AE2B0C77">
                              <p class="notep1">Note:</p>
                              <p>Several analytic workspace objects must be predefined within the workspace to support the mapping of dimension hierarchies in the limit map. For more information, see <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-14F21C1D-20A6-45C8-B3D9-3DCACBE89252">Required OLAP DML Objects</a>"</span>.
                              </p>
                           </div>
                           <p><a id="d248156e1356" class="indexterm-anchor"></a>The syntax of the limit map has numerous clauses, primarily for defining dimension hierarchies. Pay close attention to the presence or absence of commas, because syntax errors prevents your limit map from being parsed. 
                           </p><pre class="oac_no_warn" dir="ltr">'[MEASURE <span class="italic">column</span> [AS <span class="italic">datatype</span>] FROM {<span class="italic">measure</span> | AW_EXPR <span class="italic">expression</span>}]
           .
           .
 DIMENSION [<span class="italic">column </span>[AS <span class="italic">datatype</span>] FROM] <span class="italic">dimension</span> 
    [WITH
       [HIERARCHY [<span class="italic">column</span> [AS <span class="italic">datatype</span>] FROM] <span class="italic">parent_relation</span>
          [<span class="italic">(hierarchy_dimension</span> ''<span class="italic">hierarchy_name</span>'')]
          [INHIERARCHY <span class="italic">inhierarchy_obj</span>]
          [GID <span class="italic">column</span> [AS <span class="italic">datatype</span>] FROM <span class="italic">gid_relation</span>]
          [PARENTGID <span class="italic">column</span> [AS <span class="italic">datatype</span>] FROM <span class="italic">gid_relation</span>]
          [FAMILYREL <span class="italic">column1</span> [AS <span class="italic">datatype</span>],  
                     <span class="italic">column2</span> [AS <span class="italic">datatype</span>],
                      ... <span class="italic">column</span>n [AS <span class="italic">datatype</span>]
                     FROM {<span class="italic">expression1, expression2, ... expression</span>n | 
                           <span class="italic">family_relation</span> USING <span class="italic">level_dimension </span>}
                     [LABEL <span class="italic">label_variable</span>]]
          [HATTRIBUTE <span class="italic">column</span> [AS <span class="italic">datatype</span>] FROM <span class="italic">hier_attribute_variable]</span> 
           .
           .
       ]
       [ATTRIBUTE <span class="italic">column</span> [AS <span class="italic">datatype</span>] FROM <span class="italic">attribute_variable</span>]
           .
           .
    ]
 [ROW2CELL <span class="italic">column</span>] 
 [LOOP  <span class="italic">loop-clause</span>]
 [PREDMLCMD <span class="italic">olap_command</span>]
 [POSTDMLCMD <span class="italic">olap_command</span>]'</pre><p>Where:</p>
                           <p><span class="italic">column</span> is the name of a column in the target table.
                           </p>
                           <p><span class="italic">datatype</span> is the data type of <span class="italic">column</span>.
                           </p>
                           <p><span class="italic">measure</span> is a variable, formula, or relation in the analytic workspace.
                           </p>
                           <p><span class="italic">expression</span> is a formula or qualified data reference for objects in the analytic workspace.
                           </p>
                           <p><span class="italic">dimension</span> is a dimension in the analytic workspace.
                           </p>
                           <p><span class="italic">parent_relation</span> is a self-relation in the analytic workspace that defines the hierarchies for <span class="italic">dimension</span>. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-DDB9F83C-9589-4E2C-A1F2-9B64742C7B73">Parentrel Relation</a>"</span> for more information.
                           </p>
                           <p><span class="italic">hierarchy_dimension</span> is a dimension in the analytic workspace that contains the names of the hierarchies for <span class="italic">dimension</span>. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-C549C23C-B212-46F3-9554-7EF66DED9843">Hierlist Dimension</a>"</span> for more information
                           </p>
                           <p><span class="italic">hierarchy_name</span> is a member of <span class="italic">hierarchy_dimension</span>.
                           </p>
                           <p><span class="italic">inhierarchy_obj</span> is a variable or valueset in the analytic workspace that identifies which dimension members are in each level of the hierarchy. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-3AEE9CB7-E70C-4D78-B02B-ECE81F012EE9">Inhier Valueset or Variable</a>"</span> for more information
                           </p>
                           <p><span class="italic">gid_relation</span> is a relation in the analytic workspace that contains the grouping ID of each dimension member in the hierarchy. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-195094D6-3CD6-4E52-8161-06E5C3DE3E29">Gidrel Relation</a>"</span> for more information
                           </p>
                           <p><span class="italic">family_relation</span> is a self-relation that provides the full parentage of each dimension member in the hierarchy. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-AFD82568-4D30-43B1-A193-AD553DB11A1C">Familyrel Relation</a>"</span> for more information
                           </p>
                           <p><span class="italic">level_dimension</span> is a dimension in the analytic workspace that contains the names of the levels for the hierarchy. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-247C1B87-E4E3-4313-8E2E-D18DA9F2F290">Levellist Dimension</a>"</span> for more information
                           </p>
                           <p><span class="italic">label_variable</span> is a variable in the analytic workspace that contains descriptive text values for <span class="italic">dimension</span>.
                           </p>
                           <p><span class="italic">hier_attribute_variable</span> is a variable in the analytic workspace that contains attribute values for <span class="italic">hierarchy_name</span>.
                           </p>
                           <p><span class="italic">attribute_variable</span> is a variable in the analytic workspace that contains attribute values for <span class="italic">dimension</span>.
                           </p>
                           <p><span class="italic">loop_clause</span> specifies how Oracle OLAP determines how it loops through data values and what rows to create in the relational table. When you exclude a LOOP clause, Oracle OLAP loops through all of the data values that are identified by the dimensions in the DIMENSION clauses in the limit map.
                           </p>
                           <p>For the complete syntax of the LOOP clause see <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHJHCFC">LOOP Clause</a>"</span>.
                           </p>
                           <p><span class="italic">olap_command</span> is an OLAP DML command.
                           </p>
                           <p>Detailed syntax for each of the clauses of the <span class="italic">limit-map</span> parameter follows.
                           </p>
                           <ul style="list-style-type: disc;">
                              <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFHAGF">
                                 <p><span class="bold">MEASURE Clause</span> 
                                 </p>
                                 <p>The <code class="codeph">MEASURE</code> clause maps a variable, formula, or relation in the analytic workspace to a column in the target table. You can list any number of <code class="codeph">MEASURE</code> clauses. This clause is optional when, for example, you want to create a dimension view.
                                 </p>
                                 <p>The <code class="codeph">AS</code> subclause specifies the data type of the target column. You can specify an <code class="codeph">AS</code> subclause when the table of objects has not been predefined. See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D">Using OLAP_TABLE With Automatic ADTs</a>"</span>.
                                 </p>
                                 <p>In the <code class="codeph">FROM</code> subclause, you can either specify the name of a variable, formula, or relation or an OLAP expression that evaluates to one of these objects. For example:
                                 </p><pre class="oac_no_warn" dir="ltr">AW_EXPR analytic_cube_sales - analytic_cube_cost
<span class="italic">or</span>
AW_EXPR LOGDIF(analytic_cube_sales, 1, time, LEVELREL time.lvlrel)
</pre></li>
                              <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHECIBG">
                                 <p><span class="bold">DIMENSION Clause </span></p>
                                 <p>The <code class="codeph">DIMENSION</code> clause identifies a dimension or conjoint in the analytic workspace that dimensions one or more measures or attributes, or provides the dimension members for one or more hierarchies in the limit map.
                                 </p>
                                 <p>The <span class="italic">column</span> subclause is optional when you do not want the dimension members themselves to be represented in the table. In this case, include a dimension attribute that can be used for data selection.
                                 </p>
                                 <p>For a description of the <code class="codeph">AS</code> subclause, see <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFHAGF">MEASURE Clause</a>"</span>.
                                 </p>
                                 <p>Every limit map should have at least one <code class="codeph">DIMENSION</code> clause. If the limit map contains <code class="codeph">MEASURE</code> clauses, then it should also contain a single <code class="codeph">DIMENSION</code> clause for each dimension of the measures, unless a dimension is being limited to a single value. If the measures are dimensioned by a composite, then you must identify each dimension in the composite with a <code class="codeph">DIMENSION</code> clause. For the best performance when fetching a large result set, identify the composite in a <code class="codeph">LOOP</code> clause. See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHJHCFC">LOOP Clause</a>"</span>.
                                 </p>
                                 <p>A dimension can be named in only one <code class="codeph">DIMENSION</code> clause. Subclauses of the <code class="codeph">DIMENSION</code> clause identify the dimension hierarchies and attributes.
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><span class="bold">WITH Subclause for Dimension Hierarchies and Attributes</span></p>
                                       <p>The <code class="codeph">WITH</code> subclause introduces a <code class="codeph">HIERARCHY</code> or <code class="codeph">ATTRIBUTE</code> subclause. If you do not specify hierarchies or attributes, then omit the <code class="codeph">WITH</code> keyword. If you specify both hierarchies and attributes, then precede them with a single <code class="codeph">WITH</code> keyword. 
                                       </p>
                                    </li>
                                    <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIABAB">
                                       <p><span class="bold">WITH HIERARCHY Subclause</span></p>
                                       <p>The <code class="codeph">HIERARCHY</code> subclause identifies the parent self-relation in the analytic workspace that defines the hierarchies for the dimension. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-DDB9F83C-9589-4E2C-A1F2-9B64742C7B73">Parentrel Relation</a>"</span> for more information, 
                                       </p>
                                       <p>The <code class="codeph">HIERARCHY</code> subclause is optional when the dimension does not have a hierarchy, or when the status of the dimension has been limited to a single level of the hierarchy. When a dimension has multiple hierarchies, specify a <code class="codeph">HIERARCHY</code> subclause for each one and specify a <span class="italic">hierarchy_dimension</span> phrase. The <span class="italic">hierarchy_dimension</span> identifies a dimension in the analytic workspace which holds the names of the hierarchies for this dimension. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-C549C23C-B212-46F3-9554-7EF66DED9843">Hierlist Dimension</a>"</span> for more information. 
                                       </p>
                                       <p><span class="italic">hierarchy_name</span> is a member of <span class="italic">hierarchy_dimension</span>. The hierarchy dimension is limited to <span class="italic">hierarchy_name</span> for all workspace objects that are referenced in subsequent subclauses for this hierarchy (that is, <code class="codeph">INHIERARCHY</code>, <code class="codeph">GID</code>, <code class="codeph">PARENTGID</code>, <code class="codeph">FAMILYREL</code>, and <code class="codeph">HATTRIBUTE</code>).
                                       </p>
                                       <p>For a description of the column subclause, see <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHECIBG">DIMENSION Clause</a>"</span>.
                                       </p>
                                       <p>The following table lists the keywords in the <code class="codeph">HIERARCHY</code> subclause:
                                       </p>
                                       <div class="tblformal" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CHDCFCGC">
                                          <p class="titleintable">Table A-1 Keywords of the HIERARCHY Subclause</p>
                                          <table cellpadding="4" cellspacing="0" class="Formal" title="Keywords of the HIERARCHY Subclause" summary="This table lists the keywords of the Hierarchy subclause." width="90%" frame="hsides" border="1" rules="rows">
                                             <thead>
                                                <tr align="left" valign="top">
                                                   <th align="left" valign="bottom" width="31%" id="d248156e1807">Keyword</th>
                                                   <th align="left" valign="bottom" width="69%" id="d248156e1810">Description</th>
                                                </tr>
                                             </thead>
                                             <tbody>
                                                <tr align="left" valign="top">
                                                   <td align="left" valign="top" width="31%" id="d248156e1815" headers="d248156e1807 ">
                                                      <p><code class="codeph">INHIERARCHY</code></p>
                                                   </td>
                                                   <td align="left" valign="top" width="69%" headers="d248156e1815 d248156e1810 ">
                                                      <p>The <code class="codeph">INHIERARCHY</code> subclause identifies a boolean variable or a valueset in the analytic workspace that identifies the dimension members in each level of the hierarchy. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-3AEE9CB7-E70C-4D78-B02B-ECE81F012EE9">Inhier Valueset or Variable</a>"</span> for more information.
                                                      </p>
                                                      <p>It is good practice to include an <code class="codeph">INHIERARCHY</code> subclause, because <code class="codeph">OLAP_TABLE</code> saves the status of all dimensions with <code class="codeph">INHIERARCHY</code> subclauses during the processing of the limit map. It is required when there are members of the dimension that are omitted from the hierarchy. 
                                                      </p>
                                                   </td>
                                                </tr>
                                                <tr align="left" valign="top">
                                                   <td align="left" valign="top" width="31%" id="d248156e1841" headers="d248156e1807 ">
                                                      <p><code class="codeph">GID</code></p>
                                                   </td>
                                                   <td align="left" valign="top" width="69%" headers="d248156e1841 d248156e1810 ">
                                                      <p>The <code class="codeph">GID</code> subclause maps an integer variable in the analytic workspace, which contains the grouping ID for each dimension member, to a column in the target table. The grouping ID variable is populated by the OLAP DML <a href="olap-dml-commands-a-g.html#GUID-A147822E-532F-4448-A91A-F7E5FBEFB94B">GROUPINGID command</a>. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-195094D6-3CD6-4E52-8161-06E5C3DE3E29">Gidrel Relation</a>"</span> for more information.
                                                      </p>
                                                      <p>The <code class="codeph">GID</code> subclause is required for Java applications that use the OLAP API.
                                                      </p>
                                                      <p>For a description of the <code class="codeph">AS</code> subclause, see <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFHAGF">MEASURE Clause</a>"</span>.
                                                      </p>
                                                   </td>
                                                </tr>
                                                <tr align="left" valign="top">
                                                   <td align="left" valign="top" width="31%" id="d248156e1874" headers="d248156e1807 ">
                                                      <p><code class="codeph">PARENTGID</code></p>
                                                   </td>
                                                   <td align="left" valign="top" width="69%" headers="d248156e1874 d248156e1810 ">
                                                      <p>The <code class="codeph">PARENTGID</code> subclause calculates the grouping IDs for the parent relation using the GID variable in the analytic workspace. The parent GIDs are not stored in an analytic workspace object. Instead, you specify the same GID variable for the PARENTGID clause that you used in the GID clause. The PARENTGID clause is recommended for Java applications that use the OLAP API.
                                                      </p>
                                                      <p>For a description of the <code class="codeph">AS</code> subclause, see <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFHAGF">MEASURE Clause</a>"</span>.
                                                      </p>
                                                   </td>
                                                </tr>
                                                <tr align="left" valign="top">
                                                   <td align="left" valign="top" width="31%" id="d248156e1895" headers="d248156e1807 ">
                                                      <p><code class="codeph">FAMILYREL</code></p>
                                                   </td>
                                                   <td align="left" valign="top" width="69%" headers="d248156e1895 d248156e1810 ">
                                                      <p>The <code class="codeph">FAMILYREL</code> subclause is used primarily to map a family relation in the analytic workspace to multiple columns in the target table. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-AFD82568-4D30-43B1-A193-AD553DB11A1C">Familyrel Relation</a>"</span> for more information. You can use multiple <code class="codeph">FAMILYREL</code> clauses for each hierarchy. 
                                                      </p>
                                                      <p>List the columns in the order of <span class="italic">level_dimension</span> which is a dimension in the analytic workspace that holds the names of all the levels for the dimension. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-247C1B87-E4E3-4313-8E2E-D18DA9F2F290">Levellist Dimension</a>"</span> for more information.
                                                      </p>
                                                      <p>If you do not want a particular level included, then specify null for the target column. For a description of the <code class="codeph">AS</code> subclause, see <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFHAGF">MEASURE Clause</a>"</span>. 
                                                      </p>
                                                      <p>The <code class="codeph">LABEL</code> keyword identifies a text attribute that provides more meaningful names for the dimension members.
                                                      </p>
                                                      <p>The tabular data resulting from a <code class="codeph">FAMILYREL</code> clause is in <span class="bold">rollup form</span>, in which each level of the hierarchy is represented in a separate column, and the full parentage of each dimension member is identified within the row. See <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__I82078">Example A-7</a>.
                                                      </p>
                                                   </td>
                                                </tr>
                                                <tr align="left" valign="top">
                                                   <td align="left" valign="top" width="31%" id="d248156e1947" headers="d248156e1807 ">
                                                      <p><code class="codeph">HATTRIBUTE</code></p>
                                                   </td>
                                                   <td align="left" valign="top" width="69%" headers="d248156e1947 d248156e1810 ">
                                                      <p>The <code class="codeph">HATTRIBUTE</code> subclause maps a hierarchy-specific attribute variable, dimensioned by <span class="italic">hierarchy_dimension</span> in the analytic workspace, to a column in the target table.
                                                      </p>
                                                   </td>
                                                </tr>
                                             </tbody>
                                          </table>
                                       </div>
                                       <!-- class="inftblhruleinformal" -->
                                    </li>
                                    <li>
                                       <p><span class="bold">WITH ATTRIBUTE Subclause</span></p>
                                       <p>The <code class="codeph">ATTRIBUTE</code> subclause maps an attribute variable in the analytic workspace to a column in the target table. 
                                       </p>
                                       <p>If <span class="italic">attribute_variable</span> has multiple dimensions, then values are mapped for all members of <span class="italic">dimension</span>, but only for the first member in the current status of additional dimensions. For example, if your attributes have a language dimension, then you must set the status of that dimension to a particular language. You can set the status of dimensions in a <code class="codeph">PREDMLCMD</code> clause.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHGCEGC">
                                 <p><span class="bold">ROW2CELL Clause</span></p>
                                 <p>The <code class="codeph">ROW2CELL</code> clause<a id="d248156e1989" class="indexterm-anchor"></a><a id="d248156e1993" class="indexterm-anchor"></a> creates a <code class="codeph">RAW</code> column, between 16 and 32 characters wide, in the target table and populates it with information that is used by the OLAP expression functions. The <code class="codeph">OLAP_CONDITION</code> function also uses the <code class="codeph">ROW2CELL</code> column. Specify a <code class="codeph">ROW2CELL</code> column when creating a view to be used by these functions. See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F">Using OLAP DML Expressions in SELECT FROM OLAP_TABLE Statements</a>"</span> and <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-02689531-77D8-4136-98A8-68B96DE01EC4">Adding Calculated Columns to the Relational View</a>"</span>.
                                 </p>
                              </li>
                              <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHJHCFC">
                                 <p><span class="bold">LOOP Clause</span></p>
                                 <p>The <code class="codeph">LOOP</code> clause specifies how Oracle OLAP loops through the data when retrieving values. When you omit a LOOP clause in a limit map, Oracle OLAP uses the DIMENSION clauses in that limit map to determine the values to loop over. Oracle OLAP loops over only those tuples that identify measure cells that do not contain NA or null. When you include a LOOP clause, you specify one of the following types of subclauses: the <span class="italic">optimized_subclause</span> or the <span class="italic">union_subclause</span>.
                                 </p>
                                 <p>The <span class="italic"><span class="bold">optimized_subclause</span></span> specifies that Oracle OLAP automatically create the <span class="italic">union_subclause</span> by which it loops through the data. The <span class="italic">union_subclause</span> created never includes any DENSE phrases. Consequently, when you specify the <span class="italic">optimized_subclause</span>, Oracle OLAP loops over only those tuples that identify measure cells that do not contain NA or null. The <span class="italic">optimized_subclause</span> has the following syntax.
                                 </p>
                                 <p>OPTIMIZED [MEASURES]</p>
                                 <p>where the optional MEASURES keyword specifies that after identifying the tuples to loop through, Oracle OLAP remove any values that are dimension values that are not dimensions of the objects identified in the MEASURES clauses of the limit map. </p>
                                 <div class="infobox-tip" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-BBEC70B0-5288-4CBB-9B61-D01C129C7FEA">
                                    <p class="notep1">Tip:</p>
                                    <p>You can use the <a href="olap-dml-properties.html#GUID-55A25E72-1052-41A9-B3E8-185FD7F4BB04" title="The $LOOP_AGGMAP property is used to determine how to loop the formula on which it is assigned when a SQL OLAP_TABLE function with the LOOP OPTIMIZED clause is executed. It specifies the name of an aggmap object to use when Oracle OLAP generates a UNION subclause that includes the formula. The value that you specify for this property overrides all other aggmaps associated with a variable (for example, aggmaps for which the variable has an $AGGMAP property) and can be used to clarify which aggmap Oracle OLAP should use when the underlying variables of a formula are associated with different aggmaps.">$LOOP_AGGMAP</a>, <a href="olap-dml-properties.html#GUID-41A3F437-7593-498B-ABFC-EF57536C4A7F" title="The $LOOP_DENSE property is used to determine how to loop the formula on which it is assigned when an OLAP_TABLE SQL function with the LOOP OPTIMIZED clause is executed.">$LOOP_DENSE</a>, and <a href="olap-dml-properties.html#GUID-C7539160-640F-4C9E-8119-ACC06277E477" title="The $LOOP_VAR property specifies that when an OLAP_TABLE SQL function with the LOOP OPTIMIZED clause is executed, the formula on which it is assigned is looped in the same manner as the variable or QDR specified in the property.">$LOOP_VAR</a> properties, to specify more information as to how OLAP_TABLE loops over a formula.
                                    </p>
                                 </div>
                                 <p>The <span class="italic"><span class="bold">union_subclause</span></span> specifies exactly how Oracle OLAP determines which base dimensions it uses to identify what data values to loop through. For a successful union to occur, the objects that are referenced in this subclause must have the same base dimensions. The <span class="italic">union_subclause</span> has the following syntax.
                                 </p>
                                 <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [<span class="italic">ignore_phrase</span>] [<span class="italic">dense_phrase</span>] UNION ({<span class="italic">aggmap_phrase</span>&nbsp;&nbsp;| <span class="italic">list_phrase</span> }...)]
                                 </p>
                                 <p>where:</p>
                                 <p><span class="italic"><span class="bold">aggmap_phrase</span></span> specifies how Oracle OLAP loops through the values of an aggregated variable. It has the following syntax.
                                 </p>
                                 <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AGGMAP (<span class="italic">ignore_phrase</span>] [<span class="italic">dense_phrase</span>] <span class="italic">aggmap</span> {<span class="italic">variable</span> | <span class="italic">dimension_list</span>})
                                 </p>
                                 <p><span class="italic"><span class="bold">list_phrase</span></span> specifies how Oracle OLAP loops through the values of a composite, partition template, or dimension. It has the following syntax.
                                 </p>
                                 <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LIST ([<span class="italic">ignore_phrase</span>] [<span class="italic">dense_phrase</span>]&nbsp;&nbsp;<span class="italic">dimension_list</span>)
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><span class="italic"><span class="bold">ignore_phrase</span></span> specifies the dimension values that you do not want Oracle OLAP to loop over. It has the following syntax.
                                       </p>
                                       <p>IGNORE (<span class="italic">ignore_list </span>)
                                       </p>
                                       <p>For <span class="italic">ignore_list</span> you can specify one or more of the following separated by commas.
                                       </p><pre class="oac_no_warn" dir="ltr">  <span class="italic">dimension_name</span>
  <span class="italic">valueset_name</span>
  COMPLEMENT (<span class="italic">valueset_name</span>)
</pre><p>Within a single <span class="italic">ignore_list</span> you cannot specify a dimension in multiple ways. In other words, you cannot specify both a dimension and a valueset for that same dimension; you cannot specify two valuesets for the same dimension.
                                       </p>
                                       <div class="infoboxnote" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-0FCC00B0-138B-47A5-BB76-DB67B6D6BC17">
                                          <p class="notep1">Note:</p>
                                          <p>The result of specifying IGNORE <span class="italic">valueset-name</span> is similar to specifying LIMIT REMOVE <span class="italic">valueset-name</span> (see <a href="olap-dml-commands-h-z.html#GUID-C84F165D-930A-461C-976B-F4C28F6DCA14">LIMIT command</a>).
                                          </p>
                                       </div>
                                    </li>
                                    <li>
                                       <p><span class="italic"><span class="bold">dense_phrase</span></span> specifies values that Oracle OLAP loops over even when the measure cells identified by those values contain NA or null. Specifying a dimension in a DENSE phrase is similar to requesting a relational outer join. Typically, you include dimension values in a DENSE phrase to perform time-series processing (for example, to lag over time). A DENSE phrase has the following syntax.
                                       </p>
                                       <p>DENSE (<span class="italic">dense_list </span>)
                                       </p>
                                       <p>For <span class="italic">dense_list</span> you can specify one or more of the following separated by commas.
                                       </p><pre class="oac_no_warn" dir="ltr">  <span class="italic">dimension_name</span>
  <span class="italic">valueset_name</span>
  COMPLEMENT (<span class="italic">valueset_name</span>)
</pre><p>Within a single <span class="italic">dense_list</span> you cannot specify a dimension in multiple ways. In other words, you cannot specify both a dimension and a valueset for that same dimension; you cannot specify two valuesets for the same dimension. 
                                       </p>
                                       <p>However, you can have one valueset for a dimension in the outer <code class="codeph">DENSE</code> phrase and another valueset for the same dimension in an inner <code class="codeph">DENSE</code> phrase. If a dimension or a valueset of a dimension is specified in both an inner and outer <code class="codeph">DENSE</code> phrase, Oracle OLAP loops densely over the union of the dense regions. If the dimension, itself, appears in either place, Oracle OLAP loops densely over the whole dimension.
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="italic"><span class="bold">aggmap</span></span> is the name of an aggmap object. When you specify only the name of an aggmap object, Oracle OLAP uses the values in the PRECOMPUTE phrases of the aggmap to identify the values to loop
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="italic"><span class="bold">variable</span></span> is the name of the variable aggregated by <span class="italic">aggmap_name</span>. 
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="italic"><span class="bold">dimension_list</span></span> is a list of one or more composites, partition templates, or dimensions.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p><span class="bold">PREDMLCMD Clause</span></p>
                                 <p>The <code class="codeph">PREDMLCMD</code> clause <a id="d248156e2257" class="indexterm-anchor"></a>specifies an OLAP DML command that is executed before the data is fetched from the analytic workspace into the target table. It can be used, for example, to execute an OLAP model or forecast whose results will be fetched into the table. The results of the command are in effect during execution of the limit map, and continue into your session after execution of <code class="codeph">OLAP_TABLE</code> is complete. See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">Order of Processing in OLAP_TABLE</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">POSTDMLCMD Clause</span></p>
                                 <p>The <code class="codeph">POSTDMLCMD</code> clauses specifies an OLAP DML command that is executed after the data is fetched from the analytic workspace into the target table. It can be used, for example, to delete objects or data that were created by commands in the <code class="codeph">PREDMLCMD</code> clause, or to restore the dimension status that was changed in a <code class="codeph">PREDMLCMD</code> clause. See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">Order of Processing in OLAP_TABLE</a>"</span> .
                                 </p>
                              </li>
                           </ul>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-F78C7120-9D6A-4E62-9F6F-1D8DF5B1B4E0">Usage Notes</p>
                     <p><span class="bold">Limit Maps</span></p>
                     <p><code class="codeph">OLAP_TABLE</code> <a id="d248156e2300" class="indexterm-anchor"></a><a id="d248156e2302" class="indexterm-anchor"></a>uses a <span class="bold">limit map</span> to map dimensions and measures defined in an analytic workspace to columns in a logical table. The limit map combines with the <code class="codeph">WHERE</code> clause of a SQL <code class="codeph">SELECT</code> statement to generate a series of OLAP DML <a href="olap-dml-commands-h-z.html#GUID-C84F165D-930A-461C-976B-F4C28F6DCA14">LIMIT command</a>s that are executed in the analytic workspace.
                     </p>
                     <p><code class="codeph">OLAP_TABLE</code> can use a limit map with a predefined logical table, or it can use the information in a limit map to dynamically generate a logical table at run time.
                     </p>
                     <div class="infoboxnotealso" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-998C6DA2-09ED-4B4E-A6CE-2FD9B66F5B49">
                        <p class="notep1">See Also:</p>
                        <p>The discussion of the <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHCGCBF">"limit_map"</a> parameter.
                        </p>
                     </div>
                     <p><span class="bold">Logical Tables</span></p>
                     <p>The logical table populated by <code class="codeph">OLAP_TABLE</code> is actually a table type whose rows are user-defined object types, also known as <span class="bold">Abstract Data Types</span> or <span class="bold">ADTs</span>.
                     </p>
                     <p>A <a id="d248156e2347" class="indexterm-anchor"></a>user-defined object type is composed of attributes, which are equivalent to the columns of a table. The basic syntax for defining a row is as follows.
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE <span class="italic">object_name</span> AS OBJECT (
   <span class="italic">attribute1</span>      <span class="italic">datatype</span>,
   <span class="italic">attribute2</span>      <span class="italic">datatype</span>,
   <span class="italic">attribute</span>n      <span class="italic">datatype</span>);
</pre><p>A <a id="d248156e2378" class="indexterm-anchor"></a>table type is a collection of object types; this collection is equivalent to the rows of a table. The basic syntax for creating a table type is as follows.
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE <span class="italic">table_name</span> AS TABLE OF <span class="italic">object_name</span>;</pre><div class="infoboxnotealso" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-E70A92CB-FA6A-40BF-B7A7-2F306B9DB838">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../adobj/key-features-object-relational-model.html#ADOBJ-GUID-0C7CE261-467B-4F8B-A04D-B0900E1FB284" target="_blank">About Object Types</a> in <span><cite>Oracle Database Object-Relational Developer's Guide</cite></span> for information about object types
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-TYPE.html#SQLRF01506" target="_blank">CREATE TYPE</a> in <span class="italic">Oracle Database SQL Language Reference</span></p>
                           </li>
                        </ul>
                     </div>
                     <p><span class="bold">Using OLAP_TABLE With Predefined ADTs</span></p>
                     <p><a id="d248156e2416" class="indexterm-anchor"></a>You <a id="d248156e2421" class="indexterm-anchor"></a><a id="d248156e2425" class="indexterm-anchor"></a><a id="d248156e2429" class="indexterm-anchor"></a>can <a id="d248156e2434" class="indexterm-anchor"></a>predefine the table of objects or generate it dynamically. <a id="d248156e2439" class="indexterm-anchor"></a>When you create the table type in advance, it is available in the database for use by any invocation of <code class="codeph">OLAP_TABLE</code>. Queries that use predefined objects typically perform better than queries that dynamically generate the objects. See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2">Using OLAP_TABLE With Predefined ADTs</a>"</span>.
                     </p>
                     <p><span class="bold">Using OLAP_TABLE With Automatic ADTs</span></p>
                     <p>If you <a id="d248156e2457" class="indexterm-anchor"></a>do not supply the name of a table type as an argument, <code class="codeph">OLAP_TABLE</code> uses information in the limit map to generate the logical table automatically. In this case, the table type is only available at run time within the context of the calling SQL <code class="codeph">SELECT</code> statement. See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D">Using OLAP_TABLE With Automatic ADTs</a>"</span>.
                     </p>
                     <p>When automatically generating ADTs, <code class="codeph">OLAP_TABLE</code> uses default relational data types for the target columns unless you override them with <code class="codeph">AS</code> clauses in the limit map. The default data type conversions used by <code class="codeph">OLAP_TABLE</code> are described in the following table:
                     </p>
                     <div class="tblformal" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAFCIEA">
                        <p class="titleintable">Table A-2 Default Data Type Conversions</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Default Data Type Conversions" summary="OLAP_TABLE default data type conversions" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="50%" id="d248156e2493">Analytic Workspace Data Type</th>
                                 <th align="left" valign="bottom" width="50%" id="d248156e2496">SQL Data Type</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2501" headers="d248156e2493 ">
                                    <p><code class="codeph">ID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2501 d248156e2496 ">
                                    <p><code class="codeph">CHAR(8)</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2510" headers="d248156e2493 ">
                                    <p><code class="codeph">TEXT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2510 d248156e2496 ">
                                    <p><code class="codeph">VARCHAR2(4000)</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2519" headers="d248156e2493 ">
                                    <p><code class="codeph">TEXT</code><span class="italic"><code class="codeph">(n)</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2519 d248156e2496 ">
                                    <p><code class="codeph">VARCHAR2</code><span class="italic"><code class="codeph">(n)</code></span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2534" headers="d248156e2493 ">
                                    <p><code class="codeph">NTEXT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2534 d248156e2496 ">
                                    <p><code class="codeph">NVARCHAR2(4000)</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2543" headers="d248156e2493 ">
                                    <p><code class="codeph">NTEXT</code><span class="italic"><code class="codeph">(n)</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2543 d248156e2496 ">
                                    <p><code class="codeph">NVARCHAR2</code><span class="italic"><code class="codeph">(n)</code></span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2558" headers="d248156e2493 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2558 d248156e2496 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2567" headers="d248156e2493 ">
                                    <p><code class="codeph">NUMBER</code><span class="italic"><code class="codeph">(p,s)</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2567 d248156e2496 ">
                                    <p><code class="codeph">NUMBER</code><span class="italic"><code class="codeph">(p,s)</code></span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2582" headers="d248156e2493 ">
                                    <p><code class="codeph">LONGINTEGER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2582 d248156e2496 ">
                                    <p><code class="codeph">NUMBER(19)</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2591" headers="d248156e2493 ">
                                    <p><code class="codeph">INTEGER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2591 d248156e2496 ">
                                    <p><code class="codeph">NUMBER(10)</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2600" headers="d248156e2493 ">
                                    <p><code class="codeph">SHORTINTEGER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2600 d248156e2496 ">
                                    <p><code class="codeph">NUMBER(5)</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2609" headers="d248156e2493 ">
                                    <p><code class="codeph">INTEGER WIDTH 1</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2609 d248156e2496 ">
                                    <p><code class="codeph">NUMBER(3)</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2619" headers="d248156e2493 ">
                                    <p><code class="codeph">BOOLEAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2619 d248156e2496 ">
                                    <p><code class="codeph">NUMBER(1)</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2628" headers="d248156e2493 ">
                                    <p><code class="codeph">DECIMAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2628 d248156e2496 ">
                                    <p><code class="codeph">BINARY_DOUBLE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2637" headers="d248156e2493 ">
                                    <p><code class="codeph">SHORTDECIMAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2637 d248156e2496 ">
                                    <p><code class="codeph">BINARY_FLOAT</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2646" headers="d248156e2493 ">
                                    <p><code class="codeph">DATE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2646 d248156e2496 ">
                                    <p><code class="codeph">DATE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2655" headers="d248156e2493 ">
                                    <p><code class="codeph">DAY</code>, <code class="codeph">WEEK</code>, <code class="codeph">MONTH</code>, <code class="codeph">QUARTER</code>, <code class="codeph">YEAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2655 d248156e2496 ">
                                    <p><code class="codeph">DATE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2676" headers="d248156e2493 ">
                                    <p><code class="codeph">DATETIME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2676 d248156e2496 ">
                                    <p><code class="codeph">TIMESTAMP</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2685" headers="d248156e2493 ">
                                    <p><code class="codeph">COMPOSITE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2685 d248156e2496 ">
                                    <p><code class="codeph">VARCHAR2(4000)</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2694" headers="d248156e2493 ">
                                    <p>Other</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2694 d248156e2496 ">
                                    <p><code class="codeph">VARCHAR2(4000)</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHICDGB"><span class="bold">Using olap_command with a Limit Map</span></p>
                     <p><a id="d248156e2705" class="indexterm-anchor"></a><a id="d248156e2707" class="indexterm-anchor"></a>You may want your application to modify the analytic workspace on the fly during the execution of <code class="codeph">OLAP_TABLE</code>. 
                     </p>
                     <p>A common use of the <span class="italic">olap_command</span> parameter is to limit one or more dimensions. If you limit any of the dimensions that have <code class="codeph">INHIERARCHY</code> clauses in the limit map, then the status of those dimensions is changed only during execution of this call to <code class="codeph">OLAP_TABLE</code>; the limits do not affect the rest of your OLAP session. However, other commands (for example, commands that limit dimensions <span class="italic">not</span> referenced with <code class="codeph">INHIERARCHY</code> clauses) can affect your session.
                     </p>
                     <p>If you want a limit on a dimension in the limit map to stay in effect for the rest of your session, and not just during the command, specify it in the <code class="codeph">PREDMLCMD</code> clause of the limit map or specify <a id="d248156e2737" class="indexterm-anchor"></a>an <code class="codeph">OLAP_CONDITION</code> function in the <code class="codeph">SQL SELECT</code> statement.
                     </p>
                     <p>The following is an example of a <code class="codeph">LIMIT</code> command in the <span class="italic">olap_command</span> parameter.
                     </p><pre class="oac_no_warn" dir="ltr">'LIMIT product TO product_member_levelrel ''L2'''</pre><div class="infoboxnotealso" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-1D151489-7232-48D0-B2E9-E151EDC1BBA9">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A">OLAP_CONDITION</a>"</span></p>
                     </div>
                     <p id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHJADBF"><span class="bold">Using FETCH in the olap_command Parameter</span></p>
                     <p><a id="d248156e2766" class="indexterm-anchor"></a>If you specify an OLAP DML <a href="olap-dml-commands-a-g.html#GUID-D3B20F03-6C0D-4F6D-A63D-22130EF8956F">FETCH</a> command in the <span class="italic">olap_command</span><a id="d248156e2774" class="indexterm-anchor"></a> parameter, <code class="codeph">OLAP_TABLE</code> uses it, instead of the instructions in the limit map, to fetch the source data for the table object. Because of this usage, the <span class="italic">olap_command</span> parameter is sometimes referred to as the <span class="bold">data map</span>. In general, do not specify a limit map if you specify a <code class="codeph">FETCH</code> command.   
                     </p>
                     <div class="infoboxnote" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-EBFBC6F0-0430-4B37-8963-F3693BFC4791">
                        <p class="notep1">Note:</p>
                        <p>Normally, use the <code class="codeph">FETCH</code> command with <code class="codeph">OLAP_TABLE</code> only if you are upgrading an Express application that used the <code class="codeph">FETCH</code> command for SNAPI. If you are upgrading, note that the full syntax is the same in Oracle as in Express 6.3. You can use the same <code class="codeph">FETCH</code> commands in <code class="codeph">OLAP_TABLE</code> that you used previously in SNAPI. For the syntax of the <code class="codeph">FETCH</code> command, see <span class="q">"<a href="olap-dml-commands-a-g.html#GUID-D3B20F03-6C0D-4F6D-A63D-22130EF8956F">FETCH</a>"</span>. 
                        </p>
                     </div>
                     <p><code class="codeph">FETCH</code> specifies explicitly how analytic workspace data is mapped to a table object. The basic syntax is:
                     </p><pre class="oac_no_warn" dir="ltr">FETCH <span class="italic">expression</span>...
</pre><p>Enter one expression for each target column, listing the expressions in the same order they appear in the row definition. Separate expressions with spaces or commas.You must enter the entire statement on one line, without line breaks or continuation marks of any type. </p>
                     <div class="infoboxnotealso" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-B07245AC-0057-4733-88A4-BAFD41FC78EE">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHJADBF">Using FETCH in the olap_command Parameter</a>"</span> 
                        </p>
                     </div>
                     <p id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ"><span class="bold">Order of Processing in OLAP_TABLE</span></p>
                     <p>The <a id="d248156e2842" class="indexterm-anchor"></a>following list identifies the order in which the <code class="codeph">OLAP_TABLE</code> function processes instructions in the limit map that can change the status of dimensions in the analytic workspace.
                     </p>
                     <ol>
                        <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAECJAA">
                           <p>Execute any OLAP DML command specified in the <code class="codeph">PREDMLCMD</code> parameter of the limit map.
                           </p>
                        </li>
                        <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAJBFFG">
                           <p>Save the current status of all dimensions in the limit map so that it can be restored later (<code class="codeph">PUSH</code> status).
                           </p>
                        </li>
                        <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAHDEIJ">
                           <p>Keep in status only those dimension members specified by <code class="codeph">INHIERARCHY</code> subclauses in the limit map (<code class="codeph">LIMIT KEEP</code>).
                           </p>
                        </li>
                        <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAEHGAJ">
                           <p>Within the status set during step <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAHDEIJ">3</a>, keep only those dimension members that satisfy the <code class="codeph">WHERE</code> clause of the SQL <code class="codeph">SELECT</code> statement containing the <code class="codeph">OLAP_TABLE</code> function (<code class="codeph">LIMIT KEEP</code>).
                           </p>
                        </li>
                        <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIABCEHE">
                           <p>Execute any OLAP DML command specified in the <span class="italic">olap_command</span> parameter of the <code class="codeph">OLAP_TABLE</code> function. (If <span class="italic">olap_command</span> includes a <code class="codeph">FETCH</code>, fetch the data.)
                           </p>
                        </li>
                        <li>
                           <p>Fetch the data (unless an OLAP DML <code class="codeph">FETCH</code> command was specified in the <span class="italic">olap_command</span> parameter).
                           </p>
                        </li>
                        <li>
                           <p>Restore the status of all dimensions in the limit map (<code class="codeph">POP</code> status).
                           </p>
                        </li>
                        <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAGIIEA">
                           <p>Execute any OLAP DML command specified in the <code class="codeph">POSTDMLCMD</code> parameter of the limit map.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-4DEA4DA9-DA54-4975-8651-1CC9F571F79C">Examples</p>
                     <p>Because different applications have different requirements, several different formats are commonly used for fetching data into SQL from an analytic workspace. <a id="d248156e2932" class="indexterm-anchor"></a>The examples in this section show how to create views using a variety of different formats.
                     </p>
                     <p>Although these examples are shown as views, the <code class="codeph">SELECT</code> statements can be extracted from them and used directly to fetch data from an analytic workspace into an application.
                     </p>
                     <div class="infoboxnote" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-77745BEC-E8E7-45C3-A28F-B0199ED11A5F">
                        <p class="notep1">Note:</p>
                        <p>The examples in this section use predefined ADTs. You could modify them to use automatic ADTs. See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D">Using OLAP_TABLE With Automatic ADTs</a>"</span>.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__I81531">
                     <p class="titleinexample">Example A-5 Script for an Embedded Total Dimension View Using OLAP_TABLE</p>
                     <p><a id="d248156e2953" class="indexterm-anchor"></a><a id="d248156e2955" class="indexterm-anchor"></a>This example shows the PL/SQL script used to create an embedded total view of the <code class="codeph">TIME</code> dimension in an analytic workspace named MYAW. This view is similar to the view in <a href="OLAP_TABLE-sql-functions.html#GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2__CHDFJHHA">Example A-2</a>, but it specifies both a Calendar and a Fiscal hierarchy, and it includes <code class="codeph">HATTRIBUTE</code> subclauses for hierarchy-specific End Date attributes.
                     </p>
                     <p>The <code class="codeph">INHIERARCHY</code> subclause identifies a valueset in the analytic workspace that lists all the dimension members in each hierarchy of a dimension. <code class="codeph">OLAP_TABLE</code> saves the status of all dimensions in the limit map that have <code class="codeph">INHIERARCHY</code> subclauses during the processing of the limit map. See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">Order of Processing in OLAP_TABLE</a>"</span>.
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE awtime_row AS OBJECT (
             awtime_id               VARCHAR2(12),
             awtime_short_label      VARCHAR2(12),
             awtime_cal_end_date     DATE,
             awtime_fis_end_date     DATE);
/
CREATE TYPE awtime_table AS TABLE OF awtime_row;
/
CREATE OR REPLACE VIEW awtime_view AS
   SELECT awtime_id, awtime_short_label, 
          awtime_cal_end_date, awtime_fis_end_date
      FROM TABLE(OLAP_TABLE(
         'myaw DURATION SESSION',
         'awtime_table', 
         '',
         'DIMENSION awtime_id FROM time WITH 
             HIERARCHY time_parentrel 
                (time_hierlist ''CALENDAR'')
                INHIERARCHY time_inhier
                HATTRIBUTE awtime_cal_end_date  FROM time_cal_end_date
             HIERARCHY time_parentrel 
                (time_hierlist ''FISCAL'')
                INHIERARCHY time_inhier
                HATTRIBUTE awtime_fis_end_date  FROM time_fis_end_date
          ATTRIBUTE awtime_short_label  FROM time_short_description'));
/
SQL&gt;SELECT * FROM awtime_view;

AWTIME_ID  AWTIME_SHORT_LABEL  AWTIME_CAL_END_DATE  AWTIME_FIS_END_DATE
---------  ------------------  -------------------  -------------------  
19         Jan-98              31-JAN-98            31-JAN-98
20         Feb-98              28-FEB-98            28-FEB-98
21         Mar-98              31-MAR-98            31-MAR-98
22         Apr-98              30-APR-98            30-APR-98
23         May-98              31-MAY-98            31-MAY-98
24         Jun-98              30-JUN-98            30-JUN-98
.                                                            
.                                                            
.                                                            
.                                                            
98         Q1-03               31-MAR-03            30-SEP-03
99         Q2-03               30-JUN-03            31-DEC-03
1          1998                31-DEC-98            30-JUN-99
102        2003                31-DEC-03            30-JUN-04
119        2004                31-DEC-04            30-JUN-05
2          1999                31-DEC-99            30-JUN-00
3          2000                31-DEC-00            30-JUN-01
4          2001                31-DEC-01            30-JUN-02
85         2002                31-DEC-02            30-JUN-03
</pre><p>Note that you must be sure to verify that you have created the views correctly by issuing <code class="codeph">SELECT</code> statements against them. Only at that time do any errors in the call to <code class="codeph">OLAP_TABLE</code> appear.
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-F85ED6D0-91CD-41D3-89C4-146720C6DAB9">
                     <p class="titleinexample">Example A-6 Creating a View of an Embedded Total Measure Using OLAP_TABLE</p>
                     <p><a id="d248156e2998" class="indexterm-anchor"></a>In <a id="d248156e3003" class="indexterm-anchor"></a>a star schema, a separate measure view is needed with columns that can be joined to each of the dimension views. This example shows the PL/SQL script used to create a measure view with a column populated by a <code class="codeph">ROW2CELL</code> clause to support custom measures. For information on ROW2CELL, <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHGCEGC">ROW2CELL Clause</a>"</span>.
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE awunits_row AS OBJECT (
             awtime                  VARCHAR2(12),
             awcustomer              VARCHAR2(30),
             awproduct               VARCHAR2(30),
             awchannel               VARCHAR2(30),
             awunits                 NUMBER(16),
             r2c                     RAW(32));
/
CREATE TYPE awunits_table AS TABLE OF awunits_row;
/
CREATE OR REPLACE VIEW awunits_view AS
   SELECT awunits,
          awtime, awcustomer, awproduct, awchannel, r2c 
      FROM TABLE(OLAP_TABLE(
         'myaw DURATION SESSION', 
         'awunits_table', 
         '',
         'MEASURE awunits FROM units_cube_units
          DIMENSION awtime FROM time WITH
             HIERARCHY time_parentrel
          DIMENSION awcustomer FROM customer WITH 
             HIERARCHY customer_parentrel
                       (customer_hierlist ''MARKET_ROLLUP'')
                INHIERARCHY customer_inhier
          DIMENSION awproduct FROM product WITH
             HIERARCHY product_parentrel
          DIMENSION channel WITH
             HIERARCHY channel_parentrel
             ATTRIBUTE  awchannel FROM channel_short_description
          ROW2CELL r2c'))
      WHERE awunits IS NOT NULL;

SQL&gt;SELECT awchannel, awunits FROM awunits_view 
     WHERE    awproduct = '1'
     AND      awcustomer = '7'
     AND      awtime = '4';

AWCHANNEL            AWUNITS
---------            -------
All Channels         415392
Direct Sales         43783 
Catalog              315737
Internet             55872 </pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__I82078">
                     <p class="titleinexample">Example A-7 Script for a Rollup View of Products Using OLAP_TABLE</p>
                     <p><a id="d248156e3020" class="indexterm-anchor"></a>Rollup form uses a column for each hierarchy level to show the full parentage of each dimension member. The only difference between the syntax for rollup form and the syntax for embedded total form is the addition of a <code class="codeph">FAMILYREL</code> clause in the definition of each dimension in the limit map. For information on <code class="codeph">FAMILYREL</code>, see <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIABAB">WITH HIERARCHY Subclause</a>"</span>.
                     </p>
                     <p>This example shows the PL/SQL script used to create a rollup view of the <code class="codeph">PRODUCT</code> dimension. It shows a dimension view to highlight the differences in the syntax of the limit map from the one used for the embedded total form, as shown in <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__I81531">Example A-5</a>. Note that the target columns for these levels are listed in the <code class="codeph">FAMILYREL</code> clause from most aggregate (<code class="codeph">CLASS</code>) to least aggregate (<code class="codeph">ITEM</code>), which is the order they are listed in the level list dimension. The family relation returns four columns. The most aggregate level (all products) is omitted from the view by mapping it to null.
                     </p>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__I84331">Example A-8</a> shows the alternate syntax for the <code class="codeph">FAMILYREL</code> clause, which uses QDRs to identify exactly which columns are mapped from the family relation.
                     </p>
                     <p>The limit maps in <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__I82078">Example A-7</a> and <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__I84331">Example A-8</a> generate identical views.
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE awproduct_row AS OBJECT (  
            class       VARCHAR2(50),
            family      VARCHAR2(50),
            item        VARCHAR2(50));
/
CREATE TYPE awproduct_table AS TABLE OF awproduct_row;
/
CREATE OR REPLACE VIEW awproduct_view AS
   SELECT class, family, item
      FROM TABLE(OLAP_TABLE(
         'myaw DURATION QUERY',
         'awproduct_table', 
         '',
         'DIMENSION product WITH 
            HIERARCHY product_parentrel
               FAMILYREL null, class, family, item
                  FROM product_familyrel USING product_levellist
                  LABEL product_short_description')); 

SQL&gt; SELECT * FROM awproduct_view 
              ORDER BY class, family, item;

CLASS            FAMILY             ITEM
--------------   ----------------   ------------------------
Hardware          CD-ROM             Envoy External 6X CD-ROM  
Hardware          CD-ROM             Envoy External 8X CD-ROM  
Hardware          CD-ROM             External 6X CD-ROM  
Hardware          CD-ROM             External 8X CD-ROM  
Hardware          CD-ROM             Internal 6X CD-ROM  
Hardware          CD-ROM             Internal 8X CD-ROM  
Hardware          CD-ROM             
Hardware          Desktop PCs        Sentinel Financial  
Hardware          Desktop PCs        Sentinel Multimedia  
.
.
.
Software/Other   Operating Systems  UNIX/Windows 1-user pack  
Software/Other   Operating Systems  UNIX/Windows 5-user pack  
Software/Other   Operating Systems     
Software/Other</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__I84331">
                     <p class="titleinexample">Example A-8 Script Using QDRs in the FAMILYREL Clause of OLAP_TABLE</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE TYPE awproduct_row AS OBJECT (
             class       VARCHAR2(50),
             family      VARCHAR2(50),
             item        VARCHAR2(50));
/
CREATE TYPE awproduct_table AS TABLE OF awproduct_row;
/
CREATE OR REPLACE VIEW awproduct_view AS
   SELECT class, family, item
      FROM TABLE(OLAP_TABLE(
         'myaw DURATION QUERY',
         'awproduct_table', 
         '',
         'DIMENSION product WITH 
            HIERARCHY product_parentrel
               FAMILYREL class, family, item FROM
                  product_familyrel(product_levellist ''CLASS''),
                  product_familyrel(product_levellist ''FAMILY''),
                  product_familyrel(product_levellist ''ITEM'')
                  LABEL product_short_description')); 

SQL&gt; SELECT * FROM awproduct_view 
              ORDER BY by class, family, item;

CLASS            FAMILY             ITEM
--------------   ----------------   ------------------------  
Hardware          CD-ROM             Envoy External 6X CD-ROM  
Hardware          CD-ROM             Envoy External 8X CD-ROM  
Hardware          CD-ROM             External 6X CD-ROM  
Hardware          CD-ROM             External 8X CD-ROM  
Hardware          CD-ROM             Internal 6X CD-ROM  
Hardware          CD-ROM             Internal 8X CD-ROM  
Hardware          CD-ROM             
Hardware          Desktop PCs        Sentinel Financial  
Hardware          Desktop PCs        Sentinel Multimedia  
.                                                 
.                                                 
.                                                 
Software/Other   Operating Systems  UNIX/Windows 1-user pack  
Software/Other   Operating Systems  UNIX/Windows 5-user pack  
Software/Other   Operating Systems     
Software/Other</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAEAGIH">
                     <p class="titleinexample">Example A-9 Script Using FETCH with OLAP_TABLE</p>
                     <p><a id="d248156e3075" class="indexterm-anchor"></a><a id="d248156e3077" class="indexterm-anchor"></a>Oracle Express Server applications that are being revised for use with Oracle Database can use an OLAP DML <a href="olap-dml-commands-a-g.html#GUID-D3B20F03-6C0D-4F6D-A63D-22130EF8956F">FETCH</a> command instead of a limit map to map workspace objects to relational columns.
                     </p>
                     <p>The <code class="codeph">FETCH</code> command is supplied in the third parameter of <code class="codeph">OLAP_TABLE</code>, which specifies a single OLAP DML command. See <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFFIBI">"olap_command"</a>.
                     </p>
                     <p>The script that follows fetches data from two variables (<code class="codeph">SALES</code> and <code class="codeph">COST</code>) in an analytic workspace named <code class="codeph">MYAW</code>, and calculates two custom measures (<code class="codeph">COST_PRIOR_PERIOD</code> and <code class="codeph">PROFIT</code>). This example also shows the use of <code class="codeph">OLAP_TABLE</code> directly by an application, without creating a view. 
                     </p>
                     <p>Note that the <code class="codeph">FETCH</code> statement in the following example is formatted with indentation for readability. In reality, the entire <code class="codeph">FETCH</code> statement must be entered on one line, without line breaks or continuation characters
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE measure_row AS OBJECT (
             time                       VARCHAR2(20),
             geography                  VARCHAR2(30),
             product                    VARCHAR2(30),
             channel                    VARCHAR2(30),
             sales                      NUMBER(16),
             cost                       NUMBER(16),
             cost_prior_period          NUMBER(16),
             profit                     NUMBER(16));
/   
CREATE TYPE measure_table AS TABLE OF measure_row;
/
SELECT time, geography, product, channel, 
       sales, cost, cost_prior_period, profit
          FROM TABLE(OLAP_TABLE(
             'xademo DURATION SESSION', 
             'measure_table', 
             'FETCH time, geography, product, channel, analytic_cube_f.sales, 
                    analytic_cube_f.costs, 
                    LAG(analytic_cube_f.costs, 1, time, LEVELREL time_member_levelrel),
                    analytic_cube_f.sales - analytic_cube_f.costs',
             ''))
          WHERE channel =    'STANDARD_2.TOTALCHANNEL' AND
                product =    'L1.TOTALPROD' AND
                geography =  'L1.WORLD'
          ORDER BY time;</pre><p>This SQL <code class="codeph">SELECT</code> statement returns the following result set:
                     </p><pre class="oac_no_warn" dir="ltr">TIME      GEOGRAPHY PRODUCT      CHANNEL                 SALES       COST    COST_PRIOR_PERIOD    PROFIT
--------- --------- ------------ ----------------------- --------- --------- ------------------ --------
L1.1996   L1.WORLD  L1.TOTALPROD STANDARD_2.TOTALCHANNEL 118247112   2490243                   115756869
L1.1997   L1.WORLD  L1.TOTALPROD STANDARD_2.TOTALCHANNEL  46412113   1078031          2490243   45334082
L2.Q1.96  L1.WORLD  L1.TOTALPROD STANDARD_2.TOTALCHANNEL  26084848    560379                    25524469
L2.Q1.97  L1.WORLD  L1.TOTALPROD STANDARD_2.TOTALCHANNEL  26501765    615399           560379   25886367
L2.Q2.96  L1.WORLD  L1.TOTALPROD STANDARD_2.TOTALCHANNEL  30468054    649004           615399   29819049
L2.Q2.97  L1.WORLD  L1.TOTALPROD STANDARD_2.TOTALCHANNEL  19910347    462632           649004   19447715
L2.Q3.96  L1.WORLD  L1.TOTALPROD STANDARD_2.TOTALCHANNEL  27781702    582693           462632   27199009
L2.Q4.96  L1.WORLD  L1.TOTALPROD STANDARD_2.TOTALCHANNEL  33912508    698166           582693   33214342
L3.APR96  L1.WORLD  L1.TOTALPROD STANDARD_2.TOTALCHANNEL   8859808    188851                     8670957
                                              .
                                              .
                                              .
27 rows selected.</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OLADM941"></a><a id="OLADM2968"></a><a id="OLADM2969"></a><a id="OLADM2970"></a><a id="OLADM2971"></a><a id="olapdml_olap_condition"></a><div class="sect2"><a id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A" name="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A"></a><h3 id="OLADM-GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A" class="sect3"><span class="enumeration_section">A.4 </span>OLAP_CONDITION
               </h3>
               <div>
                  <p><a id="d248156e3170" class="indexterm-anchor"></a><code class="codeph">OLAP_CONDITION</code> is a SQL <a id="d248156e3177" class="indexterm-anchor"></a>function that dynamically executes an OLAP DML command during a query of an analytic workspace.<a id="d248156e3180" class="indexterm-anchor"></a></p>
                  <div class="infoboxnotealso" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-898E85C1-B66F-4B86-923A-27A9D436C96A">
                     <p class="notep1">See Also:</p>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511">OLAP_TABLE</a> and <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-CAF827B8-8E19-4330-BC3F-D339DD0F1AE8">Modifying an Analytic Workspace From Within a SELECT FROM OLAP_TABLE Statement</a>"</span></p>
                  </div>
                  <p>The <code class="codeph">OLAP_CONDITION</code> function executes an OLAP DML command at one of three entry points in the limit map used in a call to <code class="codeph">OLAP_TABLE</code> as described in <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CHDFHEID">Entry Points for OLAP_CONDITION in the OLAP_TABLE Limit Map</a>"</span>.
                  </p>
                  <div class="infoboxnote" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-0CDC1DF5-BC6B-46B2-B733-761757695E84">
                     <p class="notep1">Note:</p>
                     <p>You cannot execute this function from within the OLAP Worksheet. You must execute it in a SQL tool such as SQL Worksheet.</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-93ACB2D6-116F-4357-ADFE-BFB7517CC856">Returns</p>
                     <p>The number <code class="codeph">1</code> to indicate a successful invocation of <code class="codeph">OLAP_CONDITION</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-BE7F69EB-2AC2-415B-8E56-8855FC603C7F">Syntax</p><pre class="oac_no_warn" dir="ltr">OLAP_CONDITION(
          r2c          IN   RAW(32),
          expression   IN   VARCHAR2,
          event        IN   NUMBER DEFAULT 1);
      RETURN NUMBER;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-B5CA16E8-33AE-4853-8559-17D16F5407B9">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-89A9E70E-214E-4CBF-8F56-D5906B84B885">
                              <!-- --></a><span class="italic">r2c</span></dt>
                        <dd>
                           <p>The name of a column specified by a <code class="codeph">ROW2CELL</code> <a id="d248156e3238" class="indexterm-anchor"></a>clause in the limit map. This parameter is used by <code class="codeph">OLAP_CONDITION</code> to identify a particular invocation of <code class="codeph">OLAP_TABLE</code>. 
                           </p>
                           <p>The <code class="codeph">ROW2CELL</code> column is used in the processing of the single-row functions. (See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a>"</span>) <code class="codeph">OLAP_CONDITION</code> simply uses it as an identifier.
                           </p>
                           <p>For information on creating a <code class="codeph">ROW2CELL</code> column, see <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHGCEGC">ROW2CELL Clause</a>"</span>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-191A8064-4E82-4FE0-BB85-9038E47C16CE">
                              <!-- --></a><span class="italic">expression</span></dt>
                        <dd>
                           <p>A single OLAP DML command to be executed within the context of the <code class="codeph">OLAP_TABLE</code> function identified by the <span class="italic">r2c</span> parameter
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-3A2D3163-9845-41E7-9F3A-61D2F551C1DF">
                              <!-- --></a><span class="italic">event</span></dt>
                        <dd>
                           <p>The event during <code class="codeph">OLAP_TABLE</code> processing that triggers the execution of the OLAP DML command specified by the <span class="italic">expression</span> parameter. This parameter can have the value 0, 1, or 2, as described in <a href="OLAP_TABLE-sql-functions.html#GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CIHFDFAG" title="The entry points in the OLAP_TABLE limit map used by the OLAP_CONDITION function">Table A-3</a></p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-61157466-70BE-4875-94BD-AF697EA005BD">Usage Notes</p>
                     <p id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CHDFHEID">Entry Points for OLAP_CONDITION in the OLAP_TABLE Limit Map</p>
                     <p>Parameters of <code class="codeph">OLAP_CONDITION</code> identify an invocation of <code class="codeph">OLAP_TABLE</code>, specify an entry point in the limit map, and provide the OLAP DML command to be executed at that entry point. 
                     </p>
                     <p>The target limit map must include a <code class="codeph">ROW2CELL</code> column. <code class="codeph">OLAP_CONDITION</code> uses this column to identify an instance of <code class="codeph">OLAP_TABLE</code>. Within that instance <code class="codeph">OLAP_CONDITION</code> executes the OLAP DML command at one of three possible entry points. The entry point that you specify determines whether the condition affects the data returned by the query and whether the condition remains in effect upon completion of the query. 
                     </p>
                     <p><code class="codeph">OLAP_CONDITION</code> can be triggered at any of the following points:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Before the status of the dimensions in the limit map is saved (which occurs before the result set is calculated). </p>
                        </li>
                        <li>
                           <p>After the result set has been calculated and before it is fetched. (Default)</p>
                        </li>
                        <li>
                           <p>After the result set has been fetched and the status of the dimensions in the limit map has been restored.</p>
                        </li>
                     </ul>
                     <p>The entry points for <code class="codeph">OLAP_CONDITION</code> are described in the following table. Refer to <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">Order of Processing in OLAP_TABLE</a>"</span> to determine where each entry point occurs.
                     </p>
                     <div class="tblformal" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CIHFDFAG">
                        <p class="titleintable">Table A-3 Entry Points for OLAP_CONDITION in the OLAP_TABLE Limit Map </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Entry Points for OLAP_CONDITION in the OLAP_TABLE Limit Map " summary="The entry points in the OLAP_TABLE limit map used by the OLAP_CONDITION function" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="14%" id="d248156e3360">Entry Point</th>
                                 <th align="left" valign="bottom" width="86%" id="d248156e3363">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d248156e3368" headers="d248156e3360 ">
                                    <p>0</p>
                                 </td>
                                 <td align="left" valign="top" width="86%" headers="d248156e3368 d248156e3363 ">
                                    <p>Execute the OLAP DML command after the <code class="codeph">PREDMLCMD</code> clause of the limit map is processed and before the status of the dimensions in the limit map is saved. 
                                    </p>
                                    <p>The entry point is between steps <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAECJAA">1</a> and <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAJBFFG">2</a> in <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">Order of Processing in OLAP_TABLE</a>"</span>.
                                    </p>
                                    <p>If <code class="codeph">OLAP_CONDITION</code> limits any of the dimensions in the limit map, the limits remain in the workspace after the execution of <code class="codeph">OLAP_TABLE</code> (unless a command in the <code class="codeph">POSTDMLCMD</code> clause of the limit map changes the status).
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d248156e3402" headers="d248156e3360 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="86%" headers="d248156e3402 d248156e3363 ">
                                    <p>Execute the OLAP DML command after the conditions of the <code class="codeph">WHERE</code> clause are satisfied and before the data is fetched. (Default.)
                                    </p>
                                    <p>The entry point is between steps <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAEHGAJ">4</a> and <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIABCEHE">5</a> in <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">Order of Processing in OLAP_TABLE</a>"</span>.
                                    </p>
                                    <p>If an OLAP DML command (other than <code class="codeph">FETCH</code>) is specified in the <span class="italic">olap_command</span> parameter of <code class="codeph">OLAP_TABLE</code>, it is executed after <code class="codeph">OLAP_CONDITION</code> and before the data is fetched. (The use of a <code class="codeph">FETCH</code> command in the <span class="italic">olap_command</span> parameter, or in <code class="codeph">OLAP_CONDITION</code> itself, is not generally recommended. See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHJADBF">Using FETCH in the olap_command Parameter</a>"</span>.)
                                    </p>
                                    <p>If <code class="codeph">OLAP_CONDITION</code> limits any of the dimensions in the limit map, the limits remain in effect for the duration of the query only. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d248156e3459" headers="d248156e3360 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="86%" headers="d248156e3459 d248156e3363 ">
                                    <p>Execute the OLAP DML command after the data is fetched and the status of dimensions in the limit map has been restored. </p>
                                    <p>The entry point is after step <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAGIIEA">8</a> in <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">Order of Processing in OLAP_TABLE</a>"</span>.
                                    </p>
                                    <p>If <code class="codeph">OLAP_CONDITION</code> limits any dimensions, the limits remain in the analytic workspace after the query completes.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-3DC05152-98BC-4441-A113-A6FA4E33AB7F">Examples</p>
                     <p>Several sample queries using <code class="codeph">OLAP_CONDITION</code> are shown in <a href="OLAP_TABLE-sql-functions.html#GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CIHGDABH">Example A-11</a>. These examples use the <code class="codeph">PRICE_CUBE</code> in an analytic workspace named<code class="codeph">MYAW</code>. The cube has a time dimension, a product dimension, and measures for unit cost and unit price.
                     </p>
                     <p>The examples are based on a view called <code class="codeph">unit_cost_price_view</code>. The SQL for creating this view is shown in <a href="OLAP_TABLE-sql-functions.html#GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CIHGHICF">Example A-10</a>. For information about creating views of analytic workspaces, see <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722">Creating Relational Views Using OLAP_TABLE</a>"</span>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CIHGHICF">
                     <p class="titleinexample">Example A-10 View of PRICE_CUBE </p><pre class="oac_no_warn" dir="ltr">-- Create the logical row
SQL&gt;CREATE TYPE unit_cost_price_row AS OBJECT (
            aw_unit_cost          NUMBER,
            aw_unit_price         NUMBER,
            aw_product            VARCHAR2(50),
            aw_product_gid        NUMBER(10),
            aw_time               VARCHAR2(20),
            aw_time_gid           NUMBER(10),
            r2c                   RAW(32));

-- Create the logical table
SQL&gt;CREATE TYPE unit_cost_price_table AS TABLE OF unit_cost_price_row;

-- Create the view
SQL&gt;CREATE OR REPLACE VIEW unit_cost_price_view AS
    SELECT aw_unit_cost, aw_unit_price, aw_product, aw_product_gid,
           aw_time, aw_time_gid, r2c 
      FROM TABLE(OLAP_TABLE(
         'myaw DURATION SESSION',
         'unit_cost_price_table', 
         '',
         'MEASURE aw_unit_cost  FROM price_cube_unit_cost
          MEASURE aw_unit_price FROM price_cube_unit_price
          DIMENSION product WITH 
             HIERARCHY product_parentrel
                INHIERARCHY product_inhier
                GID aw_product_gid FROM product_gid
             ATTRIBUTE aw_product FROM product_short_description
          DIMENSION time WITH 
             HIERARCHY time_parentrel
                INHIERARCHY time_inhier
                GID aw_time_gid FROM time_gid
             ATTRIBUTE aw_time FROM time_short_description
          ROW2CELL r2c'));

-- query the view
SQL&gt;SELECT * FROM unit_cost_price_view 
             WHERE aw_product = 'Hardware'
             AND aw_time in ('2000', '2001', '2002', '2003')
             ORDER BY aw_time;

AW_UNIT_COST AW_UNIT_PRICE AW_PRODUCT AW_PRODUCT_GID AW_TIME AW_TIME_GID R2C
------------ ------------- ---------- -------------- ------- ----------- -----
   211680.12    224713.71  Hardware                3 2000             3  00...
   195591.60    207513.16  Hardware                3 2001             3  00...
   184413.05    194773.78  Hardware                3 2002             3  00...
    73457.31     77275.06  Hardware                3 2003             3  00...</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CIHGDABH">
                     <p class="titleinexample">Example A-11 Queries of UNIT_COST_PRICE_VIEW Using OLAP_CONDITION</p>
                     <p>The queries in this example use <code class="codeph">OLAP_CONDITION</code> to modify the query of <code class="codeph">UNIT_COST_PRICE_VIEW</code> in <a href="OLAP_TABLE-sql-functions.html#GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CIHGHICF">Example A-10</a>. In each query, <code class="codeph">OLAP_CONDITION</code> uses a different entry point to limit the <code class="codeph">TIME</code> dimension to the year 2000.
                     </p>
                     <p>In the first query, <code class="codeph">OLAP_CONDIITON</code> uses entry point 0. The limited data is returned by <code class="codeph">OLAP_TABLE</code>, and the limit remains in effect in the analytic workspace.
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt;SELECT * FROM unit_cost_price_view 
             WHERE aw_product = 'Hardware'
             AND aw_time in ('2000', '2001', '2002', '2003')
             AND OLAP_CONDITION(r2c, 
                       'limit time to time_short_description eq ''2000''', 0)=1
             ORDER BY aw_time;

AW_UNIT_COST AW_UNIT_PRICE AW_PRODUCT AW_PRODUCT_GID AW_TIME AW_TIME_GID R2C
------------ ------------- ---------- -------------- ------- ----------- -----
   211680.12    224713.71  Hardware                3 2000             3  00...

--Check status in the analytic workspace
SQL&gt;exec dbms_aw.execute('rpr time_short_description');

TIME     TIME_SHORT_DESCRIPTION 
----     ----------------------
  3      2000 

-- Reset status
SQL&gt;exec dbms_aw.execute('allstat');
</pre><p>In the next query, <code class="codeph">OLAP_CONDIITON</code> uses entry point 1. The limited data is returned by <code class="codeph">OLAP_TABLE</code>, but the limit does not remain in effect in the analytic workspace.
                     </p>
                     <p>Note that the third parameter is not required in this case, because entry point 1 is the default.</p><pre class="oac_no_warn" dir="ltr">SQL&gt;SELECT * FROM unit_cost_price_view 
             WHERE aw_product = 'Hardware'
             AND aw_time in ('2000', '2001', '2002', '2003')
             AND OLAP_CONDITION(r2c, 
                       'limit time to time_short_description eq ''2000''', 1)=1
             ORDER BY aw_time;

AW_UNIT_COST AW_UNIT_PRICE AW_PRODUCT AW_PRODUCT_GID AW_TIME AW_TIME_GID R2C
------------ ------------- ---------- -------------- ------- ----------- -----
   211680.12    224713.71  Hardware                3 2000             3  00...

--Check status in the analytic workspace
SQL&gt;exec dbms_aw.execute('rpr time_short_description');

TIME     TIME_SHORT_DESCRIPTION 
----     ----------------------
 19      Jan-98 
 20      Feb-98 
 21      Mar-98 
 22      Apr-98 
.        
.        
.        
  1      1998 
  2      1999 
  3      2000 
  4      2001 
 85      2002 
102      2003 
119      2004 

-- Reset status
SQL&gt;exec dbms_aw.execute('allstat');
</pre><p>In the final query, <code class="codeph">OLAP_CONDIITON</code> uses entry point 2. The limit does not affect the data returned by <code class="codeph">OLAP_TABLE</code>, but the limit remains in effect in the analytic workspace.
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt;SELECT * FROM unit_cost_price_view 
             WHERE aw_product = 'Hardware'
             AND aw_time in ('2000', '2001', '2002', '2003')
             AND OLAP_CONDITION(r2c, 
                       'limit time to time_short_description eq ''2000''', 2)=1
             ORDER BY aw_time;

AW_UNIT_COST AW_UNIT_PRICE AW_PRODUCT AW_PRODUCT_GID AW_TIME AW_TIME_GID R2C
------------ ------------- ---------- -------------- ------- ----------- -----
   211680.12    224713.71  Hardware                3 2000             3  00...
   195591.60    207513.16  Hardware                3 2001             3  00...
   184413.05    194773.78  Hardware                3 2002             3  00...
    73457.31     77275.06  Hardware                3 2003             3  00...

--Check status in the analytic workspace
SQL&gt;exec dbms_aw.execute('rpr time_short_description');

TIME     TIME_SHORT_DESCRIPTION 
----     ----------------------
  3      2000 </pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OLADM942"></a><a id="OLADM2972"></a><a id="OLADM2973"></a><a id="OLADM2974"></a><a id="olapdml_olap_expression"></a><div class="sect2"><a id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8" name="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8"></a><h3 id="OLADM-GUID-18F0AC33-837B-40F8-923B-20058C4A99E8" class="sect3"><span class="enumeration_section">A.5 </span>OLAP_EXPRESSION
               </h3>
               <div>
                  <p><a id="d248156e3597" class="indexterm-anchor"></a><a id="d248156e3601" class="indexterm-anchor"></a><a id="d248156e3602" class="indexterm-anchor"></a><a id="d248156e3606" class="indexterm-anchor"></a><code class="codeph">OLAP_EXPRESSION</code> is a SQL function that dynamically executes an OLAP DML boolean expression within the context of an <code class="codeph">OLAP_TABLE</code> function. In addition to returning a custom measure, you can use this function in the <code class="codeph">WHERE</code> and <code class="codeph">ORDER BY</code> clauses to modify the result set of the query of the analytic workspace.
                  </p>
                  <div class="infoboxnotealso" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-2410D1EF-84EF-4478-832B-42823EAE1B38">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F">Using OLAP DML Expressions in SELECT FROM OLAP_TABLE Statements</a>"</span> and <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-02689531-77D8-4136-98A8-68B96DE01EC4">Adding Calculated Columns to the Relational View</a>"</span></p>
                  </div>
                  <p><code class="codeph">OLAP_EXPRESSION_TEXT</code> returns character data. To return text, boolean, or date data, use <a href="OLAP_TABLE-sql-functions.html#GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0">OLAP_EXPRESSION_TEXT</a>, <a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54">OLAP_EXPRESSION_BOOL</a>, or <a href="OLAP_TABLE-sql-functions.html#GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9">OLAP_EXPRESSION_DATE</a> SQL functions.
                  </p>
                  <p>Before you use this function, you must specify a <code class="codeph">ROW2CELL</code> clause in the limit map used by <code class="codeph">OLAP_TABLE</code>. <code class="codeph">ROW2CELL</code> identifies a <code class="codeph">RAW</code> column that <code class="codeph">OLAP_TABLE</code> populates with information used by the OLAP single-row functions.
                  </p>
                  <div class="infoboxnote" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-AB2DF1B5-1E86-4E99-A52E-7EA075271ED7">
                     <p class="notep1">Note:</p>
                     <p>You cannot execute this function from within the OLAP Worksheet. You must execute it in a SQL tool such as SQL Worksheet.</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-B16C62FE-EBAB-41CB-97B4-193FC96F734C">Returns</p>
                     <p>An evaluation of <span class="italic">numeric_expression</span> for each row of the table object returned by the <code class="codeph">OLAP_TABLE</code> function.
                     </p>
                     <p><code class="codeph">OLAP_EXPRESSION</code> returns numeric data. To return text, boolean, or date data, use the <code class="codeph">OLAP_EXPRESSION_TEXT</code>, <code class="codeph">OLAP_EXPRESSION_BOOL</code>, or <code class="codeph">OLAP_EXPRESSION_DATE</code> functions.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-F2B2DF40-6763-4D76-B5D6-C3705D1287F9">Syntax</p><pre class="oac_no_warn" dir="ltr">OLAP_EXPRESSION(
          r2c                  IN   RAW(32),
          numeric_expression   IN   VARCHAR2)
      RETURN NUMBER;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-B0D41C83-0A7E-459E-A1E8-0638D11DAC74">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-884E54E8-A9A1-4CDA-9C20-E3E67560C594">
                              <!-- --></a><span class="italic">r2c</span></dt>
                        <dd>
                           <p>The name of a column specified by a <code class="codeph">ROW2CELL</code> clause in the limit map.<a id="d248156e3705" class="indexterm-anchor"></a> See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHGCEGC">ROW2CELL Clause</a>"</span> of OLAP_TABLE.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-BF562FBE-56CB-4DB2-B8B8-8C34E7A2B257">
                              <!-- --></a><span class="italic">numeric_expression</span></dt>
                        <dd>
                           <p>An OLAP DML expression that returns a numeric result.</p>
                           <div class="infoboxnotealso" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-A9D34E89-FBB6-43A3-93E7-6FC11735400C">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="data-types-operators-and-expressions.html#GUID-ABEC18A1-F373-48FF-B3BD-2FB45E4CF006">Numeric Expressions</a>"</span>, <a href="olap-dml-functions-a-k.html#GUID-61DF603D-3BD7-43B0-B14A-9C536BFF80CE">OLAP DML Functions: A - K</a>, <a href="olap-dml-functions-l-z.html#GUID-B01E26A8-F738-4D2C-A274-6B0B3941A2A7">OLAP DML Functions: L - Z</a>, and <span class="q">"<a href="DBMS_AW-plsql-package.html#GUID-394C3B1D-9323-4A42-B090-0276A8E8F446">Guidelines for Using Quotation Marks in OLAP DML Commands</a>"</span></p>
                           </div>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-906CB7B9-EFA9-442F-8013-8304966C06AA">Examples</p>
                     <p>The <a id="d248156e3742" class="indexterm-anchor"></a>following script was used to create the view <code class="codeph">unit_cost_price_view</code>, which is used in <a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__CHDHDGAA">Example A-12</a> and <a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__CHDFFBHI">Example A-13</a> to illustrate the use of <code class="codeph">OLAP_EXPRESSION</code>. For information about creating views of analytic workspaces, see <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722">Creating Relational Views Using OLAP_TABLE</a>"</span>.
                     </p>
                     <p id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__CHDCJFDB">Sample View: MYAW.UNIT_COST_PRICE_VIEW</p><pre class="oac_no_warn" dir="ltr">-- Create the logical row
CREATE TYPE unit_cost_price_row AS OBJECT (
            aw_unit_cost          NUMBER,
            aw_unit_price         NUMBER,
            aw_product            VARCHAR2(50),
            aw_time               VARCHAR2(20),
            r2c                   RAW(32));
/
-- Create the logical table
CREATE TYPE unit_cost_price_table AS TABLE OF unit_cost_price_row;
/
-- Create the view
CREATE OR REPLACE VIEW unit_cost_price_view AS
    SELECT aw_unit_cost, aw_unit_price, aw_product, aw_time, r2c
      FROM TABLE(OLAP_TABLE(
         'myaw DURATION SESSION',
         'unit_cost_price_table', 
         '',
         'MEASURE aw_unit_cost  FROM price_cube_unit_cost
          MEASURE aw_unit_price FROM price_cube_unit_price
          DIMENSION product WITH 
             HIERARCHY product_parentrel
                INHIERARCHY product_inhier
             ATTRIBUTE aw_product FROM product_short_description
          DIMENSION time WITH 
             HIERARCHY time_parentrel
                INHIERARCHY time_inhier
             ATTRIBUTE aw_time FROM time_short_description
          ROW2CELL r2c'));
/</pre><p>The following query shows some aggregate data in the view.</p><pre class="oac_no_warn" dir="ltr">SQL&gt;SELECT * FROM unit_cost_price_view 
             WHERE aw_product = 'Hardware'
             AND aw_time in ('2000', '2001', '2002', '2003')
             ORDER BY aw_time;

AW_UNIT_COST    AW_UNIT_PRICE    AW_PRODUCT    AW_TIME    R2C
------------    -------------    ----------    -------    -----
   211680.12        224713.71      Hardware       2000    00...
   195591.60        207513.16      Hardware       2001    00...
   184413.05        194773.78      Hardware       2002    00...
    73457.31         77275.06      Hardware       2003    00...</pre><p></p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__CHDHDGAA">
                     <p class="titleinexample">Example A-12 OLAP_EXPRESSION: Time Series Function in a WHERE Clause</p>
                     <p>This example uses the view described in <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__CHDCJFDB">Sample View: MYAW.UNIT_COST_PRICE_VIEW</a>"</span>.
                     </p>
                     <p>The following <code class="codeph">SELECT</code> statement calculates an expression with an alias of <code class="codeph">PERIODAGO</code>, and limits the result set to calculated values greater than 50,000. The calculation uses the <code class="codeph">LAG</code> function to return the value of the previous time period.
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt;SELECT aw_time time, aw_unit_cost unit_cost, 
            OLAP_EXPRESSION(r2c, 
                           'LAG(price_cube_unit_cost, 1, time, 
                                LEVELREL time_levelrel)') periodago
        FROM unit_cost_price_view
        WHERE aw_product = 'Hardware'
        AND OLAP_EXPRESSION(r2c,
                           'LAG(price_cube_unit_cost, 1, time, 
                                LEVELREL time_levelrel)') &gt; 50000;
</pre><p>This <code class="codeph">SELECT</code> statement produces these results.
                     </p><pre class="oac_no_warn" dir="ltr">TIME                  UNIT_COST  PERIODAGO
-------------------- ---------- ----------
2003                   73457.31  184413.05
2004                              73457.31
1999                   231095.4  162526.92
2000                  211680.12   231095.4
2001                   195591.6  211680.12
2002                  184413.05   195591.6
Q2-99                  57587.34   57856.76
Q3-99                  59464.25   57587.34
Q4-99                  56187.05   59464.25
Q1-00                  53982.32   56187.05
Q2-00                  53629.74   53982.32
Q3-00                  53010.65   53629.74
Q4-00                  51057.41   53010.65
Q1-01                  49691.22   51057.41</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__CHDFFBHI">
                     <p class="titleinexample">Example A-13 OLAP_EXPRESSION: Numeric Calculation in an ORDER BY CLause</p>
                     <p>This example uses the view described in <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__CHDCJFDB">Sample View: MYAW.UNIT_COST_PRICE_VIEW</a>"</span>.
                     </p>
                     <p>This example subtracts costs from price, and gives this expression an alias of <code class="codeph">MARKUP</code>. The rows are ordered by markup from highest to lowest.
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt;SELECT aw_time time, aw_unit_cost unit_cost, aw_unit_price unit_price, 
            OLAP_EXPRESSION(r2c, 
                      'PRICE_CUBE_UNIT_PRICE - PRICE_CUBE_UNIT_COST') markup
     FROM unit_cost_price_view 
     WHERE aw_product = 'Hardware' 
     AND aw_time in ('1998', '1999', '2000', '2001')
     ORDER BY OLAP_EXPRESSION(r2c, 
                      'PRICE_CUBE_UNIT_PRICE - PRICE_CUBE_UNIT_COST') DESC;
</pre><p>This <code class="codeph">SELECT</code> statement produces these results.
                     </p><pre class="oac_no_warn" dir="ltr">TIME                  UNIT_COST   UNIT_PRICE  MARKUP
-------------------- ----------  ----------  ---------
1999                  231095.40   245412.91   14317.51
2000                  211680.12   224713.71   13033.59
2001                  195591.60   207513.16   11921.56
1998                  162526.92   173094.41   10567.49</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OLADM943"></a><a id="OLADM2975"></a><a id="OLADM2976"></a><a id="olapdml_olap_exp_bool"></a><div class="sect2"><a id="GUID-C0E54517-804D-4B13-96A5-11647516EF54" name="GUID-C0E54517-804D-4B13-96A5-11647516EF54"></a><h3 id="OLADM-GUID-C0E54517-804D-4B13-96A5-11647516EF54" class="sect3"><span class="enumeration_section">A.6 </span>OLAP_EXPRESSION_BOOL
               </h3>
               <div>
                  <p><a id="d248156e3858" class="indexterm-anchor"></a><a id="d248156e3862" class="indexterm-anchor"></a><code class="codeph">OLAP_EXPRESSION_BOOL</code> is a SQL function that dynamically executes an OLAP DML boolean expression within the context of an <code class="codeph">OLAP_TABLE</code> function. In addition to returning a custom measure, you can use this function in the <code class="codeph">WHERE</code> and <code class="codeph">ORDER BY</code> clauses to modify the result set of the query of the analytic workspace.
                  </p>
                  <div class="infoboxnotealso" id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-6B5AA63F-E221-4751-8A33-A302B3CEC908">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F">Using OLAP DML Expressions in SELECT FROM OLAP_TABLE Statements</a>"</span> and <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-02689531-77D8-4136-98A8-68B96DE01EC4">Adding Calculated Columns to the Relational View</a>"</span></p>
                  </div>
                  <p><code class="codeph">OLAP_EXPRESSION_TEXT</code> returns character data. To return numeric, text, or date data, use <a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a>, <a href="OLAP_TABLE-sql-functions.html#GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0">OLAP_EXPRESSION_TEXT</a>, or <a href="OLAP_TABLE-sql-functions.html#GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9">OLAP_EXPRESSION_DATE</a> SQL functions.
                  </p>
                  <p>Before you use this function, you must specify a <code class="codeph">ROW2CELL</code> clause in the limit map used by <code class="codeph">OLAP_TABLE</code>. <code class="codeph">ROW2CELL</code> identifies a <code class="codeph">RAW</code> column that <code class="codeph">OLAP_TABLE</code> populates with information used by the OLAP single-row functions. 
                  </p>
                  <div class="infoboxnote" id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-15EC0B64-6510-4410-8CC8-D47CF786DE57">
                     <p class="notep1">Note:</p>
                     <p>You cannot execute this function from within the OLAP Worksheet. You must execute it in a SQL tool such as SQL Worksheet.</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-4141E933-9B99-4603-812A-2D8CB2A6DD0A">Returns</p>
                     <p>An evaluation of <span class="italic">boolean_expression</span> for each row of the table object returned by the <code class="codeph">OLAP_TABLE</code> function.
                     </p>
                     <p><code class="codeph">OLAP_EXPRESSION_BOOL</code> returns boolean data in the form 0 for false and 1 for true. To return numeric, date, or text data, use the <code class="codeph">OLAP_EXPRESSION</code>, <code class="codeph">OLAP_EXPRESSION_DATE</code>, or <code class="codeph">OLAP_EXPRESSION_TEXT</code> functions.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-32C93D46-3301-43EC-A08E-916AB7ADF422">Syntax</p><pre class="oac_no_warn" dir="ltr">OLAP_EXPRESSION_BOOL(
          r2c                  IN   RAW(32),
          boolean_expression   IN   VARCHAR2)
      RETURN NUMBER;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-3B43126B-DAFB-4E41-A3E7-2686A51C2ED3">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-339E7E82-DDF0-4F8C-A1AB-F7F79B02BDEB">
                              <!-- --></a><span class="italic">r2c</span></dt>
                        <dd>
                           <p>The name of a column specified by a <code class="codeph">ROW2CELL</code> clause in the limit map.<a id="d248156e3961" class="indexterm-anchor"></a> See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHGCEGC">ROW2CELL Clause</a>"</span> of OLAP_TABLE
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-E1E73B33-678D-4FB5-B2F4-6E814D66326C">
                              <!-- --></a><span class="italic">boolean_expression</span></dt>
                        <dd>
                           <p>An OLAP DML expression that returns a Boolean result.</p>
                           <div class="infoboxnotealso" id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-AA1B7D44-CC0A-44E7-9EDC-3709475A7B12">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="data-types-operators-and-expressions.html#GUID-682136BD-B3FA-40E8-A2A2-3C5AE979CBC8">Boolean Expressions</a>"</span>, <a href="olap-dml-functions-a-k.html#GUID-61DF603D-3BD7-43B0-B14A-9C536BFF80CE">OLAP DML Functions: A - K</a>, <a href="olap-dml-functions-l-z.html#GUID-B01E26A8-F738-4D2C-A274-6B0B3941A2A7">OLAP DML Functions: L - Z</a>, and <span class="q">"<a href="DBMS_AW-plsql-package.html#GUID-394C3B1D-9323-4A42-B090-0276A8E8F446">Guidelines for Using Quotation Marks in OLAP DML Commands</a>"</span></p>
                           </div>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-17DB731D-E52C-4864-AECF-0FE72E8EC3F9">Examples</p>
                     <p>The following script was used to create the view <code class="codeph">awunits_view</code>, which is used in <a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54__BHBDFIHH">Example A-14</a> to illustrate the use of <code class="codeph">OLAP_EXPRESSION_BOOL</code>. 
                     </p>
                     <p id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__BHBBCDCH">Sample View: MYAW_AW.AWUNITS_VIEW</p><pre class="oac_no_warn" dir="ltr">-- Create the logical row
CREATE TYPE awunits_row AS OBJECT (
             awtime                  VARCHAR2(12),
             awcustomer              VARCHAR2(30),
             awproduct               VARCHAR2(30),
             awchannel               VARCHAR2(30),
             awunits                 NUMBER(16),
             r2c                     RAW(32));
/
-- Create the logical table
CREATE TYPE awunits_table AS TABLE OF awunits_row;
/
-- Create the view
CREATE OR REPLACE VIEW awunits_view AS
   SELECT awunits,
          awtime, awcustomer, awproduct, awchannel, r2c 
      FROM TABLE(OLAP_TABLE(
         'myaw_aw.myawaw DURATION SESSION', 
         'awunits_table', 
         '',
         'MEASURE awunits FROM units_cube_aw_units_aw
          DIMENSION awtime FROM time_aw WITH
             HIERARCHY time_aw_parentrel
          DIMENSION awcustomer FROM customer_aw WITH 
             HIERARCHY customer_aw_parentrel
                       (customer_aw_hierlist ''MARKET_ROLLUP_AW'')
                INHIERARCHY customer_aw_inhier
          DIMENSION awproduct FROM product_aw WITH
             HIERARCHY product_aw_parentrel
          DIMENSION channel_aw WITH
             HIERARCHY channel_aw_parentrel
             ATTRIBUTE  awchannel FROM channel_aw_short_description
          ROW2CELL r2c'))
      WHERE awunits IS NOT NULL;
/</pre><p>The following query shows some aggregate data in the view. For all products in all markets during the year 2001, it shows the number of units sold through each channel.</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT awchannel, awunits FROM awunits_view 
     WHERE    awproduct = '1'
     AND      awcustomer = '7'
     AND      awtime = '4';
     
AWCHANNEL            AWUNITS
---------            -------  
All Channels         415392  
Direct Sales         43783  
Catalog              315737  
Internet             55872  
</pre><p>The following statements show the descriptions of the Product, Customer, and Time dimension members used in the query.</p><pre class="oac_no_warn" dir="ltr">SQL&gt;execute dbms_aw.execute('limit product_aw to ''1''');
SQL&gt;execute dbms_aw.execute('rpr product_aw_short_description');
 
PRODUCT_AW                 PRODUCT_AW_SHORT_DESCRIPTION
--------------- --------------------------------------------------
1               Total Product

SQL&gt;execute dbms_aw.execute('limit customer_aw to ''7''');
SQL&gt;execute dbms_aw.execute('rpr customer_aw_short_description');
 
CUSTOMER_AW               CUSTOMER_AW_SHORT_DESCRIPTION
--------------- --------------------------------------------------
7               Total Market
 
SQL&gt;execute dbms_aw.execute('limit time_aw to ''4''');
SQL&gt;execute dbms_aw.execute('rpr time_aw_short_description');
 
TIME_AW                     TIME_AW_SHORT_DESCRIPTION
--------------- --------------------------------------------------
4               2001</pre><p></p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__BHBDFIHH">
                     <p class="titleinexample">Example A-14 OLAP_EXPRESSION_BOOL Function in a SELECT List</p>
                     <p>This example uses the view described in <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54__BHBBCDCH">Sample View: MYAW_AW.AWUNITS_VIEW</a>"</span>. The following <code class="codeph">SELECT</code> statement calculates an expression with an alias of <code class="codeph">lowest_units</code>, which indicates whether or not the number of units of each product was less than 500. 
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt;SELECT awproduct products,
       olap_expression_bool(r2c, 'units_cube_aw_units_aw le 500') lowest_units
          FROM awunits_view
               WHERE     awproduct &gt; 39
               AND       awproduct &lt; 46 
               AND       awcustomer = '7'
               AND       awchannel = 'Internet'
               AND       awtime = '4';

PRODUCTS        LOWEST_UNITS
--------------- ------------
40              0
41              1
42              1
43              1
44              1
45              0
</pre><p>This query shows that products 41-44 all had less than 500 units. These products are the documentation sets in German, French, Spanish, and Italian. The selected products are shown as follows.</p><pre class="oac_no_warn" dir="ltr">SQL&gt;execute dbms_aw.execute
           ('limit product_aw to product_aw gt 39 and product_aw lt 46');
SQL&gt;execute dbms_aw.execute('rpr product_aw_short_description');
 
PRODUCT_AW                 PRODUCT_AW_SHORT_DESCRIPTION
--------------- --------------------------------------------------
40              O/S Documentation Set - English
41              O/S Documentation Set - German
42              O/S Documentation Set - French
43              O/S Documentation Set - Spanish
44              O/S Documentation Set - Italian
45              O/S Documentation Set - Kanji
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OLADM944"></a><a id="olapdml_olap_exp_date"></a><div class="sect2"><a id="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9" name="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9"></a><h3 id="OLADM-GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9" class="sect3"><span class="enumeration_section">A.7 </span>OLAP_EXPRESSION_DATE
               </h3>
               <div>
                  <p><a id="d248156e4071" class="indexterm-anchor"></a><a id="d248156e4075" class="indexterm-anchor"></a><code class="codeph">OLAP_EXPRESSION_DATE</code> is a SQL function that dynamically executes an OLAP DML datetime expression within the context of an <code class="codeph">OLAP_TABLE</code> function. In addition to returning a custom measure, you can use this function in the <code class="codeph">WHERE</code> and <code class="codeph">ORDER BY</code> clauses to modify the result set of the query of the analytic workspace.
                  </p>
                  <div class="infoboxnotealso" id="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-E409DF82-B5A4-43E9-A03A-FD7120B1D0ED">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F">Using OLAP DML Expressions in SELECT FROM OLAP_TABLE Statements</a>"</span> and <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-02689531-77D8-4136-98A8-68B96DE01EC4">Adding Calculated Columns to the Relational View</a>"</span></p>
                  </div>
                  <p><code class="codeph">OLAP_EXPRESSION_TEXT</code> returns character data. To return numeric, boolean, or text data, use <a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a>, <a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54">OLAP_EXPRESSION_BOOL</a>, or <a href="OLAP_TABLE-sql-functions.html#GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0">OLAP_EXPRESSION_TEXT</a> SQL functions.
                  </p>
                  <p>Before you use this function, you must specify a <code class="codeph">ROW2CELL</code> clause in the limit map used by <code class="codeph">OLAP_TABLE</code>. <code class="codeph">ROW2CELL</code> identifies a <code class="codeph">RAW</code> column that <code class="codeph">OLAP_TABLE</code> populates with information used by the OLAP single-row functions.
                  </p>
                  <div class="infoboxnote" id="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-B82EF2AA-897A-48C6-843D-17956E32A960">
                     <p class="notep1">Note:</p>
                     <p>You cannot execute this function from within the OLAP Worksheet. You must execute it in a SQL tool such as SQL Worksheet.</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-87CB2051-366E-439C-ABE3-105F8FE418F8">Returns</p>
                     <p>An evaluation of <span class="italic">date_expression</span> for each row of the table object returned by the <code class="codeph">OLAP_TABLE</code> function.
                     </p>
                     <p><code class="codeph">OLAP_EXPRESSION_DATE</code> returns date data. To return numeric, boolean, or text data, use the <code class="codeph">OLAP_EXPRESSION</code>, <code class="codeph">OLAP_EXPRESSION_BOOL</code>, or <code class="codeph">OLAP_EXPRESSION_TEXT</code> functions.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-808AA022-154C-4212-AC87-E04A0BCAD23A">Syntax</p><pre class="oac_no_warn" dir="ltr">OLAP_EXPRESSION_DATE(
          r2c               IN   RAW(32),
          date_expression   IN   VARCHAR2)
      RETURN NUMBER;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-EC25F896-8EBD-405A-ABCB-E7D4150F0D6F">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-AD98B818-E964-4ADE-BE8B-B8E5413D3B81">
                              <!-- --></a><span class="italic">r2c</span></dt>
                        <dd>
                           <p>The name of a column specified by a <code class="codeph">ROW2CELL</code> clause in the limit map.<a id="d248156e4174" class="indexterm-anchor"></a> See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHGCEGC">ROW2CELL Clause</a>"</span> of OLAP_TABLE
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-1443DF7A-66EE-4780-BA79-E662EBE3D87E">
                              <!-- --></a><span class="italic">date_expression</span></dt>
                        <dd>
                           <p>An OLAP DML expression that returns an OLAP DML datetime result.</p>
                           <div class="infoboxnotealso" id="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-A743F4A7-44FD-4269-9DC7-605F72D2919D">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="data-types-operators-and-expressions.html#GUID-B5F257DF-65F7-4F2A-B536-0E8C6EA86824">Datetime and Interval Expressions</a>"</span>, <a href="olap-dml-functions-a-k.html#GUID-61DF603D-3BD7-43B0-B14A-9C536BFF80CE">OLAP DML Functions: A - K</a>, <a href="olap-dml-functions-l-z.html#GUID-B01E26A8-F738-4D2C-A274-6B0B3941A2A7">OLAP DML Functions: L - Z</a>, and <span class="q">"<a href="DBMS_AW-plsql-package.html#GUID-394C3B1D-9323-4A42-B090-0276A8E8F446">Guidelines for Using Quotation Marks in OLAP DML Commands</a>"</span></p>
                           </div>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-ECDC04BE-7212-40D4-9FBF-35B34F72A43C">Examples</p>
                     <p>Refer to the examples in <a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a> and <a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54">OLAP_EXPRESSION_BOOL</a> for examples of OLAP single-row functions.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OLADM945"></a><a id="olapdml_olap_exp_text"></a><div class="sect2"><a id="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0" name="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0"></a><h3 id="OLADM-GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0" class="sect3"><span class="enumeration_section">A.8 </span>OLAP_EXPRESSION_TEXT
               </h3>
               <div>
                  <p><a id="d248156e4247" class="indexterm-anchor"></a><a id="d248156e4249" class="indexterm-anchor"></a><code class="codeph">OLAP_EXPRESSION_TEXT</code> is a SQL function that dynamically executes an OLAP DML text expression within the context of an <code class="codeph">OLAP_TABLE</code> function. In addition to returning a custom measure, you can use this function in the <code class="codeph">WHERE</code> and <code class="codeph">ORDER BY</code> clauses to modify the result set of the query of the analytic workspace.
                  </p>
                  <div class="infoboxnotealso" id="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-C86E8158-985A-4143-91EB-50467018A25E">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F">Using OLAP DML Expressions in SELECT FROM OLAP_TABLE Statements</a>"</span> and <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-02689531-77D8-4136-98A8-68B96DE01EC4">Adding Calculated Columns to the Relational View</a>"</span></p>
                  </div>
                  <p><code class="codeph">OLAP_EXPRESSION_TEXT</code> returns character data. To return numeric, boolean, or date data, use <a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a>, <a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54">OLAP_EXPRESSION_BOOL</a>, or <a href="OLAP_TABLE-sql-functions.html#GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9">OLAP_EXPRESSION_DATE</a> SQL functions.
                  </p>
                  <p>Before you use this function, you must specify a <code class="codeph">ROW2CELL</code> clause in the limit map used by <code class="codeph">OLAP_TABLE</code>. <code class="codeph">ROW2CELL</code> identifies a <code class="codeph">RAW</code> column that <code class="codeph">OLAP_TABLE</code> populates with information used by the OLAP single-row functions.
                  </p>
                  <div class="infoboxnote" id="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-859FE52C-AF25-4D17-A55A-9C29AD550FCC">
                     <p class="notep1">Note:</p>
                     <p>You cannot execute this function from within the OLAP Worksheet. You must execute it in a SQL tool such as SQL Worksheet.</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-2C57C8CD-C6F9-46DE-8AD8-8F99AE40D8A1">Returns</p>
                     <p>An evaluation of <span class="italic">text_expression</span> for each row of the table object returned by the <code class="codeph">OLAP_TABLE</code> function.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-ECB8A49D-84C3-47CA-8429-E97026B0A013">Syntax</p><pre class="oac_no_warn" dir="ltr">OLAP_EXPRESSION_TEXT(
          r2c               IN   RAW(32),
          text_expression   IN   VARCHAR2)
      RETURN NUMBER;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-2C1F4DA0-9B86-4F96-8FB6-410962FD0B72">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-F9D9F7B8-3C39-4CDC-911F-505B66B15291">
                              <!-- --></a><span class="italic">r2c</span></dt>
                        <dd>
                           <p>The name of a column specified by a <code class="codeph">ROW2CELL</code> clause in the limit map.<a id="d248156e4337" class="indexterm-anchor"></a> See <span class="q">"<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHGCEGC">ROW2CELL Clause</a>"</span> of OLAP_TABLE
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-6A46F48F-7BA0-4D40-B838-8BAD95B35D87">
                              <!-- --></a><span class="italic">text_expression</span></dt>
                        <dd>
                           <p>An OLAP DML expression that returns a text result.</p>
                           <div class="infoboxnotealso" id="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-5E54F476-79DB-4633-B1D4-81A3007AC7E9">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="data-types-operators-and-expressions.html#GUID-3B623B2A-07EC-4090-B0E3-A6A6539A54EB">Text Expressions</a>"</span>, <a href="olap-dml-functions-a-k.html#GUID-61DF603D-3BD7-43B0-B14A-9C536BFF80CE">OLAP DML Functions: A - K</a>, <a href="olap-dml-functions-l-z.html#GUID-B01E26A8-F738-4D2C-A274-6B0B3941A2A7">OLAP DML Functions: L - Z</a>, and <span class="q">"<a href="DBMS_AW-plsql-package.html#GUID-394C3B1D-9323-4A42-B090-0276A8E8F446">Guidelines for Using Quotation Marks in OLAP DML Commands</a>"</span></p>
                           </div>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-13AE162A-6DF4-44FD-83F1-910AAA84F4CA">Example</p>
                     <p><a id="d248156e4373" class="indexterm-anchor"></a>Refer to the examples in <a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a> and <a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54">OLAP_EXPRESSION_BOOL</a> for examples of OLAP single-row functions.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>