<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Result Set</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="JDBC Developer's Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="JDBC Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00">
      <meta name="dcterms.title" content="JDBC Developer's Guide">
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96471-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="Oracle-collections.html" title="Previous" type="text/html">
      <link rel="next" href="JDBC-Rowsets.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Oracle-collections.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="JDBC-Rowsets.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="data-access-and-manipulation.html" property="item" typeof="WebPage"><span property="name"> Data Access and Manipulation</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Result Set </li>
            </ol>
            <a id="GUID-16116A5C-1A33-4F65-B9DD-1BDCE925343B" name="GUID-16116A5C-1A33-4F65-B9DD-1BDCE925343B"></a><a id="JJDBC28611"></a>
            
            <h2 id="JJDBC-GUID-16116A5C-1A33-4F65-B9DD-1BDCE925343B" class="sect2"><span class="enumeration_chapter">17 </span> Result Set 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Standard Java Database Connectivity (JDBC) features in Java Development Kit (JDK) include enhancements to result set functionality, such as processing forward or backward, positioning relatively or absolutely, seeing changes to the database made internally or externally, and updating result set data and then copying the changes to the database.</p>
               <p>This chapter discusses the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="resultset.html#GUID-41D05006-5470-4C1C-ACA0-A4B487B4D1C0">Oracle JDBC Implementation Overview for Result Set Support</a></p>
                  </li>
                  <li>
                     <p><a href="resultset.html#GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A">Resultset Limitations and Downgrade Rules</a></p>
                  </li>
                  <li>
                     <p><a href="resultset.html#GUID-EADCCA6E-E90A-4CA5-9F0A-D68DA3E4163A">About Avoiding Update Conflicts</a></p>
                  </li>
                  <li>
                     <p><a href="resultset.html#GUID-BD27B43E-525F-44C4-973F-18D2BB8BA007">Row Fetch Size</a></p>
                  </li>
                  <li>
                     <p><a href="resultset.html#GUID-264DC004-D0F0-4BD4-935C-438FD46DB412">About Refetching Rows</a></p>
                  </li>
                  <li>
                     <p><a href="resultset.html#GUID-8360DD85-DBCE-485A-9E22-F7B7A5904D63">About Viewing Database Changes Made Internally and Externally</a></p>
                  </li>
               </ul>
            </div><a id="JJDBC28613"></a><a id="JJDBC28614"></a><a id="JJDBC28612"></a><div class="props_rev_3"><a id="GUID-41D05006-5470-4C1C-ACA0-A4B487B4D1C0" name="GUID-41D05006-5470-4C1C-ACA0-A4B487B4D1C0"></a><h3 id="JJDBC-GUID-41D05006-5470-4C1C-ACA0-A4B487B4D1C0" class="sect3"><span class="enumeration_section">17.1 </span>Oracle JDBC Implementation Overview for Result Set Support
               </h3>
               <div>
                  <div class="section">
                     <p>This section discusses key aspects of the Oracle JDBC implementation of result set support for scrollability, through use of a client-side cache, and for updatability, through use of <code class="codeph">ROWID</code>s.
                     </p>
                     <p>It is permissible for customers to implement their own client-side caching mechanism, and Oracle provides an interface to use in doing so.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-41D05006-5470-4C1C-ACA0-A4B487B4D1C0__GUID-01AC5CB7-BB44-44CE-947C-3DFE27661ED9">Oracle JDBC Implementation for Result Set Scrollability</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Because the underlying server does <span class="italic">not</span> support scrollable cursors, Oracle JDBC must implement scrollability in a separate layer.
                     </p>
                     <p>It is important to be aware that this is accomplished by using a client-side memory cache to store rows of a scrollable result set.</p>
                     <div class="infoboxnote" id="GUID-41D05006-5470-4C1C-ACA0-A4B487B4D1C0__GUID-9B41789F-4F04-404B-9D40-24F16CA291B0">
                        <p class="notep1">Note:</p>
                        <p>Because all rows of any scrollable result set are stored in the client-side cache, a situation, where the result set contains many rows, many columns, or very large columns, might cause the client-side Java Virtual Machine (JVM) to fail. Do not specify scrollability for a large result set.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-41D05006-5470-4C1C-ACA0-A4B487B4D1C0__GUID-08094B4D-2ED1-4FB7-B07C-D14D7C57DE50">Oracle JDBC Implementation for Result Set Updatability</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>To support updatability, Oracle JDBC uses <code class="codeph">ROWID</code> to uniquely identify database rows that appear in a result set. For every query into an updatable result set, Oracle JDBC driver automatically retrieves the <code class="codeph">ROWID</code> along with the columns you select.
                     </p>
                     <div class="infoboxnote" id="GUID-41D05006-5470-4C1C-ACA0-A4B487B4D1C0__GUID-DEECF8A1-5238-4BE3-BA09-9F8BD3119E4A">
                        <p class="notep1">Note:</p>
                        <p>Client-side caching is not required by updatability in and of itself. In particular, a forward-only updatable result set will not require a client-side cache.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28616"></a><a id="JJDBC28617"></a><a id="JJDBC28618"></a><a id="JJDBC28619"></a><a id="JJDBC28615"></a><div class="props_rev_3"><a id="GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A" name="GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A"></a><h3 id="JJDBC-GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A" class="sect3"><span class="enumeration_section">17.2 </span>Resultset Limitations and Downgrade Rules
               </h3>
               <div>
                  <div class="section">
                     <p>Some types of result sets are not feasible for certain kinds of queries. If you specify an unfeasible result set type or concurrency type for the query you run, then the JDBC driver follows a set of rules to determine the best feasible types to use instead.</p>
                     <p>The actual result set type and concurrency type are determined when the statement is run, with the driver issuing a <code class="codeph">SQLWarning</code> on the statement object if the desired result set type or concurrency type is not feasible. The <code class="codeph">SQLWarning</code> object will contain the reason why the requested type was not feasible. Check for warnings to verify whether you received the type of result set that you requested.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A__GUID-BFDF8097-D345-45D6-B977-40CB39564C6B">Result Set Limitations</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following limitations are placed on queries for enhanced result sets. Failure to follow these guidelines results in the JDBC driver choosing an alternative result set type or concurrency type.</p>
                     <p>To produce an upd<a id="d60274e187" class="indexterm-anchor"></a>atable result set:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A query can select from only a single table and cannot contain any join operations.</p>
                           <p>In addition, for inserts to be feasible, the query must select all non-nullable columns and all columns that do not have a default value.</p>
                        </li>
                        <li>
                           <p>A query cannot use <code class="codeph">SELECT *</code> .
                           </p>
                           <p>However, there is a workaround for this.</p>
                        </li>
                        <li>
                           <p>A query must select table columns only.</p>
                           <p>It cannot select derived columns or aggregates, such as the <code class="codeph">SUM</code> or <code class="codeph">MAX</code> of a set of columns. 
                           </p>
                        </li>
                     </ul>
                     <p>To produce a scr<a id="d60274e219" class="indexterm-anchor"></a>oll-sensitive result set:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A query cannot use <code class="codeph">SELECT *</code> .
                           </p>
                           <p>However, there is a workaround for this.</p>
                        </li>
                        <li>
                           <p>A query can select from only a single table.</p>
                        </li>
                     </ul>
                     <p>Scrollable and updatable result sets cannot have any column as <code class="codeph">Stream</code>. When the server has to fetch a <code class="codeph">Stream</code> column, it reduces the fetch size to one and blocks all columns following the <code class="codeph">Stream</code> column until the <code class="codeph">Stream</code> column is read. As a result, columns cannot be fetched in bulk and scrolled through.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A__GUID-030C5DF2-DA56-4091-8002-3077632C2645">Workaround</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>As a workaround for the <code class="codeph">SELECT *</code> limitation, you can use table aliases, as shown in the following example:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT t.* FROM TABLE t ...
</pre><div class="infoboxnote" id="GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A__GUID-FCF14CE8-725D-4B3B-AE2F-FEC770374F2A">
                        <p class="notep1">Note:</p>
                        <p>There is a simple way to determine if your query will probably produce a scroll-sensitive or updatable result set: If you can legally add a <code class="codeph">ROWID</code> column to the query list, then the query is probably suitable for either a scroll-sensitive or an updatable result set.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A__GUID-ECB4DFDF-038A-4594-B5E8-291836D0367D">Result Set Downgrade Rules</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>If the specified result set type or concurrency type is not feasible, then Oracle JDBC driver uses the following rules in choosing alternate types:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the specified result set type is <code class="codeph">TYPE_SCROLL_SENSITIVE</code>, but the JDBC driver cannot fulfill that request, then the driver attempts a downgrade to <code class="codeph">TYPE_SCROLL_INSENSITIVE</code>.
                           </p>
                        </li>
                        <li>
                           <p>If the specified or downgraded result set type is <code class="codeph">TYPE_SCROLL_INSENSITIVE</code>, but the JDBC driver cannot fulfill that request, then the driver attempts a downgrade to <code class="codeph">TYPE_FORWARD_ONLY</code>.
                           </p>
                        </li>
                        <li>
                           <p>If the specified concurrency type is <code class="codeph">CONCUR_UPDATABLE</code>, but the JDBC driver cannot fulfill that request, then the JDBC driver attempts a downgrade to <code class="codeph">CONCUR_READ_ONLY</code>.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A__GUID-421E8A9F-17AC-4F4E-96CE-FA8016FFE254">
                        <p class="notep1">Note:</p>
                        <p>Any manipulations of the result set type and concurrency type by the JDBC driver are independent of each other.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A__GUID-938ED844-5BB8-4425-8D49-36C652EC6E8B">Verifying Result Set Type and Concurrency Type</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>After a query has been run, you can verify the result set type and concurrency type that the JDBC driver actually used, by calling methods on the result set object.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">int getType() throws SQLException</code></p>
                           <p>This method returns an <code class="codeph">int</code> value for the result set type used for the query. <code class="codeph">ResultSet.TYPE_FORWARD_ONLY</code>, <code class="codeph">ResultSet.TYPE_SCROLL_SENSITIVE</code>, or <code class="codeph">ResultSet.TYPE_SCROLL_INSENSITIVE</code> are the possible values.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">int getConcurrency() throws SQLException</code></p>
                           <p>This method returns an <code class="codeph">int</code> value for the concurrency type used for the query. <code class="codeph">ResultSet.CONCUR_READ_ONLY</code> or <code class="codeph">ResultSet.CONCUR_UPDATABLE</code> are the possible values.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28620"></a><div class="props_rev_3"><a id="GUID-EADCCA6E-E90A-4CA5-9F0A-D68DA3E4163A" name="GUID-EADCCA6E-E90A-4CA5-9F0A-D68DA3E4163A"></a><h3 id="JJDBC-GUID-EADCCA6E-E90A-4CA5-9F0A-D68DA3E4163A" class="sect3"><span class="enumeration_section">17.3 </span>About Avoiding Update Conflicts
               </h3>
               <div>
                  <p>It is important to be aware of the following facts regarding updatable result sets with the JDBC drivers:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The drivers do not enforce write locks for an updatable result set.</p>
                     </li>
                     <li>
                        <p>The drivers do not check for conflicts with a result set <code class="codeph">DELETE</code> or <code class="codeph">UPDATE</code> operation.
                        </p>
                     </li>
                  </ul>
                  <p>A conflict will occur if you try to perform a <code class="codeph">DELETE</code> or <code class="codeph">UPDATE</code> operation on a row updated by another committed transaction.
                  </p>
                  <p>Oracle JDBC drivers use the <code class="codeph">ROWID</code> to uniquely identify a row in a database table. As long as the <code class="codeph">ROWID</code> is valid when a driver tries to send an <code class="codeph">UPDATE</code> or <code class="codeph">DELETE</code> operation to the database, the operation will be run.
                  </p>
                  <p>The driver will not report any changes made by another committed transaction. Any conflicts are silently ignored and your changes will overwrite the previous changes.</p>
                  <p>To avoid such conflicts, use the Oracle <code class="codeph">FOR UPDATE</code> feature when running the query that produces the result set. This will avoid conflicts, but will also prevent simultaneous access to the data. Only a single write lock can be held concurrently on a data item.
                  </p>
               </div>
            </div><a id="JJDBC28621"></a><div class="props_rev_3"><a id="GUID-BD27B43E-525F-44C4-973F-18D2BB8BA007" name="GUID-BD27B43E-525F-44C4-973F-18D2BB8BA007"></a><h3 id="JJDBC-GUID-BD27B43E-525F-44C4-973F-18D2BB8BA007" class="sect3"><span class="enumeration_section">17.4 </span>Row Fetch Size
               </h3>
               <div>
                  <p>By default, when Oracle JDBC runs a query, it retrieves a result set of 10 rows at a time from the database cursor. This is the default Oracle row fetch size value. You can change the number of rows retrieved with each trip to the database cursor by changing the row fetch size value.</p>
                  <p>Standard JDBC also enables you to specify the number of rows fetched with each database round-trip for a query, and this number is referred to as the fetch size. In Oracle JDBC, the row-prefetch value is used as the default fetch size in a statement object. Setting the fetch size overrides the row-prefetch setting and affects subsequent queries run through that statement object. </p>
                  <p>Fetch size is also used in a result set. When the statement object run a query, the fetch size of the statement object is passed to the result set object produced by the query. However, you can also set the fetch size in the result set object to override the statement fetch size that was passed to it.</p>
                  <div class="infoboxnote" id="GUID-BD27B43E-525F-44C4-973F-18D2BB8BA007__GUID-D098C24F-D641-4BFE-A6F7-296D1B407A8A">
                     <p class="notep1">Note:</p>
                     <p>Changes made to the fetch size of a statement object after a result set is produced will have no affect on that result set.</p>
                  </div>
                  <p>The result set fetch size, either set explicitly, or by default equal to the statement fetch size that was passed to it, determines the number of rows that are retrieved in any subsequent trips to the database for that result set. This includes any trips that are still required to complete the original query, as well as any refetching of data into the result set. Data can be refetched, either explicitly or implicitly, to update a scroll-sensitive or scroll-insensitive/updatable result set.</p>
               </div><a id="JJDBC28622"></a><div class="props_rev_3"><a id="GUID-51BCFF01-EFB5-4134-9D08-93BFDDA10B40" name="GUID-51BCFF01-EFB5-4134-9D08-93BFDDA10B40"></a><h4 id="JJDBC-GUID-51BCFF01-EFB5-4134-9D08-93BFDDA10B40" class="sect4"><span class="enumeration_section">17.4.1 </span>Setting the Fetch Size
                  </h4>
                  <div>
                     <div class="section">
                        <p>The following methods are available in all <code class="codeph">Statement</code>, <code class="codeph">PreparedStatement</code>, <code class="codeph">CallableStatement</code>, and <code class="codeph">ResultSet</code> objects for setting and getting the fetch size:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">void setFetchSize(int rows) throws SQLException</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">int getFetchSize() throws SQLException</code></p>
                           </li>
                        </ul>
                        <p>To set the fetch size for a query, call <code class="codeph">setFetchSize</code> on the statement object prior to running the query. If you set the fetch size to N, then N rows are fetched with each trip to the database.
                        </p>
                        <p>After you have run the query, you can call <code class="codeph">setFetchSize</code> on the result set object to override the statement object fetch size that was passed to it. This will affect any subsequent trips to the database to get more rows for the original query, as well as affecting any later refetching of rows.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28623"></a><div class="props_rev_3"><a id="GUID-CDDECEC2-3005-4A66-B5F5-5707DC37981F" name="GUID-CDDECEC2-3005-4A66-B5F5-5707DC37981F"></a><h4 id="JJDBC-GUID-CDDECEC2-3005-4A66-B5F5-5707DC37981F" class="sect4"><span class="enumeration_section">17.4.2 </span>Presetting the Fetch Direction
                  </h4>
                  <div>
                     <div class="section">
                        <p>The standard JDBC enables to pre-specify the direction, known as the fetch direction, for use in processing a result set. This allows the JDBC driver to optimize its processing. The following result set methods are specified:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">void setFetchDirection(int direction) throws SQLException</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">int getFetchDirection() throws SQLException</code></p>
                           </li>
                        </ul>
                        <p>Oracle JDBC drivers support only the forward preset value, which you can specify by entering the <code class="codeph">ResultSet.FETCH_FORWARD</code> static constant value. 
                        </p>
                        <p>The values <code class="codeph">ResultSet.FETCH_REVERSE</code> and <code class="codeph">ResultSet.FETCH_UNKNOWN</code> are not supported. Attempting to specify them causes a SQL warning, and the settings are ignored.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28624"></a><div class="props_rev_3"><a id="GUID-264DC004-D0F0-4BD4-935C-438FD46DB412" name="GUID-264DC004-D0F0-4BD4-935C-438FD46DB412"></a><h3 id="JJDBC-GUID-264DC004-D0F0-4BD4-935C-438FD46DB412" class="sect3"><span class="enumeration_section">17.5 </span>About Refetching Rows
               </h3>
               <div>
                  <p>The result set <code class="codeph">refreshRow</code> method is supported for some types of result sets for refetching data. This consists of going back to the database to re-obtain the database rows that correspond to <span class="italic">n</span> rows in the result set, starting with the current row, where <span class="italic">n</span> is the fetch size. This lets you see the latest updates to the database that were made outside of your result set, subject to the isolation level of the enclosing transaction.
                  </p>
                  <p>Because refetching re-obtains only rows that correspond to rows already in your result set, it does nothing about rows that have been inserted or deleted in the database since the original query. It ignores rows that have been inserted, and rows will remain in your result set even after the corresponding rows have been deleted from the database. When there is an attempt to refetch a row that has been deleted in the database, the corresponding row in the result set will maintain its original values.</p>
                  <div class="infoboxnote" id="GUID-264DC004-D0F0-4BD4-935C-438FD46DB412__GUID-83992638-31D8-4BD9-A8F4-EAD2A9D17DE7">
                     <p class="notep1">Note:</p>
                     <p>If you declare a <code class="codeph">TYPE_SCROLL_SENSITIVE</code> Result Set based on a query with certain criteria and then externally update the row so that the column values no longer match the query criteria, the driver behaves as if the row has been deleted from the database and the row is not retrieved by the query issued. So, you do not see the updates to the particular row when you call the <code class="codeph">refreshRow</code> method.
                     </p>
                  </div>
                  <p>Following is the signature of the <code class="codeph">refreshRow</code> method:
                  </p><pre class="oac_no_warn" dir="ltr">void refreshRow() throws SQLException
</pre><p>You must be at a valid current row when you call this method, not outside the row bounds and not at the insert-row.</p>
                  <p>The <code class="codeph">refreshRow</code> method is supported for the following result set categories:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>scroll-sensitive/read-only</p>
                     </li>
                     <li>
                        <p>scroll-sensitive/updatable</p>
                     </li>
                     <li>
                        <p>scroll-insensitive/updatable</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-264DC004-D0F0-4BD4-935C-438FD46DB412__GUID-C0D61A15-01DE-4B84-A661-8CE091327277">
                     <p class="notep1">Note:</p>
                     <p>Scroll-sensitive result set functionality is implemented through implicit calls to <code class="codeph">refreshRow</code>.
                     </p>
                  </div>
               </div>
            </div><a id="JJDBC28625"></a><div class="props_rev_3"><a id="GUID-8360DD85-DBCE-485A-9E22-F7B7A5904D63" name="GUID-8360DD85-DBCE-485A-9E22-F7B7A5904D63"></a><h3 id="JJDBC-GUID-8360DD85-DBCE-485A-9E22-F7B7A5904D63" class="sect3"><span class="enumeration_section">17.6 </span>About Viewing Database Changes Made Internally and Externally
               </h3>
               <div>
                  <p>This section discusses the ability of a result set to view the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Own changes of the result set, referred to as inter<a id="d60274e694" class="indexterm-anchor"></a>nal changes
                        </p>
                     </li>
                     <li>
                        <p>Changes made from elsewhere, either from your own transaction outside the result set, or from other committed transactions, referred to as exter<a id="d60274e702" class="indexterm-anchor"></a>nal changes
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-8360DD85-DBCE-485A-9E22-F7B7A5904D63__GUID-C7EC35EF-7726-4B80-B399-82BB6F63C1E9">
                     <p class="notep1">Note:</p>
                     <p>External changes are referred to as other's changes in the standard JDBC specification.</p>
                  </div>
                  <p>This section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="resultset.html#GUID-71728FB5-5112-4204-B563-A40D8C5FD783">Visibility versus Detection of External Changes</a></p>
                     </li>
                     <li>
                        <p><a href="resultset.html#GUID-261E6F26-6213-409E-B8E0-BA03A0F3A0F7">Summary of Visibility of Internal and External Changes</a></p>
                     </li>
                     <li>
                        <p><a href="resultset.html#GUID-F29ED77D-7BD2-4044-94F2-F53A0739701F">Oracle Implementation of Scroll-Sensitive Result Sets</a></p>
                     </li>
                  </ul>
               </div><a id="JJDBC28626"></a><div class="props_rev_3"><a id="GUID-71728FB5-5112-4204-B563-A40D8C5FD783" name="GUID-71728FB5-5112-4204-B563-A40D8C5FD783"></a><h4 id="JJDBC-GUID-71728FB5-5112-4204-B563-A40D8C5FD783" class="sect4"><span class="enumeration_section">17.6.1 </span>Visibility versus Detection of External Changes
                  </h4>
                  <div>
                     <p>Regarding the changes made to an underlying database by external sources, there are two similar but distinct concepts with respect to visibility of the changes from your local result set:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Visibility of changes</p>
                        </li>
                        <li>
                           <p>Detection of changes</p>
                        </li>
                     </ul>
                     <p>A "visible" change means that when you look at a row in the result set, you can see new data values from changes made by external sources, to the corresponding row in the database.</p>
                     <p>A "detected" change, however, means that the result set is aware that this is a new value since the result set was first populated.</p>
                     <p>Even when an Oracle result set sees new data, as with an external <code class="codeph">UPDATE</code> in a scroll-sensitive result set, it has no awareness that this data has changed since the result set was populated. Such changes are not detected.
                     </p>
                  </div>
               </div><a id="JJDBC28628"></a><a id="JJDBC28627"></a><div class="props_rev_3"><a id="GUID-261E6F26-6213-409E-B8E0-BA03A0F3A0F7" name="GUID-261E6F26-6213-409E-B8E0-BA03A0F3A0F7"></a><h4 id="JJDBC-GUID-261E6F26-6213-409E-B8E0-BA03A0F3A0F7" class="sect4"><span class="enumeration_section">17.6.2 </span>Summary of Visibility of Internal and External Changes
                  </h4>
                  <div>
                     <div class="section">
                        <p><a href="resultset.html#GUID-261E6F26-6213-409E-B8E0-BA03A0F3A0F7__g1026797" title="table">Table 17-1</a> summarizes how a result set object in the Oracle JDBC implementation can see changes made internally through the result set itself, and changes made externally to the underlying database from elsewhere in your transaction or from other committed transactions.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-261E6F26-6213-409E-B8E0-BA03A0F3A0F7__g1026797">
                        <p class="titleintable">Table 17-1 Visibility of Internal and External Changes for Oracle JDBC</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Visibility of Internal and External Changes for Oracle JDBC" summary="table" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="21%" id="d60274e833">Result Set Type</th>
                                 <th align="left" valign="bottom" width="13%" id="d60274e836">Can See Internal DELETE?</th>
                                 <th align="left" valign="bottom" width="13%" id="d60274e839">Can See Internal UPDATE?</th>
                                 <th align="left" valign="bottom" width="13%" id="d60274e842">Can See Internal INSERT?</th>
                                 <th align="left" valign="bottom" width="13%" id="d60274e845">Can See External DELETE?</th>
                                 <th align="left" valign="bottom" width="14%" id="d60274e848">Can See External UPDATE?</th>
                                 <th align="left" valign="bottom" width="14%" id="d60274e851">Can See External INSERT?</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d60274e856" headers="d60274e833 ">
                                    <p>forward-only</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e856 d60274e836 ">
                                    <p>no</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e856 d60274e839 ">
                                    <p>yes</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e856 d60274e842 ">
                                    <p>no</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e856 d60274e845 ">
                                    <p>no</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d60274e856 d60274e848 ">
                                    <p>no</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d60274e856 d60274e851 ">
                                    <p>no</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d60274e878" headers="d60274e833 ">
                                    <p>scroll-sensitive</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e878 d60274e836 ">
                                    <p>yes</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e878 d60274e839 ">
                                    <p>yes</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e878 d60274e842 ">
                                    <p>no</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e878 d60274e845 ">
                                    <p>no</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d60274e878 d60274e848 ">
                                    <p>yes</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d60274e878 d60274e851 ">
                                    <p>no</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d60274e900" headers="d60274e833 ">
                                    <p>scroll-insensitive</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e900 d60274e836 ">
                                    <p>yes</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e900 d60274e839 ">
                                    <p>yes</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e900 d60274e842 ">
                                    <p>no</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e900 d60274e845 ">
                                    <p>no</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d60274e900 d60274e848 ">
                                    <p>no</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d60274e900 d60274e851 ">
                                    <p>no</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-261E6F26-6213-409E-B8E0-BA03A0F3A0F7__GUID-D07BE092-0156-4028-A3B2-1D6B43A94419">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Remember that explicit use of the <code class="codeph">refreshRow</code> method, is distinct from the concept of visibility of external changes.
                                 </p>
                              </li>
                              <li>
                                 <p>Remember that even when external changes are visible, as with <code class="codeph">UPDATE</code> operations underlying a scroll-sensitive result set, they are not detected. The result set <code class="codeph">rowDeleted</code>, <code class="codeph">rowUpdated</code>, and <code class="codeph">rowInserted</code> methods always return <code class="codeph">false</code>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28629"></a><div class="props_rev_3"><a id="GUID-F29ED77D-7BD2-4044-94F2-F53A0739701F" name="GUID-F29ED77D-7BD2-4044-94F2-F53A0739701F"></a><h4 id="JJDBC-GUID-F29ED77D-7BD2-4044-94F2-F53A0739701F" class="sect4"><span class="enumeration_section">17.6.3 </span>Oracle Implementation of Scroll-Sensitive Result Sets
                  </h4>
                  <div>
                     <p>The Oracle implementation of scroll-sensitive result sets involves the concept of a wind<a id="d60274e979" class="indexterm-anchor"></a>ow, with a window size that is based on the fetch size. The window size affects how often rows are updated in the result set.
                     </p>
                     <p>Once you establish a current row by moving to a specified row, the window consists of the <span class="italic">n</span> rows in the result set starting with that row, where <span class="italic">n</span> is the fetch size being used by the result set. Note that there is no current row, and therefore no window, when a result set is first created. The default position is before the first row, which is not a valid current row.
                     </p>
                     <p>As you move from row to row, the window remains unchanged as long as the current row stays within that window. However, once you move to a new current row outside the window, you redefine the window to be the N rows starting with the new current row.</p>
                     <p>Whenever the window is redefined, the N rows in the database corresponding to the rows in the new window are automatically refetched through an implicit call to the <code class="codeph">refreshRow</code> method, thereby updating the data throughout the new window.
                     </p>
                     <p>So external updates are not instantaneously visible in a scroll-sensitive result set. They are only visible after the automatic refetches just described.</p>
                     <div class="infoboxnote" id="GUID-F29ED77D-7BD2-4044-94F2-F53A0739701F__GUID-23FE8EAC-CAB1-44A7-8883-81021FA544DD">
                        <p class="notep1">Note:</p>
                        <p>This kind of refetching is not a highly efficient or optimized methodology and it has significant performance concerns. Consider carefully before using scroll-sensitive result sets as currently implemented. There is also a significant trade-off between sensitivity and performance. The most sensitive result set is one with a fetch size of 1, which would result in the new current row being refetched every time you move between rows. However, this would have a significant impact on the performance of your application.</p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>