<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Privilege analysis dynamically analyzes the privileges and roles that users use and do not use.">
      <meta name="description" content="Privilege analysis dynamically analyzes the privileges and roles that users use and do not use.">
      <title>Performing Privilege Analysis to&nbsp;Find&nbsp;Privilege&nbsp;Use</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Security Guide ">
      <meta property="og:description" content="Privilege analysis dynamically analyzes the privileges and roles that users use and do not use.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Security Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-security-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-28T14:57:12-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96299-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="configuring-privilege-and-role-authorization.html" title="Previous" type="text/html">
      <link rel="next" href="integrating_mads_with_oracle_database.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Security Guide">
    <meta name="dcterms.isVersionOf" content="DBSEG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-privilege-and-role-authorization.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="integrating_mads_with_oracle_database.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Security Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part_1.html" property="item" typeof="WebPage"><span property="name">Managing User Authentication and&nbsp;Authorization</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Performing Privilege Analysis to&nbsp;Find&nbsp;Privilege&nbsp;Use</li>
            </ol>
            <a id="GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" name="GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186"></a>
            
            <h2 id="DBSEG-GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" class="sect2"><span class="enumeration_chapter">5 </span>Performing Privilege Analysis to&nbsp;Find&nbsp;Privilege&nbsp;Use
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Privilege analysis dynamically analyzes the privileges and roles that users use and do not use.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C">What Is Privilege Analysis?</a><br>Privilege analysis increases the security of your applications and database operations by helping you to implement least privilege best practices for database roles and privileges. 
                  </li>
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D">Creating and Managing Privilege Analysis Policies</a><br>You can create and manage privilege analysis policies in either SQL*Plus or in Enterprise Manager Cloud Control. 
                  </li>
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA">Creating Roles and Managing Privileges Using Cloud Control</a><br>You can create new roles using privileges found in a privilege analysis report and then grant this role to users. 
                  </li>
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13">Tutorial: Using Capture Runs to Analyze ANY Privilege Use</a><br>This tutorial demonstrates how to create capture runs to analyze the use of the <code class="codeph">READ ANY TABLE</code> system privilege.
                  </li>
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E">Tutorial: Analyzing Privilege Use by a User Who Has the DBA Role</a><br>This tutorial demonstrates how to analyze the privilege use of a user who has the <code class="codeph">DBA</code> role and performs database tuning operations. 
                  </li>
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112">Privilege Analysis Policy and Report Data Dictionary Views</a><br>Oracle Database provides data dictionary views that show information about analyzed privileges.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="part_1.html" title="Part I describes how to manage user authentication and authorization.">Managing User Authentication and&nbsp;Authorization</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" name="GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C"></a><h3 id="DBSEG-GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" class="sect3">What Is Privilege Analysis?</h3>
               <div>
                  <p>Privilege analysis increases the security of your applications and database operations by helping you to implement least privilege best practices for database roles and privileges. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-DE3DC8D3-4357-4DC7-B66F-62356911076E">About Privilege Analysis</a><br>Running inside the Oracle Database kernel, privilege analysis helps reduce the attack surface of user, tooling, and application accounts by identifying used and unused privileges to implement the least-privilege model.
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-280C672A-5399-4823-8F8B-09F3135DF5DD">Benefits and Use Cases of Privilege Analysis</a><br>Analyzing privilege use is beneficial in finding unnecessarily granted privileges and implementing least privilege best practices.
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-43F5F696-8414-4A47-B609-F9FB134C9175">Who Can Perform Privilege Analysis?</a><br>To use privilege analysis, you must be granted the <code class="codeph">CAPTURE_ADMIN</code> role.
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-087DF0BE-E64E-4097-815D-49FF86703F6D">Types of Privilege Analysis</a><br>You can create different types of privilege analysis policies to achieve specific goals.
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-AD683DDB-D345-4702-B1F4-37B79F276B66">How Does a Multitenant Environment Affect Privilege Analysis?</a><br>You can create and use privilege analysis policies in a multitenant environment.
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-77961026-AD82-4BD2-98B0-70A74DD3FAA0">How Privilege Analysis Works with Pre-Compiled Database Objects</a><br>Privilege analysis can be used to capture the privileges that have been exercised on pre-compiled database objects. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="Privilege analysis dynamically analyzes the privileges and roles that users use and do not use.">Performing Privilege Analysis to&nbsp;Find&nbsp;Privilege&nbsp;Use</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-DE3DC8D3-4357-4DC7-B66F-62356911076E" name="GUID-DE3DC8D3-4357-4DC7-B66F-62356911076E"></a><h4 id="DBSEG-GUID-DE3DC8D3-4357-4DC7-B66F-62356911076E" class="sect4">About Privilege Analysis</h4>
                  <div>
                     <p>Running inside the Oracle Database kernel, privilege analysis helps reduce the attack surface of user, tooling, and application accounts by identifying used and unused privileges to implement the least-privilege model.</p>
                     <p>Privilege analysis dynamically captures privileges used by database users and applications. The use of privilege analysis can help to quickly and efficiently enforce least privilege guidelines. In the least-privilege model, users are only given the privileges and access they need to do their jobs. Frequently, even though users perform different tasks, users are all granted the same set of powerful privileges. Without privilege analysis, figuring out the privileges that each user must have can be hard work and in many cases, users could end up with some common set of privileges even though they have different tasks. Even in organizations that manage privileges, users tend to accumulate privileges over time and rarely lose any privileges. Separation of duty breaks a single process into separate tasks for different users. Least privileges enforces the separation so users can only do their required tasks. The enforcement of separation of duty is beneficial for internal control, but it also reduces the risk from malicious users who steal privileged credentials. </p>
                     <p>Privilege analysis captures privileges used by database users and applications at runtime and writes its findings to data dictionary views that you can query. If your applications include definer’s rights and invoker’s rights procedures, then privilege analysis captures the privileges that are required to compile a procedure and execute it, even if the procedure was compiled before the privilege capture was created and enabled. </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="Privilege analysis increases the security of your applications and database operations by helping you to implement least privilege best practices for database roles and privileges.">What Is Privilege Analysis?</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-280C672A-5399-4823-8F8B-09F3135DF5DD" name="GUID-280C672A-5399-4823-8F8B-09F3135DF5DD"></a><h4 id="DBSEG-GUID-280C672A-5399-4823-8F8B-09F3135DF5DD" class="sect4">Benefits and Use Cases of Privilege Analysis</h4>
                  <div>
                     <p>Analyzing privilege use is beneficial in finding unnecessarily granted privileges and implementing least privilege best practices.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-A67ECE4F-0FDB-45B8-A202-6C15C0F15960">Least Privileges Best Practice</a><br>The privileges of the account that accesses a database should be limited to the privileges that are strictly required by the application or the user. 
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-46EDA5CF-3C7F-4C24-9EC6-C227F7BD306C">Development of Secure Applications</a><br>During the application development phase, some administrators may grant many powerful system privileges and roles to application developers. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="Privilege analysis increases the security of your applications and database operations by helping you to implement least privilege best practices for database roles and privileges.">What Is Privilege Analysis?</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-A67ECE4F-0FDB-45B8-A202-6C15C0F15960" name="GUID-A67ECE4F-0FDB-45B8-A202-6C15C0F15960"></a><h5 id="DBSEG-GUID-A67ECE4F-0FDB-45B8-A202-6C15C0F15960" class="sect5">Least Privileges Best Practice</h5>
                     <div>
                        <p>The privileges of the account that accesses a database should be limited to the privileges that are strictly required by the application or the user. </p>
                        <p>But when an application is developed, especially by a third party, more privileges than necessary may be granted to the application connection pool accounts for convenience. In addition, some developers grant system and application object privileges to the <code class="codeph">PUBLIC</code> role.
                        </p>
                        <p>For example, to select from application data and run application procedures, the system privileges <code class="codeph">SELECT ANY TABLE</code> and <code class="codeph">EXECUTE ANY PROCEDURE</code> are granted to an application account <code class="codeph">appsys</code>. The account <code class="codeph">appsys</code> now can access non-application data even if he or she does not intend to. In this situation, you can analyze the privilege usage by user <code class="codeph">appsys</code>, and then based on the results, revoke and grant privileges as necessary. 
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-280C672A-5399-4823-8F8B-09F3135DF5DD" title="Analyzing privilege use is beneficial in finding unnecessarily granted privileges and implementing least privilege best practices.">Benefits and Use Cases of Privilege Analysis</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-46EDA5CF-3C7F-4C24-9EC6-C227F7BD306C" name="GUID-46EDA5CF-3C7F-4C24-9EC6-C227F7BD306C"></a><h5 id="DBSEG-GUID-46EDA5CF-3C7F-4C24-9EC6-C227F7BD306C" class="sect5">Development of Secure Applications</h5>
                     <div>
                        <p>During the application development phase, some administrators may grant many powerful system privileges and roles to application developers. </p>
                        <p>The administrators may do this because at that stage they may not know what privileges the application developer needs. </p>
                        <p>Once the application is developed and working, the privileges that the application developer needs — and does not need — become more apparent. At that time, the security administrator can begin to revoke unnecessary privileges. However, the application developer may resist this idea on the basis that the application is currently working without problems. The administrator can use privilege analysis to examine each privilege that the application uses, to ensure that when he or she does revoke any privileges, the application will continue to work.</p>
                        <p>For example, <code class="codeph">app_owner</code> is an application database user through whom the application connects to a database. User <code class="codeph">app_owner</code> must query tables in the <code class="codeph">OE</code>, <code class="codeph">SH</code>, and <code class="codeph">PM</code> schemas. Instead of granting the <code class="codeph">SELECT</code> object privilege on each of the tables in these schemas, a security administrator grants the <code class="codeph">SELECT ANY TABLE</code> privilege to <code class="codeph">app_owner</code>. After a while, a new schema, <code class="codeph">HR</code>, is created and sensitive data are inserted into <code class="codeph">HR.EMPLOYEES</code> table. Because user <code class="codeph">app_owner</code> has the <code class="codeph">SELECT ANY TABLE</code> privilege, he can query this table to access its sensitive data, which is a security issue. Instead of granting system privileges (particularly the <code class="codeph">ANY</code> privileges), it is far better to grant object privileges for specific tables. 
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-280C672A-5399-4823-8F8B-09F3135DF5DD" title="Analyzing privilege use is beneficial in finding unnecessarily granted privileges and implementing least privilege best practices.">Benefits and Use Cases of Privilege Analysis</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-43F5F696-8414-4A47-B609-F9FB134C9175" name="GUID-43F5F696-8414-4A47-B609-F9FB134C9175"></a><h4 id="DBSEG-GUID-43F5F696-8414-4A47-B609-F9FB134C9175" class="sect4">Who Can Perform Privilege Analysis?</h4>
                  <div>
                     <p>To use privilege analysis, you must be granted the <code class="codeph">CAPTURE_ADMIN</code> role.
                     </p>
                     <p>You use the <code class="codeph">DBMS_PRIVILEGE_CAPTURE</code> PL/SQL package to manage privilege capture. You use the data dictionary views provided by privilege analysis to analyze your privilege use.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="Privilege analysis increases the security of your applications and database operations by helping you to implement least privilege best practices for database roles and privileges.">What Is Privilege Analysis?</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-087DF0BE-E64E-4097-815D-49FF86703F6D" name="GUID-087DF0BE-E64E-4097-815D-49FF86703F6D"></a><h4 id="DBSEG-GUID-087DF0BE-E64E-4097-815D-49FF86703F6D" class="sect4">Types of Privilege Analysis</h4>
                  <div>
                     <p>You can create different types of privilege analysis policies to achieve specific goals.</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Role-based privilege use capture.</span> You must provide a list of roles. If the roles in the list are enabled in the database session, then the used privileges for the session will be captured. You can capture privilege use for the following types of roles: Oracle default roles, user-created roles, Code Based Access Control (CBAC) roles, and secure application roles. 
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Context-based privilege use capture.</span> You must specify a Boolean expression only with the <code class="codeph">SYS_CONTEXT</code> function. The used privileges will be captured if the condition evaluates to <code class="codeph">TRUE</code>. This method can be used to capture privileges and roles used by a database user by specifying the user in <code class="codeph">SYS_CONTEXT</code>.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Role- and context-based privilege use capture.</span> You must provide both a list of roles that are enabled and a <code class="codeph">SYS_CONTEXT</code> Boolean expression for the condition. When any of these roles is enabled in a session and the given context condition is satisfied, then privilege analysis starts capturing the privilege use.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Database-wide privilege capture.</span> If you do not specify any type in your privilege analysis policy, then the used privileges in the database will be captured, except those for the user <code class="codeph">SYS</code>. (This is also referred to as unconditional analysis, because it is turned on without any conditions.)
                           </p>
                        </li>
                     </ul>
                     <p>Note the following restrictions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You can enable only one privilege analysis policy at a time. The only exception is that you can enable a database-wide privilege analysis policy at the same time as a non-database-wide privilege analysis policy, such as a role or context attribute-driven analysis policy.</p>
                        </li>
                        <li>
                           <p>You cannot analyze the privileges of the <code class="codeph">SYS</code> user. 
                           </p>
                        </li>
                        <li>
                           <p>Privilege analysis shows the grant paths to the privilege but it does not suggest which grant path to keep. </p>
                        </li>
                        <li>
                           <p>If the role, user, or object has been dropped, then the values that reflect the privilege captures for these in the privilege analysis data dictionary views are dropped as well. </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="Privilege analysis increases the security of your applications and database operations by helping you to implement least privilege best practices for database roles and privileges.">What Is Privilege Analysis?</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-AD683DDB-D345-4702-B1F4-37B79F276B66" name="GUID-AD683DDB-D345-4702-B1F4-37B79F276B66"></a><h4 id="DBSEG-GUID-AD683DDB-D345-4702-B1F4-37B79F276B66" class="sect4">How Does a Multitenant Environment Affect Privilege Analysis?</h4>
                  <div>
                     <p>You can create and use privilege analysis policies in a multitenant environment.</p>
                     <p>If you are using a multitenant environment, then you can create privilege analysis policies in either the CDB root or in individual PDBs. The privilege analysis policy applies only to the container in which it is created, either to the privileges used within the CDB root or the application root, or to the privileges used within a PDB. It cannot be applied globally throughout the multitenant environment. You can grant the <code class="codeph">CAPTURE_ADMIN</code> role locally to a local user or a common user. You can grant the <code class="codeph">CAPTURE_ADMIN</code> role commonly to common users.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="Privilege analysis increases the security of your applications and database operations by helping you to implement least privilege best practices for database roles and privileges.">What Is Privilege Analysis?</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-77961026-AD82-4BD2-98B0-70A74DD3FAA0" name="GUID-77961026-AD82-4BD2-98B0-70A74DD3FAA0"></a><h4 id="DBSEG-GUID-77961026-AD82-4BD2-98B0-70A74DD3FAA0" class="sect4">How Privilege Analysis Works with Pre-Compiled Database Objects</h4>
                  <div>
                     <p>Privilege analysis can be used to capture the privileges that have been exercised on pre-compiled database objects. </p>
                     <p>Examples of these objects are PL/SQL packages, procedures, functions, views, triggers, and Java classes and data. </p>
                     <p>Because these privileges may not be exercised during run time when a stored procedure is called, these privileges are collected when you generate the results for any database-wide capture, along with run-time captured privileges. A privilege is treated as an unused privilege when it is not used in either pre-compiled database objects or run-time capture, and it is saved under the run-time capture name. If a privilege is used for pre-compiled database objects, then it is saved under the capture name <code class="codeph">ORA$DEPENDENCY</code>. If a privilege is captured during run time, then it is saved under the run-time capture name. If you want to know what the used privileges are for both pre-compiled database objects and run-time usage, then you must query both the <code class="codeph">ORA$DEPENDENCY</code> and run-time captures. For unused privileges, you only need to query with the run-time capture name. 
                     </p>
                     <p>To find a full list of the pre-compiled objects on which privilege analysis can be used, query the <code class="codeph">TYPE</code> column of the <code class="codeph">ALL_DEPENDENCIES</code> data dictionary view. 
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="Privilege analysis increases the security of your applications and database operations by helping you to implement least privilege best practices for database roles and privileges.">What Is Privilege Analysis?</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" name="GUID-442371F1-541D-4A1E-BCBF-180C0D88517D"></a><h3 id="DBSEG-GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" class="sect3">Creating and Managing Privilege Analysis Policies</h3>
               <div>
                  <p>You can create and manage privilege analysis policies in either SQL*Plus or in Enterprise Manager Cloud Control. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-E3297105-B1F5-4B49-9CB7-7361EE17E8CE">About Creating and Managing Privilege Analysis Policies</a><br>You can use Oracle Enterprise Manager Cloud Control or the <code class="codeph">DBMS_PRIVILEGE_CAPTURE</code> PL/SQL package to analyze privileges. 
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-41B8439B-2713-43C0-BF51-4FE50A70B705">General Steps for Managing Privilege Analysis</a><br>You must follow a general set of steps to analyze privileges. 
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-C4084ACD-81A0-484A-B668-813CD374AEDD">Creating a Privilege Analysis Policy</a><br>You can use the <code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code> procedure to create a privilege analysis policy.
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-C4A9E2B3-0051-4190-BD23-1F24052B352C">Enabling a Privilege Analysis Policy</a><br>After you create a privilege analysis policy, you must enable it to capture privilege use. 
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6">Examples of Creating and Enabling Privilege Analysis Policies</a><br>You can create a variety of privilege analysis policies. 
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-ECD0AC5D-0EDD-4AF0-84D9-401749659786">Disabling a Privilege Analysis Policy</a><br>You must disable the privilege analysis policy before you can generate a privilege analysis report.
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222">Generating a Privilege Analysis Report</a><br>You can generate a privilege analysis policy report using either Enterprise Manager Cloud Control or from SQL*Plus, using the <code class="codeph">DBMS_PRIVILEGE_CAPTURE</code> PL/SQL package.
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-403B206F-71B5-481E-8FF7-6FEBA2DE1D75">Dropping a Privilege Analysis Policy</a><br>Before you can drop a privilege analysis policy, you must first disable it. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="Privilege analysis dynamically analyzes the privileges and roles that users use and do not use.">Performing Privilege Analysis to&nbsp;Find&nbsp;Privilege&nbsp;Use</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-E3297105-B1F5-4B49-9CB7-7361EE17E8CE" name="GUID-E3297105-B1F5-4B49-9CB7-7361EE17E8CE"></a><h4 id="DBSEG-GUID-E3297105-B1F5-4B49-9CB7-7361EE17E8CE" class="sect4">About Creating and Managing Privilege Analysis Policies</h4>
                  <div>
                     <p>You can use Oracle Enterprise Manager Cloud Control or the <code class="codeph">DBMS_PRIVILEGE_CAPTURE</code> PL/SQL package to analyze privileges. 
                     </p>
                     <p>Before you can do so, you must be granted the <code class="codeph">CAPTURE_ADMIN</code> role. The <code class="codeph">DBMS_PRIVILEGE_CAPTURE</code> package enables you to create, enable, disable, and drop privilege analysis policies. It also generates reports that show the privilege usage, which you can view in <code class="codeph">DBA_*</code> views.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../arpls/index.html" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="You can create and manage privilege analysis policies in either SQL*Plus or in Enterprise Manager Cloud Control.">Creating and Managing Privilege Analysis Policies</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-41B8439B-2713-43C0-BF51-4FE50A70B705" name="GUID-41B8439B-2713-43C0-BF51-4FE50A70B705"></a><h4 id="DBSEG-GUID-41B8439B-2713-43C0-BF51-4FE50A70B705" class="sect4">General Steps for Managing Privilege Analysis</h4>
                  <div>
                     <p>You must follow a general set of steps to analyze privileges. </p>
                     <ol>
                        <li class="stepexpand"><span>Define the privilege analysis policy.</span></li>
                        <li class="stepexpand"><span>Enable the privilege analysis policy.</span><div>
                              <p>This step begins recording the privilege use that the policy defined.  Optionally, specify a name for this capture run. Each time you enable a privilege analysis policy, you can create a different capture run for it. In this way, you can create multiple named capture runs for comparison analysis later on.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span> Optionally, enable the policy to capture dependency privileges if you want to capture the privileges that are used by definer’s rights and invoker’s rights program units. </span></li>
                        <li class="stepexpand"><span>After a sufficient period of time to gather data, disable the privilege analysis policy's recording of privilege use.</span><div>
                              <p>This step stops capturing the privilege use for the policy. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Generate privilege analysis results.</span><div>
                              <p>This step writes the results to the privilege analysis policy and report data dictionary views. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Optionally, disable and then drop the privilege analysis policy and capture run.</span><div>
                              <p>Dropping a privilege analysis policy deletes the data captured by the policy. </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112" title="Oracle Database provides data dictionary views that show information about analyzed privileges.">Privilege Analysis Policy and Report Data Dictionary Views</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="You can create and manage privilege analysis policies in either SQL*Plus or in Enterprise Manager Cloud Control.">Creating and Managing Privilege Analysis Policies</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-C4084ACD-81A0-484A-B668-813CD374AEDD" name="GUID-C4084ACD-81A0-484A-B668-813CD374AEDD"></a><h4 id="DBSEG-GUID-C4084ACD-81A0-484A-B668-813CD374AEDD" class="sect4">Creating a Privilege Analysis Policy </h4>
                  <div>
                     <p>You can use the <code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code> procedure to create a privilege analysis policy.
                     </p>
                     <div class="section">
                        <p> After you create the privilege analysis policy, you can find it listed in the <code class="codeph">DBA_PRIV_CAPTURES</code> data dictionary view. When a policy is created, it resides in the Oracle data dictionary and the <code class="codeph">SYS</code> schema. However, both <code class="codeph">SYS</code> and the user who created the policy can drop it. After you create the policy, you must manually enable it so that it can begin to analyze privilege use. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol id="GUID-C4084ACD-81A0-484A-B668-813CD374AEDD__OL_IL3_SWH_SFB">
                           <li>Log in to the database instance as a user who has the <code class="codeph">CAPTURE_ADMIN</code> role.
                           </li>
                           <li>Use the following syntax for the <code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code> procedure: <pre class="oac_no_warn" dir="ltr">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE(
   name              VARCHAR2, 
   description       VARCHAR2 DEFAULT NULL,<span class="italic"> </span>
   type              NUMBER DEFAULT DBMS_PRIVILEGE_CAPTURE.G_DATABASE, 
   roles             ROLE_NAME_LIST DEFAULT ROLE_NAME_LIST(), 
   condition         VARCHAR2 DEFAULT NULL);
</pre><p>In this specification: </p>
                              <ul style="list-style-type: disc;" id="GUID-C4084ACD-81A0-484A-B668-813CD374AEDD__UL_KDF_ZWH_SFB">
                                 <li>
                                    <p><code class="codeph">name</code>: Specifies the name of the privilege analysis policy to be created. Ensure that this name is unique and no more than 128 characters. You can include spaces in the name, but you must enclose the name in single quotation marks whenever you refer to it. To find the names of existing policies, query the <code class="codeph">NAME</code> column of the <code class="codeph">DBA_PRIV_CAPTURES</code> view.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">description</code>: Describes the purpose of the privilege analysis policy, up to 1024 characters in mixed-case letters. Optional.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">type</code>: Specifies the type of capture condition. If you omit the <code class="codeph">type</code> parameter, then the default is <code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_DATABASE</code>. Optional.
                                    </p>
                                    <p>Enter one of the following types:</p>
                                    <ul style="list-style-type: disc;" id="GUID-C4084ACD-81A0-484A-B668-813CD374AEDD__UL_LDF_ZWH_SFB">
                                       <li>
                                          <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_DATABASE</code>: Captures all privileges used in the entire database, except privileges from user <code class="codeph">SYS</code>. 
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE</code>: Captures privileges for the sessions that have the roles enabled. If you enter <code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE</code> for the <code class="codeph">type</code> parameter, then you must also specify the <code class="codeph">roles</code> parameter. For multiple roles, separate each role name with a comma.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_CONTEXT</code>: Captures privileges for the sessions that have the condition specified by the <code class="codeph">condition</code> parameter evaluating to <code class="codeph">TRUE</code>. If you enter <code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_CONTEXT</code> for the <code class="codeph">type</code> parameter, then you must also specify the <code class="codeph">condition</code> parameter.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE_AND_CONTEXT</code>: Captures privileges for the sessions that have the role enabled and the context condition evaluating to <code class="codeph">TRUE</code>. If you enter <code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE_AND_CONTEXT</code> for the <code class="codeph">type</code> parameter, then you must also specify both the <code class="codeph">roles</code> and <code class="codeph">condition</code> parameters.
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p><code class="codeph">roles</code>: Specifies the roles whose used privileges will be analyzed. That is, if a privilege from one of the given roles is used, then the privilege will be analyzed. You must specify this argument if you specify <code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE</code> or <code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE_AND_CONTEXT</code> for the <code class="codeph">type</code> argument. Each role you enter must exist in the database. (You can find existing roles by querying the <code class="codeph">DBA_ROLES</code> data dictionary view.) For multiple roles, use varray type <code class="codeph">role_name_list</code> to enter the role names. You can specify up to 10 roles. 
                                    </p>
                                    <p>For example, to specify two roles: </p><pre class="oac_no_warn" dir="ltr">roles =&gt; role_name_list('role1', 'role2'),
</pre></li>
                                 <li>
                                    <p><code class="codeph">condition</code>: Specifies a Boolean expression up to 4000 characters. You must specify this argument if you specify <code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_CONTEXT</code> or <code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE_AND_CONTEXT</code> for the <code class="codeph">type</code> argument. Only <code class="codeph">SYS_CONTEXT</code> expressions with relational operators(<code class="codeph">==</code>, <code class="codeph">&gt;</code>, <code class="codeph">&gt;=</code>, <code class="codeph">&lt;</code>, <code class="codeph">&lt;=</code>, <code class="codeph">&lt;&gt;</code>, <code class="codeph">BETWEEN</code>, and <code class="codeph">IN</code>) are permitted in this Boolean expression.
                                    </p>
                                    <p>The <code class="codeph">condition</code> expression syntax is as follows: 
                                    </p><pre class="oac_no_warn" dir="ltr">predicate::= SYS_CONTEXT(<span class="italic">namespace</span>, <span class="italic">attribute</span>) relop <span class="italic">constant_value</span> |
             SYS_CONTEXT(<span class="italic">namespace</span>, <span class="italic">attribute</span>)
             BETWEEN 
             <span class="italic">constant_value</span> 
             AND <span class="italic">constant_value</span> | SYS_CONTEXT(<span class="italic">namespace</span>, <span class="italic">attribute</span>) 
             IN {<span class="italic">constant_value</span> (,<span class="italic">constant_value</span>)* }

relop::= = | &lt; | &lt;= | &gt; | &gt;= | &lt;&gt;

context_expression::= predicate | (context_expression) 
             AND (context_expression) | (context_expression) 
             OR (context_expression )
</pre><p>For example, to use a condition to specify the IP address <code class="codeph">192.0.2.1</code>:
                                    </p><pre class="oac_no_warn" dir="ltr">condition =&gt; 'SYS_CONTEXT(''USERENV'', ''IP_ADDRESS'')=''192.0.2.1''';
</pre></li>
                              </ul>
                              <p>After you create the privilege analysis policy, you must enable the policy to begin capturing privilege and role use.</p>
                           </li>
                        </ol>
                        <p>* You can add as many constant values as you need (for example, <code class="codeph">IN {</code><span class="italic"><code class="codeph">constant_value1</code></span><code class="codeph">}</code>, or <code class="codeph">IN {</code><span class="italic"><code class="codeph">constant_value1</code></span><code class="codeph">,</code> <span class="italic"><code class="codeph">constant_value2</code></span><code class="codeph">, </code><span class="italic"><code class="codeph">constant_value3</code></span><code class="codeph">}</code>).
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-C4A9E2B3-0051-4190-BD23-1F24052B352C" title="After you create a privilege analysis policy, you must enable it to capture privilege use.">Enabling a Privilege Analysis Policy</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="You can create and manage privilege analysis policies in either SQL*Plus or in Enterprise Manager Cloud Control.">Creating and Managing Privilege Analysis Policies</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-C4A9E2B3-0051-4190-BD23-1F24052B352C" name="GUID-C4A9E2B3-0051-4190-BD23-1F24052B352C"></a><h4 id="DBSEG-GUID-C4A9E2B3-0051-4190-BD23-1F24052B352C" class="sect4">Enabling a Privilege Analysis Policy</h4>
                  <div>
                     <p>After you create a privilege analysis policy, you must enable it to capture privilege use. </p>
                     <div class="section">The <code class="codeph">DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE</code> procedure enables a privilege policy and creates a capture run name for it. The run name defines the period of time that the capture took place.
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to the database instance as a user who has the <code class="codeph">CAPTURE_ADMIN</code> role.</span></li>
                        <li class="stepexpand"><span>Query the <code class="codeph">NAME</code> and <code class="codeph">ENABLED</code> columns of the <code class="codeph">DBA_PRIV_CAPTURES</code> data dictionary view to find the existing privilege analysis policies and whether they are currently enabled. </span></li>
                        <li class="stepexpand"><span>Run the <code class="codeph">DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE</code> procedure to enable the policy and optionally create a name for a capture run.</span><div>
                              <p>For example, to enable the privilege analysis policy <code class="codeph">logon_users_analysis</code>: 
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE (
    name     =&gt; 'logon_users_analysis_pol',
    run_name =&gt; 'logon_users_04092016');
END;
/</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="You can create and manage privilege analysis policies in either SQL*Plus or in Enterprise Manager Cloud Control.">Creating and Managing Privilege Analysis Policies</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" name="GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6"></a><h4 id="DBSEG-GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" class="sect4">Examples of Creating and Enabling Privilege Analysis Policies</h4>
                  <div>
                     <p>You can create a variety of privilege analysis policies. </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C">Example: Privilege Analysis of Database-Wide Privileges</a><br>The <code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code> can be used to analyze database-wide privileges.
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED">Example: Privilege Analysis of Privilege Usage of Two Roles</a><br>The <code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code> procedure can be used to analyze the privilege usage of multiple roles.
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-F66B66E1-4EDF-497F-88FF-0464202F794C">Example: Privilege Analysis of Privileges During SQL*Plus Use</a><br>The <code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code> procedure can be used to capture privileges for analysis.
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B">Example: Privilege Analysis of PSMITH Privileges During SQL*Plus Access</a><br>The <code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code> can be used to analyze user access when the user is running SQL*Plus.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="You can create and manage privilege analysis policies in either SQL*Plus or in Enterprise Manager Cloud Control.">Creating and Managing Privilege Analysis Policies</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C" name="GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C"></a><h5 id="DBSEG-GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C" class="sect5">Example: Privilege Analysis of Database-Wide Privileges</h5>
                     <div>
                        <p>The <code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code> can be used to analyze database-wide privileges.
                        </p>
                        <p><a href="performing-privilege-analysis-find-privilege-use.html#GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C__CACFHIEB">Example 5-1</a> shows how to use the <code class="codeph">DBMS_PRIVILEGE_CAPTURE</code> package to create and enable a privilege analysis policy to record all privilege use in the database.
                        </p>
                        <div class="example" id="GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C__CACFHIEB">
                           <p class="titleinexample">Example 5-1 Privilege Analysis of Database-Wide Privileges</p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE(
  name          =&gt; 'db_wide_capture_pol',
  description   =&gt; 'Captures database-wide privileges',
  type          =&gt; DBMS_PRIVILEGE_CAPTURE.G_DATABASE);
END;
/
EXEC DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE ('db_wide_capture_pol');</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" title="You can create a variety of privilege analysis policies.">Examples of Creating and Enabling Privilege Analysis Policies</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED" name="GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED"></a><h5 id="DBSEG-GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED" class="sect5">Example: Privilege Analysis of Privilege Usage of Two Roles</h5>
                     <div>
                        <p>The <code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code> procedure can be used to analyze the privilege usage of multiple roles.
                        </p>
                        <p><a href="performing-privilege-analysis-find-privilege-use.html#GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED__CACJDHBE">Example 5-2</a> shows how to analyze the privilege usage of two roles.
                        </p>
                        <div class="example" id="GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED__CACJDHBE">
                           <p class="titleinexample">Example 5-2 Privilege Analysis of Privilege Usage of Two Roles</p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE(
  name          =&gt; 'dba_roles_capture_pol',
  description   =&gt; 'Captures DBA and LBAC_DBA role use',
  type          =&gt; DBMS_PRIVILEGE_CAPTURE.G_ROLE,
  roles         =&gt; role_name_list('dba', 'lbac_dba'));
END;
/
EXEC DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE ('dba_roles_capture_pol');</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" title="You can create a variety of privilege analysis policies.">Examples of Creating and Enabling Privilege Analysis Policies</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-F66B66E1-4EDF-497F-88FF-0464202F794C" name="GUID-F66B66E1-4EDF-497F-88FF-0464202F794C"></a><h5 id="DBSEG-GUID-F66B66E1-4EDF-497F-88FF-0464202F794C" class="sect5">Example: Privilege Analysis of Privileges During SQL*Plus Use</h5>
                     <div>
                        <p>The <code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code> procedure can be used to capture privileges for analysis.
                        </p>
                        <p><a href="performing-privilege-analysis-find-privilege-use.html#GUID-F66B66E1-4EDF-497F-88FF-0464202F794C__CACGIABC">Example 5-3</a> shows how to analyze privileges used to run SQL*Plus.
                        </p>
                        <div class="example" id="GUID-F66B66E1-4EDF-497F-88FF-0464202F794C__CACGIABC">
                           <p class="titleinexample">Example 5-3 Privilege Analysis of Privileges During SQL*Plus Use</p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE(
  name             =&gt; 'sqlplus_capture_pol',
  description      =&gt; 'Captures privilege use during SQL*Plus use',
  type             =&gt; DBMS_PRIVILEGE_CAPTURE.G_CONTEXT,
  condition        =&gt; 'SYS_CONTEXT(''USERENV'', ''MODULE'')=''sqlplus''');
END;
/
EXEC DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE ('sqlplus_capture_pol');</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" title="You can create a variety of privilege analysis policies.">Examples of Creating and Enabling Privilege Analysis Policies</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B" name="GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B"></a><h5 id="DBSEG-GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B" class="sect5">Example: Privilege Analysis of PSMITH Privileges During SQL*Plus Access</h5>
                     <div>
                        <p>The <code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code> can be used to analyze user access when the user is running SQL*Plus.
                        </p>
                        <p><a href="performing-privilege-analysis-find-privilege-use.html#GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B__CACCDFFI">Example 5-4</a> shows how to analyze the privileges used by session user <code class="codeph">PSMITH</code> when running SQL*Plus.
                        </p>
                        <div class="example" id="GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B__CACCDFFI">
                           <p class="titleinexample">Example 5-4 Privilege Analysis of PSMITH Privileges During SQL*Plus Access</p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE(
  name         =&gt; 'psmith_sqlplus_analysis_pol',
  description  =&gt; 'Analyzes PSMITH role priv use for SQL*Plus module',
  type         =&gt; DBMS_PRIVILEGE_CAPTURE.G_CONTEXT,
  condition    =&gt; 'SYS_CONTEXT(''USERENV'', ''MODULE'')=''sqlplus'' 
                  AND SYS_CONTEXT(''USERENV'', ''SESSION_USER'')=''PSMITH''');
END;
/
EXEC DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE ('psmith_sqlplus_analysis_pol');</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" title="You can create a variety of privilege analysis policies.">Examples of Creating and Enabling Privilege Analysis Policies</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-ECD0AC5D-0EDD-4AF0-84D9-401749659786" name="GUID-ECD0AC5D-0EDD-4AF0-84D9-401749659786"></a><h4 id="DBSEG-GUID-ECD0AC5D-0EDD-4AF0-84D9-401749659786" class="sect4">Disabling a Privilege Analysis Policy</h4>
                  <div>
                     <p>You must disable the privilege analysis policy before you can generate a privilege analysis report.</p>
                     <div class="section">After you disable the policy, then the privileges are no longer recorded. Disabling a privilege analysis policy takes effect immediately for user sessions logged on both before and after the privilege analysis policy is disabled. You can use the <code class="codeph">DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE</code> procedure to disable a privilege analysis policy.
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to the database instance as a user who has the <code class="codeph">CAPTURE_ADMIN</code> role.</span></li>
                        <li class="stepexpand"><span>Query the <code class="codeph">NAME</code> and <code class="codeph">ENABLED</code> columns of the <code class="codeph">DBA_PRIV_CAPTURES</code> data dictionary view to find the existing privilege analysis policies and whether they are currently disabled. </span></li>
                        <li class="stepexpand"><span>Run the <code class="codeph">DBMS_PRIVILEGE_CAPTURE.DISBLE_CAPTURE</code> procedure to enable the policy. </span><div>
                              <p>For example, to disable the privilege analysis policy <code class="codeph">logon_users_analysis</code>: 
                              </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE ('logon_users_analysis_pol');</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="You can create and manage privilege analysis policies in either SQL*Plus or in Enterprise Manager Cloud Control.">Creating and Managing Privilege Analysis Policies</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" name="GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222"></a><h4 id="DBSEG-GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" class="sect4">Generating a Privilege Analysis Report</h4>
                  <div>
                     <p>You can generate a privilege analysis policy report using either Enterprise Manager Cloud Control or from SQL*Plus, using the <code class="codeph">DBMS_PRIVILEGE_CAPTURE</code> PL/SQL package.
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-AFC16E86-D7BF-4AD7-A127-CDA6D04A9077">About Generating a Privilege Analysis Report</a><br>After the privilege analysis policy has been disabled, you can generate a report based on the capture run that you created for the privilege analysis policy. 
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-3A08AAD2-A90F-4DE8-B5F9-88E2C3CF822F">General Process for Managing Multiple Named Capture Runs</a><br>When you enable a privilege analysis policy, you can create a named capture run for the policy’s findings. 
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-67406253-7709-4F74-B962-EDFCA1CCB2F9">Generating a Privilege Analysis Report Using DBMS_PRIVILEGE_CAPTURE</a><br>The <code class="codeph">DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT</code> procedure generates a report showing the results of a privilege capture. 
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0">Generating a Privilege Analysis Report Using Cloud Control</a><br>You can generate a privilege analysis report using Cloud Control.
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-E44DCDB5-9687-4355-93CA-3836ACBF9AA5">Accessing Privilege Analysis Reports Using Cloud Control</a><br>A privilege analysis report provides information about both used and unused privileges. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="You can create and manage privilege analysis policies in either SQL*Plus or in Enterprise Manager Cloud Control.">Creating and Managing Privilege Analysis Policies</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-AFC16E86-D7BF-4AD7-A127-CDA6D04A9077" name="GUID-AFC16E86-D7BF-4AD7-A127-CDA6D04A9077"></a><h5 id="DBSEG-GUID-AFC16E86-D7BF-4AD7-A127-CDA6D04A9077" class="sect5">About Generating a Privilege Analysis Report</h5>
                     <div>
                        <p>After the privilege analysis policy has been disabled, you can generate a report based on the capture run that you created for the privilege analysis policy. </p>
                        <p>To view the report results in SQL*Plus, query the privilege analysis-specific data dictionary views. In Enterprise Manager Cloud Control, you can view the reports from the Privilege Analysis page <span class="bold">Actions</span> menu, and from there, revoke and regrant roles and privileges as necessary. If a privilege is used during the privilege analysis process and then revoked before you generate the report, then the privilege is still reported as a used privilege, but without the privilege grant path.
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112" title="Oracle Database provides data dictionary views that show information about analyzed privileges.">Privilege Analysis Policy and Report Data Dictionary Views</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" title="You can generate a privilege analysis policy report using either Enterprise Manager Cloud Control or from SQL*Plus, using the DBMS_PRIVILEGE_CAPTURE PL/SQL package.">Generating a Privilege Analysis Report</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-3A08AAD2-A90F-4DE8-B5F9-88E2C3CF822F" name="GUID-3A08AAD2-A90F-4DE8-B5F9-88E2C3CF822F"></a><h5 id="DBSEG-GUID-3A08AAD2-A90F-4DE8-B5F9-88E2C3CF822F" class="sect5">General Process for Managing Multiple Named Capture Runs</h5>
                     <div>
                        <p>When you enable a privilege analysis policy, you can create a named capture run for the policy’s findings. </p>
                        <p> The capture run defines a period of time from when the capture is enabled (begun) and when it is disabled (stopped). This way, you can create multiple runs and then compare them when you generate the privilege capture results. <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="This tutorial demonstrates how to create capture runs to analyze the use of the READ ANY TABLE system privilege.">Tutorial: Using Capture Runs to Analyze ANY Privilege Use</a> provides an example of how you can create and generate multiple capture runs. 
                        </p>
                        <p>The general process for managing multiple named capture runs is as follows:</p>
                        <ol id="GUID-3A08AAD2-A90F-4DE8-B5F9-88E2C3CF822F__OL_N4C_5Z4_LGB">
                           <li>
                              <p>Create the policy.</p>
                           </li>
                           <li>
                              <p>Enable the policy for the first run. </p>
                           </li>
                           <li>
                              <p>After a period time to collect user behavior data, disable this policy and its run. </p>
                           </li>
                           <li>
                              <p>Generate the results and then query the privilege analysis data dictionary views for information about this capture run.</p>
                              <p>If you omit the <code class="codeph">run_name</code> parameter from the <code class="codeph">DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT</code> procedure, then this procedure looks at all records as a whole and then analyzes them. 
                              </p>
                           </li>
                           <li>
                              <p>Re-enable the policy for the second run. You cannot create a new capture run if the policy has not been disabled first.</p>
                           </li>
                           <li>
                              <p>After you have collected the user data, disable the policy and the second run. </p>
                           </li>
                           <li>
                              <p>Generate the results. </p>
                           </li>
                           <li>
                              <p>Query the privilege analysis data dictionary views. The results from both capture runs are available in the views. If you only want to show the results of one of the capture runs, then you can regenerate the results and requery the privilege analysis views.</p>
                           </li>
                        </ol>
                        <p>Once enabled, the privilege analysis policy will begin to record the privilege usage when the condition is satisfied. At any given time, only one privilege analysis policy in the database can be enabled. The only exception is that a privilege analysis policy of type <code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_DATABASE</code> can be enabled at the same time with a privilege analysis of a different type.
                        </p>
                        <p>When you drop a privilege analysis policy, its associated capture runs are dropped as well and are not reflected in the privilege analysis data dictionary views. </p>
                        <p>Restarting a database does not change the status of a privilege analysis. For example, if a privilege analysis policy is enabled before a database shutdown, then the policy is still enabled after the database shutdown and restart. </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" title="You can generate a privilege analysis policy report using either Enterprise Manager Cloud Control or from SQL*Plus, using the DBMS_PRIVILEGE_CAPTURE PL/SQL package.">Generating a Privilege Analysis Report</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-67406253-7709-4F74-B962-EDFCA1CCB2F9" name="GUID-67406253-7709-4F74-B962-EDFCA1CCB2F9"></a><h5 id="DBSEG-GUID-67406253-7709-4F74-B962-EDFCA1CCB2F9" class="sect5">Generating a Privilege Analysis Report Using DBMS_PRIVILEGE_CAPTURE</h5>
                     <div>
                        <p>The <code class="codeph">DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT</code> procedure generates a report showing the results of a privilege capture. 
                        </p>
                        <ol>
                           <li class="stepexpand"><span>Log in to the database instance as a user who has the <code class="codeph">CAPTURE_ADMIN</code> role.</span></li>
                           <li class="stepexpand"><span>Query the <code class="codeph">NAME</code> and <code class="codeph">ENABLED</code> columns of the <code class="codeph">DBA_PRIV_CAPTURES</code> data dictionary view to find the existing privilege analysis policies and whether they are currently disabled.</span><div>
                                 <p>The privilege analysis policy must be disabled before you can generate a privilege analysis report on it.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Run the <code class="codeph">DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT</code> procedure using the following syntax: </span><div><pre class="oac_no_warn" dir="ltr">DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT(
  name         VARCHAR2,
  run_name     VARCHAR2 DEFAULT NULL,
  dependency   BOOLEAN DEFAULT NULL);</pre></div>
                              <div>
                                 <p>In this specification:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">name</code>: Specifies the name of the privilege analysis policy. The <kbd class="userinput">DBA_PRIV_CAPTURES</kbd> data dictionary view lists the names of existing policies.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">run_name</code>: Specifies the name for the run name for the privilege capture that must be computed. If you omit this setting, then all runs for the given privilege capture are computed.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">dependency</code>: Enter <code class="codeph">Y</code> (yes) or <code class="codeph">N</code> (no) to specify whether the PL/SQL computation privilege usage should be included in the report.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                              <div>
                                 <p>For example, to generate a report for the privilege analysis policy <code class="codeph">logon_users_analysis</code>: 
                                 </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT ('logon_users_analysis');
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Query the used privileges from <code class="codeph">DBA_USED_*</code> data dictionary views with privilege grant paths.</span></li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" title="You can generate a privilege analysis policy report using either Enterprise Manager Cloud Control or from SQL*Plus, using the DBMS_PRIVILEGE_CAPTURE PL/SQL package.">Generating a Privilege Analysis Report</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" name="GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0"></a><h5 id="DBSEG-GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" class="sect5">Generating a Privilege Analysis Report Using Cloud Control</h5>
                     <div>
                        <p>You can generate a privilege analysis report using Cloud Control.</p>
                        <ol>
                           <li class="stepexpand"><span>Log in to Cloud Control as a user who has been granted the <code class="codeph">CAPTURE_ADMIN</code> role and the <code class="codeph">SELECT ANY DICTIONARY</code> privilege. <a href="../admqs/getting-started-with-database-administration.html#ADMQS033" target="_blank"><span><cite>Oracle Database 2 Day DBA</cite></span></a> explains how to log in.</span></li>
                           <li class="stepexpand"><span>From the <span class="bold">Security</span> menu, select <span class="bold">Privilege Analysis</span>.</span></li>
                           <li class="stepexpand"><span>Under Policies, select the policy whose report you want to generate. </span></li>
                           <li class="stepexpand"><span>Select <span class="bold">Generate Report</span>.</span></li>
                           <li class="stepexpand"><span>In the Privilege Analysis: Generate Report dialog box, specify a time to generate the report. </span><div>
                                 <p>To generate the report now, select <span class="bold">Immediate</span>. To generate the report later, select <span class="bold">Later</span>, and then specify the hour, minute, second, and the time zone for the report to generate.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Click <span class="bold">OK</span>.</span><div>
                                 <p>In the Privilege Analysis page, a Confirmation message notifies you that a report has been submitted. You can refresh the page until the job is complete. To view the report, select the policy name and then click <span class="uicontrol bold">View Reports</span>.
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" title="You can generate a privilege analysis policy report using either Enterprise Manager Cloud Control or from SQL*Plus, using the DBMS_PRIVILEGE_CAPTURE PL/SQL package.">Generating a Privilege Analysis Report</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-E44DCDB5-9687-4355-93CA-3836ACBF9AA5" name="GUID-E44DCDB5-9687-4355-93CA-3836ACBF9AA5"></a><h5 id="DBSEG-GUID-E44DCDB5-9687-4355-93CA-3836ACBF9AA5" class="sect5">Accessing Privilege Analysis Reports Using Cloud Control</h5>
                     <div>
                        <p>A privilege analysis report provides information about both used and unused privileges. </p>
                        <ol>
                           <li class="stepexpand"><span>Generate the privilege analysis report. </span><div>
                                 <p>See <a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" title="You can generate a privilege analysis report using Cloud Control.">Generating a Privilege Analysis Report Using Cloud Control</a> for more information. 
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>In the Privilege Analysis page, select the policy on which you generated a report. </span></li>
                           <li class="stepexpand"><span>Select <span class="uicontrol bold">View Reports</span>.</span><div>
                                 <p>The Privilege Analysis Reports page appears.</p>
                                 <div class="figure" id="GUID-E44DCDB5-9687-4355-93CA-3836ACBF9AA5__GUID-5EDDDF9E-DC70-4756-8C7F-4FF48CA3E4BB"><img src="img/priv_analysis_report122.png" alt="Description of priv_analysis_report122.png follows" title="Description of priv_analysis_report122.png follows" longdesc="img_text/priv_analysis_report122.html"><br><a href="img_text/priv_analysis_report122.html">Description of the illustration priv_analysis_report122.png</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                           <li class="stepexpand"><span>To view the report, do the following: </span><ul>
                                 <li>By default, the selected report will appear, but to search for a report for another policy, use the Search region to find a different report, or to select a different grantee for the currently selected policy.</li>
                                 <li>To view unused privileges, select the <span class="uicontrol bold">Unused</span> tab; to view the used privileges, select <span class="uicontrol bold">Used</span>. To view a summary of both, select <span class="uicontrol bold">Summary</span>. 
                                 </li>
                              </ul>
                              <div>
                                 <p>From here, you can select roles to revoke or regrant to users as necessary. To do so, under <span class="uicontrol bold">Grantee</span>, select the role and then click <span class="bold">Revoke</span> or <span class="bold">Regrant</span>.
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" title="You can generate a privilege analysis policy report using either Enterprise Manager Cloud Control or from SQL*Plus, using the DBMS_PRIVILEGE_CAPTURE PL/SQL package.">Generating a Privilege Analysis Report</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-403B206F-71B5-481E-8FF7-6FEBA2DE1D75" name="GUID-403B206F-71B5-481E-8FF7-6FEBA2DE1D75"></a><h4 id="DBSEG-GUID-403B206F-71B5-481E-8FF7-6FEBA2DE1D75" class="sect4">Dropping a Privilege Analysis Policy</h4>
                  <div>
                     <p>Before you can drop a privilege analysis policy, you must first disable it. </p>
                     <div class="section">Dropping a privilege analysis policy also drops all the used and unused privilege records associated with this privilege analysis. If you created capture runs for the policy, then they are dropped when you drop the policy. </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to the database instance as a user who has the <code class="codeph">CAPTURE_ADMIN</code> role.</span></li>
                        <li class="stepexpand"><span>Query the <code class="codeph">NAME</code> and <code class="codeph">ENABLE</code> columns of the <code class="codeph">DBA_PRIV_CAPTURES</code> data dictionary view to find the policy and to check if it is enabled or disabled. </span></li>
                        <li class="stepexpand"><span>If the policy is enabled, then disable it.</span><div>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE ('logon_users_analysis_pol');
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">DBMS_PRIVILEGE_CAPTURE.DROP_CAPTURE</code> procedure to drop the policy. </span><div>
                              <p>For example:</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DROP_CAPTURE ('logon_users_analysis_pol');</pre><p>If you had enabled the policy with a capture run, then the capture run is dropped as well. To individually drop a capture run, you can run the <code class="codeph">DBMS_PRIVILEGE_CAPTURE.DELETE_RUN</code> procedure, but the policy must exist before you can run this statement.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-ECD0AC5D-0EDD-4AF0-84D9-401749659786" title="You must disable the privilege analysis policy before you can generate a privilege analysis report.">Disabling a Privilege Analysis Policy</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="You can create and manage privilege analysis policies in either SQL*Plus or in Enterprise Manager Cloud Control.">Creating and Managing Privilege Analysis Policies</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA" name="GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA"></a><h3 id="DBSEG-GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA" class="sect3">Creating Roles and Managing Privileges Using Cloud Control</h3>
               <div>
                  <p>You can create new roles using privileges found in a privilege analysis report and then grant this role to users. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-32E2ACC1-CF16-4843-8149-0DAFA8A659EE">Creating a Role from a Privilege Analysis Report in Cloud Control</a><br>You can use the report summary to find the least number of privileges an application needs, and encapsulate these privileges into a role. 
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-7FEDBD68-0F3F-4856-9D48-B90AEB692361">Revoking and Regranting Roles and Privileges Using Cloud Control</a><br>You can use Enterprise Manager Cloud Control to revoke and regrant roles and privileges to users. 
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-52659855-2B5E-4E93-80EE-174679594BE9">Generating a Revoke or Regrant Script Using Cloud Control</a><br>You can generate a script that revokes or regrants privileges from and to users, based on the results of privilege analysis reports. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="Privilege analysis dynamically analyzes the privileges and roles that users use and do not use.">Performing Privilege Analysis to&nbsp;Find&nbsp;Privilege&nbsp;Use</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-32E2ACC1-CF16-4843-8149-0DAFA8A659EE" name="GUID-32E2ACC1-CF16-4843-8149-0DAFA8A659EE"></a><h4 id="DBSEG-GUID-32E2ACC1-CF16-4843-8149-0DAFA8A659EE" class="sect4">Creating a Role from a Privilege Analysis Report in Cloud Control</h4>
                  <div>
                     <p>You can use the report summary to find the least number of privileges an application needs, and encapsulate these privileges into a role. </p>
                     <ol>
                        <li class="stepexpand"><span>Log in to Cloud Control as a user who has been granted the <code class="codeph">CAPTURE_ADMIN</code> role and the <code class="codeph">SELECT ANY DICTIONARY</code> privilege. <a href="../admqs/getting-started-with-database-administration.html#ADMQS033" target="_blank"><span><cite>Oracle Database 2 Day DBA</cite></span></a> explains how to log in.</span></li>
                        <li class="stepexpand"><span>On the Privilege Analysis page, select the policy name, and then from <span class="bold">Actions</span> menu, click <span class="bold">Create Role</span>.</span></li>
                        <li class="stepexpand"><span>On the Create Role page, provide the following details, and then click <span class="bold">OK</span>:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Select the policy from which you would like to create a new role.</p>
                                 </li>
                                 <li>
                                    <p>Enter a unique name for the new role that you want to create.</p>
                                 </li>
                                 <li>
                                    <p>Select the <span class="bold">Used</span> or <span class="bold">Unused</span> check box, depending on what your role must encapsulate. The role can have used or unused system and object privileges and roles.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Select the corresponding radio buttons for <span class="bold">Directly Granted System Privileges</span>, <span class="bold">Directly Granted Object Privileges</span>, and <span class="bold">Directly Granted Roles</span>. 
                                    </p>
                                    <p>For example, if you select the <span class="bold">Used</span> check box, and select:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><span class="bold">All</span> system privileges, then all the used system privileges captured are included in the new role that you are creating.
                                          </p>
                                       </li>
                                       <li>
                                          <p><span class="bold">None</span> for role, then no role that is captured in the policy will be used in the new role.
                                          </p>
                                       </li>
                                       <li>
                                          <p><span class="bold">Customize</span> object privileges, then a list of available used objects privileges captured are displayed, you need to select the privileges from the list to assign to the role.
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA" title="You can create new roles using privileges found in a privilege analysis report and then grant this role to users.">Creating Roles and Managing Privileges Using Cloud Control</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-7FEDBD68-0F3F-4856-9D48-B90AEB692361" name="GUID-7FEDBD68-0F3F-4856-9D48-B90AEB692361"></a><h4 id="DBSEG-GUID-7FEDBD68-0F3F-4856-9D48-B90AEB692361" class="sect4">Revoking and Regranting Roles and Privileges Using Cloud Control</h4>
                  <div>
                     <p>You can use Enterprise Manager Cloud Control to revoke and regrant roles and privileges to users. </p>
                     <ol>
                        <li class="stepexpand"><span>If Oracle Database Vault is enabled, then ensure that you are authorized as an owner of the Oracle System Privilege and Role Management realm. </span><div>
                              <p>In SQL*Plus, a user who has been granted the <code class="codeph">DV_OWNER</code> role can check the authorization by querying the <code class="codeph">DBA_DV_REALM_AUTH</code> data dictionary view. To grant the user authorization, use the <code class="codeph">DBMS_MACADM.ADD_AUTH_TO_REALM</code> procedure. 
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Generate the privilege analysis report. </span></li>
                        <li class="stepexpand"><span>In the Privilege Analysis page, select the policy on which you generated a report. </span></li>
                        <li class="stepexpand"><span>Select <span class="uicontrol bold">View Reports</span>.</span></li>
                        <li class="stepexpand"><span>In the Privilege Analysis: Reports page, select the <span class="uicontrol bold">Summary</span> tab.</span></li>
                        <li class="stepexpand"><span>Under Search, ensure that the <span class="uicontrol bold">Policy</span> and <span class="uicontrol bold">Grantee</span> menu options are set.</span></li>
                        <li class="stepexpand"><span>Under the Grantee area, expand the grantee options. </span><div>For example, for a role privilege analysis report for a role called <code class="codeph">HR_ADMIN</code> role, you would expand the <code class="codeph">HR_ADMIN</code> role to show the privileges that are associated with it.
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select each privilege to revoke and then click <span class="uicontrol bold">Revoke</span>, or select <span class="uicontrol bold">Regrant</span> to regrant the privilege to the role. </span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" title="You can generate a privilege analysis report using Cloud Control.">Generating a Privilege Analysis Report Using Cloud Control</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA" title="You can create new roles using privileges found in a privilege analysis report and then grant this role to users.">Creating Roles and Managing Privileges Using Cloud Control</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-52659855-2B5E-4E93-80EE-174679594BE9" name="GUID-52659855-2B5E-4E93-80EE-174679594BE9"></a><h4 id="DBSEG-GUID-52659855-2B5E-4E93-80EE-174679594BE9" class="sect4">Generating a Revoke or Regrant Script Using Cloud Control</h4>
                  <div>
                     <p>You can generate a script that revokes or regrants privileges from and to users, based on the results of privilege analysis reports. </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-BAF8C605-D14A-49A8-B819-B39EC18D0FAE">About Generating Revoke and Regrant Scripts</a><br>You can perform a bulk revoke of unused system and object privileges and roles by using scripts that you can download after you have generated the privilege analysis. 
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-D7DD58E0-6884-4A7E-B593-1A6CC5612081">Generating a Revoke Script</a><br>You can use Enterprise Manager Cloud Control to generate a script that revokes privileges from users. 
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-80C2B380-C315-43BD-AC09-077FF7F4F09B">Generating a Regrant Script</a><br>You can use Enterprise Manager Cloud Control to generate a script that regrants privileges that have been revoked from users. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA" title="You can create new roles using privileges found in a privilege analysis report and then grant this role to users.">Creating Roles and Managing Privileges Using Cloud Control</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-BAF8C605-D14A-49A8-B819-B39EC18D0FAE" name="GUID-BAF8C605-D14A-49A8-B819-B39EC18D0FAE"></a><h5 id="DBSEG-GUID-BAF8C605-D14A-49A8-B819-B39EC18D0FAE" class="sect5">About Generating Revoke and Regrant Scripts</h5>
                     <div>
                        <p>You can perform a bulk revoke of unused system and object privileges and roles by using scripts that you can download after you have generated the privilege analysis. </p>
                        <p>Later on, if you want to regrant these privileges back to the user, you can generate a regrant script. In order to generate the regrant script, you must have a corresponding revoke script. </p>
                        <p>Execute the revoke scripts in a development or test environment. Be aware that you cannot revoke privileges and roles from Oracle-supplied accounts and roles.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-52659855-2B5E-4E93-80EE-174679594BE9" title="You can generate a script that revokes or regrants privileges from and to users, based on the results of privilege analysis reports.">Generating a Revoke or Regrant Script Using Cloud Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-D7DD58E0-6884-4A7E-B593-1A6CC5612081" name="GUID-D7DD58E0-6884-4A7E-B593-1A6CC5612081"></a><h5 id="DBSEG-GUID-D7DD58E0-6884-4A7E-B593-1A6CC5612081" class="sect5">Generating a Revoke Script</h5>
                     <div>
                        <p>You can use Enterprise Manager Cloud Control to generate a script that revokes privileges from users. </p>
                        <ol>
                           <li class="stepexpand"><span>If Oracle Database Vault is enabled, then ensure that you are authorized as an owner of the Oracle System Privilege and Role Management realm. </span><div>
                                 <p>In SQL*Plus, a user who has been granted the <code class="codeph">DV_OWNER</code> role can check the authorization by querying the <code class="codeph">DBA_DV_REALM_AUTH</code> data dictionary view. To grant the user authorization, use the <code class="codeph">DBMS_MACADM.ADD_AUTH_TO_REALM</code> procedure. 
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>In Enterprise Manager, access the target Database home page as a user who has been granted the <code class="codeph">CAPTURE_ADMIN</code> role and the <code class="codeph">SELECT ANY DICTIONARY</code> privilege.</span><div>
                                 <p>See <a href="../admqs/getting-started-with-database-administration.html#ADMQS033" target="_blank"><span class="italic">Oracle Database 2 Day DBA</span></a> for more information.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>From the <span class="bold">Security</span> menu, select <span class="bold">Privilege Analysis</span>.</span></li>
                           <li class="stepexpand"><span>Ensure that the privilege analysis reports that you want have been generated.</span></li>
                           <li class="stepexpand"><span>In the Privilege Analysis page, from the <span class="bold">Actions</span> menu, select <span class="bold">Revoke Scripts</span>. </span></li>
                           <li class="stepexpand"><span>On the Revoke Scripts page, click <span class="bold">Generate</span>. </span><div>
                                 <p>The generate revoke script details wizard is displayed.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>In the Script Details page, do the following: select a policy name from the <span class="uicontrol bold">Policy Name</span> menu against which the revoke script needs to be prepared. </span></li>
                           <li class="stepexpand"><span>In the <span class="uicontrol bold">Script Name</span> field, enter a unique name and for <span class="uicontrol bold">Description</span>, a description for the script. </span><div>
                                 <p>For example, if you want to revoke all the unused privileges, select the <span class="bold">All</span> option for all the unused privileges and roles, and click <span class="bold">Next</span>. 
                                 </p>
                                 <p>Based on your selection, and the available privileges, all the unused system privileges, object privileges, and roles that are going to be revoked are displayed on the respective pages. </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>For <span class="uicontrol bold">Grantee (user/role)</span>, select <span class="uicontrol bold">All</span> or <span class="uicontrol bold">Customize</span>.</span></li>
                           <li class="stepexpand"><span>Select <span class="uicontrol bold">All</span>, <span class="uicontrol bold">None</span>, or <span class="uicontrol bold">Customize</span> for the <span class="uicontrol bold">Unused System Privileges</span>, <span class="uicontrol bold">Unused Object Privileges</span>, and <span class="uicontrol bold">Unused Roles</span> settings.</span></li>
                           <li class="stepexpand"><span>Click <span class="bold">Next</span>. </span><div>
                                 <p>The next pages that appear depend on your selections of <span class="uicontrol bold">All</span>, <span class="uicontrol bold">None</span>, or <span class="uicontrol bold">Customize</span>. If you selected all, the page displays a listing of the privileges. If you selected <span class="uicontrol bold">None</span>, the page is bypassed. If you selected <span class="uicontrol bold">Customize</span>, then you can individually select the privileges to revoke. The last page that appears is the Review page.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Click <span class="bold">Save</span>.</span><div>
                                 <p>The Revoke Scripts page appears.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>In the Revoke Scripts page, select the newly created SQL script, and then click <span class="bold">Download Revoke Script</span> to download this script, which contains <code class="codeph">REVOKE</code> SQL statements for each privilege or role. </span><div>
                                 <p>To view the script, click the <span class="uicontrol bold">View Revoke Script</span> button.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>To return to the Privilege Analysis page, click <span class="uicontrol bold">Return</span>. </span></li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" title="You can generate a privilege analysis report using Cloud Control.">Generating a Privilege Analysis Report Using Cloud Control</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-52659855-2B5E-4E93-80EE-174679594BE9" title="You can generate a script that revokes or regrants privileges from and to users, based on the results of privilege analysis reports.">Generating a Revoke or Regrant Script Using Cloud Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-80C2B380-C315-43BD-AC09-077FF7F4F09B" name="GUID-80C2B380-C315-43BD-AC09-077FF7F4F09B"></a><h5 id="DBSEG-GUID-80C2B380-C315-43BD-AC09-077FF7F4F09B" class="sect5">Generating a Regrant Script</h5>
                     <div>
                        <p>You can use Enterprise Manager Cloud Control to generate a script that regrants privileges that have been revoked from users. </p>
                        <ol>
                           <li class="stepexpand"><span>If Oracle Database Vault is enabled, then ensure that you are authorized as an owner of the Oracle System Privilege and Role Management realm. </span><div>
                                 <p>In SQL*Plus, a user who has been granted the <code class="codeph">DV_OWNER</code> role can check the authorization by querying the <code class="codeph">DBA_DV_REALM_AUTH</code> data dictionary view. To grant the user authorization, use the <code class="codeph">DBMS_MACADM.ADD_AUTH_TO_REALM</code> procedure. 
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>In Enterprise Manager, access the target Database home page as a user who has been granted the <code class="codeph">CAPTURE_ADMIN</code> role and the <code class="codeph">SELECT ANY DICTIONARY</code> privilege.</span><div>
                                 <p>See <a href="../admqs/getting-started-with-database-administration.html#ADMQS033" target="_blank"><span class="italic">Oracle Database 2 Day DBA</span></a> for more information.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>From the <span class="bold">Security</span> menu, select <span class="bold">Privilege Analysis</span>.</span></li>
                           <li class="stepexpand"><span>Ensure that the reports you want have been generated.</span><div>
                                 <p>See <a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" title="You can generate a privilege analysis report using Cloud Control.">Generating a Privilege Analysis Report Using Cloud Control</a> for more information. 
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>In the Privilege Analysis page, select the policy on which the revoke script was based. </span></li>
                           <li class="stepexpand"><span>From the <span class="bold">Actions</span> menu, select <span class="bold">Revoke Scripts</span>. </span></li>
                           <li class="stepexpand"><span>In the Revoke Scripts page, select the policy name that you had created earlier, and then click <span class="bold">Download Regrant Script</span> to download this script.</span><div>
                                 <p>You can view the scripts that are associated with the policy by selecting the <span class="uicontrol bold">View Revoke Script</span> and <span class="uicontrol bold">View Regrant Script</span> buttons.
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" title="You can generate a privilege analysis report using Cloud Control.">Generating a Privilege Analysis Report Using Cloud Control</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-52659855-2B5E-4E93-80EE-174679594BE9" title="You can generate a script that revokes or regrants privileges from and to users, based on the results of privilege analysis reports.">Generating a Revoke or Regrant Script Using Cloud Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" name="GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13"></a><h3 id="DBSEG-GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" class="sect3">Tutorial: Using Capture Runs to Analyze ANY Privilege Use</h3>
               <div>
                  <p>This tutorial demonstrates how to create capture runs to analyze the use of the <code class="codeph">READ ANY TABLE</code> system privilege.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-E6A53756-A25B-4AA9-8CFA-A90E0B5009CF">Step 1: Create User Accounts</a><br>You must create two users, one user to create the policy and a second user whose privilege use will be analyzed.
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-7D38155B-51F7-4FF9-B24D-1FBDF64F923A">Step 2: Create and Enable a Privilege Analysis Policy</a><br>The user <code class="codeph">pa_admin</code> must create and enable the privilege analysis policy.
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-5DAB3004-561B-424C-A473-71000980E578">Step 3: Use the READ ANY TABLE System Privilege</a><br>User <code class="codeph">app_user</code> uses the <code class="codeph">READ ANY TABLE</code> system privilege. 
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-A7FF0521-F296-4821-84F1-3F4580E281A6">Step 4: Disable the Privilege Analysis Policy</a><br>You must disable the policy before you can generate a report that captures the actions of user <code class="codeph">app_user</code>.
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-B3D1C54B-9FFB-4376-B767-12A631E3F66D">Step 5: Generate and View a Privilege Analysis Report</a><br>With the privilege analysis policy disabled, user <code class="codeph">pa_admin</code> then can generate and view a privilege analysis report. 
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-CAFA7DFC-287E-4186-B475-811F5C611121">Step 6: Create a Second Capture Run</a><br>Next, you are ready to create a second capture run for the <code class="codeph">ANY_priv_analysis_pol</code> privilege analysis policy.
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-1FA9F206-75C2-4FC9-BA53-A17118A2C934">Step 7: Remove the Components for This Tutorial</a><br>You can remove the components that you created for this tutorial if you no longer need them. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="Privilege analysis dynamically analyzes the privileges and roles that users use and do not use.">Performing Privilege Analysis to&nbsp;Find&nbsp;Privilege&nbsp;Use</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-E6A53756-A25B-4AA9-8CFA-A90E0B5009CF" name="GUID-E6A53756-A25B-4AA9-8CFA-A90E0B5009CF"></a><h4 id="DBSEG-GUID-E6A53756-A25B-4AA9-8CFA-A90E0B5009CF" class="sect4">Step 1: Create User Accounts</h4>
                  <div>
                     <p>You must create two users, one user to create the policy and a second user whose privilege use will be analyzed.</p>
                     <ol>
                        <li class="stepexpand"><span>Log into the database instance as a user who has the <code class="codeph">CREATE USER</code> system privilege.</span><div>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin
Enter password: <span class="italic">password</span>
</pre><p>In a multitenant environment, you must connect to the appropriate pluggable database (PDB).</p>
                              <p>For example:</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin@hrpdb
Enter password: <span class="italic">password</span>
</pre><p>To find the available PDBs, query the <code class="codeph">DBA_PDBS</code> data dictionary view. To check the current PDB, run the <code class="codeph">show con_name</code> command. 
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Create the following users:</span><div><pre class="oac_no_warn" dir="ltr">CREATE USER pa_admin IDENTIFIED BY <span class="italic">password</span>;
CREATE USER app_user IDENTIFIED BY <span class="italic">password</span>;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as a user who has the privileges to grant roles and system privileges to other users, and who has been granted the owner authorization for the Oracle System Privilege and Role Management realm. (User <code class="codeph">SYS</code> has these privileges by default.)</span><div>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">CONNECT dba_psmith <span class="italic">-- Or, CONNECT dba_psmith@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre><p>In SQL*Plus, a user who has been granted the <code class="codeph">DV_OWNER</code> role can check the authorization by querying the <code class="codeph">DBA_DV_REALM_AUTH</code> data dictionary view. To grant the user authorization, use the <code class="codeph">DBMS_MACADM.ADD_AUTH_TO_REALM</code> procedure.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Grant the following role and privilege to the users.</span><div><pre class="oac_no_warn" dir="ltr">GRANT CREATE SESSION, CAPTURE_ADMIN TO pa_admin;
GRANT CREATE SESSION, READ ANY TABLE TO app_user;
</pre><p>User <code class="codeph">pa_admin</code> will create the privilege analysis policy that will analyze the <code class="codeph">READ ANY TABLE</code> query that user <code class="codeph">app_user</code> will perform. 
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="This tutorial demonstrates how to create capture runs to analyze the use of the READ ANY TABLE system privilege.">Tutorial: Using Capture Runs to Analyze ANY Privilege Use</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-7D38155B-51F7-4FF9-B24D-1FBDF64F923A" name="GUID-7D38155B-51F7-4FF9-B24D-1FBDF64F923A"></a><h4 id="DBSEG-GUID-7D38155B-51F7-4FF9-B24D-1FBDF64F923A" class="sect4">Step 2: Create and Enable a Privilege Analysis Policy</h4>
                  <div>
                     <p>The user <code class="codeph">pa_admin</code> must create and enable the privilege analysis policy.
                     </p>
                     <ol>
                        <li class="stepexpand"><span>Connect as user <code class="codeph">pa_admin</code>.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT pa_admin <span class="italic">-- Or, CONNECT pa_admin@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Create the following privilege analysis policy:</span><div><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE(
  name           =&gt; 'ANY_priv_analysis_pol',
  description    =&gt; 'Analyzes system privilege use',
  type           =&gt; DBMS_PRIVILEGE_CAPTURE.G_CONTEXT,
  condition      =&gt; 'SYS_CONTEXT(''USERENV'', ''SESSION_USER'')=''APP_USER''');
END;
/
</pre><p>In this example:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">type</code> specifies the type of capture condition that is defined by the <code class="codeph">condition</code> parameter, described next. In this policy, the type is a context-based condition.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">condition</code> specifies condition using a Boolean expression that must evaluate to <code class="codeph">TRUE</code> for the policy to take effect. In this case, the condition checks if the session user is <code class="codeph">app_user</code>.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Enable the policy and create a capture run for it.</span><div><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE (
   name       =&gt; 'ANY_priv_analysis_pol',
   run_name   =&gt; 'ANY_priv_pol_run_1');
END;
/
</pre><p>At this point, the policy is ready to start recording the actions of user <code class="codeph">app_user</code>.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="This tutorial demonstrates how to create capture runs to analyze the use of the READ ANY TABLE system privilege.">Tutorial: Using Capture Runs to Analyze ANY Privilege Use</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-5DAB3004-561B-424C-A473-71000980E578" name="GUID-5DAB3004-561B-424C-A473-71000980E578"></a><h4 id="DBSEG-GUID-5DAB3004-561B-424C-A473-71000980E578" class="sect4">Step 3: Use the READ ANY TABLE System Privilege</h4>
                  <div>
                     <p>User <code class="codeph">app_user</code> uses the <code class="codeph">READ ANY TABLE</code> system privilege. 
                     </p>
                     <ol>
                        <li class="stepexpand"><span>Connect as user <code class="codeph">app_user</code>.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT app_user <span class="italic">-- Or, CONNECT app_user@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Query the <code class="codeph">HR.EMPLOYEES</code> table.</span><div><pre class="oac_no_warn" dir="ltr">SELECT FIRST_NAME, LAST_NAME, SALARY FROM HR.EMPLOYEES WHERE SALARY &gt; 12000 ORDER BY SALARY DESC;

FIRST_NAME           LAST_NAME                     SALARY
-------------------- ------------------------- ----------
Steven               King                           24000
Neena                Kochhar                        17000
Lex                  De Haan                        17000
John                 Russell                        14000
Karen                Partners                       13500
Michael              Hartstein                      13000
Shelley              Higgins                        12008
Nancy                Greenberg                      12008</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="This tutorial demonstrates how to create capture runs to analyze the use of the READ ANY TABLE system privilege.">Tutorial: Using Capture Runs to Analyze ANY Privilege Use</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-A7FF0521-F296-4821-84F1-3F4580E281A6" name="GUID-A7FF0521-F296-4821-84F1-3F4580E281A6"></a><h4 id="DBSEG-GUID-A7FF0521-F296-4821-84F1-3F4580E281A6" class="sect4">Step 4: Disable the Privilege Analysis Policy</h4>
                  <div>
                     <p>You must disable the policy before you can generate a report that captures the actions of user <code class="codeph">app_user</code>.
                     </p>
                     <ol>
                        <li class="stepexpand"><span>Connect as user <code class="codeph">pa_admin</code>.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT pa_admin <span class="italic">-- Or, CONNECT pa_admin@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Disable the <code class="codeph">ANY_priv_analysis_pol</code> privilege policy.</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE ('ANY_priv_analysis_pol');</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="This tutorial demonstrates how to create capture runs to analyze the use of the READ ANY TABLE system privilege.">Tutorial: Using Capture Runs to Analyze ANY Privilege Use</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-B3D1C54B-9FFB-4376-B767-12A631E3F66D" name="GUID-B3D1C54B-9FFB-4376-B767-12A631E3F66D"></a><h4 id="DBSEG-GUID-B3D1C54B-9FFB-4376-B767-12A631E3F66D" class="sect4">Step 5: Generate and View a Privilege Analysis Report</h4>
                  <div>
                     <p>With the privilege analysis policy disabled, user <code class="codeph">pa_admin</code> then can generate and view a privilege analysis report. 
                     </p>
                     <ol>
                        <li class="stepexpand"><span>As user <code class="codeph">pa_admin</code>, generate the privilege analysis results.</span><div><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT (
    name      =&gt; 'ANY_priv_analysis_pol',
    run_name  =&gt; 'ANY_priv_pol_run_1');
END;
/
</pre><p>The generated results are stored in the privilege analysis data dictionary views.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Enter the following commands to format the data dictionary view output:</span><div><pre class="oac_no_warn" dir="ltr">col username format a10
col sys_priv format a16
col object_owner format a13
col object_name format a23
col run_name format a27</pre></div>
                        </li>
                        <li class="stepexpand"><span>Find the system privileges that <code class="codeph">app_user</code> used and the objects on which he used them during the privilege analysis period. </span><div><pre class="oac_no_warn" dir="ltr">SELECT SYS_PRIV, OBJECT_OWNER, OBJECT_NAME, RUN_NAME FROM DBA_USED_PRIVS WHERE USERNAME = 'APP_USER';
</pre><p>Output similar to the following appears. The first row shows that <code class="codeph">app_user</code> used the <code class="codeph">READ ANY TABLE</code> privilege on the <code class="codeph">HR.EMPLOYEES</code> table.
                              </p><pre class="oac_no_warn" dir="ltr">SYS_PRIV         OBJECT_OWNER  OBJECT_NAME             RUN_NAME
---------------- ------------- ----------------------- ------------------
                 SYSTEM        PRODUCT_PRIVS           ANY_PRIV_POL_RUN_1
                 SYS           DUAL                    ANY_PRIV_POL_RUN_1
                 SYS           DUAL                    ANY_PRIV_POL_RUN_1
CREATE SESSION                                         ANY_PRIV_POL_RUN_1
                 SYS           DBMS_APPLICATION_INFO   ANY_PRIV_POL_RUN_1
READ ANY TABLE   HR            EMPLOYEES               ANY_PRIV_POL_RUN_1</pre></div>
                        </li>
                     </ol>
                     <div class="section">At this stage, the privilege analysis results remain available in the privilege analysis data dictionary views, even if you create additional capture runs in the future. </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="This tutorial demonstrates how to create capture runs to analyze the use of the READ ANY TABLE system privilege.">Tutorial: Using Capture Runs to Analyze ANY Privilege Use</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-CAFA7DFC-287E-4186-B475-811F5C611121" name="GUID-CAFA7DFC-287E-4186-B475-811F5C611121"></a><h4 id="DBSEG-GUID-CAFA7DFC-287E-4186-B475-811F5C611121" class="sect4">Step 6: Create a Second Capture Run</h4>
                  <div>
                     <p>Next, you are ready to create a second capture run for the <code class="codeph">ANY_priv_analysis_pol</code> privilege analysis policy.
                     </p>
                     <ol>
                        <li class="stepexpand"><span>As user <code class="codeph">pa_admin</code>, enable the <code class="codeph">ANY_priv_analysis_pol</code> privilege analysis policy to use capture run <code class="codeph">ANY_priv_pol_run_1</code>.</span><div><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE (
   name       =&gt; 'ANY_priv_analysis_pol',
   run_name   =&gt; 'ANY_priv_pol_run_2');
END;
/
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as user <code class="codeph">app_user</code>.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT app_user <span class="italic">-- Or, CONNECT app_user@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Query the <code class="codeph">HR.JOBS</code> table.</span><div><pre class="oac_no_warn" dir="ltr">SELECT MAX_SALARY FROM HR.JOBS WHERE MAX_SALARY &gt; 20000;</pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as user <code class="codeph">pa_admin</code>.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT pa_admin <span class="italic">-- Or, CONNECT pa_admin@hrpdb</span>
Enter password: <span class="italic">password</span></pre></div>
                        </li>
                        <li class="stepexpand"><span>Disable the <code class="codeph">ANY_priv_analysis_pol</code> privilege policy.</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE ('ANY_priv_analysis_pol');</pre></div>
                        </li>
                        <li class="stepexpand"><span>Generate a second privilege analysis report.</span><div><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT (
    name      =&gt; 'ANY_priv_analysis_pol',
    run_name  =&gt; 'ANY_priv_pol_run_2');
END;
/
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Find the system privileges that <code class="codeph">app_user</code> used and the objects on which he used them during the privilege analysis period. </span><div><pre class="oac_no_warn" dir="ltr">SELECT SYS_PRIV, OBJECT_OWNER, OBJECT_NAME, RUN_NAME FROM DBA_USED_PRIVS WHERE USERNAME = 'APP_USER' ORDER BY RUN_NAME;
</pre><p>Output similar to the following appears, which now shows the results of both of the capture runs that user <code class="codeph">pa_admin</code> created. 
                              </p><pre class="oac_no_warn" dir="ltr">SYS_PRIV         OBJECT_OWNER  OBJECT_NAME             RUN_NAME
---------------- ------------- ----------------------- ----------------------
READ ANY TABLE   HR            EMPLOYEES               ANY_PRIV_POL_RUN_1
                 SYS           DUAL                    ANY_PRIV_POL_RUN_1
CREATE SESSION                                         ANY_PRIV_POL_RUN_1
                 SYS           DUAL                    ANY_PRIV_POL_RUN_1
                 SYSTEM        PRODUCT_PRIVS           ANY_PRIV_POL_RUN_1
                 SYS           DBMS_APPLICATION_INFO   ANY_PRIV_POL_RUN_1
                 SYS           DUAL                    ANY_PRIV_POL_RUN_2
                 SYS           DBMS_APPLICATION_INFO   ANY_PRIV_POL_RUN_2
                 SYSTEM        PRODUCT_PRIVS           ANY_PRIV_POL_RUN_2
                 SYS           DUAL                    ANY_PRIV_POL_RUN_2
READ ANY TABLE   HR            JOBS                    ANY_PRIV_POL_RUN_2</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="This tutorial demonstrates how to create capture runs to analyze the use of the READ ANY TABLE system privilege.">Tutorial: Using Capture Runs to Analyze ANY Privilege Use</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-1FA9F206-75C2-4FC9-BA53-A17118A2C934" name="GUID-1FA9F206-75C2-4FC9-BA53-A17118A2C934"></a><h4 id="DBSEG-GUID-1FA9F206-75C2-4FC9-BA53-A17118A2C934" class="sect4">Step 7: Remove the Components for This Tutorial</h4>
                  <div>
                     <p>You can remove the components that you created for this tutorial if you no longer need them. </p>
                     <ol>
                        <li class="stepexpand"><span>As user <code class="codeph">pa_admin</code>, drop the <code class="codeph">ANY_priv_analysis_pol</code> privilege analysis policy and its associated capture runs. </span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DROP_CAPTURE ('ANY_priv_analysis_pol');
</pre><p>Any capture runs that are associated with this policy are dropped automatically when you run the <code class="codeph">DBMS_PRIVILEGE_CAPTURE.DROP_CAPTURE</code> procedure. 
                              </p>
                              <p>Even though in the next steps you will drop the <code class="codeph">pa_admin</code> user, including any objects created in this user's schema, you must manually drop the <code class="codeph">ANY_priv_analysis_pol</code> privilege analysis policy because this object resides in the <code class="codeph">SYS</code> schema. 
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Connect as the user who created the user accounts. </span><div>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">CONNECT sec_admin <span class="italic">-- Or, CONNECT sec_admin@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Drop the users <code class="codeph">pa_admin</code> and <code class="codeph">app_user</code>.</span><div><pre class="oac_no_warn" dir="ltr">DROP USER pa_admin;
DROP USER app_user;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="This tutorial demonstrates how to create capture runs to analyze the use of the READ ANY TABLE system privilege.">Tutorial: Using Capture Runs to Analyze ANY Privilege Use</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" name="GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E"></a><h3 id="DBSEG-GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" class="sect3">Tutorial: Analyzing Privilege Use by a User Who Has the DBA Role</h3>
               <div>
                  <p>This tutorial demonstrates how to analyze the privilege use of a user who has the <code class="codeph">DBA</code> role and performs database tuning operations. 
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-63EFFFC3-A68E-41B1-95BD-7147A0F53E4A">Step 1: Create User Accounts</a><br>You must create two users, one to create the privilege analysis policy and a second user whose privilege use will be analyzed.
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-8CEAD3FE-9F33-4E2A-9196-31DBA3E59AD6">Step 2: Create and Enable a Privilege Analysis Policy</a><br>User <code class="codeph">pa_admin</code> must create the and enable the privilege analysis policy.
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-5ED78334-FB5B-4A37-932D-9D5C5CBD2ED4">Step 3: Perform the Database Tuning Operations</a><br>User <code class="codeph">tjones</code> uses the <code class="codeph">DBA</code> role to perform database tuning operations.
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-11D7DE54-BCAC-49F7-A92D-FB0F8B9C7A6A">Step 4: Disable the Privilege Analysis Policy</a><br>You must disable the policy before you can generate a report that captures the actions of user <code class="codeph">tjones</code>.
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-3BB21726-7D0B-4853-8C44-8A1C9BD8E4B9">Step 5: Generate and View Privilege Analysis Reports</a><br>With the privilege analysis policy disabled, user <code class="codeph">pa_admin</code> can generate and view privilege analysis reports. 
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-7B824C23-9990-418E-AD33-0D92702EBD3D">Step 6: Remove the Components for This Tutorial</a><br>You can remove the components that you created for this tutorial if you no longer need them. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="Privilege analysis dynamically analyzes the privileges and roles that users use and do not use.">Performing Privilege Analysis to&nbsp;Find&nbsp;Privilege&nbsp;Use</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-63EFFFC3-A68E-41B1-95BD-7147A0F53E4A" name="GUID-63EFFFC3-A68E-41B1-95BD-7147A0F53E4A"></a><h4 id="DBSEG-GUID-63EFFFC3-A68E-41B1-95BD-7147A0F53E4A" class="sect4">Step 1: Create User Accounts</h4>
                  <div>
                     <p>You must create two users, one to create the privilege analysis policy and a second user whose privilege use will be analyzed.</p>
                     <ol>
                        <li class="stepexpand"><span> Log into the database instance as a user who has the <code class="codeph">CREATE USER</code> system privilege.</span><div>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin
Enter password: <span class="italic">password</span>
</pre><p>In a multitenant environment, you must log into the appropriate pluggable database (PDB).</p>
                              <p>For example:</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin@hrpdb
Enter password: <span class="italic">password</span>
</pre><p>To find the available PDBs, query the <code class="codeph">DBA_PDBS</code> data dictionary view. To check the current PDB, run the <code class="codeph">show con_name</code> command. 
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Create the following users:</span><div><pre class="oac_no_warn" dir="ltr">CREATE USER pa_admin IDENTIFIED BY <span class="italic">password</span>;
CREATE USER tjones IDENTIFIED BY <span class="italic">password</span>;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as a user who has the privileges to grant roles and system privileges to other users, and who has been granted the owner authorization for the Oracle System Privilege and Role Management realm. (User <code class="codeph">SYS</code> has these privileges by default.)</span><div>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">CONNECT dba_psmith <span class="italic">-- Or, CONNECT dba_psmith@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre><p>In SQL*Plus, a user who has been granted the <code class="codeph">DV_OWNER</code> role can check the authorization by querying the <code class="codeph">DBA_DV_REALM_AUTH</code> data dictionary view. To grant the user authorization, use the <code class="codeph">DBMS_MACADM.ADD_AUTH_TO_REALM</code> procedure. 
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Grant the following roles and privileges to the users.</span><div><pre class="oac_no_warn" dir="ltr">GRANT CREATE SESSION, CAPTURE_ADMIN TO pa_admin;
GRANT CREATE SESSION, DBA TO tjones;
</pre><p>User <code class="codeph">pa_admin</code> will create the privilege analysis policy that will analyze the database tuning operations that user <code class="codeph">tjones</code> will perform. 
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="This tutorial demonstrates how to analyze the privilege use of a user who has the DBA role and performs database tuning operations.">Tutorial: Analyzing Privilege Use by a User Who Has the DBA Role</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-8CEAD3FE-9F33-4E2A-9196-31DBA3E59AD6" name="GUID-8CEAD3FE-9F33-4E2A-9196-31DBA3E59AD6"></a><h4 id="DBSEG-GUID-8CEAD3FE-9F33-4E2A-9196-31DBA3E59AD6" class="sect4">Step 2: Create and Enable a Privilege Analysis Policy</h4>
                  <div>
                     <p>User <code class="codeph">pa_admin</code> must create the and enable the privilege analysis policy.
                     </p>
                     <ol>
                        <li class="stepexpand"><span>Connect as user <code class="codeph">pa_admin</code>.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT pa_admin <span class="italic">-- Or, CONNECT pa_admin@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Create the following privilege analysis policy:</span><div><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE(
  name             =&gt; 'dba_tuning_priv_analysis_pol',
  description      =&gt; 'Analyzes DBA tuning privilege use',
  type             =&gt; DBMS_PRIVILEGE_CAPTURE.G_CONTEXT,
  condition        =&gt; 'SYS_CONTEXT(''USERENV'', ''SESSION_USER'')=''TJONES''');
END;
/
</pre><p>In this example:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">type</code> specifies the type of capture condition that is defined by the <code class="codeph">condition</code> parameter, described next. In this policy, the type is a context-based condition.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">condition</code> specifies condition using a Boolean expression that must evaluate to <code class="codeph">TRUE</code> for the policy to take effect. In this case, the condition checks if the session user is <code class="codeph">tjones</code>.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Enable the policy.</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE ('dba_tuning_priv_analysis_pol');
</pre><p>At this point, the policy is ready to start recording the actions of user <code class="codeph">tjones</code>.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="This tutorial demonstrates how to analyze the privilege use of a user who has the DBA role and performs database tuning operations.">Tutorial: Analyzing Privilege Use by a User Who Has the DBA Role</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-5ED78334-FB5B-4A37-932D-9D5C5CBD2ED4" name="GUID-5ED78334-FB5B-4A37-932D-9D5C5CBD2ED4"></a><h4 id="DBSEG-GUID-5ED78334-FB5B-4A37-932D-9D5C5CBD2ED4" class="sect4">Step 3: Perform the Database Tuning Operations</h4>
                  <div>
                     <p>User <code class="codeph">tjones</code> uses the <code class="codeph">DBA</code> role to perform database tuning operations.
                     </p>
                     <ol>
                        <li class="stepexpand"><span>Connect as user <code class="codeph">tjones</code>.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT tjones <span class="italic">-- Or, CONNECT tjones@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Run the following script to create the <code class="codeph">PLAN_TABLE</code> table.</span><div><pre class="oac_no_warn" dir="ltr">@$ORACLE_HOME/rdbms/admin/utlxplan.sql
</pre><p>The location of this script may vary depending on your operating system. This script creates the <code class="codeph">PLAN_TABLE</code> table in the <code class="codeph">tjones</code> schema.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run the following <code class="codeph">EXPLAIN PLAN</code> SQL statement on the <code class="codeph">HR.EMPLOYEES</code> table:</span><div><pre class="oac_no_warn" dir="ltr">EXPLAIN PLAN
 SET STATEMENT_ID = 'Raise in Tokyo' 
 INTO PLAN_TABLE
 FOR UPDATE HR.EMPLOYEES
 SET SALARY = SALARY * 1.10
 WHERE DEPARTMENT_ID = 
  (SELECT DEPARTMENT_ID FROM HR.DEPARTMENTS WHERE LOCATION_ID = 110);
</pre><p>Next, user <code class="codeph">tjones</code> will analyze the <code class="codeph">HR.EMPLOYEES</code> table.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run either of the following scripts to create the <code class="codeph">CHAINED_ROWS</code> table</span><div><pre class="oac_no_warn" dir="ltr">@$ORACLE_HOME/rdbms/admin/utlchain.sql
</pre><p>Or</p><pre class="oac_no_warn" dir="ltr">@$ORACLE_HOME/rdbms/admin/utlchn1.sql
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">ANALYZE TABLE</code> statement on the <code class="codeph">HR.EMPLOYEES</code> table. </span><div><pre class="oac_no_warn" dir="ltr">ANALYZE TABLE HR.EMPLOYEES LIST CHAINED ROWS INTO CHAINED_ROWS;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="This tutorial demonstrates how to analyze the privilege use of a user who has the DBA role and performs database tuning operations.">Tutorial: Analyzing Privilege Use by a User Who Has the DBA Role</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-11D7DE54-BCAC-49F7-A92D-FB0F8B9C7A6A" name="GUID-11D7DE54-BCAC-49F7-A92D-FB0F8B9C7A6A"></a><h4 id="DBSEG-GUID-11D7DE54-BCAC-49F7-A92D-FB0F8B9C7A6A" class="sect4">Step 4: Disable the Privilege Analysis Policy</h4>
                  <div>
                     <p>You must disable the policy before you can generate a report that captures the actions of user <code class="codeph">tjones</code>.
                     </p>
                     <ol>
                        <li class="stepexpand"><span>Connect as user <code class="codeph">pa_admin</code>.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT pa_admin <span class="italic">-- Or, CONNECT pa_admin@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Disable the <code class="codeph">dba_tuning_priv_analysis_pol</code> privilege policy.</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE ('dba_tuning_priv_analysis_pol');</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="This tutorial demonstrates how to analyze the privilege use of a user who has the DBA role and performs database tuning operations.">Tutorial: Analyzing Privilege Use by a User Who Has the DBA Role</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-3BB21726-7D0B-4853-8C44-8A1C9BD8E4B9" name="GUID-3BB21726-7D0B-4853-8C44-8A1C9BD8E4B9"></a><h4 id="DBSEG-GUID-3BB21726-7D0B-4853-8C44-8A1C9BD8E4B9" class="sect4">Step 5: Generate and View Privilege Analysis Reports</h4>
                  <div>
                     <p>With the privilege analysis policy disabled, user <code class="codeph">pa_admin</code> can generate and view privilege analysis reports. 
                     </p>
                     <ol>
                        <li class="stepexpand"><span>As user <code class="codeph">pa_admin</code>, generate the privilege analysis results.</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT ('dba_tuning_priv_analysis_pol');
</pre><p>The generated results are stored in the privilege analysis data dictionary views.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Enter the following commands to format the data dictionary view output:</span><div><pre class="oac_no_warn" dir="ltr">col username format a8
col sys_priv format a18
col used_role format a20
col path format a150
col obj_priv format a10
col object_owner format a10
col object_name format a10
col object_type format a10
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Find the system privileges and roles that user <code class="codeph">tjones</code> used during the privilege analysis period. </span><div><pre class="oac_no_warn" dir="ltr">SELECT USERNAME, SYS_PRIV, USED_ROLE, PATH
 FROM DBA_USED_SYSPRIVS_PATH
 WHERE USERNAME = 'TJONES'
 ORDER BY 1, 2, 3;
</pre><p>Output similar to the following appears:</p><pre class="oac_no_warn" dir="ltr">USERNAME SYS_PRIV           USED_ROLE
-------- ------------------ --------------------
PATH
-------------------------------------------------------------------------------
TJONES   ANALYZE ANY        IMP_FULL_DATABASE
GRANT_PATH('TJONES', 'DBA')

TJONES   ANALYZE ANY        IMP_FULL_DATABASE
GRANT_PATH('TJONES', 'DBA', 'IMP_FULL_DATABASE')

TJONES   ANALYZE ANY        IMP_FULL_DATABASE
GRANT_PATH('TJONES', 'DBA', 'DATAPUMP_IMP_FULL_DATABASE', 'IMP_FULL_DATABASE')
...</pre><pre class="oac_no_warn" dir="ltr"></pre></div>
                        </li>
                        <li class="stepexpand"><span>Find the object privileges and roles that user <code class="codeph">tjones</code> used during the privilege analysis period. </span><div><pre class="oac_no_warn" dir="ltr">col username format a9
col used_role format a10
col object_name format a22
col object_type format a12

SELECT USERNAME, OBJ_PRIV, USED_ROLE,
 OBJECT_OWNER, OBJECT_NAME, OBJECT_TYPE
 FROM DBA_USED_OBJPRIVS 
 WHERE USERNAME = 'TJONES'
 ORDER BY 1, 2, 3, 4, 5, 6;
</pre><p>Output similar to the following appears:</p><pre class="oac_no_warn" dir="ltr">USERNAME  OBJ_PRIV   USED_ROLE  OBJECT_OWN OBJECT_NAME            OBJECT_TYPE
--------- ---------- ---------- ---------- ---------------------- ------------
TJONES    EXECUTE    PUBLIC     SYS        DBMS_APPLICATION_INFO  PACKAGE
TJONES    SELECT     PUBLIC     SYS        DUAL                   TABLE
TJONES    SELECT     PUBLIC     SYS        DUAL                   TABLE
TJONES    SELECT     PUBLIC     SYSTEM     PRODUCT_PRIVS          VIEW
...
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Find the unused system privileges for user <code class="codeph">tjones</code>. </span><div><pre class="oac_no_warn" dir="ltr">col username format a9
col sys_priv format a35

SELECT USERNAME, SYS_PRIV
 FROM DBA_UNUSED_SYSPRIVS
 WHERE USERNAME = 'TJONES'
 ORDER BY 1, 2;

USERNAME SYS_PRIV
-------- ------------------------------
TJONES   ADMINISTER ANY SQL TUNING SET
TJONES   ADMINISTER DATABASE TRIGGER
TJONES   ADMINISTER RESOURCE MANAGER
TJONES   ADMINISTER SQL TUNING SET
TJONES   ALTER ANY ASSEMBLY
TJONES   ON COMMIT REFRESH
...</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="This tutorial demonstrates how to analyze the privilege use of a user who has the DBA role and performs database tuning operations.">Tutorial: Analyzing Privilege Use by a User Who Has the DBA Role</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-7B824C23-9990-418E-AD33-0D92702EBD3D" name="GUID-7B824C23-9990-418E-AD33-0D92702EBD3D"></a><h4 id="DBSEG-GUID-7B824C23-9990-418E-AD33-0D92702EBD3D" class="sect4">Step 6: Remove the Components for This Tutorial</h4>
                  <div>
                     <p>You can remove the components that you created for this tutorial if you no longer need them. </p>
                     <ol>
                        <li class="stepexpand"><span>As user <code class="codeph">pa_admin</code>, drop the <code class="codeph">dba_tuning_priv_analysis_pol</code> privilege analysis policy. </span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DROP_CAPTURE ('dba_tuning_priv_analysis_pol');
</pre><p>Even though in the next steps you will drop the <code class="codeph">pa_admin</code> user, including any objects created in this user's schema, you must manually drop the <code class="codeph">dba_tuning_priv_analysis_pol</code> privilege analysis policy because this object resides in the <code class="codeph">SYS</code> schema. 
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Connect as the user who created the user accounts. </span><div>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">CONNECT sec_admin <span class="italic">-- Or, CONNECT sec_admin@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Drop the users <code class="codeph">pa_admin</code> and <code class="codeph">tjones</code>.</span><div><pre class="oac_no_warn" dir="ltr">DROP USER pa_admin;
DROP USER tjones CASCADE;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="This tutorial demonstrates how to analyze the privilege use of a user who has the DBA role and performs database tuning operations.">Tutorial: Analyzing Privilege Use by a User Who Has the DBA Role</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112" name="GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112"></a><h3 id="DBSEG-GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112" class="sect3">Privilege Analysis Policy and Report Data Dictionary Views</h3>
               <div>
                  <p>Oracle Database provides data dictionary views that show information about analyzed privileges.</p>
                  <div class="section">
                     <p><a href="performing-privilege-analysis-find-privilege-use.html#GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112__CACIIEGE" title="Privilege Analysis Data Dictionary Views">Table 5-1</a> lists these data dictionary views.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112__CACIIEGE">
                     <p class="titleintable">Table 5-1 Data Dictionary Views That Display Privilege Analysis Information</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Data Dictionary Views That Display Privilege Analysis Information" summary="Privilege Analysis Data Dictionary Views" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="46%" id="d56845e8387">View</th>
                              <th align="left" valign="bottom" width="54%" id="d56845e8390">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8395" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_PRIV_CAPTURES</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8395 d56845e8390 ">
                                 <p>Lists information about existing privilege analysis policies</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8403" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_PRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8403 d56845e8390 ">
                                 <p>Lists the privileges and capture runs that have been used for reported privilege analysis policies</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8411" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_GRANTS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8411 d56845e8390 ">
                                 <p>Lists the privilege grants that have not been used</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8419" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_PRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8419 d56845e8390 ">
                                 <p>Lists the privileges and capture runs that have not been used for reported privilege analysis policies</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8427" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_OBJPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8427 d56845e8390 ">
                                 <p>Lists the object privileges and capture runs that have been used for reported privilege analysis policies. It does not include the object grant paths.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8435" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_OBJPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8435 d56845e8390 ">
                                 <p>Lists the object privileges and capture runs that have not been used for reported privilege analysis policies. It does not include the object privilege grant paths.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8443" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_OBJPRIVS_PATH</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8443 d56845e8390 ">
                                 <p>Lists the object privileges and capture runs that have been used for reported privilege analysis policies. It includes the object privilege grant paths.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8451" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_OBJPRIVS_PATH</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8451 d56845e8390 ">
                                 <p>Lists the object privileges and capture runs that have not been used for reported privilege analysis policies. It includes the object privilege grant paths.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8459" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_SYSPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8459 d56845e8390 ">
                                 <p>Lists the system privileges and capture runs that have been used for reported privilege analysis policies. It does not include the system privilege grant paths.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8467" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_SYSPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8467 d56845e8390 ">
                                 <p>Lists the system privileges and capture runs that have not been used for reported privilege analysis policies. It does not include the system privilege grant paths.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8475" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_SYSPRIVS_PATH</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8475 d56845e8390 ">
                                 <p>Lists the system privileges and capture runs that have been used for reported privilege analysis policies. It includes the system privilege grant paths.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8484" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_SYSPRIVS_PATH</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8484 d56845e8390 ">
                                 <p>Lists the system privileges and capture runs that have not been used for reported privilege analysis policies. It includes system privilege grant paths</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8492" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_PUBPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8492 d56845e8390 ">
                                 <p>Lists all the privileges and capture runs for the <code class="codeph">PUBLIC</code> role that have been used for reported privilege analysis policies
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8503" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_USERPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8503 d56845e8390 ">
                                 <p>Lists the user privileges and capture runs that have been used for reported privilege analysis policies. It does not include the user privilege grant paths.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8511" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_USERPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8511 d56845e8390 ">
                                 <p>Lists the user privileges and capture runs that have not been used for reported privilege analysis policies. It does not include the user privilege grant paths.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8519" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_USERPRIVS_PATH</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8519 d56845e8390 ">
                                 <p>Lists the user privileges and capture runs that have been used for reported privilege analysis policies. It includes the user privilege grant paths.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8528" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_USERPRIVS_PATH</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8528 d56845e8390 ">
                                 <p>Lists the privileges and capture runs that have not been used for reported privilege analysis policies. It includes the user privilege grant paths.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../refrn/static-data-dictionary-views.html#REFRN-GUID-8865F65B-EF6D-44A5-B0A1-3179EFF0C36A" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="Privilege analysis dynamically analyzes the privileges and roles that users use and do not use.">Performing Privilege Analysis to&nbsp;Find&nbsp;Privilege&nbsp;Use</a></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>