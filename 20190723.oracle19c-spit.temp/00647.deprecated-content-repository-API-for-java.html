<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML&nbsp;DB Repository using Oracle XML DB Content Connector.">
      <meta name="description" content="Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML&nbsp;DB Repository using Oracle XML DB Content Connector.">
      <title>Deprecated Content Repository API for Java</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML&nbsp;DB Repository using Oracle XML DB Content Connector.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96222-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="XML-DB-restrictions.html" title="Previous" type="text/html">
      <link rel="next" href="book-index.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer's Guide">
    <meta name="dcterms.isVersionOf" content="ADXDB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="XML-DB-restrictions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="book-index.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="appendices.html" property="item" typeof="WebPage"><span property="name"> Appendixes </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Deprecated Content Repository API for Java</li>
            </ol>
            <a id="GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" name="GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF"></a>
            
            <h2 id="ADXDB-GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" class="sect2"><span class="enumeration_chapter">C </span> Deprecated Content Repository API for Java
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='deprecated-content-repository-API-for-java'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML&nbsp;DB Repository using Oracle XML DB Content Connector.</p>
               <div class="infoboxnote" id="GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF__GUID-F945FE22-07EF-4F1C-A27E-C54449322CBB">
                  <p class="notep1">Note:</p>
                  <p>Oracle XML DB Content Connector is <span class="italic">deprecated</span>, starting with Oracle Database 12c Release 2 (12.2.0.1). Java standard JSR-170 has been replaced by JSR-283 Content Repository for Java Technology Version 2.0.
                  </p>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-83A8D8D9-4D02-4305-A599-22A4A2A06543">About the Content Repository API for Java (JCR)</a><br>JCR 1.0 defines a standard Java API for applications to interact with content repositories. A content repository is a tree of nodes, each of which can have one or more child nodes. Each node has exactly one parent node, except for the root node, which has no parent.
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-ECCC3B15-8448-44F7-990B-391709FC0406">About Oracle XML DB Content Connector</a><br>Oracle XML DB Content Connector lets you access Oracle XML&nbsp;DB Repository using JCR 1.0 Java. Your applications can run either in a standalone Java Virtual Machine (JVM) or a J2EE container. Files and folders in the repository are represented as JCR nodes (and properties of those nodes). 
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-F5DE153B-484D-4802-96AA-EA3B99925284">How Oracle XML&nbsp;DB Repository Is Exposed in JCR</a><br>Oracle XML DB Content Connector represents data in Oracle XML&nbsp;DB Repository as JCR nodes and properties. Files and folders are represented as nodes of type <code class="codeph">nt:file</code> and <code class="codeph">nt:folder</code>, respectively. Their content and metadata is exposed as nodes of node type <code class="codeph">nt:resource</code>.
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-13A9B8B2-A114-4A2E-A969-66BA63A65EB3">CLASSPATH for Oracle XML DB Content Connector</a><br>Oracle XML DB Content Connector requires certain entries in environment variable <code class="codeph">CLASSPATH</code>.
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-0562911B-7E28-4C29-83F5-445C4727EDF4">Obtaining the JCR Repository Object</a><br>In Oracle XML DB Content Connector, <code class="codeph">oracle.jcr.OracleRepository</code> implements JCR interface <code class="codeph">javax.jcr.Repository</code>, which provides the entry point for a JCR repository. You can use it to obtain a <code class="codeph">Repository</code> object for Oracle XML&nbsp;DB Repository.
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-C6E68FC7-7F4D-4F43-B528-7450323024A5">Java Code to Upload a File to the Repository using Oracle XML DB Content Connector</a><br>You can use Oracle XML DB Content Connector to upload a file from the local file system to Oracle XML&nbsp;DB Repository. 
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-1F72EBAC-F5BD-46B9-92EC-404C9FB254D3">Additional JCR Code Examples</a><br>You can find additional sample JCR code at <code class="codeph">$ORACLE_HOME/xdk/demo/java/jcr</code>. For each code sample, a <code class="codeph">README</code> file describes its purpose and use.
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-646D0849-09DF-4260-9895-A6DA1A634A02">Oracle XML&nbsp;DB Content Connector Uses the Standard Java Logging API</a><br>Oracle XML DB Content Connector uses the standard <code class="codeph">java.util.logging</code> framework. You can use the logging API provided by that framework to control logging behavior. 
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-A748295C-08E8-497F-BC9B-8573014CB329">Supported JCR Compliance Levels</a><br>The JSR-170 standard, which defines JCR version 1.0, defines two compliance levels and a set of optional features. Oracle XML DB Content Connector supports Level 1 (read functions) and Level 2 (write functions).
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-B95FD86F-9769-4B90-8C7A-B05E21CEF483">Oracle XML DB Content Connector Restrictions</a><br>Certain restrictions apply to Oracle XML DB Content Connector.
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-5015FD42-CA22-484C-B52E-444D8E10CE9A">XML Schemas and JCR</a><br>Oracle XML DB Content Connector can create JCR node types from XML schemas.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="appendices.html#GUID-F5090451-FFF7-4DE0-BA7A-B62D819E787F" title="Appendixes here provide background material for Oracle XML&nbsp;DB.">Appendixes</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-83A8D8D9-4D02-4305-A599-22A4A2A06543" name="GUID-83A8D8D9-4D02-4305-A599-22A4A2A06543"></a><h3 id="ADXDB-GUID-83A8D8D9-4D02-4305-A599-22A4A2A06543" class="sect3"><span class="enumeration_section">C.1 </span>About the Content Repository API for Java (JCR)
               </h3>
               <div>
                  <p>JCR 1.0 defines a standard Java API for applications to interact with content repositories. A content repository is a tree of nodes, each of which can have one or more child nodes. Each node has exactly one parent node, except for the root node, which has no parent.</p>
                  <p>In addition to child nodes, a node may also have one or more properties. A property is a simple name/value pair. For example, a node representing a particular file in the content repository has a property named <code class="codeph">jcr:created</code> whose value is the date the file was created.
                  </p>
                  <p>Each property has a property type. For example, the <code class="codeph">jcr:created</code> property has the <code class="codeph">DATE</code> property type, requiring its value to be a valid date/time.
                  </p>
                  <p>Similarly, each node has a node type. For example, a node representing a file has node type <code class="codeph">nt:file</code>. The node type controls what child nodes and properties the node may have or must have. For example, all nodes of type <code class="codeph">nt:file</code> must have a <code class="codeph">jcr:created</code> property.
                  </p>
                  <p>Because nodes and properties are named, they can be addressed by path. JCR supports both absolute and relative paths. For example, the absolute path</p><pre class="pre codeblock"><code>/My Documents/pictures/puppy.jpg/jcr:created
</code></pre><p>resolves to the <code class="codeph">jcr:created</code> property of file <code class="codeph">puppy.jpg</code>. This property can also be addressed relative to the <code class="codeph">My Documents</code> folder by the following relative path:
                  </p><pre class="pre codeblock"><code>pictures/puppy.jpg/jcr:created
</code></pre><p>Node and property names can be namespace qualified. Like XML, JCR uses colon-delimited namespace prefixes to express namespace-qualified names, for example, <code class="codeph">jcr:created</code>. Unlike XML, JCR records the namespace prefix-to-URI mappings in a repository-wide namespace registry, which, for example, maps the <code class="codeph">jcr</code> prefix to the URI <code class="codeph">http://www.jcp.org/jcr/1.0</code>.
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-83A8D8D9-4D02-4305-A599-22A4A2A06543__GUID-56ED313E-58BA-40C7-8C49-C0BCC377EDF3">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=jcp_org_jsr_170" target="_blank">JSR 170: Content Repository for Java&nbsp;technology API</a>. Chapter 4 of this specification provides a concise introduction to JCR 1.0.
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML&nbsp;DB Repository using Oracle XML DB Content Connector.">Deprecated Content Repository API for Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-ECCC3B15-8448-44F7-990B-391709FC0406" name="GUID-ECCC3B15-8448-44F7-990B-391709FC0406"></a><h3 id="ADXDB-GUID-ECCC3B15-8448-44F7-990B-391709FC0406" class="sect3"><span class="enumeration_section">C.2 </span>About Oracle XML DB Content Connector
               </h3>
               <div>
                  <p>Oracle XML DB Content Connector lets you access Oracle XML&nbsp;DB Repository using JCR 1.0 Java. Your applications can run either in a standalone Java Virtual Machine (JVM) or a J2EE container. Files and folders in the repository are represented as JCR nodes (and properties of those nodes). </p>
                  <p>You can create, retrieve, and update repository files and folders using the JCR APIs.</p>
                  <div class="infoboxnote" id="GUID-ECCC3B15-8448-44F7-990B-391709FC0406__GUID-E27DB720-49A7-40DC-834E-BE5CE17763A3">
                     <p class="notep1">Note:</p>
                     <p>Using Oracle XML DB Content Connector in the database Oracle JVM (the Java Virtual Machine available within a database process) is not supported. To use the content connector in the database tier, you must use either a standalone Java Virtual Machine or a J2EE container.</p>
                  </div>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML&nbsp;DB Repository using Oracle XML DB Content Connector.">Deprecated Content Repository API for Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-F5DE153B-484D-4802-96AA-EA3B99925284" name="GUID-F5DE153B-484D-4802-96AA-EA3B99925284"></a><h3 id="ADXDB-GUID-F5DE153B-484D-4802-96AA-EA3B99925284" class="sect3"><span class="enumeration_section">C.3 </span>How Oracle XML&nbsp;DB Repository Is Exposed in JCR
               </h3>
               <div>
                  <p>Oracle XML DB Content Connector represents data in Oracle XML&nbsp;DB Repository as JCR nodes and properties. Files and folders are represented as nodes of type <code class="codeph">nt:file</code> and <code class="codeph">nt:folder</code>, respectively. Their content and metadata is exposed as nodes of node type <code class="codeph">nt:resource</code>.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML&nbsp;DB Repository using Oracle XML DB Content Connector.">Deprecated Content Repository API for Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-13A9B8B2-A114-4A2E-A969-66BA63A65EB3" name="GUID-13A9B8B2-A114-4A2E-A969-66BA63A65EB3"></a><h3 id="ADXDB-GUID-13A9B8B2-A114-4A2E-A969-66BA63A65EB3" class="sect3"><span class="enumeration_section">C.4 </span>CLASSPATH for Oracle XML DB Content Connector
               </h3>
               <div>
                  <p>Oracle XML DB Content Connector requires certain entries in environment variable <code class="codeph">CLASSPATH</code>.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">$ORACLE_HOME/lib/jcr-1.0.jar</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">$ORACLE_HOME/lib/ojcr.jar</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">$ORACLE_HOME/lib/xmlparserv2.jar</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">$ORACLE_HOME/jlib/xquery.jar</code></p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML&nbsp;DB Repository using Oracle XML DB Content Connector.">Deprecated Content Repository API for Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-0562911B-7E28-4C29-83F5-445C4727EDF4" name="GUID-0562911B-7E28-4C29-83F5-445C4727EDF4"></a><h3 id="ADXDB-GUID-0562911B-7E28-4C29-83F5-445C4727EDF4" class="sect3"><span class="enumeration_section">C.5 </span>Obtaining the JCR Repository Object
               </h3>
               <div>
                  <p>In Oracle XML DB Content Connector, <code class="codeph">oracle.jcr.OracleRepository</code> implements JCR interface <code class="codeph">javax.jcr.Repository</code>, which provides the entry point for a JCR repository. You can use it to obtain a <code class="codeph">Repository</code> object for Oracle XML&nbsp;DB Repository.
                  </p>
                  <div class="section">
                     <p>The code fragment in <a href="deprecated-content-repository-API-for-java.html#GUID-0562911B-7E28-4C29-83F5-445C4727EDF4__BABIDJDH">Example C-1</a> illustrates this.
                     </p>
                     <p><code class="codeph">OracleRepository</code> implements both <code class="codeph">java.io.Serializable</code> and <code class="codeph">javax.naming.Referenceable</code>. This lets you create and configure an <code class="codeph">OracleRepository</code> object upon application deployment, and store the ready-to-use <code class="codeph">OracleRepository</code> object in a JNDI directory. At run-time, your application can retrieve the preconfigured <code class="codeph">OracleRepository</code> object from the JNDI directory. This approach, recommended by the JCR specification, separates deployment and run-time concerns.
                     </p>
                     <p>In Oracle XML DB Content Connector, the set of prefix-to-URI mappings forming the JCR namespace registry is stored as part of the <code class="codeph">OracleRepository</code> configuration. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-0562911B-7E28-4C29-83F5-445C4727EDF4__GUID-A4F4684B-D3F7-48AB-90C5-48E6D6A3EE2C">
                        <p class="notep1">See Also:</p>
                        <p><a href="../jaxml/index.html" target="_blank"><span><cite>Oracle Database XML Java API Reference</cite></span></a>, package <code class="codeph">oracle.jcr</code></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-0562911B-7E28-4C29-83F5-445C4727EDF4__BABIDJDH">
                     <p class="titleinexample">Example C-1 Code Fragment Showing How to Get a Repository Object</p><pre class="oac_no_warn" dir="ltr">import oracle.jcr.OracleRepository;
import oracle.jcr.OracleRepositoryFactory;
import oracle.jcr.xdb.XDBRepositoryConfiguration;
import oracle.jdbc.pool.OracleDataSource;
...
XDBRepositoryConfiguration configuration =
&nbsp;&nbsp;new XDBRepositoryConfiguration();
OracleDataSource ods =
&nbsp;&nbsp;(OracleDataSource)configuration.getDataSource();
// databaseURL is a JDBC database URL.
ods.setURL(databaseURL);
// OracleRepository implements javax.jcr.Repository.
OracleRepository repository =
&nbsp;&nbsp;OracleRepositoryFactory.<span class="bold">createOracleRepository</span>(configuration);
</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML&nbsp;DB Repository using Oracle XML DB Content Connector.">Deprecated Content Repository API for Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-C6E68FC7-7F4D-4F43-B528-7450323024A5" name="GUID-C6E68FC7-7F4D-4F43-B528-7450323024A5"></a><h3 id="ADXDB-GUID-C6E68FC7-7F4D-4F43-B528-7450323024A5" class="sect3"><span class="enumeration_section">C.6 </span>Java Code to Upload a File to the Repository using Oracle XML DB Content Connector
               </h3>
               <div>
                  <p>You can use Oracle XML DB Content Connector to upload a file from the local file system to Oracle XML&nbsp;DB Repository. </p>
                  <div class="section">
                     <p><a href="deprecated-content-repository-API-for-java.html#GUID-C6E68FC7-7F4D-4F43-B528-7450323024A5__BABGDJIG">Example C-2</a> is a Java program that illustrates this. You can compile and run it from the command line. The program requires the following command-line arguments:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>JDBC database URL</p>
                        </li>
                        <li>
                           <p>User ID</p>
                        </li>
                        <li>
                           <p>User password</p>
                        </li>
                        <li>
                           <p>Folder in Oracle XML&nbsp;DB Repository into which to upload the file</p>
                        </li>
                        <li>
                           <p>File to be uploaded</p>
                        </li>
                        <li>
                           <p>MIME type</p>
                        </li>
                     </ul>
                     <p><a href="deprecated-content-repository-API-for-java.html#GUID-C6E68FC7-7F4D-4F43-B528-7450323024A5__BGBFJGFD">Example C-3</a> illustrates this.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-C6E68FC7-7F4D-4F43-B528-7450323024A5__BABGDJIG">
                     <p class="titleinexample">Example C-2 Uploading a File Using Oracle XML DB Content Connector</p><pre class="pre codeblock"><code>import java.io.FileInputStream;
 
import javax.jcr.Node;
import javax.jcr.Session;
import javax.jcr.SimpleCredentials;
 
import oracle.jcr.OracleRepository;
import oracle.jcr.OracleRepositoryFactory;
 
import oracle.jcr.xdb.XDBRepositoryConfiguration;
 
import oracle.jdbc.pool.OracleDataSource;
 
public class UploadFile
{
  public static void main(String[] args)
    throws Exception
  {
    String databaseURL = args[0];
    String userName = args[1];
    String password = args[2];
    String parentPath = args[3];
    String fileName = args[4];
    String mimeType = args[5];
    
    // Get the JCR Repository object.
    XDBRepositoryConfiguration configuration =
      new XDBRepositoryConfiguration();
 
    OracleDataSource ods =
      (OracleDataSource)configuration.getDataSource();
 
    ods.setURL(databaseURL);
    
    OracleRepository repository =
      OracleRepositoryFactory.createOracleRepository(configuration);
    
    // Create a JCR Session.
    SimpleCredentials sc =  
      new SimpleCredentials(userName, password.toCharArray());
 
    Session session = repository.login(sc);
 
    // Get the parent node.
    Node parentNode = (Node)session.getItem(parentPath);
    
    // Get the child contents.
    FileInputStream inputStream = new FileInputStream(fileName);
    
    // Create child node.
    Node node = parentNode.addNode(fileName, "nt:file");
    Node contentNode = node.getNode("jcr:content");
    contentNode.setProperty("jcr:mimeType", mimeType);
    contentNode.setProperty("jcr:data", inputStream);
    
    // Save changes and logout.
    session.save();
    session.logout();
  }
}
 
// EOF
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-C6E68FC7-7F4D-4F43-B528-7450323024A5__BGBFJGFD">
                     <p class="titleinexample">Example C-3 Uploading a File Using the Command Line</p><pre class="pre codeblock"><code>export CLASSPATH=.:$ORACLE_HOME/lib/jcr-1.0.jar:$ORACLE_HOME/lib/ojcr.jar:<a id="fn_1" name="fn_1" href="#fn_1" onclick="footdisplay(1, "This statement is split across two lines for the purpose of documentation.")"><sup>Foot&nbsp;1</sup></a>
$ORACLE_HOME/lib/xmlparserv2.jar:$ORACLE_HOME/jlib/xquery.jar

javac UploadFile.java
java UploadFile jdbc:oracle:oci:@ quine <span class="italic"><code class="codeph">password</code></span> /public MyFile.txt text/plain</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML&nbsp;DB Repository using Oracle XML DB Content Connector.">Deprecated Content Repository API for Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-1F72EBAC-F5BD-46B9-92EC-404C9FB254D3" name="GUID-1F72EBAC-F5BD-46B9-92EC-404C9FB254D3"></a><h3 id="ADXDB-GUID-1F72EBAC-F5BD-46B9-92EC-404C9FB254D3" class="sect3"><span class="enumeration_section">C.7 </span>Additional JCR Code Examples
               </h3>
               <div>
                  <p>You can find additional sample JCR code at <code class="codeph">$ORACLE_HOME/xdk/demo/java/jcr</code>. For each code sample, a <code class="codeph">README</code> file describes its purpose and use.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML&nbsp;DB Repository using Oracle XML DB Content Connector.">Deprecated Content Repository API for Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-646D0849-09DF-4260-9895-A6DA1A634A02" name="GUID-646D0849-09DF-4260-9895-A6DA1A634A02"></a><h3 id="ADXDB-GUID-646D0849-09DF-4260-9895-A6DA1A634A02" class="sect3"><span class="enumeration_section">C.8 </span>Oracle XML&nbsp;DB Content Connector Uses the Standard Java Logging API
               </h3>
               <div>
                  <p>Oracle XML DB Content Connector uses the standard <code class="codeph">java.util.logging</code> framework. You can use the logging API provided by that framework to control logging behavior. 
                  </p>
                  <p>For example, the following Java code fragment disables all logging.</p><pre class="pre codeblock"><code>import java.util.logging.LogManager;
...
LogManager.getLogManager().reset();
</code></pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML&nbsp;DB Repository using Oracle XML DB Content Connector.">Deprecated Content Repository API for Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-A748295C-08E8-497F-BC9B-8573014CB329" name="GUID-A748295C-08E8-497F-BC9B-8573014CB329"></a><h3 id="ADXDB-GUID-A748295C-08E8-497F-BC9B-8573014CB329" class="sect3"><span class="enumeration_section">C.9 </span>Supported JCR Compliance Levels
               </h3>
               <div>
                  <p>The JSR-170 standard, which defines JCR version 1.0, defines two compliance levels and a set of optional features. Oracle XML DB Content Connector supports Level 1 (read functions) and Level 2 (write functions).</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML&nbsp;DB Repository using Oracle XML DB Content Connector.">Deprecated Content Repository API for Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-B95FD86F-9769-4B90-8C7A-B05E21CEF483" name="GUID-B95FD86F-9769-4B90-8C7A-B05E21CEF483"></a><h3 id="ADXDB-GUID-B95FD86F-9769-4B90-8C7A-B05E21CEF483" class="sect3"><span class="enumeration_section">C.10 </span>Oracle XML DB Content Connector Restrictions
               </h3>
               <div>
                  <p>Certain restrictions apply to Oracle XML DB Content Connector.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML&nbsp;DB Repository using Oracle XML DB Content Connector.">Deprecated Content Repository API for Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-5015FD42-CA22-484C-B52E-444D8E10CE9A" name="GUID-5015FD42-CA22-484C-B52E-444D8E10CE9A"></a><h3 id="ADXDB-GUID-5015FD42-CA22-484C-B52E-444D8E10CE9A" class="sect3"><span class="enumeration_section">C.11 </span>XML Schemas and JCR
               </h3>
               <div>
                  <p>Oracle XML DB Content Connector can create JCR node types from XML schemas.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML&nbsp;DB Repository using Oracle XML DB Content Connector.">Deprecated Content Repository API for Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <hr><br><p style="text-decoration:underline">Footnote Legend</p>Footnote&nbsp;1: 
            <p>This statement is split across two lines for the purpose of documentation.</p><br></div>
      </article>
   </body>
</html>