<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>PREDICTION_COST</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="PREDICTION_BOUNDS.html" title="Previous" type="text/html">
      <link rel="next" href="PREDICTION_DETAILS.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="PREDICTION_BOUNDS.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="PREDICTION_DETAILS.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">PREDICTION_COST </li>
            </ol>
            <a id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890" name="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890"></a><a id="SQLRF51634"></a><a id="SQLRF55759"></a><a id="SQLRF55760"></a><a id="SQLRF55761"></a><a id="SQLRF51635"></a><a id="SQLRF51636"></a><a id="SQLRF55762"></a><a id="SQLRF56337"></a><a id="SQLRF56140"></a><a id="SQLRF56145"></a><a id="SQLRF56146"></a><a id="SQLRF51638"></a><a id="SQLRF06210"></a>
            
            <h2 id="SQLRF-GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890" class="sect2">PREDICTION_COST </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-BCFC755D-B467-4F32-8BA8-719944634B8E">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-2A10CBDB-9B2E-478E-B5B9-575177E8DD3D"><span class="italic">prediction_cost</span>::=
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-6CF449F3-E769-4860-B392-AB51898E179E"><img src="img/prediction_cost.gif" alt="Description of prediction_cost.eps follows" title="Description of prediction_cost.eps follows" longdesc="img_text/prediction_cost.html"><br><a href="img_text/prediction_cost.html">Description of the illustration prediction_cost.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-099EEC93-9546-481A-BD40-28A7B328DE72">Analytic Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-178A018A-725E-4572-A10E-473425E4F8B2"><span class="italic">prediction_cost_analytic</span>::=
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-06EBD097-11CD-43F7-BBCF-5A9BF2799AAD"><img src="img/prediction_cost_analytic.gif" alt="Description of prediction_cost_analytic.eps follows" title="Description of prediction_cost_analytic.eps follows" longdesc="img_text/prediction_cost_analytic.html"><br><a href="img_text/prediction_cost_analytic.html">Description of the illustration prediction_cost_analytic.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-6A2F040A-FA38-43D2-8271-4F102938594B"><span class="italic">cost_matrix_clause</span>::=
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-F62F602A-4365-4A10-ABBD-97CDD6F2D82C"><img src="img/cost_matrix_clause.gif" alt="Description of cost_matrix_clause.eps follows" title="Description of cost_matrix_clause.eps follows" longdesc="img_text/cost_matrix_clause.html"><br><a href="img_text/cost_matrix_clause.html">Description of the illustration cost_matrix_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-DB33018A-4924-445C-A426-B416393410D9"><span class="italic">mining_attribute_clause</span>::=
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-7E969FEC-780E-4FB5-B0AE-7852A3C3A099"><img src="img/mining_attribute_clause.gif" alt="Description of mining_attribute_clause.eps follows" title="Description of mining_attribute_clause.eps follows" longdesc="img_text/mining_attribute_clause.html"><br><a href="img_text/mining_attribute_clause.html">Description of the illustration mining_attribute_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-75E53D7C-F453-480E-9A62-23B79F3A9CD9"><span class="italic">mining_analytic_clause</span>::=
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-B6A59C8B-5324-489F-A19E-8090BDF10BD3"><img src="img/mining_analytic_clause.gif" alt="Description of mining_analytic_clause.eps follows" title="Description of mining_analytic_clause.eps follows" longdesc="img_text/mining_analytic_clause.html"><br><a href="img_text/mining_analytic_clause.html">Description of the illustration mining_analytic_clause.eps</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnotealso" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-E22626CC-74EC-42E8-A9C8-A275C9B38728">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="Analytic-Functions.html#GUID-527832F7-63C0-4445-8C16-307FA5084056">Analytic Functions</a>"</span> for information on the syntax, semantics, and restrictions of <span class="italic"><code class="codeph">mining_analytic_clause</code></span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-8A6CD2B9-AA98-409F-83BA-94B8F9442F10">Purpose</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">PREDICTION_COST</code> returns a cost for each row in the selection. The cost refers to the lowest cost class or to the specified <span class="italic"><code class="codeph">class</code></span>. The cost is returned as  <code class="codeph">BINARY_DOUBLE</code>.
                  </p>
                  <p><code class="codeph">PREDICTION_COST</code> can perform classification or anomaly detection. For classification, the returned cost refers to a predicted target class. For anomaly detection, the returned cost refers to a classification of <code class="codeph">1</code> (for typical rows) or <code class="codeph">0</code> (for anomalous rows).
                  </p>
                  <p>You can use <code class="codeph">PREDICTION_COST</code> in conjunction with the <code class="codeph">PREDICTION</code> function to obtain the prediction and the cost of the prediction. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-E02071C2-0C19-4DC1-B07F-ECED6E8AB1C5">cost_matrix_clause</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>Costs are a biasing factor for minimizing the most harmful kinds of misclassifications. For example, false positives might be considered more costly than false negatives. Costs are specified in a cost matrix that can be associated with the model or defined inline in a <code class="codeph">VALUES</code> clause. All classification algorithms can use costs to influence scoring. 
                  </p>
                  <p>Decision Tree is the only algorithm that can use costs to influence the model build. The cost matrix used to build a Decision Tree model is also the default scoring cost matrix for the model.</p>
                  <p>The following cost matrix table specifies that the misclassification of <code class="codeph">1</code> is five times more costly than the misclassification of <code class="codeph">0</code>.
                  </p><pre class="oac_no_warn" dir="ltr">ACTUAL_TARGET_VALUE PREDICTED_TARGET_VALUE       COST
------------------- ---------------------- ----------
                  0                      0          0
                  0                      1          1
                  1                      0          5
                  1                      1          0
</pre><p> In <span class="italic"><code class="codeph">cost_matrix_clause</code></span>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">COST</code> <code class="codeph">MODEL</code> indicates that scoring should be performed by taking into account the scoring cost matrix associated with the model. If the cost matrix does not exist, then the function returns an error. 
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">COST</code> <code class="codeph">MODEL</code> <code class="codeph">AUTO</code> indicates that the existence of a cost matrix is unknown. If a cost matrix exists, then the function uses it to return the lowest cost prediction. Otherwise the function returns the highest probability prediction.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">VALUES</code> clause specifies an inline cost matrix for <span class="italic"><code class="codeph">class_value</code></span>. For example, you could specify that the misclassification of <code class="codeph">1</code> is five times more costly than the misclassification of <code class="codeph">0</code> as follows:
                        </p><pre class="oac_no_warn" dir="ltr">   PREDICTION (nb_model COST (0,1) VALUES ((0, 1),(1, 5)) USING *)
</pre><p>If a model that has a scoring cost matrix is invoked with an inline cost matrix, then the inline costs are used.</p>
                        <div class="infoboxnotealso" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-C60EB066-F170-43C5-B297-700E836E7B5A">
                           <p class="notep1">See Also:</p>
                           <p><a href="../dmapi/cost-sensitive-decision-making.html#DMPRG243" target="_blank"><span class="italic">Oracle Data Mining User's Guide</span></a> for more information about cost-sensitive prediction.
                           </p>
                        </div>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-BABEDD47-5E1D-4AF2-86A9-B3F19D7CC317">Syntax Choice</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">PREDICTION_COST</code> can score the data in one of two ways: It can apply a mining model object to the data, or it can dynamically mine the data by executing an analytic clause that builds and applies one or more transient mining models. Choose <span class="bold">Syntax</span> or <span class="bold">Analytic Syntax</span>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="bold">Syntax</span> — Use the first syntax to score the data with a pre-defined model. Supply the name of a model that performs classification or anomaly detection.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Analytic Syntax</span> — Use the analytic syntax to score the data without a pre-defined model. The analytic syntax uses <span class="italic"><code class="codeph">mining_analytic_clause</code></span> , which specifies if the data should be partitioned for multiple model builds. The <span class="italic"><code class="codeph">mining_analytic_clause</code></span> supports a <span class="italic"><code class="codeph">query_partition_clause</code></span> and an <span class="italic"><code class="codeph">order_by_clause</code></span>. (See <span class="q">"<a href="Analytic-Functions.html#GUID-527832F7-63C0-4445-8C16-307FA5084056__CJAFAAIA">analytic_clause::=</a>"</span>.)
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>For classification, specify <code class="codeph">FOR</code> <span class="italic"><code class="codeph">expr</code></span>, where <span class="italic"><code class="codeph">expr</code></span> is an expression that identifies a target column that has a character data type.
                              </p>
                           </li>
                           <li>
                              <p>For anomaly detection, specify the keywords <code class="codeph">OF ANOMALY</code>.
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p>The syntax of the <code class="codeph">PREDICTION_COST</code> function can use an optional <code class="codeph">GROUPING</code> hint when scoring a partitioned model. See <a href="Comments.html#GUID-9693C230-2616-4123-A1ED-3C41E9566F7A">GROUPING Hint</a>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-E9978760-1AF4-42B1-BB10-596FB76A4A5B">mining_attribute_clause</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="italic"><code class="codeph">mining_attribute_clause</code></span> identifies the column attributes to use as predictors for scoring. When the function is invoked with the analytic syntax, these predictors are also used for building the transient models. The <span class="italic"><code class="codeph">mining_attribute_clause</code></span> behaves as described for the <code class="codeph">PREDICTION</code> function. (See <span class="q">"<a href="PREDICTION.html#GUID-DA66A1C3-BFB2-43A1-A3FF-93D4A3DAB9C6__CJAIGCFC">mining_attribute_clause::=</a>"</span>.)
                  </p>
                  <div class="infoboxnotealso" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-4A3EA8A0-D809-41F7-800B-980A5F27200C">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../dmapi/scoring-deployment.html#DMPRG004" target="_blank"><span class="italic">Oracle Data Mining User's Guide</span></a> for information about scoring.
                           </p>
                        </li>
                        <li>
                           <p><a href="../dmapi/classification.html#DMCON050" target="_blank"><span class="italic">Oracle Data Mining Concepts</span></a> for information about classification with costs
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnote" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-5B368866-B302-47C6-9715-F54369A81376">
                     <p class="notep1">Note:</p>
                     <p>The following example is excerpted from the Data Mining sample programs. For more information about the sample programs, see Appendix A in <a href="../dmprg/about-data-mining-sample-program.html#DMPRG714" target="_blank"><span class="italic">Oracle Data Mining User's Guide</span></a>.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890__GUID-682C024F-FE61-47C2-B516-F506DCE36613">Example</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>This example predicts the ten customers in Italy who would respond to the least expensive sales campaign (offering an affinity card).</p><pre class="oac_no_warn" dir="ltr">SELECT cust_id 
FROM (SELECT cust_id,rank()
       OVER (ORDER BY PREDICTION_COST(DT_SH_Clas_sample, 1 COST MODEL USING *)
            ASC, cust_id) rnk
        FROM mining_data_apply_v
        WHERE country_name = 'Italy')
  WHERE rnk &lt;= 10
  ORDER BY rnk;
 
   CUST_ID
----------
    100081
    100179
    100185
    100324
    100344
    100554
    100662
    100733
    101250
    101306</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>