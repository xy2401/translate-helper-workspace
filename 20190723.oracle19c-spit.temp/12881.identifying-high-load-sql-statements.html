<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Identifying High-Load SQL Statements</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database 2 Day + Performance Tuning Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database 2 Day + Performance Tuning Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-2-day-performance-tuning-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T02:50:24-08:00">
      <meta name="dcterms.title" content="Database 2 Day + Performance Tuning Guide">
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96346-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="part-IV-sql-tuning.html" title="Previous" type="text/html">
      <link rel="next" href="tuning-sql-statements.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TDPPT">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="part-IV-sql-tuning.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="tuning-sql-statements.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database 2 Day + Performance Tuning Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-IV-sql-tuning.html" property="item" typeof="WebPage"><span property="name"> SQL Tuning </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Identifying High-Load SQL Statements </li>
            </ol>
            <a id="GUID-D4D8C985-93B4-402C-A6C9-D5ABA980BEDB" name="GUID-D4D8C985-93B4-402C-A6C9-D5ABA980BEDB"></a><a id="TDPPT140"></a>
            
            <h2 id="TDPPT-GUID-D4D8C985-93B4-402C-A6C9-D5ABA980BEDB" class="sect2"><span class="enumeration_chapter">11 </span>Identifying High-Load SQL Statements 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>High-load SQL statements<a id="d21103e80" class="indexterm-anchor"></a> may consume a disproportionate amount of system resources. These SQL statements often greatly affect database performance and must be tuned to optimize their performance and resource consumption. Even when a database is properly tuned, inefficient SQL can significantly degrade performance.
               </p>
               <p>Identifying high-load SQL statements is an important SQL tuning activity that must be performed regularly. Automatic Database Diagnostic Monitor (ADDM) automates this task by proactively identifying potential high-load SQL statements. Additionally, you can use Oracle Enterprise Manager Cloud Control (Cloud Control) to identify high-load SQL statements that require further investigation. After you have identified the high-load SQL statements, you can tune them with SQL Tuning Advisor and SQL Access Advisor.</p>
               <p>This chapter describes how to identify high-load SQL statements and contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="identifying-high-load-sql-statements.html#GUID-795AF9F0-5CBF-44FB-8D20-FC170EFA149C">Identification of High-Load SQL Statements Using ADDM Findings</a></p>
                  </li>
                  <li>
                     <p><a href="identifying-high-load-sql-statements.html#GUID-572D0FE3-BC16-4107-A8CC-EF59480B9C9E">Identifying High-Load SQL Statements Using Top SQL</a></p>
                  </li>
               </ul>
            </div><a id="TDPPT141"></a><div class="props_rev_3"><a id="GUID-795AF9F0-5CBF-44FB-8D20-FC170EFA149C" name="GUID-795AF9F0-5CBF-44FB-8D20-FC170EFA149C"></a><h3 id="TDPPT-GUID-795AF9F0-5CBF-44FB-8D20-FC170EFA149C" class="sect3"><span class="enumeration_section">11.1 </span>Identification of High-Load SQL Statements Using ADDM Findings
               </h3>
               <div>
                  <p>By default, ADDM runs proactively once every hour. It analyzes key statistics gathered by the Automatic Workload Repository (AWR) over the last hour to identify any performance problems, including high-load SQL statements<a id="d21103e182" class="indexterm-anchor"></a><a id="d21103e186" class="indexterm-anchor"></a>. When the system finds performance problems, it displays them as ADDM findings in the Automatic Database Diagnostic Monitor (ADDM) page.
                  </p>
                  <p>ADDM provides recommendations with each ADDM finding. When a high-load SQL statement is identified, ADDM gives recommendations, such as running SQL Tuning Advisor on the SQL statement. You can begin tuning SQL statements as described in <a href="tuning-sql-statements.html#GUID-6B386EC1-A58F-4CFC-AEFB-9F787A112396">Tuning SQL Statements </a>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-795AF9F0-5CBF-44FB-8D20-FC170EFA149C__GUID-C06B2CDF-ECF1-426C-8658-12F951B50EDD">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="automatic-database-performance-monitoring.html#GUID-32E92AEC-AF1A-4602-B998-3250920CD3BE" title="Starting with Oracle Database 12c, ADDM is enabled by default in the root container of a multitenant container database (CDB). Starting with Oracle Database 19c, you can also use ADDM in a pluggable database (PDB).">Overview of Automatic Database Diagnostic Monitor</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="automatic-database-performance-monitoring.html#GUID-3262CC73-BDB4-4315-907C-440307A0565C">Interpretation of Automatic Database Diagnostic Monitor Findings</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="automatic-database-performance-monitoring.html#GUID-8CBEA3E7-7550-41D9-ACFF-13BACF9900F1">Implementing Automatic Database Diagnostic Monitor Recommendations</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="TDPPT430"></a><a id="TDPPT142"></a><div class="props_rev_3"><a id="GUID-572D0FE3-BC16-4107-A8CC-EF59480B9C9E" name="GUID-572D0FE3-BC16-4107-A8CC-EF59480B9C9E"></a><h3 id="TDPPT-GUID-572D0FE3-BC16-4107-A8CC-EF59480B9C9E" class="sect3"><span class="enumeration_section">11.2 </span>Identifying High-Load SQL Statements Using Top SQL
               </h3>
               <div>
                  <div class="section">
                     <p>ADDM automatically identifies high-load SQL statements that may be causing systemwide performance degradation. Under normal circumstances, manual identification of high-load SQL statements is not necessary. In some cases, however, you may want to monitor SQL statements at a more granular level. The Top SQL section<a id="d21103e305" class="indexterm-anchor"></a><a id="d21103e309" class="indexterm-anchor"></a><a id="d21103e313" class="indexterm-anchor"></a> of the Top Activity page in Cloud Control enables you to identify high-load SQL statements for any 5-minute interval.
                     </p>
                     <p><a href="identifying-high-load-sql-statements.html#GUID-572D0FE3-BC16-4107-A8CC-EF59480B9C9E__CHDEDBJE">Figure 11-1</a> shows an example of the Top Activity page. The page shows a 1-hour time line of the top activity running on the database. SQL statements that are using the highest percentage of database activity are listed under the Top SQL section, and are displayed in 5-minute intervals. 
                     </p>
                     <div class="figure" id="GUID-572D0FE3-BC16-4107-A8CC-EF59480B9C9E__CHDEDBJE">
                        <p class="titleinfigure">Figure 11-1 Top Activity Page</p><img src="img/top_activity.gif" alt="Description of Figure 11-1 follows" title="Description of Figure 11-1 follows" longdesc="img_text/top_activity.html"><br><a href="img_text/top_activity.html">Description of "Figure 11-1 Top Activity Page"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-572D0FE3-BC16-4107-A8CC-EF59480B9C9E__GUID-03B87EB8-EF0E-49B2-9783-CE54947C8D26">To access the Top Activity page:</p>
                     <ol>
                        <li>
                           <p>Access the Database Home page.</p>
                           <p>See <span class="q">"<a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">Accessing the Database Home Page</a>"</span> for more information.
                           </p>
                        </li>
                        <li>
                           <p>From the <span class="bold">Performance</span> menu, select <span class="bold">Top Activity</span>.
                           </p>
                           <p>If the Database Login page appears, then log in as a user with administrator privileges. The Top Activity page appears.</p>
                        </li>
                        <li>
                           <p>To move the 5-minute interval, drag the shaded box to the desired time.</p>
                           <p>The information contained in the Top SQL section is automatically updated to reflect the selected time period.</p>
                        </li>
                        <li>
                           <p>To monitor SQL statements for a longer duration than one hour, select <span class="bold">Historical</span> from the View Data list.
                           </p>
                           <p>In Historical view, you can view the top SQL statements for the duration defined by the AWR retention period.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This section contains the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="identifying-high-load-sql-statements.html#GUID-65BF9DC3-4FD4-4CA9-B678-21D36E7188D6">Viewing SQL Statements by Wait Class</a></p>
                        </li>
                        <li>
                           <p><a href="identifying-high-load-sql-statements.html#GUID-FDC4381B-0703-4FBF-93FC-36B9425A85C0">Viewing Details of SQL Statements</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="TDPPT143"></a><div class="props_rev_3"><a id="GUID-65BF9DC3-4FD4-4CA9-B678-21D36E7188D6" name="GUID-65BF9DC3-4FD4-4CA9-B678-21D36E7188D6"></a><h4 id="TDPPT-GUID-65BF9DC3-4FD4-4CA9-B678-21D36E7188D6" class="sect4"><span class="enumeration_section">11.2.1 </span>Viewing SQL Statements by Wait Class
                  </h4>
                  <div>
                     <div class="section">
                        <p>The SQL statements that appear in the Top SQL section of the Top Activity page<a id="d21103e461" class="indexterm-anchor"></a><a id="d21103e465" class="indexterm-anchor"></a><a id="d21103e469" class="indexterm-anchor"></a> are categorized into various wait classes, based on their corresponding class as described in the legend on the Top Activity chart.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-65BF9DC3-4FD4-4CA9-B678-21D36E7188D6__GUID-B387AB91-9674-4371-AC1B-F2AE6739E246">To view the SQL statements for a particular wait class:</p>
                        <ol>
                           <li>
                              <p>Access the Database Home page.</p>
                              <p>See <span class="q">"<a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">Accessing the Database Home Page</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>From the <span class="bold">Performance</span> menu, select <span class="bold">Top Activity</span>.
                              </p>
                              <p>If the Database Login page appears, then log in as a user with administrator privileges. The Top Activity page appears.</p>
                           </li>
                           <li>
                              <p>In the Top Activity chart, click the block of color on the chart for the wait class, or its corresponding wait class in the legend.</p>
                              <p>The Active Sessions Working page for the selected wait class appears. The Top SQL section automatically updates to show only the SQL statements for the specified wait class.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-65BF9DC3-4FD4-4CA9-B678-21D36E7188D6__GUID-296B5F6D-8C9C-4FE4-B74C-7F052CB4C9AA">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">Monitoring User Activity</a>"</span> for information about using the Active Sessions Working page
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT144"></a><div class="props_rev_3"><a id="GUID-FDC4381B-0703-4FBF-93FC-36B9425A85C0" name="GUID-FDC4381B-0703-4FBF-93FC-36B9425A85C0"></a><h4 id="TDPPT-GUID-FDC4381B-0703-4FBF-93FC-36B9425A85C0" class="sect4"><span class="enumeration_section">11.2.2 </span>Viewing Details of SQL Statements
                  </h4>
                  <div>
                     <div class="section">
                        <p>The Top SQL section of the Top Activity page displays the SQL statements<a id="d21103e597" class="indexterm-anchor"></a> executed within the selected 5-minute interval in descending order based on their resource consumption. The SQL statement at the top of this table represents the most resource-intensive SQL statement during that time period, followed by the second most resource-intensive SQL statement, and so on.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FDC4381B-0703-4FBF-93FC-36B9425A85C0__GUID-1026DAEC-45BB-4472-ADCC-35F158E193EC">To view details of SQL statements:</p>
                        <ol>
                           <li>
                              <p>Access the Database Home page.</p>
                              <p>See <span class="q">"<a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">Accessing the Database Home Page</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>From the <span class="bold">Performance</span> menu, select <span class="bold">Top Activity</span>.
                              </p>
                              <p>If the Database Login page appears, then log in as a user with administrator privileges. The Top Activity page<a id="d21103e627" class="indexterm-anchor"></a> appears.
                              </p>
                           </li>
                           <li>
                              <p>In the Top SQL section, click the <span class="bold">SQL ID</span> link of the SQL statement.
                              </p>
                              <p>The SQL Details page for the selected SQL statement appears.</p>
                           </li>
                           <li>
                              <p>To view SQL details for a longer period, select <span class="bold">Historical</span> from the View Data list.
                              </p>
                              <div class="figure" id="GUID-FDC4381B-0703-4FBF-93FC-36B9425A85C0__GUID-F6AF52ED-21B3-4C72-A266-205EE1131862"><img src="img/sql_details_historical.gif" alt="Description of sql_details_historical.gif follows" title="Description of sql_details_historical.gif follows" longdesc="img_text/sql_details_historical.html"><br><a href="img_text/sql_details_historical.html">Description of the illustration sql_details_historical.gif</a></div>
                              <!-- class="figure" -->
                              <p>You can now view SQL details in the past, up to the duration defined by the AWR retention period.</p>
                           </li>
                           <li>
                              <p>In the Text section, review the SQL text for the SQL statement.</p>
                              <p>The Text section<a id="d21103e656" class="indexterm-anchor"></a> contains the SQL text for the selected SQL statement. Note that if only part of the SQL statement is displayed, then a plus sign (<code class="codeph">+</code>) icon appears next to the Text heading. To view the SQL text for the entire SQL statement, click the plus sign (<span class="bold">+</span>) icon.
                              </p>
                              <p>In <a href="identifying-high-load-sql-statements.html#GUID-572D0FE3-BC16-4107-A8CC-EF59480B9C9E__CHDEDBJE">Figure 11-1</a>, the text of the SQL statement <code class="codeph">ddthrb7j9a63f</code> is as follows:
                              </p><pre class="oac_no_warn" dir="ltr">SELECT E.LAST_NAME, J.JOB_TITLE, D.DEPARTMENT_NAME
FROM   HR.EMPLOYEES E, HR.DEPARTMENTS D, HR.JOBS J
WHERE  E.DEPARTMENT_ID = D.DEPARTMENT_ID 
AND    E.JOB_ID = J.JOB_ID 
AND    E.LAST_NAME LIKE 'A%'
</pre></li>
                           <li>
                              <p>In the Plan Hash Value list in the Details section, do one of the following:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If the SQL statement has multiple plans, then select <span class="bold">All</span> to show SQL details for all plans.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Select a particular plan to display SQL details for this plan only.</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>View the subpages available on the SQL Details page to display additional information about the SQL statement, as described in the following sections:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="identifying-high-load-sql-statements.html#GUID-C6418DB0-9238-429D-9159-DE7E6E20393E">Viewing SQL Statistics</a></p>
                                 </li>
                                 <li>
                                    <p><a href="identifying-high-load-sql-statements.html#GUID-AD63DDAB-0B64-4F02-8FA6-D8488607222B">Viewing Session Activity</a></p>
                                 </li>
                                 <li>
                                    <p><a href="identifying-high-load-sql-statements.html#GUID-586546C6-60A2-473A-9FA5-B683EC5AB7C6">Viewing the SQL Execution Plan</a></p>
                                 </li>
                                 <li>
                                    <p><a href="identifying-high-load-sql-statements.html#GUID-5FDF9E5C-1CE6-4262-BD21-BAE7D4A5F615">Viewing the Plan Control</a></p>
                                 </li>
                                 <li>
                                    <p><a href="identifying-high-load-sql-statements.html#GUID-EA069807-764B-4E0A-B5B3-63ADFE876B96">Viewing the Tuning History</a></p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>If the SQL statement is a high-load SQL statement, then tune it as described in <a href="tuning-sql-statements.html#GUID-6B386EC1-A58F-4CFC-AEFB-9F787A112396">Tuning SQL Statements </a>.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div><a id="TDPPT497"></a><div class="props_rev_3"><a id="GUID-C6418DB0-9238-429D-9159-DE7E6E20393E" name="GUID-C6418DB0-9238-429D-9159-DE7E6E20393E"></a><h5 id="TDPPT-GUID-C6418DB0-9238-429D-9159-DE7E6E20393E" class="sect5"><span class="enumeration_section">11.2.2.1 </span>Viewing SQL Statistics
                     </h5>
                     <div>
                        <div class="section">
                           <p>The <a id="d21103e808" class="indexterm-anchor"></a><a id="d21103e812" class="indexterm-anchor"></a>Statistics subpage of the SQL Details page displays statistical information about the SQL statement.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-C6418DB0-9238-429D-9159-DE7E6E20393E__GUID-30806835-C5A8-497B-B758-04C05B9C179B">To view statistics for the SQL statement:</p>
                           <ol>
                              <li>
                                 <p>Access the SQL Details page, as explained in <span class="q">"<a href="identifying-high-load-sql-statements.html#GUID-FDC4381B-0703-4FBF-93FC-36B9425A85C0">Viewing Details of SQL Statements</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Under Details, click <span class="bold">Statistics</span>.
                                 </p>
                                 <p>The Statistics subpage appears.</p>
                                 <div class="figure" id="GUID-C6418DB0-9238-429D-9159-DE7E6E20393E__GUID-618C54AC-5F94-40E8-B067-8B3D3633F503"><img src="img/sql_details_statistics.gif" alt="Description of sql_details_statistics.gif follows" title="Description of sql_details_statistics.gif follows" longdesc="img_text/sql_details_statistics.html"><br><a href="img_text/sql_details_statistics.html">Description of the illustration sql_details_statistics.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>View the statistics for the SQL statement, as described in the following sections:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a href="identifying-high-load-sql-statements.html#GUID-C1A2F014-0B46-4289-9A72-984CC83B456E">SQL Statistics Summary</a></p>
                                    </li>
                                    <li>
                                       <p><a href="identifying-high-load-sql-statements.html#GUID-4D30886E-A7BC-4A42-A115-3661999FD6D4">General SQL Statistics</a></p>
                                    </li>
                                    <li>
                                       <p><a href="identifying-high-load-sql-statements.html#GUID-9DAF8880-E83F-436A-95FD-6945E6B7C419">Activity by Waits Statistics and Activity by Time Statistics</a></p>
                                    </li>
                                    <li>
                                       <p><a href="identifying-high-load-sql-statements.html#GUID-6C19EB4C-5EA4-4EB2-80A8-A59D669AF509">Elapsed Time Breakdown Statistics</a></p>
                                    </li>
                                    <li>
                                       <p><a href="identifying-high-load-sql-statements.html#GUID-E5A10F7C-133D-463D-A5B4-C5AAA9253A40">Shared Cursors Statistics and Execution Statistics</a></p>
                                    </li>
                                    <li>
                                       <p><a href="identifying-high-load-sql-statements.html#GUID-A519C862-8042-42CA-9C6F-1118728CFA4D">Other SQL Statistics</a></p>
                                    </li>
                                 </ul>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div><a id="TDPPT499"></a><div class="props_rev_3"><a id="GUID-C1A2F014-0B46-4289-9A72-984CC83B456E" name="GUID-C1A2F014-0B46-4289-9A72-984CC83B456E"></a><h6 id="TDPPT-GUID-C1A2F014-0B46-4289-9A72-984CC83B456E" class="sect6"><span class="enumeration_section">11.2.2.1.1 </span>SQL Statistics Summary
                        </h6>
                        <div>
                           <p>The Summary section displays SQL statistics and activity on a chart.</p>
                           <p>In the Real Time view, the Active Sessions chart shows the average number of active sessions executing the SQL statement in the last hour. If the SQL statement has multiple plans and <span class="bold">All </span>is selected in the Plan Hash Value list, then the chart displays each plan in different colors, enabling you to easily spot if the plan changed and whether this may be the cause of the performance degradation. Alternatively, you can select a particular plan to display that plan only.
                           </p>
                           <p>In the Historical view, the chart shows execution statistics in different dimensions. To view execution statistics, select the desired dimension from the View list:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Elapsed time per execution</p>
                              </li>
                              <li>
                                 <p>Executions per hour</p>
                              </li>
                              <li>
                                 <p>Disk reads per execution</p>
                              </li>
                              <li>
                                 <p>Buffer gets per execution</p>
                              </li>
                           </ul>
                           <p>This technique enables you to track the response time of the SQL statement using different dimensions. You can determine whether the performance of the SQL statement has degraded based on the dimension selected.</p>
                           <p>To view statistics of the SQL statement for a particular time interval, click the snapshot icon below the chart. You can also use the arrows to scroll the chart to locate a desired snapshot.</p>
                        </div>
                     </div><a id="TDPPT500"></a><div class="props_rev_3"><a id="GUID-4D30886E-A7BC-4A42-A115-3661999FD6D4" name="GUID-4D30886E-A7BC-4A42-A115-3661999FD6D4"></a><h6 id="TDPPT-GUID-4D30886E-A7BC-4A42-A115-3661999FD6D4" class="sect6"><span class="enumeration_section">11.2.2.1.2 </span>General SQL Statistics
                        </h6>
                        <div>
                           <p>The General section enables you to identify the origin of the SQL statement by listing the following information:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Module, if specified using the <code class="codeph">DBMS_APPLICATION_INFO</code> package
                                 </p>
                              </li>
                              <li>
                                 <p>Action, if specified using the <code class="codeph">DBMS_APPLICATION_INFO</code> package
                                 </p>
                              </li>
                              <li>
                                 <p>Parsing schema, or the database account used to execute the SQL statement</p>
                              </li>
                              <li>
                                 <p>PL/SQL source, or the code line if the SQL statement is part of a PL/SQL program</p>
                              </li>
                           </ul>
                        </div>
                     </div><a id="TDPPT501"></a><div class="props_rev_3"><a id="GUID-9DAF8880-E83F-436A-95FD-6945E6B7C419" name="GUID-9DAF8880-E83F-436A-95FD-6945E6B7C419"></a><h6 id="TDPPT-GUID-9DAF8880-E83F-436A-95FD-6945E6B7C419" class="sect6"><span class="enumeration_section">11.2.2.1.3 </span>Activity by Waits Statistics and Activity by Time Statistics
                        </h6>
                        <div>
                           <p>The Activity by Waits and Activity by Time sections enable you to identify how the SQL statement spent most of its time. The Activity by Waits section contains a graphical representation of how much elapsed time is consumed by CPU and by remaining waits. The Activity by Time section breaks out the total elapsed time into CPU time and wait time by seconds.</p>
                        </div>
                     </div><a id="TDPPT502"></a><div class="props_rev_3"><a id="GUID-6C19EB4C-5EA4-4EB2-80A8-A59D669AF509" name="GUID-6C19EB4C-5EA4-4EB2-80A8-A59D669AF509"></a><h6 id="TDPPT-GUID-6C19EB4C-5EA4-4EB2-80A8-A59D669AF509" class="sect6"><span class="enumeration_section">11.2.2.1.4 </span>Elapsed Time Breakdown Statistics
                        </h6>
                        <div>
                           <p>The Elapsed Time Breakdown section enables you to identify if the SQL statement itself is consuming a lot of time, or if the total elapsed time is inflated due to the amount of time the originating program or application spent with the PL/SQL or Java engine. If the PL/SQL time or Java time makes up a significant portion of the elapsed time, then there may be minimal benefit gained by tuning the SQL statement. Instead, you should examine the application to determine how the PL/SQL time or Java time can be reduced.</p>
                        </div>
                     </div><a id="TDPPT503"></a><div class="props_rev_3"><a id="GUID-E5A10F7C-133D-463D-A5B4-C5AAA9253A40" name="GUID-E5A10F7C-133D-463D-A5B4-C5AAA9253A40"></a><h6 id="TDPPT-GUID-E5A10F7C-133D-463D-A5B4-C5AAA9253A40" class="sect6"><span class="enumeration_section">11.2.2.1.5 </span>Shared Cursors Statistics and Execution Statistics
                        </h6>
                        <div>
                           <p>The Shared Cursors Statistics and Execution Statistics sections provide information about the efficiency of various stages of the SQL execution process.</p>
                        </div>
                     </div><a id="TDPPT504"></a><div class="props_rev_3"><a id="GUID-A519C862-8042-42CA-9C6F-1118728CFA4D" name="GUID-A519C862-8042-42CA-9C6F-1118728CFA4D"></a><h6 id="TDPPT-GUID-A519C862-8042-42CA-9C6F-1118728CFA4D" class="sect6"><span class="enumeration_section">11.2.2.1.6 </span>Other SQL Statistics
                        </h6>
                        <div>
                           <p>The Other Statistics section provides additional information about the SQL statement, such as average persistent and run-time memory.</p>
                        </div>
                     </div>
                  </div><a id="TDPPT505"></a><div class="props_rev_3"><a id="GUID-AD63DDAB-0B64-4F02-8FA6-D8488607222B" name="GUID-AD63DDAB-0B64-4F02-8FA6-D8488607222B"></a><h5 id="TDPPT-GUID-AD63DDAB-0B64-4F02-8FA6-D8488607222B" class="sect5"><span class="enumeration_section">11.2.2.2 </span>Viewing Session Activity
                     </h5>
                     <div>
                        <div class="section">
                           <p>The Activity subpage<a id="d21103e1494" class="indexterm-anchor"></a><a id="d21103e1498" class="indexterm-anchor"></a> contains a graphical representation of the session activity.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-AD63DDAB-0B64-4F02-8FA6-D8488607222B__GUID-89915857-5208-4769-9F7E-DAF68E5415EE">To view session activity for the SQL statement:</p>
                           <ol>
                              <li>
                                 <p>Access the SQL Details page, as explained in <span class="q">"<a href="identifying-high-load-sql-statements.html#GUID-FDC4381B-0703-4FBF-93FC-36B9425A85C0">Viewing Details of SQL Statements</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Under Details, click <span class="bold">Activity</span>.
                                 </p>
                                 <p>The SQL Details page appears, showing the Activity subpage.</p>
                                 <div class="figure" id="GUID-AD63DDAB-0B64-4F02-8FA6-D8488607222B__GUID-B419CCE9-520D-4103-9A8D-B0FEF8FB4E11"><img src="img/sql_details_activity.gif" alt="Description of sql_details_activity.gif follows" title="Description of sql_details_activity.gif follows" longdesc="img_text/sql_details_activity.html"><br><a href="img_text/sql_details_activity.html">Description of the illustration sql_details_activity.gif</a></div>
                                 <!-- class="figure" -->
                                 <p>The Activity subpage displays details of various sessions executing the SQL statement. The Active Sessions chart profiles the average number of active sessions over time.</p>
                              </li>
                              <li>
                                 <p>Optionally, drag the shaded box to select a 5-minute interval. </p>
                                 <p>The Detail for Selected 5 Minute Interval section lists the sessions that executed the SQL statement during the selected 5-minute interval. The multicolored bar in the <span>Activity %</span> column depicts how the database time is divided for each session while executing the SQL statement. 
                                 </p>
                              </li>
                              <li>
                                 <p>Optionally, click the link in the <span class="bold">SID</span> column of the session you want to view to display the Session Details page.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-AD63DDAB-0B64-4F02-8FA6-D8488607222B__GUID-76EA6DDA-6AAA-4B24-BC53-14C08443A408">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-F89D9B48-A4CA-4AC6-80FB-81EF8BB78DFC">Monitoring Top Sessions</a>"</span> for information about monitoring session activity and details
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TDPPT506"></a><div class="props_rev_3"><a id="GUID-586546C6-60A2-473A-9FA5-B683EC5AB7C6" name="GUID-586546C6-60A2-473A-9FA5-B683EC5AB7C6"></a><h5 id="TDPPT-GUID-586546C6-60A2-473A-9FA5-B683EC5AB7C6" class="sect5"><span class="enumeration_section">11.2.2.3 </span>Viewing the SQL Execution Plan
                     </h5>
                     <div>
                        <div class="section">
                           <p>The <span class="bold">execution plan</span> for a SQL statement is the sequence of operations Oracle Database performs to run the statement. The Plan subpage<a id="d21103e1639" class="indexterm-anchor"></a><a id="d21103e1643" class="indexterm-anchor"></a> displays the execution plan for the SQL statement in a graph view and a table view.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-586546C6-60A2-473A-9FA5-B683EC5AB7C6__GUID-88AE832B-AC78-4F7A-9E63-442B14AF0557">To view the execution plan for the SQL statement:</p>
                           <ol>
                              <li>
                                 <p>Access the SQL Details page, as explained in <span class="q">"<a href="identifying-high-load-sql-statements.html#GUID-FDC4381B-0703-4FBF-93FC-36B9425A85C0">Viewing Details of SQL Statements</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Under Details, click <span class="bold">Plan</span>.
                                 </p>
                                 <p>The SQL Details page appears, showing the Plan subpage.</p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Graphical</span> to view the SQL execution in a graph view.
                                 </p>
                                 <div class="figure" id="GUID-586546C6-60A2-473A-9FA5-B683EC5AB7C6__GUID-7249D0E3-FFFE-4F1C-8B70-2D7D566761E1"><img src="img/sql_details_plan_graph.gif" alt="Description of sql_details_plan_graph.gif follows" title="Description of sql_details_plan_graph.gif follows" longdesc="img_text/sql_details_plan_graph.html"><br><a href="img_text/sql_details_plan_graph.html">Description of the illustration sql_details_plan_graph.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>Optionally, select an operation in the graph to display details about the operations shown in the execution plan. </p>
                                 <p>The Selection Details section refreshes to show details about the selected operations.</p>
                              </li>
                              <li>
                                 <p>If the selected operation is on a particular database object (such as a table), then click the <span class="bold">Object</span> link to view further details about the database object.
                                 </p>
                              </li>
                              <li>
                                 <p>To view the SQL execution in a table view, click <span class="bold">Tabular</span>.
                                 </p>
                                 <p>The Plan subpage refreshes to show the explain plan in a table.</p>
                                 <div class="figure" id="GUID-586546C6-60A2-473A-9FA5-B683EC5AB7C6__GUID-9224C9DA-4EAD-4AD1-95F5-FF3B93B84763"><img src="img/sql_details_plan_table.gif" alt="Description of sql_details_plan_table.gif follows" title="Description of sql_details_plan_table.gif follows" longdesc="img_text/sql_details_plan_table.html"><br><a href="img_text/sql_details_plan_table.html">Description of the illustration sql_details_plan_table.gif</a></div>
                                 <!-- class="figure" -->
                                 <p><span class="bold">Query rewrite</span> is an optimization technique that transforms a user request written in terms of master tables into a semantically equivalent request that includes materialized views. The database compares the cost for the query, with and without query rewrite, and selects the least costly option. If a rewrite is necessary, then query rewrite and its cost benefit are shown in the Explain Rewrite section.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-586546C6-60A2-473A-9FA5-B683EC5AB7C6__GUID-135D1E03-BD99-4D76-9E1D-14BD037AFA9D">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="tuning-sql-statements.html#GUID-6B386EC1-A58F-4CFC-AEFB-9F787A112396">Tuning SQL Statements </a>"</span> for information about execution plan and the query optimizer
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TDPPT507"></a><div class="props_rev_3"><a id="GUID-5FDF9E5C-1CE6-4262-BD21-BAE7D4A5F615" name="GUID-5FDF9E5C-1CE6-4262-BD21-BAE7D4A5F615"></a><h5 id="TDPPT-GUID-5FDF9E5C-1CE6-4262-BD21-BAE7D4A5F615" class="sect5"><span class="enumeration_section">11.2.2.4 </span>Viewing the Plan Control
                     </h5>
                     <div>
                        <div class="section">
                           <p>The <a id="d21103e1796" class="indexterm-anchor"></a>Plan Control subpage contains information about the following items:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>SQL profiles</p>
                                 <p>A SQL profile contains additional statistics for the SQL statement. The optimizer uses these statistics to generate a better execution plan for the statement.</p>
                              </li>
                              <li>
                                 <p>SQL patches</p>
                                 <p> A SQL patch is automatically generated to work around an error or performance problem for a single SQL statement.</p>
                              </li>
                              <li>
                                 <p>SQL plan baselines</p>
                                 <p>A SQL plan baseline is an execution plan proven to have acceptable performance for a given SQL statement.</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-5FDF9E5C-1CE6-4262-BD21-BAE7D4A5F615__GUID-B505238C-1474-4747-8676-83C1EDC0B7D3">To view plan control information:</p>
                           <ol>
                              <li>
                                 <p>Access the SQL Details page, as explained in <span class="q">"<a href="identifying-high-load-sql-statements.html#GUID-FDC4381B-0703-4FBF-93FC-36B9425A85C0">Viewing Details of SQL Statements</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Under Details, click <span class="bold">Plan Control</span>.
                                 </p>
                                 <p>The SQL Details page appears, showing the Plan Control subpage.</p>
                              </li>
                              <li>
                                 <p>Review the plan-related information.</p>
                                 <p>In the following example, the optimizer used a SQL plan baseline named <code class="codeph">STMT01</code> for the SQL statement.
                                 </p>
                                 <div class="figure" id="GUID-5FDF9E5C-1CE6-4262-BD21-BAE7D4A5F615__GUID-9CCBC96C-A543-47C2-BCA1-0E02C9EBEA37"><img src="img/sql_details_plan_control.gif" alt="Description of sql_details_plan_control.gif follows" title="Description of sql_details_plan_control.gif follows" longdesc="img_text/sql_details_plan_control.html"><br><a href="img_text/sql_details_plan_control.html">Description of the illustration sql_details_plan_control.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-5FDF9E5C-1CE6-4262-BD21-BAE7D4A5F615__GUID-73300239-AD2F-4E3E-A942-D095EB92FE3E">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="tuning-sql-statements.html#GUID-6B386EC1-A58F-4CFC-AEFB-9F787A112396">Tuning SQL Statements </a>"</span> for information about SQL Tuning Advisor and SQL profiles
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="tuning-sql-statements.html#GUID-84FE7EBB-54AB-4D11-A910-9C63B8C39441">Managing SQL Profiles</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="optimizing-data-access-paths.html#GUID-1E926221-441F-483A-B045-8AE4A5764B8C"> Optimizing Data Access Paths </a>"</span> for information about SQL Access Advisor
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TDPPT508"></a><div class="props_rev_3"><a id="GUID-EA069807-764B-4E0A-B5B3-63ADFE876B96" name="GUID-EA069807-764B-4E0A-B5B3-63ADFE876B96"></a><h5 id="TDPPT-GUID-EA069807-764B-4E0A-B5B3-63ADFE876B96" class="sect5"><span class="enumeration_section">11.2.2.5 </span>Viewing the Tuning History
                     </h5>
                     <div>
                        <div class="section">
                           <p>The SQL Tuning History section displays a history of SQL Tuning Advisor and SQL Access Advisor tasks.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-EA069807-764B-4E0A-B5B3-63ADFE876B96__GUID-5DAB588C-429D-4BD2-B81F-CCD7D5F9BCFF">To view the SQL tuning history:</p>
                           <ol>
                              <li>
                                 <p>Access the SQL Details page, as explained in <span class="q">"<a href="identifying-high-load-sql-statements.html#GUID-FDC4381B-0703-4FBF-93FC-36B9425A85C0">Viewing Details of SQL Statements</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Under Details, click <span class="bold">Tuning History</span>.
                                 </p>
                                 <p>The SQL Details page appears, showing the Tuning History subpage.</p>
                              </li>
                              <li>
                                 <p>Review the information about the tuning history.</p>
                                 <p>The SQL Tuning History section displays a history of SQL Tuning Advisor or SQL Access Advisor tasks.</p>
                                 <p>The ADDM Findings for this SQL During Historic Period section displays the number of occurrences of ADDM findings that are associated with the SQL statement.</p>
                                 <p>The following example shows that SQL tuning task was performed by user <code class="codeph">DBA1</code> on February 9, 2012.
                                 </p>
                                 <div class="figure" id="GUID-EA069807-764B-4E0A-B5B3-63ADFE876B96__GUID-E53BFDE4-9D78-4FAD-93F8-966962C69E16"><img src="img/sql_details_tuning.gif" alt="Description of sql_details_tuning.gif follows" title="Description of sql_details_tuning.gif follows" longdesc="img_text/sql_details_tuning.html"><br><a href="img_text/sql_details_tuning.html">Description of the illustration sql_details_tuning.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-EA069807-764B-4E0A-B5B3-63ADFE876B96__GUID-97309675-1659-4C40-96A8-09FBEC4449E7">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="tuning-sql-statements.html#GUID-6B386EC1-A58F-4CFC-AEFB-9F787A112396">Tuning SQL Statements </a>"</span> for information about SQL Tuning Advisor and SQL profiles
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="tuning-sql-statements.html#GUID-84FE7EBB-54AB-4D11-A910-9C63B8C39441">Managing SQL Profiles</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="optimizing-data-access-paths.html#GUID-1E926221-441F-483A-B045-8AE4A5764B8C"> Optimizing Data Access Paths </a>"</span> for information about SQL Access Advisor
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>