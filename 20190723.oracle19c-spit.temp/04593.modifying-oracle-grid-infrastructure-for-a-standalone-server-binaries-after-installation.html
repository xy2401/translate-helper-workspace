<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="After installation, if you do not patch binaries using OPatch with the opatchauto flag, then you must stop the stack, modify the software, and and then restart the stack.">
      <meta name="description" content="After installation, if you do not patch binaries using OPatch with the opatchauto flag, then you must stop the stack, modify the software, and and then restart the stack.">
      <title>Modifying Oracle Grid Infrastructure for a Standalone Server Binaries After Installation</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Installation Guide">
      <meta property="og:description" content="After installation, if you do not patch binaries using OPatch with the opatchauto flag, then you must stop the stack, modify the software, and and then restart the stack.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Installation Guide for Linux">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-installation-guide-linux.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T10:46:17-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2015, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96432-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="testing-the-oracle-automatic-storage-management-installation.html" title="Previous" type="text/html">
      <link rel="next" href="configuring-oracle-asm-disk-groups-manually-using-oracle-asmca.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Installation Guide for Linux">
    <meta name="dcterms.isVersionOf" content="LADBI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="testing-the-oracle-automatic-storage-management-installation.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="configuring-oracle-asm-disk-groups-manually-using-oracle-asmca.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Installation Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="installing-and-configuring-oracle-grid-infrastructure-for-a-standalone-server.html" property="item" typeof="WebPage"><span property="name">Installing and Configuring Oracle Grid Infrastructure for a Standalone Server</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Modifying Oracle Grid Infrastructure for a Standalone Server Binaries After Installation</li>
            </ol>
            <a id="GUID-3A0164E9-8814-4137-808F-CCF5DA32DD26" name="GUID-3A0164E9-8814-4137-808F-CCF5DA32DD26"></a>
            
            <h2 id="LADBI-GUID-3A0164E9-8814-4137-808F-CCF5DA32DD26" class="sect2">Modifying Oracle Grid Infrastructure for a Standalone Server Binaries After Installation</h2>
         </header>
         <div class="ind">
            <div>
               <p>After installation, if you do not patch binaries using OPatch with the <code>opatchauto</code> flag, then you must stop the stack, modify the software, and and then restart the stack. 
               </p>
               <div class="section">
                  <p>You must first stop the Oracle Restart stack to modify the software installed in your Grid home. For example, to apply a one-off patch or modify any of the dynamic link libraries (DLLs) used by Oracle Restart or Oracle ASM, you must stop the stack manually, modify the software, and then restart the stack.</p>
                  <p>However, if you run the OPatch utility with the auto option, <code>opatchauto</code>, then OPatch stops and starts the software stack for you. If you run OPatch with the apply option, <code>opatch apply</code>, then you must also stop and restart the stack manually .
                  </p>
                  <p>You must relink the Oracle Restart and Oracle ASM binaries every time you apply an operating system patch or after an operating system upgrade.</p>
                  <div class="infoboxnote" id="GUID-3A0164E9-8814-4137-808F-CCF5DA32DD26__GUID-E4D385C9-5192-4978-8265-34778E89DB36">
                     <p class="notep1">Caution:</p>Before relinking executables, you must shut down all executables that run in the Oracle home directory that you are relinking. In addition, shut down applications linked with Oracle shared libraries.
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3A0164E9-8814-4137-808F-CCF5DA32DD26__GUID-A9249DC4-93DB-48A7-8657-BE4C154D1B07">Modifying Oracle Grid Infrastructure for a Standalone Server Binaries</p>
                  <ol>
                     <li>
                        <p>Log in as the Oracle Grid Infrastructure for a standalone server software owner user and change the directory to the path <code class="codeph"><span class="variable" translate="no">Grid_home</span>/bin</code>, where <code class="codeph"><span class="variable" translate="no">Grid_home</span></code> is the path to the Oracle Grid Infrastructure for a standalone server home:
                        </p><pre class="pre codeblock"><code>$ cd <span class="variable" translate="no">Grid_home</span>/bin</code></pre></li>
                     <li>
                        <p>Shut down the Oracle Restart stack using the following command:</p><pre class="pre codeblock"><code>$ crsctl stop has -f</code></pre></li>
                     <li>
                        <p>Log in as <code class="codeph">root</code> and unlock the grid home:
                        </p><pre class="pre codeblock"><code># cd <span class="variable" translate="no">Grid_home</span>/crs/install 
# roothas.sh -unlock</code></pre></li>
                     <li>
                        <p>Apply the patches using <code>opatch apply</code>.
                        </p>
                     </li>
                     <li>
                        <p>Relink the binaries.</p><pre class="pre codeblock"><code>$ export ORACLE_HOME=Grid_home
$ <span class="variable" translate="no">Grid_home</span>/bin/relink</code></pre><pre class="pre codeblock"><code></code></pre></li>
                     <li>
                        <p>Lock the grid home:</p><pre class="pre codeblock"><code># cd <span class="variable" translate="no">Grid_home</span>/crs/install 
# roothas.sh -lock</code></pre></li>
                     <li>
                        <p>Enter the following command to restart the Oracle Restart stack:</p><pre class="pre codeblock"><code>$ crsctl start has</code></pre></li>
                  </ol>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-3A0164E9-8814-4137-808F-CCF5DA32DD26__RELINKINGTHEORACLERESTARTANDORACLEA-CA595A0D">
                  <p class="subhead1" id="GUID-3A0164E9-8814-4137-808F-CCF5DA32DD26__GUID-33550111-FC65-4BFA-9CB4-903189FBE4CB">Relinking the Oracle Restart and Oracle ASM Binaries</p>
               </div>
               <!-- class="section" -->
               <ol>
                  <li class="stepexpand"><span>Log in as <code class="codeph">root</code> and unlock the grid home:</span><div><pre class="pre codeblock"><code># cd <span class="variable" translate="no">Grid_home</span>/crs/install 
# roothas.sh -unlock</code></pre></div>
                  </li>
                  <li class="stepexpand"><span>Log in as the <code class="codeph">grid </code>user and relink the binaries:</span><div><pre class="pre codeblock"><code>$ export ORACLE_HOME=Grid_home
$ <span class="variable" translate="no">Grid_home</span>/bin/relink</code></pre></div>
                  </li>
                  <li class="stepexpand"><span>Log in as <code class="codeph">root</code> again and perform the following steps:</span><div><pre class="pre codeblock"><code># cd Grid_home/rdbms/install/ 
# ./rootadd_rdbms.sh 
# cd Grid_home/crs/install 
# roothas.sh -lock</code></pre><div class="infoboxnote" id="GUID-3A0164E9-8814-4137-808F-CCF5DA32DD26__GUID-113C8F60-3E7A-4034-83AD-BEFD640E2067">
                           <p class="notep1">Note:</p>Starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2), the <code>roothas.sh</code> script replaces the <code>roothas.pl</code> script in the Oracle Grid Infrastructure home.
                        </div>
                     </div>
                  </li>
               </ol>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ladbi&amp;id=OPTCH568" target="_blank"><span><cite>Oracle OPatch User's Guide for Windows and UNIX</cite></span></a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="installing-and-configuring-oracle-grid-infrastructure-for-a-standalone-server.html#GUID-DA3B90BE-EE1F-4347-8A5E-ED1BBFF29D93" title="Oracle Grid Infrastructure for a standalone server includes Oracle Restart and Oracle Automatic Storage Management.">Installing and Configuring Oracle Grid Infrastructure for a Standalone Server</a></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>