<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle recommends that you disable Transparent HugePages before you start installation.">
      <meta name="description" content="Oracle recommends that you disable Transparent HugePages before you start installation.">
      <title>Disabling Transparent HugePages</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Grid Infrastructure Installation and Upgrade Guide">
      <meta property="og:description" content="Oracle recommends that you disable Transparent HugePages before you start installation.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Grid Infrastructure Installation and Upgrade Guide for Linux">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="grid-infrastructure-installation-and-upgrade-guide-linux.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T21:10:05-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2013, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96272-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="reviewing-hugespages-memory-allocation.html" title="Previous" type="text/html">
      <link rel="next" href="enabling-the-name-service-cache-daemon.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Grid Infrastructure Installation and Upgrade Guide for Linux">
    <meta name="dcterms.isVersionOf" content="CWLIN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="reviewing-hugespages-memory-allocation.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="enabling-the-name-service-cache-daemon.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Grid Infrastructure Installation and Upgrade Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="configuring-operating-systems-for-oracle-grid-infrastructure-on-linux.html" property="item" typeof="WebPage"><span property="name">Configuring Operating Systems for Oracle Grid Infrastructure on Linux</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Disabling Transparent HugePages</li>
            </ol>
            <a id="GUID-02E9147D-D565-4AF8-B12A-8E6E9F74BEEA" name="GUID-02E9147D-D565-4AF8-B12A-8E6E9F74BEEA"></a>
            
            <h2 id="CWLIN-GUID-02E9147D-D565-4AF8-B12A-8E6E9F74BEEA" class="sect2">Disabling Transparent HugePages</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle recommends that you disable Transparent HugePages before you start installation.</p>
               <div class="section" id="GUID-02E9147D-D565-4AF8-B12A-8E6E9F74BEEA__GUID-BD757063-779C-4411-9A30-B475FFC39EBD">
                  <p>Transparent HugePages memory differs from standard HugePages memory because the kernel <code class="codeph">khugepaged</code> thread allocates memory dynamically during runtime. Standard HugePages memory is pre-allocated at startup, and does not change during runtime. 
                  </p>
                  <div class="infoboxnote" id="GUID-02E9147D-D565-4AF8-B12A-8E6E9F74BEEA__GUID-9010427C-CB6F-4769-B82E-94E826D3FB8A">
                     <p class="notep1">Note:</p>Although Transparent HugePages is disabled on UEK2 and later UEK kernels, Transparent HugePages may be enabled by default on your Linux system.
                  </div>
                  <p>Transparent HugePages memory is enabled by default with SUSE 12, Red Hat Enterprise Linux 7, and Oracle Linux 7 with earlier releases of Oracle Linux with the Unbreakable Enterprise Kernel 2 (UEK2) kernels.</p>
                  <p>Transparent HugePages can cause memory allocation delays during runtime. To avoid performance issues, Oracle recommends that you disable Transparent HugePages on all Oracle Database servers. Oracle recommends that you instead use standard HugePages for enhanced performance.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>To check if Transparent HugePages is enabled, run one of the following commands as the <code class="codeph">root</code> user:
                  </p>
                  <p>Red Hat Enterprise Linux kernels:</p><pre class="pre codeblock"><code># cat /sys/kernel/mm/redhat_transparent_hugepage/enabled</code></pre><p>Other kernels:</p><pre class="pre codeblock"><code># cat /sys/kernel/mm/transparent_hugepage/enabled</code></pre><p>The following is a sample output that shows Transparent HugePages are being used as the [always] flag is enabled.</p><pre class="pre codeblock"><code>[always] never </code></pre><div class="infoboxnote" id="GUID-02E9147D-D565-4AF8-B12A-8E6E9F74BEEA__GUID-BA4B2D75-86E0-4052-8760-108D7BEA2E4B">
                     <p class="notep1">Note:</p>
                     <p>If Transparent HugePages is removed from the kernel, then neither <code>/sys/kernel/mm/transparent_hugepage</code> nor <code>/sys/kernel/mm/redhat_transparent_hugepage files</code> exist. 
                     </p>
                  </div>
                  <p>To disable Transparent HugePages:</p>
                  <ol>
                     <li>
                        <p>For Oracle Linux 7 and Red Hat Enterprise Linux 7, add or modify the <span class="parmname" translate="no">transparent_hugepage=never</span> parameter in the <code class="codeph">/etc/default/grub</code> file:
                        </p><pre class="pre codeblock"><code>transparent_hugepage=never</code></pre><div class="p">For example:<pre class="pre codeblock"><code>RUB_TIMEOUT=5
GRUB_DISTRIBUTOR="$(sed 's, release .*$,,g' /etc/system-release)"
GRUB_DEFAULT=saved
GRUB_DISABLE_SUBMENU=true
GRUB_TERMINAL_OUTPUT="console"
GRUB_CMDLINE_LINUX="crashkernel=auto rhgb quiet numa=off transparent_hugepage=never"
GRUB_DISABLE_RECOVERY="true"</code></pre></div>
                        <div class="infoboxnote" id="GUID-02E9147D-D565-4AF8-B12A-8E6E9F74BEEA__GUID-32807B4A-C30B-45A2-B60C-41A0E8B73321">
                           <p class="notep1">Note:</p>The file name may vary for your operating systems. Check your operating system documentation for the exact file name and the steps to disable Transparent HugePages.
                        </div>
                     </li>
                     <li>
                        <p>Run the <code>grub2&#x2013;mkconfig </code>command to regenerate the <code>grub.cfg</code> file.
                        </p><pre class="pre codeblock"><code># grub2-mkconfig -o /boot/grub2/grub.cfg</code></pre></li>
                     <li>
                        <p>Restart the system to make the changes permanent.</p>
                     </li>
                  </ol>
               </div>
               <!-- class="section" -->
            </div>
            <div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="configuring-operating-systems-for-oracle-grid-infrastructure-on-linux.html#GUID-B8649E42-4918-49EA-A608-446F864EB7A0" title="Complete operating system configuration requirements and checks for Linux operating systems before you start installation.">Configuring Operating Systems for Oracle Grid Infrastructure on Linux</a></p>
                  </div>
               </div>
            </div>
            
         </div>
      </article>
   </body>
</html>