<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Statement and Result Set Caching</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="JDBC Developer's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="JDBC Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00">
      <meta name="dcterms.title" content="JDBC Developer's Guide">
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96471-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="performance-and-scalability.html" title="Previous" type="text/html">
      <link rel="next" href="performance-extensions.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="performance-and-scalability.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="performance-extensions.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="performance-and-scalability.html" property="item" typeof="WebPage"><span property="name"> Performance and Scalability</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Statement and Result Set Caching </li>
            </ol>
            <a id="GUID-F3F4BB63-356A-4F65-81B1-5C84FC35A16D" name="GUID-F3F4BB63-356A-4F65-81B1-5C84FC35A16D"></a><a id="JJDBC28649"></a>
            
            <h2 id="JJDBC-GUID-F3F4BB63-356A-4F65-81B1-5C84FC35A16D" class="sect2"><span class="enumeration_chapter">20 </span> Statement and Result Set Caching 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes the benefits and use of Statement caching, an Oracle Java Database Connectivity (JDBC) extension.</p>
               <div class="infoboxnote" id="GUID-F3F4BB63-356A-4F65-81B1-5C84FC35A16D__GUID-FC9BD3E5-B4F2-4865-8DA0-984A5D5F6EE0">
                  <p class="notep1">Note:</p>
                  <p>Use statement caching only when you are sure that the table structure remains the same in the database. If you alter the table structure and then reuse a statement that was created and executed before changing the table structure, then you may get an error.</p>
               </div>
               <p>This chapter contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="statement-and-resultset-caching.html#GUID-DE966F8D-3D12-4697-A7A4-A09E0DF58CA1">About Statement Caching</a></p>
                  </li>
                  <li>
                     <p><a href="statement-and-resultset-caching.html#GUID-6BD392DE-C6CE-4743-8176-D011A597AE0D">About Using Statement Caching</a></p>
                  </li>
                  <li>
                     <p><a href="statement-and-resultset-caching.html#GUID-60A76058-8FD3-4A0E-B6DB-B60DC76C6E59">About Reusing Statements Objects</a></p>
                  </li>
                  <li>
                     <p><a href="statement-and-resultset-caching.html#GUID-5D1A9E2F-F191-4FCF-994C-C1D5B143FC4F">About Result Set Caching</a></p>
                  </li>
               </ul>
            </div><a id="JJDBC28650"></a><div class="props_rev_3"><a id="GUID-DE966F8D-3D12-4697-A7A4-A09E0DF58CA1" name="GUID-DE966F8D-3D12-4697-A7A4-A09E0DF58CA1"></a><h3 id="JJDBC-GUID-DE966F8D-3D12-4697-A7A4-A09E0DF58CA1" class="sect3"><span class="enumeration_section">20.1 </span>About Statement Caching
               </h3>
               <div>
                  <p>Statement caching improves performance by caching executable statements that are used repeatedly, such as in a loop or in a method that is called repeatedly. Starting from JDBC 3.0, JDBC standards define a statement-caching interface.</p>
                  <p>Statement caching can do the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Prevent the overhead of repeated cursor creation</p>
                     </li>
                     <li>
                        <p>Prevent repeated statement parsing and creation</p>
                     </li>
                     <li>
                        <p>Reuse data structures in the client</p>
                     </li>
                  </ul>
                  <p>This section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-50791E8A-769F-4261-A5F6-057EB8B7A054">Basics of Statement Caching</a></p>
                     </li>
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-CF36BCE2-4B24-4975-8673-F90E5A9BEF5A">Implicit Statement Caching</a></p>
                     </li>
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-DFBC7F09-5F27-42E1-8044-24733A6AE5F8">Explicit Statement Caching</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-DE966F8D-3D12-4697-A7A4-A09E0DF58CA1__GUID-B497605E-BF7B-489E-B34C-4B824B9A3525">
                     <p class="notep1">Note:</p>
                     <p>Oracle strongly recommends you use the implicit Statement cache. Oracle JDBC drivers are designed on the assumption that the implicit Statement cache is enabled. So, not using the Statement cache will have a negative impact on performance. </p>
                  </div>
               </div><a id="JJDBC28651"></a><div class="props_rev_3"><a id="GUID-50791E8A-769F-4261-A5F6-057EB8B7A054" name="GUID-50791E8A-769F-4261-A5F6-057EB8B7A054"></a><h4 id="JJDBC-GUID-50791E8A-769F-4261-A5F6-057EB8B7A054" class="sect4"><span class="enumeration_section">20.1.1 </span>Basics of Statement Caching
                  </h4>
                  <div>
                     <p>Applications use the Statement cache to cache statements associated with a particular physical connection. The cache is associated with an <code class="codeph">OracleConnection</code> object. <code class="codeph">OracleConnection</code> includes methods to enable Statement caching. When you enable Statement caching, a statement object is cached when you call the <code class="codeph">close</code> method.
                     </p>
                     <p>Because each physical connection has its own cache, multiple caches can exist if you enable Statement caching for multiple physical connections. When you enable Statement caching on a connection cache, the logical connections benefit from the Statement caching that is enabled on the underlying physical connection. If you try to enable Statement caching on a logical connection held by a connection cache, then this will throw an exception.</p>
                     <p>There are two types of Statement caching: implicit and explicit. Each type of Statement cache can be enabled or disabled independent of the other. You can have either, neither, or both in effect. Both types of Statement caching share a single cache per connection.</p>
                  </div>
               </div><a id="JJDBC28652"></a><div class="props_rev_3"><a id="GUID-CF36BCE2-4B24-4975-8673-F90E5A9BEF5A" name="GUID-CF36BCE2-4B24-4975-8673-F90E5A9BEF5A"></a><h4 id="JJDBC-GUID-CF36BCE2-4B24-4975-8673-F90E5A9BEF5A" class="sect4"><span class="enumeration_section">20.1.2 </span>Implicit Statement Caching
                  </h4>
                  <div>
                     <p>When you enable implicit Statement caching<a id="d64860e168" class="indexterm-anchor"></a><a id="d64860e174" class="indexterm-anchor"></a>, JDBC automatically caches the prepared or callable statement when you call the <code class="codeph">close</code> method of this statement object. The prepared and callable statements are cached and retrieved using standard connection object and statement object methods.
                     </p>
                     <p>Plain statements are not implicitly cached, because implicit Statement caching uses a SQL string as a key and plain statements are created without a SQL string. Therefore, implicit Statement caching applies only to the <a id="d64860e184" class="indexterm-anchor"></a><code class="codeph">OraclePreparedStatement</code> and <code class="codeph">OracleCallableStatement</code><a id="d64860e191" class="indexterm-anchor"></a> objects, which are created with a SQL string. You <span class="italic">cannot</span> use implicit Statement caching with <code class="codeph">OracleStatement</code>. When you create an <code class="codeph">OraclePreparedStatement</code> or <code class="codeph">OracleCallableStatement</code>, the JDBC driver automatically searches the cache for a matching statement. The match criteria are the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The SQL string in the statement must be identical to one in the cache.</p>
                        </li>
                        <li>
                           <p>The statement type must be the same, that is, prepared or callable.</p>
                        </li>
                        <li>
                           <p>The scrollable type of result sets produced by the statement must be the same, that is, forward-only or scrollable.</p>
                        </li>
                     </ul>
                     <p>If a match is found during the cache search, then the cached statement is returned. If a match is not found, then a new statement is created and returned. In either case, the statement, along with its cursor and state are cached when you call the <code class="codeph">close</code> method of the statement object.
                     </p>
                     <p>When a cached <a id="d64860e224" class="indexterm-anchor"></a><code class="codeph">OraclePreparedStatement</code> or <code class="codeph">OracleCallableStatement</code><a id="d64860e231" class="indexterm-anchor"></a> object is retrieved, the state and data information are automatically reinitialized and reset to default values, while metadata is saved. Statements are removed from the cache to conform to the maximum size using a <a id="d64860e234" class="indexterm-anchor"></a><a id="d64860e240" class="indexterm-anchor"></a><a id="d64860e244" class="indexterm-anchor"></a><a id="d64860e246" class="indexterm-anchor"></a>Least Recently Used (LRU) algorithm.
                     </p>
                     <div class="infoboxnote" id="GUID-CF36BCE2-4B24-4975-8673-F90E5A9BEF5A__GUID-CC0785F3-9026-474E-99CD-3964B83E56AA">
                        <p class="notep1">Note:</p>
                        <p>The JDBC driver does not clear metadata. However, although metadata is saved for performance reasons, it has no semantic impact. A statement that comes from the implicit cache appears as if it were newly created.</p>
                     </div>
                     <p>You can prevent a particular statement from being implicitly cached.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="statement-and-resultset-caching.html#GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD">About Using Implicit Statement Caching</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDBC28654"></a><a id="JJDBC28653"></a><div class="props_rev_3"><a id="GUID-DFBC7F09-5F27-42E1-8044-24733A6AE5F8" name="GUID-DFBC7F09-5F27-42E1-8044-24733A6AE5F8"></a><h4 id="JJDBC-GUID-DFBC7F09-5F27-42E1-8044-24733A6AE5F8" class="sect4"><span class="enumeration_section">20.1.3 </span>Explicit Statement Caching
                  </h4>
                  <div>
                     <p><a id="d64860e288" class="indexterm-anchor"></a><a id="d64860e294" class="indexterm-anchor"></a>Explicit Statement caching enables you to cache and retrieve selected prepared and callable statements. Explicit Statement caching relies on a key, an arbitrary Java <code class="codeph">String</code> that you provide.
                     </p>
                     <div class="infoboxnote" id="GUID-DFBC7F09-5F27-42E1-8044-24733A6AE5F8__GUID-FEE8E80F-3B04-4F04-A5EF-EA6B03AAE090">
                        <p class="notep1">Note:</p>
                        <p>Plain statements cannot be cached.</p>
                     </div>
                     <p>Because explicit Statement caching retains statement data and state as well as metadata, it has a performance edge over implicit Statement caching, which retains only metadata. However, you must be cautious when using this type of caching, because explicit Statement caching saves all three types of information for reuse and you may not be aware of what data and state are retained from prior use of the statements.</p>
                     <p>Implicit and explicit Statement caching can be differentiated on the following points:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Retrieving statements</p>
                           <p>In the case of implicit Statement caching, you take no special action to retrieve statements from a cache. Instead, whenever you call <code class="codeph">prepareStatement</code> or <code class="codeph">prepareCall</code>, JDBC automatically checks the cache for a matching statement and returns it if found. However, in the case of explicit Statement caching, you use specialized Oracle <code class="codeph">WithKey</code> methods to cache and retrieve statement objects.
                           </p>
                        </li>
                        <li>
                           <p>Providing key</p>
                           <p>Implicit Statement caching uses the SQL string of a prepared or callable statement as the key, requiring no action on your part. In contrast, explicit Statement caching requires you to provide a Java <code class="codeph">String</code>, which it uses as the key.
                           </p>
                        </li>
                        <li>
                           <p>Returning statements</p>
                           <p>During implicit Statement caching, if the JDBC driver cannot find a statement in cache, then it will automatically create one. However, during explicit Statement caching, if the JDBC driver cannot find a matching statement in cache, then it will return a <code class="codeph">null</code> value.
                           </p>
                        </li>
                     </ul>
                     <p><a href="statement-and-resultset-caching.html#GUID-DFBC7F09-5F27-42E1-8044-24733A6AE5F8__G1076722" title="table">Table 20-1</a> compares the different methods employed in implicit and explicit Statement caching.
                     </p>
                     <div class="tblformalwide" id="GUID-DFBC7F09-5F27-42E1-8044-24733A6AE5F8__G1076722">
                        <p class="titleintable">Table 20-1 Comparing Methods Used in Statement Caching</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Comparing Methods Used in Statement Caching" summary="table" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="12%" id="d64860e358">Type of Caching</th>
                                 <th align="left" valign="bottom" width="29%" id="d64860e361">Allocate</th>
                                 <th align="left" valign="bottom" width="21%" id="d64860e364">Insert Into Cache</th>
                                 <th align="left" valign="bottom" width="37%" id="d64860e367">Retrieve From Cache</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d64860e372" headers="d64860e358 ">
                                    <p>Implicit</p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d64860e372 d64860e361 ">
                                    <p><code class="codeph">prepareStatement prepareCall</code></p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d64860e372 d64860e364 ">
                                    <p><code class="codeph">close</code></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d64860e372 d64860e367 ">
                                    <p><code class="codeph">prepareStatement prepareCall</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d64860e392" headers="d64860e358 ">
                                    <p>Explicit</p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d64860e392 d64860e361 ">
                                    <p><code class="codeph">createStatement prepareStatement prepareCall</code></p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d64860e392 d64860e364 ">
                                    <p><code class="codeph">closeWithKey</code></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d64860e392 d64860e367 ">
                                    <p><code class="codeph">getStatementWithKey getCallWithKey</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div><a id="JJDBC28655"></a><div class="props_rev_3"><a id="GUID-6BD392DE-C6CE-4743-8176-D011A597AE0D" name="GUID-6BD392DE-C6CE-4743-8176-D011A597AE0D"></a><h3 id="JJDBC-GUID-6BD392DE-C6CE-4743-8176-D011A597AE0D" class="sect3"><span class="enumeration_section">20.2 </span>About Using Statement Caching
               </h3>
               <div>
                  <p>This section discusses the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9">About Enabling and Disabling Statement Caching</a></p>
                     </li>
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-D410355C-0318-41AC-AC93-3CDC59EFFD37">About Closing a Cached Statement</a></p>
                     </li>
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD">About Using Implicit Statement Caching</a></p>
                     </li>
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-968C6FA9-D861-4624-B7E7-568B63DF4D08">About Using Explicit Statement Caching</a></p>
                     </li>
                  </ul>
               </div><a id="JJDBC28657"></a><a id="JJDBC28658"></a><a id="JJDBC28659"></a><a id="JJDBC28660"></a><a id="JJDBC28661"></a><a id="JJDBC28662"></a><a id="JJDBC28656"></a><div class="props_rev_3"><a id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9" name="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9"></a><h4 id="JJDBC-GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9" class="sect4"><span class="enumeration_section">20.2.1 </span>About Enabling and Disabling Statement Caching
                  </h4>
                  <div>
                     <p>When using the <code class="codeph">OracleConnection</code> API, implicit and explicit Statement caching can be enabled or disabled independent of one other. You can have either, neither, or both of them in effect.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9__GUID-8093CBA2-C30E-4C04-BF27-E654650BC150">Enabling Implicit Statement Caching</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>There are two ways to enable implicit Statement caching. The first method enables Statement caching on a nonpooled physical connection, where you need to explicitly specify the Statement size for every connection, using the <code class="codeph">setStatementCacheSize</code> method. The second method enables Statement caching on a pooled logical connection. Each connection in the pool has its own Statement cache with the same maximum size that can be specified by setting the <code class="codeph">MaxStatementsLimit</code> property.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9__GUID-F5B4E54F-F528-4AA5-94E9-AA39B47E0540">Method 1</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Perform the following steps:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Call the <code class="codeph">OracleDataSource.setImplicitCachingEnabled(true)</code> method on the connection to set the <code class="codeph">OracleDataSource</code> property <code class="codeph">implicitCachingEnabled</code> to <code class="codeph">true</code>. For example:
                              </p><pre class="oac_no_warn" dir="ltr">OracleDataSource ods =  new OracleDataSource();
...
ods.setImplicitCachingEnabled(true);
...
</pre></li>
                           <li>
                              <p>Call the <code class="codeph">OracleConnection.setStatementCacheSize</code> method on the physical connection. The argument you supply is the maximum number of statements in the cache. For example, the following code specifies a cache size of ten statements:
                              </p><pre class="oac_no_warn" dir="ltr">((OracleConnection)conn).setStatementCacheSize(10);
</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9__GUID-11810DA3-4EF9-4D09-8DE6-D78C6CF5A813">Method 2</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Perform the following steps:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Set the <code class="codeph">OracleDataSource</code> properties <code class="codeph">implicitCachingEnabled</code> and <code class="codeph">connectionCachingEnabled</code> to <code class="codeph">true</code>. For example:
                              </p><pre class="oac_no_warn" dir="ltr">OracleDataSource ods =  new OracleDataSource();
...
ods.setConnectionCachingEnabled( true );
ods.setImplicitCachingEnabled( true );
...
</pre></li>
                           <li>
                              <p>Set the <code class="codeph">MaxStatementsLimit</code> property to a positive integer on the connection cache, when using the connection cache. For example:
                              </p><pre class="oac_no_warn" dir="ltr">Properties cacheProps = new Properties();
...
cacheProps.put( "MaxStatementsLimit", "50" );
</pre></li>
                        </ul>
                        <p>To determine whether implicit caching is enabled, call <code class="codeph">getImplicitCachingEnabled</code>, which returns <code class="codeph">true</code> if implicit caching is enabled, <code class="codeph">false</code> otherwise.
                        </p>
                        <div class="infoboxnote" id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9__GUID-4C702324-D20C-4D04-A746-F74D7EBF3D1A">
                           <p class="notep1">Note:</p>
                           <p> Enabling Statement caching enables both implicit and explicit Statement caching.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9__GUID-B4AD33D6-38E3-4453-A025-A3BE3D14257C">Disabling Implicit Statement Caching</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Disable implicit Statement caching by calling <code class="codeph">setImplicitCachingEnabled(false)</code> on the connection or by setting the <code class="codeph">ImplicitCachingEnabled</code> property to <code class="codeph">false</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9__GUID-6A06E0CD-878F-4BD4-9E8C-DA536A40B451">Enabling Explicit Statement Caching</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To enable explicit Statement caching you must first set the Statement cache size. For setting the cache size, call <code class="codeph">OracleConnection.setStatementCacheSize</code> method on the physical connection. The argument you supply is the maximum number of statements in the cache. An argument of <code class="codeph">0</code> specifies no caching. To check the cache size, use the <code class="codeph">getStatementCacheSize</code> method in the following way:
                        </p><pre class="oac_no_warn" dir="ltr">System.out.println("Stmt Cache size is " +
   ((OracleConnection)conn).getStatementCacheSize());
</pre><p>The following code specifies a cache size of ten statements:</p><pre class="oac_no_warn" dir="ltr">((OracleConnection)conn).setStatementCacheSize(10);
</pre><p>Enable explicit Statement caching by calling <code class="codeph">setExplicitCachingEnabled(true)</code> on the connection.
                        </p>
                        <p>To determine whether explicit caching is enabled, call <code class="codeph">getExplicitCachingEnabled</code>, which returns <code class="codeph">true</code> if explicit caching is enabled, <code class="codeph">false</code> otherwise.
                        </p>
                        <div class="infoboxnote" id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9__GUID-6103DC22-7A1C-41A0-8231-12EB9711922A">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You enable implicit and explicit caching for a particular physical connection independently. Therefore, it is possible to do Statement caching both implicitly and explicitly during the same session.</p>
                              </li>
                              <li>
                                 <p>Implicit and explicit Statement caching share the <span class="italic">same</span> cache. Remember this when you set the statement cache size.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9__GUID-4F1F45B0-DDB5-4766-90FD-D1ECBF89DE00">Disabling Explicit Statement Caching</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Disable explicit Statement caching by calling <code class="codeph">setExplicitCachingEnabled(false)</code>. Disabling caching or closing the cache purges the cache. The following example disables explicit Statement caching:<a id="d64860e654" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">((OracleConnection)conn).setExplicitCachingEnabled(false);</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28664"></a><a id="JJDBC28665"></a><a id="JJDBC28666"></a><a id="JJDBC28663"></a><div class="props_rev_3"><a id="GUID-D410355C-0318-41AC-AC93-3CDC59EFFD37" name="GUID-D410355C-0318-41AC-AC93-3CDC59EFFD37"></a><h4 id="JJDBC-GUID-D410355C-0318-41AC-AC93-3CDC59EFFD37" class="sect4"><span class="enumeration_section">20.2.2 </span>About Closing a Cached Statement
                  </h4>
                  <div>
                     <p>Perform the following to close a Statement and assure that it is not returned to the cache:</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D410355C-0318-41AC-AC93-3CDC59EFFD37__GUID-BE0E8A7C-0001-46F7-99D6-26570EFCA6A5">In J2SE 5.0</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Disable caching for that statement</p><pre class="oac_no_warn" dir="ltr">stmt.setDisableStmtCaching(true);
</pre></li>
                           <li>
                              <p>Call the <code class="codeph">close</code> method of the statement object
                              </p><pre class="oac_no_warn" dir="ltr">stmt.close();
</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D410355C-0318-41AC-AC93-3CDC59EFFD37__GUID-FA67A4E5-80B3-4307-A6A8-5C2A18F6289B">In JSE 6.0</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">stmt.setPoolable(false);
stmt.close();</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D410355C-0318-41AC-AC93-3CDC59EFFD37__GUID-6B67FF68-3866-4BC4-A486-962E85E3720C">Physically Closing a Cached Statement</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>With implicit Statement caching enabled, you cannot physically close statements manually. The <code class="codeph">close</code> method of a statement object caches the statement instead of closing it. The statement is physically closed automatically under one of following three conditions:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When the associated connection is closed</p>
                           </li>
                           <li>
                              <p>When the cache reaches its size limit and the least recently used statement object is preempted from cache by the LRU algorithm</p>
                           </li>
                           <li>
                              <p>If you call the <code class="codeph">close</code> method on a statement for which Statement caching is disabled
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28668"></a><a id="JJDBC28669"></a><a id="JJDBC28670"></a><a id="JJDBC28671"></a><a id="JJDBC28667"></a><div class="props_rev_3"><a id="GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD" name="GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD"></a><h4 id="JJDBC-GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD" class="sect4"><span class="enumeration_section">20.2.3 </span>About Using Implicit Statement Caching
                  </h4>
                  <div>
                     <p>Once you enable implicit Statement caching, by default, all prepared and callable statements are automatically cached. Implicit Statement caching includes the following steps:</p>
                     <ol>
                        <li>
                           <p>Enable implicit Statement caching.</p>
                        </li>
                        <li>
                           <p>Allocate a statement using one of the standard methods.</p>
                        </li>
                        <li>
                           <p>Disable implicit Statement caching for any particular statement you do not want to cache. This is an optional step.</p>
                        </li>
                        <li>
                           <p>Cache the statement using the <code class="codeph">close</code> method.
                           </p>
                        </li>
                        <li>
                           <p>Retrieve the implicitly cached statement by calling the appropriate standard prepare method.</p>
                        </li>
                     </ol>
                     <div class="section">
                        <p class="subhead3" id="GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD__GUID-54FB304A-0E62-44AC-B2C5-FF456C01218B">Allocating a Statement for Implicit Caching</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To allocate a statement for implicit Statement caching, use either the <code class="codeph">prepareStatement</code> or <code class="codeph">prepareCall</code> method as you would typically.
                        </p>
                        <p>The following code allocates a new statement object called <code class="codeph">pstmt</code>:
                        </p><pre class="oac_no_warn" dir="ltr">PreparedStatement pstmt = conn.prepareStatement
   ("UPDATE emp SET ename = ? WHERE rowid = ?");</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD__i1072689">
                        <p class="subhead3" id="GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD__GUID-5CCE5D15-45E4-44E8-A292-14A5A65DE3AB">Disabling Implicit Statement Caching for a Particular Statement</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>With implicit Statement caching enabled for a connection, by default, all callable and prepared statements of that connection are automatically cached. To prevent a particular callable or prepared statement from being implicitly cached, use the <a id="d64860e808" class="indexterm-anchor"></a><code class="codeph">setDisableStmtCaching</code> method of the statement object. You can manage cache space by calling the <code class="codeph">setDisableStmtCaching</code> method on any infrequently used statement.
                        </p>
                        <p>The following code disables implicit Statement caching for <code class="codeph">pstmt</code>:<code class="codeph"></code></p><pre class="oac_no_warn" dir="ltr">PreparedStatement pstmt = conn.prepareStatement("SELECT 1 from DUAL");
((OraclePreparedStatement)pstmt).setDisableStmtCaching(true);
pstmt.close ();
</pre><div class="infoboxnote" id="GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD__GUID-0819F6BD-CA13-44E4-8B33-37A4ECFE98F8">
                           <p class="notep1">Note:</p>
                           <p>If you are using JSE 6, then you can disable Statement caching by using the standard JDBC 4.0 method <code class="codeph">setPoolable</code>:
                           </p><pre class="oac_no_warn" dir="ltr">PreparedStatement.setPoolable(false);
</pre><p>Use the following to check whether the <code class="codeph">Statement</code> object is poolable:
                           </p><pre class="oac_no_warn" dir="ltr">Statement.isPoolable();
</pre></div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD__GUID-FB8933A9-F608-48D2-8A0B-F814F812F046">Implicitly Caching a Statement</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To cache an allocated statement, call the <code class="codeph">close</code> method of the statement object. When you call the <code class="codeph">close</code> method on an <code class="codeph">OraclePreparedStatement</code> or <code class="codeph">OracleCallableStatement</code> object, the JDBC driver automatically puts this statement in cache, unless you have disabled caching for this statement.
                        </p>
                        <p>The following code caches the <code class="codeph">pstmt</code> statement:
                        </p><pre class="oac_no_warn" dir="ltr">pstmt.close ();</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD__GUID-0AB1DC9D-6A8A-4E1E-AB48-6D7D5E69D07D">Retrieving an Implicitly Cached Statement</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To retrieve an implicitly cached statement, call either the <code class="codeph">prepareStatement</code> or <code class="codeph">prepareCall</code> method, depending on the statement type.
                        </p>
                        <p>The following code retrieves <code class="codeph">pstmt</code> from cache using the <code class="codeph">prepareStatement</code> method:
                        </p><pre class="oac_no_warn" dir="ltr">pstmt = conn.prepareStatement ("UPDATE emp SET ename = ? WHERE rowid = ?");
</pre></div>
                     <!-- class="section" -->
                  </div><a id="JJDBC28673"></a><a id="JJDBC28672"></a><div class="props_rev_3"><a id="GUID-A9FF7B73-F256-4872-88BE-AFFD5D5A7062" name="GUID-A9FF7B73-F256-4872-88BE-AFFD5D5A7062"></a><h5 id="JJDBC-GUID-A9FF7B73-F256-4872-88BE-AFFD5D5A7062" class="sect5"><span class="enumeration_section">20.2.3.1 </span>Methods Used in Statement Allocation and Implicit Statement Caching
                     </h5>
                     <div>
                        <div class="section">
                           <p><a href="statement-and-resultset-caching.html#GUID-A9FF7B73-F256-4872-88BE-AFFD5D5A7062__g1076757" title="table">Table 20-2</a> describes the methods used to allocate statements and retrieve implicitly cached statements.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-A9FF7B73-F256-4872-88BE-AFFD5D5A7062__g1076757">
                           <p class="titleintable">Table 20-2 Methods Used in Statement Allocation and Implicit Statement Caching</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Methods Used in Statement Allocation and Implicit Statement Caching" summary="table" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="32%" id="d64860e926">Method</th>
                                    <th align="left" valign="bottom" width="68%" id="d64860e929">Functionality for Implicit Statement Caching</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d64860e934" headers="d64860e926 ">
                                       <p><code class="codeph">prepareStatement</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d64860e934 d64860e929 ">
                                       <p>Performs a cache search that either finds and returns the desired cached <code class="codeph">OraclePreparedStatement</code> object or allocates a new <code class="codeph">OraclePreparedStatement</code> object if a match is not found
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d64860e948" headers="d64860e926 ">
                                       <p><code class="codeph">prepareCall</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d64860e948 d64860e929 ">
                                       <p>Performs a cache search that either finds and returns the desired cached <code class="codeph">OracleCallableStatement</code> object or allocates a new <code class="codeph">OracleCallableStatement</code> object if a match is not found
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p><a href="statement-and-resultset-caching.html#GUID-A9FF7B73-F256-4872-88BE-AFFD5D5A7062__CBHBFBAF">Example 20-1</a> provides a sample code that shows how to enable implicit statement caching.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-A9FF7B73-F256-4872-88BE-AFFD5D5A7062__CBHBFBAF">
                           <p class="titleinexample">Example 20-1 Using Implicit Statement Cache</p><pre class="oac_no_warn" dir="ltr">import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.Properties;
import javax.sql.DataSource;
import oracle.jdbc.OracleConnection;
import oracle.jdbc.pool.OracleDataSource;
public class TestJdbc
{
  /**
   * Get a Connection, prepare a statement, execute a query, fetch the results, close the connection.
   * @param ods the DataSource used to get the connection.
   */
  private static void doSQL( DataSource ods ) throws SQLException
  {
    final String SQL = "select username from all_users";
    OracleConnection  conn = null;
    PreparedStatement ps = null;
    ResultSet rs = null;
    try
    {
      conn = (OracleConnection) ods.getConnection();
      System.out.println( "Connection:" + conn );
      System.out.println( "Connection getImplicitCachingEnabled:" + conn.getImplicitCachingEnabled() );
      System.out.println( "Connection getStatementCacheSize:" + conn.getStatementCacheSize() );
      ps = conn.prepareStatement( SQL );
      System.out.println( "PreparedStatement:" + ps );
      rs = ps.executeQuery();
      while ( rs.next() )
      {
        String owner = rs.getString( 1 );
        System.out.println( owner );
      }
    }
    finally
    {
      if ( rs != null )
      {
        rs.close();
      }
      if ( ps != null )
      {
        ps.close();
      conn.close();
    }
  }
  }
  public static void main( String[] args )
  {
    try
    {
      OracleDataSource ods =  new OracleDataSource();
      ods.setDriverType( "thin" );
      ods.setServerName( "localhost" );
      ods.setPortNumber( 5221 );
      ods.setServiceName( "orcl" );
      ods.setUser( "HR" );
      ods.setPassword( "hr" );
      ods.setConnectionCachingEnabled( true );
      ods.setImplicitCachingEnabled( true );
      Properties cacheProps = new Properties();
      cacheProps.put( "InitialLimit", "1" );
      cacheProps.put( "MinLimit", "1" );
      cacheProps.put( "MaxLimit", "5" );
      cacheProps.put( "MaxStatementsLimit", "50" );
      ods.setConnectionCacheProperties( cacheProps );
      System.out.println( "DataSource getImplicitCachingEnabled: " + ods.getImplicitCachingEnabled() );
      for ( int i = 0; i &lt; 5; i++ )
      {
        doSQL( ods );
      }
    }
    catch ( Exception ex )
    {
      ex.printStackTrace();
    }
  }
}
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="JJDBC28675"></a><a id="JJDBC28676"></a><a id="JJDBC28677"></a><a id="JJDBC28674"></a><div class="props_rev_3"><a id="GUID-968C6FA9-D861-4624-B7E7-568B63DF4D08" name="GUID-968C6FA9-D861-4624-B7E7-568B63DF4D08"></a><h4 id="JJDBC-GUID-968C6FA9-D861-4624-B7E7-568B63DF4D08" class="sect4"><span class="enumeration_section">20.2.4 </span>About Using Explicit Statement Caching
                  </h4>
                  <div>
                     <p>A prepared or callable statement can be explicitly cached when you enable explicit Statement caching. Explicit Statement caching includes the following steps:</p>
                     <ol>
                        <li>
                           <p>Enable explicit Statement caching.</p>
                        </li>
                        <li>
                           <p>Allocate a statement using one of the standard methods.</p>
                        </li>
                        <li>
                           <p>Explicitly cache the statement by closing it with a key, using the <code class="codeph">closeWithKey</code> method.
                           </p>
                        </li>
                        <li>
                           <p>Retrieve the explicitly cached statement by calling the appropriate Oracle WithKey method, specifying the appropriate key. </p>
                        </li>
                        <li>
                           <p>Re-cache an open, explicitly cached statement by closing it again with the <code class="codeph">closeWithKey</code> method. Each time a cached statement is closed, it is re-cached with its key.
                           </p>
                        </li>
                     </ol>
                     <div class="section">
                        <p class="subhead3" id="GUID-968C6FA9-D861-4624-B7E7-568B63DF4D08__GUID-BC35F76E-655A-4086-9BC4-28E88AFC1CC3">Allocating a Statement for Explicit Caching</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To allocate a statement for explicit Statement caching, use either the <code class="codeph">createStatement</code>, <code class="codeph">prepareStatement</code>, or <code class="codeph">prepareCall</code> method as you would typically.
                        </p>
                        <p>The following code allocates a new statement object called <code class="codeph">pstmt</code>:
                        </p><pre class="oac_no_warn" dir="ltr">PreparedStatement pstmt =
   conn.prepareStatement ("UPDATE emp SET ename = ? WHERE rowid = ?");</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-968C6FA9-D861-4624-B7E7-568B63DF4D08__GUID-930C7CA5-B4C8-4128-831D-F901F9B58C87">Explicitly Caching a Statement</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To explicitly cache an allocated statement, call the <code class="codeph">closeWithKey</code> method of the statement object, specifying a key. The key is an arbitrary Java <code class="codeph">String</code> that you provide. The <code class="codeph">closeWithKey</code> method caches a statement as is. This means the data, state, and metadata are retained and not cleared.
                        </p>
                        <p>The following code caches the <code class="codeph">pstmt</code> statement with the key <code class="codeph">"mykey"</code>:
                        </p><pre class="oac_no_warn" dir="ltr">((OraclePreparedStatement)pstmt).closeWithKey ("mykey");</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-968C6FA9-D861-4624-B7E7-568B63DF4D08__GUID-899B056E-8205-487B-8D93-F57EA68A46C9">Retrieving an Explicitly Cached Statement</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To recall an explicitly cached statement, call either the <code class="codeph">getStatementWithKey</code> or <code class="codeph">getCallWithKey</code> methods depending on the statement type.
                        </p>
                        <p>If you retrieve a statement with a specified key, then the JDBC driver searches the cache for the statement, based on the specified key. If a match is found, then the matching statement is returned along with its state, data, and metadata. This information is as it was when the statement was last closed. If a match is not found, then the JDBC driver returns <code class="codeph">null</code>.
                        </p>
                        <p>The following code recalls <code class="codeph">pstmt</code> from cache using the <code class="codeph">"mykey"</code> key with the <code class="codeph">getStatementWithKey</code> method. Recall that the <code class="codeph">pstmt</code> statement object was cached with the <code class="codeph">"mykey"</code> key.
                        </p><pre class="oac_no_warn" dir="ltr">pstmt = ((OracleConnection)conn).getStatementWithKey ("mykey");
</pre><p>If you call the <code class="codeph">creationState</code> method on the <code class="codeph">pstmt</code> statement object, then the method returns <code class="codeph">EXPLICIT</code>. 
                        </p>
                        <div class="infoboxnote" id="GUID-968C6FA9-D861-4624-B7E7-568B63DF4D08__GUID-5818FF92-F7CE-4F17-B9EF-19723E16318D">
                           <p class="notep1">Note:</p>
                           <p>When you retrieve an explicitly cached statement, ensure that you use the method that is appropriate for your statement type when specifying the key. For example, if you used the <code class="codeph">prepareStatement</code> method to allocate a statement, then use the <code class="codeph">getStatementWithKey</code> method to retrieve that statement from cache. The JDBC driver does <span class="italic">not</span> verify the type of statement it is returning.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="JJDBC28678"></a><div class="props_rev_3"><a id="GUID-6E6FE54B-CD93-4C77-8D14-9656F472E86F" name="GUID-6E6FE54B-CD93-4C77-8D14-9656F472E86F"></a><h5 id="JJDBC-GUID-6E6FE54B-CD93-4C77-8D14-9656F472E86F" class="sect5"><span class="enumeration_section">20.2.4.1 </span>Methods Used to Retrieve Explicitly Cached Statements
                     </h5>
                     <div>
                        <div class="section">
                           <p><a href="statement-and-resultset-caching.html#GUID-6E6FE54B-CD93-4C77-8D14-9656F472E86F__g1076741" title="table">Table 20-3</a> describes the methods used to retrieve explicitly cached statements.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-6E6FE54B-CD93-4C77-8D14-9656F472E86F__g1076741">
                           <p class="titleintable">Table 20-3 Methods Used to Retrieve Explicitly Cached Statements</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Methods Used to Retrieve Explicitly Cached Statements" summary="table" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="44%" id="d64860e1166">Method</th>
                                    <th align="left" valign="bottom" width="56%" id="d64860e1169">Functionality for Explicit Statement Caching</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="44%" id="d64860e1174" headers="d64860e1166 ">
                                       <p><code class="codeph">getStatementWithKey</code></p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d64860e1174 d64860e1169 ">
                                       <p>Specifies the key needed to retrieve a prepared statement from cache</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="44%" id="d64860e1182" headers="d64860e1166 ">
                                       <p><code class="codeph">getCallWithKey</code></p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d64860e1182 d64860e1169 ">
                                       <p>Specifies the key needed to retrieve a callable statement from cache</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div>
            </div><a id="JJDBC28679"></a><div class="props_rev_3"><a id="GUID-60A76058-8FD3-4A0E-B6DB-B60DC76C6E59" name="GUID-60A76058-8FD3-4A0E-B6DB-B60DC76C6E59"></a><h3 id="JJDBC-GUID-60A76058-8FD3-4A0E-B6DB-B60DC76C6E59" class="sect3"><span class="enumeration_section">20.3 </span>About Reusing Statements Objects
               </h3>
               <div>
                  <p>The JDBC 3.0 specification introduces the feature of statement pooling that enables an application to reuse a <code class="codeph">PreparedStatement</code> object in the same way as it uses a <code class="codeph">Connection</code> object. The <code class="codeph">PreparedStatement</code> objects can be reused by multiple logical connections in a transparent manner.
                  </p>
                  <p>This section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-31C86EE4-9292-4FAE-BEE2-75E9749E0969">About Using a Pooled Statement</a></p>
                     </li>
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-B65BBA20-C969-4950-BE7C-EBFEBA1EB5F1">About Closing a Pooled Statement</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-60A76058-8FD3-4A0E-B6DB-B60DC76C6E59__GUID-38684C6E-330E-4A9A-9850-8812DED36176">
                     <p class="notep1">Note:</p>
                     <p>The Oracle JDBC Drivers use implicit statement caching to support statement pooling.</p>
                  </div>
               </div><a id="JJDBC28680"></a><div class="props_rev_3"><a id="GUID-31C86EE4-9292-4FAE-BEE2-75E9749E0969" name="GUID-31C86EE4-9292-4FAE-BEE2-75E9749E0969"></a><h4 id="JJDBC-GUID-31C86EE4-9292-4FAE-BEE2-75E9749E0969" class="sect4"><span class="enumeration_section">20.3.1 </span>About Using a Pooled Statement
                  </h4>
                  <div>
                     <p>An application can find out whether a data source supports statement pooling by calling the <code class="codeph">isPoolable</code> method from the <code class="codeph">Statement</code> interface. If the return value is <code class="codeph">true</code>, then the application knows that the <code class="codeph">PreparedStatement</code> object is being pooled. The application can also request a statement to be pooled or not pooled by using the <code class="codeph">setPoolable</code> method from the <code class="codeph">Statement</code> interface.
                     </p>
                     <p>Reusing of pooled statement should be completely transparent to the application, that is, the application code should remain the same whether a <code class="codeph">PreparedStatement</code> object participates in statement pooling or not. If an application closes a <code class="codeph">PreparedStatement</code> object, it must still call <code class="codeph">Connection.prepareStatement</code> method in order to reuse it.
                     </p>
                     <div class="infoboxnote" id="GUID-31C86EE4-9292-4FAE-BEE2-75E9749E0969__GUID-EDA1DBC4-9373-4A49-86D1-49F09CDEA94D">
                        <p class="notep1">Note:</p>
                        <p>An application has no direct control over how statements are pooled. A pool of statements is associated with a <code class="codeph">PooledConnection</code> object, whose behavior is determined by the properties of the <code class="codeph">ConnectionPoolDataSource</code> object that produced it.
                        </p>
                     </div>
                  </div>
               </div><a id="JJDBC28681"></a><div class="props_rev_3"><a id="GUID-B65BBA20-C969-4950-BE7C-EBFEBA1EB5F1" name="GUID-B65BBA20-C969-4950-BE7C-EBFEBA1EB5F1"></a><h4 id="JJDBC-GUID-B65BBA20-C969-4950-BE7C-EBFEBA1EB5F1" class="sect4"><span class="enumeration_section">20.3.2 </span>About Closing a Pooled Statement
                  </h4>
                  <div>
                     <p>An application closes a pooled statement exactly the same way it closes a nonpooled statement. Once a statement is closed, whether is it pooled or nonpooled, it is no longer available for use by the application and an attempt to reuse it causes an exception to be thrown. The only difference visible is that an application cannot directly close a physical statement that is being pooled. This is done by the pool manager. The method <code class="codeph">PooledConnection.closeAll</code> closes all of the statements open on a given physical connection, which releases the resources associated with those statements. 
                     </p>
                     <p>The following methods can close a pooled statement:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d64860e1334" class="indexterm-anchor"></a><a id="d64860e1338" class="indexterm-anchor"></a><code class="codeph">close</code></p>
                           <p>This <code class="codeph">java.sql.Statement</code> interface method is called by an application. If the statement is being pooled, then it closes the logical statement used by the application but does not close the physical statement being pooled.
                           </p>
                        </li>
                        <li>
                           <p><a id="d64860e1349" class="indexterm-anchor"></a><a id="d64860e1353" class="indexterm-anchor"></a><code class="codeph">close</code></p>
                           <p>This <code class="codeph">java.sql.Connection</code> interface method is called by an application. This method acts differently depending upon whether the connection using the statement is being pooled or not:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Nonpooled connection</p>
                                 <p>This method closes the physical connection and all statements created by that connection. This is necessary because the garbage collection mechanism is unable to detect when externally managed resources can be released.</p>
                              </li>
                              <li>
                                 <p>Pooled connection</p>
                                 <p>This method closes the logical connection and the logical statements it returned, but leaves open the underlying <code class="codeph">PooledConnection</code> object and any associated pooled statements
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">PooledConnection.closeAll</code></p>
                           <p>This method is called by the connection pool manager to close all of the physical statements being pooled by the <code class="codeph">PooledConnection</code> object
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="JJDBC28682"></a><div class="props_rev_3"><a id="GUID-5D1A9E2F-F191-4FCF-994C-C1D5B143FC4F" name="GUID-5D1A9E2F-F191-4FCF-994C-C1D5B143FC4F"></a><h3 id="JJDBC-GUID-5D1A9E2F-F191-4FCF-994C-C1D5B143FC4F" class="sect3"><span class="enumeration_section">20.4 </span>About Result Set Caching
               </h3>
               <div>
                  <div class="section">
                     <p>Your applications sometime send repetitive queries to the database. To improve the response time of repetitive queries, results of queries, query fragments, and PL/SQL functions can be cached in memory. A result cache stores the results of queries shared across all sessions. When these queries are executed repeatedly, the results are retrieved directly from the cache memory. </p>
                     <div class="infoboxnote" id="GUID-5D1A9E2F-F191-4FCF-994C-C1D5B143FC4F__GUID-320549CB-EAD4-490D-B7AB-93A642B9D0B0">
                        <p class="notep1">Note:</p>
                        <p>If a result set is very large, then it may not be cached due to size restrictions.</p>
                     </div>
                     <p>You must annotate a query or query fragment with a result cache hint to indicate that results are to be stored in the query result cache.</p>
                     <p>The query result set can be cached in the following ways:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="statement-and-resultset-caching.html#GUID-769AF0BA-E91D-4867-825D-45A46D5FF0E4">Server-Side Result Set Cache</a></p>
                        </li>
                        <li>
                           <p><a href="statement-and-resultset-caching.html#GUID-0DBA7293-CC9F-446F-959F-34B23F393F80">Client-Side Result Set Cache</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-5D1A9E2F-F191-4FCF-994C-C1D5B143FC4F__GUID-6866DB41-CD53-416F-BF0E-A4D4A3FF2EB8">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The server-side and client result set caches are most useful for read-only or read-mostly data. They may reduce performance for queries with highly dynamic results.</p>
                           </li>
                           <li>
                              <p>Both server-side and client result set caches use memory. So, caching very large result sets can cause performance problems.</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28683"></a><div class="props_rev_3"><a id="GUID-769AF0BA-E91D-4867-825D-45A46D5FF0E4" name="GUID-769AF0BA-E91D-4867-825D-45A46D5FF0E4"></a><h4 id="JJDBC-GUID-769AF0BA-E91D-4867-825D-45A46D5FF0E4" class="sect4"><span class="enumeration_section">20.4.1 </span>Server-Side Result Set Cache
                  </h4>
                  <div>
                     <div class="section">
                        <p>Support for server-side Result Set caching has been introduced for both JDBC Thin and JDBC Oracle Call Interface (OCI) drivers since Oracle Database 11<span class="italic">g</span> Release 1. The server-side result cache is used to cache the results of the current queries, query fragments, and PL/SQL functions in memory and then to use the cached results in future executions of the query, query fragment, or PL/SQL function. The cached results reside in the result cache memory portion of the SGA. A cached result is automatically invalidated whenever a database object used in its creation is successfully modified. The server-side caching can be of the following two types:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>SQL Query Result Cache</p>
                           </li>
                           <li>
                              <p>PL/SQL Function Result Cache</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-769AF0BA-E91D-4867-825D-45A46D5FF0E4__GUID-77C37F76-CC40-48AF-ADD1-678615365BFC">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../tgdba/tuning-result-cache.html#TGDBA631" target="_blank"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information about SQL Query Result Cache
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../lnpls/plsql-subprograms.html#LNPLS00817" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about PL/SQL Function Result Cache
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-0DBA7293-CC9F-446F-959F-34B23F393F80" name="GUID-0DBA7293-CC9F-446F-959F-34B23F393F80"></a><h4 id="JJDBC-GUID-0DBA7293-CC9F-446F-959F-34B23F393F80" class="sect4"><span class="enumeration_section">20.4.2 </span>Client-Side Result Set Cache
                  </h4>
                  <div>
                     <div class="section">
                        <p>Client-side result set cache feature enables client-side caching of SQL query result sets in client memory. In this way, the applications can use client memory to take advantage of the client-side result set cache to improve response times of repetitive queries.</p>
                        <p>This section covers the following topics:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="statement-and-resultset-caching.html#GUID-822D17D2-9872-430A-87F1-0F8B6F2E58DF">Enabling the Client-Side Result Set Cache</a></p>
                           </li>
                           <li>
                              <p><a href="statement-and-resultset-caching.html#GUID-5E30E39C-D773-4A00-94EF-861AE4DDEF78">Benefits of Client-Side Result Set Cache</a></p>
                           </li>
                           <li>
                              <p><a href="statement-and-resultset-caching.html#GUID-DA1EEDD3-E6C5-4D34-B9A4-069C3690870E">Usage Guidelines in JDBC</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div class="sect4"><a id="GUID-822D17D2-9872-430A-87F1-0F8B6F2E58DF" name="GUID-822D17D2-9872-430A-87F1-0F8B6F2E58DF"></a><h5 id="JJDBC-GUID-822D17D2-9872-430A-87F1-0F8B6F2E58DF" class="sect5"><span class="enumeration_section">20.4.2.1 </span>Enabling the Client-Side Result Set Cache
                     </h5>
                     <div>
                        <p></p>
                        <p>Oracle Database Release 18c supports client-side result set cache in the JDBC thin driver. You can use the new <code class="codeph">oracle.jdbc.enableQueryResultCache</code> connection property for enabling this feature. The default value of this property is <code class="codeph">true</code>, which means that this feature is enabled by default. You can disable this feature by setting the property to <code class="codeph">false</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-822D17D2-9872-430A-87F1-0F8B6F2E58DF__GUID-96BBCA50-81F7-402D-9048-17FB2CA820F4">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>In Oracle Database 12<span class="italic">c</span> Release 2 (12.2), the <code class="codeph">enableQueryResultCache</code> property is available as <code class="codeph">enableResultSetCache</code>, and the default value is <code class="codeph">false</code>. You can enable this feature by setting the <code class="codeph">enableResultSetCache</code> property to <code class="codeph">true</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>The JDBC OCI driver supports client-side result set cache already.</p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-822D17D2-9872-430A-87F1-0F8B6F2E58DF__GUID-B214E566-ADFF-4746-9354-C8777666C9A0">
                           <p class="notep1">See Also:</p>
                           <p><a href="../lnoci/performance-topics.html#LNOCI10103" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a></p>
                        </div>
                        <p>For using this feature, you must set the following database initialization parameters in the following way:</p><pre class="pre codeblock"><code>CLIENT_RESULT_CACHE_SIZE=100M
CLIENT_RESULT_CACHE_LAG=1000 </code></pre><p>This value of the <code class="codeph">CLIENT_RESULT_CACHE_SIZE</code> parameter controls how much memory the thin driver can use for its cache.
                        </p>
                        <p>A read-only or read-mostly table can then be annoted and its data can be cached on the driver. For example,<code class="codeph"> RESULT_CACHE(MODE FORCE)</code>.
                        </p>
                        <p>You can also use a SQL hint<code class="codeph"> /*+RESULT_CACHE */</code> for identifying queries that are eligible for caching.
                        </p>
                        <div class="infoboxnotealso" id="GUID-822D17D2-9872-430A-87F1-0F8B6F2E58DF__GUID-51E8406F-C81C-4264-BAC7-7DA01ABD9159">
                           <p class="notep1">See Also:</p><a href="../jajdb/index.html" target="_blank"><span class="italic">Oracle Database JDBC Java API Reference</span></a></div>
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-5E30E39C-D773-4A00-94EF-861AE4DDEF78" name="GUID-5E30E39C-D773-4A00-94EF-861AE4DDEF78"></a><h5 id="JJDBC-GUID-5E30E39C-D773-4A00-94EF-861AE4DDEF78" class="sect5"><span class="enumeration_section">20.4.2.2 </span>Benefits of Client-Side Result Set Cache
                     </h5>
                     <div>
                        <div class="section">
                           <p>The benefits of the client-side result set cache are the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The client-side result set cache is completely transparent to the applications and its cache of result set data is kept consistent with any session or database changes that affect its result set.</p>
                              </li>
                              <li>
                                 <p>Table annotation makes client-side result set work transparently to the JDBC applications. Otherwise, you must use a hint to enable it. The cache hit avoids the execution of the query and roundtrip to the server to get the result sets. This can result in huge performance savings for server resources, for example, server CPU and server I/O.</p>
                                 <div class="infoboxnotealso" id="GUID-5E30E39C-D773-4A00-94EF-861AE4DDEF78__GUID-B4D218AF-E0F4-4F70-9308-EA78C8B9ADC8">
                                    <p class="notep1">See Also:</p>
                                    <p><a href="statement-and-resultset-caching.html#GUID-1007119D-A2F7-43D5-8A53-206033BA35FD">Table Annotations</a> and <a href="statement-and-resultset-caching.html#GUID-E628A526-EA86-450C-B974-63422881E875">SQL Hints</a></p>
                                 </div>
                              </li>
                              <li>
                                 <p>The result cache on the client is per-process, so multiple client sessions can simultaneously use matching cached result sets.</p>
                              </li>
                              <li>
                                 <p>The result cache on the client minimizes the need for each application to have its own custom result set cache.</p>
                              </li>
                              <li>
                                 <p>The result cache on the client uses the client memory that is cheaper than server memory.</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-DA1EEDD3-E6C5-4D34-B9A4-069C3690870E" name="GUID-DA1EEDD3-E6C5-4D34-B9A4-069C3690870E"></a><h5 id="JJDBC-GUID-DA1EEDD3-E6C5-4D34-B9A4-069C3690870E" class="sect5"><span class="enumeration_section">20.4.2.3 </span>Usage Guidelines in JDBC
                     </h5>
                     <div>
                        <div class="section">
                           <p>You can enable result set caching in the following three ways:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="statement-and-resultset-caching.html#GUID-1764F69A-8E6B-4B78-AAF0-1D6257B3BBE5">RESULT_CACHE_MODE Parameter</a></p>
                              </li>
                              <li>
                                 <p><a href="statement-and-resultset-caching.html#GUID-1007119D-A2F7-43D5-8A53-206033BA35FD">Table Annotations</a></p>
                              </li>
                              <li>
                                 <p><a href="statement-and-resultset-caching.html#GUID-E628A526-EA86-450C-B974-63422881E875">SQL Hints</a></p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-DA1EEDD3-E6C5-4D34-B9A4-069C3690870E__GUID-615B0647-6DE8-4BBF-9B23-15180BB8C9AD">
                              <p class="notep1">Note:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>You must use JDBC statement caching or cache statements at the application level when using the client-side result set cache.</p>
                                 </li>
                                 <li>
                                    <p>The SQL hints take precedence over the session parameter <code class="codeph">RESULT_CACHE_MODE</code> and table annotations. The table annotation <code class="codeph">FORCE</code> takes precedence over session parameter.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="statement-and-resultset-caching.html#GUID-F3F4BB63-356A-4F65-81B1-5C84FC35A16D">Statement and Result Set Caching</a></li>
                           </ul>
                        </div>
                     </div>
                     
                     <div class="props_rev_3"><a id="GUID-1764F69A-8E6B-4B78-AAF0-1D6257B3BBE5" name="GUID-1764F69A-8E6B-4B78-AAF0-1D6257B3BBE5"></a><h6 id="JJDBC-GUID-1764F69A-8E6B-4B78-AAF0-1D6257B3BBE5" class="sect6"><span class="enumeration_section">20.4.2.3.1 </span>RESULT_CACHE_MODE Parameter
                        </h6>
                        <div>
                           <div class="section">
                              <p>You can use the <code class="codeph">RESULT_CACHE_MODE</code> parameter to decide the result cache mode across tables in your queries. Use this clause with the <code class="codeph">ALTER SESSION</code> and <code class="codeph">ALTER SYSTEM</code> statements, or inside the server parameter file (<code class="codeph">init.ora</code>) to determine result caching. You can set the <code class="codeph">RESULT_CACHE_MODE</code> parameter to control whether the SQL query result cache is used for all queries, or only for the queries that are annotated with the result cache hint using SQL hints or table annotations.
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                     <div class="props_rev_3"><a id="GUID-1007119D-A2F7-43D5-8A53-206033BA35FD" name="GUID-1007119D-A2F7-43D5-8A53-206033BA35FD"></a><h6 id="JJDBC-GUID-1007119D-A2F7-43D5-8A53-206033BA35FD" class="sect6"><span class="enumeration_section">20.4.2.3.2 </span>Table Annotations
                        </h6>
                        <div>
                           <div class="section">
                              <p>You can use table annotations to enable result caching without making changes to the code. The <code class="codeph">ALTER TABLE</code> and <code class="codeph">CREATE TABLE</code> statements enable you to annotate tables with result cache mode. The syntax is:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE|ALTER TABLE [&lt;schema&gt;.]&lt;table&gt; ... [RESULT_CACHE (MODE {FORCE|DEFAULT})]
</pre><p>Following example shows how to use table annotations with <code class="codeph">CREATE TABLE</code> statements:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE foo (a NUMBER, b VARCHAR2(20)) RESULT_CACHE (MODE FORCE);
</pre><p>Following example shows how to use table annotations with <code class="codeph">ALTER TABLE</code> statements:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE foo RESULT_CACHE (MODE DEFAULT);
</pre></div>
                           <!-- class="section" -->
                        </div>
                     </div>
                     <div class="props_rev_3"><a id="GUID-E628A526-EA86-450C-B974-63422881E875" name="GUID-E628A526-EA86-450C-B974-63422881E875"></a><h6 id="JJDBC-GUID-E628A526-EA86-450C-B974-63422881E875" class="sect6"><span class="enumeration_section">20.4.2.3.3 </span>SQL Hints
                        </h6>
                        <div>
                           <div class="section">
                              <p>You can use SQL hints to specify the queries to be cached by annotating the queries with a <code class="codeph">/*+ result_cache */</code> or /*+ no_result_cache */ hint. For example, look at the following code snippet:
                              </p><pre class="oac_no_warn" dir="ltr">String  query  = "select /*+ result_cache */ * from employees where employee_id &lt; : 1";
   ((oracle.jdbc.OracleConnection)conn).setImplicitCachingEnabled(true);
   ((oracle.jdbc.OracleConnection)conn).setStatementCacheSize(10);
   PreparedStatement  pstmt;
   ResultSet rs;
     
    for (int j = 0 ; j &lt; 10 ; j++ )
    {
       pstmt  = conn.prepareStatement (query);
       pstmt.setInt(1,7500);
       rs  = pstmt.executeQuery();
         while (rs.next( ) )
        {     // see the values  }
          rs.close;
          pstmt.close( ) ;
        }
    } 
</pre><p>In the preceding example, the client result cache hint <code class="codeph">/*+ result_cache */</code> is annotated to the actual query, that is,  <code class="codeph">select * from employees where employee_id &lt; : 1</code>. So, the first execution of the query goes to the database and the result set is cached for the remaining nine executions of the query. This improves the performance of your application significantly. This is primarily useful for read-only data.
                              </p>
                              <p>Following are some more examples of SQL hints. All the following examples assume that the <code class="codeph">dept</code> table is annotated for result caching by using the following command:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE dept result_cache (MODE FORCE);
</pre></div>
                           <!-- class="section" -->
                           <div class="section">
                              <p class="subhead3" id="GUID-E628A526-EA86-450C-B974-63422881E875__GUID-57E656F2-6000-4BDC-B72B-9F8D5D7A08E5">Examples</p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>SELECT * FROM employees </p>
                                    <p> The result set will not be cached.</p>
                                 </li>
                                 <li>
                                    <p>SELECT * FROM departments </p>
                                    <p>The result set will be cached.</p>
                                 </li>
                                 <li>
                                    <p>SELECT /*+ result_cache */ employee_id FROM employees </p>
                                    <p>The result set will be cached.</p>
                                 </li>
                                 <li>
                                    <p>SELECT /*+ no_result_cache */ department_id FROM departments </p>
                                    <p>The result set will not be cached.</p>
                                 </li>
                                 <li>
                                    <p>SELECT /*+ result_cache */ * FROM departments </p>
                                    <p>The result set will be cached though query hint is not necessary.</p>
                                 </li>
                                 <li>
                                    <p>SELECT e.first_name FROM employees e, departments d WHERE e.department_id = d.department_id </p>
                                    <p>The result set will not be cached because neither is a query hint available nor are all the tables annotated as <code class="codeph">FORCE</code>.
                                    </p>
                                 </li>
                              </ul>
                              <div class="infoboxnote" id="GUID-E628A526-EA86-450C-B974-63422881E875__GUID-1948B9E8-654E-4F0B-81A6-4004E656EFBC">
                                 <p class="notep1">Note:</p>
                                 <p>For information about usage guidelines, Client cache consistency, Deployment Time settings, Client cache Statistics, Validation of client result cache, and OCI Client Result Cache and Server Result Cache, refer to the <a href="../lnoci/performance-topics.html#LNOCI10103" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a>.
                                 </p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>