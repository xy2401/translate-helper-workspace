<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can monitor an XStream In configuration by querying data dictionary views.">
      <meta name="description" content="You can monitor an XStream In configuration by querying data dictionary views.">
      <title>Monitoring XStream In</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="XStream Guide ">
      <meta property="og:description" content="You can monitor an XStream In configuration by querying data dictionary views.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="XStream Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="xstream-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-07T01:45:15-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2009, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96280-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="managing-xstream-in.html" title="Previous" type="text/html">
      <link rel="next" href="troubleshooting-xstream-in.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XStream Guide">
    <meta name="dcterms.isVersionOf" content="XSTRM">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-xstream-in.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="troubleshooting-xstream-in.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">XStream Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="xstream-in.html" property="item" typeof="WebPage"><span property="name">    XStream In </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Monitoring XStream In</li>
            </ol>
            <a id="GUID-46B54351-BA11-412B-A23F-92F44739A8F6" name="GUID-46B54351-BA11-412B-A23F-92F44739A8F6"></a><a id="XSTRM72716"></a>
            
            <h2 id="XSTRM-GUID-46B54351-BA11-412B-A23F-92F44739A8F6" class="sect2"><span class="enumeration_chapter">11 </span>Monitoring XStream In
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>You can monitor an XStream In configuration by querying data dictionary views.</p>
               <p><a id="d55916e90" class="indexterm-anchor"></a>This chapter provides instructions for monitoring XStream.
               </p>
               <p>With XStream In, an Oracle Apply process functions as an inbound server. Therefore, you can also use the data dictionary views for apply processes to monitor inbound servers.</p>
               <div class="infoboxnote" id="GUID-46B54351-BA11-412B-A23F-92F44739A8F6__GUID-86BD077C-2A30-4AE7-A1E5-FC98A2535752">
                  <p class="notep1">Note:</p>
                  <p>Whenever possible, this chapter uses <code class="codeph">ALL_</code> static data dictionary views for query examples. In some cases, information in the <code class="codeph">ALL_</code> views is more limited than the information in the <code class="codeph">DBA_</code> views.
                  </p>
                  <p>In SQL*Plus, trusted XStream administrators can query the <code class="codeph">ALL_</code> and <code class="codeph">DBA_</code> views. Untrusted XStream administrators can query the <code class="codeph">ALL_</code> views only.
                  </p>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-7CF8AC35-4AB0-4466-B6F2-AE13B7CA7435">Displaying Session Information for Inbound Servers</a><br>An example illustrates displaying session information for inbound servers.
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-86433F0C-AA89-4277-B364-7E13287725EA">Displaying General Information About an Inbound Server</a><br>An example illustrates displaying general information about an inbound server.
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-B18DAB66-8842-482C-8F8D-493892373721">Monitoring the History of Events for XStream In Components</a><br>An example illustrates monitoring the history of events for XStream In components by querying the <code class="codeph">DBA_REPLICATION_PROCESS_EVENTS</code> view. 
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-58FD2C89-0214-472E-8AB5-56F773BB3B7B">Displaying the Status and Error Information for an Inbound Server</a><br>An example illustrates displaying the status and error information for an inbound server.
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-8F223E94-B47E-470E-913F-82FCAC0074EF">Displaying Apply Parameter Settings for an Inbound Server</a><br>An example illustrates displaying apply parameter settings for an inbound server.
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-00B0D22F-CD20-4404-AE18-5E7FB6E972BF">Displaying the Position Information for an Inbound Server</a><br>An example illustrates displaying the position information for an inbound server.
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-BF458EA7-35E7-4608-825F-DA99466D82E6">Displaying Information About DML Conflict Handlers</a><br>The <code class="codeph">DBA_APPLY_DML_CONF_HANDLERS</code> view displays information about DML conflict handlers.
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-9B8DF353-1A6F-472D-A145-B9C145038DC9">Displaying Information About Error Handlers</a><br>The <code class="codeph">DBA_APPLY_REPERROR_HANDLERS</code> view displays information about DML conflict handlers.
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-43A987B4-7F6C-4BC3-A813-F6E062175207">Checking for Apply Errors</a><br>An example illustrates checking for apply errors.
                  </li>
                  <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-505C729C-5893-4B22-A981-33BF3084C67B">Displaying Detailed Information About Apply Errors</a><br>SQL scripts display detailed information about the error transactions in the error queue in a database.
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-46B54351-BA11-412B-A23F-92F44739A8F6__GUID-E30081A2-33F7-4917-A48F-1BA3EAFFB6CB">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="q">"<a href="xstream-out-concepts.html#GUID-B59B1F79-91F6-4495-B946-5DCEB317E0D6" title="Become familiar with concepts related to XStream Out.">XStream Out Concepts</a>"</span></p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="introduction-to-xstream.html#GUID-21FC23DF-2881-4CFD-AF74-9A1173D768FF" title="There are several common XStream use cases.">XStream Use Cases</a>"</span></p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="troubleshooting-xstream-in.html#GUID-5A6A993B-2196-4D5A-BB8A-9E5A8E2B641D" title="You can diagnose and correct problems with an XStream In configuration.">Troubleshooting XStream In</a>"</span></p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="xstream-in.html#GUID-D7F5E262-D5D6-4286-95CD-E69FFB8DAAAE" title="You can configure and manage an XStream In environment.">XStream In</a></p>
                  </div>
               </div>
            </div>
            <a id="XSTRM72898"></a><div class="props_rev_3"><a id="GUID-7CF8AC35-4AB0-4466-B6F2-AE13B7CA7435" name="GUID-7CF8AC35-4AB0-4466-B6F2-AE13B7CA7435"></a><h3 id="XSTRM-GUID-7CF8AC35-4AB0-4466-B6F2-AE13B7CA7435" class="sect3"><span class="enumeration_section">11.1 </span>Displaying Session Information for Inbound Servers
               </h3>
               <div>
                  <p>An example illustrates displaying session information for inbound servers.</p>
                  <div class="section">
                     <p>The query in this section displays the following session information about each XStream component in a database:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The XStream component name</p>
                        </li>
                        <li>
                           <p>The session identifier</p>
                        </li>
                        <li>
                           <p>The serial number</p>
                        </li>
                        <li>
                           <p>The operating system process identification number</p>
                        </li>
                        <li>
                           <p>The XStream process number</p>
                        </li>
                     </ul>
                     <p>This query is especially useful for determining the session information for specific XStream components when there are multiple XStream In components configured in a database.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7CF8AC35-4AB0-4466-B6F2-AE13B7CA7435__GUID-14CBD4E6-A6A5-4613-B7B4-C0B9BA847F34">To display this information for each XStream component in a database:</p>
                     <ol>
                        <li>
                           <p>Connect to the database as the XStream administrator.</p>
                           <p>See <a href="../admin/index.html" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for information about connecting to a database in SQL*Plus.
                           </p>
                        </li>
                        <li>
                           <p>Run the following query:</p><pre class="oac_no_warn" dir="ltr">COLUMN ACTION HEADING 'XStream Component' FORMAT A30
COLUMN SID HEADING 'Session ID' FORMAT 99999
COLUMN SERIAL# HEADING 'Session|Serial|Number' FORMAT 99999999
COLUMN PROCESS HEADING 'Operating System|Process Number' FORMAT A17
COLUMN PROCESS_NAME HEADING 'XStream|Process|Number' FORMAT A7
 
SELECT /*+PARAM('_module_action_old_length',0)*/ ACTION,
       SID,
       SERIAL#,
       PROCESS,
       SUBSTR(PROGRAM,INSTR(PROGRAM,'(')+1,4) PROCESS_NAME
  FROM V$SESSION
  WHERE MODULE ='XStream';
</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Your output for an XStream In configuration looks similar to the following:</p><pre class="oac_no_warn" dir="ltr">                                            Session                   XStream
                                             Serial Operating System  Process
XStream Component              Session ID    Number Process Number    Number
------------------------------ ---------- --------- ----------------- -------
XIN - Apply Reader                     19         9 27304             AS01
XIN - Apply Server                     22         5 27308             AS03
XIN - Apply Server                     25        31 27313             AS05
XIN - Apply Coordinator               112         7 27302             AP01
XIN - Apply Server                    113         5 27306             AS02
XIN - Propagation Receiver            114        17 27342             TNS
XIN - Apply Server                    115        39 27311             AS04
</pre><p>The row that shows <code class="codeph">TNS</code> for the XStream process number contains information about the session for the XStream client application that is attached to the inbound server.
                     </p>
                     <div class="infoboxnote" id="GUID-7CF8AC35-4AB0-4466-B6F2-AE13B7CA7435__GUID-DB840FD3-F031-4422-8E2F-55F9C0B5076B">
                        <p class="notep1">Note:</p>
                        <p>To run this query, a user must have the necessary privileges to query the <code class="codeph">V$SESSION</code> view.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-7CF8AC35-4AB0-4466-B6F2-AE13B7CA7435__GUID-7850C59E-F31A-4BE5-BB96-CFDE2384CB2A">
                     <p class="notep1">See Also:</p>
                     <p><a href="../refrn/V-SESSION.html#REFRN30223" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about the <code class="codeph">V$SESSION</code> view
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="You can monitor an XStream In configuration by querying data dictionary views.">Monitoring XStream In</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="XSTRM1443"></a><div class="props_rev_3"><a id="GUID-86433F0C-AA89-4277-B364-7E13287725EA" name="GUID-86433F0C-AA89-4277-B364-7E13287725EA"></a><h3 id="XSTRM-GUID-86433F0C-AA89-4277-B364-7E13287725EA" class="sect3"><span class="enumeration_section">11.2 </span>Displaying General Information About an Inbound Server
               </h3>
               <div>
                  <p>An example illustrates displaying general information about an inbound server.</p>
                  <div class="section">
                     <p>You can display the following information for an inbound server by running the query in this section: </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The inbound server name</p>
                        </li>
                        <li>
                           <p>The owner of the queue used by the inbound server</p>
                        </li>
                        <li>
                           <p>The name of the queue used by the inbound server</p>
                        </li>
                        <li>
                           <p>The apply user for the inbound server</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-86433F0C-AA89-4277-B364-7E13287725EA__GUID-3F4F9B2C-8DAD-4E26-846F-BA16A341024E">To display general information about an inbound server:</p>
                     <ol>
                        <li>
                           <p>Connect to the database as the XStream administrator.</p>
                           <p>See <a href="../admin/index.html" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for information about connecting to a database in SQL*Plus.
                           </p>
                        </li>
                        <li>
                           <p>Run the following query:</p><pre class="oac_no_warn" dir="ltr">COLUMN SERVER_NAME HEADING 'Inbound Server Name' FORMAT A20
COLUMN QUEUE_OWNER HEADING 'Queue Owner' FORMAT A15
COLUMN QUEUE_NAME HEADING 'Queue Name' FORMAT A15
COLUMN APPLY_USER HEADING 'Apply User' FORMAT A15
 
SELECT SERVER_NAME, 
       QUEUE_OWNER,
       QUEUE_NAME,
       APPLY_USER
  FROM ALL_XSTREAM_INBOUND;
</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Your output looks similar to the following:</p><pre class="oac_no_warn" dir="ltr">Inbound Server Name  Queue Owner     Queue Name      Apply User
-------------------- --------------- --------------- ---------------
XIN                  XSTRMADMIN      XIN_QUEUE       XSTRMADMIN
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-86433F0C-AA89-4277-B364-7E13287725EA__GUID-4DDBAA72-0659-46CC-AE7C-C41B687855D1">
                     <p class="notep1">See Also:</p>
                     <p><a href="../refrn/ALL_XSTREAM_INBOUND.html#REFRN20734" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="You can monitor an XStream In configuration by querying data dictionary views.">Monitoring XStream In</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-B18DAB66-8842-482C-8F8D-493892373721" name="GUID-B18DAB66-8842-482C-8F8D-493892373721"></a><h3 id="XSTRM-GUID-B18DAB66-8842-482C-8F8D-493892373721" class="sect3"><span class="enumeration_section">11.3 </span>Monitoring the History of Events for XStream In Components
               </h3>
               <div>
                  <p>An example illustrates monitoring the history of events for XStream In components by querying the <code class="codeph">DBA_REPLICATION_PROCESS_EVENTS</code> view. 
                  </p>
                  <div class="section">
                     <p>For example, this view can display when a component was created or started. It can also display when a component parameter was changed. If the component encountered an error, then it can display information about the error.</p>
                     <p>The query in this topic displays the following information about XStream Out component events:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The XStream component name</p>
                        </li>
                        <li>
                           <p>The component type</p>
                        </li>
                        <li>
                           <p>The event name</p>
                        </li>
                        <li>
                           <p>The description of the event</p>
                        </li>
                        <li>
                           <p>The event time</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B18DAB66-8842-482C-8F8D-493892373721__GUID-9B42B76A-61F2-41E6-AD24-C36C601044BC">To display this information for each XStream In component in a database:</p>
                     <ol>
                        <li>
                           <p>Connect to the database as the XStream administrator.</p>
                           <p>See <a href="../admin/index.html" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for information about connecting to a database in SQL*Plus.
                           </p>
                        </li>
                        <li>
                           <p>Run the following query:</p><pre class="oac_no_warn" dir="ltr">COLUMN STREAMS_NAME FORMAT A12
COLUMN PROCESS_TYPE FORMAT A17
COLUMN EVENT_NAME FORMAT A10
COLUMN DESCRIPTION FORMAT A20
COLUMN EVENT_TIME FORMAT A15

SELECT STREAMS_NAME,
       PROCESS_TYPE,
       EVENT_NAME,
       DESCRIPTION,
       EVENT_TIME
  FROM DBA_REPLICATION_PROCESS_EVENTS;
</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Your output for an XStream In configuration looks similar to the following:</p><pre class="oac_no_warn" dir="ltr">STREAMS_NAME PROCESS_TYPE      EVENT_NAME DESCRIPTION          EVENT_TIME
------------ ----------------- ---------- -------------------- ---------------
APP_JOBS     APPLY COORDINATOR CREATE     SUCCESS              03-NOV-15 07.19
                                                               .27.238151 AM
APP_JOBS     APPLY COORDINATOR START      SUCCESS              03-NOV-15 07.21
                                                               .50.812534 AM
APP_JOBS     APPLY READER      START      SUCCESS              03-NOV-15 07.21
                                                               .51.713367 AM
APP_JOBS     APPLY SERVER      START      SUCCESS              03-NOV-15 07.21
                                                               .51.895019 AM
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../refrn/ALL_REPLICATION_PROCESS_EVENTS.html#REFRN-GUID-E994A792-BDF6-43CD-959D-F8584B51A5D3" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="You can monitor an XStream In configuration by querying data dictionary views.">Monitoring XStream In</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="XSTRM1444"></a><div class="props_rev_3"><a id="GUID-58FD2C89-0214-472E-8AB5-56F773BB3B7B" name="GUID-58FD2C89-0214-472E-8AB5-56F773BB3B7B"></a><h3 id="XSTRM-GUID-58FD2C89-0214-472E-8AB5-56F773BB3B7B" class="sect3"><span class="enumeration_section">11.4 </span>Displaying the Status and Error Information for an Inbound Server
               </h3>
               <div>
                  <p>An example illustrates displaying the status and error information for an inbound server.</p>
                  <div class="section">
                     <p>The <code class="codeph">DBA_APPLY</code> view shows <code class="codeph">XStream</code> <code class="codeph">In</code> in the <code class="codeph">PURPOSE</code> column for an apply process that is functioning as an inbound server.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-58FD2C89-0214-472E-8AB5-56F773BB3B7B__GUID-4F48A9E2-1E86-4AB8-BA66-9D26B2DBDB16">To display the status of an inbound server:</p>
                     <ol>
                        <li>
                           <p>Connect to the database as the XStream administrator.</p>
                           <p>See <a href="../admin/index.html" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for information about connecting to a database in SQL*Plus.
                           </p>
                        </li>
                        <li>
                           <p>Run the following query:</p><pre class="oac_no_warn" dir="ltr">COLUMN APPLY_NAME HEADING 'Inbound Server|Name' FORMAT A15
COLUMN STATUS HEADING 'Status' FORMAT A8
COLUMN ERROR_NUMBER HEADING 'Error Number' FORMAT 9999999
COLUMN ERROR_MESSAGE HEADING 'Error Message' FORMAT A40

SELECT APPLY_NAME, 
       STATUS,
       ERROR_NUMBER,
       ERROR_MESSAGE
  FROM DBA_APPLY
  WHERE PURPOSE = 'XStream In';
</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Your output looks similar to the following:</p><pre class="oac_no_warn" dir="ltr">Inbound Server
Name            Status   Error Number Error Message
--------------- -------- ------------ ----------------------------------------
XIN             ENABLED
</pre><p>This output shows that <code class="codeph">XIN</code> is an apply process that is functioning as an inbound server.
                     </p>
                     <div class="infoboxnote" id="GUID-58FD2C89-0214-472E-8AB5-56F773BB3B7B__GUID-4F3F8219-5454-4EA3-8ABC-1143A491AA27">
                        <p class="notep1">Note:</p>
                        <p>This example queries the <code class="codeph">DBA_APPLY</code> view. This view enables trusted users to see information for all apply users in the database. Untrusted users must query the <code class="codeph">ALL_APPLY</code> view, which limits information to the current user.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-58FD2C89-0214-472E-8AB5-56F773BB3B7B__GUID-AE34290C-06E1-4068-ACCB-21C36574BEAA">
                     <p class="notep1">See Also:</p>
                     <p><a href="../refrn/ALL_APPLY.html#REFRN20005" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="You can monitor an XStream In configuration by querying data dictionary views.">Monitoring XStream In</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="XSTRM72899"></a><div class="props_rev_3"><a id="GUID-8F223E94-B47E-470E-913F-82FCAC0074EF" name="GUID-8F223E94-B47E-470E-913F-82FCAC0074EF"></a><h3 id="XSTRM-GUID-8F223E94-B47E-470E-913F-82FCAC0074EF" class="sect3"><span class="enumeration_section">11.5 </span>Displaying Apply Parameter Settings for an Inbound Server
               </h3>
               <div>
                  <p>An example illustrates displaying apply parameter settings for an inbound server.</p>
                  <div class="section">
                     <p>Apply parameters determine how an inbound server operates.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8F223E94-B47E-470E-913F-82FCAC0074EF__GUID-BECAA5D7-9FC1-4044-A23A-D5FB8864384E">To display the apply parameter settings for an inbound server:</p>
                     <ol>
                        <li>
                           <p>Connect to the database as the XStream administrator.</p>
                           <p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/xstrm&amp;id=ADMIN00102" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for information about connecting to a database in SQL*Plus.
                           </p>
                        </li>
                        <li>
                           <p>Run the following query:</p><pre class="oac_no_warn" dir="ltr">COLUMN APPLY_NAME HEADING 'Inbound Server|Name' FORMAT A15
COLUMN PARAMETER HEADING 'Parameter' FORMAT A30
COLUMN VALUE HEADING 'Value' FORMAT A22
COLUMN SET_BY_USER HEADING 'Set by|User?' FORMAT A10

SELECT APPLY_NAME,
       PARAMETER, 
       VALUE,
       SET_BY_USER  
  FROM ALL_APPLY_PARAMETERS a, ALL_XSTREAM_INBOUND i
  WHERE a.APPLY_NAME=i.SERVER_NAME
  ORDER BY a.PARAMETER;
</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Your output looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">Inbound Server                                                        Set by
Name            Parameter                      Value                  User?
--------------- ------------------------------ ---------------------- ----------
XIN             ALLOW_DUPLICATE_ROWS           N                      NO
XIN             APPLY_SEQUENCE_NEXTVAL         Y                      NO
XIN             COMMIT_SERIALIZATION           DEPENDENT_TRANSACTIONS NO
XIN             COMPARE_KEY_ONLY               Y                      NO
XIN             COMPUTE_LCR_DEP_ON_ARRIVAL     N                      NO
XIN             DISABLE_ON_ERROR               Y                      NO
XIN             DISABLE_ON_LIMIT               N                      NO
XIN             EAGER_SIZE                     9500                   NO
XIN             ENABLE_XSTREAM_TABLE_STATS     Y                      NO
XIN             EXCLUDETAG                                            NO
XIN             EXCLUDETRANS                                          NO
XIN             EXCLUDEUSER                                           NO
XIN             EXCLUDEUSERID                                         NO
XIN             GETAPPLOPS                     Y                      NO
XIN             GETREPLICATES                  N                      NO
XIN             GROUPTRANSOPS                  250                    NO
XIN             HANDLECOLLISIONS               N                      NO
XIN             IGNORE_TRANSACTION                                    NO
XIN             MAXIMUM_SCN                    INFINITE               NO
XIN             MAX_PARALLELISM                50                     NO
XIN             MAX_SGA_SIZE                   INFINITE               NO
XIN             OPTIMIZE_PROGRESS_TABLE        Y                      NO
XIN             OPTIMIZE_SELF_UPDATES          Y                      NO
XIN             PARALLELISM                    4                      NO
XIN             PRESERVE_ENCRYPTION            Y                      NO
XIN             RTRIM_ON_IMPLICIT_CONVERSION   Y                      NO
XIN             STARTUP_SECONDS                0                      NO
XIN             SUPPRESSTRIGGERS               Y                      NO
XIN             TIME_LIMIT                     INFINITE               NO
XIN             TRACE_LEVEL                    0                      NO
XIN             TRANSACTION_LIMIT              INFINITE               NO
XIN             TXN_AGE_SPILL_THRESHOLD        900                    NO
XIN             TXN_LCR_SPILL_THRESHOLD        10000                  NO
XIN             WRITE_ALERT_LOG                Y                      NO
</pre><p>Inbound servers ignore some apply parameter settings.</p>
                     <div class="infoboxnote" id="GUID-8F223E94-B47E-470E-913F-82FCAC0074EF__GUID-F731C25E-FD79-496A-BEB8-271F0C7DD476">
                        <p class="notep1">Note:</p>
                        <p>If the <code class="codeph">Set</code> <code class="codeph">by</code> <code class="codeph">User?</code> column is <code class="codeph">NO</code> for a parameter, then the parameter is set to its default value. If the <code class="codeph">Set</code> <code class="codeph">by</code> <code class="codeph">User?</code> column is <code class="codeph">YES</code> for a parameter, then the parameter was set by a user and might or might not be set to its default value.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-8F223E94-B47E-470E-913F-82FCAC0074EF__GUID-4E9AA80E-0AD9-407C-BE50-5D74A659A498">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="managing-xstream-in.html#GUID-238AFFE0-AA5A-4667-8323-0BA300821BB5" title="Apply parameters control the way an inbound server operates. You set an apply parameter for an inbound server using the SET_PARAMETER procedure in the DBMS_XSTREAM_ADM package.">Setting an Apply Parameter for an Inbound Server</a>"</span></p>
                        </li>
                        <li>
                           <p><a href="../arpls/DBMS_APPLY_ADM.html#ARPLS314" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about apply parameters
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="You can monitor an XStream In configuration by querying data dictionary views.">Monitoring XStream In</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="XSTRM1634"></a><div class="props_rev_3"><a id="GUID-00B0D22F-CD20-4404-AE18-5E7FB6E972BF" name="GUID-00B0D22F-CD20-4404-AE18-5E7FB6E972BF"></a><h3 id="XSTRM-GUID-00B0D22F-CD20-4404-AE18-5E7FB6E972BF" class="sect3"><span class="enumeration_section">11.6 </span>Displaying the Position Information for an Inbound Server
               </h3>
               <div>
                  <p>An example illustrates displaying the position information for an inbound server.</p>
                  <div class="section">
                     <p>For an inbound server, you can view position information by querying the <code class="codeph">ALL_XSTREAM_INBOUND_PROGRESS</code> view. Specifically, you can display the following position information by running the query in this section:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The inbound server name</p>
                        </li>
                        <li>
                           <p>The applied low position for the inbound server</p>
                        </li>
                        <li>
                           <p>The spill position for the inbound server</p>
                        </li>
                        <li>
                           <p>The applied high position for the inbound server</p>
                        </li>
                        <li>
                           <p>The processed low position for the inbound server</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-00B0D22F-CD20-4404-AE18-5E7FB6E972BF__GUID-1E91CEE8-B803-4522-91E0-ACA151B5F829">To display the position information for an inbound server:</p>
                     <ol>
                        <li>
                           <p>Connect to the database as the XStream administrator.</p>
                           <p>See <a href="../admin/index.html" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for information about connecting to a database in SQL*Plus.
                           </p>
                        </li>
                        <li>
                           <p>Run the following query:</p><pre class="oac_no_warn" dir="ltr">COLUMN SERVER_NAME HEADING 'Inbound|Server|Name' FORMAT A10
COLUMN APPLIED_LOW_POSITION HEADING 'Applied Low|Position' FORMAT A15
COLUMN SPILL_POSITION HEADING 'Spill Position' FORMAT A15
COLUMN APPLIED_HIGH_POSITION HEADING 'Applied High|Position' FORMAT A15
COLUMN PROCESSED_LOW_POSITION HEADING 'Processed Low|Position' FORMAT A15
 
SELECT SERVER_NAME, 
       APPLIED_LOW_POSITION,
       SPILL_POSITION,
       APPLIED_HIGH_POSITION,
       PROCESSED_LOW_POSITION
  FROM ALL_XSTREAM_INBOUND_PROGRESS;
</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Your output looks similar to the following:</p><pre class="oac_no_warn" dir="ltr">Inbound
Server     Applied Low                     Applied High    Processed Low
Name       Position        Spill Position  Position        Position
---------- --------------- --------------- --------------- ---------------
XIN        C10A            C11D            C10A            C11D
</pre><p>The values of the positions shown in the output were set by the client application that attaches to the inbound server. However, the inbound server determines which values are the current applied low position, spill position, applied high position, and processed low position.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-00B0D22F-CD20-4404-AE18-5E7FB6E972BF__GUID-1F827D79-8AE7-4C4E-BF3B-77E210FA4221">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/xstrm&amp;id=REFRN20770" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="general-xstream-concepts.html#GUID-077AAE24-54CF-4102-9969-9540608FFB65" title="Each LCR has a position attribute. The position of an LCR identifies its placement in the stream of LCRs in a transaction.">Position Order in an LCR Stream</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="xstream-in-concepts.html#GUID-25617A91-D3E3-4848-9B28-90F5C00743C9" title="A client application streams LCRs to an XStream In inbound server.">Position of LCRs and XStream In</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="You can monitor an XStream In configuration by querying data dictionary views.">Monitoring XStream In</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-BF458EA7-35E7-4608-825F-DA99466D82E6" name="GUID-BF458EA7-35E7-4608-825F-DA99466D82E6"></a><h3 id="XSTRM-GUID-BF458EA7-35E7-4608-825F-DA99466D82E6" class="sect3"><span class="enumeration_section">11.7 </span>Displaying Information About DML Conflict Handlers
               </h3>
               <div>
                  <p>The <code class="codeph">DBA_APPLY_DML_CONF_HANDLERS</code> view displays information about DML conflict handlers.
                  </p>
                  <div class="section">You can configure DML conflict handlers using the <code class="codeph">SET_DML_CONFLICT_HANDLER</code> procedure in the <code class="codeph">DBMS_APPLY_ADM</code> package. 
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>Connect to the database as the XStream administrator.</span></li>
                     <li><span>Query the <code class="codeph">DBA_APPLY_DML_CONF_HANDLERS</code> view.</span></li>
                  </ol>
                  <div class="example" id="GUID-BF458EA7-35E7-4608-825F-DA99466D82E6__GUID-495A004C-080C-4B32-8D29-CC346F17A4D2">
                     <p class="titleinexample">Example 11-1 Displaying Information About DML Conflict Handlers</p><pre class="pre codeblock"><code>COLUMN APPLY_NAME FORMAT A8
COLUMN OBJECT_OWNER FORMAT A5
COLUMN OBJECT_NAME FORMAT A12
COLUMN COMMAND_TYPE FORMAT A6
COLUMN CONFLICT_TYPE FORMAT A11
COLUMN METHOD_NAME FORMAT A12
COLUMN CONFLICT_HANDLER_NAME FORMAT A20

SELECT APPLY_NAME,
       OBJECT_OWNER, 
       OBJECT_NAME,
       COMMAND_TYPE,
       CONFLICT_TYPE, 
       METHOD_NAME, 
       CONFLICT_HANDLER_NAME
  FROM DBA_APPLY_DML_CONF_HANDLERS
  ORDER BY OBJECT_OWNER, OBJECT_NAME, CONFLICT_HANDLER_NAME;</code></pre><p>Your output looks similar to the following:</p><pre class="pre codeblock"><code>APPLY_NA OBJEC OBJECT_NAME  COMMAN CONFLICT_TY METHOD_NAME  CONFLICT_HANDLER_NAM
-------- ----- ------------ ------ ----------- ------------ --------------------
APP_JOBS HR    JOBS         DELETE ROW_MISSING IGNORE       JOBS_HANDLER_DELETE
APP_JOBS HR    JOBS         INSERT ROW_EXISTS  OVERWRITE    JOBS_HANDLER_INSERT
APP_JOBS HR    JOBS         UPDATE ROW_EXISTS  OVERWRITE    JOBS_HANDLER_UPDATE</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="managing-xstream-in.html#GUID-D0667DF9-3E58-4C99-996A-113C9EACDC6F" title="Set a DML conflict handler using the SET_DML_CONFLICT_HANDLER procedure in the DBMS_APPLY_ADM package.">Setting a DML Conflict Handler</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="You can monitor an XStream In configuration by querying data dictionary views.">Monitoring XStream In</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-9B8DF353-1A6F-472D-A145-B9C145038DC9" name="GUID-9B8DF353-1A6F-472D-A145-B9C145038DC9"></a><h3 id="XSTRM-GUID-9B8DF353-1A6F-472D-A145-B9C145038DC9" class="sect3"><span class="enumeration_section">11.8 </span>Displaying Information About Error Handlers
               </h3>
               <div>
                  <p>The <code class="codeph">DBA_APPLY_REPERROR_HANDLERS</code> view displays information about DML conflict handlers.
                  </p>
                  <div class="section">You can configure error handlers using the <code class="codeph">SET_REPERROR_HANDLER</code> procedure in the <code class="codeph">DBMS_APPLY_ADM</code> package. 
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>Connect to the database as the XStream administrator.</span></li>
                     <li><span>Query the <code class="codeph">DBA_APPLY_REPERROR_HANDLERS</code> view.</span></li>
                  </ol>
                  <div class="example" id="GUID-9B8DF353-1A6F-472D-A145-B9C145038DC9__GUID-495A004C-080C-4B32-8D29-CC346F17A4D2">
                     <p class="titleinexample">Example 11-2 Displaying Information About DML Conflict Handlers</p><pre class="pre codeblock"><code>COLUMN APPLY_NAME FORMAT A15
COLUMN OBJECT_OWNER FORMAT A15
COLUMN OBJECT_NAME FORMAT A15
COLUMN ERROR_NUMBER 999999999
COLUMN METHOD FORMAT A15

SELECT APPLY_NAME,
       OBJECT_OWNER, 
       OBJECT_NAME,
       ERROR_NUMBER,
       METHOD 
  FROM DBA_APPLY_REPERROR_HANDLERS
  ORDER BY OBJECT_OWNER, OBJECT_NAME;
</code></pre><p>Your output looks similar to the following:</p><pre class="pre codeblock"><code>APPLY_NAME      OBJECT_OWNER    OBJECT_NAME     ERROR_NUMBER METHOD
--------------- --------------- --------------- ------------ ---------------
APP_OE          OE              ORDERS                 26787 IGNORE</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="managing-xstream-in.html#GUID-170B7510-A772-4900-9267-B1C7A799CD6F" title="You set an error handler with the SET_REPERROR_HANDLER procedure in the DBMS_APPLY package.">Setting and Unsetting an Error Handler</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="You can monitor an XStream In configuration by querying data dictionary views.">Monitoring XStream In</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="XSTRM72900"></a><div class="props_rev_3"><a id="GUID-43A987B4-7F6C-4BC3-A813-F6E062175207" name="GUID-43A987B4-7F6C-4BC3-A813-F6E062175207"></a><h3 id="XSTRM-GUID-43A987B4-7F6C-4BC3-A813-F6E062175207" class="sect3"><span class="enumeration_section">11.9 </span>Checking for Apply Errors
               </h3>
               <div>
                  <p>An example illustrates checking for apply errors.</p>
                  <div class="section">
                     <p>Trusted users can check for apply errors by querying the <code class="codeph">DBA_APPLY_ERROR</code> data dictionary view or by using Oracle Enterprise Manager Cloud Control. Untrusted users can check for apply errors by querying the <code class="codeph">ALL_APPLY_ERROR</code> data dictionary view.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-43A987B4-7F6C-4BC3-A813-F6E062175207__GUID-6A3C371B-B740-4D56-813E-16661A1B429A">To check for apply errors:</p>
                     <ol>
                        <li>
                           <p>Connect to the database as the XStream administrator.</p>
                           <p>See <a href="../admin/index.html" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for information about connecting to a database in SQL*Plus.
                           </p>
                        </li>
                        <li>
                           <p>Run the following query:</p><pre class="oac_no_warn" dir="ltr">COLUMN APPLY_NAME HEADING 'Inbound|Server|Name' FORMAT A7
COLUMN SOURCE_DATABASE HEADING 'Source|Database' FORMAT A8
COLUMN SOURCE_TRANSACTION_ID HEADING 'Source|Transaction|ID' FORMAT A11
COLUMN MESSAGE_NUMBER HEADING 'Failed Message|in Error|Transaction' FORMAT 99999999
COLUMN ERROR_NUMBER HEADING 'Error Number' FORMAT 99999999
COLUMN ERROR_MESSAGE HEADING 'Error Message' FORMAT A10
COLUMN MESSAGE_COUNT HEADING 'Messages in|Error|Transaction' FORMAT 99999999

SELECT APPLY_NAME, 
       SOURCE_DATABASE, 
       SOURCE_TRANSACTION_ID, 
       MESSAGE_NUMBER,
       ERROR_NUMBER,
       ERROR_MESSAGE,
       MESSAGE_COUNT
  FROM ALL_APPLY_ERROR;
</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-43A987B4-7F6C-4BC3-A813-F6E062175207__GUID-0ED52FBA-6D7B-4460-886B-53236148FA37">
                        <p class="notep1">Note:</p>
                        <p>Trusted users should replace <code class="codeph">ALL_APPLY_ERROR</code> with <code class="codeph">DBA_APPLY_ERROR</code> in the query.
                        </p>
                     </div>
                     <p>If there are any apply errors, then your output looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">Inbound          Source      Failed Message                         Messages in
Server  Source   Transaction       in Error                               Error
Name    Database ID             Transaction Error Number Error Mess Transaction
------- -------- ----------- -------------- ------------ ---------- -----------
XIN     OUTX.EXA 19.20.215                1         1031 ORA-01031:           1
        MPLE.COM                                          insuffici
                                                         ent privil
                                                         eges
XIN     OUTX.EXA 11.21.158                1         1031 ORA-01031:           1
        MPLE.COM                                          insuffici
                                                         ent privil
                                                         eges
</pre><p>If there are apply errors, then you can either try to reexecute the transactions that encountered the errors, or you can delete the transactions. To reexecute a transaction that encountered an error, first correct the condition that caused the transaction to raise an error. </p>
                     <p>If you want to delete a transaction that encountered an error, and if you are sharing data between multiple databases, then you might need to resynchronize data manually. Remember to set an appropriate session tag, if necessary, when you resynchronize data manually.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-43A987B4-7F6C-4BC3-A813-F6E062175207__GUID-D9BDF9A0-2E5A-4843-A149-7C3DEF02D9A9">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="xstream-in-concepts.html#GUID-5602248A-8DE3-495B-B1E9-F1F61CC798C3" title="The error queue contains all of the current apply errors for a database. If there are multiple inbound servers in a database, then the error queue contains the apply errors for each inbound server.">The Error Queue for an Inbound Server</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="managing-xstream-in.html#GUID-52AE0882-647F-4C68-89DD-E1D658569BA7" title="Apply errors result when an inbound server tries to apply an LCR, and an error is raised.">Managing Apply Errors</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="You can monitor an XStream In configuration by querying data dictionary views.">Monitoring XStream In</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="XSTRM72901"></a><div class="props_rev_3"><a id="GUID-505C729C-5893-4B22-A981-33BF3084C67B" name="GUID-505C729C-5893-4B22-A981-33BF3084C67B"></a><h3 id="XSTRM-GUID-505C729C-5893-4B22-A981-33BF3084C67B" class="sect3"><span class="enumeration_section">11.10 </span>Displaying Detailed Information About Apply Errors
               </h3>
               <div>
                  <p>SQL scripts display detailed information about the error transactions in the error queue in a database.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87">Step 1: Grant Explicit SELECT Privilege on the ALL_APPLY_ERROR View</a><br>Running the <code class="codeph">GRANT_ADMIN_PRIVILEGE</code> procedure in the <code class="codeph">DBMS_XSTREAM_AUTH</code> package on a user grants the <code class="codeph">SELECT</code> privilege on the <code class="codeph">ALL_APPLY_ERROR</code> view to the user.
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-04D3B1E9-8AF4-4D47-9857-87056038B667">Step 2: Create a Procedure that Prints the Value in an ANYDATA Object</a><br>Create a procedure that prints the value in a specified <code class="codeph">ANYDATA</code> object for some selected data types. Optionally, you can add more data types to this procedure.
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-E471ED4F-7EE1-4D5B-ACE5-2298F6EF30D7">Step 3: Create a Procedure that Prints a Specified LCR</a><br>Create a procedure that prints a specified LCR.
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-9BF31D03-3451-4C42-8B50-4E185C7B2007">Step 4: Create a Procedure that Prints All the LCRs in the Error Queue</a><br>Create a procedure that prints all of the LCRs in all of the error queues.
                     </li>
                     <li class="ulchildlink"><a href="monitoring-xstream-in.html#GUID-E7D5279F-3F3A-431B-B25F-5D3C699208DC">Step 5: Create a Procedure that Prints All the Error LCRs for a Transaction</a><br>Create a procedure that prints all the LCRs in the error queue for a particular transaction.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-505C729C-5893-4B22-A981-33BF3084C67B__GUID-91920954-FFDF-4A04-873A-383CE15CED77">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="xstream-in-concepts.html#GUID-5602248A-8DE3-495B-B1E9-F1F61CC798C3" title="The error queue contains all of the current apply errors for a database. If there are multiple inbound servers in a database, then the error queue contains the apply errors for each inbound server.">The Error Queue for an Inbound Server</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="managing-xstream-in.html#GUID-52AE0882-647F-4C68-89DD-E1D658569BA7" title="Apply errors result when an inbound server tries to apply an LCR, and an error is raised.">Managing Apply Errors</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="monitoring-xstream-in.html#GUID-46B54351-BA11-412B-A23F-92F44739A8F6" title="You can monitor an XStream In configuration by querying data dictionary views.">Monitoring XStream In</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87" name="GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87"></a><h4 id="XSTRM-GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87" class="sect4"><span class="enumeration_section">11.10.1 </span>Step 1:   Grant Explicit SELECT Privilege on the ALL_APPLY_ERROR View
                  </h4>
                  <div>
                     <p>Running the <code class="codeph">GRANT_ADMIN_PRIVILEGE</code> procedure in the <code class="codeph">DBMS_XSTREAM_AUTH</code> package on a user grants the <code class="codeph">SELECT</code> privilege on the <code class="codeph">ALL_APPLY_ERROR</code> view to the user.
                     </p>
                     <div class="section">
                        <p>The user who creates and runs the <code class="codeph">print_errors</code> and <code class="codeph">print_transaction</code> procedures described in the following sections must be granted explicit <code class="codeph">SELECT</code> privilege on the <code class="codeph">ALL_APPLY_ERROR</code> data dictionary view. This privilege cannot be granted through a role.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87__GUID-047DB544-CCFB-439F-A27C-991A1CEC391B">To grant explicit SELECT privilege on the <code class="codeph">ALL_APPLY_ERROR</code> view:
                        </p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, connect as an administrative user who can grant privileges.</p>
                              <p>See <a href="../admin/index.html" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for information about connecting to a database in SQL*Plus.
                              </p>
                           </li>
                           <li id="GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87__CJHEGIFF">
                              <p>Grant <code class="codeph">SELECT</code> privilege on the <code class="codeph">ALL_APPLY_ERROR</code> data dictionary view to the appropriate user. For example, to grant this privilege to the <code class="codeph">xstrmadmin</code> user, run the following statement:
                              </p><pre class="oac_no_warn" dir="ltr">GRANT SELECT ON ALL_APPLY_ERROR TO xstrmadmin;
</pre></li>
                           <li id="GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87__CJHFIHID">
                              <p>Grant <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">DBMS_APPLY_ADM</code> package. For example, to grant this privilege to the <code class="codeph">xstrmadmin</code> user, run the following statement:
                              </p><pre class="oac_no_warn" dir="ltr">GRANT EXECUTE ON DBMS_APPLY_ADM TO xstrmadmin;
</pre></li>
                           <li>
                              <p>Connect to the database as the user to whom you granted the privilege in Step&nbsp;<a href="monitoring-xstream-in.html#GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87__CJHEGIFF">2</a> and <a href="monitoring-xstream-in.html#GUID-594AF23D-BE6E-4EA1-BA18-25C4F5ADBB87__CJHFIHID">3</a>.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="monitoring-xstream-in.html#GUID-505C729C-5893-4B22-A981-33BF3084C67B" title="SQL scripts display detailed information about the error transactions in the error queue in a database.">Displaying Detailed Information About Apply Errors</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-04D3B1E9-8AF4-4D47-9857-87056038B667" name="GUID-04D3B1E9-8AF4-4D47-9857-87056038B667"></a><h4 id="XSTRM-GUID-04D3B1E9-8AF4-4D47-9857-87056038B667" class="sect4"><span class="enumeration_section">11.10.2 </span>Step 2:   Create a Procedure that Prints the Value in an ANYDATA Object
                  </h4>
                  <div>
                     <p>Create a procedure that prints the value in a specified <code class="codeph">ANYDATA</code> object for some selected data types. Optionally, you can add more data types to this procedure.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE print_any(data IN ANYDATA) IS
  tn  VARCHAR2(61);
  str VARCHAR2(4000);
  chr VARCHAR2(1000);
  num NUMBER;
  dat DATE;
  rw  RAW(4000);
  res NUMBER;
BEGIN
  IF data IS NULL THEN
    DBMS_OUTPUT.PUT_LINE('NULL value');
    RETURN;
  END IF;
  tn := data.GETTYPENAME();
  IF tn = 'SYS.VARCHAR2' THEN
    res := data.GETVARCHAR2(str);
    DBMS_OUTPUT.PUT_LINE(SUBSTR(str,0,253));
  ELSIF tn = 'SYS.CHAR' then
    res := data.GETCHAR(chr);
    DBMS_OUTPUT.PUT_LINE(SUBSTR(chr,0,253));
  ELSIF tn = 'SYS.VARCHAR' THEN
    res := data.GETVARCHAR(chr);
    DBMS_OUTPUT.PUT_LINE(chr);
  ELSIF tn = 'SYS.NUMBER' THEN
    res := data.GETNUMBER(num);
    DBMS_OUTPUT.PUT_LINE(num);
  ELSIF tn = 'SYS.DATE' THEN
    res := data.GETDATE(dat);
    DBMS_OUTPUT.PUT_LINE(dat);
  ELSIF tn= 'SYS.TIMESTAMP' THEN
    res := data.GETTIMESTAMP(dat);
    DBMS_OUTPUT.PUT_LINE(TO_CHAR(dat,'DD-MON-RR HH.MI.SSXFF AM'));
  ELSIF tn= 'SYS.TIMESTAMPTZ' THEN
    res := data.GETTIMESTAMPTZ(dat);
    DBMS_OUTPUT.PUT_LINE(TO_CHAR(dat,'DD-MON-RR HH.MI.SSXFF AM'));
  ELSIF tn= 'SYS.TIMESTAMPLTZ' THEN
    res := data.GETTIMESTAMPLTZ(dat);
    DBMS_OUTPUT.PUT_LINE(TO_CHAR(dat,'DD-MON-RR HH.MI.SSXFF AM'));
  ELSIF tn = 'SYS.RAW' THEN
    -- res := data.GETRAW(rw);
    -- DBMS_OUTPUT.PUT_LINE(SUBSTR(DBMS_LOB.SUBSTR(rw),0,253));
    DBMS_OUTPUT.PUT_LINE('BLOB Value');
  ELSIF tn = 'SYS.BLOB' THEN
    DBMS_OUTPUT.PUT_LINE('BLOB Found');
  ELSE
    DBMS_OUTPUT.PUT_LINE('typename is ' || tn);
  END IF;
END print_any;
/</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="monitoring-xstream-in.html#GUID-505C729C-5893-4B22-A981-33BF3084C67B" title="SQL scripts display detailed information about the error transactions in the error queue in a database.">Displaying Detailed Information About Apply Errors</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-E471ED4F-7EE1-4D5B-ACE5-2298F6EF30D7" name="GUID-E471ED4F-7EE1-4D5B-ACE5-2298F6EF30D7"></a><h4 id="XSTRM-GUID-E471ED4F-7EE1-4D5B-ACE5-2298F6EF30D7" class="sect4"><span class="enumeration_section">11.10.3 </span>Step 3:   Create a Procedure that Prints a Specified LCR
                  </h4>
                  <div>
                     <p>Create a procedure that prints a specified LCR.</p>
                     <div class="section">
                        <p>The procedure calls the <code class="codeph">print_any</code> procedure created in <span class="q">"<a href="monitoring-xstream-in.html#GUID-04D3B1E9-8AF4-4D47-9857-87056038B667" title="Create a procedure that prints the value in a specified ANYDATA object for some selected data types. Optionally, you can add more data types to this procedure.">Step 2: Create a Procedure that Prints the Value in an ANYDATA Object</a>"</span>.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE print_lcr(lcr IN ANYDATA) IS
  typenm    VARCHAR2(61);
  ddllcr    SYS.LCR$_DDL_RECORD;
  proclcr   SYS.LCR$_PROCEDURE_RECORD;
  rowlcr    SYS.LCR$_ROW_RECORD;
  res       NUMBER;
  newlist   SYS.LCR$_ROW_LIST;
  oldlist   SYS.LCR$_ROW_LIST;
  ddl_text  CLOB;
  ext_attr  ANYDATA;
BEGIN
  typenm := lcr.GETTYPENAME();
  DBMS_OUTPUT.PUT_LINE('type name: ' || typenm);
  IF (typenm = 'SYS.LCR$_DDL_RECORD') THEN
    res := lcr.GETOBJECT(ddllcr);
    DBMS_OUTPUT.PUT_LINE('source database: ' || 
                         ddllcr.GET_SOURCE_DATABASE_NAME);
    DBMS_OUTPUT.PUT_LINE('owner: ' || ddllcr.GET_OBJECT_OWNER);
    DBMS_OUTPUT.PUT_LINE('object: ' || ddllcr.GET_OBJECT_NAME);
    DBMS_OUTPUT.PUT_LINE('is tag null: ' || ddllcr.IS_NULL_TAG);
    DBMS_LOB.CREATETEMPORARY(ddl_text, TRUE);
    ddllcr.GET_DDL_TEXT(ddl_text);
    DBMS_OUTPUT.PUT_LINE('ddl: ' || ddl_text);    
    -- Print extra attributes in DDL LCR
    ext_attr := ddllcr.GET_EXTRA_ATTRIBUTE('serial#');
      IF (ext_attr IS NOT NULL) THEN
        DBMS_OUTPUT.PUT_LINE('serial#: ' || ext_attr.ACCESSNUMBER());
      END IF;
    ext_attr := ddllcr.GET_EXTRA_ATTRIBUTE('session#');
      IF (ext_attr IS NOT NULL) THEN
        DBMS_OUTPUT.PUT_LINE('session#: ' || ext_attr.ACCESSNUMBER());
      END IF; 
    ext_attr := ddllcr.GET_EXTRA_ATTRIBUTE('thread#');
      IF (ext_attr IS NOT NULL) THEN
        DBMS_OUTPUT.PUT_LINE('thread#: ' || ext_attr.ACCESSNUMBER());
      END IF;   
    ext_attr := ddllcr.GET_EXTRA_ATTRIBUTE('tx_name');
      IF (ext_attr IS NOT NULL) THEN
        DBMS_OUTPUT.PUT_LINE('transaction name: ' || ext_attr.ACCESSVARCHAR2());
      END IF;
    ext_attr := ddllcr.GET_EXTRA_ATTRIBUTE('username');
      IF (ext_attr IS NOT NULL) THEN
        DBMS_OUTPUT.PUT_LINE('username: ' || ext_attr.ACCESSVARCHAR2());
      END IF;      
    DBMS_LOB.FREETEMPORARY(ddl_text);
  ELSIF (typenm = 'SYS.LCR$_ROW_RECORD') THEN
    res := lcr.GETOBJECT(rowlcr);
    DBMS_OUTPUT.PUT_LINE('source database: ' || 
                         rowlcr.GET_SOURCE_DATABASE_NAME);
    DBMS_OUTPUT.PUT_LINE('owner: ' || rowlcr.GET_OBJECT_OWNER);
    DBMS_OUTPUT.PUT_LINE('object: ' || rowlcr.GET_OBJECT_NAME);
    DBMS_OUTPUT.PUT_LINE('is tag null: ' || rowlcr.IS_NULL_TAG); 
    DBMS_OUTPUT.PUT_LINE('command_type: ' || rowlcr.GET_COMMAND_TYPE); 
    oldlist := rowlcr.GET_VALUES('old');
    FOR i IN 1..oldlist.COUNT LOOP
      IF oldlist(i) IS NOT NULL THEN
        DBMS_OUTPUT.PUT_LINE('old(' || i || '): ' || oldlist(i).column_name);
        print_any(oldlist(i).data);
      END IF;
    END LOOP;
    newlist := rowlcr.GET_VALUES('new', 'n');
    FOR i in 1..newlist.count LOOP
      IF newlist(i) IS NOT NULL THEN
        DBMS_OUTPUT.PUT_LINE('new(' || i || '): ' || newlist(i).column_name);
        print_any(newlist(i).data);
      END IF;
    END LOOP;
    -- Print extra attributes in row LCR
    ext_attr := rowlcr.GET_EXTRA_ATTRIBUTE('row_id');
      IF (ext_attr IS NOT NULL) THEN
        DBMS_OUTPUT.PUT_LINE('row_id: ' || ext_attr.ACCESSUROWID());
      END IF;
    ext_attr := rowlcr.GET_EXTRA_ATTRIBUTE('serial#');
      IF (ext_attr IS NOT NULL) THEN
        DBMS_OUTPUT.PUT_LINE('serial#: ' || ext_attr.ACCESSNUMBER());
      END IF;
    ext_attr := rowlcr.GET_EXTRA_ATTRIBUTE('session#');
      IF (ext_attr IS NOT NULL) THEN
        DBMS_OUTPUT.PUT_LINE('session#: ' || ext_attr.ACCESSNUMBER());
      END IF; 
    ext_attr := rowlcr.GET_EXTRA_ATTRIBUTE('thread#');
      IF (ext_attr IS NOT NULL) THEN
        DBMS_OUTPUT.PUT_LINE('thread#: ' || ext_attr.ACCESSNUMBER());
      END IF;   
    ext_attr := rowlcr.GET_EXTRA_ATTRIBUTE('tx_name');
      IF (ext_attr IS NOT NULL) THEN
        DBMS_OUTPUT.PUT_LINE('transaction name: ' || ext_attr.ACCESSVARCHAR2());
      END IF;
    ext_attr := rowlcr.GET_EXTRA_ATTRIBUTE('username');
      IF (ext_attr IS NOT NULL) THEN
        DBMS_OUTPUT.PUT_LINE('username: ' || ext_attr.ACCESSVARCHAR2());
      END IF;          
  ELSE
    DBMS_OUTPUT.PUT_LINE('Non-LCR Message with type ' || typenm);
  END IF;
END print_lcr;
/</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="monitoring-xstream-in.html#GUID-505C729C-5893-4B22-A981-33BF3084C67B" title="SQL scripts display detailed information about the error transactions in the error queue in a database.">Displaying Detailed Information About Apply Errors</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-9BF31D03-3451-4C42-8B50-4E185C7B2007" name="GUID-9BF31D03-3451-4C42-8B50-4E185C7B2007"></a><h4 id="XSTRM-GUID-9BF31D03-3451-4C42-8B50-4E185C7B2007" class="sect4"><span class="enumeration_section">11.10.4 </span>Step 4:   Create a Procedure that Prints All the LCRs in the Error Queue
                  </h4>
                  <div>
                     <p>Create a procedure that prints all of the LCRs in all of the error queues.</p>
                     <div class="section">
                        <p>The procedure calls the <code class="codeph">print_lcr</code> procedure created in <span class="q">"<a href="monitoring-xstream-in.html#GUID-E471ED4F-7EE1-4D5B-ACE5-2298F6EF30D7" title="Create a procedure that prints a specified LCR.">Step 3: Create a Procedure that Prints a Specified LCR</a>"</span>.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE print_errors IS
  CURSOR c IS
    SELECT LOCAL_TRANSACTION_ID,
           SOURCE_DATABASE,
           MESSAGE_NUMBER,
           MESSAGE_COUNT,
           ERROR_NUMBER,
           ERROR_MESSAGE
      FROM ALL_APPLY_ERROR
      ORDER BY SOURCE_DATABASE, SOURCE_COMMIT_SCN;
  i      NUMBER;
  txnid  VARCHAR2(30);
  source VARCHAR2(128);
  msgno  NUMBER;
  msgcnt NUMBER;
  errnum NUMBER := 0;
  errno  NUMBER;
  errmsg VARCHAR2(2000);
  lcr    ANYDATA;
  r      NUMBER;
BEGIN
  FOR r IN c LOOP
    errnum := errnum + 1;
    msgcnt := r.MESSAGE_COUNT;
    txnid  := r.LOCAL_TRANSACTION_ID;
    source := r.SOURCE_DATABASE;
    msgno  := r.MESSAGE_NUMBER;
    errno  := r.ERROR_NUMBER;
    errmsg := r.ERROR_MESSAGE;
DBMS_OUTPUT.PUT_LINE('*************************************************');
    DBMS_OUTPUT.PUT_LINE('----- ERROR #' || errnum);
    DBMS_OUTPUT.PUT_LINE('----- Local Transaction ID: ' || txnid);
    DBMS_OUTPUT.PUT_LINE('----- Source Database: ' || source);
    DBMS_OUTPUT.PUT_LINE('----Error in Message: '|| msgno);
    DBMS_OUTPUT.PUT_LINE('----Error Number: '||errno);
    DBMS_OUTPUT.PUT_LINE('----Message Text: '||errmsg);
    FOR i IN 1..msgcnt LOOP
      DBMS_OUTPUT.PUT_LINE('--message: ' || i);
        lcr := DBMS_APPLY_ADM.GET_ERROR_MESSAGE(i, txnid);
        print_lcr(lcr);
    END LOOP;
  END LOOP;
END print_errors;
/
</pre><p>To run this procedure after you create it, enter the following:</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON SIZE 1000000

EXEC print_errors</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="monitoring-xstream-in.html#GUID-505C729C-5893-4B22-A981-33BF3084C67B" title="SQL scripts display detailed information about the error transactions in the error queue in a database.">Displaying Detailed Information About Apply Errors</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-E7D5279F-3F3A-431B-B25F-5D3C699208DC" name="GUID-E7D5279F-3F3A-431B-B25F-5D3C699208DC"></a><h4 id="XSTRM-GUID-E7D5279F-3F3A-431B-B25F-5D3C699208DC" class="sect4"><span class="enumeration_section">11.10.5 </span>Step 5:   Create a Procedure that Prints All the Error LCRs for a Transaction
                  </h4>
                  <div>
                     <p>Create a procedure that prints all the LCRs in the error queue for a particular transaction.</p>
                     <div class="section">
                        <p>The procedure calls the <code class="codeph">print_lcr</code> procedure created in <span class="q">"<a href="monitoring-xstream-in.html#GUID-E471ED4F-7EE1-4D5B-ACE5-2298F6EF30D7" title="Create a procedure that prints a specified LCR.">Step 3: Create a Procedure that Prints a Specified LCR</a>"</span>.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE print_transaction(ltxnid IN VARCHAR2) IS
  i      NUMBER;
  txnid  VARCHAR2(30);
  source VARCHAR2(128);
  msgno  NUMBER;
  msgcnt NUMBER;
  errno  NUMBER;
  errmsg VARCHAR2(2000);
  lcr    ANYDATA;
BEGIN
  SELECT LOCAL_TRANSACTION_ID,
         SOURCE_DATABASE,
         MESSAGE_NUMBER,
         MESSAGE_COUNT,
         ERROR_NUMBER,
         ERROR_MESSAGE
      INTO txnid, source, msgno, msgcnt, errno, errmsg
      FROM ALL_APPLY_ERROR
      WHERE LOCAL_TRANSACTION_ID =  ltxnid;
  DBMS_OUTPUT.PUT_LINE('----- Local Transaction ID: ' || txnid);
  DBMS_OUTPUT.PUT_LINE('----- Source Database: ' || source);
  DBMS_OUTPUT.PUT_LINE('----Error in Message: '|| msgno);
  DBMS_OUTPUT.PUT_LINE('----Error Number: '||errno);
  DBMS_OUTPUT.PUT_LINE('----Message Text: '||errmsg);
  FOR i IN 1..msgcnt LOOP
  DBMS_OUTPUT.PUT_LINE('--message: ' || i);
    lcr := DBMS_APPLY_ADM.GET_ERROR_MESSAGE(i, txnid); -- gets the LCR
    print_lcr(lcr);
  END LOOP;
END print_transaction;
/
</pre><p>To run this procedure after you create it, pass to it the local transaction identifier of an error transaction. For example, if the local transaction identifier is <code class="codeph">1.17.2485</code>, then enter the following:
                        </p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON SIZE 1000000

EXEC print_transaction('1.17.2485')</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="monitoring-xstream-in.html#GUID-505C729C-5893-4B22-A981-33BF3084C67B" title="SQL scripts display detailed information about the error transactions in the error queue in a database.">Displaying Detailed Information About Apply Errors</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>