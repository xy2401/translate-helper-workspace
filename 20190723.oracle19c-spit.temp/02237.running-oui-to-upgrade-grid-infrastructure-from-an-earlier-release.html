<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Complete this procedure to upgrade Oracle Grid Infrastructure (Oracle Clusterware and Oracle Automatic Storage Management) from an earlier release.">
      <meta name="description" content="Complete this procedure to upgrade Oracle Grid Infrastructure (Oracle Clusterware and Oracle Automatic Storage Management) from an earlier release.">
      <title>Upgrading Oracle Grid Infrastructure from an Earlier Release</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Grid Infrastructure Installation and Upgrade Guide">
      <meta property="og:description" content="Complete this procedure to upgrade Oracle Grid Infrastructure (Oracle Clusterware and Oracle Automatic Storage Management) from an earlier release.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Grid Infrastructure Installation and Upgrade Guide for Linux">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="grid-infrastructure-installation-and-upgrade-guide-linux.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T21:10:05-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2013, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96272-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="performing-rolling-upgrade-of-oracle-grid-infrastructure.html" title="Previous" type="text/html">
      <link rel="next" href="completing-an-oracle-clusterware-upgrade-when-nodes-become-unreachable.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Grid Infrastructure Installation and Upgrade Guide for Linux">
    <meta name="dcterms.isVersionOf" content="CWLIN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="performing-rolling-upgrade-of-oracle-grid-infrastructure.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="completing-an-oracle-clusterware-upgrade-when-nodes-become-unreachable.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Grid Infrastructure Installation and Upgrade Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="upgrading-oracle-grid-infrastructure.html" property="item" typeof="WebPage"><span property="name">Upgrading Oracle Grid Infrastructure </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="performing-rolling-upgrade-of-oracle-grid-infrastructure.html" property="item" typeof="WebPage"><span property="name">Performing Rolling Upgrade of Oracle Grid Infrastructure</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Upgrading Oracle Grid Infrastructure from an Earlier Release</li>
            </ol>
            <a id="GUID-3BE36DF3-EB62-4CD1-B53A-850A3E2129E3" name="GUID-3BE36DF3-EB62-4CD1-B53A-850A3E2129E3"></a>
            
            <h2 id="CWLIN-GUID-3BE36DF3-EB62-4CD1-B53A-850A3E2129E3" class="sect2">Upgrading Oracle Grid Infrastructure from an Earlier Release</h2>
         </header>
         <div class="ind">
            <div>
               <p>Complete this procedure to upgrade Oracle Grid Infrastructure (Oracle Clusterware and Oracle Automatic Storage Management) from an earlier release.</p>
               <div class="section">At any time during the upgrade, if you have a question about what you are being asked to do, or what input you are required to provide during upgrade, click the <span class="bold">Help</span> button on the installer page.
               </div>
               <!-- class="section" -->
               <div class="p">You should have your network information, storage information, and operating system users and groups available to you before you start upgrade, and you should be prepared to run root scripts.</div>
               <!-- class="section" -->
               <ol>
                  <li class="stepexpand"><span>As <code class="codeph">grid</code> user, download the Oracle Grid Infrastructure image files and extract the files to the Grid home.</span><div>
                        <p>For example:</p><pre class="pre codeblock"><code>mkdir -p /u01/app/19.0.0/grid
chown grid:oinstall /u01/app/19.0.0/grid
cd /u01/app/19.0.0/grid
unzip -q <span class="variable" translate="no">download_location/grid_home.zip</span></code></pre><p><code class="codeph"><span class="variable" translate="no">download_location/grid_home.zip</span></code> is the path of the downloaded Oracle Grid Infrastructure image file.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnote" id="GUID-3BE36DF3-EB62-4CD1-B53A-850A3E2129E3__GUID-F665AF5F-7AA8-4DC2-B51E-74FF55049EFD">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You must extract the image software into the directory where you want your Grid home to be located.</p>
                              </li>
                              <li>
                                 <p>Download and copy the Oracle Grid Infrastructure image files to the local node only. During upgrade, the software is copied and installed on all other nodes in the cluster.</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </li>
                  <li class="stepexpand"><span>Start the Oracle Grid Infrastructure wizard by running the following command: </span><div><pre class="pre codeblock"><code> /u01/app/19.0.0/grid/gridSetup.sh</code></pre></div>
                  </li>
                  <li class="stepexpand"><span>Select the following configuration option:</span><ul>
                        <li><span class="uicontrol bold">Upgrade Oracle Grid Infrastructure:</span> Select this option to upgrade Oracle Grid Infrastructure (Oracle Clusterware and Oracle ASM).
                        </li>
                     </ul>
                     <div>
                        <div class="infoboxnote" id="GUID-3BE36DF3-EB62-4CD1-B53A-850A3E2129E3__GUID-F54F3563-EDE9-4274-8E25-14B92C404A76">
                           <p class="notep1">Note:</p>Oracle Clusterware must always be the later release, so you cannot upgrade Oracle ASM to a release that is more recent than Oracle Clusterware.
                        </div>
                     </div>
                  </li>
                  <li class="stepexpand"><span>On the Node Selection page, select all nodes. </span></li>
                  <li class="stepexpand"><span>Select installation options as prompted. Oracle recommends that you configure <code class="codeph">root</code> script automation, so that the <code class="codeph">rootupgrade.sh</code> script can be run automatically during the upgrade.</span></li>
                  <li class="stepexpand"><span>Run <code class="codeph">root</code> scripts, either automatically or manually:</span><ul>
                        <li><span class="bold">Running root scripts automatically:</span><p>If you have configured <code class="codeph">root</code> script automation, then use the pause between batches to relocate services from the nodes running the previous release to the new release.
                           </p>
                        </li>
                        <li><span class="bold">Running root scripts manually</span> 
                           <p>If you have not configured <code class="codeph">root</code> script automation, then when prompted, run the <code class="codeph">rootupgrade.sh</code> script on each node in the cluster that you want to upgrade. 
                           </p>
                        </li>
                     </ul>
                     <div>If you run <code class="codeph">root</code> scripts manually, then run the script on the local node first. The script shuts down the earlier release installation, replaces it with the new Oracle Clusterware release, and starts the new Oracle Clusterware installation. After the script completes successfully, you can run the script in parallel on all nodes except for one, which you select as the last node. When the script is run successfully on all the nodes except the last node, run the script on the last node.
                     </div>
                  </li>
                  <li class="stepexpand"><span>Because the Oracle Grid Infrastructure home is in a different location than the former Oracle Clusterware and Oracle ASM homes, update any scripts or applications that use utilities, libraries, or other files that reside in the Oracle Clusterware and Oracle ASM homes.</span></li>
                  <li class="stepexpand"><span>Update the Oracle Enterprise Manager target parameters as described in the topic <cite>Updating Oracle Enterprise Manager Cloud Control Target Parameters</cite>.</span></li>
               </ol>
               <div class="section">
                  <div class="infoboxnote" id="GUID-3BE36DF3-EB62-4CD1-B53A-850A3E2129E3__GUID-516EDCAE-DC0E-46E9-B67A-01EEAAAA7794">
                     <p class="notep1">Note:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>After upgrading to Oracle Grid Infrastructure 19c, remove the <code class="codeph">ADR_BASE=/u01/app/grid</code> entry from <code>$ORACLE_HOME/network/admin/sqlnet.ora</code> file, if you use Oracle ASM for database storage.
                           </p>
                        </li>
                        <li>
                           <p>At the end of the upgrade, if you set the Oracle Cluster Registry (OCR) backup location manually to the earlier release Oracle Clusterware home (CRS home), then you must change the OCR backup location to the new Oracle Grid Infrastructure home (Grid home). If you did not set the OCR backup location manually, then the backup location is changed for you during the upgrade.</p>
                        </li>
                        <li>
                           <p>Because upgrades of Oracle Clusterware are out-of-place upgrades, the previous release Oracle Clusterware home cannot be the location of the current release OCR backups. Backups in the old Oracle Clusterware home can be deleted.</p>
                        </li>
                        <li>
                           <p>If the cluster being upgraded has a single disk group that stores the OCR, OCR backup, Oracle ASM password, Oracle ASM password file backup, and the Grid Infrastructure Management Repository (GIMR), then Oracle recommends that you create a separate disk group or use another existing disk group and store the OCR backup, the GIMR and Oracle ASM password file backup in that disk group.</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="../cwadd/oracle-cluster-registry-utility-reference.html#CWADD92023" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="performing-rolling-upgrade-of-oracle-grid-infrastructure.html#GUID-38AB019F-4CFD-4B5C-B2E9-C75639BEF58D" title="Review this information to perform rolling upgrade of Oracle Grid Infrastructure.">Performing Rolling Upgrade of Oracle Grid Infrastructure</a></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>