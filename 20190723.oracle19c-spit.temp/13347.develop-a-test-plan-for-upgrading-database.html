<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Review these topics to understand how to create a series of carefully designed tests to validate all stages of the upgrade process.">
      <meta name="description" content="Review these topics to understand how to create a series of carefully designed tests to validate all stages of the upgrade process.">
      <title>Develop a Test Plan for Upgrading Oracle Database</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Upgrade Guide">
      <meta property="og:description" content="Review these topics to understand how to create a series of carefully designed tests to validate all stages of the upgrade process.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Upgrade Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-upgrade-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-25T08:26:31-07:00">
      <meta name="dcterms.title" content="Database Upgrade Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96252-05">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="choose-a-new-location-for-oracle-home-when-upgrading.html" title="Previous" type="text/html">
      <link rel="next" href="schema-only-accounts-upgraded-expired-password-accounts.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="UPGRD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="choose-a-new-location-for-oracle-home-when-upgrading.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="schema-only-accounts-upgraded-expired-password-accounts.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Upgrade Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="tasks-prepare-upgrade-oracle-database.html" property="item" typeof="WebPage"><span property="name"> Preparing to Upgrade Oracle Database </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="tasks-to-prepare-for-oracle-database-upgrades.html" property="item" typeof="WebPage"><span property="name">Tasks to Prepare for Oracle Database Upgrades</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Develop a Test Plan for Upgrading Oracle Database</li>
            </ol>
            <a id="GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" name="GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2"></a><a id="UPGRD12371"></a>
            
            <h2 id="UPGRD-GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" class="sect2">Develop a Test Plan for Upgrading Oracle Database</h2>
         </header>
         <div class="ind">
            <div>
               <p>Review these topics to understand how to create a series of carefully designed tests to validate all stages of the upgrade process.</p>
               <p>Oracle recommends that you perform rigorous tests of your database and applications. When you run and complete tests successfully, you help to ensure that you understand the process of upgrading the production database, so that the upgrade process is predictable and successful. Oracle strongly recommends that you perform as much testing as possible before upgrading a production database. Do not underestimate the importance of a complete and repeatable testing process.</p>
               <p>You can choose to perform tests manually, or you can use utilities to assist your tests, such as Oracle Real Application Testing features like Database Replay or SQL Performance Analyzer. In either case, the types of tests that you perform are the same.</p>
               <p>Your test plan must include these types of tests:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-B40D9C85-1A2A-40B7-8931-53F49ABEF96B">Upgrade Testing</a><br>Create, test, and validate an upgrade plan. 
                  </li>
                  <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-9DAE0B10-301D-493D-A11E-1AD5B52F3A78">Minimal Testing</a><br>You can find application startup or invocation problems when you perform minimal testing of applications on a test new release environment.
                  </li>
                  <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-A4750E77-F450-4181-8B0E-F9C5DF0E4A04">Functional Testing After Upgrades</a><br>Perform functional testing of the upgraded Oracle Database after the upgrade is complete.
                  </li>
                  <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-E43E7AA9-EEDC-458C-9D79-300AA4437271">High Availability Testing</a><br>Plan to perform High Availability testing on your upgraded system.
                  </li>
                  <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-6E849D5D-1C9F-40AF-9046-2CD8C1A30F6E">Integration Testing to Ensure Applications are Compatible</a><br>Integration testing for Oracle Database examines the interactions among components of the system.
                  </li>
                  <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-CD44BC42-14E4-4694-A652-A8936953801C">Performance Testing an Upgraded Oracle Database</a><br>Plan performance testing comparisons between your earlier release and new release Oracle Database.
                  </li>
                  <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-E7CE7CDF-4799-472A-9599-6F38677F5A6B">Volume and Load Stress Testing for Oracle Database Upgrades</a><br>Use Database Replay to perform volume and load stress testing of the entire upgraded Oracle database under high volume and loads. 
                  </li>
                  <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-00E55084-859C-47BB-A879-F037B331D2D2">Test Plan Guidelines for Oracle Database Upgrade Planning</a><br>Perform planned tests on your current database and on the test database that you upgraded to the new Oracle Database release.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="tasks-to-prepare-for-oracle-database-upgrades.html#GUID-3C319260-B5CD-4C50-B606-36D060FDF0BE" title="Carry out these tasks to prepare your upgrade.">Tasks to Prepare for Oracle Database Upgrades</a></p>
                  </div>
               </div>
            </div>
            <a id="UPGRD12372"></a><div class="props_rev_3"><a id="GUID-B40D9C85-1A2A-40B7-8931-53F49ABEF96B" name="GUID-B40D9C85-1A2A-40B7-8931-53F49ABEF96B"></a><h3 id="UPGRD-GUID-B40D9C85-1A2A-40B7-8931-53F49ABEF96B" class="sect3">Upgrade Testing</h3>
               <div>
                  <p>Create, test, and validate an upgrade plan. </p>
                  <p>Upgrade testing for Oracle Database entails planning and testing the upgrade path from your current software to Oracle Database 12<span class="italic">c</span>, whether you use Oracle Database Upgrade Assistant (DBUA), perform a manual upgrade, or use Export/Import or other data-copying methods. Regardless of the upgrade method you choose, you must establish, test, and validate an upgrade plan.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" title="Review these topics to understand how to create a series of carefully designed tests to validate all stages of the upgrade process.">Develop a Test Plan for Upgrading Oracle Database</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12373"></a><div class="props_rev_3"><a id="GUID-9DAE0B10-301D-493D-A11E-1AD5B52F3A78" name="GUID-9DAE0B10-301D-493D-A11E-1AD5B52F3A78"></a><h3 id="UPGRD-GUID-9DAE0B10-301D-493D-A11E-1AD5B52F3A78" class="sect3">Minimal Testing</h3>
               <div>
                  <p>You can find application startup or invocation problems when you perform minimal testing of applications on a test new release environment.</p>
                  <p>Minimal testing for Oracle Database entails moving all or part of an application from the current database to the new database, and running the application without enabling any new database features. It is possible that minimal testing does not reveal problems that appear in an actual production environment. However, minimal testing immediately reveals any application startup or invocation problems.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" title="Review these topics to understand how to create a series of carefully designed tests to validate all stages of the upgrade process.">Develop a Test Plan for Upgrading Oracle Database</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12374"></a><div class="props_rev_3"><a id="GUID-A4750E77-F450-4181-8B0E-F9C5DF0E4A04" name="GUID-A4750E77-F450-4181-8B0E-F9C5DF0E4A04"></a><h3 id="UPGRD-GUID-A4750E77-F450-4181-8B0E-F9C5DF0E4A04" class="sect3">Functional Testing After Upgrades</h3>
               <div>
                  <p>Perform functional testing of the upgraded Oracle Database after the upgrade is complete.</p>
                  <p>Functional testing for Oracle Database is a set of tests in which new and existing features and functions of the system are tested after the upgrade. Functional testing includes all database, networking, and application components. The objective of functional testing is to verify that each component of the system functions as it did before upgrading and to verify that new functions are working properly.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" title="Review these topics to understand how to create a series of carefully designed tests to validate all stages of the upgrade process.">Develop a Test Plan for Upgrading Oracle Database</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD00242"></a><div class="props_rev_3"><a id="GUID-E43E7AA9-EEDC-458C-9D79-300AA4437271" name="GUID-E43E7AA9-EEDC-458C-9D79-300AA4437271"></a><h3 id="UPGRD-GUID-E43E7AA9-EEDC-458C-9D79-300AA4437271" class="sect3">High Availability Testing</h3>
               <div>
                  <p>Plan to perform High Availability testing on your upgraded system.</p>
                  <p>High Availability testing for Oracle Database ensures that the upgraded database system meets these recovery business requirements: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Recovery Time Objective (RTO)</p>
                     </li>
                     <li>
                        <p>Recovery Point Objective (RPO)</p>
                     </li>
                  </ul>
                  <p>Oracle recommends the following test procedures for high availability testing:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Create node or instance failures during stress testing. Node or instance failures help to evaluate the Oracle RAC recovery capability.</p>
                     </li>
                     <li>
                        <p>Test fallback plans and procedures to ensure that you can minimize downtime on upgraded databases.</p>
                     </li>
                     <li>
                        <p>Check database performance and stability, and resolve performance problems. Resolving performance problems helps to ensure that the upgrade process runs within the time that you have allocated.</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" title="Review these topics to understand how to create a series of carefully designed tests to validate all stages of the upgrade process.">Develop a Test Plan for Upgrading Oracle Database</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12375"></a><div class="props_rev_3"><a id="GUID-6E849D5D-1C9F-40AF-9046-2CD8C1A30F6E" name="GUID-6E849D5D-1C9F-40AF-9046-2CD8C1A30F6E"></a><h3 id="UPGRD-GUID-6E849D5D-1C9F-40AF-9046-2CD8C1A30F6E" class="sect3">Integration Testing to Ensure Applications are Compatible</h3>
               <div>
                  <p>Integration testing for Oracle Database examines the interactions among components of the system.</p>
                  <p>Oracle recommends that you carry out the following tests as part of your integration testing:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Test Pro*C/C++ application clients of Oracle Database 12<span class="italic">c</span> instances to ensure that these applications are compatible with the upgraded database. 
                        </p>
                     </li>
                     <li>
                        <p>Test graphical user interfaces.</p>
                     </li>
                     <li>
                        <p>Test all applications that interact directly or indirectly with the database. Subtle changes in Oracle Database 12<span class="italic">c</span>, such as data types, data in the data dictionary (additional rows in the data dictionary, object type changes, and so on) can affect front-end applications, even if those applications are not directly connected to a new Oracle Database 12<span class="italic">c</span> instance.
                        </p>
                     </li>
                     <li>
                        <p>Test and stress-test any Oracle Net or Oracle Net Services connections between components. </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-6E849D5D-1C9F-40AF-9046-2CD8C1A30F6E__GUID-E431E86E-3B3F-4C7E-9542-A6308C9BDBC9">
                     <p class="notep1">Note:</p>
                     <p>See <a href="../lnpcc/C-Plus-Plus-Applications.html#LNPCC012" target="_blank"><span class="italic">Pro*C/C++ Programmer's Guide</span></a> for more information about Pro*C/C++ applications.
                     </p>
                     <p>See <a href="../netrf/index.html" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a> for more information about upgrade recommendations for Oracle Net Services.
                     </p>
                  </div>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" title="Review these topics to understand how to create a series of carefully designed tests to validate all stages of the upgrade process.">Develop a Test Plan for Upgrading Oracle Database</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12376"></a><div class="props_rev_3"><a id="GUID-CD44BC42-14E4-4694-A652-A8936953801C" name="GUID-CD44BC42-14E4-4694-A652-A8936953801C"></a><h3 id="UPGRD-GUID-CD44BC42-14E4-4694-A652-A8936953801C" class="sect3">Performance Testing an Upgraded Oracle Database</h3>
               <div>
                  <p>Plan performance testing comparisons between your earlier release and new release Oracle Database.</p>
                  <p>Performance testing of the new Oracle Database compares the performance of various SQL statements in the new database with the performance of those same statements in the current database. Before upgrading, Analyze the performance profile of applications under the current database. Specifically, analyze and understand the calls that applications make to the database server.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-F8B12F83-94F9-4975-9B8A-E6CBD8E1BD53">Database Replay and Performance Testing</a><br>Use the Database Replay feature to perform real-world testing of a database upgrade on your production workload before actually upgrading the production database.
                     </li>
                     <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-538383F1-F232-49C3-B946-5942EBD76A21">SQL Performance Analyzer</a><br>Use the SQL Performance Analyzer to forecast the impact of system changes on a SQL workload.
                     </li>
                     <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C">SQL Plan Management</a><br>Review this topic to understand how to carry out SQL plan managements after upgrades to avoid performance regressions.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" title="Review these topics to understand how to create a series of carefully designed tests to validate all stages of the upgrade process.">Develop a Test Plan for Upgrading Oracle Database</a></p>
                     </div>
                  </div>
               </div>
               <a id="UPGRD12378"></a><div class="sect3"><a id="GUID-F8B12F83-94F9-4975-9B8A-E6CBD8E1BD53" name="GUID-F8B12F83-94F9-4975-9B8A-E6CBD8E1BD53"></a><h4 id="UPGRD-GUID-F8B12F83-94F9-4975-9B8A-E6CBD8E1BD53" class="sect4">Database Replay and Performance Testing</h4>
                  <div>
                     <p>Use the Database Replay feature to perform real-world testing of a database upgrade on your production workload before actually upgrading the production database.</p>
                     <p>The Database Replay feature captures the actual database workload on the production system, and replays it on the test system. Database Replay also provides analysis and reporting to highlight potential problems; for example, errors encountered, divergence in performance, and so forth. In addition, all the regular Enterprise Manager performance monitoring and reporting tools such as Automatic Database Diagnostic Monitor, Automatic Workload Repository (AWR), and Active Session History are available to address any problems.</p>
                     <div class="infoboxnote" id="GUID-F8B12F83-94F9-4975-9B8A-E6CBD8E1BD53__GUID-95FCD104-D1DB-4592-9A3E-79C9F39741A3">
                        <p class="notep1">Note:</p>
                        <p>You can change the stored procedure logic in the database. However, the stored PL/SQL procedures that implement the application logic must maintain the same interfaces as before the upgrade. If an upgrade affects the stored procedures of an application, replaying the workload may not be possible. Using Database Replay tool with the same interfaces provides you with good diagnostics to see if the new application logic in the server is performing as expected after the upgrade.</p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F8B12F83-94F9-4975-9B8A-E6CBD8E1BD53__GUID-C368A3CA-A891-4E5D-AFBB-9DA63DE88890">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../ratug/introduction-to-database-replay.html#RATUG104" target="_blank"><span class="italic">Oracle Database Testing Guide</span></a> for information about how to capture and replay workloads
                              </p>
                           </li>
                           <li>
                              <p><a href="../tgdba/gathering-database-statistics.html#TGDBA185" target="_blank"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information on the Automatic Workload Repository
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-CD44BC42-14E4-4694-A652-A8936953801C" title="Plan performance testing comparisons between your earlier release and new release Oracle Database.">Performance Testing an Upgraded Oracle Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="UPGRD12379"></a><div class="sect3"><a id="GUID-538383F1-F232-49C3-B946-5942EBD76A21" name="GUID-538383F1-F232-49C3-B946-5942EBD76A21"></a><h4 id="UPGRD-GUID-538383F1-F232-49C3-B946-5942EBD76A21" class="sect4">SQL Performance Analyzer</h4>
                  <div>
                     <p>Use the SQL Performance Analyzer to forecast the impact of system changes on a SQL workload.</p>
                     <p>SQL Performance Analyzer enables you to evaluate the effect of an upgrade on your SQL workloads. SQL Performance Analyzer finds possible issues by identifying the SQL statements affected by the upgrade. It then measures the performance divergence of SQL workloads before the upgrade, and after the upgrade. The analysis enables you to assess the overall effect of the upgrade on SQL performance. You can then take measures to avoid any negative outcome from SQL workload changes before they can affect users.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-538383F1-F232-49C3-B946-5942EBD76A21__GUID-0BBED99B-CF4F-421E-98C5-07A872EE395C">
                        <p class="notep1">See Also:</p>
                        <p><a href="../ratug/introduction-to-sql-performance-analyzer.html#RATUG166" target="_blank"><span class="italic">Oracle Database Testing Guide</span></a> for further information, and examples of using the SQL Performance Analyzer to perform analysis on potential database changes
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-CD44BC42-14E4-4694-A652-A8936953801C" title="Plan performance testing comparisons between your earlier release and new release Oracle Database.">Performance Testing an Upgraded Oracle Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="UPGRD52855"></a><a id="UPGRD52619"></a><a id="UPGRD52620"></a><a id="UPGRD00232"></a><div class="sect3"><a id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C" name="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C"></a><h4 id="UPGRD-GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C" class="sect4">SQL Plan Management</h4>
                  <div>
                     <p>Review this topic to understand how to carry out SQL plan managements after upgrades to avoid performance regressions.</p>
                     <p>A database upgrade that installs a new optimizer version usually results in plan changes for a small percentage of SQL statements. Most plan changes result in no performance change or improvement. However, certain plan changes may cause performance regressions. SQL plan management prevents performance regressions resulting from sudden changes to the execution plan of a SQL statement by providing components for capturing, selecting, and evolving SQL plan information. SQL plan management is a preventative mechanism that records and evaluates the execution plans of SQL statements over time, and builds SQL plan baselines composed of a set of existing plans that are proven efficient after repeated use. SQL plan management uses the SQL plan baselines to preserve the performance of corresponding SQL statements, regardless of changes occurring in the system.</p>
                     <p>With SQL plan management, the optimizer automatically manages execution plans and ensures that only known or verified plans are used. When SQL Plan management finds a new plan for a SQL statement, it does not use this plan until the database verifies that the new plan has comparable or better performance than the current plan. If you seed SQL plan management with your current execution plans, then those plans becomes the SQL plan baseline for each statement. The optimizer uses these plans after the upgrade. If the Oracle Database 12<span class="italic">c</span> optimizer determines that a different plan can result in better performance, then the new plan is queued for verification and is not used until it has been confirmed to have comparable or better performance than the current plan.
                     </p>
                     <p>There are several ways to seed or populate a SQL Management Base (SMB) with execution plans:</p>
                     <div class="section" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__BABDEJDI">
                        <p class="subhead3" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__GUID-F5E2F9C7-F3AD-4623-93A4-6949CB36ABD4">Bulk Load a SQL Management Base from the Cursor Cache</p>
                     </div>
                     <!-- class="section" -->
                     <p>Bulk loading of execution plans or SQL plan baselines from the cursor cache is useful when upgrading a database from Oracle Database 11<span class="italic">g</span> to the latest release of Oracle Database. The cursor cache is a shared SQL area, and SQL plans that are bulk loaded are automatically accepted and added to existing or new plan histories as SQL plan baselines.
                     </p>
                     <ol>
                        <li>
                           <p>In the source release of Oracle Database, use the <code class="codeph">DBMS_SPM.LOAD_PLAN_FROM_CURSOR_CACHE</code> procedure or Oracle Enterprise Manager to load all of the execution plans in the cursor cache into the SQL Management Base.
                           </p>
                        </li>
                        <li>
                           <p>Upgrade the database.</p>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__GUID-B21054D0-D8AC-45D8-8E1D-A558E16D115E">
                        <p class="notep1">See Also:</p>
                        <p><a href="../tgsql/managing-sql-plan-baselines.html#TGSQL649" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information on how to load plans from the shared SQL area using PL/SQL or Oracle Enterprise Manager
                        </p>
                     </div>
                     <div class="section" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__CEGFDEEI">
                        <p class="subhead3" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__GUID-BC3116A5-A120-487E-AE54-D0418A80561E">Bulk Load a SQL Management Base with a SQL Tuning Set (STS)</p>
                     </div>
                     <!-- class="section" -->
                     <p>Bulk loading of execution plans or SQL plan baselines may be done with a SQL Tuning Set. This is useful when upgrading from Oracle Database 10<span class="italic">g</span>, where no SQL Management Base (SMB) exists to directly load from the cursor cache, or to load historic plans from the Automatic Workload Repository.
                     </p>
                     <ol>
                        <li>
                           <p>In the source release of Oracle Database, create an STS that includes the execution plan for each of the SQL statements.</p>
                        </li>
                        <li>
                           <p>Load the STS into a staging table and export the staging table into a dump file.</p>
                        </li>
                        <li>
                           <p>Import the staging table from a dump file into the new release of Oracle and unload the STS.</p>
                        </li>
                        <li>
                           <p>Use Oracle Enterprise Manager or <code class="codeph">DBMS_SPM.LOAD_PLANS_FROM_SQLSET</code> to load the execution plans into the SQL Management Base.
                           </p>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__GUID-D3DB429D-3DCA-4FE3-8598-86F84511E127">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/upgrd&amp;id=TGSQL646" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for the complete procedure for bulk loading execution plans or SQL plan baselines
                        </p>
                     </div>
                     <div class="section" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__CEGHCJEG">
                        <p class="subhead3" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__GUID-8F3528B9-C133-4F63-BFE3-98815FFFD8A4">Unpack Existing SQL Plan Baselines from a Staging Table</p>
                     </div>
                     <!-- class="section" -->
                     <p><a id="d9900e1077" class="indexterm-anchor"></a><a id="d9900e1081" class="indexterm-anchor"></a><a id="d9900e1085" class="indexterm-anchor"></a>You can test and tune all of your critical SQL queries on an Oracle Database test environment and then move those <a id="d9900e1090" class="indexterm-anchor"></a>SQL execution plans to your Oracle Database production environment. Alternatively, you can take plans for SQL queries from your pre-upgrade Oracle Database production environment and move them to your post-upgrade production environment.
                     </p>
                     <ol>
                        <li>
                           <p>On the Oracle Database 12<span class="italic">c</span> test system, after completing all testing and tuning, use the <code class="codeph">DBMS_SPM.LOAD_PLAN_FROM_CURSOR_CACHE</code> procedure or Enterprise Manager to load all of the execution plans in the cursor cache into the SQL Management Base.
                           </p>
                        </li>
                        <li>
                           <p>Create a staging table using the <code class="codeph">DBMS_SPM.CREATE_STGTAB_BASELINE</code> procedure.
                           </p>
                        </li>
                        <li>
                           <p>Pack the SQL plan baselines you created in step 1 into the staging table using the <code class="codeph">DBMS_SPM.PACK_STGTAB_BASELINE</code> function.
                           </p>
                        </li>
                        <li>
                           <p>Export the staging table into a flat file using Data Pump.</p>
                        </li>
                        <li>
                           <p>Transfer this flat file to the target system.</p>
                        </li>
                        <li>
                           <p>Import the staging table from the flat file using Data Pump.</p>
                        </li>
                        <li>
                           <p>Unpack the SQL plan baselines from the staging table into the SQL Management Base on the target system using the <code class="codeph">DBMS_SPM.UNPACK_STGTAB_BASELINE</code> function.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__GUID-4C1E3E5E-9EB8-4B21-8028-56A260F64A50">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../tgsql/managing-sql-plan-baselines.html#TGSQL652" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information about loading plans from a staging table
                              </p>
                           </li>
                           <li>
                              <p><a href="../sutil/oracle-data-pump-overview.html#SUTIL100" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about using Data Pump
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-CD44BC42-14E4-4694-A652-A8936953801C" title="Plan performance testing comparisons between your earlier release and new release Oracle Database.">Performance Testing an Upgraded Oracle Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="UPGRD12380"></a><div class="props_rev_3"><a id="GUID-E7CE7CDF-4799-472A-9599-6F38677F5A6B" name="GUID-E7CE7CDF-4799-472A-9599-6F38677F5A6B"></a><h3 id="UPGRD-GUID-E7CE7CDF-4799-472A-9599-6F38677F5A6B" class="sect3">Volume and Load Stress Testing for Oracle Database Upgrades</h3>
               <div>
                  <p>Use Database Replay to perform volume and load stress testing of the entire upgraded Oracle database under high volume and loads. </p>
                  <p>Volume describes the amount of data being manipulated. Load describes the level of concurrent demand on the system. Volume and load testing can emulate how a production system behaves under various volumes and loads.</p>
                  <p>Volume and load stress testing is crucial. However, it is commonly overlooked. Oracle has found that customers often do not conduct any kind of volume or load stress testing. Instead, customers often rely on benchmarks that do not characterize business applications. Oracle recommends that you conduct benchmarks of your applications. Benchmarking can help you to uncover problems relating to functions, performance, and integration. However, they cannot replace volume and load stress testing.</p>
                  <p>Load testing involves running an application load against the new Oracle Database release. The load test ensures that applications do not encounter problems, such as new errors, or performance issues under the load conditions that you think are likely found in production. Many times, problems manifest only under certain load conditions, and are normally not seen in functional testing. The Database Replay feature is ideal for such load testing. Database Replay enables you to capture the system workload from a production environment, and replay it in identical fashion on the test system.</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-E7CE7CDF-4799-472A-9599-6F38677F5A6B__GUID-59B8F18A-1C7C-4891-9DE8-84B115DE3C10">
                     <p class="notep1">See Also:</p>
                     <p><a href="../ratug/introduction-to-database-replay.html#RATUG104" target="_blank"><span class="italic">Oracle Database Testing Guide</span></a> for information about using Database Replay for stress testing
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" title="Review these topics to understand how to create a series of carefully designed tests to validate all stages of the upgrade process.">Develop a Test Plan for Upgrading Oracle Database</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12384"></a><div class="props_rev_3"><a id="GUID-00E55084-859C-47BB-A879-F037B331D2D2" name="GUID-00E55084-859C-47BB-A879-F037B331D2D2"></a><h3 id="UPGRD-GUID-00E55084-859C-47BB-A879-F037B331D2D2" class="sect3">Test Plan Guidelines for Oracle Database Upgrade Planning</h3>
               <div>
                  <p>Perform planned tests on your current database and on the test database that you upgraded to the new Oracle Database release.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Compare the test results, noting anomalies.</p>
                     </li>
                     <li>
                        <p>Repeat the test upgrade as many times as necessary until issues are resolved.</p>
                     </li>
                  </ul>
                  <p>Test the newly upgraded test database with existing applications to verify that they operate properly with a new Oracle database.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Test enhanced functions and new capabilities by adding available Oracle Database features.</p>
                     </li>
                     <li>
                        <p>Ensure that the applications operate in the same manner as they did in the current database.</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-00E55084-859C-47BB-A879-F037B331D2D2__GUID-D640301B-DC5F-461D-8618-A8B0F2266447">
                     <p class="notep1">See Also:</p>
                     <p><a href="../ratug/testing-a-database-upgrade.html#RATUG210" target="_blank"><span><cite>Oracle Database Testing Guide</cite></span></a> for information on testing a database upgrade
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" title="Review these topics to understand how to create a series of carefully designed tests to validate all stages of the upgrade process.">Develop a Test Plan for Upgrading Oracle Database</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>