<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Gateway Initialization Parameters for SNA Protocol</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Installation and Configuration Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Installation and Configuration Guide for Microsoft Windows">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-appc-installation-and-configuration-guide-microsoft-windows.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T19:10:00-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="F18240-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="appc-gateway-migration.html" title="Previous" type="text/html">
      <link rel="next" href="appc-gateway-initialization-parameters-tcp-ip.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC Installation and Configuration Guide for Microsoft Windows">
    <meta name="dcterms.isVersionOf" content="APPCW">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="appc-gateway-migration.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="appc-gateway-initialization-parameters-tcp-ip.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Installation and Configuration Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Gateway Initialization Parameters for SNA Protocol</li>
            </ol>
            <a id="GUID-84F7EB01-3551-4335-A54A-918F7E637F5D" name="GUID-84F7EB01-3551-4335-A54A-918F7E637F5D"></a><a id="APPCW258"></a>
            
            <h2 id="APPCW-GUID-84F7EB01-3551-4335-A54A-918F7E637F5D" class="sect2"><span class="enumeration_appendix">A </span> Gateway Initialization Parameters for SNA Protocol
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This topic describes the gateway initialization file location and lists the <a id="d16014e30" class="indexterm-anchor"></a><a id="d16014e36" class="indexterm-anchor"></a>gateway initialization parameters supported by the Oracle Database Gateway for APPC specifically for the SNA protocol. These parameters are fully documented in <a href="appc-gateway-migration.html#GUID-5B666B0B-A175-4453-9EAF-4EC4C63B22A7">Migrating an Existing Gateway Instance to New Release Using SNA Protocol</a><a href="appc-gateway-migration.html#GUID-5B666B0B-A175-4453-9EAF-4EC4C63B22A7">Migrating an Existing Gateway Instance to New Release Using SNA Protocol</a>. In addition, the following topic contains sample listener.ora and tnsnames files for a gateway using SNA.
               </p>
               <p>The <a id="d16014e50" class="indexterm-anchor"></a><a id="d16014e54" class="indexterm-anchor"></a><a id="d16014e58" class="indexterm-anchor"></a>parameter file for the gateway is located in the                                              <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory and is called <a id="d16014e66" class="indexterm-anchor"></a><a id="d16014e68" class="indexterm-anchor"></a><a id="d16014e72" class="indexterm-anchor"></a><a id="d16014e74" class="indexterm-anchor"></a><code class="codeph">init<span class="codeinlineitalic">sid</span>.ora</code>.
               </p>
               <div class="infoboxnote" id="GUID-84F7EB01-3551-4335-A54A-918F7E637F5D__GUID-37D268E7-0E79-4775-919D-9CE4D7928D59">
                  <p class="notep1">Note:</p>
                  <p>The <code class="codeph">init<span class="codeinlineitalic">sid</span>.ora</code> file contains both SNA and TCP/IP parameters. You must modify these files with the suitable parameters.
                  </p>
               </div>
            </div><a id="APPCW327"></a><a id="APPCW260"></a><div class="props_rev_3"><a id="GUID-FA92B3D4-6DB1-499A-A382-B243EFCFBC98" name="GUID-FA92B3D4-6DB1-499A-A382-B243EFCFBC98"></a><h3 id="APPCW-GUID-FA92B3D4-6DB1-499A-A382-B243EFCFBC98" class="sect3">PGA Parameters</h3>
               <div>
                  <p>The <a id="d16014e127" class="indexterm-anchor"></a><a id="d16014e133" class="indexterm-anchor"></a>PGA<a id="d16014e138" class="indexterm-anchor"></a> parameters control the APPC interface portion of the gateway.
                  </p>
                  <p>PGA parameters are specified using the <code class="codeph">SET</code> <a id="d16014e150" class="indexterm-anchor"></a>gateway initialization parameter. For example:
                  </p><pre class="oac_no_warn" dir="ltr">SET <span class="italic">pga_parm=value</span> 
</pre><p>where:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="italic"><code class="codeph">pga_parm </code></span>is one of the PGA parameter names in the list that follows; and
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">value </code></span>is a character string with contents that depend on <span class="italic"><code class="codeph">pga_parm</code></span> 
                        </p>
                     </li>
                  </ul>
                  <p><a href="appc-gateway-initialization-parameters-sna.html#GUID-FA92B3D4-6DB1-499A-A382-B243EFCFBC98__G635413" title="This 2 column table provides a list of PGA parameters and their descriptions">Table A-1</a> provides a list of PGA parameters and their descriptions.
                  </p>
                  <div class="tblformal" id="GUID-FA92B3D4-6DB1-499A-A382-B243EFCFBC98__G635413">
                     <p class="titleintable">Table A-1 PGA Parameters for Oracle Database Gateway for APPC Using SNA</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="PGA Parameters for Oracle Database Gateway for APPC Using SNA" summary="This 2 column table provides a list of PGA parameters and their descriptions" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d16014e197">Parameter</th>
                              <th align="left" valign="bottom" width="67%" id="d16014e200">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d16014e205" headers="d16014e197 ">
                                 <p><a id="d16014e207" class="indexterm-anchor"></a><code class="codeph">LOG_DESTINATION</code>=<span class="italic"><code class="codeph">logpath</code></span> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d16014e205 d16014e200 ">
                                 <p><span class="italic"><code class="codeph">logpath</code></span> specifies the destination at which <code class="codeph">STDERR</code> is reopened. <code class="codeph">LOG_DESTINATION</code> specifies a directory only and <code class="codeph">STDERR</code> is reopened to <code class="codeph">logpath\</code><span class="italic"><code class="codeph">sid_pid</code></span><code class="codeph">.log</code></p>
                                 <p>where:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><span class="italic"><code class="codeph">sid</code></span> is the sid name
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="italic"><code class="codeph">pid</code></span> is the process ID assigned to the gateway
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d16014e256" headers="d16014e197 ">
                                 <p><a id="d16014e258" class="indexterm-anchor"></a><a id="d16014e262" class="indexterm-anchor"></a><code class="codeph">PGA_CAPABILITY</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d16014e256 d16014e200 ">
                                 <p>PGA transaction capability.  This controls whether updates are allowed through the gateway. The following are valid values:</p>
                                 <p><code class="codeph">READ_ONLY</code> or <code class="codeph">RO</code>, read-only capabilities.
                                 </p>
                                 <p><code class="codeph">SINGLE_SITE</code> or <code class="codeph">SS</code>, single-site update only. This indicates that in a distributed environment, only the gateway can perform updates.  No other database updates can occur within the Oracle transaction.
                                 </p>
                                 <p><a id="d16014e286" class="indexterm-anchor"></a><code class="codeph">COMMIT_CONFIRM</code> or <code class="codeph">CC</code>, commit-confirm. This indicates that in a distributed environment, updates can be performed by both the gateway and other participants within the Oracle transaction. The gateway is always committed first in this mode, and no other commit-confirm sites are allowed to participate in the Oracle transaction.<a id="d16014e294" class="indexterm-anchor"></a></p>
                                 <p>The default is <code class="codeph">SINGLE_SITE</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d16014e302" headers="d16014e197 ">
                                 <p><a id="d16014e304" class="indexterm-anchor"></a><a id="d16014e308" class="indexterm-anchor"></a><code class="codeph">PGA_CONFIRM</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d16014e302 d16014e200 ">
                                 <p>Incoming <code class="codeph">APPC</code> <code class="codeph">CONFIRM</code> request handling option. This controls what the gateway does when an <code class="codeph">APPC</code> <code class="codeph">CONFIRM</code> request is received from the remote transaction program (RTP). This parameter has meaning only when the conversation is running with <code class="codeph">SYNCLEVEL &gt; 0</code>. The following are valid values:
                                 </p>
                                 <p><code class="codeph">ACCEPT</code> - respond to incoming <code class="codeph">APPC</code> <code class="codeph">CONFIRM</code> requests with <code class="codeph">APPC</code> <code class="codeph">CONFIRMED</code> responses.
                                 </p>
                                 <p><code class="codeph">REJECT</code> - treat incoming <code class="codeph">APPC</code> <code class="codeph">CONFIRM</code> requests as <a id="d16014e358" class="indexterm-anchor"></a>errors causing the conversation to be deallocated and an error message to be issued.
                                 </p>
                                 <p>The default is <code class="codeph">REJECT</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d16014e369" headers="d16014e197 ">
                                 <p><a id="d16014e371" class="indexterm-anchor"></a><a id="d16014e375" class="indexterm-anchor"></a><code class="codeph">PGA_LOG_DB</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d16014e369 d16014e200 ">
                                 <p>The <a id="d16014e384" class="indexterm-anchor"></a>Oracle Net service name for the Oracle database in which the gateway maintains its transaction log. This parameter can be from&nbsp;<code class="codeph">1</code> to <code class="codeph">255</code>&nbsp;characters long. This parameter is required only when <code class="codeph">PGA_CAPABILITY</code> parameter is set to <code class="codeph">       COMMIT_CONFIRM</code>.
                                 </p>
                                 <p>There is no default value.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d16014e402" headers="d16014e197 ">
                                 <p><a id="d16014e404" class="indexterm-anchor"></a><a id="d16014e408" class="indexterm-anchor"></a><code class="codeph">PGA_LOG_PASS</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d16014e402 d16014e200 ">
                                 <p>The Oracle <a id="d16014e417" class="indexterm-anchor"></a>password to be used by the gateway when connecting to the Oracle database  specified by the                     <code class="codeph">PGA_LOG_DB</code> parameter. The password can be from&nbsp;<code class="codeph">1</code> to <code class="codeph">30</code>&nbsp;characters long. This parameter is required only when  <code class="codeph">PGA_CAPABILITY</code> parameter is set to <code class="codeph">COMMIT_CONFIRM</code>. The password can be encrypted. For more information about encrypting the password, refer to <a href="appc-gateway-security-requirements.html#GUID-5BE1BC54-C7E5-4FA0-B1F3-257C54237E1C">Passwords in the Gateway Initialization File</a>.
                                 </p>
                                 <p>There is no default value.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d16014e445" headers="d16014e197 ">
                                 <p><a id="d16014e447" class="indexterm-anchor"></a><a id="d16014e451" class="indexterm-anchor"></a><code class="codeph">PGA_LOG_USER</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d16014e445 d16014e200 ">
                                 <p>The Oracle user&nbsp;ID to be used by the gateway when connecting to the Oracle database  specified by the <code class="codeph">PGA_LOG_DB</code> parameter. The user&nbsp;ID can be from<code class="codeph">&nbsp;1</code> to <code class="codeph">30</code>&nbsp;characters long. This parameter is required only when <code class="codeph">PGA_CAPABILITY</code> parameter is set to <code class="codeph">COMMIT_CONFIRM</code>.
                                 </p>
                                 <p>There is no default value.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d16014e478" headers="d16014e197 ">
                                 <p><a id="d16014e480" class="indexterm-anchor"></a><a id="d16014e484" class="indexterm-anchor"></a><code class="codeph">PGA_RECOVERY_PASS</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d16014e478 d16014e200 ">
                                 <p>The password to be used by the gateway when allocating an APPC conversation with the transaction specified by the  <code class="codeph"> PGA_RECOVERY_TPNAME</code> parameter. The password can be from&nbsp;<code class="codeph">1</code> to <code class="codeph">8&nbsp;</code>characters long. This parameter is required only when <code class="codeph">PGA_CAPABILITY</code> parameter is set to                  <code class="codeph">COMMIT_CONFIRM</code> and <code class="codeph">PGA_SECURITY_TYPE</code>  parameter is set to <code class="codeph">PROGRAM</code>. The password can be encrypted. For more information about encrypting the password, refer to <a href="appc-gateway-security-requirements.html#GUID-5BE1BC54-C7E5-4FA0-B1F3-257C54237E1C">Passwords in the Gateway Initialization File</a>.
                                 </p>
                                 <p>There is no default value.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d16014e522" headers="d16014e197 ">
                                 <p><a id="d16014e524" class="indexterm-anchor"></a><a id="d16014e528" class="indexterm-anchor"></a><code class="codeph">PGA_RECOVERY_TPNAME</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d16014e522 d16014e200 ">
                                 <p>The <a id="d16014e537" class="indexterm-anchor"></a>TP name of the transaction installed in the online transaction processor (OLTP) for commit-confirm <code class="codeph">FORGET</code> and <code class="codeph">RECOVERY</code> processing. The TP name can be from&nbsp;<code class="codeph">1</code> to <code class="codeph">64</code>&nbsp;characters long. For <a id="d16014e553" class="indexterm-anchor"></a>CICS Transaction Server for z/OS, the TP name is limited to four&nbsp;characters. For <a id="d16014e558" class="indexterm-anchor"></a>IMS/TM, the TP name is limited to eight&nbsp;characters. Other OLTPs might have other limits on the length of the TP name. This parameter is required only when <code class="codeph">PGA_CAPABILITY</code> parameter is set to <code class="codeph">COMMIT_CONFIRM</code>.
                                 </p>
                                 <p>The default value is <code class="codeph">RECO</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d16014e575" headers="d16014e197 ">
                                 <p><a id="d16014e577" class="indexterm-anchor"></a><a id="d16014e581" class="indexterm-anchor"></a><code class="codeph">PGA_RECOVERY_USER</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d16014e575 d16014e200 ">
                                 <p>The user&nbsp;ID to be used by the gateway when allocating an APPC conversation with the transaction specified by the   <code class="codeph">PGA_RECOVERY_TPNAME</code> parameter. The user&nbsp;ID can be from&nbsp;<code class="codeph">1</code> to <code class="codeph">8</code>&nbsp;characters long. This parameter is required only when <code class="codeph">PGA_CAPABILITY</code> parameter is set to                  <code class="codeph">COMMIT_CONFIRM</code> and <code class="codeph">PGA_SECURITY_TYPE</code> parameter is set to <code class="codeph">PROGRAM</code> or <code class="codeph">SAME</code>.
                                 </p>
                                 <p>There is no default value.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d16014e618" headers="d16014e197 ">
                                 <p><a id="d16014e620" class="indexterm-anchor"></a><code class="codeph">PGA_SECURITY_TYPE</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d16014e618 d16014e200 ">
                                 <p><a id="d16014e628" class="indexterm-anchor"></a>APPC conversation security option. This controls what security parameters are sent to the OLTP in the FMH-5 at conversation allocation. The following are valid values:
                                 </p>
                                 <p><code class="codeph">NONE</code>, which sends no security parameters
                                 </p>
                                 <p><code class="codeph">SAME</code>, which sends only a user&nbsp;ID
                                 </p>
                                 <p><code class="codeph">PROGRAM</code>, which sends a user&nbsp;ID and password
                                 </p>
                                 <p>The default is <code class="codeph">NONE</code>. 
                                 </p>
                                 <p>For further information about these options, refer to <a href="appc-gateway-security-requirements.html#GUID-87EF21D2-821F-4552-AB91-E0EC5C8A81CB">   Security Requirements </a>. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d16014e657" headers="d16014e197 ">
                                 <p><a id="d16014e659" class="indexterm-anchor"></a><a id="d16014e663" class="indexterm-anchor"></a><a id="d16014e667" class="indexterm-anchor"></a><a id="d16014e669" class="indexterm-anchor"></a><code class="codeph">TRACE_LEVEL</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d16014e657 d16014e200 ">
                                 <p>PGA trace level. This controls tracing output written to <code class="codeph">STDERR</code> (the target of the <code class="codeph">LOG_DESTINATION</code> parameter. The value must be an integer from&nbsp;<code class="codeph">0</code> to&nbsp;<code class="codeph">255</code>. 
                                 </p>
                                 <p>The default is&nbsp;<code class="codeph">0</code>, indicating no tracing.
                                 </p>
                                 <p>Any value between <code class="codeph">1</code> and <code class="codeph">255</code> will turn on tracing.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="APPCW261"></a><div class="props_rev_3"><a id="GUID-AFCB48DA-EF85-42A3-A7C7-62E8DA1CD778" name="GUID-AFCB48DA-EF85-42A3-A7C7-62E8DA1CD778"></a><h3 id="APPCW-GUID-AFCB48DA-EF85-42A3-A7C7-62E8DA1CD778" class="sect3">PGA_CAPABILITY Parameter Considerations</h3>
               <div>
                  <p><a id="d16014e734" class="indexterm-anchor"></a>When choosing a setting for the<a id="d16014e741" class="indexterm-anchor"></a> <code class="codeph">PGA_CAPABILITY</code> parameter, take care to ensure that the correct setting is used based on what the RTPs will be doing. 
                  </p>
                  <p>The <a id="d16014e751" class="indexterm-anchor"></a><code class="codeph">READ_ONLY</code> setting should always be used when the <a id="d16014e758" class="indexterm-anchor"></a>RTPs are read-only, that is, when the RTPs perform no database updates. <code class="codeph">READ_ONLY</code> should never be used when the RTPs perform database updates. For example, if the <code class="codeph">READ_ONLY</code> setting is chosen, and if a RTP called by the gateway performs updates to a foreign database, then the <a id="d16014e769" class="indexterm-anchor"></a>Oracle database  does <span class="italic">not</span> provide any integrity protection for those updates. Further, <code class="codeph">READ_ONLY</code> mode allows a gateway transaction to be part of a distributed transaction that might update several other databases. If the gateway calls a RTP that performs updates in this situation and if a failure occurs, then the database updated by the RTP is out of sync with the other databases.
                  </p>
                  <p><a id="d16014e782" class="indexterm-anchor"></a><a id="d16014e786" class="indexterm-anchor"></a>In cases where the RTPs perform updates to foreign databases, there are <a id="d16014e791" class="indexterm-anchor"></a><a id="d16014e797" class="indexterm-anchor"></a>two options for <code class="codeph">PGA_CAPABILITY</code>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">SINGLE_SITE</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">COMMIT_CONFIRM</code></p>
                     </li>
                  </ul>
                  <p>Each of these options provides protection against data integrity problems by permitting  <a id="d16014e818" class="indexterm-anchor"></a><code class="codeph">COMMIT</code> and <a id="d16014e823" class="indexterm-anchor"></a><code class="codeph">ROLLBACK</code> requests to be forwarded to the RTP and by informing the <a id="d16014e828" class="indexterm-anchor"></a>Oracle database  about the distributed update and recovery capabilities of the gateway. The particular option chosen depends on the design of the RTPs and upon the capabilities of the <a id="d16014e831" class="indexterm-anchor"></a>OLTP where they execute. 
                  </p>
                  <p>If the OLTP has LU6.2 <code class="codeph">SYNCLEVEL&nbsp;1 </code>or&nbsp;<code class="codeph">2</code> support, then the <a id="d16014e842" class="indexterm-anchor"></a><code class="codeph">COMMIT_CONFIRM</code> capability provides limited two-phase commit between the <a id="d16014e849" class="indexterm-anchor"></a>Oracle database  and the OLTP, with the restriction that no other <a id="d16014e852" class="indexterm-anchor"></a>commit-confirm site (gateway or Oracle) can be part of the distributed transaction. If it is not possible to use    <code class="codeph">COMMIT_CONFIRM</code>, then the <code class="codeph">SINGLE_SITE</code> capability provides update capability between the Oracle database  and the <a id="d16014e862" class="indexterm-anchor"></a>OLTP, with the restriction that only the OLTP can perform updates, and no updates can occur on the Oracle side.<a id="d16014e865" class="indexterm-anchor"></a></p>
                  <p>Each of the <code class="codeph">PGA_CAPABILITY</code> options for update control imposes specific requirements on the RTP and on the OLTP. For <code class="codeph">COMMIT_CONFIRM</code> capability, these requirements are discussed in detail in Chapter&nbsp;5, "Implementing Commit-Confirm," of the <a href="../appug/implement-appc-commit-confirm-sna-only.html#APPUG500" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a>. Also refer to <a href="configure-appc-gateway-using-sna.html#GUID-4E9B411B-D554-4945-825A-B4316404F7C0">Configuring the OLTP for Commit-Confirm</a><a href="configure-appc-gateway-using-sna.html#GUID-4E9B411B-D554-4945-825A-B4316404F7C0">Configuring the OLTP for Commit-Confirm</a> in this guide. For <code class="codeph">SINGLE_SITE</code> capability, the RTP is responsible for performing the suitable tasks in response to <code class="codeph">COMMIT</code> and <code class="codeph">ROLLBACK</code> requests received from the gateway on behalf of the <a id="d16014e897" class="indexterm-anchor"></a>Oracle database . The gateway uses the <code class="codeph">APPC</code> <code class="codeph">CONFIRM</code> and <code class="codeph">SEND_ERR</code> requests to implement <code class="codeph">COMMIT</code> and <code class="codeph">ROLLBACK</code>, respectively. On receipt of a <code class="codeph">CONFIRM</code> command, the RTP must perform <code class="codeph">COMMIT</code> processing and then respond to the gateway with an <code class="codeph">APPC</code> <code class="codeph">CONFIRMED</code> response. On receipt of a <code class="codeph">SEND_ERR</code> command, the RTP must perform <code class="codeph">ROLLBACK</code> processing.
                  </p>
                  <p>Because the distributed transaction capability of the <a id="d16014e937" class="indexterm-anchor"></a>Oracle database  is affected by the <code class="codeph">PGA_CAPABILITY</code> option used by the gateway, it is desirable to separate inquiry and update applications by using different gateway instances for each. One gateway can be defined with <code class="codeph">PGA_CAPABILITY</code> set to <code class="codeph">READ_ONLY</code> and others with <code class="codeph">PGA_CAPABILITY</code> set to <code class="codeph">SINGLE_SITE</code> or <code class="codeph">COMMIT_CONFIRM</code>.
                  </p>
                  <p>This allows read-only transaction programs to participate in distributed transactions under the control of the Oracle database . For example, data from DB2 can be retrieved through the <code class="codeph">READ_ONLY</code> gateway by an inquiry-only RTP, and can then be used as input to database updates on the Oracle database , all in one Oracle transaction. A <code class="codeph">SINGLE_SITE</code> gateway can be used only for accessing RTPs which perform updates to foreign databases outside the scope of control of the Oracle database . Data can be read from any databases accessible to the Oracle database , and that data can be used to perform updates through the gateway.
                  </p>
                  <p>When it is necessary to update resources on both the Oracle side and the OLTP side, a <code class="codeph">COMMIT_CONFIRM</code> gateway can be used, provided that the OLTP and the RTPs are set up to implement <code class="codeph">COMMIT_CONFIRM</code>.
                  </p>
                  <p>All that is necessary to set up multiple <a id="d16014e977" class="indexterm-anchor"></a>gateway instances is to set up the following for each instance:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>an entry in the <code class="codeph">listener.ora </code><a id="d16014e989" class="indexterm-anchor"></a><a id="d16014e991" class="indexterm-anchor"></a>file defining the <code class="codeph">sid</code> of the gateway instance
                        </p>
                     </li>
                     <li>
                        <p>an entry in the <code class="codeph">tnsnames.ora</code> <a id="d16014e1005" class="indexterm-anchor"></a><a id="d16014e1007" class="indexterm-anchor"></a>file defining an alias to be used to connect to the gateway instance defined in <code class="codeph">listener.ora</code></p>
                     </li>
                     <li>
                        <p>a <a id="d16014e1017" class="indexterm-anchor"></a>database link in the Oracle database  that specifies the alias defined in the <code class="codeph">tnsnames.ora</code> file in its <code class="codeph">USING</code> parameter.
                        </p>
                     </li>
                  </ul>
                  <p>Note that the gateway instances can share one common directory structure and use the same executables.</p>
                  <p>For example, to set up two gateways, <a id="d16014e1030" class="indexterm-anchor"></a><code class="codeph">PGAI</code> and <a id="d16014e1037" class="indexterm-anchor"></a><code class="codeph">PGAU</code> (for inquiry and update use, respectively), the following steps are required:
                  </p>
                  <ol>
                     <li>
                        <p>Define entries in <code class="codeph">listener.ora</code> for two <span class="italic"><code class="codeph">sid</code></span>s, <code class="codeph">PGAI</code> and <code class="codeph">PGAU</code>.
                        </p>
                     </li>
                     <li>
                        <p>Define two aliases in <a id="d16014e1064" class="indexterm-anchor"></a><a id="d16014e1066" class="indexterm-anchor"></a><code class="codeph">tnsnames.ora</code> that connect to the two new <span class="italic"><code class="codeph">sid</code></span>s, <code class="codeph">PGAI</code> and <code class="codeph">PGAU</code>.
                        </p>
                     </li>
                     <li>
                        <p>Define two database links in the <a id="d16014e1086" class="indexterm-anchor"></a>Oracle database , one connecting to <code class="codeph">PGAI</code> and the other connecting to <code class="codeph">PGAU</code>.
                        </p>
                     </li>
                     <li>
                        <p>Finally, create the <a id="d16014e1098" class="indexterm-anchor"></a>initialization files <a id="d16014e1105" class="indexterm-anchor"></a><a id="d16014e1107" class="indexterm-anchor"></a><code class="codeph">initPGAI.ora</code> and<code class="codeph"> initPGAU.ora</code>. 
                        </p>
                        <p>In <code class="codeph">initPGAI.ora</code>, set <code class="codeph">PGA_CAPABILITY</code> to <code class="codeph">READ_ONLY</code>, and in <code class="codeph">initPGAU.ora</code>, set <code class="codeph">PGA_CAPABILITY</code> to <code class="codeph">SINGLE_SITE</code> or <code class="codeph">COMMIT_CONFIRM</code>. Then, use the <code class="codeph">PGAI</code> gateway for inquiry-only transactions, and use the <code class="codeph">PGAU</code> gateway for update transactions.
                        </p>
                        <p>The same steps can be used to set up additional gateway instances.</p>
                     </li>
                  </ol>
               </div>
            </div><a id="APPCW262"></a><div class="props_rev_3"><a id="GUID-F52E3C91-38FE-4935-87B0-89E5B2AAA9FD" name="GUID-F52E3C91-38FE-4935-87B0-89E5B2AAA9FD"></a><h3 id="APPCW-GUID-F52E3C91-38FE-4935-87B0-89E5B2AAA9FD" class="sect3">PGA_CONFIRM Parameter Considerations</h3>
               <div>
                  <p>When deciding upon the setting for the<a id="d16014e1182" class="indexterm-anchor"></a> <code class="codeph">PGA_CONFIRM</code><a id="d16014e1189" class="indexterm-anchor"></a> parameter, it is important to understand the effects of each setting. First, keep in mind that this parameter affects only those conversations running at <code class="codeph">SYNCLEVEL&nbsp;1</code>. The default setting,                  <code class="codeph">PGA_CONFIRM=REJECT</code>, is suitable for most applications. With this setting, the gateway generates an <a id="d16014e1202" class="indexterm-anchor"></a>error if a <code class="codeph">CONFIRM</code> request is received from the remote transaction program. If you have a remote transaction that uses <code class="codeph">CONFIRM</code> to verify that data was received by the gateway, then you must use <code class="codeph">PGA_CONFIRM=ACCEPT</code> to allow the gateway to respond to those incoming <code class="codeph">CONFIRM</code> requests with <code class="codeph">CONFIRMED</code> responses. You must be aware that the gateway sends <code class="codeph">CONFIRM</code> requests to the remote transaction when the Oracle application has issued a <code class="codeph">COMMIT</code> request. In order for the <code class="codeph">COMMIT</code> processing to work correctly, the remote transaction must be written to perform its local commit processing whenever a <code class="codeph">CONFIRM</code> request is received from the gateway, and respond to the gateway with <code class="codeph">CONFIRMED</code> after the commit processing has successfully completed. If an <a id="d16014e1239" class="indexterm-anchor"></a>error occurs during commit processing, then the remote transaction must respond to the gateway with <code class="codeph">SEND_ERR</code> to indicate that the commit failed. 
                  </p>
                  <p>One special case for the use of <code class="codeph">PGA_CONFIRM=ACCEPT</code> is with IMS/TM version&nbsp;7. When using the implied APPC support that is provided by IMS/TM version&nbsp;7, conversations that run at <code class="codeph">SYNCLEVEL&nbsp;1 </code>are handled differently than conversations that run at <code class="codeph">SYNCLEVEL&nbsp;0.</code> IMS/TM automatically generates <code class="codeph">CONFIRM</code> requests after each <code class="codeph">APPC</code> <code class="codeph">SEND</code> when the conversation is at <code class="codeph">SYNCLEVEL 1</code>.<a id="d16014e1271" class="indexterm-anchor"></a> On the gateway side, if <code class="codeph">PGA_CONFIRM=ACCEPT</code> is not specified, then the <code class="codeph">CONFIRM</code> requests sent by IMS/TM result in errors generated by the gateway. Using <code class="codeph">PGA_CONFIRM=ACCEPT</code> alleviates this problem, allowing the gateway to respond to incoming <code class="codeph">CONFIRM</code> requests with <code class="codeph">CONFIRMED</code> responses. The only limitation with running this way is that the implied APPC support provided by IMS does not notify the application when a <code class="codeph">CONFIRM</code> request is received from the gateway. This means that the gateway cannot use <code class="codeph">CONFIRM</code> to implement <code class="codeph">COMMIT</code>, thereby disabling the use of <code class="codeph">COMMIT/ROLLBACK</code> to control updates on the IMS side of the conversation.
                  </p>
               </div>
            </div><a id="APPCW263"></a><div class="props_rev_3"><a id="GUID-B7251BC4-D7B4-4B35-8560-66A602D3FF31" name="GUID-B7251BC4-D7B4-4B35-8560-66A602D3FF31"></a><h3 id="APPCW-GUID-B7251BC4-D7B4-4B35-8560-66A602D3FF31" class="sect3">Sample listener.ora File for a Gateway Using SNA</h3>
               <div><pre class="oac_no_warn" dir="ltr">LISTENER =
  (ADDRESS_LIST =
        (ADDRESS=
          (COMMUNITY= TCP.world)
          (Host = bay)
          (PROTOCOL= TCP)
          (Port= 2621)
        )
        (ADDRESS=
          (COMMUNITY= TCP.world)
          (Host = bay)
          (PROTOCOL= TCP)
          (Port= 2623)
        )
  )
 
SID_LIST_LISTENER =
  (SID_LIST =
    (SID_DESC =
      (SID_NAME = PGA)
      (ORACLE_HOME = C:\oracle\pga\12.2)
      (PROGRAM = pg4asrv)
    )
  )</pre></div>
            </div><a id="APPCW264"></a><div class="props_rev_3"><a id="GUID-396255E1-6B6C-49AE-9D15-A03AA1C73CD5" name="GUID-396255E1-6B6C-49AE-9D15-A03AA1C73CD5"></a><h3 id="APPCW-GUID-396255E1-6B6C-49AE-9D15-A03AA1C73CD5" class="sect3">Sample tnsnames.ora File for a Gateway Using SNA</h3>
               <div><pre class="oac_no_warn" dir="ltr">ORA920 =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = bay.us.example.com)(PORT = 1521))
    )
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = ORA920.bay)
    )
  )
 
PGA =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = bay)(PORT = 2621))
    )
    (CONNECT_DATA =
      (SID = PGA)
    )
    (HS = OK)
  )</pre></div>
            </div>
         </div>
      </article>
   </body>
</html>