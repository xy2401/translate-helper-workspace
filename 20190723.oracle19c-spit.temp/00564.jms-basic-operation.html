<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Oracle Java Message Service Basic Operations</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Advanced Queuing User's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Advanced Queuing User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96511-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="jms-introduction.html" title="Previous" type="text/html">
      <link rel="next" href="jms-point-to-point.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OracleÂ® Database Advanced Queuing">
    <meta name="dcterms.isVersionOf" content="ADQUE">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="jms-introduction.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="jms-point-to-point.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Advanced Queuing User's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Oracle Java Message Service Basic Operations</li>
            </ol>
            <a id="GUID-5A5BF079-B078-46FD-A29E-41192DC459B0" name="GUID-5A5BF079-B078-46FD-A29E-41192DC459B0"></a><a id="ADQUE1200"></a>
            
            <h2 id="ADQUE-GUID-5A5BF079-B078-46FD-A29E-41192DC459B0" class="sect2"><span class="enumeration_chapter">12 </span> Oracle Java Message Service Basic Operations
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The following topics describe the basic operational <a href="glossary.html#GUID-3A98EBD4-296B-4BE8-82AE-5B42D07E9894"><span class="xrefglossterm">Java Message Service</span></a> (JMS) administrative interface to Oracle Database Advanced Queuing (AQ). 
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-8B40F957-13A1-430A-BC95-344AE4E66F55">EXECUTE Privilege on DBMS_AQIN</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-39A4A122-2DED-4CFC-B9F2-7757A2A900F1">Registering a ConnectionFactory</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-46B979D5-6D78-483D-AF29-B1D2DBAF9B19">Unregistering a Queue/Topic ConnectionFactory</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-584FEE3F-7C94-4EC4-8500-128D47BFDA74">Getting a QueueConnectionFactory or TopicConnectionFactory</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-2F381380-8A18-40CB-918B-70544AB610CA">Getting a Queue or Topic in LDAP</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E">Creating a Non-Sharded Queue Table</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-C5773BA3-31DD-4860-B894-579F97C4581D">Creating a Queue</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-225E5EC1-1D99-432D-A031-5959005D953A">Getting a Non-Sharded Queue Table</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-E1BE8E40-4CB2-4366-B161-DCB4F6E62DC0">Granting and Revoking Privileges</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-3F0936CB-2532-4C08-A620-F2054BDD7160">Managing Destinations</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-5916ED2D-BF69-4033-8E5C-1CF00657966A">Propagation Schedules</a></p>
                  </li>
               </ul>
            </div><a id="ADQUE2935"></a><div class="props_rev_3"><a id="GUID-8B40F957-13A1-430A-BC95-344AE4E66F55" name="GUID-8B40F957-13A1-430A-BC95-344AE4E66F55"></a><h3 id="ADQUE-GUID-8B40F957-13A1-430A-BC95-344AE4E66F55" class="sect3"><span class="enumeration_section">12.1 </span>EXECUTE Privilege on DBMS_AQIN
               </h3>
               <div>
                  <p>Users should never directly call methods in the <code class="codeph">DBMS_AQIN</code> package, but they do need the <code class="codeph">EXECUTE</code> privilege on <code class="codeph">DBMS_AQIN</code>. Use the following syntax to accomplish this: 
                  </p><pre class="oac_no_warn" dir="ltr">GRANT EXECUTE ON DBMS_AQIN to <span class="italic">user</span>; </pre></div>
            </div><a id="ADQUE2936"></a><div class="props_rev_3"><a id="GUID-39A4A122-2DED-4CFC-B9F2-7757A2A900F1" name="GUID-39A4A122-2DED-4CFC-B9F2-7757A2A900F1"></a><h3 id="ADQUE-GUID-39A4A122-2DED-4CFC-B9F2-7757A2A900F1" class="sect3"><span class="enumeration_section">12.2 </span>Registering a ConnectionFactory
               </h3>
               <div>
                  <p>You can register a <a href="glossary.html#GUID-BA2DFFB2-5E44-4256-9DDD-D5B2AE0D81B9"><span class="xrefglossterm">ConnectionFactory</span></a> four ways:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC">Registering Through the Database Using JDBC Connection Parameters</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B">Registering Through the Database Using a JDBC URL</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751">Registering Through LDAP Using JDBC Connection Parameters </a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B">Registering Through LDAP Using a JDBC URL</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2938"></a><a id="ADQUE2937"></a><div class="props_rev_3"><a id="GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC" name="GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC"></a><h4 id="ADQUE-GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC" class="sect4"><span class="enumeration_section">12.2.1 </span>Registering Through the Database Using JDBC Connection Parameters
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int registerConnectionFactory(java.sql.Connection connection,
                                            java.lang.String conn_name,
                                            java.lang.String hostname,
                                            java.lang.String oracle_sid,
                                            int portno,
                                            java.lang.String driver,
                                            java.lang.String type)
                                     throws JMSException
</pre><p>This method registers a <code class="codeph">QueueConnectionFactory</code> or TopicConnectionFactory through the database to a <a href="glossary.html#GUID-6BF3485C-E98F-4344-A7DE-64950BCCE160"><span class="xrefglossterm">Lightweight Directory Access Protocol</span></a> (LDAP) server with JDBC connection parameters. This method is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC__GUID-037FD542-5649-4D1F-861C-76675EE958FE">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e329">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e332">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e337" headers="d78385e329 ">
                                       <p><code class="codeph">connection</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e337 d78385e332 ">
                                       <p>JDBC connection used in registration</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e345" headers="d78385e329 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e345 d78385e332 ">
                                       <p>Name of the connection to be registered</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e353" headers="d78385e329 ">
                                       <p><code class="codeph">hostname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e353 d78385e332 ">
                                       <p>Name of the host running Oracle Database Advanced Queuing</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e361" headers="d78385e329 ">
                                       <p><code class="codeph">oracle_sid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e361 d78385e332 ">
                                       <p>Oracle system identifier</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e369" headers="d78385e329 ">
                                       <p><code class="codeph">portno</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e369 d78385e332 ">
                                       <p>Port number</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e377" headers="d78385e329 ">
                                       <p><code class="codeph">driver</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e377 d78385e332 ">
                                       <p>JDBC driver type</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e385" headers="d78385e329 ">
                                       <p><code class="codeph">type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e385 d78385e332 ">
                                       <p>Connection factory type (<code class="codeph">QUEUE</code> or <code class="codeph">TOPIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The database connection passed to <code class="codeph">registerConnectionFactory</code> must be granted <code class="codeph">AQ_ADMINISTRATOR_ROLE</code>. After registration, you can look up the connection factory using <a href="glossary.html#GUID-73476CA0-7AD9-41B9-97E6-7A34F0D4161F"><span class="xrefglossterm">Java Naming and Directory Interface</span></a> (JNDI).
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC__GUID-51558DD1-7D10-4FC6-987A-2FDD2B96C69E">
                        <p class="titleinexample">Example 12-1 Registering Through the Database Using JDBC Connection Parameters</p><pre class="oac_no_warn" dir="ltr">String               url;
java.sql.connection  db_conn;

url = "jdbc:oracle:thin:@sun-123:1521:db1";
db_conn = DriverManager.getConnection(url, "scott", "tiger");
AQjmsFactory.registerConnectionFactory(
   db_conn, "queue_conn1", "sun-123", "db1", 1521, "thin", "queue");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2940"></a><a id="ADQUE2939"></a><div class="props_rev_3"><a id="GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B" name="GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B"></a><h4 id="ADQUE-GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B" class="sect4"><span class="enumeration_section">12.2.2 </span>Registering Through the Database Using a JDBC URL
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int registerConnectionFactory(java.sql.Connection connection,
                                            java.lang.String conn_name,
                                            java.lang.String jdbc_url,
                                            java.util.Properties info,
                                            java.lang.String type)
                                     throws JMSException
</pre><p>This method registers a <code class="codeph">QueueConnectionFactory</code> or TopicConnectionFactory through the database with a JDBC URL to LDAP. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B__GUID-96F5E9A8-166D-4217-8D8A-D6F1A5FDE085">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e507">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e510">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e515" headers="d78385e507 ">
                                       <p><code class="codeph">connection</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e515 d78385e510 ">
                                       <p>JDBC connection used in registration</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e523" headers="d78385e507 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e523 d78385e510 ">
                                       <p>Name of the connection to be registered</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e531" headers="d78385e507 ">
                                       <p><code class="codeph">jdbc_url</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e531 d78385e510 ">
                                       <p>URL to connect to</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e539" headers="d78385e507 ">
                                       <p><code class="codeph">info</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e539 d78385e510 ">
                                       <p>Properties information</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e547" headers="d78385e507 ">
                                       <p><code class="codeph">portno</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e547 d78385e510 ">
                                       <p>Port number</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e555" headers="d78385e507 ">
                                       <p><code class="codeph">type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e555 d78385e510 ">
                                       <p>Connection factory type (<code class="codeph">QUEUE</code> or <code class="codeph">TOPIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><a id="d78385e569" class="indexterm-anchor"></a><a id="d78385e573" class="indexterm-anchor"></a><a id="d78385e577" class="indexterm-anchor"></a>The database connection passed to <code class="codeph">registerConnectionFactory</code> must be granted <code class="codeph">AQ_ADMINISTRATOR_ROLE</code>. After registration, you can look up the connection factory using JNDI.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B__GUID-35985DC7-913A-4774-A20A-E2D41B916EB2">
                        <p class="titleinexample">Example 12-2 Registering Through the Database Using a JDBC URL</p><pre class="oac_no_warn" dir="ltr">String                        url;
java.sql.connection           db_conn;

url = "jdbc:oracle:thin:@sun-123:1521:db1";
db_conn = DriverManager.getConnection(url, "scott", "tiger");
AQjmsFactory.registerConnectionFactory(
   db_conn, "topic_conn1", url, null, "topic");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2942"></a><a id="ADQUE2941"></a><div class="props_rev_3"><a id="GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751" name="GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751"></a><h4 id="ADQUE-GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751" class="sect4"><span class="enumeration_section">12.2.3 </span>Registering Through LDAP Using JDBC Connection Parameters 
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int registerConnectionFactory(java.util.Hashtable env,
                                            java.lang.String conn_name,
                                            java.lang.String hostname,
                                            java.lang.String oracle_sid,
                                            int portno,
                                            java.lang.String driver,
                                            java.lang.String type)
                                     throws JMSException
</pre><p>This method registers a <code class="codeph">QueueConnectionFactory</code> or TopicConnectionFactory through LDAP with JDBC connection parameters to LDAP. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751__GUID-F8836CD9-E623-4FC3-83F0-A60747EE606C">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e682">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e685">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e690" headers="d78385e682 ">
                                       <p><code class="codeph">env</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e690 d78385e685 ">
                                       <p>Environment of LDAP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e698" headers="d78385e682 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e698 d78385e685 ">
                                       <p>Name of the connection to be registered</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e706" headers="d78385e682 ">
                                       <p><code class="codeph">hostname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e706 d78385e685 ">
                                       <p>Name of the host running Oracle Database Advanced Queuing</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e714" headers="d78385e682 ">
                                       <p><code class="codeph">oracle_sid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e714 d78385e685 ">
                                       <p>Oracle system identifier</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e722" headers="d78385e682 ">
                                       <p><code class="codeph">portno</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e722 d78385e685 ">
                                       <p>Port number</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e730" headers="d78385e682 ">
                                       <p><code class="codeph">driver</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e730 d78385e685 ">
                                       <p>JDBC driver type</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e738" headers="d78385e682 ">
                                       <p><code class="codeph">type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e738 d78385e685 ">
                                       <p>Connection factory type (<code class="codeph">QUEUE</code> or <code class="codeph">TOPIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><a id="d78385e752" class="indexterm-anchor"></a><a id="d78385e756" class="indexterm-anchor"></a><a id="d78385e760" class="indexterm-anchor"></a>The hash table passed to <code class="codeph">registerConnectionFactory()</code> must contain all the information to establish a valid connection to the LDAP server. Furthermore, the connection must have write access to the connection factory entries in the LDAP server (which requires the LDAP user to be either the database itself or be granted <code class="codeph">GLOBAL_AQ_USER_ROLE</code>). After registration, look up the connection factory using JNDI.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751__GUID-D0B36527-243B-403D-91CD-7FD936D31C62">
                        <p class="titleinexample">Example 12-3 Registering Through LDAP Using JDBC Connection Parameters</p><pre class="oac_no_warn" dir="ltr">Hashtable            env = new Hashtable(5, 0.75f);
/* the following statements set in hashtable env:
   * service provider package
   * the URL of the ldap server
   * the distinguished name of the database server
   * the authentication method (simple)
   * the LDAP username
   * the LDAP user password
*/
env.put(Context.INITIAL_CONTEXT_FACTORY, "com.sun.jndi.ldap.LdapCtxFactory");
env.put(Context.PROVIDER_URL, "ldap://sun-456:389");
env.put("searchbase", "cn=db1,cn=Oraclecontext,cn=acme,cn=com");
env.put(Context.SECURITY_AUTHENTICATION, "simple");
env.put(Context.SECURITY_PRINCIPAL, "cn=db1aqadmin,cn=acme,cn=com");
env.put(Context.SECURITY_CREDENTIALS, "welcome");

AQjmsFactory.registerConnectionFactory(env, 
                                       "queue_conn1", 
                                       "sun-123",
                                       "db1", 
                                       1521, 
                                       "thin", 
                                       "queue");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2944"></a><a id="ADQUE2943"></a><div class="props_rev_3"><a id="GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B" name="GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B"></a><h4 id="ADQUE-GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B" class="sect4"><span class="enumeration_section">12.2.4 </span>Registering Through LDAP Using a JDBC URL
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int registerConnectionFactory(java.util.Hashtable env,
                                            java.lang.String conn_name,
                                            java.lang.String jdbc_url,
                                            java.util.Properties info,
                                            java.lang.String type)
                                     throws JMSException
</pre><p>This method registers a <code class="codeph">QueueConnectionFactory</code> or TopicConnectionFactory through LDAP with JDBC connection parameters to LDAP. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B__GUID-5030AF3B-7578-4203-AE1F-BFE35ECB2574">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e868">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e871">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e876" headers="d78385e868 ">
                                       <p><code class="codeph">env</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e876 d78385e871 ">
                                       <p>Environment of LDAP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e884" headers="d78385e868 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e884 d78385e871 ">
                                       <p>Name of the connection to be registered</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e892" headers="d78385e868 ">
                                       <p><code class="codeph">jdbc_url</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e892 d78385e871 ">
                                       <p>URL to connect to</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e900" headers="d78385e868 ">
                                       <p>info</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e900 d78385e871 ">
                                       <p>Properties information</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e907" headers="d78385e868 ">
                                       <p><code class="codeph">type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e907 d78385e871 ">
                                       <p>Connection factory type (<code class="codeph">QUEUE</code> or <code class="codeph">TOPIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The hash table passed to <code class="codeph">registerConnectionFactory()</code> must contain all the information to establish a valid connection to the LDAP server. Furthermore, the connection must have write access to the connection factory entries in the LDAP server (which requires the LDAP user to be either the database itself or be granted <code class="codeph">GLOBAL_AQ_USER_ROLE)</code>. After registration, look up the connection factory using JNDI.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B__GUID-B85D2DA7-0D60-4E4E-BB54-C0DF68C3BDE4">
                        <p class="titleinexample">Example 12-4 Registering Through LDAP Using a JDBC URL</p><pre class="oac_no_warn" dir="ltr">String               url;
Hashtable            env = new Hashtable(5, 0.75f);

/* the following statements set in hashtable env:
   * service provider package
   * the URL of the ldap server
   * the distinguished name of the database server
   * the authentication method (simple)
   * the LDAP username
   * the LDAP user password
*/
env.put(Context.INITIAL_CONTEXT_FACTORY, "com.sun.jndi.ldap.LdapCtxFactory");
env.put(Context.PROVIDER_URL, "ldap://sun-456:389");
env.put("searchbase", "cn=db1,cn=Oraclecontext,cn=acme,cn=com");
env.put(Context.SECURITY_AUTHENTICATION, "simple");
env.put(Context.SECURITY_PRINCIPAL, "cn=db1aqadmin,cn=acme,cn=com");
env.put(Context.SECURITY_CREDENTIALS, "welcome");
url = "jdbc:oracle:thin:@sun-123:1521:db1";
AQjmsFactory.registerConnectionFactory(env, "topic_conn1", url, null, "topic");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2945"></a><div class="props_rev_3"><a id="GUID-46B979D5-6D78-483D-AF29-B1D2DBAF9B19" name="GUID-46B979D5-6D78-483D-AF29-B1D2DBAF9B19"></a><h3 id="ADQUE-GUID-46B979D5-6D78-483D-AF29-B1D2DBAF9B19" class="sect3"><span class="enumeration_section">12.3 </span>Unregistering a Queue/Topic ConnectionFactory
               </h3>
               <div>
                  <div class="section">
                     <p>You can unregister a queue/topic <code class="codeph">ConnectionFactory</code> in LDAP two ways:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-54F0C563-919E-4AB6-B852-A9E06614732D">Unregistering Through the Database</a></p>
                        </li>
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B">Unregistering Through LDAP</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADQUE2947"></a><a id="ADQUE2946"></a><div class="props_rev_3"><a id="GUID-54F0C563-919E-4AB6-B852-A9E06614732D" name="GUID-54F0C563-919E-4AB6-B852-A9E06614732D"></a><h4 id="ADQUE-GUID-54F0C563-919E-4AB6-B852-A9E06614732D" class="sect4"><span class="enumeration_section">12.3.1 </span>Unregistering Through the Database
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int unregisterConnectionFactory(java.sql.Connection connection,
                                              java.lang.String conn_name)
                                       throws JMSException
</pre><p>This method unregisters a <code class="codeph">QueueConnectionFactory</code> or <code class="codeph">TopicConnectionFactory</code> in LDAP. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-54F0C563-919E-4AB6-B852-A9E06614732D__GUID-2DC684E6-4461-45EF-8328-1F3B00991342">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1092">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1095">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1100" headers="d78385e1092 ">
                                       <p><code class="codeph">connection</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1100 d78385e1095 ">
                                       <p>JDBC connection used in registration</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1108" headers="d78385e1092 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1108 d78385e1095 ">
                                       <p>Name of the connection to be registered</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The database connection passed to <code class="codeph">unregisterConnectionFactory()</code> must be granted <code class="codeph">AQ_ADMINISTRATOR_ROLE</code>. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-54F0C563-919E-4AB6-B852-A9E06614732D__GUID-83092A18-4582-4898-93CB-A78EE1247E78">
                        <p class="titleinexample">Example 12-5 Unregistering Through the Database</p><pre class="oac_no_warn" dir="ltr">String               url;
java.sql.connection  db_conn;

url = "jdbc:oracle:thin:@sun-123:1521:db1";
db_conn = DriverManager.getConnection(url, "scott", "tiger");
AQjmsFactory.unregisterConnectionFactory(db_conn, "topic_conn1");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2949"></a><a id="ADQUE2948"></a><div class="props_rev_3"><a id="GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B" name="GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B"></a><h4 id="ADQUE-GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B" class="sect4"><span class="enumeration_section">12.3.2 </span>Unregistering Through LDAP
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int unregisterConnectionFactory(java.util.Hashtable env,
                                              java.lang.String conn_name)
                                       throws JMSException
</pre><p>This method unregisters a <code class="codeph">QueueConnectionFactory</code> or TopicConnectionFactory in LDAP. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B__GUID-4B933D40-1058-48C6-AA64-EE836B1E1F47">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1218">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1221">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1226" headers="d78385e1218 ">
                                       <p><code class="codeph">env</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1226 d78385e1221 ">
                                       <p>Environment of LDAP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1234" headers="d78385e1218 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1234 d78385e1221 ">
                                       <p>Name of the connection to be registered</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The hash table passed to <code class="codeph">unregisterConnectionFactory()</code> must contain all the information to establish a valid connection to the LDAP server. Furthermore, the connection must have write access to the connection factory entries in the LDAP server (which requires the LDAP user to be either the database itself or be granted <code class="codeph">GLOBAL_AQ_USER_ROLE</code>).
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B__GUID-21DB945E-8024-4EE5-802B-AF30B03008F5">
                        <p class="titleinexample">Example 12-6 Unregistering Through LDAP</p><pre class="oac_no_warn" dir="ltr">Hashtable            env = new Hashtable(5, 0.75f);

/* the following statements set in hashtable env:
   * service provider package
   * the distinguished name of the database server
   * the authentication method (simple)
   * the LDAP username
   * the LDAP user password
*/
env.put(Context.INITIAL_CONTEXT_FACTORY, "com.sun.jndi.ldap.LdapCtxFactory");
env.put(Context.PROVIDER_URL, "ldap://sun-456:389");
env.put("searchbase", "cn=db1,cn=Oraclecontext,cn=acme,cn=com");
env.put(Context.SECURITY_AUTHENTICATION, "simple");
env.put(Context.SECURITY_PRINCIPAL, "cn=db1aqadmin,cn=acme,cn=com");
env.put(Context.SECURITY_CREDENTIALS, "welcome");
url = "jdbc:oracle:thin:@sun-123:1521:db1";
AQjmsFactory.unregisterConnectionFactory(env, "queue_conn1");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2950"></a><div class="props_rev_3"><a id="GUID-584FEE3F-7C94-4EC4-8500-128D47BFDA74" name="GUID-584FEE3F-7C94-4EC4-8500-128D47BFDA74"></a><h3 id="ADQUE-GUID-584FEE3F-7C94-4EC4-8500-128D47BFDA74" class="sect3"><span class="enumeration_section">12.4 </span>Getting a QueueConnectionFactory or TopicConnectionFactory
               </h3>
               <div>
                  <div class="section">
                     <p>This section contains these topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177">Getting a QueueConnectionFactory with JDBC URL</a></p>
                        </li>
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B">Getting a QueueConnectionFactory with JDBC Connection Parameters</a></p>
                        </li>
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454">Getting a TopicConnectionFactory with JDBC URL</a></p>
                        </li>
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4">Getting a TopicConnectionFactory with JDBC Connection Parameters</a></p>
                        </li>
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-03035D18-B86B-49B1-A204-F985E27AF491">Getting a QueueConnectionFactory or TopicConnectionFactory in LDAP</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADQUE2952"></a><a id="ADQUE2951"></a><div class="props_rev_3"><a id="GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177" name="GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177"></a><h4 id="ADQUE-GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177" class="sect4"><span class="enumeration_section">12.4.1 </span>Getting a QueueConnectionFactory with JDBC URL
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms.QueueConnectionFactory getQueueConnectionFactory(
              java.lang.String jdbc_url,
              java.util.Properties info)
       throws JMSException
</pre><p>This method gets a <code class="codeph">QueueConnectionFactory</code> with JDBC URL. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177__GUID-A8B7D6CF-51C7-4FBD-9B9D-01FAACFA0559">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1413">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1416">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1421" headers="d78385e1413 ">
                                       <p><code class="codeph">jdbc_url</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1421 d78385e1416 ">
                                       <p>URL to connect to</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1429" headers="d78385e1413 ">
                                       <p>info</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1429 d78385e1416 ">
                                       <p>Properties information</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177__GUID-28D6670A-A1C5-46C0-BEE3-C01327AA8E0E">
                        <p class="titleinexample">Example 12-7 Getting a QueueConnectionFactory with JDBC URL</p><pre class="oac_no_warn" dir="ltr"> String      url          = "jdbc:oracle:oci10:internal/oracle"
 Properties  info         = new Properties();
 QueueConnectionFactory   qc_fact;

 info.put("internal_logon", "sysdba");
 qc_fact = AQjmsFactory.getQueueConnectionFactory(url, info);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2954"></a><a id="ADQUE2953"></a><div class="props_rev_3"><a id="GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B" name="GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B"></a><h4 id="ADQUE-GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B" class="sect4"><span class="enumeration_section">12.4.2 </span>Getting a QueueConnectionFactory with JDBC Connection Parameters
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms.QueueConnectionFactory getQueueConnectionFactory(
              java.lang.String hostname,
              java.lang.String oracle_sid,
              int portno,
              java.lang.String driver)
       throws JMSException
</pre><p>This method gets a <code class="codeph">QueueConnectionFactory</code> with JDBC connection parameters. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B__GUID-C147AAA7-BB51-4E87-AE40-9FF1D0F0E161">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1512">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1515">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1520" headers="d78385e1512 ">
                                       <p><code class="codeph">hostname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1520 d78385e1515 ">
                                       <p>Name of the host running Oracle Database Advanced Queuing</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1528" headers="d78385e1512 ">
                                       <p><code class="codeph">oracle_sid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1528 d78385e1515 ">
                                       <p>Oracle system identifier</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1536" headers="d78385e1512 ">
                                       <p><code class="codeph">portno</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1536 d78385e1515 ">
                                       <p>Port number</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1544" headers="d78385e1512 ">
                                       <p><code class="codeph">driver</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1544 d78385e1515 ">
                                       <p>JDBC driver type</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B__GUID-81C1D1C2-0964-48F1-9FA9-659E6F3A65FC">
                        <p class="titleinexample">Example 12-8 Getting a QueueConnectionFactory with JDBC Connection Parameters</p><pre class="oac_no_warn" dir="ltr"> String      host         = "dlsun";
 String      ora_sid      = "rdbms10i"
 String      driver       = "thin";
 int         port         = 5521;
 QueueConnectionFactory   qc_fact;

 qc_fact = AQjmsFactory.getQueueConnectionFactory(host, ora_sid, port, driver);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2956"></a><a id="ADQUE2955"></a><div class="props_rev_3"><a id="GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454" name="GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454"></a><h4 id="ADQUE-GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454" class="sect4"><span class="enumeration_section">12.4.3 </span>Getting a TopicConnectionFactory with JDBC URL
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms.QueueConnectionFactory getQueueConnectionFactory(
              java.lang.String jdbc_url,
              java.util.Properties info)
       throws JMSException
</pre><p>This method gets a <code class="codeph">TopicConnectionFactory</code> with a JDBC URL. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454__GUID-C2D18EE2-0C45-4748-8873-F4D9BC0E1C08">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1631">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1634">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1639" headers="d78385e1631 ">
                                       <p><code class="codeph">jdbc_url</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1639 d78385e1634 ">
                                       <p>URL to connect to</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1647" headers="d78385e1631 ">
                                       <p>info</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1647 d78385e1634 ">
                                       <p>Properties information</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454__GUID-42409D94-EBEC-406E-9692-060589366A17">
                        <p class="titleinexample">Example 12-9 Getting a TopicConnectionFactory with JDBC URL</p><pre class="oac_no_warn" dir="ltr"> String      url          = "jdbc:oracle:oci10:internal/oracle"
 Properties  info         = new Properties();
 TopicConnectionFactory   tc_fact;

 info.put("internal_logon", "sysdba");
 tc_fact = AQjmsFactory.getTopicConnectionFactory(url, info);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2958"></a><a id="ADQUE2957"></a><div class="props_rev_3"><a id="GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4" name="GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4"></a><h4 id="ADQUE-GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4" class="sect4"><span class="enumeration_section">12.4.4 </span>Getting a TopicConnectionFactory with JDBC Connection Parameters
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms.TopicConnectionFactory getTopicConnectionFactory(
              java.lang.String hostname,
              java.lang.String oracle_sid,
              int portno,
              java.lang.String driver)
       throws JMSException
</pre><p>This method gets a <code class="codeph">TopicConnectionFactory</code> with JDBC connection parameters. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4__GUID-A2F81B94-8C2B-4B58-9E0D-9D6DC3BF3922">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1732">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1735">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1740" headers="d78385e1732 ">
                                       <p><code class="codeph">hostname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1740 d78385e1735 ">
                                       <p>Name of the host running Oracle Database Advanced Queuing</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1748" headers="d78385e1732 ">
                                       <p><code class="codeph">oracle_sid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1748 d78385e1735 ">
                                       <p>Oracle system identifier</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1756" headers="d78385e1732 ">
                                       <p><code class="codeph">portno</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1756 d78385e1735 ">
                                       <p>Port number</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1764" headers="d78385e1732 ">
                                       <p><code class="codeph">driver</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1764 d78385e1735 ">
                                       <p>JDBC driver type</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4__GUID-19E0781F-6B26-49B5-90B2-3D3B79488D56">
                        <p class="titleinexample">Example 12-10 Getting a TopicConnectionFactory with JDBC Connection Parameters</p><pre class="oac_no_warn" dir="ltr">String      host         = "dlsun";
String      ora_sid      = "rdbms10i"
String      driver       = "thin";
int         port         = 5521;
TopicConnectionFactory   tc_fact;

tc_fact = AQjmsFactory.getTopicConnectionFactory(host, ora_sid, port, driver);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2960"></a><a id="ADQUE2959"></a><div class="props_rev_3"><a id="GUID-03035D18-B86B-49B1-A204-F985E27AF491" name="GUID-03035D18-B86B-49B1-A204-F985E27AF491"></a><h4 id="ADQUE-GUID-03035D18-B86B-49B1-A204-F985E27AF491" class="sect4"><span class="enumeration_section">12.4.5 </span>Getting a QueueConnectionFactory or TopicConnectionFactory in LDAP
                  </h4>
                  <div>
                     <div class="section">
                        <p>This method gets a <code class="codeph">QueueConnectionFactory</code> or <code class="codeph">TopicConnectionFactory</code> from LDAP.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-03035D18-B86B-49B1-A204-F985E27AF491__GUID-21D83AA0-16E9-4B1E-9E86-4BBBC5C943B0">
                        <p class="titleinexample">Example 12-11 Getting a QueueConnectionFactory or TopicConnectionFactory in LDAP</p><pre class="oac_no_warn" dir="ltr">Hashtable              env = new Hashtable(5, 0.75f);
DirContext             ctx;
queueConnectionFactory qc_fact;

/* the following statements set in hashtable env:
   * service provider package
   * the URL of the ldap server
   * the distinguished name of the database server
   * the authentication method (simple)
   * the LDAP username
   * the LDAP user password
*/
env.put(Context.INITIAL_CONTEXT_FACTORY, "com.sun.jndi.ldap.LdapCtxFactory");
env.put(Context.PROVIDER_URL, "ldap://sun-456:389");
env.put(Context.SECURITY_AUTHENTICATION, "simple");
env.put(Context.SECURITY_PRINCIPAL, "cn=db1aquser1,cn=acme,cn=com");
env.put(Context.SECURITY_CREDENTIALS, "welcome");

ctx = new InitialDirContext(env);
ctx = (DirContext)ctx.lookup("cn=OracleDBConnections,cn=db1,cn=Oraclecontext,cn=acme,cn=com");
qc_fact = (queueConnectionFactory)ctx.lookup("cn=queue_conn1");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2962"></a><a id="ADQUE2961"></a><div class="props_rev_3"><a id="GUID-2F381380-8A18-40CB-918B-70544AB610CA" name="GUID-2F381380-8A18-40CB-918B-70544AB610CA"></a><h3 id="ADQUE-GUID-2F381380-8A18-40CB-918B-70544AB610CA" class="sect3"><span class="enumeration_section">12.5 </span>Getting a Queue or Topic in LDAP
               </h3>
               <div>
                  <div class="section">
                     <p>This method gets a queue or topic from LDAP.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-2F381380-8A18-40CB-918B-70544AB610CA__GUID-F9D198B9-2CC2-41BF-A911-4208E8A46D06">
                     <p class="titleinexample">Example 12-12 Getting a Queue or Topic in LDAP</p><pre class="oac_no_warn" dir="ltr">Hashtable              env = new Hashtable(5, 0.75f);
DirContext             ctx;
topic                  topic_1;

/* the following statements set in hashtable env:
   * service provider package
   * the URL of the ldap server
   * the distinguished name of the database server
   * the authentication method (simple)
   * the LDAP username
   * the LDAP user password
*/
env.put(Context.INITIAL_CONTEXT_FACTORY, "com.sun.jndi.ldap.LdapCtxFactory");
env.put(Context.PROVIDER_URL, "ldap://sun-456:389");
env.put(Context.SECURITY_AUTHENTICATION, "simple");
env.put(Context.SECURITY_PRINCIPAL, "cn=db1aquser1,cn=acme,cn=com");
env.put(Context.SECURITY_CREDENTIALS, "welcome");

ctx = new InitialDirContext(env);
ctx = (DirContext)ctx.lookup("cn=OracleDBQueues,cn=db1,cn=Oraclecontext,cn=acme,cn=com");
topic_1 = (topic)ctx.lookup("cn=topic_1");</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE2964"></a><a id="ADQUE2963"></a><div class="props_rev_3"><a id="GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E" name="GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E"></a><h3 id="ADQUE-GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E" class="sect3"><span class="enumeration_section">12.6 </span>Creating a Non-Sharded Queue Table
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public oracle.AQ.AQQueueTable createQueueTable(
                 java.lang.String owner,
                 java.lang.String name,
                 oracle.AQ.AQQueueTableProperty property)
          throws JMSException
</pre><p>This method creates a <a href="glossary.html#GUID-45894F1F-4871-4A00-9171-2743821BAD3A"><span class="xrefglossterm">queue table</span></a>. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E__GUID-6C77926E-2E43-4E59-96AD-7B18216DF47C">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d78385e2020">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d78385e2023">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78385e2028" headers="d78385e2020 ">
                                    <p><code class="codeph">owner</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d78385e2028 d78385e2023 ">
                                    <p>Queue table owner (<a href="glossary.html#GUID-CBE1EC43-DFD2-4701-B758-DCE2C98C277A"><span class="xrefglossterm">schema</span></a>)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78385e2040" headers="d78385e2020 ">
                                    <p>name</p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d78385e2040 d78385e2023 ">
                                    <p>Queue table name</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78385e2047" headers="d78385e2020 ">
                                    <p>property</p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d78385e2047 d78385e2023 ">
                                    <p>Queue table properties</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>If the queue table is used to hold queues, then the queue table must not be multiconsumer enabled (default). If the queue table is used to hold topics, then the queue table must be multiconsumer enabled.</p>
                     <p><a href="glossary.html#GUID-6A19CAEE-F2E5-435D-B582-2ECB47FD4D06"><span class="xrefglossterm">CLOB</span></a>, <a href="glossary.html#GUID-A62D4CF7-C903-40B3-89DC-0D6E4233D7C9"><span class="xrefglossterm">BLOB</span></a>, and <a href="glossary.html#GUID-A8B4B248-A9A3-462C-A52B-517BCFAEE0ED"><span class="xrefglossterm">BFILE</span></a> objects are valid attributes for an Oracle Database Advanced Queuing <a href="glossary.html#GUID-5A1E34E2-9B71-497D-879B-E355EDCF7108"><span class="xrefglossterm">object type</span></a> load. However, only CLOB and BLOB can be propagated using Oracle Database Advanced Queuing <a href="glossary.html#GUID-DE5B852F-823C-4DC8-B6BB-4825D688A00A"><span class="xrefglossterm">propagation</span></a> in Oracle8<span class="italic">i</span> and after.
                     </p>
                     <div class="infoboxnote" id="GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E__GUID-077D28C3-32A5-4316-938F-7682683C227D">
                        <p class="notep1">Note:</p>
                        <p>Currently JMS Sharded Queues can be created and dropped only through the <code class="codeph">DBMS_AQADM</code> PL/SQL APIs.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E__GUID-810C1B17-91C8-4A7E-B6D3-BECD5C085CBA">
                     <p class="titleinexample">Example 12-13 Creating a Queue Table</p><pre class="oac_no_warn" dir="ltr">QueueSession              q_sess    = null;
AQQueueTable              q_table   = null;
AQQueueTableProperty      qt_prop   = null;

qt_prop = new AQQueueTableProperty("SYS.AQ$_JMS_BYTES_MESSAGE");
q_table = ((AQjmsSession)q_sess).createQueueTable(
    "boluser", "bol_ship_queue_table", qt_prop);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE2967"></a><div class="props_rev_3"><a id="GUID-C5773BA3-31DD-4860-B894-579F97C4581D" name="GUID-C5773BA3-31DD-4860-B894-579F97C4581D"></a><h3 id="ADQUE-GUID-C5773BA3-31DD-4860-B894-579F97C4581D" class="sect3"><span class="enumeration_section">12.7 </span>Creating a Queue
               </h3>
               <div>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E">Creating a Point-to-Point Queue</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3">Creating a Publish/Subscribe Topic</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-FC3FA789-8ECD-4259-A9F5-AD3BB3A6F48E">Creating a Sharded Queue for Point-to-Point Queue and Publish/Subscribe Topic</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2969"></a><a id="ADQUE2968"></a><div class="props_rev_3"><a id="GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E" name="GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E"></a><h4 id="ADQUE-GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E" class="sect4"><span class="enumeration_section">12.7.1 </span>Creating a Point-to-Point Queue
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.Queue createQueue(
             oracle.AQ.AQQueueTable q_table,
             java.lang.String queue_name,
             oracle.jms.AQjmsDestinationProperty dest_property)
      throws JMSException
</pre><p>This method creates a queue in a specified queue table. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E__GUID-29378977-5F78-49AC-84C9-C2490ADD7DDE">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e2237">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e2240">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2245" headers="d78385e2237 ">
                                       <p><code class="codeph">q_table</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2245 d78385e2240 ">
                                       <p>Queue table in which the queue is to be created. The queue table must be single-consumer.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2253" headers="d78385e2237 ">
                                       <p><code class="codeph">queue_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2253 d78385e2240 ">
                                       <p>Name of the queue to be created</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2261" headers="d78385e2237 ">
                                       <p><code class="codeph">dest_property</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2261 d78385e2240 ">
                                       <p>Queue properties</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>This method is specific to Oracle JMS. You cannot use standard Java <code class="codeph">javax.jms.Session</code> objects with it. Instead, you must cast the standard type to the Oracle JMS concrete class <code class="codeph">oracle.jms.AQjmsSession</code>. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E__GUID-90EADA94-A112-4902-B126-86517492638D">
                        <p class="titleinexample">Example 12-14 Creating a Point-to-Point Queue</p><pre class="oac_no_warn" dir="ltr">QueueSession             q_sess;
AQQueueTable             q_table;
AqjmsDestinationProperty dest_prop;
Queue                    queue;

queue = ((AQjmsSession)q_sess).createQueue(q_table, "jms_q1", dest_prop);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2971"></a><a id="ADQUE2972"></a><a id="ADQUE2970"></a><div class="props_rev_3"><a id="GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3" name="GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3"></a><h4 id="ADQUE-GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3" class="sect4"><span class="enumeration_section">12.7.2 </span>Creating a Publish/Subscribe Topic
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.Topic createTopic(
             oracle.AQ.AQQueueTable q_table,
             java.lang.String topic_name,
             oracle.jms.AQjmsDestinationProperty dest_property)
      throws JMSException
</pre><p>This method creates a topic in the <a href="glossary.html#GUID-C1099A1A-C20D-4C9C-AD73-BBF6BC8939B5"><span class="xrefglossterm">publish/subscribe</span></a> model. It has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3__GUID-F76FAA7F-BD5A-418E-AFD6-760CB01B9943">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e2353">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e2356">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2361" headers="d78385e2353 ">
                                       <p><code class="codeph">q_table</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2361 d78385e2356 ">
                                       <p>Queue table in which the queue is to be created. The queue table must be multiconsumer.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2369" headers="d78385e2353 ">
                                       <p><code class="codeph">queue_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2369 d78385e2356 ">
                                       <p>Name of the queue to be created</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2377" headers="d78385e2353 ">
                                       <p><code class="codeph">dest_property</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2377 d78385e2356 ">
                                       <p>Queue properties</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>This method is specific to Oracle JMS. You cannot use standard Java <code class="codeph">javax.jms.Session</code> objects with it. Instead, you must cast the standard type to the Oracle JMS concrete class <code class="codeph">oracle.jms.AQjmsSession</code>. 
                        </p>
                        <p>In <a href="jms-basic-operation.html#GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3__CHDIGCAE">Example 12-16</a>, if an order cannot be filled because of insufficient inventory, then the transaction processing the order is terminated. The <code class="codeph">bookedorders</code> topic is set up with <code class="codeph">max_retries</code> = 4 and <code class="codeph">retry_delay</code> = 12 hours.Thus, if an order is not filled up in two days, then it is moved to an exception queue.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3__GUID-EAD1FE4F-058B-493A-8C39-5FC4FB484189">
                        <p class="titleinexample">Example 12-15 Creating a Publish/Subscribe Topic</p><pre class="oac_no_warn" dir="ltr">TopicSession             t_sess;
AQQueueTable             q_table;
AqjmsDestinationProperty dest_prop;
Topic                    topic;

topic = ((AQjmsSessa)t_sess).createTopic(q_table, "jms_t1", dest_prop);
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3__CHDIGCAE">
                        <p class="titleinexample">Example 12-16 Specifying Max Retries and Max Delays in Messages</p><pre class="oac_no_warn" dir="ltr">public BolOrder process_booked_order(TopicSession jms_session)
  {
    Topic            topic;
    TopicSubscriber  tsubs;
    ObjectMessage    obj_message;
    BolCustomer      customer;
    BolOrder         booked_order = null;
    String           country;
    int              i = 0;

    try
    {
      /* get a handle to the OE_bookedorders_topic */
      topic = ((AQjmsSession)jms_session).getTopic("WS",
                                                   "WS_bookedorders_topic");

      /* Create local subscriber - to track messages for Western Region  */
      tsubs = jms_session.createDurableSubscriber(topic, "SUBS1",
                                       "Region = 'Western' ",
                                                   false);

       /* wait for a message to show up in the topic */
       obj_message = (ObjectMessage)tsubs.receive(10);

       booked_order = (BolOrder)obj_message.getObject();

       customer = booked_order.getCustomer();
       country    = customer.getCountry();

       if (country == "US")
       {
          jms_session.commit();
       }
       else
       {
          jms_session.rollback();
          booked_order = null;
       }
    }catch (JMSException ex)
    { System.out.println("Exception " + ex) ;}

     return booked_order;
   }</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-FC3FA789-8ECD-4259-A9F5-AD3BB3A6F48E" name="GUID-FC3FA789-8ECD-4259-A9F5-AD3BB3A6F48E"></a><h4 id="ADQUE-GUID-FC3FA789-8ECD-4259-A9F5-AD3BB3A6F48E" class="sect4"><span class="enumeration_section">12.7.3 </span>Creating a Sharded Queue for Point-to-Point Queue and Publish/Subscribe Topic
                  </h4>
                  <div>
                     <div class="section">
                        <p>AQ JMS has defined a new APIs to create and drop sharded queues. There is no alter queue API in JMS. The signatures are as follows:</p><pre class="oac_no_warn" dir="ltr">    /**
     * Create a JMS sharded queue. It also internally creates the related queue
     * objects (table, indexes) based on this name.
     *
     * @param queueName name of the queue to be created, format is <span class="italic">schema</span>.<span class="italic">queueName</span>
     *        (where the <span class="italic">schema</span>. is optional
     * @param isMultipleConsumer flag to indicate whether the queue is a
     *        multi-consumer or single-consumer queue
     * @return javax.jms.Destination
     * @throws JMSException if the queue could not be created
     */
    public synchronized javax.jms.Destination createJMSShardedQueue(String queueName,
            boolean isMultipleConsumer) throws JMSException {
        return createJMSShardedQueue(queueName, isMultipleConsumer, null, 0, null);
    }</pre><pre class="oac_no_warn" dir="ltr">
    /**
     * Create a JMS sharded queue. It also internally creates the related queue
     * objects (table, indexes) based on this name.
     *
     * @param queueName name of the queue to be created, format is <span class="italic">schema</span>.<span class="italic">queueName</span>
     *        (where the <span class="italic">schema</span>. is optional
     * @param isMultipleConsumer flag to indicate whether the queue is a
     *        multi-consumer or single-consumer queue
     * @param storageClause additional storage clause
     * @param maxRetries retry count before skip the message while dequeue
     * @param comment comment for the queue
     * @return javax.jms.Destination
     * @throws JMSException if the queue could not be created 
*/
public Destination createJMSShardedQueue(java.lang.String queueName,
                                         boolean isMultipleConsumer,
                                         java.lang.String storageClause,
                                         int maxRetries,
                                         java.lang.String comment)
                                  throws JMSException</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE2966"></a><a id="ADQUE2965"></a><div class="props_rev_3"><a id="GUID-225E5EC1-1D99-432D-A031-5959005D953A" name="GUID-225E5EC1-1D99-432D-A031-5959005D953A"></a><h3 id="ADQUE-GUID-225E5EC1-1D99-432D-A031-5959005D953A" class="sect3"><span class="enumeration_section">12.8 </span>Getting a Non-Sharded Queue Table
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public oracle.AQ.AQQueueTable getQueueTable(java.lang.String owner,
                                            java.lang.String name)
                                     throws JMSException
</pre><p>This method gets a queue table for a non-sharded queue. It has the following parameters:</p>
                     <div class="tblformal" id="GUID-225E5EC1-1D99-432D-A031-5959005D953A__GUID-F9E22AEA-2E6B-4F10-A39C-6C40DBB860A2">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d78385e2568">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d78385e2571">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78385e2576" headers="d78385e2568 ">
                                    <p><code class="codeph">owner</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d78385e2576 d78385e2571 ">
                                    <p>Queue table owner (<a href="glossary.html#GUID-CBE1EC43-DFD2-4701-B758-DCE2C98C277A"><span class="xrefglossterm">schema</span></a>)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78385e2588" headers="d78385e2568 ">
                                    <p>name</p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d78385e2588 d78385e2571 ">
                                    <p>Queue table name</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>If the caller that opened the connection is not the owner of the queue table, then the caller must have Oracle Database Advanced Queuing <a href="glossary.html#GUID-B21E60F7-4BFA-42A2-9A8F-B781C2A55ED9"><span class="xrefglossterm">enqueue</span></a>/<a href="glossary.html#GUID-BC8D60E8-953A-4C6C-8163-F7AE187B768B"><span class="xrefglossterm">dequeue</span></a> privileges on queues/topics in the queue table. Otherwise the queue table is not returned.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-225E5EC1-1D99-432D-A031-5959005D953A__GUID-8EC710C3-4DA7-48EF-AC2B-8ED34FCE599B">
                     <p class="titleinexample">Example 12-17 Getting a Queue Table</p><pre class="oac_no_warn" dir="ltr">QueueSession              q_sess;
AQQueueTable              q_table;

q_table = ((AQjmsSession)q_sess).getQueueTable(
   "boluser", "bol_ship_queue_table");</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE2973"></a><div class="props_rev_3"><a id="GUID-E1BE8E40-4CB2-4366-B161-DCB4F6E62DC0" name="GUID-E1BE8E40-4CB2-4366-B161-DCB4F6E62DC0"></a><h3 id="ADQUE-GUID-E1BE8E40-4CB2-4366-B161-DCB4F6E62DC0" class="sect3"><span class="enumeration_section">12.9 </span>Granting and Revoking Privileges
               </h3>
               <div>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D">Granting Oracle Database Advanced Queuing System Privileges</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1">Revoking Oracle Database Advanced Queuing System Privileges</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A">Granting Publish/Subscribe Topic Privileges</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166">Revoking Publish/Subscribe Topic Privileges</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-FDD257B4-ACBA-43E7-940C-E515F6946081">Granting Point-to-Point Queue Privileges</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-CF07D682-06AF-4F6D-958C-81415605E540">Revoking Point-to-Point Queue Privileges</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2975"></a><a id="ADQUE2974"></a><div class="props_rev_3"><a id="GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D" name="GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D"></a><h4 id="ADQUE-GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D" class="sect4"><span class="enumeration_section">12.9.1 </span>Granting Oracle Database Advanced Queuing System Privileges
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void grantSystemPrivilege(java.lang.String privilege,
                                 java.lang.String grantee,
                                 boolean admin_option)
                          throws JMSException
</pre><p>This method grants Oracle Database Advanced Queuing system privileges to a user or role.</p>
                        <div class="tblformal" id="GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D__GUID-B67A7907-7484-4B4C-8235-4FE9498682F3">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e2769">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e2772">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2777" headers="d78385e2769 ">
                                       <p><code class="codeph">privilege</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2777 d78385e2772 ">
                                       <p><code class="codeph">ENQUEUE_ANY</code>, <code class="codeph">DEQUEUE_ANY</code> or <code class="codeph">MANAGE_ANY</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2792" headers="d78385e2769 ">
                                       <p><code class="codeph">grantee</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2792 d78385e2772 ">
                                       <p>Grantee (user, role, or <code class="codeph">PUBLIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2803" headers="d78385e2769 ">
                                       <p><code class="codeph">admin_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2803 d78385e2772 ">
                                       <p>If this is set to true, then the grantee is allowed to use this procedure to grant the system privilege to other users or roles</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Initially only <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> can use this procedure successfully. Users granted the <code class="codeph">ENQUEUE_ANY</code> privilege are allowed to enqueue messages to any queues in the database. Users granted the <code class="codeph">DEQUEUE_ANY</code> privilege are allowed to dequeue messages from any queues in the database. Users granted the <code class="codeph">MANAGE_ANY</code> privilege are allowed to run <code class="codeph">DBMS_AQADM</code> calls on any schemas in the database.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D__GUID-BF561370-2569-40A1-AAC1-AD3414CFAE66">
                        <p class="titleinexample">Example 12-18 Granting Oracle Database Advanced Queuing System Privileges</p><pre class="oac_no_warn" dir="ltr">TopicSession             t_sess;

((AQjmsSession)t_sess).grantSystemPrivilege("ENQUEUE_ANY", "scott", false);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2977"></a><a id="ADQUE2976"></a><div class="props_rev_3"><a id="GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1" name="GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1"></a><h4 id="ADQUE-GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1" class="sect4"><span class="enumeration_section">12.9.2 </span>Revoking Oracle Database Advanced Queuing System Privileges
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void revokeSystemPrivilege(java.lang.String privilege,
                                  java.lang.String grantee)
                           throws JMSException
</pre><p>This method revokes Oracle Database Advanced Queuing system privileges from a user or role. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1__GUID-41E5FE8D-1357-4D5B-A3B1-384834A69DA9">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e2919">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e2922">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2927" headers="d78385e2919 ">
                                       <p><code class="codeph">privilege</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2927 d78385e2922 ">
                                       <p><code class="codeph">ENQUEUE_ANY</code>, <code class="codeph">DEQUEUE_ANY</code> or <code class="codeph">MANAGE_ANY</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2942" headers="d78385e2919 ">
                                       <p><code class="codeph">grantee</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2942 d78385e2922 ">
                                       <p>Grantee (user, role, or <code class="codeph">PUBLIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Users granted the <code class="codeph">ENQUEUE_ANY</code> privilege are allowed to enqueue messages to any queues in the database. Users granted the <code class="codeph">DEQUEUE_ANY</code> privilege are allowed to dequeue messages from any queues in the database. Users granted the <code class="codeph">MANAGE_ANY</code> privilege are allowed to run <code class="codeph">DBMS_AQADM</code> calls on any schemas in the database.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1__GUID-4ADD89C9-6599-4B6D-BFFF-7E614D2B9FA0">
                        <p class="titleinexample">Example 12-19 Revoking Oracle Database Advanced Queuing System Privileges</p><pre class="oac_no_warn" dir="ltr">TopicSession             t_sess;

((AQjmsSession)t_sess).revokeSystemPrivilege("ENQUEUE_ANY", "scott");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2979"></a><a id="ADQUE2978"></a><div class="props_rev_3"><a id="GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A" name="GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A"></a><h4 id="ADQUE-GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A" class="sect4"><span class="enumeration_section">12.9.3 </span>Granting Publish/Subscribe Topic Privileges
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void grantTopicPrivilege(javax.jms.Session session,
                                java.lang.String privilege,
                                java.lang.String grantee,
                                boolean grant_option)
                         throws JMSException
</pre><p>This method grants a topic privilege in the publish/subscribe model. Initially only the queue table owner can use this procedure to grant privileges on the topic. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A__GUID-BAA7C31A-D222-402C-88F0-F74D686737A3">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3045">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3048">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3053" headers="d78385e3045 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3053 d78385e3048 ">
                                       <p><a href="glossary.html#GUID-F7331CE7-BF82-4FA0-81B3-42D454068F03"><span class="xrefglossterm">JMS session</span></a></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3063" headers="d78385e3045 ">
                                       <p><code class="codeph">privilege</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3063 d78385e3048 ">
                                       <p><code class="codeph">ENQUEUE</code>, <code class="codeph">DEQUEUE,</code> or <code class="codeph">ALL</code> (<code class="codeph">ALL</code> means both.)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3082" headers="d78385e3045 ">
                                       <p><code class="codeph">grantee</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3082 d78385e3048 ">
                                       <p>Grantee (user, role, or <code class="codeph">PUBLIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3093" headers="d78385e3045 ">
                                       <p><code class="codeph">grant_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3093 d78385e3048 ">
                                       <p>If this is set to true, then the grantee is allowed to use this procedure to grant the system privilege to other users or roles</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A__GUID-FE472CD9-F2B8-4C42-A692-6C1FBEAF4DE8">
                        <p class="titleinexample">Example 12-20 Granting Publish/Subscribe Topic Privileges</p><pre class="oac_no_warn" dir="ltr">TopicSession             t_sess;
Topic                    topic;

((AQjmsDestination)topic).grantTopicPrivilege(
   t_sess, "ENQUEUE", "scott", false);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2981"></a><a id="ADQUE2980"></a><div class="props_rev_3"><a id="GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166" name="GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166"></a><h4 id="ADQUE-GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166" class="sect4"><span class="enumeration_section">12.9.4 </span>Revoking Publish/Subscribe Topic Privileges
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void revokeTopicPrivilege(javax.jms.Session session,
                                 java.lang.String privilege,
                                 java.lang.String grantee)
                          throws JMSException
</pre><p>This method revokes a topic privilege in the publish/subscribe model. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166__GUID-69BAAB69-58DE-4EBF-B82A-F219A9BCE61F">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3174">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3177">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3182" headers="d78385e3174 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3182 d78385e3177 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3190" headers="d78385e3174 ">
                                       <p><code class="codeph">privilege</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3190 d78385e3177 ">
                                       <p><code class="codeph">ENQUEUE</code>, <code class="codeph">DEQUEUE,</code> or <code class="codeph">ALL</code> (<code class="codeph">ALL</code> means both.)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3209" headers="d78385e3174 ">
                                       <p><code class="codeph">grantee</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3209 d78385e3177 ">
                                       <p>Revoked grantee (user, role, or <code class="codeph">PUBLIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166__GUID-0342E667-71DD-4383-80C8-8D2155622DBB">
                        <p class="titleinexample">Example 12-21 Revoking Publish/Subscribe Topic Privileges</p><pre class="oac_no_warn" dir="ltr">TopicSession             t_sess;
Topic                    topic;

((AQjmsDestination)topic).revokeTopicPrivilege(t_sess, "ENQUEUE", "scott");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2983"></a><a id="ADQUE2982"></a><div class="props_rev_3"><a id="GUID-FDD257B4-ACBA-43E7-940C-E515F6946081" name="GUID-FDD257B4-ACBA-43E7-940C-E515F6946081"></a><h4 id="ADQUE-GUID-FDD257B4-ACBA-43E7-940C-E515F6946081" class="sect4"><span class="enumeration_section">12.9.5 </span>Granting Point-to-Point Queue Privileges
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void grantQueuePrivilege(javax.jms.Session session,
                                java.lang.String privilege,
                                java.lang.String grantee,
                                boolean grant_option)
                         throws JMSException
</pre><p>This method grants a queue privilege in the point-to-point model. Initially only the queue table owner can use this procedure to grant privileges on the queue. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-FDD257B4-ACBA-43E7-940C-E515F6946081__GUID-D14E7410-DE6C-4CFD-8E9F-D903372839FF">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3301">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3304">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3309" headers="d78385e3301 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3309 d78385e3304 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3317" headers="d78385e3301 ">
                                       <p><code class="codeph">privilege</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3317 d78385e3304 ">
                                       <p><code class="codeph">ENQUEUE</code>, <code class="codeph">DEQUEUE,</code> or <code class="codeph">ALL</code> (<code class="codeph">ALL</code> means both.)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3336" headers="d78385e3301 ">
                                       <p><code class="codeph">grantee</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3336 d78385e3304 ">
                                       <p>Grantee (user, role, or <code class="codeph">PUBLIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3347" headers="d78385e3301 ">
                                       <p><code class="codeph">grant_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3347 d78385e3304 ">
                                       <p>If this is set to true, then the grantee is allowed to use this procedure to grant the system privilege to other users or roles</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-FDD257B4-ACBA-43E7-940C-E515F6946081__GUID-D46FDB5E-FFDB-4B99-8634-84F67109B78B">
                        <p class="titleinexample">Example 12-22 Granting Point-to-Point Queue Privileges</p><pre class="oac_no_warn" dir="ltr">QueueSession             q_sess;
Queue                    queue;

((AQjmsDestination)queue).grantQueuePrivilege(
   q_sess, "ENQUEUE", "scott", false);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2985"></a><a id="ADQUE2984"></a><div class="props_rev_3"><a id="GUID-CF07D682-06AF-4F6D-958C-81415605E540" name="GUID-CF07D682-06AF-4F6D-958C-81415605E540"></a><h4 id="ADQUE-GUID-CF07D682-06AF-4F6D-958C-81415605E540" class="sect4"><span class="enumeration_section">12.9.6 </span>Revoking Point-to-Point Queue Privileges
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void revokeQueuePrivilege(javax.jms.Session session,
                                 java.lang.String privilege,
                                 java.lang.String grantee)
                          throws JMSException
</pre><p>This method revokes queue privileges in the point-to-point model. Initially only the queue table owner can use this procedure to grant privileges on the queue. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-CF07D682-06AF-4F6D-958C-81415605E540__GUID-A2A791EE-1D96-4E70-B604-60A2647DF74A">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3437">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3440">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3445" headers="d78385e3437 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3445 d78385e3440 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3453" headers="d78385e3437 ">
                                       <p><code class="codeph">privilege</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3453 d78385e3440 ">
                                       <p><code class="codeph">ENQUEUE</code>, <code class="codeph">DEQUEUE,</code> or <code class="codeph">ALL</code> (<code class="codeph">ALL</code> means both.)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3472" headers="d78385e3437 ">
                                       <p><code class="codeph">grantee</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3472 d78385e3440 ">
                                       <p>Revoked grantee (user, role, or <code class="codeph">PUBLIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>To revoke a privilege, the revoker must be the original grantor of the privilege. Privileges propagated through the <code class="codeph">GRANT</code> option are revoked if the grantor privilege is also revoked. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-CF07D682-06AF-4F6D-958C-81415605E540__GUID-B1E470C3-D99A-468F-A117-4499CDC1F79A">
                        <p class="titleinexample">Example 12-23 Revoking Point-to-Point Queue Privileges</p><pre class="oac_no_warn" dir="ltr">QueueSession             q_sess;
Queue                    queue;

((AQjmsDestination)queue).revokeQueuePrivilege(q_sess, "ENQUEUE", "scott");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2986"></a><div class="props_rev_3"><a id="GUID-3F0936CB-2532-4C08-A620-F2054BDD7160" name="GUID-3F0936CB-2532-4C08-A620-F2054BDD7160"></a><h3 id="ADQUE-GUID-3F0936CB-2532-4C08-A620-F2054BDD7160" class="sect3"><span class="enumeration_section">12.10 </span>Managing Destinations
               </h3>
               <div>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-671472A1-A13F-4BEA-BCDF-F336838800B8">Starting a Destination</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE">Stopping a Destination</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB">Altering a Destination </a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9">Dropping a Destination</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-3F0936CB-2532-4C08-A620-F2054BDD7160__GUID-3DA62304-F8B9-4308-BF74-E59082BB3F98">
                     <p class="notep1">Note:</p>
                     <p>Currently JMS Sharded Queues can be managed only through the <code class="codeph">DBMS_AQADM</code> PL/SQL APIs.
                     </p>
                  </div>
               </div><a id="ADQUE2988"></a><a id="ADQUE2987"></a><div class="props_rev_3"><a id="GUID-671472A1-A13F-4BEA-BCDF-F336838800B8" name="GUID-671472A1-A13F-4BEA-BCDF-F336838800B8"></a><h4 id="ADQUE-GUID-671472A1-A13F-4BEA-BCDF-F336838800B8" class="sect4"><span class="enumeration_section">12.10.1 </span>Starting a Destination
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void start(javax.jms.Session session,
                  boolean enqueue,
                  boolean dequeue)
           throws JMSException
</pre><p>This method starts a destination. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-671472A1-A13F-4BEA-BCDF-F336838800B8__GUID-A663B8CF-903B-4143-A605-91F1807DF963">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3633">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3636">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3641" headers="d78385e3633 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3641 d78385e3636 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3649" headers="d78385e3633 ">
                                       <p><code class="codeph">enqueue</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3649 d78385e3636 ">
                                       <p>If set to <code class="codeph">TRUE</code>, then enqueue is enabled
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3660" headers="d78385e3633 ">
                                       <p>dequeue</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3660 d78385e3636 ">
                                       <p>If set to <code class="codeph">TRUE</code>, then dequeue is enabled
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-671472A1-A13F-4BEA-BCDF-F336838800B8__GUID-8851156D-C798-4FC2-98BB-4630875D8BA2">
                        <p class="titleinexample">Example 12-24 Starting a Destination</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess;
QueueSession q_sess;
Topic        topic;
Queue        queue;

(AQjmsDestination)topic.start(t_sess, true, true);
(AQjmsDestination)queue.start(q_sess, true, true);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2990"></a><a id="ADQUE2989"></a><div class="props_rev_3"><a id="GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE" name="GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE"></a><h4 id="ADQUE-GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE" class="sect4"><span class="enumeration_section">12.10.2 </span>Stopping a Destination
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void stop(javax.jms.Session session,
                 boolean enqueue,
                 boolean dequeue,
                 boolean wait)
          throws JMSException
</pre><p>This method stops a destination. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE__GUID-1568D617-184D-4812-8322-CD2A7E674DE9">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3737">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3740">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3745" headers="d78385e3737 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3745 d78385e3740 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3753" headers="d78385e3737 ">
                                       <p><code class="codeph">enqueue</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3753 d78385e3740 ">
                                       <p>If set to <code class="codeph">TRUE</code>, then enqueue is disabled
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3764" headers="d78385e3737 ">
                                       <p>dequeue</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3764 d78385e3740 ">
                                       <p>If set to <code class="codeph">TRUE</code>, then dequeue is disabled
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3774" headers="d78385e3737 ">
                                       <p><code class="codeph">wait</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3774 d78385e3740 ">
                                       <p>If set to true, then pending transactions on the queue/topic are allowed to complete before the destination is stopped</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE__GUID-DD6C8480-734F-452F-AC28-2A6F8646077F">
                        <p class="titleinexample">Example 12-25 Stopping a Destination</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess;
Topic        topic;

((AQjmsDestination)topic).stop(t_sess, true, false);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2992"></a><a id="ADQUE2991"></a><div class="props_rev_3"><a id="GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB" name="GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB"></a><h4 id="ADQUE-GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB" class="sect4"><span class="enumeration_section">12.10.3 </span>Altering a Destination 
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void alter(javax.jms.Session session,
                  oracle.jms.AQjmsDestinationProperty dest_property)
           throws JMSException
</pre><p>This method alters a destination. It has the following properties:</p>
                        <div class="tblformal" id="GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB__GUID-01E065BC-89A2-4190-91CD-375F149E35E7">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3850">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3853">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3858" headers="d78385e3850 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3858 d78385e3853 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3866" headers="d78385e3850 ">
                                       <p>dest_property</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3866 d78385e3853 ">
                                       <p>New properties of the queue or topic</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB__GUID-DEB9C472-FDA6-4C50-8D95-6E41CFD26797">
                        <p class="titleinexample">Example 12-26 Altering a Destination</p><pre class="oac_no_warn" dir="ltr">QueueSession q_sess;
Queue        queue;
TopicSession t_sess;
Topic        topic;
AQjmsDestionationProperty dest_prop1, dest_prop2;

((AQjmsDestination)queue).alter(dest_prop1);
((AQjmsDestination)topic).alter(dest_prop2);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2994"></a><a id="ADQUE2993"></a><div class="props_rev_3"><a id="GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9" name="GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9"></a><h4 id="ADQUE-GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9" class="sect4"><span class="enumeration_section">12.10.4 </span>Dropping a Destination
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void drop(javax.jms.Session session)
          throws JMSException
</pre><p>This method drops a destination. It has the following parameter:</p>
                        <div class="tblformal" id="GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9__GUID-7BA5199B-C1F6-4012-8A35-F466FC019EFF">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3940">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3943">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3948" headers="d78385e3940 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3948 d78385e3943 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9__GUID-5DAF65BD-69B4-40A3-8C9A-1C50BE0CEB55">
                        <p class="titleinexample">Example 12-27 Dropping a Destination</p><pre class="oac_no_warn" dir="ltr">QueueSession q_sess;
Queue        queue;
TopicSession t_sess;
Topic        topic;

((AQjmsDestionation)queue).drop(q_sess);
((AQjmsDestionation)topic).drop(t_sess);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2995"></a><div class="props_rev_3"><a id="GUID-5916ED2D-BF69-4033-8E5C-1CF00657966A" name="GUID-5916ED2D-BF69-4033-8E5C-1CF00657966A"></a><h3 id="ADQUE-GUID-5916ED2D-BF69-4033-8E5C-1CF00657966A" class="sect3"><span class="enumeration_section">12.11 </span>Propagation Schedules
               </h3>
               <div>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-6AE9BA1A-2413-4656-855D-62470AD0328D">Scheduling a Propagation</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-D66614E3-6291-4C23-B60C-5D150AE769E3">Enabling a Propagation Schedule</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7">Altering a Propagation Schedule</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1">Disabling a Propagation Schedule</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-2CB43510-0940-4866-8F24-87DF05C01D2C">Unscheduling a Propagation</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-5916ED2D-BF69-4033-8E5C-1CF00657966A__GUID-55963588-65F5-4B96-AFE5-7C8F43F9BEA2">
                     <p class="notep1">Note:</p>
                     <p>JMS Sharded Queues are currently managed only through the <code class="codeph">DBMS_AQADM</code> PL/SQL APIs and do not support propagation.
                     </p>
                  </div>
               </div><a id="ADQUE2997"></a><a id="ADQUE2996"></a><div class="props_rev_3"><a id="GUID-6AE9BA1A-2413-4656-855D-62470AD0328D" name="GUID-6AE9BA1A-2413-4656-855D-62470AD0328D"></a><h4 id="ADQUE-GUID-6AE9BA1A-2413-4656-855D-62470AD0328D" class="sect4"><span class="enumeration_section">12.11.1 </span>Scheduling a Propagation
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void schedulePropagation(javax.jms.Session session,
                                java.lang.String destination,
                                java.util.Date start_time,
                                java.lang.Double duration,
                                java.lang.String next_time,
                                java.lang.Double latency)
                         throws JMSException
</pre><p>This method schedules a propagation. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-6AE9BA1A-2413-4656-855D-62470AD0328D__GUID-EDB18AF0-CF3F-4100-8798-5F6FAC51316C">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e4118">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e4121">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4126" headers="d78385e4118 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4126 d78385e4121 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4134" headers="d78385e4118 ">
                                       <p><code class="codeph">destination</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4134 d78385e4121 ">
                                       <p>Database link of the remote database for which propagation is being scheduled. A null string means that propagation is scheduled for all subscribers in the database of the topic.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4142" headers="d78385e4118 ">
                                       <p><code class="codeph">start_time</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4142 d78385e4121 ">
                                       <p>Time propagation starts</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4150" headers="d78385e4118 ">
                                       <p><code class="codeph">duration</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4150 d78385e4121 ">
                                       <p>Duration of propagation</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4158" headers="d78385e4118 ">
                                       <p><code class="codeph">next_time</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4158 d78385e4121 ">
                                       <p>Next time propagation starts</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4166" headers="d78385e4118 ">
                                       <p><code class="codeph">latency</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4166 d78385e4121 ">
                                       <p>Latency in seconds that can be tolerated. Latency is the difference between the time a message was enqueued and the time it was propagated.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>If a <a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">message</span></a> has multiple recipients at the same destination in either the same or different queues, then it is propagated to all of them at the same time. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6AE9BA1A-2413-4656-855D-62470AD0328D__GUID-8CD6BDE0-EF59-44C7-9F29-128452AA59C2">
                        <p class="titleinexample">Example 12-28 Scheduling a Propagation</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess;
Topic        topic;

((AQjmsDestination)topic).schedulePropagation(
   t_sess, null, null, null, null, new Double(0));</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2999"></a><a id="ADQUE2998"></a><div class="props_rev_3"><a id="GUID-D66614E3-6291-4C23-B60C-5D150AE769E3" name="GUID-D66614E3-6291-4C23-B60C-5D150AE769E3"></a><h4 id="ADQUE-GUID-D66614E3-6291-4C23-B60C-5D150AE769E3" class="sect4"><span class="enumeration_section">12.11.2 </span>Enabling a Propagation Schedule
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void enablePropagationSchedule(javax.jms.Session session,
                                      java.lang.String destination)
                               throws JMSException
</pre><p>This method enables a propagation schedule. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-D66614E3-6291-4C23-B60C-5D150AE769E3__GUID-02935B7E-707F-4F5E-AEB2-71FBAE0E15A1">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e4253">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e4256">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4261" headers="d78385e4253 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4261 d78385e4256 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4269" headers="d78385e4253 ">
                                       <p><code class="codeph">destination</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4269 d78385e4256 ">
                                       <p>Database link of the destination database. A null string means that propagation is to the local database.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D66614E3-6291-4C23-B60C-5D150AE769E3__GUID-20CE848D-23A7-4FCA-8C42-2E5247D9A816">
                        <p class="titleinexample">Example 12-29 Enabling a Propagation Schedule</p><pre class="oac_no_warn" dir="ltr">TopicSession             t_sess;
Topic                    topic;

((AQjmsDestination)topic).enablePropagationSchedule(t_sess, "dbs1");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3001"></a><a id="ADQUE3000"></a><div class="props_rev_3"><a id="GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7" name="GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7"></a><h4 id="ADQUE-GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7" class="sect4"><span class="enumeration_section">12.11.3 </span>Altering a Propagation Schedule
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void alterPropagationSchedule(javax.jms.Session session,
                                     java.lang.String destination,
                                     java.lang.Double duration,
                                     java.lang.String next_time,
                                     java.lang.Double latency)
                              throws JMSException
</pre><p>This method alters a propagation schedule. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7__GUID-C540F04B-58A9-4336-A1E4-58338E07D5EE">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e4351">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e4354">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4359" headers="d78385e4351 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4359 d78385e4354 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4367" headers="d78385e4351 ">
                                       <p><code class="codeph">destination</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4367 d78385e4354 ">
                                       <p>Database link of the remote database for which propagation is being scheduled. A null string means that propagation is scheduled for all subscribers in the database of the topic.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4375" headers="d78385e4351 ">
                                       <p><code class="codeph">duration</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4375 d78385e4354 ">
                                       <p>Duration of propagation</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4383" headers="d78385e4351 ">
                                       <p><code class="codeph">next_time</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4383 d78385e4354 ">
                                       <p>Next time propagation starts</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4391" headers="d78385e4351 ">
                                       <p><code class="codeph">latency</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4391 d78385e4354 ">
                                       <p>Latency in seconds that can be tolerated. Latency is the difference between the time a message was enqueued and the time it was propagated.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7__GUID-252688D0-3FBA-497F-8CEA-EE44850D8191">
                        <p class="titleinexample">Example 12-30 Altering a Propagation Schedule</p><pre class="oac_no_warn" dir="ltr">TopicSession             t_sess;
Topic                    topic;

((AQjmsDestination)topic).alterPropagationSchedule(
   t_sess, null, 30, null, new Double(30));</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3003"></a><a id="ADQUE3002"></a><div class="props_rev_3"><a id="GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1" name="GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1"></a><h4 id="ADQUE-GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1" class="sect4"><span class="enumeration_section">12.11.4 </span>Disabling a Propagation Schedule
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void disablePropagationSchedule(javax.jms.Session session,
                                       java.lang.String destination)
                                throws JMSException
</pre><p>This method disables a propagation schedule. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1__GUID-0F96EC9A-AE53-498B-B41B-4FCC7C72D02B">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e4472">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e4475">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4480" headers="d78385e4472 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4480 d78385e4475 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4488" headers="d78385e4472 ">
                                       <p><code class="codeph">destination</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4488 d78385e4475 ">
                                       <p>Database link of the destination database. A null string means that propagation is to the local database.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1__GUID-EA8430E5-50AD-4736-BA3D-9160C187E388">
                        <p class="titleinexample">Example 12-31 Disabling a Propagation Schedule</p><pre class="oac_no_warn" dir="ltr">TopicSession             t_sess;
Topic                    topic;

((AQjmsDestination)topic).disablePropagationSchedule(t_sess, "dbs1");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3005"></a><a id="ADQUE3004"></a><div class="props_rev_3"><a id="GUID-2CB43510-0940-4866-8F24-87DF05C01D2C" name="GUID-2CB43510-0940-4866-8F24-87DF05C01D2C"></a><h4 id="ADQUE-GUID-2CB43510-0940-4866-8F24-87DF05C01D2C" class="sect4"><span class="enumeration_section">12.11.5 </span>Unscheduling a Propagation
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void unschedulePropagation(javax.jms.Session session,
                                  java.lang.String destination)
                           throws JMSException
</pre><p>This method unschedules a previously scheduled propagation. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-2CB43510-0940-4866-8F24-87DF05C01D2C__GUID-7E5F9698-A3D1-4C37-879B-29842D494F37">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e4575">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e4578">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4583" headers="d78385e4575 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4583 d78385e4578 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4591" headers="d78385e4575 ">
                                       <p><code class="codeph">destination</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4591 d78385e4578 ">
                                       <p>Database link of the destination database. A null string means that propagation is to the local database.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2CB43510-0940-4866-8F24-87DF05C01D2C__GUID-A5FDF52A-5ECA-4A70-991B-0B1497BFAB17">
                        <p class="titleinexample">Example 12-32 Unscheduling a Propagation</p><pre class="oac_no_warn" dir="ltr">TopicSession   t_sess;
Topic          topic;

((AQjmsDestination)topic).unschedulePropagation(t_sess, "dbs1");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>