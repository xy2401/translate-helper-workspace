<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Operations on Collection Data Types</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Object-Relational Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Object-Relational Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="object-relational-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T02:05:10-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96436-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="multilevel-collection-types.html" title="Previous" type="text/html">
      <link rel="next" href="partitioning-table-that-contain-oracle-objects.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Object-Relational Developer's Guide">
    <meta name="dcterms.isVersionOf" content="ADOBJ">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="multilevel-collection-types.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="partitioning-table-that-contain-oracle-objects.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Object-Relational Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="support-for-collection-data-types.html" property="item" typeof="WebPage"><span property="name"> Support for Collection Data Types</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Operations on Collection Data Types</li>
            </ol>
            <a id="GUID-0240B84A-0691-49E2-8DBB-BDBF69C9FABA" name="GUID-0240B84A-0691-49E2-8DBB-BDBF69C9FABA"></a><a id="ADOBJ00212"></a>
            
            <h2 id="ADOBJ-GUID-0240B84A-0691-49E2-8DBB-BDBF69C9FABA" class="sect2"><span class="enumeration_section">5.3 </span>Operations on Collection Data Types
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Operations on collection data types includes querying and comparing.</p>
               <p>Topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="operations-on-collection-data-types.html#GUID-972A2EB4-C1CD-4FCA-8D5E-BCF7AC3ECF94" title="Querying a collection column in the SELECT list nests the elements of the collection in the result row that the collection is associated with. You can unnest the results of collection queries.A TABLE expression can contain a subquery of a collection.You can use a TABLE expression in a CURSOR expression.Unnesting queries can be also used with multilevel collections, both varrays and nested tables.">Collection Querying</a></p>
                  </li>
                  <li>
                     <p><a href="operations-on-collection-data-types.html#GUID-C025E6AE-509C-4A0C-AA14-7AF26E140695">DML Operations on Collections</a></p>
                  </li>
                  <li>
                     <p><a href="operations-on-collection-data-types.html#GUID-980EB386-E7B5-49CD-8A54-838405D990C4">Using BULK COLLECT to Return Entire Result Sets</a></p>
                  </li>
                  <li>
                     <p><a href="operations-on-collection-data-types.html#GUID-B0C65E4A-9CF0-49BA-AFDD-62B792BCF5E5">Conditions that Compare Nested Tables</a></p>
                  </li>
                  <li>
                     <p><a href="operations-on-collection-data-types.html#GUID-8D7F01A5-BF07-4C4A-A4EE-490D899794FC">Multiset Operations for Nested Tables</a></p>
                  </li>
               </ul>
            </div><a id="ADOBJ7261"></a><div class="props_rev_3"><a id="GUID-972A2EB4-C1CD-4FCA-8D5E-BCF7AC3ECF94" name="GUID-972A2EB4-C1CD-4FCA-8D5E-BCF7AC3ECF94"></a><h3 id="ADOBJ-GUID-972A2EB4-C1CD-4FCA-8D5E-BCF7AC3ECF94" class="sect3"><span class="enumeration_section">5.3.1 </span>Collection Querying
               </h3>
               <div>
                  <p>There are two general ways to query a table that contains a collection type as a column or attribute. </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Nest the collections in the result rows that contain them.</p>
                     </li>
                     <li>
                        <p>Distribute or unnest collections so that each collection element appears on a row by itself.</p>
                     </li>
                  </ul>
                  <p>Topics: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-ED0C7364-9EDF-46C6-9604-1A3C519CFC26" title="Querying a collection column in the SELECT list nests the elements of the collection in the result row that the collection is associated with.">Nesting Results of Collection Queries</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A" title="You can unnest the results of collection queries.">Unnesting Results of Collection Queries</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-67C2AA68-EBD2-4BBF-823A-F1D5FE536314" title="A TABLE expression can contain a subquery of a collection.">Unnesting Queries Containing Table Expression Subqueries</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-01DD8EBB-D4EF-4E68-A3C2-4A7DBB50B004" title="You can use a TABLE expression in a CURSOR expression.">Using a Table Expression in a CURSOR Expression</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-C5545A83-683A-47FD-80D2-8CD242F69568" title="Unnesting queries can be also used with multilevel collections, both varrays and nested tables.">Unnesting Queries with Multilevel Collections</a></p>
                     </li>
                  </ul>
               </div><a id="ADOBJ7263"></a><a id="ADOBJ7262"></a><div class="props_rev_3"><a id="GUID-ED0C7364-9EDF-46C6-9604-1A3C519CFC26" name="GUID-ED0C7364-9EDF-46C6-9604-1A3C519CFC26"></a><h4 id="ADOBJ-GUID-ED0C7364-9EDF-46C6-9604-1A3C519CFC26" class="sect4"><span class="enumeration_section">5.3.1.1 </span>Nesting Results of Collection Queries
                  </h4>
                  <div>
                     <p>Querying a collection column in the <code class="codeph">SELECT</code> list nests the elements of the collection in the result row that the collection is associated with. 
                     </p>
                     <div class="section">
                        <p>The queries in <a href="operations-on-collection-data-types.html#GUID-ED0C7364-9EDF-46C6-9604-1A3C519CFC26__BHBIIDCC">Example 5-16</a> use the <code class="codeph">department_persons</code> table shown in <a href="collection-data-types.html#GUID-F23E2476-DCD9-4D23-8C9E-80E77BA53ED7__CHDDFHFB">Example 5-3</a>. 
                        </p>
                        <p>The column <code class="codeph">dept_emps</code> is a nested table collection of <code class="codeph">person_typ</code> type. The <code class="codeph">dept_emps</code> collection column appears in the <code class="codeph">SELECT</code> list like an ordinary scalar column
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-ED0C7364-9EDF-46C6-9604-1A3C519CFC26__BHBIIDCC">
                        <p class="titleinexample">Example 5-16 Nesting Results of Collection Queries</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and Ex. 5-3
SELECT d.dept_emps 
  FROM department_persons d;
</pre><p>These queries retrieve this nested collection of employees.</p><pre class="pre codeblock"><code>DEPT_EMPS(IDNO, NAME, PHONE)
-------------------------------------------------------------
PEOPLE_TYP(PERSON_TYP(1, 'John Smith', '1-650-555-0135'),
PERSON_TYP(2, 'Diane Smith', '1-650-555-0135'))</code></pre><p>The results are also nested if an object type column in the <code class="codeph">SELECT</code> list contains a collection attribute, even if that collection is not explicitly listed in the <code class="codeph">SELECT</code> list itself. For example, the query <code class="codeph">SELECT</code> <code class="codeph">*</code> <code class="codeph">FROM</code> <code class="codeph">department_persons</code> produces a nested result.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7265"></a><a id="ADOBJ7264"></a><div class="props_rev_3"><a id="GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A" name="GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A"></a><h4 id="ADOBJ-GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A" class="sect4"><span class="enumeration_section">5.3.1.2 </span>Unnesting Results of Collection Queries
                  </h4>
                  <div>
                     <p>You can unnest the results of collection queries.</p>
                     <div class="section">
                        <p>Unnesting collection query results is useful because not all tools or applications can deal with results in a nested format. To view Oracle collection data using tools that require a conventional format, you must unnest, or flatten, the collection attribute of a row into one or more relational rows. You can do this using a <code class="codeph">TABLE</code> expression with the collection. <code class="codeph">TABLE</code> expressions enable you to query a collection in the <code class="codeph">FROM</code> clause like a table. In effect, you join the nested table with the row that contains the nested table.
                        </p>
                        <p><code class="codeph">TABLE</code> expressions can be used to query any collection value expression, including transient values such as variables and parameters.
                        </p>
                        <div class="infoboxnotealso" id="GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A__GUID-2D7AF179-F02F-4616-A30D-3D8DE21A7716">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sqlrf/SELECT.html#SQLRF30047" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for further information on the <code class="codeph">TABLE</code> expression and unnesting collections 
                           </p>
                        </div>
                        <p>The query in<a href="operations-on-collection-data-types.html#GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A__BHBFDFDJ">Example 5-17</a>, like that of <a href="operations-on-collection-data-types.html#GUID-ED0C7364-9EDF-46C6-9604-1A3C519CFC26__BHBIIDCC">Example 5-16</a>, retrieves the collection of employees, but here the collection is unnested.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A__BHBFDFDJ">
                        <p class="titleinexample">Example 5-17 Unnesting Results of Collection Queries</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-3
SELECT e.* 
  FROM department_persons d, TABLE(d.dept_emps) e;
</pre><p> Output:</p><pre class="pre codeblock"><code>IDNO       NAME                           PHONE
---------- ------------------------------ ---------------
1          John Smith                     1-650-555-0135
2          Diane Smith                    1-650-555-0135</code></pre><p><a href="operations-on-collection-data-types.html#GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A__BHBFDFDJ">Example 5-17</a>shows that a <code class="codeph">TABLE</code> expression can have its own table alias. A table alias for the <code class="codeph">TABLE</code> expression appears in the <code class="codeph">SELECT</code> list to select columns returned by the <code class="codeph">TABLE</code> expression. 
                        </p>
                        <p>The <code class="codeph">TABLE</code> expression uses another table alias to specify the table that contains the collection column that the <code class="codeph">TABLE</code> expression references. The expression <code class="codeph">TABLE(d.dept_emps)</code> specifies the <code class="codeph">department_persons</code> table as containing the <code class="codeph">dept_emps</code> collection column. To reference a table column, a <code class="codeph">TABLE</code> expression can use the table alias of any table appearing to the left of it in a <code class="codeph">FROM</code> clause. This is called left correlation.
                        </p>
                        <p>In<a href="operations-on-collection-data-types.html#GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A__BHBFDFDJ">Example 5-17</a>, the <code class="codeph">department_persons</code> table is listed in the <code class="codeph">FROM</code> clause solely to provide a table alias for the <code class="codeph">TABLE</code> expression to use. No columns from the <code class="codeph">department_persons</code> table other than the column referenced by the <code class="codeph">TABLE</code> expression appear in the result.
                        </p>
                        <p>The following example produces rows only for departments that have employees. </p><pre class="oac_no_warn" dir="ltr">SELECT d.dept_no, e.* 
  FROM department_persons d, TABLE(d.dept_emps) e;
</pre><p>To get rows for departments with or without employees, you can use outer-join syntax:</p><pre class="oac_no_warn" dir="ltr">SELECT d.dept_no, e.* 
  FROM department_persons d, TABLE(d.dept_emps) (+) e;
</pre><p>The (+) indicates that the dependent join between <code class="codeph">department_persons</code> and <code class="codeph">e.dept_emps</code> should be <code class="codeph">NULL</code>-augmented. That is, there will be rows of <code class="codeph">department_persons</code> in the output for which <code class="codeph">e.dept_emps</code> is <code class="codeph">NULL</code> or empty, with <code class="codeph">NULL</code> values for columns corresponding to <code class="codeph">e.dept_emps</code>.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7267"></a><a id="ADOBJ7266"></a><div class="props_rev_3"><a id="GUID-67C2AA68-EBD2-4BBF-823A-F1D5FE536314" name="GUID-67C2AA68-EBD2-4BBF-823A-F1D5FE536314"></a><h4 id="ADOBJ-GUID-67C2AA68-EBD2-4BBF-823A-F1D5FE536314" class="sect4"><span class="enumeration_section">5.3.1.3 </span>Unnesting Queries Containing Table Expression Subqueries
                  </h4>
                  <div>
                     <p>A <code class="codeph">TABLE</code> expression can contain a subquery of a collection.
                     </p>
                     <div class="section">
                        <p>This is an alternative to the examples in <span class="q">"<a href="operations-on-collection-data-types.html#GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A" title="You can unnest the results of collection queries.">Unnesting Results of Collection Queries</a>"</span> which show a <code class="codeph">TABLE</code> expression that contains the name of a collection. 
                        </p>
                        <p><a href="operations-on-collection-data-types.html#GUID-67C2AA68-EBD2-4BBF-823A-F1D5FE536314__CIHECAFA">Example 5-18</a> returns the collection of employees whose department number is <code class="codeph">101</code>. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-67C2AA68-EBD2-4BBF-823A-F1D5FE536314__CIHECAFA">
                        <p class="titleinexample">Example 5-18 Using a Table Expression Containing a Subquery of a Collection</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-3
SELECT *
  FROM TABLE(SELECT d.dept_emps 
               FROM department_persons d
               WHERE d.dept_no = 101);
</pre><p>Subqueries in a <code class="codeph">TABLE</code> expression have these restrictions:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The subquery must return a collection type.</p>
                           </li>
                           <li>
                              <p>The <code class="codeph">SELECT</code> list of the subquery must contain exactly one item.
                              </p>
                           </li>
                           <li>
                              <p>The subquery must return only a single collection; it cannot return collections for multiple rows. For example, the subquery <code class="codeph">SELECT</code> <code class="codeph">dept_emps</code> <code class="codeph">FROM</code> <code class="codeph">department_persons</code> succeeds in a <code class="codeph">TABLE</code> expression only if table <code class="codeph">department_persons</code> contains just a single row. If the table contains more than one row, the subquery produces an error.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7268"></a><div class="props_rev_3"><a id="GUID-01DD8EBB-D4EF-4E68-A3C2-4A7DBB50B004" name="GUID-01DD8EBB-D4EF-4E68-A3C2-4A7DBB50B004"></a><h4 id="ADOBJ-GUID-01DD8EBB-D4EF-4E68-A3C2-4A7DBB50B004" class="sect4"><span class="enumeration_section">5.3.1.4 </span>Using a Table Expression in a CURSOR Expression
                  </h4>
                  <div>
                     <p>You can use a <code class="codeph">TABLE</code> expression in a <code class="codeph">CURSOR</code> expression.
                     </p>
                     <div class="section">
                        <p><a href="operations-on-collection-data-types.html#GUID-01DD8EBB-D4EF-4E68-A3C2-4A7DBB50B004__CIHJEAJF">Example 5-19</a> shows a <code class="codeph">TABLE</code> expression used in the <code class="codeph">FROM</code> clause of a <code class="codeph">SELECT</code> embedded in a <code class="codeph">CURSOR</code> expression.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-01DD8EBB-D4EF-4E68-A3C2-4A7DBB50B004__CIHJEAJF">
                        <p class="titleinexample">Example 5-19 Using a Table Expression in a CURSOR Expression</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-3
SELECT d.dept_no, CURSOR(SELECT * FROM TABLE(d.dept_emps)) 
  FROM department_persons d
   WHERE d.dept_no = 101;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7270"></a><a id="ADOBJ7269"></a><div class="props_rev_3"><a id="GUID-C5545A83-683A-47FD-80D2-8CD242F69568" name="GUID-C5545A83-683A-47FD-80D2-8CD242F69568"></a><h4 id="ADOBJ-GUID-C5545A83-683A-47FD-80D2-8CD242F69568" class="sect4"><span class="enumeration_section">5.3.1.5 </span>Unnesting Queries with Multilevel Collections
                  </h4>
                  <div>
                     <p>Unnesting queries can be also used with multilevel collections, both varrays and nested tables.</p>
                     <div class="section">
                        <p> <a href="operations-on-collection-data-types.html#GUID-C5545A83-683A-47FD-80D2-8CD242F69568__CIHCEAEG">Example 5-20</a> shows an unnesting query on a multilevel nested table collection of nested tables. From the table <code class="codeph">region_tab</code> where each region has a nested table of <code class="codeph">countries</code> and each country has a nested table of <code class="codeph">locations</code>, the query returns the names of all <code class="codeph">regions</code>, <code class="codeph">countries</code>, and <code class="codeph">locations</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C5545A83-683A-47FD-80D2-8CD242F69568__CIHCEAEG">
                        <p class="titleinexample">Example 5-20 Unnesting Queries with Multilevel Collections Using the TABLE Function</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-10 and 5-15
SELECT r.region_name, c.country_name, l.location_id 
  FROM region_tab r, TABLE(r.countries) c, TABLE(c.locations) l;
 
-- the following query is optimized to run against the locations table
SELECT l.location_id, l.city 
  FROM region_tab r, TABLE(r.countries) c, TABLE(c.locations) l;
</pre><p>The output should be as follows:</p><pre class="oac_no_warn" dir="ltr">REGION_NAME               COUNTRY_NAME                             LOCATION_ID
------------------------- ---------------------------------------- -----------
Europe                    Italy                                           1000
Europe                    Italy                                           1100
Europe                    Switzerland                                     2900
Europe                    Switzerland                                     3000
Europe                    United Kingdom                                  2400
Europe                    United Kingdom                                  2500
Europe                    United Kingdom                                  2600
 
7 rows selected.
</pre><pre class="oac_no_warn" dir="ltr">LOCATION_ID CITY
----------- ------------------------------
       1000 Roma
       1100 Venice
       2900 Geneva
       3000 Bern
       2400 London
       2500 Oxford
       2600 Stretford
 
7 rows selected.
</pre><p>Because no columns of the base table <code class="codeph">region_tab</code> appear in the second <code class="codeph">SELECT</code> list, the query is optimized to run directly against the <code class="codeph">locations</code> storage table.
                        </p>
                        <p>Outer-join syntax can also be used with queries of multilevel collections.</p>
                        <div class="infoboxnotealso" id="GUID-C5545A83-683A-47FD-80D2-8CD242F69568__GUID-5EDE9054-1E1A-4C3E-B77C-4B78226AA3F3">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="design-considerations-for-collections.html#GUID-CD77D40B-CCAC-4F38-9BD9-C904F35618DA" title="You can query for a list of people and their home phone numbers, based on the home_phones() function you just created.">Viewing Object Data in Relational Form with Unnesting Queries</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADOBJ7271"></a><div class="props_rev_3"><a id="GUID-C025E6AE-509C-4A0C-AA14-7AF26E140695" name="GUID-C025E6AE-509C-4A0C-AA14-7AF26E140695"></a><h3 id="ADOBJ-GUID-C025E6AE-509C-4A0C-AA14-7AF26E140695" class="sect3"><span class="enumeration_section">5.3.2 </span>DML Operations on Collections
               </h3>
               <div>
                  <p>Oracle supports the <span>following</span> DML operations on collections:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Inserts and updates that provide a new value for the entire collection</p>
                     </li>
                     <li>
                        <p>Individual or piecewise updates of nested tables and multilevel nested tables, including inserting, deleting, and updating elements </p>
                     </li>
                  </ul>
                  <p>Oracle does not support piecewise updates on <code class="codeph">VARRAY</code> columns. However, <code class="codeph">VARRAY</code> columns can be inserted into or updated as an atomic unit. This section contains these topics:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-C7FC0A7A-F958-4790-8711-4983350BEDD4">Performing Piecewise Operations on Nested Tables</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-7A47068C-D2B9-480A-B3AC-BCF6A1D6A5A6">Updating a Nested Table</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-14C5B6B0-2ED1-46D2-AADF-950D4C80A311">Performing Piecewise Operations on Multilevel Nested Tables</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-D46B7174-A1DF-4416-A23B-362930467B07">Performing Piecewise INSERT to Inner Nested Table</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-C6FEAA24-85E5-44B5-B801-BF9D2DA84699">Performing Atomical Changes on VARRAYs and Nested Tables</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-9D817AE2-45FE-437D-BE35-CFE01BB0AC46">Updating Collections as Atomic Data Items</a></p>
                     </li>
                  </ul>
               </div><a id="ADOBJ7273"></a><a id="ADOBJ7272"></a><div class="props_rev_3"><a id="GUID-C7FC0A7A-F958-4790-8711-4983350BEDD4" name="GUID-C7FC0A7A-F958-4790-8711-4983350BEDD4"></a><h4 id="ADOBJ-GUID-C7FC0A7A-F958-4790-8711-4983350BEDD4" class="sect4"><span class="enumeration_section">5.3.2.1 </span>Performing Piecewise Operations on Nested Tables
                  </h4>
                  <div>
                     <div class="section">
                        <p>For piecewise operations on nested table columns, use the <code class="codeph">TABLE</code> expression. 
                        </p>
                        <p>The <code class="codeph">TABLE</code> expression uses a subquery to extract the nested table, so that the <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code> statement applies to the nested table rather than the top-level table.
                        </p>
                        <p><code class="codeph">CAST</code> operators are also helpful. With them, you can do set operations on nested tables using SQL notation, without actually storing the nested tables in the database.
                        </p>
                        <p>The DML statements in <a href="operations-on-collection-data-types.html#GUID-C7FC0A7A-F958-4790-8711-4983350BEDD4__CIHJHIGG">Example 5-21</a> demonstrate piecewise operations on nested table columns.
                        </p>
                        <div class="infoboxnotealso" id="GUID-C7FC0A7A-F958-4790-8711-4983350BEDD4__GUID-71BCD007-9C27-4504-9D1B-21FE27D4CCF2">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p> <a href="../sqlrf/CAST.html#SQLRF00613" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="functions-and-operators-useful-with-objects.html#GUID-6CD85D07-1E06-4E42-A582-68F478040A39">CAST</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C7FC0A7A-F958-4790-8711-4983350BEDD4__CIHJHIGG">
                        <p class="titleinexample">Example 5-21 Piecewise Operations on Collections</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-3
INSERT INTO TABLE(SELECT d.dept_emps 
                  FROM department_persons d
                  WHERE d.dept_no = 101)
   VALUES (5, 'Kevin Taylor', '1-408-555-0199');

UPDATE TABLE(SELECT d.dept_emps 
                  FROM department_persons d
                  WHERE d.dept_no = 101) e   
   SET VALUE(e) = person_typ(5, 'Kevin Taylor', '1-408-555-0199')
   WHERE e.idno = 5;
     
DELETE FROM TABLE(SELECT d.dept_emps 
                  FROM department_persons d
                  WHERE d.dept_no = 101) e
   WHERE e.idno = 5;
</pre></div>
                     <!-- class="example" -->
                  </div><a id="ADOBJ7274"></a><div class="sect4"><a id="GUID-7A47068C-D2B9-480A-B3AC-BCF6A1D6A5A6" name="GUID-7A47068C-D2B9-480A-B3AC-BCF6A1D6A5A6"></a><h5 id="ADOBJ-GUID-7A47068C-D2B9-480A-B3AC-BCF6A1D6A5A6" class="sect5"><span class="enumeration_section">5.3.2.1.1 </span>Updating a Nested Table
                     </h5>
                     <div>
                        <p>You can use <code class="codeph">VALUE</code> to return object instance rows for updating.
                        </p>
                        <p><a href="operations-on-collection-data-types.html#GUID-7A47068C-D2B9-480A-B3AC-BCF6A1D6A5A6__CIHJDAFI">Example 5-22</a> shows <code class="codeph">VALUE</code> used to return object instance rows for updating:
                        </p>
                        <div class="example" id="GUID-7A47068C-D2B9-480A-B3AC-BCF6A1D6A5A6__CIHJDAFI">
                           <p class="titleinexample">Example 5-22 Using VALUE to Update a Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1, 5-3
UPDATE TABLE(SELECT d.dept_emps FROM department_persons d 
               WHERE  d.dept_no = 101) p
   SET VALUE(p) = person_typ(2, 'Diane Smith', '1-650-555-0148')
   WHERE p.idno = 2;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="ADOBJ7276"></a><a id="ADOBJ7275"></a><div class="props_rev_3"><a id="GUID-14C5B6B0-2ED1-46D2-AADF-950D4C80A311" name="GUID-14C5B6B0-2ED1-46D2-AADF-950D4C80A311"></a><h4 id="ADOBJ-GUID-14C5B6B0-2ED1-46D2-AADF-950D4C80A311" class="sect4"><span class="enumeration_section">5.3.2.2 </span>Performing Piecewise Operations on Multilevel Nested Tables
                  </h4>
                  <div>
                     <div class="section">
                        <p>Piecewise DML is possible only on multilevel nested tables, not on multilevel varrays. </p>
                        <p>You can perform DML operations atomically on both VARRAYs and nested tables multilevel collections as described in <span class="q">"<a href="operations-on-collection-data-types.html#GUID-9D817AE2-45FE-437D-BE35-CFE01BB0AC46">Updating Collections as Atomic Data Items</a>"</span>. 
                        </p>
                        <p><a href="operations-on-collection-data-types.html#GUID-14C5B6B0-2ED1-46D2-AADF-950D4C80A311__CIHEEEBD">Example 5-23</a> shows a piecewise insert operation on the <code class="codeph">countries</code> nested table of nested tables. The example inserts a new country, complete with its own nested table of <code class="codeph">location_typ</code>:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-14C5B6B0-2ED1-46D2-AADF-950D4C80A311__CIHEEEBD">
                        <p class="titleinexample">Example 5-23 Piecewise INSERT on a Multilevel Collection</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-10 and 5-15
INSERT INTO TABLE( SELECT countries FROM region_tab r WHERE r.region_id = 2) 
  VALUES ( 'CA', 'Canada', nt_location_typ( 
       location_typ(1800, '147 Spadina Ave', 'M5V 2L7', 'Toronto', 'Ontario')));
</pre></div>
                     <!-- class="example" -->
                  </div><a id="ADOBJ7277"></a><div class="props_rev_3"><a id="GUID-D46B7174-A1DF-4416-A23B-362930467B07" name="GUID-D46B7174-A1DF-4416-A23B-362930467B07"></a><h5 id="ADOBJ-GUID-D46B7174-A1DF-4416-A23B-362930467B07" class="sect5"><span class="enumeration_section">5.3.2.2.1 </span>Performing Piecewise INSERT to Inner Nested Table
                     </h5>
                     <div>
                        <div class="section">
                           <p>You can use piecewise insert into an inner nested table to make an individual addition.</p>
                           <p><a href="operations-on-collection-data-types.html#GUID-D46B7174-A1DF-4416-A23B-362930467B07__CIHDABBA">Example 5-24</a> performs a piecewise insert into an inner nested table to add a location for a country. Like the preceding example, this example uses a <code class="codeph">TABLE</code> expression containing a subquery that selects the inner nested table to specify the target for the insert.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-D46B7174-A1DF-4416-A23B-362930467B07__CIHDABBA">
                           <p class="titleinexample">Example 5-24 Piecewise INSERT into an Inner Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-10 and 5-15
INSERT INTO TABLE( SELECT c.locations 
  FROM TABLE( SELECT r.countries FROM region_tab r WHERE r.region_id = 2) c
  WHERE c.country_id = 'US')
  VALUES (1700, '2004 Lakeview Rd', '98199', 'Seattle', 'Washington');
 
SELECT r.region_name, c.country_name, l.location_id 
  FROM region_tab r, TABLE(r.countries) c, TABLE(c.locations) l;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="ADOBJ7279"></a><a id="ADOBJ7278"></a><div class="sect3"><a id="GUID-C6FEAA24-85E5-44B5-B801-BF9D2DA84699" name="GUID-C6FEAA24-85E5-44B5-B801-BF9D2DA84699"></a><h4 id="ADOBJ-GUID-C6FEAA24-85E5-44B5-B801-BF9D2DA84699" class="sect4"><span class="enumeration_section">5.3.2.3 </span>Performing Atomical Changes on VARRAYs and Nested Tables
                  </h4>
                  <div>
                     <p>You can make atomical changes to nested tables and <code class="codeph">VARRAY</code>s.
                     </p>
                     <p>Note: While nested tables can also be changed in a piecewise fashions, varrays cannot.</p>
                     <p><a href="operations-on-collection-data-types.html#GUID-C6FEAA24-85E5-44B5-B801-BF9D2DA84699__BEIGEIFE">Example 5-25</a> shows how you can manipulate SQL varray object types with PL/SQL statements. In this example, varrays are transferred between PL/SQL variables and SQL tables. You can insert table rows containing collections, update a row to replace its collection, and select collections into PL/SQL variables.
                     </p>
                     <p>However, you cannot update or delete individual varray elements directly with SQL; you have to select the varray from the table, change it in PL/SQL, then update the table to include the new varray. You can also do this with nested tables, but nested tables have the option of doing piecewise updates and deletes.</p>
                     <div class="example" id="GUID-C6FEAA24-85E5-44B5-B801-BF9D2DA84699__BEIGEIFE">
                        <p class="titleinexample">Example 5-25 Using INSERT, UPDATE, DELETE, and SELECT Statements With Varrays</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE dnames_var IS VARRAY(7) OF VARCHAR2(30);
/
CREATE TABLE depts (region VARCHAR2(25), dept_names dnames_var);
BEGIN
   <span class="bold">INSERT</span> INTO depts VALUES('Europe', dnames_var('Shipping','Sales','Finance'));
   <span class="bold">INSERT</span> INTO depts VALUES('Americas', dnames_var('Sales','Finance','Shipping'));
   <span class="bold">INSERT</span> INTO depts 
     VALUES('Asia', dnames_var('Finance','Payroll','Shipping','Sales'));
   COMMIT;
END;
/
DECLARE
   new_dnames dnames_var := dnames_var('Benefits', 'Advertising', 'Contracting', 
                                       'Executive', 'Marketing');
   some_dnames dnames_var;
BEGIN
   <span class="bold">UPDATE</span> depts SET dept_names  = new_dnames WHERE region = 'Europe';
   COMMIT;
   <span class="bold">SELECT</span> dept_names INTO some_dnames FROM depts WHERE region = 'Europe';
   FOR i IN some_dnames.FIRST .. some_dnames.LAST
   LOOP
      DBMS_OUTPUT.PUT_LINE('dept_names = ' || some_dnames(i));
   END LOOP;
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7281"></a><a id="ADOBJ7280"></a><div class="props_rev_3"><a id="GUID-9D817AE2-45FE-437D-BE35-CFE01BB0AC46" name="GUID-9D817AE2-45FE-437D-BE35-CFE01BB0AC46"></a><h4 id="ADOBJ-GUID-9D817AE2-45FE-437D-BE35-CFE01BB0AC46" class="sect4"><span class="enumeration_section">5.3.2.4 </span>Updating Collections as Atomic Data Items
                  </h4>
                  <div>
                     <div class="section">
                        <p>Multilevel collections (both <code class="codeph">VARRAY</code> and nested tables) can also be updated atomically with an <code class="codeph">UPDATE</code> statement. For example, suppose <code class="codeph">v_country</code> is a variable declared to be of the <code class="codeph">countries</code> nested table type <code class="codeph">nt_country_typ</code>. 
                        </p>
                        <p><a href="operations-on-collection-data-types.html#GUID-9D817AE2-45FE-437D-BE35-CFE01BB0AC46__CIHEHGBH">Example 5-26</a> updates <code class="codeph">region_tab</code> by setting the <code class="codeph">countries</code> collection as a unit to the value of <code class="codeph">v_country</code>.
                        </p>
                        <p>The section <span class="q">"<a href="multilevel-collection-types.html#GUID-FB2298CD-F748-4DF6-96F1-CD09C9349D83" title="Multilevel collection types are created by calling the constructor of the respective type, just like single-level collections and other object types.">Constructors for Multilevel Collections</a>"</span>  shows how to insert an entire multilevel collection with an <code class="codeph">INSERT</code> statement.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9D817AE2-45FE-437D-BE35-CFE01BB0AC46__CIHEHGBH">
                        <p class="titleinexample">Example 5-26 Using UPDATE to Insert an Entire Multilevel Collection</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-10 and 5-15
INSERT INTO region_tab (region_id, region_name) VALUES(2, 'Americas');

DECLARE
  v_country nt_country_typ;
BEGIN
  v_country :=  nt_country_typ( country_typ( 
   'US', 'United States of America', nt_location_typ (
   location_typ( 1500,'2011 Interiors Blvd','99236','San Francisco','California'),
   location_typ(1600,'2007 Zagora St','50090','South Brunswick','New Jersey'))));
  <span class="bold">UPDATE</span> region_tab r 
    SET r.countries = v_country WHERE r.region_id = 2;
END;
/
-- Invocation:
SELECT r.region_name, c.country_name, l.location_id 
  FROM region_tab r, TABLE(r.countries) c, TABLE(c.locations) l
     WHERE r.region_id = 2;
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADOBJ7283"></a><a id="ADOBJ7282"></a><div class="props_rev_3"><a id="GUID-980EB386-E7B5-49CD-8A54-838405D990C4" name="GUID-980EB386-E7B5-49CD-8A54-838405D990C4"></a><h3 id="ADOBJ-GUID-980EB386-E7B5-49CD-8A54-838405D990C4" class="sect3"><span class="enumeration_section">5.3.3 </span>Using BULK COLLECT to Return Entire Result Sets
               </h3>
               <div>
                  <div class="section">
                     <p>The PL/SQL <code class="codeph">BULK</code> <code class="codeph">COLLECT</code> clause is an alternative to using DML statements, which can be time consuming to process. You can return an entire result set in one operation.
                     </p>
                     <p>In <a href="operations-on-collection-data-types.html#GUID-980EB386-E7B5-49CD-8A54-838405D990C4__BABBJBHD">Example 5-27</a>, <code class="codeph">BULK</code> <code class="codeph">COLLECT</code> is used with a multilevel collection that includes an object type.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-980EB386-E7B5-49CD-8A54-838405D990C4__BABBJBHD">
                     <p class="titleinexample">Example 5-27 Using BULK COLLECT with Collections</p><pre class="oac_no_warn" dir="ltr">-- unrelated to other examples in this chapter
CREATE TYPE dnames_var IS VARRAY(7) OF VARCHAR2(30);
/
CREATE TABLE depts (region VARCHAR2(25), dept_names dnames_var);
BEGIN
   INSERT INTO depts VALUES('Europe', dnames_var('Shipping','Sales','Finance'));
   INSERT INTO depts VALUES('Americas', dnames_var('Sales','Finance','Shipping'));
   INSERT INTO depts 
     VALUES('Asia', dnames_var('Finance','Payroll','Shipping','Sales'));
   COMMIT;
END;
/
DECLARE
   TYPE dnames_tab IS TABLE OF dnames_var;
   v_depts dnames_tab;
BEGIN
    SELECT dept_names <span class="bold">BULK COLLECT</span> INTO v_depts FROM depts;
    DBMS_OUTPUT.PUT_LINE(v_depts.COUNT); -- prints 3
END;
/</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADOBJ7284"></a><div class="props_rev_3"><a id="GUID-B0C65E4A-9CF0-49BA-AFDD-62B792BCF5E5" name="GUID-B0C65E4A-9CF0-49BA-AFDD-62B792BCF5E5"></a><h3 id="ADOBJ-GUID-B0C65E4A-9CF0-49BA-AFDD-62B792BCF5E5" class="sect3"><span class="enumeration_section">5.3.4 </span>Conditions that Compare Nested Tables
               </h3>
               <div>
                  <p>Using certain conditions, you can compare nested tables, including multilevel nested tables. There is no mechanism for comparing varrays. </p>
                  <p>The SQL examples in this section use the nested tables created in <a href="collection-data-types.html#GUID-041D1EF0-0EF1-4488-9DBC-894C0214C5EF__I477859">Example 5-5</a>, and contain the objects created in <a href="collection-data-types.html#GUID-70E5DE6B-6820-4161-BBE4-E24445E16462__CHDBCCHJ">Example 5-1</a>.
                  </p>
                  <p>Topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-CA49765F-A854-438B-9FE7-FDB88B414F82">Comparing Equal and Not Equal Conditions </a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-550D7EE4-78CA-4195-987A-96D5FAAB33EB">Comparing the IN Condition </a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-02FD4549-336D-4B70-8A13-9CF5D0D3B42B">Comparing Subset of Multiset Conditions</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-7B34CDAD-CF7D-4BBF-90DE-338527A18B84">Determing Members of a Nested Table </a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-2BECC439-CE71-473C-9D9B-6AC20EA675E9">Determining Empty Conditions </a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-67BEBA3F-7A6E-4389-8258-AA7513F5A97E">Determining Set Conditions </a></p>
                     </li>
                  </ul>
               </div><a id="ADOBJ7286"></a><a id="ADOBJ7285"></a><div class="props_rev_3"><a id="GUID-CA49765F-A854-438B-9FE7-FDB88B414F82" name="GUID-CA49765F-A854-438B-9FE7-FDB88B414F82"></a><h4 id="ADOBJ-GUID-CA49765F-A854-438B-9FE7-FDB88B414F82" class="sect4"><span class="enumeration_section">5.3.4.1 </span>Comparing Equal and Not Equal Conditions 
                  </h4>
                  <div>
                     <div class="section">
                        <p>The equal (=) and not equal (&lt;&gt;) conditions determine whether the input nested tables are identical or not, returning the result as a Boolean value. </p>
                        <p>Two nested tables are equal if they have the same named type, have the same cardinality, and their elements are equal. Elements are equal depending on whether they are equal by the elements own equality definitions, except for object types which require a map method. Equality is determined in the existing order of the elements, because nested tables are unordered. </p>
                        <p>In <a href="operations-on-collection-data-types.html#GUID-CA49765F-A854-438B-9FE7-FDB88B414F82__CIHFECIH">Example 5-28</a>, the nested tables contain <code class="codeph">person_typ</code> objects, which have an associated map method. See <a href="collection-data-types.html#GUID-70E5DE6B-6820-4161-BBE4-E24445E16462__CHDBCCHJ">Example 5-1</a>. Since the two nested tables in the <code class="codeph">WHERE</code> clause are not equal, no rows are selected.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-CA49765F-A854-438B-9FE7-FDB88B414F82__CIHFECIH">
                        <p class="titleinexample">Example 5-28 Using an Equality Comparison with Nested Tables</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT p.name 
  FROM students, TABLE(physics_majors) p 
WHERE math_majors = physics_majors;
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7288"></a><a id="ADOBJ7287"></a><div class="props_rev_3"><a id="GUID-550D7EE4-78CA-4195-987A-96D5FAAB33EB" name="GUID-550D7EE4-78CA-4195-987A-96D5FAAB33EB"></a><h4 id="ADOBJ-GUID-550D7EE4-78CA-4195-987A-96D5FAAB33EB" class="sect4"><span class="enumeration_section">5.3.4.2 </span>Comparing the IN Condition 
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">IN</code> condition checks whether or not a nested table is in a list of nested tables, returning the result as a Boolean value. NULL is returned if the nested table is a null nested table.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-550D7EE4-78CA-4195-987A-96D5FAAB33EB__GUID-FC564F34-3A36-47A5-8026-F924B388E792">
                        <p class="titleinexample">Example 5-29 Using an IN Comparison with Nested Tables</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT p.idno, p.name 
  FROM students, TABLE(physics_majors) p 
WHERE physics_majors IN (math_majors, chem_majors);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7290"></a><a id="ADOBJ7289"></a><div class="props_rev_3"><a id="GUID-02FD4549-336D-4B70-8A13-9CF5D0D3B42B" name="GUID-02FD4549-336D-4B70-8A13-9CF5D0D3B42B"></a><h4 id="ADOBJ-GUID-02FD4549-336D-4B70-8A13-9CF5D0D3B42B" class="sect4"><span class="enumeration_section">5.3.4.3 </span>Comparing Subset of Multiset Conditions
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">SUBMULTISET</code> <code class="codeph">[OF]</code> condition checks whether or not a nested table is a subset of another nested table, returning the result as a Boolean value. The <code class="codeph">OF</code> keyword is optional and does not change the functionality of <code class="codeph">SUBMULTISET</code>.
                        </p>
                        <p>This condition is implemented only for nested tables.</p>
                        <div class="infoboxnotealso" id="GUID-02FD4549-336D-4B70-8A13-9CF5D0D3B42B__GUID-843E2B62-FD36-40A4-8ABD-A2213E17FFDB">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="operations-on-collection-data-types.html#GUID-8D7F01A5-BF07-4C4A-A4EE-490D899794FC">Multiset Operations for Nested Tables</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-02FD4549-336D-4B70-8A13-9CF5D0D3B42B__GUID-AF7A4C01-7D66-435F-8BF6-D3A116DCB560">
                        <p class="titleinexample">Example 5-30 Testing the SUBMULTISET OF Condition on a Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT p.idno, p.name 
  FROM students, TABLE(physics_majors) p 
WHERE physics_majors SUBMULTISET OF math_majors;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7292"></a><a id="ADOBJ7293"></a><a id="ADOBJ7291"></a><div class="props_rev_3"><a id="GUID-7B34CDAD-CF7D-4BBF-90DE-338527A18B84" name="GUID-7B34CDAD-CF7D-4BBF-90DE-338527A18B84"></a><h4 id="ADOBJ-GUID-7B34CDAD-CF7D-4BBF-90DE-338527A18B84" class="sect4"><span class="enumeration_section">5.3.4.4 </span>Determing Members of a Nested Table 
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">MEMBER</code> <code class="codeph">[OF]</code> or <code class="codeph">NOT</code> <code class="codeph">MEMBER</code> <code class="codeph">[OF]</code> condition tests whether or not an element is a member of a nested table, returning the result as a Boolean value. The <code class="codeph">OF</code> keyword is optional and has no effect on the output. 
                        </p>
                        <p>In <a href="operations-on-collection-data-types.html#GUID-7B34CDAD-CF7D-4BBF-90DE-338527A18B84__CIHBFJFF">Example 5-31</a>, the <code class="codeph">person_typ</code> is an element of the same type as the elements of the nested table <code class="codeph">math_majors</code>.
                        </p>
                        <p><a href="operations-on-collection-data-types.html#GUID-7B34CDAD-CF7D-4BBF-90DE-338527A18B84__CHDDBHGA">Example 5-32</a> presents an alternative approach to the <code class="codeph">MEMBER</code> <code class="codeph">OF</code> condition, which performs more efficiently for large collections.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7B34CDAD-CF7D-4BBF-90DE-338527A18B84__CIHBFJFF">
                        <p class="titleinexample">Example 5-31 Using MEMBER OF on a Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT graduation 
  FROM students 
WHERE person_typ(12, 'Bob Jones', '1-650-555-0130') MEMBER OF math_majors;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7B34CDAD-CF7D-4BBF-90DE-338527A18B84__CHDDBHGA">
                        <p class="titleinexample">Example 5-32 Alternative to Using MEMBER OF on a Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT graduation
  FROM students
WHERE person_typ(12, 'Bob Jones', '1-650-555-0130') in (select value(p) 
    from TABLE( math_majors) p);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7295"></a><a id="ADOBJ7294"></a><div class="props_rev_3"><a id="GUID-2BECC439-CE71-473C-9D9B-6AC20EA675E9" name="GUID-2BECC439-CE71-473C-9D9B-6AC20EA675E9"></a><h4 id="ADOBJ-GUID-2BECC439-CE71-473C-9D9B-6AC20EA675E9" class="sect4"><span class="enumeration_section">5.3.4.5 </span>Determining Empty Conditions 
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">IS</code> <code class="codeph">[NOT]</code> <code class="codeph">EMPTY</code> condition checks whether a given nested table is empty or not empty, regardless of whether any of the elements are NULL. If a NULL is given for the nested table, the result is NULL. The result is returned as a Boolean value.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2BECC439-CE71-473C-9D9B-6AC20EA675E9__GUID-4E458735-1081-40BB-9178-E34985CF6577">
                        <p class="titleinexample">Example 5-33 Using IS NOT on a Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT p.idno, p.name 
  FROM students, TABLE(physics_majors) p 
WHERE physics_majors IS NOT EMPTY;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7297"></a><a id="ADOBJ7296"></a><div class="props_rev_3"><a id="GUID-67BEBA3F-7A6E-4389-8258-AA7513F5A97E" name="GUID-67BEBA3F-7A6E-4389-8258-AA7513F5A97E"></a><h4 id="ADOBJ-GUID-67BEBA3F-7A6E-4389-8258-AA7513F5A97E" class="sect4"><span class="enumeration_section">5.3.4.6 </span>Determining Set Conditions 
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">IS</code> <code class="codeph">[NOT]</code> <code class="codeph">A</code> <code class="codeph">SET</code> condition checks whether or not a given nested table is composed of unique elements, returning a Boolean value.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-67BEBA3F-7A6E-4389-8258-AA7513F5A97E__GUID-1C3DBAD8-2930-4975-8612-220BF206B4D2">
                        <p class="titleinexample">Example 5-34 Using IS A SET on a Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT p.idno, p.name 
  FROM students, TABLE(physics_majors) p 
WHERE physics_majors IS A SET;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADOBJ7298"></a><div class="sect2"><a id="GUID-8D7F01A5-BF07-4C4A-A4EE-490D899794FC" name="GUID-8D7F01A5-BF07-4C4A-A4EE-490D899794FC"></a><h3 id="ADOBJ-GUID-8D7F01A5-BF07-4C4A-A4EE-490D899794FC" class="sect3"><span class="enumeration_section">5.3.5 </span>Multiset Operations for Nested Tables
               </h3>
               <div>
                  <p>You can use<a href="glossary.html#GUID-9FC615B7-02EA-4FCD-9B90-15530E4F3E21"><span class="xrefglossterm">multiset operators</span></a> for nested tables. Multiset operations are not available for varrays.
                  </p>
                  <p>The SQL examples in this section use the nested tables created in <a href="collection-data-types.html#GUID-041D1EF0-0EF1-4488-9DBC-894C0214C5EF__I477859">Example 5-5</a> and the objects created in <a href="collection-data-types.html#GUID-70E5DE6B-6820-4161-BBE4-E24445E16462__CHDBCCHJ">Example 5-1</a>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-8D7F01A5-BF07-4C4A-A4EE-490D899794FC__GUID-DB462D25-85A5-4515-95F1-DD9A0058D45E">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="functions-and-operators-useful-with-objects.html#GUID-502C8BA5-8B2F-4E57-B526-0C857DD3FA77">Functions and Operators Useful with Objects</a>"</span> for a description of additional operations
                           </p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/Operators.html#SQLRF003" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.for more information about using operators with nested tables
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADOBJ7300"></a><a id="ADOBJ7299"></a><div class="props_rev_3"><a id="GUID-C4339B0D-13FE-4052-A7FE-6E2E563DDBFC" name="GUID-C4339B0D-13FE-4052-A7FE-6E2E563DDBFC"></a><h4 id="ADOBJ-GUID-C4339B0D-13FE-4052-A7FE-6E2E563DDBFC" class="sect4"><span class="enumeration_section">5.3.5.1 </span>CARDINALITY
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">CARDINALITY</code> function returns the number of elements in a nested table. The return type is <code class="codeph">NUMBER</code>. If the nested table is a null collection, <code class="codeph">NULL</code> is returned. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C4339B0D-13FE-4052-A7FE-6E2E563DDBFC__GUID-25911636-302C-4749-B09A-FE2542EA3143">
                        <p class="titleinexample">Example 5-35 Determining the CARDINALITY of a Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT CARDINALITY(math_majors) 
  FROM students;
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>For more information about the <code class="codeph">CARDINALITY</code> function, see <a href="../sqlrf/CARDINALITY.html#SQLRF06305" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADOBJ7301"></a><div class="props_rev_3"><a id="GUID-A2786900-25DD-4C35-B5C4-AA322BBB9848" name="GUID-A2786900-25DD-4C35-B5C4-AA322BBB9848"></a><h4 id="ADOBJ-GUID-A2786900-25DD-4C35-B5C4-AA322BBB9848" class="sect4"><span class="enumeration_section">5.3.5.2 </span>COLLECT
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">COLLECT</code> function is an aggregate function which creates a multiset from a set of elements. The function takes a column of the element type as input and creates a multiset from rows selected. To get the results of this function, you must use it within a <code class="codeph">CAST</code> function to specify the output type of <code class="codeph">COLLECT</code>. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-A2786900-25DD-4C35-B5C4-AA322BBB9848__GUID-1EB425CE-8DAF-4572-9C9A-BDC30C94FAF5">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>See <span class="q">"<a href="functions-and-operators-useful-with-objects.html#GUID-6CD85D07-1E06-4E42-A582-68F478040A39">CAST</a>"</span> for an example of the <code class="codeph">COLLECT</code> function.
                                 </p>
                              </li>
                              <li>
                                 <p>For more information about the <code class="codeph">COLLECT</code> function, see <a href="../sqlrf/COLLECT.html#SQLRF06304" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADOBJ7303"></a><a id="ADOBJ7302"></a><div class="props_rev_3"><a id="GUID-204D944C-1F4A-4065-A1FF-7E8DA21BFFE1" name="GUID-204D944C-1F4A-4065-A1FF-7E8DA21BFFE1"></a><h4 id="ADOBJ-GUID-204D944C-1F4A-4065-A1FF-7E8DA21BFFE1" class="sect4"><span class="enumeration_section">5.3.5.3 </span>MULTISET EXCEPT
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">MULTISET</code> <code class="codeph">EXCEPT</code> operator inputs two nested tables and returns a nested table whose elements are in the first nested table but not the second. The input nested tables and the output nested table will all be of the same nested table type. 
                        </p>
                        <p>The <code class="codeph">ALL</code> or <code class="codeph">DISTINCT</code> options can be used with the operator. The default is <code class="codeph">ALL</code>. 
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>With the <code class="codeph">ALL</code> option, for <code class="codeph">ntab1</code> <code class="codeph">MULTISET</code> <code class="codeph">EXCEPT</code> <code class="codeph">ALL</code> <code class="codeph">ntab2</code>, all elements in <code class="codeph">ntab1</code> other than those in <code class="codeph">ntab2</code> are part of the result. If a particular element occurs <span class="italic"><code class="codeph">m</code></span> times in <code class="codeph">ntab1</code> and <span class="italic"><code class="codeph">n</code></span> times in <code class="codeph">ntab2</code>, the result shows (<span class="italic"><code class="codeph">m</code></span> - <span class="italic"><code class="codeph">n</code></span>) occurrences of the element if <span class="italic"><code class="codeph">m</code></span> is greater than <span class="italic"><code class="codeph">n</code></span>, otherwise, <code class="codeph">0</code> occurrences of the element. 
                              </p>
                           </li>
                           <li>
                              <p>With the <code class="codeph">DISTINCT</code> option, any element that is present in <code class="codeph">ntab1</code> and is also present in <code class="codeph">ntab2</code> is eliminated, irrespective of the number of occurrences.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-204D944C-1F4A-4065-A1FF-7E8DA21BFFE1__GUID-F19B4196-3B58-455C-AF74-DBAC7FC543F6">
                        <p class="titleinexample">Example 5-36 Using the MULTISET EXCEPT Operation on Nested Tables</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT math_majors MULTISET EXCEPT physics_majors 
  FROM students 
WHERE graduation = '01-JUN-03';
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-204D944C-1F4A-4065-A1FF-7E8DA21BFFE1__GUID-38B25DF7-1C07-45C1-AA8C-30F6FAD95B37">
                           <p class="notep1">See Also:</p>
                           <p>For more information about the <code class="codeph">MULTISET</code> <code class="codeph">EXCEPT</code> operator, see <a href="../sqlrf/Multiset-Operators.html#SQLRF0032" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADOBJ7305"></a><a id="ADOBJ7304"></a><div class="props_rev_3"><a id="GUID-0D4BE067-0A83-4EE3-9F28-1CF100220CF4" name="GUID-0D4BE067-0A83-4EE3-9F28-1CF100220CF4"></a><h4 id="ADOBJ-GUID-0D4BE067-0A83-4EE3-9F28-1CF100220CF4" class="sect4"><span class="enumeration_section">5.3.5.4 </span>MULTISET INTERSECT
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">MULTISET</code> <code class="codeph">INTERSECT</code> operator returns a nested table whose values are common to the two input nested tables. The input nested tables and the output nested table are all type name equivalent. 
                        </p>
                        <p>There are two options associated with the operator: <code class="codeph">ALL</code> or <code class="codeph">DISTINCT</code>. The default is <code class="codeph">ALL</code>. With the <code class="codeph">ALL</code> option, if a particular value occurs <span class="italic"><code class="codeph">m</code></span> times in <code class="codeph">ntab1</code> and <span class="italic"><code class="codeph">n</code></span> times in <code class="codeph">ntab2</code>, the result contains the element <code class="codeph">MIN</code>(<span class="italic"><code class="codeph">m</code></span>, <span class="italic"><code class="codeph">n</code></span>) times. With the <code class="codeph">DISTINCT</code> option, the duplicates from the result are eliminated, including duplicates of <code class="codeph">NULL</code> values if they exist. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-0D4BE067-0A83-4EE3-9F28-1CF100220CF4__GUID-DF85B62A-49A9-451B-BC50-22FE52E6FAFC">
                        <p class="titleinexample">Example 5-37 Using the MULTISET INTERSECT Operation on Nested Tables</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT math_majors MULTISET INTERSECT physics_majors 
  FROM students 
WHERE graduation = '01-JUN-03';
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-0D4BE067-0A83-4EE3-9F28-1CF100220CF4__GUID-357D829A-320A-4CD1-9BE4-0C618AB89C53">
                           <p class="notep1">See Also:</p>
                           <p>For more information about the <code class="codeph">MULTISET</code> <code class="codeph">INTERSECT</code> operator, see <a href="../sqlrf/Multiset-Operators.html#SQLRF0032" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADOBJ7307"></a><a id="ADOBJ7306"></a><div class="props_rev_3"><a id="GUID-4861552D-787F-457A-BAFF-D44390FB77ED" name="GUID-4861552D-787F-457A-BAFF-D44390FB77ED"></a><h4 id="ADOBJ-GUID-4861552D-787F-457A-BAFF-D44390FB77ED" class="sect4"><span class="enumeration_section">5.3.5.5 </span>MULTISET UNION
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">MULTISET</code> <code class="codeph">UNION</code> operator returns a nested table whose values are those of the two input nested tables. The input nested tables and the output nested table are all type name equivalent. 
                        </p>
                        <p>There are two options associated with the operator: <code class="codeph">ALL</code> or <code class="codeph">DISTINCT</code>. The default is <code class="codeph">ALL</code>. With the <code class="codeph">ALL</code> option, all elements in <code class="codeph">ntab1</code> and <code class="codeph">ntab2</code> are part of the result, including all copies of <code class="codeph">NULL</code>s. If a particular element occurs <span class="italic"><code class="codeph">m</code></span> times in <code class="codeph">ntab1</code> and <span class="italic"><code class="codeph">n</code></span> times in <code class="codeph">ntab2</code>, the result contains the element (<span class="italic"><code class="codeph">m</code></span> + <span class="italic"><code class="codeph">n</code></span>) times. With the <code class="codeph">DISTINCT</code> option, the duplicates from the result are eliminated, including duplicates of <code class="codeph">NULL</code> values if they exist. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4861552D-787F-457A-BAFF-D44390FB77ED__GUID-9FE3F470-882F-4B77-8F54-BCF2406607A0">
                        <p class="titleinexample">Example 5-38 Using the MULTISET UNION Operation on Nested Tables</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT math_majors MULTISET UNION DISTINCT physics_majors 
  FROM students 
WHERE graduation = '01-JUN-03';
</pre></div>
                     <!-- class="example" -->
                     <div class="section"><pre class="pre codeblock"><code>PEOPLE_TYP(PERSON_TYP(12, 'Bob Jones', '1-650-555-0130'),
	PERSON_TYP(31, 'Sarah Chen', '1-415-555-0120'),
	PERSON_TYP(45, 'Chris Woods', '1-408-555-0128'))</code></pre><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT math_majors MULTISET UNION ALL physics_majors
  FROM students 
WHERE graduation = '01-JUN-03';
</pre><p>Output:</p><pre class="pre codeblock"><code>PEOPLE_TYP(PERSON_TYP(12, 'Bob Jones', '1-650-555-0130'),
	PERSON_TYP(31, 'Sarah Chen', '1-415-555-0120'),
	PERSON_TYP(45, 'Chris Woods', '1-408-555-0128'),
	PERSON_TYP(12, 'Bob Jones', '1-650-555-0130'),
	PERSON_TYP(45, 'Chris Woods', '1-408-555-0128'))	</code></pre><div class="infoboxnotealso" id="GUID-4861552D-787F-457A-BAFF-D44390FB77ED__GUID-55CF0316-4422-47D1-902B-7A534C204FAF">
                           <p class="notep1">See Also:</p>
                           <p>For more information about the <code class="codeph">MULTISET</code> <code class="codeph">UNION</code> operator, see <a href="../sqlrf/Multiset-Operators.html#SQLRF51170" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADOBJ7309"></a><a id="ADOBJ7308"></a><div class="props_rev_3"><a id="GUID-4F040601-814A-42B8-82F3-EAB6854246ED" name="GUID-4F040601-814A-42B8-82F3-EAB6854246ED"></a><h4 id="ADOBJ-GUID-4F040601-814A-42B8-82F3-EAB6854246ED" class="sect4"><span class="enumeration_section">5.3.5.6 </span>POWERMULTISET
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">POWERMULTISET</code> function generates all non-empty submultisets from a given multiset. The input to the <code class="codeph">POWERMULTISET</code> function can be any expression which evaluates to a multiset. The limit on the cardinality of the multiset argument is 32.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4F040601-814A-42B8-82F3-EAB6854246ED__GUID-40072ADA-640E-4A76-80AF-5918E797D0D7">
                        <p class="titleinexample">Example 5-39 Using the POWERMULTISET Operation on Multiset</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT * FROM TABLE(POWERMULTISET( people_typ (
           person_typ(12, 'Bob Jones', '1-650-555-0130'), 
           person_typ(31, 'Sarah Chen', '1-415-555-0120'), 
           person_typ(45, 'Chris Woods', '1-415-555-0124'))));
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-4F040601-814A-42B8-82F3-EAB6854246ED__GUID-8C2B61F3-7EFB-4FBB-A5E8-1036497FF7B2">
                           <p class="notep1">See Also:</p>
                           <p>For more information about the <code class="codeph">POWERMULTISET</code> function, see <a href="../sqlrf/POWERMULTISET.html#SQLRF06306" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADOBJ7311"></a><a id="ADOBJ7310"></a><div class="props_rev_3"><a id="GUID-E28EB6DB-E989-4EBF-AE47-9BFFF723ED43" name="GUID-E28EB6DB-E989-4EBF-AE47-9BFFF723ED43"></a><h4 id="ADOBJ-GUID-E28EB6DB-E989-4EBF-AE47-9BFFF723ED43" class="sect4"><span class="enumeration_section">5.3.5.7 </span>POWERMULTISET_BY_CARDINALITY
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">POWERMULTISET_BY_CARDINALITY</code> function returns all non-empty submultisets of a nested table of the specified cardinality. The output is rows of nested tables.
                        </p>
                        <p><code class="codeph">POWERMULTISET_BY_CARDINALITY(x, l)</code> is equivalent to <code class="codeph">TABLE(POWERMULTISET(x))</code> <code class="codeph">p</code> where <code class="codeph">CARDINALITY(value(p))</code> <code class="codeph">=</code> <code class="codeph">l</code>, where <span class="italic"><code class="codeph">x</code></span> is a multiset and l is the specified cardinality.
                        </p>
                        <p>The first input parameter to the <code class="codeph">POWERMULTISET_BY_CARDINALITY</code> can be any expression which evaluates to a nested table. The length parameter must be a positive integer, otherwise an error is returned. The limit on the cardinality of the nested table argument is 32.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E28EB6DB-E989-4EBF-AE47-9BFFF723ED43__GUID-4E0210BD-41FA-423B-BD34-9AAF76086DAB">
                        <p class="titleinexample">Example 5-40 Using the POWERMULTISET_BY_CARDINALITY Function</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT * FROM TABLE(POWERMULTISET_BY_CARDINALITY( people_typ (
           person_typ(12, 'Bob Jones', '1-650-555-0130'), 
           person_typ(31, 'Sarah Chen', '1-415-555-0120'), 
           person_typ(45, 'Chris Woods', '1-415-555-0124')),2));
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-E28EB6DB-E989-4EBF-AE47-9BFFF723ED43__GUID-128EA772-8245-448F-979C-E81C5682A319">
                           <p class="notep1">See Also:</p>
                           <p>For more information about the <code class="codeph">POWERMULTISET_BY_CARDINALITY</code> function, see <a href="../sqlrf/POWERMULTISET_BY_CARDINALITY.html#SQLRF06307" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADOBJ7313"></a><a id="ADOBJ7312"></a><div class="props_rev_3"><a id="GUID-D7713B2B-333E-448F-804A-95C15999BAF3" name="GUID-D7713B2B-333E-448F-804A-95C15999BAF3"></a><h4 id="ADOBJ-GUID-D7713B2B-333E-448F-804A-95C15999BAF3" class="sect4"><span class="enumeration_section">5.3.5.8 </span>SET
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">SET</code> function converts a nested table into a set by eliminating duplicates, and returns a nested table whose elements are distinct from one another. The nested table returned is of the same named type as the input nested table.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D7713B2B-333E-448F-804A-95C15999BAF3__GUID-65FD4F91-51D7-4139-9885-DA5C7C53B157">
                        <p class="titleinexample">Example 5-41 Using the SET Function on a Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT SET(physics_majors) 
  FROM students 
WHERE graduation = '01-JUN-03';
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-D7713B2B-333E-448F-804A-95C15999BAF3__GUID-B939EFFD-87B4-4037-8607-44B16078EC04">
                           <p class="notep1">See Also:</p>
                           <p>For more information about the <code class="codeph">SET</code> function, see <a href="../sqlrf/SET.html#SQLRF06308" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>