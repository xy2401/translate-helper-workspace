<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can optimize data transfers using bulk fetch.">
      <meta name="description" content="You can optimize data transfers using bulk fetch.">
      <title>Optimizing Data Transfers Using Bulk Fetch</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Heterogeneous Connectivity User's Guide">
      <meta property="og:description" content="You can optimize data transfers using bulk fetch.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Heterogeneous Connectivity User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="heterogeneous-connectivity-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T12:43:36-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96192-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="initialization-parameters.html" title="Previous" type="text/html">
      <link rel="next" href="optimizing-data-loads-using-parallel-load.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Heterogeneous Connectivity User's Guide">
    <meta name="dcterms.isVersionOf" content="HETER">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="initialization-parameters.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="optimizing-data-loads-using-parallel-load.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Heterogeneous Connectivity User's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-heterogeneous-services-agents.html" property="item" typeof="WebPage"><span property="name"> Using Heterogeneous Services Agents</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Optimizing Data Transfers Using Bulk Fetch</li>
            </ol>
            <a id="GUID-96DD0509-DF96-49FB-AB6E-94D0B13BD611" name="GUID-96DD0509-DF96-49FB-AB6E-94D0B13BD611"></a><a id="HETER4093"></a><a id="HETER4092"></a>
            
            <h2 id="HETER-GUID-96DD0509-DF96-49FB-AB6E-94D0B13BD611" class="sect2">Optimizing Data Transfers Using Bulk Fetch</h2>
         </header>
         <div class="ind">
            <div>
               <p>You can optimize data transfers using bulk fetch.</p>
               <p><a id="d7030e20" class="indexterm-anchor"></a><a id="d7030e24" class="indexterm-anchor"></a><a id="d7030e30" class="indexterm-anchor"></a>When<a id="d7030e37" class="indexterm-anchor"></a> an application fetches data from a non-Oracle system using Heterogeneous Services, data is transferred as follows:
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>From the non-Oracle system to the agent process</p>
                  </li>
                  <li>
                     <p>From the agent process to Oracle Database</p>
                  </li>
                  <li>
                     <p>From Oracle Database to the application</p>
                  </li>
               </ul>
               <p>Oracle Database optimizes all three data transfers, as illustrated in <a href="optimize-data-transfers-using-bulk-fetch.html#GUID-96DD0509-DF96-49FB-AB6E-94D0B13BD611__I1006162">Figure 4-1</a>.
               </p>
               <div class="figure" id="GUID-96DD0509-DF96-49FB-AB6E-94D0B13BD611__I1006162">
                  <p class="titleinfigure">Figure 4-1 Optimizing Data Transfers</p><br><div class="imagecenter"><img class="imagecenter" src="img/heter009.gif" alt="Description of Figure 4-1 follows" title="Description of Figure 4-1 follows" longdesc="img_text/heter009.html"><br><a href="img_text/heter009.html">Description of "Figure 4-1 Optimizing Data Transfers"</a></div><br></div>
               <!-- class="figure" -->
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="optimize-data-transfers-using-bulk-fetch.html#GUID-4F38B662-173F-4F9D-AD4B-6A2868CEAF08">Using OCI, an Oracle Precompiler, or Another Tool for Array Fetches</a><br>You can optimize data transfers between your application and Oracle Database by using array fetches.
                  </li>
                  <li class="ulchildlink"><a href="optimize-data-transfers-using-bulk-fetch.html#GUID-804A0A6F-3029-4AC4-8499-E13BBDCCF913">Controlling the Array Fetch Between Oracle Database and the Agent</a><br>When Oracle Database retrieves data from a non-Oracle system, the Heterogeneous Services initialization parameter, <code class="codeph">HS_RPC_FETCH_SIZE</code>, defines the number of bytes sent for each fetch between the agent and Oracle Database. 
                  </li>
                  <li class="ulchildlink"><a href="optimize-data-transfers-using-bulk-fetch.html#GUID-9A699333-1D4A-4EFB-B25E-78492ADE3B56">Controlling the Array Fetch Between the Agent and the Non-Oracle System</a><br>The initialization parameter, <code class="codeph">HS_FDS_FETCH_ROWS</code>, determines the number of rows to be retrieved from a non-Oracle system.
                  </li>
                  <li class="ulchildlink"><a href="optimize-data-transfers-using-bulk-fetch.html#GUID-247DC435-9F78-4109-99AC-718B9E98541A">Controlling the Reblocking of Array Fetches</a><br>By default, an agent fetches data from the non-Oracle system until it has retrieved enough data to send back to the system. It continues until the number of bytes fetched from the non-Oracle system is equal to or higher than the value of <code class="codeph">HS_RPC_FETCH_SIZE</code> initialization parameter. The agent <span class="bold">reblocks</span> the data between the agent and Oracle Database in sizes defined by the value of the <code class="codeph">HS_RPC_FETCH_SIZE</code> initialization parameter.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="using-heterogeneous-services-agents.html#GUID-9E8667AA-0D1B-4E45-8448-8C6E25CD9F58">Using Heterogeneous Services Agents</a></p>
                  </div>
               </div>
            </div>
            <a id="HETER4094"></a><div class="props_rev_3"><a id="GUID-4F38B662-173F-4F9D-AD4B-6A2868CEAF08" name="GUID-4F38B662-173F-4F9D-AD4B-6A2868CEAF08"></a><h3 id="HETER-GUID-4F38B662-173F-4F9D-AD4B-6A2868CEAF08" class="sect3">Using OCI, an Oracle Precompiler, or Another Tool for Array Fetches</h3>
               <div>
                  <p>You can optimize data transfers between your application and Oracle Database by using array fetches.</p>
                  <p><a id="d7030e139" class="indexterm-anchor"></a><a id="d7030e143" class="indexterm-anchor"></a><a id="d7030e147" class="indexterm-anchor"></a><a id="d7030e153" class="indexterm-anchor"></a><a id="d7030e159" class="indexterm-anchor"></a>See your application development tool documentation for information about array fetching and how to specify the amount of data to be sent for each network round-trip.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="optimize-data-transfers-using-bulk-fetch.html#GUID-96DD0509-DF96-49FB-AB6E-94D0B13BD611" title="You can optimize data transfers using bulk fetch.">Optimizing Data Transfers Using Bulk Fetch</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="HETER4095"></a><div class="props_rev_3"><a id="GUID-804A0A6F-3029-4AC4-8499-E13BBDCCF913" name="GUID-804A0A6F-3029-4AC4-8499-E13BBDCCF913"></a><h3 id="HETER-GUID-804A0A6F-3029-4AC4-8499-E13BBDCCF913" class="sect3">Controlling the Array Fetch Between Oracle Database and the Agent </h3>
               <div>
                  <p>When Oracle Database retrieves data from a non-Oracle system, the Heterogeneous Services initialization parameter, <code class="codeph">HS_RPC_FETCH_SIZE</code>, defines the number of bytes sent for each fetch between the agent and Oracle Database. 
                  </p>
                  <p><a id="d7030e198" class="indexterm-anchor"></a><a id="d7030e204" class="indexterm-anchor"></a>The agent fetches data from the non-Oracle system until one of the following occurs:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>It has accumulated the specified number of bytes to send back to Oracle Database.</p>
                     </li>
                     <li>
                        <p>The last row of the result set is fetched from the non-Oracle system. </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="optimize-data-transfers-using-bulk-fetch.html#GUID-96DD0509-DF96-49FB-AB6E-94D0B13BD611" title="You can optimize data transfers using bulk fetch.">Optimizing Data Transfers Using Bulk Fetch</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="HETER4096"></a><div class="props_rev_3"><a id="GUID-9A699333-1D4A-4EFB-B25E-78492ADE3B56" name="GUID-9A699333-1D4A-4EFB-B25E-78492ADE3B56"></a><h3 id="HETER-GUID-9A699333-1D4A-4EFB-B25E-78492ADE3B56" class="sect3">Controlling the Array Fetch Between the Agent and the Non-Oracle System</h3>
               <div>
                  <p>The initialization parameter, <code class="codeph">HS_FDS_FETCH_ROWS</code>, determines the number of rows to be retrieved from a non-Oracle system.
                  </p>
                  <p><a id="d7030e253" class="indexterm-anchor"></a><a id="d7030e259" class="indexterm-anchor"></a>Note that the <a id="d7030e266" class="indexterm-anchor"></a>array fetch must be supported by the agent. See your agent-specific documentation to ensure that your agent supports array fetching. 
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="optimize-data-transfers-using-bulk-fetch.html#GUID-96DD0509-DF96-49FB-AB6E-94D0B13BD611" title="You can optimize data transfers using bulk fetch.">Optimizing Data Transfers Using Bulk Fetch</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="HETER4097"></a><div class="props_rev_3"><a id="GUID-247DC435-9F78-4109-99AC-718B9E98541A" name="GUID-247DC435-9F78-4109-99AC-718B9E98541A"></a><h3 id="HETER-GUID-247DC435-9F78-4109-99AC-718B9E98541A" class="sect3">Controlling the Reblocking of Array Fetches</h3>
               <div>
                  <p>By default, an agent fetches data from the non-Oracle system until it has retrieved enough data to send back to the system. It continues until the number of bytes fetched from the non-Oracle system is equal to or higher than the value of <code class="codeph">HS_RPC_FETCH_SIZE</code> initialization parameter. The agent <span class="bold">reblocks</span> the data between the agent and Oracle Database in sizes defined by the value of the <code class="codeph">HS_RPC_FETCH_SIZE</code> initialization parameter.
                  </p>
                  <p>When <a id="d7030e317" class="indexterm-anchor"></a><a id="d7030e323" class="indexterm-anchor"></a>the non-Oracle system supports array fetches, you can immediately send the data fetched from the non-Oracle system by the array fetch to Oracle Database without waiting until the exact value of the <code class="codeph">HS_RPC_FETCH_SIZE</code> initialization parameter is reached. You can stream the data from the non-Oracle system to Oracle Database and disable reblocking by setting the value of the  <code class="codeph">HS_RPC_FETCH_REBLOCKING</code> initialization parameter to <code class="codeph">OFF</code>. 
                  </p>
                  <p>For example, assume that you set <code class="codeph">HS_RPC_FETCH_SIZE</code> to 64 kilobytes (KB) and <code class="codeph">HS_FDS_FETCH_ROWS</code> to 100 rows. Also assume that each row is approximately 600 bytes in size, so that the 100 rows are approximately 60 KB. When the <code class="codeph">HS_RPC_FETCH_REBLOCKING</code> initialization parameter is set to <code class="codeph">ON</code>, the agent starts fetching 100 rows from the non-Oracle system. 
                  </p>
                  <p>Because there is only 60 KB of data in the agent, the agent does not send the data back to Oracle Database. Instead, the agent fetches the next 100 rows from the non-Oracle system. Because there is now 120 KB of data in the agent, the first 64 KB can be sent back to Oracle Database. </p>
                  <p>Now there is 56 KB of data left in the agent. The agent fetches another 100 rows from the non-Oracle system before sending the next 64 KB of data to Oracle Database. By setting the <code class="codeph">HS_RPC_FETCH_REBLOCKING</code> initialization parameter to <code class="codeph">OFF</code>, the first 100 rows are immediately sent back to the Oracle database server. 
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="optimize-data-transfers-using-bulk-fetch.html#GUID-96DD0509-DF96-49FB-AB6E-94D0B13BD611" title="You can optimize data transfers using bulk fetch.">Optimizing Data Transfers Using Bulk Fetch</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>