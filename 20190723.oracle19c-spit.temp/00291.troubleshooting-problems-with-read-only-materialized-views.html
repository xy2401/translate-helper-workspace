<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can diagnose and solve problems with database links, materialized view creation, and materialized view refresh.">
      <meta name="description" content="You can diagnose and solve problems with database links, materialized view creation, and materialized view refresh.">
      <title>Troubleshooting Problems with Read-Only Materialized Views</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Administrator’s Guide ">
      <meta property="og:description" content="You can diagnose and solve problems with database links, materialized view creation, and materialized view refresh.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96348-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="creating-and-managing-read-only-materialized-views.html" title="Previous" type="text/html">
      <link rel="next" href="appendixes.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="ADMIN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="creating-and-managing-read-only-materialized-views.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="appendixes.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="managing-read-only-materialized-views.html" property="item" typeof="WebPage"><span property="name">Managing Read-Only Materialized Views</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Troubleshooting Problems with Read-Only Materialized Views</li>
            </ol>
            <a id="GUID-022C5C7F-2EC9-44CB-A74B-CC01600BCC17" name="GUID-022C5C7F-2EC9-44CB-A74B-CC01600BCC17"></a>
            
            <h2 id="ADMIN-GUID-022C5C7F-2EC9-44CB-A74B-CC01600BCC17" class="sect2"><span class="enumeration_chapter">40 </span> Troubleshooting Problems with Read-Only Materialized Views
            </h2>
         </header>
         <div class="ind">
            <p>You can diagnose and solve problems with database links, materialized view creation, and materialized view refresh.</p>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-1CBB4B05-9316-497F-9EE4-463B572127F4">Diagnosing Problems with Database Links</a><br>If you think a database link is not functioning properly, then you can drop and re-create it using Oracle Enterprise Manager Cloud Control, SQL*Plus, or another tool.
                  </li>
                  <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-7227668A-868C-4177-B141-F640D9B11F14">Problems Creating Materialized Views</a><br>There are items to check if you have problems creating a materialized view.
                  </li>
                  <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7">Refresh Problems</a><br>You can diagnose and solve common refresh problems.
                  </li>
                  <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-D6F3FD53-94D0-4653-B90D-161EC53A76AF">Advanced Troubleshooting of Refresh Problems</a><br>There are several items you can check if you have problems with refreshing a materialized view.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="managing-read-only-materialized-views.html#GUID-7AAEC1A7-01BA-4293-AF46-F026AA2B0237" title="Read-only materialized views can provide read-only access to the master table's data. You can create and manage read-only materialized views.">Managing Read-Only Materialized Views</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-1CBB4B05-9316-497F-9EE4-463B572127F4" name="GUID-1CBB4B05-9316-497F-9EE4-463B572127F4"></a><h3 id="ADMIN-GUID-1CBB4B05-9316-497F-9EE4-463B572127F4" class="sect3"><span class="enumeration_section">40.1 </span>Diagnosing Problems with Database Links
               </h3>
               <div>
                  <p>If you think a database link is not functioning properly, then you can drop and re-create it using Oracle Enterprise Manager Cloud Control, SQL*Plus, or another tool.</p>
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Ensure that the database link name is the same as the global name of the target database.</p>
                        </li>
                        <li>
                           <p>Ensure that the scheduled interval is what you want.</p>
                        </li>
                        <li>
                           <p>Ensure that the scheduled interval is not shorter than the required execution time.</p>
                        </li>
                     </ul>
                     <p>If you used a connection qualifier in a database link to a given database, then the other databases that link to that database must have the same connection qualifier. For example, suppose you create a database link as follows:</p><pre class="oac_no_warn" dir="ltr">CREATE DATABASE LINK dbs1.example.com@myethernet CONNECT TO myadmin
  IDENTIFIED BY <span class="italic">password</span> USING '<span class="italic">connect_string_myethernet</span>';
</pre><p>All the databases, whether master databases or materialized view databases, associated with <code class="codeph">dbs1.example.com@myethernet</code> must include <code class="codeph">myethernet</code> as the connection qualifier.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-1CBB4B05-9316-497F-9EE4-463B572127F4__GUID-13570A74-09DA-4340-9063-615C0108BF0F">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="managing-a-distributed-database.html#GUID-15C83763-9F18-4670-B14A-6557F123060A" title="In some situations, you may want to have several database links of the same type (for example, public) that point to the same remote database, yet establish connections to the remote database using different communication pathways.">Using Connection Qualifiers to Specify Service Names Within Link Names</a>"</span> for more information database links and connection qualifiers
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="planning-for-read-only-materialized-views.html#GUID-E81D58FF-9E15-4E5C-A132-E6DFD2CCA7CF" title="The defining query of a materialized view can use one or more database links to reference remote table data.">Required Database Links for Materialized Views</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-022C5C7F-2EC9-44CB-A74B-CC01600BCC17" title="You can diagnose and solve problems with database links, materialized view creation, and materialized view refresh.">Troubleshooting Problems with Read-Only Materialized Views</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-7227668A-868C-4177-B141-F640D9B11F14" name="GUID-7227668A-868C-4177-B141-F640D9B11F14"></a><h3 id="ADMIN-GUID-7227668A-868C-4177-B141-F640D9B11F14" class="sect3"><span class="enumeration_section">40.2 </span>Problems Creating Materialized Views
               </h3>
               <div>
                  <p>There are items to check if you have problems creating a materialized view.</p>
                  <div class="section">
                     <p>If you unsuccessfully attempt to create a materialized view, then try the following:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Ensure that you have the necessary privileges to create the materialized view. You need <code class="codeph">SELECT</code> privilege on the master table and its materialized view log. See <span class="q">"<a href="planning-for-read-only-materialized-views.html#GUID-51FE5233-2C70-48AF-ABAB-8A9EEC04B7C3" title="Both the creator and the owner of the materialized view must be able to issue the defining SELECT statement of the materialized view.">Required Privileges</a>"</span> for more information.
                           </p>
                        </li>
                        <li>
                           <p>If you are trying to create a fast refresh primary key or subquery materialized view, then ensure that the materialized view log on the master table logs primary keys.</p>
                        </li>
                        <li>
                           <p>If you are trying to create a fast refresh rowid materialized view, then ensure that the materialized view log on the master table logs rowids.</p>
                        </li>
                        <li>
                           <p>Check if the materialized view log has the required columns added for subquery materialized views. See <span class="q">"<a href="planning-for-read-only-materialized-views.html#GUID-FAAF0273-7321-4FD0-8A5D-A3A8364E10F9" title="When you create a materialized view log, you can add columns to the log to enable fast refreshes of materialized views.">Logging Columns in a Materialized View Log</a>"</span> for information.
                           </p>
                        </li>
                        <li>
                           <p>Check if the materialized view log exists for all tables that are involved in a fast refresh materialized view. If the materialized view contains a subquery, then each table referenced in the subquery should have a materialized view log.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-022C5C7F-2EC9-44CB-A74B-CC01600BCC17" title="You can diagnose and solve problems with database links, materialized view creation, and materialized view refresh.">Troubleshooting Problems with Read-Only Materialized Views</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7" name="GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7"></a><h3 id="ADMIN-GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7" class="sect3"><span class="enumeration_section">40.3 </span>Refresh Problems
               </h3>
               <p>You can diagnose and solve common refresh problems.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-68D5D2D0-94B7-4951-BFE8-E6083FE60119">Common Refresh Problems</a><br>Several common factors can prevent the automatic refresh of a group of materialized views.
                     </li>
                     <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-9D10D27A-A6A8-40C0-941F-AD0320908A6C">Automatic Refresh Retries</a><br>When Oracle Database fails to refresh a refresh group automatically, the refresh group remains due for its refresh to complete.
                     </li>
                     <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-C0F96EE9-322D-4C52-B486-952149E74A76">Fast Refresh Errors at New Materialized View Databases</a><br>In some cases, a materialized view log for a master table might be purged during the creation of a materialized view at a new materialized view database.
                     </li>
                     <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-F69475DA-438A-4061-A62C-8AD7EC88F250">Materialized Views Continually Refreshing</a><br>If you encounter a situation where Oracle Database continually refreshes a group of materialized views, then check the group's refresh interval.
                     </li>
                     <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-BDFE003D-90CD-4C58-B827-4A1029B97F97">Materialized View Logs Growing Too Large</a><br>If a materialized view log at a master database is growing too large, then check to see whether a network or database failure has prevented the master database from becoming aware that a materialized view has been dropped.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-022C5C7F-2EC9-44CB-A74B-CC01600BCC17" title="You can diagnose and solve problems with database links, materialized view creation, and materialized view refresh.">Troubleshooting Problems with Read-Only Materialized Views</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-68D5D2D0-94B7-4951-BFE8-E6083FE60119" name="GUID-68D5D2D0-94B7-4951-BFE8-E6083FE60119"></a><h4 id="ADMIN-GUID-68D5D2D0-94B7-4951-BFE8-E6083FE60119" class="sect4"><span class="enumeration_section">40.3.1 </span>Common Refresh Problems
                  </h4>
                  <div>
                     <p>Several common factors can prevent the automatic refresh of a group of materialized views.</p>
                     <p>These factors include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The lack of a job slave at the materialized view database</p>
                        </li>
                        <li>
                           <p>An intervening network or server failure</p>
                        </li>
                        <li>
                           <p>An intervening server shutdown</p>
                        </li>
                     </ul>
                     <p>When a refresh group is experiencing problems, ensure that none of the preceding situations is preventing Oracle Database from completing group refreshes.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7" title="You can diagnose and solve common refresh problems.">Refresh Problems</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-9D10D27A-A6A8-40C0-941F-AD0320908A6C" name="GUID-9D10D27A-A6A8-40C0-941F-AD0320908A6C"></a><h4 id="ADMIN-GUID-9D10D27A-A6A8-40C0-941F-AD0320908A6C" class="sect4"><span class="enumeration_section">40.3.2 </span>Automatic Refresh Retries
                  </h4>
                  <div>
                     <p>When Oracle Database fails to refresh a refresh group automatically, the refresh group remains due for its refresh to complete.</p>
                     <p>Oracle Database will retry an automatic refresh of a group with the following behavior:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle Database retries the refresh group refresh first one minute later, then two minutes later, four minutes later, and so on, with the retry interval doubling with each failed attempt to refresh the group.</p>
                        </li>
                        <li>
                           <p>Oracle Database does not allow the retry interval to exceed the refresh interval itself.</p>
                        </li>
                        <li>
                           <p>Oracle Database retries the automatic refresh up to sixteen times.</p>
                        </li>
                     </ul>
                     <p>If after 16 attempts to refresh a refresh group Oracle Database continues to encounter errors, then Oracle Database considers the group broken. You can query the <code class="codeph">BROKEN</code> column of the <a id="d336482e429" class="indexterm-anchor"></a><a id="d336482e431" class="indexterm-anchor"></a><a id="d336482e435" class="indexterm-anchor"></a><a id="d336482e437" class="indexterm-anchor"></a><code class="codeph">USER_REFRESH</code> and <code class="codeph">USER_REFRESH_CHILDREN</code> data dictionary views to see the current status of a refresh group.
                     </p>
                     <p><a id="d336482e448" class="indexterm-anchor"></a><a id="d336482e452" class="indexterm-anchor"></a>The errors causing Oracle Database to consider a refresh group broken are recorded in a trace file. After you correct the problems preventing a refresh group from refreshing successfully, you must refresh the refresh group manually. Oracle Database then resets the broken flag so that automatic refreshes can happen again.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9D10D27A-A6A8-40C0-941F-AD0320908A6C__GUID-0EB86D95-2E02-46A1-A23E-ECD77F8FB98A">
                        <p class="notep1">See Also:</p>
                        <p>The name of the materialized view trace file is of the form j<span class="italic">n</span>, where <span class="italic">n</span> is operating system specific. See the Oracle documentation for your operating system for the name on your system.
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7" title="You can diagnose and solve common refresh problems.">Refresh Problems</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-C0F96EE9-322D-4C52-B486-952149E74A76" name="GUID-C0F96EE9-322D-4C52-B486-952149E74A76"></a><h4 id="ADMIN-GUID-C0F96EE9-322D-4C52-B486-952149E74A76" class="sect4"><span class="enumeration_section">40.3.3 </span>Fast Refresh Errors at New Materialized View Databases
                  </h4>
                  <div>
                     <p>In some cases, a materialized view log for a master table might be purged during the creation of a materialized view at a new materialized view database.</p>
                     <p>When this happens, you might encounter the following errors:</p><pre class="oac_no_warn" dir="ltr">ORA-12004 REFRESH FAST cannot be used for materialized view <span class="italic">materialized_view_name</span>
ORA-12034 materialized view log on <span class="italic">materialized_view_name</span> younger than last refresh
</pre></div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C0F96EE9-322D-4C52-B486-952149E74A76__GUID-D8618FEE-AD36-4B05-B711-769DDB1856D0">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="creating-and-managing-read-only-materialized-views.html#GUID-9109BF91-5F00-4056-84D1-6D291F6BC584" title="After you have created a materialized view environment with one or more materialized view databases, you might need to add new materialized view databases.">Adding a New Materialized View Database</a>"</span> for a complete description of how to avoid this problem.
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7" title="You can diagnose and solve common refresh problems.">Refresh Problems</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-F69475DA-438A-4061-A62C-8AD7EC88F250" name="GUID-F69475DA-438A-4061-A62C-8AD7EC88F250"></a><h4 id="ADMIN-GUID-F69475DA-438A-4061-A62C-8AD7EC88F250" class="sect4"><span class="enumeration_section">40.3.4 </span>Materialized Views Continually Refreshing
                  </h4>
                  <div>
                     <p>If you encounter a situation where Oracle Database continually refreshes a group of materialized views, then check the group's refresh interval.</p>
                     <p>Oracle Database evaluates a refresh group's automatic refresh interval before starting the refresh. If a refresh group's refresh interval is less than the amount of time it takes to refresh all materialized views in the group, then Oracle Database continually starts a refresh group refresh each time the job slave checks the queue of outstanding jobs.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7" title="You can diagnose and solve common refresh problems.">Refresh Problems</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-BDFE003D-90CD-4C58-B827-4A1029B97F97" name="GUID-BDFE003D-90CD-4C58-B827-4A1029B97F97"></a><h4 id="ADMIN-GUID-BDFE003D-90CD-4C58-B827-4A1029B97F97" class="sect4"><span class="enumeration_section">40.3.5 </span>Materialized View Logs Growing Too Large
                  </h4>
                  <div>
                     <p>If a materialized view log at a master database is growing too large, then check to see whether a network or database failure has prevented the master database from becoming aware that a materialized view has been dropped.</p>
                     <p>You might need to purge part of the materialized view log or unregister the unused materialized view database.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7" title="You can diagnose and solve common refresh problems.">Refresh Problems</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-D6F3FD53-94D0-4653-B90D-161EC53A76AF" name="GUID-D6F3FD53-94D0-4653-B90D-161EC53A76AF"></a><h3 id="ADMIN-GUID-D6F3FD53-94D0-4653-B90D-161EC53A76AF" class="sect3"><span class="enumeration_section">40.4 </span>Advanced Troubleshooting of Refresh Problems
               </h3>
               <div>
                  <p>There are several items you can check if you have problems with refreshing a materialized view.</p>
                  <p>If you have a problem refreshing a materialized view, then try the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Check the <code class="codeph">NEXT_DATE</code> value in the <code class="codeph">DBA_REFRESH_CHILDREN</code> view to determine if the refresh has been scheduled.
                        </p>
                     </li>
                     <li>
                        <p>If the refresh interval has passed, then check the <code class="codeph">DBA_REFRESH</code> view for the associated job number for the materialized view refresh and then diagnose the problem with job queues.
                        </p>
                     </li>
                     <li>
                        <p>Check if there are job slaves running. Check the <code class="codeph">JOB_QUEUE_PROCESSES</code> initialization parameter, query the <code class="codeph">DBA_JOBS_RUNNING</code> view, and use your operating system to check if the job slaves are still running.
                        </p>
                     </li>
                     <li>
                        <p>You also might encounter an error if you attempt to define a master detail relationship between two materialized views. You should define master detail relationships only on the master tables by using declarative referential integrity constraints. The related materialized views should then be placed in the same refresh group to preserve this relationship. However, you can define deferred (or deferrable) constraints on materialized views.</p>
                     </li>
                     <li>
                        <p>Materialized views in the same refresh groups have their rows updated in a single transaction. Such a transaction can be very large, requiring either a large rollback segment at the materialized view database, with the rollback segment specified to be used during refresh, or more frequent refreshes to reduce the transaction size.</p>
                     </li>
                     <li>
                        <p>If Oracle error <code class="codeph">ORA-12004</code> occurs, then the master database might have run out of rollback segments when trying to maintain the materialized view log, or the materialized view log might be out of date. For example, the materialized view log might have been purged or re-created. 
                        </p>
                     </li>
                     <li>
                        <p>Complete refreshes of a single materialized view internally use the <code class="codeph">TRUNCATE</code> feature to increase speed and reduce rollback segment requirements. However, until the materialized view refresh is complete, users might temporarily see no data in the materialized view. Refreshes of multiple materialized views (for example, refresh groups) do not use the <code class="codeph">TRUNCATE</code> feature.
                        </p>
                     </li>
                     <li>
                        <p>Reorganization of the master table (for example, to reclaim system resources) should <code class="codeph">TRUNCATE</code> the master table to force rowid materialized views to do complete refreshes. Otherwise, the materialized views have incorrect references to master table rowids. You use the <code class="codeph">BEGIN_TABLE_REORGANIZATION</code> and <code class="codeph">END_TABLE_REORGANIZATION</code> procedures in the <code class="codeph">DBMS_MVIEW</code> package to reorganize a master table.
                        </p>
                     </li>
                     <li>
                        <p>If while refreshing you see an <code class="codeph">ORA-00942</code> (table or view does not exist), then check your database links and ensure that you still have the required privileges on the master table and the materialized view log.
                        </p>
                     </li>
                     <li>
                        <p>If a fast refresh was succeeding but then fails, then check whether:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The materialized view log was truncated, purged, or dropped.</p>
                           </li>
                           <li>
                              <p>You still have the required privileges on the materialized view log.</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>If a force refresh takes an inordinately long time, then check if the materialized view log used by the refresh has been dropped.</p>
                     </li>
                     <li>
                        <p>If the materialized view was created with <code class="codeph">BUILD</code> <code class="codeph">DEFERRED</code>, and its first fast refresh fails, then ensure that a previous complete refresh was done successfully before checking for other problems.
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-022C5C7F-2EC9-44CB-A74B-CC01600BCC17" title="You can diagnose and solve problems with database links, materialized view creation, and materialized view refresh.">Troubleshooting Problems with Read-Only Materialized Views</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>