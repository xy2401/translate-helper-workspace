<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Validating Database Files and Backups</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Backup and Recovery User's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Backup and Recovery User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-backup-and-recovery-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T05:20:45-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96241-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="diagnosing-repairing-failures-dra.html" title="Previous" type="text/html">
      <link rel="next" href="rman-complete-database-recovery.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery User's Guide">
    <meta name="dcterms.isVersionOf" content="BRADV">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="diagnosing-repairing-failures-dra.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="rman-complete-database-recovery.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Backup and Recovery User's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-diagnosing-responding-failures.html" property="item" typeof="WebPage"><span property="name"> Diagnosing and Responding to Failures </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Validating Database Files and Backups</li>
            </ol>
            <a id="GUID-CC967929-9610-410D-B881-66E71353D84C" name="GUID-CC967929-9610-410D-B881-66E71353D84C"></a><a id="BRADV90063"></a>
            
            <h2 id="BRADV-GUID-CC967929-9610-410D-B881-66E71353D84C" class="sect2"><span class="enumeration_chapter">16 </span>Validating Database Files and Backups
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter explains how to check the integrity of database files and backups. This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="validating-database-files-backups.html#GUID-B9656BE1-8D1A-47DB-A1CF-4B34EADC22D3" title="Validation enables you to check the integrity of your backups.">Overview of RMAN Validation</a></p>
                  </li>
                  <li>
                     <p><a href="validating-database-files-backups.html#GUID-044FA44E-2AEF-4BEB-A73D-EF9EA3253415" title="You can use the VALIDATE command to manually check for physical and logical corruptions in database files.">Checking for Block Corruption with the VALIDATE Command</a></p>
                  </li>
                  <li>
                     <p><a href="validating-database-files-backups.html#GUID-6BD7EA93-053E-4934-A453-6DA6726D093B" title="You can also use the BACKUP VALIDATE command to perform validation.">Validating Database Files with BACKUP VALIDATE</a></p>
                  </li>
                  <li>
                     <p><a href="validating-database-files-backups.html#GUID-18A4B00E-0D9B-410D-8ABB-2AC78DB99AA4" title="You can run RESTORE...VALIDATE to test whether RMAN can restore a specific file or set of files from a backup. RMAN chooses which backups to use.">Validating Backups Before Restoring Them</a></p>
                  </li>
                  <li>
                     <p><a href="validating-database-files-backups.html#GUID-38C5D149-AA48-473F-A69A-58EF4E9F665F" title="RMAN enables you to validate multitenant container databases (CDBs) and pluggable databases (PDBs) using the VALIDATE command.">Validating CDBs and PDBs</a></p>
                  </li>
               </ul>
            </div><a id="BRADV115"></a><div class="props_rev_3"><a id="GUID-B9656BE1-8D1A-47DB-A1CF-4B34EADC22D3" name="GUID-B9656BE1-8D1A-47DB-A1CF-4B34EADC22D3"></a><h3 id="BRADV-GUID-B9656BE1-8D1A-47DB-A1CF-4B34EADC22D3" class="sect3"><span class="enumeration_section">16.1 </span>Overview of RMAN Validation
               </h3>
               <p>Validation enables you to check the integrity of your backups.</p><a id="BRADV90064"></a><div class="props_rev_3"><a id="GUID-89FBF3FB-6F07-492C-90EC-A03DE728D6EE" name="GUID-89FBF3FB-6F07-492C-90EC-A03DE728D6EE"></a><h4 id="BRADV-GUID-89FBF3FB-6F07-492C-90EC-A03DE728D6EE" class="sect4"><span class="enumeration_section">16.1.1 </span>Purpose of RMAN Validation
                  </h4>
                  <div>
                     <p>The main purpose of RMAN validation is to check for corrupt blocks and missing files. You can also use RMAN to determine whether backups can be restored.</p>
                     <p>You can use the following RMAN commands to perform validation:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">VALIDATE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">BACKUP ... VALIDATE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">RESTORE ... VALIDATE</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-89FBF3FB-6F07-492C-90EC-A03DE728D6EE__GUID-BF4628FC-833B-4F91-8871-94631935AF7B">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../rcmrf/VALIDATE.html#RCMRF162" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> for <code class="codeph">VALIDATE</code> syntax
                              </p>
                           </li>
                           <li>
                              <p><a href="../rcmrf/RESTORE.html#RCMRF149" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> for <code class="codeph">RESTORE ... VALIDATE</code> syntax
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="BRADV90065"></a><div class="props_rev_3"><a id="GUID-BADB95CC-6C69-4B8B-B665-4A5A79B686B1" name="GUID-BADB95CC-6C69-4B8B-B665-4A5A79B686B1"></a><h4 id="BRADV-GUID-BADB95CC-6C69-4B8B-B665-4A5A79B686B1" class="sect4"><span class="enumeration_section">16.1.2 </span>Basic Concepts of RMAN Validation
                  </h4>
                  <div>
                     <p>The database prevents operations that result in unusable backup files or corrupted restored data files. </p>
                     <p>The database automatically does the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Blocks access to data files while they are being restored or recovered</p>
                        </li>
                        <li>
                           <p>Permits only one restore operation for each data file at a time</p>
                        </li>
                        <li>
                           <p>Ensures that incremental backups are applied in the correct order</p>
                        </li>
                        <li>
                           <p>Stores information in backup files to allow detection of corruption</p>
                        </li>
                        <li>
                           <p>Checks a block every time it is read or written in an attempt to report a corruption as soon as it has been detected</p>
                        </li>
                     </ul>
                  </div><a id="BRADV89566"></a><div class="props_rev_3"><a id="GUID-AC61DB02-C1ED-4132-B404-E4282B88AD7C" name="GUID-AC61DB02-C1ED-4132-B404-E4282B88AD7C"></a><h5 id="BRADV-GUID-AC61DB02-C1ED-4132-B404-E4282B88AD7C" class="sect5"><span class="enumeration_section">16.1.2.1 </span>About Checksums and Corrupt Blocks
                     </h5>
                     <div>
                        <p>A corrupt block is a block that has been changed so that it differs from what Oracle Database expects to find.</p>
                        <p>Block corruptions can be caused by several different failures including, but not limited to the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Faulty disks and disk controllers</p>
                           </li>
                           <li>
                              <p>Faulty memory</p>
                           </li>
                           <li>
                              <p>Oracle Database software defects</p>
                           </li>
                        </ul>
                        <p><code class="codeph">DB_BLOCK_CHECKSUM</code> is a database initialization parameter that controls the writing of checksums for the blocks in data files and online redo log files in the database (not backups). If <code class="codeph">DB_BLOCK_CHECKSUM</code> is <code class="codeph">typical</code>, then the database computes a checksum for each block during normal operations and stores it in the header of the block before writing it to disk. When the database reads the block from disk later, it recomputes the checksum and compares it to the stored value. If the values do not match, then the block is corrupt.
                        </p>
                        <p>By default, the <code class="codeph">BACKUP</code> command computes a checksum for each block and stores it in the backup. The <code class="codeph">BACKUP</code> command ignores the values of <code class="codeph">DB_BLOCK_CHECKSUM</code> because this initialization parameter applies to data files in the database, not backups.
                        </p>
                     </div>
                  </div><a id="BRADV991"></a><div class="props_rev_3"><a id="GUID-01E155AC-7665-4B81-8C99-DE65EB688C6C" name="GUID-01E155AC-7665-4B81-8C99-DE65EB688C6C"></a><h5 id="BRADV-GUID-01E155AC-7665-4B81-8C99-DE65EB688C6C" class="sect5"><span class="enumeration_section">16.1.2.2 </span>About Physical and Logical Block Corruption
                     </h5>
                     <div>
                        <p>In a physical corruption, which is also called a media corruption, the database does not recognize the block at all: the checksum is invalid, the block contains all zeros, or the header and footer of the block do not match. </p>
                        <div class="infoboxnote" id="GUID-01E155AC-7665-4B81-8C99-DE65EB688C6C__GUID-AE3CF202-AA4C-4E7E-A07F-CE43AB9CDD08">
                           <p class="notep1">Note:</p>
                           <p>By default, the <code class="codeph">BACKUP</code> command computes a checksum for each block and stores it in the backup. If you specify the <code class="codeph">NOCHECKSUM</code> option, then RMAN does not perform a checksum of the blocks when creating the backup.
                           </p>
                        </div>
                        <p>In a <a href="glossary.html#GUID-E55A74E5-8AD7-478F-A458-E4CB2E389009"><span class="xrefglossterm">logical corruption</span></a>, the contents of the block are logically inconsistent. Examples of logical corruption include corruption of a row piece or index entry. If RMAN detects logical corruption, then it logs the block in the alert log and server session trace file. 
                        </p>
                        <p>By default, RMAN does not check for logical corruption. If you specify <code class="codeph">CHECK LOGICAL</code> on the <code class="codeph">BACKUP</code> command, however, then RMAN tests data and index blocks for logical corruption, such as corruption of a row piece or index entry, and log them in the alert log located in the <a href="glossary.html#GUID-BDCE90D1-13B7-4D2C-A761-1583A238A247"><span class="xrefglossterm">Automatic Diagnostic Repository (ADR)</span></a>. If you use RMAN with the following configuration when backing up or restoring files, then it detects all types of block corruption that are possible to detect:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>In the initialization parameter file of a database, set <code class="codeph">DB_BLOCK_CHECKSUM=typical</code> so that the database calculates data file checksums automatically (not for backups, but for data files in use by the database)
                              </p>
                           </li>
                           <li>
                              <p>Do not precede the <code class="codeph">BACKUP</code> command with <code class="codeph">SET MAXCORRUPT</code> so that RMAN does not tolerate any unmarked block corruptions.
                              </p>
                           </li>
                           <li>
                              <p>In a <code class="codeph">BACKUP</code> command, do <span class="italic">not</span> specify the <code class="codeph">NOCHECKSUM</code> option so that RMAN calculates a checksum when writing backups
                              </p>
                           </li>
                           <li>
                              <p>In <code class="codeph">BACKUP</code> and <code class="codeph">RESTORE</code> commands, specify the <code class="codeph">CHECK</code> <code class="codeph">LOGICAL</code> option so that RMAN checks for logical and physical corruption
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="BRADV89567"></a><div class="props_rev_3"><a id="GUID-AB58202A-2674-46A7-937C-12AF482684F1" name="GUID-AB58202A-2674-46A7-937C-12AF482684F1"></a><h5 id="BRADV-GUID-AB58202A-2674-46A7-937C-12AF482684F1" class="sect5"><span class="enumeration_section">16.1.2.3 </span>About Limits for Corrupt Blocks in RMAN Backups
                     </h5>
                     <div>
                        <p>You can use the <code class="codeph">SET MAXCORRUPT</code> command to set the total number of unmarked corruptions permitted in a file for RMAN backups. The default is zero, meaning that RMAN does not tolerate unmarked corrupt blocks of any kind.
                        </p>
                        <p>If the <code class="codeph">MAXCORRUPT</code> limit is exceeded when RMAN encounters an unmarked corrupt block during a backup, then RMAN terminates the backup. Otherwise, RMAN writes the newly detected corrupt block to the backup with a special header indicating that the block is marked corrupt. You can use the <code class="codeph">VALIDATE</code> command to determine which blocks are marked as corrupt and to find any unmarked corrupt blocks.
                        </p>
                        <p>Because RMAN allows marked corrupt blocks in a backup, and because RMAN can be instructed to allow unmarked corrupt blocks to be marked as corrupt in the backup (when <code class="codeph">MAXCORRUPT</code> is used), it is possible to restore a data file that has several blocks marked as corrupt. If you backup this restored data file (assuming no new corruptions have happened), even without <code class="codeph">MAXCORRUPT</code> setting, the backup succeeds. This is because the previously marked corruptions do not stop RMAN from completing the backup.
                        </p>
                        <div class="infoboxnotealso" id="GUID-AB58202A-2674-46A7-937C-12AF482684F1__GUID-B399F994-1A8C-4F95-B7A7-8F42AB5F119D">
                           <p class="notep1">See Also:</p>
                           <p><a href="../rcmrf/SET.html#RCMRF153" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> for <code class="codeph">SET MAXCORRUPT</code> syntax
                           </p>
                        </div>
                     </div>
                  </div><a id="BRADV336"></a><a id="BRADV994"></a><div class="props_rev_3"><a id="GUID-C9F93B27-D13F-465D-A32C-CF6B092CE2F0" name="GUID-C9F93B27-D13F-465D-A32C-CF6B092CE2F0"></a><h5 id="BRADV-GUID-C9F93B27-D13F-465D-A32C-CF6B092CE2F0" class="sect5"><span class="enumeration_section">16.1.2.4 </span>About Detecting Block Corruption
                     </h5>
                     <div>
                        <p>Oracle Database supports different techniques for detecting, repairing, and monitoring block corruption.</p>
                        <p>The technique depends on whether the corruption is <a href="glossary.html#GUID-8D895C8A-D749-48C1-92A6-A31D5BFCFE4D"><span class="xrefglossterm">interblock corruption</span></a> or <a href="glossary.html#GUID-F0CE8BEB-71A3-4313-ABEF-244E6C8BCC05"><span class="xrefglossterm">intrablock corruption</span></a>. In intrablock corruption, the corruption occurs within the block itself. This corruption can be either physical or logical. In an interblock corruption, the corruption occurs between blocks and can only be logical.
                        </p>
                        <p>For example, the <a href="../refrn/V-DATABASE_BLOCK_CORRUPTION.html#REFRN30048" target="_blank"><code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code></a> view records intrablock corruptions, while the <a id="d73958e879" class="indexterm-anchor"></a><a href="glossary.html#GUID-BDCE90D1-13B7-4D2C-A761-1583A238A247"><span class="xrefglossterm">Automatic Diagnostic Repository (ADR)</span></a> tracks all types of corruptions. <a href="validating-database-files-backups.html#GUID-C9F93B27-D13F-465D-A32C-CF6B092CE2F0__CHDEICIB" title="Describes how the database handles block corruption.">Table 16-1</a> summarizes how the database treats different types of block corruption.
                        </p>
                        <div class="tblformalwide" id="GUID-C9F93B27-D13F-465D-A32C-CF6B092CE2F0__CHDEICIB">
                           <p class="titleintable">Table 16-1 Detection, Repair, and Monitoring of Block Corruption</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Detection, Repair, and Monitoring of Block Corruption" summary="Describes how the database handles block corruption." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="14%" id="d73958e900">Response</th>
                                    <th align="left" valign="bottom" width="43%" id="d73958e903">Intrablock Corruption</th>
                                    <th align="left" valign="bottom" width="43%" id="d73958e906">Interblock Corruption</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d73958e911" headers="d73958e900 ">
                                       <p>Detection</p>
                                    </td>
                                    <td align="left" valign="top" width="43%" headers="d73958e911 d73958e903 ">
                                       <p>All database utilities detect intrablock corruption, including RMAN (for example, the <code class="codeph">BACKUP</code> command) and the DBVERIFY utility. If a database process can encounter the <code class="codeph">ORA-1578</code> error, then it can detect the corruption and monitor it.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="43%" headers="d73958e911 d73958e906 ">
                                       <p>Only DBVERIFY and the <code class="codeph">ANALYZE</code> statement detect interblock corruption.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d73958e930" headers="d73958e900 ">
                                       <p>Tracking</p>
                                    </td>
                                    <td align="left" valign="top" width="43%" headers="d73958e930 d73958e903 ">
                                       <p>The <code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code> view displays blocks marked corrupt by Oracle Database components such as RMAN commands, <code class="codeph">ANALYZE</code>, SQL queries, and so on. Any process that encounters an intrablock corruption records the block corruption in this view and in ADR. 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="43%" headers="d73958e930 d73958e906 ">
                                       <p>The database monitors this type of block corruption in ADR.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d73958e946" headers="d73958e900 ">
                                       <p>Repair</p>
                                    </td>
                                    <td align="left" valign="top" width="43%" headers="d73958e946 d73958e903 ">
                                       <p>Repair techniques include <a href="glossary.html#GUID-923A509A-1C36-4EA4-91C8-6E4F372722C0"><span class="xrefglossterm">block media recovery</span></a>, restoring data files, recovering with incremental backups, and block newing. Block media recovery can repair physical corruptions, but not logical corruptions.
                                       </p>
                                       <p>Any RMAN command that fixes or detects that a block is repaired updates <code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code>. For example, RMAN updates the repository at end of successful block media recovery. If a <code class="codeph">BACKUP</code>, <code class="codeph">RESTORE</code>, or <code class="codeph">VALIDATE</code> command detects that a block is no longer corrupted, then it removes the repaired block from the view.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="43%" headers="d73958e946 d73958e906 ">
                                       <p>You must fix interblock corruption using manual techniques such as dropping an object, rebuilding an index, and so on.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-C9F93B27-D13F-465D-A32C-CF6B092CE2F0__GUID-2850888D-BB01-48E6-818A-33C79E0F4709">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="rman-complete-database-recovery.html#GUID-D908719C-9D46-4084-850C-0F81C25094EB" title="Complete recovery returns your database to normal operation after the loss of one or more database files.Complete recovery is recovering a database to the most recent point in time, without the loss of any committed transactions.The complete recovery operations described in this chapter are subject to certain conditions.Zero Data Loss Recovery Appliance (Recovery Appliance) substantially reduces the window of potential data loss that exists between successive archived redo log backups. You to recover target databases to within a few subseconds of a database failure.You must plan your database restore and recovery strategy based on your recovery goal and which database files have been lost.The techniques for determining which files require restore or recovery depend upon the type of file that is lost.The database shuts down immediately when any of the multiplexed control files become inaccessible. The decision about when and how to recover depends on the state of the database and the location of its data files.An easy technique for determining which data files are missing is to run a VALIDATE DATABASE command. Although VALIDATE DATABASE is a good technique for determining whether files are inaccessible, you may want to use SQL queries to obtain more detailed information. It is recommended that you record the DBID of your database.Previewing backups helps you to ensure that all backups required for a restore and recovery operation are available.An offsite backup is stored in a remote location, such as a secure storage facility, and cannot be restored unless the media manager retrieves the media.Validating backups determines if the backups are usable.RMAN restores archived redo log files from backup automatically as needed to perform recovery.RMAN enables you to override the default location for restored archived redo log files.To manage disk space that is used to contain the restored logs, you can specify restore destinations for archived logs multiple times in one RUN block, to distribute restored logs among several destinations.For backups encrypted using certain techniques, you must provide the password that will be used to decrypt these backups.During complete recovery RMAN restores one or more data files and then applies all the redo generated after the restored backup.You use the RESTORE and RECOVER commands to restore and recover the database. If you cannot restore data files to their default locations, then you must update the control file to reflect the new locations of the data files.This scenario assumes that database trgt has lost most or all of its data files. It also assumes that the database uses a fast recovery area.Use the RESTORE and RECOVER commands with the TABLESPACE option to perform complete recovery of a tablespaceYou can recover a database by switching to image copies of inaccessible data files. This technique takes less time than traditional restore and recovery because no backups need to be restored.When one or more data files are damaged, you can perform recovery by switching to existing image copies of the damaged data files.You can perform complete database recovery by switching to image copies of the damaged data files instead of restoring these data files.RMAN and Oracle Enterprise Manager Cloud Control (Cloud Control) provide full support for backup and recovery in a multitenant environment. When you recover a whole CDB, you recover the root and all PDBs in a single operation.You might consider recovering only the root if a data corruption or user error occurs that affects only the root.You can perform complete recovery of one or more PDBs without affecting operations of other open PDBs.Enterprise Manager Cloud Control (Cloud Control) provides an interface to recover PDBs.Use the RECOVER command to perform complete recovery using preplugin backups.Preplugin backups are used to restore and recover a PDB to its state at a time in the past that was before the PDB was plugged in to the current CDB. RMAN performs complete recovery of a PDB using preplugin backups. These preplugin backups were created on a source non-CDB or a source CDB before the PDB was migrated to the current target CDB. This example performs complete recovery of a PDB my_pdb in the destination CDB prod_cdb using preplugin backups.Because tablespaces in different PDBs can have the same name, to eliminate ambiguity, you must connect directly to a PDB to recover one or more of its tablespaces. In contrast, because data file numbers and paths are unique across the CDB, you can connect either to the root or to a PDB when recovering PDB data files.Oracle Enterprise Manager Cloud Control (Cloud Control) provides an interface to recover tablespaces within a PDB.Recovering a CDB by switching to a copy is faster than traditional restore and recovery.RMAN enables you to use the RESTORE and RECOVER commands to perform complete recovery of the application containers without impacting the other containers in the CDB.Use the RESTORE and RECOVER commands to perform complete recovery of the application root.You can perform complete recovery of an application container, which includes the application root and all its application PDBs without impacting the other PDBs within the CDB.Use the RESTORE and RECOVER commands to perform complete recovery of one or more application PDBs.You can recover sparse databases to the most recent point in time using the RESTORE and RECOVER commands.Performing recovery of a database containing sparse data files is very similar to performing recovery of a whole database.Performing recovery of a sparse CDB is very similar to performing the complete recovery of a sparse database. You can recover a sparse PDB while you are connected at the root level or at the CDB level.">Performing Complete Database Recovery</a></p>
                              </li>
                              <li>
                                 <p><a href="rman-block-media-recovery.html#GUID-1E226393-17D0-4AB0-A05D-91210255D8FF" title="Block media recovery recovers provides lower mean time to recover (MTTR) by recovering corrupt data blocks.Use block media recovery to recover one or more corrupt data blocks within a data file. Usually, the database marks a block as media corrupt and then writes it to disk when the corruption is first encountered. No subsequent read of the block is successful until the block is recovered. You can perform block recovery only on blocks that are marked corrupt or that fail a corruption check.Block recovery behavior depends on whether the data block corruption was discovered on the primary database or the physical standby database.The V$DATABASE_BLOCK_CORRUPTION view displays blocks marked corrupt by database components such as RMAN, ANALYZE, and SQL queries.Block media recovery only requires an unbroken set of redo changes for the blocks being recovered. This is unlike data file recovery that requires an unbroken series of redo changes from the beginning of recovery to the end.Certain prerequisites must be met before you perform block media recovery by using the RECOVER ... BLOCK command.Use the RECOVER...BLOCK command to recover individual corrupt blocks in a data file.You identify the blocks that require recovery and then use any available backup to restore and recover these blocks.You can use the Data Recovery Advisor to diagnose and repair failures caused by data block corruptions. In this example, corrupt data blocks were discovered when the VALIDATE DATABASE command.RMAN can automatically recover all blocks listed in the V$DATABASE_BLOCK_CORRUPTION view.">Performing Block Media Recovery</a></p>
                              </li>
                              <li>
                                 <p><a href="../admin/diagnosing-and-resolving-problems.html#ADMIN11257" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn about ADR
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="BRADV337"></a><a id="BRADV613"></a><a id="BRADV338"></a><a id="BRADV89563"></a><div class="props_rev_3"><a id="GUID-044FA44E-2AEF-4BEB-A73D-EF9EA3253415" name="GUID-044FA44E-2AEF-4BEB-A73D-EF9EA3253415"></a><h3 id="BRADV-GUID-044FA44E-2AEF-4BEB-A73D-EF9EA3253415" class="sect3"><span class="enumeration_section">16.2 </span>Checking for Block Corruption with the VALIDATE Command
               </h3>
               <div>
                  <p>You can use the <code class="codeph">VALIDATE</code> command to manually check for physical and logical corruptions in database files. 
                  </p>
                  <div class="section">
                     <p>This command performs the same types of checks as <code class="codeph">BACKUP VALIDATE</code>, but <code class="codeph">VALIDATE</code> can check a larger selection of objects. For example, you can validate individual blocks with the <code class="codeph">VALIDATE DATAFILE ... BLOCK</code> command.
                     </p>
                     <p>To specify a copy number for the backup piece being validated, run the <code class="codeph">VALIDATE FROM COPY NUMBER</code> command.
                     </p>
                     <p>When validating whole files, RMAN checks every block of the input files. If the backup validation discovers previously unmarked corrupt blocks, then RMAN updates the <code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code> view with rows describing the corruptions.
                     </p>
                     <p>Use <code class="codeph">VALIDATE BACKUPSET</code> when you suspect that one or more backup pieces in a backup set are missing or have been damaged. This command checks every block in a backup set to ensure that the backup can be restored. If RMAN finds block corruption, then it issues an error and terminates the validation. The command <code class="codeph">VALIDATE BACKUPSET</code> enables you to choose which backups to check, whereas the <code class="codeph">VALIDATE</code> option of the <code class="codeph">RESTORE</code> command lets RMAN choose.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-044FA44E-2AEF-4BEB-A73D-EF9EA3253415__GUID-64F9EA34-AF9A-4976-8D29-9E5FABF9DB02">To use VALIDATE to check database files and backups:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ol>
                        <li>
                           <p>Start RMAN and connect to a target database.</p>
                           <div class="infoboxnotealso" id="GUID-044FA44E-2AEF-4BEB-A73D-EF9EA3253415__GUID-5425CB18-E8EB-4A55-82EB-8E27F1642EAC">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="starting-interacting-with-rman-client.html#GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" title="You can create database connections from the RMAN client or the operating system command line. These database connection can be authenticated using a password file or with operating system authentication.">Making Database Connections with RMAN</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>Execute the <code class="codeph">VALIDATE</code> command with the desired options.
                           </p>
                           <p>For example, to validate all data files and control files (and the server parameter file if one is in use), execute the following command at the RMAN prompt:</p><pre class="pre codeblock"><code>RMAN&gt; VALIDATE DATABASE;
</code></pre><p>Alternatively, you can validate a particular backup set by using the form of the command shown in the following example (sample output included).</p><pre class="pre codeblock"><code>RMAN&gt; VALIDATE BACKUPSET 22;

Starting validate at 17-AUG-13
using channel ORA_DISK_1
allocated channel: ORA_SBT_TAPE_1
channel ORA_SBT_TAPE_1: SID=89 device type=SBT_TAPE
channel ORA_SBT_TAPE_1: Oracle Secure Backup
channel ORA_DISK_1: starting validation of datafile backup set
channel ORA_DISK_1: reading from backup piece
/disk1/oracle/work/orcva/RDBMS/backupset/2013_08_16/o1_mf_nnndf_
TAG20130816T153034_2g774bt2_.bkp
channel ORA_DISK_1: piece
handle=/disk1/oracle/work/orcva/RDBMS/backupset/2013_08_16/o1_mf_nnndf_
TAG20130816T153034_2g774bt2_.bkp tag=TAG20130816T153034
channel ORA_DISK_1: restored backup piece 1
channel ORA_DISK_1: validation complete, elapsed time: 00:00:01
Finished validate at 17-AUG-13
</code></pre><p>The following example illustrates how you can check individual data blocks within a data file for corruption.</p><pre class="pre codeblock"><code>RMAN&gt; VALIDATE DATAFILE 1 BLOCK 10;
 
Starting validate at 17-AUG-13
using channel ORA_DISK_1
channel ORA_DISK_1: starting validation of datafile
channel ORA_DISK_1: specifying datafile(s) for validation
input datafile file number=00001 name=/disk1/oracle/dbs/tbs_01.f
channel ORA_DISK_1: validation complete, elapsed time: 00:00:01
List of Datafiles
=================
File Status Marked Corrupt Empty Blocks Blocks Examined High SCN
---- ------ -------------- ------------ --------------- ----------
1    OK     0              2            127             481907
  File Name: /disk1/oracle/dbs/tbs_01.f
  Block Type Blocks Failing Blocks Processed
  ---------- -------------- ----------------
  Data       0              36
  Index      0              31
  Other      0              58

Finished validate at 17-AUG-13</code></pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-044FA44E-2AEF-4BEB-A73D-EF9EA3253415__CHDDJJAI">
                     <p class="subhead2" id="GUID-044FA44E-2AEF-4BEB-A73D-EF9EA3253415__GUID-5DBB8938-FF83-47B2-8E0E-AF2C6D3E8804">Make Parallel the Validation of a Data File</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>If you must validate a large data file, then RMAN can make the work parallel by dividing the file into sections and processing each <a href="glossary.html#GUID-FDECFF77-1833-4BD3-A23C-AA4806E28241"><span class="xrefglossterm">file section</span></a> in parallel. If multiple channels are configured or allocated, and if you want the channels to make parallel the validation, then specify the <code class="codeph">SECTION SIZE</code> parameter of the <code class="codeph">VALIDATE</code> command.
                     </p>
                     <p>If you specify a section size that is larger than the size of the file, then RMAN does not create file sections. If you specify a small section size that would produce more than 256 sections, then RMAN increases the section size to a value that results in exactly 256 sections.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-044FA44E-2AEF-4BEB-A73D-EF9EA3253415__GUID-3C8371AB-2C78-498C-8B28-382F8EFB776B">To make parallel the validation of a data file:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Start RMAN and connect to a target database. The target database must be mounted or open.</span></li>
                     <li class="stepexpand"><span>Run <code class="codeph">VALIDATE</code> with the <code class="codeph">SECTION SIZE</code> parameter.</span><div>
                           <p>The following example allocates two channels and validates a large data file. The section size is 1200 MB.</p><pre class="pre codeblock"><code>RUN
{
  ALLOCATE CHANNEL c1 DEVICE TYPE DISK;
  ALLOCATE CHANNEL c2 DEVICE TYPE DISK;
  VALIDATE DATAFILE 1 SECTION SIZE 1200M;
}</code></pre></div>
                     </li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-044FA44E-2AEF-4BEB-A73D-EF9EA3253415__GUID-DF933C00-C1F8-459A-B8EA-8A76045853FC">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="backing-up-database-advanced.html#GUID-F2D9FF2D-9E1C-4D38-AD8E-88B6B32F02B4" title="If you specify the SECTION SIZE parameter on the BACKUP command, then RMAN creates a backup set in which each backup piece contains the blocks from one file section.">Dividing the Backup of a Large Data File into Sections</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../rcmrf/VALIDATE.html#RCMRF162" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> to learn about the <code class="codeph">VALIDATE</code> command
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="BRADV339"></a><a id="BRADV89562"></a><div class="props_rev_3"><a id="GUID-6BD7EA93-053E-4934-A453-6DA6726D093B" name="GUID-6BD7EA93-053E-4934-A453-6DA6726D093B"></a><h3 id="BRADV-GUID-6BD7EA93-053E-4934-A453-6DA6726D093B" class="sect3"><span class="enumeration_section">16.3 </span>Validating Database Files with BACKUP VALIDATE
               </h3>
               <div>
                  <p>You can also use the <code class="codeph">BACKUP VALIDATE</code> command to perform validation.
                  </p>
                  <div class="section">
                     <p>This command can perform the following tasks:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Check data files for physical and logical block corruption</p>
                        </li>
                        <li>
                           <p>Confirm that all database files exist and are in the correct locations</p>
                        </li>
                     </ul>
                     <p>When you run <code class="codeph">BACKUP VALIDATE</code>, RMAN reads the files to be backed up in their entirety, as it does during a real backup. RMAN does not, however, actually produce any backup sets or image copies. 
                     </p>
                     <p>You cannot use the <code class="codeph">BACKUPSET</code>, <code class="codeph">MAXCORRUPT</code>, or <code class="codeph">PROXY</code> parameters with <code class="codeph">BACKUP VALIDATE</code>. To validate specific backup sets, run the <code class="codeph">VALIDATE</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6BD7EA93-053E-4934-A453-6DA6726D093B__GUID-CA3A6E88-0E33-42BD-8F8D-17D44A133E61">To validate files with the BACKUP VALIDATE command:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Start RMAN and connect to a target database and recovery catalog (if used).</span></li>
                     <li class="stepexpand"><span>Run the <code class="codeph">BACKUP VALIDATE</code> command.</span><div>
                           <p>For example, you can validate that all database files and archived logs can be backed up by running a command as shown in the following example. This command checks for physical corruptions only.</p><pre class="pre codeblock"><code>BACKUP VALIDATE 
  DATABASE 
  ARCHIVELOG ALL;
</code></pre><p>To check for logical corruptions in addition to physical corruptions, run the following variation of the preceding command:</p><pre class="pre codeblock"><code>BACKUP VALIDATE 
  CHECK LOGICAL 
  DATABASE 
  ARCHIVELOG ALL;
</code></pre><p>In the preceding examples, the RMAN client displays the same output as when really backing up the files. If RMAN cannot back up one or more of the files, then it issues an error message. For example, RMAN may show output similar to the following:</p><pre class="pre codeblock"><code>RMAN-00571: ===========================================================
RMAN-00569: =============== ERROR MESSAGE STACK FOLLOWS ===============
RMAN-00571: ===========================================================
RMAN-03002: failure of backup command at 08/29/2013 14:33:47
ORA-19625: error identifying file /oracle/oradata/trgt/arch/archive1_6.dbf
ORA-27037: unable to obtain file status
SVR4 Error: 2: No such file or directory
Additional information: 3</code></pre></div>
                     </li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-6BD7EA93-053E-4934-A453-6DA6726D093B__GUID-E0DE2F03-0410-4A85-9F5A-A477C28FACCE">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../rcmrf/BACKUP.html#RCMRF107" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> for <code class="codeph">BACKUP</code> syntax
                              </p>
                           </li>
                           <li>
                              <p><a href="rman-block-media-recovery.html#GUID-1E226393-17D0-4AB0-A05D-91210255D8FF" title="Block media recovery recovers provides lower mean time to recover (MTTR) by recovering corrupt data blocks.Use block media recovery to recover one or more corrupt data blocks within a data file. Usually, the database marks a block as media corrupt and then writes it to disk when the corruption is first encountered. No subsequent read of the block is successful until the block is recovered. You can perform block recovery only on blocks that are marked corrupt or that fail a corruption check.Block recovery behavior depends on whether the data block corruption was discovered on the primary database or the physical standby database.The V$DATABASE_BLOCK_CORRUPTION view displays blocks marked corrupt by database components such as RMAN, ANALYZE, and SQL queries.Block media recovery only requires an unbroken set of redo changes for the blocks being recovered. This is unlike data file recovery that requires an unbroken series of redo changes from the beginning of recovery to the end.Certain prerequisites must be met before you perform block media recovery by using the RECOVER ... BLOCK command.Use the RECOVER...BLOCK command to recover individual corrupt blocks in a data file.You identify the blocks that require recovery and then use any available backup to restore and recover these blocks.You can use the Data Recovery Advisor to diagnose and repair failures caused by data block corruptions. In this example, corrupt data blocks were discovered when the VALIDATE DATABASE command.RMAN can automatically recover all blocks listed in the V$DATABASE_BLOCK_CORRUPTION view.">Performing Block Media Recovery</a>to learn how to repair corrupt blocks discovered by <code class="codeph">BACKUP</code> <code class="codeph">VALIDATE</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="BRADV340"></a><a id="BRADV8156"></a><div class="props_rev_3"><a id="GUID-18A4B00E-0D9B-410D-8ABB-2AC78DB99AA4" name="GUID-18A4B00E-0D9B-410D-8ABB-2AC78DB99AA4"></a><h3 id="BRADV-GUID-18A4B00E-0D9B-410D-8ABB-2AC78DB99AA4" class="sect3"><span class="enumeration_section">16.4 </span>Validating Backups Before Restoring Them
               </h3>
               <div>
                  <p>You can run <code class="codeph">RESTORE...VALIDATE</code> to test whether RMAN can restore a specific file or set of files from a backup. RMAN chooses which backups to use.
                  </p>
                  <div class="section">
                     <p>The database must be mounted or open for this command. You do not have to take data files offline when validating the restore of data files, because validation of backups of the data files only reads the backups and does not affect the production data files.</p>
                     <p>When validating files on disk or tape, RMAN reads all blocks in the backup piece or image copy. RMAN also validates offsite backups. The validation is identical to a real restore operation except that RMAN does not write output files.</p>
                     <p>RMAN also allows to specify a copy number for the backup pieces being validated.</p>
                     <div class="infoboxnote" id="GUID-18A4B00E-0D9B-410D-8ABB-2AC78DB99AA4__GUID-B4246061-54BF-43AF-8430-0AEFF88084DE">
                        <p class="notep1">Note:</p>
                        <p>As an additional test measure, you can perform a <a href="glossary.html#GUID-20FF4FE0-3ABD-4773-A857-6CF062C7D028"><span class="xrefglossterm">trial recovery</span></a> with the <code class="codeph">RECOVER ... TEST</code> command. A trial recovery applies redo in a way similar to normal recovery, but it is in memory only and it rolls back its changes after the trial.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-18A4B00E-0D9B-410D-8ABB-2AC78DB99AA4__GUID-F245DEF5-220C-4CEB-891C-CAE458E3B5D7">To validate backups with the RESTORE command:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Run the <code class="codeph">RESTORE</code> command with the <code class="codeph">VALIDATE</code> option.</span><div>
                           <p>This following example illustrates validating the restore of the database and all archived redo logs:</p><pre class="pre codeblock"><code>RESTORE DATABASE VALIDATE;
RESTORE ARCHIVELOG ALL VALIDATE;
</code></pre><p>If you do <span class="italic">not</span> see an RMAN error stack, then skip the subsequent steps. The lack of error messages means that RMAN had confirmed that it can use these backups successfully during a real restore and recovery.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>If you see error messages in the output and the <code class="codeph">RMAN-06026</code> message, then investigate the cause of the problem. If possible, correct the problem that is preventing RMAN from validating the backups and retry the validation.</span><div>
                           <p>The following error means that RMAN cannot restore one or more of the specified files from your available backups:</p><pre class="oac_no_warn" dir="ltr">RMAN-06026: some targets not found - aborting restore
</pre><p>The following sample output shows that RMAN encountered a problem reading the specified backup:</p><pre class="oac_no_warn" dir="ltr">RMAN-03009: failure of restore command on c1 channel at 12-DEC-12 23:22:30
ORA-19505: failed to identify file "oracle/dbs/1fafv9gl_1_1"
ORA-27037: unable to obtain file status
SVR4 Error: 2: No such file or directory
Additional information: 3</pre></div>
                     </li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-18A4B00E-0D9B-410D-8ABB-2AC78DB99AA4__GUID-74D0C130-60D7-4280-B4C9-54FD839256EF">
                        <p class="notep1">See Also:</p>
                        <p><a href="../rcmrf/RESTORE.html#RCMRF149" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> to learn about the <code class="codeph">RESTORE...VALIDATE</code> command
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="BRADV635"></a><div class="props_rev_3"><a id="GUID-38C5D149-AA48-473F-A69A-58EF4E9F665F" name="GUID-38C5D149-AA48-473F-A69A-58EF4E9F665F"></a><h3 id="BRADV-GUID-38C5D149-AA48-473F-A69A-58EF4E9F665F" class="sect3"><span class="enumeration_section">16.5 </span>Validating CDBs and PDBs
               </h3>
               <div>
                  <p>RMAN enables you to validate multitenant container databases (CDBs) and pluggable databases (PDBs) using the <code class="codeph">VALIDATE</code> command. 
                  </p>
                  <p>You can also choose to specify a copy number for the backup pieces being validated for both CDBs and PDBs. </p>
                  <p>All of the procedures in this chapter apply to CDBs, with the differences described in the following sections:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="validating-database-files-backups.html#GUID-3875BD93-150E-410B-B5B5-0AB4D1061759" title="The steps to validate a CDB are similar to the ones used to validate a non-CDB.">Validating a Whole CDB</a></p>
                     </li>
                     <li>
                        <p><a href="validating-database-files-backups.html#GUID-83212DB5-4D0F-4EC0-950C-985FC053263E" title="There are multiple methods to validate PDBs.">Validating PDBs</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV744"></a><div class="props_rev_3"><a id="GUID-3875BD93-150E-410B-B5B5-0AB4D1061759" name="GUID-3875BD93-150E-410B-B5B5-0AB4D1061759"></a><h4 id="BRADV-GUID-3875BD93-150E-410B-B5B5-0AB4D1061759" class="sect4"><span class="enumeration_section">16.5.1 </span>Validating a Whole CDB
                  </h4>
                  <div>
                     <p>The steps to validate a CDB are similar to the ones used to validate a non-CDB. </p>
                     <div class="section">
                        <p>The only difference is that you must connect to the <a href="glossary.html#GUID-EA3DB8F4-F68E-4FC5-A599-32A4886FFF8A"><span class="xrefglossterm">root</span></a> as a <a href="glossary.html#GUID-2B102186-15BD-443C-B375-8CB0D442CF5F"><span class="xrefglossterm">common user</span></a> with the common <code class="codeph">SYSBACKUP</code> or <code class="codeph">SYSDBA</code> privilege. Then, use the <code class="codeph">VALIDATE DATABASE</code> and <code class="codeph">RESTORE DATABASE VALIDATE</code> commands.
                        </p>
                        <div class="infoboxnotealso" id="GUID-3875BD93-150E-410B-B5B5-0AB4D1061759__GUID-5F233E57-1CD3-43A6-B139-F855D0B048D0">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="starting-interacting-with-rman-client.html#GUID-B397ADD8-D9CF-4DDA-B6AC-8C5FF04447AD" title="You can connect the RMAN client to multitenant container databases (CDBs) and pluggable databases (PDBs).">Making RMAN Connections to a CDB</a>"</span></p>
                        </div>
                        <p>The following command, when connected to the root, validates the whole CDB:</p><pre class="pre codeblock"><code>VALIDATE DATABASE;
</code></pre><p>The following command validates the root:</p><pre class="pre codeblock"><code>VALIDATE DATABASE ROOT;
</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV745"></a><div class="props_rev_3"><a id="GUID-83212DB5-4D0F-4EC0-950C-985FC053263E" name="GUID-83212DB5-4D0F-4EC0-950C-985FC053263E"></a><h4 id="BRADV-GUID-83212DB5-4D0F-4EC0-950C-985FC053263E" class="sect4"><span class="enumeration_section">16.5.2 </span>Validating PDBs
                  </h4>
                  <div>
                     <p>There are multiple methods to validate PDBs.</p>
                     <div class="section">
                        <p>Use one of the following techniques to validate PDBs:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Connect to the root and use the <code class="codeph">VALIDATE PLUGGABLE DATABASE</code> or <code class="codeph">RESTORE PLUGGABLE DATABASE VALIDATE</code> command. This enables you to validate one or more PDBs.
                              </p>
                              <p>The following command, when connected to the root, validates the PDBs <code class="codeph">hr_pdb</code> and <code class="codeph">sales_pdb</code>.
                              </p><pre class="oac_no_warn" dir="ltr">VALIDATE PLUGGABLE DATABASE hr_pdb, sales_pdb;
</pre></li>
                           <li>
                              <p>Connect to the PDB and use the <code class="codeph">VALIDATE DATABASE</code> and <code class="codeph">RESTORE DATABASE VALIDATE</code> commands to validate only one PDB. The commands used here are the same commands that you would use for a non-CDB.
                              </p>
                              <p>The following command, when connected to a PDB, validates the restore of the database.</p><pre class="oac_no_warn" dir="ltr">RESTORE DATABASE VALIDATE;
</pre></li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-83212DB5-4D0F-4EC0-950C-985FC053263E__GUID-4A45786F-3945-440E-80EC-A6889A183F4D">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="starting-interacting-with-rman-client.html#GUID-B397ADD8-D9CF-4DDA-B6AC-8C5FF04447AD" title="You can connect the RMAN client to multitenant container databases (CDBs) and pluggable databases (PDBs).">Making RMAN Connections to a CDB</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>