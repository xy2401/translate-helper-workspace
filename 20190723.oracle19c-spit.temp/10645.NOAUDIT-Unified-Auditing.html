<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>NOAUDIT (Unified Auditing)</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="NOAUDIT-Traditional-Auditing.html" title="Previous" type="text/html">
      <link rel="next" href="PURGE.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="NOAUDIT-Traditional-Auditing.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="PURGE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-MERGE-to-UPDATE.html" property="item" typeof="WebPage"><span property="name">SQL Statements: MERGE to UPDATE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">NOAUDIT (Unified Auditing)</li>
            </ol>
            <a id="GUID-EB92BE04-B09C-493F-952E-9629E739900E" name="GUID-EB92BE04-B09C-493F-952E-9629E739900E"></a><a id="SQLRF56113"></a><a id="SQLRF56195"></a><a id="SQLRF56196"></a><a id="SQLRF56198"></a><a id="SQLRF56436"></a><a id="SQLRF56437"></a><a id="SQLRF56438"></a><a id="SQLRF56439"></a><a id="SQLRF56440"></a><a id="SQLRF56112"></a>
            
            <h2 id="SQLRF-GUID-EB92BE04-B09C-493F-952E-9629E739900E" class="sect2">NOAUDIT (Unified Auditing)</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>This section describes the <code class="codeph">NOAUDIT</code> statement for <span class="bold">unified</span> <span class="bold">auditing</span>. This type of auditing is new beginning with Oracle Database 12<span class="italic">c</span> and provides a full set of enhanced auditing features. Refer to <a href="../dbseg/introduction-to-auditing.html#DBSEG630" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for more information on unified auditing.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-79FF5ED2-40A4-47AF-BDA2-1CA44E00D656">Purpose</p>
                  <p>Use the <code class="codeph">NOAUDIT</code> statement to:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Disable a unified audit policy for all users or for specified users</p>
                     </li>
                     <li>
                        <p>Exclude the values of context attributes from audit records</p>
                     </li>
                  </ul>
                  <p>Operations performed with this statement take effect in subsequent user sessions, not in the current session.</p>
                  <div class="infoboxnotealso" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-31AE2E96-0658-4831-9FC9-A097DACDCDBA">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="AUDIT-Unified-Auditing.html#GUID-B24D6874-4053-4E66-8238-6CD0C87E9DCA">AUDIT (Unified Auditing)</a></p>
                        </li>
                        <li>
                           <p><a href="CREATE-AUDIT-POLICY-Unified-Auditing.html#GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693">CREATE AUDIT POLICY (Unified Auditing)</a></p>
                        </li>
                        <li>
                           <p><a href="ALTER-AUDIT-POLICY-Unified-Auditing.html#GUID-CC41B5C2-09F4-40BC-B7FD-3B4C0A3F5437">ALTER AUDIT POLICY (Unified Auditing)</a></p>
                        </li>
                        <li>
                           <p><a href="DROP-AUDIT-POLICY-Unified-Auditing.html#GUID-811D3F84-744E-47A1-B69D-C9D2FA4A0844">DROP AUDIT POLICY (Unified Auditing)</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-A427ED1F-B89C-44F7-8A3E-1FD28BEE998F">Prerequisites</p>
                  <p>You must have the <code class="codeph">AUDIT</code> <code class="codeph">SYSTEM</code> system privilege or the <code class="codeph">AUDIT_ADMIN</code> role.
                  </p>
                  <p>If you are connected to a multitenant container database (CDB), then to disable a common unified audit policy, the current container must be the root and you must have the commonly granted <code class="codeph">AUDIT</code> <code class="codeph">SYSTEM</code> privilege or the <code class="codeph">AUDIT_ADMIN</code> common role. To disable a local unified audit policy, the current container must be the container in which the audit policy was created and you must have the commonly granted <code class="codeph">AUDIT</code> <code class="codeph">SYSTEM</code> privilege or the <code class="codeph">AUDIT_ADMIN</code> common role, or you must have the locally granted <code class="codeph">AUDIT</code> <code class="codeph">SYSTEM</code> privilege or the <code class="codeph">AUDIT_ADMIN</code> local role in the container.
                  </p>
                  <p>To specify the <code class="codeph">NOAUDIT</code> <code class="codeph">CONTEXT</code> ... statement when connected to a CDB, you must have the commonly granted <code class="codeph">AUDIT</code> <code class="codeph">SYSTEM</code> privilege or the <code class="codeph">AUDIT_ADMIN</code> common role, or you must have the locally granted <code class="codeph">AUDIT</code> <code class="codeph">SYSTEM</code> privilege or the <code class="codeph">AUDIT_ADMIN</code> local role in the current session's container.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-51648FE4-8397-422A-9C2F-362DDA2DD558">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-B39E787A-F80E-4BB3-AE4D-7C5BD604A7E6"><span class="italic">unified_noaudit</span>::=
                  </p>
                  <div class="figure" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-D1E08B06-4C55-42E9-A6A2-1D825F30B04F"><img src="img/unified_noaudit.gif" alt="Description of unified_noaudit.eps follows" title="Description of unified_noaudit.eps follows" longdesc="img_text/unified_noaudit.html"><br><a href="img_text/unified_noaudit.html">Description of the illustration unified_noaudit.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__BY_USERS_WITH_ROLES-5497832C">
                  <p class="subhead1" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-A6DCA8C4-DC64-4B19-B1B5-A874EEC03C26"><span class="italic">by_users_with_roles</span>::=
                  </p>
                  <div class="figure" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-85886CD0-6172-4E63-A43E-5844B07F4A75"><img src="img/by_users_with_roles.gif" alt="Description of by_users_with_roles.eps follows" title="Description of by_users_with_roles.eps follows" longdesc="img_text/by_users_with_roles.html"><br><a href="img_text/by_users_with_roles.html">Description of the illustration by_users_with_roles.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-97AD933B-C44A-4886-B26A-A75FDA8C0007">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-F8E66A95-88CF-49BE-981F-C5CCF7C0B72E"><span class="italic">policy</span></p>
                  <p>Specify the name of the unified audit policy you want to disable.</p>
                  <p>You can find descriptions of all unified audit policies by querying the <code class="codeph">AUDIT_UNIFIED_POLICIES</code> view and descriptions of all <span class="italic">enabled</span> unified audit policies by querying the <code class="codeph">AUDIT_UNIFIED_ENABLED_POLICIES</code> view.
                  </p>
                  <div class="infoboxnotealso" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-55F28538-2E02-4F5F-945C-1FED819917E8">
                     <p class="notep1">See Also:</p>
                     <p><span class="italic">Oracle Database Reference</span> for more information on the <a href="../refrn/AUDIT_UNIFIED_POLICIES.html#REFRN29157" target="_blank"><code class="codeph">AUDIT_UNIFIED_POLICIES</code></a> and <a href="../refrn/AUDIT_UNIFIED_ENABLED_POLICIES.html#REFRN29158" target="_blank"><code class="codeph">AUDIT_UNIFIED_ENABLED_POLICIES</code></a> views
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-D8AE6095-8F05-4F7E-A8DA-2E7A047934B5">CONTEXT Clause</p>
                  <p>Specify the <code class="codeph">CONTEXT</code> clause to exclude the values of context attributes in audit records.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For <span class="italic"><code class="codeph">namespace</code></span>, specify the context namespace.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">attribute</code></span>, specify one or more context attributes whose values you want to exclude from audit records.
                        </p>
                     </li>
                  </ul>
                  <p>If you specify the <code class="codeph">CONTEXT</code> clause when the current container is the root of a CDB, then the values of context attributes will be included in audit records only for events executed in the root. If you specify the optional <code class="codeph">BY</code> clause, then <span class="italic"><code class="codeph">user</code></span> must be a common user.
                  </p>
                  <p>If you specify the <code class="codeph">CONTEXT</code> clause when the current container is a pluggable database (PDB), then the values of context attributes will be included in audit records only for events executed in that PDB. If you specify the optional <code class="codeph">BY</code> clause, then <span class="italic"><code class="codeph">user</code></span> must be a common user or a local user in that PDB.
                  </p>
                  <p>You can find the application context attributes that are configured to be captured in the audit trail by querying the <code class="codeph">AUDIT_UNIFIED_CONTEXTS</code> view.
                  </p>
                  <div class="infoboxnotealso" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-C49B40D8-C887-42D3-BCC2-0B01B14ABF71">
                     <p class="notep1">See Also:</p>
                     <p><a href="../refrn/AUDIT_UNIFIED_CONTEXTS.html#REFRN29159" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information on the <code class="codeph">AUDIT_UNIFIED_CONTEXTS</code> view
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-640B53DF-01C2-41D6-971B-411EE3DF7505">BY</p>
                  <p>You can specify the <code class="codeph">BY</code> clause for the <code class="codeph">NOAUDIT</code> <code class="codeph">POLICY</code> and <code class="codeph">NOAUDIT</code> <code class="codeph">CONTEXT</code> statements.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-BD942F4D-C38D-43E3-9326-4E0F8B422BD0">NOAUDIT POLICY ... BY</p>
                  <p>The behavior of the <code class="codeph">BY</code> clause depends on whether <span class="italic"><code class="codeph">policy</code></span> is enabled for all users or specific users.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If <span class="italic"><code class="codeph">policy</code></span> is enabled for all users, then you can disable <span class="italic"><code class="codeph">policy</code></span> for all users by omitting the <code class="codeph">BY</code> clause. If you specify the <code class="codeph">BY</code> clause, then the <code class="codeph">NOAUDIT</code> <code class="codeph">POLICY</code> statement will have no effect.
                        </p>
                     </li>
                     <li>
                        <p>If <span class="italic"><code class="codeph">policy</code></span> is enabled for one or more users (using the <code class="codeph">AUDIT</code> <code class="codeph">POLICY</code> ... <code class="codeph">BY</code> ... statement), then you can:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Disable <span class="italic"><code class="codeph">policy</code></span> for one or more of those users by specifying the <code class="codeph">BY</code> clause followed by the users for whom you want <span class="italic"><code class="codeph">policy</code></span> disabled
                              </p>
                           </li>
                           <li>
                              <p>Completely disable <span class="italic"><code class="codeph">policy</code></span> by specifying the <code class="codeph">BY</code> clause followed by all of the users for whom <span class="italic"><code class="codeph">policy</code></span> is enabled
                              </p>
                           </li>
                        </ul>
                        <p>If you do not specify the <code class="codeph">BY</code> clause, then the <code class="codeph">NOAUDIT</code> <code class="codeph">POLICY</code> statement will have no effect.
                        </p>
                     </li>
                     <li>
                        <p>If <span class="italic"><code class="codeph">policy</code></span> is enabled for all users except specific users (using the <code class="codeph">AUDIT</code> <code class="codeph">POLICY</code> ... <code class="codeph">EXCEPT</code> ... statement), then you can disable <span class="italic"><code class="codeph">policy</code></span> for all users by omitting the <code class="codeph">BY</code> clause. If you specify the <code class="codeph">BY</code> clause, then the <code class="codeph">NOAUDIT</code> <code class="codeph">POLICY</code> statement will have no effect.
                        </p>
                     </li>
                  </ul>
                  <p>If <span class="italic"><code class="codeph">policy</code></span> is a common unified audit policy, then <span class="italic"><code class="codeph">user</code></span> must be a common user. If <span class="italic"><code class="codeph">policy</code></span> is a local unified audit policy, then <span class="italic"><code class="codeph">user</code></span> must be a common user or a local user in the container to which you are connected.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-53EC59E7-E022-4BD5-BD7B-4104160D993E">NOAUDIT CONTEXT ... BY </p>
                  <p>The behavior of the <code class="codeph">BY</code> clause depends on whether <span class="italic"><code class="codeph">attribute</code></span> is configured to be included in audit records for all users or specific users.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If <span class="italic"><code class="codeph">attribute</code></span> is configured to be included in audit records for all users, then you can exclude <span class="italic"><code class="codeph">attribute</code></span> from audit records for all users by omitting the <code class="codeph">BY</code> clause. If you specify the <code class="codeph">BY</code> clause, then the <code class="codeph">NOAUDIT</code> <code class="codeph">CONTEXT</code> statement will have no effect.
                        </p>
                     </li>
                     <li>
                        <p>If <span class="italic"><code class="codeph">attribute</code></span> is configured to be included in audit records for specific users, then you can exclude <span class="italic"><code class="codeph">attribute</code></span> for one or more of those users by specifying the <code class="codeph">BY</code> clause followed by the users for whom you want <span class="italic"><code class="codeph">attribute</code></span> excluded. If you do not specify the <code class="codeph">BY</code> clause, then the <code class="codeph">NOAUDIT</code> <code class="codeph">CONTEXT</code> statement will have no effect.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-C21C4D60-2D3C-4FA5-8C12-8EFEC748C3D0"><span class="italic">by_users_with_roles</span></p>
                  <p>Specify this clause to disable <span class="italic"><code class="codeph">policy</code></span> only for users who have been directly granted the specified roles. If you subsequently grant one of the roles to an additional user, then the policy is automatically disabled for that user.
                  </p>
                  <p>When you are connected to a CDB, if <span class="italic"><code class="codeph">policy</code></span> is a common unified audit policy, then <span class="italic"><code class="codeph">role</code></span> must be a common role. If <span class="italic"><code class="codeph">policy</code></span> is a local unified audit policy, then role must be a common role or a local role in the container to which you are connected.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-EB92BE04-B09C-493F-952E-9629E739900E__GUID-22942B11-C153-4C3A-A82C-FBAA16736F57">Examples</p>
                  <p>The following examples disable unified audit policies that were created in the <code class="codeph">CREATE</code> <code class="codeph">AUDIT</code> <code class="codeph">POLICY</code> <span class="q">"<a href="CREATE-AUDIT-POLICY-Unified-Auditing.html#GUID-8D6961FB-2E50-46F5-81F7-9AEA314FC693__BGEGDCFA">Examples</a>"</span> and enabled in the <code class="codeph">AUDIT</code> <span class="q">"<a href="AUDIT-Unified-Auditing.html#GUID-B24D6874-4053-4E66-8238-6CD0C87E9DCA__BABGCDGC">Examples</a>"</span>.
                  </p>
                  <p><span class="bold">Disabling a Unified Audit Policy for All Users: Example</span></p>
                  <p>Assume that unified audit policy <code class="codeph">table_pol</code> is enabled for all users. The following statement disables <code class="codeph">table_pol</code> for all users:
                  </p><pre class="oac_no_warn" dir="ltr">NOAUDIT POLICY table_pol;
</pre><p>The following statement returns no rows, which verifies that <code class="codeph">table_pol</code> is disabled for all users:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM audit_unified_enabled_policies
  WHERE policy_name = 'TABLE_POL';</pre><p><span class="bold">Disabling a Unified Audit Policy for Specific Users: Example</span></p>
                  <p>Assume that unified audit policy <code class="codeph">dml_pol</code> is enabled for users <code class="codeph">hr</code> and <code class="codeph">sh</code>, as shown by the following query:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT policy_name, enabled_opt, user_name
  FROM audit_unified_enabled_policies
  WHERE policy_name = 'DML_POL'
  ORDER BY user_name;
 
POLICY_NAME  ENABLED_OPT  USER_NAME
-----------  -----------  ---------
DML_POL      BY           HR
DML_POL      BY           SH
</pre><p>The following statement disables <code class="codeph">dml_pol</code> for user <code class="codeph">hr</code>:
                  </p><pre class="oac_no_warn" dir="ltr">NOAUDIT POLICY dml_pol BY hr;
</pre><p>The following statement verifies that <code class="codeph">dml_pol</code> is now enabled for only user <code class="codeph">sh</code>:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT policy_name, enabled_opt, user_name
  FROM audit_unified_enabled_policies
  WHERE policy_name = 'DML_POL';
 
POLICY_NAME  ENABLED_OPT  USER_NAME
-----------  -----------  ---------
DML_POL      BY           SH
</pre><p>The following statement disables <code class="codeph">dml_pol</code> for user <code class="codeph">sh</code>:
                  </p><pre class="oac_no_warn" dir="ltr">NOAUDIT POLICY dml_pol BY sh;
</pre><p>The following statement returns no rows, which verifies that <code class="codeph">dml_pol</code> is disabled for all users:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM audit_unified_enabled_policies
  WHERE policy_name = 'DML_POL';</pre><p><span class="bold">Excluding Values of Context Attributes in Audit Records: Example</span></p>
                  <p>The following statement instructs the database to exclude the values of namespace <code class="codeph">USERENV</code> attributes <code class="codeph">CURRENT_USER</code> and <code class="codeph">DB_NAME</code> from all audit records for user <code class="codeph">hr</code>:
                  </p><pre class="oac_no_warn" dir="ltr">NOAUDIT CONTEXT NAMESPACE userenv
  ATTRIBUTES current_user, db_name
  BY hr;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>