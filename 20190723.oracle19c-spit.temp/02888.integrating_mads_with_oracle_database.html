<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Database can authenticate and authorize Microsoft Active Directory users with the database directly without intermediate directories or Oracle Enterprise User Security.">
      <meta name="description" content="Oracle Database can authenticate and authorize Microsoft Active Directory users with the database directly without intermediate directories or Oracle Enterprise User Security.">
      <title>Configuring Centrally Managed Users with Microsoft Active Directory</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Security Guide ">
      <meta property="og:description" content="Oracle Database can authenticate and authorize Microsoft Active Directory users with the database directly without intermediate directories or Oracle Enterprise User Security.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Security Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-security-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-28T14:57:12-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96299-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="performing-privilege-analysis-find-privilege-use.html" title="Previous" type="text/html">
      <link rel="next" href="managing-security-for-definers-rights-and-invokers-rights.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Security Guide">
    <meta name="dcterms.isVersionOf" content="DBSEG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="performing-privilege-analysis-find-privilege-use.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="managing-security-for-definers-rights-and-invokers-rights.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Security Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part_1.html" property="item" typeof="WebPage"><span property="name">Managing User Authentication and&nbsp;Authorization</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Configuring Centrally Managed Users with Microsoft Active Directory</li>
            </ol>
            <a id="GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" name="GUID-9739D541-FA9D-422A-95CA-799A4C6F488D"></a>
            
            <h2 id="DBSEG-GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" class="sect2"><span class="enumeration_chapter">6 </span>Configuring Centrally Managed Users with Microsoft Active Directory
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Database can authenticate and authorize Microsoft Active Directory users with the database directly without intermediate directories or Oracle Enterprise User Security.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-0058E678-090E-4915-B539-B007F015D61D">Introduction to Centrally Managed Users with Microsoft Active Directory</a><br>Centrally managed users (CMU) provides a simpler integration with Microsoft Active Directory to allow centralized authentication and authorization of users.
                  </li>
                  <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-8CAEE787-82F5-4D83-93B7-9C1B720E2C42">Configuring the Oracle Database-Microsoft Active Directory Integration</a><br>Before you can use Microsoft Active Directory to authenticate and authorize users, you must configure the connection from the Oracle database to Active Directory.
                  </li>
                  <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-C207C899-75B0-4D0F-A686-AA3E06B61224">Configuring Authentication for Centrally Managed Users</a><br>You can configure password authentication, Kerberos authentication, or public key infrastructure (PKI) authentication.
                  </li>
                  <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241">Configuring Authorization for Centrally Managed Users</a><br>With centrally managed users, you can manage the authorization for Active Directory users to access Oracle databases. 
                  </li>
                  <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-262651F7-196B-4627-8B4E-46731AB56695">Integration of Oracle Database with Microsoft Active Directory Account Policies</a><br>As part of the Oracle Database-Microsoft Active Directory integration, Oracle Database enforces the Active Directory account policies when Active Directory users log into the Oracle database.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="part_1.html" title="Part I describes how to manage user authentication and authorization.">Managing User Authentication and&nbsp;Authorization</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-0058E678-090E-4915-B539-B007F015D61D" name="GUID-0058E678-090E-4915-B539-B007F015D61D"></a><h3 id="DBSEG-GUID-0058E678-090E-4915-B539-B007F015D61D" class="sect3">Introduction to Centrally Managed Users with Microsoft Active Directory</h3>
               <div>
                  <p>Centrally managed users (CMU) provides a simpler integration with Microsoft Active Directory to allow centralized authentication and authorization of users.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-4FE2EEDA-6F67-4391-8758-CE100D85770A">About the Oracle Database-Microsoft Active Directory Integration</a><br>Centrally managed users provides a simpler integration with Microsoft Active Directory to allow centralized authentication and authorization of users.
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-13ADBD73-D06C-4117-85C6-12E402B5037E">How Centrally Managed Users with Microsoft Active Directory Works</a><br>The integration works by mapping Microsoft Active Directory users and groups directly to Oracle database users and roles.
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-DD35204B-E91E-46F0-92B9-BA763693AB5D">Centrally Managed User-Microsoft Active Directory Architecture</a><br>The CMU with Active Directory architecture enables Oracle Database users and roles to be managed in Active Directory.
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-9480630F-0C8E-48E4-9F9F-4018D4094BD7">Supported Authentication Methods</a><br>The Oracle Database-Microsoft Active Directory integration supports three common authentication methods. 
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-845BFA4E-6BB4-4E01-854B-DF9E5A37221B">Users Supported by Centrally Managed Users with Microsoft Active Directory</a><br>CMU with Active Directory supports exclusively mapped users, users mapped to shared schemas, and administrative users.
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-9ACD9461-E998-4F0C-A121-590D10437D5F">How the Oracle Multitenant Option Affects Centrally Managed Users</a><br>Multitenant database users in pluggable databases (PDBs) can connect to a central Microsoft Active Directory or, if required, users in an individual PDB can connect to a different Microsoft Active Directory.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" title="Oracle Database can authenticate and authorize Microsoft Active Directory users with the database directly without intermediate directories or Oracle Enterprise User Security.">Configuring Centrally Managed Users with Microsoft Active Directory</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-4FE2EEDA-6F67-4391-8758-CE100D85770A" name="GUID-4FE2EEDA-6F67-4391-8758-CE100D85770A"></a><h4 id="DBSEG-GUID-4FE2EEDA-6F67-4391-8758-CE100D85770A" class="sect4">About the Oracle Database-Microsoft Active Directory Integration</h4>
                  <div>
                     <p>Centrally managed users provides a simpler integration with Microsoft Active Directory to allow centralized authentication and authorization of users.</p>
                     <p>The minimum version requirement for Active Directory server operating system is Microsoft Windows Server 2008 R2.</p>
                     <p>This integration enables organizations to use Active Directory to centrally manage users and roles in multiple Oracle databases with a single directory along with other Information Technology services. Active Directory users can authenticate to the Oracle database by using credentials that are stored in Active Directory. Active Directory users can also be associated with database users (schemas) and roles by using Active Directory groups. Microsoft Active Directory users can be mapped to exclusive or shared Oracle Database users (schemas), and be associated with database roles through their group membership in the directory. Active Directory account policies such as password expiration time and lockout after a specified number of failed login attempts are honored by the Oracle Database when users login.</p>
                     <p>Before Oracle Database 18c release 1 (18.1), database user authentication and authorization could be integrated with Active Directory by configuring Oracle Enterprise User Security and installing and configuring Oracle Internet Directory (or Oracle Universal Directory). This architecture is still available and will continue to be used by users who must use the Oracle enterprise domain and current user database link between trusted databases, complex enterprise roles, and having a single place for auditing database access privileges and roles.</p>
                     <p>The majority of organizations do not have these complex requirements. Instead, they can use centrally managed users (CMUs) with Active Directory. This integration is designed for organizations who prefer to use Active Directory as their centralized identity management solution.&nbsp;Oracle Net Naming Services continues to work as it did before with directory services. </p>
                     <p>Organizations can use Kerberos, PKI, or password authentication with CMU with Active Directory. Use of CMU with Active Directory is backward compatible with currently supported Oracle Database clients. This means that LDAP bind operations are not used for password authentication and you will need to add an Oracle filter to Active Directory along with an extension to the Active Directory schema to store password verifiers. Organizations using Kerberos or PKI will not need to add the filter or extend Active Directory schema.</p>
                     <p>The Oracle Database-Active Directory integration is particularly beneficial for the following types of users:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Users who are currently using strong authentication such as Kerberos or Public Key Infrastructure (PKI). These users already use a centralized identity management system</p>
                        </li>
                        <li>
                           <p>Users who currently use Oracle Enterprise User Security, Oracle Internet Directory, Oracle Unified Directory, Oracle Virtual Directory, and need to integrate with Active Directory.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-0058E678-090E-4915-B539-B007F015D61D" title="Centrally managed users (CMU) provides a simpler integration with Microsoft Active Directory to allow centralized authentication and authorization of users.">Introduction to Centrally Managed Users with Microsoft Active Directory</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-13ADBD73-D06C-4117-85C6-12E402B5037E" name="GUID-13ADBD73-D06C-4117-85C6-12E402B5037E"></a><h4 id="DBSEG-GUID-13ADBD73-D06C-4117-85C6-12E402B5037E" class="sect4">How Centrally Managed Users with Microsoft Active Directory Works</h4>
                  <div>
                     <p>The integration works by mapping Microsoft Active Directory users and groups directly to Oracle database users and roles.</p>
                     <p>In order for the Oracle Database CMU with Active Directory integration to work, the Oracle database must be able to login to a service account specifically created for the database in Active Directory. The database uses this service account to query Active Directory for user and group information when a user logs into the database. This Active Directory service account must have all the privileges required to query the user and group information as well as being able to write updates related to the password policies in Active Directory (for example, failed login attempts, clear failed login attempts). Users can authenticate using passwords, Kerberos, or PKI and either be assigned to an exclusive schema or a shared schema. Mapping of an Active Directory user to a shared schema is determined by the association of the user to an Active Directory group that is mapped to the shared schema. Active Directory groups can also be mapped to database global roles. An Active Directory security administrator can assign a user to groups that are mapped to shared database global users (schemas) and/or database global roles, and hence update privileges and roles that are assigned to the Active Directory user in a database.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-0058E678-090E-4915-B539-B007F015D61D" title="Centrally managed users (CMU) provides a simpler integration with Microsoft Active Directory to allow centralized authentication and authorization of users.">Introduction to Centrally Managed Users with Microsoft Active Directory</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-DD35204B-E91E-46F0-92B9-BA763693AB5D" name="GUID-DD35204B-E91E-46F0-92B9-BA763693AB5D"></a><h4 id="DBSEG-GUID-DD35204B-E91E-46F0-92B9-BA763693AB5D" class="sect4">Centrally Managed User-Microsoft Active Directory Architecture</h4>
                  <div>
                     <p>The CMU with Active Directory architecture enables Oracle Database users and roles to be managed in Active Directory.</p>
                     <p>The following figure illustrates the Oracle Database CMU feature. In this figure, users, either through applications as non-administrative users or administrative users, connect to the Oracle database with either password, Kerberos, or public key infrastructure (PKI) authentication. The database connection to Active Directory enables these users and roles to be mapped with Active Directory users and groups. If you plan to use password authentication, then you must install an Oracle filter in Active Directory. You can use an Oracle provided utility to install the Oracle filter that will generate Oracle password verifiers for individual users as needed. The utility can also be used to extend the Active Directory schema to hold the Oracle password verifiers. With Oracle Database centrally managed users, an Active Directory administrator can control the authentication, user management, account policies, and group assignments of Active Directory users and groups who have been mapped to Oracle Database users and roles. </p>
                     <div class="figure" id="GUID-DD35204B-E91E-46F0-92B9-BA763693AB5D__GUID-0BE7BFB5-E350-4132-A541-C432E21787BD"><br><img src="img/dbseg_pb_001b.png" alt="Description of dbseg_pb_001b.eps follows" title="Description of dbseg_pb_001b.eps follows" longdesc="img_text/dbseg_pb_001b.html"><br><a href="img_text/dbseg_pb_001b.html">Description of the illustration dbseg_pb_001b.eps</a><br></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-0058E678-090E-4915-B539-B007F015D61D" title="Centrally managed users (CMU) provides a simpler integration with Microsoft Active Directory to allow centralized authentication and authorization of users.">Introduction to Centrally Managed Users with Microsoft Active Directory</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-9480630F-0C8E-48E4-9F9F-4018D4094BD7" name="GUID-9480630F-0C8E-48E4-9F9F-4018D4094BD7"></a><h4 id="DBSEG-GUID-9480630F-0C8E-48E4-9F9F-4018D4094BD7" class="sect4">Supported Authentication Methods</h4>
                  <div>
                     <p>The Oracle Database-Microsoft Active Directory integration supports three common authentication methods. </p>
                     <p>These authentication methods are as follows: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Password authentication</p>
                        </li>
                        <li>
                           <p>Kerberos authentication</p>
                        </li>
                        <li>
                           <p>Public key infrastructure (PKI) authentication (certificate-based authentication)</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="integrating_mads_with_oracle_database.html#GUID-C207C899-75B0-4D0F-A686-AA3E06B61224" title="You can configure password authentication, Kerberos authentication, or public key infrastructure (PKI) authentication.">Configuring Authentication for Centrally Managed Users</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-0058E678-090E-4915-B539-B007F015D61D" title="Centrally managed users (CMU) provides a simpler integration with Microsoft Active Directory to allow centralized authentication and authorization of users.">Introduction to Centrally Managed Users with Microsoft Active Directory</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-845BFA4E-6BB4-4E01-854B-DF9E5A37221B" name="GUID-845BFA4E-6BB4-4E01-854B-DF9E5A37221B"></a><h4 id="DBSEG-GUID-845BFA4E-6BB4-4E01-854B-DF9E5A37221B" class="sect4">Users Supported by Centrally Managed Users with Microsoft Active Directory</h4>
                  <div>
                     <p>CMU with Active Directory supports exclusively mapped users, users mapped to shared schemas, and administrative users.</p>
                     <p>These users are as follows: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Directory users that access an Oracle database using a shared schema. </p>
                           <p>This type of directory user can connect to a shared schema in the database by being part of a directory group that is mapped to the shared schema (database user). Using shared schemas allows centralized Active Directory management of database users and is the recommended best practices over using exclusive schemas (described next). Even if there is only one user associated with a schema (for example, an administrator responsible for database backup), it is easier to manage adding another backup administrator or removing the existing administrator by making changes only in Active Directory instead of making changes in all associated databases as well.</p>
                           <p>Users will be given additional privileges appropriate to their task using global roles that are mapped to groups in Active Directory. With this design, a user can change his or her tasks within an organization and have new database privileges through a new group in Active Directory. </p>
                           <p>Active Directory users could accidentally (or on purpose) be a member of multiple groups in Active Directory that are mapped to different shared schemas on the same database. The user could also have an exclusive mapping to a database schema. In cases where the user has multiple possible schema mappings when they login, the following precedence rules apply:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>If an exclusive mapping exists for a user, then that mapping takes precedence over any other shared mappings.</p>
                              </li>
                              <li>
                                 <p>If multiple shared schema mappings exist for a user, then the shared user mapping with lowest schema ID (<code class="codeph">USER_ID</code>) takes precedence.
                                 </p>
                              </li>
                           </ul>
                           <p>Oracle recommends only having one possible mapping per user so unexpected schema mappings do not occur.</p>
                        </li>
                        <li>
                           <p>Exclusively mapped global users who are regular Oracle Database users in two- and three-tier applications, or users who have direct privilege grants in the database. </p>
                           <p>Oracle recommends that you grant privileges to these users through global roles. This type of privilege grant facilitates authorization management by centrally managing privileges and roles for a user instead of having to log in into each database to update privileges and roles for the user.</p>
                        </li>
                        <li>
                           <p>Administrative global users, who have the following administrative privileges: <code class="codeph">SYSDBA</code>, <code class="codeph">SYSOPER</code>, <code class="codeph">SYSBACKUP</code>, <code class="codeph">SYSDG</code>, <code class="codeph">SYSKM</code>, and <code class="codeph">SYSRAC</code>. 
                           </p>
                           <p>You <span class="bold">cannot</span> grant these administrative privileges through global roles. To authorize an Active Directory user with these administrative privileges, you must map the directory user to a database user (exclusively or with a shared schema) that has the system administrative privilege already granted to the database user account. 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" title="With centrally managed users, you can manage the authorization for Active Directory users to access Oracle databases.">Configuring Authorization for Centrally Managed Users</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-0058E678-090E-4915-B539-B007F015D61D" title="Centrally managed users (CMU) provides a simpler integration with Microsoft Active Directory to allow centralized authentication and authorization of users.">Introduction to Centrally Managed Users with Microsoft Active Directory</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-9ACD9461-E998-4F0C-A121-590D10437D5F" name="GUID-9ACD9461-E998-4F0C-A121-590D10437D5F"></a><h4 id="DBSEG-GUID-9ACD9461-E998-4F0C-A121-590D10437D5F" class="sect4">How the Oracle Multitenant Option Affects Centrally Managed Users</h4>
                  <div>
                     <p>Multitenant database users in pluggable databases (PDBs) can connect to a central Microsoft Active Directory or, if required, users in an individual PDB can connect to a different Microsoft Active Directory.</p>
                     <p> All PDBs and the root container in a multitenant database can have a shared configuration, so that the entire CDB can authenticate and authorize users against a single Active Directory server, mulitple Active Directory servers in one Windows domain, or multiple Active Directory servers in trusted Windows domains, based on the shared configuration. Alternatively, individual PDBs can authenticate and authorize users against different Active Directory servers in the same Windows domain or different (trusted or un-trusted) Windows domains, based on their individual configurations.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-0058E678-090E-4915-B539-B007F015D61D" title="Centrally managed users (CMU) provides a simpler integration with Microsoft Active Directory to allow centralized authentication and authorization of users.">Introduction to Centrally Managed Users with Microsoft Active Directory</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-8CAEE787-82F5-4D83-93B7-9C1B720E2C42" name="GUID-8CAEE787-82F5-4D83-93B7-9C1B720E2C42"></a><h3 id="DBSEG-GUID-8CAEE787-82F5-4D83-93B7-9C1B720E2C42" class="sect3">Configuring the Oracle Database-Microsoft Active Directory Integration</h3>
               <div>
                  <p>Before you can use Microsoft Active Directory to authenticate and authorize users, you must configure the connection from the Oracle database to Active Directory.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-DCCC1FB8-12F1-4719-98E0-9BE723E219AE">About Configuring the Oracle Database-Microsoft Active Directory Connection</a><br>Before you configure this connection, you must have Microsoft Active Directory installed and configured. 
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706">Connecting to Microsoft Active Directory</a><br>You can configure a Microsoft Active Directory connection during the Oracle database creation or with an existing Oracle database.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" title="Oracle Database can authenticate and authorize Microsoft Active Directory users with the database directly without intermediate directories or Oracle Enterprise User Security.">Configuring Centrally Managed Users with Microsoft Active Directory</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-DCCC1FB8-12F1-4719-98E0-9BE723E219AE" name="GUID-DCCC1FB8-12F1-4719-98E0-9BE723E219AE"></a><h4 id="DBSEG-GUID-DCCC1FB8-12F1-4719-98E0-9BE723E219AE" class="sect4">About Configuring the Oracle Database-Microsoft Active Directory Connection</h4>
                  <div>
                     <p>Before you configure this connection, you must have Microsoft Active Directory installed and configured. </p>
                     <p>You must create an Oracle service directory user in Active Directory, configure the Oracle Database connection to Active Directory, and then depending on the authentication type, configure the database and Active Directory for password, Kerberos, or public key infrastructure (PKI) authentication. Before you map Database users and global roles to Active Directory users and groups, you must ensure that the Active Directory users and groups have been created. You will map the database users and global roles to Active Directory users and groups by using the <code class="codeph">CREATE USER</code>, <code class="codeph">CREATE ROLE</code>, <code class="codeph">ALTER USER</code>, <code class="codeph">ALTER ROLE</code> SQL statements with the <code class="codeph">GLOBALLY</code> clause. An Active Directory system administrator must also set up new Active Directory groups with Active Directory users to meet your requirements. 
                     </p>
                     <p>The Active Directory system administrator is responsible for setting Active Directory connections with or without SASL bind. The Oracle Database will automatically try the Active Directory connection first with SASL bind and if it fails, it will try it without SASL bind but still secured with TLS. This means that regardless of how the Microsoft Active Directory administrator may have the SASL settings configured on Active Directory, the Oracle database will connect even if the SASL bind is unsuccessful.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-8CAEE787-82F5-4D83-93B7-9C1B720E2C42" title="Before you can use Microsoft Active Directory to authenticate and authorize users, you must configure the connection from the Oracle database to Active Directory.">Configuring the Oracle Database-Microsoft Active Directory Integration</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" name="GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706"></a><h4 id="DBSEG-GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" class="sect4">Connecting to Microsoft Active Directory</h4>
                  <div>
                     <p>You can configure a Microsoft Active Directory connection during the Oracle database creation or with an existing Oracle database.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-6A0735F1-FE3A-4188-91D0-AD74D9A86D20">Step 1: Create an Oracle Service Directory User Account on Microsoft Active Directory</a><br>The Oracle service directory user account is for the interaction between Oracle Database and the LDAP directory service. 
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-4B702116-EF10-47AC-9267-163553C15FF5">Step 2: For Password Authentication, Install the Password Filter and Extend the Microsoft Active Directory Schema</a><br>You can use the Oracle <code class="codeph">opwdintg.exe</code> executable on the Active Directory server to install the password filter and extend the Active Directory schema.
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-4F0C0FEA-72A5-447D-84A3-E47A681263E2">Step 3: If Necessary, Install the Oracle Database Software</a><br>If you have not done so yet, then use Oracle Universal Installer (OUI) to install the Oracle software.
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-2366643F-D88D-4F97-B39E-099D7664EC8D">Step 4: Create the dsi.ora or ldap.ora File</a><br>The <code class="codeph">dsi.ora</code> file specifies connections for centrally managed users for Active Directory.  
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-5CB2680D-9A06-43C3-ACCA-D9743948C17A">Step 5: Request an Active Directory Certificate for a Secure Connection</a><br>After you have configured the <code class="codeph">dsi.ora</code> or <code class="codeph">ldap.ora</code> file, you are ready to prepare Microsoft Active Directory and Oracle Database certificates for a secure connection.
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-CACCAA19-8578-4A40-931D-9A4521EE4E64">Step 6: Create the Wallet for a Secure Connection</a><br>After you have copied the Active Directory certificate, you are ready to add it to the Oracle wallet.
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-E0CBB613-AB38-44B7-ACC9-810C82A9CE31">Step 7: Configure the Microsoft Active Directory Connection</a><br>Next, you are ready to connect the database to Active Directory using the settings you have so far.
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-034E8557-73B2-4211-94C8-ABDED26B63B9">Step 8: Verify the Oracle Wallet</a><br>The <code class="codeph">orapki</code> utility can verify that the wallet for this database was created successfully.
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-8BB25985-1E21-473F-9BDC-E5010EE39969">Step 9: Test the Integration</a><br>To test the integration, you must set the <code class="codeph">ORACLE_HOME</code>, <code class="codeph">ORACLE_BASE,</code> and <code class="codeph">ORACLE_SID</code> environment variables and then verify the LDAP parameter settings. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-8CAEE787-82F5-4D83-93B7-9C1B720E2C42" title="Before you can use Microsoft Active Directory to authenticate and authorize users, you must configure the connection from the Oracle database to Active Directory.">Configuring the Oracle Database-Microsoft Active Directory Integration</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-6A0735F1-FE3A-4188-91D0-AD74D9A86D20" name="GUID-6A0735F1-FE3A-4188-91D0-AD74D9A86D20"></a><h5 id="DBSEG-GUID-6A0735F1-FE3A-4188-91D0-AD74D9A86D20" class="sect5">Step 1: Create an Oracle Service Directory User Account on Microsoft Active Directory</h5>
                     <div>
                        <p>The Oracle service directory user account is for the interaction between Oracle Database and the LDAP directory service. </p>
                        <div class="section">In addition to being used for the Oracle Database-to-LDAP directory service interaction, the Oracle service directory user account can be used for Kerberos. </div>
                        <!-- class="section" -->
                        <div class="section">This account is an Active Directory account that Oracle Database uses to log in to Active Directory and query for users and group information from Active Directory, update login success or failure, and if Kerberos is configured, update Kerberos authentication. The minimum permissions required for this account are <code class="codeph">Read properties</code> (of Active Directory users who will log in to a database), and if database password authentication is to be used by Active Directory users, the <code class="codeph">Write lockoutTime</code> (property of the Active Directory users) permission.
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Log in to Microsoft Active Directory as a user who has privileges to create accounts and grant them privileges.</span></li>
                           <li class="stepexpand"><span>Create the Oracle service directory user account as an Active Directory user.</span><div>Ideally, create the managed service account in the root directory. Depending on the domains that your users will use, you can also create this account in child domains. The service account in a child domain can authenticate users in other trusted domains. Follow these guidelines: 
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p> If all the Active Directory users will be in one domain, then create this account in that domain. Doing so will help performance.</p>
                                    </li>
                                    <li>
                                       <p>Create this account in the Windows Active Directory root domain if:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>The Active directory users will be in different domains.</p>
                                          </li>
                                          <li>
                                             <p>Active Directory has multiple Windows domains, so that CMU can support these multiple domains.</p>
                                          </li>
                                       </ul>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Grant the Oracle service directory user account the <code class="codeph">Read properties</code> (of Active Directory users who will log in a database) and <code class="codeph">Write lockoutTime</code> (property of Active Directory users who will use password authentication) permissions in the Active Directory.</span></li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="You can configure a Microsoft Active Directory connection during the Oracle database creation or with an existing Oracle database.">Connecting to Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-4B702116-EF10-47AC-9267-163553C15FF5" name="GUID-4B702116-EF10-47AC-9267-163553C15FF5"></a><h5 id="DBSEG-GUID-4B702116-EF10-47AC-9267-163553C15FF5" class="sect5">Step 2: For Password Authentication, Install the Password Filter and Extend the Microsoft Active Directory Schema</h5>
                     <div>
                        <p>You can use the Oracle <code class="codeph">opwdintg.exe</code> executable on the Active Directory server to install the password filter and extend the Active Directory schema.
                        </p>
                        <div class="section">You do not need to perform this step if your authentication method is Kerberos or SSL. The <code class="codeph">opwdintg.exe</code> executable installs the Oracle password filter, extends the Active Directory schema, and creates Active Directory groups to allow Oracle Database password authentication with Active Directory. This procedure adds an <code class="codeph">orclCommonAttribute</code> attribute to the Active Directory schema for user accounts. 
                           <div class="infoboxnote" id="GUID-4B702116-EF10-47AC-9267-163553C15FF5__GUID-0F36B82C-9755-419D-BC41-173FAA262DBF">
                              <p class="notep1">Note:</p>You must install the Oracle password filter on <span class="bold">every</span> Windows domain controller in a domain, to ensure that Oracle password verifiers will be generated for Active Directory users in this domain if they need to use password authentication to log in Oracle database.
                              <p>Note also that <code class="codeph">orclCommonAttribute</code> stores Oracle password verifier for the Active Directory user. This attribute is also used for password authentication by other Oracle products or features such as Enterprise User Security. For security consideration, you should deny everyone except the Oracle service directory user from accessing the <code class="codeph">orclCommonAttribute</code> attribute.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>After you install Oracle database server software, then go to the <code class="codeph">$ORACLE_HOME/bin</code> directory. </span></li>
                           <li class="stepexpand"><span>Find the <code class="codeph">opwdintg.exe</code> (Oracle Password Integration) utility.</span></li>
                           <li class="stepexpand"><span>Using a secure method of copying (such as <code class="codeph">sftp</code>), copy <code class="codeph">opwdintg.exe</code> to a temporary directory (for example, <code class="codeph">C:\temp</code>) on each Windows domain controller. </span></li>
                           <li class="stepexpand"><span>Connect to the Windows computer as the Active Directory administrator.</span><div>Currently, the <code class="codeph">opwdintg.exe</code> utility requires English for the Windows OS.
                              </div>
                           </li>
                           <li class="stepexpand"><span>Ensure that the Windows OS language setting is English. </span></li>
                           <li class="stepexpand"><span>Run the <code class="codeph">opwdintg.exe</code> utility on each Windows domain controller. </span><div>Use one of the following methods to run the <code class="codeph">opwdintg.exe</code> utility:
                              </div>
                              <ul id="GUID-4B702116-EF10-47AC-9267-163553C15FF5__CHOICES_PDP_BZB_JFB">
                                 <li>Open the Windows Explorer and then double click the <code class="codeph">opwdintg.exe</code> utility.
                                 </li>
                                 <li>Open a Windows command prompt and then follow these steps:
                                    <ol type="a" id="GUID-4B702116-EF10-47AC-9267-163553C15FF5__OL_HJT_HZB_JFB">
                                       <li>Navigate to the directory where the <code class="codeph">opwdintg.exe</code> utility is located. For example:<pre class="oac_no_warn" dir="ltr">cd c:\temp</pre></li>
                                       <li>Execute the utility from the command line by typing the following command: <pre class="oac_no_warn" dir="ltr">.\opwdintg.exe</pre></li>
                                    </ol>
                                 </li>
                              </ul>
                           </li>
                           <li class="stepexpand"><span>Answer the following prompts:</span><ul>
                                 <li><span class="bold">Do you want to extend AD schema? [Yes/No]:</span> Enter <code class="codeph">Yes</code>.
                                    <p>Extending the Active Directory schema requires the Windows OS language setting to be English.</p>
                                 </li>
                                 <li><span class="bold">Schema extension for this domain will be permanent. Continue? [Yes/No]:</span>Enter <code class="codeph">Yes</code>. 
                                    <p>Note the following:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>You can only extend the Active Directory schema one time. If you try to extend the schema again, error messages appear, but you can ignore these errors. </p>
                                       </li>
                                       <li>
                                          <p>This step creates the following three verifier groups. If these groups already exist, then errors will appear, but you can ignore these errors. </p>
                                          <ul style="list-style-type: disc;">
                                             <li>
                                                <p><code class="codeph">ORA_VFR_MD5</code> is required when the Oracle Database WebDAV client is used.
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">ORA_VFR_11G</code> enables the use of the Oracle Database 11G password verifier.
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">ORA_VFR_12C</code> enables the use of the Oracle Database 12C password verifier.
                                                </p>
                                             </li>
                                          </ul>
                                       </li>
                                    </ul>
                                    <ul style="list-style-type: disc;" id="GUID-4B702116-EF10-47AC-9267-163553C15FF5__UL_SRV_V4C_F2B">
                                       <li>Unless you have backed up the Active Directory schema, once extended, the Active Directory schema extension cannot be reverted.</li>
                                    </ul>
                                    <p>The next two prompts depend on whether the password filter has been installed already. </p>
                                 </li>
                                 <li><span class="bold">Found password filter installed already. Do you want to deinstall? [Yes/No]:</span> This prompt appears if the password filter has already been installed. In most cases, enter <kbd class="userinput">No</kbd> to not deinstall the filter. 
                                    <p>If you enter <code class="codeph">Yes</code> to deinstall the password filter, then you must re-run <code class="codeph">opwdintg.exe</code> to re-install the password filter after you complete these prompts. Otherwise, after you restart the computer, the password verifiers will be no longer be generated when Active Directory users change their passwords. 
                                    </p>
                                 </li>
                                 <li><span class="bold">Do you want to install Oracle password filter? [Yes/No]:</span> This prompt appears if the password filter has not been installed yet. Enter <code class="codeph">Yes</code>. 
                                 </li>
                                 <li><span class="bold">The change requires machine reboot. Do you want to reboot now? [Yes/No]:</span> Enter <code class="codeph">Yes</code>.
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="You can configure a Microsoft Active Directory connection during the Oracle database creation or with an existing Oracle database.">Connecting to Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-4F0C0FEA-72A5-447D-84A3-E47A681263E2" name="GUID-4F0C0FEA-72A5-447D-84A3-E47A681263E2"></a><h5 id="DBSEG-GUID-4F0C0FEA-72A5-447D-84A3-E47A681263E2" class="sect5">Step 3: If Necessary, Install the Oracle Database Software</h5>
                     <div>
                        <p>If you have not done so yet, then use Oracle Universal Installer (OUI) to install the Oracle software.</p>
                        <div class="section">You only need to install the Oracle Database software, not the full database. After you install the Oracle database software, you can configure centrally managed users with Active Directory during database creation by using Database Configuration Assistant (DBCA). You can also configure centrally managed users with Active Directory using DBCA or manually after database creation.</div>
                        <!-- class="section" -->
                        <ul>
                           <li><span>Follow the instructions in the <span class="italic">Oracle Database Installation Guide</span> for your platform to install the Oracle software.</span></li>
                        </ul>
                        <div class="section">After you install the Oracle database software, then you can configure centrally managed users with Active Directory during database creation using DBCA. You can also configure centrally managed users with Active Directory using DBCA or manually after the database creation.</div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="You can configure a Microsoft Active Directory connection during the Oracle database creation or with an existing Oracle database.">Connecting to Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-2366643F-D88D-4F97-B39E-099D7664EC8D" name="GUID-2366643F-D88D-4F97-B39E-099D7664EC8D"></a><h5 id="DBSEG-GUID-2366643F-D88D-4F97-B39E-099D7664EC8D" class="sect5">Step 4: Create the dsi.ora or ldap.ora File</h5>
                     <div>
                        <p>The <code class="codeph">dsi.ora</code> file specifies connections for centrally managed users for Active Directory.  
                        </p>
                        <p>The <code class="codeph">ldap.ora</code> file can also specify the connection to the Active Directory server. But because <code class="codeph">ldap.ora</code> may already be used (or may be used in the future) for other services like net naming services, Oracle recommends the use of <code class="codeph">dsi.ora</code> for centrally managed users.
                        </p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-FA766B57-AF32-44B0-9419-A8164EC4E38C">About Using a dsi.ora File</a><br>You use a <code class="codeph">dsi.ora</code> file to specify Active Directory servers for centrally managed users.
                           </li>
                           <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-605AC053-4869-4F92-B53D-C1F289F11753">Creating the dsi.ora File</a><br>The <code class="codeph">dsi.ora</code> configuration file sets the information to find the Active Directory servers for centrally managed users. 
                           </li>
                           <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-5478E6B9-9CDA-40BF-95D8-48A93CC0A809">About Using an ldap.ora File</a><br>You can use an <code class="codeph">ldap.ora</code> file to specify Active Directory servers for centrally managed users.
                           </li>
                           <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-E4CE25FC-4A78-4CB6-A028-92C3E273330C">Creating the ldap.ora File</a><br>These steps assume that <code class="codeph">ldap.ora</code> is not being used for net naming services and can be used to set up the connection with Active Directory for centrally managed users.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="You can configure a Microsoft Active Directory connection during the Oracle database creation or with an existing Oracle database.">Connecting to Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-FA766B57-AF32-44B0-9419-A8164EC4E38C" name="GUID-FA766B57-AF32-44B0-9419-A8164EC4E38C"></a><h6 id="DBSEG-GUID-FA766B57-AF32-44B0-9419-A8164EC4E38C" class="sect6">About Using a dsi.ora File</h6>
                        <div>
                           <p>You use a <code class="codeph">dsi.ora</code> file to specify Active Directory servers for centrally managed users.
                           </p>
                           <p>You must manually create the <code class="codeph">dsi.ora</code> file to identify the Active Directory servers. The <code class="codeph">dsi.ora</code> file provides Active Directory connection information for all pluggable databases if it is located in the same places where the <code class="codeph">ldap.ora</code> file can be placed. A <code class="codeph">dsi.ora</code> file in a PDB-specific wallet location takes precedence over the main <code class="codeph">dsi.ora</code> file for that PDB only.
                           </p>
                           <div class="infoboxnote" id="GUID-FA766B57-AF32-44B0-9419-A8164EC4E38C__GUID-2AA0FBFF-A3CC-4160-8E36-4F072F52018C">
                              <p class="notep1">Note:</p>If you are using <code class="codeph">ldap.ora</code> for naming services, then do not make any changes to <code class="codeph">ldap.ora</code> for the CMU with Active Directory configuration. Only use <code class="codeph">dsi.ora</code> to configure CMU-Active Directory.
                           </div>
                           <p>When you create the <code class="codeph">dsi.ora</code> file, Oracle Database searches for it in the following order: 
                           </p>
                           <ol id="GUID-FA766B57-AF32-44B0-9419-A8164EC4E38C__OL_VQP_552_KFB">
                              <li>If the <code class="codeph">WALLET_LOCATION</code> setting is included in the <code class="codeph">sqlnet.ora</code> file, then for a non-multitenant database or the root container of a multitenant database, Oracle searches for it in the location that is specified in <code class="codeph">sqlnet.ora</code>. For a PDB of a multitenant database, Oracle searches for it in the per-PDB wallet location that is in the  <code class="codeph"><span class="codeinlineitalic">WALLET_LOCATION_specified_in_sqlnet.ora</span>/<span class="codeinlineitalic">pdb_guid</span></code> directory.
                              </li>
                              <li>If the <code class="codeph">WALLET_LOCATION</code> setting is not included in the <code class="codeph">sqlnet.ora</code> file, then Oracle Database searches for it in the default wallet location.
                              </li>
                              <li>If Oracle Database cannot find <code class="codeph">dsi.ora</code> in the wallet location, then Oracle Database searches for it in the following order. These are the same locations that Oracle Database searches for the <code class="codeph">ldap.ora</code> file. 
                                 <ol type="a" id="GUID-FA766B57-AF32-44B0-9419-A8164EC4E38C__OL_VXM_XD2_MFB">
                                    <li><code class="codeph">$LDAP_ADMIN</code> environment variable setting
                                    </li>
                                    <li><code class="codeph">$ORACLE_HOME/ldap/admin</code> directory
                                    </li>
                                    <li><code class="codeph">$TNS_ADMIN</code> environment variable setting 
                                    </li>
                                    <li><code class="codeph">$ORACLE_HOME/network/admin</code> directory
                                    </li>
                                 </ol>
                              </li>
                           </ol>
                           <p>Oracle recommends that you use directories for writable files under <code class="codeph">$ORACLE_BASE</code>, not under <code class="codeph">$ORACLE_HOME</code>. Starting with Oracle Database 18c, you can optionally set the <code class="codeph">$ORACLE_HOME</code> directory to be read-only. Hence, you should place the <code class="codeph">dsi.ora</code> file in a directory that is outside of <code class="codeph">$ORACLE_HOME</code> to accommodate the <code class="codeph">dsi.ora</code> configuration for future releases.
                           </p>
                           <p>Oracle also recommends that you use only <code class="codeph">dsi.ora</code> to identify the Active Directory servers for centrally managed users. If both <code class="codeph">dsi.ora</code> and <code class="codeph">ldap.ora</code> are configured in the same database for centrally managed users for Active Directory and are both located in the same directory, then <code class="codeph">dsi.ora</code> takes precedence over the <code class="codeph">ldap.ora</code> file. If they are in different directories, then Oracle uses the first one that it finds in the location precedence list above to find the Active Directory server. If the directory server type in the first found <code class="codeph">dsi.ora</code> or <code class="codeph">ldap.ora</code> is not Active Directory, then centrally managed users will <span class="bold">not</span> be enabled.
                           </p>
                           <p>You can specify <code class="codeph">dsi.ora</code> files for individual PDBs in a multitenant database. A PDB-specific <code class="codeph">dsi.ora</code> will override the common settings in the shared <code class="codeph">dsi.ora</code> or <code class="codeph">ldap.ora</code> for that one PDB. Different PDBs can connect to different Active Directory servers for CMU. The <code class="codeph">dsi.ora</code> file for an individual PDB is located in the same directory as the wallet for that PDB.
                           </p>
                           <p>When the <code class="codeph">WALLET_LOCATION</code> parameter in the <code class="codeph">sqlnet.ora</code> file is set, then the <code class="codeph">dsi.ora</code> file for an individual PDB will be in the per-PDB wallet in the  <code class="codeph"><span class="codeinlineitalic">WALLET_LOCATION_specified_in_sqlnet.ora</span>/<span class="codeinlineitalic">pdb_guid/</span></code> directory. 
                           </p>
                           <p>When the <code class="codeph">WALLET_LOCATION</code> parameter in the <code class="codeph">sqlnet.ora</code> file is not set, then the default wallet location for an individual container in a multitenant database is the <code class="codeph">$ORACLE_BASE/admin/<span class="codeinlineitalic">db_unique_name</span>/<span class="codeinlineitalic">pdb_guid</span>/wallet/</code> directory. For each PDB to use the default wallet location, you must not set <code class="codeph">WALLET_LOCATION</code> in <code class="codeph">sqlnet.ora</code>. 
                           </p>
                           <p>To find the <code class="codeph"><span class="codeinlineitalic">db_unique_name</span></code>, connect to the CDB root and execute the following query:
                           </p><pre class="oac_no_warn" dir="ltr">SELECT DB_UNIQUE_NAME FROM V$DATABASE;</pre><p>To find the <code class="codeph"><span class="codeinlineitalic">pdb_guid</span></code>, from the CDB root, execute the following query:
                           </p><pre class="oac_no_warn" dir="ltr">SELECT PDB_NAME,GUID FROM DBA_PDBS;</pre><p>Setting or not setting the <code class="codeph">WALLET_LOCATION</code> parameter in <code class="codeph">sqlnet.ora</code> has the following effects:
                           </p>
                           <ul style="list-style-type: disc;" id="GUID-FA766B57-AF32-44B0-9419-A8164EC4E38C__UL_RW2_DJ3_LFB">
                              <li>If <code class="codeph">WALLET_LOCATION</code> is not set in <code class="codeph">sqlnet.ora</code>, then you can also place <code class="codeph">dsi.ora</code> in the default wallet directory for the CDB root container, located in the <code class="codeph">$ORACLE_BASE/admin/<span class="codeinlineitalic">db_unique_name</span>/wallet</code> directory. However, this will only connect the CDB root container to the Active Directory, not the entire CDB database.
                              </li>
                              <li>If <code class="codeph">WALLET_LOCATION</code> is set in <code class="codeph">sqlnet.ora</code>, then you can place the <code class="codeph">dsi.ora</code> in that wallet location, and this will also only connect the CDB root container to the Active Directory, not the entire CDB database. 
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-2366643F-D88D-4F97-B39E-099D7664EC8D" title="The dsi.ora file specifies connections for centrally managed users for Active Directory.">Step 4: Create the dsi.ora or ldap.ora File</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-605AC053-4869-4F92-B53D-C1F289F11753" name="GUID-605AC053-4869-4F92-B53D-C1F289F11753"></a><h6 id="DBSEG-GUID-605AC053-4869-4F92-B53D-C1F289F11753" class="sect6">Creating the dsi.ora File</h6>
                        <div>
                           <p>The <code class="codeph">dsi.ora</code> configuration file sets the information to find the Active Directory servers for centrally managed users. 
                           </p>
                           <div class="section">To use the <code class="codeph">dsi.ora</code> configuration file:
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li><span>Log in to the host where the Oracle database is located.</span></li>
                              <li><span>Go to the directory where you want to create the <code class="codeph">dsi.ora</code> file.</span></li>
                              <li><span>Add the following parameters to the <code class="codeph">dsi.ora</code> file:</span><ul>
                                    <li><code class="codeph">DSI_DIRECTORY_SERVERS</code>, which sets the Active Directory server host and port number, and alternate directory servers. The directory server name must be a fully qualified name. You can also have multiple Active Directory servers here if you want to use multiple Windows domains. For example:<pre class="pre codeblock"><code>DSI_DIRECTORY_SERVERS = (AD-server.production.examplecorp.com:389:636, sparky.production.examplecorp.com:389:636)</code></pre></li>
                                    <li><code class="codeph">DSI_DEFAULT_ADMIN_CONTEXT</code>, which sets the search base where the Active Directory users and groups are located. <span class="bold">This parameter is optional.</span> By default, Oracle locates Active Directory users and groups in Active Directory's default naming context. Oracle recommends that you do not set this parameter. Set this parameter only if you want to limit the search scope for Active Directory users and groups. For example:<pre class="pre codeblock"><code>DSI_DEFAULT_ADMIN_CONTEXT = "OU=sales,DC=production,DC=examplecorp,DC=com"</code></pre></li>
                                    <li><code class="codeph">DSI_DIRECTORY_SERVER_TYPE</code>, which determines the Active Directory server access. You must set it to <code class="codeph">AD</code> for Active Directory. Enter this value in upper case.<pre class="pre codeblock"><code>DSI_DIRECTORY_SERVER_TYPE = AD</code></pre></li>
                                 </ul>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-2366643F-D88D-4F97-B39E-099D7664EC8D" title="The dsi.ora file specifies connections for centrally managed users for Active Directory.">Step 4: Create the dsi.ora or ldap.ora File</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-5478E6B9-9CDA-40BF-95D8-48A93CC0A809" name="GUID-5478E6B9-9CDA-40BF-95D8-48A93CC0A809"></a><h6 id="DBSEG-GUID-5478E6B9-9CDA-40BF-95D8-48A93CC0A809" class="sect6">About Using an ldap.ora File</h6>
                        <div>
                           <p>You can use an <code class="codeph">ldap.ora</code> file to specify Active Directory servers for centrally managed users.
                           </p>
                           <p>If you are already using an <code class="codeph">ldap.ora</code> file for another purpose such as net naming services, then you must use the <code class="codeph">dsi.ora</code> file to configure centrally managed users to connect with Active Directory for user authentication and authorization. Even if Active Directory is already being used for net naming services, then you must create and use a <code class="codeph">dsi.ora</code> file to identify the Active Directory servers for centrally managed users. Even if the database currently is not using <code class="codeph">ldap.ora</code> for another service, Oracle recommends using <code class="codeph">dsi.ora</code> in case <code class="codeph">ldap.ora</code> will be used at a future time for net naming services.
                           </p>
                           <p>The benefit of using <code class="codeph">ldap.ora</code> is that you can use the DBCA graphical interface or the DBCA silent mode to complete configuring the connection to the Active Directory servers. When using <code class="codeph">dsi.ora</code>, the steps to complete configuring the connection to Active Directory must be done separately.
                           </p>
                           <p>If <code class="codeph">ldap.ora</code> is being used for naming services, then do not make any changes to <code class="codeph">ldap.ora</code>. Only use <code class="codeph">dsi.ora</code> to configure CMU-Active Directory. 
                           </p>
                           <p>Typically, the <code class="codeph">ldap.ora</code> file is stored in the <code class="codeph">$ORACLE_HOME/network/admin</code> directory. Usually, the <code class="codeph">ldap.ora</code> file cannot be in the same directory as the <code class="codeph">WALLET_LOCATION</code> that is specified in the <code class="codeph">sqlnet.ora</code> file, unless the <code class="codeph">WALLET_LOCATION</code> is set to <code class="codeph">$ORACLE_HOME/network/admin</code>. 
                           </p>
                           <div class="p">After you create the <code class="codeph">ldap.ora</code> file, Oracle Database searches for it in the following order: 
                              <ol>
                                 <li>
                                    <p><code class="codeph">$LDAP_ADMIN</code> environment variable setting
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">$ORACLE_HOME/ldap/admin</code> directory
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">$TNS_ADMIN</code> environment variable setting 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">$ORACLE_HOME/network/admin</code> directory
                                    </p>
                                 </li>
                              </ol>
                           </div>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-2366643F-D88D-4F97-B39E-099D7664EC8D" title="The dsi.ora file specifies connections for centrally managed users for Active Directory.">Step 4: Create the dsi.ora or ldap.ora File</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-E4CE25FC-4A78-4CB6-A028-92C3E273330C" name="GUID-E4CE25FC-4A78-4CB6-A028-92C3E273330C"></a><h6 id="DBSEG-GUID-E4CE25FC-4A78-4CB6-A028-92C3E273330C" class="sect6">Creating the ldap.ora File</h6>
                        <div>
                           <p>These steps assume that <code class="codeph">ldap.ora</code> is not being used for net naming services and can be used to set up the connection with Active Directory for centrally managed users.
                           </p>
                           <ol>
                              <li class="stepexpand"><span>Log in to the host where the Oracle database is located.</span></li>
                              <li class="stepexpand"><span>Go to the directory where you want to create the <code class="codeph">ldap.ora</code> file.</span></li>
                              <li class="stepexpand"><span>If the <code class="codeph">ldap.ora</code> file does not exist, then create it by using a text editor.</span><div>If the&nbsp;<code class="codeph">ldap.ora</code>&nbsp;file does exist, create a backup of this file, and then open&nbsp;<code class="codeph">ldap.ora</code>.
                                 </div>
                              </li>
                              <li class="stepexpand"><span>Add the following parameters to the <code class="codeph">ldap.ora</code> file:</span><ul>
                                    <li><code class="codeph">DIRECTORY_SERVERS</code>, which sets the Active Directory server host and port number, and alternate directory servers. You can also have multiple Active Directory servers here if you want to use multiple Windows domains. The directory server name must be a fully qualified name. For example: <pre class="pre codeblock"><code>DIRECTORY_SERVERS = (AD-server.production.examplecorp.com:389:636, sparky.production.examplecorp.com:389:636)</code></pre></li>
                                    <li><code class="codeph">DEFAULT_ADMIN_CONTEXT</code>, which sets the search base where the Active Directory users and groups are located. <span class="bold">This parameter is optional.</span> By default, Oracle locates Active Directory users and groups in the Active Directory's default naming context. Oracle recommends that you do not set this parameter. Set this parameter only if you want to limit the search scope for Active Directory users and groups. For example:<pre class="pre codeblock"><code>DEFAULT_ADMIN_CONTEXT = "OU=sales,DC=production,DC=examplecorp,DC=com"</code></pre></li>
                                    <li><code class="codeph">DIRECTORY_SERVER_TYPE</code>, which determines the LDAP server access. You must set it to <code class="codeph">AD</code> for Active Directory. Enter this value in upper case.<pre class="pre codeblock"><code>DIRECTORY_SERVER_TYPE = AD</code></pre></li>
                                 </ul>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-2366643F-D88D-4F97-B39E-099D7664EC8D" title="The dsi.ora file specifies connections for centrally managed users for Active Directory.">Step 4: Create the dsi.ora or ldap.ora File</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-5CB2680D-9A06-43C3-ACCA-D9743948C17A" name="GUID-5CB2680D-9A06-43C3-ACCA-D9743948C17A"></a><h5 id="DBSEG-GUID-5CB2680D-9A06-43C3-ACCA-D9743948C17A" class="sect5">Step 5: Request an Active Directory Certificate for a Secure Connection</h5>
                     <div>
                        <p>After you have configured the <code class="codeph">dsi.ora</code> or <code class="codeph">ldap.ora</code> file, you are ready to prepare Microsoft Active Directory and Oracle Database certificates for a secure connection.
                        </p>
                        <ul>
                           <li><span>Request the Active Directory certificate from an Active Directory administrator.</span></li>
                        </ul>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="using-the-orapki-utility-to-manage-pki-elements.html#GUID-834C05EF-934A-4F03-9940-DF0ED2793859" title="You must manage certificate revocation lists (CRLs) with the orapki utility.">Management of Certificate Revocation Lists (CRLs) with orapki Utility</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="You can configure a Microsoft Active Directory connection during the Oracle database creation or with an existing Oracle database.">Connecting to Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-CACCAA19-8578-4A40-931D-9A4521EE4E64" name="GUID-CACCAA19-8578-4A40-931D-9A4521EE4E64"></a><h5 id="DBSEG-GUID-CACCAA19-8578-4A40-931D-9A4521EE4E64" class="sect5">Step 6: Create the Wallet for a Secure Connection</h5>
                     <div>
                        <p>After you have copied the Active Directory certificate, you are ready to add it to the Oracle wallet.</p>
                        <ol>
                           <li class="stepexpand"><span>Copy the certificate text file (for example,&nbsp;<code class="codeph">AD_CA_Root_cert.txt</code>) from the Active Directory server to a temporary directory (for example, <code class="codeph">/tmp</code>) on the local host.</span><div>If wallet location is not specified in the <code class="codeph">sqlnet.ora</code> file, then the database will search the following locations in this order for the wallet. The directory location may need to be created.
                              </div>
                              <div>For a non-multitenant database, or for the CDB root container of a multitenant database:</div>
                              <ol type="a" id="GUID-CACCAA19-8578-4A40-931D-9A4521EE4E64__SUBSTEPS_GJ5_NP3_LFB">
                                 <li><span><code class="codeph">$ORACLE_BASE/admin/<span class="codeinlineitalic">db_unique_name</span>/wallet/</code></span></li>
                                 <li><span><code class="codeph">$ORACLE_HOME/admin/<span class="codeinlineitalic">db_unique_name</span>/wallet/</code></span></li>
                              </ol>
                              <div>
                                 <p>For a PDB in a multitenant database:</p>
                              </div>
                              <ol type="a" id="GUID-CACCAA19-8578-4A40-931D-9A4521EE4E64__SUBSTEPS_FDK_KN3_LFB">
                                 <li><span><code class="codeph">$ORACLE_BASE/admin/<span class="codeinlineitalic">db_unique_name</span>/<span class="codeinlineitalic">pdb_guid</span>/wallet/</code></span></li>
                                 <li><span><code class="codeph">$ORACLE_HOME/admin/<span class="codeinlineitalic">db_unique_name</span>/<span class="codeinlineitalic">pdb_guid</span>/wallet/</code></span></li>
                              </ol>
                              <div>Oracle recommends that for each individual container in a multitenant database, you place the wallet files in the default wallet location under <code class="codeph">$ORACLE_BASE</code>, that is, in the <code class="codeph">$ORACLE_BASE/admin/<span class="codeinlineitalic">db_unique_name</span>/<span class="codeinlineitalic">pdb_guid</span>/wallet/</code> directory. 
                              </div>
                              <div>To find the <code class="codeph"><span class="codeinlineitalic">db_unique_name</span></code>, connect to the CDB root and execute the following query:<pre class="oac_no_warn" dir="ltr">SELECT DB_UNIQUE_NAME FROM V$DATABASE;</pre><p>To find the <code class="codeph">pdb_guid</code>, from the CDB root, execute the following query:
                                 </p><pre class="oac_no_warn" dir="ltr">SELECT PDB_NAME,GUID FROM DBA_PDBS;</pre><p>If you are using <code class="codeph">sqlnet.ora</code> to specify the wallet location, then the wallet location specified is for a non-multitenant database, or the root container of a multitenant database. For each PDB of the multitenant database, its wallet is located at <code class="codeph"><span class="codeinlineitalic">WALLET_LOCATION_specified_in_sqlnet.ora</span>/pdb_guid</code>. You can also place an individual PDB <code class="codeph">dsi.ora</code> in <code class="codeph"><span class="codeinlineitalic">WALLET_LOCATION_specified_in_sqlnet.ora</span>/<span class="codeinlineitalic">pdb_guid</span></code>. 
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Create a new wallet.</span><div>The following command creates an auto-login wallet in the specified path.<pre class="oac_no_warn" dir="ltr">orapki wallet create -wallet <span class="italic">path_of_wallet</span> -auto_loginn
Enter password: <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>Create an entry in wallet with the user name of the Oracle service directory user account for performing searches in Active Directory (created in the first step).</span><div>For example: <pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">path_of_wallet</span> -createEntry ORACLE.SECURITY.USERNAME oracle</pre></div>
                           </li>
                           <li class="stepexpand"><span>Create an entry in wallet with the DN of the Oracle service directory user account.</span><div>For example:<pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">path_of_wallet</span> -createEntry ORACLE.SECURITY.DN cn=oracle,cn=users,dc=production,dc=examplecorp,dc=com</pre><p>In this example, the <code class="codeph">DN</code> indicates that the DNS domain is <code class="codeph">production.examplecorp.com</code>. The Windows domain name is just <code class="codeph">production</code>.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Create an entry in wallet with the user password credential of the Oracle service directory user account.</span><div>For example:<pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">path_of_wallet</span> -createEntry ORACLE.SECURITY.PASSWORD <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>Add the certificate to the wallet. Use the Active Directory certificate that you received from the Active Directory administrator.</span><div>For example:<pre class="oac_no_warn" dir="ltr">orapki wallet add -wallet <span class="italic">path_of_wallet</span> -cert /tmp/AD_CA_Root_cert.txt -trusted_cert</pre><p>If <code class="codeph">WALLET_LOCATION</code> is specified in <code class="codeph">sqlnet.ora</code>, then you must always add Active Directory certificates to this wallet specified in <code class="codeph">sqlnet.ora</code>, for a non-multitenant database, the root container of a mutitenant database, or individual PDBs of the multitenant database. If different PDBs use the same Active Directory root CA certificate, then you only need to add it in this wallet one time.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Verify the credentials.</span><div>For example:<pre class="oac_no_warn" dir="ltr">orapki wallet display -wallet <span class="italic">path_of_wallet</span> </pre></div>
                              <div>The output should be similar to the following:<pre class="oac_no_warn" dir="ltr">Requested Certificates: 
User Certificates: 
Oracle Secret Store entries: 
ORACLE.SECURITY.DN 
ORACLE.SECURITY.PASSWORD 
ORACLE.SECURITY.USERNAME 
Trusted Certificates: 
Subject: CN=ADSVR,DC=production,DC=examplecorp,DC=com</pre><p>For <code class="codeph"><span class="codeinlineitalic">WALLET_LOCATION_specified_in_sqlnet.ora</span>/<span class="codeinlineitalic">pdb_guid</span></code>, the output should be similar to the following:
                                 </p><pre class="oac_no_warn" dir="ltr">Requested Certificates:
User Certificates:
Oracle Secret Store entries:
ORACLE.SECURITY.DN
ORACLE.SECURITY.PASSWORD
ORACLE.SECURITY.USERNAME
Trusted Certificates: </pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="You can configure a Microsoft Active Directory connection during the Oracle database creation or with an existing Oracle database.">Connecting to Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-E0CBB613-AB38-44B7-ACC9-810C82A9CE31" name="GUID-E0CBB613-AB38-44B7-ACC9-810C82A9CE31"></a><h5 id="DBSEG-GUID-E0CBB613-AB38-44B7-ACC9-810C82A9CE31" class="sect5">Step 7: Configure the Microsoft Active Directory Connection</h5>
                     <div>
                        <p>Next, you are ready to connect the database to Active Directory using the settings you have so far.</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-837140A6-B3E3-4285-8B50-0B8D53402DB6">About Configuring the Microsoft Active Directory Connection</a><br>To configure the Microsoft Active Directory connection, you can set the parameters in the database or use DBCA.
                           </li>
                           <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-839A209B-E32C-4D6F-89DD-5C0787BF874A">Configuring the Access Manually Using Database System Parameters</a><br>You can configure the Active Directory services connection manually by using LDAP-specific Oracle Database system parameters.
                           </li>
                           <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-70278341-41A2-4BD0-A5AD-3E8570538622">Configuring the Access Using the Database Configuration Assistant GUI</a><br>Oracle Database Configuration Assistant (DBCA) completes the LDAP connection configuration and automatically creates the wallet and stores the Active Directory certificate for use. DBCA only works when <code class="codeph">ldap.ora</code> is configured for CMU-Active Directory.
                           </li>
                           <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-3BC800E7-C595-4C90-B4D6-1794AF30BD46">Configuring the Access Using Database Configuration Assistant Silent Mode</a><br>Assuming <code class="codeph">ldap.ora</code> (not <code class="codeph">dsi.ora</code>) has been created in the correct location and configured properly, DBCA silent mode can create a new database or alter an existing database for the Microsoft Active Directory-Oracle Database integration.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="You can configure a Microsoft Active Directory connection during the Oracle database creation or with an existing Oracle database.">Connecting to Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-837140A6-B3E3-4285-8B50-0B8D53402DB6" name="GUID-837140A6-B3E3-4285-8B50-0B8D53402DB6"></a><h6 id="DBSEG-GUID-837140A6-B3E3-4285-8B50-0B8D53402DB6" class="sect6">About Configuring the Microsoft Active Directory Connection</h6>
                        <div>
                           <p>To configure the Microsoft Active Directory connection, you can set the parameters in the database or use DBCA.</p>
                           <p>DBCA only recognizes the <code class="codeph">ldap.ora</code> that is configured for centrally managed users, and only creates the wallet in the recommended default location. To use the default wallet locations, you must <span class="bold">not</span> set <code class="codeph">WALLET_LOCATION</code> in <code class="codeph">sqlnet.ora</code>.
                           </p>
                           <div class="infoboxnote" id="GUID-837140A6-B3E3-4285-8B50-0B8D53402DB6__GUID-758A9467-4B4E-4CF1-960E-E1AAD18A7CCB">
                              <p class="notep1">Note:</p>
                              <p>Oracle recommends using <code class="codeph">dsi.ora</code> for CMU-Active Directory.
                              </p>
                           </div>
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>Related Topics</strong></p>
                              <ul>
                                 <li><a href="integrating_mads_with_oracle_database.html#GUID-839A209B-E32C-4D6F-89DD-5C0787BF874A" title="You can configure the Active Directory services connection manually by using LDAP-specific Oracle Database system parameters.">Configuring the Access Manually Using Database System Parameters</a></li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-E0CBB613-AB38-44B7-ACC9-810C82A9CE31" title="Next, you are ready to connect the database to Active Directory using the settings you have so far.">Step 7: Configure the Microsoft Active Directory Connection</a></p>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-839A209B-E32C-4D6F-89DD-5C0787BF874A" name="GUID-839A209B-E32C-4D6F-89DD-5C0787BF874A"></a><h6 id="DBSEG-GUID-839A209B-E32C-4D6F-89DD-5C0787BF874A" class="sect6">Configuring the Access Manually Using Database System Parameters</h6>
                        <div>
                           <p>You can configure the Active Directory services connection manually by using LDAP-specific Oracle Database system parameters.</p>
                           <ol>
                              <li class="stepexpand"><span>Ensure that you have created the <code class="codeph">dsi.ora</code> file or the <code class="codeph">ldap.ora</code> file, and that you have created the wallet. </span></li>
                              <li class="stepexpand"><span>Log in to the database instance as a user who has the <code class="codeph">ALTER SYSTEM</code> system privilege.</span><div>In a multitenant environment, you can log in to the CDB root or to a PDB. If you log in to the CDB root, then the parameters setting affects every PDB. If you log in to a PDB, then the parameters settings affect only that PDB. 
                                    <p>For example, to log in to the CDB root:</p><pre class="oac_no_warn" dir="ltr">sqlplus c##sec_admin
Enter password: <span class="italic">password</span></pre></div>
                              </li>
                              <li class="stepexpand"><span>Modify the <code class="codeph">LDAP_DIRECTORY_ACCESS</code> parameter, which determines the type of LDAP directory access. </span><div>Valid values are <code class="codeph">PASSWORD</code> and <code class="codeph">NONE</code> (to disable the connection). <code class="codeph">PASSWORD</code> requires an Active Directory server certificate and when you create the wallet, you must include the credentials for the Active Directory service user account for Oracle.
                                 </div>
                                 <div>For example:<pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LDAP_DIRECTORY_ACCESS = 'PASSWORD';</pre><p>You can also set this parameter in the spfile or in the <code class="codeph">init.ora</code> file (if the <code class="codeph">init.ora</code> file is used). Afterward, restart the database.
                                    </p>
                                 </div>
                              </li>
                              <li class="stepexpand"><span>Set the <code class="codeph">LDAP_DIRECTORY_SYSAUTH</code> parameter to <code class="codeph">YES</code>, so that administrative users from Active Directory can log in to Oracle Database with the <code class="codeph">SYSDBA</code>, <code class="codeph">SYSOPER</code>, <code class="codeph">SYSBACKUP</code>, <code class="codeph">SYSDG</code>, <code class="codeph">SYSKM</code>, or <code class="codeph">SYSRAC</code> administrative privilege.</span><div>If you set this parameter to <code class="codeph">NO</code>, then centrally managed users from Active Directory cannot log in to Oracle database with these privileges. 
                                 </div>
                                 <div><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LDAP_DIRECTORY_SYSAUTH = YES SCOPE=SPFILE ;</pre><p>You can also set this parameter in the spfile or in the <code class="codeph">init.ora</code> file (if the <code class="codeph">init.ora</code> file is used). Afterward, restart the database.
                                    </p>
                                 </div>
                              </li>
                              <li class="stepexpand"><span>Restart the database instance. </span><ul>
                                    <li>If you are in a non-multitenant environment, or if you are in a multitenant environment and in a PDB (or if you are in the CDB root and want to make parameters setting changes to take effect for entire CDB), then shut down and then restart the database:<pre class="oac_no_warn" dir="ltr">SHUTDOWN IMMEDIATE
STARTUP</pre></li>
                                    <li>If you are in a multitenant environment and in the CDB root, and want to make parameter setting change to take effect for a specific PDB, then close and re-open that PDB:<pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE <span class="italic">pdb_name</span> CLOSE IMMEDIATE;
ALTER PLUGGABLE DATABASE <span class="italic">pdb_name</span> OPEN;</pre></li>
                                 </ul>
                              </li>
                           </ol>
                           <div class="section">After you restart the database, you can log in with the <code class="codeph">SYSDBA</code> administrative privilege and check the LDAP parameters settings as follows:<pre class="oac_no_warn" dir="ltr">show parameter ldap</pre></div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-E0CBB613-AB38-44B7-ACC9-810C82A9CE31" title="Next, you are ready to connect the database to Active Directory using the settings you have so far.">Step 7: Configure the Microsoft Active Directory Connection</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-70278341-41A2-4BD0-A5AD-3E8570538622" name="GUID-70278341-41A2-4BD0-A5AD-3E8570538622"></a><h6 id="DBSEG-GUID-70278341-41A2-4BD0-A5AD-3E8570538622" class="sect6">Configuring the Access Using the Database Configuration Assistant GUI</h6>
                        <div>
                           <p>Oracle Database Configuration Assistant (DBCA) completes the LDAP connection configuration and automatically creates the wallet and stores the Active Directory certificate for use. DBCA only works when <code class="codeph">ldap.ora</code> is configured for CMU-Active Directory.
                           </p>
                           <div class="section">These instructions assume that you have already installed the Oracle software and that you are using an <code class="codeph">ldap.ora</code> file (not <code class="codeph">dsi.ora</code>) to identify the Active Directory servers for the centrally managed users. If you have not installed the database software yet, then you can install the software using Oracle Universal Installer (OUI). After that, use DBCA to create the database, and at the same time you can configure the connection for Active Directory centrally managed users.
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>Log in to the host where the Oracle database software is installed as a user who has administrative privileges.</span></li>
                              <li class="stepexpand"><span>Start <code class="codeph">DBCA</code>.</span><div>By default, the <code class="codeph">DBCA</code> utility is located in the <code class="codeph">$ORACLE_HOME/bin</code> directory.
                                 </div>
                                 <div>For example:<pre class="oac_no_warn" dir="ltr">cd $ORACLE_HOME/bin
./dbca</pre></div>
                              </li>
                              <li class="stepexpand"><span>Select the Network Configuration option (or when you get to the Network Configuration option when creating the database).</span><div>The Specify Network Configuration Details window appears. If the Directory Service Integration area is not visible, then the <code class="codeph">ldap.ora</code> file was not configured correctly. Check the <code class="codeph">ldap.ora</code> configuration that you did earlier, and after you have corrected the file, rerun DBCA. 
                                 </div>
                              </li>
                              <li class="stepexpand"><span>In the Directory Service Integration area, do the following: </span><ul>
                                    <li>In the <span class="uicontrol bold">Service username</span> field, enter the name of the Oracle service directory user account.
                                    </li>
                                    <li>In the <span class="uicontrol bold">Password</span> field, enter the password of the Oracle service directory user account.
                                    </li>
                                    <li>In the <span class="uicontrol bold">Service user DN</span> field, enter the DN for the Oracle service directory user account. The DN can be retrieved directly from the Active Directory server or from an Active Directory system administrator. 
                                    </li>
                                    <li>For <span class="uicontrol bold">Access Type</span>, select the type of authentication from the list (for example, <span class="uicontrol bold">PASSWORD</span>). (This setting sets the <code class="codeph">LDAP_DIRECTORY_ACCESS</code> parameter.) If necessary, select the <span class="uicontrol bold">Allow admin privileges authentication</span> checkbox, which allows Active Directory users to authenticate and use database schemas with administrative privileges (for example, <code class="codeph">SYSDBA</code>, <code class="codeph">SYSOPER</code>, <code class="codeph">SYSBACKUP</code>, and so on).  Otherwise, centrally managed users from Active Directory cannot log in to the database with administrative privileges. (This setting corresponds to the <code class="codeph">LDAP_DIRECTORY_SYSAUTH</code> parameter.) 
                                    </li>
                                    <li>Provide the path to the Active Directory certificate in the <span class="uicontrol bold">Certificate file location</span> field. In a multitentant environment, DBCA recognizes and sets up Active Directory connections for the database instance connection. You must manually configure PDB connections if you want to connect a different Active Directory server to a PDB. 
                                    </li>
                                    <li>In the <span class="uicontrol bold">Wallet password</span> and <span class="uicontrol bold">Confirm password</span> fields, enter and confirm the password for the Oracle wallet that will store the certificate and credential of the Oracle service directory user account. Afterward, DBCA automatically validates the service directory user account, creates the wallet, stores the user credential, and imports the certificate.
                                    </li>
                                 </ul>
                              </li>
                              <li class="stepexpand"><span>Click <span class="uicontrol bold">Next</span> until you reach the Finish page.</span></li>
                              <li class="stepexpand"><span>Click <span class="uicontrol bold">Finish</span>.</span></li>
                           </ol>
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>Related Topics</strong></p>
                              <ul>
                                 <li><a href="integrating_mads_with_oracle_database.html#GUID-2366643F-D88D-4F97-B39E-099D7664EC8D" title="The dsi.ora file specifies connections for centrally managed users for Active Directory.">Step 4: Create the dsi.ora or ldap.ora File</a></li>
                                 <li><a href="integrating_mads_with_oracle_database.html#GUID-3BC800E7-C595-4C90-B4D6-1794AF30BD46" title="Assuming ldap.ora (not dsi.ora) has been created in the correct location and configured properly, DBCA silent mode can create a new database or alter an existing database for the Microsoft Active Directory-Oracle Database integration.">Configuring the Access Using Database Configuration Assistant Silent Mode</a></li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-E0CBB613-AB38-44B7-ACC9-810C82A9CE31" title="Next, you are ready to connect the database to Active Directory using the settings you have so far.">Step 7: Configure the Microsoft Active Directory Connection</a></p>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-3BC800E7-C595-4C90-B4D6-1794AF30BD46" name="GUID-3BC800E7-C595-4C90-B4D6-1794AF30BD46"></a><h6 id="DBSEG-GUID-3BC800E7-C595-4C90-B4D6-1794AF30BD46" class="sect6">Configuring the Access Using Database Configuration Assistant Silent Mode</h6>
                        <div>
                           <p>Assuming <code class="codeph">ldap.ora</code> (not <code class="codeph">dsi.ora</code>) has been created in the correct location and configured properly, DBCA silent mode can create a new database or alter an existing database for the Microsoft Active Directory-Oracle Database integration.
                           </p>
                           <ol>
                              <li class="stepexpand"><span>Log in to the host that will have the Oracle database to be used for the integration.</span></li>
                              <li class="stepexpand"><span>Make sure <code class="codeph">ldap.ora</code> is created with the correct content in a correct location.</span></li>
                              <li class="stepexpand"><span>Make sure that the <code class="codeph">WALLET_LOCATION</code> parameter is not specified in the <code class="codeph">sqlnet.ora</code> file.</span></li>
                              <li class="stepexpand"><span>Run Database Configuration Assistant (DBCA) in silent mode.</span><div>For example, to create a single instance non-multitenant database:<pre class="oac_no_warn" dir="ltr">cd $ORACLE_HOME/bin

./dbca -silent -createDatabase -gdbName inst1.production.examplecorp.com
-templateName General_Purpose.dbc -totalMemory 1000
-registerWithDirService true
-dirServiceUser oracle
-dirServiceUserName cn=oracle,cn=users,dc=production,dc=examplecorp,dc=com
-dirServicePassword <span class="italic">service_user_password</span>
-ldapDirectoryAccessType PASSWORD
-useSysAuthForLDAPAccess true
-dirServiceCertificatePath /tmp/AD_CA_Root_cert.txt
-walletPassword <span class="italic">wallet_password</span>
-sysPassword <span class="italic">sys_password</span>
-systemPassword <span class="italic">system_password</span></pre><p>To configure the root container of a CDB or a non-multitenant database:</p><pre class="oac_no_warn" dir="ltr">cd $ORACLE_HOME/bin

./dbca -silent -configureDatabase -sourceDB <span class="italic">db_name</span>
-registerWithDirService true
-dirServiceUser oracle
-dirServiceUserName cn=oracle,cn=users,dc=production,dc=examplecorp,dc=com
-dirServicePassword <span class="italic">service_user_password</span>
-ldapDirectoryAccessType PASSWORD
-useSYSAuthForLDAPAccess true
-dirServiceCertificatePath /tmp/AD_CA_Root_cert.txt
-walletPassword <span class="italic">wallet_password</span></pre><p>To configure a pluggable database in a CDB:</p><pre class="oac_no_warn" dir="ltr">cd $ORACLE_HOME/bin

./dbca -silent -configurePluggableDatabase -pdbName <span class="italic">pdb_name</span> -sourceDB <span class="italic">db_name</span>
-registerWithDirService true
-dirServiceUser oracle
-dirServiceUserName cn=oracle,cn=users,dc=production,dc=examplecorp,dc=com
-dirServicePassword <span class="italic">service_user_password</span>
-dirServiceCertificatePath /tmp/AD_CA_Root_cert.txt
-walletPassword <span class="italic">wallet_password</span> </pre></div>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>Related Topics</strong></p>
                              <ul>
                                 <li><a href="integrating_mads_with_oracle_database.html#GUID-5478E6B9-9CDA-40BF-95D8-48A93CC0A809" title="You can use an ldap.ora file to specify Active Directory servers for centrally managed users.">About Using an ldap.ora File</a></li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-E0CBB613-AB38-44B7-ACC9-810C82A9CE31" title="Next, you are ready to connect the database to Active Directory using the settings you have so far.">Step 7: Configure the Microsoft Active Directory Connection</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-034E8557-73B2-4211-94C8-ABDED26B63B9" name="GUID-034E8557-73B2-4211-94C8-ABDED26B63B9"></a><h5 id="DBSEG-GUID-034E8557-73B2-4211-94C8-ABDED26B63B9" class="sect5">Step 8: Verify the Oracle Wallet</h5>
                     <div>
                        <p>The <code class="codeph">orapki</code> utility can verify that the wallet for this database was created successfully.
                        </p>
                        <ol>
                           <li class="stepexpand"><span>Log in to the host where a database is used in the integration.</span></li>
                           <li class="stepexpand"><span>Go to the directory that contains the wallet. </span><div>If <code class="codeph">WALLET_LOCATION</code> is not set in <code class="codeph">sqlnet.ora</code>, then the default wallet locations are the following:
                              </div>
                              <div>
                                 <p>In a non-multitenant environment, the <code class="codeph">wallet</code> directory is in the <code class="codeph">$ORACLE_BASE/admin/<span class="codeinlineitalic">db_unique_name</span>/wallet</code> directory.
                                 </p>
                                 <p>In a multitenant environment, it is in one of the following locations: </p>
                                 <ul style="list-style-type: disc;" id="GUID-034E8557-73B2-4211-94C8-ABDED26B63B9__UL_X52_MZK_KFB">
                                    <li>For the CDB root, the wallet is in the <code class="codeph">$ORACLE_BASE/admin/<span class="codeinlineitalic">db_unique_name</span>/wallet/</code> directory. 
                                    </li>
                                    <li>For a PDB, the wallet is in the <code class="codeph">$ORACLE_BASE/admin/<span class="codeinlineitalic">db_unique_name</span>/<span class="codeinlineitalic">pdb_guid</span>/wallet/</code> directory.
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>At the command line, enter the following commands:</span><div>
                                 <p><code class="codeph">ls -l <span class="codeinlineitalic">path_of_wallet</span></code> (to check that the <code class="codeph">wallet</code> directory contains wallet files)
                                 </p>
                                 <p><code class="codeph">orapki wallet display -wallet <span class="codeinlineitalic">path_of_wallet</span></code> (to find the Oracle Secret Store entries)
                                 </p>
                                 <p>The output should contain the following entries: </p><pre class="oac_no_warn" dir="ltr">Requested Certificates: 
User Certificates: 
Oracle Secret Store entries: 
ORACLE.SECURITY.DN 
ORACLE.SECURITY.PASSWORD 
ORACLE.SECURITY.USERNAME 
Trusted Certificates: 
Subject: CN=ADSVR,DC=production,DC=examplecorp,DC=com</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="You can configure a Microsoft Active Directory connection during the Oracle database creation or with an existing Oracle database.">Connecting to Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-8BB25985-1E21-473F-9BDC-E5010EE39969" name="GUID-8BB25985-1E21-473F-9BDC-E5010EE39969"></a><h5 id="DBSEG-GUID-8BB25985-1E21-473F-9BDC-E5010EE39969" class="sect5">Step 9: Test the Integration</h5>
                     <div>
                        <p>To test the integration, you must set the <code class="codeph">ORACLE_HOME</code>, <code class="codeph">ORACLE_BASE,</code> and <code class="codeph">ORACLE_SID</code> environment variables and then verify the LDAP parameter settings. 
                        </p>
                        <ol>
                           <li class="stepexpand"><span>Log in to the host where a database is used for the integration.</span></li>
                           <li class="stepexpand"><span>Set the <code class="codeph">ORACLE_HOME</code>, <code class="codeph">ORACLE_BASE</code>, and <code class="codeph">ORACLE_SID</code> environment variables.</span><div>For example:<pre class="oac_no_warn" dir="ltr">export ORACLE_HOME=/app/product/18.1/dbhome_1
export ORACLE_BASE=/app
export ORACLE_SID=sales_db</pre></div>
                           </li>
                           <li class="stepexpand"><span>Log in to the database instance as a user who has the <code class="codeph">SYSDBA</code> administrative privilege.</span><div>For example:<pre class="oac_no_warn" dir="ltr">sqlplus sec_admin as sysdba
Enter password: <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>Check the LDAP parameter settings:</span><div><pre class="oac_no_warn" dir="ltr">show parameter ldap </pre><p>The output should be similar to the following:</p><pre class="oac_no_warn" dir="ltr">NAME                          TYPE       VALUE
---------------------------   ---------  -----------------
ldap_directory_access         string     PASSWORD 
ldap_directory_sysauth        string     YES</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="You can configure a Microsoft Active Directory connection during the Oracle database creation or with an existing Oracle database.">Connecting to Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-C207C899-75B0-4D0F-A686-AA3E06B61224" name="GUID-C207C899-75B0-4D0F-A686-AA3E06B61224"></a><h3 id="DBSEG-GUID-C207C899-75B0-4D0F-A686-AA3E06B61224" class="sect3">Configuring Authentication for Centrally Managed Users</h3>
               <div>
                  <p>You can configure password authentication, Kerberos authentication, or public key infrastructure (PKI) authentication.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-18BBB8A1-00CC-47B8-9D0B-D0E5BA2D9315">Configuring Password Authentication for Centrally Managed Users</a><br>Configuring password authentication for centrally managed users entails the use of a password filter with Active Directory to generate and store Oracle Database password verifiers on Active Directory.
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-FAD942EC-4461-4073-8518-C977721147EB">Configuring Kerberos Authentication for Centrally Managed Users</a><br>If you plan to use Kerberos authentication, then you must configure Kerberos in the Oracle database that will be integrated with Microsoft Active Directory. 
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-1EF17156-3FA4-4EDD-8DFF-F98EB3A926BF">Configuring Authentication Using PKI Certificates for Centrally Managed Users</a><br>If you plan to use PKI certificates for the authentication of centrally managed users, then you must configure Secure Sockets Layer in the Oracle database that will be integrated with Microsoft Active Directory.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" title="Oracle Database can authenticate and authorize Microsoft Active Directory users with the database directly without intermediate directories or Oracle Enterprise User Security.">Configuring Centrally Managed Users with Microsoft Active Directory</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-18BBB8A1-00CC-47B8-9D0B-D0E5BA2D9315" name="GUID-18BBB8A1-00CC-47B8-9D0B-D0E5BA2D9315"></a><h4 id="DBSEG-GUID-18BBB8A1-00CC-47B8-9D0B-D0E5BA2D9315" class="sect4">Configuring Password Authentication for Centrally Managed Users</h4>
                  <div>
                     <p>Configuring password authentication for centrally managed users entails the use of a password filter with Active Directory to generate and store Oracle Database password verifiers on Active Directory.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-E8747F53-46DD-4906-A520-0E20D67743C1">About Configuring Password Authentication for Centrally Managed Users</a><br>To configure password authentication, you must deploy a password filter, extend the Active Directory schema by adding one user attribute, and create groups for generating different versions of password verifiers on Active Directory. 
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-68E42AE4-646C-4AC0-9C94-8F972BE79442">Configuring Password Authentication for a Centrally Managed User</a><br>You must perform password authentication configuration on Active Directory servers, and also on Oracle databases if it is required that Active Directory users will log in to Oracle databases with administrative privileges.
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-24F8613D-FD8B-411E-924F-7D1BB86FF353">Logging in to an Oracle Database Using Password Authentication</a><br>For password authentication, centrally managed users have choices of how to log in to the database.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-C207C899-75B0-4D0F-A686-AA3E06B61224" title="You can configure password authentication, Kerberos authentication, or public key infrastructure (PKI) authentication.">Configuring Authentication for Centrally Managed Users</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-E8747F53-46DD-4906-A520-0E20D67743C1" name="GUID-E8747F53-46DD-4906-A520-0E20D67743C1"></a><h5 id="DBSEG-GUID-E8747F53-46DD-4906-A520-0E20D67743C1" class="sect5">About Configuring Password Authentication for Centrally Managed Users</h5>
                     <div>
                        <p>To configure password authentication, you must deploy a password filter, extend the Active Directory schema by adding one user attribute, and create groups for generating different versions of password verifiers on Active Directory. </p>
                        <p>For Active Directory users to log in Oracle database with administrative privileges, you must also set a password file with Oracle database.</p>
                        <p>For password authentication, because Oracle Database does not pass Active Directory users' passwords through the <code class="codeph">ldapbind</code> command to authenticate with Active Directory, you must install an Oracle filter and extend the Active Directory schema. The Oracle filter that you install in Active Directory creates Oracle-specific password verifiers when Active Directory users update their passwords. The Oracle filter does not generate all required Oracle password verifiers when it is first installed; the Oracle filter only generates the Oracle password verifier for a user when the user changes his or her Active Directory password. 
                        </p>
                        <p>To maintain backward compatibility (if your site requires it), the Oracle filter can generate password verifiers to work with Oracle Database clients for releases 11g, 12c, and 18c. The Oracle password filter uses Active Directory groups named <code class="codeph">ORA_VFR_MD5</code> (for <code class="codeph">WebDAV</code>), <code class="codeph">ORA_VFR_11G</code> (for release 11g) and <code class="codeph">ORA_VFR_12C</code> (for releases 12c and 18c) to determine which Oracle Database password verifiers to generate. These groups must be created in Active Directory for the Oracle password verifiers to be generated for group member users. These are separate groups that dictate which specific verifiers should be generated for the Active Directory users. For example, if ten directory users need to log in to a newly created Oracle Database release 18c database that only communicated with Oracle Database release 18c and 12c clients, then an Active Directory group <code class="codeph">ORA_VFR_12C</code> will have ten Active Directory users as members. The Oracle filter will only generate <code class="codeph">12C</code> verifiers for these ten Active Directory users when they change passwords with Active Directory (18c verifiers are the same as 12c verifiers). If an Active Directory user no long needs to log in to Oracle databases, in order to clear the Oracle password verifiers generated for the Active Directory user, remove the user from any <code class="codeph">ORA_VFR</code> groups, and reset the password (or require password change) for this user. You can also manually clear the <code class="codeph">orclCommonAttribute</code> attribute for this user. Oracle password verifiers will no longer be generated after the user has been removed from <code class="codeph">ORA_VFR</code> groups.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-18BBB8A1-00CC-47B8-9D0B-D0E5BA2D9315" title="Configuring password authentication for centrally managed users entails the use of a password filter with Active Directory to generate and store Oracle Database password verifiers on Active Directory.">Configuring Password Authentication for Centrally Managed Users</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-68E42AE4-646C-4AC0-9C94-8F972BE79442" name="GUID-68E42AE4-646C-4AC0-9C94-8F972BE79442"></a><h5 id="DBSEG-GUID-68E42AE4-646C-4AC0-9C94-8F972BE79442" class="sect5">Configuring Password Authentication for a Centrally Managed User</h5>
                     <div>
                        <p>You must perform password authentication configuration on Active Directory servers, and also on Oracle databases if it is required that Active Directory users will log in to Oracle databases with administrative privileges.</p>
                        <ol>
                           <li class="stepexpand"><span>Deploy the Oracle Database password filter and extend the Active Directory schema.</span><div>The utility tool for performing this task, <code class="codeph">opwdintg.exe</code>, is located in <code class="codeph">$ORACLE_HOME/bin</code>. This utility installs the password filter in Active Directory, extends the Active Directory schema to hold the Oracle password verifiers, and creates the Active Directory password verifier groups. The password filter will enable the Microsoft Active Directory user accounts to be authenticated by the Oracle database when connected to clients using <code class="codeph">WebDAV</code>, <code class="codeph">11G</code>, and <code class="codeph">12C</code> password verifiers.
                              </div>
                              <ol type="a">
                                 <li class="substepexpand"><span>To deploy the <code class="codeph">opwdintg.exe</code> executable, copy this file to the Active Directory server and then have the Active Directory administrator run the <code class="codeph">opwdintg.exe</code> utility tool.</span></li>
                                 <li class="substepexpand"><span>Log in to Microsoft Active Directory as a user who has privileges to create and manage user groups.</span></li>
                                 <li class="substepexpand"><span>Check for the following password verifier user groups: <code class="codeph">ORA_VFR_MD5</code>, <code class="codeph">ORA_VFR_11G</code>, and <code class="codeph">ORA_VFR_12C</code>. If these groups do not exist, then rerun the <code class="codeph">opwdintg.exe</code> utility tool.</span></li>
                                 <li class="substepexpand"><span>Add the Microsoft Active Directory users who will use Oracle Database to these groups, following these guidelines:</span><div>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>If either the client or the server only permits Oracle Database release 12<span class="italic">c</span> authentication, then add the user to the <code class="codeph">ORA_VFR_12C</code> group. (Oracle Database release 18c uses the same verifier as Oracle Database release 12c.)
                                             </p>
                                          </li>
                                          <li>
                                             <p>If both the client and the server only permit authentication lower than Oracle Database release 12<span class="italic">c</span> (that is, they have Oracle Database releases 11g, or 12.1.0.1 clients), then add the user to the <code class="codeph">ORA_VFR_11G</code> group. 
                                             </p>
                                          </li>
                                          <li>
                                             <p>If a user must authenticate through an Oracle Database <code class="codeph">WebDAV</code> client, then the user must be a member of the <code class="codeph">ORA_VFR_MD5</code> group. 
                                             </p>
                                          </li>
                                       </ul>
                                       <p>This configuration enables fine-grained control over the generation of the Oracle Database password verifiers. Only the required verifiers for the required users are generated. For example, if Microsoft Active Directory user <code class="codeph">pfitch</code> is added to the  <code class="codeph">ORA_VFR_12C</code> and <code class="codeph">ORA_VFR_11G</code> groups, then both the <code class="codeph">12C</code> and <code class="codeph">11G</code> verifiers will be generated for <code class="codeph">pfitch</code>. This ensures that when applicable, the most secure and strongest verifier is chosen, while in other cases, the <code class="codeph">11G</code> verifier is chosen for the Oracle Database release 11g clients. 
                                       </p>
                                    </div>
                                 </li>
                              </ol>
                           </li>
                           <li class="stepexpand"><span>Update the database password file to version 12.2.</span><div>If it is required that Active Directory users will log in to Oracle databases with administrative privileges, then update the database password file to version 12.2.</div>
                              <ol type="a">
                                 <li class="substepexpand"><span>As a user with administrative privileges, log in to the host where the database that is to be used for the Microsoft Active Directory connection resides. </span></li>
                                 <li class="substepexpand"><span>Go to the <code class="codeph">$ORACLE_HOME/dbs</code> directory. </span></li>
                                 <li class="substepexpand"><span>Run the <code class="codeph">ORAPWD</code> utility to set the format to 12.2.</span><div>For example:<pre class="oac_no_warn" dir="ltr">orapwd FILE='/app/oracle/product/18.1/db_1/dbs/orapwdb181' FORMAT=12.2</pre><p>This setting ensures that you can grant the various administrative privileges such as <code class="codeph">SYSOPOER</code> and <code class="codeph">SYSBACKUP</code> to the global user. 
                                       </p>
                                    </div>
                                 </li>
                                 <li class="substepexpand"><span>Log in to the database instance as a user who has the <code class="codeph">ALTER SYSTEM</code> privilege. </span></li>
                                 <li class="substepexpand"><span>Make sure that the <code class="codeph">LDAP_DIRECTORY_SYSAUTH</code> parameter is set to <code class="codeph">YES</code> in the <code class="codeph">spfile</code> or the <code class="codeph">init.ora</code> file.</span></li>
                                 <li class="substepexpand"><span>Set the <code class="codeph">REMOTE_LOGIN_PASSWORDFILE</code> parameter to <code class="codeph">EXCLUSIVE</code> in the <code class="codeph">spfile</code> or the<code class="codeph"> init.ora</code> file.</span></li>
                                 <li class="substepexpand"><span>Restart the database instance. </span><div><pre class="oac_no_warn" dir="ltr">SHUTDOWN IMMEDIATE
STARTUP</pre></div>
                                 </li>
                              </ol>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="integrating_mads_with_oracle_database.html#GUID-4B702116-EF10-47AC-9267-163553C15FF5" title="You can use the Oracle opwdintg.exe executable on the Active Directory server to install the password filter and extend the Active Directory schema.">Step 2: For Password Authentication, Install the Password Filter and Extend the Microsoft Active Directory Schema</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-18BBB8A1-00CC-47B8-9D0B-D0E5BA2D9315" title="Configuring password authentication for centrally managed users entails the use of a password filter with Active Directory to generate and store Oracle Database password verifiers on Active Directory.">Configuring Password Authentication for Centrally Managed Users</a></p>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-24F8613D-FD8B-411E-924F-7D1BB86FF353" name="GUID-24F8613D-FD8B-411E-924F-7D1BB86FF353"></a><h5 id="DBSEG-GUID-24F8613D-FD8B-411E-924F-7D1BB86FF353" class="sect5">Logging in to an Oracle Database Using Password Authentication</h5>
                     <div>
                        <p>For password authentication, centrally managed users have choices of how to log in to the database.</p>
                        <p>To log in to a database that is configured to connect to Active Directory, an Active Directory user can use the following logon user name syntax if he or she is using password authentication:</p><pre class="oac_no_warn" dir="ltr">sqlplus /nolog 
connect "<span class="italic">Windows_domain</span>\<span class="italic">Active_Directory_user_name</span>"@<span class="italic">tnsname_of_database</span> 
Password: <span class="italic">password</span></pre><p>The following connection assumes the Windows domain name is <code class="codeph">production</code>:
                        </p><pre class="oac_no_warn" dir="ltr">connect "production\pfitch"@inst1</pre><p>If the Active Directory user is in the same Active Directory domain as the Oracle Service Directory User Account configured in the database wallet, then an Active Directory user can use this user name (<code class="codeph"><span class="codeinlineitalic">samAccountName</span></code>) directly to log on to the database:
                        </p><pre class="oac_no_warn" dir="ltr">sqlplus <span class="italic">samAccountName</span>@<span class="italic">tnsname_of_database</span>
Enter password: <span class="italic">password</span></pre><p>For example:</p><pre class="oac_no_warn" dir="ltr">connect pfitch@instl
Enter password: <span class="italic">password</span></pre><p>Alternatively, the user can use their Active Directory Windows user logon name with the DNS domain name.</p><pre class="oac_no_warn" dir="ltr">connect "<span class="italic">Active_Directory_user_name</span>@<span class="italic">Windows_DNS_domain_name</span>"@<span class="italic">tnsname_of_database</span> 
Password: <span class="italic">password</span> </pre><p>For example:</p><pre class="oac_no_warn" dir="ltr">connect "pfitch@production.examplecorp.com"@inst1</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-18BBB8A1-00CC-47B8-9D0B-D0E5BA2D9315" title="Configuring password authentication for centrally managed users entails the use of a password filter with Active Directory to generate and store Oracle Database password verifiers on Active Directory.">Configuring Password Authentication for Centrally Managed Users</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-FAD942EC-4461-4073-8518-C977721147EB" name="GUID-FAD942EC-4461-4073-8518-C977721147EB"></a><h4 id="DBSEG-GUID-FAD942EC-4461-4073-8518-C977721147EB" class="sect4">Configuring Kerberos Authentication for Centrally Managed Users</h4>
                  <div>
                     <p>If you plan to use Kerberos authentication, then you must configure Kerberos in the Oracle database that will be integrated with Microsoft Active Directory. </p>
                     <div class="section">CMU-Active Directory only supports the Microsoft Active Directory Kerberos server. Other non-Active Directory Kerberos servers are not supported with CMU-Active Directory.</div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-FAD942EC-4461-4073-8518-C977721147EB__GUID-E1C8C0B9-58B3-49E2-B035-86AA1555275D">
                           <p class="notep1">Note:</p>You do not create database users identified externally as an Active Directory user's Kerberos UPN. Instead, you use global users that are mapped to Active Directory users or groups. 
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="integrating_mads_with_oracle_database.html#GUID-37109177-A87F-4DC6-AE4A-2CB7BD9767E2" title="Most users of the database will be mapped to a shared global database user (schema) through membership in a directory group.">Mapping a Directory Group to a Shared Database Global User</a></li>
                           <li><a href="integrating_mads_with_oracle_database.html#GUID-5D6BD2F5-5548-406D-9BA7-18E9D106D25D" title="You can map a Microsoft Active Directory user exclusively to an Oracle Database global user.">Exclusively Mapping a Directory User to a Database Global User</a></li>
                           <li><a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="To enable Kerberos authentication for Oracle Database, you must first install it, and then follow a set of configuration steps.">Enabling Kerberos Authentication</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-C207C899-75B0-4D0F-A686-AA3E06B61224" title="You can configure password authentication, Kerberos authentication, or public key infrastructure (PKI) authentication.">Configuring Authentication for Centrally Managed Users</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-1EF17156-3FA4-4EDD-8DFF-F98EB3A926BF" name="GUID-1EF17156-3FA4-4EDD-8DFF-F98EB3A926BF"></a><h4 id="DBSEG-GUID-1EF17156-3FA4-4EDD-8DFF-F98EB3A926BF" class="sect4">Configuring Authentication Using PKI Certificates for Centrally Managed Users</h4>
                  <div>
                     <p>If you plan to use PKI certificates for the authentication of centrally managed users, then you must configure Secure Sockets Layer in the Oracle database that will be integrated with Microsoft Active Directory.</p>
                     <div class="infoboxnote" id="GUID-1EF17156-3FA4-4EDD-8DFF-F98EB3A926BF__GUID-BF1FD8C0-6E0B-4FA5-9CD5-542F61EF3B9C">
                        <p class="notep1">Note:</p>You use an Active Directory user certificate when you configure Secure Sockets Layer Authentication. However, you do not create database users identified externally as the DN of the Active Directory user certificate. Instead, you use global users that are mapped to Active Directory users or groups. 
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="integrating_mads_with_oracle_database.html#GUID-37109177-A87F-4DC6-AE4A-2CB7BD9767E2" title="Most users of the database will be mapped to a shared global database user (schema) through membership in a directory group.">Mapping a Directory Group to a Shared Database Global User</a></li>
                           <li><a href="integrating_mads_with_oracle_database.html#GUID-5D6BD2F5-5548-406D-9BA7-18E9D106D25D" title="You can map a Microsoft Active Directory user exclusively to an Oracle Database global user.">Exclusively Mapping a Directory User to a Database Global User</a></li>
                           <li><a href="configuring-secure-sockets-layer-authentication.html#GUID-6AD89576-526F-4D6B-A539-ADF4B840819F" title="You can configure Oracle Database to use Secure Sockets Layer authentication.">Configuring Secure Sockets Layer Authentication</a></li>
                           <li><a href="configuring-secure-sockets-layer-authentication.html#GUID-127EF2DA-C758-43D4-A9E2-ED36E09C688C" title="A public key infrastructure (PKI) is a substrate of network components that provide a security underpinning, based on trust assertions, for an entire organization.">Public Key Infrastructure in an Oracle Environment</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-C207C899-75B0-4D0F-A686-AA3E06B61224" title="You can configure password authentication, Kerberos authentication, or public key infrastructure (PKI) authentication.">Configuring Authentication for Centrally Managed Users</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" name="GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241"></a><h3 id="DBSEG-GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" class="sect3">Configuring Authorization for Centrally
        Managed Users</h3>
               <div>
                  <p>With centrally managed users, you can manage the authorization for Active Directory users to access Oracle databases. </p>
                  <p>Users can be added, modified, or dropped from an organization by using Active Directory without your having to add, modify, or drop the user from every database in your organization.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-CF92B8B8-790E-4025-A8CB-0939B78AED38">About Configuring Authorization for Centrally Managed Users</a><br>You can manage user authorization for a database within Active Directory.
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-37109177-A87F-4DC6-AE4A-2CB7BD9767E2">Mapping a Directory Group to a Shared Database Global User</a><br>Most users of the database will be mapped to a shared global database user (schema) through membership in a directory group.
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-874A887D-33D3-4750-A234-3F07549658BE">Mapping a Directory Group to a Global Role</a><br>Database global roles mapped to directory groups give member users additional privileges and roles above what they have been granted through their login schemas.
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-5D6BD2F5-5548-406D-9BA7-18E9D106D25D">Exclusively Mapping a Directory User to a Database Global User</a><br>You can map a Microsoft Active Directory user exclusively to an Oracle Database global user. 
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-6B7C33DA-A31B-4B3B-B198-14DDF2DB048A">Altering or Migrating a User Mapping Definition</a><br>You can update an Active Directory user to a Database global user mapping by using the <code class="codeph">ALTER USER</code> statement. 
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-48DB1523-B3EE-4F62-82C7-15F851C88D3C">Configuring Administrative Users</a><br>Administrative users can work as they have in the past, but with CMUs, they can be controlled with centralized authentication and authorization if they are using shared schemas.
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-34688F0A-4C63-4E3E-B074-EC214AD56B66">Verifying the Centrally Managed User Logon Information</a><br>After you configure and authorize a centrally managed user, you can verify the user logon information by executing a set of SQL queries on the Oracle database side. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" title="Oracle Database can authenticate and authorize Microsoft Active Directory users with the database directly without intermediate directories or Oracle Enterprise User Security.">Configuring Centrally Managed Users with Microsoft Active Directory</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-CF92B8B8-790E-4025-A8CB-0939B78AED38" name="GUID-CF92B8B8-790E-4025-A8CB-0939B78AED38"></a><h4 id="DBSEG-GUID-CF92B8B8-790E-4025-A8CB-0939B78AED38" class="sect4">About Configuring Authorization for Centrally Managed Users</h4>
                  <div>
                     <p>You can manage user authorization for a database within Active Directory.</p>
                     <p>Most Oracle Database users will be mapped to a shared database schema (user).  This minimizes the work that must be done in each Oracle database when directory users are hired, change jobs within the company, or leave the company. A directory user will be assigned to an Active Directory group that is mapped to an Oracle database global user (schema). When the user logs into the database, the database will query Active Directory to find the groups the user is a member of. If your deployment is using shared schemas, then one of the groups will map to a shared database schema and the user will be assigned to that database schema. The user will have the roles and privileges that granted to the database schema. Because multiple users will be assigned to the same shared database schema, only the minimal set of roles and privileges should be granted to the shared schema. In some cases, no privileges and roles should be granted to the shared schema. Users will be assigned the appropriate set of roles and schemas through database global roles. Global roles are mapped to Active Directory groups. This way, different users can have different roles and privileges even if they are mapped to the same database shared schema. A newly hired user will be assigned to an Active Directory group mapped to a shared schema and then to one or more additional groups mapped to global roles to gain the additional roles and privileges required to complete their tasks. The combination of shared schemas and global roles allows for centralized authorization management with minimal changes to the database operationally. The database must be initially provisioned with the set of shared schemas and global roles mapped to the appropriate Active Directory groups, but then user authorization management can happen within Active Directory.</p>
                     <p> An Active Directory user can also be exclusively mapped to a database global user. This requires a new user in the database that is mapped directly to the Active Directory user. New users and departing users will require updates to each database they are members of.</p>
                     <p>Active Directory users requiring administrative privileges such as <code class="codeph">SYSOPER</code> and<code class="codeph"> SYSBACKUP</code> cannot be granted these through global roles. Administrative privileges can only be granted to a schema and not a role. But even in these cases with administrative privileges, shared schemas can be used to provide ease of user authorization management. Using a shared schema with the <code class="codeph">SYSOPER</code> privilege will allow new users to be easily added to the Active Directory group mapped to the schema with <code class="codeph">SYSOPER</code> without having to create a new user schema in the database. Even if only one user is assigned to the shared schema, it can still be managed centrally.
                     </p>
                     <p>When using global roles to grant privileges and roles to the user, remember that the maximum number of enabled roles in a session is 150.</p>
                     <p>The following types of global user mappings are supported for authorization: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Map shared global users, in which directory users are assigned to a shared database schema (user) through the mapping of a directory group to the shared schema. The directory users that are members of the group can connect to the database through this shared schema. Use of shared schemas allows for centralized management of user authorization in Active Directory.</p>
                        </li>
                        <li>
                           <p>Exclusive global user mappings, in which a dedicated database user is exclusively mapped to a directory user.&nbsp;Not as common as the shared database schema, this user is created for direct database access by using either SQL*Plus or the schema user for two-tier or three-tier applications.&nbsp;Oracle recommends that you grant database privileges to these users through global roles, which facilitates authorization management.&nbsp;However, these users can also have direct privilege grants in the Oracle database, although this is not recommended.&nbsp;This is because two-tier and three-tier applications can use the global user as the database schema, so the global user has the full database privileges on the schema objects as the owner.</p>
                        </li>
                     </ul>
                     <p>It is common for a directory user to be a member of multiple groups. However, only one of these groups should be mapped to a shared schema.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" title="With centrally managed users, you can manage the authorization for Active Directory users to access Oracle databases.">Configuring Authorization for Centrally Managed Users</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-37109177-A87F-4DC6-AE4A-2CB7BD9767E2" name="GUID-37109177-A87F-4DC6-AE4A-2CB7BD9767E2"></a><h4 id="DBSEG-GUID-37109177-A87F-4DC6-AE4A-2CB7BD9767E2" class="sect4">Mapping a Directory Group to a Shared Database Global User</h4>
                  <div>
                     <p>Most users of the database will be mapped to a shared global database user (schema) through membership in a directory group.</p>
                     <div class="section">The Active Directory group must be created before the database global user can be mapped to it. You can add Active Directory users to the group at any time before the user needs to log in to the database. On the database side, you must have the <code class="codeph">CREATE USER</code> and <code class="codeph">ALTER USER</code> privileges to perform these mappings. This configuration can be used for users who have the password authentication, Kerberos authentication, and public key infrastructure (PKI) authentication methods.
                     </div>
                     <!-- class="section" -->
                     <div class="section">You can assign users who share the same database schema for an application into an Active Directory group. A shared Oracle Database global user (that is, a shared schema) is mapped to an Active Directory group. This way, any Active Directory user of this group can log in to the database through that shared global user account. Although the database global user account is shared by group members, the Active Directory user's authenticated identity (Windows domain and his or her <code class="codeph">samAccountName</code>), and enterprise identity (DN) are tracked and audited inside the database. 
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to the database instance as a user who has been granted the <code class="codeph">CREATE USER</code> or <code class="codeph">ALTER USER</code> system privilege.</span></li>
                        <li class="stepexpand"><span>Execute the <code class="codeph">CREATE USER</code> or <code class="codeph">ALTER USER</code> statement with the <code class="codeph">IDENTIFIED GLOBALLY AS</code> clause specifying the DN of an Active Directory group.</span><div>For example, to map a directory group named <code class="codeph">widget_sales_group</code> in the <code class="codeph">sales</code> organization unit of the <code class="codeph">production.examplecorp.com</code> domain to a shared database global user named <code class="codeph">WIDGET_SALES</code>:<pre class="oac_no_warn" dir="ltr">CREATE USER widget_sales IDENTIFIED GLOBALLY AS
'CN=widget_sales_group,OU=sales,DC=production,DC=examplecorp,DC=com';</pre> </div>
                           <div>All members of the <code class="codeph">widget_sales_group</code> will be assigned to the <code class="codeph">widget_sales</code> shared schema when they log in to the database.
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" title="With centrally managed users, you can manage the authorization for Active Directory users to access Oracle databases.">Configuring Authorization for Centrally Managed Users</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-874A887D-33D3-4750-A234-3F07549658BE" name="GUID-874A887D-33D3-4750-A234-3F07549658BE"></a><h4 id="DBSEG-GUID-874A887D-33D3-4750-A234-3F07549658BE" class="sect4">Mapping a Directory Group to a Global Role</h4>
                  <div>
                     <p>Database global roles mapped to directory groups give member users additional privileges and roles above what they have been granted through their login schemas.</p>
                     <ol>
                        <li class="stepexpand"><span>Log in to the database instance as a user who has been granted the <code class="codeph">CREATE ROLE</code> or <code class="codeph">ALTER ROLE</code> system privilege.</span></li>
                        <li class="stepexpand"><span>Execute the <code class="codeph">CREATE ROLE</code> or <code class="codeph">ALTER ROLE</code> statement with the <code class="codeph">IDENTIFIED GLOBALLY AS</code> clause specifying the DN of an Active Directory group.</span><div>For example, to map a directory user group named <code class="codeph">widget_sales_group</code> in the <code class="codeph">sales</code> organization unit of the <code class="codeph">production.examplecorp.com</code> domain to a database global role <code class="codeph">WIDGET_SALES_ROLE</code>: <pre class="oac_no_warn" dir="ltr">CREATE ROLE widget_sales_role IDENTIFIED GLOBALLY AS
'CN=widget_sales_group,OU=sales,DC=production,DC=examplecorp,DC=com';</pre><p>In a multitenant environment, to create a common role called <code class="codeph">C##WIDGET_SALES_ROLE</code>:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE ROLE c##widget_sales_role IDENTIFIED GLOBALLY AS
'CN=widget_sales_group,OU=sales,DC=production,DC=examplecorp,DC=com'  
CONTAINER = ALL;</pre><p>All members of the <code class="codeph">widget_sales_group</code> will be authorized with the database role <code class="codeph">widget_sales_role</code> when they log in to the database.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" title="With centrally managed users, you can manage the authorization for Active Directory users to access Oracle databases.">Configuring Authorization for Centrally Managed Users</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-5D6BD2F5-5548-406D-9BA7-18E9D106D25D" name="GUID-5D6BD2F5-5548-406D-9BA7-18E9D106D25D"></a><h4 id="DBSEG-GUID-5D6BD2F5-5548-406D-9BA7-18E9D106D25D" class="sect4">Exclusively Mapping a Directory User to a Database Global User</h4>
                  <div>
                     <p>You can map a Microsoft Active Directory user exclusively to an Oracle Database global user. </p>
                     <div class="section">You perform the configuration on the Oracle Database side only, not the Active Directory side. You must have the <code class="codeph">CREATE USER</code> and <code class="codeph">ALTER USER</code> privileges to perform these mappings. This configuration can be used for users who have the password authentication, Kerberos authentication, and public key infrastructure (PKI) authentication methods.
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to the database instance as a user who has been granted the <code class="codeph">CREATE USER</code> or<code class="codeph"> ALTER USER</code> system privilege. </span></li>
                        <li class="stepexpand"><span>Execute the <code class="codeph">CREATE USER</code> or <code class="codeph">ALTER USER</code> statement with the <code class="codeph">IDENTIFIED GLOBALLY AS</code> clause specifying the DN of an Active Directory user. </span><div>For example, to map an existing Active Directory user named <code class="codeph">Peter Fitch</code> (whose <code class="codeph">samAccountName</code> is <code class="codeph">pfitch</code>) in the <code class="codeph">sales</code> organization unit of the <code class="codeph">production.examplecorp.com</code> domain to a database global user named <code class="codeph">PETER_FITCH</code>:<pre class="oac_no_warn" dir="ltr">CREATE USER peter_fitch IDENTIFIED GLOBALLY AS
'CN=Peter Fitch,OU=sales,DC=production,DC=examplecorp,DC=com';</pre> </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" title="With centrally managed users, you can manage the authorization for Active Directory users to access Oracle databases.">Configuring Authorization for Centrally Managed Users</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-6B7C33DA-A31B-4B3B-B198-14DDF2DB048A" name="GUID-6B7C33DA-A31B-4B3B-B198-14DDF2DB048A"></a><h4 id="DBSEG-GUID-6B7C33DA-A31B-4B3B-B198-14DDF2DB048A" class="sect4">Altering or Migrating a User Mapping Definition</h4>
                  <div>
                     <p>You can update an Active Directory user to a Database global user mapping by using the <code class="codeph">ALTER USER</code> statement. 
                     </p>
                     <div class="section">You can update users whose accounts were created using any of the <code class="codeph">CREATE USER</code> statement clauses: <code class="codeph">IDENTIFIED BY <span class="codeinlineitalic">password</span></code>, <code class="codeph">IDENTIFIED EXTERNALLY</code>, or <code class="codeph">IDENTIFIED GLOBALLY</code>. This is useful when migrating users to using CMU. For example, a database user that is externally authenticated to Kerberos will be identified by their user principal name (UPN). To migrate the user to use CMU with Kerberos authentication, you would need to run the <code class="codeph">ALTER USER</code> statement to declare a global user and identify the user with their Active Directory distinguished name (DN).
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to the database instance as a user who has been granted the <code class="codeph">ALTER USER</code> system privilege.</span></li>
                        <li class="stepexpand"><span>Execute the <code class="codeph">ALTER USER</code> statement with the <code class="codeph">IDENTIFIED GLOBALLY AS</code> clause. </span><div>For example:<pre class="oac_no_warn" dir="ltr">ALTER USER peter_fitch IDENTIFIED GLOBALLY AS
'CN=Peter Fitch,OU=sales,DC=production,DC=examplecorp,DC=com';</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" title="With centrally managed users, you can manage the authorization for Active Directory users to access Oracle databases.">Configuring Authorization for Centrally Managed Users</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-48DB1523-B3EE-4F62-82C7-15F851C88D3C" name="GUID-48DB1523-B3EE-4F62-82C7-15F851C88D3C"></a><h4 id="DBSEG-GUID-48DB1523-B3EE-4F62-82C7-15F851C88D3C" class="sect4">Configuring Administrative Users</h4>
                  <div>
                     <p>Administrative users can work as they have in the past, but with CMUs, they can be controlled with centralized authentication and authorization if they are using shared schemas.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-5FD3E465-858E-467C-8D29-A148F6C151EF">Configuring Database Administrative Users with Shared Access Accounts</a><br>Using shared accounts simplifies the management of database administrators for multiple databases as they join, move, and leave the organization.
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-CC00F3BC-0B43-4092-8488-E400C99ADF89">Configuring Database Administrative Users Using Exclusive Mapping</a><br>Database administrators can also be mapped to exclusive schemas in databases.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" title="With centrally managed users, you can manage the authorization for Active Directory users to access Oracle databases.">Configuring Authorization for Centrally Managed Users</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-5FD3E465-858E-467C-8D29-A148F6C151EF" name="GUID-5FD3E465-858E-467C-8D29-A148F6C151EF"></a><h5 id="DBSEG-GUID-5FD3E465-858E-467C-8D29-A148F6C151EF" class="sect5">Configuring Database Administrative Users with Shared Access Accounts</h5>
                     <div>
                        <p>Using shared accounts simplifies the management of database administrators for multiple databases as they join, move, and leave the organization.</p>
                        <div class="section">You can assign new database administrators to shared accounts in multiple databases using Active Directory groups without having to create new Oracle database accounts.</div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Ensure that the password file for the current database instance is in the 12.2 format.</span><div><pre class="oac_no_warn" dir="ltr">orapwd file=<span class="italic">pwd_file</span> FORMAT=12.2
Enter password for SYS: <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>In Active Directory, create an Active Directory group (for example, for a database administrator backup users group called <code class="codeph">ad_dba_backup_users</code>). </span></li>
                           <li class="stepexpand"><span>In Oracle Database, create a global user (shared schema) (for example, <code class="codeph">db_dba_backup_global_user</code>) and map this user to the Active Directory <code class="codeph">ad_dba_backup_users</code> group.</span></li>
                           <li class="stepexpand"><span>Grant the <code class="codeph">SYSBACKUP</code> administrative privilege to the global user <code class="codeph">db_dba_backup_global_user</code>. </span></li>
                        </ol>
                        <div class="section">At this stage, any Active Directory user who is added to the <code class="codeph">ad_dba_backup_users</code> Active Directory group will be assigned to the new database shared schema with the <code class="codeph">SYSBACKUP</code> administrative privilege. 
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-48DB1523-B3EE-4F62-82C7-15F851C88D3C" title="Administrative users can work as they have in the past, but with CMUs, they can be controlled with centralized authentication and authorization if they are using shared schemas.">Configuring Administrative Users</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-CC00F3BC-0B43-4092-8488-E400C99ADF89" name="GUID-CC00F3BC-0B43-4092-8488-E400C99ADF89"></a><h5 id="DBSEG-GUID-CC00F3BC-0B43-4092-8488-E400C99ADF89" class="sect5">Configuring Database Administrative Users Using Exclusive Mapping</h5>
                     <div>
                        <p>Database administrators can also be mapped to exclusive schemas in databases.</p>
                        <ol>
                           <li class="stepexpand"><span>Ensure that the password file for the current database instance is in the 12.2 format.</span><div><pre class="oac_no_warn" dir="ltr">orapwd file=pwd_file FORMAT=12.2
Enter password for SYS: <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>Log in to the database instance as a user who can create users and grant administrative privileges to other users. </span></li>
                           <li class="stepexpand"><span>Create a database global user.</span><div>For example:<pre class="oac_no_warn" dir="ltr">CREATE USER peter_fitch IDENTIFIED GLOBALLY AS
'CN=Peter Fitch,OU=sales,DC=production,DC=examplecorp,DC=com';</pre></div>
                           </li>
                           <li class="stepexpand"><span>Grant this user the administrative privilege. </span><div>For example, to grant a user the <code class="codeph">SYSKM</code> administrative privilege:<pre class="oac_no_warn" dir="ltr">GRANT SYSKM TO peter_fitch;</pre></div>
                           </li>
                        </ol>
                        <div class="section">Due to the amount of work to maintain accounts and the mapping in both the database and Active Directory, a more centralized approach would be to use shared schemas for these administrative accounts as well, even if only one Active Directory user is assigned to the shared database account in some cases.</div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-48DB1523-B3EE-4F62-82C7-15F851C88D3C" title="Administrative users can work as they have in the past, but with CMUs, they can be controlled with centralized authentication and authorization if they are using shared schemas.">Configuring Administrative Users</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-34688F0A-4C63-4E3E-B074-EC214AD56B66" name="GUID-34688F0A-4C63-4E3E-B074-EC214AD56B66"></a><h4 id="DBSEG-GUID-34688F0A-4C63-4E3E-B074-EC214AD56B66" class="sect4">Verifying the Centrally Managed User Logon Information</h4>
                  <div>
                     <p>After you configure and authorize a centrally managed user, you can verify the user logon information by executing a set of SQL queries on the Oracle database side. </p>
                     <ol>
                        <li class="stepexpand"><span>Log in to the database as a centrally managed user from Active Directory that you have just configured and authorized.</span><div>For example, to log in to the database instance <code class="codeph">inst1</code> as the enterprise user <code class="codeph">pfitch</code>, who is on the Windows domain <code class="codeph">production</code>:<pre class="oac_no_warn" dir="ltr">sqlplus /nolog
connect "production\pfitch"@inst1
Enter password: <span class="italic">password</span></pre></div>
                        </li>
                        <li class="stepexpand"><span>Verify the mapped global user. </span><div>The mapped global user is the database user account that has the centrally managed user authorization. User <code class="codeph">PETER_FITCH</code> is considered a global user with exclusive mapping for the Active Directory user <code class="codeph">pfitch</code>, while user <code class="codeph">WIDGET_SALES</code> is considered a global user with shared mapping for Active Directory group <code class="codeph">widget_sales_group</code> of which <code class="codeph">pfitch</code> is a member. A global user account has its own schema.
                           </div>
                           <div><pre class="oac_no_warn" dir="ltr">SHOW USER;</pre><p>Output similar to the following appears, depending on if it is an exclusive mapping or a shared mapping:</p><pre class="oac_no_warn" dir="ltr">USER is "PETER_FITCH"</pre><p>Or</p><pre class="oac_no_warn" dir="ltr">USER is "WIDGET_SALES"</pre></div>
                        </li>
                        <li class="stepexpand"><span>Find the roles that have been granted to the centrally managed user. </span><div><pre class="oac_no_warn" dir="ltr">SELECT ROLE FROM SESSION_ROLES ORDER BY ROLE;</pre><p>Output similar to the following appears:</p><pre class="oac_no_warn" dir="ltr">ROLE
----------------------------------------------------------------------
WIDGET_SALES_ROLE
...</pre></div>
                        </li>
                        <li class="stepexpand"><span>Execute the following queries to check the <code class="codeph">SYS_CONTEXT</code> namespace values for the current schema being used in this database session, current user name, session user name, authentication method, authenticated identity, enterprise identity, identification type, and LDAP server type. </span><ul id="GUID-34688F0A-4C63-4E3E-B074-EC214AD56B66__CHOICES_XBK_DV4_GFB">
                              <li>Verify the current schema that is being used in this database session. A database schema is an object container that identifies the objects it contains. The current schema is the default container for objects name resolution in this database session. <pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT('USERENV', 'CURRENT_SCHEMA') FROM DUAL;</pre><p>Output similar to the following appears, depending on if it is an exclusive mapping or a shared mapping: </p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT('USERENV','CURRENT_SCHEMA')
----------------------------------------------------------------------
PETER_FITCH</pre><p>Or</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT('USERENV','CURRENT_SCHEMA')
----------------------------------------------------------------------
WIDGET_SALES</pre></li>
                              <li>Verify the current user. In this case, the current user is the same as the current schema. <pre class="oac_no_warn" dir="ltr">
SELECT SYS_CONTEXT('USERENV', 'CURRENT_USER') FROM DUAL;</pre><p>Output similar to the following appears, depending on if it is an exclusive mapping or a shared mapping:</p><pre class="oac_no_warn" dir="ltr">
SYS_CONTEXT('USERENV','CURRENT_USER')
----------------------------------------------------------------------
PETER_FITCH</pre><p>Or</p><pre class="oac_no_warn" dir="ltr">
SYS_CONTEXT('USERENV','CURRENT_USER')
----------------------------------------------------------------------
WIDGET_SALES</pre></li>
                              <li>Verify the session user.<pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT('USERENV', 'SESSION_USER') FROM DUAL;</pre><p>Output similar to the following appears, depending on if it is an exclusive mapping or a shared mapping:</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT('USERENV','SESSION_USER')
----------------------------------------------------------------------
PETER_FITCH</pre><p>Or</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT('USERENV','SESSION_USER')
----------------------------------------------------------------------
WIDGET_SALES</pre></li>
                              <li>Verify the authentication method. <pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT('USERENV', 'AUTHENTICATION_METHOD') FROM DUAL;</pre><p>Output similar to the following appears: </p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT('USERENV','AUTHENTICATION_METHOD')
----------------------------------------------------------------------
PASSWORD_GLOBAL
</pre></li>
                              <li>Verify the authenticated identity for the enterprise user. The Active Directory authenticated user identity is captured and audited when this user logs on to the database.<pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT('USERENV', 'AUTHENTICATED_IDENTITY') FROM DUAL;</pre><p>Output similar to the following appears: </p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT('USERENV','AUTHENTICATED_IDENTITY')
----------------------------------------------------------------------
production\pfitch
</pre></li>
                              <li>Verify the centrally managed user's enterprise identity. <pre class="oac_no_warn" dir="ltr">
SELECT SYS_CONTEXT('USERENV', 'ENTERPRISE_IDENTITY') FROM DUAL;</pre><p>Output similar to the following appears: </p><pre class="oac_no_warn" dir="ltr">
SYS_CONTEXT('USERENV','ENTERPRISE_IDENTITY')
----------------------------------------------------------------------
cn=Peter Fitch,ou=sales,dc=production,dc=examplecorp,dc=com</pre></li>
                              <li>Verify the identification type. <pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT('USERENV', 'IDENTIFICATION_TYPE') FROM DUAL</pre><p>Output similar to the following appears, depending on if it is an exclusive mapping or a shared mapping:</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT('USERENV','IDENTIFICATION_TYPE')
----------------------------------------------------------------------
GLOBAL EXCLUSIVE</pre><p>Or</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT('USERENV','IDENTIFICATION_TYPE')
----------------------------------------------------------------------
GLOBAL SHARED</pre></li>
                              <li>Verify the LDAP server type.<pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT('USERENV', 'LDAP_SERVER_TYPE') FROM DUAL;</pre><p>Output similar to the following appears. In this case, the LDAP server type is Active Directory. </p><pre class="oac_no_warn" dir="ltr">
SYS_CONTEXT('USERENV','LDAP_SERVER_TYPE')
----------------------------------------------------------------------
AD</pre></li>
                           </ul>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="integrating_mads_with_oracle_database.html#GUID-24F8613D-FD8B-411E-924F-7D1BB86FF353" title="For password authentication, centrally managed users have choices of how to log in to the database.">Logging in to an Oracle Database Using Password Authentication</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" title="With centrally managed users, you can manage the authorization for Active Directory users to access Oracle databases.">Configuring Authorization for Centrally Managed Users</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-262651F7-196B-4627-8B4E-46731AB56695" name="GUID-262651F7-196B-4627-8B4E-46731AB56695"></a><h3 id="DBSEG-GUID-262651F7-196B-4627-8B4E-46731AB56695" class="sect3">Integration of Oracle Database with Microsoft Active Directory Account Policies</h3>
               <div>
                  <p>As part of the Oracle Database-Microsoft Active Directory integration, Oracle Database enforces the Active Directory account policies when Active Directory users log into the Oracle database.</p>
                  <p>Active Directory account policy settings cover the password policy, account lockout policy, and Kerberos policy. Oracle Database enforces all of the account policies for centrally managed users from Active Directory. For example, Oracle prevents Active Directory users with account status, such as <code class="codeph">password expired</code>, <code class="codeph">password must change</code>, <code class="codeph">account locked out</code>, or <code class="codeph">account disabled</code> from logging in to the database. If you are using Kerberos authentication, then Oracle prevents Active Directory users with expired Kerberos tickets from logging in the database. If you are using password authentication, then an Active Directory user account will be locked out for a specified period of time on Active Directory after the user makes a specified number of failed attempts consecutively when trying to log in to the Oracle database using incorrect passwords. With enforcing the account lockout policy, Oracle effectively prevents password guessing attacks against Active Directory user accounts.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="integrating_mads_with_oracle_database.html#GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" title="Oracle Database can authenticate and authorize Microsoft Active Directory users with the database directly without intermediate directories or Oracle Enterprise User Security.">Configuring Centrally Managed Users with Microsoft Active Directory</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>