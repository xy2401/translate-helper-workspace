<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="XML Schema is a standard for describing the content and structure of XML documents. You can register, update, and delete an XML schema used with Oracle XML&nbsp;DB. You can define storage structures to use for your XML schema-based data and map XML Schema data types to SQL data types.">
      <meta name="description" content="XML Schema is a standard for describing the content and structure of XML documents. You can register, update, and delete an XML schema used with Oracle XML&nbsp;DB. You can define storage structures to use for your XML schema-based data and map XML Schema data types to SQL data types.">
      <title>XML Schema Storage and Query: Basic</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="XML Schema is a standard for describing the content and structure of XML documents. You can register, update, and delete an XML schema used with Oracle XML&nbsp;DB. You can define storage structures to use for your XML schema-based data and map XML Schema data types to SQL data types.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96222-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="choice-of-XMLType-storage-and-indexing.html" title="Previous" type="text/html">
      <link rel="next" href="XML-Schema-and-query-object-relational-storage.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer's Guide">
    <meta name="dcterms.isVersionOf" content="ADXDB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="choice-of-XMLType-storage-and-indexing.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="XML-Schema-and-query-object-relational-storage.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XML-Schema-and-object-relational-XMLType.html" property="item" typeof="WebPage"><span property="name">XML Schema and Object-Relational XMLType </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">XML Schema Storage and Query: Basic</li>
            </ol>
            <a id="GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" name="GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1"></a><a id="ADXDB0600"></a>
            
            <h2 id="ADXDB-GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" class="sect2"><span class="enumeration_chapter">17 </span>XML Schema Storage and Query: Basic
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='XML-Schema-and-query-basic'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>XML Schema is a standard for describing the content and structure of XML documents. You can register, update, and delete an XML schema used with Oracle XML&nbsp;DB. You can define storage structures to use for your XML schema-based data and map XML Schema data types to SQL data types.</p>
               <p>The <a id="d81865e22" class="indexterm-anchor"></a>XML Schema Recommendation was created by the World Wide Web Consortium (W3C) to describe the content and structure of XML documents. It includes the full capabilities of <a id="d81865e27" class="indexterm-anchor"></a>Document Type Definitions (DTDs) so that existing DTDs can be converted to XML Schema. XML schemas have additional capabilities compared to DTDs.
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-DF33451A-6F65-4BBC-8834-80FBD687100B">Overview of XML Schema</a><br>The W3C XML Schema Recommendation defines a standardized language for specifying the structure, content, and certain semantics of a set of XML documents. An XML schema can be considered as the metadata that describes a class of XML documents.
                  </li>
                  <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-CD1BA605-196D-461C-9707-6A0B870F1172">Overview of Using XML Schema with Oracle XML&nbsp;DB</a><br>Oracle XML&nbsp;DB supports registering XML schemas, validating documents against an XML schema, generating XML schemas from SQL object types, mapping from XML Schema to SQL, creating and querying XML Schema-based tables, views, and columns, and automatically inserting data when XML Schema-based documents are inserted into Oracle XML&nbsp;DB Repository.
                  </li>
                  <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF">XML Schema Registration with Oracle XML&nbsp;DB</a><br>Before an XML schema can be used by Oracle XML&nbsp;DB, you must register it. It can then be used to create <code class="codeph">XMLType</code> tables and columns and to validate XML documents. If schema registration fails then the database is restored to the state it had prior to the registration attempt.
                  </li>
                  <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-A7862EBA-F10A-43BA-A540-933529E514E5">Creation of XMLType Tables and Columns Based on XML Schemas</a><br>You can create <code class="codeph">XMLType</code> tables and columns that are constrained to a global element defined by an XML schema. After an <code class="codeph">XMLType</code> column has been constrained to a particular element and a particular schema, it can only contain documents that are compliant with the schema definition of that element. 
                  </li>
                  <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-43D926FC-083A-4CBB-8B3A-A157462D51F6">Ways to Identify XML Schema Instance Documents</a><br>Before an XML document can be inserted into an XML Schema-based <code class="codeph">XMLType</code> table or column, the associated XML schema must be identified. You can do this when you create the table or column, or you can use <code class="codeph">XMLSchema-instance</code> to explicitly add the required schema identification to the XML instance document.
                  </li>
                  <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-F5DA0566-E0D0-49C8-A846-1CE5067E15F4">XML Schema Data Types Are Mapped to Oracle XML&nbsp;DB Storage</a><br>Data that conforms to an XML schema uses XML Schema data types. When this XML data is stored in Oracle XML&nbsp;DB, its storage data types are derived from the XML Schema data types using a default mapping and, optionally, using mapping information that you specify using XML schema annotations.
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1__GUID-977C4EA2-6C98-4748-AE8E-D345ADF363AB">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="XML-Schema-and-query-object-relational-storage.html#GUID-B0C1A0B0-2DD1-491A-8CE1-1F857FD267B7" title="Advanced techniques for XML Schema-based data include using object-relational storage; annotating XML schemas; mapping Schema data types to SQL; using complexType extensions and restrictions; creating, specifying relational constraints on, and partitioning XML Schema-based data, storing XMLType data out of line, working with complex or large schemas, and debugging schema registration.">XML Schema Storage and Query: Object-Relational Storage</a> for more advanced information about using XML Schema with Oracle XML&nbsp;DB
                        </p>
                     </li>
                     <li>
                        <p><a href="XPath-rewrite-for-object-relational-storage.html#GUID-35551023-CCAC-477B-8BBF-CD0E0B44C962" title="For XMLType data stored object-relationally, queries involving XPath expression arguments to various SQL functions can often be automatically rewritten to queries against the underlying SQL tables, which are highly optimized.">XPath Rewrite for Object-Relational Storage</a> for information about the optimization of XPath expressions in Oracle XML&nbsp;DB
                        </p>
                     </li>
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=w3_org_tr_xschema0_primer" target="_blank">XML Schema Part 0: Primer Second Edition</a> for an introduction to XML Schema
                        </p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="XML-Schema-and-object-relational-XMLType.html#GUID-817F95DE-D604-41DC-BCDE-76CDE30F9176" title="The use of XML Schema and object-relational storage of XMLType data is covered.">XML Schema and Object-Relational XMLType</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB6296"></a><div class="props_rev_3"><a id="GUID-DF33451A-6F65-4BBC-8834-80FBD687100B" name="GUID-DF33451A-6F65-4BBC-8834-80FBD687100B"></a><h3 id="ADXDB-GUID-DF33451A-6F65-4BBC-8834-80FBD687100B" class="sect3"><span class="enumeration_section">17.1 </span>Overview of XML Schema
               </h3>
               <div>
                  <p>The W3C XML Schema Recommendation defines a standardized language for specifying the structure, content, and certain semantics of a set of XML documents. An XML schema can be considered as the metadata that describes a class of XML documents.</p>
                  <p>This documentation refers to an XML Schema instance definition as an <strong class="term">XML schema</strong> (lowercase).
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-89C13D9D-C554-4080-B683-756FE129C790">XML Schema for Schemas</a><br>The W3C Schema working group publishes an XML schema, often referred to as the "Schema for Schemas". This XML schema provides the definition, or vocabulary, of the XML Schema language. All valid XML schemas can be considered to be members of the class defined by this XML schema. 
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-8EF2B93D-D9EF-4AEC-88EF-A14AC88F06DB">XML Schema Features</a><br>XML Schema defines 47 scalar data types, for strong typing of elements and attributes. It supports object-oriented inheritance and extension, so you can design an XML schema with complex objects from base data types. It includes constructs for defining and ordering, default values, mandatory content, nesting, repeated sets, and redefines. 
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-4FB64E7A-AE63-48B9-8FC1-BFEE055E7D6C">XML Instance Documents</a><br>Documents conforming to an XML schema can be considered as instances of the class defined by that XML schema. A common use of an XML schema is to validate that a given such <strong class="term"> instance document</strong>conforms to the rules defined by the XML schema.
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-FB7F9AFB-117B-40F4-B74B-77EED9ED9511">XML Namespaces and XML Schemas</a><br>An XML schema can specify a <code class="codeph">targetNamespace</code> attribute, whose value is a URL. If omitted, the schema has no target namespace. The target namespace is the namespace for everything defined in the XML schema. The <code class="codeph">targetNamespace</code> value is typically a URL where the XML schema can be accessed.
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-23D89612-2661-48FE-9DBD-41C37EB3BBE4">Overview of Editing XML Schemas</a><br>You can author and edit XML schemas anyway you like.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-DF33451A-6F65-4BBC-8834-80FBD687100B__GUID-9F7ECC10-F973-4A33-B611-12E817E8DDB9">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=w3_org_tr_xschema0_primer" target="_blank">XML Schema Part 0: Primer</a> for a general description of the XML Schema recommendation
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" title="XML Schema is a standard for describing the content and structure of XML documents. You can register, update, and delete an XML schema used with Oracle XML&nbsp;DB. You can define storage structures to use for your XML schema-based data and map XML Schema data types to SQL data types.">XML Schema Storage and Query: Basic</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB6297"></a><div class="props_rev_3"><a id="GUID-89C13D9D-C554-4080-B683-756FE129C790" name="GUID-89C13D9D-C554-4080-B683-756FE129C790"></a><h4 id="ADXDB-GUID-89C13D9D-C554-4080-B683-756FE129C790" class="sect4"><span class="enumeration_section">17.1.1 </span>XML Schema for Schemas
                  </h4>
                  <div>
                     <p>The W3C Schema working group publishes an XML schema, often referred to as the "Schema for Schemas". This XML schema provides the definition, or vocabulary, of the XML Schema language. All valid XML schemas can be considered to be members of the class defined by this XML schema. </p>
                     <p>An XML schema is thus an XML document that conforms to the class defined by the XML schema published at <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=w3_org_2001_xmlschema" target="_blank"><code class="codeph">https://www.w3.org/2001/XMLSchema</code></a>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-DF33451A-6F65-4BBC-8834-80FBD687100B" title="The W3C XML Schema Recommendation defines a standardized language for specifying the structure, content, and certain semantics of a set of XML documents. An XML schema can be considered as the metadata that describes a class of XML documents.">Overview of XML Schema</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6298"></a><div class="props_rev_3"><a id="GUID-8EF2B93D-D9EF-4AEC-88EF-A14AC88F06DB" name="GUID-8EF2B93D-D9EF-4AEC-88EF-A14AC88F06DB"></a><h4 id="ADXDB-GUID-8EF2B93D-D9EF-4AEC-88EF-A14AC88F06DB" class="sect4"><span class="enumeration_section">17.1.2 </span>XML Schema Features
                  </h4>
                  <div>
                     <p>XML Schema defines 47 scalar data types, for strong typing of elements and attributes. It supports object-oriented inheritance and extension, so you can design an XML schema with complex objects from base data types. It includes constructs for defining and ordering, default values, mandatory content, nesting, repeated sets, and redefines. </p>
                     <p>Oracle XML&nbsp;DB supports all of the constructs defined by XML Schema, except for redefines.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-DF33451A-6F65-4BBC-8834-80FBD687100B" title="The W3C XML Schema Recommendation defines a standardized language for specifying the structure, content, and certain semantics of a set of XML documents. An XML schema can be considered as the metadata that describes a class of XML documents.">Overview of XML Schema</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6299"></a><div class="props_rev_3"><a id="GUID-4FB64E7A-AE63-48B9-8FC1-BFEE055E7D6C" name="GUID-4FB64E7A-AE63-48B9-8FC1-BFEE055E7D6C"></a><h4 id="ADXDB-GUID-4FB64E7A-AE63-48B9-8FC1-BFEE055E7D6C" class="sect4"><span class="enumeration_section">17.1.3 </span>XML Instance Documents
                  </h4>
                  <div>
                     <p>Documents conforming to an XML schema can be considered as instances of the class defined by that XML schema. A common use of an XML schema is to validate that a given such <strong class="term"> instance document</strong>conforms to the rules defined by the XML schema.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-DF33451A-6F65-4BBC-8834-80FBD687100B" title="The W3C XML Schema Recommendation defines a standardized language for specifying the structure, content, and certain semantics of a set of XML documents. An XML schema can be considered as the metadata that describes a class of XML documents.">Overview of XML Schema</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6300"></a><div class="props_rev_3"><a id="GUID-FB7F9AFB-117B-40F4-B74B-77EED9ED9511" name="GUID-FB7F9AFB-117B-40F4-B74B-77EED9ED9511"></a><h4 id="ADXDB-GUID-FB7F9AFB-117B-40F4-B74B-77EED9ED9511" class="sect4"><span class="enumeration_section">17.1.4 </span>XML Namespaces and XML Schemas
                  </h4>
                  <div>
                     <p>An XML schema can specify a <code class="codeph">targetNamespace</code> attribute, whose value is a URL. If omitted, the schema has no target namespace. The target namespace is the namespace for everything defined in the XML schema. The <code class="codeph">targetNamespace</code> value is typically a URL where the XML schema can be accessed.
                     </p>
                     <p>An XML instance document must specify the namespace<a id="d81865e399" class="indexterm-anchor"></a> of the root element of the document (same as the target namespace of the XML schema that the instance conforms to) and the location (URL) of the XML schema that defines this root element. This information is specified by attribute <code class="codeph">xsi:schemaLocation</code>. When the XML schema has no target namespace, use attribute <code class="codeph">xsi:noNamespaceSchemaLocation</code> to specify the schema URL.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-DF33451A-6F65-4BBC-8834-80FBD687100B" title="The W3C XML Schema Recommendation defines a standardized language for specifying the structure, content, and certain semantics of a set of XML documents. An XML schema can be considered as the metadata that describes a class of XML documents.">Overview of XML Schema</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6302"></a><a id="ADXDB6301"></a><div class="props_rev_3"><a id="GUID-23D89612-2661-48FE-9DBD-41C37EB3BBE4" name="GUID-23D89612-2661-48FE-9DBD-41C37EB3BBE4"></a><h4 id="ADXDB-GUID-23D89612-2661-48FE-9DBD-41C37EB3BBE4" class="sect4"><span class="enumeration_section">17.1.5 </span>Overview of Editing XML Schemas
                  </h4>
                  <div>
                     <p>You can author and edit XML schemas anyway you like.</p>
                     <p>For example, you can use any of the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A simple text editor, such as Emacs or vi</p>
                        </li>
                        <li>
                           <p>An XML Schema-aware editor, such as the XML editor included with Oracle JDeveloper</p>
                        </li>
                        <li>
                           <p>An explicit XML Schema authoring tool, such as XMLSpy from Altova Corporation</p>
                        </li>
                     </ul>
                     <p><a href="XML-Schema-and-query-basic.html#GUID-23D89612-2661-48FE-9DBD-41C37EB3BBE4__CEGDDAHG">Figure 17-1</a> shows a purchase-order XML schema being edited using XMLSpy. XMLSpy is a graphical XML tool from Altova Corporation that you can use to create and edit XML schemas and other XML documents. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=altova_com" target="_blank">Altova.com</a> for details.<a id="fn_1" name="fn_1" href="#fn_1" onclick="footdisplay(1, "XMLSpy also supports WebDAV and FTP protocols, so you can use it to directly access and edit content stored in Oracle XML&nbsp;DB Repository.")"><sup>Foot&nbsp;1</sup></a> 
                     </p>
                     <div class="figure" id="GUID-23D89612-2661-48FE-9DBD-41C37EB3BBE4__CEGDDAHG">
                        <p class="titleinfigure">Figure 17-1 XMLSpy Graphical Representation of a Purchase-Order XML Schema</p><img src="img/po_spy.gif" width="585" alt="Description of Figure 17-1 follows" title="Description of Figure 17-1 follows" longdesc="img_text/po_spy.html"><br><a href="img_text/po_spy.html">Description of "Figure 17-1 XMLSpy Graphical Representation of a Purchase-Order XML Schema"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-DF33451A-6F65-4BBC-8834-80FBD687100B" title="The W3C XML Schema Recommendation defines a standardized language for specifying the structure, content, and certain semantics of a set of XML documents. An XML schema can be considered as the metadata that describes a class of XML documents.">Overview of XML Schema</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB6303"></a><div class="props_rev_3"><a id="GUID-CD1BA605-196D-461C-9707-6A0B870F1172" name="GUID-CD1BA605-196D-461C-9707-6A0B870F1172"></a><h3 id="ADXDB-GUID-CD1BA605-196D-461C-9707-6A0B870F1172" class="sect3"><span class="enumeration_section">17.2 </span>Overview of Using XML Schema with Oracle XML&nbsp;DB
               </h3>
               <div>
                  <p>Oracle XML&nbsp;DB supports registering XML schemas, validating documents against an XML schema, generating XML schemas from SQL object types, mapping from XML Schema to SQL, creating and querying XML Schema-based tables, views, and columns, and automatically inserting data when XML Schema-based documents are inserted into Oracle XML&nbsp;DB Repository.</p>
                  <p>XML schemas are stored in Oracle XML&nbsp;DB as <code class="codeph">XMLType</code> instances, just like the XML documents that reference them. You must <span class="italic">register</span> an XML schema with Oracle XML&nbsp;DB in order to use it with XML data that is stored in the database.
                  </p>
                  <p>Oracle XML&nbsp;DB takes advantage of the strong typing and other features of XML Schema to process XML database data safely and efficiently. </p>
                  <p>To be registered with Oracle XML&nbsp;DB, an XML schema must conform to the <strong class="term">root XML Schema</strong>, <strong class="term">XDBSchema.xsd</strong>. This is the XML schema for Oracle XML&nbsp;DB XML schemas. You can access <code class="codeph">XDBSchema.xsd</code> at Oracle XML&nbsp;DB Repository location <code class="codeph">/sys/schemas/PUBLIC/xmlns.oracle.com/xdb/XDBSchema.xsd</code>.
                  </p>
                  <p>Oracle XML&nbsp;DB uses <span class="italic">annotated</span> XML schemas as metadata. The standard XML Schema definitions are used, along with several Oracle namespace attributes. These attributes determine how XML instance documents get mapped to the database. Because these attributes are in a different namespace from the XML Schema namespace, such annotated XML schemas respect the XML Schema standard.
                  </p>
                  <p>Oracle XML&nbsp;DB provides XML Schema support for the following tasks:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Registering W3C-compliant XML schemas, both local and global.</p>
                     </li>
                     <li>
                        <p>Validating your XML documents against registered XML schema definitions.</p>
                     </li>
                     <li>
                        <p>Generating XML schemas from SQL object types.</p>
                     </li>
                     <li>
                        <p>Referencing an XML schema owned by another user.</p>
                     </li>
                     <li>
                        <p>Referencing a global XML schema when a local XML schema exists with the same name.</p>
                     </li>
                     <li>
                        <p>Generating a database mapping from your XML schemas during XML schema registration. This includes generating SQL object types, collection types, and default tables, and capturing the mapping information using XML schema attributes.</p>
                     </li>
                     <li>
                        <p>Specifying a particular SQL data type mapping when there are multiple allowed mappings.</p>
                     </li>
                     <li>
                        <p>Creating <code class="codeph">XMLType</code> tables, views, and columns based on registered XML schemas.
                        </p>
                     </li>
                     <li>
                        <p>Manipulating and querying XML schema-based <code class="codeph">XMLType</code> tables. 
                        </p>
                     </li>
                     <li>
                        <p>Automatically inserting data into default tables when XML schema-based documents are inserted into Oracle XML&nbsp;DB Repository using protocols (FTP, HTTP(S)/WebDAV) and languages other than SQL.</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-A708BD08-16C2-4E67-BF64-F8213A4FBAB9">Why Use XML Schema with Oracle XML&nbsp;DB?</a><br>Common reasons to use XML Schema include validation, constraint definition, storage specification, and optimization of document insertion, storage, and access.
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-0E11429E-1FF3-4C75-8B50-416A7F5C60C8">Overview of Annotating an XML Schema to Control Naming, Mapping, and Storage</a><br>The W3C XML Schema Recommendation lets vendor-specific annotations be added to an XML schema. Oracle XML&nbsp;DB uses annotations to control the mapping between an XML schema and various database features. You can use annotations to specify which tables store XML data. Annotation is especially useful for object-relational storage.
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-F809A6FE-28CD-4776-AB11-0B34ECBD9FF6">DOM Fidelity</a><br>DOM fidelity means that all information in an XML document is preserved except whitespace that is insignificant. You can use DOM fidelity to ensure the accuracy and integrity of XML documents stored in Oracle XML&nbsp;DB. 
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-A6A640D9-3EE9-44D0-AE9D-A3CF66466EC6">XMLType Methods Related to XML Schema</a><br>The most important <code class="codeph">XMLType</code> methods for working with XML schemas are: <code class="codeph">isSchemaBased()</code>, <code class="codeph">getSchemaURL()</code>, <code class="codeph">schemaValidate()</code>, <code class="codeph">isSchemaValid()</code>, <code class="codeph">isSchemaValidated()</code>, and <code class="codeph">setSchemaValidated()</code>.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" title="XML Schema is a standard for describing the content and structure of XML documents. You can register, update, and delete an XML schema used with Oracle XML&nbsp;DB. You can define storage structures to use for your XML schema-based data and map XML Schema data types to SQL data types.">XML Schema Storage and Query: Basic</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB6304"></a><div class="props_rev_3"><a id="GUID-A708BD08-16C2-4E67-BF64-F8213A4FBAB9" name="GUID-A708BD08-16C2-4E67-BF64-F8213A4FBAB9"></a><h4 id="ADXDB-GUID-A708BD08-16C2-4E67-BF64-F8213A4FBAB9" class="sect4"><span class="enumeration_section">17.2.1 </span>Why Use XML Schema with Oracle XML&nbsp;DB?
                  </h4>
                  <div>
                     <p>Common reasons to use XML Schema include validation, constraint definition, storage specification, and optimization of document insertion, storage, and access.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The most common use of XML Schema is as a mechanism for <span class="italic">validating</span> that XML instance documents conform to a given XML schema, that is, verify that your XML data conforms to its intended definition. This definition includes data types, numbers of allowed item occurrences, and allowed lengths of items. 
                           </p>
                        </li>
                        <li>
                           <p>An XML schema can also be used as a <span class="italic">constraint</span> when creating <code class="codeph">XMLType</code> tables or columns. For example, the table or column can be constrained to store only XML documents that compliant with one of the global elements defined by the XML schema.
                           </p>
                        </li>
                        <li>
                           <p>Oracle XML&nbsp;DB also uses XML Schema as a mechanism for defining how the contents of an <code class="codeph">XMLType</code> instance should be stored inside the database. Both binary XML and object-relational storage models for <code class="codeph">XMLType</code> support the use of XML Schema. When <code class="codeph">XMLType</code> data is stored object-relationally, XML Schema is used to efficiently map XML Schema data types to SQL data types and object-relational tables and columns. 
                           </p>
                        </li>
                        <li>
                           <p>XML schema information can also improve the efficiency of document insertion when you storing XML Schema-based documents in Oracle XML&nbsp;DB using protocols FTP and HTTP(S). </p>
                        </li>
                        <li>
                           <p>When XML instances must be handled without any prior information about them, XML schemas can be useful in predicting optimum storage, fidelity, and access.</p>
                        </li>
                     </ul>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="intro-to-XML-DB.html#GUID-B8507F44-B010-4384-94E6-101131DD7D88" title="XMLType is an abstract data type that provides different storage models to best fit your data and your use of it. As an abstract data type, your applications and database queries gain in flexibility: the same interface is available for all XMLType operations.">XMLType Storage Models</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-CD1BA605-196D-461C-9707-6A0B870F1172" title="Oracle XML&nbsp;DB supports registering XML schemas, validating documents against an XML schema, generating XML schemas from SQL object types, mapping from XML Schema to SQL, creating and querying XML Schema-based tables, views, and columns, and automatically inserting data when XML Schema-based documents are inserted into Oracle XML&nbsp;DB Repository.">Overview of Using XML Schema with Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6309"></a><a id="ADXDB6307"></a><div class="props_rev_3"><a id="GUID-0E11429E-1FF3-4C75-8B50-416A7F5C60C8" name="GUID-0E11429E-1FF3-4C75-8B50-416A7F5C60C8"></a><h4 id="ADXDB-GUID-0E11429E-1FF3-4C75-8B50-416A7F5C60C8" class="sect4"><span class="enumeration_section">17.2.2 </span>Overview of Annotating an XML Schema to Control Naming, Mapping, and Storage
                  </h4>
                  <div>
                     <p>The W3C XML Schema Recommendation lets vendor-specific annotations be added to an XML schema. Oracle XML&nbsp;DB uses annotations to control the mapping between an XML schema and various database features. You can use annotations to specify which tables store XML data. Annotation is especially useful for object-relational storage.</p>
                     <p>You can use XML schema annotations with Oracle XML&nbsp;DB to do the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Specify which database tables are used to store the XML data.</p>
                        </li>
                        <li>
                           <p>Override the default mapping between XML Schema data types and SQL data types, for object-relational storage.</p>
                        </li>
                        <li>
                           <p>Name the database objects and attributes that are created to store XML data (for object-relational storage).</p>
                        </li>
                     </ul>
                     <p><a href="oracle-supplied-XML-schemas-and-examples.html#GUID-1CB2213C-C6E8-4BC4-86A3-EFDE51AEBEFD__BABDAGBF">Example A-2</a> shows an annotated purchase-order XML schema. It defines the following two XML namespaces:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">http://www.w3c.org/2001/XMLSchema</code>. This is reserved by W3C for the Schema for Schemas.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">http://xmlns.oracle.com/xdb</code>. This is reserved by Oracle for the Oracle XML&nbsp;DB schema annotations. 
                           </p>
                        </li>
                     </ul>
                     <p>Before annotating an XML schema you <span class="italic">must</span> declare the Oracle XML&nbsp;DB namespace. The Oracle XML&nbsp;DB namespace is <code class="codeph">http://xmlns.oracle.com/xdb</code>. <a href="oracle-supplied-XML-schemas-and-examples.html#GUID-1CB2213C-C6E8-4BC4-86A3-EFDE51AEBEFD__BABDAGBF">Example A-2</a> makes use of the namespace <span class="italic">prefix</span> <span class="bold"><code class="codeph">xdb</code></span> to abbreviate the Oracle XML&nbsp;DB namespace. 
                     </p>
                     <p><a href="oracle-supplied-XML-schemas-and-examples.html#GUID-1CB2213C-C6E8-4BC4-86A3-EFDE51AEBEFD__BABDAGBF">Example A-2</a> uses several XML schema annotations, including the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">defaultTable</code> annotation in the <code class="codeph">PurchaseOrder</code> element. This specifies that XML documents, compliant with this XML schema are stored in a database table called <code class="codeph">purchaseorder</code>.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLType</code> annotation. 
                           </p>
                           <p>The first occurrence of annotation <code class="codeph">SQLType</code> specifies that the name of the SQL data type generated from <code class="codeph">complexType</code> element <code class="codeph">PurchaseOrderType</code> is <code class="codeph">purchaseorder_t</code>. 
                           </p>
                           <p>The second occurrence of annotation <code class="codeph">SQLType</code> specifies that the name of the SQL data type generated from <code class="codeph">complexType</code> element <code class="codeph">LineItemType</code> is <code class="codeph">lineitem_t</code>.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLCollType</code> annotation. This specifies that the name of the SQL varray type that manages the collection of <code class="codeph">LineItem</code> elements is <code class="codeph">lineitem_v</code>.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLName</code> annotation. This provides an explicit name for each SQL object attribute of <code class="codeph">purchaseorder_t</code>.
                           </p>
                        </li>
                     </ul>
                     <p><a href="XML-Schema-and-query-basic.html#GUID-0E11429E-1FF3-4C75-8B50-416A7F5C60C8__CEGIBHEB">Figure 17-2</a> shows the XMLSpy <span class="bold">Oracle</span> tab, which facilitates adding Oracle XML&nbsp;DB annotations to an XML schema while working in the graphical editor.
                     </p>
                     <div class="figure" id="GUID-0E11429E-1FF3-4C75-8B50-416A7F5C60C8__CEGIBHEB">
                        <p class="titleinfigure">Figure 17-2 XMLSpy Support for Oracle XML&nbsp;DB Schema Annotations</p><img src="img/annot_spy.gif" width="585" alt="Description of Figure 17-2 follows" title="Description of Figure 17-2 follows" longdesc="img_text/annot_spy.html"><br><a href="img_text/annot_spy.html">Description of "Figure 17-2 XMLSpy Support for Oracle XML&nbsp;DB Schema Annotations"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-CD1BA605-196D-461C-9707-6A0B870F1172" title="Oracle XML&nbsp;DB supports registering XML schemas, validating documents against an XML schema, generating XML schemas from SQL object types, mapping from XML Schema to SQL, creating and querying XML Schema-based tables, views, and columns, and automatically inserting data when XML Schema-based documents are inserted into Oracle XML&nbsp;DB Repository.">Overview of Using XML Schema with Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4482"></a><div class="props_rev_3"><a id="GUID-F809A6FE-28CD-4776-AB11-0B34ECBD9FF6" name="GUID-F809A6FE-28CD-4776-AB11-0B34ECBD9FF6"></a><h4 id="ADXDB-GUID-F809A6FE-28CD-4776-AB11-0B34ECBD9FF6" class="sect4"><span class="enumeration_section">17.2.3 </span>DOM Fidelity
                  </h4>
                  <div>
                     <p>DOM fidelity means that all information in an XML document is preserved except whitespace that is insignificant. You can use DOM fidelity to ensure the accuracy and integrity of XML documents stored in Oracle XML&nbsp;DB. </p>
                     <p><strong class="term">Document Object Model (DOM) fidelity</strong> is the concept of retaining the structure of a retrieved XML document, compared to the original XML document, for DOM traversals. 
                     </p>
                     <p>With DOM fidelity, XML data retrieved from the database has the same information as before it was inserted into the database, with the single exception of insignificant whitespace. The term "DOM fidelity" is used because this kind of fidelity is particularly important for DOM traversals.</p>
                     <p>With binary XML storage of XML data, all of the significant information is encoded in the binary XML format, ensuring DOM fidelity. </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F809A6FE-28CD-4776-AB11-0B34ECBD9FF6__GUID-7B1AFA1D-52A5-4F78-A2F8-88CCF7AD2C59">
                        <p class="notep1">See Also:</p>
                        <p><a href="XML-Schema-and-query-object-relational-storage.html#GUID-AF8651CF-49C5-4B13-A198-0AE1F0770439" title="In order to provide DOM fidelity for XML data that is stored object-relationally, Oracle XML&nbsp;DB records all information that cannot be stored in any of the other object attributes as instance-level metadata using the system-defined binary object attribute SYS_XDBPD$ (positional descriptor, or PD).">SYS_XDBPD$ and DOM Fidelity for Object-Relational Storage</a> for information about DOM fidelity and object-relational storage of XML data
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-CD1BA605-196D-461C-9707-6A0B870F1172" title="Oracle XML&nbsp;DB supports registering XML schemas, validating documents against an XML schema, generating XML schemas from SQL object types, mapping from XML Schema to SQL, creating and querying XML Schema-based tables, views, and columns, and automatically inserting data when XML Schema-based documents are inserted into Oracle XML&nbsp;DB Repository.">Overview of Using XML Schema with Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4476"></a><a id="ADXDB4475"></a><div class="props_rev_3"><a id="GUID-A6A640D9-3EE9-44D0-AE9D-A3CF66466EC6" name="GUID-A6A640D9-3EE9-44D0-AE9D-A3CF66466EC6"></a><h4 id="ADXDB-GUID-A6A640D9-3EE9-44D0-AE9D-A3CF66466EC6" class="sect4"><span class="enumeration_section">17.2.4 </span>XMLType Methods Related to XML Schema
                  </h4>
                  <div>
                     <p>The most important <code class="codeph">XMLType</code> methods for working with XML schemas are: <code class="codeph">isSchemaBased()</code>, <code class="codeph">getSchemaURL()</code>, <code class="codeph">schemaValidate()</code>, <code class="codeph">isSchemaValid()</code>, <code class="codeph">isSchemaValidated()</code>, and <code class="codeph">setSchemaValidated()</code>.
                     </p>
                     <div class="tblformalwide" id="GUID-A6A640D9-3EE9-44D0-AE9D-A3CF66466EC6__G1048549">
                        <p class="titleintable">Table 17-1 XMLType Methods Related to XML Schema </p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="XMLType Methods Related to XML Schema " summary="This table describes XMLType API’s eight  XML Schema methods." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d81865e1121">XMLType Method</th>
                                 <th align="left" valign="bottom" width="75%" id="d81865e1124">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d81865e1129" headers="d81865e1121 "><pre class="oac_no_warn" dir="ltr">isSchemaBased()</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d81865e1129 d81865e1124 ">
                                    <p>Returns <code class="codeph">TRUE</code> if the <code class="codeph">XMLType</code> instance is based on an XML schema, <code class="codeph">FALSE</code> otherwise. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d81865e1145" headers="d81865e1121 "><pre class="oac_no_warn" dir="ltr">getSchemaURL() </pre></td>
                                 <td align="left" valign="top" width="75%" headers="d81865e1145 d81865e1124 ">
                                    <p>The XML schema URL for an <code class="codeph">XMLType</code> instance. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d81865e1155" headers="d81865e1121 "><pre class="oac_no_warn" dir="ltr">schemaValidate()
isSchemaValid()
isSchemaValidated()
setSchemaValidated()</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d81865e1155 d81865e1124 ">
                                    <p>Validation of an <code class="codeph">XMLType</code> instance against a registered XML schema: validate, check validation status, or set recorded validation status. See <a href="transformation-and-validation-of-XMLType-data.html#GUID-EC4E2212-67EF-425C-AB5E-D48E62EAB9A7" title="There are several Oracle SQL functions and XMLType APIs for transforming XMLType data using XSLT stylesheets and for validating XMLType instances against an XML schema.">Transformation and Validation of XMLType Data</a>. 
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-CD1BA605-196D-461C-9707-6A0B870F1172" title="Oracle XML&nbsp;DB supports registering XML schemas, validating documents against an XML schema, generating XML schemas from SQL object types, mapping from XML Schema to SQL, creating and querying XML Schema-based tables, views, and columns, and automatically inserting data when XML Schema-based documents are inserted into Oracle XML&nbsp;DB Repository.">Overview of Using XML Schema with Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB6310"></a><div class="props_rev_3"><a id="GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" name="GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF"></a><h3 id="ADXDB-GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" class="sect3"><span class="enumeration_section">17.3 </span>XML Schema Registration with Oracle XML&nbsp;DB
               </h3>
               <div>
                  <p>Before an XML schema can be used by Oracle XML&nbsp;DB, you must register it. It can then be used to create <code class="codeph">XMLType</code> tables and columns and to validate XML documents. If schema registration fails then the database is restored to the state it had prior to the registration attempt.
                  </p>
                  <p>Like all DDL operations, XML schema registration is non-transactional. However, registration is <span class="italic">atomic</span>, in this sense:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If registration succeeds then the operation is auto-committed.</p>
                     </li>
                     <li>
                        <p>If registration fails then the database is rolled back to the state it had before registration began.</p>
                     </li>
                  </ul>
                  <p>Because XML schema registration potentially involves creating object types and tables, error recovery involves dropping any types and tables thus created. The entire XML schema registration process is guaranteed to be atomic: either it succeeds or the database is restored to its state before the start of registration.</p>
                  <p>Two items are required to register an XML schema with Oracle XML&nbsp;DB:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The XML schema document</p>
                     </li>
                     <li>
                        <p>A string that can be used as a unique identifier for the XML schema, after it is registered with Oracle Database. XML instance documents use this unique identifier to identify themselves as members of the class defined by the XML schema. The identifier is typically in the form of a URL, and is often referred to as the <strong class="term">schema location hint</strong> or the <strong class="term">document location hint</strong>.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF__GUID-E0C23F1A-CADE-43F8-860E-80EC3ED426C7">
                     <p class="notep1">Note:</p>
                     <p>The act of registering an XML schema has <span class="italic">no effect</span> on the status of any instance documents that are <span class="italic">already loaded</span> into Oracle XML&nbsp;DB Repository and that reference that XML schema. 
                     </p>
                     <p>Such instance documents were treated as non XML-schema-based when they were loaded. They remain such. After schema registration, you must <span class="italic">delete</span> such documents and <span class="italic">reload</span> them, in order to obtain XML schema-based documents.
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-88464A1A-32CB-40C3-A940-416E3442CF10">XML Schema Registration Actions</a><br>As part of registering an XML schema, Oracle XML&nbsp;DB performs several actions that facilitate storing, accessing, and manipulating XML instances that conform to the XML schema. 
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660">Registering an XML Schema with Oracle XML&nbsp;DB</a><br>An example illustrates the use of PL/SQL procedure <code class="codeph">DBMS_XMLSCHEMA.registerSchema</code> to register an XML schema. The main parameters of this procedure are the schema URL, the schema source document, the character-set ID of the source-document encoding, and options that specify how the schema should be registered. 
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-7E0BA10E-2E50-4A54-9DE1-C2C95665AB0F">SQL Types and Tables Created During XML Schema Registration</a><br>Registration of an XML schema results in the creation of object types and tables.
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-4AC085E5-5E41-42A1-8124-1D875AB69D12">Default Tables for Global Elements</a><br>By default, tables with system-generated names are created for all global elements. You can specify names to use instead. You can prevent the creation of default tables for particular elements, which can reduce processor time and space used, especially if an XML schema contains many global element definitions. 
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-5F79EAA4-F8AC-4241-A18C-1B4465776460">Database Objects That Depend on Registered XML Schemas</a><br>Several kinds of database object can depend on registered XML schemas: tables, views, other XML schemas, and cursors that reference an XML schema.
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4">Local and Global XML Schemas</a><br>An XML schema can be registered as local (visible only to its owner, by default) or global (visible to all database users, by default).
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-7A661274-35C2-422B-A290-5E06D9BADAA0">Fully Qualified XML Schema URLs</a><br><span class="italic">Fully qualified</span> XML schema URLs permit explicit reference to particular XML schemas. The name of the database user owning the XML schema is specified as part of the URL. Fully qualified schema URLs belong to the Oracle XML&nbsp;DB namespace.
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-96A06AFE-40DA-4544-A38B-C4577FD4762F">Deletion of an XML Schema</a><br>You can delete a registered XML schema using procedure <code class="codeph">DBMS_XMLSCHEMA.</code><span class="bold"><code class="codeph">deleteSchema</code></span>. 
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-1ADDD9A7-5636-4587-AF9D-255790EA1BF9">Listing All Registered XML Schemas</a><br>An example lists all XML schemas that are registered with Oracle XML&nbsp;DB. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" title="XML Schema is a standard for describing the content and structure of XML documents. You can register, update, and delete an XML schema used with Oracle XML&nbsp;DB. You can define storage structures to use for your XML schema-based data and map XML Schema data types to SQL data types.">XML Schema Storage and Query: Basic</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4460"></a><div class="props_rev_3"><a id="GUID-88464A1A-32CB-40C3-A940-416E3442CF10" name="GUID-88464A1A-32CB-40C3-A940-416E3442CF10"></a><h4 id="ADXDB-GUID-88464A1A-32CB-40C3-A940-416E3442CF10" class="sect4"><span class="enumeration_section">17.3.1 </span>XML Schema Registration Actions
                  </h4>
                  <div>
                     <p>As part of registering an XML schema, Oracle XML&nbsp;DB performs several actions that facilitate storing, accessing, and manipulating XML instances that conform to the XML schema. </p>
                     <p>These include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Mapping XML Schema data types to Oracle XML&nbsp;DB storage. When XML schema-based data is stored, its storage data types are derived from the XML Schema data types using a default mapping and, optionally, using mapping information that you specify using XML schema annotations. For binary XML storage, XML Schema types are mapped to binary XML encoding types. For object-relational storage, XML schema registration creates the appropriate SQL object types for the object-relational storage of conforming documents. </p>
                        </li>
                        <li>
                           <p>Creating default tables. XML schema registration generates default <code class="codeph">XMLType</code> tables for all global elements. You can use XML-schema annotations to control the names of the tables, and to provide column-level and table-level storage clauses and constraints for use during table creation.
                           </p>
                        </li>
                     </ul>
                     <p>After XML schema registration, documents that reference the XML schema using the XML Schema instance mechanism can be processed automatically by Oracle XML&nbsp;DB. For XML data that is stored object-relationally, <code class="codeph">XMLType</code> tables and columns can be created that are constrained to the global elements defined by the XML schema.
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="XML-Schema-and-query-basic.html#GUID-F5DA0566-E0D0-49C8-A846-1CE5067E15F4" title="Data that conforms to an XML schema uses XML Schema data types. When this XML data is stored in Oracle XML&nbsp;DB, its storage data types are derived from the XML Schema data types using a default mapping and, optionally, using mapping information that you specify using XML schema annotations.">XML Schema Data Types Are Mapped to Oracle XML&nbsp;DB Storage</a></li>
                           <li><a href="XML-Schema-and-query-object-relational-storage.html#GUID-54A3CBE8-19BE-43BB-8979-7769116B6F53" title="You can create default tables as part of XML schema registration. Default tables are most useful when documents are inserted using APIs and protocols such as FTP and HTTP(S), which do not provide any table specification.">Default Tables Created during XML Schema Registration</a></li>
                           <li><a href="XML-Schema-and-query-object-relational-storage.html#GUID-F7E43D3A-67D8-432E-833A-DE0EA4CFCE7A" title="You can annotate XML schemas to influence the objects and tables that are generated by the XML schema registration process. You do this by adding Oracle-specific attributes to complexType, element, and attribute definitions that are declared by the XML schema.">Oracle XML Schema Annotations</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="Before an XML schema can be used by Oracle XML&nbsp;DB, you must register it. It can then be used to create XMLType tables and columns and to validate XML documents. If schema registration fails then the database is restored to the state it had prior to the registration attempt.">XML Schema Registration with Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6312"></a><a id="ADXDB6311"></a><div class="props_rev_3"><a id="GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660" name="GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660"></a><h4 id="ADXDB-GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660" class="sect4"><span class="enumeration_section">17.3.2 </span>Registering an XML Schema with Oracle XML&nbsp;DB
                  </h4>
                  <div>
                     <p>An example illustrates the use of PL/SQL procedure <code class="codeph">DBMS_XMLSCHEMA.registerSchema</code> to register an XML schema. The main parameters of this procedure are the schema URL, the schema source document, the character-set ID of the source-document encoding, and options that specify how the schema should be registered. 
                     </p>
                     <div class="section">
                        <p>The main parameters to <code class="codeph">DBMS_XMLSCHEMA.registerSchema</code> are as follows:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">SCHEMAURL</code> &#x2013; the XML schema URL. This is a unique identifier for the XML schema within Oracle XML&nbsp;DB. It is conventionally in the form of a URL, but this is not a requirement. The XML schema URL is used with Oracle XML&nbsp;DB to identify instance documents, by making the schema location hint identical to the XML schema URL. Oracle XML&nbsp;DB never tries to access a Web server identified by the specified URL.
                              </p>
                              <div class="infoboxnote" id="GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660__GUID-950A38B2-6813-4262-9D0D-00EBEFCAEB5D">
                                 <p class="notep1">Note:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p></p>
                                       <p>You cannot register an XML schema using the same <code class="codeph">SCHEMAURL</code> as any system-defined XML schema.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The non-protocol part of the URL must be unique. The protocol part (for example, <code class="codeph">http</code> or <code class="codeph">https</code>) is ignored in the test for uniqueness.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <p><code class="codeph">SCHEMADOC</code> &#x2013; The XML schema source document. This is a <code class="codeph">VARCHAR</code>, <code class="codeph">CLOB</code>, <code class="codeph">BLOB</code>, <code class="codeph">BFILE</code>, <code class="codeph">XMLType</code>, or <code class="codeph">URIType</code> value.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">CSID</code> &#x2013; The character-set ID of the source-document encoding, when <code class="codeph">schemaDoc</code> is a <code class="codeph">BFILE</code> or <code class="codeph">BLOB</code> value.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OPTIONS</code> &#x2013; Options that specify how the XML schema should be registered. The most important option is <code class="codeph">REGISTER_BINARYXML</code>, which indicates that the XML schema is used for binary XML storage. Another option is <code class="codeph">REGISTER_NT_AS_IOT</code>, which forces OCTs to be stored as index-organized tables (IOTs).
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660__GUID-30F39B84-5563-4270-A48E-0639502FA06B">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/DBMS_XMLSCHEMA.html#ARPLS377" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></p>
                        </div>
                        <p><a href="XML-Schema-and-query-basic.html#GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660__CEGDEDDF">Example 17-1</a> registers the annotated XML schema of <a href="oracle-supplied-XML-schemas-and-examples.html#GUID-1CB2213C-C6E8-4BC4-86A3-EFDE51AEBEFD__BABDAGBF">Example A-2</a>.
                        </p>
                        <p>In <a href="oracle-supplied-XML-schemas-and-examples.html#GUID-1CB2213C-C6E8-4BC4-86A3-EFDE51AEBEFD__BABDAGBF">Example A-2</a>, the unique identifier for the XML schema is: 
                        </p><pre class="oac_no_warn" dir="ltr">http://localhost:8080/source/schemas/poSource/xsd/purchaseOrder.xsd
</pre><p>The XML schema document was previously loaded into Oracle XML&nbsp;DB Repository at this path: <code class="codeph">/source/schemas/poSource/xsd/purchaseOrder.xsd</code>.
                        </p>
                        <p>During XML schema registration, option <code class="codeph">SCHEMADOC</code> specifies that PL/SQL constructor <code class="codeph">XDBURIType</code> is to access the content of the XML schema document, based on its location in the repository. Other options passed to procedure <code class="codeph">registerSchema</code> specify that the schema in <a href="oracle-supplied-XML-schemas-and-examples.html#GUID-1CB2213C-C6E8-4BC4-86A3-EFDE51AEBEFD__BABDAGBF">Example A-2</a> is to be registered as a local XML schema (option <code class="codeph">LOCAL</code>), and that SQL objects, and that tables are to be generated during the registration process (option <code class="codeph">GENTABLES</code>).
                        </p>
                        <p>PL/SQL procedure <code class="codeph">DBMS_XMLSCHEMA.registerSchema</code> performs the following operations:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Parses and validates the XML schema.</p>
                           </li>
                           <li>
                              <p>Creates a set of entries in Oracle Data Dictionary that describe the XML schema.</p>
                           </li>
                           <li>
                              <p>Creates a set of SQL object definitions, based on <code class="codeph">complexType</code> elements defined in the XML schema.
                              </p>
                           </li>
                           <li>
                              <p>Creates an <code class="codeph">XMLType</code> table for each global element defined by the XML schema.
                              </p>
                           </li>
                        </ul>
                        <p>By default, when an XML schema is registered, Oracle XML&nbsp;DB automatically generates all of the SQL object types and <code class="codeph">XMLType</code> tables required to manage the instance documents. An XML schema can be registered as global or local.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660__GUID-CA96B25F-AB87-44BA-BA18-F503B82FC9AB">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/DBMS_XMLSCHEMA.html#ARPLS377" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about <code class="codeph">DBMS_XMLSCHEMA.registerSchema</code></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660__CEGDEDDF">
                        <p class="titleinexample">Example 17-1 Registering an XML Schema Using DBMS_XMLSCHEMA.REGISTERSCHEMA</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_XMLSCHEMA.registerSchema(
    SCHEMAURL =&gt; '<span class="bold">http://localhost:8080/source/schemas/poSource/xsd/purchaseOrder.xsd</span>',
    SCHEMADOC =&gt; XDBURIType('<span class="bold">/source/schemas/poSource/xsd/purchaseOrder.xsd</span>').getCLOB(),
    LOCAL     =&gt; <span class="bold">TRUE</span>,
    GENTYPES  =&gt; <span class="bold">TRUE</span>, 
    GENTABLES =&gt; TRUE);
END;
/
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="XML-Schema-and-query-basic.html#GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4" title="An XML schema can be registered as local (visible only to its owner, by default) or global (visible to all database users, by default).">Local and Global XML Schemas</a></li>
                           <li><a href="XML-Schema-and-query-basic.html#GUID-7E0BA10E-2E50-4A54-9DE1-C2C95665AB0F" title="Registration of an XML schema results in the creation of object types and tables.">SQL Types and Tables Created During XML Schema Registration</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="Before an XML schema can be used by Oracle XML&nbsp;DB, you must register it. It can then be used to create XMLType tables and columns and to validate XML documents. If schema registration fails then the database is restored to the state it had prior to the registration attempt.">XML Schema Registration with Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6314"></a><a id="ADXDB6313"></a><div class="props_rev_3"><a id="GUID-7E0BA10E-2E50-4A54-9DE1-C2C95665AB0F" name="GUID-7E0BA10E-2E50-4A54-9DE1-C2C95665AB0F"></a><h4 id="ADXDB-GUID-7E0BA10E-2E50-4A54-9DE1-C2C95665AB0F" class="sect4"><span class="enumeration_section">17.3.3 </span>SQL Types and Tables Created During XML Schema Registration
                  </h4>
                  <div>
                     <p>Registration of an XML schema results in the creation of object types and tables.</p>
                     <p><a href="XML-Schema-and-query-basic.html#GUID-7E0BA10E-2E50-4A54-9DE1-C2C95665AB0F__CEGHCACG">Example 17-2</a> shows the SQL type definitions that were created during an XML schema registration such as that of <a href="XML-Schema-and-query-basic.html#GUID-2758A6B4-2BE7-4597-94E7-F344FF7C9660__CEGDEDDF">Example 17-1</a>. These SQL type definitions include:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">purchaseorder_t</code>. This type is used to persist the SQL objects generated from a <code class="codeph">PurchaseOrder</code> element. When an XML document containing a <code class="codeph">PurchaseOrder</code> element is stored in Oracle XML&nbsp;DB the document is broken up, and the contents of the document are stored as an instance of <code class="codeph">purchaseorder_t</code>.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">lineitems_t</code>, <code class="codeph">lineitem_v</code>, and <code class="codeph">lineitem_t</code>. These types manage the collection of <code class="codeph">LineItem</code> elements that may be present in a <code class="codeph">PurchaseOrder</code> document. Type <code class="codeph">lineitems_t</code> consists of a single attribute <code class="codeph">lineitem</code>, defined as an instance of type <code class="codeph">lineitem_v</code>. Type <code class="codeph">lineitem_v</code> is defined as a varray of <code class="codeph">linteitem_t</code> objects. There is one instance of the <code class="codeph">lineitem_t</code> object for each <code class="codeph">LineItem</code> element in the document.
                           </p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-7E0BA10E-2E50-4A54-9DE1-C2C95665AB0F__CEGHCACG">
                        <p class="titleinexample">Example 17-2 Objects Created During XML Schema Registration</p><pre class="pre codeblock"><code>DESCRIBE purchaseorder_t
 purchaseorder_t is NOT FINAL
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 SYS_XDBPD$                                         XDB.XDB$RAW_LIST_T
 REFERENCE                                          VARCHAR2(30 CHAR)
 ACTIONS                                            ACTIONS_T
 REJECTION                                          REJECTION_T
 REQUESTOR                                          VARCHAR2(128 CHAR)
 USERID                                             VARCHAR2(10 CHAR)
 COST_CENTER                                        VARCHAR2(4 CHAR)
 SHIPPING_INSTRUCTIONS                              SHIPPING_INSTRUCTIONS_T
 SPECIAL_INSTRUCTIONS                               VARCHAR2(2048 CHAR)
 LINEITEMS                                          LINEITEMS_T
 
DESCRIBE lineitems_t
 lineitems_t is NOT FINAL
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 SYS_XDBPD$                                         XDB.XDB$RAW_LIST_T
 LINEITEM                                           LINEITEM_V
 
DESCRIBE lineitem_v
 lineitem_v VARRAY(2147483647) OF LINEITEM_T
 LINEITEM_T is NOT FINAL
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 SYS_XDBPD$                                         XDB.XDB$RAW_LIST_T
 ITEMNUMBER                                         NUMBER(38)
 DESCRIPTION                                        VARCHAR2(256 CHAR)
 PART                                               PART_T
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="Before an XML schema can be used by Oracle XML&nbsp;DB, you must register it. It can then be used to create XMLType tables and columns and to validate XML documents. If schema registration fails then the database is restored to the state it had prior to the registration attempt.">XML Schema Registration with Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6316"></a><div class="props_rev_3"><a id="GUID-4AC085E5-5E41-42A1-8124-1D875AB69D12" name="GUID-4AC085E5-5E41-42A1-8124-1D875AB69D12"></a><h4 id="ADXDB-GUID-4AC085E5-5E41-42A1-8124-1D875AB69D12" class="sect4"><span class="enumeration_section">17.3.4 </span>Default Tables for Global Elements
                  </h4>
                  <div>
                     <p>By default, tables with system-generated names are created for all global elements. You can specify names to use instead. You can prevent the creation of default tables for particular elements, which can reduce processor time and space used, especially if an XML schema contains many global element definitions. </p>
                     <p>By default, when an XML schema is registered with the database, Oracle XML&nbsp;DB generates a <span class="italic">default table for each global element</span> defined by the XML schema. 
                     </p>
                     <p>You can use attribute <code class="codeph">xdb:defaultTable</code> to specify the name of the default table for a given global element. Each <code class="codeph">xdb:defaultTable</code> attribute value you provide must be <span class="italic">unique</span> among <span class="italic">all schemas</span> registered by a given database user. If you do <span class="italic">not</span> supply a nonempty default table name for some element, then a unique name is provided automatically.
                     </p>
                     <p>In practice, however, you do <span class="italic">not</span> want to create a default table for most global elements. Elements that never serve as the root element for an XML instance document do not need default tables — such tables are never used. Creating default tables for all global elements can lead to significant overhead in processor time and space used, especially if an XML schema contains a large number of global element definitions.
                     </p>
                     <p>As a general rule, then, you want to prevent the creation of a default table for any global element (or any local element stored out of line) that you are sure will <span class="italic">not</span> be used as a root element in any document. You can do this in one of the following ways:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Add the annotation <code class="codeph">xdb:defaultTable = </code><span class="bold"><code class="codeph">""</code></span> (empty string) to the definition of <span class="italic">each</span> global element that will <span class="italic">not</span> appear as the root element of an XML instance document. Using this approach, you allow automatic default-table creation, in general, and you prohibit it explicitly where needed, using <code class="codeph">xdb:defaultTable = ""</code>.
                           </p>
                        </li>
                        <li>
                           <p>Set parameter <code class="codeph">GENTABLES</code> to <code class="codeph">FALSE</code> when registering the XML schema, and then <span class="italic">manually create the default table</span> for each global element that can legally appear as the root element of an instance document. Using this approach, you inhibit automatic default-table creation, and you create only the tables that are needed, by hand.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="Before an XML schema can be used by Oracle XML&nbsp;DB, you must register it. It can then be used to create XMLType tables and columns and to validate XML documents. If schema registration fails then the database is restored to the state it had prior to the registration attempt.">XML Schema Registration with Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4469"></a><div class="props_rev_3"><a id="GUID-5F79EAA4-F8AC-4241-A18C-1B4465776460" name="GUID-5F79EAA4-F8AC-4241-A18C-1B4465776460"></a><h4 id="ADXDB-GUID-5F79EAA4-F8AC-4241-A18C-1B4465776460" class="sect4"><span class="enumeration_section">17.3.5 </span>Database Objects That Depend on Registered XML Schemas
                  </h4>
                  <div>
                     <p>Several kinds of database object can depend on registered XML schemas: tables, views, other XML schemas, and cursors that reference an XML schema.</p>
                     <p>More precisely:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Tables or views that have an <code class="codeph">XMLType</code> column that conforms to an element in an XML schema.
                           </p>
                        </li>
                        <li>
                           <p>Other XML schemas that include or import a given XML schema as part of their definition.</p>
                        </li>
                        <li>
                           <p>Cursors that reference an XML schema. This includes references within functions of package <code class="codeph">DBMS_XMLGEN</code>. Such cursors are purely transient objects.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="Before an XML schema can be used by Oracle XML&nbsp;DB, you must register it. It can then be used to create XMLType tables and columns and to validate XML documents. If schema registration fails then the database is restored to the state it had prior to the registration attempt.">XML Schema Registration with Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4477"></a><div class="props_rev_3"><a id="GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4" name="GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4"></a><h4 id="ADXDB-GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4" class="sect4"><span class="enumeration_section">17.3.6 </span>Local and Global XML Schemas
                  </h4>
                  <div>
                     <p>An XML schema can be registered as local (visible only to its owner, by default) or global (visible to all database users, by default).</p>
                     <p>When you register an XML schema, PL/SQL package <code class="codeph">DBMS_XMLSCHEMA</code> adds a corresponding resource to Oracle XML&nbsp;DB Repository. The XML schema URL determines the path name of the XML schema resource in the repository (and it is associated with parameter <code class="codeph">SCHEMAURL</code> of PL/SQL procedure <code class="codeph">DBMS_XMLSCHEMA.registerSchema</code>).
                     </p>
                     <div class="infoboxnote" id="GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4__GUID-68C0ACB6-8FFF-4FC4-BFD2-6ECADB69D9AA">
                        <p class="notep1">Note:</p>
                        <p>In Oracle Enterprise Manager, local and global registered XML schemas are referred to as <strong class="term">private</strong> and <strong class="term">public</strong>, respectively.
                        </p>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-26C1BFCD-5CC5-4608-A93E-24E5529B1077">Local XML Schema</a><br>By default, an XML schema is local, meaning that it belongs to you alone, after you register it with Oracle XML&nbsp;DB. A reference to the XML schema document is stored in Oracle XML&nbsp;DB Repository under your user (database schema) name. 
                        </li>
                        <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-CA2A548B-11B3-4D83-9A21-53EC8CE6DDC9">Global XML Schema</a><br>In contrast to local XML schemas, a privileged user can register an XML schema as global by specifying an argument to registration function <code class="codeph">DBMS_XMLSCHEMA</code>. are visible to <span class="italic">all</span> users. They are stored under folder <code class="codeph">/sys/schemas/PUBLIC/</code> in Oracle XML&nbsp;DB Repository. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="Before an XML schema can be used by Oracle XML&nbsp;DB, you must register it. It can then be used to create XMLType tables and columns and to validate XML documents. If schema registration fails then the database is restored to the state it had prior to the registration attempt.">XML Schema Registration with Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADXDB4479"></a><a id="ADXDB4478"></a><div class="props_rev_3"><a id="GUID-26C1BFCD-5CC5-4608-A93E-24E5529B1077" name="GUID-26C1BFCD-5CC5-4608-A93E-24E5529B1077"></a><h5 id="ADXDB-GUID-26C1BFCD-5CC5-4608-A93E-24E5529B1077" class="sect5"><span class="enumeration_section">17.3.6.1 </span>Local XML Schema
                     </h5>
                     <div>
                        <p>By default, an XML schema is local, meaning that it belongs to you alone, after you register it with Oracle XML&nbsp;DB. A reference to the XML schema document is stored in Oracle XML&nbsp;DB Repository under your user (database schema) name. </p>
                        <p>Such XML schemas are referred to as <strong class="term">local</strong>. By default, they are usable only by you, the owner. In Oracle XML&nbsp;DB, local XML schema resources are created under folder <code class="codeph">/sys/schemas/</code><span class="italic"><code class="codeph">username</code></span>. The rest of the repository path name is derived from the schema URL. 
                        </p>
                        <p>For example, if the XML schema <code class="codeph">purchaseOrder.xsd</code> is registered as a local schema by user <code class="codeph">QUINE</code>, it is given this path name: 
                        </p><pre class="oac_no_warn" dir="ltr">/sys/schemas/<span class="bold">QUINE</span>/xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd
</pre><div class="p">Database users need appropriate permissions and Access Control Lists (ACLs) to create a resource with a given path name, in order to register the XML schema as a local XML schema. Some ways in which a local XML schema can be registered require one or more of the following privileges:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">ALTER SESSION</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">CREATE PROCEDURE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">CREATE SESSION</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">CREATE TABLE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">CREATE TRIGGER</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">CREATE TYOE</code></p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnote" id="GUID-26C1BFCD-5CC5-4608-A93E-24E5529B1077__GUID-63DC23EC-2ABA-4F36-85B6-C9EE9EE80742">
                           <p class="notep1">Note:</p>
                           <p>Typically, only the owner of the XML schema can use it to define <code class="codeph">XMLType</code> tables, columns, or views, validate documents, and so on. However, Oracle XML&nbsp;DB supports fully qualified XML schema URLs. For example: <code class="codeph">http://xmlns.oracle.com/xdb/schemas/QUINE/xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd</code>. Privileged users can use such an extended URL to specify XML schemas belonging to other users (in this case, user <code class="codeph">QUINE</code>).
                           </p>
                        </div>
                        <div class="section"></div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-26C1BFCD-5CC5-4608-A93E-24E5529B1077__BJFIJHJA">
                           <p class="titleinexample">Example 17-3 Registering a Local XML Schema</p><pre class="pre codeblock"><code>BEGIN
  DBMS_XMLSCHEMA.registerSchema(
    SCHEMAURL =&gt; 'http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd',
    SCHEMADOC =&gt; bfilename('XMLDIR','purchaseOrder.xsd'),
    LOCAL     =&gt; <span class="bold">TRUE</span>,
    GENTYPES  =&gt; TRUE, 
    GENTABLES =&gt; FALSE, 
    CSID      =&gt; nls_charset_id('AL32UTF8'));
END;
/
</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="repository-access-control.html#GUID-CD4A712D-CCA2-4A19-909E-AEC57849A55A" title="Oracle Database provides classic database security such as row-level and column-level secure access by database users. It also provides fine-grained access control for resources in Oracle XML&nbsp;DB Repository. You can create, set, and modify access control lists (ACLs).">Repository Access Control</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4" title="An XML schema can be registered as local (visible only to its owner, by default) or global (visible to all database users, by default).">Local and Global XML Schemas</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB4481"></a><a id="ADXDB4480"></a><div class="props_rev_3"><a id="GUID-CA2A548B-11B3-4D83-9A21-53EC8CE6DDC9" name="GUID-CA2A548B-11B3-4D83-9A21-53EC8CE6DDC9"></a><h5 id="ADXDB-GUID-CA2A548B-11B3-4D83-9A21-53EC8CE6DDC9" class="sect5"><span class="enumeration_section">17.3.6.2 </span>Global XML Schema
                     </h5>
                     <div>
                        <p>In contrast to local XML schemas, a privileged user can register an XML schema as global by specifying an argument to registration function <code class="codeph">DBMS_XMLSCHEMA</code>. are visible to <span class="italic">all</span> users. They are stored under folder <code class="codeph">/sys/schemas/PUBLIC/</code> in Oracle XML&nbsp;DB Repository. 
                        </p>
                        <div class="infoboxnote" id="GUID-CA2A548B-11B3-4D83-9A21-53EC8CE6DDC9__GUID-C0712B94-5A53-469E-B836-CBC574078E8F">
                           <p class="notep1">Note:</p>
                           <p>Access to folder <code class="codeph">/sys/schemas/PUBLIC</code> is controlled by access control lists (ACLs). By default, this folder is writable only by a database administrator. You need write privileges on this folder to register global XML schemas. Role <code class="codeph">XDBADMIN</code> provides write access to this folder, assuming that it is protected by the default ACLs. See <a href="repository-access-control.html#GUID-CD4A712D-CCA2-4A19-909E-AEC57849A55A" title="Oracle Database provides classic database security such as row-level and column-level secure access by database users. It also provides fine-grained access control for resources in Oracle XML&nbsp;DB Repository. You can create, set, and modify access control lists (ACLs).">Repository Access Control</a>.
                           </p>
                        </div>
                        <p>You can register a local schema with the same URL as an existing global schema. A local schema always shadows (hides) any global schema with the same name (URL). </p>
                        <p><a href="XML-Schema-and-query-basic.html#GUID-CA2A548B-11B3-4D83-9A21-53EC8CE6DDC9__BJFBGBEJ">Example 17-4</a> illustrates the registration of a global schema.
                        </p>
                        <div class="example" id="GUID-CA2A548B-11B3-4D83-9A21-53EC8CE6DDC9__BJFBGBEJ">
                           <p class="titleinexample">Example 17-4 Registering a Global XML Schema</p><pre class="oac_no_warn" dir="ltr"><span class="bold">GRANT XDBADMIN TO QUINE;</span>

Grant succeeded.

CONNECT quine
Enter password: <span class="italic">password</span>

Connected.

BEGIN
  DBMS_XMLSCHEMA.registerSchema(
    SCHEMAURL =&gt; 'http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd',
    SCHEMADOC =&gt; bfilename('XMLDIR','purchaseOrder.xsd'),
    LOCAL     =&gt; <span class="bold">FALSE</span>,
    GENTYPES  =&gt; TRUE, 
    GENTABLES =&gt; FALSE, 
    CSID      =&gt; nls_charset_id('AL32UTF8'));
END;
/
</pre><p>If this global XML schema is registered by user <code class="codeph">QUINE</code>, it is given this path name: 
                           </p><pre class="oac_no_warn" dir="ltr">/sys/schemas/<span class="bold">PUBLIC</span>/xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd
</pre><p>Database users need appropriate permissions (ACL access) to create this resource in order to register the XML schema as global.</p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4" title="An XML schema can be registered as local (visible only to its owner, by default) or global (visible to all database users, by default).">Local and Global XML Schemas</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADXDB4634"></a><div class="props_rev_3"><a id="GUID-7A661274-35C2-422B-A290-5E06D9BADAA0" name="GUID-7A661274-35C2-422B-A290-5E06D9BADAA0"></a><h4 id="ADXDB-GUID-7A661274-35C2-422B-A290-5E06D9BADAA0" class="sect4"><span class="enumeration_section">17.3.7 </span>Fully Qualified XML Schema URLs
                  </h4>
                  <div>
                     <p><span class="italic">Fully qualified</span> XML schema URLs permit explicit reference to particular XML schemas. The name of the database user owning the XML schema is specified as part of the URL. Fully qualified schema URLs belong to the Oracle XML&nbsp;DB namespace.
                     </p>
                     <p>By default, XML schema URLs are referenced within the scope of the current database user. XML schema URLs are first resolved as the names of <span class="italic">local</span> XML schemas owned by the current user. 
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If there are no such XML schemas, then they are resolved as names of <span class="italic">global</span> XML schemas. 
                           </p>
                        </li>
                        <li>
                           <p>If there are no <span class="italic">global</span> XML schemas either, then Oracle XML&nbsp;DB raises an error.
                           </p>
                        </li>
                     </ul>
                     <p>The Oracle XML&nbsp;DB namespace is:</p><pre class="oac_no_warn" dir="ltr">http://xmlns.oracle.com/xdb/schemas/<span class="italic"><span class="bold">&lt;database-user&gt;</span></span>/&lt;schemaURL-minus-protocol&gt;
</pre><p>For example, suppose there is a registered global XML schema with the URL <code class="codeph">http://www.example.com/po.xsd</code>, and user <code class="codeph">QUINE</code> has a local registered XML schema with the same URL. Another user can reference the schema owned by <code class="codeph">QUINE</code> as follows using this fully qualified XML Schema URL:
                     </p><pre class="oac_no_warn" dir="ltr">http://xmlns.oracle.com/xdb/schemas/<span class="bold">QUINE</span>/www.example.com/po.xsd
</pre><p>The fully qualified URL for the global XML schema is:</p><pre class="oac_no_warn" dir="ltr">http://xmlns.oracle.com/xdb/schemas/<span class="bold">PUBLIC</span>/www.example.com/po.xsd</pre><div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="XML-Schema-and-query-basic.html#GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4" title="An XML schema can be registered as local (visible only to its owner, by default) or global (visible to all database users, by default).">Local and Global XML Schemas</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="Before an XML schema can be used by Oracle XML&nbsp;DB, you must register it. It can then be used to create XMLType tables and columns and to validate XML documents. If schema registration fails then the database is restored to the state it had prior to the registration attempt.">XML Schema Registration with Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4474"></a><a id="ADXDB4472"></a><div class="props_rev_3"><a id="GUID-96A06AFE-40DA-4544-A38B-C4577FD4762F" name="GUID-96A06AFE-40DA-4544-A38B-C4577FD4762F"></a><h4 id="ADXDB-GUID-96A06AFE-40DA-4544-A38B-C4577FD4762F" class="sect4"><span class="enumeration_section">17.3.8 </span>Deletion of an XML Schema
                  </h4>
                  <div>
                     <p>You can delete a registered XML schema using procedure <code class="codeph">DBMS_XMLSCHEMA.</code><span class="bold"><code class="codeph">deleteSchema</code></span>. 
                     </p>
                     <p>This does the following, by default:</p>
                     <ol>
                        <li>
                           <p>Checks that the current user has the appropriate privileges to delete the resource corresponding to the XML schema within Oracle XML&nbsp;DB Repository. You can control which users can delete which XML schemas, by setting the appropriate ACLs on the XML schema resources. </p>
                        </li>
                        <li>
                           <p>Checks whether there are any tables dependent on the XML schema that is to be deleted. If so, raises an error and cancels the deletion. This check is not performed if option <code class="codeph">delete_invalidate</code> or <code class="codeph">delete_cascade_force</code> is used. In that case, no error is raised.
                           </p>
                        </li>
                        <li>
                           <p>Removes the XML schema document from the Oracle XML&nbsp;DB Repository (folder <code class="codeph">/sys/schemas</code>).
                           </p>
                        </li>
                        <li>
                           <p>Removes the XML schema document from <code class="codeph">DBA_XML_SCHEMAS</code>, unless it was registered for use with binary XML instances and neither <code class="codeph">delete_invalidate</code> nor <code class="codeph">delete_cascade_force</code> is used.
                           </p>
                        </li>
                        <li>
                           <p>Drops the default table, if either <code class="codeph">delete_cascade</code> or <code class="codeph">delete_cascade_force</code> is used. Raises an error if <code class="codeph">delete_cascade</code> is specified and there are instances in other tables that are also dependent on the XML schema.
                           </p>
                        </li>
                     </ol>
                     <p>The following values are available for option <code class="codeph">DELETE_OPTION</code> of procedure <code class="codeph">DBMS_XMLSCHEMA.deleteSchema</code>:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">DELETE_RESTRICT</code> &#x2013; Raise an error and cancel deletion if dependencies are detected. This is the default behavior.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DELETE_INVALIDATE</code> &#x2013; Do not raise an error if dependencies are detected. Instead, mark each of the dependencies as being invalid.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DELETE_CASCADE</code> &#x2013; Drop all types and default tables that were generated during XML schema registration. Raise an error if there are instances that depend upon the XML schema that are stored in tables other than the default table. However, do not raise an error for any such instances that are stored in <code class="codeph">XMLType</code> columns that were created using <code class="codeph">ANY_SCHEMA</code>. If the XML schema was registered for use with binary XML, do not remove it from <code class="codeph">DBA_XML_SCHEMAS</code>.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DELETE_CASCADE_FORCE</code> &#x2013; Drop all types and default tables that were generated during XML schema registration. Do not raise an error if there are instances that depend upon the XML schema that are stored in tables other than the default table. Instead, mark each of the dependencies as being invalid. Remove the XML schema from <code class="codeph">DBA_XML_SCHEMAS</code>.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-96A06AFE-40DA-4544-A38B-C4577FD4762F__GUID-32452F70-71C2-48A7-BBDF-532A2D7A3EE3">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/DBMS_XMLSCHEMA.html#ARPLS377" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></p>
                     </div>
                     <p><a href="XML-Schema-and-query-basic.html#GUID-96A06AFE-40DA-4544-A38B-C4577FD4762F__CHDICCDF">Example 17-5</a> illustrates the use of <code class="codeph">DELETE_CASCADE_FORCE</code>.
                     </p>
                     <p>If an XML schema was registered for use with binary XML, it is not removed from <code class="codeph">DBA_XML_SCHEMAS</code> when you delete it using option <code class="codeph">DELETE_RESTRICT</code> (the default value) or <code class="codeph">DELETE_CASCADE</code>. Therefore, although you can no longer use the XML schema to encode new XML instance documents, any existing documents in Oracle XML&nbsp;DB that reference the XML schema can still be <span class="italic">decoded</span> using it. 
                     </p>
                     <p>This remains the case until you remove the XML schema from <code class="codeph">DBA_XML_SCHEMAS</code> using <code class="codeph">DBMS_XMLSCHEMA.</code><span class="bold"><code class="codeph">purgeSchema</code></span>. Oracle recommends that, in general, you use <code class="codeph">delete_restrict</code> or <code class="codeph">delete_cascade</code>. Instead of using <code class="codeph">DELETE_CASCADE_FORCE</code>, call <code class="codeph">DBMS_XMLSCHEMA.purgeSchema</code> when you are sure you no longer need the XML schema.
                     </p>
                     <p>Procedure <code class="codeph">purgeSchema</code> removes the XML schema completely from Oracle XML&nbsp;DB. In particular, it removes it from <code class="codeph">DBA_XML_SCHEMAS</code>. Before you use <code class="codeph">DBMS_XMLSCHEMA.purgeSchema</code>, be sure that you have transformed all existing XML documents that reference the XML schema to be purged, so they reference a different XML schema or no XML schema. Otherwise, it will be impossible to decode them after the purge.
                     </p>
                     <div class="example" id="GUID-96A06AFE-40DA-4544-A38B-C4577FD4762F__CHDICCDF">
                        <p class="titleinexample">Example 17-5 Deleting an XML Schema with DBMS_XMLSCHEMA.DELETESCHEMA</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_XMLSCHEMA.deleteSchema(
    SCHEMAURL =&gt; 'http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd',
    <span class="bold">DELETE_OPTION =&gt; DBMS_XMLSCHEMA.DELETE_CASCADE_FORCE</span>);
END;
/
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="Before an XML schema can be used by Oracle XML&nbsp;DB, you must register it. It can then be used to create XMLType tables and columns and to validate XML documents. If schema registration fails then the database is restored to the state it had prior to the registration attempt.">XML Schema Registration with Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4471"></a><a id="ADXDB4470"></a><div class="props_rev_3"><a id="GUID-1ADDD9A7-5636-4587-AF9D-255790EA1BF9" name="GUID-1ADDD9A7-5636-4587-AF9D-255790EA1BF9"></a><h4 id="ADXDB-GUID-1ADDD9A7-5636-4587-AF9D-255790EA1BF9" class="sect4"><span class="enumeration_section">17.3.9 </span>Listing All Registered XML Schemas
                  </h4>
                  <div>
                     <p>An example lists all XML schemas that are registered with Oracle XML&nbsp;DB. </p>
                     <div class="section">
                        <p><a href="XML-Schema-and-query-basic.html#GUID-1ADDD9A7-5636-4587-AF9D-255790EA1BF9__CHDHHBEB">Example 17-6</a> shows how to use PL/SQL procedure <code class="codeph">DBMS_XMLSCHEMA.registerSchema</code> to obtain a list of all XML schemas registered with Oracle XML&nbsp;DB. You can also examine views <code class="codeph">USER_XML_SCHEMAS</code>, <code class="codeph">ALL_XML_SCHEMAS</code>, <code class="codeph">USER_XML_TABLES</code>, and <code class="codeph">ALL_XML_TABLES</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-1ADDD9A7-5636-4587-AF9D-255790EA1BF9__CHDHHBEB">
                        <p class="titleinexample">Example 17-6 Data Dictionary Table for Registered Schemas</p><pre class="pre codeblock"><code>DESCRIBE DBA_XML_SCHEMAS

Name         Null? Type
------------ ----- -----------------------
OWNER              VARCHAR2(30)
SCHEMA_URL         VARCHAR2(700)
LOCAL              VARCHAR2(3)
SCHEMA             XMLTYPE(XMLSchema "http://xmlns.oracle.com/xdb/XDBSchema.xsd"
                           Element "schema")
INT_OBJNAME        VARCHAR2(4000)
QUAL_SCHEMA_URL    VARCHAR2(767)
HIER_TYPE          VARCHAR2(11)
BINARY             VARCHAR2(3)
SCHEMA_ID          RAW(16)
HIDDEN             VARCHAR2(3)

SELECT OWNER, LOCAL, SCHEMA_URL FROM DBA_XML_SCHEMAS;

OWNER   LOC   SCHEMA_URL
-----   ---   ----------------------
XDB     NO    http://xmlns.oracle.com/xdb/XDBSchema.xsd
XDB     NO    http://xmlns.oracle.com/xdb/XDBResource.xsd
XDB     NO    http://xmlns.oracle.com/xdb/acl.xsd
XDB     NO    http://xmlns.oracle.com/xdb/dav.xsd
XDB     NO    http://xmlns.oracle.com/xdb/XDBStandard.xsd
XDB     NO    http://www.w3.org/2001/xml.xsd
XDB     NO    http://xmlns.oracle.com/xdb/stats.xsd
XDB     NO    http://xmlns.oracle.com/xdb/xdbconfig.xsd
SCOTT   YES   http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd

13 rows selected.

DESCRIBE DBA_XML_TABLES

Name         Null? Type
------------ ----- -----------------------
OWNER              VARCHAR2(30)
TABLE_NAME         VARCHAR2(30)
XMLSCHEMA          VARCHAR2(700)
SCHEMA_OWNER       VARCHAR2(30)
ELEMENT_NAME       VARCHAR2(2000)
STORAGE_TYPE       VARCHAR2(17)
ANYSCHEMA          VARCHAR2(3)
NONSCHEMA          VARCHAR2(3)

SELECT TABLE_NAME FROM DBA_XML_TABLES
  WHERE XMLSCHEMA = 'http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd';

TABLE_NAME
---------------------
PurchaseOrder1669_TAB

1 row selected.</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-E27F30C8-3081-403B-B75C-4A84C3F256EF" title="Before an XML schema can be used by Oracle XML&nbsp;DB, you must register it. It can then be used to create XMLType tables and columns and to validate XML documents. If schema registration fails then the database is restored to the state it had prior to the registration attempt.">XML Schema Registration with Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4501"></a><a id="ADXDB4502"></a><a id="ADXDB4503"></a><a id="ADXDB4504"></a><a id="ADXDB4505"></a><a id="ADXDB4500"></a><div class="props_rev_3"><a id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5" name="GUID-A7862EBA-F10A-43BA-A540-933529E514E5"></a><h3 id="ADXDB-GUID-A7862EBA-F10A-43BA-A540-933529E514E5" class="sect3"><span class="enumeration_section">17.4 </span>Creation of XMLType Tables and Columns Based on XML Schemas
               </h3>
               <div>
                  <p>You can create <code class="codeph">XMLType</code> tables and columns that are constrained to a global element defined by an XML schema. After an <code class="codeph">XMLType</code> column has been constrained to a particular element and a particular schema, it can only contain documents that are compliant with the schema definition of that element. 
                  </p>
                  <p>You constrain an <code class="codeph">XMLType</code> table column to a particular element and XML schema by adding appropriate <code class="codeph">XMLSCHEMA</code> and <code class="codeph">ELEMENT</code> clauses to the <code class="codeph">CREATE TABLE</code> operation.
                  </p>
                  <p>Figures <a href="XML-Schema-and-query-basic.html#GUID-A7862EBA-F10A-43BA-A540-933529E514E5__I1044839">Figure 17-3</a> through <a href="XML-Schema-and-query-basic.html#GUID-A7862EBA-F10A-43BA-A540-933529E514E5__BJFBIIIA">Figure 17-6</a> show the syntax for creating an <code class="codeph">XMLType</code> table.
                  </p>
                  <div class="infoboxnotealso" id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5__GUID-179239AF-6B31-4345-8E1B-E6F9874A5804">
                     <p class="notep1">See Also:</p>
                     <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for the complete description of <code class="codeph">CREATE TABLE</code>, including syntax elements such as <code class="codeph">object_properties</code>.
                     </p>
                  </div>
                  <div class="infoboxnote" id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5__GUID-21C67238-CA2E-4281-8372-E2A71ACFAA58">
                     <p class="notep1">Note:</p>
                     <p>To create an <code class="codeph">XMLType</code> table in a different database schema from your own, you must have not only privilege <code class="codeph">CREATE ANY TABLE</code> but also privilege <code class="codeph">CREATE ANY INDEX</code>. This is because a unique index is created on column <code class="codeph">OBJECT_ID</code> when you create the table. Column <code class="codeph">OBJECT_ID</code> stores a system-generated object identifier.
                     </p>
                  </div>
                  <div class="figure" id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5__I1044839">
                     <p class="titleinfigure">Figure 17-3 Creating an XMLType Table &#x2013; CREATE TABLE Syntax</p><img src="img/create_table.gif" width="503" alt="Description of Figure 17-3 follows" title="Description of Figure 17-3 follows" longdesc="img_text/create_table.html"><br><a href="img_text/create_table.html">Description of "Figure 17-3 Creating an XMLType Table &#x2013; CREATE TABLE Syntax"</a></div>
                  <!-- class="figure" -->
                  <div class="figure" id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5__GUID-4F16853D-8E1A-42F6-8C48-6DAE2556EE32">
                     <p class="titleinfigure">Figure 17-4 Creating an XMLType Table &#x2013; XMLType_table Syntax</p><img src="img/xmltype_table.gif" width="590" alt="Description of Figure 17-4 follows" title="Description of Figure 17-4 follows" longdesc="img_text/xmltype_table.html"><br><a href="img_text/xmltype_table.html">Description of "Figure 17-4 Creating an XMLType Table &#x2013; XMLType_table Syntax"</a></div>
                  <!-- class="figure" -->
                  <div class="figure" id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5__GUID-D526D23F-ABB1-48C1-9159-CAB83E16EFE4">
                     <p class="titleinfigure">Figure 17-5 Creating an XMLType Table &#x2013; table_properties Syntax</p><img src="img/table_properties.gif" width="615" alt="Description of Figure 17-5 follows" title="Description of Figure 17-5 follows" longdesc="img_text/table_properties.html"><br><a href="img_text/table_properties.html">Description of "Figure 17-5 Creating an XMLType Table &#x2013; table_properties Syntax"</a></div>
                  <!-- class="figure" -->
                  <div class="figure" id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5__BJFBIIIA">
                     <p class="titleinfigure">Figure 17-6 Creating an XMLType Table &#x2013; XMLType_virtual_columns Syntax</p><img src="img/xmltype_virtual_columns.gif" width="371" alt="Description of Figure 17-6 follows" title="Description of Figure 17-6 follows" longdesc="img_text/xmltype_virtual_columns.html"><br><a href="img_text/xmltype_virtual_columns.html">Description of "Figure 17-6 Creating an XMLType Table &#x2013; XMLType_virtual_columns Syntax"</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnote" id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5__GUID-284E475A-1C17-4CA3-9765-DA471A56F9D3">
                     <p class="notep1">Note:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Clause <code class="codeph">XMLType_virtual_columns</code> can be used only for <code class="codeph">XMLType</code> data that is stored as <span class="italic">binary XML</span>. In particular, if you use it for data that is stored object-relationally, and if you use a partitioning clause, then an error is raised.
                           </p>
                        </li>
                        <li>
                           <p>For XML data, virtual columns are used primarily for partitioning or defining SQL constraints. If your need is to project out specific XML data in order to access it relationally, then consider using SQL/XML function <code class="codeph">XMLTable</code> or <code class="codeph">XMLIndex</code> with a structured component. 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>A subset of the XPointer notation can also be used to provide a single URL that contains the XML schema location and element name. See also <a href="query-and-update-XML.html#GUID-01C75289-804F-4BAA-AE7C-DFA73198581E" title="There are many ways for applications to query and update XML data that is in Oracle Database, both XML schema-based and non-schema-based.">Query and Update of XML Data</a>.
                  </p>
                  <p><a href="XML-Schema-and-query-basic.html#GUID-A7862EBA-F10A-43BA-A540-933529E514E5__CHDDJDBD">Example 17-7</a> shows two <code class="codeph">CREATE TABLE</code> statements. The first creates <code class="codeph">XMLType</code> table <code class="codeph">purchaseorder_as_table</code>. The second creates relational table <code class="codeph">purchaseorder_as_column</code>, which has <code class="codeph">XMLType</code> column <code class="codeph">xml_document</code>. In each table, the <code class="codeph">XMLType</code> instance is constrained to the <code class="codeph">PurchaseOrder</code> element that is defined by the XML schema registered with URL <code class="codeph">http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd</code>.
                  </p>
                  <p>There are two ways to specify <code class="codeph">XMLSchema</code> and <code class="codeph">Element</code>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>as separate clauses, <code class="codeph">XMLSchema</code> and <code class="codeph">Element</code></p>
                     </li>
                     <li>
                        <p>using only the <code class="codeph">Element</code> clause with an XPointer notation
                        </p>
                     </li>
                  </ul>
                  <p>The data associated with an <code class="codeph">XMLType</code> table or column that is constrained to an XML schema can be stored in different ways:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Decomposed and stored object-relationally</p>
                     </li>
                     <li>
                        <p>Stored as binary XML, using a single binary-XML column</p>
                     </li>
                  </ul>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-A7862EBA-F10A-43BA-A540-933529E514E5__CHDDJDBD">
                     <p class="titleinexample">Example 17-7 Creating XML Schema-Based XMLType Tables and Columns</p><pre class="pre codeblock"><code>CREATE TABLE purchaseorder_as_table <span class="bold">OF XMLType</span>
  XMLSCHEMA "http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd"
  ELEMENT "PurchaseOrder";

CREATE TABLE purchaseorder_as_column (id NUMBER, xml_document <span class="bold">XMLType</span>)
  XMLTYPE COLUMN xml_document
  ELEMENT
    "http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd#PurchaseOrder";
</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-CF8A4404-C51C-40D4-A4EE-D53DADBD63D5">Specification of XMLType Storage Options for XML Schema-Based Data</a><br>You can specify storage options to use when you manually create a table that stores XML instance documents that reference an XML schema. To specify a particular <code class="codeph">XMLType</code> storage model, use a <code class="codeph">STORE AS</code> clause in the <code class="codeph">CREATE TABLE</code> statement. 
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="how-to-use-XML-DB.html#GUID-C516A75D-519D-4599-ACFF-2837EB4F3242" title="You can create virtual columns only for XMLType data that is stored as binary XML. Such columns are useful for partitioning or constraining the data.">Creating Virtual Columns on XMLType Data Stored as Binary XML</a></li>
                        <li><a href="xquery-and-XML-DB.html#GUID-F4508470-D420-4B5A-B5DF-59A424887F10" title="You use SQL/XML function XMLTable to decompose the result of an XQuery-expression evaluation into the relational rows and columns of a new, virtual table. You can insert this data into a pre-existing database table, or you can query it using SQL — in a join expression, for example.">XMLTABLE SQL/XML Function in Oracle XML&nbsp;DB</a></li>
                        <li><a href="indexes-for-XMLType-data.html#GUID-2DC9E402-5C06-4AED-B04B-C37B687DB6BB" title="You create and use the structured component of an XMLIndex index for queries that project fixed, structured islands of XML content, even if the surrounding data is relatively unstructured.">XMLIndex Structured Component</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" title="XML Schema is a standard for describing the content and structure of XML documents. You can register, update, and delete an XML schema used with Oracle XML&nbsp;DB. You can define storage structures to use for your XML schema-based data and map XML Schema data types to SQL data types.">XML Schema Storage and Query: Basic</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4506"></a><div class="props_rev_3"><a id="GUID-CF8A4404-C51C-40D4-A4EE-D53DADBD63D5" name="GUID-CF8A4404-C51C-40D4-A4EE-D53DADBD63D5"></a><h4 id="ADXDB-GUID-CF8A4404-C51C-40D4-A4EE-D53DADBD63D5" class="sect4"><span class="enumeration_section">17.4.1 </span>Specification of XMLType Storage Options for XML Schema-Based Data
                  </h4>
                  <div>
                     <p>You can specify storage options to use when you manually create a table that stores XML instance documents that reference an XML schema. To specify a particular <code class="codeph">XMLType</code> storage model, use a <code class="codeph">STORE AS</code> clause in the <code class="codeph">CREATE TABLE</code> statement. 
                     </p>
                     <p>Otherwise, the storage model specified during registration of the XML schema is used. If no storage model was specified during registration, then object-relational storage is used.</p>
                     <p>Besides specifying storage options for XML schema-based data, you can also specify storage options for tables that are created automatically, by using XML schema annotations.</p>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-E7AB5A1F-FAAC-4463-8491-74992E49FA8E">Binary XML Storage of XML Schema-Based Data</a><br>If you specify <code class="codeph">STORE AS BINARY_XML</code> then binary XML storage is used. If you specify an XML schema that the documents must conform to then you can use that schema only to create <code class="codeph">XMLType</code> tables and columns that are stored as binary XML. 
                        </li>
                        <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3">Object-Relational Storage of XML Schema-Based Data</a><br>After you register an XML schema you can create an object-relational <code class="codeph">XMLType</code> table or column for documents that conform to that schema. You can optionally specify object-relational storage options for the table or column.
                        </li>
                     </ul>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="XML-Schema-and-query-object-relational-storage.html#GUID-F7E43D3A-67D8-432E-833A-DE0EA4CFCE7A" title="You can annotate XML schemas to influence the objects and tables that are generated by the XML schema registration process. You do this by adding Oracle-specific attributes to complexType, element, and attribute definitions that are declared by the XML schema.">Oracle XML Schema Annotations</a></li>
                           <li><a href="choice-of-XMLType-storage-and-indexing.html#GUID-F1EE5B88-69E1-47B4-97FC-92F184C0CBA1" title="Important design choices for your application include what XMLType storage model to use and which indexing approaches to use.">Choice of XMLType Storage and Indexing</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-A7862EBA-F10A-43BA-A540-933529E514E5" title="You can create XMLType tables and columns that are constrained to a global element defined by an XML schema. After an XMLType column has been constrained to a particular element and a particular schema, it can only contain documents that are compliant with the schema definition of that element.">Creation of XMLType Tables and Columns Based on XML Schemas</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADXDB4508"></a><a id="ADXDB4507"></a><div class="props_rev_3"><a id="GUID-E7AB5A1F-FAAC-4463-8491-74992E49FA8E" name="GUID-E7AB5A1F-FAAC-4463-8491-74992E49FA8E"></a><h5 id="ADXDB-GUID-E7AB5A1F-FAAC-4463-8491-74992E49FA8E" class="sect5"><span class="enumeration_section">17.4.1.1 </span>Binary XML Storage of XML Schema-Based Data
                     </h5>
                     <div>
                        <p>If you specify <code class="codeph">STORE AS BINARY_XML</code> then binary XML storage is used. If you specify an XML schema that the documents must conform to then you can use that schema only to create <code class="codeph">XMLType</code> tables and columns that are stored as binary XML. 
                        </p>
                        <p>You <span class="italic">cannot</span> use the same XML schema to create <code class="codeph">XMLType</code> tables and columns that are stored object-relationally.
                        </p>
                        <p>The converse is also true: If you use object-relational storage for the registered XML schema, then you can use only that XML schema to create <code class="codeph">XMLType</code> tables and columns that are stored as binary XML.
                        </p>
                        <p>Binary XML storage offers a great deal of flexibility for XML data, especially concerning the use of XML schemas. Binary XML encodes XML data differently, depending upon whether or not an XML schema is used for the encoding, and it can encode the same data differently using different XML schemas.</p>
                        <p>When an XML schema is taken into account for encoding binary XML data, the XML Schema data types are mapped to encoded types for storage. Alternatively, you can encode XML data as non-schema-based binary XML, whether or not the data references an XML schema. In that case, any referenced XML schema is ignored, and there is no encoding of XML Schema data types.</p>
                        <p>When you create an <code class="codeph">XMLType</code> table or column and you use binary XML storage, you can specify how to encode the column or table to make use of XML schemas. Choose from among these possibilities:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Encode the column or table data as <span class="italic">non-schema-based</span> binary XML. The XML data stored in the column can nevertheless conform to an XML schema, but it need not. Any referenced XML schema is ignored for encoding purposes, and documents are not automatically validated when they are inserted or updated.
                              </p>
                              <p>You can nevertheless explicitly validate an XML schema-based document that is encoded as non-schema-based binary XML. This represents an important use case: situations where you do not want to tie documents too closely to a particular XML schema, because you might change it or delete it.</p>
                           </li>
                           <li>
                              <p>Encode the column or table data to conform to a <span class="italic">single XML schema</span>. All rows (documents) must conform to the same XML schema. You can nevertheless specify, as an option, that non-schema-based documents can also be stored in the same column.
                              </p>
                           </li>
                           <li>
                              <p>Encode the column or table data to conform to whatever XML schema it references Each row (document) can reference <span class="italic">any XML schema</span>, and that XML schema is used to encode that particular XML document. In this case also, you can specify, as an option, that non-schema-based documents can also be stored in the same column. 
                              </p>
                              <p>You can use multiple <span class="italic">versions</span> of the same XML schema in this way. Store documents that conform to different versions. Each is encoded according to the XML schema that it references.
                              </p>
                           </li>
                        </ul>
                        <p>You can specify that any XML schema can be used for encoding by using option <code class="codeph">ALLOW ANYSCHEMA</code> when you create the table. 
                        </p>
                        <div class="infoboxnote" id="GUID-E7AB5A1F-FAAC-4463-8491-74992E49FA8E__GUID-AAE3334F-4802-4E24-A26B-3BF67F6EEA61">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>If you use option <code class="codeph">ALLOW ANYSCHEMA</code>, then any XML schema referenced by your instance documents is used <span class="italic">only for validation</span>. It is <span class="italic">not</span> used at query time. Queries of your data treat it as if it were non XML schema-based data.
                                 </p>
                              </li>
                              <li>
                                 <p>Oracle recommends that you do <span class="italic">not</span> use option <code class="codeph">ALLOW ANYSCHEMA</code> if you anticipate using copy-based XML schema evolution (see <a href="XML-Schema-evolution.html#GUID-0E4FC235-D8D1-4F27-85DC-A3DCCC2662AB" title="You perform copy-based XML schema evolution using PL/SQL procedure DBMS_XMLSCHEMA.copyEvolve. This backs up existing instance documents to temporary XMLType tables, drops the old version of the XML schema (which also deletes the associated instance documents), registers the new version, and copies the backed-up instance documents to new XMLType tables.">Copy-Based Schema Evolution</a>). If you use this option, it is impossible to determine which rows (documents) might conform to the XML schema that is evolved. Conforming rows are not transformed during copy-based evolution, and afterward they are not decodable.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>You can specify, for tables and columns that use XML schema-based encodings, that they can accept also non-schema-based documents by using option <code class="codeph">ALLOW NONSCHEMA</code>. In the absence of keyword <code class="codeph">XMLSCHEMA</code>, encoding is for non-schema-based documents. In the absence of the keywords <code class="codeph">ALLOW NONSCHEMA</code> but the presence of keyword <code class="codeph">XMLSCHEMA</code>, encoding is for the single XML schema specified. In the absence of the keywords <code class="codeph">ALLOW NONSCHEMA</code> but the presence of the keywords <code class="codeph">ALLOW ANYSCHEMA</code>, encoding is for any XML schema that is referenced.
                        </p>
                        <p>An error is raised if you try to insert an XML document into an <code class="codeph">XMLType</code> table or column that does not correspond to the document.
                        </p>
                        <p>The various possibilities are summarized in <a href="XML-Schema-and-query-basic.html#GUID-E7AB5A1F-FAAC-4463-8491-74992E49FA8E__CHDIAFJH" title="This table summarizes the CREATE TABLE Encoding Options for Binary XML.">Table 17-2</a>.
                        </p>
                        <div class="tblformal" id="GUID-E7AB5A1F-FAAC-4463-8491-74992E49FA8E__CHDIAFJH">
                           <p class="titleintable">Table 17-2 CREATE TABLE Encoding Options for Binary XML</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE TABLE Encoding Options for Binary XML" summary="This table summarizes the CREATE TABLE Encoding Options for Binary XML." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d81865e3248">Storage Options</th>
                                    <th align="left" valign="bottom" width="75%" id="d81865e3251">Encoding Effect</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d81865e3256" headers="d81865e3248 "><pre class="oac_no_warn" dir="ltr">STORE AS BINARY XML</pre></td>
                                    <td align="left" valign="top" width="75%" headers="d81865e3256 d81865e3251 ">
                                       <p>Encodes all documents using the non-schema-based encoding. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d81865e3263" headers="d81865e3248 "><pre class="oac_no_warn" dir="ltr">STORE AS BINARY XML
 XMLSCHEMA ...</pre></td>
                                    <td align="left" valign="top" width="75%" headers="d81865e3263 d81865e3251 ">
                                       <p>Encodes all documents using an encoding based on the referenced XML schema. </p>
                                       <p>Trying to insert or update a document that does not conform to the XML schema raises an error.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d81865e3272" headers="d81865e3248 "><pre class="oac_no_warn" dir="ltr">STORE AS BINARY XML
 XMLSCHEMA ...
 ALLOW NONSCHEMA</pre></td>
                                    <td align="left" valign="top" width="75%" headers="d81865e3272 d81865e3251 ">
                                       <p>Encodes all XML schema-based documents using an encoding based on the referenced XML schema. Encodes all non-schema-based documents using the non-schema-based encoding.</p>
                                       <p>Trying to insert or update an XML schema-based document that does not conform to the referenced XML schema raises an error.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d81865e3281" headers="d81865e3248 "><pre class="oac_no_warn" dir="ltr">STORE AS BINARY XML
 ALLOW ANYSCHEMA</pre></td>
                                    <td align="left" valign="top" width="75%" headers="d81865e3281 d81865e3251 ">
                                       <p>Encodes all XML schema-based documents using an encoding based on the XML schema referenced by the document. </p>
                                       <p>Trying to insert or update a document that does not reference a registered XML schema or that does not conform to the XML schema it references raises an error.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d81865e3290" headers="d81865e3248 "><pre class="oac_no_warn" dir="ltr">STORE AS BINARY XML
 ALLOW ANYSCHEMA
 ALLOW NONSCHEMA</pre></td>
                                    <td align="left" valign="top" width="75%" headers="d81865e3290 d81865e3251 ">
                                       <p>Encodes all XML schema-based documents using an encoding based on the XML schema referenced by the document. Encodes all non-schema-based documents using the non-schema-based encoding.</p>
                                       <p>Trying to insert or update an XML schema-based document that does not conform to the registered XML schema it references raises an error.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnote" id="GUID-E7AB5A1F-FAAC-4463-8491-74992E49FA8E__GUID-917ECA57-9353-4220-B942-A4F730E45354">
                           <p class="notep1">Note:</p>
                           <p>If you use <code class="codeph">CREATE TABLE</code> with <code class="codeph">ALLOW NONSCHEMA</code> but not <code class="codeph">ALLOW ANYSCHEMA</code>, then all documents, even XML schema-based documents, are encoded using the non-schema-based encoding. If you later use <code class="codeph">ALTER TABLE</code> with <code class="codeph">ALLOW ANYSCHEMA</code> on the same table, this has no effect on the encoding of documents that were stored prior to the <code class="codeph">ALTER TABLE</code> operation — all such documents continue to be encoded using the non-schema-based encoding, regardless of whether they reference an XML schema. Only XML schema-based documents that you insert in the table after the <code class="codeph">ALTER TABLE</code> operation are encoded using XML schema-based encodings.
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-CF8A4404-C51C-40D4-A4EE-D53DADBD63D5" title="You can specify storage options to use when you manually create a table that stores XML instance documents that reference an XML schema. To specify a particular XMLType storage model, use a STORE AS clause in the CREATE TABLE statement.">Specification of XMLType Storage Options for XML Schema-Based Data</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB6366"></a><a id="ADXDB4512"></a><a id="ADXDB5836"></a><a id="ADXDB4511"></a><div class="props_rev_3"><a id="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3" name="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3"></a><h5 id="ADXDB-GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3" class="sect5"><span class="enumeration_section">17.4.1.2 </span>Object-Relational Storage of XML Schema-Based Data
                     </h5>
                     <div>
                        <p>After you register an XML schema you can create an object-relational <code class="codeph">XMLType</code> table or column for documents that conform to that schema. You can optionally specify object-relational storage options for the table or column.
                        </p>
                        <p>Suppose that you have registered a purchase-order XML schema, identified by URL <code class="codeph">http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd</code>. You then create an object-relational <code class="codeph">XMLType</code> table, <code class="codeph">purchaseorder_as_table</code>, to store instances that conform to element <code class="codeph">PurchaseOrder</code> of the XML schema, as in <a href="XML-Schema-and-query-basic.html#GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__CEGBEEAJ">Example 17-8</a>.
                        </p>
                        <p>This automatically creates hidden columns that correspond to the database object type to which the <code class="codeph">PurchaseOrder</code> element has been mapped. In addition, an <code class="codeph">XMLEXTRA</code> object column is created, to store top-level instance data such as namespace declarations. <code class="codeph">XMLEXTRA</code> is reserved for internal use.
                        </p>
                        <p>Suppose that XML schema <code class="codeph">purchaseOrder.xsd</code> defines element <code class="codeph">LineItems</code> as a child of element <code class="codeph">PurchaseOrder</code>, and that <code class="codeph">LineItems</code> is a collection of <code class="codeph">LineItem</code> elements. 
                        </p>
                        <p>With object-relational storage, collections are mapped to SQL varray values. An XML <strong class="term">collection</strong> is any element that is defined by the XML schema with <code class="codeph">maxOccurs</code> &gt; 1, allowing it to appear multiple times. By default, the entire contents of such a varray is stored as a set of rows in an ordered collection table (OCT).
                        </p>
                        <p><a href="XML-Schema-and-query-basic.html#GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__BJFGGABH">Example 17-9</a> creates table <code class="codeph">purchaseorder_as_table</code> differently from <a href="XML-Schema-and-query-basic.html#GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__CEGBEEAJ">Example 17-8</a>. It specifies additional storage options:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">LineItems</code> collection varray is stored as a LOB, not as a table.
                              </p>
                           </li>
                           <li>
                              <p>Tablespace <code class="codeph">USERS</code> is used for storing element <code class="codeph">Notes</code>. 
                              </p>
                           </li>
                           <li>
                              <p>The table is compressed for online transaction processing (OLTP).</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__GUID-3E56EFF6-C688-4006-ACE1-1AAF246CFB65">
                           <p class="notep1">Note:</p>
                           <p>In releases prior to Oracle Database&nbsp;11gR2, the default behavior for <code class="codeph">CREATE TABLE</code> was to store a collection using a varray stored as a LOB, not a varray stored as a table.
                           </p>
                        </div>
                        <div class="infoboxnote" id="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__GUID-CFA51E25-D881-4D87-B2C4-C1858A2464B5">
                           <p class="notep1">Note:</p>
                           <p>When compression is specified for a parent <code class="codeph">XMLType</code> table or column, all descendant <code class="codeph">XMLType</code> ordered collection tables (OCTs) are similarly compressed.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__GUID-621B91CD-3705-4F32-A653-5664F1A6599D">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="XML-Schema-and-query-object-relational-storage.html#GUID-F7E43D3A-67D8-432E-833A-DE0EA4CFCE7A" title="You can annotate XML schemas to influence the objects and tables that are generated by the XML schema registration process. You do this by adding Oracle-specific attributes to complexType, element, and attribute definitions that are declared by the XML schema.">Oracle XML Schema Annotations</a> for information about specifying storage options by using XML schema annotations
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF54484" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about compression for OLTP
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>As a convenience, if you need to specify that <span class="italic">all</span> varrays in an <code class="codeph">XMLType</code> table or column are to be stored as LOBs, or all are to be stored as tables, then you can use the syntax clause <code class="codeph">STORE ALL VARRAYS AS</code>, followed by <code class="codeph">LOBS</code> or <code class="codeph">TABLES</code>, respectively. This is a convenient alternative to using multiple <code class="codeph">VARRAY</code>...<code class="codeph">STORE AS</code> clauses, one for each collection. <a href="XML-Schema-and-query-basic.html#GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__BJFCHIJH">Example 17-10</a> illustrates this.
                        </p>
                        <div class="infoboxnotealso" id="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__GUID-60A4936D-FC4F-45FC-8054-B92A59E39C37">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF01709" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about using <code class="codeph">STORE ALL VARRAYS AS LOBS</code></p>
                        </div>
                        <div class="example" id="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__CEGBEEAJ">
                           <p class="titleinexample">Example 17-8 Creating an Object-Relational XMLType Table with Default Storage</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE purchaseorder_as_table OF XMLType 
   ELEMENT
   "http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd#PurchaseOrder";
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__BJFGGABH">
                           <p class="titleinexample">Example 17-9 Specifying Object-Relational Storage Options for XMLType Tables and Columns</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE purchaseorder_as_table 
  OF XMLType (UNIQUE ("XMLDATA"."Reference"),
              FOREIGN KEY ("XMLDATA"."User") REFERENCES hr.employees (email))
ELEMENT
  "http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd#PurchaseOrder"
  <span class="bold">VARRAY</span> "XMLDATA"."LineItems"."LineItem" <span class="bold">STORE AS LOB</span> lineitem_lob
  <span class="bold">LOB</span> ("XMLDATA"."<span class="bold">Notes</span>")
    <span class="bold">STORE AS</span> (TABLESPACE <span class="bold">USERS</span> ENABLE STORAGE IN ROW 
              STORAGE(INITIAL 4K NEXT 32K))
    <span class="bold">COMPRESS FOR OLTP</span>;

CREATE TABLE purchaseorder_as_column (
  id NUMBER,
  xml_document XMLType,
  UNIQUE (xml_document."XMLDATA"."Reference"),
  FOREIGN KEY (xml_document."XMLDATA"."User") REFERENCES hr.employees (email))
  XMLTYPE COLUMN xml_document
  XMLSCHEMA "http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd"
  ELEMENT "PurchaseOrder"
  <span class="bold">VARRAY</span> xml_document."XMLDATA"."LineItems"."LineItem" <span class="bold">STORE AS LOB</span> lineitem_lob
  <span class="bold">LOB</span> (xml_document."XMLDATA"."<span class="bold">Notes</span>")
    <span class="bold">STORE AS</span> (TABLESPACE <span class="bold">USERS</span> ENABLE STORAGE IN ROW 
              STORAGE(INITIAL 4K NEXT 32K))
    <span class="bold">COMPRESS FOR OLTP</span>;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-F8159034-643E-4B26-BA57-4D60AF6D65D3__BJFCHIJH">
                           <p class="titleinexample">Example 17-10 Using STORE ALL VARRAYS AS</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE purchaseorder_as_table OF XMLType (UNIQUE ("XMLDATA"."Reference"),
  FOREIGN KEY ("XMLDATA"."User") REFERENCES hr.employees (email))
  ELEMENT
    "http://xmlns.oracle.com/xdb/documentation/purchaseOrder.xsd#PurchaseOrder"
  <span class="bold">STORE ALL VARRAYS AS LOBS</span>;
</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-CF8A4404-C51C-40D4-A4EE-D53DADBD63D5" title="You can specify storage options to use when you manually create a table that stores XML instance documents that reference an XML schema. To specify a particular XMLType storage model, use a STORE AS clause in the CREATE TABLE statement.">Specification of XMLType Storage Options for XML Schema-Based Data</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADXDB4098"></a><div class="props_rev_3"><a id="GUID-43D926FC-083A-4CBB-8B3A-A157462D51F6" name="GUID-43D926FC-083A-4CBB-8B3A-A157462D51F6"></a><h3 id="ADXDB-GUID-43D926FC-083A-4CBB-8B3A-A157462D51F6" class="sect3"><span class="enumeration_section">17.5 </span>Ways to Identify XML Schema Instance Documents
               </h3>
               <div>
                  <p>Before an XML document can be inserted into an XML Schema-based <code class="codeph">XMLType</code> table or column, the associated XML schema must be identified. You can do this when you create the table or column, or you can use <code class="codeph">XMLSchema-instance</code> to explicitly add the required schema identification to the XML instance document.
                  </p>
                  <p>To explicitly identify the XML schema when creating the <code class="codeph">XMLType</code> table or column, you can pass the name of the XML schema to the <code class="codeph">XMLType</code> constructor, or you can invoke <code class="codeph">XMLType</code> method <code class="codeph">createSchemaBasedXML()</code>.
                  </p>
                  <p>The advantage of the <code class="codeph">XMLSchema-instance</code> mechanism is that it lets the Oracle XML&nbsp;DB protocol servers recognize that an XML document inserted into Oracle XML&nbsp;DB Repository is an instance of a registered XML schema. The content of the instance document is automatically stored in the default table specified by that XML schema.
                  </p>
                  <p>The <code class="codeph">XMLSchema-instance</code> mechanism is defined by the W3C XML Schema working group. It is based on adding attributes that identify the target XML schema to the root element of the instance document. These attributes are defined by the <code class="codeph">XMLSchema-instance</code> namespace. 
                  </p>
                  <p>To identify an instance document as a member of the class defined by a particular XML schema you must declare the <code class="codeph">XMLSchema-instance</code> namespace by adding a namespace declaration to the root element of the instance document. For example:
                  </p>
                  <p><code class="codeph">xmlns:xsi = http://www.w3.org/2001/XMLSchema-instance</code></p>
                  <p>Once the <code class="codeph">XMLSchema-instance</code> namespace has been declared and given a <code class="codeph">namespace</code> prefix, attributes that identify the XML schema can be added to the root element of the instance document. In the preceding example, the namespace prefix for the <code class="codeph">XMLSchema-instance</code> namespace was defined as <code class="codeph">xsi</code>. This prefix can then be used when adding the <code class="codeph">XMLSchema-instance</code> attributes to the root element of the instance document.
                  </p>
                  <p>Which attributes must be added depends on several factors. There are two possibilities, <code class="codeph">noNamespaceSchemaLocation</code> and <code class="codeph">schemaLocation</code>. Depending on the XML schema, one or both of these attributes is required to identify the XML schemas that the instance document is associated with.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-167BD6E7-2628-4A7E-B4B9-D843CFF5F055">Attributes noNamespaceSchemaLocation and schemaLocation</a><br>If the target XML schema does not declare a target namespace, attribute <code class="codeph">noNamespaceSchemaLocation</code> is used to identify the XML schema. The attribute value is the <span class="italic">schema location hint</span>. This is the unique identifier that is passed to PL/SQL procedure <code class="codeph">DBMS_XMLSCHEMA.registerSchema</code> when the XML schema is registered with the database.
                     </li>
                     <li class="ulchildlink"><a href="XML-Schema-and-query-basic.html#GUID-75D23190-524F-4A39-BC6E-F7D4C6F3FD66">XML Schema and Multiple Namespaces</a><br>When an XML schema includes elements defined in multiple namespaces, an entry must occur in the <code class="codeph">schemaLocation</code> attribute for each of the XML schemas. Each entry consists of the namespace declaration and the <span class="italic">schema location hint</span>. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" title="XML Schema is a standard for describing the content and structure of XML documents. You can register, update, and delete an XML schema used with Oracle XML&nbsp;DB. You can define storage structures to use for your XML schema-based data and map XML Schema data types to SQL data types.">XML Schema Storage and Query: Basic</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4099"></a><div class="props_rev_3"><a id="GUID-167BD6E7-2628-4A7E-B4B9-D843CFF5F055" name="GUID-167BD6E7-2628-4A7E-B4B9-D843CFF5F055"></a><h4 id="ADXDB-GUID-167BD6E7-2628-4A7E-B4B9-D843CFF5F055" class="sect4"><span class="enumeration_section">17.5.1 </span>Attributes noNamespaceSchemaLocation and schemaLocation 
                  </h4>
                  <div>
                     <p>If the target XML schema does not declare a target namespace, attribute <code class="codeph">noNamespaceSchemaLocation</code> is used to identify the XML schema. The attribute value is the <span class="italic">schema location hint</span>. This is the unique identifier that is passed to PL/SQL procedure <code class="codeph">DBMS_XMLSCHEMA.registerSchema</code> when the XML schema is registered with the database.
                     </p>
                     <p>For XML schema <code class="codeph">purchaseOrder.xsd</code>, the correct definition of the root element of the instance document would read as follows:
                     </p><pre class="pre codeblock"><code>&lt;PurchaseOrder
  xmlns:xsi=http://www.w3.org/2001/XMLSchema-instance
  xsi:noNamespaceSchemaLocation=
    "http://localhost:8080/source/schemas/poSource/xsd/purchaseOrder.xsd"&gt;
</code></pre><p>If the target XML schema declares a target namespace, then the <code class="codeph">schemaLocation</code> attribute is used to identify the XML schema. The value of this attribute is a pair of values separated by a space: 
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The value of the <span class="italic">target namespace</span> declared in the XML schema
                           </p>
                        </li>
                        <li>
                           <p>The <span class="italic">schema location hint</span>, the unique identifier passed to procedure <code class="codeph">DBMS_XMLSCHEMA.registerSchema</code> when the schema is registered with the database
                           </p>
                        </li>
                     </ul>
                     <p>For example, assume that the <code class="codeph">PurchaseOrder</code> XML schema includes a target namespace declaration. The root element of the schema would look like this:
                     </p><pre class="pre codeblock"><code>&lt;xs:schema <span class="bold">targetNamespace="http://demo.oracle.com/xdb/purchaseOrder"</span>
           xmlns:xs="http://www.w3.org/2001/XMLSchema"
           xmlns:xdb="http://xmlns.oracle.com/xdb"
           version="1.0"&gt;
   &lt;xs:element name="PurchaseOrder" type="PurchaseOrderType"
               xdb:defaultTable="PURCHASEORDER"/&gt;
</code></pre><p>In this case, the correct form of the root element of the instance document would read as follows:</p><pre class="pre codeblock"><code>&lt;PurchaseOrder
    xnlns="http://demo.oracle.com/xdb/purchaseOrder"
    xmlns:xsi=http://www.w3.org/2001/XMLSchema-instance
    <span class="bold">xsi:schemaLocation=</span>
      "<span class="bold">http://demo.oracle.com/xdb/purchaseOrder</span>
       <span class="bold">http://mdrake-lap:8080/source/schemas/poSource/xsd/purchaseOrder.xsd</span>"&gt;</code></pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-43D926FC-083A-4CBB-8B3A-A157462D51F6" title="Before an XML document can be inserted into an XML Schema-based XMLType table or column, the associated XML schema must be identified. You can do this when you create the table or column, or you can use XMLSchema-instance to explicitly add the required schema identification to the XML instance document.">Ways to Identify XML Schema Instance Documents</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4100"></a><div class="props_rev_3"><a id="GUID-75D23190-524F-4A39-BC6E-F7D4C6F3FD66" name="GUID-75D23190-524F-4A39-BC6E-F7D4C6F3FD66"></a><h4 id="ADXDB-GUID-75D23190-524F-4A39-BC6E-F7D4C6F3FD66" class="sect4"><span class="enumeration_section">17.5.2 </span>XML Schema and Multiple Namespaces
                  </h4>
                  <div>
                     <p>When an XML schema includes elements defined in multiple namespaces, an entry must occur in the <code class="codeph">schemaLocation</code> attribute for each of the XML schemas. Each entry consists of the namespace declaration and the <span class="italic">schema location hint</span>. 
                     </p>
                     <p>The entries are separated from each other by one or more whitespace characters. </p>
                     <p>If the primary XML schema does not declare a target namespace, then the XML instance document also needs to include a <code class="codeph">noNamespaceSchemaLocation</code> attribute that provides the <span class="italic">schema location hint</span> for the primary XML schema.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-43D926FC-083A-4CBB-8B3A-A157462D51F6" title="Before an XML document can be inserted into an XML Schema-based XMLType table or column, the associated XML schema must be identified. You can do this when you create the table or column, or you can use XMLSchema-instance to explicitly add the required schema identification to the XML instance document.">Ways to Identify XML Schema Instance Documents</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4526"></a><a id="ADXDB4525"></a><div class="props_rev_3"><a id="GUID-F5DA0566-E0D0-49C8-A846-1CE5067E15F4" name="GUID-F5DA0566-E0D0-49C8-A846-1CE5067E15F4"></a><h3 id="ADXDB-GUID-F5DA0566-E0D0-49C8-A846-1CE5067E15F4" class="sect3"><span class="enumeration_section">17.6 </span>XML Schema Data Types Are Mapped to Oracle XML&nbsp;DB Storage
               </h3>
               <div>
                  <p>Data that conforms to an XML schema uses XML Schema data types. When this XML data is stored in Oracle XML&nbsp;DB, its storage data types are derived from the XML Schema data types using a default mapping and, optionally, using mapping information that you specify using XML schema annotations.</p>
                  <p>Whenever you do not specify a data type to use for storage, Oracle XML&nbsp;DB uses the default mapping to annotate the XML schema appropriately, during registration. In this way, the registered XML schema has a complete set of data-type annotations.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For object-relational storage, XML Schema data types are mapped to SQL data types. </p>
                     </li>
                     <li>
                        <p>For binary XML storage, XML Schema data types are mapped to Oracle XML&nbsp;DB binary XML encoding types.</p>
                     </li>
                  </ul>
                  <p><a href="XML-Schema-and-query-basic.html#GUID-F5DA0566-E0D0-49C8-A846-1CE5067E15F4__I1044841">Figure 17-7</a> shows how Oracle XML&nbsp;DB creates XML schema-based <code class="codeph">XMLType</code> tables using an XML document and a mapping specified in an XML schema. Depending on the storage method specified in the XML schema, an XML instance document is stored either as a binary XML value in a single <code class="codeph">XMLType</code> column, or using multiple object-relational columns.
                  </p>
                  <div class="figure" id="GUID-F5DA0566-E0D0-49C8-A846-1CE5067E15F4__I1044841">
                     <p class="titleinfigure">Figure 17-7 How Oracle XML&nbsp;DB Maps XML Schema-Based XMLType Tables</p><img src="img/adxdb025.png" width="437" alt="Description of Figure 17-7 follows" title="Description of Figure 17-7 follows" longdesc="img_text/adxdb025.html"><br><a href="img_text/adxdb025.html">Description of "Figure 17-7 How Oracle XML&nbsp;DB Maps XML Schema-Based XMLType Tables"</a></div>
                  <!-- class="figure" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="XML-Schema-and-query-object-relational-storage.html#GUID-844D686D-D95A-4C5B-8624-71BABDBF1EF5" title="You use PL/SQL package DBMS_XMLSCHEMA to map data types for XML Schema attributes and elements to SQL data types.">Use DBMS_XMLSCHEMA to Map XML Schema Data Types to SQL Data Types</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="XML-Schema-and-query-basic.html#GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" title="XML Schema is a standard for describing the content and structure of XML documents. You can register, update, and delete an XML schema used with Oracle XML&nbsp;DB. You can define storage structures to use for your XML schema-based data and map XML Schema data types to SQL data types.">XML Schema Storage and Query: Basic</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <hr><br><p style="text-decoration:underline">Footnote Legend</p>Footnote&nbsp;1: 
            <p>XMLSpy also supports WebDAV and FTP protocols, so you can use it to directly access and edit content stored in Oracle XML&nbsp;DB Repository.</p><br></div>
      </article>
   </body>
</html>