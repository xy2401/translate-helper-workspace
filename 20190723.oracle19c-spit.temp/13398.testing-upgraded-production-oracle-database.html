<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Your test plan for Oracle Database upgrades should include these test procedures.">
      <meta name="description" content="Your test plan for Oracle Database upgrades should include these test procedures.">
      <title>Testing the Upgrade Process for Oracle Database</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Upgrade Guide">
      <meta property="og:description" content="Your test plan for Oracle Database upgrades should include these test procedures.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Upgrade Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-upgrade-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-25T08:26:31-07:00">
      <meta name="dcterms.title" content="Database Upgrade Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96252-05">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="using-preupgrade-information-tool-for-oracle-database.html" title="Previous" type="text/html">
      <link rel="next" href="requirements-upgrading-databases-that-use-oracle-label-security-and-oracle-database-vault.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="UPGRD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-preupgrade-information-tool-for-oracle-database.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="requirements-upgrading-databases-that-use-oracle-label-security-and-oracle-database-vault.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Upgrade Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="tasks-prepare-upgrade-oracle-database.html" property="item" typeof="WebPage"><span property="name"> Preparing to Upgrade Oracle Database </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Testing the Upgrade Process for Oracle Database</li>
            </ol>
            <a id="GUID-DA291D0C-5680-48D3-90A8-CF4217577A6B" name="GUID-DA291D0C-5680-48D3-90A8-CF4217577A6B"></a>
            
            <h2 id="UPGRD-GUID-DA291D0C-5680-48D3-90A8-CF4217577A6B" class="sect2">Testing the Upgrade Process for Oracle Database</h2>
         </header>
         <div class="ind">
            <div>
               <p>Your test plan for Oracle Database upgrades should include these test procedures.</p>
               <p>Oracle recommends that you create a full working copy of your database environment in which to test all the pre-upgrade, upgrade, and post-upgrade processes. </p>
               <p>You can create a test environment that does not interfere with the current production Oracle database. Oracle Data Guard, for example, enables you to create physical and snapshot standby databases.</p>
               <p>Your test environment depends on the upgrade method you choose:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>If you plan to use DBUA or perform a manual upgrade, then create a test version of the current production database.</p>
                  </li>
                  <li>
                     <p>If you plan to use Data Pump Export/Import, then export and import in stages, using subsets of the current production database.</p>
                  </li>
               </ul>
               <p>Practice upgrading the database using the test environment. The best practice is to perform testing of the upgrade process on an exact copy of the database that you want to upgrade, rather than on a downsized copy or test data. If an exact copy is impractical, then carefully chose a representative subset of your data to move over to your test environment and test the upgrade on that data.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="testing-upgraded-production-oracle-database.html#GUID-1613B800-89C3-4FA9-898B-19B602B2F907">Example of Testing Upgrades Using Priority List Emulation</a><br>You can use the Parallel Upgrade Utility on multitenant architecture Oracle Databases to run upgrade emulations to test your priority list or other parameter settings before you run your upgrade. 
                  </li>
                  <li class="ulchildlink"><a href="testing-upgraded-production-oracle-database.html#GUID-DCDFE417-1D74-4154-B565-5E34E616E1BA">Upgrade Oracle Call Interface (OCI) and Precompiler Applications</a><br>Upgrade any Oracle Call Interface (OCI) and precompiler applications that you plan to use with the new release of Oracle Database. 
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-DA291D0C-5680-48D3-90A8-CF4217577A6B__GUID-DE70367C-EC19-41D5-B4F2-1B0E00A22E45">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="../ratug/testing-a-database-upgrade.html#RATUG210" target="_blank"><span class="italic">Oracle Database Testing Guide</span></a> for information about testing a database upgrade
                        </p>
                     </li>
                     <li>
                        <p><a href="../sutil/oracle-data-pump-overview.html#SUTIL100" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information on Data Pump Export and Import utilities
                        </p>
                     </li>
                     <li>
                        <p><a href="../sbydb/managing-oracle-data-guard-physical-standby-databases.html#SBYDB00700" target="_blank"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for information on physical and snapshot standby databases
                        </p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="tasks-prepare-upgrade-oracle-database.html#GUID-733D2563-A42D-4366-9FCD-DABD25D0E2DF" title="Complete preupgrade tasks and checks to assist you with completing a successful upgrade.">Preparing to Upgrade Oracle Database</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-1613B800-89C3-4FA9-898B-19B602B2F907" name="GUID-1613B800-89C3-4FA9-898B-19B602B2F907"></a><h3 id="UPGRD-GUID-1613B800-89C3-4FA9-898B-19B602B2F907" class="sect3">Example of Testing Upgrades Using Priority List Emulation</h3>
               <div>
                  <p>You can use the Parallel Upgrade Utility on multitenant architecture Oracle Databases to run upgrade emulations to test your priority list or other parameter settings before you run your upgrade. </p>
                  <p>On multitenant architecture Oracle Database systems, starting with Oracle Database 12<span class="italic">c</span> release 2 (12.2), you can use priority lists to upgrade or exclude specific PDBs, or to set a specific upgrade priority order. Running the Parallel Upgrade Utility using priority emulation is a way to test your priority list without actually running the upgrade. Use the Parallel Upgrade Utility emulation feature to test your upgrade plan using priority lists. 
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-1613B800-89C3-4FA9-898B-19B602B2F907__GUID-AB658875-6C79-42CC-AB7C-7B2EDB60AB81">Preparing for Upgrade Emulation Tests</p>
                     <p>Before you run the emulation, you must set up your source and target upgrade locations, and prepare your database in the same way you prepare for an actual upgrade. No upgrade actually occurs, but the Parallel Upgrade Utility generates log files that show how an actual upgrade is carried out.</p>
                     <div class="infoboxnote" id="GUID-1613B800-89C3-4FA9-898B-19B602B2F907__GUID-A1929698-28E5-4ED9-A8F6-04A14E2FE827">
                        <p class="notep1">Note:</p>
                        <p>You can use the <code class="codeph">-E</code> parameter to run the Parallel Upgrade Utility in emulation mode to test how priority lists run, or to test how other upgrade parameter selections are carried out during an upgrade. For example, you can run an upgrade emulation to obtain more information about how the resource allocation choices you make using the <code class="codeph">-n</code> and <code class="codeph">-N</code> parameters are carried out.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1613B800-89C3-4FA9-898B-19B602B2F907__GUID-52688916-F507-4716-B8D4-6694124312FF">Syntax for Running Priority List Emulation</p>
                     <p>You can use any of the parameter settings that you normally use with the Parallel Upgrade Utility, However, you must create a priority list, and you must use the <code class="codeph">-L</code> parameter to call the list when you run the Parallel Upgrade Utility with the <code class="codeph">-E</code> parameter to set it to perform an upgrade emulation. 
                     </p>
                     <p>The following is an example of the minimum required syntax for running the Parallel Upgrade Utility using priority list emulation, where <code class="codeph"><span class="variable" translate="no">priority_list_name</span></code> is the name of your priority list file:
                     </p><pre class="pre codeblock"><code>
catctl -E -L <span class="variable" translate="no">priority_list_name</span> catupgrd.sql</code></pre></div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-1613B800-89C3-4FA9-898B-19B602B2F907__GUID-2910999F-2157-4F21-B5A5-4DC3AA3949F6">
                     <p class="titleinexample">Example 2-6 Example of Running the Parallel Upgrade Utility using Priority List Emulation</p>
                     <p>The following example uses this priority list, which is named <code class="codeph">plist.txt</code>:
                     </p><pre class="pre codeblock"><code>1,CDB$ROOT
2,PDB$SEED
3,CDB1_PDB2
4,CDB1_PDB4
4,CDB1_PDB3
5,CDB1_PDB5
5,CDB1_PDB1</code></pre><p>The following command runs a parallel emulation, calling this priority list:</p><pre class="pre codeblock"><code>$ORACLE_HOME/perl/bin/perl catctl.pl -L plist.txt -E -n 4 -N 2 catupgrd.sql</code></pre><p>This command uses the following parameter settings:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">-E </code>specifies that Parallel Upgrade Utility runs the upgrade procedures in emulation mode. 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">-n 4</code> specifies that the upgrade allocates four processes to perform parallel upgrade operations. 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">-N 2</code> specifies that the upgrade runs two SQL processors to upgrade the PDBs. The maximum PDB upgrades running concurrently is the value of <code class="codeph">-n</code> divided by the value of <code class="codeph">-N</code>, so the upgrade runs no more than two concurrent PDB upgrades. 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">-L</code> specifies the priority list that the command reads to set upgrade priority. 
                           </p>
                        </li>
                     </ul>
                     <p>As the Parallel Upgrade Utility carries out the emulated upgrade, it displays on screen the same output that you see during an actual upgrade. </p>
                     <p>When the upgrade emulation completes, it generates a log file, <code class="codeph">catctl_prority_run.list</code>, which is stored either in the default logging directory, or in a logging directory location that you specify with the <code class="codeph">-l</code> parameter. Because in this example we did not specify a different log directory, and we are running the upgrade on the container database named <code class="codeph">CDB1</code>, the output is place in the path <code class="codeph"><span class="variable" translate="no">Oracle_base</span>/cfgtoollogs/CDB1/run</code>, where <code class="codeph"><span class="variable" translate="no">Oracle_base</span></code> is the Oracle base of the user running the upgrade, and <code class="codeph">CDB1</code> is the name of the container database (CDB) on which you are running the upgrade.
                     </p>
                     <p>The log file <code class="codeph">catctl_priority_run.lst</code> displays the list of how the upgrade priority was carried out during the upgrade emulation. It shows how the Parallel Upgrade Utility grouped PDB upgrades. You can see a priority run that contains the groupings and priorities before you actually carry out the upgrade. The log file generated by the upgrade is also displayed on the screen after the upgrade completes.
                     </p>
                     <p>At the conclusion of the upgrade log, the log will show that <code class="codeph">CDB$ROOT</code> is upgraded first. After the CDB$ROOT upgrade is completed, the Parallel Upgrade Utility carries out the following concurrent upgrades of PDBs, in accordance with the priority settings in the priority list:
                     </p>
                     <ol>
                        <li>
                           <p><code class="codeph">PDB$SEED</code> and <code class="codeph">CDB1_PDB2</code>. Output logs are generated with log ldentifiers (Log IDs) specified as <code class="codeph">pdb_seed</code> for <code class="codeph">PDB$SEED</code>, and log ID <code class="codeph">mayapdb2</code> for <code class="codeph">CDB_1PDB2</code>)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CDB1_PDB3</code> and <code class="codeph">CDB1_PDB4</code>. Log IDs are specified <code class="codeph">mayapdb3</code> and <code class="codeph">mayapdb4</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CDB1_PDB5</code> and <code class="codeph">CDB1_PDB6</code>. Log IDs are specified <code class="codeph">mayapdb5</code> and <code class="codeph">mayapdb6</code> 
                           </p>
                        </li>
                        <li><code class="codeph">CDB1_PDB1</code>. The log ID is specified as <code class="codeph">mayapdb1</code>. 
                        </li>
                     </ol>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="upgrading-parallel-upgrade-utility-catctl-pl.html#GUID-9E7E83CC-6A4B-4645-AEA8-AFE16337339E">About the Parallel Upgrade Utility for Oracle Database (CATCTL.PL and DBUPGRADE)</a></li>
                        <li><a href="upgrading-parallel-upgrade-utility-catctl-pl.html#GUID-C667B51C-058F-48B6-86FE-12E9D82FDDBD">Parallel Upgrade Utility (catctl.pl) Parameters</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="testing-upgraded-production-oracle-database.html#GUID-DA291D0C-5680-48D3-90A8-CF4217577A6B" title="Your test plan for Oracle Database upgrades should include these test procedures.">Testing the Upgrade Process for Oracle Database</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="UPGRD52882"></a><div class="props_rev_3"><a id="GUID-DCDFE417-1D74-4154-B565-5E34E616E1BA" name="GUID-DCDFE417-1D74-4154-B565-5E34E616E1BA"></a><h3 id="UPGRD-GUID-DCDFE417-1D74-4154-B565-5E34E616E1BA" class="sect3">Upgrade Oracle Call Interface (OCI) and Precompiler Applications</h3>
               <div>
                  <p>Upgrade any Oracle Call Interface (OCI) and precompiler applications that you plan to use with the new release of Oracle Database. </p>
                  <p>Oracle recommends that you test these applications on a test database before you upgrade your current production database.</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="-upgrade-precompiler-oci-apps-oracle-database.html#GUID-624A9128-1FD8-4CE6-B69A-97A6E4A4882E">About Upgrading Precompiler and OCI Applications in Oracle Database</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="testing-upgraded-production-oracle-database.html#GUID-DA291D0C-5680-48D3-90A8-CF4217577A6B" title="Your test plan for Oracle Database upgrades should include these test procedures.">Testing the Upgrade Process for Oracle Database</a></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>