<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Before you can use Oracle Database Quality of Service (QoS) Management, you must configure the databases.">
      <meta name="description" content="Before you can use Oracle Database Quality of Service (QoS) Management, you must configure the databases.">
      <title>Configuring Oracle Database QoS Management to Manage Oracle Database Workloads</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User’s Guide">
      <meta property="og:description" content="Before you can use Oracle Database Quality of Service (QoS) Management, you must configure the databases.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="autonomous-health-framework-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-21T23:14:30-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2016, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96320-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="installing-and-enabling-oracle-database-qos-management.html" title="Previous" type="text/html">
      <link rel="next" href="administering-oracle-database-qos-management-system.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Autonomous Health Framework User’s Guide">
    <meta name="dcterms.isVersionOf" content="ATNMS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="installing-and-enabling-oracle-database-qos-management.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="administering-oracle-database-qos-management-system.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User’s Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-database-qos-management.html" property="item" typeof="WebPage"><span property="name">Monitoring and Managing Database Workload Performance</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="installing-and-enabling-oracle-database-qos-management.html" property="item" typeof="WebPage"><span property="name">Installing and Enabling Oracle Database QoS Management</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Configuring Oracle Database QoS Management to Manage Oracle Database Workloads</li>
            </ol>
            <a id="GUID-DEFDB919-ED61-481D-9506-054A360AC44A" name="GUID-DEFDB919-ED61-481D-9506-054A360AC44A"></a>
            
            <h2 id="ATNMS-GUID-DEFDB919-ED61-481D-9506-054A360AC44A" class="sect2"><span class="enumeration_section">8.1 </span>Configuring Oracle Database QoS Management to Manage Oracle Database Workloads
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Before you can use Oracle Database Quality of Service (QoS) Management, you must configure the databases.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="configuring-qos-management-manage-db-workloads.html#GUID-955DFF5D-3CC0-46B5-AA4F-C7433E31582B">Configuring the Databases</a><br>When configuring the Oracle RAC databases to work with Oracle Database QoS Management, the server pool configuration tasks are not required for administrator-managed databases.
                  </li>
                  <li class="ulchildlink"><a href="configuring-qos-management-manage-db-workloads.html#GUID-9F9D8722-E5BC-4E99-B672-05AD27E66DBF">Installing and Configuring Oracle Grid Infrastructure for a Cluster</a><br>The installation and configuration of Oracle Grid Infrastructure for a cluster is not covered in this book.
                  </li>
                  <li class="ulchildlink"><a href="configuring-qos-management-manage-db-workloads.html#GUID-482B3CED-DA0C-4927-ADF2-8780AFF2D576">Creating and Configuring Server Pools</a><br>By default, a server pool called the Free pool is created during Oracle Grid Infrastructure installation.
                  </li>
                  <li class="ulchildlink"><a href="configuring-qos-management-manage-db-workloads.html#GUID-6C2FAA83-083E-459F-AEFE-FAD111137C43">Creating and Configuring an Oracle RAC Database</a><br>The steps for creating and configuring an Oracle RAC database are not covered in this book. 
                  </li>
                  <li class="ulchildlink"><a href="configuring-qos-management-manage-db-workloads.html#GUID-AB5916AE-7491-4A79-BC43-0C18FD1D4646">Creating Oracle Database QoS Management Administrator Accounts</a><br>Before logging in to the Oracle Database QoS Management Dashboard (the Dashboard), you must create an Oracle Database QoS Management administrative user. The operating system user associated with this account must be a cluster administrator user to initially set this up.
                  </li>
                  <li class="ulchildlink"><a href="configuring-qos-management-manage-db-workloads.html#GUID-B5239320-CA9F-43D5-A851-5AFEB913A52F">Enabling Oracle Database QoS Management</a><br>If you have multiple databases running on the same cluster, you can specify which databases are managed by Oracle QoS Management. 
                  </li>
                  <li class="ulchildlink"><a href="configuring-qos-management-manage-db-workloads.html#GUID-4F9526A9-9A9F-4A5E-A089-2220D31669FE">About Multi-CPU Binding on Solaris and Quality of Service Management</a><br>Using Multi-CPU Binding (MCB) and Oracle Database Quality of Service (QoS) Management together requires close communication between the system administrator and the database administrator (DBA).
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="installing-and-enabling-oracle-database-qos-management.html#GUID-4FC52AFD-2EDE-48F6-90E3-7DD0CFDA3624" title="This chapter describes the tasks you must complete to install and configure Oracle Database QoS Management on your system. Some of the tasks in this section must be performed by the cluster administrator.">Installing and Enabling Oracle Database QoS Management</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-955DFF5D-3CC0-46B5-AA4F-C7433E31582B" name="GUID-955DFF5D-3CC0-46B5-AA4F-C7433E31582B"></a><h3 id="ATNMS-GUID-955DFF5D-3CC0-46B5-AA4F-C7433E31582B" class="sect3"><span class="enumeration_section">8.1.1 </span>Configuring the Databases
               </h3>
               <div>
                  <p>When configuring the Oracle RAC databases to work with Oracle Database QoS Management, the server pool configuration tasks are not required for administrator-managed databases.</p>
                  <ol>
                     <li class="stepexpand"><span>For policy-managed databases, the database administrator (DBA) requests access to a server pool to be used for the database. The cluster administrator creates a server pool for the DBA and grants access to this server pool to the DBA. If the cluster administrator user is the same as the DBA user, then the server pool can be created at the time DBCA is run by selecting the Policy-managed option within DBCA. The server pool can also be created after installation by using Server Control (SRVCTL).</span><div>
                           <p>The minimum size of this server pool is the number of database instances. If the maximum size of the server pool is greater than the minimum size, then new instances can be added to the database to handle peak workloads or to accommodate growth.</p>
                           <p>For administrator-managed databases, the databases are automatically configured to run in the Generic server pool.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>For policy-managed databases, the DBA creates an Oracle RAC database in the allocated server pool by selecting the Policy-managed option within DBCA.</span></li>
                     <li class="stepexpand"><span>The DBA creates database services that are managed by Oracle Clusterware. The application users connect to the database using these services.</span></li>
                     <li class="stepexpand"><span>The DBA enables the database for Oracle Database QoS Management using Enterprise Manager Cloud Control.</span></li>
                  </ol>
                  <div class="section">
                     <p>The initial configuration tasks for the Oracle Database QoS Management administrator are covered in more detail in the following sections.</p>
                     <p>For Oracle Solaris platforms, there is an additional consideration.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="configuring-qos-management-manage-db-workloads.html#GUID-4F9526A9-9A9F-4A5E-A089-2220D31669FE" title="Using Multi-CPU Binding (MCB) and Oracle Database Quality of Service (QoS) Management together requires close communication between the system administrator and the database administrator (DBA).">About Multi-CPU Binding on Solaris and Quality of Service Management</a></li>
                        <li><a href="managing-performance-classes.html#GUID-29ADED46-F0D4-45A0-906D-85621AE36602" title="Each policy set contains one or more performance classes. Each performance class defines a type of workload on your servers.">Managing Performance Classes</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-qos-management-manage-db-workloads.html#GUID-DEFDB919-ED61-481D-9506-054A360AC44A" title="Before you can use Oracle Database Quality of Service (QoS) Management, you must configure the databases.">Configuring Oracle Database QoS Management to Manage Oracle Database Workloads</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-9F9D8722-E5BC-4E99-B672-05AD27E66DBF" name="GUID-9F9D8722-E5BC-4E99-B672-05AD27E66DBF"></a><h3 id="ATNMS-GUID-9F9D8722-E5BC-4E99-B672-05AD27E66DBF" class="sect3"><span class="enumeration_section">8.1.2 </span>Installing and Configuring Oracle Grid Infrastructure for a Cluster
               </h3>
               <div>
                  <p>The installation and configuration of Oracle Grid Infrastructure for a cluster is not covered in this book.</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-qos-management-manage-db-workloads.html#GUID-DEFDB919-ED61-481D-9506-054A360AC44A" title="Before you can use Oracle Database Quality of Service (QoS) Management, you must configure the databases.">Configuring Oracle Database QoS Management to Manage Oracle Database Workloads</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-482B3CED-DA0C-4927-ADF2-8780AFF2D576" name="GUID-482B3CED-DA0C-4927-ADF2-8780AFF2D576"></a><h3 id="ATNMS-GUID-482B3CED-DA0C-4927-ADF2-8780AFF2D576" class="sect3"><span class="enumeration_section">8.1.3 </span>Creating and Configuring Server Pools
               </h3>
               <div>
                  <p>By default, a server pool called the Free pool is created during Oracle Grid Infrastructure installation.</p>
                  <p>To create server pools for your Oracle RAC database, you can use SRVCTL or Oracle Enterprise Manager.</p>
                  <p>When you use DBCA to create an Oracle RAC database, Oracle recommends that you select policy-managed for the database, and choose the server pools which the database instances should run in. If you choose the create an administrator-managed Oracle RAC database, then the database runs exclusively in the Generic server pool, which is created during the installation of Oracle Grid Infrastructure.</p>
                  <p>If you use a cluster administrator that is separate from the database administrator, then only the cluster administrator user can create server pools. The cluster administrator then grants privileges on the server pools to the operating system user that owns the Oracle RAC installation.</p>
                  <div class="infoboxnote" id="GUID-482B3CED-DA0C-4927-ADF2-8780AFF2D576__GUID-BA424658-017D-4F59-9892-82A59D260A82">
                     <p class="notep1">Note:</p>When creating a server pool for use with Oracle Database QoS Management, do not configure the <code class="codeph">SERVER_NAMES</code> attribute (the <code class="codeph">-servers</code> option of <code class="codeph">srvctl add svrpool</code> or <code class="codeph">srvctl modify svrpool</code> commands) for the server pool. Full resource management is not supported in such a configuration because Oracle Database QoS Management cannot change server pool sizes. This is the same limitation that exists for resource management of administrator-managed databases.
                  </div>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-482B3CED-DA0C-4927-ADF2-8780AFF2D576__GUID-CF492EBD-D7DE-467D-81D5-B0D96A5F94C4">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../cwadd/policy-based-cluster-and-capacity-management.html#CWADD92105" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a> for information about server pools
                           </p>
                        </li>
                        <li>
                           <p><a href="../racad/server-control-utility-reference.html#RACAD7733" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for information about using SRVCTL to create a server pool
                           </p>
                        </li>
                        <li>
                           <p><a href="../rilin/selecting-dbca-options-to-create-oracle-rac-or-oracle-rac-one-node-databases-with-dbca.html#RILIN004" target="_blank"><span><cite>Oracle Real Application Clusters Installation Guide for Linux and UNIX</cite></span></a> for information about using DBCA to create an Oracle RAC database
                           </p>
                        </li>
                        <li>
                           <p><a href="../cwadd/oracle-clusterware-administration.html#CWADD-GUID-CAD9DDFE-1B4E-41BB-8029-3E9578639BD6" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a> for more information about the cluster administrator user.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-qos-management-manage-db-workloads.html#GUID-DEFDB919-ED61-481D-9506-054A360AC44A" title="Before you can use Oracle Database Quality of Service (QoS) Management, you must configure the databases.">Configuring Oracle Database QoS Management to Manage Oracle Database Workloads</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="APQOS155"></a><div class="props_rev_3"><a id="GUID-6C2FAA83-083E-459F-AEFE-FAD111137C43" name="GUID-6C2FAA83-083E-459F-AEFE-FAD111137C43"></a><h3 id="ATNMS-GUID-6C2FAA83-083E-459F-AEFE-FAD111137C43" class="sect3"><span class="enumeration_section">8.1.4 </span>Creating and Configuring an Oracle RAC Database
               </h3>
               <div>
                  <p>The steps for creating and configuring an Oracle RAC database are not covered in this book. </p>
                  <p>When creating a database, Oracle recommends that you choose to create a policy-managed Oracle RAC database and specify the server pools in which it should run. If you create an administrator-managed Oracle RAC database, then it runs exclusively in the Generic server pool.</p>
                  <p>After you have created the databases, perform the following steps to configure the databases for use with Oracle Database QoS Management:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-qos-management-manage-db-workloads.html#GUID-6CD3CC37-A396-4643-A435-9AF3ABA758AA">Modifying Database Initialization Parameters</a><br>The <code class="codeph">CPU_COUNT</code> parameter for each database instance that runs in a server pool must be set to the same value if the database is managed by Oracle Database QoS Management. 
                     </li>
                     <li class="ulchildlink"><a href="configuring-qos-management-manage-db-workloads.html#GUID-BF927C61-BF3A-4B58-9743-0E3D9DEB9218">Creating Database Services</a><br>Applications and users connect to the database using services.
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../rilin/selecting-dbca-options-to-create-oracle-rac-or-oracle-rac-one-node-databases-with-dbca.html#RILIN004" target="_blank"><span><cite>Oracle Real Application Clusters Installation Guide for Linux and UNIX</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-qos-management-manage-db-workloads.html#GUID-DEFDB919-ED61-481D-9506-054A360AC44A" title="Before you can use Oracle Database Quality of Service (QoS) Management, you must configure the databases.">Configuring Oracle Database QoS Management to Manage Oracle Database Workloads</a></p>
                     </div>
                  </div>
               </div><a id="APQOS365"></a><div class="props_rev_3"><a id="GUID-6CD3CC37-A396-4643-A435-9AF3ABA758AA" name="GUID-6CD3CC37-A396-4643-A435-9AF3ABA758AA"></a><h4 id="ATNMS-GUID-6CD3CC37-A396-4643-A435-9AF3ABA758AA" class="sect4"><span class="enumeration_section">8.1.4.1 </span>Modifying Database Initialization Parameters
                  </h4>
                  <div>
                     <p>The <code class="codeph">CPU_COUNT</code> parameter for each database instance that runs in a server pool must be set to the same value if the database is managed by Oracle Database QoS Management. 
                     </p>
                     <div class="section">
                        <p>On each server, the sum of the values for <code class="codeph">CPU_COUNT</code> for all database instances running on that server must be less than or equal to the physical CPU count. For example, if you have a server with eight CPUs, and there are two database instances running on this server, then, for the databases to be managed by Oracle Database QoS Management, the <code class="codeph">CPU_COUNT</code> parameter for each database instance must be set so that the values of the <code class="codeph">CPU_COUNT</code> parameters for all instances on the server add up to eight or less. For example, you could have <code class="codeph">CPU_COUNT=3</code> on one instance and <code class="codeph">CPU_COUNT=4</code> on the other instance, or <code class="codeph">CPU_COUNT=6</code> on one instance and <code class="codeph">CPU_COUNT=2</code> on the other instance.
                        </p>
                        <div class="infoboxnote" id="GUID-6CD3CC37-A396-4643-A435-9AF3ABA758AA__GUID-B2B1FB02-8433-4670-AED6-B00566D63AE2">
                           <p class="notep1">Note:</p>
                           <p>By default, the CPU count of each database that is started on a server is set to the number of physical CPUs installed for that server. </p>
                        </div>
                        <p>If you are running more than one database in a server pool, then using the default settings for <code class="codeph">CPU_COUNT</code> will cause Oracle Database QoS Management to report a violation. To avoid this error, manually configure the <code class="codeph">CPU_COUNT</code> value in the SPFILE using either Oracle Enterprise Manager or SQL*Plus.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ul>
                        <li class="stepexpand"><span>Use SQL*Plus to modify the <code class="codeph">CPU_COUNT</code> database initialization parameter for all instances of your Oracle RAC database:</span><div><pre class="pre codeblock"><code>ALTER SYSTEM SET cpu_count=<span class="italic">n</span> SCOPE=BOTH SID='*';
</code></pre></div>
                           <div>
                              <p>In the previous command, <span class="italic">n</span> is the number of CPUs that should be used by the database instances.
                              </p>
                              <p><code class="codeph">CPU_COUNT</code> is a dynamic parameter that is not set by default. It should be set to the maximum number of CPUs that the database instance should utilize at any time. The sum of the values of <code class="codeph">CPU_COUNT</code> for all instances on a server should not exceed the number of physical CPUs for that server. As a best practice, Oracle recommends using a minimum value of 2 for <code class="codeph">CPU_COUNT</code>.
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-qos-management-manage-db-workloads.html#GUID-6C2FAA83-083E-459F-AEFE-FAD111137C43" title="The steps for creating and configuring an Oracle RAC database are not covered in this book.">Creating and Configuring an Oracle RAC Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-BF927C61-BF3A-4B58-9743-0E3D9DEB9218" name="GUID-BF927C61-BF3A-4B58-9743-0E3D9DEB9218"></a><h4 id="ATNMS-GUID-BF927C61-BF3A-4B58-9743-0E3D9DEB9218" class="sect4"><span class="enumeration_section">8.1.4.2 </span>Creating Database Services
                  </h4>
                  <div>
                     <p>Applications and users connect to the database using services.</p>
                     <p>Details about creating database services are not included in this guide.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../racad/workload-management-with-dynamic-database-services.html#RACAD7124" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-qos-management-manage-db-workloads.html#GUID-6C2FAA83-083E-459F-AEFE-FAD111137C43" title="The steps for creating and configuring an Oracle RAC database are not covered in this book.">Creating and Configuring an Oracle RAC Database</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="APQOS282"></a><div class="props_rev_3"><a id="GUID-AB5916AE-7491-4A79-BC43-0C18FD1D4646" name="GUID-AB5916AE-7491-4A79-BC43-0C18FD1D4646"></a><h3 id="ATNMS-GUID-AB5916AE-7491-4A79-BC43-0C18FD1D4646" class="sect3"><span class="enumeration_section">8.1.5 </span>Creating Oracle Database QoS Management Administrator Accounts
               </h3>
               <div>
                  <p>Before logging in to the Oracle Database QoS Management Dashboard (the Dashboard), you must create an Oracle Database QoS Management administrative user. The operating system user associated with this account must be a cluster administrator user to initially set this up.</p>
                  <div class="section">
                     <p>The administrative user for the Oracle Database QoS Management server is referred to as the QoS Admin user. This user has access to all the features of the Oracle Database QoS Management server, including checking and changing the account password for the QoS Admin user. You can have multiple QoS Admin users. </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>As the cluster administrator user, log in to the node that is hosting the Oracle Database QoS Management server. This can be determined by using the following command from the Oracle Grid Infrastructure home: </span><div><pre class="pre codeblock"><code>srvctl status qosmserver
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Stop the Oracle Database QoS Management server resource.</span><div><pre class="pre codeblock"><code>srvctl stop qosmserver
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Log on as a CRS Administrator user and enter the following command:</span><div><pre class="pre codeblock"><code>qosctl qosadmin -setpasswd qosadmin
</code></pre><p>After you enter this command, you are prompted to enter the password of the default QoS Admin user one or more times.</p>
                           <p>If you want to use a different user name, then you would enter the following command:</p><pre class="pre codeblock"><code>qosctl qosadmin -adduser <span class="variable" translate="no">username</span>
</code></pre><p>In this example:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">qosadmin</code> is the name of the default QoS Admin user.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph"><span class="variable" translate="no">username</span></code> is the name of the QoS Admin user you are creating. You are prompted to enter a password for this user
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Restart the Oracle Database QoS Management server resource.</span><div><pre class="pre codeblock"><code>srvctl start qosmserver
</code></pre></div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="creating-administrative-users-qos-management.html#GUID-6C1BDA1B-A261-4E80-B48C-33075407E65E" title="QOSCTL is a command-line utility that allows you to perform certain configuration tasks for Oracle Database QoS Management.">QOSCTL Utility Reference</a></li>
                        <li><a href="creating-administrative-users-qos-management.html#GUID-56052150-E043-456E-A130-D903171C3C85" title="Oracle Database QoS Management provides a command line utility named QOSCTL to help you manage users.">Creating Administrative Users for Oracle Database QoS Management</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-qos-management-manage-db-workloads.html#GUID-DEFDB919-ED61-481D-9506-054A360AC44A" title="Before you can use Oracle Database Quality of Service (QoS) Management, you must configure the databases.">Configuring Oracle Database QoS Management to Manage Oracle Database Workloads</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="APQOS157"></a><div class="props_rev_3"><a id="GUID-B5239320-CA9F-43D5-A851-5AFEB913A52F" name="GUID-B5239320-CA9F-43D5-A851-5AFEB913A52F"></a><h3 id="ATNMS-GUID-B5239320-CA9F-43D5-A851-5AFEB913A52F" class="sect3"><span class="enumeration_section">8.1.6 </span>Enabling Oracle Database QoS Management
               </h3>
               <div>
                  <p>If you have multiple databases running on the same cluster, you can specify which databases are managed by Oracle QoS Management. </p>
                  <div class="section">
                     <p>You enable Oracle Database QoS Management in a hierarchical manner:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Measuring, monitoring, or managing the cluster</p>
                        </li>
                        <li>
                           <p>Measuring, monitoring, or managing individual databases that run on the cluster</p>
                        </li>
                     </ul>
                     <p>To manage a database, all the databases that use the same user-defined server pool must be enabled for Oracle Database QoS Management if:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>One or more Performance Classes in that user-defined server pool are not marked "Measure-Only" in the active policy</p>
                        </li>
                        <li>
                           <p>There are Performance Classes that include a service hosted by that database</p>
                        </li>
                     </ul>
                     <p>If you do not enable all the databases in the same user-defined server pool for Oracle Database QoS Management and any of the above conditions exist, then a violation is signaled when you try to access the Dashboard for the database. If all of the Performance Classes in the user-defined server pool are in measure&#x2013;only or monitor mode and none of the Performance Classes specify a hosted service, then there is no violation reported when accessing the Dashboard for the database.</p>
                     <div class="infoboxnote" id="GUID-B5239320-CA9F-43D5-A851-5AFEB913A52F__GUID-EA7AECB8-54D0-4283-B988-90A6C689BB27">
                        <p class="notep1">Note:</p>If you enable Oracle QoS Management to monitor or manage a container database (CDB), then all contained pluggable databases (PDBs) are monitored or managed as well. You cannot configure Oracle QoS Management to monitor or manage individual PDBs.
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>To enable Oracle QoS Management for your system, perform the following steps:</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-qos-management-manage-db-workloads.html#GUID-A3B7A59F-3D0B-4467-A56F-F318C3E7B966">Enable Oracle QoS Management at the Database Level</a><br></li>
                     <li class="ulchildlink"><a href="configuring-qos-management-manage-db-workloads.html#GUID-30E4E30E-67A2-4CE8-874C-98959D5F4280">Create an Initial Policy Set</a><br></li>
                     <li class="ulchildlink"><a href="configuring-qos-management-manage-db-workloads.html#GUID-A02A9A66-C8FC-4C8F-96A9-E09D32054AC0">Enable Oracle QoS Management at the Cluster Level</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-qos-management-manage-db-workloads.html#GUID-DEFDB919-ED61-481D-9506-054A360AC44A" title="Before you can use Oracle Database Quality of Service (QoS) Management, you must configure the databases.">Configuring Oracle Database QoS Management to Manage Oracle Database Workloads</a></p>
                     </div>
                  </div>
               </div>
               <a id="APQOS283"></a><div class="props_rev_3"><a id="GUID-A3B7A59F-3D0B-4467-A56F-F318C3E7B966" name="GUID-A3B7A59F-3D0B-4467-A56F-F318C3E7B966"></a><h4 id="ATNMS-GUID-A3B7A59F-3D0B-4467-A56F-F318C3E7B966" class="sect4"><span class="enumeration_section">8.1.6.1 </span>Enable Oracle QoS Management at the Database Level
                  </h4>
                  <div>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to Oracle Enterprise Manager Cloud Control as the database administrator. </span></li>
                        <li class="stepexpand"><span>From the Database targets page, select the database you want to modify.</span></li>
                        <li class="stepexpand"><span>Select <span class="bold">Availability</span>, then <span class="bold">Enable / Disable Quality of Service Management</span>.</span></li>
                        <li class="stepexpand"><span>Enter the Cluster and Database credentials, then click <span class="bold">Login</span>.</span><div>
                              <div class="infoboxnote" id="GUID-A3B7A59F-3D0B-4467-A56F-F318C3E7B966__GUID-38C991FA-11E9-4F6E-8D74-2820A46CF0BA">
                                 <p class="notep1">Note:</p>
                                 <p>To complete this step, you must specify the login information for both a SYSDBA and a cluster administrator account.</p>
                              </div>
                              <p>The Enable/Disable QoS Management screen is displayed.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>You are prompted to enter a password for the APPQOSSYS user. Choose a password and enter it in the Password and Confirm Password fields, then click OK. </span><div>
                              <p>When you provide a password, the following actions take place:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The APPQOSSYS account, which enables the Oracle Database QoS Management server to connect to the database, is unlocked and the new password is set.</p>
                                 </li>
                                 <li>
                                    <p>The credentials are written to an Oracle Wallet stored in the Oracle Cluster Registry to enable Oracle Database QoS Management to log in to the database.</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span><code class="codeph">APPQOS_PLAN</code> is set as the active Oracle Database Resource Manager plan for all actively managed databases, so that Oracle Database QoS Management can adjust CPU access for Performance Classes. The APPQOS_PLAN is not required for databases where all their Performance Classes are checked Measure-Only.</span><div></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-qos-management-manage-db-workloads.html#GUID-B5239320-CA9F-43D5-A851-5AFEB913A52F" title="If you have multiple databases running on the same cluster, you can specify which databases are managed by Oracle QoS Management.">Enabling Oracle Database QoS Management</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="APQOS284"></a><div class="props_rev_3"><a id="GUID-30E4E30E-67A2-4CE8-874C-98959D5F4280" name="GUID-30E4E30E-67A2-4CE8-874C-98959D5F4280"></a><h4 id="ATNMS-GUID-30E4E30E-67A2-4CE8-874C-98959D5F4280" class="sect4"><span class="enumeration_section">8.1.6.2 </span>Create an Initial Policy Set
                  </h4>
                  <div>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>On the Oracle Enterprise Manager Cloud Control All Targets page, select the cluster on which your cluster database that has Oracle Database QoS Management enabled runs.</span></li>
                        <li class="stepexpand"><span>Select <span class="bold">Administration</span>, then <span class="bold">Quality of Service Management</span>, then <span class="bold">Create Policy Set</span>.</span><div>
                              <div class="figure" id="GUID-30E4E30E-67A2-4CE8-874C-98959D5F4280__GUID-EA816970-11FE-4F81-9FC4-FB0C16D8E9FA"><img src="img/create_policy_set_menu.png" alt="Description of create_policy_set_menu.png follows" title="Description of create_policy_set_menu.png follows" longdesc="img_text/create_policy_set_menu.html"><br><a href="img_text/create_policy_set_menu.html">Description of the illustration create_policy_set_menu.png</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>Log in to the Oracle Database QoS Management Server using the QoS Management administrator password (default user name is <code class="codeph">qosadmin</code>).</span></li>
                        <li class="stepexpand"><span>On the first page of the Create Policy Set wizard, check the Manage box next to the server pools that represent your database. For example, <code class="codeph">online</code> and <code class="codeph">backoffice</code>. Click <span class="bold">Next</span>.</span><div>
                              <div class="figure" id="GUID-30E4E30E-67A2-4CE8-874C-98959D5F4280__GUID-903A99E7-B972-46FA-A4F0-2043FB221F07"><img src="img/apqos_create_polset.png" alt="Description of apqos_create_polset.png follows" title="Description of apqos_create_polset.png follows" longdesc="img_text/apqos_create_polset.html"><br><a href="img_text/apqos_create_polset.html">Description of the illustration apqos_create_polset.png</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>To get started with Oracle Database QoS Management, accept the defaults for your initial configuration and click <span class="bold">Next</span> on each page of the wizard to use the Default Policy Settings. On the fifth step, click <span class="bold">Set Policy</span> to set the DefaultPolicy as the Chosen Active Policy, then click <span class="bold">Next</span>.</span><div>
                              <p>On the last step of the Create Policy Set Wizard, click <span class="bold">Submit Policy Set</span>.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-qos-management-manage-db-workloads.html#GUID-B5239320-CA9F-43D5-A851-5AFEB913A52F" title="If you have multiple databases running on the same cluster, you can specify which databases are managed by Oracle QoS Management.">Enabling Oracle Database QoS Management</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="APQOS285"></a><div class="props_rev_3"><a id="GUID-A02A9A66-C8FC-4C8F-96A9-E09D32054AC0" name="GUID-A02A9A66-C8FC-4C8F-96A9-E09D32054AC0"></a><h4 id="ATNMS-GUID-A02A9A66-C8FC-4C8F-96A9-E09D32054AC0" class="sect4"><span class="enumeration_section">8.1.6.3 </span>Enable Oracle QoS Management at the Cluster Level
                  </h4>
                  <div>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Using Oracle Enterprise Manager Cloud Control, on the All Targets page, select the cluster on which your cluster database that has Oracle Database QoS Management enabled runs.</span></li>
                        <li class="stepexpand"><span>Select <span class="bold">Administration</span>, then <span class="bold">Quality of Service Management</span>, then <span class="bold">Dashboard</span>.</span></li>
                        <li class="stepexpand"><span>Log in as the Oracle Database QoS Management user (for example, <code class="codeph">qosadmin</code>).</span></li>
                        <li class="stepexpand"><span>On the Dashboard page, the General section shows the current status of Oracle Database QoS Management. On a new system, the status is Disabled. Click the link <span class="bold">Disabled</span> next to the status to enable Oracle Database QoS Management for this cluster.</span><div>
                              <div class="figure" id="GUID-A02A9A66-C8FC-4C8F-96A9-E09D32054AC0__GUID-04622DF9-01FF-44C7-95ED-8C4BE0734BEA"><img src="img/qos_cluster_status_new_12c.gif" alt="Description of qos_cluster_status_new_12c.gif follows" title="Description of qos_cluster_status_new_12c.gif follows" longdesc="img_text/qos_cluster_status_new_12c.html"><br><a href="img_text/qos_cluster_status_new_12c.html">Description of the illustration qos_cluster_status_new_12c.gif</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-qos-management-manage-db-workloads.html#GUID-B5239320-CA9F-43D5-A851-5AFEB913A52F" title="If you have multiple databases running on the same cluster, you can specify which databases are managed by Oracle QoS Management.">Enabling Oracle Database QoS Management</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-4F9526A9-9A9F-4A5E-A089-2220D31669FE" name="GUID-4F9526A9-9A9F-4A5E-A089-2220D31669FE"></a><h3 id="ATNMS-GUID-4F9526A9-9A9F-4A5E-A089-2220D31669FE" class="sect3"><span class="enumeration_section">8.1.7 </span>About Multi-CPU Binding on Solaris and Quality of Service Management
               </h3>
               <div>
                  <p>Using Multi-CPU Binding (MCB) and Oracle Database Quality of Service (QoS) Management together requires close communication between the system administrator and the database administrator (DBA).</p>
                  <p>Multi-CPU binding (MCB) is an Oracle Solaris projects resource management functionality that is used to bind a project to a specific set of CPUs, but not bind the CPUs exclusively. MCB allows other processes also to use these CPUs and allows overlapping of partitions. MCB is supported on Oracle Solaris 11.3. Control groups (CGroups) on Linux systems is another system administrator methods of managing server resources by allocating CPU and server resources to specific applications.</p>
                  <p>MCB has no impact on the use of Oracle Database Quality of Service (QoS) Management when used in measure and monitor mode. When you use Oracle Database Quality of Service (QoS) Management in management mode for a group of servers, there are four resource controls that Oracle QoS Management currently supports:</p>
                  <ol>
                     <li>
                        <p><span class="bold">Consumer Group Mappings</span>: CPU shares between competing workloads within a Non-CDB or PDB.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Container Database (CDB) Resource Plans</span>: CPU Shares between competing PDBs within a CDB
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Instance Caging</span>: CPUs/Threads between co-hosted database instances
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Server Pool Cardinality</span>: number of servers in a server pool offering the database
                        </p>
                     </li>
                  </ol>
                  <p>MCB becomes a problem with regards to instance caging because it is possible for Oracle Database Quality of Service (QoS) Management to recommend a change in <code class="codeph">CPU_COUNT</code> that would not be honored by the operating system. If the recommended action is implemented in this situation, there would probably still be some improvement to the target workload because the donor database would lose a CPU. This would cause Resource Manager to not schedule as many parallel sessions which would help out when hard partitioning is not used. However, the projected performance improvement would be overstated.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-qos-management-manage-db-workloads.html#GUID-DEFDB919-ED61-481D-9506-054A360AC44A" title="Before you can use Oracle Database Quality of Service (QoS) Management, you must configure the databases.">Configuring Oracle Database QoS Management to Manage Oracle Database Workloads</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>