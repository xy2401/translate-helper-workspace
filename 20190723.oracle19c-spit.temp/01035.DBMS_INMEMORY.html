<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_INMEMORY package provides an interface for In-Memory Column Store (IM column store) functionality.">
      <meta name="description" content="The DBMS_INMEMORY package provides an interface for In-Memory Column Store (IM column store) functionality.">
      <title>DBMS_INMEMORY</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_INMEMORY package provides an interface for In-Memory Column Store (IM column store) functionality.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_ILM_ADMIN.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_INMEMORY_ADMIN.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_ILM_ADMIN.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_INMEMORY_ADMIN.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_INMEMORY</li>
            </ol>
            <a id="GUID-2333DC40-794B-434B-9B1F-9A0AF8356515" name="GUID-2333DC40-794B-434B-9B1F-9A0AF8356515"></a><a id="ARPLS75022"></a><a id="ARPLS75022"></a>
            
            <h2 id="ARPLS-GUID-2333DC40-794B-434B-9B1F-9A0AF8356515" class="sect2"><span class="enumeration_chapter">85 </span> DBMS_INMEMORY
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_INMEMORY</code> package provides an interface for In-Memory Column Store (IM column store) functionality.
               </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_INMEMORY.html#GUID-632D1342-78AD-4B6F-96E3-3A9D4819F2BC" title="This package contains procedures for populating and repopulating the IM column store, and for dropping IM expressions from a specified table.">DBMS_INMEMORY Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_INMEMORY.html#GUID-93D1CD15-66D9-446E-BF3E-BACD9797E935" title="The DBMS_INMEMORY package subprograms execute with invokerâ€™s rights.">DBMS_INMEMORY Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_INMEMORY.html#GUID-74D95DFA-BB53-4B51-BECD-0D5310C95671" title="This table lists and briefly describes the DBMS_INMEMORY package subprograms.">Summary of DBMS_INMEMORY Subprograms</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-632D1342-78AD-4B6F-96E3-3A9D4819F2BC" name="GUID-632D1342-78AD-4B6F-96E3-3A9D4819F2BC"></a><h3 id="ARPLS-GUID-632D1342-78AD-4B6F-96E3-3A9D4819F2BC" class="sect3"><span class="enumeration_section">85.1 </span>DBMS_INMEMORY Overview
               </h3>
               <div>
                  <p>This package contains procedures for populating and repopulating the IM column store, and for dropping IM expressions from a specified table.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-632D1342-78AD-4B6F-96E3-3A9D4819F2BC__GUID-65E86429-A676-41D1-BC5D-0E062E7DACC0">IM Population and Repopulation</p>
                     <p>In-Memory population (population) occurs when the database reads existing row-format data from disk, transforms it into columnar format, and then stores it in the IM column store. Only objects with the <code class="codeph">INMEMORY</code> attribute are eligible for population.
                     </p>
                     <p>Population, which transforms existing data on disk into columnar format, is different from repopulation, which loads new data into the IM column store. Repopulation occurs automatically after their columnar data undergo significant DML activity.</p>
                     <p>When an object has the <code class="codeph">INMEMORY</code> attribute and a priority other than <code class="codeph">NONE</code>, the database gradually populates the object in the IM column store according to an internal priority queue. Objects with priority of <code class="codeph">NONE</code> are populated only when they undergo a full scan. 
                     </p>
                     <p>The <code class="codeph">DBMS_INMEMORY.POPULATE</code> procedure forces immediate population of an object. The <code class="codeph">DBMS_INMEMORY.POPULATE_WAIT</code> function forces population of objects that meet specified priority criteria, and also specifies a timeout interval within which populate must complete. The <code class="codeph">DBMS_INMEMORY.REPOPULATE</code> procedure forces immediate repopulation of an object.
                     </p>
                     <div class="infoboxnotealso" id="GUID-632D1342-78AD-4B6F-96E3-3A9D4819F2BC__GUID-EF7D35C5-C224-4C09-AF94-E7371C26E096">
                        <p class="notep1">See Also:</p>
                        <p><a href="../inmem/populating-objects-in-memory.html#GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0" target="_blank"><span><cite>Oracle Database In-Memory Guide</cite></span></a> to learn more about IM population
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-632D1342-78AD-4B6F-96E3-3A9D4819F2BC__GUID-93AD067D-2C67-4EEF-8430-0D133B8AE94D">IM Expressions</p>
                     <p>IM expressions populate frequently evaluated query expressions in the IM column store for subsequent reuse. An IM expression is materialized as a hidden virtual column, prefixed with the string <code class="codeph">SYS_IME</code>, and is accessed in the same way as a non-virtual column.
                     </p>
                     <p>When you use <code class="codeph">DBMS_INMEMORY_ADMIN.IME_CAPTURE_EXPRESSIONS</code>, the database adds the 20 hottest expressions to their respective tables as <code class="codeph">SYS_IME</code> columns and applies the default <code class="codeph">INMEMORY</code> column compression clause. If any <code class="codeph">SYS_IME</code> columns that were added during a previous invocation are no longer in the latest expression list, then the database changes their attribute to <code class="codeph">NO INMEMORY</code>. 
                     </p>
                     <p>The maximum number of <code class="codeph">SYS_IME</code> columns for a table, regardless of whether the attribute is <code class="codeph">INMEMORY</code> or <code class="codeph">NO INMEMORY</code>, is 50. After the 50 expression limit is reached for a table, the database will not add new <code class="codeph">SYS_IME</code> columns. To make space for new expressions, you must manually drop <code class="codeph">SYS_IME</code> columns with the <code class="codeph">DBMS_INMEMORY.IME_DROP_EXPRESSIONS</code> or <code class="codeph">DBMS_INMEMORY_ADMIN.IME_DROP_ALL_EXPRESSIONS</code> procedures.
                     </p>
                     <div class="infoboxnotealso" id="GUID-632D1342-78AD-4B6F-96E3-3A9D4819F2BC__ORACLEDATABASEIN-MEMORYGUIDETOLEARN-1B5BC31B">
                        <p class="notep1">See Also:</p>
                        <p><a href="../inmem/optimizing-in-memory-expressions.html#GUID-1B849DAF-277E-4B09-8275-367592115B06" target="_blank"><span><cite>Oracle Database In-Memory Guide</cite></span></a> to learn more about IM expressions
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-93D1CD15-66D9-446E-BF3E-BACD9797E935" name="GUID-93D1CD15-66D9-446E-BF3E-BACD9797E935"></a><h3 id="ARPLS-GUID-93D1CD15-66D9-446E-BF3E-BACD9797E935" class="sect3"><span class="enumeration_section">85.2 </span>DBMS_INMEMORY Security Model
               </h3>
               <div>
                  <p>The DBMS_INMEMORY package subprograms execute with invokerâ€™s rights.</p>
                  <div class="section">
                     <p>The <code class="codeph">POPULATE</code> and <code class="codeph">REPOPULATE</code> procedures require the invoking user to have <code class="codeph">SELECT</code> privileges on the specified object. For <code class="codeph">IME_DROP_EXPRESSIONS</code>, the invoking user must have <code class="codeph">ALTER TABLE</code> privileges on the specified table.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS75023"></a><a id="ARPLS75028"></a><a id="ARPLS75028"></a><a id="ARPLS75023"></a><div class="props_rev_3"><a id="GUID-74D95DFA-BB53-4B51-BECD-0D5310C95671" name="GUID-74D95DFA-BB53-4B51-BECD-0D5310C95671"></a><h3 id="ARPLS-GUID-74D95DFA-BB53-4B51-BECD-0D5310C95671" class="sect3"><span class="enumeration_section">85.3 </span>Summary of DBMS_INMEMORY Subprograms
               </h3>
               <div>
                  <p>This table lists and briefly describes the <code class="codeph">DBMS_INMEMORY</code> package subprograms.
                  </p>
                  <div class="tblformal" id="GUID-74D95DFA-BB53-4B51-BECD-0D5310C95671__GUID-A9AFB5B0-7BAB-46A9-B362-01520BC43C38">
                     <p class="titleintable">Table 85-1 DBMS_INMEMORY Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_INMEMORY Package Subprograms" summary="This table lists and briefly describes the DBMS_INMEMORY package subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d476199e507">Subprogram</th>
                              <th align="left" valign="bottom" width="70%" id="d476199e510">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d476199e515" headers="d476199e507 ">
                                 <p><a href="DBMS_INMEMORY.html#GUID-F6699783-90CD-4411-AD54-1DADBD8E2BFD" title="This procedure drops a specified set of SYS_IME virtual columns from a table.">IME_DROP_EXPRESSIONS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d476199e515 d476199e510 ">
                                 <p>Drops a specified set of <code class="codeph">SYS_IME</code> virtual columns from a table
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d476199e532" headers="d476199e507 ">
                                 <p><a href="DBMS_INMEMORY.html#GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629" title="This procedure forces population of the specified table, partition, or subpartition into the IM column store.">POPULATE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d476199e532 d476199e510 ">
                                 <p>Forces population of the specified table</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d476199e543" headers="d476199e507 ">
                                 <p><a href="DBMS_INMEMORY.html#GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2" title="This function initiates population of all INMEMORY objects that have a priority greater than or equal to the specified priority, and returns a status value for the population. A user-specified interval specifies the maximum time that the function waits before returning the value to the caller.">POPULATE_WAIT Function</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d476199e543 d476199e510 ">
                                 <p>Initiates population of all <code class="codeph">INMEMORY</code> objects that have a priority greater than or equal to the specified priority, and sets a timeout interval within which population must occur
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d476199e562" headers="d476199e507 ">
                                 <p><a href="DBMS_INMEMORY.html#GUID-DE324946-9889-49A6-A379-4ACEEF99C184" title="This procedure forces repopulation of a table, partition, or subpartition that is currently populated in the IM column store.">REPOPULATE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d476199e562 d476199e510 ">
                                 <p>Forces repopulation of the specified table</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d476199e573" headers="d476199e507 ">
                                 <p><a href="DBMS_INMEMORY.html#GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174" title="This procedure deallocates non-current IMCUs in the IM column store.">SEGMENT_DEALLOCATE_VERSIONS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d476199e573 d476199e510 ">
                                 <p>Deallocates <span>non-current IMCUs in the IM column store</span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div class="sect3"><a id="GUID-F6699783-90CD-4411-AD54-1DADBD8E2BFD" name="GUID-F6699783-90CD-4411-AD54-1DADBD8E2BFD"></a><h4 id="ARPLS-GUID-F6699783-90CD-4411-AD54-1DADBD8E2BFD" class="sect4"><span class="enumeration_section">85.3.1 </span>IME_DROP_EXPRESSIONS Procedure
                  </h4>
                  <div>
                     <p>This procedure drops a specified set of <code class="codeph">SYS_IME</code> virtual columns from a table.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F6699783-90CD-4411-AD54-1DADBD8E2BFD__GUID-922CDBAB-C356-4C7B-82C1-C6E5113EB752">Syntax</p><pre class="pre codeblock"><code>DBMS_INMEMORY.IME_DROP_EXPRESSIONS(
   schema_name    IN    VARCHAR2,
   table_name     IN    VARCHAR2,
   column_name    IN    VARCHAR2 DEFAULT NULL);
</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F6699783-90CD-4411-AD54-1DADBD8E2BFD__GUID-51ED3852-F732-4D7F-8564-3FCB78422BA1">Parameters</p>
                        <div class="tblformal" id="GUID-F6699783-90CD-4411-AD54-1DADBD8E2BFD__GUID-5C3D3D6F-FBEC-4D90-B2B6-1CF3E801A7CD">
                           <p class="titleintable">Table 85-2 IME_DROP_EXPRESSIONS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IME_DROP_EXPRESSIONS Procedure Parameters" summary="This table describes the parameters of DBMS_INMEMOR.IME_DROP_EXPRESSIONS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d476199e697">Parameter</th>
                                    <th align="left" valign="bottom" width="80%" id="d476199e700">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d476199e705" headers="d476199e697 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d476199e705 d476199e700 ">
                                       <p>The name of the schema that contains the In-Memory table </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d476199e713" headers="d476199e697 ">
                                       <p><code class="codeph">table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d476199e713 d476199e700 ">
                                       <p>The name of the In-Memory table that contains the <code class="codeph">SYS_IME</code> columns
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d476199e724" headers="d476199e697 ">
                                       <p><code class="codeph">column_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d476199e724 d476199e700 ">
                                       <p>The name of the <code class="codeph">SYS_IME</code> column. By default this value is null, which specifies all <code class="codeph">SYS_IME</code> columns in this table.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F6699783-90CD-4411-AD54-1DADBD8E2BFD__GUID-FD9C7A05-E5F9-42F0-B084-F638E7D5AFE0">Usage Notes</p>
                        <p>Typical reasons for dropping <code class="codeph">SYS_IME</code> columns are space and performance. The maximum number of <code class="codeph">SYS_IME</code> columns for a table, regardless of whether the attribute is <code class="codeph">INMEMORY</code> or <code class="codeph">NO INMEMORY</code>, is 50. After the 50-expression limit is reached for a table, the database will not add new <code class="codeph">SYS_IME</code> columns. To make space for new expressions, you must manually drop <code class="codeph">SYS_IME</code> columns with the <code class="codeph">DBMS_INMEMORY.IME_DROP_EXPRESSIONS</code> or <code class="codeph">DBMS_INMEMORY_ADMIN.IME_DROP_ALL_EXPRESSIONS</code> procedures.
                        </p>
                        <p>To drop a specified <code class="codeph">SYS_IME</code> column or all <code class="codeph">SYS_IME</code> columns in the requested table, use <code class="codeph">DBMS_INMEMORY.IME_DROP_EXPRESSIONS</code> . To populate these segments again, either invoke the <code class="codeph">DBMS_INMEMORY.POPULATE</code> procedure, or perform a full table scan.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS75024"></a><a id="ARPLS75025"></a><a id="ARPLS75025"></a><a id="ARPLS75024"></a><div class="props_rev_3"><a id="GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629" name="GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629"></a><h4 id="ARPLS-GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629" class="sect4"><span class="enumeration_section">85.3.2 </span>POPULATE Procedure
                  </h4>
                  <div>
                     <p>This procedure forces population of the specified table, partition, or subpartition into the IM column store.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629__GUID-C3498FF4-5F09-4E9D-97A7-431657D04244">Syntax </p><pre class="pre codeblock"><code>DBMS_INMEMORY.POPULATE(
   schema_name      IN    VARCHAR2,
   table_name       IN    VARCHAR2,
   subobject_name   IN    VARCHAR2 DEFAULT NULL);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629__GUID-AB3A689F-8D55-48B5-88E2-565FA9BA1D2A">Parameters</p>
                        <div class="tblformal" id="GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629__GUID-7916A4A1-AA93-4FE7-A6FA-7BB987D60336">
                           <p class="titleintable">Table 85-3 <span class="italic"><span class="bold">POPULATE Procedure Parameters</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="POPULATE Procedure Parameters" summary="This table describes the parameters of the DBMS_INMEMORY.POPULATE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d476199e898">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d476199e901">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e906" headers="d476199e898 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e906 d476199e901 ">
                                       <p>Name of schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e914" headers="d476199e898 ">
                                       <p><code class="codeph">table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e914 d476199e901 ">
                                       <p>Name of table</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e922" headers="d476199e898 ">
                                       <p><code class="codeph">subobject_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e922 d476199e901 ">
                                       <p>Partition or subpartition</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2" name="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2"></a><h4 id="ARPLS-GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2" class="sect4"><span class="enumeration_section">85.3.3 </span>POPULATE_WAIT Function
                  </h4>
                  <div>
                     <p>This function <span>initiates population of all <code class="codeph">INMEMORY</code> objects that have a priority greater than or equal to the specified priority, and returns a status value for the population. A user-specified interval specifies the maximum time that the function waits before returning the value to the caller.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2__GUID-1569BE4D-5429-471F-8F50-ECA1D233AA9A">Syntax</p><pre class="pre codeblock"><code>DBMS_INMEMORY.POPULATE_WAIT(
   priority    IN    VARCHAR2 DEFAULT 'LOW',
   percentage  IN    NUMBER   DEFAULT 100,
   timeout     IN    NUMBER   DEFAULT 99999999,
   force       IN    VARCHAR2 DEFAULT FALSE)
RETURN VARCHAR2;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2__GUID-95D9FD02-79BE-474C-9571-6D52E2E37292">Parameters</p>
                        <div class="tblformal" id="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2__GUID-7916A4A1-AA93-4FE7-A6FA-7BB987D60336">
                           <p class="titleintable">Table 85-4 POPULATE_WAIT Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="POPULATE_WAIT Function Parameters" summary="This table describes the parameters of the DBMS_INMEMORY.POPULATE_WAIT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d476199e1044">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d476199e1047">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e1052" headers="d476199e1044 ">
                                       <p><code class="codeph">priority</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e1052 d476199e1047 ">
                                       <p>Specifies that the database populate all <code class="codeph">INMEMORY</code> objects with the specified priority setting or higher. The default priority is <code class="codeph">LOW</code>.
                                       </p>
                                       <p><code class="codeph">NONE</code> is considered lowest priority. If you set to <code class="codeph">priority</code> to <code class="codeph">NONE</code>, then this function waits for all <code class="codeph">INMEMORY</code> objects to populate.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e1079" headers="d476199e1044 ">
                                       <p><code class="codeph">percentage</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e1079 d476199e1047 ">
                                       <p>Specifies the percentage of population required for the function to consider population to be complete. The default is <code class="codeph">100</code>.
                                       </p>
                                       <p>For example, if <code class="codeph">percentage</code> is <code class="codeph">50</code> and <code class="codeph">priority</code> is <code class="codeph">NONE</code>, and if 50% of the <code class="codeph">INMEMORY</code> objects are populated in the IM column store, then the function returns the value <code class="codeph">0</code> (population successful).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e1111" headers="d476199e1044 ">
                                       <p><code class="codeph">timeout</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e1111 d476199e1047 ">
                                       <p>Specifies the number of seconds that must pass before the function returns <code class="codeph">-1</code>, which indicates that the populate operation timed out. The default is <code class="codeph">99999999</code> seconds, which is 115.74 days.
                                       </p>
                                       <p>Assume that <code class="codeph">timeout</code> is <code class="codeph">600</code>, <code class="codeph">priority</code> is <code class="codeph">LOW</code>, and <code class="codeph">percentage</code> is <code class="codeph">100</code>. If 10 minutes pass, but all <code class="codeph">PRIORITY LOW</code> objects are not yet fully populated, then the function returns <code class="codeph">-1</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e1152" headers="d476199e1044 ">
                                       <p><code class="codeph">force</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e1152 d476199e1047 ">
                                       <p>Specifies that the database should drop all <code class="codeph">INMEMORY</code> segments that have a priority greater than or equal than the specified priority, and then repopulate these segments. The default is <code class="codeph">FALSE</code>.
                                       </p>
                                       <p>Assume that the <code class="codeph">INMEMORY</code> attribute applies to the <code class="codeph">sales</code> table, which is partitioned. Only half the <code class="codeph">sales</code> partitions are currently populated in the IM column store. If you execute <code class="codeph">POPULATE_WAIT</code> with <code class="codeph">force</code> set to <code class="codeph">TRUE</code>, then the database drops all <code class="codeph">sales</code> segments, and then repopulates them.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2__GUID-8015E83C-8526-4323-BFEF-35C112776AEB">Return Values</p>
                        <p>The following table describes the possible return values for <code class="codeph">POPULATE_WAIT</code>. The function returns the values <code class="codeph">0</code>, <code class="codeph">1</code>, <code class="codeph">2</code>, and <code class="codeph">3</code> only if the condition is met before the end of the interval specified by <code class="codeph">timeout</code>. For example, if <code class="codeph">timeout</code> is <code class="codeph">600</code>, then the function returns <code class="codeph">1</code> only if an out-of-memory error occurs before 600 seconds pass. The function returns <code class="codeph">-1</code> only if the end of the timeout interval occurs <span class="italic">before</span> the database completes the requested operation.
                        </p>
                        <div class="tblformal" id="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2__GUID-8631EBE0-7ECD-4246-9745-0831769F7C6E">
                           <p class="titleintable">Table 85-5 Return Values for POPULATE_WAIT</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d476199e1237">Constant</th>
                                    <th align="left" valign="bottom" id="d476199e1239">Value</th>
                                    <th align="left" valign="bottom" id="d476199e1241">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d476199e1245" headers="d476199e1237 ">
                                       <p><code class="codeph">POPULATE_TIMEOUT</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1245 d476199e1239 ">
                                       <p><code class="codeph">-1</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1245 d476199e1241 ">
                                       <p>The function timed out while waiting for population to complete.</p>
                                       <p>Existing population jobs continue running in the background after <code class="codeph">-1</code> is returned. Reissuing <code class="codeph">POPULATE_TIMEOUT</code> after <code class="codeph">-1</code> is returned reinitiates population; segments that are already populated are not dropped.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d476199e1268" headers="d476199e1237 ">
                                       <p><code class="codeph">POPULATE_SUCCESS</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1268 d476199e1239 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1268 d476199e1241 ">
                                       <p>All objects that met the <code class="codeph">priority</code> criteria were populated to the specified <code class="codeph">percentage</code> of completion.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d476199e1286" headers="d476199e1237 ">
                                       <p><code class="codeph">POPULATE_OUT_OF_MEMORY</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1286 d476199e1239 ">
                                       <p><code class="codeph">1</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1286 d476199e1241 ">
                                       <p>The In-Memory pool had insufficient memory to populate the objects that met the <code class="codeph">priority</code> criteria to the specified <code class="codeph">percentage</code> of completion.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d476199e1304" headers="d476199e1237 ">
                                       <p><code class="codeph">POPULATE_NO_INMEMORY_OBJECTS</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1304 d476199e1239 ">
                                       <p><code class="codeph">2</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1304 d476199e1241 ">
                                       <p>No <code class="codeph">INMEMORY</code> objects met the specified <code class="codeph">priority</code> criteria.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d476199e1322" headers="d476199e1237 ">
                                       <p><code class="codeph">POPULATE_INMEMORY_SIZE_ZERO</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1322 d476199e1239 ">
                                       <p><code class="codeph">3</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1322 d476199e1241 ">
                                       <p>The In-Memory column store is not enabled.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2__GUID-4E372D33-B6B4-48A5-B537-1A35DDE98553">Usage Notes</p>
                        <p>Sample use cases for ensuring that objects are populated include:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When the database is closed, open the database with <code class="codeph">STARTUP RESTRICT</code> so that only administrators can access the database, and then execute <code class="codeph">POPULATE_WAIT</code> with the desired timeout setting. If <code class="codeph">POPULATE_WAIT</code> returns <code class="codeph">-1</code>, indicating a timeout, then reexecute <code class="codeph">POPULATE_WAIT</code>. When the function returns <code class="codeph">0</code>, disable the restricted session so that non-administrative users can query the database.
                              </p>
                           </li>
                           <li>
                              <p>Block database connections by using services or an application tier technique. When no analytic indexes exists, and when the application depends on the IM column store to provide reasonable performance, these techniques prevent runaway queries.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2__GUID-757FFA08-5D09-4C27-838D-C5D2CC695BBA">
                        <p class="titleinexample">Example 85-1 Specifying a Timeout Interval for In-Memory Population</p>
                        <p>In this example, the database contains a number of In-Memory tables with a variety of priority settings. Your goal is to populate <span class="italic">every</span> In-Memory table to 100% completion in a restricted database session, and then disable the restricted session so that the application can be guaranteed of querying only the In-Memory representations.
                        </p>
                        <p>Assume that the database is shut down. In SQL*Plus, you connect to an idle instance as <code class="codeph">SYSDBA</code>, and then execute the following command (sample output included):
                        </p><pre class="pre codeblock"><code>SQL&gt; STARTUP RESTRICT
ORACLE instance started.

Total System Global Area 1157624280 bytes
Fixed Size                  8839640 bytes
Variable Size             754974720 bytes
Database Buffers           16777216 bytes
Redo Buffers                7933952 bytes
In-Memory Area            369098752 bytes
Database mounted.
Database opened.
</code></pre><p>The database is open, but is accessible only to administrative users. You execute the following statements in SQL*Plus (sample output shown in bold):</p><pre class="pre codeblock"><code>VARIABLE b_pop_status NUMBER

SELECT DBMS_INMEMORY_ADMIN.POPULATE_WAIT(
         priority   =&gt; 'NONE' ,
         percentage =&gt; 100    ,
         timeout    =&gt; 300    )
  INTO b_pop_status
FROM   DUAL;

PRINT b_pop_status
<span class="bold">-1</span></code></pre><p>After 5 minutes, the function returns the number <code class="codeph">&#x2013;1</code>. This code indicates that the function timed out while waiting for population to complete. 5 minutes is not long enough to populate all <code class="codeph">INMEMORY</code> tables. You re-execute the <code class="codeph">SELECT</code> statement, specifying a 30-minute timeout:
                        </p><pre class="pre codeblock"><code>SELECT DBMS_INMEMORY_ADMIN.POPULATE_WAIT(
         priority   =&gt; 'NONE' ,
         percentage =&gt; 100    ,
         timeout    =&gt; 1800   )
  INTO b_pop_status
FROM   DUAL;

PRINT b_pop_status
<span class="bold">0</span></code></pre><p>After 8 minutes, the function returns the number <code class="codeph">0</code>. This code indicates that all tables are completely populated. You now disable the restricted session so that the application can start query In-Memory objects with full confidence that only In-Memory representations will be accessed:
                        </p><pre class="pre codeblock"><code>ALTER SYSTEM DISABLE RESTRICTED SESSION;</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ARPLS75026"></a><a id="ARPLS75027"></a><a id="ARPLS75027"></a><a id="ARPLS75026"></a><div class="props_rev_3"><a id="GUID-DE324946-9889-49A6-A379-4ACEEF99C184" name="GUID-DE324946-9889-49A6-A379-4ACEEF99C184"></a><h4 id="ARPLS-GUID-DE324946-9889-49A6-A379-4ACEEF99C184" class="sect4"><span class="enumeration_section">85.3.4 </span>REPOPULATE Procedure
                  </h4>
                  <div>
                     <p>This procedure forces repopulation of a table, partition, or subpartition that is currently populated in the IM column store.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DE324946-9889-49A6-A379-4ACEEF99C184__GUID-641C3749-6F39-427A-96F6-DC247BFE181C">Syntax </p><pre class="pre codeblock"><code>DBMS_INMEMORY.REPOPULATE(
   schema_name      IN    VARCHAR2,
   table_name       IN    VARCHAR2,
   subobject_name   IN    VARCHAR2 DEFAULT NULL,
   force            IN    BOOLEAN DEFAULT FALSE);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE324946-9889-49A6-A379-4ACEEF99C184__GUID-291FF38C-C0D3-49A8-B0A8-405764666069">Parameters</p>
                        <div class="tblformal" id="GUID-DE324946-9889-49A6-A379-4ACEEF99C184__GUID-5061AFE0-3CCC-43C3-8982-74E693122F07">
                           <p class="titleintable">Table 85-6 REPOPULATE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPOPULATE Procedure Parameters" summary="This table describes the parameters of the DBMS_INMEMORY.REPOPULATE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d476199e1521">Parameter</th>
                                    <th align="left" valign="bottom" width="70%" id="d476199e1524">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d476199e1529" headers="d476199e1521 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d476199e1529 d476199e1524 ">
                                       <p>Name of the schema that owns the object.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d476199e1537" headers="d476199e1521 ">
                                       <p><code class="codeph">table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d476199e1537 d476199e1524 ">
                                       <p>Name of the table requiring repopulation.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d476199e1545" headers="d476199e1521 ">
                                       <p><code class="codeph">subobject_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d476199e1545 d476199e1524 ">
                                       <p>Name of the partition or subpartition. If null, then repopulate the entire table.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d476199e1553" headers="d476199e1521 ">
                                       <p><code class="codeph">force</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d476199e1553 d476199e1524 ">
                                       <p>Whether to repopulate all IMCUs in the segment, just as in initial population.</p>
                                       <p>The following values are possible for the <code class="codeph">force</code> parameter:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">FALSE</code> â€” The database repopulates only IMCUs containing modified rows. This is the default.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TRUE</code> â€” The database drops the segment, and then rebuilds it. The database increments the statistics and performs all other tasks related to initial population.
                                             </p>
                                          </li>
                                       </ul>
                                       <p>For example, IMCU 1 contains rows 1 to 500,000, and IMCU 2 contains rows 500,001 to 1,000,000. A statement modifies row 600,000. When <code class="codeph">force</code> is <code class="codeph">FALSE</code>, the database only repopulates IMCU 2. When <code class="codeph">force</code> is <code class="codeph">TRUE</code>, the database repopulates both IMCUs.
                                       </p>
                                       <p>Consider further that the <code class="codeph">INMEMORY_VIRTUAL_COLUMNS</code> initialization parameter is set to <code class="codeph">ENABLE</code>, and an application creates a new virtual column. When <code class="codeph">force</code> is <code class="codeph">FALSE</code>, the database only repopulates IMCU 2 with the new column. When <code class="codeph">force</code> is <code class="codeph">TRUE</code>, the database repopulates both IMCUs with the new column.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174" name="GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174"></a><h4 id="ARPLS-GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174" class="sect4"><span class="enumeration_section">85.3.5 </span>SEGMENT_DEALLOCATE_VERSIONS Procedure
                  </h4>
                  <div>
                     <p>This procedure deallocates <span>non-current IMCUs in the IM column store</span>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174__SYNTAX-421CEDF9">Syntax </p><pre class="pre codeblock"><code>DBMS_INMEMORY.SEGMENT_DEALLOCATE_VERSIONS(
   SCHEMA_NAME      IN  VARCHAR2,
   TABLE_NAME       IN  VARCHAR2,
   PARTITION_NAME   IN  VARCHAR2 DEFAULT NULL,
   SPCPRESSURE      IN  BOOLEAN DEFAULT FALSE);
</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174__GUID-74B8B6BF-40A8-4506-8390-1B6B8FD6BE1D">Parameters</p>
                        <div class="tblformal" id="GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174__GUID-366C54E3-A24C-425F-AEB5-54EAA33179D9">
                           <p class="titleintable">Table 85-7 SEGMENT_DEALLOCATE_VERSIONS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SEGMENT_DEALLOCATE_VERSIONS Procedure Parameters" summary="This table describes the parameters of the DBMS_INMEMORY.SEGMENT_DEALLOCATE_VERSIONS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d476199e1725">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d476199e1728">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e1733" headers="d476199e1725 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e1733 d476199e1728 ">
                                       <p>Name of the schema that owns the object.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e1741" headers="d476199e1725 ">
                                       <p><code class="codeph">table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e1741 d476199e1728 ">
                                       <p>Name of the table requiring repopulation.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e1749" headers="d476199e1725 ">
                                       <p><code class="codeph">partition_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e1749 d476199e1728 ">
                                       <p>Name of the partition or subpartition. If null, then repopulate the entire table.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e1757" headers="d476199e1725 ">
                                       <p><code class="codeph">spcpressure</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e1757 d476199e1728 ">
                                       <p>Whether to force deallocation of non-current IMCUs (<code class="codeph">TRUE</code>), or wait for the database to deallocate them automatically. By default, the database deallocates non-current IMCUs every two minutes.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174__GUID-3629387B-D832-4100-A91B-ECEC3022DEA2">Usage Notes</p>
                        <p>During repopulation, the IM column store maintains both the current IMCU and non-current IMCU. This mechanism, which is called <span class="italic">double buffering</span>, ensures that queries do not decrease performance because an IMCU is unavailable during repopulation. After repopulation completes, the IM column store retains the non-current IMCU for a short time (2 minutes by default) to optimize queries with older SCNs. Typically, the default behavior is sufficient. However, you can force deallocation of non-current IMCUs by using the <code class="codeph">SEGMENT_DEALLOCATE_VERSIONS</code> procedure.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174__GUID-78736994-EC3F-4B8E-A1EA-6F8B5A4B8961">Example</p>
                        <p>The following program forces deallocation of non-current IMCUs for the <code class="codeph">products</code> table:
                        </p><pre class="pre codeblock"><code>BEGIN
  DBMS_INMEMORY.SEGMENT_DEALLOCATE_VERSIONS( 
    schema_name =&gt; 'SH'
  , table_name  =&gt; 'PRODUCTS'
  , spcpressure =&gt; TRUE );
END;</code></pre><div class="infoboxnotealso" id="GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174__GUID-B78EF664-358D-4723-8536-8E13C6EB7101">
                           <p class="notep1">See Also:</p>
                           <p><a href="../inmem/repopulation-and-dml.html#GUID-B3C7EF3A-4AD0-48D2-9E72-F4EAB8129DF1" target="_blank"><span><cite>Oracle Database In-Memory Guide</cite></span></a> to learn more about double buffering in the IM column store
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>