<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>CONNECT</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Backup and Recovery Reference">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Backup and Recovery Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-backup-and-recovery-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T19:31:58-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96242-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="CONFIGURE.html" title="Previous" type="text/html">
      <link rel="next" href="CONVERT.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery Reference">
    <meta name="dcterms.isVersionOf" content="RCMRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CONFIGURE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="CONVERT.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Backup and Recovery Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="rman-commands-at-sign-to-quit.html" property="item" typeof="WebPage"><span property="name"> RMAN Commands: @ (at sign) to QUIT</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CONNECT</li>
            </ol>
            <a id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67" name="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67"></a><a id="RCMRF90606"></a><a id="RCMRF90096"></a><a id="RCMRF90097"></a><a id="RCMRF90098"></a><a id="RCMRF90099"></a><a id="RCMRF90607"></a><a id="RCMRF90608"></a><a id="RCMRF114"></a>
            
            <h2 id="RCMRF-GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67" class="sect2"><span class="enumeration_section">2.10 </span>CONNECT
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__GUID-8426F444-BCCA-4EA7-BA45-01D0A6CE10E8">Purpose</p>
                  <p>Use the <code class="codeph">CONNECT</code> command to establish a connection between RMAN and a target, auxiliary, or recovery catalog database.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__GUID-7D2F9FBC-4637-4D33-9B04-3762E739E7F0">Prerequisites</p>
                  <p><a id="d35027e116" class="indexterm-anchor"></a><a id="d35027e118" class="indexterm-anchor"></a><a id="d35027e122" class="indexterm-anchor"></a>RMAN connections to a database are specified and authenticated in the same way as SQL*Plus connections to a database. The only difference is that RMAN connections to a target or auxiliary database require the <code class="codeph">SYSBACKUP</code> or <code class="codeph">SYSDBA</code> privilege.
                  </p>
                  <div class="infoboxnotealso" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__GUID-C06D7FDC-E811-403D-A295-48D02448CB97">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../admin/getting-started-with-database-administration.html#ADMIN-GUID-7842AF72-DA25-4559-A8E7-9883D0C63BF2" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn about database connection options when using SQL*Plus
                           </p>
                        </li>
                        <li>
                           <p><a href="../bradv/starting-interacting-with-rman-client.html#BRADV8123" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> to learn about using the <code class="codeph">SYSBACKUP</code> administrative privilege
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnote" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__GUID-97BD7008-DB46-4871-BADD-0FF78D7654DC">
                     <p class="notep1">Caution:</p>
                     <p>Good security practice requires that passwords are not entered in plain text on the command line. Enter passwords in RMAN only when requested by an RMAN prompt. See <a href="../dbseg/configuring-authentication.html#DBSEG0032" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn about password protection.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__GUID-2BF3D52A-F5BD-4945-BF7D-E98BAC2C63BD">
                     <p class="notep1">See Also:</p>
                     <p><code class="codeph"><a href="RMAN.html#GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7">RMAN</a></code> for command-line connection options
                     </p>
                  </div>
                  <p><a id="d35027e169" class="indexterm-anchor"></a><a id="d35027e171" class="indexterm-anchor"></a>You can only run the <code class="codeph">CONNECT TARGET</code>, <code class="codeph">CONNECT CATALOG</code>, and <code class="codeph">CONNECT AUXILIARY</code> commands at the RMAN prompt and only if RMAN is not already connected to the databases specified by these commands. To connect to a different target, catalog, or auxiliary database you must start a new RMAN session.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__CHDGAAIC">
                  <p class="subhead1" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__GUID-BF726E90-9811-44F8-B308-559005D7FB3D">Usage Notes</p>
                  <p>An RMAN session runs in <code class="codeph">NOCATALOG</code> mode by default if all of the following conditions are met:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You did not specify <code class="codeph">CATALOG</code> or <code class="codeph">NOCATALOG</code> when you started <code class="codeph"><a href="RMAN.html#GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7">RMAN</a></code>.
                        </p>
                     </li>
                     <li>
                        <p>You have not yet run <code class="codeph">CONNECT CATALOG</code> in an RMAN session.
                        </p>
                     </li>
                     <li>
                        <p>You run a command such as <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> that requires an RMAN repository connection (as shown in <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__CHDFCBJG">Example 2-61</a>).
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG"><span class="bold">Connecting to CDBs and PDBs</span><a id="d35027e227" class="indexterm-anchor"></a><a id="d35027e231" class="indexterm-anchor"></a><a id="d35027e235" class="indexterm-anchor"></a><a id="d35027e239" class="indexterm-anchor"></a></p>
                  <p>RMAN provides full support for performing backup and recovery operations in a multitenant environment. The multitenant architecture enables an Oracle Database to function as a multitenant container database (CDB) that includes zero, one, or many customer-created pluggable databases (PDBs). The process of establishing an RMAN connection to a CDB or PDB is similar to that of non-CDBs. You can use either operating system authentication or password file authentication.</p>
                  <div class="infoboxnotealso" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__GUID-3A42B8B0-EDC4-4953-A5AA-F42D5523D038">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../multi/introduction-to-the-multitenant-architecture.html#CNCPT89234" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> for information about multitenant architecture concepts
                           </p>
                        </li>
                        <li>
                           <p><a href="../multi/overview-of-managing-a-multitenant-environment.html#ADMIN13507" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for information about managing a multitenant environment
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>To connect to a CDB, you connect to the root as a common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege.
                  </p>
                  <p>To connect to a PDB, you can connect either as a common user or a local user. The user creating the connection must have the privileges described in <span class="q">"<a href="connectStringSpec.html#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD">connectStringSpec</a>"</span>.
                  </p>
                  <p>To perform operations on the whole CDB or the root, you connect as <code class="codeph">TARGET</code> to the root. The user creating the connection must be a common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege. To perform operations on multiple PDBs, connect as <code class="codeph">TARGET</code> to the root. The user creating the connection must be a common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege. To perform operations on a PDB, you can connect as <code class="codeph">TARGET</code> either to the root or to the PDB.
                  </p>
                  <div class="infoboxnotealso" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__GUID-F11DA1ED-ED91-47DE-8BF8-1EE0FD1A0B90">
                     <p class="notep1">See Also:</p>
                     <p><a href="../bradv/starting-interacting-with-rman-client.html#BRADV-GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> for additional information about connecting to CDBs and PDBs
                     </p>
                     <p> </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__GUID-DD438269-7343-4C20-A013-17F87923D774">Syntax</p>
                  <p><span class="bold"><span class="italic">connect</span>::=</span></p>
                  <div class="figure" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__GUID-A00968F4-49CF-4AC0-8822-31D78936501F"><img src="img/connect.gif" alt="Description of connect.eps follows" title="Description of connect.eps follows" longdesc="img_text/connect.html"><br><a href="img_text/connect.html">Description of the illustration connect.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="connectStringSpec.html#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__BABHGJJD">connectStringSpec::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__GUID-C306F70A-3039-4916-983E-594E8255E0A4">Semantics</p>
                  <div class="tblformalwide" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__GUID-DBBF2747-90E8-40E9-8176-CC68C0D3FED4">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes CONNECT command parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d35027e340">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d35027e343">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d35027e348" headers="d35027e340 ">
                                 <p><code class="codeph">CONNECT&nbsp;AUXILIARY</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d35027e348 d35027e343 ">
                                 <p>Establishes a connection between RMAN and an auxiliary database instance. </p>
                                 <p>Auxiliary instances are used with the <code class="codeph"><a href="TRANSPORT-TABLESPACE.html#GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D">TRANSPORT TABLESPACE</a></code> and <code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4">DUPLICATE</a></code> commands, and during RMAN TSPITR.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d35027e368" headers="d35027e340 ">
                                 <p><code class="codeph">CONNECT&nbsp;CATALOG</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d35027e368 d35027e343 ">
                                 <p>Establishes a connection between RMAN and a recovery catalog database.</p>
                                 <p>If the recovery catalog is a virtual private catalog (see <code class="codeph"><a href="CREATE-CATALOG.html#GUID-9CFE47C7-2273-48C4-8056-6A4042AF3CDC">CREATE CATALOG</a></code>), then the RMAN client connecting to this catalog must be at patch level 10.1.0.6 or 10.2.0.3. Oracle9<span class="italic">i</span> RMAN clients cannot connect to a virtual private catalog. This version restriction does not affect RMAN client connections to an Oracle Database 11<span class="italic">g</span> base recovery catalog, even if it has some virtual private catalog users.
                                 </p>
                                 <p>RMAN issues an <a id="d35027e390" class="indexterm-anchor"></a><a id="d35027e392" class="indexterm-anchor"></a><code class="codeph">RMAN-06445</code> error if you attempt to use the <code class="codeph">CONNECT CATALOG</code> command in an RMAN session when RMAN is in the default <code class="codeph">NOCATALOG</code> mode (see <span class="q">"<a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__CHDGAAIC">Usage Notes</a>"</span>).
                                 </p>
                                 <p><span class="bold">Note:</span> You must use RMAN with a recovery catalog in a Data Guard environment.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d35027e414" headers="d35027e340 ">
                                 <p><code class="codeph">CONNECT&nbsp;TARGET</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d35027e414 d35027e343 ">
                                 <p>Establishes a connection between RMAN and a target database.</p>
                                 <p><span class="bold">Note:</span> RMAN can connect to physical standby databases as <code class="codeph">TARGET</code> in a Data Guard environment. If you run <code class="codeph">CONNECT TARGET</code> for a database that has a <code class="codeph">DB_UNIQUE_NAME</code> that is unknown to the recovery catalog, but the DBID identifies a registered database, then RMAN automatically and implicitly registers the database in the recovery catalog.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d35027e435" headers="d35027e340 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;</code> <span class="italic"><code class="codeph"><a href="connectStringSpec.html#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD">connectStringSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d35027e435 d35027e343 ">
                                 <p>Specifies the connection information for the database.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__GUID-1012EDF8-7D4D-4EE7-8045-55FC5364E416">Examples</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__GUID-B1F7F252-C3AB-42EF-84E4-9F7563E63302">
                  <p class="titleinexample">Example 2-60 Connecting to a Target Database Without a Recovery Catalog</p>
                  <p>This example starts RMAN in <code class="codeph">NOCATALOG</code> mode and then connects to the target database with an Oracle Net service name <code class="codeph">prod1</code>. <code class="codeph">sbu</code> is a user who is granted the  <code class="codeph">SYSBACKUP</code> privilege.
                  </p><pre class="oac_no_warn" dir="ltr">% rman NOCATALOG
RMAN&gt; CONNECT TARGET "sbu@prod1 AS SYSBACKUP";

target database Password: <span class="italic">password</span>
connected to target database: PROD1 (DBID=39525561)</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__CHDFCBJG">
                  <p class="titleinexample">Example 2-61 Connecting to a Target Database in the Default NOCATALOG Mode</p>
                  <p>This example starts RMAN without specifying either <code class="codeph">CATALOG</code> or <code class="codeph">NOCATALOG</code> and then uses operating system authentication to connect to a target database with operating system authentication. Because no <code class="codeph">CONNECT CATALOG</code> command has been run, RMAN defaults to <code class="codeph">NOCATALOG</code> mode when you run the <code class="codeph">BACKUP</code> command.
                  </p><pre class="oac_no_warn" dir="ltr">% rman
RMAN&gt; CONNECT TARGET /
RMAN&gt; BACKUP DATABASE;
</pre><p>At this point in the RMAN session, you cannot run <code class="codeph">CONNECT CATALOG</code> because the session has defaulted to <code class="codeph">NOCATALOG</code> mode. An attempt to connect to the catalog in this session receives an error:
                  </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; CONNECT CATALOG rco@catdb

RMAN-00571: ===========================================================
RMAN-00569: =============== ERROR MESSAGE STACK FOLLOWS ===============
RMAN-00571: ===========================================================
<a id="d35027e505" class="indexterm-anchor"></a><a id="d35027e507" class="indexterm-anchor"></a>RMAN-06445: cannot connect to recovery catalog after NOCATALOG has been used</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__GUID-A1F8F4C2-8D7B-4D22-B705-2812A33D415D">
                  <p class="titleinexample">Example 2-62 Connecting to Target, Recovery Catalog, and Auxiliary Databases</p>
                  <p>This example connects to a target database with operating system authentication and connects to the recovery catalog and auxiliary databases with password files. <code class="codeph">sbu</code> is a user who is granted the <code class="codeph">SYSBACKUP</code> privilege. RMAN prompts for the password.
                  </p><pre class="oac_no_warn" dir="ltr">% rman
RMAN&gt; CONNECT TARGET;

connected to target database: PROD (DBID=39525561)

RMAN&gt; CONNECT CATALOG rco@catdb;
 
recovery catalog database Password: <span class="italic">password</span>
connected to recovery catalog database

RMAN&gt; CONNECT AUXILIARY "sbu@dupdb AS SYSBACKUP";

auxiliary database Password: <span class="italic">password</span>
connected to auxiliary database: DUPDB (not mounted)</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__GUID-F7F46094-1A25-4108-B4DD-1A28C2FEBDDA">
                  <p class="titleinexample">Example 2-63 Connecting to the Root Using Operating System Authentication</p>
                  <p>This example connects to the root in a CDB using operating system authentication. By default, the connection is established using <code class="codeph">SYSDBA</code> privilege.
                  </p><pre class="oac_no_warn" dir="ltr">%rman
RMAN&gt; CONNECT TARGET /
</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__GUID-855A23B7-EB98-41A3-88EB-2DE682A0C521">
                  <p class="titleinexample">Example 2-64 Connecting to a PDB as a Local User</p>
                  <p>This example connects to the PDB <code class="codeph">hr_pdb</code> as the local user <code class="codeph">sbu_pdb</code> who is granted the <code class="codeph">SYSBACKUP</code> privilege on the <code class="codeph">hr_pdb</code> PDB. <code class="codeph">hrpdb</code> is the net service name corresponding to the PDB <code class="codeph">hr_pdb</code>.
                  </p><pre class="oac_no_warn" dir="ltr">%rman
RMAN&gt; CONNECT TARGET "sbu_pdb@hrpdb AS SYSBACKUP";
</pre></div>
               <!-- class="example" -->
            </div>
         </div>
      </article>
   </body>
</html>