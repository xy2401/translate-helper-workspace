<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Use of Overloading in PL/SQL with Inheritance</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Object-Relational Developer's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Object-Relational Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="object-relational-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T02:05:10-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96436-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="object-manipulation-in-plsql.html" title="Previous" type="text/html">
      <link rel="next" href="using-dynamic-sql-with-objects.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Object-Relational Developer's Guide">
    <meta name="dcterms.isVersionOf" content="ADOBJ">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="object-manipulation-in-plsql.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-dynamic-sql-with-objects.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Object-Relational Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-pl-sql-with--object-types.html" property="item" typeof="WebPage"><span property="name"> Using PL/SQL With Object Types</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Use of Overloading in PL/SQL with Inheritance  </li>
            </ol>
            <a id="GUID-B6212BB9-3314-4EE4-B587-AADFC72F1166" name="GUID-B6212BB9-3314-4EE4-B587-AADFC72F1166"></a><a id="ADOBJ7187"></a><a id="ADOBJ7186"></a>
            
            <h2 id="ADOBJ-GUID-B6212BB9-3314-4EE4-B587-AADFC72F1166" class="sect2"><span class="enumeration_section">3.3 </span>Use of Overloading in PL/SQL with Inheritance  
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Overloading allows you to substitute a subtype value for a formal parameter that is a supertype. This capability is known as substitutability. </p>
               <p>The following rules are about overloading and substitutability.</p>
               <div class="section">
                  <p class="subhead1" id="GUID-B6212BB9-3314-4EE4-B587-AADFC72F1166__GUID-A9576CA1-ACF2-44EB-90C3-D23222A8586B">Rules of Substitution</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>If more than one instance of an overloaded procedure matches the procedure call, the following substitution rules determine which procedure, if any, is called:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If the signatures of the overloaded procedures only differ in that some parameters are object types from the same supertype-subtype hierarchy, the closest match is used. The closest match is one where all the parameters are at least as close as any other overloaded instance, as determined by the depth of inheritance between the subtype and supertype, and at least one parameter is closer.</p>
                     </li>
                     <li>
                        <p>If instances of two overloaded methods match, and some argument types are closer in one overloaded procedure while others are closer in the second procedure, a semantic error occurs.</p>
                     </li>
                     <li>
                        <p>If some parameters differ in their position within the object type hierarchy, and other parameters are of different data types so that an implicit conversion would be necessary, then a semantic error occurs.</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div><a id="ADOBJ7188"></a><div class="props_rev_3"><a id="GUID-6700105F-2BB6-4DF2-B3EA-AEDA7096FFC6" name="GUID-6700105F-2BB6-4DF2-B3EA-AEDA7096FFC6"></a><h3 id="ADOBJ-GUID-6700105F-2BB6-4DF2-B3EA-AEDA7096FFC6" class="sect3"><span class="enumeration_section">3.3.1 </span>Resolving PL/SQL Functions with Inheritance
               </h3>
               <div>
                  <div class="section">
                     <p>Resolving PL/SQL functions with inheritance follows the rules of substitution.</p>
                     <p><a href="use-of-overloading-in-plsql-with-inheritance.html#GUID-6700105F-2BB6-4DF2-B3EA-AEDA7096FFC6__CHDCJCFD">Example 3-9</a> creates a type hierarchy that has three levels starting with <code class="codeph">super_t</code>. There is a package with two overloaded instances of a function that are the same except for the position of the argument type in the type hierarchy. The invocation declares a variable of type <code class="codeph">final_t</code>, and then calls the overloaded function. 
                     </p>
                     <p>The instance of the function that executes is the one that accepts a <code class="codeph">sub_t</code> parameter, because <code class="codeph">sub_t</code> is closer to <code class="codeph">final_t</code> than <code class="codeph">super_t</code> in the hierarchy. This follows the rules of substitution.
                     </p>
                     <p>Note that because determining which instance to call happens at compile time, the fact that the argument passed in was also a <code class="codeph">final_t</code> is ignored. If the declaration was <code class="codeph">v</code> <code class="codeph">super_t</code> <code class="codeph">:=</code> <code class="codeph">final_t(1,2,3)</code>, the overloaded function with the argument <code class="codeph">super_t</code> would be called. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-6700105F-2BB6-4DF2-B3EA-AEDA7096FFC6__CHDCJCFD">
                     <p class="titleinexample">Example 3-9 Resolving PL/SQL Functions With Inheritance</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE TYPE super_t AS OBJECT
  (n NUMBER) NOT final;
/
CREATE OR REPLACE TYPE sub_t UNDER super_t
  (n2 NUMBER) NOT final;
/
CREATE OR REPLACE TYPE <span class="bold">final_t</span> UNDER sub_t
  (n3 NUMBER);
/
CREATE OR REPLACE PACKAGE p IS
   FUNCTION func (arg super_t) RETURN NUMBER;
   FUNCTION func (<span class="bold">arg sub_t</span>) RETURN NUMBER;
END;
/
CREATE OR REPLACE PACKAGE BODY p IS
   FUNCTION func (arg super_t) RETURN NUMBER IS BEGIN RETURN 1; END;
   FUNCTION func (<span class="bold">arg sub_t</span>) RETURN NUMBER IS BEGIN RETURN 2; END;
END;
/

DECLARE
  <span class="bold">v final_t := final_t(1,2,3)</span>;
BEGIN
  DBMS_OUTPUT.PUT_LINE(p.func(v));  -- prints 2
END;
/</pre><div class="infoboxnotealso" id="GUID-6700105F-2BB6-4DF2-B3EA-AEDA7096FFC6__GUID-1018306F-7E9F-4ED2-BBF4-F589487210FF">
                        <p class="notep1">See Also:</p>
                        <p>See <a href="use-of-overloading-in-plsql-with-inheritance.html#GUID-B6212BB9-3314-4EE4-B587-AADFC72F1166">Use of Overloading in PL/SQL with Inheritance</a></p>
                     </div>
                  </div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADOBJ7189"></a><div class="props_rev_3"><a id="GUID-AAF4B656-2A72-4357-BE20-2E738876C360" name="GUID-AAF4B656-2A72-4357-BE20-2E738876C360"></a><h3 id="ADOBJ-GUID-AAF4B656-2A72-4357-BE20-2E738876C360" class="sect3"><span class="enumeration_section">3.3.2 </span>Resolving PL/SQL Functions with Inheritance Dynamically
               </h3>
               <div>
                  <div class="section">
                     <p>Dynamically resolving PL/SQL functions with inheritance follows the rules of substitution.</p>
                     <p>See <a href="use-of-overloading-in-plsql-with-inheritance.html#GUID-B6212BB9-3314-4EE4-B587-AADFC72F1166">Use of Overloading in PL/SQL with Inheritance  </a></p>
                     <p>In <a href="use-of-overloading-in-plsql-with-inheritance.html#GUID-AAF4B656-2A72-4357-BE20-2E738876C360__CHDFGAII">Example 3-10</a>, determining which instance to call happens at run time because the functions are overriding member functions of the type hierarchy. This is dynamic method dispatch, described in <span class="q">"<a href="inheritance-in-sql-object-types.html#GUID-C2DF60C8-025E-49E3-ABE4-375C4E36D806" title="Dynamic method dispatch refers to the way that method calls are dispatched to the nearest implementation at run time, working up the type hierarchy from the current or specified type.">Dynamic Method Dispatch</a>"</span>.
                     </p>
                     <p>Though <code class="codeph">v</code> is an instance of <code class="codeph">super_t</code>, because the value of <code class="codeph">final_t</code> is assigned to <code class="codeph">v</code>, the <code class="codeph">sub_t</code> instance of the function is called, following the rules of substitution. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-AAF4B656-2A72-4357-BE20-2E738876C360__CHDFGAII">
                     <p class="titleinexample">Example 3-10 Resolving PL/SQL Functions With Inheritance Dynamically</p><pre class="oac_no_warn" dir="ltr">-- Perform the following drop commands if you created these objects in Ex. 3-9
-- DROP PACKAGE p;
-- DROP TYPE final_t;
-- DROP TYPE _sub_t;
-- DROP TYPE super_t FORCE;
CREATE OR REPLACE TYPE super_t AS OBJECT
  (n NUMBER, MEMBER FUNCTION func RETURN NUMBER) NOT final;
/
CREATE OR REPLACE TYPE BODY super_t AS
 MEMBER FUNCTION func RETURN NUMBER IS BEGIN RETURN 1; END; END;
/
CREATE TYPE sub_t UNDER super_t
  (n2 NUMBER,
   OVERRIDING MEMBER FUNCTION func RETURN NUMBER) NOT final;
/
CREATE OR REPLACE TYPE BODY sub_t AS
 OVERRIDING MEMBER FUNCTION func RETURN NUMBER IS BEGIN RETURN 2; END; END;
/
CREATE OR REPLACE TYPE final_t UNDER sub_t
  (n3 NUMBER);
/

DECLARE
  v super_t := final_t(1,2,3);
BEGIN
  DBMS_OUTPUT.PUT_LINE('answer:'|| v.func); -- prints 2
END;
/</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>