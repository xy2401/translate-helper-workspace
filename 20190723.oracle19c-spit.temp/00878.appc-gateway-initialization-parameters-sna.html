<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Gateway Initialization Parameters for SNA Protocol</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Installation and Configuration Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Installation and Configuration Guide for IBM AIX on POWER Systems (64-Bit), Linux x86-64, Oracle Solaris on SPARC (64-Bit), and HP-UX Itanium">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-appc-installation-and-configuration-guide-aix-5l-based-systems-64-bit-hp-ux-itanium-solaris-operating-system-sparc-64-bit-linux-x86-and-linux-x86-64.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T19:10:33-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="F18241-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="appc-gateway-migrate.html" title="Previous" type="text/html">
      <link rel="next" href="appc-gateway-initialization-parameters-tcp-ip.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64">
    <meta name="dcterms.isVersionOf" content="APPCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="appc-gateway-migrate.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="appc-gateway-initialization-parameters-tcp-ip.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Installation and Configuration Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Gateway Initialization Parameters for SNA Protocol</li>
            </ol>
            <a id="GUID-53D8F882-4389-4150-8998-300818E476B9" name="GUID-53D8F882-4389-4150-8998-300818E476B9"></a><a id="APPCI283"></a>
            
            <h2 id="APPCI-GUID-53D8F882-4389-4150-8998-300818E476B9" class="sect2"><span class="enumeration_appendix">A </span> Gateway Initialization Parameters for SNA Protocol
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The following topics describe the gateway initialization file location and lists the <a id="d18314e42" class="indexterm-anchor"></a><a id="d18314e48" class="indexterm-anchor"></a>gateway initialization parameters supported by Oracle Database Gateway for APPC, specifically for the SNA protocol. These parameters are fully documented in <span class="q">"<a href="appc-gateway-migrate.html#GUID-E14674D3-398D-4013-9CC5-30164E0C9C37">Migrating An Existing Gateway Instance to a New Release Using SNA Protocol</a>"</span>. In addition, the topics contain sample <code class="codeph">listener.ora</code> and <code class="codeph">tnsnames</code> files for a gateway using SNA.
               </p>
               <p>The <a id="d18314e66" class="indexterm-anchor"></a><a id="d18314e70" class="indexterm-anchor"></a><a id="d18314e74" class="indexterm-anchor"></a>parameter file for the gateway is located in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory and is called <a id="d18314e84" class="indexterm-anchor"></a><a id="d18314e86" class="indexterm-anchor"></a><a id="d18314e91" class="indexterm-anchor"></a><a id="d18314e93" class="indexterm-anchor"></a><code class="codeph">init</code><span class="italic"><code class="codeph">sid.</code></span><code class="codeph">ora</code>.
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="appc-gateway-initialization-parameters-sna.html#GUID-3CD59555-DC99-42A9-B86A-625C0FB91A26">PGA Parameters</a></p>
                  </li>
                  <li>
                     <p><a href="appc-gateway-initialization-parameters-sna.html#GUID-2FDC23E5-6852-4308-BFAF-1F10423F3D5E">PGA_CAPABILITY Parameter Considerations</a></p>
                  </li>
                  <li>
                     <p><a href="appc-gateway-initialization-parameters-sna.html#GUID-06370C32-AB20-4CC2-8343-EAC0AD83CFAA">PGA_CONFIRM Parameter Considerations</a></p>
                  </li>
                  <li>
                     <p><a href="appc-gateway-initialization-parameters-sna.html#GUID-23CFFAAE-9FF9-4792-827F-20215BC82CA1">Sample listener.ora file for a Gateway Using SNA</a></p>
                  </li>
                  <li>
                     <p><a href="appc-gateway-initialization-parameters-sna.html#GUID-02830903-A309-4988-A272-72DFA622E86E">Sample tnsnames.ora file for a Gateway Using SNA</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-53D8F882-4389-4150-8998-300818E476B9__GUID-AD7CAE47-93DF-4276-BF7C-03AE8344F095">
                  <p class="notep1">Note:</p>
                  <p>The <code class="codeph">init</code><span class="italic"><code class="codeph">sid.</code></span><code class="codeph">ora</code> file contains both SNA and TCP/IP parameters. You must modify these files with suitable parameters.
                  </p>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-3CD59555-DC99-42A9-B86A-625C0FB91A26" name="GUID-3CD59555-DC99-42A9-B86A-625C0FB91A26"></a><h3 id="APPCI-GUID-3CD59555-DC99-42A9-B86A-625C0FB91A26" class="sect3">PGA Parameters</h3>
               <div>
                  <p>The <a id="d18314e173" class="indexterm-anchor"></a><a id="d18314e179" class="indexterm-anchor"></a>PGA<a id="d18314e184" class="indexterm-anchor"></a> parameters control the APPC interface portion of the gateway. PGA parameters are specified using the <code class="codeph">SET</code> <a id="d18314e194" class="indexterm-anchor"></a>gateway initialization parameter. For example:
                  </p><pre class="oac_no_warn" dir="ltr">SET <span class="italic">pga_parm=value</span> 
</pre><p>where:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="italic"><code class="codeph">pga_parm </code></span>is one of the PGA parameter names in the list that follows
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">value</code></span> is a character string with contents that depend on <span class="italic"><code class="codeph">pga_parm</code></span> 
                        </p>
                     </li>
                  </ul>
                  <p><a href="appc-gateway-initialization-parameters-sna.html#GUID-3CD59555-DC99-42A9-B86A-625C0FB91A26__G635413" title="This 2 column table provides a list of PGA parameters and their descriptions">Table A-1</a> provides a list of PGA parameters and their descriptions.
                  </p>
                  <div class="tblformal" id="GUID-3CD59555-DC99-42A9-B86A-625C0FB91A26__G635413">
                     <p class="titleintable">Table A-1 PGA Parameters for Oracle Database Gateway for APPC Using SNA</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="PGA Parameters for Oracle Database Gateway for APPC Using SNA" summary="This 2 column table provides a list of PGA parameters and their descriptions" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d18314e241">Parameter</th>
                              <th align="left" valign="bottom" width="69%" id="d18314e244">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d18314e249" headers="d18314e241 ">
                                 <p><a id="d18314e251" class="indexterm-anchor"></a><code class="codeph">LOG_DESTINATION</code>=<span class="italic"><code class="codeph">logpath</code></span> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d18314e249 d18314e244 ">
                                 <p><span class="italic"><code class="codeph">logpath</code></span> specifies the destination at which <code class="codeph">STDERR</code> is reopened. <code class="codeph">LOG_DESTINATION</code> specifies a directory only and <code class="codeph">STDERR</code> is reopened to <code class="codeph">logpath/</code><span class="italic"><code class="codeph">sid_pid</code></span><code class="codeph">.log</code></p>
                                 <p>where:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><span class="italic"><code class="codeph">sid</code></span> is the sid name
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="italic"><code class="codeph">pid</code></span> is the process ID assigned to the gateway
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d18314e300" headers="d18314e241 ">
                                 <p><a id="d18314e302" class="indexterm-anchor"></a><a id="d18314e306" class="indexterm-anchor"></a><code class="codeph">PGA_CAPABILITY</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d18314e300 d18314e244 ">
                                 <p>PGA transaction capability. This controls whether updates are allowed through the gateway. The following are valid values:</p>
                                 <p><code class="codeph">READ_ONLY</code> or <code class="codeph">RO</code>: Read-only capabilities.
                                 </p>
                                 <p><code class="codeph">SINGLE_SITE</code> or <code class="codeph">SS</code>: Single-site update only. This indicates that in a distributed environment, only the gateway can perform updates. No other database updates can occur within the Oracle transaction.
                                 </p>
                                 <p><a id="d18314e330" class="indexterm-anchor"></a><code class="codeph">COMMIT_CONFIRM</code> or <code class="codeph">CC</code>: Commit-confirm. This indicates that in a distributed environment, updates can be performed by both the gateway and other participants within the Oracle transaction. The gateway is always committed first in this mode, and no other commit-confirm sites are allowed to participate in the Oracle transaction.<a id="d18314e338" class="indexterm-anchor"></a></p>
                                 <p>The default is <code class="codeph">SINGLE_SITE</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d18314e346" headers="d18314e241 ">
                                 <p><a id="d18314e348" class="indexterm-anchor"></a><a id="d18314e352" class="indexterm-anchor"></a><code class="codeph">PGA_CONFIRM</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d18314e346 d18314e244 ">
                                 <p>Incoming APPC <code class="codeph">CONFIRM</code> request handling option. This controls what the gateway does when an APPC <code class="codeph">CONFIRM</code> request is received from the remote transaction program. This parameter has meaning only when the conversation is running with <code class="codeph">SYNCLEVEL</code> set to a value higher than 0. The following are valid values:
                                 </p>
                                 <p><code class="codeph">ACCEPT</code> - Respond to incoming APPC <code class="codeph">CONFIRM</code> requests with APPC <code class="codeph">CONFIRMED</code> responses.
                                 </p>
                                 <p><code class="codeph">REJECT</code> - Treat incoming APPC <code class="codeph">CONFIRM</code> requests as <a id="d18314e387" class="indexterm-anchor"></a>errors causing the conversation to be deallocated and an error message to be issued.
                                 </p>
                                 <p>The default is <code class="codeph">REJECT</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d18314e398" headers="d18314e241 ">
                                 <p><a id="d18314e400" class="indexterm-anchor"></a><a id="d18314e404" class="indexterm-anchor"></a><code class="codeph">PGA_LOG_DB</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d18314e398 d18314e244 ">
                                 <p>The <a id="d18314e413" class="indexterm-anchor"></a>Oracle Net service name for the Oracle database in which the gateway maintains its transaction log. This parameter can be from&nbsp;<code class="codeph">1</code> to <code class="codeph">255</code>&nbsp;characters long. This parameter is required only when <code class="codeph">PGA_CAPABILITY</code> is set to <code class="codeph">COMMIT_CONFIRM</code>.
                                 </p>
                                 <p>There is no default value.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d18314e431" headers="d18314e241 ">
                                 <p><a id="d18314e433" class="indexterm-anchor"></a><a id="d18314e437" class="indexterm-anchor"></a><code class="codeph">PGA_LOG_PASS</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d18314e431 d18314e244 ">
                                 <p>The Oracle <a id="d18314e446" class="indexterm-anchor"></a>password to be used by the gateway when connecting to the Oracle database specified by the <code class="codeph">PGA_LOG_DB</code> parameter. The password can be from&nbsp;<code class="codeph">1</code> to <code class="codeph">30</code>&nbsp;characters long. This parameter is required only when  <code class="codeph">PGA_CAPABILITY</code> is set to <code class="codeph">COMMIT_CONFIRM</code>. The password can be encrypted. For more information about encrypting the password, refer to <a href="appc-gateway-security-requirements.html#GUID-45FEC9F4-28F4-4E5A-9B09-2F649D3535E8">Passwords in the Gateway Initialization File</a>.
                                 </p>
                                 <p>There is no default value.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d18314e474" headers="d18314e241 ">
                                 <p><a id="d18314e476" class="indexterm-anchor"></a><a id="d18314e480" class="indexterm-anchor"></a><code class="codeph">PGA_LOG_USER</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d18314e474 d18314e244 ">
                                 <p>The Oracle user&nbsp;ID to be used by the gateway when connecting to the Oracle database specified by the <code class="codeph">PGA_LOG_DB</code> parameter. The user&nbsp;ID can be from&nbsp;<code class="codeph">1</code> to <code class="codeph">30</code>&nbsp;characters long. This parameter is required only when <code class="codeph">PGA_CAPABILITY</code> is set to             <code class="codeph">COMMIT_CONFIRM</code>.
                                 </p>
                                 <p>There is no default value.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d18314e507" headers="d18314e241 ">
                                 <p><a id="d18314e509" class="indexterm-anchor"></a><a id="d18314e513" class="indexterm-anchor"></a><code class="codeph">PGA_RECOVERY_PASS</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d18314e507 d18314e244 ">
                                 <p>The password to be used by the gateway when allocating an APPC conversation with the transaction specified by the  <code class="codeph">PGA_RECOVERY_TPNAME</code> parameter. The password can be from&nbsp;<code class="codeph">1</code> to <code class="codeph">8</code>&nbsp;characters long. This parameter is required only when <code class="codeph">PGA_CAPABILITY</code> is set to <code class="codeph">COMMIT_CONFIRM</code> and <code class="codeph">PGA_SECURITY_TYPE</code> is set to <code class="codeph">PROGRAM</code>. The password can be encrypted. For more information about encrypting the password, refer to <a href="appc-gateway-security-requirements.html#GUID-45FEC9F4-28F4-4E5A-9B09-2F649D3535E8">Passwords in the Gateway Initialization File</a>.
                                 </p>
                                 <p>There is no default value.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d18314e553" headers="d18314e241 ">
                                 <p><a id="d18314e555" class="indexterm-anchor"></a><a id="d18314e559" class="indexterm-anchor"></a><code class="codeph">PGA_RECOVERY_TPNAME</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d18314e553 d18314e244 ">
                                 <p>The <a id="d18314e568" class="indexterm-anchor"></a>TP name of the transaction installed in the OLTP for commit-confirm <code class="codeph">FORGET</code> and <code class="codeph">RECOVERY</code> processing. The TP name can be from&nbsp;<code class="codeph">1</code> to <code class="codeph">64</code>&nbsp;characters long. For <a id="d18314e584" class="indexterm-anchor"></a>CICS Transaction Server for z/OS, the TP name is limited to four&nbsp;characters. For <a id="d18314e589" class="indexterm-anchor"></a>IMS/TM, the TP name is limited to eight&nbsp;characters. Other OLTPs might have other limits on the length of the TP name. This parameter is required only when <code class="codeph">PGA_CAPABILITY</code> is set to <code class="codeph">COMMIT_CONFIRM</code>.
                                 </p>
                                 <p>The default value is <code class="codeph">RECO</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d18314e606" headers="d18314e241 ">
                                 <p><a id="d18314e608" class="indexterm-anchor"></a><a id="d18314e612" class="indexterm-anchor"></a><code class="codeph">PGA_RECOVERY_USER</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d18314e606 d18314e244 ">
                                 <p>The user&nbsp;ID to be used by the gateway when allocating an APPC conversation with the transaction specified by the  <code class="codeph">PGA_RECOVERY_TPNAME</code> parameter. The user&nbsp;ID can be from&nbsp;1 to 8&nbsp;characters long. This parameter is required only when <code class="codeph">PGA_CAPABILITY</code> is set to <code class="codeph">COMMIT_CONFIRM</code> and <code class="codeph">PGA_SECURITY_TYPE</code> is set to <code class="codeph">PROGRAM</code> or <code class="codeph">SAME</code>.
                                 </p>
                                 <p>There is no default value.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d18314e643" headers="d18314e241 ">
                                 <p><a id="d18314e645" class="indexterm-anchor"></a><code class="codeph">PGA_SECURITY_TYPE</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d18314e643 d18314e244 ">
                                 <p><a id="d18314e653" class="indexterm-anchor"></a>APPC conversation security option. This controls what security parameters are sent to the OLTP in the FMH-5 at conversation allocation. The following are valid values:
                                 </p>
                                 <p><code class="codeph">NONE</code>: Sends no security parameters
                                 </p>
                                 <p><code class="codeph">SAME</code>: Sends only a user&nbsp;ID
                                 </p>
                                 <p><code class="codeph">PROGRAM</code>: Sends a user&nbsp;ID and password
                                 </p>
                                 <p>The default is <code class="codeph">NONE</code>.
                                 </p>
                                 <p>For further information on these options, refer to <a href="appc-gateway-security-requirements.html#GUID-080F1503-BD5D-4252-A48A-6AEA2BCB69A6">   Security Requirements </a>. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d18314e682" headers="d18314e241 ">
                                 <p><code class="codeph">PGA_SIGDANGER</code></p>
                                 <p>(AIX only parameter)</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d18314e682 d18314e244 ">
                                 <p>Action to take on receipt of a <code class="codeph">SIGDANGER</code> signal from the system indicating a shortage of paging space. The following is a valid value:
                                 </p>
                                 <p><code class="codeph">IGNORE</code>: Ignores the signal
                                 </p>
                                 <p>The default is <code class="codeph">IGNORE</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d18314e705" headers="d18314e241 ">
                                 <p><a id="d18314e707" class="indexterm-anchor"></a><a id="d18314e711" class="indexterm-anchor"></a><a id="d18314e715" class="indexterm-anchor"></a><a id="d18314e717" class="indexterm-anchor"></a><code class="codeph">TRACE_LEVEL</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d18314e705 d18314e244 ">
                                 <p>PGA trace level. This controls tracing output written to <code class="codeph">STDERR</code> (the target of the <code class="codeph">LOG_DESTINATION</code> parameter). The value must be an integer between&nbsp;<code class="codeph">0</code> and&nbsp;<code class="codeph">255</code>. 
                                 </p>
                                 <p>The default is&nbsp;<code class="codeph">0</code>, indicating no tracing.
                                 </p>
                                 <p>Any value between <code class="codeph">1</code> and <code class="codeph">255</code> will turn tracing on.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-2FDC23E5-6852-4308-BFAF-1F10423F3D5E" name="GUID-2FDC23E5-6852-4308-BFAF-1F10423F3D5E"></a><h3 id="APPCI-GUID-2FDC23E5-6852-4308-BFAF-1F10423F3D5E" class="sect3">PGA_CAPABILITY Parameter Considerations</h3>
               <div>
                  <p><a id="d18314e781" class="indexterm-anchor"></a>When choosing a setting for the<a id="d18314e788" class="indexterm-anchor"></a> <code class="codeph">PGA_CAPABILITY</code> parameter, take care to ensure that the correct setting is used based on what the remote transaction programs will be doing.
                  </p>
                  <p>The <a id="d18314e798" class="indexterm-anchor"></a><code class="codeph">READ_ONLY</code> setting should always be used when the <a id="d18314e805" class="indexterm-anchor"></a>remote transaction programs are read-only, that is, when the remote transaction programs perform no database updates. <code class="codeph">READ_ONLY</code> should never be used when the remote transaction programs perform database updates. For example, if the <code class="codeph">READ_ONLY</code> setting is chosen and if a remote transaction program invoked by the gateway performs updates to a foreign database, then  <a id="d18314e816" class="indexterm-anchor"></a>Oracle database does not provide any integrity protection for those updates. Furthermore, the <code class="codeph">READ_ONLY</code> mode enables a gateway transaction to be part of a distributed transaction that might update several other databases. If the gateway invokes a remote transaction program that performs updates in this situation and if a failure occurs, then the database updated by the remote transaction program is not synchronized with the other databases.
                  </p>
                  <p><a id="d18314e826" class="indexterm-anchor"></a><a id="d18314e830" class="indexterm-anchor"></a>In cases where the remote transaction programs perform updates to foreign databases, there are <a id="d18314e835" class="indexterm-anchor"></a><a id="d18314e841" class="indexterm-anchor"></a>two options for the value of <code class="codeph">PGA_CAPABILITY</code>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">SINGLE_SITE</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">COMMIT_CONFIRM</code></p>
                     </li>
                  </ul>
                  <p>Each of these options provides protection against data integrity problems by allowing <a id="d18314e862" class="indexterm-anchor"></a><code class="codeph">COMMIT</code> and <a id="d18314e867" class="indexterm-anchor"></a><code class="codeph">ROLLBACK</code> requests to be forwarded to the remote transaction program and by informing  <a id="d18314e872" class="indexterm-anchor"></a>Oracle database about the distributed update and recovery capabilities of the gateway. The particular option depends on the design of the remote transaction programs and on the capabilities of the <a id="d18314e875" class="indexterm-anchor"></a>OLTP (online transaction processor) where they execute.
                  </p>
                  <p>If the OLTP has LU6.2 <code class="codeph">SYNCLEVEL&nbsp;1</code> or&nbsp;<code class="codeph">2</code> support, then the <a id="d18314e886" class="indexterm-anchor"></a><code class="codeph">COMMIT_CONFIRM</code> capability provides limited two-phase commit between the <a id="d18314e893" class="indexterm-anchor"></a>Oracle database and the OLTP, with the restriction that no other <a id="d18314e896" class="indexterm-anchor"></a>commit-confirm site (gateway or Oracle) can be part of the distributed transaction. If it is not possible to use <code class="codeph">COMMIT_CONFIRM</code>, then the <code class="codeph">SINGLE_SITE</code> capability provides update capability between Oracle database and the <a id="d18314e906" class="indexterm-anchor"></a>OLTP, with the restriction that only the OLTP can perform updates and no updates can occur on the Oracle side.<a id="d18314e909" class="indexterm-anchor"></a></p>
                  <p>Each of the <code class="codeph">PGA_CAPABILITY</code> options for update control imposes specific requirements on the remote transaction program and on the OLTP. For              <code class="codeph">COMMIT_CONFIRM</code> capability, these requirements are discussed in detail in Chapter&nbsp;5, "Implementing Commit-Confirm," of the <span class="italic">Oracle Database Gateway for APPC User's Guide</span>. Also refer to <a href="configuring-appc-gateway-sna.html#GUID-24F30622-1E2C-443F-8376-087D3FE0D4B8">Configuring the OLTP for Commit-Confirm</a> in this guide. For <code class="codeph">SINGLE_SITE</code> capability, the remote transaction program is responsible for performing the required tasks in response to <code class="codeph">COMMIT</code> and <code class="codeph">ROLLBACK</code> requests received from the gateway on behalf of the <a id="d18314e936" class="indexterm-anchor"></a>Oracle database. The gateway uses the APPC <code class="codeph">CONFIRM</code> and <code class="codeph">SEND_ERR</code> requests to implement <code class="codeph">COMMIT</code> and <code class="codeph">ROLLBACK</code>, respectively. On receipt of a <code class="codeph">CONFIRM</code>, the remote transaction program must perform <code class="codeph">COMMIT</code> processing and then respond to the gateway with an APPC <code class="codeph">CONFIRMED</code> response. On receipt of <code class="codeph">SEND_ERR</code>, the remote transaction program must perform <code class="codeph">ROLLBACK</code> processing.
                  </p>
                  <p>Because the distributed transaction capability of the <a id="d18314e969" class="indexterm-anchor"></a>Oracle database is affected by the <code class="codeph">PGA_CAPABILITY</code> option used by the gateway, it is desirable to separate inquiry and update applications by using different gateway instances for each. One gateway can be defined with <code class="codeph">PGA_CAPABILITY</code> set to <code class="codeph">READ_ONLY</code> and others with <code class="codeph">PGA_CAPABILITY</code> set to <code class="codeph">SINGLE_SITE</code> or <code class="codeph">COMMIT_CONFIRM</code>.
                  </p>
                  <p>This allows read-only transaction programs to participate in distributed transactions under the control of the Oracle database. For example, data from DB2 can be retrieved through the <code class="codeph">READ_ONLY</code> gateway by an inquiry-only remote transaction program and can then be used as input to database updates on the Oracle database, all in one Oracle transaction. A <code class="codeph">SINGLE_SITE</code> gateway can be used only for accessing remote transaction programs which perform updates to foreign databases outside the scope of the Oracle database control. Data can be read from any databases accessible to the Oracle database, and that data can be used to perform updates through the gateway.
                  </p>
                  <p>When it is necessary to update resources on both the Oracle side and the OLTP side, a <code class="codeph">COMMIT_CONFIRM</code> gateway can be used, provided that the OLTP and the remote transaction programs are set up to implement commit-confirm.
                  </p>
                  <p>All that is necessary to set up multiple <a id="d18314e1006" class="indexterm-anchor"></a>gateway instances is to set up the following for each instance:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>An entry in the <code class="codeph">listener.ora</code> <a id="d18314e1019" class="indexterm-anchor"></a><a id="d18314e1021" class="indexterm-anchor"></a>file defining the <span class="italic"><code class="codeph">sid</code></span> of the gateway instance
                        </p>
                     </li>
                     <li>
                        <p>An entry in the <code class="codeph">tnsnames.ora</code> <a id="d18314e1036" class="indexterm-anchor"></a><a id="d18314e1038" class="indexterm-anchor"></a>file defining an alias to be used to connect to the gateway instance defined in <code class="codeph">listener.ora</code></p>
                     </li>
                     <li>
                        <p>A <a id="d18314e1048" class="indexterm-anchor"></a>database link in Oracle database that specifies the alias defined in the <code class="codeph">tnsnames.ora</code> file in its <code class="codeph">USING</code> parameter
                        </p>
                     </li>
                  </ul>
                  <p>Note that the gateway instances can share one common directory structure and use the same executables.</p>
                  <p>For example, to set up two gateways, <a id="d18314e1061" class="indexterm-anchor"></a><code class="codeph">PGAI</code> and <a id="d18314e1068" class="indexterm-anchor"></a><code class="codeph">PGAU</code> (for inquiry and update use, respectively), the following steps are required:
                  </p>
                  <ol>
                     <li>
                        <p>Define entries in <code class="codeph">listener.ora</code> for two <code class="codeph">sid</code>s, <code class="codeph">PGAI</code> and <code class="codeph">PGAU</code>.
                        </p>
                     </li>
                     <li>
                        <p>Define two aliases in <code class="codeph">tnsnames.ora</code> that connect to the two new <code class="codeph">sid</code>s, <code class="codeph">PGAI</code> and <code class="codeph">PGAU</code>.
                        </p>
                     </li>
                     <li>
                        <p>Define two database links in <a id="d18314e1109" class="indexterm-anchor"></a>Oracle database, one connecting to <code class="codeph">PGAI</code> and the other connecting to <code class="codeph">PGAU</code>.
                        </p>
                     </li>
                     <li>
                        <p>Finally, create the <a id="d18314e1121" class="indexterm-anchor"></a>initialization files <code class="codeph">initPGAI.ora</code> and <code class="codeph">initPGAU.ora</code>.
                        </p>
                        <p>In <code class="codeph">initPGAI.ora</code>, set <code class="codeph">PGA_CAPABILITY</code> to <code class="codeph">READ_ONLY</code>, and in <code class="codeph">initPGAU.ora</code>, set <code class="codeph">PGA_CAPABILITY</code> to <code class="codeph">SINGLE_SITE</code> or <code class="codeph">COMMIT_CONFIRM</code>. Then, use the <code class="codeph">PGAI</code> gateway for inquiry-only transactions, and use the <code class="codeph">PGAU</code> gateway for update transactions.
                        </p>
                        <p>The same steps can be used to set up additional gateway instances.</p>
                     </li>
                  </ol>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-06370C32-AB20-4CC2-8343-EAC0AD83CFAA" name="GUID-06370C32-AB20-4CC2-8343-EAC0AD83CFAA"></a><h3 id="APPCI-GUID-06370C32-AB20-4CC2-8343-EAC0AD83CFAA" class="sect3">PGA_CONFIRM Parameter Considerations</h3>
               <div>
                  <p>When deciding on the setting for the<a id="d18314e1198" class="indexterm-anchor"></a> <code class="codeph">PGA_CONFIRM</code><a id="d18314e1205" class="indexterm-anchor"></a> parameter, it is important to understand the effects of each setting. First, keep in mind that this parameter affects only those conversations running at <code class="codeph">SYNCLEVEL&nbsp;1</code>. The default setting,                  <code class="codeph">PGA_CONFIRM</code><code class="codeph">=</code><code class="codeph">REJECT</code>, is correct for most applications. With this setting, the gateway generates an <a id="d18314e1223" class="indexterm-anchor"></a>error if a <code class="codeph">CONFIRM</code> request is received from the remote transaction program. If you have a remote transaction that uses <code class="codeph">CONFIRM</code> to verify that data was received by the gateway, then you must use <code class="codeph">PGA_CONFIRM</code><code class="codeph">=</code><code class="codeph">ACCEPT</code> to allow the gateway to respond to those incoming <code class="codeph">CONFIRM</code> requests with <code class="codeph">CONFIRMED</code> responses. You must be aware that the gateway sends <code class="codeph">CONFIRM</code> requests to the remote transaction when the Oracle application has sent a <code class="codeph">COMMIT</code> request. For the <code class="codeph">COMMIT</code> processing to work correctly, the remote transaction must be written to perform its local commit processing whenever a <code class="codeph">CONFIRM</code> request is received from the gateway, and respond to the gateway with <code class="codeph">CONFIRMED</code> after the commit processing has successfully completed. If an <a id="d18314e1264" class="indexterm-anchor"></a>error occurs during commit processing, then the remote transaction must respond to the gateway with <code class="codeph">SEND_ERR</code> to indicate that the commit failed.
                  </p>
                  <p>One special case for the use of <code class="codeph">PGA_CONFIRM</code><code class="codeph">=</code><code class="codeph">ACCEPT</code> is with IMS/TM version&nbsp;7. When using the "implied APPC" support that is provided by IMS/TM version&nbsp;7, conversations that run at <code class="codeph">SYNCLEVEL&nbsp;1</code> are handled differently than conversations that run at <code class="codeph">SYNCLEVEL&nbsp;0</code>. IMS/TM automatically generates <code class="codeph">CONFIRM</code> requests after each APPC <code class="codeph">SEND</code> when the conversation is at <code class="codeph">SYNCLEVEL&nbsp;1</code>.<a id="d18314e1297" class="indexterm-anchor"></a> On the gateway side, if <code class="codeph">PGA_CONFIRM</code>=<code class="codeph">ACCEPT</code> is not specified, then the <code class="codeph">CONFIRM</code> requests sent by IMS/TM result in errors generated by the gateway. Using <code class="codeph">PGA_CONFIRM</code>=<code class="codeph">ACCEPT</code> alleviates this problem, allowing the gateway to respond to incoming <code class="codeph">CONFIRM</code> requests with <code class="codeph">CONFIRMED</code> responses. The only limitation with running this way is that the implied APPC support provided by IMS does not notify the application when a <code class="codeph">CONFIRM</code> request is received from the gateway. This means that the gateway cannot use <code class="codeph">CONFIRM</code> to implement <code class="codeph">COMMIT</code>, thereby disabling the use of <code class="codeph">COMMIT</code> and <code class="codeph">ROLLBACK</code> to control updates on the IMS side of the conversation.
                  </p>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-23CFFAAE-9FF9-4792-827F-20215BC82CA1" name="GUID-23CFFAAE-9FF9-4792-827F-20215BC82CA1"></a><h3 id="APPCI-GUID-23CFFAAE-9FF9-4792-827F-20215BC82CA1" class="sect3">Sample listener.ora file for a Gateway Using SNA</h3>
               <div><pre class="oac_no_warn" dir="ltr">LISTENER =
  (ADDRESS_LIST =
        (ADDRESS=
          (COMMUNITY= TCP.world)
          (Host = bay)
          (PROTOCOL= TCP)
          (Port= 2621)
        )
        (ADDRESS=
          (COMMUNITY= TCP.world)
          (Host = bay)
          (PROTOCOL= TCP)
          (Port= 2623)
        )
  )
 
SID_LIST_LISTENER =
  (SID_LIST =
    (SID_DESC =
      (SID_NAME = PGA)
      (ORACLE_HOME = /oracle/pga/12.2)
      (PROGRAM = pg4asrv)
    )
  )</pre></div>
            </div>
            <div class="props_rev_3"><a id="GUID-02830903-A309-4988-A272-72DFA622E86E" name="GUID-02830903-A309-4988-A272-72DFA622E86E"></a><h3 id="APPCI-GUID-02830903-A309-4988-A272-72DFA622E86E" class="sect3">Sample tnsnames.ora file for a Gateway Using SNA</h3>
               <div><pre class="oac_no_warn" dir="ltr">ORA920 =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = bay.us.example.com)(PORT = 1521))
    )
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = ORA920.bay)
    )
  )
 
PGA =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = bay)(PORT = 2621))
    )
    (CONNECT_DATA =
      (SID = PGA)
    )
    (HS = OK)
  )</pre></div>
            </div>
         </div>
      </article>
   </body>
</html>