<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can use document sections in a text query application.">
      <meta name="description" content="You can use document sections in a text query application.">
      <title>Searching Document Sections in Oracle Text</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Application Developer's Guide ">
      <meta property="og:description" content="You can use document sections in a text query application.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Application Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="text-application-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-07T01:45:16-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96275-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="tuning-oracle-text.html" title="Previous" type="text/html">
      <link rel="next" href="using-oracle-text-name-search.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Application Developer's Guide">
    <meta name="dcterms.isVersionOf" content="CCAPP">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="tuning-oracle-text.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-oracle-text-name-search.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Application Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Searching Document Sections in Oracle Text</li>
            </ol>
            <a id="GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A" name="GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A"></a><a id="CCAPP0800"></a>
            
            <h2 id="CCAPP-GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A" class="sect2"><span class="enumeration_chapter">11 </span> Searching Document Sections in Oracle Text
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>You can use document sections in a text query application.</p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="searching-document-sections-in-oracle-text.html#GUID-C9161012-F942-46BD-A9D6-68CF554F3D6D">About Oracle Text Document Section Searching</a></p>
                  </li>
                  <li>
                     <p><a href="searching-document-sections-in-oracle-text.html#GUID-2F7B1652-42FB-4A0A-A37F-652DDCB82182">HTML Section Searching with Oracle Text</a></p>
                  </li>
                  <li>
                     <p><a href="searching-document-sections-in-oracle-text.html#GUID-8D535B14-B377-4766-A062-1DA912438E23">XML Section Searching with Oracle Text</a></p>
                  </li>
               </ul>
            </div><a id="CCAPP9284"></a><div class="props_rev_3"><a id="GUID-C9161012-F942-46BD-A9D6-68CF554F3D6D" name="GUID-C9161012-F942-46BD-A9D6-68CF554F3D6D"></a><h3 id="CCAPP-GUID-C9161012-F942-46BD-A9D6-68CF554F3D6D" class="sect3"><span class="enumeration_section">11.1 </span>About Oracle Text Document Section Searching
               </h3>
               <div>
                  <p>Section searching enables you to narrow text queries down to blocks of text within documents. Section searching is useful when your documents have internal structure, such as HTML and XML documents. </p>
                  <p>You can also search for text at the sentence and paragraph level.</p>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-38C50A3D-B2EE-45F2-805B-AA3B02988C7C">Enabling Oracle Text Section Searching</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-53221B04-7597-46BC-AF34-3B16BE898D7A">Oracle Text Section Types</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7">Oracle Text Section Attributes</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9285"></a><div class="props_rev_3"><a id="GUID-38C50A3D-B2EE-45F2-805B-AA3B02988C7C" name="GUID-38C50A3D-B2EE-45F2-805B-AA3B02988C7C"></a><h4 id="CCAPP-GUID-38C50A3D-B2EE-45F2-805B-AA3B02988C7C" class="sect4"><span class="enumeration_section">11.1.1 </span>Enabling Oracle Text Section Searching
                  </h4>
                  <div>
                     <p>The steps for enabling section searching for your document collection are:</p>
                     <ol>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397">Create a Section Group</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-193F643B-C72E-471F-A1CF-05F423C4C350">Define Your Sections</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-4056667C-6298-42BF-B6B5-1A67108BFD4B">Index Your Documents</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-2F97BA75-A0C4-48D1-BC73-C83921581E1D">Section Searching with the WITHIN Operator</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-1A6CB754-E899-48B6-B042-01ACDEB78335">Path Searching with INPATH and HASPATH Operators</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-7D3BD659-7C9D-44EF-9DA8-F047017BC165">Marking an SDATA Section to be Searchable</a></p>
                        </li>
                     </ol>
                  </div><a id="CCAPP9514"></a><a id="CCAPP9286"></a><div class="props_rev_3"><a id="GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397" name="GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397"></a><h5 id="CCAPP-GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397" class="sect5"><span class="enumeration_section">11.1.1.1 </span>Create a Section Group
                     </h5>
                     <div>
                        <p>You enable section searching by defining section groups. You use one of the system-defined section groups to create an instance of a section group. Choose a section group that is appropriate for your document collection.</p>
                        <p>You use section groups to specify the type of document set that you have and implicitly indicate the tag structure. For instance, to index HTML tagged documents, use <code class="codeph">HTML_SECTION_GROUP.</code> Likewise, to index XML tagged documents, use <code class="codeph">XML_SECTION_GROUP.</code></p>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397__BABEHHID" title="This table shows the various types of section types you can use.">Table 11-1</a> lists the different types of section groups.
                        </p>
                        <div class="tblformal" id="GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397__BABEHHID">
                           <p class="titleintable">Table 11-1 Types of Section Groups</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Types of Section Groups" summary="This table shows the various types of section types you can use." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d28756e359">Section Group Preference</th>
                                    <th align="left" valign="bottom" width="64%" id="d28756e362">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e367" headers="d28756e359 ">
                                       <p><code class="codeph">NULL_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e367 d28756e362 ">
                                       <p>This is the default. Use this group type when you define no sections or when you define <span class="italic">only</span> <code class="codeph">SENTENCE</code> or <code class="codeph">PARAGRAPH</code> sections.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e384" headers="d28756e359 ">
                                       <p><code class="codeph">BASIC_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e384 d28756e362 ">
                                       <p>Use this group type for defining sections where the start and end tags are of the form <code class="codeph">&lt;A&gt;</code> and <code class="codeph">&lt;/A&gt;</code>.
                                       </p>
                                       <p><span class="bold">Note:</span> This group type does not support input such as unbalanced parentheses, comments tags, and attributes. Use <code class="codeph">HTML_SECTION_GROUP</code> for this type of input.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e405" headers="d28756e359 ">
                                       <p><code class="codeph">HTML_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e405 d28756e362 ">
                                       <p>Use this group type to index HTML documents and for defining sections in HTML documents. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e413" headers="d28756e359 ">
                                       <p><code class="codeph">XML_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e413 d28756e362 ">
                                       <p>Use this group type to index XML documents and for defining sections in XML documents.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e421" headers="d28756e359 ">
                                       <p><code class="codeph">AUTO_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e421 d28756e362 ">
                                       <p>Use this group type to automatically create a zone section for each start-tag/end-tag pair in an XML document. As in XML, the section names derived from XML tags are case-sensitive. </p>
                                       <p>Attribute sections are created automatically for XML tags that have attributes. Attribute sections are named in the form <span class="italic">tag@attribute.</span></p>
                                       <p>Stop sections, empty tags, processing instructions, and comments are not indexed.</p>
                                       <p>The following limitations apply to automatic section groups:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>You cannot add zone, field, or special sections to an automatic section group.</p>
                                          </li>
                                          <li>
                                             <p>Automatic sectioning does not index XML document types (root elements.)</p>
                                          </li>
                                          <li>
                                             <p>The length of the indexed tags, including prefix and namespace, cannot exceed 64 bytes. Tags longer than 64 bytes are not indexed. </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e447" headers="d28756e359 ">
                                       <p><code class="codeph">PATH_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e447 d28756e362 ">
                                       <p>Use this group type to index XML documents. This preference behaves like <code class="codeph">AUTO_SECTION_GROUP.</code></p>
                                       <p>The difference is that you can search paths with the <code class="codeph">INPATH</code> and <code class="codeph">HASPATH</code> operators. Queries are also case-sensitive for tag and attribute names.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e465" headers="d28756e359 ">
                                       <p><code class="codeph">NEWS_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e465 d28756e362 ">
                                       <p>Use this group to define sections in newsgroup-formatted documents according to RFC 1036.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnote" id="GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397__GUID-DA793D0C-5C74-442B-AEC0-9A95B7D09BBA">
                           <p class="notep1">Note:</p>
                           <p>Documents sent to the <code class="codeph">HTML,</code> <code class="codeph">XML,</code> <code class="codeph">AUTO,</code> and <code class="codeph">PATH</code> sectioners must begin with <code class="codeph">\s*&lt;.</code> The <code class="codeph">\s*</code> represents zero or more whitespace characters. Otherwise, the document is treated as a plain-text document, and no sections are recognized.
                           </p>
                        </div>
                        <p>You use the <code class="codeph">CTX_DDL</code> package to create section groups and define sections as part of section groups. For example, to index HTML documents, create a section group with <code class="codeph">HTML_SECTION_GROUP</code>:
                        </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('htmgroup', 'HTML_SECTION_GROUP');
end;</pre><div class="section">
                           <div class="infoboxnote" id="GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397__GUID-BD21B25D-9601-4B42-8B2A-AE0E3609E1AC">
                              <p class="notep1">Note:</p><span>Starting with Oracle Database 18c, use of <code class="codeph">NEWS_SECTION_GROUP</code> is deprecated in Oracle Text. Use external processing instead. </span><p>If you want to index USENET posts, then preprocess the posts to use <code class="codeph">BASIC_SECTION_GROUP</code> or <code class="codeph">HTML_SECTION_GROUP</code> within Oracle Text. USENET is rarely used commercially.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CCAPP9287"></a><div class="props_rev_3"><a id="GUID-193F643B-C72E-471F-A1CF-05F423C4C350" name="GUID-193F643B-C72E-471F-A1CF-05F423C4C350"></a><h5 id="CCAPP-GUID-193F643B-C72E-471F-A1CF-05F423C4C350" class="sect5"><span class="enumeration_section">11.1.1.2 </span>Define Your Sections
                     </h5>
                     <div>
                        <p>You define sections as part of the section group. The following example defines a zone section called heading for all text within the HTML <code class="codeph">&lt; H1&gt;</code> tag:
                        </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('htmgroup', 'HTML_SECTION_GROUP');
ctx_ddl.add_zone_section('htmgroup', 'heading', 'H1');
end;</pre><div class="infoboxnote" id="GUID-193F643B-C72E-471F-A1CF-05F423C4C350__GUID-F2B34EC4-1F68-4E25-A3C9-DEDBBD0BFBE9">
                           <p class="notep1">Note:</p>
                           <p>If you are using <code class="codeph">AUTO_SECTION_GROUP</code> or <code class="codeph">PATH_SECTION_GROUP</code> to index an XML document collection, then you do not have to explicitly define sections. The system defines the sections during indexing. 
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-193F643B-C72E-471F-A1CF-05F423C4C350__GUID-2AEB8337-AE3B-408A-9917-E4063A097FB7">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="searching-document-sections-in-oracle-text.html#GUID-53221B04-7597-46BC-AF34-3B16BE898D7A">Oracle Text Section Types</a>"</span> for more information about sections
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="searching-document-sections-in-oracle-text.html#GUID-8D535B14-B377-4766-A062-1DA912438E23">XML Section Searching with Oracle Text</a>"</span> for more information about section searching with XML
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CCAPP9288"></a><div class="props_rev_3"><a id="GUID-4056667C-6298-42BF-B6B5-1A67108BFD4B" name="GUID-4056667C-6298-42BF-B6B5-1A67108BFD4B"></a><h5 id="CCAPP-GUID-4056667C-6298-42BF-B6B5-1A67108BFD4B" class="sect5"><span class="enumeration_section">11.1.1.3 </span>Index Your Documents
                     </h5>
                     <div>
                        <p>When you index your documents, you specify your section group in the parameter clause of <code class="codeph">CREATE</code> <code class="codeph">INDEX.</code></p><pre class="oac_no_warn" dir="ltr">create index myindex on docs(htmlfile) indextype is ctxsys.context 
parameters('filter ctxsys.null_filter section group htmgroup');</pre></div>
                  </div><a id="CCAPP9289"></a><div class="props_rev_3"><a id="GUID-2F97BA75-A0C4-48D1-BC73-C83921581E1D" name="GUID-2F97BA75-A0C4-48D1-BC73-C83921581E1D"></a><h5 id="CCAPP-GUID-2F97BA75-A0C4-48D1-BC73-C83921581E1D" class="sect5"><span class="enumeration_section">11.1.1.4 </span>Search Sections with the WITHIN Operator
                     </h5>
                     <div>
                        <p>When your documents are indexed, you can query within sections by using the <code class="codeph">WITHIN</code> operator. For example, to find all documents that contain the word <span class="italic">Oracle</span> within their headings, enter the following query:
                        </p><pre class="oac_no_warn" dir="ltr">'Oracle WITHIN heading'</pre><div class="infoboxnotealso" id="GUID-2F97BA75-A0C4-48D1-BC73-C83921581E1D__GUID-15ECB815-5B18-45BA-A47A-724A4F125E8A">
                           <p class="notep1">See Also:</p>
                           <p><a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF0330" target="_blank"><span class="italic">Oracle Text Reference</span></a> to learn more about using the <code class="codeph">WITHIN</code> operator
                           </p>
                        </div>
                     </div>
                  </div><a id="CCAPP9290"></a><div class="props_rev_3"><a id="GUID-1A6CB754-E899-48B6-B042-01ACDEB78335" name="GUID-1A6CB754-E899-48B6-B042-01ACDEB78335"></a><h5 id="CCAPP-GUID-1A6CB754-E899-48B6-B042-01ACDEB78335" class="sect5"><span class="enumeration_section">11.1.1.5 </span>Search Paths with INPATH and HASPATH Operators
                     </h5>
                     <div>
                        <p>When you use <code class="codeph">PATH_SECTION_GROUP,</code> the system automatically creates XML sections. In addition to using the <code class="codeph">WITHIN</code> operator to enter queries, you can enter path queries with the <code class="codeph">INPATH</code> and <code class="codeph">HASPATH</code> operators.
                        </p>
                        <div class="infoboxnotealso" id="GUID-1A6CB754-E899-48B6-B042-01ACDEB78335__GUID-A0871D71-8EBE-4939-87B9-8F2FF5C5DA9C">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="searching-document-sections-in-oracle-text.html#GUID-8D535B14-B377-4766-A062-1DA912438E23">XML Section Searching with Oracle Text</a>"</span> to learn more about using these operators
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF-GUID-F78EC75C-55C8-4C79-A744-AE0DB2E1F581" target="_blank"><span class="italic">Oracle Text Reference</span></a> to learn more about using the <code class="codeph">INPATH</code> operator
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-7D3BD659-7C9D-44EF-9DA8-F047017BC165" name="GUID-7D3BD659-7C9D-44EF-9DA8-F047017BC165"></a><h5 id="CCAPP-GUID-7D3BD659-7C9D-44EF-9DA8-F047017BC165" class="sect5"><span class="enumeration_section">11.1.1.6 </span>Mark an SDATA Section to Be Searchable
                     </h5>
                     <div>
                        <div class="section">To mark an <code class="codeph">SDATA</code> section to be searchable and have a <code class="codeph">$S<span class="codeinlineitalic">datatype</span></code> table created, use the <code class="codeph">CTX_DDL.SET_SECTION_ATTRIBUTE</code> API. 
                           <p>The following tables are created:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">$SN</code> &#x2013; <code class="codeph">NUMBER</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$SD</code> &#x2013; <code class="codeph">DATE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$SV</code> &#x2013; <code class="codeph">VARCHAR2</code>, <code class="codeph">CHAR</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$SR</code> &#x2013; <code class="codeph">RAW</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$SBD</code> &#x2013; <code class="codeph">BINARY DOUBLE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$SBF</code> &#x2013; <code class="codeph">BINARY FLOAT</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$ST</code> &#x2013; <code class="codeph">TIMESTAMP</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$STZ</code> &#x2013; <code class="codeph">TIMESTAMP WITH TIMEZONE</code></p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">The following example creates a <code class="codeph">$SV</code> table for this <code class="codeph">SDATA</code> section to allow efficient searching on that section.<pre class="pre codeblock"><code>ctx_ddl.add_sdata_section('sec_grp', 'sdata_sec', 'mytag', 'varchar');
ctx_ddl.set_section_attribute('sec_grp', 'sdata_sec', 'optimized_for', 'search');
</code></pre><p>The default value of this attribute is <code class="codeph">FALSE.</code></p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="CCAPP9515"></a><a id="CCAPP9291"></a><div class="props_rev_3"><a id="GUID-53221B04-7597-46BC-AF34-3B16BE898D7A" name="GUID-53221B04-7597-46BC-AF34-3B16BE898D7A"></a><h4 id="CCAPP-GUID-53221B04-7597-46BC-AF34-3B16BE898D7A" class="sect4"><span class="enumeration_section">11.1.2 </span>Oracle Text Section Types
                  </h4>
                  <div>
                     <p>All section types are blocks of text in a document. However, sections can differ in the way that they are delimited and the way that they are recorded in the index. Sections can be one of the following types:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E">Zone Section</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-426E9F80-530D-42B7-9C52-550EFCEDC720">Field Section</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-4F6F335C-CDC5-4B08-84F4-2439DD908DA0">Stop Section</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-58DBD861-FD45-4FE4-8862-7EA360BD9F71">MDATA Section</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-22EEA9FE-6051-4314-92B2-9C67CE0D167D">NDATA Section</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-F71A270E-4AFB-4B2C-B374-538566E5C403">SDATA Section</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-CD1BE817-6122-4EF7-A664-DEB7667C4B5F">Attribute Section</a> (for XML documents)
                           </p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-2F7732AB-2AE4-496F-BC0A-37FAF21FC043">Special Sections</a> (sentence or paragraphs)
                           </p>
                        </li>
                     </ul>
                     <p><a href="searching-document-sections-in-oracle-text.html#GUID-53221B04-7597-46BC-AF34-3B16BE898D7A__CACCGFDE" title="Section Types and Section Groups">Table 11-2</a><a id="d28756e1130" class="indexterm-anchor"></a><a id="d28756e1134" class="indexterm-anchor"></a><a id="d28756e1138" class="indexterm-anchor"></a> shows which section types may be used with each kind of section group.
                     </p>
                     <div class="tblformalwide" id="GUID-53221B04-7597-46BC-AF34-3B16BE898D7A__CACCGFDE">
                        <p class="titleintable">Table 11-2 Section Types and Section Groups</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Section Types and Section Groups" summary="Section Types and Section Groups" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="16%" id="d28756e1160">Section Group</th>
                                 <th align="left" valign="bottom" width="8%" id="d28756e1163">ZONE</th>
                                 <th align="left" valign="bottom" width="9%" id="d28756e1166">FIELD</th>
                                 <th align="left" valign="bottom" width="9%" id="d28756e1169">STOP</th>
                                 <th align="left" valign="bottom" width="11%" id="d28756e1172">MDATA</th>
                                 <th align="left" valign="bottom" width="10%" id="d28756e1175">NDATA</th>
                                 <th align="left" valign="bottom" width="10%" id="d28756e1178">SDATA</th>
                                 <th align="left" valign="bottom" width="15%" id="d28756e1181">ATTRIBUTE</th>
                                 <th align="left" valign="bottom" width="12%" id="d28756e1184">SPECIAL</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1189" headers="d28756e1160 ">
                                    <p>NULL</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1189 d28756e1163 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1189 d28756e1166 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1189 d28756e1169 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1189 d28756e1172 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1189 d28756e1175 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1189 d28756e1178 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1189 d28756e1181 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1189 d28756e1184 ">
                                    <p>YES</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1217" headers="d28756e1160 ">
                                    <p>BASIC</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1217 d28756e1163 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1217 d28756e1166 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1217 d28756e1169 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1217 d28756e1172 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1217 d28756e1175 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1217 d28756e1178 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1217 d28756e1181 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1217 d28756e1184 ">
                                    <p>YES</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1245" headers="d28756e1160 ">
                                    <p>HTML</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1245 d28756e1163 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1245 d28756e1166 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1245 d28756e1169 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1245 d28756e1172 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1245 d28756e1175 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1245 d28756e1178 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1245 d28756e1181 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1245 d28756e1184 ">
                                    <p>YES</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1273" headers="d28756e1160 ">
                                    <p>XML</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1273 d28756e1163 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1273 d28756e1166 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1273 d28756e1169 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1273 d28756e1172 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1273 d28756e1175 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1273 d28756e1178 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1273 d28756e1181 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1273 d28756e1184 ">
                                    <p>YES</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1301" headers="d28756e1160 ">
                                    <p>NEWS</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1301 d28756e1163 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1301 d28756e1166 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1301 d28756e1169 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1301 d28756e1172 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1301 d28756e1175 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1301 d28756e1178 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1301 d28756e1181 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1301 d28756e1184 ">
                                    <p>YES</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1329" headers="d28756e1160 ">
                                    <p>AUTO</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1329 d28756e1163 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1329 d28756e1166 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1329 d28756e1169 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1329 d28756e1172 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1329 d28756e1175 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1329 d28756e1178 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1329 d28756e1181 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1329 d28756e1184 ">
                                    <p>NO</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1357" headers="d28756e1160 ">
                                    <p>PATH</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1357 d28756e1163 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1357 d28756e1166 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1357 d28756e1169 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1357 d28756e1172 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1357 d28756e1175 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1357 d28756e1178 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1357 d28756e1181 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1357 d28756e1184 ">
                                    <p>NO</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div><a id="CCAPP9688"></a><a id="CCAPP9689"></a><a id="CCAPP9690"></a><a id="CCAPP9292"></a><div class="props_rev_3"><a id="GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E" name="GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E"></a><h5 id="CCAPP-GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E" class="sect5"><span class="enumeration_section">11.1.2.1 </span>Zone Section
                     </h5>
                     <div>
                        <p>A zone section is a body of text delimited by start and end tags in a document. The positions of the start and end tags are recorded in the index so that any words in between the tags are considered to be within the section. Any instance of a zone section must have a start and an end tag.</p>
                        <p>For example, define the text between the <code class="codeph">&lt;TITLE&gt;</code> and <code class="codeph">&lt;/TITLE&gt;</code> tags as a zone section as follows:
                        </p><pre class="oac_no_warn" dir="ltr">&lt;TITLE&gt;Tale of Two Cities&lt;/TITLE&gt;
It was the best of times...
</pre><p>Zone sections can nest, overlap, and repeat within a document.</p>
                        <p>When querying zone sections, you use the <code class="codeph">WITHIN</code> operator to search for a term across all sections. Oracle Text returns those documents that contain the term within the defined section.
                        </p>
                        <p>Zone sections are well suited for defining sections in HTML and XML documents. To define a zone section, use <code class="codeph">CTX_DDL</code>.<code class="codeph">ADD_ZONE_SECTION.</code></p>
                        <p>For example, assume you define the <code class="codeph">booktitle</code> section as follows:
                        </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('htmgroup', 'HTML_SECTION_GROUP');
ctx_ddl.add_zone_section('htmgroup', 'booktitle', 'TITLE');
end;
</pre><p>After you index, you can search for all documents that contain the term<span class="italic"> Cities</span> within the <code class="codeph">booktitle</code> section as follows:
                        </p><pre class="oac_no_warn" dir="ltr">'Cities WITHIN booktitle'
</pre><p>With multiple query terms such as <span class="italic">(dog and cat) WITHIN booktitle,</span> Oracle Text returns those documents that contain <span class="italic">cat</span> and <span class="italic">dog</span> within the same instance of a <code class="codeph">booktitle</code> section.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E__GUID-B564CCB7-32DC-4943-8170-9A5463185000">Repeated Zone Sections</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>Zone sections can repeat. Each occurrence is treated as a separate section. For example, if <code class="codeph">&lt;H1&gt;</code> denotes a <code class="codeph">heading</code> section, the heading can be repeated in the same documents as follows: 
                           </p><pre class="oac_no_warn" dir="ltr">&lt;H1&gt; The Brown Fox &lt;/H1&gt;
&lt;H1&gt; The Gray Wolf &lt;/H1&gt;
</pre><p>Assuming that these zone sections are named <code class="codeph">Heading,</code> a query of <span class="italic">Brown WITHIN Heading</span> returns this document. However, a query of <span class="italic">(Brown and Gray) WITHIN Heading</span> does not.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E__GUID-40B12380-F994-4F48-A51B-A6B9AE4AAE9F">Overlapping Zone Sections</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>Zone sections can overlap each other. For example, if <code class="codeph">&lt;B&gt;</code> and <code class="codeph">&lt;I&gt;</code> denote two different zone sections, they can overlap in a document as follows:
                           </p><pre class="oac_no_warn" dir="ltr">plain &lt;B&gt; bold &lt;I&gt; bold and italic &lt;/B&gt; only italic &lt;/I&gt;  plain</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E__GUID-6133CD0C-CA68-44DD-8F9B-B7394D06060D">Nested Zone Sections</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>Zone sections can be nested, as follows:</p><pre class="oac_no_warn" dir="ltr">&lt;TD&gt; &lt;TABLE&gt;&lt;TD&gt;nested cell&lt;/TD&gt;&lt;/TABLE&gt;&lt;/TD&gt;
</pre><p>Using the <code class="codeph">WITHIN</code> operator, you can write queries to search for text in sections within sections. For example, assume that the <code class="codeph">BOOK1, BOOK2,</code> and <code class="codeph">AUTHOR</code> zone sections occur as follows in the doc1 and doc2 documents:
                           </p>
                           <p>doc1:</p><pre class="oac_no_warn" dir="ltr">&lt;book1&gt; &lt;author&gt;Scott Tiger&lt;/author&gt; This is a cool book to read.&lt;/book1&gt;
</pre><p>doc2:</p><pre class="oac_no_warn" dir="ltr">&lt;book2&gt; &lt;author&gt;Scott Tiger&lt;/author&gt; This is a great book to read.&lt;/book2&gt;
</pre><p>Consider the nested query. It returns only doc1.</p><pre class="oac_no_warn" dir="ltr">'(Scott within author) within book1'
</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CCAPP9296"></a><div class="props_rev_3"><a id="GUID-426E9F80-530D-42B7-9C52-550EFCEDC720" name="GUID-426E9F80-530D-42B7-9C52-550EFCEDC720"></a><h5 id="CCAPP-GUID-426E9F80-530D-42B7-9C52-550EFCEDC720" class="sect5"><span class="enumeration_section">11.1.2.2 </span>Field Section
                     </h5>
                     <div>
                        <p>A field section is similar to a zone section in that it is a region of text delimited by start and end tags. Field sections are more efficient from zone sections and are different than zone sections in that the region is indexed separately from the rest of the document. You can create an unlimited number of field sections.</p>
                        <p>Because field sections are indexed differently, you can also get better query performance over zone sections when a large number of documents are indexed. </p>
                        <p>Field sections are more suited to a single occurrence of a section in a document, such as a field in a news header. Field sections can also be made visible to the rest of the document.</p>
                        <p>Unlike zone sections, field sections have the following restrictions:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>They cannot overlap.</p>
                           </li>
                           <li>
                              <p>They cannot repeat.</p>
                           </li>
                           <li>
                              <p>They cannot nest.</p>
                           </li>
                        </ul>
                        <div class="section">
                           <p class="subhead3" id="GUID-426E9F80-530D-42B7-9C52-550EFCEDC720__GUID-02402D8C-4645-4A45-A312-FAC19590F3A6">Visible and Invisible Field Sections</p>
                           <p>By default, field sections are indexed as a sub-document separate from the rest of the document. As such, field sections are invisible to the surrounding text and can only be queried by explicitly naming the section in the <code class="codeph">WITHIN</code> clause.
                           </p>
                           <p>You can make field sections visible if you want the text within the field section to be indexed as part of the enclosing document. You can query text within a visible field section with or without the <code class="codeph">WITHIN</code> operator.
                           </p>
                           <p>The following example shows the difference using invisible and visible field sections. The code defines a <code class="codeph">basicgroup</code> section group of the <code class="codeph">BASIC_SECTION_GROUP</code> type. It then creates a field section in <code class="codeph">basicgroup</code> called <code class="codeph">Author</code> for the <code class="codeph">&lt;A&gt;</code> tag. It also sets the visible flag to <code class="codeph">FALSE</code> to create an invisible section.
                           </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('basicgroup', 'BASIC_SECTION_GROUP');
ctx_ddl.add_field_section('basicgroup', 'Author', 'A', FALSE);
end;
</pre><p>Because the <code class="codeph">Author</code> field section is not visible, to find text within the <code class="codeph">Author</code> section, you must use the <code class="codeph">WITHIN</code> operator.
                           </p><pre class="oac_no_warn" dir="ltr">'(Martin Luther King) WITHIN Author'
</pre><p>A query of<span class="italic"> Martin Luther King</span> without the <code class="codeph">WITHIN</code> operator does not return instances of this term in field sections. If you want to query text within field sections without specifying <code class="codeph">WITHIN,</code> you must set the visible flag to <code class="codeph">TRUE</code> when you create the section, as follows:
                           </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.add_field_section('basicgroup', 'Author', 'A', TRUE);
end;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-426E9F80-530D-42B7-9C52-550EFCEDC720__GUID-20A3E460-9B15-444F-9C36-60F9AF2A042C">Nested Field Sections</p>
                           <p>You cannot nest field sections. For example, if you define a field section to start with <code class="codeph">&lt;TITLE&gt;</code> and define another field section to start with <code class="codeph">&lt;FOO&gt;,</code> you <span class="italic">cannot</span> nest the two sections as follows:
                           </p><pre class="oac_no_warn" dir="ltr">&lt;TITLE&gt; dog &lt;FOO&gt; cat &lt;/FOO&gt; &lt;/TITLE&gt;
</pre><p>To work with nested sections, define them as zone sections.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-426E9F80-530D-42B7-9C52-550EFCEDC720__GUID-B5B2DB9A-F68F-4000-8D41-6953B954538C">Repeated Field Sections</p>
                           <p>Repeated field sections are allowed, but <code class="codeph">WITHIN</code> queries treat them as a single section. Here is an example of a repeated field section in a document:
                           </p><pre class="oac_no_warn" dir="ltr">&lt;TITLE&gt; cat &lt;/TITLE&gt;
&lt;TITLE&gt; dog &lt;/TITLE&gt;
</pre><p>The query <span class="italic">dog and cat within title</span> returns the document, even though these words occur in different sections.
                           </p>
                           <p>To have <code class="codeph">WITHIN</code> queries distinguish repeated sections, define them as zone sections.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CCAPP9300"></a><div class="props_rev_3"><a id="GUID-4F6F335C-CDC5-4B08-84F4-2439DD908DA0" name="GUID-4F6F335C-CDC5-4B08-84F4-2439DD908DA0"></a><h5 id="CCAPP-GUID-4F6F335C-CDC5-4B08-84F4-2439DD908DA0" class="sect5"><span class="enumeration_section">11.1.2.3 </span>Stop Section
                     </h5>
                     <div>
                        <p>When you add a stop section to an automatic section group, the automatic section indexing operation ignores the specified section in XML documents.</p>
                        <div class="infoboxnote" id="GUID-4F6F335C-CDC5-4B08-84F4-2439DD908DA0__GUID-ECB85666-5497-4F7A-B93B-AF63D292D784">
                           <p class="notep1">Note:</p>
                           <p>Adding a stop section causes no section information to be created in the index. However, the text within a stop section is always searchable. </p>
                        </div>
                        <p>Adding a stop section is useful when your documents contain many low-information tags. Adding stop sections also improves indexing performance with the automatic section group.</p>
                        <p>You can add an unlimited number of stop sections.</p>
                        <p>Stop sections do not have section names and are not recorded in the section views.</p>
                     </div>
                  </div><a id="CCAPP9301"></a><div class="props_rev_3"><a id="GUID-58DBD861-FD45-4FE4-8862-7EA360BD9F71" name="GUID-58DBD861-FD45-4FE4-8862-7EA360BD9F71"></a><h5 id="CCAPP-GUID-58DBD861-FD45-4FE4-8862-7EA360BD9F71" class="sect5"><span class="enumeration_section">11.1.2.4 </span>MDATA Section
                     </h5>
                     <div>
                        <p>You use an <code class="codeph">MDATA</code> section to reference user-defined metadata for a document. <code class="codeph">MDATA</code> sections can speed up mixed queries, and there is no limit to the number of <code class="codeph">MDATA</code> sections that can be returned in a query.
                        </p>
                        <p>Consider the case where you want to query according to text content and document type (magazine, newspaper, or novel). You can create an index with a column for text and a column for the document type, and then perform a mixed query of this form. In this case, search for all novels with the phrase <span class="italic">Adam Thorpe</span> (author of the novel <span class="italic">Ulverton</span>):
                        </p><pre class="oac_no_warn" dir="ltr">SELECT id FROM documents
   WHERE doctype = 'novel'
      AND CONTAINS(text, 'Adam Thorpe')&gt;0;
</pre><p>However, it is usually faster to incorporate the attribute (in this case, the document type) in a field section, rather than using a separate column, and then using a single <code class="codeph">CONTAINS</code> query.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT id FROM documents
  WHERE CONTAINS(text, 'Adam Thorpe AND novel WITHIN doctype')&gt;0;
</pre><p>This approach has two drawbacks:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Each time the attribute is updated, the entire text document must be reindexed, resulting in increased index fragmentation and slower rates of data manipulation language (DML) processing. </p>
                           </li>
                           <li>
                              <p>Field sections tokenize the section value. Tokenization has several effects. Special characters in metadata, such as decimal points or currency characters, are not easily searchable; value searching (searching for <span class="italic">John Smith</span> but not <span class="italic">John Smith, Jr.</span>) is difficult; multiword values are queried by phrase, which is slower than single-token searching; and multiword values do not show up in browsed words, making author browsing or subject browsing impossible. 
                              </p>
                           </li>
                        </ul>
                        <p>For these reasons, using <code class="codeph">MDATA</code> sections instead of field sections may be worthwhile. <code class="codeph">MDATA</code> sections are indexed like field sections, but you can add and remove metadata values from documents without the need to reindex the document text. Unlike field sections, <code class="codeph">MDATA</code> values are not tokenized. Additionally, <code class="codeph">MDATA</code> section indexing generally takes up less disk space than field section indexing.
                        </p>
                        <p> Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), the <code class="codeph">MDATA</code> section can be updatable or nonupdatable depending on the value of its read-only tag, which can be set to either <code class="codeph">FALSE</code> or <code class="codeph">TRUE</code>.
                        </p>
                        <p>Use <code class="codeph">CTX_DDL.ADD_MDATA_SECTION</code> to add an <code class="codeph">MDATA</code> section to a section group. By default, the value of a read-only <code class="codeph">MDATA</code> section is <code class="codeph">FALSE.</code> It implies that you want to permit calling <code class="codeph">CTX_DDL.ADD_MDATA()</code> and <code class="codeph">CTX_DDL.REMOVE_MDATA()</code> for this <code class="codeph">MDATA</code> section, otherwise you can set it to <code class="codeph">TRUE.</code> When set to <code class="codeph">FALSE,</code> the queries on the <code class="codeph">MDATA</code> section run less efficiently because a cursor must be opened on the index table to track the deleted values for that <code class="codeph">MDATA</code> section. This example adds an <code class="codeph">MDATA</code> section called <code class="codeph">AUTHOR</code> and gives it the value <span class="italic">Soseki Natsume</span> (author of the novel <span class="italic">Kokoro</span>).
                        </p><pre class="oac_no_warn" dir="ltr">ctx_ddl.create.section.group('htmgroup', 'HTML_SECTION_GROUP');
ctx_ddl.add_mdata_section('htmgroup', 'author', 'Soseki Natsume');
</pre><p>You can change <code class="codeph">MDATA</code> values with <code class="codeph">CTX_DDL.ADD_MDATA,</code> and you can remove them with <code class="codeph">CTX_DDL.REMOVE_MDATA.</code> Also, <code class="codeph">MDATA</code> sections can have multiple values. Only the owner of the index may call <code class="codeph">CTX_DDL.ADD_MDATA</code> and <code class="codeph">CTX_DDL.REMOVE_MDATA.</code></p>
                        <p>Neither <code class="codeph">CTX_DDL.ADD_MDATA</code> nor <code class="codeph">CTX_DDL.REMOVE_MDATA</code> is supported for <code class="codeph">CTXCAT</code> and <code class="codeph">CTXRULE</code> indexes.
                        </p>
                        <p><code class="codeph">MDATA</code> values are not passed through a lexer. Instead, all values undergo the following simplified normalization:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Leading and trailing whitespace on the value is removed.</p>
                           </li>
                           <li>
                              <p>The value is truncated to 255 bytes.</p>
                           </li>
                           <li>
                              <p>The value is indexed as a single value; if the value consists of multiple words, it is not broken up.</p>
                           </li>
                           <li>
                              <p>Case is preserved. If the document is dynamically generated, you can implement case-insensitivity by uppercasing <code class="codeph">MDATA</code> values and making sure to search only in uppercase.
                              </p>
                           </li>
                        </ul>
                        <p>After you add <code class="codeph">MDATA</code> metadata to a document, you can query for that metadata by using the <code class="codeph">CONTAINS</code> query operator:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT id FROM documents
   WHERE CONTAINS(text, 'Tokyo and MDATA(author, Soseki Natsume)')&gt;0;
</pre><p>This query is only successful if an <code class="codeph">AUTHOR</code> tag has the exact value <span class="italic">Soseki Natsume</span> (after simplified tokenization). <span class="italic">Soseki</span> or <span class="italic">Natsume Soseki</span> returns no rows. 
                        </p>
                        <p>The following are considerations for <code class="codeph">MDATA</code>:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">MDATA</code> values are not highlightable, do not appear in the output of <code class="codeph">CTX_DOC.TOKENS,</code> and do not appear when you enable <code class="codeph">FILTER PLAINTEXT.</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">MDATA</code> sections must be unique within section groups. For example, do not use <code class="codeph">FOO</code> as the name of an <code class="codeph">MDATA</code> section and a zone or field section in the same section group.
                              </p>
                           </li>
                           <li>
                              <p>Like field sections, <code class="codeph">MDATA</code> sections cannot overlap or nest. An <code class="codeph">MDATA</code> section is implicitly closed by the first tag encountered. In this example:
                              </p><pre class="oac_no_warn" dir="ltr">&lt;AUTHOR&gt;Dickens &lt;B&gt;Shelley&lt;/B&gt; Keats&lt;/AUTHOR&gt;
</pre><p>The <code class="codeph">&lt;B&gt;</code> tag closes the <code class="codeph">AUTHOR</code> <code class="codeph">MDATA</code> section; as a result, this document has an <code class="codeph">AUTHOR</code> of 'Dickens', but not of 'Shelley' or 'Keats'. 
                              </p>
                           </li>
                           <li>
                              <p>To prevent race conditions, each call to <code class="codeph">ADD_MDATA</code> and <code class="codeph">REMOVE_MDATA</code> locks out other calls on that rowid for that index for all values and sections. However, because <code class="codeph">ADD_MDATA</code> and <code class="codeph">REMOVE_MDATA</code> do not commit, it is possible for an application to deadlock when calling them both. It is the application's responsibility to prevent deadlocking.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-58DBD861-FD45-4FE4-8862-7EA360BD9F71__GUID-8D6385E8-3361-4D68-ACB0-C9C0475EF504">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph"><span class="q">"ALTER INDEX"</span></code> in <a href="../ccref/changes-in-this-release.html#CCREF-GUID-000FA75C-978F-40D3-A2FA-DA5C241C65A3" target="_blank"><span class="italic">Oracle Text Reference</span></a></p>
                              </li>
                              <li>
                                 <p><code class="codeph"><span class="q">"ADD_MDATA_SECTION"</span></code> in <a href="../ccref/changes-in-this-release.html#CCREF-GUID-000FA75C-978F-40D3-A2FA-DA5C241C65A3" target="_blank"><span class="italic">Oracle Text Reference</span></a> 
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph"><span class="q">"CONTAINS"</span></code> query operators chapter of the <a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF0300" target="_blank"><span class="italic">Oracle Text Reference</span></a> for information on the <code class="codeph">MDATA</code> operator
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph"><span class="q">"CTX_DDL"</span></code> package chapter of <a href="../ccref/CTX_DDL-package.html#CCREF0600" target="_blank"><span class="italic">Oracle Text Reference</span></a> for information on adding and removing <code class="codeph">MDATA</code> sections
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CCAPP9555"></a><div class="props_rev_3"><a id="GUID-22EEA9FE-6051-4314-92B2-9C67CE0D167D" name="GUID-22EEA9FE-6051-4314-92B2-9C67CE0D167D"></a><h5 id="CCAPP-GUID-22EEA9FE-6051-4314-92B2-9C67CE0D167D" class="sect5"><span class="enumeration_section">11.1.2.5 </span>NDATA Section
                     </h5>
                     <div>
                        <p>For fields containing data to be indexed for name searching, you can specify them exclusively by adding <code class="codeph">NDATA</code> sections to section groups of type <code class="codeph">BASIC_SECTION_GROUP,</code> <code class="codeph">HTML_SECTION_GROUP,</code> or <code class="codeph">XML_SECTION_GROUP.</code></p>
                        <p>Users can synthesize textual documents, which contain name data, by using two possible datastores: <code class="codeph">MULTI_COLUMN_DATASTORE</code> or <code class="codeph">USER_DATASTORE.</code> The following example uses <code class="codeph">MULTI_COLUMN_DATASTORE</code> to pick up relevant columns containing the name data for indexing:
                        </p><pre class="oac_no_warn" dir="ltr">create table people(firstname varchar2(80), surname varchar2(80));
 insert into people values('John', 'Smith');
 commit;
 begin
   ctx_ddl.create_preference('nameds', 'MULTI_COLUMN_DATASTORE');
   ctx_ddl.set_attribute('nameds', 'columns', 'firstname,surname');
 end;
 / 
</pre><p>This example produces the following virtual text for indexing:</p><pre class="oac_no_warn" dir="ltr">&lt;FIRSTNAME&gt;
John
&lt;/FIRSTNAME&gt;
&lt;SURNAME&gt;
Smith
&lt;/SURNAME&gt;
</pre><p>You can then create <code class="codeph">NDATA</code> sections for <code class="codeph">FIRSTNAME</code> and <code class="codeph">SURNAME</code> sections:
                        </p><pre class="oac_no_warn" dir="ltr">begin
  ctx_ddl.create_section_group('namegroup', 'BASIC_SECTION_GROUP');
  ctx_ddl.add_ndata_section('namegroup', 'FIRSTNAME', 'FIRSTNAME');
  ctx_ddl.add_ndata_section('namegroup', 'SURNAME', 'SURNAME');
end;
/
</pre><p>Next, create the index by using the datastore preference and section group preference that you created earlier:</p><pre class="oac_no_warn" dir="ltr">create index peopleidx on people(firstname) indextype is ctxsys.context
parameters('section group namegroup datastore nameds');
</pre><p><code class="codeph">NDATA</code> sections support both single- and multibyte data with character- and term-based limitations. <code class="codeph">NDATA</code> section data that is indexed is constrained as follows:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The number of characters in a single, whitespace-delimited term: 511</p>
                           </li>
                           <li>
                              <p>The number of whitespace-delimited terms: 255</p>
                           </li>
                           <li>
                              <p>The total number of characters, including whitespaces: 511</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CCAPP9472"></a><div class="props_rev_3"><a id="GUID-F71A270E-4AFB-4B2C-B374-538566E5C403" name="GUID-F71A270E-4AFB-4B2C-B374-538566E5C403"></a><h5 id="CCAPP-GUID-F71A270E-4AFB-4B2C-B374-538566E5C403" class="sect5"><span class="enumeration_section">11.1.2.6 </span>SDATA Section
                     </h5>
                     <div>
                        <p>The <a id="d28756e2510" class="indexterm-anchor"></a><a id="d28756e2512" class="indexterm-anchor"></a><a id="d28756e2514" class="indexterm-anchor"></a><a id="d28756e2518" class="indexterm-anchor"></a><a id="d28756e2522" class="indexterm-anchor"></a><a id="d28756e2526" class="indexterm-anchor"></a><a id="d28756e2528" class="indexterm-anchor"></a><a id="d28756e2532" class="indexterm-anchor"></a><a id="d28756e2536" class="indexterm-anchor"></a><a id="d28756e2540" class="indexterm-anchor"></a>value of an <code class="codeph">SDATA</code> section is extracted from the document text like other sections, but it is indexed as structured data, also referred to as <code class="codeph">SDATA.</code> <code class="codeph">SDATA</code> sections support operations such as projection, range searches, and ordering. <code class="codeph">SDATA</code> sections  also enable <code class="codeph">SDATA</code> indexing of section data (such as embedded tags) and detail table or function invocations. You can perform various combinations of text and structured searches in one single SQL statement.
                        </p>
                        <p>Use <code class="codeph">SDATA</code> operators only as descendants of <code class="codeph">AND</code> operators that also have non-<code class="codeph">SDATA</code> children. <code class="codeph">SDATA</code> operators are meant to be used as secondary (checking or non-driving) criteria. For example, "find documents with DOG that also have price &gt; 5", rather than "find documents with rating &gt; 4". 
                        </p>
                        <p>Use <code class="codeph">CTX_DDL.ADD_SDATA_SECTION</code> to add an <code class="codeph">SDATA</code> section to a section group. Use <code class="codeph">CTX_DDL.UPDATE_SDATA</code> to update the values of an existing <code class="codeph">SDATA</code> section. When querying within an <code class="codeph">SDATA</code> section, you must use the <code class="codeph">CONTAINS</code> operator. The following example creates a table called <code class="codeph">items,</code> adds an <code class="codeph">SDATA</code> section called <code class="codeph">my_sec_group,</code> and then queries <code class="codeph">SDATA</code> in the section.
                        </p>
                        <p>After you create an <code class="codeph">SDATA</code> section, you can further modify the attributes of the <code class="codeph">SDATA</code> section by using <code class="codeph">CTX_DDL.SET_SECTION_ATTRIBUTE</code>.
                        </p>
                        <p>Create the <code class="codeph">items</code> table:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE items 
(id  NUMBER PRIMARY KEY, 
 doc VARCHAR2(4000));
 
INSERT INTO items VALUES (1, '&lt;description&gt; Honda Pilot &lt;/description&gt;
                              &lt;category&gt; Cars &amp; Trucks &lt;/category&gt;
                              &lt;price&gt; 27000 &lt;/price&gt;');
INSERT INTO items VALUES (2, '&lt;description&gt; Toyota Sequoia &lt;/description&gt;
                              &lt;category&gt; Cars &amp; Trucks &lt;/category&gt;
                              &lt;price&gt; 35000 &lt;/price&gt;');
INSERT INTO items VALUES (3, '&lt;description&gt; Toyota Land Cruiser &lt;/description&gt;
                              &lt;category&gt; Cars &amp; Trucks &lt;/category&gt;
                              &lt;price&gt; 45000 &lt;/price&gt;');
INSERT INTO items VALUES (4, '&lt;description&gt; Palm Pilot &lt;/description&gt;
                              &lt;category&gt; Electronics &lt;/category&gt;
                              &lt;price&gt; 5 &lt;/price&gt;');
INSERT INTO items VALUES (5, '&lt;description&gt; Toyota Land Cruiser Grill &lt;/description&gt;
                              &lt;category&gt; Parts &amp; Accessories &lt;/category&gt;
                              &lt;price&gt; 100 &lt;/price&gt;');
COMMIT;
</pre><p>Add the <code class="codeph">my_sec_group</code> <code class="codeph">SDATA</code> section:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  CTX_DDL.CREATE_SECTION_GROUP('my_sec_group', 'BASIC_SECTION_GROUP');
  CTX_DDL.ADD_SDATA_SECTION('my_sec_group', 'category', 'category', 'VARCHAR2');
  CTX_DDL.ADD_SDATA_SECTION('my_sec_group', 'price', 'price', 'NUMBER');
END;
 </pre><p>Create the <code class="codeph">CONTEXT</code> index:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX items$doc 
  ON items(doc) 
  INDEXTYPE IS CTXSYS.CONTEXT
  PARAMETERS('SECTION GROUP my_sec_group');
 </pre><p>Run a query:</p><pre class="oac_no_warn" dir="ltr">SELECT id, doc
  FROM items
  WHERE contains(doc, 'Toyota 
                       AND SDATA(category = ''Cars &amp; Trucks'') 
                       AND SDATA(price &lt;= 40000 )') &gt; 0;
</pre><p>Return the results:</p><pre class="oac_no_warn" dir="ltr">  ID DOC
---- ----------------------------------------------------------------------
   2 &lt;description&gt; Toyota Sequoia &lt;/description&gt;
                                   &lt;category&gt; Cars &amp; Trucks &lt;/category&gt;
                                   &lt;price&gt; 35000 &lt;/price&gt;</pre><p>Consider a document whose rowid is 1. This example updates the value of the <code class="codeph">price</code> <code class="codeph">SDATA</code> section to a new value of 30000:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
    SELECT ROWID INTO rowid_to_update FROM items WHERE id=1;

    CTX_DDL.UPDATE_SDATA('items$doc', 
                         'price',
                         SYS.ANYDATA.CONVERTVARCHAR2('30000'),
                         rowid_to_update);
END;</pre><p>After executing the query, the price of <code class="codeph">Honda Pilot</code> is changed from 27000 to 30000.
                        </p>
                        <div class="infoboxnote" id="GUID-F71A270E-4AFB-4B2C-B374-538566E5C403__GUID-5B810B7C-79CC-4234-94C1-5B8EC2747E83">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You can also add an <code class="codeph">SDATA</code> section to an existing index. Use the <code class="codeph">ADD SDATA SECTION</code> parameter of the <code class="codeph">ALTER INDEX PARAMETERS</code> statement. See the "ALTER INDEX" section of the <a href="../ccref/oracle-text-SQL-statements-and-operators.html#CCREF-GUID-47E60252-C731-46A8-B587-AE30C1634F48" target="_blank"><span class="italic">Oracle Text Reference</span></a> for more information.
                                 </p>
                              </li>
                              <li>
                                 <p>Documents that were indexed before adding an <code class="codeph">SDATA</code> section do not reflect this new preference. Rebuild the index in this case.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-F71A270E-4AFB-4B2C-B374-538566E5C403__GUID-BAC8590F-7D24-4D69-BBF7-AAF83041C8D9">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The "<code class="codeph">CONTAINS</code>" query section of the <a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF0300" target="_blank"><span class="italic">Oracle Text Reference</span></a> for information on the <code class="codeph">SDATA</code> operator
                                 </p>
                              </li>
                              <li>
                                 <p>The "<code class="codeph">CTX_DDL</code>" package section of the <a href="../ccref/CTX_DDL-package.html#CCREF0600" target="_blank"><span class="italic">Oracle Text Reference</span></a> for information on adding and updating the <code class="codeph">SDATA</code> sections and changing their attributes by using the <code class="codeph">ADD_SDATA_SECTION</code>,  <code class="codeph">SET_SECTION_ATTRIBUTE</code>, and the <code class="codeph">UPDATE_SDATA</code> procedures
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p><span class="bold">Storage</span></p>
                        <p>For <code class="codeph">optimized_for</code> search <code class="codeph">SDATA</code> sections, use <code class="codeph">CTX_DDL.SET_ATTRIBUTE</code> to specify the storage preferences for the <code class="codeph">$S<span class="codeinlineitalic">datatype</span></code> tables and the indexes on these tables.
                        </p>
                        <p>By default, large object (LOB) caching is turned on for <code class="codeph">$S*</code> tables and off for <code class="codeph">$S*</code> indexes. These attributes are valid only on <code class="codeph">SDATA</code> sections.
                        </p>
                        <p><span class="bold">Query Operators</span></p>
                        <p><code class="codeph">optimized_for search SDATA</code> supports the following query operators:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>=</p>
                           </li>
                           <li>
                              <p>&lt;&gt;</p>
                           </li>
                           <li>
                              <p>between</p>
                           </li>
                           <li>
                              <p>not between</p>
                           </li>
                           <li>
                              <p>&lt;=</p>
                           </li>
                           <li>
                              <p>&lt;</p>
                           </li>
                           <li>
                              <p>&gt;=</p>
                           </li>
                           <li>
                              <p>&gt;</p>
                           </li>
                           <li>
                              <p>is null</p>
                           </li>
                           <li>
                              <p>is not null</p>
                           </li>
                           <li>
                              <p>like</p>
                           </li>
                           <li>
                              <p>not like</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CCAPP9303"></a><div class="props_rev_3"><a id="GUID-CD1BE817-6122-4EF7-A664-DEB7667C4B5F" name="GUID-CD1BE817-6122-4EF7-A664-DEB7667C4B5F"></a><h5 id="CCAPP-GUID-CD1BE817-6122-4EF7-A664-DEB7667C4B5F" class="sect5"><span class="enumeration_section">11.1.2.7 </span>Attribute Section
                     </h5>
                     <div>
                        <p>You can define attribute sections to query on XML attribute text. You can also have the system automatically define and index XML attributes for you.</p>
                        <div class="infoboxnotealso" id="GUID-CD1BE817-6122-4EF7-A664-DEB7667C4B5F__GUID-03D76EEE-3C07-4227-8170-09E200A3AA7D">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="searching-document-sections-in-oracle-text.html#GUID-8D535B14-B377-4766-A062-1DA912438E23">XML Section Searching with Oracle Text</a>"</span></p>
                        </div>
                     </div>
                  </div><a id="CCAPP9516"></a><a id="CCAPP9304"></a><div class="props_rev_3"><a id="GUID-2F7732AB-2AE4-496F-BC0A-37FAF21FC043" name="GUID-2F7732AB-2AE4-496F-BC0A-37FAF21FC043"></a><h5 id="CCAPP-GUID-2F7732AB-2AE4-496F-BC0A-37FAF21FC043" class="sect5"><span class="enumeration_section">11.1.2.8 </span>Special Sections
                     </h5>
                     <div>
                        <p>Special sections are not recognized by tags. Currently, sentence and paragraph are the only supported special sections, and they enable you to search for a combination of words within sentences or paragraphs.</p>
                        <p>The sentence and paragraph boundaries are determined by the lexer. For example, <code class="codeph">BASIC_LEXER</code> recognizes sentence and paragraph section boundaries as follows:
                        </p>
                        <div class="tblformal" id="GUID-2F7732AB-2AE4-496F-BC0A-37FAF21FC043__GUID-C2295E0F-20F6-4E54-9C17-994C8979D217">
                           <p class="titleintable">Table 11-3 Sentence and Paragraph Section Boundaries for BASIC_LEXER</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Sentence and Paragraph Section Boundaries for BASIC_LEXER" summary="This table shows sentence and paragraph section boundaries for BASIC_LEXER." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d28756e2974">Special Section</th>
                                    <th align="left" valign="bottom" width="69%" id="d28756e2977">Boundary</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d28756e2982" headers="d28756e2974 ">
                                       <p>SENTENCE</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d28756e2982 d28756e2977 ">
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>WORD/PUNCT/WHITESPACE</p>
                                          </li>
                                          <li>
                                             <p>WORD/PUNCT/NEWLINE</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d28756e2994" headers="d28756e2974 ">
                                       <p>PARAGRAPH</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d28756e2994 d28756e2977 ">
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>WORD/PUNCT/NEWLINE/WHITESPACE</p>
                                          </li>
                                          <li>
                                             <p>WORD/PUNCT/NEWLINE/NEWLINE</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>If the lexer cannot recognize the boundaries, then no sentence or paragraph sections are indexed.</p>
                        <p>To add a special section, use the <code class="codeph">CTX_DDL</code>.<code class="codeph">ADD_SPECIAL_SECTION</code> procedure. For example, the following code enables searches within sentences in HTML documents:
                        </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('htmgroup', 'HTML_SECTION_GROUP');
ctx_ddl.add_special_section('htmgroup', 'SENTENCE');
end;
</pre><p>To enable zone and sentence searches, add zone sections to the group. The following example adds the <code class="codeph">Headline</code> zone section to the <code class="codeph">htmgroup</code> section group:
                        </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('htmgroup', 'HTML_SECTION_GROUP');
ctx_ddl.add_special_section('htmgroup', 'SENTENCE');
ctx_ddl.add_zone_section('htmgroup', 'Headline', 'H1');
end;</pre></div>
                  </div>
               </div><a id="CCAPP9557"></a><a id="CCAPP9556"></a><div class="props_rev_3"><a id="GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7" name="GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7"></a><h4 id="CCAPP-GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7" class="sect4"><span class="enumeration_section">11.1.3 </span>Oracle Text Section Attributes
                  </h4>
                  <div>
                     <p>Section attributes are the settings for the Oracle Text sections of tokenized type, such as field, zone, hybrid, and <code class="codeph">SDATA.</code> Section attributes improve query performance because of the finer control at the section level, rather than at the document level or index level.
                     </p>
                     <p>By using the section attributes, you can specify:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Lexer preferences on certain sections of a document. The preferences are useful for part-name searches, when a section of a document containing a part name needs to be lexed differently than the rest of the document. You can also use the lexer preferences for handling multilanguage documents, where there is a section to language mapping.</p>
                        </li>
                        <li>
                           <p>A substring index only on certain sections of a document. This index helps reduce the index size.</p>
                        </li>
                        <li>
                           <p>Prefix tokens only on certain sections of a document. The prefix tokens improve the performance of right-truncated queries, but can also cause the index size to grow rapidly. Specifying prefix indexing only on certain sections provides improved performance for the right-truncated queries on the specific sections, without rapidly growing the size of the index.</p>
                        </li>
                        <li>
                           <p>Stoplists for certain sections of a document.</p>
                        </li>
                        <li>
                           <p>A new section type that combines the flexibility of zone sections with the performance of field sections. Currently, zone sections have poor performance compared with field sections. However, field sections do not support nested section search.</p>
                        </li>
                     </ul>
                     <p>To set section attributes, use the <code class="codeph">CTX_DDL.SET_SECTION_ATTRIBUTE</code> procedure.
                     </p>
                     <p><a href="searching-document-sections-in-oracle-text.html#GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7__CACBGCHA" title="This table shows the various types of section types you can use.">Table 11-4</a><a id="d28756e3124" class="indexterm-anchor"></a><a id="d28756e3128" class="indexterm-anchor"></a><a id="d28756e3132" class="indexterm-anchor"></a> lists the section attributes that you can use:
                     </p>
                     <div class="tblformal" id="GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7__CACBGCHA">
                        <p class="titleintable">Table 11-4 Section Attributes</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Section Attributes" summary="This table shows the various types of section types you can use." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="36%" id="d28756e3147">Section Attribute</th>
                                 <th align="left" valign="bottom" width="64%" id="d28756e3150">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d28756e3155" headers="d28756e3147 ">
                                    <p><code class="codeph">visible</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d28756e3155 d28756e3150 ">
                                    <p>Use the <code class="codeph">visible</code> attribute for all section types that are tokenized, except the zone section type. Thus, the <code class="codeph">visible</code> attribute can be used for field, hybrid, and <code class="codeph">SDATA</code> section types.
                                    </p>
                                    <p>Specify <code class="codeph">TRUE</code> to make the text visible within a document. The text in the field section is indexed as part of the enclosing document.
                                    </p>
                                    <p>The default is <code class="codeph">FALSE</code>. The text in the field section is indexed separately from the rest of the document.
                                    </p>
                                    <p>For the Field section type, the visible attribute overrides the value specified in the <code class="codeph">CTX_DDL.ADD_FIELD_SECTION</code> procedure.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d28756e3187" headers="d28756e3147 ">
                                    <p><code class="codeph">lexer</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d28756e3187 d28756e3150 ">
                                    <p>Use the <code class="codeph">lexer</code> attribute for all section types that are tokenized (field, zone, hybrid, and <code class="codeph">SDATA</code> sections).
                                    </p>
                                    <p>Specify the lexer preference name to decide the tokenization of an SDATA section. The default is <code class="codeph">NULL,</code> and the lexer for the main document is used.
                                    </p>
                                    <p>The lexer preference must be valid at the time of calling the <code class="codeph">set_section_attribute</code> procedure. If you try to drop one of the preferences when an existing field section refers to a lexer preference, then the <code class="codeph">drop_preference</code> procedure fails.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d28756e3214" headers="d28756e3147 ">
                                    <p><code class="codeph">wordlist</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d28756e3214 d28756e3150 ">
                                    <p>Use the <code class="codeph">wordlist</code> attribute for all section types that are tokenized (field, zone, hybrid, and <code class="codeph">SDATA</code> sections).
                                    </p>
                                    <p>To enable section-specific prefix indexing and substring indexing, specify the wordlist preference name for a section. The default is <code class="codeph">NULL,</code> and the wordlist for the main document is used.
                                    </p>
                                    <p>The wordlist preference must be valid at the time of calling the <code class="codeph">set_section_attribute</code> procedure. If you try to drop one of the preferences when an existing field section refers to a wordlist preference, then the <code class="codeph">drop_preference</code> procedure fails.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d28756e3241" headers="d28756e3147 ">
                                    <p><code class="codeph">stoplist</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d28756e3241 d28756e3150 ">
                                    <p>Use the <code class="codeph">stoplist</code> attribute for all section types that are tokenized (field, zone, hybrid, and <code class="codeph">SDATA</code> sections).
                                    </p>
                                    <p>To enable a section-specific stoplist, specify the stoplist preference name. The default is <code class="codeph">NULL,</code> and the stoplist for the main document is used.
                                    </p>
                                    <p>The stoplist preference must be valid at the time of calling the <code class="codeph">set_section_attribute</code> procedure. If you try to drop one of the preferences when an existing field section refers to a stoplist preference, then the <code class="codeph">drop_preference</code> procedure fails.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The following example enables the <code class="codeph">visible</code> attribute of a Field section:
                     </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group(‘fieldgroup', ‘BASIC_SECTION_GROUP');
ctx_ddl.add_field_section(‘fieldgroup', ‘author', ‘AUTHOR');
ctx_ddl.set_section_attribute(‘fieldgroup', ‘author', ‘visible', ‘true');
end;</pre><div class="infoboxnotealso" id="GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7__GUID-D0818B4A-338D-4978-B048-1A576D45DF3F">
                        <p class="notep1">See Also:</p>
                        <p><a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF0300" target="_blank"><span class="italic">Oracle Text Reference</span></a> for the syntax of <code class="codeph">CTX_DDL.SET_SECTION_ATTRIBUTE</code> procedure.
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="CCAPP9305"></a><div class="props_rev_3"><a id="GUID-2F7B1652-42FB-4A0A-A37F-652DDCB82182" name="GUID-2F7B1652-42FB-4A0A-A37F-652DDCB82182"></a><h3 id="CCAPP-GUID-2F7B1652-42FB-4A0A-A37F-652DDCB82182" class="sect3"><span class="enumeration_section">11.2 </span>HTML Section Searching with Oracle Text
               </h3>
               <div>
                  <p>HTML has internal structure in the form of tagged text that you can use for section searching. For example, define a section called <code class="codeph">headings</code> for the <code class="codeph">&lt;H1&gt;</code> tag, and then search for terms only within these tags across your document set. 
                  </p>
                  <p>To query, you use the <code class="codeph">WITHIN</code> operator. Oracle Text returns all documents that contain your query term within the <code class="codeph">headings</code> section. For example, if you want to find all documents that contain the word <code class="codeph">oracle</code> within <code class="codeph">headings,</code> enter the following query:
                  </p><pre class="oac_no_warn" dir="ltr">'oracle within headings'
</pre><p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-407F6C32-D2C7-45A7-8B36-A6C8DBB2C6BC">Creating HTML Sections</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-8BF45F86-6AFD-4BA2-A1DB-7F08D39A7E75">Searching HTML Meta Tags</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9306"></a><div class="props_rev_3"><a id="GUID-407F6C32-D2C7-45A7-8B36-A6C8DBB2C6BC" name="GUID-407F6C32-D2C7-45A7-8B36-A6C8DBB2C6BC"></a><h4 id="CCAPP-GUID-407F6C32-D2C7-45A7-8B36-A6C8DBB2C6BC" class="sect4"><span class="enumeration_section">11.2.1 </span>Creating HTML Sections
                  </h4>
                  <div>
                     <p>The following code defines a section group called <code class="codeph">htmgroup</code> of type <code class="codeph">HTML_SECTION_GROUP.</code> It then creates a zone section in <code class="codeph">htmgroup</code> called <code class="codeph">heading</code> identified by the <code class="codeph">&lt;H1&gt;</code> tag:
                     </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('htmgroup', 'HTML_SECTION_GROUP');
ctx_ddl.add_zone_section('htmgroup', 'heading', 'H1');
end;
</pre><p>You can then index your documents as follows:</p><pre class="oac_no_warn" dir="ltr">create index myindex on docs(htmlfile) indextype is ctxsys.context
parameters('filter ctxsys.null_filter section group htmgroup');
</pre><p>After indexing with the <code class="codeph">htmgroup</code> section group, you can query within the <code class="codeph">heading</code> section by issuing this query:
                     </p><pre class="oac_no_warn" dir="ltr">'Oracle WITHIN heading'</pre></div>
               </div><a id="CCAPP9691"></a><a id="CCAPP9307"></a><div class="props_rev_3"><a id="GUID-8BF45F86-6AFD-4BA2-A1DB-7F08D39A7E75" name="GUID-8BF45F86-6AFD-4BA2-A1DB-7F08D39A7E75"></a><h4 id="CCAPP-GUID-8BF45F86-6AFD-4BA2-A1DB-7F08D39A7E75" class="sect4"><span class="enumeration_section">11.2.2 </span>Searching HTML Meta Tags
                  </h4>
                  <div>
                     <p>With HTML documents, you can also create sections for <code class="codeph">NAME/CONTENT</code> pairs in <code class="codeph">&lt;META&gt;</code> tags. When you do so, you can limit your searches to text within <code class="codeph">CONTENT.</code></p>
                     <div class="section">
                        <p>Consider an HTML document that has the following <code class="codeph">META</code> tag:
                        </p><pre class="oac_no_warn" dir="ltr">&lt;META NAME="author" CONTENT="ken"&gt;
</pre><p>Create a zone section that indexes all <code class="codeph">CONTENT</code> attributes for the <code class="codeph">META</code> tag whose <code class="codeph">NAME</code> value is author:
                        </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('htmgroup', 'HTML_SECTION_GROUP');
ctx_ddl.add_zone_section('htmgroup', 'author', 'meta@author');
end
</pre><p>After indexing with the <code class="codeph">htmgroup</code>  section group, you can query the document:
                        </p><pre class="oac_no_warn" dir="ltr">'ken WITHIN author'</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="CCAPP9309"></a><div class="props_rev_3"><a id="GUID-8D535B14-B377-4766-A062-1DA912438E23" name="GUID-8D535B14-B377-4766-A062-1DA912438E23"></a><h3 id="CCAPP-GUID-8D535B14-B377-4766-A062-1DA912438E23" class="sect3"><span class="enumeration_section">11.3 </span>XML Section Searching with Oracle Text
               </h3>
               <div>
                  <p>Like HTML documents, XML documents have tagged text that you can use to define blocks of text for section searching. You can search the contents of a section with the <code class="codeph">WITHIN</code> or <code class="codeph">INPATH</code> operators. 
                  </p>
                  <p>The following sections describe the different types of XML searching:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-46DC9D00-19DC-4B39-8D84-5D5E05288833">Automatic Sectioning</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-91B86C14-8744-4958-99C4-E65337AB0797">Attribute Searching</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-DA44A63B-459D-43E4-B454-871ED8BD36D7">Document Type Sensitive Sections</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-B06BB08F-831F-4FBB-A586-32487D45F132">Path Section Searching</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9310"></a><div class="props_rev_3"><a id="GUID-46DC9D00-19DC-4B39-8D84-5D5E05288833" name="GUID-46DC9D00-19DC-4B39-8D84-5D5E05288833"></a><h4 id="CCAPP-GUID-46DC9D00-19DC-4B39-8D84-5D5E05288833" class="sect4"><span class="enumeration_section">11.3.1 </span>Automatic Sectioning
                  </h4>
                  <div>
                     <p>To set up your indexing operation to automatically create sections from XML documents, use the <code class="codeph">AUTO_SECTION_GROUP</code> section group. The system creates zone sections for XML tags. Attribute sections are created for the tags that have attributes and for the sections named in the form <code class="codeph">tag@attribute.</code></p>
                     <p>For example, the following statement uses the <code class="codeph">AUTO_SECTION_GROUP</code> to create the <span class="italic">myindex</span> index on a column containing the XML files:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX myindex
ON xmldocs(xmlfile)
 INDEXTYPE IS ctxsys.context
PARAMETERS ('datastore ctxsys.default_datastore 
             filter ctxsys.null_filter 
             section group ctxsys.auto_section_group'
           );</pre></div>
               </div><a id="CCAPP9311"></a><div class="props_rev_3"><a id="GUID-91B86C14-8744-4958-99C4-E65337AB0797" name="GUID-91B86C14-8744-4958-99C4-E65337AB0797"></a><h4 id="CCAPP-GUID-91B86C14-8744-4958-99C4-E65337AB0797" class="sect4"><span class="enumeration_section">11.3.2 </span>Attribute Searching
                  </h4>
                  <div>
                     <p>You can search XML attribute text in one of two ways: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Creating Attribute Sections</span></p>
                           <p>Create attribute sections with <code class="codeph">CTX_DDL</code>.<code class="codeph">ADD_ATTR_SECTION</code> and then index with <code class="codeph">XML_SECTION_GROUP.</code> If you use <code class="codeph">AUTO_SECTION_GROUP</code> when you index, attribute sections are created automatically. You can query attribute sections with the <code class="codeph">WITHIN</code> operator. 
                           </p>
                           <p>Consider an XML file that defines the <code class="codeph">BOOK</code> tag with a <code class="codeph">TITLE</code> attribute:
                           </p><pre class="oac_no_warn" dir="ltr">&lt;BOOK TITLE="Tale of Two Cities"&gt; 
  It was the best of times. 
&lt;/BOOK&gt; 
</pre><p>To define the title attribute as an attribute section, create an <code class="codeph">XML_SECTION_GROUP</code> and define the attribute section:
                           </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('myxmlgroup', 'XML_SECTION_GROUP');
ctx_ddl.add_attr_section('myxmlgroup', 'booktitle', 'book@title');
end;
</pre><p>To index:</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX myindex
ON xmldocs(xmlfile)
INDEXTYPE IS ctxsys.context
PARAMETERS ('datastore ctxsys.default_datastore 
             filter ctxsys.null_filter 
             section group myxmlgroup'
           );
</pre><p>To query the <span class="italic">booktitle</span> XML attribute section:
                           </p><pre class="oac_no_warn" dir="ltr">'Cities within booktitle'</pre></li>
                        <li>
                           <p><span class="bold">Searching Attributes with the INPATH Operator</span></p>
                           <p>Index with the <code class="codeph">PATH_SECTION_GROUP</code> and query attribute text with the <code class="codeph">INPATH</code> operator.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-91B86C14-8744-4958-99C4-E65337AB0797__GUID-CB165855-F347-48D1-B6A0-48C5CD2C349F">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="searching-document-sections-in-oracle-text.html#GUID-B06BB08F-831F-4FBB-A586-32487D45F132">Path Section Searching</a>"</span></p>
                     </div>
                  </div>
               </div><a id="CCAPP9314"></a><div class="props_rev_3"><a id="GUID-DA44A63B-459D-43E4-B454-871ED8BD36D7" name="GUID-DA44A63B-459D-43E4-B454-871ED8BD36D7"></a><h4 id="CCAPP-GUID-DA44A63B-459D-43E4-B454-871ED8BD36D7" class="sect4"><span class="enumeration_section">11.3.3 </span>Document Type Sensitive Sections
                  </h4>
                  <div>
                     <p>For an XML document set that contains the <code class="codeph">&lt;book&gt;</code> tag declared for different document types, you may want to create a distinct book section for each document type to improve search capability. The following scenario shows you how to create book sections for each document type.
                     </p>
                     <p>Assume that <code class="codeph">mydocname1</code> is declared as an XML document type (root element):
                     </p><pre class="oac_no_warn" dir="ltr">&lt;!DOCTYPE mydocname1 ... [...
</pre><p>Within <code class="codeph">mydocname1,</code>, the <code class="codeph">&lt;book&gt;</code> element is declared. For this tag, you can create a section named <code class="codeph">mybooksec1</code> that is sensitive to the tag's document type:
                     </p><pre class="oac_no_warn" dir="ltr">begin</pre><pre class="oac_no_warn" dir="ltr">ctx_ddl.create_section_group('myxmlgroup', 'XML_SECTION_GROUP');
ctx_ddl.add_zone_section('myxmlgroup', 'mybooksec1', 'mydocname1(book)');</pre><pre class="oac_no_warn" dir="ltr">end;
</pre><p>Assume that <code class="codeph">mydocname2</code> is declared as another XML document type (root element):
                     </p><pre class="oac_no_warn" dir="ltr">&lt;!DOCTYPE mydocname2 ... [...
</pre><p>Within <code class="codeph">mydocname2,</code>, the <code class="codeph">&lt;book&gt;</code> element is declared. For this tag, you can create a section named <code class="codeph">mybooksec2</code> that is sensitive to the tag's document type:
                     </p><pre class="oac_no_warn" dir="ltr">begin</pre><pre class="oac_no_warn" dir="ltr">ctx_ddl.create_section_group('myxmlgroup', 'XML_SECTION_GROUP');
ctx_ddl.add_zone_section('myxmlgroup', 'mybooksec2', 'mydocname2(book)');</pre><pre class="oac_no_warn" dir="ltr">end;
</pre><p>To query within the <code class="codeph">mybooksec1</code> section, use <code class="codeph">WITHIN</code>:
                     </p><pre class="oac_no_warn" dir="ltr">'oracle within mybooksec1'</pre></div>
               </div><a id="CCAPP9315"></a><div class="props_rev_3"><a id="GUID-B06BB08F-831F-4FBB-A586-32487D45F132" name="GUID-B06BB08F-831F-4FBB-A586-32487D45F132"></a><h4 id="CCAPP-GUID-B06BB08F-831F-4FBB-A586-32487D45F132" class="sect4"><span class="enumeration_section">11.3.4 </span>Path Section Searching
                  </h4>
                  <div>
                     <p>XML documents can have parent-child tag structures such as:</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt; &lt;B&gt; &lt;C&gt; dog &lt;/C&gt; &lt;/B&gt; &lt;/A&gt;
</pre><p>In this scenario, tag C is a child of tag B, which is a child of tag A.</p>
                     <p>With Oracle Text, you can search paths with <code class="codeph">PATH_SECTION_GROUP.</code> This section group enables you to specify direct parentage in queries, such as to find all documents that contain the term <span class="italic">dog</span> in element C, which is a child of element B, and so on.
                     </p>
                     <p>With <code class="codeph">PATH_SECTION_GROUP,</code> you can also perform attribute value searching and attribute equality testing.
                     </p>
                     <p>The new operators associated with this feature are </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">INPATH</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">HASPATH</code></p>
                        </li>
                     </ul>
                     <p>This section contains the following topics.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-7C14AE2D-64AA-4459-8D62-2EAF5DBCF921">Creating an Index with PATH_SECTION_GROUP</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-AC618E08-E422-4401-B654-2682DB8F4B1C">Top-Level Tag Searching</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-71A48905-34EB-4392-A74E-E50CD66F4555">Any-Level Tag Searching</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-B03DCEF8-1885-49CE-B4A2-8A742CE6C92A">Direct Parentage Searching</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-2EA144DC-21AF-4CC0-A7BE-43A75566AB9E">Tag Value Testing</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-4794BF0E-9681-45DC-B674-98969DD09C94">Attribute Searching</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-D3AB31A4-C7BD-4575-A9B9-1A91C49DD7C5">Attribute Value Testing</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-6AC290D3-4FDB-43F7-ABA3-040EE4191D53">Path Testing</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-BAAF07B7-CD52-4082-BF6E-BCC05AF32146">Section Equality Testing with HASPATH</a></p>
                        </li>
                     </ul>
                  </div><a id="CCAPP9316"></a><div class="props_rev_3"><a id="GUID-7C14AE2D-64AA-4459-8D62-2EAF5DBCF921" name="GUID-7C14AE2D-64AA-4459-8D62-2EAF5DBCF921"></a><h5 id="CCAPP-GUID-7C14AE2D-64AA-4459-8D62-2EAF5DBCF921" class="sect5"><span class="enumeration_section">11.3.4.1 </span>Creating an Index with PATH_SECTION_GROUP
                     </h5>
                     <div>
                        <p>To enable path section searching, index your XML document set with <code class="codeph">PATH_SECTION_GROUP.</code> For example:
                        </p>
                        <p>Create the preference.</p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('xmlpathgroup', 'PATH_SECTION_GROUP');
end;
</pre><p>Create the index.</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX myindex
ON xmldocs(xmlfile)
INDEXTYPE IS ctxsys.context
PARAMETERS ('datastore ctxsys.default_datastore 
             filter ctxsys.null_filter 
             section group xmlpathgroup'
           );</pre><pre class="oac_no_warn" dir="ltr"></pre><p>When you create the index, you can use the <code class="codeph">INPATH</code> and <code class="codeph">HASPATH</code> operators.
                        </p>
                     </div>
                  </div><a id="CCAPP9317"></a><div class="props_rev_3"><a id="GUID-AC618E08-E422-4401-B654-2682DB8F4B1C" name="GUID-AC618E08-E422-4401-B654-2682DB8F4B1C"></a><h5 id="CCAPP-GUID-AC618E08-E422-4401-B654-2682DB8F4B1C" class="sect5"><span class="enumeration_section">11.3.4.2 </span>Top-Level Tag Searching
                     </h5>
                     <div>
                        <p>To find all documents that contain the term <span class="italic">dog</span> in the top-level tag <code class="codeph">&lt;A&gt;:</code></p><pre class="oac_no_warn" dir="ltr">dog INPATH (/A)
</pre><p>or</p><pre class="oac_no_warn" dir="ltr">dog INPATH(A)</pre></div>
                  </div><a id="CCAPP9318"></a><div class="props_rev_3"><a id="GUID-71A48905-34EB-4392-A74E-E50CD66F4555" name="GUID-71A48905-34EB-4392-A74E-E50CD66F4555"></a><h5 id="CCAPP-GUID-71A48905-34EB-4392-A74E-E50CD66F4555" class="sect5"><span class="enumeration_section">11.3.4.3 </span>Any-Level Tag Searching
                     </h5>
                     <div>
                        <p>To find all documents that contain the term <span class="italic">dog</span> in the <code class="codeph">&lt;A&gt;</code> tag at any level:
                        </p><pre class="oac_no_warn" dir="ltr">dog INPATH(//A)
</pre><p>This query finds the following documents:</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt;dog&lt;/A&gt;
</pre><p>and</p><pre class="oac_no_warn" dir="ltr">&lt;C&gt;&lt;B&gt;&lt;A&gt;dog&lt;/A&gt;&lt;/B&gt;&lt;/C&gt;</pre></div>
                  </div><a id="CCAPP9319"></a><div class="props_rev_3"><a id="GUID-B03DCEF8-1885-49CE-B4A2-8A742CE6C92A" name="GUID-B03DCEF8-1885-49CE-B4A2-8A742CE6C92A"></a><h5 id="CCAPP-GUID-B03DCEF8-1885-49CE-B4A2-8A742CE6C92A" class="sect5"><span class="enumeration_section">11.3.4.4 </span>Direct Parentage Searching
                     </h5>
                     <div>
                        <p>To find all documents that contain the term <span class="italic">dog</span> in a B element that is a direct child of a top-level A element:
                        </p><pre class="oac_no_warn" dir="ltr">dog INPATH(A/B)
</pre><p>This query finds the following XML document:</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt;&lt;B&gt;My dog is friendly.&lt;/B&gt;&lt;/A&gt;
</pre><p>but it does not find:</p><pre class="oac_no_warn" dir="ltr">&lt;C&gt;&lt;B&gt;My dog is friendly.&lt;/B&gt;&lt;/C&gt;</pre></div>
                  </div><a id="CCAPP9320"></a><div class="props_rev_3"><a id="GUID-2EA144DC-21AF-4CC0-A7BE-43A75566AB9E" name="GUID-2EA144DC-21AF-4CC0-A7BE-43A75566AB9E"></a><h5 id="CCAPP-GUID-2EA144DC-21AF-4CC0-A7BE-43A75566AB9E" class="sect5"><span class="enumeration_section">11.3.4.5 </span>Tag Value Testing
                     </h5>
                     <div>
                        <p>You can test the value of tags. For example, the query:</p><pre class="oac_no_warn" dir="ltr">dog INPATH(A[B="dog"])
</pre><p>Finds the following document:</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt;&lt;B&gt;dog&lt;/B&gt;&lt;/A&gt;
</pre><p>But does not find:</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt;&lt;B&gt;My dog is friendly.&lt;/B&gt;&lt;/A&gt;</pre></div>
                  </div><a id="CCAPP9321"></a><div class="props_rev_3"><a id="GUID-4794BF0E-9681-45DC-B674-98969DD09C94" name="GUID-4794BF0E-9681-45DC-B674-98969DD09C94"></a><h5 id="CCAPP-GUID-4794BF0E-9681-45DC-B674-98969DD09C94" class="sect5"><span class="enumeration_section">11.3.4.6 </span>Attribute Searching
                     </h5>
                     <div>
                        <p>You can search the content of attributes. For example, the query:</p><pre class="oac_no_warn" dir="ltr">dog INPATH(//A/@B)
</pre><p>Finds the document:</p><pre class="oac_no_warn" dir="ltr">&lt;C&gt;&lt;A  B="snoop dog"&gt; &lt;/A&gt; &lt;/C&gt;</pre></div>
                  </div><a id="CCAPP9322"></a><div class="props_rev_3"><a id="GUID-D3AB31A4-C7BD-4575-A9B9-1A91C49DD7C5" name="GUID-D3AB31A4-C7BD-4575-A9B9-1A91C49DD7C5"></a><h5 id="CCAPP-GUID-D3AB31A4-C7BD-4575-A9B9-1A91C49DD7C5" class="sect5"><span class="enumeration_section">11.3.4.7 </span>Attribute Value Testing
                     </h5>
                     <div>
                        <p>You can test the value of attributes. For example, the query:</p><pre class="oac_no_warn" dir="ltr">California INPATH (//A[@B = "home address"])
</pre><p>Finds the document:</p><pre class="oac_no_warn" dir="ltr">&lt;A B="home address"&gt;San Francisco, California, USA&lt;/A&gt;
</pre><p>But it does not find:</p><pre class="oac_no_warn" dir="ltr">&lt;A B="work address"&gt;San Francisco, California, USA&lt;/A&gt;</pre></div>
                  </div><a id="CCAPP9323"></a><div class="props_rev_3"><a id="GUID-6AC290D3-4FDB-43F7-ABA3-040EE4191D53" name="GUID-6AC290D3-4FDB-43F7-ABA3-040EE4191D53"></a><h5 id="CCAPP-GUID-6AC290D3-4FDB-43F7-ABA3-040EE4191D53" class="sect5"><span class="enumeration_section">11.3.4.8 </span>Path Testing
                     </h5>
                     <div>
                        <p>You can test if a path exists with the <code class="codeph">HASPATH</code> operator. For example, the query:
                        </p><pre class="oac_no_warn" dir="ltr">HASPATH(A/B/C)
</pre><p>finds and returns a score of 100 for the document</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt;&lt;B&gt;&lt;C&gt;dog&lt;/C&gt;&lt;/B&gt;&lt;/A&gt;
</pre><p>without the query having to reference <span class="italic">dog</span> at all.
                        </p>
                     </div>
                  </div><a id="CCAPP9324"></a><div class="props_rev_3"><a id="GUID-BAAF07B7-CD52-4082-BF6E-BCC05AF32146" name="GUID-BAAF07B7-CD52-4082-BF6E-BCC05AF32146"></a><h5 id="CCAPP-GUID-BAAF07B7-CD52-4082-BF6E-BCC05AF32146" class="sect5"><span class="enumeration_section">11.3.4.9 </span>Section Equality Testing with HASPATH 
                     </h5>
                     <div>
                        <p>You can use the <code class="codeph">HASPATH</code> operator for section quality tests. For example, consider the following query:
                        </p><pre class="oac_no_warn" dir="ltr">dog INPATH A
</pre><p>It finds:</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt;dog&lt;/A&gt;
</pre><p>but it also finds:</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt;dog park&lt;/A&gt;
</pre><p>To limit the query to the term <span class="italic">dog</span> and nothing else, you can use a section equality test with the <code class="codeph">HASPATH</code> operator. For example,
                        </p><pre class="oac_no_warn" dir="ltr">HASPATH(A="dog")
</pre><p>finds and returns a score of 100 only for the first document, not for the second document.</p>
                        <div class="infoboxnotealso" id="GUID-BAAF07B7-CD52-4082-BF6E-BCC05AF32146__GUID-3D5DCCDD-4A30-423F-95AB-DCF3AC79B048">
                           <p class="notep1">See Also:</p>
                           <p><a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF0300" target="_blank"><span class="italic">Oracle Text Reference</span></a> to learn more about using the <code class="codeph">INPATH</code> and <code class="codeph">HASPATH</code> operators
                           </p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>