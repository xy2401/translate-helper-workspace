<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Configuring Oracle Database Gateway for WebSphere MQ</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Installation and User's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Installation and User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-websphere-mq-installation-and-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T19:05:45-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96225-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="removing-database-gateway-webspheremq.html" title="Previous" type="text/html">
      <link rel="next" href="database-gateway-webspheremq-running-environment.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for WebSphere MQ Installation and User's Guide">
    <meta name="dcterms.isVersionOf" content="WSMQG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="removing-database-gateway-webspheremq.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="database-gateway-webspheremq-running-environment.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Installation and User's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Configuring Oracle Database Gateway for WebSphere MQ</li>
            </ol>
            <a id="GUID-8EB3B980-C65C-48BA-AB7A-59BF4A8DF490" name="GUID-8EB3B980-C65C-48BA-AB7A-59BF4A8DF490"></a><a id="WSMQG159"></a>
            
            <h2 id="WSMQG-GUID-8EB3B980-C65C-48BA-AB7A-59BF4A8DF490" class="sect2"><span class="enumeration_chapter">7 </span> Configuring Oracle Database Gateway for WebSphere MQ
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>After installing Oracle Database Gateway for WebSphere MQ, follow the instructions in the following topics to configure the gateway.</p>
            </div><a id="WSMQG160"></a><div class="props_rev_3"><a id="GUID-2B5FDAF2-1267-4164-A49B-C835C1C51889" name="GUID-2B5FDAF2-1267-4164-A49B-C835C1C51889"></a><h3 id="WSMQG-GUID-2B5FDAF2-1267-4164-A49B-C835C1C51889" class="sect3">Configuration Overview</h3>
               <div>
                  <p>The gateway works with several components and products to communicate between the Oracle database and WebSphere MQ queues.</p>
                  <p>For example:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Oracle Net</p>
                        <p>The gateway and the Oracle database communicate using Oracle Net in a server-to-server manner. You must configure both, the gateway and Oracle database to have Oracle Net communication enabled, by configuring the <code class="codeph">tnsnames.ora</code> and <code class="codeph">listener.ora</code> files.
                        </p>
                     </li>
                     <li>
                        <p>Gateway <a id="d10290e59" class="indexterm-anchor"></a><a id="d10290e63" class="indexterm-anchor"></a>initialization files and parameters
                        </p>
                        <p>The gateway has initialization files and parameters that you must customize for your installation. For example, you must choose your gateway system identifier (SID), and provide other information, such as the gateway log file destination.</p>
                     </li>
                  </ul>
               </div>
            </div><a id="WSMQG161"></a><div class="props_rev_3"><a id="GUID-F8BAEAA9-BECE-4CAD-857A-0CF577EE84A0" name="GUID-F8BAEAA9-BECE-4CAD-857A-0CF577EE84A0"></a><h3 id="WSMQG-GUID-F8BAEAA9-BECE-4CAD-857A-0CF577EE84A0" class="sect3">Configuring the Gateway</h3>
               <div>
                  <p>The gateway is installed and preconfigured using default values for the gateway SID, directory names, file names, and gateway parameter settings.</p>
                  <p><a id="d10290e99" class="indexterm-anchor"></a><a id="d10290e103" class="indexterm-anchor"></a>The <a id="d10290e108" class="indexterm-anchor"></a>default SID values are:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">dg4mqs</code><a id="d10290e118" class="indexterm-anchor"></a></p>
                        <p>This is the default SID that is used when the gateway resides on the same system as the WebSphere MQ software.</p>
                     </li>
                     <li>
                        <p><code class="codeph">dg4mqc</code></p>
                        <p>This is the default SID that is used when the gateway resides on a different system than the WebSphere MQ software.&nbsp;In this case, the gateway functions as a remote WebSphere MQ client.</p>
                     </li>
                  </ul>
                  <p>A basic gateway initialization file is also installed, and values in this file are set based on the information you entered during the installation phase.</p>
               </div><a id="WSMQG162"></a><div class="props_rev_3"><a id="GUID-2175186A-8D09-440F-8FC3-7DEA385E6F22" name="GUID-2175186A-8D09-440F-8FC3-7DEA385E6F22"></a><h4 id="WSMQG-GUID-2175186A-8D09-440F-8FC3-7DEA385E6F22" class="sect4">Using the Gateway with the Default Values</h4>
                  <div>
                     <p>If you are configuring one gateway instance, and if you have no need to change any of the default values, then most of the gateway configuration process is completed by Oracle Universal Installer.</p>
                     <div class="section">
                        <p><a id="d10290e162" class="indexterm-anchor"></a>In this case, perform the following actions:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>Skip all steps under <span class="q">"<a href="configuring-database-gateway-webspheremq.html#GUID-0221608D-4DD7-4494-90DD-0664C12301FE" title="When changing default values, choose a gateway SID and customize the gateway initialization file.">Changing Default Values</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Skip <span class="q">"<a href="configuring-database-gateway-webspheremq.html#GUID-6E7BA40E-ADD3-4330-80E6-B50B40975FBB" title="Configuring the listener.ora file.">Step 1: Configure the Oracle Net Oracle Net Listener for the Gateway</a>"</span></p>
                           </li>
                           <li>
                              <p>Begin with <span class="q">"<a href="configuring-database-gateway-webspheremq.html#GUID-47237486-CFAA-413D-B27F-43E9B05E6BFD" title="The Oracle Net Listener must be started or reloaded to initiate the new settings.">Step 2: Stop and Start the Oracle Net Listener for the Gateway</a>"</span>, and continue to the end of the chapter.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="WSMQG163"></a><div class="props_rev_3"><a id="GUID-3516E7F2-11CC-4E29-A01E-141EC2168B07" name="GUID-3516E7F2-11CC-4E29-A01E-141EC2168B07"></a><h4 id="WSMQG-GUID-3516E7F2-11CC-4E29-A01E-141EC2168B07" class="sect4">Using the Gateway Without the Default Values</h4>
                  <div>
                     <p>This topic explains how to modify the default values.</p>
                     <div class="section">
                        <p><a id="d10290e229" class="indexterm-anchor"></a>If multiple instances of the <a id="d10290e234" class="indexterm-anchor"></a>gateway are being configured, or to modify the default values set during the installation phases, then begin with the steps under <span class="q">"<a href="configuring-database-gateway-webspheremq.html#GUID-0221608D-4DD7-4494-90DD-0664C12301FE" title="When changing default values, choose a gateway SID and customize the gateway initialization file.">Changing Default Values</a>"</span>  and continue to the end of the chapter.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="WSMQG164"></a><div class="props_rev_3"><a id="GUID-0221608D-4DD7-4494-90DD-0664C12301FE" name="GUID-0221608D-4DD7-4494-90DD-0664C12301FE"></a><h4 id="WSMQG-GUID-0221608D-4DD7-4494-90DD-0664C12301FE" class="sect4">Changing Default Values</h4>
                  <div>
                     <p>When changing default values, choose a gateway SID and customize the gateway initialization file.</p>
                  </div><a id="WSMQG165"></a><div class="props_rev_3"><a id="GUID-55B26476-97B7-463F-970B-E5C44E2D49A0" name="GUID-55B26476-97B7-463F-970B-E5C44E2D49A0"></a><h5 id="WSMQG-GUID-55B26476-97B7-463F-970B-E5C44E2D49A0" class="sect5">Step&nbsp;1: Choose a System&nbsp;ID for the Gateway</h5>
                     <div>
                        <p>The gateway SID is a string of 1&nbsp;to 64&nbsp;alphanumeric characters that identifies a gateway instance. The SID is used in the gateway boot file and as part of the file name for the gateway parameter file.</p>
                        <div class="section">
                           <p>Choose a<a id="d10290e300" class="indexterm-anchor"></a> SID <a id="d10290e305" class="indexterm-anchor"></a>different from the default SID and different from <code class="codeph">dg4mqs</code> and <code class="codeph">dg4mqc</code>.
                           </p>
                           <p>You need a distinct gateway instance, and SID, for each queue manager you want to access. If you want to access two different queue managers, then you need two gateway SIDs, one for each instance of the gateway. If you have one queue manager and want to access it sometimes with one set of gateway parameter settings and at other times with different gateway parameter settings, then you can do this by having multiple gateway SIDs for one queue manager.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="WSMQG166"></a><div class="props_rev_3"><a id="GUID-0A6BAFCF-406B-4853-8EA7-77A0040072C7" name="GUID-0A6BAFCF-406B-4853-8EA7-77A0040072C7"></a><h5 id="WSMQG-GUID-0A6BAFCF-406B-4853-8EA7-77A0040072C7" class="sect5">Step&nbsp;2: Customize the Gateway Initialization File</h5>
                     <div>
                        <p>This topic explains how to customize the gateway initialization file.</p>
                        <div class="section">
                           <p><a id="d10290e343" class="indexterm-anchor"></a>The gateway initialization file (<code class="codeph">init</code><span class="italic"><code class="codeph">sid</code></span><code class="codeph">.ora</code>) <a id="d10290e356" class="indexterm-anchor"></a>supports all database gateway initialization parameters described in  <a href="database-gateway-webspheremq-initialization-parameters.html#GUID-A037975F-8CED-4A9F-97A1-59CBAD688F62" title="The gateway initialization file is called initsid.ora.These topics describe gateway parameters, listing the default value, range of values, and the syntax for usage."> Gateway Initialization Parameters</a>.&nbsp;The initialization file must be available when the gateway is started.
                           </p>
                           <p>During installation, a <a id="d10290e379" class="indexterm-anchor"></a>default <a id="d10290e384" class="indexterm-anchor"></a>initialization <a id="d10290e391" class="indexterm-anchor"></a>file<a id="d10290e398" class="indexterm-anchor"></a> is created in  <code class="codeph">ORACLE_HOME\dg4mq\admin\init</code><span class="italic"><code class="codeph">sid</code></span><code class="codeph">.ora</code> on Microsoft Windows and <code class="codeph"> $</code><code class="codeph">ORACLE_HOME/dg4mq/admin/init</code><span class="italic"><code class="codeph">sid.</code></span><code class="codeph">ora</code>, on UNIX based systems where <span class="italic"><code class="codeph">sid</code></span> is the default SID of <code class="codeph">dg4mqs</code> or <code class="codeph">dg4mqc</code>.&nbsp;If you chose an SID other than the default, then rename this file using the SID you chose in <a href="configuring-database-gateway-webspheremq.html#GUID-55B26476-97B7-463F-970B-E5C44E2D49A0" title="The gateway SID is a string of 1&nbsp;to 64&nbsp;alphanumeric characters that identifies a gateway instance. The SID is used in the gateway boot file and as part of the file name for the gateway parameter file.">Step&nbsp;1: Choose a System&nbsp;ID for the Gateway</a>. Customize the default initialization file as necessary.
                           </p>
                           <p>The following entries might appear in an initialization file:</p><pre class="oac_no_warn" dir="ltr">LOG_DESTINATION=<span class="italic">log_file</span>
QUEUE_MANAGER=<span class="italic">manager_name</span>
AUTHORIZATION_MODEL=<span class="italic">auth_model</span>
TRANSACTION_MODEL=<span class="italic">tx_model</span>
TRANSACTION_LOG_QUEUE=<span class="italic">tx_queue_name</span>
TRANSACTION_RECOVERY_USER=<span class="italic">rec_user</span>
TRANSACTION_RECOVERY_PASSWORD=<span class="italic">rec_password</span>
TRACE_LEVEL=0
MQSERVER=<span class="italic">channel</span>
MQCCSID=<span class="italic">character_set</span>
</pre><p>In this file:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="italic"><code class="codeph">log_file</code></span> specifies the full path name of the gateway log file.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">manager_name</code></span> is the name of the WebSphere MQ queue manager to access.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">auth_model</code></span> is the authorization model to use. The default value is <code class="codeph">RELAXED</code>. 
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">tx_model</code></span> is the transaction model to use. The default is <code class="codeph">SINGLE_SITE</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">tx_queue_name</code></span> is the name of the queue for logging transaction IDs for distributed transactions. This is used only when <span class="italic"><code class="codeph">tx_model</code></span> is set to <code class="codeph">COMMIT_CONFIRM</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">rec_user</code></span> specifies the user name that the gateway uses to start recovery of a distributed transaction. This is used only when <span class="italic"><code class="codeph">auth_model</code></span> is set to <code class="codeph">STRICT</code> and <code class="codeph">tx_model</code> is set to <code class="codeph">COMMIT_CONFIRM</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">rec_password</code></span> specifies the password of the user name that the gateway uses to start recovery of a distributed transaction.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">channel</code></span> specifies the location of the WebSphere MQ server and the communication method to use. The channel format is:
                                 </p>
                                 <p><code class="codeph">channel_name/connection_type/hostname [(port_number)]</code>.
                                 </p>
                                 <p>For example:</p><pre class="oac_no_warn" dir="ltr">MQSERVER=CHAN9/TCP/dolphin(1425)
</pre></li>
                              <li>
                                 <p><span class="italic"><code class="codeph">character_set</code></span> specifies the coded character set number used by the gateway when communicating with the WebSphere MQ queue manager. This is an optional parameter.
                                 </p>
                                 <p>This parameter is set only if the system that is running the WebSphere MQ queue manager uses a different encoding scheme than the system that runs the gateway. When set, the value of <span class="italic"><code class="codeph">character_set</code></span> is used by the WebSphere MQ client software on the gateway system to convert the data.
                                 </p>
                              </li>
                           </ul>
                           <p>Refer to <a href="database-gateway-webspheremq-running-environment.html#GUID-85997913-2ED0-463F-9137-89324478D58A" title="WebSphere MQ has its own authorization mechanism.&nbsp;Applications are allowed to perform certain operations on queues or queue managers only when their effective user&nbsp;ID has authorization for each operation.This model discards the Oracle user name and password.This model uses the Oracle user&nbsp;ID and password provided in the CREATE DATABASE LINK statement when a database link is created, or the current Oracle user&nbsp;ID and password if none was provided with CREATE DATABASE LINK.If the gateway runs as a WebSphere MQ server application, then the authorization process checks the user&nbsp;ID and password against the local or network password file.If the gateway runs as a WebSphere MQ client application, then the authorization process checks the user&nbsp;ID and password against the local or network password file.This topic describes the access authorization for WebSphere MQ objects.Transactions from an Oracle application that use the gateway and invoke WebSphere MQ message queue operations are managed by the transaction coordinator at the Oracle database where the transaction originates.When an Oracle distributed database contains a gateway, the gateway must be properly configured to take part in a distributed transaction.&nbsp;When gateways are involved in a distributed transaction, the transaction capabilities of the non‐Oracle data source determine whether the data source can participate in two‐phase commit operations or distributed transactions.Transactions from an Oracle application (that invoke WebSphere MQ message queue operations and that are using the gateway) are managed by the Oracle transaction coordinator at the Oracle database where the transaction originates.Single-site transactions are supported for all WebSphere MQ environments and platforms.Commit-Confirm transactions are enhanced forms of single-site transactions and are supported for all WebSphere MQ environments and platforms.This section includes information about messages, error codes, gateway tracing, and gateway operations.The gateway architecture includes a number of components.&nbsp;Any of these components can detect and report an error condition while processing PL/SQL code. Error codes are generally accompanied by additional message text, beyond the text associated with the Oracle message number.The error conditions that are described in this section are common error conditions that an application might receive while using the gateway. The gateway has a trace feature for testing and debugging purposes.This is a gateway initialization parameter.If your application cannot connect to the gateway, then rerun the application with the gateway trace feature enabled."> Gateway Running Environment </a> for more information on transaction and security models.
                           </p>
                           <div class="infoboxnotealso" id="GUID-0A6BAFCF-406B-4853-8EA7-77A0040072C7__GUID-11C4CC2F-DECF-41E0-8D24-BF5222993598">
                              <p class="notep1">See Also:</p>
                              <p><a href="../netag/index.html" target="_blank"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> and <a href="../netrf/index.html" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="WSMQG167"></a><div class="props_rev_3"><a id="GUID-B7316A3E-DC89-44AC-984D-EE262D09AB3F" name="GUID-B7316A3E-DC89-44AC-984D-EE262D09AB3F"></a><h3 id="WSMQG-GUID-B7316A3E-DC89-44AC-984D-EE262D09AB3F" class="sect3">Configuring Oracle Net for the Gateway</h3>
               <div>
                  <p>The gateway requires Oracle Net to provide transparent data access to and from the Oracle database.</p>
                  <p><a id="d10290e629" class="indexterm-anchor"></a><a id="d10290e633" class="indexterm-anchor"></a>Oracle Net uses the <a id="d10290e638" class="indexterm-anchor"></a>Oracle Net Listener to receive incoming connections from an Oracle Net client. In the case of the gateway, the Oracle Net Listener listens for incoming requests from the Oracle database.&nbsp;For the Oracle Net Listener to listen for the gateway, information about the gateway must be added to the Oracle Net Listener configuration file <a id="d10290e641" class="indexterm-anchor"></a>(<code class="codeph">listener.ora</code>). This file is located in the <span class="italic"><code class="codeph"> ORACLE_HOME</code></span><code class="codeph">/network/admin</code> directory on Microsoft Windows and <code class="codeph">ORACLE_HOME\network\admin</code> directory on UNIX based systems by default, where <code class="codeph">ORACLE_HOME</code> is the directory under which the gateway is installed. The default values in this file are set for you during the installation process by Oracle Universal Installer.
                  </p>
               </div><a id="WSMQG168"></a><div class="props_rev_3"><a id="GUID-7C4A51CE-CD57-49AB-9EB9-8818B0505CEE" name="GUID-7C4A51CE-CD57-49AB-9EB9-8818B0505CEE"></a><h4 id="WSMQG-GUID-7C4A51CE-CD57-49AB-9EB9-8818B0505CEE" class="sect4">Using Oracle Net with Default Gateway Values</h4>
                  <div>
                     <p>If you are configuring one gateway instance, and if you do not need to change any of the default values, then no further configuration is necessary for Oracle Net.</p>
                     <p>Perform only <span class="q">"<a href="configuring-database-gateway-webspheremq.html#GUID-47237486-CFAA-413D-B27F-43E9B05E6BFD" title="The Oracle Net Listener must be started or reloaded to initiate the new settings.">Step 2: Stop and Start the Oracle Net Listener for the Gateway</a>"</span>.
                     </p>
                  </div>
               </div><a id="WSMQG169"></a><div class="props_rev_3"><a id="GUID-07C14B70-8537-4806-8E96-F5B153DE1229" name="GUID-07C14B70-8537-4806-8E96-F5B153DE1229"></a><h4 id="WSMQG-GUID-07C14B70-8537-4806-8E96-F5B153DE1229" class="sect4">Using Oracle Net When Changing the Default Gateway Values</h4>
                  <div>
                     <p>If you intend to use the Oracle Net listener for multiple gateway instances, or if you need to modify some of the default values set during the installation phase, then perform Step&nbsp;1 and Step&nbsp;2 in this section.</p>
                     <p>In Step&nbsp;1, you add gateway information or change default information in the <code class="codeph">listener.ora</code> file in the gateway directory <code class="codeph">ORACLE_HOME\network\admin</code> on Microsoft Windows and  <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/network/admin</code> on UNIX based systems.
                     </p>
                  </div><a id="WSMQG338"></a><a id="WSMQG339"></a><a id="WSMQG170"></a><div class="props_rev_3"><a id="GUID-6E7BA40E-ADD3-4330-80E6-B50B40975FBB" name="GUID-6E7BA40E-ADD3-4330-80E6-B50B40975FBB"></a><h5 id="WSMQG-GUID-6E7BA40E-ADD3-4330-80E6-B50B40975FBB" class="sect5">Step 1: Configure the Oracle Net Oracle Net Listener for the Gateway</h5>
                     <div>
                        <p>Configuring the <code class="codeph">listener.ora</code> file.
                        </p>
                        <div class="section">
                           <p>Two entries must be added to the <code class="codeph">listener.ora</code> file<a id="d10290e763" class="indexterm-anchor"></a>:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>A list of Oracle Net addresses for the Oracle Net Listener to listen on</p>
                              </li>
                              <li>
                                 <p>The gateway process that the Oracle Net Listener should start in response to incoming connection requests</p>
                                 <div class="infoboxnote" id="GUID-6E7BA40E-ADD3-4330-80E6-B50B40975FBB__GUID-771508C3-037F-4A48-9221-F4344F1C682F">
                                    <p class="notep1">Note:</p>
                                    <p>The Oracle Net Listener and the gateway must reside on the same node. If you already have a Oracle Net Listener running on the node, then you must make the changes suggested in Step 1 and 2 to your existing <code class="codeph">listener.ora</code> and <code class="codeph">tnsnames.ora</code> files.
                                    </p>
                                    <p>After making the changes, you can reload the changes by running the <code class="codeph">reload</code> subcommand in the <code class="codeph">lsnrctl</code> utility without shutting down the Oracle Net Listener.
                                    </p>
                                 </div>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section" id="GUID-6E7BA40E-ADD3-4330-80E6-B50B40975FBB__CBDJHDGD">
                           <p class="subhead3" id="GUID-6E7BA40E-ADD3-4330-80E6-B50B40975FBB__GUID-8EBA952C-2335-455C-A490-33431BD6F170">Specifying Oracle Net Addresses for the Oracle Net Listener</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>If you are using Oracle Net and the <a id="d10290e797" class="indexterm-anchor"></a>TCP/IP protocol adapter, then the syntax of an entry in the <code class="codeph">listener.ora</code> file is:
                           </p><pre class="oac_no_warn" dir="ltr">LISTENER=
&nbsp; (ADDRESS_LIST=
&nbsp; &nbsp; &nbsp; (ADDRESS= 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (PROTOCOL=TCP)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (HOST=<span class="italic">host_name</span>)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (PORT=<span class="italic">port_number</span>)
&nbsp; &nbsp; &nbsp;  )
&nbsp; )
</pre><p>In this entry:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="italic"><code class="codeph">host_name</code></span> is the name of the system where the gateway is installed.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">port_number</code></span> specifies the IP port number used by the Oracle Net Listener. If you have other listeners running on <span class="italic"><code class="codeph">host_name</code></span>, such as the listener of an Oracle database on the same system, then the value of <span class="italic"><code class="codeph">port_number</code></span> must be different from the other listener port numbers.
                                 </p>
                              </li>
                           </ul>
                           <p>If you are using Oracle Net and the <a id="d10290e836" class="indexterm-anchor"></a><a id="d10290e838" class="indexterm-anchor"></a>interprocess socket call (IPC) protocol adapter, the syntax of the entry in <a id="d10290e843" class="indexterm-anchor"></a><code class="codeph">listener.ora</code> file is:
                           </p><pre class="oac_no_warn" dir="ltr">LISTENER=
&nbsp; (ADDRESS_LIST=
&nbsp; &nbsp;  (ADDRESS= 
&nbsp; &nbsp; &nbsp; &nbsp;  (PROTOCOL=IPC)
&nbsp; &nbsp; &nbsp; &nbsp;  (KEY=<span class="italic">key_name</span>)
&nbsp; &nbsp;  )
&nbsp;  )
</pre><p>In this entry:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">IPC</code> specifies that the protocol used for connections is IPC.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">key_name</code></span> is the unique user-defined service name.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-6E7BA40E-ADD3-4330-80E6-B50B40975FBB__GUID-D5AA0B81-8217-472C-A3B3-0B2D3059F5A0">Entry for the Gateway</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>To configure the Oracle Net Listener to listen for a gateway instance in incoming connection requests, add an entry to the <code class="codeph">listener.ora</code> file using the following syntax:
                           </p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER=
&nbsp;  (SID_LIST=
&nbsp; &nbsp; &nbsp; (SID_DESC=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (SID_NAME=<span class="italic">gateway_sid</span>)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (ORACLE_HOME=<span class="italic">gateway_directory</span>)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (PROGRAM=<span class="italic">driver</span>)
&nbsp; &nbsp; &nbsp;  )
&nbsp; &nbsp; )
</pre><p>In this entry:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="italic"><code class="codeph">gateway_sid</code></span> specifies the SID of the gateway and matches the gateway SID specified in the connect descriptor entry in the <code class="codeph">tnsnames.ora</code> file.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">gateway_directory</code></span> specifies the gateway directory in which the gateway software resides.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">driver</code></span> is the name of the gateway executable file. If the gateway uses a local WebSphere MQ server, then the file name is <code class="codeph">dg4mqs</code>. The file name is <code class="codeph">dg4mqc</code> if the gateway is run as a WebSphere MQ client to access a remote WebSphere MQ server.
                                 </p>
                              </li>
                           </ul>
                           <p>When you add an entry for multiple gateway instances, add the entry to the existing <code class="codeph">SID_LIST</code> syntax:
                           </p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER=
 (SID_LIST=
&nbsp; &nbsp; &nbsp; (SID_DESC=.
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .
&nbsp; &nbsp; &nbsp; )
&nbsp; &nbsp; &nbsp; (SID_DESC=.
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .
&nbsp; &nbsp; &nbsp; )
&nbsp; &nbsp; &nbsp; (SID_DESC= 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (SID_NAME=<span class="italic">gateway_sid</span>)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (ORACLE_HOME=<span class="italic">gateway_directory</span>)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (PROGRAM=<span class="italic">driver</span>)
&nbsp; &nbsp; &nbsp;  )
&nbsp; )
</pre><p>The following are examples of entry made to the <code class="codeph">listener.ora</code> file:
                           </p>
                           <p>For Microsoft Windows:</p><pre class="oac_no_warn" dir="ltr">(SID_DESC =
&nbsp; &nbsp; &nbsp; &nbsp;  (SID_NAME=dg4mqs)
&nbsp; &nbsp; &nbsp; &nbsp;  (ORACLE_HOME=gateway_directory)
&nbsp; &nbsp; &nbsp; &nbsp;  (PROGRAM=dg4mqs)
)
</pre><p>For UNIX based systems:</p><pre class="oac_no_warn" dir="ltr">(SID_DESC =
&nbsp; &nbsp; &nbsp; &nbsp;  (SID_NAME=dg4mqs)
&nbsp; &nbsp; &nbsp; &nbsp;  (ORACLE_HOME=/oracle/app/oracle/product/dg4mq)
&nbsp; &nbsp; &nbsp; &nbsp;  (PROGRAM=dg4mqs)
)
</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="configuring-database-gateway-webspheremq.html#GUID-A6A62EF8-B03B-459F-A463-452445DB4BEA" title="You must configure the Oracle database so that it can communicate with the gateway by using Oracle Net.">Configuring Oracle Net for Oracle Database</a></li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-6E7BA40E-ADD3-4330-80E6-B50B40975FBB__GUID-6115A3CA-4493-4B16-9C59-69D7C0C0A670">
                           <p class="notep1">See Also:</p>
                           <p><a href="../netag/index.html" target="_blank"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> and <a href="../netrf/index.html" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a> for additional information about changing <code class="codeph">listener.ora</code>.
                           </p>
                        </div>
                     </div>
                     
                  </div><a id="WSMQG171"></a><div class="props_rev_3"><a id="GUID-47237486-CFAA-413D-B27F-43E9B05E6BFD" name="GUID-47237486-CFAA-413D-B27F-43E9B05E6BFD"></a><h5 id="WSMQG-GUID-47237486-CFAA-413D-B27F-43E9B05E6BFD" class="sect5">Step 2: Stop and Start the Oracle Net Listener for the Gateway</h5>
                     <div>
                        <p>The Oracle Net Listener must be started or reloaded to initiate the new settings.</p>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-47237486-CFAA-413D-B27F-43E9B05E6BFD__GUID-14DC87B0-2117-409B-85A5-5ED887D04910">
                              <p class="notep1">Note:</p>
                              <p>If you already have a Oracle Net Listener running on the Oracle database where the gateway is installed, then you must change your existing <code class="codeph">listener.ora</code> and <code class="codeph">tnsnames.ora</code> files.&nbsp;After making the changes, you can reload the changes by running the reload subcommand in the <code class="codeph">lsnrctl</code> utility without shutting down the Oracle Net Listener.
                              </p>
                              <p>Refer to the Note in <a href="configuring-database-gateway-webspheremq.html#GUID-6E7BA40E-ADD3-4330-80E6-B50B40975FBB" title="Configuring the listener.ora file.">Step 1: Configure the Oracle Net Oracle Net Listener for the Gateway</a>.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Set <a id="d10290e1028" class="indexterm-anchor"></a>the gateway directory name:
                                 </p>
                                 <p>For Microsoft Windows:</p><pre class="oac_no_warn" dir="ltr">set TNS_ADMIN=c:\orant\network\admin
</pre><p>If you are using the Bourne or Korn shell, then enter:</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME=<span class="italic">gateway_directory</span>;export ORACLE_HOME
</pre><p>If you have the C shell, then enter:</p><pre class="oac_no_warn" dir="ltr">$ setenv ORACLE_HOME <span class="italic">gateway_directory</span>
</pre><p>In this entry:</p>
                                 <p><span class="italic"><code class="codeph">gateway_directory</code></span> specifies the directory where the gateway software is installed.
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d10290e1060" class="indexterm-anchor"></a>If the listener is already running, then use the <code class="codeph">lsnrctl</code> command to reload the listener with the new settings:
                                 </p>
                                 <p>For Microsoft Windows:</p><pre class="oac_no_warn" dir="ltr">c:\orant\bin&gt; lsnrctl reload <span class="italic"><code class="codeph">your_listener_name</code></span>
</pre><p>For UNIX based systems:</p><pre class="oac_no_warn" dir="ltr">$ cd $<span class="italic">ORACLE_HOME</span>/bin
$ ./lsnrctl reload <span class="italic">your_listener_name</span>
</pre><p>In this entry:</p>
                                 <p><span class="italic"><code class="codeph">ORACLE_HOME </code></span>specifies the directory where the gateway software is installed.
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d10290e1095" class="indexterm-anchor"></a>Check the status of the listener with the new settings:
                                 </p>
                                 <p>For Microsoft Windows:</p><pre class="oac_no_warn" dir="ltr">c:\orant\bin&gt; lsnrctl status <span class="italic"><code class="codeph">your_listener_name</code></span>
</pre><p>For UNIX based systems:</p><pre class="oac_no_warn" dir="ltr">$ ./lsnrctl status <span class="italic">listener_name</span>
</pre><p>The following are examples of the output from a <code class="codeph">lsnrctl</code> status check:
                                 </p>
                              </li>
                           </ul>
                           <p>For Microsoft Windows:</p><pre class="oac_no_warn" dir="ltr">Connecting to (ADDRESS=(PROTOCOL=IPC)(KEY=ORAIPC))
STATUS of the LISTENER
------------------------
Alias                     LISTENER
Version                   TNSLSNR for MS Windows: version 12.2.0.1.0 - Beta
Start Date                14-Sep-16 18:16:10
Uptime                    0 days 0 hr. 2 min. 19 sec
Trace Level               off
Security                  OFF
SNMP                      OFF
Listener Parameter File   \oracle\app\oracle\product\dg4mqs\network\admin\listener.ora
Listener Log File         \oracle\app\oracle\product\dg4mqs\network\log\listener.log
Services Summary...
  dg4mqs            has 1 service handler(s)
The command completed successfully
</pre><p>For UNIX based systems:</p><pre class="oac_no_warn" dir="ltr">Connecting to (ADDRESS=(PROTOCOL=IPC)(KEY=ORAIPC))
STATUS of the LISTENER
------------------------
Alias&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  LISTENER
Version&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  TNSLSNR for Solaris: version 12.2.0.1.0 - Production
Start Date&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 14-Sep-16 10:16:10
Uptime&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 days 0 hr. 2 min. 19 sec
Trace Level&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  off
Security&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; OFF
SNMP&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; OFF
Listener Parameter File&nbsp;  /oracle/app/oracle/product/dg4mqs/network/admin/listener.ora
Listener Log File&nbsp; &nbsp; &nbsp; &nbsp;  /oracle/app/oracle/product/dg4mqs/network/log/listener.log
Services Summary...
&nbsp; dg4mqs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; has 1 service handler(s)
The command completed successfully
</pre><p>In the example, <code class="codeph">dg4mqs</code> is the default SID value that was assigned during installation. You can use any valid ID for the SID, or keep the default.
                           </p>
                           <div class="infoboxnote" id="GUID-47237486-CFAA-413D-B27F-43E9B05E6BFD__GUID-8887A7E0-3D07-45DA-ADC4-E8E56EE3B2F5">
                              <p class="notep1">Note:</p>
                              <p>You must use the same SID value in the <code class="codeph">tnsnames.ora</code> file, the <code class="codeph">listener.ora</code> file, and the <code class="codeph">GATEWAY_SID</code> environment variable in the gateway initialization file for each gateway instance being configured.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="WSMQG172"></a><div class="props_rev_3"><a id="GUID-A6A62EF8-B03B-459F-A463-452445DB4BEA" name="GUID-A6A62EF8-B03B-459F-A463-452445DB4BEA"></a><h3 id="WSMQG-GUID-A6A62EF8-B03B-459F-A463-452445DB4BEA" class="sect3">Configuring Oracle Net for Oracle Database</h3>
               <div>
                  <p>You must configure the Oracle database so that it can communicate with the gateway by using Oracle Net.</p>
                  <p>Any Oracle application that has access to an Oracle database can also access WebSphere MQ through the gateway. Before you use the gateway to access WebSphere MQ, you must configure the Oracle database so that it can communicate with the gateway by using Oracle Net. To configure the server, add connect descriptors to the <a id="d10290e1175" class="indexterm-anchor"></a><code class="codeph">tnsnames.ora</code> file.
                  </p>
                  <p>Any Oracle database that accesses the gateway needs a service name entry or a connect descriptor name entry in the <code class="codeph">tnsnames.ora</code> file on the server, to tell the Oracle database how to make connections. This file, by default, is located in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">\network\admin</code> directory on Microsoft Windows and <code class="codeph">ORACLE_HOME/network/admin</code> directory on UNIX based systems, where <code class="codeph">ORACLE_HOME</code> is the directory in which the Oracle database is installed. The <code class="codeph">tnsnames.ora</code> file is required by the Oracle database that is accessing the gateway, and not by the gateway itself.
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="configuring-database-gateway-webspheremq.html#GUID-2B5FDAF2-1267-4164-A49B-C835C1C51889" title="The gateway works with several components and products to communicate between the Oracle database and WebSphere MQ queues.">Configuration Overview</a></li>
                        <li><a href="configuring-database-gateway-webspheremq.html#GUID-F8BAEAA9-BECE-4CAD-857A-0CF577EE84A0" title="The gateway is installed and preconfigured using default values for the gateway SID, directory names, file names, and gateway parameter settings.">Configuring the Gateway</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-A6A62EF8-B03B-459F-A463-452445DB4BEA__GUID-01E057EC-60E7-47B4-B853-B812D9B73B74">
                     <p class="notep1">See Also:</p>
                     <p>Refer to <a href="../netag/index.html" target="_blank"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> and <a href="../netrf/index.html" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a> for more information about changing the <code class="codeph">tnsnames.ora</code> file.
                     </p>
                  </div>
               </div>
               <a id="WSMQG173"></a><div class="props_rev_3"><a id="GUID-7B70B199-0F85-4E4C-B8F4-4147A328AF2A" name="GUID-7B70B199-0F85-4E4C-B8F4-4147A328AF2A"></a><h4 id="WSMQG-GUID-7B70B199-0F85-4E4C-B8F4-4147A328AF2A" class="sect4">Using Default Gateway Values</h4>
                  <div>
                     <p>Oracle Universal Installer creates and preconfigures a <code class="codeph">tnsnames.ora</code> file where <code class="codeph">ORACLE_HOME</code> is the directory in which the gateway software is installed.
                     </p>
                     <p>Oracle Universal Installer creates and preconfigures a <code class="codeph">tnsnames.ora</code> file in the <code class="codeph">ORACLE_HOME/network/admin</code> directory on Microsoft Windows and <code class="codeph">ORACLE_HOME/network/admin</code> directory on UNIX based systems, where <code class="codeph">ORACLE_HOME</code> is the directory in which the gateway software is installed. If you use the default values, and if you do not need to configure additional gateway instances, then you can append the contents of this file to the <code class="codeph">tnsnames.ora</code> file of each Oracle database that accesses the gateway.
                     </p>
                  </div>
               </div><a id="WSMQG174"></a><div class="props_rev_3"><a id="GUID-814DB8F2-91D3-4178-881A-CF609E34ED64" name="GUID-814DB8F2-91D3-4178-881A-CF609E34ED64"></a><h4 id="WSMQG-GUID-814DB8F2-91D3-4178-881A-CF609E34ED64" class="sect4">Changing Default Gateway Values</h4>
                  <div>
                     <p>If you need to change some of the default settings, use the examples in this section to guide you.</p>
                  </div><a id="WSMQG175"></a><div class="props_rev_3"><a id="GUID-0020D723-3530-494F-A60B-21C2B6B7FB58" name="GUID-0020D723-3530-494F-A60B-21C2B6B7FB58"></a><h5 id="WSMQG-GUID-0020D723-3530-494F-A60B-21C2B6B7FB58" class="sect5">TCP/IP Example</h5>
                     <div>
                        <p>This is an example of using the TCP/IP protocol adapter.</p>
                        <div class="section">
                           <p>An Oracle database accesses the gateway using Oracle Net and the <a id="d10290e1328" class="indexterm-anchor"></a>TCP/IP protocol adapter.&nbsp;The syntax of the connect descriptor entry in <code class="codeph">tnsnames.ora</code> is:
                           </p><pre class="oac_no_warn" dir="ltr"><span class="italic">tns_name_entry</span>=
&nbsp; (DESCRIPTION=
&nbsp; &nbsp;  (ADDRESS=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (PROTOCOL=TCP)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (HOST=<span class="italic">host_name</span>)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (PORT=<span class="italic">port_number</span>)
&nbsp; &nbsp;  )
&nbsp; &nbsp;  (CONNECT_DATA=
&nbsp; &nbsp;  (SID=<span class="italic">gateway_sid</span>)
&nbsp; &nbsp;  )
&nbsp; &nbsp;  (HS=OK)
) 
</pre><p>In this example:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="italic"><code class="codeph">tns_name_entry</code></span> is the <span class="italic"><code class="codeph">tns_name_entry</code></span> of the <code class="codeph">CREATE DATABASE LINK</code> statement.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">TCP</code> specifies that the protocol used for connections is TCP/IP.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">port_number</code></span> is the port number used by the Oracle Net Oracle Net Listener that listens for the gateway. This port number can be found in the <code class="codeph">listener.ora</code> file that is used by the Oracle Net Listener.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">host_name</code></span> specifies the system on which the gateway is running. The Oracle Net Listener host name can be found in the <code class="codeph">listener.ora</code> file used by the Oracle Net Listener that is listening for the gateway.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">gateway_sid</code></span> specifies the SID of the gateway and matches the SID specified in the <code class="codeph">listener.ora</code> file of the Oracle Net Listener that listens for the gateway.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="configuring-database-gateway-webspheremq.html#GUID-D00D6538-102F-4648-A8E0-384CE2022FC4" title="To create a database link, use the CREATE DATABASE LINK statement.">Creating Database Links</a></li>
                              <li><a href="configuring-database-gateway-webspheremq.html#GUID-6E7BA40E-ADD3-4330-80E6-B50B40975FBB" title="Configuring the listener.ora file.">Step 1: Configure the Oracle Net Oracle Net Listener for the Gateway</a></li>
                           </ul>
                        </div>
                     </div>
                     
                  </div><a id="WSMQG176"></a><div class="props_rev_3"><a id="GUID-6EE264B9-A049-4295-8E10-00D714C8A5E8" name="GUID-6EE264B9-A049-4295-8E10-00D714C8A5E8"></a><h5 id="WSMQG-GUID-6EE264B9-A049-4295-8E10-00D714C8A5E8" class="sect5">IPC Example</h5>
                     <div>
                        <p>This is an example using the IPC protocol adapter.</p>
                        <div class="section">
                           <p>An Oracle database accesses the gateway using Oracle Net and the <a id="d10290e1447" class="indexterm-anchor"></a><a id="d10290e1449" class="indexterm-anchor"></a>IPC protocol adapter.&nbsp;The syntax of the connect descriptor entry in <code class="codeph">tnsnames.ora</code> is:
                           </p><pre class="oac_no_warn" dir="ltr"><span class="italic">tns_name_entry</span>=
&nbsp; &nbsp; (DESCRIPTION=
&nbsp; &nbsp; &nbsp; &nbsp; (ADDRESS=
&nbsp; &nbsp; &nbsp; &nbsp; (PROTOCOL=IPC)
&nbsp; &nbsp; &nbsp; &nbsp; (KEY=<span class="italic">key_name</span>)
&nbsp; &nbsp; )
&nbsp; &nbsp; (CONNECT_DATA=
&nbsp; &nbsp; &nbsp; &nbsp; (SID=<span class="italic">gateway_sid</span>)
&nbsp; &nbsp; )
&nbsp; &nbsp;  (HS=OK)
&nbsp; ) 
</pre><p>where:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="italic"><code class="codeph">tns_name_entry</code></span> is the <span class="italic"><code class="codeph">tns_name_entry</code></span> of the <code class="codeph">CREATE DATABASE LINK</code> statement.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">IPC</code> specifies that the protocol used for connections is IPC.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">key_name</code></span> is the service name.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">gateway_sid</code></span> specifies the SID of the gateway and matches the SID specified in the <code class="codeph">listener.ora</code> file of the Oracle Net Listener that is listening for the gateway.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="configuring-database-gateway-webspheremq.html#GUID-D00D6538-102F-4648-A8E0-384CE2022FC4" title="To create a database link, use the CREATE DATABASE LINK statement.">Creating Database Links</a></li>
                           </ul>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="WSMQG177"></a><div class="props_rev_3"><a id="GUID-C6145749-812E-4D1C-B660-AEF719A58786" name="GUID-C6145749-812E-4D1C-B660-AEF719A58786"></a><h3 id="WSMQG-GUID-C6145749-812E-4D1C-B660-AEF719A58786" class="sect3">Creating a Transaction Log Queue</h3>
               <div>
                  <p>When the <code class="codeph">TRANSACTION_MODEL</code> parameter in the gateway initialization file is set to <code class="codeph">COMMIT_CONFIRM</code> to allow for distributed transactions, an additional configuration step is required.
                  </p>
                  <div class="section">
                     <p>This <a id="d10290e1549" class="indexterm-anchor"></a><a id="d10290e1553" class="indexterm-anchor"></a><a id="d10290e1555" class="indexterm-anchor"></a> <a id="d10290e1560" class="indexterm-anchor"></a><a id="d10290e1566" class="indexterm-anchor"></a><a id="d10290e1572" class="indexterm-anchor"></a>step is required to:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Create a WebSphere MQ queue</p>
                        </li>
                        <li>
                           <p>Set the <code class="codeph">TRANSACTION_LOG_QUEUE</code>, <code class="codeph">TRANSACTION_RECOVERY_USER</code> and <code class="codeph">TRANSACTION_RECOVERY_PASSWORD</code> parameters in the gateway initialization file
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-C6145749-812E-4D1C-B660-AEF719A58786__GUID-81FCCC55-27E0-411B-94C0-F08759E0383E">
                        <p class="notep1">See Also:</p>
                        <p>Refer to IBM publications for information about creating and configuring a queue.</p>
                     </div>
                     <p>For the gateway to recover distributed transactions, a recovery account and queue must be set up in the queue manager by the WebSphere MQ system administrator.&nbsp;This account must be a valid WebSphere MQ user, and it must have authorization to access the recovery queue.</p>
                     <p>The gateway uses the recovery queue to check the status of failed transactions that were started at the queue manager by the gateway and were logged in this queue. The information in this queue is vital to the recovery process and must not be used, accessed, or updated except by the gateway.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="database-gateway-webspheremq-running-environment.html#GUID-00A75967-A3C8-498C-8BC7-560E3FBA431E" title="Commit-Confirm transactions are enhanced forms of single-site transactions and are supported for all WebSphere MQ environments and platforms.">Commit-Confirm Transactions</a></li>
                        <li><a href="database-gateway-webspheremq-initialization-parameters.html#GUID-A037975F-8CED-4A9F-97A1-59CBAD688F62">Oracle Database Gateway for WebSphere MQ Initialization Parameters</a></li>
                        <li><a href="database-gateway-webspheremq-running-environment.html#GUID-70E6AD86-77BA-4D4F-B0A1-4E34EBCAAC77" title="This topic describes the access authorization for WebSphere MQ objects.">Authorization for WebSphere MQ Objects</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="WSMQG178"></a><div class="props_rev_3"><a id="GUID-047A4F17-55B1-4F8E-8C32-670CA94EDA3C" name="GUID-047A4F17-55B1-4F8E-8C32-670CA94EDA3C"></a><h3 id="WSMQG-GUID-047A4F17-55B1-4F8E-8C32-670CA94EDA3C" class="sect3">Administering the Database Links Alias Library</h3>
               <div>
                  <p>A connection to the gateway is established through a database link when it is first used in an Oracle session.</p>
                  <p>In this context, <span class="italic">connection</span> refers to the connection between the Oracle database and the gateway.&nbsp;The connection persists until the Oracle session ends.&nbsp;Another session or user can access the same database link and get a distinct connection to the gateway and the queue manager.
                  </p>
                  <p>Database links are active for the duration of a gateway session.&nbsp;To close a database link during a session, use the <code class="codeph">ALTER SESSION</code> statement.
                  </p>
                  <div class="infoboxnotealso" id="GUID-047A4F17-55B1-4F8E-8C32-670CA94EDA3C__GUID-AB0CF8A7-2EBB-464D-AFB4-A3D6710DAE55">
                     <p class="notep1">See Also:</p>
                     <p>For more information about using database links, refer to the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/wsmqg&amp;id=ADMIN12083" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a>.
                     </p>
                  </div>
               </div><a id="WSMQG179"></a><div class="props_rev_3"><a id="GUID-034280B9-D9F6-48D1-88E9-B6CBE289EFA0" name="GUID-034280B9-D9F6-48D1-88E9-B6CBE289EFA0"></a><h4 id="WSMQG-GUID-034280B9-D9F6-48D1-88E9-B6CBE289EFA0" class="sect4">Using Database Links</h4>
                  <div>
                     <p>Oracle Database Gateway for WebSphere MQ uses an alias library to access the shared library installed with Oracle Database Gateway for WebSphere MQ.</p>
                     <p>An alias library is a schema object that represents a library in PL/SQL. To create the alias library, you must have the <code class="codeph">CREATE LIBRARY PRIVILEGE</code>. The alias library used by Oracle Database Gateway for WebSphere MQ is <code class="codeph">libdg4mq</code> and is defined in the <code class="codeph">pgmobj.sql</code> script, which is created when the Oracle Database Gateway for WebSphere MQ deployment scripts are executed.
                     </p>
                  </div>
               </div><a id="WSMQG180"></a><div class="props_rev_3"><a id="GUID-D00D6538-102F-4648-A8E0-384CE2022FC4" name="GUID-D00D6538-102F-4648-A8E0-384CE2022FC4"></a><h4 id="WSMQG-GUID-D00D6538-102F-4648-A8E0-384CE2022FC4" class="sect4">Creating Database Links</h4>
                  <div>
                     <p>To create a database link, use the <code class="codeph">CREATE DATABASE LINK</code> statement.
                     </p>
                     <div class="section">
                        <p>The <code class="codeph">USING</code> <a id="d10290e1738" class="indexterm-anchor"></a><a id="d10290e1742" class="indexterm-anchor"></a><a id="d10290e1746" class="indexterm-anchor"></a> <a id="d10290e1749" class="indexterm-anchor"></a>clause points to a connect descriptor in the <code class="codeph">tnsnames.ora</code> file. The <code class="codeph">CONNECT TO</code> clause specifies the WebSphere MQ user&nbsp;ID and password when the security model is defined as <code class="codeph">STRICT</code> with the <code class="codeph">AUTHORIZATION_MODEL</code> parameter.&nbsp;If you do not include the <code class="codeph">CONNECT TO</code> clause, then the current user&nbsp;ID and password are used.
                        </p>
                        <p>When the <a id="d10290e1772" class="indexterm-anchor"></a><code class="codeph">AUTHORIZATION_MODEL</code> <a id="d10290e1777" class="indexterm-anchor"></a>parameter is set to <code class="codeph">RELAXED</code>, you need not specify an user&nbsp;ID and password because the Oracle database uses the user&nbsp;ID and password of the user account that started the Oracle Net Listener for the gateway. If you specify an user&nbsp;ID and password with the <code class="codeph">CONNECT TO</code> clause, then the Oracle database and gateway ignore those values.
                        </p>
                        <p>The syntax of <code class="codeph">CREATE DATABASE LINK</code> is as follows:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE [PUBLIC] DATABASE LINK <span class="italic">dblink</span> [CONNECT TO <span class="italic">userid</span> IDENTIFIED
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BY <span class="italic">password</span>] USING '<span class="italic">tns_name_entry</span>';
</pre><p>where:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="italic"><code class="codeph">dblink</code></span> is the database link name.
                              </p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">userid</code></span> is the user&nbsp;ID used to establish a session at the queue manager.&nbsp;It is only used when <code class="codeph">AUTHORIZATION_MODEL</code> is set to <code class="codeph">STRICT</code> in the <code class="codeph">init</code><span class="italic"><code class="codeph">sid</code></span>.<code class="codeph">ora</code> file. The user&nbsp;ID must be authorized to access all WebSphere MQ objects, and use any database object referenced in the PL/SQL commands.
                              </p>
                              <p>The <span class="italic"><code class="codeph">userid</code></span> must be in the password file on the computer on which WebSphere MQ and the gateway are installed.&nbsp;Otherwise, the <code class="codeph">userid </code>must be published in the UNIX Network Information Service (NIS) when WebSphere MQ and the gateway are installed on different systems.&nbsp;If <code class="codeph">userid</code> contains lowercase letters or non-alphanumeric characters, then you must surround <code class="codeph">userid</code> with quotation marks (").&nbsp;Refer to your WebSphere MQ documentation for more information about <code class="codeph">userid</code>.&nbsp; 
                              </p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">password</code></span> is the password used to establish a session at the queue manager.&nbsp;It is used only when <code class="codeph">AUTHORIZATION_MODEL</code> is set to <code class="codeph">STRICT</code> in the <code class="codeph">init</code><span class="italic"><code class="codeph">sid</code></span>.<code class="codeph">ora</code> file.
                              </p>
                              <p>The <code class="codeph">password</code> must be in the password file on the system on which WebSphere MQ and the gateway are installed. Otherwise, the <code class="codeph">password</code> must be published in the Windows or UNIX Network Information Service (NIS), as the case may be when WebSphere MQ and the gateway are installed on different systems.
                              </p>
                              <p>If <code class="codeph">password</code> contains lowercase letters or non alphanumeric characters, then surround <code class="codeph">password</code> with quotation marks (").
                              </p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">tns_name_entry</code></span> is the Oracle Net TNS connect descriptor name specified in the <code class="codeph">tnsnames.ora</code> file.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="database-gateway-webspheremq-running-environment.html#GUID-147324B7-6FF4-418E-B9C4-705D1877C55B" title="WebSphere MQ has its own authorization mechanism.&nbsp;Applications are allowed to perform certain operations on queues or queue managers only when their effective user&nbsp;ID has authorization for each operation.">Security Models</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="WSMQG181"></a><div class="props_rev_3"><a id="GUID-C426743F-A999-4129-8263-F080C1EDCF3D" name="GUID-C426743F-A999-4129-8263-F080C1EDCF3D"></a><h4 id="WSMQG-GUID-C426743F-A999-4129-8263-F080C1EDCF3D" class="sect4">Dropping Database Links</h4>
                  <div>
                     <p>You can drop a database link with the <code class="codeph">DROP DATABASE LINK</code> statement.
                     </p>
                     <div class="section">
                        <p><a id="d10290e1940" class="indexterm-anchor"></a><a id="d10290e1944" class="indexterm-anchor"></a><a id="d10290e1946" class="indexterm-anchor"></a><a id="d10290e1948" class="indexterm-anchor"></a>For example, to drop the database link named <code class="codeph">dblink</code>, enter:
                        </p><pre class="oac_no_warn" dir="ltr">DROP [PUBLIC] DATABASE LINK <span class="italic">dblink</span>;
</pre><p>A database link should not be dropped if it is required to resolve a distributed transaction that is in doubt.</p>
                        <div class="infoboxnotealso" id="GUID-C426743F-A999-4129-8263-F080C1EDCF3D__GUID-43192FCB-AC76-496D-9E57-D6C6C41F3C8E">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/wsmqg&amp;id=SQLRF01514" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about dropping database links.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="WSMQG182"></a><div class="props_rev_3"><a id="GUID-F512DCD0-BA3F-4542-B941-A5C92DEB3E67" name="GUID-F512DCD0-BA3F-4542-B941-A5C92DEB3E67"></a><h4 id="WSMQG-GUID-F512DCD0-BA3F-4542-B941-A5C92DEB3E67" class="sect4">Examining Available Database Links</h4>
                  <div>
                     <p>The data dictionary of each database stores the definitions of all the database links in that database.</p>
                     <p><a id="d10290e1993" class="indexterm-anchor"></a>The <code class="codeph">USER_DB_LINKS</code> view shows the database links that are defined for a user.&nbsp;The <code class="codeph">ALL_DB_LINKS</code> data dictionary views show all the defined database links.
                     </p>
                  </div>
               </div><a id="WSMQG183"></a><div class="props_rev_3"><a id="GUID-250D42BC-8B5F-44A1-A22F-3B29AE000015" name="GUID-250D42BC-8B5F-44A1-A22F-3B29AE000015"></a><h4 id="WSMQG-GUID-250D42BC-8B5F-44A1-A22F-3B29AE000015" class="sect4">Limiting the Number of Active Database Links</h4>
                  <div>
                     <p>You can limit the number of connections from a user process to remote databases with the <code class="codeph">OPEN_LINKS</code> parameter.
                     </p>
                     <p><a id="d10290e2031" class="indexterm-anchor"></a><a id="d10290e2035" class="indexterm-anchor"></a>This parameter controls the number of remote connections that any single user process can use with a single user session.
                     </p>
                     <div class="infoboxnotealso" id="GUID-250D42BC-8B5F-44A1-A22F-3B29AE000015__GUID-E09D7016-3C45-4316-A6E2-80BA65B4FF0A">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/wsmqg&amp;id=ADMIN12083" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about limiting the number of active database links.
                        </p>
                     </div>
                  </div>
               </div><a id="WSMQG184"></a><div class="props_rev_3"><a id="GUID-753F3A33-66CA-44CF-98D0-D01479EFACDD" name="GUID-753F3A33-66CA-44CF-98D0-D01479EFACDD"></a><h4 id="WSMQG-GUID-753F3A33-66CA-44CF-98D0-D01479EFACDD" class="sect4">Creating Alias Library</h4>
                  <div>
                     <p>Create the Oracle Database Gateway for WebSphere MQ alias library, <code class="codeph">libdg4mq,</code> using the Oracle Database Gateway for WebSphere MQ deployment scripts.
                     </p>
                     <div class="section">
                        <p>During installation, the appropriate shared library name is defined in <code class="codeph"> ORACLE_HOME\dg4mq\admin\deploy\pgmobj.sql on Microsoft Windows and </code>  <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/dg4mq/admin/deploy/pgmobj.sql</code> on UXIX based systems based on the DG4MQ model you choose.
                        </p>
                        <p>For a remote model, the <code class="codeph">libdg4mqc.so</code> shared library is used. For example:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE LIBRARY libdg4mq AS '<span class="italic">ORACLE_HOME</span>/lib/libdg4mqc.so' TRANSACTIONAL;
</pre><p>For a local model, the <code class="codeph">libdg4mqs.so</code> shared library is used. For example:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE LIBRARY libdg4mq AS '<span class="italic">ORACLE_HOME</span>/lib/libdg4mqs.so' TRANSACTIONAL;
</pre><div class="infoboxnote" id="GUID-753F3A33-66CA-44CF-98D0-D01479EFACDD__GUID-343972E5-BF88-42B1-80C3-97C911C4D79B">
                           <p class="notep1">Note:</p>
                           <p>The file extension of shared libraries on HP-UX is<code class="codeph"> .sl</code> . For example, <code class="codeph">libdg4mqc.sl</code></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="WSMQG185"></a><div class="props_rev_3"><a id="GUID-C87DE573-0746-4D7E-9545-3516CE2DE2AE" name="GUID-C87DE573-0746-4D7E-9545-3516CE2DE2AE"></a><h4 id="WSMQG-GUID-C87DE573-0746-4D7E-9545-3516CE2DE2AE" class="sect4">Dropping Alias Library</h4>
                  <div>
                     <p>Use the undeploy scripts to drop the <code class="codeph">libdg4mq</code> Oracle Database Gateway for WebSphere MQ alias library.
                     </p>
                  </div>
               </div>
            </div><a id="WSMQG186"></a><div class="props_rev_3"><a id="GUID-73165695-D5CB-4EE0-927C-05467DA79DF4" name="GUID-73165695-D5CB-4EE0-927C-05467DA79DF4"></a><h3 id="WSMQG-GUID-73165695-D5CB-4EE0-927C-05467DA79DF4" class="sect3">Installing the Oracle Visual Workbench Repository</h3>
               <div>
                  <p>Install the Oracle Visual Workbench repository following the steps in this section.</p>
                  <p>You <a id="d10290e2176" class="indexterm-anchor"></a><a id="d10290e2180" class="indexterm-anchor"></a><a id="d10290e2184" class="indexterm-anchor"></a>can skip the installation of the Oracle Visual Workbench repository if you do not plan to use Oracle Visual Workbench, or if you are preparing your production Oracle database, where you do not need a Visual Workbench repository, but instead need a Oracle Database Gateway for WebSphere MQ deployment.
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="configuring-database-gateway-webspheremq.html#GUID-A6FA8628-F99D-4B20-9F3F-D2CCA16491C7" title="These preparations include preparing, installing, and removing PL/SQL packages on the production database.">Preparing the Production Oracle Database</a></li>
                     </ul>
                  </div>
               </div>
               <a id="WSMQG187"></a><div class="props_rev_3"><a id="GUID-E7450F50-48C4-4CC7-A05D-CFC58FAF19A0" name="GUID-E7450F50-48C4-4CC7-A05D-CFC58FAF19A0"></a><h4 id="WSMQG-GUID-E7450F50-48C4-4CC7-A05D-CFC58FAF19A0" class="sect4">Preinstallation Tasks</h4>
                  <div>
                     <p>These steps describe the preinstallation tasks.</p>
                  </div><a id="WSMQG188"></a><div class="props_rev_3"><a id="GUID-690B28A3-9B57-43BE-BFAB-01E798E477DC" name="GUID-690B28A3-9B57-43BE-BFAB-01E798E477DC"></a><h5 id="WSMQG-GUID-690B28A3-9B57-43BE-BFAB-01E798E477DC" class="sect5">Step&nbsp;1: Choose a Repository Server</h5>
                     <div>
                        <p>This step explains how to choose a repository server.</p>
                        <div class="section">
                           <p>A repository server is an Oracle database on which the Visual Workbench repository is installed.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="WSMQG189"></a><div class="props_rev_3"><a id="GUID-2D71C499-FC20-459C-92C7-4F2EFF6EA7EE" name="GUID-2D71C499-FC20-459C-92C7-4F2EFF6EA7EE"></a><h5 id="WSMQG-GUID-2D71C499-FC20-459C-92C7-4F2EFF6EA7EE" class="sect5">Step&nbsp;2: Locate the Installation Scripts</h5>
                     <div>
                        <p>This step explains how to locate the installation scripts.</p>
                        <div class="section">
                           <p>The Visual Workbench repository installation scripts are installed with the Visual Workbench. If the <a id="d10290e2285" class="indexterm-anchor"></a><a id="d10290e2287" class="indexterm-anchor"></a>repository is to be installed on the same system as Oracle Visual Workbench, then your repository server already has all the required installation scripts. Proceed to Step&nbsp;3.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Create a directory on the repository server to be the script directory. For example:</span><div>
                                 <p>For Microsoft Windows:</p><pre class="oac_no_warn" dir="ltr">&gt; md %ORACLE_HOME%\dg4mqadmin\repo
</pre><p>For UNIX based systems:</p><pre class="oac_no_warn" dir="ltr">$ mkdir $<span class="italic">ORACLE_HOME</span>/dg4mq/admin/repo
$ chmod 777 $<span class="italic">ORACLE_HOME</span>/dg4mq/admin/repo
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Use a <a id="d10290e2314" class="indexterm-anchor"></a><a id="d10290e2316" class="indexterm-anchor"></a>file transfer program to transfer the repository zip file (<code class="codeph">repos</code><span class="italic"><code class="codeph">XXX.</code></span><code class="codeph">zip</code>, where <span class="italic"><code class="codeph">XXX</code></span> is the release number), or move all script files with the <code class="codeph">.sql</code> suffix from the <a id="d10290e2337" class="indexterm-anchor"></a><a id="d10290e2341" class="indexterm-anchor"></a>script file directory <code class="codeph">(ORACLE_HOME\dg4mqvwb\server\admin</code> on Windows) on the Visual Workbench system to the script file directory on the repository server system.</span></li>
                        </ol>
                     </div>
                  </div><a id="WSMQG190"></a><div class="props_rev_3"><a id="GUID-7597BA78-D666-4779-857E-F901027E45BE" name="GUID-7597BA78-D666-4779-857E-F901027E45BE"></a><h5 id="WSMQG-GUID-7597BA78-D666-4779-857E-F901027E45BE" class="sect5">Step 3: Upgrade the Visual Workbench Repository</h5>
                     <div>
                        <p>This step explains how to upgrade your Visual Workbench repository installation scripts.</p>
                        <div class="section">
                           <p>Upgrade your existing Visual Workbench repository installation scripts by copying the <code class="codeph">pgm</code><span class="italic"><code class="codeph">xxx</code></span>.<code class="codeph">sql</code> files installed with the Oracle Database Gateway for WebSphere MQ in the <code class="codeph">ORACLE_HOME\dg4mq\admin\deploy</code> directory on Microsoft Windows and <code class="codeph">ORACLE_HOME/dg4mq/admin/deploy</code> directory on UNIX based systems to the script file directory on the repository server system.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="WSMQG191"></a><div class="props_rev_3"><a id="GUID-4B3A5110-A5CC-4397-88A9-1191C1E0620F" name="GUID-4B3A5110-A5CC-4397-88A9-1191C1E0620F"></a><h5 id="WSMQG-GUID-4B3A5110-A5CC-4397-88A9-1191C1E0620F" class="sect5">Step&nbsp;4: Ensure that the UTL_RAW Package is Installed</h5>
                     <div>
                        <p>The step explains how to ensure that the <code class="codeph">UTL_RAW</code> package is installed.
                        </p>
                        <div class="section">
                           <p>All data mapping packages generated by the Visual Workbench use the <a id="d10290e2423" class="indexterm-anchor"></a><a id="d10290e2425" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> package, which provides routines for manipulating raw data.
                           </p>
                           <p>From SQL*Plus, as the <code class="codeph">SYS</code> user, issue the following statement:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE UTL_RAW
</pre><p>If the <a id="d10290e2441" class="indexterm-anchor"></a><a id="d10290e2443" class="indexterm-anchor"></a><code class="codeph">DESCRIBE</code> statement is successful, then your repository server already has <code class="codeph">UTL_RAW</code> installed, and you can proceed to Step&nbsp;4.
                           </p>
                           <p>If the <code class="codeph">DESCRIBE</code> statement fails, then install <code class="codeph">UTL_RAW</code>:
                           </p>
                           <p>From SQL*Plus, as the <code class="codeph">SYS</code> user, run the <code class="codeph">utlraw.sql</code> and <a id="d10290e2469" class="indexterm-anchor"></a><a id="d10290e2471" class="indexterm-anchor"></a><code class="codeph">prvtrawb.plb</code> scripts that are in the <code class="codeph">ORACLE_HOME\rdbms\admin</code> directory on Microsoft Windows and <code class="codeph">ORACLE_HOME</code><code class="codeph">/rdbms/admin</code> directory on UNIX based systems. You must run the <code class="codeph">utlraw.sql</code> script first.
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @utlraw.sql
SQL&gt; @prvtrawb.plb</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="WSMQG192"></a><div class="props_rev_3"><a id="GUID-09DA9EAB-3CD0-4E72-BF2F-E2206019B4D3" name="GUID-09DA9EAB-3CD0-4E72-BF2F-E2206019B4D3"></a><h5 id="WSMQG-GUID-09DA9EAB-3CD0-4E72-BF2F-E2206019B4D3" class="sect5">Step&nbsp;5: Ensure that the DBMS_OUTPUT Package is Enabled</h5>
                     <div>
                        <p>This step explains how to ensure that the <code class="codeph">DBMS_OUTPUT</code> package is enabled.
                        </p>
                        <div class="section">
                           <p>The sample programs and installation verification programs on the distribution CD-ROM use the standard <a id="d10290e2521" class="indexterm-anchor"></a><a id="d10290e2523" class="indexterm-anchor"></a><code class="codeph">DBMS_OUTPUT</code> package.
                           </p>
                           <p>From SQL*Plus, as <code class="codeph">SYS</code> user, issue the following statement:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE DBMS_OUTPUT
</pre><p>If the <a id="d10290e2539" class="indexterm-anchor"></a><a id="d10290e2541" class="indexterm-anchor"></a><code class="codeph">DESCRIBE</code> statement is successful, then your repository server has <code class="codeph">DBMS_OUTPUT</code> installed, and you can proceed to Step&nbsp;6.
                           </p>
                           <p>If the <code class="codeph">DESCRIBE</code> statement fails, then install <code class="codeph">DBMS_OUTPUT</code>.
                           </p>
                           <div class="infoboxnotealso" id="GUID-09DA9EAB-3CD0-4E72-BF2F-E2206019B4D3__GUID-0AFE98C4-3D95-4EA7-89E8-C126B24A88A2">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/wsmqg&amp;id=ADMIN" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="WSMQG193"></a><div class="props_rev_3"><a id="GUID-A95DD314-CE1D-472A-8FE1-AC99F9A7E95D" name="GUID-A95DD314-CE1D-472A-8FE1-AC99F9A7E95D"></a><h5 id="WSMQG-GUID-A95DD314-CE1D-472A-8FE1-AC99F9A7E95D" class="sect5">Step&nbsp;6: Create a Database Link</h5>
                     <div>
                        <p>This step explains how to create a database link.</p>
                        <div class="section">
                           <p>Create a database link on your Oracle Production System Server to access the Oracle Database Gateway for WebSphere MQ.</p>
                           <p>If you do not already have a database link, then refer to <span class="q">"<a href="configuring-database-gateway-webspheremq.html#GUID-047A4F17-55B1-4F8E-8C32-670CA94EDA3C" title="A connection to the gateway is established through a database link when it is first used in an Oracle session.">Administering the Database Links Alias Library</a>"</span> for more information about creating database links.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="WSMQG194"></a><div class="props_rev_3"><a id="GUID-D73D7245-433F-44E9-AE03-9ACFB5CCA453" name="GUID-D73D7245-433F-44E9-AE03-9ACFB5CCA453"></a><h4 id="WSMQG-GUID-D73D7245-433F-44E9-AE03-9ACFB5CCA453" class="sect4">Visual Workbench Repository Installation Tasks</h4>
                  <div>
                     <p>Use <code class="codeph">pgvwbrepos.sql</code> to install the Visual Workbench Repository.
                     </p>
                     <p>Use <code class="codeph">pgvwbrepos.sql</code> to install the Visual Workbench Repository on Oracle10<span class="italic">g</span> or later. To run <code class="codeph">pgvwbrepos.sql</code>, ensure that you are currently in the<code class="codeph"> ORACLE_HOME\dg4mq\admin\repo</code> directory on Microsoft Windows and <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/dg4mq/admin/repo</code> directory on UNIX based systems, and then enter the following command:
                     </p><pre class="oac_no_warn" dir="ltr">sqlplus /nolog @pgvwbrepos.sql
</pre><div class="infoboxnote" id="GUID-D73D7245-433F-44E9-AE03-9ACFB5CCA453__GUID-52779C26-319F-4108-B39B-7F3E694041A0">
                        <p class="notep1">Note:</p>
                        <p>If you are installing the Visual Workbench repository on Oracle8<span class="italic">i</span> or earlier, then you must use <code class="codeph">pgvwbrepos8.sql</code>. All of the examples in this section are provided with the assumption that you are installing on Oracle9<span class="italic">i</span> and later.
                        </p>
                     </div>
                     <p>The script takes you through the following steps:</p>
                  </div><a id="WSMQG195"></a><div class="props_rev_3"><a id="GUID-FAAF488B-671B-43E9-877E-319D2D74A849" name="GUID-FAAF488B-671B-43E9-877E-319D2D74A849"></a><h5 id="WSMQG-GUID-FAAF488B-671B-43E9-877E-319D2D74A849" class="sect5">Step&nbsp;1: Enter the Database Connection Information</h5>
                     <div>
                        <p>This step explains how to enter the database connection information.</p>
                        <div class="section">
                           <p>Use the default vale of <code class="codeph">LOCAL</code> by pressing <span class="bold">Enter</span>. Next, you are prompted to enter the passwords for the <code class="codeph">SYSTEM</code> and <code class="codeph">SYS</code> accounts of the Oracle database.&nbsp;Press <span class="bold">Enter</span> after entering each password.
                           </p>
                           <p>The script stops if any information is incorrect. Verify the information before rerunning the script.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="WSMQG196"></a><div class="props_rev_3"><a id="GUID-904FA6F4-E1F4-474A-B362-4D4C64CF352F" name="GUID-904FA6F4-E1F4-474A-B362-4D4C64CF352F"></a><h5 id="WSMQG-GUID-904FA6F4-E1F4-474A-B362-4D4C64CF352F" class="sect5">Step&nbsp;2: Check for Existing Workbench Repository</h5>
                     <div>
                        <p>This step explains how to check for an existing Visual Workbench repository.</p>
                        <div class="section">
                           <p>The script checks for an existing Visual Workbench repository and for the data dictionary.&nbsp;If neither is found, then the script proceeds to Step&nbsp;3 below.</p>
                           <p>If the <a id="d10290e2733" class="indexterm-anchor"></a>data dictionary exists, then the script stops. Choose another Oracle database and rerun the script, starting at <span class="q">"<a href="configuring-database-gateway-webspheremq.html#GUID-690B28A3-9B57-43BE-BFAB-01E798E477DC" title="This step explains how to choose a repository server.">Step&nbsp;1: Choose a Repository Server </a>"</span>.
                           </p>
                           <p>If a Visual Workbench repository exists, then the script gives you the following options:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Upgrade the existing private repository to public status and proceed to Step 3.</p>
                              </li>
                              <li>
                                 <p>Replace the existing repository with the new private repository and proceed to Step&nbsp;3.</p>
                              </li>
                              <li>
                                 <p>Stop the script.</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="WSMQG197"></a><div class="props_rev_3"><a id="GUID-C6A48D6A-5C8A-4632-A1C2-5BD33C0E7DF8" name="GUID-C6A48D6A-5C8A-4632-A1C2-5BD33C0E7DF8"></a><h5 id="WSMQG-GUID-C6A48D6A-5C8A-4632-A1C2-5BD33C0E7DF8" class="sect5">Step&nbsp;3: Check for The Required PL/SQL Packages</h5>
                     <div>
                        <p>This step explains how to check for the required PL/SQL packages.</p>
                        <div class="section">
                           <p>The script checks for the existence of <code class="codeph">UTL_RAW</code><a id="d10290e2786" class="indexterm-anchor"></a><a id="d10290e2788" class="indexterm-anchor"></a>, <code class="codeph">DBMS_OUTPUT</code><a id="d10290e2795" class="indexterm-anchor"></a><a id="d10290e2797" class="indexterm-anchor"></a>, and <code class="codeph">DBMS_PIPE</code><a id="d10290e2804" class="indexterm-anchor"></a><a id="d10290e2807" class="indexterm-anchor"></a> in the Oracle database.&nbsp;If this software exists, then the script proceeds to Step&nbsp;4.
                           </p>
                           <p>The script stops if this software does not exist.&nbsp;Refer to <a href="../admin/index.html" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> about the missing software. After the software is installed, rerun the script.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="WSMQG198"></a><div class="props_rev_3"><a id="GUID-D341C425-B87A-4253-BE65-7A95BEC43915" name="GUID-D341C425-B87A-4253-BE65-7A95BEC43915"></a><h5 id="WSMQG-GUID-D341C425-B87A-4253-BE65-7A95BEC43915" class="sect5">Step&nbsp;4: Install the UTL_PG Package</h5>
                     <div>
                        <p>This step explains how to install the <code class="codeph">UTL_PG</code> package.
                        </p>
                        <div class="section">
                           <p>The script checks for the existence of the <a id="d10290e2847" class="indexterm-anchor"></a><code class="codeph">UTL_PG</code> <a id="d10290e2852" class="indexterm-anchor"></a>package.&nbsp;If it does not exist, then the <code class="codeph">UTL_PG</code> package is installed. The script then proceeds to Step&nbsp;5.
                           </p>
                           <p>If <code class="codeph">UTL_PG</code> exists, then you are prompted to reinstall it. Press Return to reinstall <code class="codeph">UTL_PG</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="WSMQG199"></a><div class="props_rev_3"><a id="GUID-C3C8582D-DAEA-4232-9C8E-A35968E334DC" name="GUID-C3C8582D-DAEA-4232-9C8E-A35968E334DC"></a><h5 id="WSMQG-GUID-C3C8582D-DAEA-4232-9C8E-A35968E334DC" class="sect5">Step&nbsp;5: Create the Administrative User and All Repository Tables</h5>
                     <div>
                        <p>This step explains how to create the administrative user for the Visual Workbench repository as <code class="codeph">PGMADMIN</code> with the initial password of <code class="codeph">PGMADMIN</code>.
                        </p>
                        <div class="section">
                           <p>This <a id="d10290e2900" class="indexterm-anchor"></a><a id="d10290e2904" class="indexterm-anchor"></a><a id="d10290e2906" class="indexterm-anchor"></a>user owns all objects in the repository.
                           </p>
                           <p>After this step, a private Visual Workbench repository that includes the <code class="codeph">PGM_SUP</code><a id="d10290e2913" class="indexterm-anchor"></a><a id="d10290e2915" class="indexterm-anchor"></a>,&nbsp; <a id="d10290e2920" class="indexterm-anchor"></a><a id="d10290e2922" class="indexterm-anchor"></a><code class="codeph">PGM_BQM</code>, and <code class="codeph">PGM_UTL8</code> packages, is created in the Oracle database, which only the <code class="codeph">PGMADMIN</code> user can access.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="WSMQG200"></a><div class="props_rev_3"><a id="GUID-857DF68A-42AF-49D0-B0D7-839362FA78A1" name="GUID-857DF68A-42AF-49D0-B0D7-839362FA78A1"></a><h5 id="WSMQG-GUID-857DF68A-42AF-49D0-B0D7-839362FA78A1" class="sect5">Step&nbsp;6: Create Public Synonyms and Development Roles</h5>
                     <div>
                        <p>This optional step explains how to change the private access privileges of the Visual Workbench repository.</p>
                        <div class="section">
                           <p>The <a id="d10290e2961" class="indexterm-anchor"></a><a id="d10290e2963" class="indexterm-anchor"></a>private status enables only the <code class="codeph">PGMADMIN</code> user to have access to the repository. If you enter <code class="codeph">N</code> and press <span class="bold">Enter</span>, then the repository retains its private status.
                           </p>
                           <p>A public status enables the granting of access privileges to other users besides <code class="codeph">PGMADMIN</code>. If you want to give the repository <a id="d10290e2980" class="indexterm-anchor"></a><a id="d10290e2982" class="indexterm-anchor"></a>public status, then enter <span class="bold">Y</span> and press <span class="bold">Enter</span>.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="WSMQG201"></a><div class="props_rev_3"><a id="GUID-52F29E90-BF9C-4A43-A586-B8B33ED5AA88" name="GUID-52F29E90-BF9C-4A43-A586-B8B33ED5AA88"></a><h4 id="WSMQG-GUID-52F29E90-BF9C-4A43-A586-B8B33ED5AA88" class="sect4">After the Repository is Created</h4>
                  <div>
                     <p>After creating the Visual Workbench repository, there is one optional step, granting development privileges for the Visual Workbench repository to users.</p>
                     <div class="section">
                        <p>To <a id="d10290e3016" class="indexterm-anchor"></a><a id="d10290e3020" class="indexterm-anchor"></a>allow users, other than the <code class="codeph">PGMADMIN</code> user, to perform development operations on the Visual Workbench repository, <code class="codeph">PGMADMIN</code> must grant them the necessary privileges. To do this, perform the following:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Ensure that the repository has a public status. It has this status if you created it by using Steps&nbsp;1 to&nbsp;6 of the <a id="d10290e3035" class="indexterm-anchor"></a><code class="codeph">pgvwbrepos.sql</code> script.&nbsp;If you did not use Step&nbsp;6, then rerun the script.&nbsp;When you get to Step&nbsp;2 of the script, enter <span class="bold">A</span> at the prompt to upgrade the private repository to public status.</span></li>
                        <li class="stepexpand"><span>Use SQL*Plus to connect to the repository as the <code class="codeph">PGMADMIN</code> user and grant the <a id="d10290e3049" class="indexterm-anchor"></a><code class="codeph">PGMDEV</code> <a id="d10290e3054" class="indexterm-anchor"></a>role to each user.&nbsp;For example:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT PGMDEV TO SCOTT;
</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="WSMQG202"></a><div class="props_rev_3"><a id="GUID-3EB1A14E-68CC-47CE-93A8-0CB5EA52E213" name="GUID-3EB1A14E-68CC-47CE-93A8-0CB5EA52E213"></a><h4 id="WSMQG-GUID-3EB1A14E-68CC-47CE-93A8-0CB5EA52E213" class="sect4">Deinstall the Visual Workbench Repository</h4>
                  <div>
                     <p>Use the repository script <code class="codeph">pgvwbremove.sql</code> to deinstall a Visual Workbench.
                     </p>
                     <div class="section">
                        <p><a id="d10290e3089" class="indexterm-anchor"></a>To deinstall a <a id="d10290e3094" class="indexterm-anchor"></a>Visual Workbench <a id="d10290e3099" class="indexterm-anchor"></a>repository on Oracle10<span class="italic">g</span>, use the repository script <code class="codeph">pgvwbremove.sql</code>. To run this script, ensure that you are currently under the Oracle database <code class="codeph">ORACLE_HOME\dg4mq\admin\repo directory on Microsoft Windows and </code><span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/dg4mq/admin/repo</code> directory on UNIX based systems (where you copied the scripts), and then enter the following command:
                        </p><pre class="oac_no_warn" dir="ltr">sqlplus /nolog @pgvwbremove.sql
</pre><div class="infoboxnote" id="GUID-3EB1A14E-68CC-47CE-93A8-0CB5EA52E213__GUID-06283FD1-DE39-4AF3-8577-B6A84809A339">
                           <p class="notep1">Note:</p>
                           <p>If you are deinstalling the Visual Workbench Repository on Oracle8<span class="italic">i</span> or earlier, then you must use <code class="codeph">pgvwbremove8.sql</code>. All the examples in this section are provided with the assumption that you are installing on Oracle9<span class="italic">i</span> and later.
                           </p>
                        </div>
                        <p>The script takes you through the following steps:</p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="WSMQG203"></a><div class="props_rev_3"><a id="GUID-6C088018-0FBC-401B-AC08-20EA60C52A98" name="GUID-6C088018-0FBC-401B-AC08-20EA60C52A98"></a><h5 id="WSMQG-GUID-6C088018-0FBC-401B-AC08-20EA60C52A98" class="sect5">Step&nbsp;1: Enter the Database Connection Information</h5>
                     <div>
                        <p>This step explains how to enter the database connection information.</p>
                        <div class="section">
                           <p>Use the default value of <code class="codeph">LOCAL</code> by pressing <span class="bold">Enter</span>.
                           </p>
                           <p>Next, you are prompted to enter the passwords for the <code class="codeph">SYSTEM</code>, <code class="codeph">SYS</code>, and <a id="d10290e3174" class="indexterm-anchor"></a><code class="codeph">PGMADMIN</code> accounts of the Oracle database.&nbsp;Press <span class="bold">Enter</span> after entering each password.
                           </p>
                           <p>The script stops if any of the information is incorrect. Verify the information before rerunning the script.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="WSMQG204"></a><div class="props_rev_3"><a id="GUID-0DD53FCE-3998-415F-A4C1-E2784B854851" name="GUID-0DD53FCE-3998-415F-A4C1-E2784B854851"></a><h5 id="WSMQG-GUID-0DD53FCE-3998-415F-A4C1-E2784B854851" class="sect5">Step&nbsp;2: Check for the Existing Workbench Repository</h5>
                     <div>
                        <p>This step explains how to check for the existing Workbench repository.</p>
                        <div class="section">
                           <p>Enter&nbsp;<span class="bold">Y</span> and press <span class="bold">Enter</span> for the prompt to remove public synonyms and development roles. This returns the repository to private<a id="d10290e3216" class="indexterm-anchor"></a><a id="d10290e3218" class="indexterm-anchor"></a> status. You can exit the script now by entering&nbsp;<span class="bold">N</span> and pressing <span class="bold">Enter</span>, or you can proceed to the next prompt.
                           </p>
                           <p>If you are certain you want to remove the private repository, then enter&nbsp;<span class="bold">Y</span> and press <span class="bold">Enter</span>.&nbsp;The script removes all repository tables and related packages.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="WSMQG205"></a><div class="props_rev_3"><a id="GUID-A6FA8628-F99D-4B20-9F3F-D2CCA16491C7" name="GUID-A6FA8628-F99D-4B20-9F3F-D2CCA16491C7"></a><h3 id="WSMQG-GUID-A6FA8628-F99D-4B20-9F3F-D2CCA16491C7" class="sect3">Preparing the Production Oracle Database</h3>
               <div>
                  <p>These preparations include preparing, installing, and removing PL/SQL packages on the production database.</p>
               </div><a id="WSMQG206"></a><div class="props_rev_3"><a id="GUID-EAB59ED0-97AA-4094-B046-1FA638D10F07" name="GUID-EAB59ED0-97AA-4094-B046-1FA638D10F07"></a><h4 id="WSMQG-GUID-EAB59ED0-97AA-4094-B046-1FA638D10F07" class="sect4">Introduction</h4>
                  <div>
                     <p>This section describes how to run the <code class="codeph">pgmdeploy.sql</code> and <code class="codeph">pgmundeploy.sql</code> scripts.
                     </p>
                     <p>Before you can compile MIPs on a production Oracle database, the following PL/SQL <a id="d10290e3289" class="indexterm-anchor"></a><a id="d10290e3293" class="indexterm-anchor"></a>packages must be present on the production Oracle database:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d10290e3301" class="indexterm-anchor"></a><a id="d10290e3303" class="indexterm-anchor"></a><code class="codeph">DBMS_PIPE</code>, <a id="d10290e3310" class="indexterm-anchor"></a><a id="d10290e3312" class="indexterm-anchor"></a><code class="codeph">DBMS_OUTPUT</code>, and<a id="d10290e3319" class="indexterm-anchor"></a><a id="d10290e3321" class="indexterm-anchor"></a> <code class="codeph">UTL_RAW</code></p>
                           <p><a id="d10290e3330" class="indexterm-anchor"></a>These packages are shipped with each Oracle database and are typically preinstalled.
                           </p>
                        </li>
                        <li>
                           <p><a id="d10290e3337" class="indexterm-anchor"></a><a id="d10290e3339" class="indexterm-anchor"></a><code class="codeph">PGM</code>, <code class="codeph">PGM_BQM</code>, <code class="codeph">PGM_SUP</code><a id="d10290e3351" class="indexterm-anchor"></a><a id="d10290e3353" class="indexterm-anchor"></a>, and <code class="codeph">UTL_PG</code><a id="d10290e3361" class="indexterm-anchor"></a><a id="d10290e3363" class="indexterm-anchor"></a> 
                           </p>
                           <p>These packages are shipped with your Oracle Database Gateway for WebSphere MQ. They are installed during the creation process of the Visual Workbench repository. Do not execute deployment script on the Oracle database with an installed Visual Workbench repository. If the Oracle database used for the repository is different from the Oracle database used in the production environment, you must install these packages on the production Oracle database.</p>
                        </li>
                     </ul>
                     <p>This section describes how to run the following scripts:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">pgmdeploy.sql</code>, 
                           </p>
                           <p>A deployment script that is used to verify the existence of the required PL/SQL packages and <a id="d10290e3380" class="indexterm-anchor"></a>install them if they do not exist on the production Oracle database.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">pgmundeploy.sql</code> 
                           </p>
                           <p>A script to remove the PL/SQL packages from a production Oracle database.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="WSMQG207"></a><div class="props_rev_3"><a id="GUID-2C606914-0E34-4BE4-B012-E1C74CAD4A08" name="GUID-2C606914-0E34-4BE4-B012-E1C74CAD4A08"></a><h4 id="WSMQG-GUID-2C606914-0E34-4BE4-B012-E1C74CAD4A08" class="sect4">Verifying and Installing PL/SQL Packages</h4>
                  <div>
                     <p>This topic describes verifying and installing PL/SQL packages.</p>
                     <ol>
                        <li class="stepexpand"><span>Locate the following scripts:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">pgm.sql</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">pgmbqm.sql</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">pgmdeploy.sql</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">pgmsup.sql</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">pgmundeploy.sql</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">prvtpg.sql</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">utlpg.sql</code></p>
                                 </li>
                              </ul>
                              <p>These scripts are installed with the gateway, in the <code class="codeph">ORACLE_HOME\dg4mq\admin\deploy</code> directory on Microsoft Windows and <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/dg4mq/admin/deploy</code> directory on UNIX based systems, where <span class="italic"><code class="codeph">ORACLE_HOME</code></span> is the gateway home directory.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>If your production Oracle database is on a system that is different from the gateway, then use a file transfer method, such as FTP, to transfer files in the  <code class="codeph">ORACLE_HOME\dg4mq\admin\deploy</code> directory on Microsoft Windows and<code class="codeph">  ORACLE_HOME/dg4mq/admin/deploy</code> directory on UNIX based systems, where <code class="codeph">ORACLE_HOME</code> is the gateway home directory on your gateway system. On your production Oracle database system, change directory to the directory containing the deployment scripts that you just transferred and skip to Step 4.</span></li>
                        <li class="stepexpand"><span>If your production Oracle database is on the same system as the gateway, then change the directory to <code class="codeph">ORACLE_HOME\dg4mq\admin\deploy</code> directory on Microsoft Windows and <code class="codeph">ORACLE_HOME/dg4mq/admin/deploy</code> on UNIX based systems, where <code class="codeph">ORACLE_HOME</code> is the gateway home directory.</span></li>
                        <li class="stepexpand"><span>Run the <code class="codeph">pgmdeploy.sql</code> script by as follows:</span><div><pre class="oac_no_warn" dir="ltr">$ sqlplus /nolog @pgmdeploy.sql
</pre></div>
                        </li>
                        <li class="stepexpand"><span>At the script prompt: <tt>Enter the connect string for the Oracle database... [LOCAL]</tt>, press <span class="bold">Enter</span> to use the default value of <code class="codeph">LOCAL</code>.</span></li>
                        <li class="stepexpand"><span>At the script prompt <tt>Enter the following required Oracle database password</tt>, enter the password of the <code class="codeph">SYS</code> account.</span></li>
                     </ol>
                     <div class="section">
                        <p>After the script verifies the <code class="codeph">SYS</code> account password, it connects to the production Oracle database. The script verifies and reports the PL/SQL <a id="d10290e3528" class="indexterm-anchor"></a><a id="d10290e3532" class="indexterm-anchor"></a>packages that are installed there:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If any of the Oracle database <a id="d10290e3541" class="indexterm-anchor"></a><a id="d10290e3543" class="indexterm-anchor"></a><a id="d10290e3547" class="indexterm-anchor"></a><a id="d10290e3549" class="indexterm-anchor"></a><a id="d10290e3553" class="indexterm-anchor"></a><a id="d10290e3555" class="indexterm-anchor"></a>packages, <code class="codeph">DBMS_OUTPUT</code>, <code class="codeph">DBMS_PIPE</code> or <code class="codeph">UTL_RAW</code> are missing, then the script stops. Have your DBA install the missing packages and re-run the deployment script.
                              </p>
                           </li>
                           <li>
                              <p>If any of the Oracle <a id="d10290e3573" class="indexterm-anchor"></a><a id="d10290e3575" class="indexterm-anchor"></a><a id="d10290e3579" class="indexterm-anchor"></a><a id="d10290e3581" class="indexterm-anchor"></a><a id="d10290e3585" class="indexterm-anchor"></a><a id="d10290e3587" class="indexterm-anchor"></a>packages, <code class="codeph">PGM</code>, <code class="codeph">PGM_BQM</code>, <code class="codeph">PGM_SUP</code>, and <code class="codeph">UTL_PG</code> are missing, then the script installs them on the production Oracle database.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="WSMQG208"></a><div class="props_rev_3"><a id="GUID-744DBEF1-66CC-42D4-B69D-937318833273" name="GUID-744DBEF1-66CC-42D4-B69D-937318833273"></a><h4 id="WSMQG-GUID-744DBEF1-66CC-42D4-B69D-937318833273" class="sect4">Removing the PL/SQL Packages</h4>
                  <div>
                     <p>This topic describes removing PL/SQL packages.</p>
                     <div class="section">
                        <p><a id="d10290e3629" class="indexterm-anchor"></a>You can remove the PL/SQL <a id="d10290e3634" class="indexterm-anchor"></a><a id="d10290e3638" class="indexterm-anchor"></a>packages that were installed by the <code class="codeph">pgmdeploy.sql</code> script if, for example, none of your applications in the production environment uses a MIP. To remove these packages, perform the following steps:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>On your production Oracle database, change to the directory containing the deployment scripts by entering the following command:</span><div>
                              <p>For Microsoft Windows:</p><pre class="oac_no_warn" dir="ltr">&gt; cd ORACLE_HOME\dg4mq\admin\deploy
</pre><p>For UNIX based systems:</p><pre class="oac_no_warn" dir="ltr">$ cd $ORACLE_HOME/dg4mq/admin/deploy
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">pgmundeploy.sql</code> as follows:</span><div><pre class="oac_no_warn" dir="ltr">$ sqlplus /nolog @pgmundeploy.sql
</pre></div>
                        </li>
                        <li class="stepexpand"><span>At the script prompt: <tt>Enter the connect string for the Oracle database... [LOCAL]</tt>, press [<tt>Return</tt>] to use the default of <code class="codeph">LOCAL</code>.</span></li>
                        <li class="stepexpand"><span>At the script prompt, <tt>enter the required Oracle database passwords</tt>, enter the password of the <code class="codeph">SYS</code> account.</span></li>
                     </ol>
                     <div class="section">
                        <p>After the script verifies the <code class="codeph">SYS</code> account password, it connects to the production Oracle database and removes the packages installed by the <code class="codeph">pgmdeploy.sql</code> script.
                        </p>
                        <p>After the <code class="codeph">pgmundeploy.sql</code> script completes successfully, applications on the production Oracle database fail if they attempt to reference any of the MIPs that are compiled there.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>