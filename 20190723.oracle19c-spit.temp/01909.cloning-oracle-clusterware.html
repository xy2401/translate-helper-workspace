<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Cloning Oracle Clusterware</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Clusterware Administration and Deployment Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Clusterware Administration and Deployment Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="clusterware-administration-and-deployment-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-24T07:05:38-07:00">
      <meta name="dcterms.title" content="Clusterware Administration and Deployment Guide">
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E95727-05">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="adding-and-deleting-cluster-nodes.html" title="Previous" type="text/html">
      <link rel="next" href="making-applications-highly-available-using-oracle-clusterware.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CWADD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="adding-and-deleting-cluster-nodes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="making-applications-highly-available-using-oracle-clusterware.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Clusterware Administration and Deployment Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Cloning Oracle Clusterware</li>
            </ol>
            <a id="GUID-502ABA1D-8246-4A13-BE72-3E806B77AB8F" name="GUID-502ABA1D-8246-4A13-BE72-3E806B77AB8F"></a><a id="CWADD03202"></a>
            
            <h2 id="CWADD-GUID-502ABA1D-8246-4A13-BE72-3E806B77AB8F" class="sect2"><span class="enumeration_chapter">8 </span>Cloning Oracle Clusterware
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d43988e125" class="indexterm-anchor"></a><a id="d43988e129" class="indexterm-anchor"></a>This chapter describes how to clone an Oracle Grid Infrastructure home and use the cloned home to create a cluster. You perform the cloning procedures in this chapter by running scripts in silent mode. The cloning procedures are applicable to Linux and UNIX systems. Although the examples in this chapter use Linux and UNIX commands, the cloning concepts and procedures apply generally to all platforms.
               </p>
               <div class="infoboxnote" id="GUID-502ABA1D-8246-4A13-BE72-3E806B77AB8F__GUID-D143331D-EABA-402A-93F3-53DC416DC516">
                  <p class="notep1">Note:</p>
                  <p>This chapter assumes that you are cloning an Oracle Clusterware 12<span class="italic">c</span> installation configured as follows:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>No Grid Naming Service (GNS)</p>
                     </li>
                     <li>
                        <p>No Intelligent Platform Management Interface specification (IPMI)</p>
                     </li>
                     <li>
                        <p>Voting file and Oracle Cluster Registry (OCR) are stored in Oracle Automatic Storage Management (ASM)</p>
                     </li>
                     <li>
                        <p>Single Client Access Name (SCAN) resolves through DNS</p>
                     </li>
                  </ul>
               </div>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="cloning-oracle-clusterware.html#GUID-A1BF4F1D-02D8-4128-8FE0-195FE177B861">Introduction to Cloning Oracle Clusterware</a></p>
                  </li>
                  <li>
                     <p><a href="cloning-oracle-clusterware.html#GUID-CC78C17B-1A45-4664-AF14-7743D70FCD1C">Preparing the Oracle Grid Infrastructure Home for Cloning</a></p>
                  </li>
                  <li>
                     <p><a href="cloning-oracle-clusterware.html#GUID-850143F9-E53A-4EE6-B8A2-E6DA0FEDE4CE" title="To set up the new Oracle Clusterware environment, run the gridSetup.sh utility in either interactive or silent mode on one node, as you would when installing Oracle Grid Infrastructure for a new cluster.">Creating a Cluster by Cloning Oracle Clusterware</a></p>
                  </li>
                  <li>
                     <p><a href="cloning-oracle-clusterware.html#GUID-D02E842E-28C5-42C6-848E-80B055B48867" title="You can also use cloning to add nodes to a cluster.">Using Cloning to Add Nodes to a Cluster</a></p>
                  </li>
                  <li>
                     <p><a href="cloning-oracle-clusterware.html#GUID-79E673C8-5E8B-4E5B-8AE7-0DE5BF0545CE">Locating and Viewing Log Files Generated During Cloning</a></p>
                  </li>
               </ul>
            </div><a id="CWADD92115"></a><div class="props_rev_3"><a id="GUID-A1BF4F1D-02D8-4128-8FE0-195FE177B861" name="GUID-A1BF4F1D-02D8-4128-8FE0-195FE177B861"></a><h3 id="CWADD-GUID-A1BF4F1D-02D8-4128-8FE0-195FE177B861" class="sect3">Introduction to Cloning Oracle Clusterware</h3>
               <div>
                  <p>Cloning is the process of copying an existing Oracle Clusterware installation to a different location and then updating the copied installation to work in the new environment. Changes made by one-off patches applied on the source Oracle Grid Infrastructure home are also present after cloning. During cloning, you run a script that replays the actions that installed the Oracle Grid Infrastructure home. </p>
                  <p>Cloning requires that you start with a successfully installed Oracle Grid Infrastructure home. You use this home as the basis for implementing a script that extends the Oracle Grid Infrastructure home to create a cluster based on the original Grid home. </p>
                  <p>Manually creating the cloning script can be error prone because you prepare the script without interactive checks to validate your input. Despite this, the initial effort is worthwhile for scenarios where you run a single script to configure tens or even hundreds of clusters. If you have only one cluster to install, then you should use the traditional, automated and interactive installation methods, such as Oracle Universal Installer (OUI) or the Provisioning Pack feature of Oracle Enterprise Manager.</p>
                  <div class="infoboxnote" id="GUID-A1BF4F1D-02D8-4128-8FE0-195FE177B861__GUID-E378E47C-8214-48D5-B097-E361A39D6EB4">
                     <p class="notep1">Note:</p>
                     <p>Cloning is not a replacement for Oracle Enterprise Manager cloning that is a part of the Provisioning Pack. During Oracle Enterprise Manager cloning, the provisioning process simplifies cloning by interactively asking for details about the Oracle home. The interview questions cover such topics as the location to which you want to deploy the cloned environment, the name of the Oracle database home, a list of the nodes in the cluster, and so on.</p>
                  </div>
                  <p>The Provisioning Pack feature of Oracle Enterprise Manager Grid Control provides a framework that automates the provisioning of nodes and clusters. For data centers with many clusters, the investment in creating a cloning procedure to provision new clusters and new nodes to existing clusters is worth the effort.</p>
                  <p>The following list describes some situations in which cloning is useful:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Cloning prepares an Oracle Grid Infrastructure home once and deploys it to many hosts simultaneously. You can complete the installation in silent mode, as a noninteractive process. You do not need to use a graphical user interface (GUI) console, and you can perform cloning from a Secure Shell (SSH) terminal session, if required.</p>
                     </li>
                     <li>
                        <p>Cloning enables you to create an installation (copy of a production, test, or development installation) with all patches applied to it in a single step. Once you have performed the base installation and applied all patch sets and patches on the source system, cloning performs all of these individual steps as a single procedure. This is in contrast to going through the installation process to perform the separate steps to install, configure, and patch the installation on each node in the cluster.</p>
                     </li>
                     <li>
                        <p>Installing Oracle Clusterware by cloning is a quick process. For example, cloning an Oracle Grid Infrastructure home to a cluster with more than two nodes requires a few minutes to install the Oracle software, plus a few minutes more for each node (approximately the amount of time it takes to run the <code class="codeph">root.sh</code> script).
                        </p>
                     </li>
                     <li>
                        <p>Cloning provides a guaranteed method of accurately repeating the same Oracle Clusterware installation on multiple clusters.</p>
                     </li>
                  </ul>
                  <p>A cloned installation acts the same as its source installation. For example, you can remove the cloned Oracle Grid Infrastructure home using OUI or patch it using OPatch. You can also use the cloned Oracle Grid Infrastructure home as the source for another cloning operation. You can create a cloned copy of a test, development, or production installation by using the command-line cloning scripts. </p>
                  <p>The default cloning procedure is adequate for most cases. However, you can also customize some aspects of cloning, such as specifying custom port assignments or preserving custom settings.</p>
                  <p>For example, you can specify a custom port for the listener, as follows:</p><pre class="oac_no_warn" dir="ltr">$ export ORACLE_HOME=/u01/app/12.1.0/grid
$ $ORACLE_HOME/bin/srvctl modify listener -endpoints tcp:12345
</pre><p>The cloning process works by copying all of the files from the source Oracle Grid Infrastructure home to the destination Oracle Grid Infrastructure home. You can clone either a local (non-shared) or shared Oracle Grid Infrastructure home. Thus, any files used by the source instance that are located outside the source Oracle Grid Infrastructure home's directory structure are not copied to the destination location.</p>
                  <p>The size of the binary files at the source and the destination may differ because these files are relinked as part of the cloning operation, and the operating system patch levels may also differ between these two locations. Additionally, the number of files in the cloned home would increase because several files copied from the source, specifically those being instantiated, are backed up as part of the clone operation.</p>
               </div>
            </div><a id="CWADD92116"></a><div class="props_rev_3"><a id="GUID-CC78C17B-1A45-4664-AF14-7743D70FCD1C" name="GUID-CC78C17B-1A45-4664-AF14-7743D70FCD1C"></a><h3 id="CWADD-GUID-CC78C17B-1A45-4664-AF14-7743D70FCD1C" class="sect3">Preparing the Oracle Grid Infrastructure Home for Cloning</h3>
               <div>
                  <p>To prepare the source Oracle Grid Infrastructure home to be cloned, create a copy of an installed Oracle Grid Infrastructure home and then use it to perform the cloning procedure on other nodes. Use the following step-by-step procedure to prepare the copy of the Oracle Grid Infrastructure home:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="cloning-oracle-clusterware.html#GUID-BB876830-F840-4C9D-9592-A682740E6BF8">Step 1: Install Oracle Clusterware</a></p>
                     </li>
                     <li>
                        <p><a href="cloning-oracle-clusterware.html#GUID-2D254450-A272-4049-9E1D-4A93E003B97B">Step 2: Shut Down Running Software</a></p>
                     </li>
                     <li>
                        <p><a href="cloning-oracle-clusterware.html#GUID-2BED2A9B-0D67-4D18-867D-0E33EC42FB1B">Step 3: Create a Copy of the Oracle Grid Infrastructure Home</a></p>
                     </li>
                  </ul>
               </div><a id="CWADD92373"></a><div class="props_rev_3"><a id="GUID-BB876830-F840-4C9D-9592-A682740E6BF8" name="GUID-BB876830-F840-4C9D-9592-A682740E6BF8"></a><h4 id="CWADD-GUID-BB876830-F840-4C9D-9592-A682740E6BF8" class="sect4">Step 1: Install Oracle Clusterware</h4>
                  <div>
                     <div class="section">
                        <p>Use the detailed instructions in the <span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span>to perform the following steps on the source node:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Install Oracle Clusterware 12<span class="italic">c</span>. This installation puts Oracle Cluster Registry (OCR) and the voting file on Oracle Automatic Storage Management (Oracle ASM).</span><div>
                              <div class="infoboxnote" id="GUID-BB876830-F840-4C9D-9592-A682740E6BF8__GUID-277D4C68-AC5D-46F9-A76E-B8897BE21F4A">
                                 <p class="notep1">Note:</p>
                                 <p>Either install and configure the Oracle Grid Infrastructure for a cluster or install just the Oracle Clusterware software, as described in your platform-specific <span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span>.
                                 </p>
                              </div>
                              <p>If you installed and configured Oracle Grid Infrastructure for a cluster, then you must stop Oracle Clusterware before performing the cloning procedures. If you performed a software-only installation, then you do not have to stop Oracle Clusterware.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Install any patches that are required (for example, an Oracle Grid Infrastructure bundle patch), if necessary.</span></li>
                        <li class="stepexpand"><span>Apply one-off patches, if necessary.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CWADD92374"></a><div class="props_rev_3"><a id="GUID-2D254450-A272-4049-9E1D-4A93E003B97B" name="GUID-2D254450-A272-4049-9E1D-4A93E003B97B"></a><h4 id="CWADD-GUID-2D254450-A272-4049-9E1D-4A93E003B97B" class="sect4">Step 2: Shut Down Running Software</h4>
                  <div>
                     <div class="section">
                        <p>Before copying the source Oracle Grid Infrastructure home, shut down all of the services, databases, listeners, applications, Oracle Clusterware, and Oracle ASM instances that run on the node. Oracle recommends that you use the Server Control (SRVCTL) utility to first shut down the databases, and then the Oracle Clusterware Control (CRSCTL) utility to shut down the rest of the components.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../racad/server-control-utility-reference.html#RACAD-GUID-C2D37BAB-DA98-49B4-A777-F2B3AA8D2E7A" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a></li>
                           <li><a href="oracle-clusterware-control-crsctl-utility-reference.html#GUID-1A6774CF-FD5F-463E-817F-34E4466443C7" title="CRSCTL is an interface between you and Oracle Clusterware, parsing and calling Oracle Clusterware APIs for Oracle Clusterware objects.Information about using the CRSCTL command-line interface.Use these commands in either the Oracle RAC or the Oracle Restart environments.Checks the status of Cluster Synchronization Services.Checks the status of the Event Manager.Retrieves the host name of the local server.Registers a resource to be managed by Oracle Clusterware.Removes resources from the Oracle Clusterware configuration.Predicts the effects of adding a resource without making changes to the system.Predicts the consequences of a resource failing.Simulates relocating a resource without making changes to the system.Predicts the effects of modifying a resource without making changes to the system.Predicts the effects of starting a resource without making changes to the system.Predicts the effect of stopping a resource without making changes to the system.Displays the user and group permissions for the specified resource.Modifies the attributes of a particular resource in Oracle Clusterware.Relocates resources to another server in the cluster.Restarts idle resources in the cluster, instead of having to run two commands to stop and start the resource.Sets permissions for a particular resource.Starts idle resources on a particular server in the cluster.Obtains the status and configuration information of any number of particular resources.Stops running resources.Creates a resource group based on a resource group type.Initiates a check operation on all member resources of the specified groups.Deletes one or more resource groups from Oracle Clusterware.Predicts the effects of adding a resource group without making changes to the system.Predicts the consequences of a resource failing.Predicts the effect of relocating a resource group without making changes to the system.Predicts the effects of starting a resource group without making changes to the system.Predicts the effect of stopping a resource group without making changes to the system.Exports the complete information and attributes of a resource groups and its member resources to a script file.Modifies a resource group to add attributes or update the values of existing attributes.Relocates online resource groups from a source server to a target server.Restarts resource groups on the server where they currently reside.Starts one or more resource groups on specific or preconfigured servers or server pools.Displays the state of resource groups.Stops one or more resource groups on optionally specified preconfigured servers or server pools.Registers a new resource group type in Oracle Clusterware.Deletes one or more resource group types from Oracle Clusterware.Modifies a resource group type to add attributes or update the values of existing attributes.Returns the tracing settings for a specific module.Sets the tracing parameters for a specific module.Creates a resource type in Oracle Clusterware.Removes resource types from the Oracle Clusterware configuration.Obtains permissions for a particular resource type.Modifies an existing resource type.Sets permissions for resources of a particular resource type.Obtains the configuration information of one or more particular resource types.Creates and adds users to a wallet.Removes wallets or users from a wallet.Modifies the password for a specific user in a specific wallet.Queries low-privileged users from a wallet.You can use the following commands only in an Oracle RAC environment.Performs a specific action on specific resource.Adds a server category.Deletes a server category.Modifies an existing server category.Obtains information about a server category.Checks the status of the Oracle Clusterware stack from any node in the cluster.Starts the Oracle Clusterware stack when run on any node in the cluster.Stops the Oracle Clusterware stack on all servers in the cluster or specific servers when you run the command on any node in the cluster.Obtains cluster class information.Displays the cluster configuration information.Adds a cipher suite to or removes a cipher suite from a list of disabled cipher suites used to secure inter-node communication.Determines whether the cluster is an extended cluster.Obtains the value of Hub Nodes in an Oracle Flex Cluster.Sets the maximum number of Hub Nodes for an Oracle Flex Cluster.Ascertains whether the cluster is configured for Oracle Flex Clusters or obtains the current status.Changes a standard cluster to an Oracle Flex Cluster.Displays the current cluster name.Use the crsctl add cluster site command to add a site to an extended cluster.Use the crsctl delete cluster site command to delete a specific site from an extended cluster.Modifies the configuration of a site in an extended cluster.Displays site information in an extended cluster.Lists available cipher suites used by transport layer security for securing inter-node communication.Use the crsctl get cluster type command to determine whether the cluster is an Oracle Flex Cluster or an application cluster.Sets the type of the cluster.The crsctl get cpu equivalency command obtains the value of the CPU_EQUIVALENCY server configuration attribute.The crsctl set cpu equivalency command sets a value for the CPU_EQUIVALENCY server configuration attribute.Checks the status of Oracle High Availability Services and the Oracle Clusterware stack on the local server.Displays Oracle High Availability Services automatic startup configuration.Prevents the automatic startup of Oracle High Availability Services when the server boots.Enables automatic startup of Oracle High Availability Services when the server boots.Starts Oracle High Availability Services on the local server.Stops Oracle High Availability Services on the local server.Displays the active version and the configured patch level of the Oracle Clusterware software running in the cluster.Adds a user to the list of cluster administrators.Removes a user from the list of Oracle Clusterware administrators.Displays the list of users with Oracle Clusterware administrative privileges.Obtains the values of the Oracle Clusterware automatic resource start criteria.Sets the Oracle Clusterware automatic resource start criteria.Displays the patch level which is updated in the Grid home patch repository while patching a node.Displays the version of the Oracle Clusterware software stored in the binaries on the local node.Use the crsctl query crs site command to determine to which site a specific host or disk belongs.Displays the configured patch level of the installed Oracle Clusterware.Displays the latest version of the software that has been successfully started on the specified node.Obtains the value of a specific Cluster Synchronization Services parameter.Pins many specific nodes.Sets the value of a Cluster Synchronization Services parameter.Unpins many servers.Unsets the value of a Cluster Synchronization Services parameter and restores it to its default value.Retrieves the address stored in the Oracle Local Registry of the local Intelligent Platform Management Interface (IPMI) device.Stores the address of the local Intelligent Platform Management Interface (IPMI) device in the Oracle Local Registry.Stores the login credentials of an Intelligent Platform Management Interface (IPMI) administrator in the Oracle Local Registry.Determines whether Oracle Clusterware on the local server has been configured to use IPMI for failure isolation.Clears all previously stored IPMI configuration (login credentials and IP address) from the Oracle Local Registry.Determines the presence of the Intelligent Platform Management Interface (IPMI) driver on the local system.Lists the problems for which automatic restart of Cluster Synchronization Services is disabled.Stops the automatic restart of Cluster Synchronization Services when a specific problem occurs.Removes a voting file from the Oracle Clusterware configuration.Displays the voting files used by Cluster Synchronization Services, the status of the voting files, and the location of the disks, whether they are stored in Oracle ASM or elsewhere.Checks the status of the Cluster Time Synchronization services.Sends DHCP discover packets on the network at the specified port. If DHCP servers are present on the network, then they respond to the discovery message and the command succeeds.Displays the client ID that the Oracle Clusterware agent uses to obtain the IP addresses from the DHCP server for configured cluster resources. The VIP type is required.Sends a DHCP lease release request to a specific client ID, and sends release packets on the network to a specific port.Sends DHCP request packets on the network to the specified port.Replaces the existing discovery string used to locate voting files.Obtains a list of addresses returned by DNS lookup of the name with the specified DNS server.Starts a given IP name or IP address on a specified interface with a specified subnet mask.Checks if a given IP address is up on the network.Stops a given IP name or IP address on a specified interface with a specified subnet mask.Lists the components of the modules that you can debug.Creates the configuration deployment file for a new member cluster.Deletes a member cluster configuration.Displays the configuration for a member cluster.Removes a node from the cluster.Obtains the name of the local node.Obtains the configured node role of nodes in the cluster.Adds a configuration policy to the policy set.Deletes a configuration policy from the policy set.Predicts the effects of activating a specific policy without making changes to the system.Modifies an existing configuration policy.Obtains the status and definition of a configuration policy.Creates a single policy set, in the form of a text file, that reflects the server pool configuration.Modifies an existing policy set.Obtains the current policies in the policy set, including the access control list, which governs who can modify the set, the last activated policy, and the configuration which is now in effect, which is known as the Current policy.Initiates the check action inside the application-specific agent of a particular resource.Relocates resources to another server in the cluster.Checks the current setting value of the RESOURCE_USE_ENABLED server configuration parameter.Sets the value of the RESOURCE_USE_ENABLED server configuration parameter for the server on which you run this command.Transitions Oracle Clusterware and Oracle ASM into rolling patch mode.Transitions Oracle Clusterware and Oracle ASM out of rolling patch mode.Transitions Oracle Clusterware and Oracle ASM into rolling upgrade mode.Simulates the addition of a server without making changes to the system.Predicts the effects of deleting a server without making changes to the system.Predicts the effects of relocating a server to a different server pool without making changes to the system. Modifies the configuration of a particular server.Relocates a server to a different server pool.Obtains the status and configuration information of one or more particular servers.Obtains the current configured value for the CSS_CRITICAL server attributeSets the configuration value for the CSS_CRITICAL server attribute.Checks the current setting value of the SERVER_LABEL server attribute.Sets the configuration value of the SERVER_LABEL server configuration attribute for the server on which you run this command.Adds a server pool that is for hosting non-database resources (such as application servers) to Oracle Clusterware.Removes a server pool from the Oracle Clusterware configuration.Predicts the effects of adding a server pool without making changes to the system.Simulates the deletion of a server pool without making changes to the system.Use the crsctl eval modify serverpool command to predict the effects of modifying a server pool without making changes to the system. This command may be useful to cluster administrators.Retrieves permissions for a particular server pool.Modifies an existing server pool.Sets permissions for a particular server pool.Retrieves the status and configuration information of one or more particular server pools.Verifies that a daemon can listen on a specified address and port.Starts a test DNS server that will listen on a specified IP address and port.Queries the test DNS server running on a specified address and local host name.Stops a test DNS server.Moves or replaces the existing voting files.You can only use these commands in the Oracle Restart environment.Checks the status of ohasd.Displays the automatic startup configuration of the Oracle High Availability Services stack on the server.Disables automatic startup of the Oracle High Availability Services stack when the server boots up.Enables automatic startup of the Oracle High Availability Services stack when the server boots up.Displays the release version of the Oracle Clusterware software that is stored in the binaries on the local node.Displays the software version on the local node.Starts Oracle High Availability Services on the local server.Stops Oracle High Availability Services on the local server.You can use crsctl set log commands as the root user to enable dynamic debugging for Cluster Ready Services (CRS), Cluster Synchronization Services (CSS), and the Event Manager (EVM), and the clusterware subcomponents.Setting log levels for Oracle Clusterware.You can enable debugging for Oracle Clusterware modules and their components, and for resources, by setting environment variables or by running the crsctl set log command.">Oracle Clusterware Control (CRSCTL) Utility Reference</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CWADD92375"></a><div class="props_rev_3"><a id="GUID-2BED2A9B-0D67-4D18-867D-0E33EC42FB1B" name="GUID-2BED2A9B-0D67-4D18-867D-0E33EC42FB1B"></a><h4 id="CWADD-GUID-2BED2A9B-0D67-4D18-867D-0E33EC42FB1B" class="sect4">Step 3: Create a Copy of the Oracle Grid Infrastructure Home</h4>
                  <div>
                     <p>To keep the installed Oracle Grid Infrastructure home as a working home, make a full copy of the source Oracle Grid Infrastructure home for cloning.</p>
                     <div class="infobox-tip" id="GUID-2BED2A9B-0D67-4D18-867D-0E33EC42FB1B__GUID-20C4C14C-9A54-45CB-AA8D-3FBFDC4EF6B7">
                        <p class="notep1">Tip:</p>
                        <p>When creating the copy, a best practice is to include the release number in the name of the file.</p>
                     </div>
                     <p>Use one of the following methods to create a compressed copy of the Oracle Grid Infrastructure home, where <span class="italic"><code class="codeph">Grid_home</code></span> is the original Oracle Grid Infrastructure home on the original node with all files included, and <span class="italic"><code class="codeph">copy_path</code></span> is the directory path to the copied Oracle Grid Infrastructure home with unnecessary files deleted.
                     </p>
                  </div>
                  <div class="props_rev_3"><a id="GUID-31B10BCD-359F-47C7-935F-2775836610A0" name="GUID-31B10BCD-359F-47C7-935F-2775836610A0"></a><h5 id="CWADD-GUID-31B10BCD-359F-47C7-935F-2775836610A0" class="sect5">Method 1: Create a Copy of the Oracle Grid Infrastructure Home and Remove the Unnecessary Files from the Copy</h5>
                     <div>
                        <ol>
                           <li class="stepexpand"><span>On the source node, create a copy of the Oracle Grid Infrastructure home. To keep the installed Oracle Grid Infrastructure home as a working home, make a full copy of the source Oracle Grid Infrastructure home and remove the unnecessary files from the copy. For example, as <code class="codeph">root</code> on Linux systems, run the <code class="codeph">cp</code> command:</span><div><pre class="pre codeblock"><code># cp -prf <span class="variable" translate="no">Grid_home</span> <span class="variable" translate="no">copy_path</span>
</code></pre></div>
                           </li>
                           <li class="stepexpand" id="GUID-31B10BCD-359F-47C7-935F-2775836610A0__BABBDFJJ"><span>Delete unnecessary files from the copy.</span><div>
                                 <p>The Oracle Grid Infrastructure home contains files that are relevant only to the source node, so you can remove the unnecessary files from the copy of the Oracle Grid Infrastructure home in the <code class="codeph">log</code>, <code class="codeph">crs/init</code>, <code class="codeph">crf</code>, and <code class="codeph">cdata</code> directories. The following example for Linux and UNIX systems shows the commands to run to remove the unnecessary files from the <span class="italic">copy</span> of the Oracle Grid Infrastructure home:
                                 </p><pre class="pre codeblock"><code>[root@node1 root]# cd <span class="italic">copy_path</span>
[root@node1 grid]# rm -rf log/<span class="italic">host_name</span>
[root@node1 grid]# rm -rf gpnp/<span class="italic">host_name</span>
[root@node1 grid]# find gpnp -type f -exec rm -f {} \;
[root@node1 grid]# rm -rf cfgtoollogs/*
[root@node1 grid]# rm -rf crs/init/*
[root@node1 grid]# rm -rf cdata/*
[root@node1 grid]# rm -rf crf/*
[root@node1 grid]# rm -rf network/admin/*.ora
[root@node1 grid]# rm -rf crs/install/crsconfig_params
[root@node1 grid]# rm -rf crs/install/crsgenconfig_params
[root@node1 grid]# find . -name '*.ouibak' -exec rm {} \;
[root@node1 grid]# find . -name '*.ouibak.1' -exec rm {} \;
[root@node1 grid]# rm -rf root.sh*
[root@node1 grid]# rm -rf bin/clsecho/*
[root@node1 grid]# rm -rf rdbms/audit/*
[root@node1 grid]# rm -rf rdbms/log/*
[root@node1 grid]# rm -rf inventory/backup/*</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Create a compressed copy of the previously copied Oracle Grid Infrastructure home using tar or gzip on Linux and UNIX systems. Ensure that the tool you use preserves the permissions and file timestamps. For example:</span><div>
                                 <p>On Linux and UNIX systems:</p><pre class="pre codeblock"><code>[root@node1 root]# cd <span class="variable" translate="no">copy_path</span>
[root@node1 grid]# tar -zcvpf /<span class="variable" translate="no">copy_path</span>/gridHome.tgz</code></pre><p>In the preceding example, the <code class="codeph">cd</code> command changes the location to the copy of the Oracle Grid Infrastructure home with the unnecessary files removed that you created in the first two steps of this procedure, and the <code class="codeph">tar</code> command creates a file named <code class="codeph">gridHome.tgz</code>. In the <code class="codeph">tar</code> command, <code class="codeph"><span class="variable" translate="no">copy_path</span></code> represents the location of the copy of the Oracle Grid Infrastructure home.
                                 </p>
                                 <p>On AIX or HPUX systems:</p><pre class="oac_no_warn" dir="ltr">uncompress gridHome.tar.Z
tar xvf gridHome.tar
</pre><p>On Windows systems, use WinZip to create a zip file.</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-7C975130-A803-4DBC-855B-B51C77CCFA4A" name="GUID-7C975130-A803-4DBC-855B-B51C77CCFA4A"></a><h5 id="CWADD-GUID-7C975130-A803-4DBC-855B-B51C77CCFA4A" class="sect5">Method 2: Create a Compressed Copy of the Oracle Grid Infrastructure Home Using the -X Option</h5>
                     <div>
                        <ol>
                           <li class="stepexpand"><span>Create a file that lists the unnecessary files in the Oracle Grid Infrastructure home. For example, list the following file names, using the asterisk (*) wildcard, in a file called <code class="codeph">excludeFileList</code>:</span><div><pre class="pre codeblock"><code><span class="variable" translate="no">Grid_home</span>/<span class="variable" translate="no">host_name</span>
<span class="variable" translate="no">Grid_home</span>/log/<span class="variable" translate="no">host_name</span>
<span class="variable" translate="no">Grid_home</span>/gpnp/*
<span class="variable" translate="no">Grid_home</span>/bin/clsecho/*
<span class="variable" translate="no">Grid_home</span>/crs/init/*
<span class="variable" translate="no">Grid_home</span>/cdata/*
<span class="variable" translate="no">Grid_home</span>/crf/*
<span class="variable" translate="no">Grid_home</span>/network/admin/*.ora
<span class="variable" translate="no">Grid_home</span>/root.sh*
<span class="variable" translate="no">Grid_home</span>/cfgtoollogs/*
<span class="variable" translate="no">Grid_home</span>/crs/install/crsconfig_params
<span class="variable" translate="no">Grid_home</span>/crs/install/crsgenconfig_params
<span class="variable" translate="no">Grid_home</span>/rdbms/audit/*
<span class="variable" translate="no">Grid_home</span>/rdbms/log/*
<span class="variable" translate="no">Grid_home</span>/inventory/backup/*
*.ouibak
*.ouibak1
</code></pre></div>
                           </li>
                           <li class="stepexpand" id="GUID-7C975130-A803-4DBC-855B-B51C77CCFA4A__USETHETARCOMMANDORWINZIPTOCREATEACO-A5639C57"><span>Use the <code class="codeph">tar</code> command or Winzip to create a compressed copy of the Oracle Grid Infrastructure home. For example, on Linux and UNIX systems, run the following command to archive and compress the source Oracle Grid Infrastructure home:</span><div><pre class="pre codeblock"><code>tar cpfX - excludeFileList <span class="variable" translate="no">Grid_home</span> | compress -fv &gt; temp_dir/gridHome.tar.Z</code></pre><div class="infoboxnote" id="GUID-7C975130-A803-4DBC-855B-B51C77CCFA4A__GUID-A2AC5EE9-F2B1-4792-B69C-5E7A2EEC3CD1">
                                    <p class="notep1">Note:</p>
                                    <p>Do not use the jar utility to copy and compress the Oracle Grid Infrastructure home.</p>
                                 </div>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div>
               </div>
            </div><a id="CWADD92123"></a><a id="CWADD92122"></a><div class="props_rev_3"><a id="GUID-850143F9-E53A-4EE6-B8A2-E6DA0FEDE4CE" name="GUID-850143F9-E53A-4EE6-B8A2-E6DA0FEDE4CE"></a><h3 id="CWADD-GUID-850143F9-E53A-4EE6-B8A2-E6DA0FEDE4CE" class="sect3">Creating a Cluster by Cloning Oracle Clusterware</h3>
               <div>
                  <p>This section explains how to create a cluster by cloning a successfully installed Oracle Clusterware environment and copying it to the nodes on the destination cluster. The procedures in this section describe how to use cloning for Linux, UNIX, and Windows systems. OCR and voting files are not shared between the two clusters after you successfully create a cluster from a clone. </p>
                  <p>For example, you can use cloning to quickly duplicate a successfully installed Oracle Clusterware environment to create a cluster. <a href="cloning-oracle-clusterware.html#GUID-850143F9-E53A-4EE6-B8A2-E6DA0FEDE4CE__CCHBIEGG">Figure 8-1</a> shows the result of a cloning procedure in which the Oracle Grid Infrastructure home on Node 1 has been cloned to Node 2 and Node 3 on Cluster 2, making Cluster 2 a new two-node cluster.
                  </p>
                  <div class="figure" id="GUID-850143F9-E53A-4EE6-B8A2-E6DA0FEDE4CE__CCHBIEGG">
                     <p class="titleinfigure">Figure 8-1 Cloning to Create an Oracle Clusterware Environment</p><img src="img/cwadd003.gif" alt="Description of Figure 8-1 follows" title="Description of Figure 8-1 follows" longdesc="img_text/cwadd003.html"><br><a href="img_text/cwadd003.html">Description of "Figure 8-1 Cloning to Create an Oracle Clusterware Environment"</a></div>
                  <!-- class="figure" -->
                  <p>The steps to create a cluster through cloning are as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="cloning-oracle-clusterware.html#GUID-1DB1D1CE-AED4-4B15-A21A-2E6E7B612197">Step 1: Prepare the New Cluster Nodes</a></p>
                     </li>
                     <li>
                        <p><a href="cloning-oracle-clusterware.html#GUID-CA8E8E78-738C-4C1E-8CC8-5C4F09F792A8">Step 2: Deploy the Oracle Grid Infrastructure Home</a></p>
                     </li>
                     <li>
                        <p><a href="cloning-oracle-clusterware.html#GUID-5025BEA3-2549-498E-A481-B2FE68AB519D" title="To set up the new Oracle Clusterware environment, run the gridSetup.sh utility in either interactive or silent mode on one node, as you would when installing Oracle Grid Infrastructure for a new cluster.">Step 3: Run the gridSetup.sh Utility</a></p>
                     </li>
                  </ul>
               </div><a id="CWADD92124"></a><div class="props_rev_3"><a id="GUID-1DB1D1CE-AED4-4B15-A21A-2E6E7B612197" name="GUID-1DB1D1CE-AED4-4B15-A21A-2E6E7B612197"></a><h4 id="CWADD-GUID-1DB1D1CE-AED4-4B15-A21A-2E6E7B612197" class="sect4">Step 1: Prepare the New Cluster Nodes</h4>
                  <div>
                     <div class="section">
                        <p>On each destination node, perform the following preinstallation steps:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Specify the kernel parameters</p>
                           </li>
                           <li>
                              <p>Configure block devices for Oracle Clusterware devices</p>
                           </li>
                           <li>
                              <p>Ensure that you have set the block device permissions correctly</p>
                           </li>
                           <li>
                              <p>Use short, nondomain-qualified names for all of the names in the <code class="codeph">/etc/hosts</code> file
                              </p>
                           </li>
                           <li>
                              <p>Test whether the interconnect interfaces are reachable using the <code class="codeph">ping</code> command
                              </p>
                           </li>
                           <li>
                              <p>Verify that the VIP addresses are not active at the start of the cloning process by using the <code class="codeph">ping</code> command (the <code class="codeph">ping</code> command of the VIP address must fail)
                              </p>
                           </li>
                           <li>
                              <p>On AIX systems, and on Solaris x86-64-bit systems running vendor clusterware, if you add a node to the cluster, then you must run the <code class="codeph">rootpre.sh</code> script (located at the mount point it you install Oracle Clusterware from a DVD or in the directory where you unzip the tar file if you download the software) on the node before you add the node to the cluster
                              </p>
                           </li>
                           <li>
                              <p>Run CVU to verify your hardware and operating system environment</p>
                           </li>
                        </ul>
                        <p>Refer to your platform-specific Oracle Clusterware installation guide for the complete preinstallation checklist.</p>
                        <div class="infoboxnote" id="GUID-1DB1D1CE-AED4-4B15-A21A-2E6E7B612197__GUID-DDD0CEFE-A45F-4CC0-96CC-52AD9F8E6DD0">
                           <p class="notep1">Note:</p>
                           <p>Unlike traditional methods of installation, the cloning process does not validate your input during the preparation phase. (By comparison, during the traditional method of installation using OUI, various checks occur during the interview phase.) Thus, if you make errors during the hardware setup or in the preparation phase, then the cloned installation fails.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CWADD92125"></a><div class="props_rev_3"><a id="GUID-CA8E8E78-738C-4C1E-8CC8-5C4F09F792A8" name="GUID-CA8E8E78-738C-4C1E-8CC8-5C4F09F792A8"></a><h4 id="CWADD-GUID-CA8E8E78-738C-4C1E-8CC8-5C4F09F792A8" class="sect4">Step 2: Deploy the Oracle Grid Infrastructure Home</h4>
                  <div>
                     <div class="section">
                        <p>Before you begin the cloning procedure that is described in this section, ensure that you have completed the prerequisite tasks to create a copy of the Oracle Grid Infrastructure home, as described in the section titled <span class="q">"Preparing the Oracle Grid Infrastructure Home for Cloning"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>On one of the nodes in the cluster, deploy the copy of the Oracle Grid Infrastructure home that you created in <span class="q">"Step 3: Create a Copy of the Oracle Grid Infrastructure Home"</span>, as follows:</span><div>
                              <p>For example, on Linux or UNIX systems, run commands similar to the following:</p><pre class="pre codeblock"><code>[root@node1 root]# mkdir -p <span class="variable" translate="no">location_of_the_copy_of_the_Grid_home</span>
[root@node1 root]# cd <span class="variable" translate="no">location_of_the_copy_of_the_Grid_home</span>
[root@node1 crs]# tar -zxvf /gridHome.tgz</code></pre><p>In this example, <code class="codeph"><span class="variable" translate="no">location_of_the_copy_of_the_Grid_home</span></code> represents the directory structure in which you want to install the Oracle Grid Infrastructure home, such as <code class="codeph">/u01/app/12.1.0/grid</code>. Note that you can change the Grid home location as part of the process.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>If you have not already deleted unnecessary files from the Oracle Grid Infrastructure home, then repeat step <a href="cloning-oracle-clusterware.html#GUID-7C975130-A803-4DBC-855B-B51C77CCFA4A__USETHETARCOMMANDORWINZIPTOCREATEACO-A5639C57">2</a> in <span class="q">"Method 2: Create a Compressed Copy of the Oracle Grid Infrastructure Home Using the -X Option"</span>.</span></li>
                        <li class="stepexpand"><span>If necessary, change the ownership of all of the files in the Oracle Grid Infrastructure home to be owned by the Oracle Grid Infrastructure installation owner and by the Oracle Inventory (<code class="codeph">oinstall</code> privilege) group. If the Oracle Grid Infrastructure installation owner is <code class="codeph">oracle</code>, and the Oracle Inventory group is <code class="codeph">oinstall</code>, then the following example shows the commands to do this on a Linux system:</span><div><pre class="pre codeblock"><code>[root@node1 crs]# chown -R oracle:oinstall /u01/app</code></pre><p>When you run the preceding command on the Grid home, it clears <code class="codeph">setuid</code> and <code class="codeph">setgid</code> information from the Oracle binary. As expected, the command also clears <code class="codeph">setuid</code> from the following binaries:
                              </p><pre class="pre codeblock"><code><span class="variable" translate="no">Grid_home</span>/bin/extjob
<span class="variable" translate="no">Grid_home</span>/bin/jssu
<span class="variable" translate="no">Grid_home</span>/bin/oradism</code></pre><p>The <code class="codeph">setuid</code> information is properly set in subsequent steps.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>It is important to remove any Oracle network files from the <code class="codeph"><span class="variable" translate="no">Grid_home</span></code> directory on both the source and destination nodes before continuing.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="cloning-oracle-clusterware.html#GUID-2BED2A9B-0D67-4D18-867D-0E33EC42FB1B">Step 3: Create a Copy of the Oracle Grid Infrastructure Home</a></li>
                           <li><a href="cloning-oracle-clusterware.html#GUID-7C975130-A803-4DBC-855B-B51C77CCFA4A">Method 2: Create a Compressed Copy of the Oracle Grid Infrastructure Home Using the -X Option</a></li>
                           <li><a href="cloning-oracle-clusterware.html#GUID-CC78C17B-1A45-4664-AF14-7743D70FCD1C">Preparing the Oracle Grid Infrastructure Home for Cloning</a></li>
                           <li><a href="cloning-oracle-clusterware.html#GUID-79E673C8-5E8B-4E5B-8AE7-0DE5BF0545CE">Locating and Viewing Log Files Generated During Cloning</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CWADD92126"></a><div class="props_rev_3"><a id="GUID-5025BEA3-2549-498E-A481-B2FE68AB519D" name="GUID-5025BEA3-2549-498E-A481-B2FE68AB519D"></a><h4 id="CWADD-GUID-5025BEA3-2549-498E-A481-B2FE68AB519D" class="sect4">Step 3: Run the gridSetup.sh Utility</h4>
                  <div>
                     <p>To set up the new Oracle Clusterware environment, run the <code class="codeph">gridSetup.sh</code> utility in either interactive or silent mode on one node, as you would when installing Oracle Grid Infrastructure for a new cluster.
                     </p>
                     <div class="section">
                        <p>Once you launch the <code class="codeph"><span class="variable" translate="no">$ORACLE_home</span>/gridSetup.sh</code> utility, you can select to run it either in interactive mode, using the interactive interface, or in silent mode, where you provide a response file.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="CWADD92138"></a><a id="CWADD92137"></a><div class="props_rev_3"><a id="GUID-D02E842E-28C5-42C6-848E-80B055B48867" name="GUID-D02E842E-28C5-42C6-848E-80B055B48867"></a><h3 id="CWADD-GUID-D02E842E-28C5-42C6-848E-80B055B48867" class="sect3">Using Cloning to Add Nodes to a Cluster</h3>
               <div>
                  <p>You can also use cloning to add nodes to a cluster.</p>
                  <div class="section">
                     <p><a href="cloning-oracle-clusterware.html#GUID-D02E842E-28C5-42C6-848E-80B055B48867__BABGHDGF">Figure 8-2</a> shows the result of a cloning procedure in which the Oracle Grid Infrastructure home on Node 1 has been cloned to Node 2 in the same cluster, making it a two-node cluster. Newly added nodes to the cluster share the same OCR and voting files.
                     </p>
                     <div class="figure" id="GUID-D02E842E-28C5-42C6-848E-80B055B48867__BABGHDGF">
                        <p class="titleinfigure">Figure 8-2 Cloning to Add Nodes to a Cluster</p><img src="img/cwadd03.gif" alt="Description of Figure 8-2 follows" title="Description of Figure 8-2 follows" longdesc="img_text/cwadd03.html"><br><a href="img_text/cwadd03.html">Description of "Figure 8-2 Cloning to Add Nodes to a Cluster"</a></div>
                     <!-- class="figure" -->
                     <p>Using <a href="cloning-oracle-clusterware.html#GUID-D02E842E-28C5-42C6-848E-80B055B48867__BABGHDGF">Figure 8-2</a> as an example, the following procedure explains how to add nodes to a cluster using cloning. In this procedure, you make a copy of the image (a clone) that you used to create Node 1, initially, to Node 2.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="p">
                     <p>Prepare Node 2 as described in <span class="q">"<a href="cloning-oracle-clusterware.html#GUID-1DB1D1CE-AED4-4B15-A21A-2E6E7B612197">Step 1: Prepare the New Cluster Nodes</a>"</span>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Deploy the Oracle Grid Infrastructure home on Node 2, as described in <span class="q">"<a href="cloning-oracle-clusterware.html#GUID-CA8E8E78-738C-4C1E-8CC8-5C4F09F792A8">Step 2: Deploy the Oracle Grid Infrastructure Home on the Destination Nodes</a>"</span>.</span><div>
                           <p>Use the tar utility to create an archive of the Oracle Grid Infrastructure home on the Node 1 and copy it to Node 2. If the location of the Oracle Grid Infrastructure home on Node 1 is <code class="codeph">$ORACLE_HOME</code>, then you must use this same directory as the destination location on Node 2.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Run the <code class="codeph">gridSetup.sh</code> script and select the <code>Software Only</code> installation option.</span></li>
                     <li class="stepexpand"><span>This step does not apply to Windows.</span><div>
                           <p>In the Central Inventory directory on Node 2, run the <code class="codeph">orainstRoot.sh</code> script as <code class="codeph">root</code>. This script populates the <code class="codeph">/etc/oraInst.loc</code> directory with the location of the central inventory. For example:
                           </p><pre class="pre codeblock"><code>[root@node2 root]# /opt/oracle/oraInventory/orainstRoot.sh
</code></pre><p>You can run the script on more than one destination node simultaneously.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Run the <code class="codeph">gridSetup.sh -noCopy</code> script and select <code>Add more nodes to cluster</code>.</span></li>
                     <li class="stepexpand"><span>On Node 2, run the <code class="codeph"><span class="variable" translate="no">Grid_home</span>/root.sh</code> script.</span><div>
                           <div class="infoboxnote" id="GUID-D02E842E-28C5-42C6-848E-80B055B48867__GUID-16ADBFE5-A616-4D76-9537-433CAFBDBDE8">
                              <p class="notep1">Note:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Ensure that you extend any database homes before you run the <code class="codeph">root.sh</code> or <code class="codeph">gridconfig.bat</code> scripts.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The cluster in this example has only two nodes. When you add multiple nodes to a cluster, you can run <code class="codeph">root.sh</code> concurrently on all of the nodes.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>The following example is for a Linux or UNIX system. On Node 2, run the following command:</p><pre class="pre codeblock"><code>[root@node2 root]# <span class="variable" translate="no">Grid_home</span>/root.sh
</code></pre><p>The <code class="codeph">root.sh</code> script automatically configures the virtual IP (VIP) resources in the Oracle Cluster Registry (OCR).
                           </p>
                           <p>On Windows, run the following command on Node 2:</p><pre class="pre codeblock"><code>C:\&gt;Grid_home\crs\config\gridconfig.bat
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Run the following cluster verification utility (CVU) command on Node 1:</span><div><pre class="pre codeblock"><code>$ cluvfy stage -post nodeadd -n <span class="variable" translate="no">destination_node_name</span> [-verbose]</code></pre></div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="cluster-verification-utility-reference.html#GUID-F9E3F87E-BFEC-4D50-A11E-0F096EC05880">cluvfy stage [-pre | -post] nodeadd</a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="CWADD92140"></a><a id="CWADD92141"></a><a id="CWADD92139"></a><div class="props_rev_3"><a id="GUID-79E673C8-5E8B-4E5B-8AE7-0DE5BF0545CE" name="GUID-79E673C8-5E8B-4E5B-8AE7-0DE5BF0545CE"></a><h3 id="CWADD-GUID-79E673C8-5E8B-4E5B-8AE7-0DE5BF0545CE" class="sect3">Locating and Viewing Log Files Generated During Cloning</h3>
               <div>
                  <div class="section">
                     <p>The cloning script runs multiple tools, each of which can generate log files. After the <code class="codeph">gridSetup.sh</code> utility finishes running, you can view log files to obtain more information about the status of your cloning procedures. <a href="cloning-oracle-clusterware.html#GUID-79E673C8-5E8B-4E5B-8AE7-0DE5BF0545CE__CCHDHACB" title="Log files generated during cloning, where they are located, and what their purpose is.">Table 8-1</a> lists the log files that are generated during cloning that are the key log files for diagnostic purposes.
                     </p>
                     <div class="infoboxnote" id="GUID-79E673C8-5E8B-4E5B-8AE7-0DE5BF0545CE__GUID-BD308F7D-79E2-4E40-8FEE-1668E59E7328">
                        <p class="notep1">Note:</p>
                        <p><span class="italic"><code class="codeph">Central_inventory</code></span> in <a href="cloning-oracle-clusterware.html#GUID-79E673C8-5E8B-4E5B-8AE7-0DE5BF0545CE__CCHDHACB" title="Log files generated during cloning, where they are located, and what their purpose is.">Table 8-1</a> refers to the Oracle Inventory directory.
                        </p>
                     </div>
                     <div class="tblformalwide" id="GUID-79E673C8-5E8B-4E5B-8AE7-0DE5BF0545CE__CCHDHACB">
                        <p class="titleintable">Table 8-1 Cloning Log Files and their Descriptions</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Cloning Log Files and their Descriptions" summary="Log files generated during cloning, where they are located, and what their purpose is." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="49%" id="d43988e2422">Log File Name and Location</th>
                                 <th align="left" valign="bottom" width="51%" id="d43988e2425">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="49%" id="d43988e2430" headers="d43988e2422 "><code class="codeph"><span class="variable" translate="no">Central_inventory</span>/logs/cloneActions<span class="variable" translate="no">timestamp</span>.log</code></td>
                                 <td align="left" valign="top" width="51%" headers="d43988e2430 d43988e2425 ">
                                    <p>Contains a detailed log of the actions that occur during the OUI part of the cloning.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="49%" id="d43988e2442" headers="d43988e2422 "><code class="codeph"><span class="variable" translate="no">Central_inventory</span>/logs/oraInstall<span class="variable" translate="no">timestamp</span>.err</code></td>
                                 <td align="left" valign="top" width="51%" headers="d43988e2442 d43988e2425 ">
                                    <p>Contains information about errors that occur when OUI is running.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="49%" id="d43988e2454" headers="d43988e2422 "><code class="codeph"><span class="variable" translate="no">Central_inventory</span>/logs/oraInstall<span class="variable" translate="no">timestamp</span>.out</code></td>
                                 <td align="left" valign="top" width="51%" headers="d43988e2454 d43988e2425 ">
                                    <p>Contains other miscellaneous information.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a href="cloning-oracle-clusterware.html#GUID-79E673C8-5E8B-4E5B-8AE7-0DE5BF0545CE__CCHHGGEI" title="Where to find the Oracle Inventory directory, whose members are granted the OINSTALL privilege of writing to the oraInventory directory, the central inventory of Oracle installations on a server.">Table 8-2</a> lists the location of the Oracle Inventory directory for various platforms.
                     </p>
                     <div class="tblformalwide" id="GUID-79E673C8-5E8B-4E5B-8AE7-0DE5BF0545CE__CCHHGGEI">
                        <p class="titleintable">Table 8-2 Finding the Location of the Oracle Inventory Directory</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Finding the Location of the Oracle Inventory Directory" summary="Where to find the Oracle Inventory directory, whose members are granted the OINSTALL privilege of writing to the oraInventory directory, the central inventory of Oracle installations on a server." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d43988e2487">Type of System</th>
                                 <th align="left" valign="bottom" width="75%" id="d43988e2490">Location of the Oracle Inventory Directory</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d43988e2495" headers="d43988e2487 ">
                                    <p>All UNIX computers except Linux and IBM AIX </p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d43988e2495 d43988e2490 ">
                                    <p><code class="codeph">/var/opt/oracle/oraInst.loc</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d43988e2503" headers="d43988e2487 ">
                                    <p>IBM AIX and Linux </p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d43988e2503 d43988e2490 ">
                                    <p><code class="codeph">/etc/oraInst.loc</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d43988e2511" headers="d43988e2487 ">
                                    <p>Windows</p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d43988e2511 d43988e2490 ">
                                    <p><code class="codeph">C:\Program Files\Oracle\Inventory</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>