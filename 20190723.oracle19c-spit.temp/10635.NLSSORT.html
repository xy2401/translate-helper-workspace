<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>NLSSORT</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="NLS_UPPER.html" title="Previous" type="text/html">
      <link rel="next" href="NTH_VALUE.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="NLS_UPPER.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="NTH_VALUE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">NLSSORT </li>
            </ol>
            <a id="GUID-781C6FE8-0924-4617-AECB-EE40DE45096D" name="GUID-781C6FE8-0924-4617-AECB-EE40DE45096D"></a><a id="SQLRF51560"></a><a id="SQLRF51561"></a><a id="SQLRF51562"></a><a id="SQLRF00678"></a>
            
            <h2 id="SQLRF-GUID-781C6FE8-0924-4617-AECB-EE40DE45096D" class="sect2">NLSSORT </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-781C6FE8-0924-4617-AECB-EE40DE45096D__GUID-8139AF76-0024-4CC6-A8F7-FFB300E8EA66">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-781C6FE8-0924-4617-AECB-EE40DE45096D__GUID-32953F7A-17FE-4EF0-9D15-4B9BE0FD26FD"><img src="img/nlssort.gif" alt="Description of nlssort.eps follows" title="Description of nlssort.eps follows" longdesc="img_text/nlssort.html"><br><a href="img_text/nlssort.html">Description of the illustration nlssort.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-781C6FE8-0924-4617-AECB-EE40DE45096D__GUID-3CD7E0E5-B842-4AEA-81B4-5BACD51C3FC3">Purpose</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">NLSSORT</code> returns a collation key for the character value <span class="italic"><code class="codeph">char</code></span> and an explicitly or implicitly specified collation. A collation key is a string of bytes used to sort <span class="italic"><code class="codeph">char</code></span> according to the specified collation. The property of the collation keys is that mutual ordering of two such keys generated for the given collation when compared according to their binary order is the same as mutual ordering of the source character values when compared according to the given collation.
                  </p>
                  <p>Both <span class="italic"><code class="codeph">char</code></span> and '<span class="italic"><code class="codeph">nlsparam</code></span>' can be any of the data types <code class="codeph">CHAR</code>, <code class="codeph">VARCHAR2</code>, <code class="codeph">NCHAR</code>, or <code class="codeph">NVARCHAR2</code>.
                  </p>
                  <p>The value of '<span class="italic"><code class="codeph">nlsparam</code></span>' must have the form 
                  </p><pre class="oac_no_warn" dir="ltr">'NLS_SORT = <span class="italic">collation</span>'
</pre><p>where <span class="italic"><code class="codeph">collation</code></span> is the name of a linguistic collation or <code class="codeph">BINARY</code>. <code class="codeph">NLSSORT</code> uses the specified collation to generate the collation key. If you omit '<span class="italic"><code class="codeph">nlsparam</code></span>', then this function uses the derived collation of the argument <span class="italic"><code class="codeph">char</code></span>. If you specify <code class="codeph">BINARY</code>, then this function returns the <span class="italic"><code class="codeph">char</code></span> value itself cast to <code class="codeph">RAW</code> and possibly truncated as described below.
                  </p>
                  <p>If you specify '<span class="italic"><code class="codeph">nlsparam</code></span>', then you can append to the linguistic collation name the suffix <code class="codeph">_ai</code> to request an accent-insensitive collation or <code class="codeph">_ci</code> to request a case-insensitive collation. Refer to <a href="../nlspg/linguistic-sorting-and-matching.html#NLSPG005" target="_blank"><span class="italic">Oracle Database Globalization Support Guide</span></a> for more information on accent- and case-insensitive sorting. Using accent-insensitive or case-insensitive collations with the <code class="codeph">ORDER</code> <code class="codeph">BY</code> query clause is not recommended as it leads to a nondeterministic sort order.
                  </p>
                  <p>The returned collation key is of <code class="codeph">RAW</code> data type. The length of the collation key resulting from a given <span class="italic"><code class="codeph">char</code></span> value for a given collation may exceed the maximum length of the <code class="codeph">RAW</code> value returned by <code class="codeph">NLSSORT</code>. In this case, the behavior of <code class="codeph">NLSSORT</code> depends on the value of the initialization parameter  <code class="codeph">MAX_STRING_SIZE</code>. If <code class="codeph">MAX_STRING_SIZE</code> <code class="codeph">=</code> <code class="codeph">EXTENDED</code>, then the maximum length of the return value is 32767 bytes. If the collation key exceeds this limit, then the function fails with the error "ORA-12742: unable to create the collation key". This error may also be reported for short input strings if they contain a high percentage of Unicode characters with very high decomposition ratios.
                  </p>
                  <div class="infoboxnotealso" id="GUID-781C6FE8-0924-4617-AECB-EE40DE45096D__GUID-593AD116-D7A1-42D9-A1A6-D341BDB9D90C">
                     <p class="notep1">See Also:</p>
                     <p><a href="../nlspg/linguistic-sorting-and-matching.html#NLSPG-GUID-F2CF03B7-BD32-42D5-803A-0F4F03A1D4FE" target="_blank"><span class="italic">Oracle Database Globalization Support Guide</span></a> for details of when the <code class="codeph">ORA-12742</code> error is reported and how to prevent application availability issues that the error could cause
                     </p>
                  </div>
                  <p>If  <code class="codeph">MAX_STRING_SIZE</code> <code class="codeph">=</code> <code class="codeph">STANDARD</code>, then the maximum length of the return value is 2000 bytes. If the value to be returned exceeds the limit, then <code class="codeph">NLSSORT</code> calculates the collation key for a maximum prefix, or initial substring, of <span class="italic"><code class="codeph">char</code></span> so that the calculated result does not exceed the maximum length. For monolingual collations, for example <code class="codeph">FRENCH</code>, the prefix length is typically 1000 characters. For multilingual collations, for example <code class="codeph">GENERIC_M</code>, the prefix is typically 500 characters. For Unicode Collation Algorithm (UCA) collations, for example <code class="codeph">UCA0610_DUCET</code>, the prefix is typically 285 characters. The exact length may be lower or higher depending on the collation and the characters contained in <span class="italic"><code class="codeph">char</code></span>.
                  </p>
                  <p>The behavior when <code class="codeph">MAX_STRING_SIZE</code> <code class="codeph">=</code> <code class="codeph">STANDARD</code> implies that two character values whose collation keys (<code class="codeph">NLSSORT</code> results) are compared to find the linguistic ordering are considered equal if they do not differ in the prefix even though they may differ at some further character position. Because the <code class="codeph">NLSSORT</code> function is used implicitly to find linguistic ordering for comparison conditions, the <code class="codeph">BETWEEN</code> condition, the <code class="codeph">IN</code> condition, <code class="codeph">ORDER</code> <code class="codeph">BY</code>, <code class="codeph">GROUP</code> <code class="codeph">BY</code>, and <code class="codeph">COUNT(DISTINCT)</code>, those operations may return results that are only approximate for long character values. If you want guarantee that the results of those operations are exact, then migrate your database to use <code class="codeph">MAX_STRING_SIZE</code> <code class="codeph">=</code> <code class="codeph">EXTENDED</code>.
                  </p>
                  <p>Refer to <span class="q">"<a href="Data-Types.html#GUID-8EFA29E9-E8D8-40A6-A43E-954908C954A4">Extended Data Types</a>"</span> for more information on the <code class="codeph">MAX_STRING_SIZE</code> initialization parameter.
                  </p>
                  <p>This function does not support <code class="codeph">CLOB</code> data directly. However, <code class="codeph">CLOB</code>s can be passed in as arguments through implicit data conversion.
                  </p>
                  <div class="infoboxnotealso" id="GUID-781C6FE8-0924-4617-AECB-EE40DE45096D__GUID-CCD4A66E-7C99-42D6-A394-F9E295474D83">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p> <span class="q">"<a href="Data-Type-Comparison-Rules.html#GUID-1563C817-86BF-430B-99AB-322EE2E29187">Data Type Comparison Rules</a>"</span> for more information.
                           </p>
                        </li>
                        <li>
                           <p>Appendix C in <a href="../nlspg/appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#NLSPG-GUID-AFCE41ED-775B-4A00-AF38-C436776AE0C5" target="_blank"><span class="italic">Oracle Database Globalization Support Guide</span></a> for the collation determination rules for <code class="codeph">NLSSORT</code> 
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-781C6FE8-0924-4617-AECB-EE40DE45096D__GUID-BC5C71CB-1BB0-42E1-900C-E4F189F72FFB">Examples</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>This function can be used to specify sorting and comparison operations based on a linguistic sort sequence rather than on the binary value of a string. The following example creates a test table containing two values and shows how the values returned can be ordered by the <code class="codeph">NLSSORT</code> function:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE test (name VARCHAR2(15));
INSERT INTO test VALUES ('Gaardiner');
INSERT INTO test VALUES ('Gaberd');
INSERT INTO test VALUES ('Gaasten');

SELECT *
  FROM test
  ORDER BY name;

NAME
---------------
Gaardiner
Gaasten
Gaberd

SELECT *
  FROM test
  ORDER BY NLSSORT(name, 'NLS_SORT = XDanish');

NAME
---------------
Gaberd
Gaardiner
Gaasten
</pre><p>The following example shows how to use the <code class="codeph">NLSSORT</code> function in comparison operations:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM test
  WHERE name &gt; 'Gaberd'
  ORDER BY name;

no rows selected

SELECT *
  FROM test
  WHERE NLSSORT(name, 'NLS_SORT = XDanish') &gt; 
        NLSSORT('Gaberd', 'NLS_SORT = XDanish')
  ORDER BY name;

NAME
---------------
Gaardiner
Gaasten
</pre><p>If you frequently use <code class="codeph">NLSSORT</code> in comparison operations with the same linguistic sort sequence, then consider this more efficient alternative: Set the <code class="codeph">NLS_COMP</code> parameter (either for the database or for the current session) to <code class="codeph">LINGUISTIC</code>, and set the <code class="codeph">NLS_SORT</code> parameter for the session to the desired sort sequence. Oracle Database will use that sort sequence by default for all sorting and comparison operations during the current session:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET NLS_COMP = 'LINGUISTIC';
ALTER SESSION SET NLS_SORT = 'XDanish';

SELECT *
  FROM test
  WHERE name &gt; 'Gaberd'
  ORDER BY name;

NAME
---------------
Gaardiner
Gaasten</pre><div class="infoboxnotealso" id="GUID-781C6FE8-0924-4617-AECB-EE40DE45096D__GUID-98337D86-E6AD-415C-9743-AE5912CFA5F7">
                     <p class="notep1">See Also:</p>
                     <p><a href="../nlspg/linguistic-sorting-and-matching.html#NLSPG005" target="_blank"><span class="italic">Oracle Database Globalization Support Guide</span></a> for information on sort sequences
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>