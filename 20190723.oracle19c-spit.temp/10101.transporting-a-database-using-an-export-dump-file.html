<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can transport a database using an export dump file.">
      <meta name="description" content="You can transport a database using an export dump file.">
      <title>Transporting a Database Using an Export Dump File</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Migrating and Converting Non-CDBs to a PDB with a Different Endian Operating System">
      <meta property="og:description" content="You can transport a database using an export dump file.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Migrating and Converting Non-CDBs to a PDB with a Different Endian Operating System">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="migrating-and-converting-non-cdbs-pdb-different-endian-operating-system.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-08T18:07:15-08:00">
      <meta name="dcterms.title" content="Migrating and Converting Non-CDBs to a PDB with a Different Endian Operating System">
      <meta name="dcterms.dateCopyrighted" content="2018, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="F10904-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="checking-character-set-compatibility.html" title="Previous" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="SPUCD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="checking-character-set-compatibility.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="#" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Migrating and Converting Non-CDBs to a PDB with a Different Endian Operating System</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="migrating-oracle-database.html" property="item" typeof="WebPage"><span property="name">Migrating Oracle Database</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Transporting a Database Using an Export Dump File</li>
            </ol>
            <a id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7" name="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7"></a>
            
            <h2 id="SPUCD-GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7" class="sect2">Transporting a Database Using an Export Dump File</h2>
         </header>
         <div class="ind">
            <div>
               <p>You can transport a database using an export dump file.</p>
               <div class="section">
                  <p>The following list of tasks summarizes the process of transporting a database using an export dump file. Details for each task are provided in the subsequent example.</p>
                  <ol>
                     <li>
                        <p>At the source database, configure each of the user-defined tablespaces in read-only mode and export the database.</p>
                        <p>Ensure that the following parameters are set to the specified values:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">TRANSPORTABLE=ALWAYS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">FULL=Y</code></p>
                           </li>
                        </ul>
                        <p>If the source database is an Oracle Database 11<span class="italic">g</span> database (11.2.0.3 or later), then you must set the <code class="codeph">VERSION</code> parameter to <code class="codeph">12</code> or higher.
                        </p>
                        <p>If the source database contains any encrypted tablespaces or tablespaces containing tables with encrypted columns, then you must either specify <code class="codeph">ENCRYPTION_PWD_PROMPT=YES</code>, or specify the <code class="codeph">ENCRYPTION_PASSWORD</code> parameter.
                        </p>
                        <p>The export dump file includes the metadata for objects contained within the user-defined tablespaces and both the metadata and data for user-defined objects contained within the administrative tablespaces, such as <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code>.
                        </p>
                     </li>
                     <li>
                        <p>Transport the export dump file.</p>
                        <p>Copy the export dump file to a place that is accessible to the target database.</p>
                     </li>
                     <li>
                        <p>Transport the data files for all of the user-defined tablespaces in the database.</p>
                        <p>Copy the data files to a place that is accessible to the target database.</p>
                        <p>If the source platform and target platform are different, then check the endian format of each platform by running the query on the <code class="codeph">V$TRANSPORTABLE_PLATFORM</code> view in <span class="q">"<a href="transporting-data-across-platforms.html#GUID-FE3003B9-605A-4269-B167-005AC778C870" title="You can transport data across platforms.">Transporting Data Across Platforms</a>"</span>.
                        </p>
                        <p>If the source platform's endian format is different from the target platform's endian format, then use one of the following methods to convert the data files:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <code class="codeph">GET_FILE</code> or <code class="codeph">PUT_FILE</code> procedure in the <code class="codeph">DBMS_FILE_TRANSFER</code> package to transfer the data files. These procedures convert the data files to the target platform's endian format automatically.
                              </p>
                           </li>
                           <li>
                              <p>Use the RMAN <code class="codeph">CONVERT</code> command to convert the data files to the target platform's endian format.
                              </p>
                              <div class="infoboxnote" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-9C9CBCC4-AFF9-426F-AB4E-C27CB7114A7A">
                                 <p class="notep1">Note:</p>
                                 <p>Conversion of data files between different endian formats is not supported for data files having undo segments.</p>
                              </div>
                           </li>
                        </ul>
                        <p>See <span class="q">"<a href="converting-data-between-platforms.html#GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B" title="When you perform a transportable operation, and the source platform and the target platform are of different endianness, you must convert the data being transported to the target platform format. If the source platform and the target platform are of the same endianness, then data conversion is not necessary. You can use the DBMS_FILE_TRANSFER package or the RMAN CONVERT command to convert data.">Converting Data Between Platforms</a>"</span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>(Optional) Restore the user-defined tablespaces to read/write mode on the source database.</p>
                     </li>
                     <li>
                        <p>At the target database, import the database.</p>
                        <p>When the import is complete, the user-defined tablespaces are in read/write mode.</p>
                     </li>
                  </ol>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-A968C73D-3295-402C-BF34-33FB4763000D">Example</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>The tasks for transporting a database are illustrated in detail in this example. This example assumes that the source platform is Solaris and the target platform is Microsoft Windows.</p>
                  <p>It also assumes that the source platform has the following data files and tablespaces:</p>
                  <div class="tblformal" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-402E0B8E-FE63-4F9E-AF25-7F4555FD8526">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists the data files and tablespaces for the source platform as an example. Column 1 provides the tablespace name, column 2 describes the tablespace type, and column 3 lists its datafile." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d3824e194">Tablespace</th>
                              <th align="left" valign="bottom" width="24%" id="d3824e197">Type</th>
                              <th align="left" valign="bottom" width="57%" id="d3824e200">Data File</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d3824e205" headers="d3824e194 ">
                                 <p>sales</p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d3824e205 d3824e197 ">
                                 <p>User-defined</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d3824e205 d3824e200 ">
                                 <p>/u01/app/oracle/oradata/mydb/sales01.dbf</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d3824e215" headers="d3824e194 ">
                                 <p>customers</p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d3824e215 d3824e197 ">
                                 <p>User-defined</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d3824e215 d3824e200 ">
                                 <p>/u01/app/oracle/oradata/mydb/cust01.dbf</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d3824e225" headers="d3824e194 ">
                                 <p>employees</p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d3824e225 d3824e197 ">
                                 <p>User-defined</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d3824e225 d3824e200 ">
                                 <p>/u01/app/oracle/oradata/mydb/emp01.dbf</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d3824e235" headers="d3824e194 ">
                                 <p>SYSTEM</p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d3824e235 d3824e197 ">
                                 <p>Administrative</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d3824e235 d3824e200 ">
                                 <p>/u01/app/oracle/oradata/mydb/system01.dbf</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d3824e245" headers="d3824e194 ">
                                 <p>SYSAUX</p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d3824e245 d3824e197 ">
                                 <p>Administrative</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d3824e245 d3824e200 ">
                                 <p>/u01/app/oracle/oradata/mydb/sysaux01.dbf</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>This example makes the following additional assumptions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The target database is a new database that is being populated with the data from the source database. The name of the source database is <code class="codeph">mydb</code>.
                        </p>
                     </li>
                     <li>
                        <p>Both the source database and the target database are Oracle Database 19c databases. </p>
                     </li>
                  </ul>
                  <p>Complete the following tasks to transport the database using an export dump file:</p>
                  <dl>
                     <dt class="dlterm"><a name="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-DC0987E2-F2E5-4448-B2FB-C25FAC9AA026">
                           <!-- --></a>Task 1&nbsp;&nbsp;&nbsp;Generate the Export Dump File
                     </dt>
                     <dd>
                        <p>Generate the export dump file by completing the following steps:</p>
                        <ol>
                           <li>
                              <p>Start SQL*Plus and connect to the database as an administrator or as a user who has either the <code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> or <code class="codeph">MANAGE</code> <code class="codeph">TABLESPACE</code> system privilege.
                              </p>
                           </li>
                           <li>
                              <p>Make all of the user-defined tablespaces in the database read-only.</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE sales READ ONLY;

ALTER TABLESPACE customers READ ONLY;

ALTER TABLESPACE employees READ ONLY;
</pre></li>
                           <li>
                              <p>Invoke the Data Pump export utility as a user with <code class="codeph">DATAPUMP_EXP_FULL_DATABASE</code> role and specify the full transportable export/import options.
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; HOST

$ expdp <span class="italic">user_name</span> full=y dumpfile=expdat.dmp directory=data_pump_dir 
        transportable=always logfile=export.log

Password: <span class="italic">password</span>
</pre><p>You must always specify <code class="codeph">TRANSPORTABLE=ALWAYS</code>, which determines whether the transportable option is used.
                              </p>
                              <p>This example specifies the following Data Pump parameters:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">FULL</code> parameter specifies that the entire database is being exported. 
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">DUMPFILE</code> parameter specifies the name of the structural information export dump file to be created, <code class="codeph">expdat.dmp</code>. 
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">DIRECTORY</code> parameter specifies the directory object that points to the operating system or Oracle Automatic Storage Management location of the dump file. You must create the <code class="codeph">DIRECTORY</code> object before invoking Data Pump, and you must grant the <code class="codeph">READ</code> and <code class="codeph">WRITE</code> object privileges on the directory to the user running the Export utility. See <a href="../sqlrf/CREATE-DIRECTORY.html#SQLRF01207" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information on the <code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code> command.
                                    </p>
                                    <p>In a non-CDB, the directory object <code class="codeph">DATA_PUMP_DIR</code> is created automatically. Read and write access to this directory is automatically granted to the <code class="codeph">DBA</code> role, and thus to users <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code>.
                                    </p>
                                    <p>However, the directory object <code class="codeph">DATA_PUMP_DIR</code> is not created automatically in a PDB. Therefore, when importing into a PDB, create a directory object in the PDB and specify the directory object when you run Data Pump.
                                    </p>
                                    <div class="infoboxnotealso" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-F395958A-2A2F-4668-B866-97039DA75405">
                                       <p class="notep1">See Also:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><a href="../sutil/oracle-data-pump-overview.html#SUTIL810" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about the default directory when the <code class="codeph">DIRECTORY</code> parameter is omitted
                                             </p>
                                          </li>
                                          <li>
                                             <p><a href="../multi/overview-of-managing-a-multitenant-environment.html#MULTI-GUID-528FBE02-2B84-4E97-BD87-36AEF9EA524D" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for more information about PDBs
                                             </p>
                                          </li>
                                       </ul>
                                    </div>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">LOGFILE</code> parameter specifies the file name of the log file to be written by the export utility. In this example, the log file is written to the same directory as the dump file, but it can be written to a different location.
                                    </p>
                                 </li>
                              </ul>
                              <p>To perform a full transportable export on an Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.3) or later Oracle Database 11<span class="italic">g</span> database, use the <code class="codeph">VERSION</code> parameter, as shown in the following example:
                              </p><pre class="oac_no_warn" dir="ltr">expdp <span class="italic">user_name</span> full=y dumpfile=expdat.dmp directory=data_pump_dir 
      transportable=always version=12 logfile=export.log
</pre><p>Full transportable import is supported only for Oracle Database 12<span class="italic">c</span> and later databases.
                              </p>
                              <div class="infoboxnote" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-32300C0F-18BB-446D-A799-DF76914A1446">
                                 <p class="notep1">Note:</p>
                                 <p>In this example, the Data Pump utility is used to export only data dictionary structural information (metadata) for the user-defined tablespaces. Actual data is unloaded only for the administrative tablespaces (<code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code>), so this operation goes relatively quickly even for large user-defined tablespaces.
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>Check the log file for errors, and take note of the dump file and data files that you must transport to the target database. <code class="codeph">expdp</code> outputs the names and paths of these files in messages like these:
                              </p><pre class="oac_no_warn" dir="ltr">******************************************************************************
Dump file set for SYSTEM.SYS_EXPORT_TRANSPORTABLE_01 is:
  /u01/app/oracle/admin/mydb/dpdump/expdat.dmp
******************************************************************************
Datafiles required for transportable tablespace SALES:
  /u01/app/oracle/oradata/mydb/sales01.dbf
Datafiles required for transportable tablespace CUSTOMERS:
  /u01/app/oracle/oradata/mydb/cust01.dbf
Datafiles required for transportable tablespace EMPLOYEES:
  /u01/app/oracle/oradata/mydb/emp01.dbf
</pre></li>
                           <li>
                              <p>When finished, exit back to SQL*Plus:</p><pre class="oac_no_warn" dir="ltr">$ exit</pre></li>
                        </ol>
                        <div class="infoboxnotealso" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-00761BE8-87CD-4678-AEAB-B6711887070D">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sutil/oracle-data-pump-export-utility.html#SUTIL200" target="_blank"><span class="italic">Oracle Database Utilities </span></a>for information about using the Data Pump utility
                           </p>
                        </div>
                     </dd>
                     <dt class="dlterm"><a name="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-8B83801E-E630-45E9-ABDE-3BB4E7B7C568">
                           <!-- --></a>Task 2&nbsp;&nbsp;&nbsp;Transport the Export Dump File
                     </dt>
                     <dd>
                        <p>Transport the dump file to the directory pointed to by the <code class="codeph">DATA_PUMP_DIR</code> directory object, or to any other directory of your choosing. The new location must be accessible to the target database.
                        </p>
                        <p>At the target database, run the following query to determine the location of <code class="codeph">DATA_PUMP_DIR</code>:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM DBA_DIRECTORIES WHERE DIRECTORY_NAME = 'DATA_PUMP_DIR';

OWNER      DIRECTORY_NAME   DIRECTORY_PATH
---------- ---------------- -----------------------------------
SYS        DATA_PUMP_DIR    C:\app\orauser\admin\orawin\dpdump\
</pre></dd>
                     <dt class="dlterm"><a name="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-EC523CED-5A08-463D-A9FF-AEC2F603C857">
                           <!-- --></a>Task 3&nbsp;&nbsp;&nbsp;Transport the Data Files for the User-Defined Tablespaces
                     </dt>
                     <dd>
                        <p>Transport the data files of the user-defined tablespaces in the database to a place that is accessible to the target database.</p>
                        <p>In this example, transfer the following data files from the source database to the target database:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">sales01.dbf</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">cust01.dbf</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">emp01.dbf</code></p>
                           </li>
                        </ul>
                        <p>If you are transporting the database to a platform different from the source platform, then determine if cross-platform database transport is supported for both the source and target platforms, and determine the endianness of each platform. If both platforms have the same endianness, then no conversion is necessary. Otherwise, you must do a conversion of each tablespace in the database, either at the source database or at the target database. </p>
                        <p>If you are transporting the database to a different platform, you can execute the following query on each platform. If the query returns a row, then the platform supports cross-platform tablespace transport.</p><pre class="oac_no_warn" dir="ltr">SELECT d.PLATFORM_NAME, ENDIAN_FORMAT
     FROM V$TRANSPORTABLE_PLATFORM tp, V$DATABASE d
     WHERE tp.PLATFORM_NAME = d.PLATFORM_NAME;
</pre><p>The following is the query result from the source platform:</p><pre class="oac_no_warn" dir="ltr">PLATFORM_NAME                      ENDIAN_FORMAT
---------------------------------- --------------
Solaris[tm] OE (32-bit)            Big
</pre><p>The following is the query result from the target platform:</p><pre class="oac_no_warn" dir="ltr">PLATFORM_NAME                      ENDIAN_FORMAT
---------------------------------- --------------
Microsoft Windows IA (32-bit)      Little
</pre><p>In this example, you can see that the endian formats are different. Therefore, in this case, a conversion is necessary for transporting the database. Use either the <code class="codeph">GET_FILE</code> or <code class="codeph">PUT_FILE</code> procedure in the <code class="codeph">DBMS_FILE_TRANSFER</code> package to transfer the data files. These procedures convert the data files to the target platform's endian format automatically. Transport the data files to the location of the existing data files of the target database. On the UNIX and Linux platforms, this location is typically /u01/app/oracle/oradata/<span class="italic">dbname</span>/ or +<span class="italic">DISKGROUP</span>/<span class="italic">dbname</span>/datafile/. Alternatively, you can use the RMAN <code class="codeph">CONVERT</code> command to convert the data files. See <span class="q">"<a href="converting-data-between-platforms.html#GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B" title="When you perform a transportable operation, and the source platform and the target platform are of different endianness, you must convert the data being transported to the target platform format. If the source platform and the target platform are of the same endianness, then data conversion is not necessary. You can use the DBMS_FILE_TRANSFER package or the RMAN CONVERT command to convert data.">Converting Data Between Platforms</a>"</span> for more information.
                        </p>
                        <div class="infoboxnote" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-DB8CDFE4-37CF-45B6-A97C-F7DDADE7A274">
                           <p class="notep1">Note:</p>
                           <p>If no endianness conversion of the tablespaces is needed, then you can transfer the files using any file transfer method.</p>
                        </div>
                     </dd>
                     <dt class="dlterm"><a name="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-4229FFC9-CB5B-4E18-9B46-16A7D609A31B">
                           <!-- --></a>Task 4&nbsp;&nbsp;&nbsp;(Optional) Restore Tablespaces to Read/Write Mode
                     </dt>
                     <dd>
                        <p>Make the transported tablespaces read/write again at the source database, as follows:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE sales READ WRITE;
ALTER TABLESPACE customers READ WRITE;
ALTER TABLESPACE employees READ WRITE;
</pre><p>You can postpone this task to first ensure that the import process succeeds.</p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-84008ECA-E44F-4B86-BD5B-604935F22D19">
                           <!-- --></a>Task 5&nbsp;&nbsp;&nbsp;At the Target Database, Import the Database
                     </dt>
                     <dd>
                        <p>Invoke the Data Pump import utility as a user with <code class="codeph">DATAPUMP_IMP_FULL_DATABASE</code> role and specify the full transportable export/import options.
                        </p><pre class="oac_no_warn" dir="ltr">impdp <span class="italic">user_name</span> full=Y dumpfile=expdat.dmp directory=data_pump_dir
   transport_datafiles=
      '/u01/app/oracle/oradata/mydb/sales01.dbf',
      '/u01/app/oracle/oradata/mydb/cust01.dbf',
      '/u01/app/oracle/oradata/mydb/emp01.dbf'
   logfile=import.log

Password: <span class="italic">password</span>
</pre><p>This example specifies the following Data Pump parameters:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">FULL</code> parameter specifies that the entire database is being imported in <code class="codeph">FULL</code> mode. 
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">DUMPFILE</code> parameter specifies the exported file containing the metadata for the user-defined tablespaces and both the metadata and data for the administrative tablespaces to be imported.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">DIRECTORY</code> parameter specifies the directory object that identifies the location of the export dump file. You must create the <code class="codeph">DIRECTORY</code> object before invoking Data Pump, and you must grant the <code class="codeph">READ</code> and <code class="codeph">WRITE</code> object privileges on the directory to the user running the Import utility. See <a href="../sqlrf/CREATE-DIRECTORY.html#SQLRF01207" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information on the <code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code> command.
                              </p>
                              <p>In a non-CDB, the directory object <code class="codeph">DATA_PUMP_DIR</code> is created automatically. Read and write access to this directory is automatically granted to the <code class="codeph">DBA</code> role, and thus to users <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code>.
                              </p>
                              <p>However, the directory object <code class="codeph">DATA_PUMP_DIR</code> is not created automatically in a PDB. Therefore, when importing into a PDB, create a directory object in the PDB and specify the directory object when you run Data Pump.
                              </p>
                              <div class="infoboxnotealso" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-64A0F3C4-FAC2-41B7-9E14-C7B4D6E8B657">
                                 <p class="notep1">See Also:</p>
                                 <p></p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a href="../sutil/oracle-data-pump-overview.html#SUTIL810" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about the default directory when the <code class="codeph">DIRECTORY</code> parameter is omitted
                                       </p>
                                    </li>
                                    <li>
                                       <p><a href="../multi/overview-of-managing-a-multitenant-environment.html#MULTI-GUID-528FBE02-2B84-4E97-BD87-36AEF9EA524D" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for more information about PDBs
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <p>The <code class="codeph">TRANSPORT_DATAFILES</code> parameter identifies all of the data files to be imported.
                              </p>
                              <p>You can specify the <code class="codeph">TRANSPORT_DATAFILES</code> parameter multiple times in a parameter file specified with the <code class="codeph">PARFILE</code> parameter if there are many data files.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">LOGFILE</code> parameter specifies the file name of the log file to be written by the import utility. In this example, the log file is written to the directory from which the dump file is read, but it can be written to a different location.
                              </p>
                           </li>
                        </ul>
                        <p>After this statement executes successfully, check the import log file to ensure that no unexpected error has occurred.</p>
                        <p>When dealing with a large number of data files, specifying the list of data file names in the statement line can be a laborious process. It can even exceed the statement line limit. In this situation, you can use an import parameter file. For example, you can invoke the Data Pump import utility as follows:</p><pre class="oac_no_warn" dir="ltr">impdp <span class="italic">user_name</span> parfile='par.f'
</pre><p>For example, <code class="codeph">par.f</code> might contain the following lines:
                        </p><pre class="oac_no_warn" dir="ltr">FULL=Y
DUMPFILE=expdat.dmp 
DIRECTORY=data_pump_dir
TRANSPORT_DATAFILES=
'/u01/app/oracle/oradata/mydb/sales01.dbf',
'/u01/app/oracle/oradata/mydb/cust01.dbf',
'/u01/app/oracle/oradata/mydb/emp01.dbf'
LOGFILE=import.log
</pre><div class="infoboxnote" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-98FEE9C0-1907-460F-99DE-44C2D71E9BC1">
                           <p class="notep1">Note:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>During the import, user-defined tablespaces might be temporarily made read/write for metadata loading. Ensure that no user changes are made to the data during the import. At the successful completion of the import, all user-defined tablespaces are made read/write.</p>
                              </li>
                              <li>
                                 <p>When performing a network database import, the <code class="codeph">TRANSPORTABLE</code> parameter must be set to <code class="codeph">always</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d3824e717" class="indexterm-anchor"></a><a id="d3824e721" class="indexterm-anchor"></a><a id="d3824e725" class="indexterm-anchor"></a>When you are importing into a PDB in a CDB, specify the connect identifier for the PDB after the user name. For example, if the connect identifier for the PDB is <code class="codeph">hrpdb</code>, then enter the following when you run the Oracle Data Pump Import utility:
                                 </p><pre class="oac_no_warn" dir="ltr">impdp <span class="italic">user_name</span>@hrpdb ...</pre></li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-7A1B83CA-F24F-4E0A-A6BC-B55150EA2679">
                           <p class="notep1">See Also:</p>
                           <p> </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../sutil/datapump-import-utility.html#SUTIL300" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about using the import utility
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../multi/managing-a-multitenant-environment.html#MULTI-GUID-93F1E584-D309-4301-82E0-AD0E60D4977C" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </dd>
                  </dl>
               </div>
               <!-- class="section" -->
            </div>
            <div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="migrating-oracle-database.html#GUID-1CD68F48-8A44-4668-B5A5-98C615117676" title="Use the full transportable export/import feature to copy an entire database from one Oracle Database instance to another.">Migrating Oracle Database</a></p>
                  </div>
               </div>
            </div>
            
         </div>
      </article>
   </body>
</html>