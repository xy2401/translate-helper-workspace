<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Introduction to Oracle Messaging Gateway</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Advanced Queuing User's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Advanced Queuing User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96511-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="jms-service-types-examples.html" title="Previous" type="text/html">
      <link rel="next" href="omg-getting-started.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OracleÂ® Database Advanced Queuing">
    <meta name="dcterms.isVersionOf" content="ADQUE">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="jms-service-types-examples.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="omg-getting-started.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Advanced Queuing User's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Introduction to Oracle Messaging Gateway</li>
            </ol>
            <a id="GUID-B29354DB-6C53-4F22-B3FC-FC555014ED1D" name="GUID-B29354DB-6C53-4F22-B3FC-FC555014ED1D"></a><a id="ADQUE1700"></a>
            
            <h2 id="ADQUE-GUID-B29354DB-6C53-4F22-B3FC-FC555014ED1D" class="sect2"><span class="enumeration_chapter">17 </span> Introduction to Oracle Messaging Gateway
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The Messaging Gateway administration package DBMS_MGWADM provides an interface for creating Messaging Gateway agents, managing agents, creating messaging system links, registering non-Oracle queues, and setting up propagation jobs.</p>
               <p>Topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="omg-introduction.html#GUID-2B5AA2FE-96BB-4A93-A4AC-197541B69F68">Oracle Messaging Gateway Overview</a></p>
                  </li>
                  <li>
                     <p><a href="omg-introduction.html#GUID-E3272588-CF70-4487-AFD5-3C2E4F43A6F2">Oracle Messaging Gateway Features</a></p>
                  </li>
                  <li>
                     <p><a href="omg-introduction.html#GUID-2B80F74D-2854-4542-A0C0-C34292A1967D">Oracle Messaging Gateway Architecture</a></p>
                  </li>
                  <li>
                     <p><a href="omg-introduction.html#GUID-19CBBDD6-03A6-46F1-9608-26C91E5BEC72">Propagation Processing Overview</a></p>
                  </li>
                  <li>
                     <p><a href="omg-introduction.html#GUID-E4C9AE58-A498-4E1B-82BB-4595087FE96F">Oracle Database AQ Buffered Messages and Messaging Gateway</a></p>
                  </li>
               </ul>
            </div><a id="ADQUE3193"></a><div class="props_rev_3"><a id="GUID-2B5AA2FE-96BB-4A93-A4AC-197541B69F68" name="GUID-2B5AA2FE-96BB-4A93-A4AC-197541B69F68"></a><h3 id="ADQUE-GUID-2B5AA2FE-96BB-4A93-A4AC-197541B69F68" class="sect3"><span class="enumeration_section">17.1 </span>Oracle Messaging Gateway Overview
               </h3>
               <div>
                  <p>Messaging Gateway enables communication between applications based on non-Oracle messaging systems and Oracle Database Advanced Queuing. </p>
                  <p>Oracle Database Advanced Queuing provides <a href="glossary.html#GUID-DE5B852F-823C-4DC8-B6BB-4825D688A00A"><span class="xrefglossterm">propagation</span></a> between two Oracle Database Advanced Queuing queues to enable e-business (HTTP through <a href="glossary.html#GUID-A0D737C6-3C27-4E2C-9EC9-B3DB55E261DE"><span class="xrefglossterm">IDAP</span></a>). Messaging Gateway extends this to applications based on non-Oracle messaging systems. 
                  </p>
                  <p>Because Messaging Gateway is integrated with Oracle Database Advanced Queuing and Oracle Database, it offers reliable <a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">message</span></a> delivery. Messaging Gateway guarantees that messages are delivered once and only once between Oracle Database Advanced Queuing and non-Oracle messaging systems that support persistence. The PL/SQL interface provides an easy-to-learn administrative <a href="glossary.html#GUID-2003BA71-5534-477C-990D-5ABE432A5907"><span class="xrefglossterm">API</span></a>, especially for developers already proficient in using Oracle Database Advanced Queuing. 
                  </p>
                  <p>This release of Messaging Gateway supports the integration of Oracle Database Advanced Queuing with applications based on WebSphere MQ 9.0.5.0and TIB/Rendezvous 8.2.</p>
               </div>
            </div><a id="ADQUE3194"></a><div class="props_rev_3"><a id="GUID-E3272588-CF70-4487-AFD5-3C2E4F43A6F2" name="GUID-E3272588-CF70-4487-AFD5-3C2E4F43A6F2"></a><h3 id="ADQUE-GUID-E3272588-CF70-4487-AFD5-3C2E4F43A6F2" class="sect3"><span class="enumeration_section">17.2 </span>Oracle Messaging Gateway Features
               </h3>
               <div>
                  <p>Messaging Gateway provides the following features:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Extends Oracle Database Advanced Queuing message propagation</p>
                        <p>Messaging Gateway propagates messages between Oracle Database Advanced Queuing and non-Oracle messaging systems. Messages sent by Oracle Database Advanced Queuing applications can be received by non-Oracle messaging system applications. Conversely, messages published by non-Oracle messaging system applications can be consumed by Oracle Database Advanced Queuing applications. </p>
                     </li>
                  </ul>
                  <p></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Support for <a href="glossary.html#GUID-3A98EBD4-296B-4BE8-82AE-5B42D07E9894"><span class="xrefglossterm">Java Message Service</span></a> (JMS) messaging systems
                        </p>
                        <p>Messaging Gateway propagates messages between Oracle Java Message Service (Oracle JMS) and WebSphere MQ Java Message Service (WebSphere MQ JMS).</p>
                     </li>
                     <li>
                        <p>Native message format support</p>
                        <p>Messaging Gateway supports the native message formats of messaging systems. Oracle Database Advanced Queuing messages can have <code class="codeph">RAW</code> or any Oracle <a href="glossary.html#GUID-5A1E34E2-9B71-497D-879B-E355EDCF7108"><span class="xrefglossterm">object type</span></a> payload. WebSphere MQ messages can be text or byte messages. TIB/Rendezvous messages can be any TIB/Rendezvous wire format datatype except the nested datatype <code class="codeph">MSG</code> and those with unsigned integers.
                        </p>
                     </li>
                     <li>
                        <p>Message conversion</p>
                        <p>Messaging Gateway facilitates message conversion between Oracle Database Advanced Queuing messages and non-Oracle messaging system messages. Messages are converted through either automatic routines provided by Messaging Gateway or customized message <a href="glossary.html#GUID-A668A987-B1D3-4330-97FD-0589DB780225"><span class="xrefglossterm">transformation</span></a> functions that you provide. 
                        </p>
                        <div class="infoboxnote" id="GUID-E3272588-CF70-4487-AFD5-3C2E4F43A6F2__GUID-DD68614A-4B14-41FB-8E5D-FE55A8C430A5">
                           <p class="notep1">Note:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Messaging Gateway does not support message propagation between JMS and non-JMS messaging systems.</p>
                              </li>
                              <li>
                                 <p>Oracle Database AQ Sharded Queues are not supported by MGW in 12<span class="italic">c</span> Release 2 (12.2)
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ul>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Integration with Oracle Database</p>
                        <p>Messaging Gateway is managed through a PL/SQL interface similar to that of Oracle Database Advanced Queuing. Configuration information is stored in Oracle Database tables. Message propagation is carried out by an external process of the Oracle Database server. </p>
                     </li>
                     <li>
                        <p>Guaranteed message delivery</p>
                        <p>If the messaging systems at the propagation source and propagation destination both support transactions, then Messaging Gateway guarantees that persistent messages are propagated exactly once. If messages are not persistent or transactions are not supported by the messaging systems at the propagation source or propagation destination, then at-most-once propagation is guaranteed.</p>
                     </li>
                     <li>
                        <p>Security support</p>
                        <p>Messaging Gateway supports client authentication of Oracle Database and non-Oracle messaging systems.</p>
                        <p>Messaging Gateway also allows Secure Socket Layer (SSL) support for IBM WebSphere MQ and WebSphere MQ JMS connections made by the Messaging Gateway agent.</p>
                     </li>
                     <li>
                        <p>Multiple agent support</p>
                        <p>Messaging Gateway supports multiple agents for a given database. Users can partition propagation jobs based on functionality, organizations, or workload and assign them to different Messaging Gateway agents. This allows Messaging Gateway to scale in an Oracle RAC environment and enables propagation job grouping and isolation.</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E3272588-CF70-4487-AFD5-3C2E4F43A6F2__GUID-D24026EA-F148-4BF9-AC67-A96EC0B2AF20">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="omg-introduction.html#GUID-19CBBDD6-03A6-46F1-9608-26C91E5BEC72">Propagation Processing Overview</a>"</span>  
                           </p>
                        </li>
                        <li>
                           <p><a href="omg-message-conversion.html#GUID-700BFAE2-DBC0-4DD9-8208-57229D179F48"> Oracle Messaging Gateway Message Conversion</a></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="omg-message-conversion.html#GUID-BA99C330-9A1E-45A6-8713-A6D0ABFF36A8">Converting Oracle Messaging Gateway Non-JMS Messages</a>"</span> 
                           </p>
                           <p></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADQUE3196"></a><a id="ADQUE3195"></a><div class="props_rev_3"><a id="GUID-2B80F74D-2854-4542-A0C0-C34292A1967D" name="GUID-2B80F74D-2854-4542-A0C0-C34292A1967D"></a><h3 id="ADQUE-GUID-2B80F74D-2854-4542-A0C0-C34292A1967D" class="sect3"><span class="enumeration_section">17.3 </span>Oracle Messaging Gateway Architecture
               </h3>
               <div>
                  <p>Messaging Gateway has two main components: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Administration Package DBMS_MGWADM</p>
                     </li>
                     <li>
                        <p>Messaging Gateway Agent</p>
                     </li>
                  </ul>
                  <p><a href="omg-introduction.html#GUID-2B80F74D-2854-4542-A0C0-C34292A1967D__i1006365">Figure 17-1</a> shows how these components work together with Oracle Database and non-Oracle messaging systems.
                  </p>
                  <div class="figure" id="GUID-2B80F74D-2854-4542-A0C0-C34292A1967D__i1006365">
                     <p class="titleinfigure">Figure 17-1  Messaging Gateway Architecture</p><img width="560" src="img/adque449.gif" alt="Description of Figure 17-1 follows" title="Description of Figure 17-1 follows" longdesc="img_text/adque449.html"><br><a href="img_text/adque449.html">Description of "Figure 17-1  Messaging Gateway Architecture"</a></div>
                  <!-- class="figure" -->
               </div><a id="ADQUE3197"></a><div class="props_rev_3"><a id="GUID-54FCD048-EFCA-422A-BAF2-EFF27EA8553E" name="GUID-54FCD048-EFCA-422A-BAF2-EFF27EA8553E"></a><h4 id="ADQUE-GUID-54FCD048-EFCA-422A-BAF2-EFF27EA8553E" class="sect4"><span class="enumeration_section">17.3.1 </span>Administration Package DBMS_MGWADM
                  </h4>
                  <div>
                     <p>The Messaging Gateway administration package <code class="codeph">DBMS_MGWADM</code> provides an interface for creating named Messaging Gateway agents, managing agents, creating messaging system links, registering non-Oracle queues, and setting up propagation jobs.
                     </p>
                     <p>Users call the procedures in the package to make configuration changes regardless of whether the Messaging Gateway agent is running. If the Messaging Gateway agent is running, then the procedures in the package send notifications for configuration changes to the agent. The agent dynamically alters its configuration for most configuration changes, although some changes require that the agent be shut down and restarted before they take effect. All the procedures in the package are serialized to guarantee that the Messaging Gateway agent receives and processes notifications in the same order as they are made.</p>
                     <div class="infoboxnotealso" id="GUID-54FCD048-EFCA-422A-BAF2-EFF27EA8553E__GUID-DB4E0180-A06E-4D14-A172-1696E72A5B45">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adque&amp;id=ARPLS364" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information on <code class="codeph">DBMS_MGWADM</code> 
                        </p>
                     </div>
                  </div>
               </div><a id="ADQUE3198"></a><div class="props_rev_3"><a id="GUID-5FC4DEF4-F274-4B63-A924-0BD44A4EFBF2" name="GUID-5FC4DEF4-F274-4B63-A924-0BD44A4EFBF2"></a><h4 id="ADQUE-GUID-5FC4DEF4-F274-4B63-A924-0BD44A4EFBF2" class="sect4"><span class="enumeration_section">17.3.2 </span>Oracle Messaging Gateway Agent
                  </h4>
                  <div>
                     <p>The Messaging Gateway agent runs as an external process of the Oracle Database server and processes propagation jobs. It is started and shut down by calling the <code class="codeph">STARTUP</code> and <code class="codeph">SHUTDOWN</code> procedures in <code class="codeph">DBMS_MGWADM</code> package.
                     </p>
                     <p>The Messaging Gateway agent contains a multithreaded propagation engine and a set of drivers for messaging systems. The propagation engine fairly schedules propagation jobs and processes propagation jobs concurrently. The polling thread in the agent periodically polls the source queues of enabled propagation jobs and wakes up worker threads to process propagation jobs if messages are available. The drivers for non-Oracle messaging systems run as clients of the messaging systems for all messaging operations.</p>
                  </div>
               </div><a id="ADQUE3199"></a><div class="props_rev_3"><a id="GUID-280B91D4-BFE0-4833-8E53-52000C0F73F4" name="GUID-280B91D4-BFE0-4833-8E53-52000C0F73F4"></a><h4 id="ADQUE-GUID-280B91D4-BFE0-4833-8E53-52000C0F73F4" class="sect4"><span class="enumeration_section">17.3.3 </span>Oracle Database
                  </h4>
                  <div>
                     <p>As an Oracle Database feature, Messaging Gateway provides a mechanism of message propagation between Oracle Database Advanced Queuing and non-Oracle messaging systems. Oracle Database Advanced Queuing is involved in every propagation job as either propagation source or propagation destination.</p>
                     <p>Messaging Gateway is managed through the PL/SQL administration package <code class="codeph">DBMS_MGWADM</code>. All configuration information and execution state information of Messaging Gateway are stored in Oracle Database and can be accessed through database views.
                     </p>
                     <p>The Messaging Gateway agent runs as an external procedure of the Oracle Database server. Therefore, it runs only when its associated database server is running.</p>
                  </div>
               </div><a id="ADQUE3200"></a><div class="props_rev_3"><a id="GUID-77FBEFB4-2738-4A03-8F41-725907F2E3C6" name="GUID-77FBEFB4-2738-4A03-8F41-725907F2E3C6"></a><h4 id="ADQUE-GUID-77FBEFB4-2738-4A03-8F41-725907F2E3C6" class="sect4"><span class="enumeration_section">17.3.4 </span>Non-Oracle Messaging Systems
                  </h4>
                  <div>
                     <p>The Messaging Gateway agent connects to non-Oracle messaging systems through messaging system links. Messaging system links are communication channels between the Messaging Gateway agent and non-Oracle messaging systems. Users can use the administration package <code class="codeph">DBMS_MGWADM</code> to configure multiple links to the same or different non-Oracle messaging systems.
                     </p>
                     <p>Queues in non-Oracle messaging systems, such as WebSphere MQ queues, TIB/Rendezvous subjects, and WebSphere MQ JMS destinations (queues and topics) can all serve as propagation sources and destinations for Messaging Gateway. They are referred to as foreign queues. All foreign queues involved in message propagation as source queues, destination queues, or exception queues must be registered through the administration package. The registration of a foreign <a href="glossary.html#GUID-583DEF67-C9BC-4B83-B8DC-2375A5BE08BB"><span class="xrefglossterm">queue</span></a> does not create the physical queue in a non-Oracle messaging system, but merely records information about the queue, such as the messaging system link to access it, its native name, and its domain (queue or topic). The physical queue must be created through the administration interface of the non-Oracle messaging system.
                     </p>
                     <div class="infoboxnotealso" id="GUID-77FBEFB4-2738-4A03-8F41-725907F2E3C6__GUID-AA967E85-5A07-4E8D-B672-0BF2D7B9C6ED">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="omg-working.html#GUID-52999F7F-576F-4C23-B387-B718D5393E4D">Registering a Non-Oracle Queue</a>"</span></p>
                     </div>
                  </div>
               </div>
            </div><a id="ADQUE3201"></a><div class="props_rev_3"><a id="GUID-19CBBDD6-03A6-46F1-9608-26C91E5BEC72" name="GUID-19CBBDD6-03A6-46F1-9608-26C91E5BEC72"></a><h3 id="ADQUE-GUID-19CBBDD6-03A6-46F1-9608-26C91E5BEC72" class="sect3"><span class="enumeration_section">17.4 </span>Propagation Processing Overview
               </h3>
               <div>
                  <p>Propagation jobs must be defined in order for messages to be propagated from one messaging system to another. A propagation job defines the source queue, destination queue, and various other attributes that affect the processing of the propagation job.</p>
                  <p>If the propagation source is a queue (point-to-point), then the Messaging Gateway agent moves all messages in the queue to the destination. If the propagation source is a topic (<a href="glossary.html#GUID-C1099A1A-C20D-4C9C-AD73-BBF6BC8939B5"><span class="xrefglossterm">publish/subscribe</span></a>), then the Messaging Gateway agent creates a subscription on the propagation source topic. The agent moves all messages that are published to the topic after the subscription is created.
                  </p>
                  <p>A propagation job is processed when it is enabled. Disabling a propagation job stops propagation processing but does not stop message subscription.</p>
                  <p>When the Messaging Gateway agent processes a propagation job, it dequeues messages from the source queue and enqueues the messages to the destination queue. As each message is propagated, it is converted from its native format in the source messaging system to its native format in the destination messaging system. Messaging Gateway provides automatic message conversions between simple and commonly used message formats. You can customize message conversions by providing your own message transformation functions.</p>
                  <p>When the Messaging Gateway agent fails to convert a message from the source format to the destination format, the agent moves the message from the source queue to an <a href="glossary.html#GUID-38CB652B-C8D2-49F4-92FD-926EB001284F"><span class="xrefglossterm">exception queue</span></a>, if the exception queue exists, and continues to process the propagation job.
                  </p>
                  <p>If the Messaging Gateway agent runs into failures when processing a propagation job, it retries up to sixteen times in an exponential backoff scheme (from two seconds up to thirty minutes) before it stops retrying.</p>
                  <p>To guarantee reliable message delivery, Messaging Gateway requires logging queues in messaging systems that support transactions and persistent messages. The Messaging Gateway agent uses the logging queues to store the processing states of propagation jobs so that it can restore propagation processing from failures.</p>
                  <div class="infoboxnotealso" id="GUID-19CBBDD6-03A6-46F1-9608-26C91E5BEC72__GUID-92890F1D-27F7-4F43-91E6-3BA07926309A">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="omg-working.html#GUID-28B418E7-EC77-4909-9FDE-A823F663B8C4">Configuring Oracle Messaging Gateway Propagation Jobs</a>"</span></p>
                  </div>
                  <p></p>
               </div>
            </div><a id="ADQUE3202"></a><div class="props_rev_3"><a id="GUID-E4C9AE58-A498-4E1B-82BB-4595087FE96F" name="GUID-E4C9AE58-A498-4E1B-82BB-4595087FE96F"></a><h3 id="ADQUE-GUID-E4C9AE58-A498-4E1B-82BB-4595087FE96F" class="sect3"><span class="enumeration_section">17.5 </span>Oracle Database AQ Buffered Messages and Messaging Gateway
               </h3>
               <div>
                  <p>Messaging Gateway does not support propagation of buffered messages. In outbound propagation, the Messaging Gateway agent dequeues only persistent messages from AQ queues. In inbound propagation, the Messaging Gateway agent always enqueues persistent messages into AQ queues.</p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>