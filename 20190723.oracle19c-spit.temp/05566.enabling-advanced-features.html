<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Enabling Advanced Features of Oracle Net Services</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Net Services Administrator's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Net Services Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="net-services-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-24T04:25:53-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96313-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="configuring-profiles.html" title="Previous" type="text/html">
      <link rel="next" href="optimizing-performance.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Net Services Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="NETAG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-profiles.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="optimizing-performance.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Net Services Administrator's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-II-config-and-admin-of-oracle-net-services.html" property="item" typeof="WebPage"><span property="name">Configuration and Administration of Oracle Net Services</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Enabling Advanced Features of Oracle Net Services</li>
            </ol>
            <a id="GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F" name="GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F"></a><a id="NETAG013"></a>
            
            <h2 id="NETAG-GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F" class="sect2"><span class="enumeration_chapter">13 </span>Enabling Advanced Features of Oracle Net Services
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='enabling-advanced-features'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>Understand how to configure the advanced features of Oracle Net Services, including advanced connect data parameters, <a href="glossary.html#GUID-BBAB896F-C9F1-46C3-936E-2D0EA5FC117C"><span class="xrefglossterm">load balancing</span></a>, <a href="glossary.html#GUID-AAE7BF84-FA74-4EE0-A56F-742500110B0E"><span class="xrefglossterm">failover</span></a>, and connections to non-database services. 
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-D4894B70-971C-4AF6-B4F6-19503F853959">Configuring Advanced Network Address and Connect Data Information</a><br></li>
                  <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E">Understanding Connection Load Balancing</a><br></li>
                  <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-8F532535-C401-4B51-BE0B-04FD74BB0621">Configuring Transparent Application Failover</a><br></li>
                  <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-64F8244D-530A-41ED-AB80-3B27F271CD01">Specifying the Instance Role for Primary and Secondary Instance Configurations</a><br></li>
                  <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F">Understanding Static Service Registration</a><br></li>
                  <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-9E45CE8B-BCAB-407D-8F8E-14A05036BC3D">Configuring Connections to Third-Party Database Services</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="part-II-config-and-admin-of-oracle-net-services.html#GUID-18C53DE7-28A6-4D01-AEA4-56A5F42B1B2A">Configuration and Administration of Oracle Net Services</a></p>
                  </div>
               </div>
            </div>
            <a id="NETAG328"></a><div class="sect2"><a id="GUID-D4894B70-971C-4AF6-B4F6-19503F853959" name="GUID-D4894B70-971C-4AF6-B4F6-19503F853959"></a><h3 id="NETAG-GUID-D4894B70-971C-4AF6-B4F6-19503F853959" class="sect3"><span class="enumeration_section">13.1 </span>Configuring Advanced Network Address and Connect Data Information
               </h3>
               <div>
                  <p>A database service can be accessed by several routes and protocol addresses. You configure which routes to use by setting the list of protocol addresses. You configure the order addresses are used by specifying the address parameters. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5">Creating a List of Listener Protocol Addresses</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-39241458-E9E1-4B4C-99FD-48975F307239">About the Address List Parameters</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-FEF9B98D-65D1-4F49-8355-112351670BB7">About the Advanced Connect Data Parameters</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F">Enabling Advanced Features of Oracle Net Services</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG1171"></a><a id="NETAG1172"></a><a id="NETAG329"></a><div class="sect3"><a id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5" name="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5"></a><h4 id="NETAG-GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5" class="sect4"><span class="enumeration_section">13.1.1 </span>Creating a List of Listener Protocol Addresses
                  </h4>
                  <div>
                     <p>A database service may be accessed by more than one network route, or protocol address. In the following example, <code class="codeph">sales.us.example.com</code> can connect to the <code class="codeph">sales.us.example.com</code> service using listeners on either <code class="codeph">sales1-server</code> or <code class="codeph">sales2-server</code>. 
                     </p><pre class="oac_no_warn" dir="ltr">sales.us.example.com=
 (DESCRIPTION=
  <span class="bold">(ADDRESS_LIST=</span>
    <span class="bold">(ADDRESS=(PROTOCOL=tcp)(HOST=sales1-server)(PORT=1521)</span>)
    <span class="bold">(ADDRESS=(PROTOCOL=tcp)(HOST=sales2-server)(PORT=1521)</span>))
  (CONNECT_DATA=
    (SERVICE_NAME=sales.us.example.com)))
</pre><p>To add a network protocol address to an existing network service name or database service, use one of the following procedures:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="enabling-advanced-features.html#GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__BABBICDC">Adding a Network Protocol Using Oracle Enterprise Manager Cloud Control</a></p>
                        </li>
                        <li>
                           <p><a href="enabling-advanced-features.html#GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__BABGBHBG">Adding a Network Protocol Using Oracle Net Manager</a></p>
                        </li>
                     </ul>
                     <div class="section" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__BABBICDC">
                        <p class="subhead3" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__GUID-931CF15A-2872-49FA-8903-71E958F2784C">Adding a Network Protocol Using Oracle Enterprise Manager Cloud Control </p>
                     </div>
                     <!-- class="section" -->
                     <p>The following procedure describes how to add a network protocol to an existing network service name or database service using Oracle Enterprise Manager Cloud Control:</p>
                     <ol>
                        <li>
                           <p>Access the Directory Naming or Local Naming page in Oracle Enterprise Manager Cloud Control:</p>
                           <ol type="a">
                              <li>
                                 <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                                 <div class="infoboxnotealso" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__GUID-9E649881-AE97-4EEC-958B-F1D2398892AF">
                                    <p class="notep1">See Also:</p>
                                    <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-697E4B64-854C-49BB-B287-C2B4C57F987F">Using Oracle Enterprise Manager Cloud Control to Configure Oracle Net Services</a>"</span></p>
                                 </div>
                              </li>
                              <li>
                                 <p>Select <span class="bold">Local Naming</span> or <span class="bold">Directory Naming</span> from the Administer list, and then select the Oracle home for the directory server or the location of the local configuration files.
                                 </p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Go</span>. 
                                 </p>
                                 <p>The Local Naming or Directory Naming page appears.</p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>Select the directory service or network service name.</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>For Local Naming, select a network service from the list, and then click <span class="bold">Edit</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>For Directory Naming, perform a search of the network service name in the Simple Search section, then select the network service or database service from the Results list, and then click <span class="bold">Edit</span>. 
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>In the Addresses section, click <span class="bold">Add</span>.
                           </p>
                           <p>The Add Address page appears.</p>
                        </li>
                        <li>
                           <p>From the Protocol list, select the protocol which the listener is configured to listen. This protocol must also be installed on the client.</p>
                        </li>
                        <li>
                           <p>Enter the appropriate parameter information for the selected protocol in the fields provided.</p>
                           <div class="infoboxnotealso" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__GUID-641B1F5A-F5BA-4F7C-8BCA-8FF277998DD1">
                              <p class="notep1">See Also:</p>
                              <p> <a href="../netrf/protocol-address-configuration.html#NETRF-GUID-71A0702F-A5C6-4122-907D-5E9BFA1DCE45" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a> for protocol parameter settings
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>(Optional) In the Advanced Parameters section, specify the I/O buffer space limit for send and receive operations of sessions in the Total Send Buffer Size and Total Receive Buffer Size fields.</p>
                           <div class="infoboxnotealso" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__GUID-63C53BED-55B9-4316-8FDC-09E3AFDA791A">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="optimizing-performance.html#GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29">Configuring I/O Buffer Space</a>"</span> for additional information about buffer space
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Click <span class="bold">OK</span>.
                           </p>
                           <p>The protocol address is added to the Addresses section.</p>
                        </li>
                        <li>
                           <p>Click <span class="bold">OK</span> to update the address information.
                           </p>
                        </li>
                     </ol>
                     <div class="section" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__BABGBHBG">
                        <p class="subhead3" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__GUID-4282929B-F057-4E5D-A47D-2341941A6FEE">Adding a Network Protocol Using Oracle Net Manager </p>
                     </div>
                     <!-- class="section" -->
                     <p>The following procedure describes how to add a network protocol to an existing network service name or database service using Oracle Net Manager:</p>
                     <ol>
                        <li>
                           <p>Start Oracle Net Manager.</p>
                           <div class="infoboxnotealso" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__GUID-B1D0488E-7D3C-4E6A-BB05-DCEF7C68EBE2">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-2294BF67-B05F-44A2-9584-6CF0855A0F56">Using Oracle Net Manager to Configure Oracle Net Services</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>In the navigator pane, select <span class="bold">Service Naming</span> from the Directory or Local menus.
                           </p>
                        </li>
                        <li>
                           <p>Select either the network service name or a database service.</p>
                           <p>The right pane displays the current destination service and address list.</p>
                        </li>
                        <li>
                           <p>In the Address Configuration box, click the plus sign (+) to add a new address.</p>
                           <p>A new Address tab appears:</p>
                           <ol type="a">
                              <li>
                                 <p>Select the protocol and enter appropriate address information.</p>
                                 <div class="infoboxnotealso" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__GUID-FE9B69BC-B8D7-4BCA-9549-44594294B429">
                                    <p class="notep1">See Also:</p>
                                    <p><a href="../netrf/protocol-address-configuration.html#NETRF0041" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a> for details about protocol address parameters
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p>(Optional) On the Address tab, click <span class="bold">Advanced</span> to specify the I/O buffer space limit for send and receive operations of sessions in the Total Send Buffer Size and Total Receive Buffer Size fields.
                                 </p>
                                 <div class="infoboxnotealso" id="GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5__GUID-AB4EEA14-8978-41AE-9A8A-7CDFB1B7B92E">
                                    <p class="notep1">See Also:</p>
                                    <p><span class="q">"<a href="optimizing-performance.html#GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29">Configuring I/O Buffer Space </a>"</span> for additional information about buffer space
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p>Order the protocol addresses using the left-arrow and right-arrow buttons. This will order the addresses in the protocol address list. Unless multiple address options are configured, the first address in the list is contacted. </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>Select <span class="bold">Save Network Configuration</span> from the File menu.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-D4894B70-971C-4AF6-B4F6-19503F853959">Configuring Advanced Network Address and Connect Data Information</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1173"></a><a id="NETAG1174"></a><a id="NETAG332"></a><div class="sect3"><a id="GUID-39241458-E9E1-4B4C-99FD-48975F307239" name="GUID-39241458-E9E1-4B4C-99FD-48975F307239"></a><h4 id="NETAG-GUID-39241458-E9E1-4B4C-99FD-48975F307239" class="sect4"><span class="enumeration_section">13.1.2 </span>About the Address List Parameters
                  </h4>
                  <div>
                     <p>When a database service is accessible by multiple listener protocol addresses, specify the order in which the addresses are to be used, such as chosen randomly or tried sequentially. <a href="enabling-advanced-features.html#GUID-39241458-E9E1-4B4C-99FD-48975F307239__g492599" title="Address List Parameters">Table 13-1</a> lists the parameters used with multiple protocol addresses. 
                     </p>
                     <div class="tblformal" id="GUID-39241458-E9E1-4B4C-99FD-48975F307239__g492599">
                        <p class="titleintable">Table 13-1 Address List Parameters in the tnsnames.ora File</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Address List Parameters in the tnsnames.ora File" summary="Address List Parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="27%" id="d38386e570">Parameter</th>
                                 <th align="left" valign="bottom" width="73%" id="d38386e573">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d38386e578" headers="d38386e570 ">
                                    <p>FAILOVER<a id="d38386e581" class="indexterm-anchor"></a><a id="d38386e585" class="indexterm-anchor"></a><a id="d38386e591" class="indexterm-anchor"></a><a id="d38386e598" class="indexterm-anchor"></a><a id="d38386e605" class="indexterm-anchor"></a><a id="d38386e607" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d38386e578 d38386e573 ">
                                    <p>At connect time, this parameter instructs Oracle Net to fail over to a different listener if the first listener fails when set to <code class="codeph">on</code>. The number of addresses in the list determines how many addresses are tried. When set to <code class="codeph">off</code>, instructs Oracle Net to try one address.
                                    </p>
                                    <p>Connect-time failover is turned <code class="codeph">on</code> by default for multiple address lists (ADDRESS_LIST), connect descriptors (DESCRIPTION), and multiple connect descriptors (DESCRIPTION_LIST). 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d38386e628" headers="d38386e570 ">
                                    <p>LOAD_BALANCE<a id="d38386e631" class="indexterm-anchor"></a><a id="d38386e633" class="indexterm-anchor"></a><a id="d38386e639" class="indexterm-anchor"></a> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d38386e628 d38386e573 ">
                                    <p>When set to <code class="codeph">on</code>, this parameter instructs Oracle Net to progress through the list of protocol addresses in a random sequence, balancing the load on the various listeners. When set to <code class="codeph">off</code>, instructs Oracle Net to try the addresses sequentially until one succeeds. 
                                    </p>
                                    <p>Client load balancing is turned <code class="codeph">on</code> by default for multiple connect descriptors (DESCRIPTION_LIST).
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d38386e661" headers="d38386e570 ">
                                    <p>SOURCE_ROUTE<a id="d38386e664" class="indexterm-anchor"></a><a id="d38386e666" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d38386e661 d38386e573 ">
                                    <p>When set to <code class="codeph">on</code>, this parameter instructs Oracle Net to use each address in the order presented until the destination is reached. This parameter is required for reaching the destination using a specific route, that is, by specific computers. This parameter is used to enable connections to <a href="glossary.html#GUID-73188D8F-3751-4E9E-A0ED-8BB9D51FB745"><span class="xrefglossterm">Oracle Connection Manager</span></a>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-39241458-E9E1-4B4C-99FD-48975F307239__GUID-4E200ADA-1016-43C4-8494-9BEF76EB9900">
                        <p class="notep1">Note:</p>
                        <p>You cannot set source routing (SOURCE_ROUTE) at the same level as connect-time failover (FAILOVER) or client load balancing (LOAD_BALANCE). Source routing connects to each address in the list sequentially whereas connect-time failover and client load balancing select a single address from a list.</p>
                        <p>When a connect descriptor in a<code class="codeph"> tnsnames.ora</code> file contains at least two protocol addresses for an Oracle Connection Manager hop, then parameters for connect-time failover and load balancing within the hop can be included in the file.
                        </p>
                     </div>
                     <p><a href="enabling-advanced-features.html#GUID-39241458-E9E1-4B4C-99FD-48975F307239__g492573" title="Address List Options Dialog Box">Table 13-2</a> describes the <a id="d38386e696" class="indexterm-anchor"></a><a id="d38386e698" class="indexterm-anchor"></a>address list options.
                     </p>
                     <div class="tblformal" id="GUID-39241458-E9E1-4B4C-99FD-48975F307239__g492573">
                        <p class="titleintable">Table 13-2 Address List Options Dialog Box</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Address List Options Dialog Box" summary="Address List Options Dialog Box" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="62%" id="d38386e713">Option</th>
                                 <th align="left" valign="bottom" width="38%" id="d38386e724">Parameter Setting</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="62%" id="d38386e729" headers="d38386e713 ">
                                    <p>Try each address, in order, until one succeeds.</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d38386e729 d38386e724 ">
                                    <p>FAILOVER=on<a id="d38386e735" class="indexterm-anchor"></a><a id="d38386e737" class="indexterm-anchor"></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="62%" id="d38386e744" headers="d38386e713 ">
                                    <p>Try each address, randomly, until one succeeds.</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d38386e744 d38386e724 ">
                                    <p>LOAD_BALANCE=on</p>
                                    <p>FAILOVER=on</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="62%" id="d38386e753" headers="d38386e713 ">
                                    <p>Try one address, selected at random.</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d38386e753 d38386e724 ">
                                    <p>LOAD_BALANCE=on</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="62%" id="d38386e760" headers="d38386e713 ">
                                    <p>Use each address in order until destination reached.</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d38386e760 d38386e724 ">
                                    <p>SOURCE_ROUTE=on</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="62%" id="d38386e767" headers="d38386e713 ">
                                    <p>Use only the first address.</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d38386e767 d38386e724 ">
                                    <p>LOAD_BALANCE=off</p>
                                    <p>FAILOVER=off</p>
                                    <p>SOURCE_ROUTE=off</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The following example shows a <code class="codeph">tnsnames.ora</code> file configured for client load balancing:
                     </p><pre class="oac_no_warn" dir="ltr">sales.us.example.com=
 (DESCRIPTION=
  (ADDRESS_LIST=
  <span class="bold">(LOAD_BALANCE=on)</span>
   (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-server)(PORT=1521)) 
   (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-server)(PORT=1521)))
  (CONNECT_DATA=
    (SERVICE_NAME=sales.us.example.com))) 
</pre><p>The following example shows a <code class="codeph">tnsnames.ora</code> file configured for connect-time failover:
                     </p><pre class="oac_no_warn" dir="ltr">sales.us.example.com=
 (DESCRIPTION=
  (ADDRESS_LIST=
   <span class="bold">(LOAD_BALANCE=off)</span>
   <span class="bold">(FAILOVER=on)</span>
   (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-server)(PORT=1521)) 
   (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-server)(PORT=1521)))
  (CONNECT_DATA=
   (SERVICE_NAME=sales.us.example.com)))
</pre><p>The following example shows a tnsnames.ora file configured for Oracle Connection Manager and load balancing:</p><pre class="oac_no_warn" dir="ltr">sales.us.example.com=
(DESCRIPTION=
   (SOURCE_ROUTE=ON)
   (ADDRESS=(PROTOCOL=tcp)(HOST=cman-pc1)(PORT=1630))
   (ADDRESS=
     (LOAD_BALANCE=ON)
     (ADDRESS=(PROTOCOL=tcp)(HOST=cman-pc2)(PORT=1521))
     (ADDRESS=(PROTOCOL=tcp)(HOST=cman-pc3)(PORT=1521)))
   (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com)))
</pre></div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-1D71DC57-B877-4FE4-A3C5-4402258DCCF8">Configuring Address List Parameters</a><br></li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-39241458-E9E1-4B4C-99FD-48975F307239__GUID-E36BBA3B-1B06-4055-AD9D-02FAB4732FA3">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="configuring-oracle-connection-manager.html#GUID-A37427A9-8D37-42E8-980B-4A76C210616C">Configuring Clients for Oracle Connection Manager</a>"</span> for additional information about configuring clients for source routing
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-D4894B70-971C-4AF6-B4F6-19503F853959">Configuring Advanced Network Address and Connect Data Information</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="NETAG1586"></a><div class="sect4"><a id="GUID-1D71DC57-B877-4FE4-A3C5-4402258DCCF8" name="GUID-1D71DC57-B877-4FE4-A3C5-4402258DCCF8"></a><h5 id="NETAG-GUID-1D71DC57-B877-4FE4-A3C5-4402258DCCF8" class="sect5"><span class="enumeration_section">13.1.2.1 </span>Configuring Address List Parameters
                     </h5>
                     <div>
                        <p>The following procedure describes how to configure address list parameters:</p>
                        <ol>
                           <li>
                              <p>Perform the procedure in <span class="q">"<a href="enabling-advanced-features.html#GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5">Creating a List of Listener Protocol Addresses</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Use Oracle Enterprise Manager Cloud Control or Oracle Net Manager to configure address list options.</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>For Oracle Enterprise Manager Cloud Control, select the appropriate option in the Connect-time Failover and Client Load Balancing section.</p>
                                 </li>
                                 <li>
                                    <p>For Oracle Net Manager, click <span class="bold">Advanced</span> in the Address Configuration box. The Address List Options dialog box appears. Select the appropriate option.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-39241458-E9E1-4B4C-99FD-48975F307239">About the Address List Parameters</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="NETAG1175"></a><a id="NETAG1176"></a><a id="NETAG1177"></a><a id="NETAG0131"></a><div class="sect3"><a id="GUID-FEF9B98D-65D1-4F49-8355-112351670BB7" name="GUID-FEF9B98D-65D1-4F49-8355-112351670BB7"></a><h4 id="NETAG-GUID-FEF9B98D-65D1-4F49-8355-112351670BB7" class="sect4"><span class="enumeration_section">13.1.3 </span>About the Advanced Connect Data Parameters
                  </h4>
                  <div>
                     <p>Starting with Oracle Database 12<span class="italic">c</span> release 2 (12.2), data compression can be set in the <code class="codeph">sqlnet.ora</code> file. The parameters that set compression are SQLNET.COMPRESSION and SQLNET.COMPRESSION_LEVELS. Setting these parameters in the <code class="codeph">sqlnet.ora</code> file affects all the connections using the <code class="codeph">sqlnet.ora</code> file, except for Oracle Data Guard streaming redo and SecureFiles LOBs (Large Objects). The following example shows how to set compression:
                     </p><pre class="oac_no_warn" dir="ltr">SQLNET.COMPRESSION = on
SQLNET.COMPRESSION_LEVELS =(low,high)
</pre><p>The CONNECT_DATA section of a connect descriptor in the <code class="codeph">tnsnames.ora</code> file defines the destination database service. In the following example, SERVICE_NAME defines a service called <code class="codeph">sales.us.example.com</code>:
                     </p><pre class="oac_no_warn" dir="ltr">sales.us.example.com=
 (DESCRIPTION=
   (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
   <span class="bold">(CONNECT_DATA=</span>
<span class="bold">    (SERVICE_NAME=sales.us.example.com)</span>)) 
</pre><p>In addition to the service name, you can optionally configure the connect data information with the parameters described in <a href="enabling-advanced-features.html#GUID-FEF9B98D-65D1-4F49-8355-112351670BB7__G492533" title="Advanced Connect Data Settings">Table 13-3</a>.
                     </p>
                     <div class="tblformalwide" id="GUID-FEF9B98D-65D1-4F49-8355-112351670BB7__G492533">
                        <p class="titleintable">Table 13-3 Advanced Connect Data Settings in the tnsnames.ora File</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Advanced Connect Data Settings in the tnsnames.ora File" summary="Advanced Connect Data Settings" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d38386e1004">Oracle Enterprise Manager Cloud Control/Oracle Net Manager Option</th>
                                 <th align="left" valign="bottom" width="23%" id="d38386e1007">tnsnames.ora File Parameter</th>
                                 <th align="left" valign="bottom" width="57%" id="d38386e1010">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d38386e1015" headers="d38386e1004 ">
                                    <p>Instance Name </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d38386e1015 d38386e1007 ">
                                    <p><a id="d38386e1020" class="indexterm-anchor"></a><a id="d38386e1022" class="indexterm-anchor"></a>INSTANCE_NAME<a id="d38386e1027" class="indexterm-anchor"></a><a id="d38386e1029" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d38386e1015 d38386e1010 ">
                                    <p>The database instance to access. The instance name can be obtained from the INSTANCE_NAME parameter in the initialization parameter file. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d38386e1039" headers="d38386e1004 ">
                                    <p>Session Data Unit Size </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d38386e1039 d38386e1007 ">
                                    <p><a id="d38386e1044" class="indexterm-anchor"></a><a id="d38386e1048" class="indexterm-anchor"></a>SDU<a id="d38386e1053" class="indexterm-anchor"></a><a id="d38386e1055" class="indexterm-anchor"></a><a id="d38386e1061" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d38386e1039 d38386e1010 ">
                                    <p>The transfer rate of data packets being sent across the network. You can specify the <a href="glossary.html#GUID-DDF7E038-5341-44CA-8634-C03D77EB50BA"><span class="xrefglossterm">session data unit (SDU)</span></a> size to change the performance characteristics having to do with the packets sent across the network. The SDU size limit is 2 MB. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d38386e1073" headers="d38386e1004 ">
                                    <p>Use for Heterogeneous Services</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d38386e1073 d38386e1007 ">
                                    <p><a id="d38386e1078" class="indexterm-anchor"></a><a id="d38386e1080" class="indexterm-anchor"></a>HS<a id="d38386e1085" class="indexterm-anchor"></a><a id="d38386e1087" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d38386e1073 d38386e1010 ">
                                    <p>If you want an Oracle database server to access a third-party system through <a href="glossary.html#GUID-DA7016FB-3B8F-43D7-876B-BD8502DFADBE"><span class="xrefglossterm">Heterogeneous Services</span></a>, then set this option to <code class="codeph">on</code>. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d38386e1104" headers="d38386e1004 ">
                                    <p><a id="d38386e1106" class="indexterm-anchor"></a><a id="d38386e1108" class="indexterm-anchor"></a>Oracle RDB Database
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d38386e1104 d38386e1007 ">
                                    <p>RDB_DATABASE<a id="d38386e1116" class="indexterm-anchor"></a><a id="d38386e1118" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d38386e1104 d38386e1010 ">
                                    <p>The file name of the Oracle Rdb database.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d38386e1128" headers="d38386e1004 ">
                                    <p><a id="d38386e1130" class="indexterm-anchor"></a><a id="d38386e1132" class="indexterm-anchor"></a>Type of Service 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d38386e1128 d38386e1007 ">
                                    <p>TYPE_OF_SERVICE<a id="d38386e1140" class="indexterm-anchor"></a><a id="d38386e1142" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d38386e1128 d38386e1010 ">
                                    <p>The type of service to use for the Oracle Rdb database.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d38386e1152" headers="d38386e1004 ">
                                    <p><a id="d38386e1154" class="indexterm-anchor"></a><a id="d38386e1156" class="indexterm-anchor"></a>Global Database Name
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d38386e1152 d38386e1007 ">
                                    <p>GLOBAL_NAME<a id="d38386e1166" class="indexterm-anchor"></a><a id="d38386e1168" class="indexterm-anchor"></a></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d38386e1152 d38386e1010 ">
                                    <p>Oracle Rdb database identifier.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>In the following example, the transfer rate for data packets is set:</p><pre class="oac_no_warn" dir="ltr">sales.us.example.com=
 (DESCRIPTION=
   (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
   <span class="bold">(CONNECT_DATA=</span>
<span class="bold">    (SERVICE_NAME=sales.us.example.com)</span>
    <span class="bold"><code class="codeph">(SDU=8192)</code></span>)) 
</pre><p>Use Oracle Enterprise Manager Cloud Control or Oracle Net Manager to configure advanced CONNECT_DATA parameters for either a network service name or a database service.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FEF9B98D-65D1-4F49-8355-112351670BB7__GUID-E02F2EB7-F52B-4F88-8E4C-423CBF8E5006">Configuring Advanced Connect Descriptor Parameters Using Oracle Enterprise Manager Cloud Control</p>
                     </div>
                     <!-- class="section" -->
                     <p>The following procedure describes how to configure advanced connect descriptor parameters using Oracle Enterprise Manager Cloud Control:</p>
                     <ol>
                        <li>
                           <p>Access the Directory Naming or Local Naming page in Oracle Enterprise Manager Cloud Control, as follows:</p>
                           <ol type="a">
                              <li>
                                 <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                                 <div class="infoboxnotealso" id="GUID-FEF9B98D-65D1-4F49-8355-112351670BB7__GUID-DC61D362-A4A6-49E1-800F-9E52AD5F66E0">
                                    <p class="notep1">See Also:</p>
                                    <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-697E4B64-854C-49BB-B287-C2B4C57F987F">Using Oracle Enterprise Manager Cloud Control to Configure Oracle Net Services</a>"</span></p>
                                 </div>
                              </li>
                              <li>
                                 <p>Select <span class="bold">Local Naming</span> or <span class="bold">Directory Naming</span> from the <span class="bold">Administer</span> list, and then select the Oracle home for the directory server or the location of the local configuration files.
                                 </p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Go</span>. 
                                 </p>
                                 <p>The Directory Naming or Local Naming pages appear.</p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>Select the directory service or network service name.</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>For Local Naming, select a network service from the list, and then click <span class="bold">Edit</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>For Directory Naming, search the network service name in the Simple Search section by selecting the network service or database service from the Results list, and then clicking <span class="bold">Edit</span>. 
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Click the <span class="bold">Advanced</span> tab. 
                           </p>
                        </li>
                        <li>
                           <p>Enter fields or select options as appropriate, and then click <span class="bold">OK</span>.
                           </p>
                        </li>
                        <li>
                           <p>Click <span class="bold">OK</span> to update the connect data information.
                           </p>
                        </li>
                     </ol>
                     <div class="section">
                        <p class="subhead3" id="GUID-FEF9B98D-65D1-4F49-8355-112351670BB7__GUID-25B3917A-5B77-45CE-B46E-28445E4C4226">Configuring Advanced Connect Descriptor Parameters Using Oracle Net Manager</p>
                     </div>
                     <!-- class="section" -->
                     <p>The following procedure describes how to configure advanced connect descriptor parameters using Oracle Net Manager:</p>
                     <ol>
                        <li>
                           <p>Start Oracle Net Manager.</p>
                           <div class="infoboxnotealso" id="GUID-FEF9B98D-65D1-4F49-8355-112351670BB7__GUID-C9339266-0FA6-4016-BA9A-9723969581C0">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-2294BF67-B05F-44A2-9584-6CF0855A0F56">Using Oracle Net Manager to Configure Oracle Net Services</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>In the navigator pane, select <span class="bold">Service Naming</span> from Directory or Local menus.
                           </p>
                        </li>
                        <li>
                           <p>Select either the network service name or a database service.</p>
                           <p>The right pane displays the current destination service and address list.</p>
                        </li>
                        <li>
                           <p>In the Service Identification box, click <span class="bold">Advanced</span>.
                           </p>
                           <p>The Advanced Service Options dialog box appears.</p>
                        </li>
                        <li>
                           <p>Enter fields or select options as appropriate, and then click <span class="bold">OK</span>.
                           </p>
                        </li>
                        <li>
                           <p>If you are making these changes to the Local folder, then select <span class="bold">Save Network Configuration</span> from the File menu. Changes to the Directory folder are saved automatically.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-D4894B70-971C-4AF6-B4F6-19503F853959">Configuring Advanced Network Address and Connect Data Information</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="NETAG335"></a><div class="sect2"><a id="GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E" name="GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E"></a><h3 id="NETAG-GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E" class="sect3"><span class="enumeration_section">13.2 </span>Understanding Connection Load Balancing
               </h3>
               <div>
                  <p>The <a href="glossary.html#GUID-65C69E90-90B0-4D0D-AF6B-771E4409314A"><span class="xrefglossterm">connection load balancing</span></a> feature improves connection performance by balancing the number of active connections among multiple <a href="glossary.html#GUID-6A50A995-E885-4B57-88A3-F0DA6E3B1B60"><span class="xrefglossterm">dispatcher</span></a>s. In an <a href="glossary.html#GUID-771FD3A1-1859-4DF9-9151-DF02A8ECFBA3"><span class="xrefglossterm">Oracle Real Application Clusters (Oracle RAC)</span></a> environment, connection load balancing can also balance the number of active connections among multiple instances.
                  </p>
                  <p>Because the Listener Registration (LREG) process can register with remote listeners, a listener can always be aware of all instances and dispatchers, regardless of their location. Depending on the load information, a listener decides which instance and, if shared server is configured, which dispatcher to send the incoming client request. </p>
                  <p>In a <a href="glossary.html#GUID-1217C512-0795-497A-BE6B-13D8E18E08CA"><span class="xrefglossterm">shared server</span></a> configuration, a listener selects a dispatcher in the following order:
                  </p>
                  <ol>
                     <li>
                        <p>Least loaded node.</p>
                     </li>
                     <li>
                        <p>Least loaded instance.</p>
                     </li>
                     <li>
                        <p>Least loaded dispatcher for that instance. </p>
                     </li>
                  </ol>
                  <p>In a <a href="glossary.html#GUID-111D574E-F53B-45C4-9F52-FB63F969DA4F"><span class="xrefglossterm">dedicated server</span></a> configuration, a listener selects an instance in the following order: 
                  </p>
                  <ol>
                     <li>
                        <p>Least loaded node.</p>
                     </li>
                     <li>
                        <p>Least loaded instance. </p>
                     </li>
                  </ol>
                  <p>Load Balancing across nodes for HTTP presentation is introduced in this release. The remote listener can load balance across instances that are on different nodes for HTTP presentation using HTTP redirect.</p>
                  <p>An Oracle RAC environment requires that the dispatchers on each instance be cross-registered with the other listeners on the other nodes. This is achieved by the use of the <code class="codeph">LISTENER</code> attribute of the DISPATCHERS parameter. 
                  </p>
                  <div class="infoboxnote" id="GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E__GUID-FE839E17-DCF0-4F98-98BD-0886A6AA3E62">
                     <p class="notep1">Note:</p>
                     <p>For optimum connection load balancing results, the instances that belong to the same database service should be on equivalent hardware and software configurations.</p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-CEC21150-7831-4501-BEAC-6CC800E7B0E5">Example of Connection Load Balancing for Shared Server Configuration</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-1A1CCEFC-197A-4547-89E3-A062969F6269">Example of Connection Load Balancing for Dedicated Server Configuration</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-3D6D04A8-3E62-4F69-871C-6FB374262BBF">COLOCATION_TAG of Client Connections</a><br>The <code class="codeph">COLOCATION_TAG</code> parameter is an alphanumeric string that you can use with the <code class="codeph">CONNECT_DATA</code> parameter of the TNS connect string. 
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E__GUID-DBC7168E-44DA-434A-81DA-E0CA0B0AB4B3">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="configuring-and-administering-oracle-net-listener.html#GUID-09139A19-5265-4216-9054-3237B225E09D">Registering Information with a Remote Listener</a>"</span> for additional information about cross-registration
                           </p>
                        </li>
                        <li>
                           <p><a href="../refrn/initialization-parameters.html#REFRN001" target="_blank"><span class="italic">Oracle Database Reference</span></a> for complete information about the SERVICE_NAMES and INSTANCE_NAME parameters
                           </p>
                        </li>
                        <li>
                           <p><a href="configuring-shared-server-architecture.html#GUID-CAF99423-AFB9-4141-A36B-5EAF6B2CA7C0">Configuring a Shared Server Architecture </a> for additional information about the <code class="codeph">LISTENER</code> attribute
                           </p>
                        </li>
                        <li>
                           <p><a href="../gsmug/global-data-services-admin.html#GSMUG-GUID-3A51492C-6214-4585-8609-56962180A12A" target="_blank"><span class="italic">Oracle Database Global Data Services Concepts and Administration Guide</span></a> for information about management of global services
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F">Enabling Advanced Features of Oracle Net Services</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG1178"></a><a id="NETAG1179"></a><a id="NETAG336"></a><div class="sect3"><a id="GUID-CEC21150-7831-4501-BEAC-6CC800E7B0E5" name="GUID-CEC21150-7831-4501-BEAC-6CC800E7B0E5"></a><h4 id="NETAG-GUID-CEC21150-7831-4501-BEAC-6CC800E7B0E5" class="sect4"><span class="enumeration_section">13.2.1 </span>Example of Connection Load Balancing for Shared Server Configuration
                  </h4>
                  <div>
                     <p><a href="enabling-advanced-features.html#GUID-CEC21150-7831-4501-BEAC-6CC800E7B0E5__BABHIHIA">Figure 13-1</a> shows an Oracle RAC shared server database with two instances, <code class="codeph">sales1</code> and <code class="codeph">sales2</code>, of the same service, <code class="codeph">sales.us.example.com</code>. The instances <code class="codeph">sales1</code> and <code class="codeph">sales2</code> reside on computers <code class="codeph">sales1-server</code> and <code class="codeph">sales2-server</code>, respectively. Instance <code class="codeph">sales1</code> has one dispatcher and instance <code class="codeph">sales2</code> has two dispatchers. Listeners named <code class="codeph">listener</code> run on nodes 1 and 2. The <code class="codeph">listener</code> attribute in the DISPATCHERS parameter has been configured to allow for service registration of information to both listeners.
                     </p>
                     <div class="figure" id="GUID-CEC21150-7831-4501-BEAC-6CC800E7B0E5__BABHIHIA">
                        <p class="titleinfigure">Figure 13-1 Load Balancing Environment for a Shared Server Configuration</p><img width="435" src="img/netag034.gif" alt="Description of Figure 13-1 follows" title="Description of Figure 13-1 follows" longdesc="img_text/netag034.html"><br><a href="img_text/netag034.html">Description of "Figure 13-1 Load Balancing Environment for a Shared Server Configuration"</a></div>
                     <!-- class="figure" -->
                     <p>In this example, <code class="codeph">sales2-server</code> is the least loaded node, <code class="codeph">sales2</code> is the least loaded instance, and <code class="codeph">dispatcher2</code> is the least loaded dispatcher. The following load information is registered. 
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The one minute load average for each instance is 600 for <code class="codeph">sales1</code> and 400 for <code class="codeph">sales2</code>. This can happen if more processing is required on <code class="codeph">sales1-server</code>. 
                           </p>
                        </li>
                        <li>
                           <p>The number of connections to each instance is 200 for <code class="codeph">sales1</code> and 300 for <code class="codeph">sales2</code>.
                           </p>
                        </li>
                        <li>
                           <p>The number of dispatcher connections to each instance is 200 for <code class="codeph">dispatcher1</code>, 100 for <code class="codeph">dispatcher2</code>, and 200 for <code class="codeph">dispatcher3</code>.
                           </p>
                        </li>
                        <li>
                           <p>The number of connections to <code class="codeph">sales1</code> (200) is the same as that of its only dispatcher, <code class="codeph">dispatcher1</code>. 
                           </p>
                        </li>
                        <li>
                           <p>The number of connections on <code class="codeph">sales2</code> (300) is the sum of the connections on its two dispatchers, <code class="codeph">dispatcher2</code> (100) and <code class="codeph">dispatcher3</code> (200). 
                           </p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">listeners_sales</code> value in <code class="codeph">(LISTENER=listeners_sales)</code> is resolved through a local <code class="codeph">tnsnames.ora</code> file on both servers as follows:
                     </p><pre class="oac_no_warn" dir="ltr">listeners_sales= 
 (DESCRIPTION= 
   (ADDRESS_LIST=
     (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-server)(PORT=1521))
     (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-server)(PORT=1521))))
</pre><p>Based on the environment, the following actions occur. The numbered actions correspond to the arrows shown in <a href="enabling-advanced-features.html#GUID-CEC21150-7831-4501-BEAC-6CC800E7B0E5__BABEFIEE">Figure 13-2</a>:
                     </p>
                     <ol>
                        <li>
                           <p>LREG processes for instances <code class="codeph">sales1</code> and <code class="codeph">sales2</code> register with both listeners. The listeners are updated dynamically on the load of the instances and dispatchers.
                           </p>
                        </li>
                        <li>
                           <p>The client sends a connect request. A connect descriptor is configured to try each protocol address randomly until one succeeds:</p><pre class="oac_no_warn" dir="ltr">sales.us.example.com= 
 (DESCRIPTION= 
  (<span class="bold"><code class="codeph">LOAD_BALANCE=on</code></span>)
  (<span class="bold"><code class="codeph">FAILOVER=on</code></span>)
  (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-server)(PORT=1521))
  (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-server)(PORT=1521))
  (CONNECT_DATA=(SERVICE_NAME=sales.us.example.com)))
</pre><p>The listener on <code class="codeph">sales1-server</code> was randomly chosen to receive the client connect request. 
                           </p>
                           <p>The listener on <code class="codeph">sales1-server</code> compares the load of the instances <code class="codeph">sales1</code> and <code class="codeph">sales2</code>. The comparison takes into account the load on nodes <code class="codeph">sales1-server</code> and <code class="codeph">sales2-server</code>, respectively. Because <code class="codeph">sales2-server</code> is less loaded than <code class="codeph">sales1-server</code>, the listener selects <code class="codeph">sales2-server</code> over <code class="codeph">sales1-server</code>. 
                           </p>
                        </li>
                        <li>
                           <p>The listener compares the load on dispatchers <code class="codeph">dispatcher2</code> and <code class="codeph">dispatcher3</code>. Because <code class="codeph">dispatcher2</code> is less loaded than <code class="codeph">dispatcher3</code>, the listener redirects the client connect request to <code class="codeph">dispatcher2</code>.
                           </p>
                        </li>
                        <li>
                           <p>The client connects directly to <code class="codeph">dispatcher2</code>.
                           </p>
                        </li>
                     </ol>
                     <div class="figure" id="GUID-CEC21150-7831-4501-BEAC-6CC800E7B0E5__BABEFIEE">
                        <p class="titleinfigure">Figure 13-2 Load Balancing Example for a Shared Server Configuration</p><img width="568" src="img/netag033.gif" alt="Description of Figure 13-2 follows" title="Description of Figure 13-2 follows" longdesc="img_text/netag033.html"><br><a href="img_text/netag033.html">Description of "Figure 13-2 Load Balancing Example for a Shared Server Configuration"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E">Understanding Connection Load Balancing</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1180"></a><a id="NETAG1182"></a><a id="NETAG337"></a><div class="sect3"><a id="GUID-1A1CCEFC-197A-4547-89E3-A062969F6269" name="GUID-1A1CCEFC-197A-4547-89E3-A062969F6269"></a><h4 id="NETAG-GUID-1A1CCEFC-197A-4547-89E3-A062969F6269" class="sect4"><span class="enumeration_section">13.2.2 </span>Example of Connection Load Balancing for Dedicated Server Configuration
                  </h4>
                  <div>
                     <p><a href="enabling-advanced-features.html#GUID-1A1CCEFC-197A-4547-89E3-A062969F6269__i480663">Figure 13-3</a> shows an Oracle RAC dedicated server database with two instances, <code class="codeph">sales1</code> and <code class="codeph">sales2</code>, of the same service, <code class="codeph">sales.us.example.com</code>. The instances <code class="codeph">sales1</code> and <code class="codeph">sales2</code> reside on computers <code class="codeph">sales1-server</code> and <code class="codeph">sales2-server</code>, respectively. Listeners named <code class="codeph">listener</code> run on nodes 1 and 2. The REMOTE_LISTENER initialization parameter has been configured to allow for service registration of information to both listeners.
                     </p>
                     <div class="figure" id="GUID-1A1CCEFC-197A-4547-89E3-A062969F6269__i480663">
                        <p class="titleinfigure">Figure 13-3 Load Balancing Environment for a Dedicated Server Configuration</p><img width="437" src="img/netag125.gif" alt="Description of Figure 13-3 follows" title="Description of Figure 13-3 follows" longdesc="img_text/netag125.html"><br><a href="img_text/netag125.html">Description of "Figure 13-3 Load Balancing Environment for a Dedicated Server Configuration"</a></div>
                     <!-- class="figure" -->
                     <p>In this example, the following load information is registered:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">sales1-server</code> has a node load average of 450 per minute.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">sales2-server</code> has a node load average of 200 per minute.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">sales1</code> has 200 connections.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">sales2</code> has 150 connections.
                           </p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">listener_sales1</code> value in <code class="codeph">(REMOTE_LISTENER=listener_sales1)</code> is resolved through a local <code class="codeph">tnsnames.ora</code> file on the <code class="codeph">sales2-server</code> as follows:
                     </p><pre class="oac_no_warn" dir="ltr">listener_sales1= 
 (DESCRIPTION= 
   (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-server)(PORT=1521)))
</pre><p>The <code class="codeph">listener_sales2</code> value in <code class="codeph">(REMOTE_LISTENER=listener_sales2)</code> is resolved through a local <code class="codeph">tnsnames.ora</code> file on the <code class="codeph">sales1-server</code> as follows:
                     </p><pre class="oac_no_warn" dir="ltr">listener_sales2= 
 (DESCRIPTION= 
   (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-server)(PORT=1521)))
</pre><p>Based on the environment, the following actions occur. The numbered actions correspond to the arrows shown in <a href="enabling-advanced-features.html#GUID-1A1CCEFC-197A-4547-89E3-A062969F6269__BABBAEAD">Figure 13-4</a>: 
                     </p>
                     <ol>
                        <li>
                           <p>LREG processes for instances <code class="codeph">sales1</code> and <code class="codeph">sales2</code> register with both listeners. The listeners are dynamically updated on the load of the instances.
                           </p>
                           <p>Based on the preceding information, <code class="codeph">sales2-server</code> is the least loaded node and <code class="codeph">sales2</code> is the least loaded instance.
                           </p>
                        </li>
                        <li>
                           <p>The client sends a connect request. </p>
                           <p>A connect descriptor is configured to try each protocol address randomly until one succeeds:</p><pre class="oac_no_warn" dir="ltr">sales.us.example.com= 
 (DESCRIPTION= 
  (ADDRESS_LIST=
    (<span class="bold"><code class="codeph">LOAD_BALANCE=on</code></span>)
<a id="d38386e1969" class="indexterm-anchor"></a><span class="bold"><code class="codeph">    (FAILOVER=on)</code></span>
    (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-server)(PORT=1521))
    (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-server)(PORT=1521)))
    (CONNECT_DATA=(SERVICE_NAME=sales.us.example.com)))
</pre><p>The listener on <code class="codeph">sales1-server</code> was randomly chosen to receive the client connect request. 
                           </p>
                           <p>The listener on <code class="codeph">sales1-server</code> compares the load of the instances <code class="codeph">sales1</code> and <code class="codeph">sales2</code>. The comparison takes into account the load on nodes <code class="codeph">sales1-server</code> and <code class="codeph">sales2-server</code>, respectively. Because <code class="codeph">sales2-server</code> is less loaded than <code class="codeph">sales1-server</code>, the listener selects <code class="codeph">sales2-server</code> over <code class="codeph">sales1-server</code>. 
                           </p>
                        </li>
                        <li>
                           <p>The listener on <code class="codeph">sales1-server</code> redirects the client connect request to the listener on <code class="codeph">sales2-server</code>.
                           </p>
                        </li>
                        <li>
                           <p>The client connects to the listener on <code class="codeph">sale2-server</code>. The listener starts a dedicated server process, and the dedicated server process inherits the connection request from the listener.
                           </p>
                        </li>
                     </ol>
                     <div class="figure" id="GUID-1A1CCEFC-197A-4547-89E3-A062969F6269__BABBAEAD">
                        <p class="titleinfigure">Figure 13-4 Load Balancing Example for a Dedicated Server Configuration</p><img width="616" src="img/netag126.gif" alt="Description of Figure 13-4 follows" title="Description of Figure 13-4 follows" longdesc="img_text/netag126.html"><br><a href="img_text/netag126.html">Description of "Figure 13-4 Load Balancing Example for a Dedicated Server Configuration"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E">Understanding Connection Load Balancing</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-3D6D04A8-3E62-4F69-871C-6FB374262BBF" name="GUID-3D6D04A8-3E62-4F69-871C-6FB374262BBF"></a><h4 id="NETAG-GUID-3D6D04A8-3E62-4F69-871C-6FB374262BBF" class="sect4"><span class="enumeration_section">13.2.3 </span>COLOCATION_TAG of Client Connections
                  </h4>
                  <div>
                     <p>The <code class="codeph">COLOCATION_TAG</code> parameter is an alphanumeric string that you can use with the <code class="codeph">CONNECT_DATA</code> parameter of the TNS connect string. 
                     </p>
                     <p>When you set the <code class="codeph">colocation_tag</code> within the <code class="codeph">CONNECT_DATA</code> parameter, load balancing is ignored. The listener makes an effort to send all connections that have the same <code class="codeph">colocation_tag</code> to the same database instance. The instance selection algorithm is based on the <code class="codeph">colocation_tag</code>, and the list of available instances for the specified service. 
                     </p>
                     <p>For example, the listener will try to route all clients to the same database instance that have the <code class="codeph">COLOCATION_TAG</code> set to interactive in the connection descriptor.
                     </p><pre class="pre codeblock"><code>
sales.us.example.com=
  (DESCRIPTION=
     (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
     (CONNECT_DATA=(SERVICE_NAME=sales.us.example.com)(COLOCATION_TAG=interactive)))
    </code></pre><div class="infoboxnote" id="GUID-3D6D04A8-3E62-4F69-871C-6FB374262BBF__GUID-3FCDE296-6232-429D-88C0-1155FB661C99">
                        <p class="notep1">Note:</p>Under certain conditions, such as, when maximum load of an instance is reached or when new instances are added or deleted for a service, the colocation of client connections that have the same <code class="codeph">colocation_tag</code> to the same database instance may not be consistent.
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../netrf/local-naming-parameters-in-tns-ora-file.html#NETRF-GUID-9D06528E-BBC4-4629-A119-C216EBF70201" target="_blank">COLOCATION_TAG</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E">Understanding Connection Load Balancing</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="NETAG455"></a><div class="sect2"><a id="GUID-8F532535-C401-4B51-BE0B-04FD74BB0621" name="GUID-8F532535-C401-4B51-BE0B-04FD74BB0621"></a><h3 id="NETAG-GUID-8F532535-C401-4B51-BE0B-04FD74BB0621" class="sect3"><span class="enumeration_section">13.3 </span>Configuring Transparent Application Failover
               </h3>
               <div>
                  <p><a id="d38386e2196" class="indexterm-anchor"></a>Transparent Application Failover (TAF) instructs Oracle Net to fail over a failed connection to a different listener. This enables the user to continue to work using the new connection as if the original connection had never failed. 
                  </p>
                  <p>TAF involves manual configuration of a network service name that includes the <a id="d38386e2203" class="indexterm-anchor"></a>FAILOVER_MODE parameter included in the CONNECT_DATA section of the connect descriptor. 
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-1BCF4B66-3F06-468B-9D22-13F057247B93">About Transparent Application Failover</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-E260F418-B04C-43A0-BBB9-2D1D814DA749">What Transparent Application Failover Restores</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-21C469A4-1743-40DD-806C-48057E4A4BBD">About the FAILOVER_MODE Parameters</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-466CD611-155F-4DD6-9E6C-0A8E6A58B796">Implementing Transparent Application Failover</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-2DACA598-A593-4283-BAD2-7406C56CC146">Verifying Transparent Application Failover</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F">Enabling Advanced Features of Oracle Net Services</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG338"></a><div class="sect3"><a id="GUID-1BCF4B66-3F06-468B-9D22-13F057247B93" name="GUID-1BCF4B66-3F06-468B-9D22-13F057247B93"></a><h4 id="NETAG-GUID-1BCF4B66-3F06-468B-9D22-13F057247B93" class="sect4"><span class="enumeration_section">13.3.1 </span>About Transparent Application Failover
                  </h4>
                  <div>
                     <p>TAF is a client-side feature that allows clients to reconnect to surviving databases in the event of a failure of a database instance. Notifications are used by the server to trigger TAF callbacks on the client-side. </p>
                     <p>TAF is configured using either client-side specified TNS (Transparent Network Substrate) connect string or using server-side service attributes. If both methods are used to configure TAF, then the server-side service attributes supersede the client-side settings. Server-side service attributes are the preferred way to set up TAF. </p>
                     <p>TAF can operate in one of two modes, Session Failover and Select Failover. Session Failover re-creates lost connections and sessions. Select Failover replays queries that were in progress.</p>
                     <p>When there is a failure, callback functions are initiated on the client-side using Oracle Call Interface (OCI) callbacks. This works with standard OCI connections as well as connection pool and session pool connections.</p>
                     <p>TAF operates with Oracle Data Guard to provide automatic failover. TAF works with the following database configurations to effectively mask a database failure:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle Real Application Clusters</p>
                        </li>
                        <li>
                           <p>Replicated systems</p>
                        </li>
                        <li>
                           <p>Standby databases</p>
                        </li>
                        <li>
                           <p>Single instance Oracle database</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1BCF4B66-3F06-468B-9D22-13F057247B93__GUID-1724338D-F4E0-4844-A3F9-533E0C1305E8">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../racad/ensuring-application-continuity.html#RACAD-GUID-DEF850F6-27E9-428E-B8FC-530230D78AD2" target="_blank"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a></p>
                           </li>
                           <li>
                              <p><a href="../lnoci/high-availability-in-oci.html#LNOCI-GUID-0CBC5C17-608B-4C5D-9A88-37FBE27D8029" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> for more details on callbacks, and session pools
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-8F532535-C401-4B51-BE0B-04FD74BB0621">Configuring Transparent Application Failover</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG339"></a><div class="sect3"><a id="GUID-E260F418-B04C-43A0-BBB9-2D1D814DA749" name="GUID-E260F418-B04C-43A0-BBB9-2D1D814DA749"></a><h4 id="NETAG-GUID-E260F418-B04C-43A0-BBB9-2D1D814DA749" class="sect4"><span class="enumeration_section">13.3.2 </span>What Transparent Application Failover Restores
                  </h4>
                  <div>
                     <p>TAF automatically restores some or all of the following elements associated with active database connections. Other elements may need to be embedded in the application code to enable TAF to recover the connection.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Client-server database connections: TAF automatically reestablishes the connection using the same connect string or an alternate connect string that you specify when configuring failover.</p>
                        </li>
                        <li>
                           <p>Users' database sessions: TAF automatically logs a user in with the same user ID as was used before the failure. If multiple users were using the connection, then TAF automatically logs them in as they attempt to process database commands. Unfortunately, TAF cannot automatically restore other session properties. These properties can be restored by invoking a callback function.</p>
                        </li>
                        <li>
                           <p>Completed commands: If a command was completed at the time of connection failure, and it changed the state of the database, then TAF does not resend the command. If TAF reconnects in response to a command that may have changed the database, then TAF issues an error message to the application.</p>
                        </li>
                        <li>
                           <p>Open cursors used for fetching: TAF allows applications that began fetching rows from a cursor before failover to continue fetching rows after failover. This is called select failover. It is accomplished by re-running a <code class="codeph">SELECT</code> statement using the same snapshot, discarding those rows already fetched and retrieving those rows that were not fetched initially. TAF verifies that the discarded rows are those that were returned initially, or it returns an error message.
                           </p>
                        </li>
                        <li>
                           <p>Active transactions: Any active transactions are rolled back at the time of failure because TAF cannot preserve active transactions after failover. The application instead receives an error message until a <code class="codeph">ROLLBACK</code> command is submitted. 
                           </p>
                           <p></p>
                        </li>
                        <li>
                           <p>Server-side program variables: Server-side program variables, such as PL/SQL package states, are lost during failures, and TAF cannot recover them. They can be initialized by making a call from the failover callback.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E260F418-B04C-43A0-BBB9-2D1D814DA749__GUID-AE09DEDA-6623-4822-BFF1-18313DF4E6C5">
                        <p class="notep1">See Also:</p>
                        <p> <a href="../lnoci/session-and-connection-pooling.html#LNOCI090" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-8F532535-C401-4B51-BE0B-04FD74BB0621">Configuring Transparent Application Failover</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1183"></a><a id="NETAG347"></a><div class="sect3"><a id="GUID-21C469A4-1743-40DD-806C-48057E4A4BBD" name="GUID-21C469A4-1743-40DD-806C-48057E4A4BBD"></a><h4 id="NETAG-GUID-21C469A4-1743-40DD-806C-48057E4A4BBD" class="sect4"><span class="enumeration_section">13.3.3 </span>About the FAILOVER_MODE Parameters
                  </h4>
                  <div>
                     <p>The FAILOVER_MODE parameter must be included in the CONNECT_DATA section of a connect descriptor. The FAILOVER_MODE parameter can contain the parameters described in <a href="enabling-advanced-features.html#GUID-21C469A4-1743-40DD-806C-48057E4A4BBD__CEGIJFCA" title="Subparameters of the FAILOVER_MODE Parameter">Table 13-4</a>.
                     </p>
                     <div class="tblformal" id="GUID-21C469A4-1743-40DD-806C-48057E4A4BBD__CEGIJFCA">
                        <p class="titleintable">Table 13-4 Additional Parameters of the FAILOVER_MODE Parameter</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Additional Parameters of the FAILOVER_MODE Parameter" summary="Subparameters of the FAILOVER_MODE Parameter" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="23%" id="d38386e2509">FAILOVER_MODE Parameters</th>
                                 <th align="left" valign="bottom" width="77%" id="d38386e2512">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d38386e2517" headers="d38386e2509 ">
                                    <p><a id="d38386e2519" class="indexterm-anchor"></a><a id="d38386e2521" class="indexterm-anchor"></a>BACKUP
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d38386e2517 d38386e2512 ">
                                    <p>A different network service name for backup connections. A backup should be specified when using <code class="codeph">preconnect</code> to pre-establish connections.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d38386e2535" headers="d38386e2509 ">
                                    <p>DELAY</p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d38386e2535 d38386e2512 ">
                                    <p>The amount of time in seconds to wait between connect attempts. If RETRIES is specified, then DELAY defaults to one second.</p>
                                    <p>If a callback function is registered, then this parameter is ignored.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d38386e2544" headers="d38386e2509 ">
                                    <p><a id="d38386e2546" class="indexterm-anchor"></a><a id="d38386e2548" class="indexterm-anchor"></a>METHOD
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d38386e2544 d38386e2512 ">
                                    <p>The setting for fast failover from the primary node to the backup node:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">basic</code>: Set to establish connections at failover time. This option requires almost no work on the backup server until failover time.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">preconnect</code>: Set to pre-established connections. This provides faster failover but requires that the backup instance be able to support all connections from every supported instance.
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d38386e2570" headers="d38386e2509 ">
                                    <p>RETRIES</p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d38386e2570 d38386e2512 ">
                                    <p>The number of times to attempt to connect after a failover. If DELAY is specified, then RETRIES defaults to five retry attempts.</p>
                                    <p>If a callback function is registered, then this parameter is ignored.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d38386e2579" headers="d38386e2509 ">
                                    <p>TRANSACTION</p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d38386e2579 d38386e2512 ">
                                    <p>The ability for a transaction to complete after a recoverable database error. This parameter is set using the SRVCTL utility or the DBMS_SERVICE package. </p>
                                    <p>This parameter is used with <code class="codeph">COMMIT_OUTCOME=TRUE</code>. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d38386e2591" headers="d38386e2509 ">
                                    <p><a id="d38386e2593" class="indexterm-anchor"></a><a id="d38386e2595" class="indexterm-anchor"></a>TYPE
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d38386e2591 d38386e2512 ">
                                    <p>The type of failover. Three types of Oracle Net failover functionality are available by default to Oracle Call Interface (OCI) applications: </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">session</code>: Set to fail over the session. If the user's connection is lost, then a new session is automatically created for the user on the backup. This type of failover does not attempt to recover select operations.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">select</code>: Set to enable users with open cursors to continue fetching on them after failure. However, this mode involves overhead on the client side in normal select operations.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">none</code>: This is the default. No failover functionality is used. This can also be explicitly specified to prevent failover from happening.
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-21C469A4-1743-40DD-806C-48057E4A4BBD__GUID-2EAD55C9-2E66-4D87-8A4B-61B7776DA8D4">
                        <p class="notep1">Note:</p>
                        <p>Oracle Net Manager does not provide support for TAF parameters. These parameters must be set manually.</p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-8F532535-C401-4B51-BE0B-04FD74BB0621">Configuring Transparent Application Failover</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG348"></a><div class="sect3"><a id="GUID-466CD611-155F-4DD6-9E6C-0A8E6A58B796" name="GUID-466CD611-155F-4DD6-9E6C-0A8E6A58B796"></a><h4 id="NETAG-GUID-466CD611-155F-4DD6-9E6C-0A8E6A58B796" class="sect4"><span class="enumeration_section">13.3.4 </span>Implementing Transparent Application Failover
                  </h4>
                  <div>
                     <p>Depending on the FAILOVER_MODE parameters, you can implement TAF in several ways. Oracle recommends the following methods:</p>
                     <div class="infoboxnote" id="GUID-466CD611-155F-4DD6-9E6C-0A8E6A58B796__GUID-E0BF5257-B7A9-4395-B9B5-8253E9F966F6">
                        <p class="notep1">Important:</p>
                        <p>Do not set the GLOBAL_DBNAME parameter in the SID_LIST_<span class="italic">listener_name</span> section of the <code class="codeph">listener.ora</code> file. A statically configured global database name disables TAF.<a id="d38386e2689" class="indexterm-anchor"></a></p>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-BEFE6A66-E624-446F-8D9B-881E6C5B72C3">TAF with Connect-Time Failover and Client Load Balancing</a><br></li>
                        <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-394C9DC9-84A4-4DC4-8D56-9E75E1C96250">TAF Retrying a Connection</a><br></li>
                        <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-27B3BD1B-49ED-4D78-A5CA-42E3CC1FC2DD">TAF Pre-establishing a Connection</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-8F532535-C401-4B51-BE0B-04FD74BB0621">Configuring Transparent Application Failover</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="NETAG349"></a><div class="sect4"><a id="GUID-BEFE6A66-E624-446F-8D9B-881E6C5B72C3" name="GUID-BEFE6A66-E624-446F-8D9B-881E6C5B72C3"></a><h5 id="NETAG-GUID-BEFE6A66-E624-446F-8D9B-881E6C5B72C3" class="sect5"><span class="enumeration_section">13.3.4.1 </span>TAF with Connect-Time Failover and Client Load Balancing
                     </h5>
                     <div>
                        <p>Implement TAF with connect-time failover and client load balancing for multiple addresses. In the following example, Oracle Net connects randomly to one of the protocol addresses on <code class="codeph">sales1-server</code> or <code class="codeph">sales2-server</code>. If the instance fails after the connection, then the TAF application fails over to the other node's listener, reserving any <code class="codeph">SELECT</code> statements in progress.
                        </p><pre class="oac_no_warn" dir="ltr">sales.us.example.com=
 (DESCRIPTION=
  <span class="bold">(LOAD_BALANCE=on)</span> 
  <span class="bold">(FAILOVER=on) </span>
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales1-server)  
       (PORT=1521)) 
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales2-server)  
       (PORT=1521)) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     <span class="bold">(FAILOVER_MODE=</span>
       <span class="bold">(TYPE=select) </span>
       <span class="bold">(METHOD=basic))</span>))
</pre><p>Although the preceding example has multiple addresses, the <code class="codeph">ADDRESS_LIST</code> parameter was not used. This is because the <code class="codeph">ADDRESS_LIST</code> parameter is not mandatory.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-466CD611-155F-4DD6-9E6C-0A8E6A58B796">Implementing Transparent Application Failover</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="NETAG350"></a><div class="sect4"><a id="GUID-394C9DC9-84A4-4DC4-8D56-9E75E1C96250" name="GUID-394C9DC9-84A4-4DC4-8D56-9E75E1C96250"></a><h5 id="NETAG-GUID-394C9DC9-84A4-4DC4-8D56-9E75E1C96250" class="sect5"><span class="enumeration_section">13.3.4.2 </span>TAF Retrying a Connection
                     </h5>
                     <div>
                        <p>TAF also provides the ability to automatically retry connecting if the first connection attempt fails with the RETRIES and DELAY parameters. In the following example, Oracle Net tries to reconnect to the listener on <code class="codeph">sales1-server</code>. If the failover connection fails, then Oracle Net waits 15 seconds before trying to reconnect again. Oracle Net attempts to reconnect up to 20 times.
                        </p><pre class="oac_no_warn" dir="ltr">sales.us.example.com=
 (DESCRIPTION=
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales1-server)  
       (PORT=1521)) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     <span class="bold">(FAILOVER_MODE=</span>
       <span class="bold">(TYPE=select) </span>
       <span class="bold">(METHOD=basic)</span>
       <span class="bold">(RETRIES=20)</span>
       <span class="bold">(DELAY=15))</span>))</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-466CD611-155F-4DD6-9E6C-0A8E6A58B796">Implementing Transparent Application Failover</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="NETAG351"></a><div class="sect4"><a id="GUID-27B3BD1B-49ED-4D78-A5CA-42E3CC1FC2DD" name="GUID-27B3BD1B-49ED-4D78-A5CA-42E3CC1FC2DD"></a><h5 id="NETAG-GUID-27B3BD1B-49ED-4D78-A5CA-42E3CC1FC2DD" class="sect5"><span class="enumeration_section">13.3.4.3 </span>TAF Pre-establishing a Connection
                     </h5>
                     <div>
                        <p>A backup connection can be pre-established. The initial and backup connections must be explicitly specified. In the following example, clients that use network service name <code class="codeph">sales1.us.example.com</code> to connect to the listener on <code class="codeph">sales1-server</code> are also preconnected to <code class="codeph">sales2-server</code>. If <code class="codeph">sales1-server</code> fails after the connection, then Oracle Net fails over to <code class="codeph">sales2-server</code>, preserving any <code class="codeph">SELECT</code> statements in progress. Similarly, Oracle Net preconnects to <code class="codeph">sales1-server</code> for those clients that use <code class="codeph">sales2.us.example.com</code> to connect to the listener on <code class="codeph">sales2-server</code>.
                        </p><pre class="oac_no_warn" dir="ltr">sales1.us.example.com=
 (DESCRIPTION=
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales1-server)  
       (PORT=1521)) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     (INSTANCE_NAME=sales1) 
     <span class="bold">(FAILOVER_MODE=</span>
       <span class="bold">(BACKUP=sales2.us.example.com)</span> 
       <span class="bold">(TYPE=select) </span>
       <span class="bold">(METHOD=preconnect))</span>))
sales2.us.example.com=
 (DESCRIPTION=
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales2-server)  
       (PORT=1521)) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     (INSTANCE_NAME=sales2)
     <span class="bold">(FAILOVER_MODE=</span>
       <span class="bold">(BACKUP=sales1.us.example.com)</span> 
       <span class="bold">(TYPE=select) </span>
       <span class="bold">(METHOD=preconnect))</span>))</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-466CD611-155F-4DD6-9E6C-0A8E6A58B796">Implementing Transparent Application Failover</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="NETAG352"></a><div class="sect3"><a id="GUID-2DACA598-A593-4283-BAD2-7406C56CC146" name="GUID-2DACA598-A593-4283-BAD2-7406C56CC146"></a><h4 id="NETAG-GUID-2DACA598-A593-4283-BAD2-7406C56CC146" class="sect4"><span class="enumeration_section">13.3.5 </span>Verifying Transparent Application Failover
                  </h4>
                  <div>
                     <p>You can query the FAILOVER_TYPE, FAILOVER_METHOD, and FAILED_OVER columns in the V$SESSION view to verify that TAF is correctly configured. To view the columns, use a query similar to the following: </p><pre class="oac_no_warn" dir="ltr">SELECT MACHINE, FAILOVER_TYPE, FAILOVER_METHOD, FAILED_OVER, COUNT(*)
FROM V$SESSION
GROUP BY MACHINE, FAILOVER_TYPE, FAILOVER_METHOD, FAILED_OVER;
</pre><p>The output before failover looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">MACHINE              FAILOVER_TYPE FAILOVER_METHOD FAILED_OVER   COUNT(*)
-------------------- ------------- ----------      ---           ----------
sales1               NONE          NONE            NO            11
sales2               SELECT        PRECONNECT      NO             1
</pre><p>The output after failover looks similar to the following: </p><pre class="oac_no_warn" dir="ltr">MACHINE              FAILOVER_TYPE FAILOVER_METHOD FAILED_OVER   COUNT(*)
-------------------- ------------- ----------      ---           ----------
sales2               NONE          NONE            NO            10
sales2               SELECT        PRECONNECT      YES            1</pre><p></p>
                     <div class="infoboxnote" id="GUID-2DACA598-A593-4283-BAD2-7406C56CC146__GUID-9512CA75-49C8-4E76-9B53-5AAF90C064C3">
                        <p class="notep1">Note:</p>
                        <p>You can monitor each step of TAF using an appropriately configured <code class="codeph">OCI TAF CALLBACK</code> function. 
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2DACA598-A593-4283-BAD2-7406C56CC146__GUID-47E38FBB-239E-42ED-A796-8D4ECF55F258">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../lnoci/high-availability-in-oci.html#LNOCI-GUID-F7817CD2-4A2C-4D37-BD36-56DBABD4725F" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a></p>
                           </li>
                           <li>
                              <p><a href="../refrn/V-SESSION.html#REFRN30223" target="_blank"><span class="italic">Oracle Database Reference</span></a> for additional information about the <a id="d38386e3080" class="indexterm-anchor"></a>V$SESSION view
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-8F532535-C401-4B51-BE0B-04FD74BB0621">Configuring Transparent Application Failover</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="NETAG1594"></a><a id="NETAG1184"></a><a id="NETAG1185"></a><a id="NETAG1186"></a><a id="NETAG353"></a><div class="sect2"><a id="GUID-64F8244D-530A-41ED-AB80-3B27F271CD01" name="GUID-64F8244D-530A-41ED-AB80-3B27F271CD01"></a><h3 id="NETAG-GUID-64F8244D-530A-41ED-AB80-3B27F271CD01" class="sect3"><span class="enumeration_section">13.4 </span>Specifying the Instance Role for Primary and Secondary Instance Configurations
               </h3>
               <div>
                  <p>The INSTANCE_ROLE<a id="d38386e3173" class="indexterm-anchor"></a><a id="d38386e3175" class="indexterm-anchor"></a> parameter is an optional parameter for the CONNECT_DATA section of a connect descriptor. It enables you to specify a connection to the primary or secondary instance of Oracle RAC configurations. 
                  </p>
                  <p>This parameter is useful when:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You want to explicitly connect to a primary or secondary instance. The default is the primary instance.</p>
                     </li>
                     <li>
                        <p>You want to use TAF to preconnect to a secondary instance.</p>
                     </li>
                  </ul>
                  <p><a href="enabling-advanced-features.html#GUID-64F8244D-530A-41ED-AB80-3B27F271CD01__CEGCCJGC" title="INSTANCE_ROLE parameters">Table 13-5</a> describes the INSTANCE_ROLE parameters.
                  </p>
                  <div class="tblformal" id="GUID-64F8244D-530A-41ED-AB80-3B27F271CD01__CEGCCJGC">
                     <p class="titleintable">Table 13-5 INSTANCE_ROLE Parameters</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="INSTANCE_ROLE Parameters" summary="INSTANCE_ROLE parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d38386e3207">INSTANCE_ROLE Parameter</th>
                              <th align="left" valign="bottom" width="69%" id="d38386e3210">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d38386e3215" headers="d38386e3207 ">
                                 <p>PRIMARY</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d38386e3215 d38386e3210 ">
                                 <p>Specifies a connection to the primary instance.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d38386e3222" headers="d38386e3207 ">
                                 <p>SECONDARY</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d38386e3222 d38386e3210 ">
                                 <p>Specifies a connection to the secondary instance.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d38386e3229" headers="d38386e3207 ">
                                 <p>ANY</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d38386e3229 d38386e3210 ">
                                 <p>Specifies a connection to whichever instance has the lowest load, regardless of primary or secondary instance role.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-64F8244D-530A-41ED-AB80-3B27F271CD01__GUID-B53E7B23-B74E-4355-833A-1C14A0692B46">Connection to Instance Role Type</p>
                  </div>
                  <!-- class="section" -->
                  <p>In the following example of the <code class="codeph">tnsnames.ora</code> file, network service name <code class="codeph">sales_primary</code> enables connections to the primary instance, and network service name <code class="codeph">sales_secondary</code> enables connections to the secondary instance.
                  </p><pre class="oac_no_warn" dir="ltr">sales_primary=
 (DESCRIPTION=
  (ADDRESS_LIST=
    (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales1-server)  
       (PORT=1521)) 
    (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales2-server)  
       (PORT=1521))) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     <span class="bold">(INSTANCE_ROLE=primary)</span>))
sales_secondary=
 (DESCRIPTION=
  (ADDRESS_LIST=
    (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales1-server)  
       (PORT=1521)) 
    (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales2-server)  
       (PORT=1521))) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     <span class="bold">(INSTANCE_ROLE=secondary)</span>))</pre><div class="section">
                     <p class="subhead2" id="GUID-64F8244D-530A-41ED-AB80-3B27F271CD01__GUID-168D471D-B4D6-4BF0-ADBF-833D2750916C">Connection to a Specific Instance</p>
                  </div>
                  <!-- class="section" -->
                  <p>There are times when Oracle Enterprise Manager Cloud Control and other system management products need to connect to a specific instance regardless of its role to perform administrative tasks. For these types of connections, configure (<code class="codeph">INSTANCE_NAME=</code><span class="italic"><code class="codeph">instance_name</code></span><code class="codeph">)</code> and (<code class="codeph">INSTANCE_ROLE=any)</code> to connect to the instance regardless of its role.
                  </p>
                  <p>In the following example, network service name <code class="codeph">sales1</code> enables connections to the instance on <code class="codeph">sales1-server</code> and <code class="codeph">sales2</code> enables connections to the instance on <code class="codeph">sales2-server</code>. <code class="codeph">(SERVER=dedicated)</code> is specified to force a dedicated server connection. 
                  </p><pre class="oac_no_warn" dir="ltr">sales1=
 (DESCRIPTION=
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales1-server)  
       (PORT=1521)) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     <span class="bold">(INSTANCE_ROLE=any)</span>
     (INSTANCE_NAME=sales1)
     <span class="bold"><code class="codeph">(SERVER=dedicated)</code></span>))
sales2=
 (DESCRIPTION=
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales2-server)  
       (PORT=1521)) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     <span class="bold">(INSTANCE_ROLE=any)</span>
     (INSTANCE_NAME=sales2)
     <span class="bold"><code class="codeph">(SERVER=dedicated)</code></span>))</pre><div class="infoboxnote" id="GUID-64F8244D-530A-41ED-AB80-3B27F271CD01__GUID-6BE995F8-B2A7-4889-9317-AA782F6C4731">
                     <p class="notep1">Note:</p>
                     <p>Failover is incompatible with the preceding settings.</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-64F8244D-530A-41ED-AB80-3B27F271CD01__GUID-0745013D-2C14-4022-B94A-0EBC3469E0C0">TAF Pre-establishing a Connection</p>
                  </div>
                  <!-- class="section" -->
                  <p>If TAF is configured, then a backup connection can be pre-established to the secondary instance. The initial and backup connections must be explicitly specified. In the following example, Oracle Net connects to the listener on <code class="codeph">sales1-server</code> and preconnects to <code class="codeph">sales2-server</code>, the secondary instance. If <code class="codeph">sales1-server</code> fails after the connection, then the TAF application fails over to <code class="codeph">sales2-server</code>, the secondary instance, preserving any <code class="codeph">SELECT</code> statements in progress.
                  </p><pre class="oac_no_warn" dir="ltr">sales1.example.com=
 (DESCRIPTION=
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales1-server)  
       (PORT=1521)) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     <span class="bold">(INSTANCE_ROLE=primary) </span>
     <span class="bold"><code class="codeph">(FAILOVER_MODE=</code></span>
       <span class="bold"><code class="codeph">(BACKUP=sales2.example.com) </code></span>
       <span class="bold"><code class="codeph">(TYPE=select)</code></span>
       <span class="bold"><code class="codeph">(METHOD=preconnect))</code></span>))
sales2.example.com=
 (DESCRIPTION=
  (ADDRESS=
       (PROTOCOL=tcp)  
       (HOST=sales2-server)  
       (PORT=1521)) 
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com) 
     <span class="bold">(INSTANCE_ROLE=secondary)</span>))</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F">Enabling Advanced Features of Oracle Net Services</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETAG1590"></a><a id="NETAG1591"></a><a id="NETAG1589"></a><div class="sect2"><a id="GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F" name="GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F"></a><h3 id="NETAG-GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F" class="sect3"><span class="enumeration_section">13.5 </span>Understanding Static Service Registration 
               </h3>
               <div>
                  <p>The listener uses the dynamic service information about the database and instance before using statically configured information in the <code class="codeph">listener.ora</code> file. Configuration of static service information is necessary in the following cases: 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Use of external procedure calls</p>
                     </li>
                     <li>
                        <p>Use of Oracle Heterogeneous Services</p>
                     </li>
                     <li>
                        <p>Use of Oracle Data Guard</p>
                     </li>
                     <li>
                        <p>Remote database startup from a tool other than Oracle Enterprise Manager Cloud Control</p>
                     </li>
                     <li>
                        <p>Connections to Oracle databases earlier than Oracle8<span class="italic">i</span> release 2 (8.1)
                        </p>
                     </li>
                  </ul>
                  <p><a href="enabling-advanced-features.html#GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F__CEGIHJEE">Example 13-1</a> shows a <code class="codeph">listener.ora </code>file configured for static service registration. The LISTENER entry defines the listening protocol address for a listener named Listener, and the <a id="d38386e3464" class="indexterm-anchor"></a>SID_LIST_LISTENER entry provides information about the external services statically supported by the Listener listener.
                  </p>
                  <div class="example" id="GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F__CEGIHJEE">
                     <p class="titleinexample">Example 13-1 Example listener.ora File</p><pre class="oac_no_warn" dir="ltr"><span class="bold">LISTENER</span>=
  (DESCRIPTION=
    (ADDRESS_LIST=
      (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
      (ADDRESS=(PROTOCOL=ipc)(KEY=extproc) (queuesize=50))))
<span class="bold">SID_LIST_listener</span>=
  (SID_LIST=
    (SID_DESC=
      (SID_NAME=plsextproc)
      (ORACLE_HOME=/oracle8)
      (PROGRAM=extproc)))
</pre></div>
                  <!-- class="example" -->
                  <p>The SID_LIST_<span class="italic">listener_name</span> parameter setting in the <code class="codeph">listener.ora</code> file specifies information about the databases served by the listener. When services are configured statically, a listener starts a dedicated server process when it receives a client request. If the instance is not up, then the server returns an <code class="codeph">Oracle not available</code> error message. 
                  </p>
                  <p>If a database cannot find the listener, then configure the <code class="codeph">listener.ora</code> file with the <a id="d38386e3496" class="indexterm-anchor"></a>GLOBAL_DBNAME parameter, as shown in the following example
                  </p><pre class="oac_no_warn" dir="ltr">SID_LIST_listener=
(SID_LIST=
 (SID_DESC=
  (<span class="bold"><code class="codeph">GLOBAL_DBNAME</code></span>=sales.example.com)
  (SID_NAME=sales)
  (ORACLE_HOME=/u01/app/oracle))
</pre><div class="infoboxnote" id="GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F__GUID-C90B3DD4-676F-4AF9-B260-1E338F907652">
                     <p class="notep1">Note:</p>
                     <p>A statically-configured global database name disables TAF.<a id="d38386e3508" class="indexterm-anchor"></a> To use TAF, do not set the GLOBAL_DBNAME parameter in the SID_LIST_<span class="italic">listener_name</span> section of the <code class="codeph">listener.ora</code> file. 
                     </p>
                  </div>
                  <p><a href="enabling-advanced-features.html#GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F__CEGGAGIE" title="Static Service Settings in sqlnet.ora">Table 13-6</a> describes static service settings in the <code class="codeph">listener.ora</code> file.
                  </p>
                  <div class="tblformalwide" id="GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F__CEGGAGIE">
                     <p class="titleintable">Table 13-6 Static Service Settings in listener.ora</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Static Service Settings in listener.ora" summary="Static Service Settings in sqlnet.ora" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d38386e3539">Oracle Net Manager Field</th>
                              <th align="left" valign="bottom" width="21%" id="d38386e3542">listener.ora File Parameter</th>
                              <th align="left" valign="bottom" width="61%" id="d38386e3545">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d38386e3550" headers="d38386e3539 ">
                                 <p><a id="d38386e3552" class="indexterm-anchor"></a><a id="d38386e3554" class="indexterm-anchor"></a>SID
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d38386e3550 d38386e3542 ">
                                 <p><a id="d38386e3563" class="indexterm-anchor"></a><a id="d38386e3565" class="indexterm-anchor"></a>SID_NAME
                                 </p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d38386e3550 d38386e3545 ">
                                 <p>The <a id="d38386e3575" class="indexterm-anchor"></a><a id="d38386e3577" class="indexterm-anchor"></a><a id="d38386e3583" class="indexterm-anchor"></a><a id="d38386e3585" class="indexterm-anchor"></a><a href="glossary.html#GUID-8747716F-4706-44ED-B15F-046D1691CA72"><span class="xrefglossterm">Oracle system identifier (SID)</span></a> of the instance. You can obtain the SID value from the INSTANCE_NAME parameter in the initialization parameter file. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d38386e3596" headers="d38386e3539 ">
                                 <p><a id="d38386e3598" class="indexterm-anchor"></a><a id="d38386e3600" class="indexterm-anchor"></a>Service Name
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d38386e3596 d38386e3542 ">
                                 <p><a id="d38386e3609" class="indexterm-anchor"></a><a id="d38386e3611" class="indexterm-anchor"></a>GLOBAL_DBNAME
                                 </p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d38386e3596 d38386e3545 ">
                                 <p>The database service.</p>
                                 <p>While processing a client connection request, the listener tries to match the value of this parameter with the value of the SERVICE_NAME parameter in the client connect descriptor. If the client connect descriptor uses the SID parameter, then the listener does not attempt to map the values. This parameter is primarily intended for configurations with Oracle8 databases (where dynamic service registration is not supported for dedicated servers). This parameter may also be required for use with Oracle8<span class="italic">i</span> and later database services by some configurations.
                                 </p>
                                 <p>The value for this parameter is typically obtained from the combination of the DB_NAME and DB_DOMAIN parameters (DB_NAME.DB_DOMAIN) in the initialization parameter file, but the value can also contain any valid name used by clients to identify the service.</p>
                                 <p>When using a connect descriptor with a SERVICE_NAME parameter, ensure that any SID_DESC entry does not have the value <code class="codeph">GLOBAL_DBNAME</code>. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d38386e3634" headers="d38386e3539 ">
                                 <p><a id="d38386e3636" class="indexterm-anchor"></a><a id="d38386e3638" class="indexterm-anchor"></a>Oracle Home Directory
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d38386e3634 d38386e3542 ">
                                 <p><a id="d38386e3647" class="indexterm-anchor"></a><a id="d38386e3649" class="indexterm-anchor"></a>ORACLE_HOME
                                 </p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d38386e3634 d38386e3545 ">
                                 <p>The Oracle home location of the instance. Without this setting, the listener assumes its Oracle home for the instance.</p>
                                 <p>On Linux and UNIX, this setting is optional. </p>
                                 <p>On Microsoft Windows, this setting is ignored. The Oracle home specified by the ORACLE_HOME parameter in <code class="codeph">HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE\HOME</code><span class="italic"><code class="codeph">ID</code></span> of the Microsoft Windows registry is used.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d38386e3670" headers="d38386e3539 ">
                                 <p>Not applicable</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d38386e3670 d38386e3542 ">
                                 <p>SID_LIST_<span class="italic">listener_name</span></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d38386e3670 d38386e3545 ">
                                 <p>The section of the <code class="codeph">listener.ora</code> file that defines the database served by the listener. 
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-E850457F-60EC-4BCB-B4EC-53A97E0A3919">Configuring Static Registration for the Listener</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F">Enabling Advanced Features of Oracle Net Services</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG1592"></a><div class="sect3"><a id="GUID-E850457F-60EC-4BCB-B4EC-53A97E0A3919" name="GUID-E850457F-60EC-4BCB-B4EC-53A97E0A3919"></a><h4 id="NETAG-GUID-E850457F-60EC-4BCB-B4EC-53A97E0A3919" class="sect4"><span class="enumeration_section">13.5.1 </span>Configuring Static Registration for the Listener
                  </h4>
                  <div>
                     <p>The following procedure describes how to statically configure the listener:</p>
                     <div class="infoboxnote" id="GUID-E850457F-60EC-4BCB-B4EC-53A97E0A3919__GUID-E5931323-914C-4E69-9D64-5606440A7DC4">
                        <p class="notep1">Note:</p>
                        <p><a id="d38386e3749" class="indexterm-anchor"></a>If you are <a id="d38386e3754" class="indexterm-anchor"></a><a id="d38386e3758" class="indexterm-anchor"></a>using connect-time failover or TAF, such as in an Oracle Real Application Clusters environment, then do not set the GLOBAL_DBNAME parameter. 
                        </p>
                     </div>
                     <ol>
                        <li>
                           <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                           <div class="infoboxnotealso" id="GUID-E850457F-60EC-4BCB-B4EC-53A97E0A3919__GUID-5B5B1C24-BD81-4A29-A6D0-9467C06B0FC7">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-697E4B64-854C-49BB-B287-C2B4C57F987F">Using Oracle Enterprise Manager Cloud Control to Configure Oracle Net Services</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>Select<span class="bold"> Listeners</span> from the Administer list, and then select the Oracle home that contains the configuration files.
                           </p>
                        </li>
                        <li>
                           <p>Click <span class="bold">Go</span>. You may be prompted to log in to the database server.
                           </p>
                           <p>The Listeners page appears.</p>
                        </li>
                        <li>
                           <p>Select a listener, and then click <span class="bold">Edit</span>.
                           </p>
                           <p>The Edit Listener page appears.</p>
                        </li>
                        <li>
                           <p>Click the <span class="bold">Static Database Registration</span> tab, and then click <span class="bold">Add</span>.
                           </p>
                           <p>The Add Database Service page appears. Enter the required information in the fields. </p>
                        </li>
                        <li>
                           <p>Click <span class="bold">OK</span>.
                           </p>
                           <div class="infoboxnote" id="GUID-E850457F-60EC-4BCB-B4EC-53A97E0A3919__GUID-200E7B9D-DCD1-463F-8E33-5DD219F2F9C1">
                              <p class="notep1">Note:</p>
                              <p>You can also configure static service information with Oracle Net Manager. See <span class="bold">Statically Configure Database Service Information</span> in the online help for additional information.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E850457F-60EC-4BCB-B4EC-53A97E0A3919__GUID-2D855FC6-D152-40B5-8EA5-7F483848EE95">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="configuring-and-administering-oracle-net-listener.html#GUID-A7F49477-1F13-49E7-9B23-9A50A4627862">Configuring Dynamic Service Registration</a>"</span> for additional information about configuring dynamic service registration Oracle Databases
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-0203C8FA-A4BE-44A5-9A25-3D1E578E879F">Understanding Static Service Registration</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="NETAG888"></a><div class="sect2"><a id="GUID-9E45CE8B-BCAB-407D-8F8E-14A05036BC3D" name="GUID-9E45CE8B-BCAB-407D-8F8E-14A05036BC3D"></a><h3 id="NETAG-GUID-9E45CE8B-BCAB-407D-8F8E-14A05036BC3D" class="sect3"><span class="enumeration_section">13.6 </span>Configuring Connections to Third-Party Database Services
               </h3>
               <div>
                  <p>The following topics describe how to configure connections to third-party database services:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB">Default Configuration for External Procedures</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-AD068B69-6790-4699-A710-A22C3482AE4B">About Oracle Net Services for Oracle Heterogeneous Services</a><br></li>
                     <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-647A53C5-A519-47D5-A879-F178246B1010">Configuring Oracle Net Services for an Oracle Rdb Database</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F">Enabling Advanced Features of Oracle Net Services</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG1189"></a><a id="NETAG0132"></a><div class="sect3"><a id="GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB" name="GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB"></a><h4 id="NETAG-GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB" class="sect4"><span class="enumeration_section">13.6.1 </span>Default Configuration for External Procedures 
                  </h4>
                  <div>
                     <p>An <a id="d38386e3957" class="indexterm-anchor"></a><a href="glossary.html#GUID-EFD64542-6B81-4634-A0E1-CE819AEF558E"><span class="xrefglossterm">external procedure</span></a><a id="d38386e3964" class="indexterm-anchor"></a><a id="d38386e3968" class="indexterm-anchor"></a><a id="d38386e3972" class="indexterm-anchor"></a><a id="d38386e3976" class="indexterm-anchor"></a> is a procedure called from another program, written in a different language. An example would be a PL/SQL program calling one or more C routines that are required to perform special-purpose processing. 
                     </p>
                     <p>When an application calls an external procedure<a id="d38386e3983" class="indexterm-anchor"></a>, Oracle Database starts an external procedure agent named <a id="d38386e3988" class="indexterm-anchor"></a><a id="d38386e3990" class="indexterm-anchor"></a>extproc. Using the network connection established by Oracle Database, the application passes the following information to the agent:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>DLL or shared library name </p>
                        </li>
                        <li>
                           <p>External procedure name </p>
                        </li>
                        <li>
                           <p>Any parameters </p>
                        </li>
                     </ul>
                     <p>The agent then loads the DLL or the shared library, and runs the external procedure and passes back to the application any values returned by the external procedure. The agent must reside on the same computer as the application making the external procedure call.</p>
                     <p>When you use the default configuration for external procedures, the <code class="codeph">extproc</code> agent is spawned directly by Oracle Database. There are no configuration changes required for either the <code class="codeph">listener.ora</code> or <code class="codeph">tnsnames.ora</code> file. However, you must define the environment variables to be used by external procedures in the <code class="codeph">extproc.ora</code> file located in the <code class="codeph">ORACLE_HOME/hs/admin</code> directory. If the default configuration for external procedures is not used, then the parameters listed in <a href="enabling-advanced-features.html#GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__G508505" title="External Procedures Settings in listener.ora">Table 13-7</a> must be set.
                     </p>
                     <div class="tblformalwide" id="GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__G508505">
                        <p class="titleintable">Table 13-7 External Procedures Settings in listener.ora</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="External Procedures Settings in listener.ora" summary="External Procedures Settings in listener.ora" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d38386e4041">Oracle Enterprise Manager Cloud Control Field</th>
                                 <th align="left" valign="bottom" width="16%" id="d38386e4044">listener.ora Parameter</th>
                                 <th align="left" valign="bottom" width="62%" id="d38386e4047">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d38386e4052" headers="d38386e4041 ">
                                    <p><a id="d38386e4054" class="indexterm-anchor"></a><a id="d38386e4056" class="indexterm-anchor"></a>Program Name
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d38386e4052 d38386e4044 ">
                                    <p><a id="d38386e4065" class="indexterm-anchor"></a><a id="d38386e4067" class="indexterm-anchor"></a>PROGRAM
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d38386e4052 d38386e4047 ">
                                    <p>The name of the external procedure agent executable. </p>
                                    <p><span class="bold">Note:</span> On Microsoft Windows, the executable must reside in the <code class="codeph">ORACLE_HOME\bin</code> directory.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d38386e4085" headers="d38386e4041 ">
                                    <p><a id="d38386e4087" class="indexterm-anchor"></a><a id="d38386e4089" class="indexterm-anchor"></a>Environment Variables
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d38386e4085 d38386e4044 ">
                                    <p><a id="d38386e4098" class="indexterm-anchor"></a><a id="d38386e4100" class="indexterm-anchor"></a>ENVS
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d38386e4085 d38386e4047 ">
                                    <p>The environment variables to be used by external procedures in the <code class="codeph">extproc.ora</code> file located in the <code class="codeph">ORACLE_HOME/hs/admin</code> directory.
                                    </p>
                                    <p><span class="bold">Note:</span> When <code class="codeph">extproc.ora</code> is in use, it precedes the same environment variables of <code class="codeph">ENVS</code> in <code class="codeph">listener.ora</code>.
                                    </p>
                                    <p><span class="bold">Syntax:</span> <code class="codeph">SET </code><span class="italic"><code class="codeph">name=</code></span><span class="italic"><code class="codeph">value</code></span></p>
                                    <p><span class="bold">Example:</span> <code class="codeph">SET EXTPROC_DLLS=ANY</code></p>
                                    <p>Specify the <a id="d38386e4149" class="indexterm-anchor"></a>EXTPROC_DLLS environment variable to restrict the DLLs that the extproc agent is allowed to load. Without the EXTPROC_DLLS environment variable, the extproc agent loads DLLs from the <code class="codeph">ORACLE_HOME/lib</code> directory on UNIX operating systems and the <code class="codeph">ORACLE_HOME\bin</code> directory on Microsoft Windows. 
                                    </p>
                                    <p>Set EXTPROC_DLLS to one of the following values:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>Colon-separated list of DLLs<a id="GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__CEGIAGDJ" name="GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__CEGIAGDJ" href="#GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__CEGIAGDJ" onclick="footdisplay(1, "The DLLs are separated by semi-colons (;) on Microsoft Windows.")"><sup>Foot&nbsp;1</sup></a></p>
                                          <p><span class="bold">Syntax:</span> <code class="codeph">"</code><span class="italic"><code class="codeph">DLL</code></span><code class="codeph">:</code><span class="italic"><code class="codeph">DLL</code></span><code class="codeph">"</code></p>
                                          <p>This value allows the extproc agent to load the specified DLLs and the DLLs from the <code class="codeph">ORACLE_HOME/lib</code> directory on UNIX operating systems and the <code class="codeph">ORACLE_HOME\bin</code> directory on Microsoft Windows. You must enter the complete directory path and file name of the DLLs. 
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">ONLY </code>(Recommended for maximum security)<a id="fnsrc_d38386e4196" name="fnsrc_d38386e4196" href="#fnsrc_d38386e4196" onclick="footdisplay(1, "The DLLs are separated by semi-colons (;) on Microsoft Windows.")"><sup>Footref&nbsp;1</sup></a></p>
                                          <p><span class="bold">Syntax:</span> <code class="codeph">"ONLY:</code><span class="italic"><code class="codeph">DLL</code></span><code class="codeph">:</code><span class="italic"><code class="codeph">DLL</code></span><code class="codeph">"</code></p>
                                          <p>This value allows the extproc agent to load only the specified DLLs. You must enter the complete directory path and file name of the DLLs. </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">ANY</code></p>
                                          <p><span class="bold">Syntax:</span> <code class="codeph">"ANY"</code></p>
                                          <p><span class="bold">Description:</span> This value allows the extproc agent to load any DLL. <code class="codeph">ANY</code> disables DLL checking.
                                          </p>
                                       </li>
                                    </ul>
                                    <p><span class="bold">Examples: </span></p><pre class="oac_no_warn" dir="ltr">"EXTPROC_DLLS=/home/xyz/mylib.so:/home/abc/urlib.so,
LD_LIBRARY_PATH=/private/xpm/lib:/private/mylibs, 
MYPATH=/usr/ucb:/usr/local/packages,APL_ENV_FILE=/apl/conf/env.txt"

"EXTPROC_DLLS=ONLY:/home/xyz/mylib.so:/home/abc/urlib.so,
LD_LIBRARY_PATH=/private/xpm/lib:/private/mylibs, 
MYPATH=/usr/ucb:/usr/local/packages,APL_ENV_FILE=/apl/conf/env.txt"

"EXTPROC_DLLS=ANY,LD_LIBRARY_PATH=/private/xpm/lib:/private/mylibs, 
MYPATH=/usr/ucb:/usr/local/packages,APL_ENV_FILE=/apl/conf/env.txt"</pre><div class="infoboxnote" id="GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__GUID-B1949C7E-B3C6-4435-AA5E-71437932B432">
                                       <p class="notep1">Note:</p>If effective user and real user, or effective group and real group are different, then<code class="codeph"> LD_LIBRARY_PATH </code>environment setting is ignored.
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d38386e4244" headers="d38386e4041 ">
                                    <p><a id="d38386e4246" class="indexterm-anchor"></a><a id="d38386e4248" class="indexterm-anchor"></a>Oracle Home Directory
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d38386e4244 d38386e4044 ">
                                    <p><a id="d38386e4257" class="indexterm-anchor"></a><a id="d38386e4259" class="indexterm-anchor"></a>ORACLE_HOME
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d38386e4244 d38386e4047 ">
                                    <p>The Oracle home location of the agent.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d38386e4270" headers="d38386e4041 ">
                                    <p>Oracle System Identifier (<a id="d38386e4273" class="indexterm-anchor"></a><a id="d38386e4275" class="indexterm-anchor"></a>SID)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d38386e4270 d38386e4044 ">
                                    <p><a id="d38386e4284" class="indexterm-anchor"></a><a id="d38386e4286" class="indexterm-anchor"></a>SID_NAME
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d38386e4270 d38386e4047 ">
                                    <p>A system identifier for the external procedure agent by any name. </p>
                                    <p>See the examples in <a href="enabling-advanced-features.html#GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A">Configuring Oracle Net Services for External Procedures</a> for more information about how to work with the external procedure agent spawned by Oracle listener.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1 </sup></p><p>The DLLs are separated by semi-colons (;) on Microsoft Windows.</p>
                     <p></p>
                     <div class="infoboxnote" id="GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__GUID-4A4E3C3C-7F8C-49B8-B266-F3186B7F43D6">
                        <p class="notep1">Note:</p>
                        <p>The default configuration for external procedures does not require a network listener to work with Oracle Database and the <code class="codeph">extproc</code> agent. The <code class="codeph">extproc</code> agent is spawned directly by Oracle Database and eliminates the risks that the <code class="codeph">extproc</code> agent might be spawned by Oracle Listener unexpectedly. This default configuration is recommended for maximum security.
                        </p>
                        <p>You can change the default configuration for external procedures and have the <code class="codeph">extproc</code> agent spawned by Oracle Listener. To do this, you must perform additional network configuration steps.
                        </p>
                        <p>Having the <code class="codeph">extproc</code> agent spawned by Oracle Listener is necessary if you use:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Multi-threaded agent</p>
                           </li>
                           <li>
                              <p>Oracle Database in MTS mode on Microsoft Windows</p>
                           </li>
                           <li>
                              <p>The AGENT clause of the LIBRARY specification or the AGENT IN clause of the PROCEDURE specification such that you can redirect external procedures to a different <code class="codeph">extproc</code> agent.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A">Configuring Oracle Net Services for External Procedures</a><br></li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__GUID-99D8F1EF-1BEE-4E14-AA51-641E93777F32">
                        <p class="notep1">See Also:</p>
                        <p><a href="../dbseg/managing-security-for-application-developers.html#DBSEG656" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for additional information about securing external procedures
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-9E45CE8B-BCAB-407D-8F8E-14A05036BC3D">Configuring Connections to Third-Party Database Services</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="NETAG1187"></a><a id="NETAG1188"></a><a id="NETAG354"></a><div class="sect4"><a id="GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A" name="GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A"></a><h5 id="NETAG-GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A" class="sect5"><span class="enumeration_section">13.6.1.1 </span>Configuring Oracle Net Services for External Procedures
                     </h5>
                     <div>
                        <p>You can change the default configuration for external procedures and have the extproc agent spawned by the listener similar to earlier releases of Oracle Database. Here is the process:</p>
                        <p>1. Configure an existing listener or create a new listener to serve external procedures.</p>
                        <p><a href="enabling-advanced-features.html#GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A__CEGGJBFC">Example 13-2</a> shows a sample configuration in the <code class="codeph">listener.ora</code> file.
                        </p>
                        <div class="example" id="GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A__CEGGJBFC">
                           <p class="titleinexample">Example 13-2 listener.ora File with an External Procedure</p><pre class="oac_no_warn" dir="ltr">LISTENER=
  (DESCRIPTION=
    (ADDRESS_LIST=
      (ADDRESS=(PROTOCOL=tcp)(HOST=sale-server)(PORT=1521))
      <span class="bold">(ADDRESS=(PROTOCOL=ipc)(KEY=extproc)</span>)))
SID_LIST_LISTENER=
  (SID_LIST=
    (SID_DESC=
      (GLOBAL_DBNAME=sales.us.example.com)
      (ORACLE_HOME=/oracle)
      (SID_NAME=sales))
    (SID_DESC=
      (SID_NAME=plsextproc)
      (ORACLE_HOME=/oracle)
      (PROGRAM=extproc)))
</pre></div>
                        <!-- class="example" -->
                        <p>2. Add a new entry in <code class="codeph">tnsnames.ora</code>.
                        </p>
                        <p><a href="enabling-advanced-features.html#GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A__CEGBICIC">Example 13-3</a> shows a sample configuration in the <code class="codeph">tnsnames.ora</code> file.
                        </p>
                        <div class="example" id="GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A__CEGBICIC">
                           <p class="titleinexample">Example 13-3 tnsnames.ora File with an External Procedure</p><pre class="oac_no_warn" dir="ltr">EXTPROC_CONNECTION_DATA_1=            
 (DESCRIPTION=                     
   (ADDRESS=(PROTOCOL=ipc)<span class="bold"><code class="codeph">(KEY=extproc)</code></span>)                      
   (CONNECT_DATA=
    <span class="bold"><code class="codeph">(SID=plsextproc)</code></span>))
</pre></div>
                        <!-- class="example" -->
                        <p>3. Use <code class="codeph">AGENT</code> clause of the <code class="codeph">LIBRARY</code> specification or <code class="codeph">AGENT IN</code> clause of the <code class="codeph">PROCEDURE</code> specification such that you can redirect external procedures to a different <code class="codeph">extproc</code> agent (for example, <code class="codeph">extproc</code> spawned by Oracle listener).
                        </p><pre class="pre codeblock"><code>$ cat test.c

#include &lt;stdlib.h&gt;
int negative(char* db, int n)
{
        return -1*n;
}

char* mygetenv(const char* env)
{
        return getenv(env);
}

$ gcc -shared -fPIC -o test.so test.c

$ cp test.so $ORACLE_HOME/lib
</code></pre><p>In <code class="codeph">SQL*PLUS</code>, run:
                        </p><pre class="pre codeblock"><code>
DROP DATABASE LINK extproclink;
CREATE DATABASE LINK extproclink USING 'extproc_connection_data_1';

CREATE OR REPLACE LIBRARY test1 AS '$ORACLE_HOME/lib/test.so';
/

-- 
-- Use 'AGENT' clause in LIBRARY SPEC
-- 
CREATE OR REPLACE LIBRARY test2 AS '$ORACLE_HOME/lib/test.so' AGENT 'extproclink';
/

-- 
-- Use 'AGENT IN' clause in FUNCTION
-- 
CREATE OR REPLACE FUNCTION ftest1(x VARCHAR2, y BINARY_INTEGER)
RETURN BINARY_INTEGER
AS LANGUAGE C
LIBRARY test1
NAME "negative"
PARAMETERS(x STRING, y INT)
AGENT IN ( x );
/

CREATE OR REPLACE FUNCTION ftest2(x VARCHAR2)
RETURN VARCHAR2
AS LANGUAGE C
LIBRARY test2
NAME "mygetenv";
/

$ select ftest1('extproclink', 123) from dual;

$ select ftest2('LD_LIBRARY_PATH') from dual;</code></pre><p>The listener for external procedures should have a user account that does not have general access to the files owned by the <code class="codeph">oracle</code> user. Specifically, this user should not have permission to read or write to database files or to the Oracle server address space. In addition, this user should have read access to the <code class="codeph">listener.ora</code> file, but must not have write access to it.
                        </p>
                        <p>Running the listener with lower privileges also prevents using the Listener Control <code class="codeph">SET</code> commands to alter the configuration of the listener in the <code class="codeph">listener.ora</code> file. For this reason, Oracle recommends that you complete <code class="codeph">listener.ora</code> file configuration before running the listener.
                        </p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-55464AA2-686D-43C3-8BA3-DF539AE03CA1">Modifying the Default Configuration for External Procedures</a><br></li>
                           <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-80C459B1-4D97-4A90-ABA6-2252895442DA">Creating a New Listener to Run External Procedures</a><br></li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB">Default Configuration for External Procedures</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="NETAG1473"></a><div class="sect5"><a id="GUID-55464AA2-686D-43C3-8BA3-DF539AE03CA1" name="GUID-55464AA2-686D-43C3-8BA3-DF539AE03CA1"></a><h6 id="NETAG-GUID-55464AA2-686D-43C3-8BA3-DF539AE03CA1" class="sect6"><span class="enumeration_section">13.6.1.1.1 </span>Modifying the Default Configuration for External Procedures 
                        </h6>
                        <div>
                           <p><a id="d38386e4566" class="indexterm-anchor"></a><a id="d38386e4572" class="indexterm-anchor"></a>To modify the default configuration for external procedures, configure and run a separate or existing listener to serve external procedures. The following procedure describes how to modify the default configuration:
                           </p>
                           <ol>
                              <li>
                                 <p>Configure an existing listener to serve external procedures using Oracle Net Configuration Assistant as follows. For most installation types, this listener is named <code class="codeph">LISTENER</code>.
                                 </p>
                                 <ol type="a">
                                    <li>
                                       <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                                    </li>
                                    <li>
                                       <p>Select<span class="bold"> Listeners</span> from the Administer list, and then select the Oracle home that contains the location of the configuration files.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Go</span>. 
                                       </p>
                                       <p>The Listeners page appears.</p>
                                    </li>
                                    <li>
                                       <p>Select the existing listener created by Oracle Net Configuration Assistant, and then click <span class="bold">Edit</span>.
                                       </p>
                                       <p>The Edit Listeners page appears.</p>
                                    </li>
                                    <li>
                                       <p>In the Addresses section, select the protocol address for external procedures, and then click <span class="bold">Add</span>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Click the <span class="bold">Other Services</span> tab.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Select the row representing the service information for external procedures, and then click <span class="bold">Add</span>.
                                       </p>
                                    </li>
                                 </ol>
                              </li>
                              <li>
                                 <p>Add service information about the extproc agent in the <code class="codeph">listener.ora</code> file, including the parameters described in <a href="enabling-advanced-features.html#GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__G508505" title="External Procedures Settings in listener.ora">Table 13-7</a>.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A">Configuring Oracle Net Services for External Procedures</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="NETAG1474"></a><div class="sect5"><a id="GUID-80C459B1-4D97-4A90-ABA6-2252895442DA" name="GUID-80C459B1-4D97-4A90-ABA6-2252895442DA"></a><h6 id="NETAG-GUID-80C459B1-4D97-4A90-ABA6-2252895442DA" class="sect6"><span class="enumeration_section">13.6.1.1.2 </span>Creating a New Listener to Run External Procedures
                        </h6>
                        <div>
                           <p>To configure and run a separate listener to serve external procedures, create the external procedure entries for a different listener using Oracle Net Configuration Assistant. The following procedure describes how to create a new listener:</p>
                           <ol>
                              <li>
                                 <p>Create a listener to exclusively handle external procedures, as follows:</p>
                                 <ol type="a">
                                    <li>
                                       <p>Navigate to the Listeners page.</p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Create</span>.
                                       </p>
                                       <p>The Create Listener page appears. </p>
                                    </li>
                                    <li>
                                       <p>In the Listener Name field, enter a unique listener name, such as <code class="codeph">LISTENEREXTPROC</code>, in the Listener Name field.
                                       </p>
                                    </li>
                                 </ol>
                              </li>
                              <li>
                                 <p>In the Addresses section, configure an IPC protocol address, as follows: </p>
                                 <ol type="a">
                                    <li>
                                       <p>Click <span class="bold">Add</span>.
                                       </p>
                                       <p>The Add Address page appears.</p>
                                    </li>
                                    <li>
                                       <p>From the Protocol list, select <span class="bold">IPC</span>. 
                                       </p>
                                    </li>
                                    <li>
                                       <p>In the Key field, enter a key value of the extproc agent.</p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">OK</span>.
                                       </p>
                                       <div class="infoboxnotealso" id="GUID-80C459B1-4D97-4A90-ABA6-2252895442DA__GUID-4DE6D66B-0088-4424-B95C-300477DCEA1A">
                                          <p class="notep1">See Also:</p>
                                          <p><span class="q">"<a href="configuring-and-administering-oracle-net-listener.html#GUID-B16FD816-5871-4AD7-86D1-55DDD8531322">Configuring Listening Protocol Addresses</a>"</span> for additional information about configuring listener protocol addresses
                                          </p>
                                       </div>
                                    </li>
                                 </ol>
                              </li>
                              <li>
                                 <p>Add service information about the extproc agent in the <code class="codeph">listener.ora</code> file, including the parameters described in <a href="enabling-advanced-features.html#GUID-8B71CC48-B8F7-4543-915B-87FF6C3E39DB__G508505" title="External Procedures Settings in listener.ora">Table 13-7</a>, as follows:<a id="d38386e4765" class="indexterm-anchor"></a></p>
                                 <ol type="a">
                                    <li>
                                       <p>Click the <span class="bold">Other Services</span> tab.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Add</span>.
                                       </p>
                                       <p>The Create Other Service page appears.</p>
                                    </li>
                                    <li>
                                       <p>Enter the following values in the fields: </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">extproc</code> in the Program Name field.
                                             </p>
                                          </li>
                                          <li>
                                             <p>The Oracle home where the <code class="codeph">extproc</code> executable resides in the Oracle Home Directory field.
                                             </p>
                                          </li>
                                          <li>
                                             <p>System identifier, such as <code class="codeph">extproc</code>, in the SID field.
                                             </p>
                                          </li>
                                       </ul>
                                    </li>
                                    <li>
                                       <p>In the Environment Variables section, click <span class="bold">Add Another Row</span>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Enter the EXTPROC_DLLS environment variable in the Name field, and the directory path and file name of the DLLs in the Value field.</p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">OK</span>.
                                       </p>
                                       <p>The Create Listener page appears.</p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">OK</span> to add the listener.
                                       </p>
                                       <p>The listener is added to the Listeners page.</p>
                                       <p>The <code class="codeph">listener.ora</code> file updates with information for external procedures, as shown in the following output:
                                       </p><pre class="oac_no_warn" dir="ltr">LISTENEREXTPROC=
 (DESCRIPTION=
  (ADDRESS=
     (PROTOCOL=ipc)(KEY=extproc)))
</pre></li>
                                 </ol>
                              </li>
                              <li>
                                 <p>Start the listener for external procedures from a user account with lower privileges than the <code class="codeph">oracle</code> user. 
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-80C459B1-4D97-4A90-ABA6-2252895442DA__GUID-ED1C9CC0-3D62-4C00-8574-BDD3F94BE05B">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="quick-start-oracle-net-services.html#GUID-CE3F16F8-E4AD-45C2-B439-123DC49AB1D3">Starting Oracle Net Listener and the Oracle Database Server</a>"</span> for instructions on using the Listener Control utility <code class="codeph">START</code> command to start the listener
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../adfns/design_basics.html#ADFNS010" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for instruction on enabling external procedure calls
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-CFDD995D-54F5-4CD9-8CA1-345609A0113A">Configuring Oracle Net Services for External Procedures</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div><a id="NETAG0133"></a><div class="sect3"><a id="GUID-AD068B69-6790-4699-A710-A22C3482AE4B" name="GUID-AD068B69-6790-4699-A710-A22C3482AE4B"></a><h4 id="NETAG-GUID-AD068B69-6790-4699-A710-A22C3482AE4B" class="sect4"><span class="enumeration_section">13.6.2 </span>About Oracle Net Services for Oracle Heterogeneous Services
                  </h4>
                  <div>
                     <p><a id="d38386e4940" class="indexterm-anchor"></a>Heterogeneous Services is an integrated component within the Oracle database server, and provides the generic technology for accessing third-party systems from the Oracle database server. Heterogeneous Services enables you to: 
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Use Oracle SQL to transparently access data stored in third-party systems as if the data resides within an Oracle database server.</p>
                        </li>
                        <li>
                           <p>Use Oracle procedure calls to transparently access third-party systems, services, or application programming interfaces (APIs) from your Oracle distributed environment.</p>
                        </li>
                     </ul>
                     <p>While Heterogeneous Services provides the generic technology in the Oracle database server, a Heterogeneous Services agent is required to access a particular third-party system.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="enabling-advanced-features.html#GUID-9A8E2F23-9E7C-4607-8FA3-45A5D9DA9C3C">Configuring Oracle Database to Connect to Agents</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-9E45CE8B-BCAB-407D-8F8E-14A05036BC3D">Configuring Connections to Third-Party Database Services</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="NETAG1587"></a><div class="sect4"><a id="GUID-9A8E2F23-9E7C-4607-8FA3-45A5D9DA9C3C" name="GUID-9A8E2F23-9E7C-4607-8FA3-45A5D9DA9C3C"></a><h5 id="NETAG-GUID-9A8E2F23-9E7C-4607-8FA3-45A5D9DA9C3C" class="sect5"><span class="enumeration_section">13.6.2.1 </span>Configuring Oracle Database to Connect to Agents
                     </h5>
                     <div>
                        <p>To initiate a connection to the third-party system, the Oracle database server starts an agent process through the listener on the gateway. The following procedure describes how to configure the Oracle database server to be able to connect to the agents:</p>
                        <ol>
                           <li>
                              <p><a id="d38386e5020" class="indexterm-anchor"></a><a id="d38386e5022" class="indexterm-anchor"></a>Configure the listener on the gateway to listen for incoming requests from the Oracle database server and spawn Heterogeneous Services agents by configuring the following parameters in the <code class="codeph">listener.ora</code> file:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a id="d38386e5033" class="indexterm-anchor"></a><a id="d38386e5035" class="indexterm-anchor"></a>PROGRAM: The name of the agent executable
                                    </p>
                                 </li>
                                 <li>
                                    <p><a id="d38386e5044" class="indexterm-anchor"></a><a id="d38386e5046" class="indexterm-anchor"></a>ORACLE_HOME: The Oracle home location of the agent executable
                                    </p>
                                 </li>
                                 <li>
                                    <p><a id="d38386e5055" class="indexterm-anchor"></a><a id="d38386e5057" class="indexterm-anchor"></a>SID_NAME: The Oracle system identifier (SID)
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Configure the PROGRAM, ORACLE_HOME, and SID parameters in Oracle Enterprise Manager Cloud Control.</p>
                              <ol type="a">
                                 <li>
                                    <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                                    <div class="infoboxnotealso" id="GUID-9A8E2F23-9E7C-4607-8FA3-45A5D9DA9C3C__GUID-F479F068-0264-48A8-92EF-8A60F6A805D8">
                                       <p class="notep1">See Also:</p>
                                       <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-697E4B64-854C-49BB-B287-C2B4C57F987F">Using Oracle Enterprise Manager Cloud Control to Configure Oracle Net Services</a>"</span></p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>Select<span class="bold"> Listeners</span> from the Administer list, and then select the Oracle home that contains the location of the configuration files.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">Go</span>. 
                                    </p>
                                    <p>The Listeners page appears.</p>
                                 </li>
                                 <li>
                                    <p>Select the listener created by Oracle Net Configuration Assistant, and then click <span class="bold">Edit</span>.
                                    </p>
                                    <p>The Edit Listeners page appears.</p>
                                 </li>
                                 <li>
                                    <p>Click the <span class="bold">Other Services</span> tab.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">Add</span>.
                                    </p>
                                    <p>The Create Other Service page appears.</p>
                                 </li>
                                 <li>
                                    <p>Enter the program name in the Program Name field that will be run to create a gateway, the Oracle home where the agent executable resides in the Oracle Home Directory field, and the Oracle System Identifier (SID) or service name of the third-party system in the SID field.</p>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">OK</span>.
                                    </p>
                                    <p>The Edit Listener page appears.</p>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">OK</span> to modify the listener.
                                    </p>
                                    <p>The Listeners page appears.</p>
                                    <p>The <code class="codeph">listener.ora</code> file updates information about the Heterogeneous Services, as shown in the following:
                                    </p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER=
 (SID_LIST=
<span class="bold">  (SID_DESC=</span>
<span class="bold">   (SID_NAME=sybasegw)</span>
<span class="bold">   (ORACLE_HOME=/oracle12c)</span>
<span class="bold">   (PROGRAM=tg4sybs))</span>)
</pre></li>
                              </ol>
                           </li>
                           <li>
                              <p>On the computer where the Oracle database resides, set up a network service name to connect to the listener on the gateway. The connect descriptor must include the <code class="codeph">HS=ok</code> clause to ensure the connection uses Heterogeneous Services, as follows:
                              </p>
                              <ol type="a">
                                 <li>
                                    <p>Create a network service name that can be used for connections from the Oracle database server to a third-party system. </p>
                                    <div class="infoboxnotealso" id="GUID-9A8E2F23-9E7C-4607-8FA3-45A5D9DA9C3C__GUID-FB20C684-B431-41CD-B583-913406D3253F">
                                       <p class="notep1">See Also:</p>
                                       <p><a href="configuring-naming-methods.html#GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABJBJBE">Task 1, "Configure Net Services Names"</a> for local naming instructions and <a href="configuring-naming-methods.html#GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABGIEFF">Task 2, "Create Net Service Names in the Directory"</a> for directory naming instructions
                                       </p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>Use either Oracle Enterprise Manager Cloud Control or Oracle Net Manager to configure <code class="codeph">HS=ok</code>.
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>For Oracle Enterprise Manager Cloud Control, access the <span class="bold">Net Services Administration</span> page, select Local Naming for the listener, and then click the <span class="bold">Advanced</span> tab in the Create Net Service Name page. Next, click <span class="bold">Use for Heterogeneous Services</span>. 
                                          </p>
                                       </li>
                                       <li>
                                          <p>For Oracle Net Manager, click <span class="bold">Advanced</span> in the Service Identification box. The Advanced Service Options dialog box appears. Click <a id="d38386e5194" class="indexterm-anchor"></a><a id="d38386e5196" class="indexterm-anchor"></a><span class="bold">Use for Heterogeneous Services</span>.
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">OK</span> to confirm the change.
                                    </p>
                                    <p>The <code class="codeph">tnsnames.ora</code> file updates with the new network service name configured for Heterogeneous Services, as shown in the following:
                                    </p><pre class="oac_no_warn" dir="ltr">sybase_gtw=
 (DESCRIPTION=
  (ADDRESS=(PROTOCOL=tcp)(HOST=gate-server)(PORT=1521))
  (CONNECT_DATA=
    (SERVICE_NAME=sybasegw)
  )
    <span class="bold">(HS=ok)</span>))
 )</pre></li>
                              </ol>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-9A8E2F23-9E7C-4607-8FA3-45A5D9DA9C3C__GUID-E0AE7F48-F12D-460A-910F-47F338A4B9D8">
                           <p class="notep1">See Also:</p>
                           <p> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/netag&amp;id=HETER-GUID-9E8667AA-0D1B-4E45-8448-8C6E25CD9F58" target="_blank"><span class="italic">Oracle Database Heterogeneous Connectivity Administrator's Guide</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-AD068B69-6790-4699-A710-A22C3482AE4B">About Oracle Net Services for Oracle Heterogeneous Services</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="NETAG1190"></a><a id="NETAG356"></a><div class="sect3"><a id="GUID-647A53C5-A519-47D5-A879-F178246B1010" name="GUID-647A53C5-A519-47D5-A879-F178246B1010"></a><h4 id="NETAG-GUID-647A53C5-A519-47D5-A879-F178246B1010" class="sect4"><span class="enumeration_section">13.6.3 </span>Configuring Oracle Net Services for an Oracle Rdb Database
                  </h4>
                  <div>
                     <p>Oracle Rdb is a database for Digital 64-bit operating systems. Because Oracle Rdb has its own listener, the client interacts with Rdb in the same manner as it does with an Oracle database. </p>
                     <p>To initiate a connection to an Oracle Rdb, set up a network service name to connect to the Oracle Rdb database using the parameters described in <a href="enabling-advanced-features.html#GUID-647A53C5-A519-47D5-A879-F178246B1010__g510382" title="Oracle RDB Database Settings in a Connect Descriptor">Table 13-8</a>.
                     </p>
                     <div class="tblformalwide" id="GUID-647A53C5-A519-47D5-A879-F178246B1010__g510382">
                        <p class="titleintable">Table 13-8 Oracle RDB Database Settings in a Connect Descriptor</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle RDB Database Settings in a Connect Descriptor" summary="Oracle RDB Database Settings in a Connect Descriptor" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d38386e5319">Oracle Enterprise Manager Cloud Control Field</th>
                                 <th align="left" valign="bottom" width="25%" id="d38386e5322">tnsnames.ora Parameter</th>
                                 <th align="left" valign="bottom" width="53%" id="d38386e5325">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d38386e5330" headers="d38386e5319 ">
                                    <p><a id="d38386e5332" class="indexterm-anchor"></a><a id="d38386e5334" class="indexterm-anchor"></a>Rdb Database
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d38386e5330 d38386e5322 ">
                                    <p><a id="d38386e5343" class="indexterm-anchor"></a>RDB_DATABASE
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d38386e5330 d38386e5325 ">
                                    <p>The file name of an Oracle Rdb database. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d38386e5350" headers="d38386e5319 ">
                                    <p><a id="d38386e5352" class="indexterm-anchor"></a><a id="d38386e5354" class="indexterm-anchor"></a>Type of Service
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d38386e5350 d38386e5322 ">
                                    <p><a id="d38386e5363" class="indexterm-anchor"></a>TYPE_OF_SERVICE
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d38386e5350 d38386e5325 ">
                                    <p>The type of service to use for an Oracle Rdb database. It is used by Rdb interface tools. This feature should only be used if the application supports both Oracle Rdb and Oracle database services, and you want the application to load balance between the two.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d38386e5370" headers="d38386e5319 ">
                                    <p><a id="d38386e5372" class="indexterm-anchor"></a><a id="d38386e5374" class="indexterm-anchor"></a>Global Database Name
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d38386e5370 d38386e5322 ">
                                    <p><a id="d38386e5383" class="indexterm-anchor"></a>GLOBAL_NAME
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d38386e5370 d38386e5325 ">
                                    <p>The Oracle Rdb database. Optional.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a id="d38386e5390" class="indexterm-anchor"></a>The following procedure describes how to configure a client for an Oracle Rdb database:<a id="d38386e5395" class="indexterm-anchor"></a></p>
                     <ol>
                        <li>
                           <p>Create a network service name that can be used for connections from the Oracle server to a third-party system. </p>
                           <div class="infoboxnotealso" id="GUID-647A53C5-A519-47D5-A879-F178246B1010__GUID-F07353F9-57E2-4DF1-BE72-6CB80CEA8BBF">
                              <p class="notep1">See Also:</p>
                              <p><a href="configuring-naming-methods.html#GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABJBJBE">Task 1, "Configure Net Services Names"</a> for local naming instructions and <a href="configuring-naming-methods.html#GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABGIEFF">Task 2, "Create Net Service Names in the Directory"</a> for directory naming instructions
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Use either Oracle Enterprise Manager Cloud Control or Oracle Net Manager to set the Oracle Rdb parameters.</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>For Oracle Enterprise Manager Cloud Control, access the <span class="bold">Net Services Administration</span> page, select Local Naming for the listener, and then click the <span class="bold">Advanced</span> tab in the Create Net Service Name page. 
                                 </p>
                              </li>
                              <li>
                                 <p>For Oracle Net Manager, click <span class="bold">Advanced</span> in the Service Identification section. The Advanced Service Options dialog box appears. 
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Enter the file name of an Oracle Rdb database in the Rdb Database field.</p>
                        </li>
                        <li>
                           <p>(Optional) Specify the type of service in the Type of Service field, if needed, and enter the global database name in the Global Database Name field, and then click <span class="bold">OK.</span></p>
                           <p>The <code class="codeph">tnsnames.ora</code> file updates with the new network service name configured for the Oracle Rdb database, similar to the following: 
                           </p><pre class="oac_no_warn" dir="ltr">alpha5=
  (DESCRIPTION=
    (ADDRESS=...)
    (CONNECT_DATA=
      (SERVICE_NAME=generic)
      <span class="bold">(RDB_DATABASE=[.mf]mf_personnel.rdb)</span>
<span class="bold">     (GLOBAL_NAME=alpha5)))</span>
</pre><p>In the following example, the TYPE_OF_SERVICE parameter is used to load balance between an Oracle Rdb database service and an Oracle database service:</p><pre class="oac_no_warn" dir="ltr">alpha5=
 (DESCRIPTION_LIST=
  (DESCRIPTION=
    (ADDRESS=...)
    (CONNECT_DATA=
     (SERVICE_NAME=generic)
     <span class="bold">(RDB_DATABASE=[.mf]mf_personnel.rdb)</span>
     <span class="bold">(GLOBAL_NAME=alpha5)</span>))
  (DESCRIPTION=
   (ADDRESS=...)
    (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com))
  <span class="bold"> (TYPE_OF_SERVICE=oracle_database))</span></pre></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="enabling-advanced-features.html#GUID-9E45CE8B-BCAB-407D-8F8E-14A05036BC3D">Configuring Connections to Third-Party Database Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>