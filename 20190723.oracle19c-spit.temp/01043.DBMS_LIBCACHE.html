<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_LIBCACHE package consists of one subprogram that prepares the library cache on an Oracle instance by extracting SQL and PL/SQL from a remote instance and compiling this SQL locally without execution. The value of compiling the cache of an instance is to prepare the information the application requires to execute in advance of failover or switchover.">
      <meta name="description" content="The DBMS_LIBCACHE package consists of one subprogram that prepares the library cache on an Oracle instance by extracting SQL and PL/SQL from a remote instance and compiling this SQL locally without execution. The value of compiling the cache of an instance is to prepare the information the application requires to execute in advance of failover or switchover.">
      <title>DBMS_LIBCACHE</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_LIBCACHE package consists of one subprogram that prepares the library cache on an Oracle instance by extracting SQL and PL/SQL from a remote instance and compiling this SQL locally without execution. The value of compiling the cache of an instance is to prepare the information the application requires to execute in advance of failover or switchover.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_LDAP_UTL.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_LOB.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_LDAP_UTL.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_LOB.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_LIBCACHE </li>
            </ol>
            <a id="GUID-607703D6-DC5C-4C81-A19D-37F6192A30C9" name="GUID-607703D6-DC5C-4C81-A19D-37F6192A30C9"></a><a id="ARPLS361"></a><a id="ARPLS361"></a>
            
            <h2 id="ARPLS-GUID-607703D6-DC5C-4C81-A19D-37F6192A30C9" class="sect2"><span class="enumeration_chapter">93 </span> DBMS_LIBCACHE 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">The DBMS_LIBCACHE</code> package consists of one subprogram that prepares the library cache on an Oracle instance by extracting SQL and PL/SQL from a remote instance and compiling this SQL locally without execution. The value of compiling the cache of an instance is to prepare the information the application requires to execute in advance of failover or switchover.
               </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_LIBCACHE.html#GUID-41874F35-C981-4796-B960-568D8B3740F5" title="Compiling a shared cursor consists of open, parse, and bind operations, plus the type-checking and execution plan functions performed at the first execution. All of these steps are executed in advance by the package DBMS_LIBCACHE for SELECT statements.">Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_LIBCACHE.html#GUID-3D6E608C-6A7C-4ABC-8F8B-170C3C836EE9" title="To execute DBMS_LIBCACHE you must directly access the same objects as do SQL statements. You can best accomplish this by utilizing the same user id as the original system on the remote system.">Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_LIBCACHE.html#GUID-E9564359-D7F8-42B8-9690-19DB785ADC51" title="The DBMS_LIBCACHE package includes the COMPILE_FROM_REMOTE procedure subprogram.">Summary of DBMS_LIBCACHE Subprograms</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS66592"></a><a id="ARPLS66592"></a><div class="props_rev_3"><a id="GUID-41874F35-C981-4796-B960-568D8B3740F5" name="GUID-41874F35-C981-4796-B960-568D8B3740F5"></a><h3 id="ARPLS-GUID-41874F35-C981-4796-B960-568D8B3740F5" class="sect3"><span class="enumeration_section">93.1 </span>DBMS_LIBCACHE Overview
               </h3>
               <div>
                  <p>Compiling a shared cursor consists of open, parse, and bind operations, plus the type-checking and execution plan functions performed at the first execution. All of these steps are executed in advance by the package <code class="codeph">DBMS_LIBCACHE</code> for <code class="codeph">SELECT</code> statements. 
                  </p>
                  <div class="section">
                     <p>The open and parse functions are executed in advance for PL/SQL and DML. For PL/SQL, executing the parse phase has the effect of loading all library cache heaps other than the <code class="codeph">MCODE</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS66593"></a><a id="ARPLS66593"></a><div class="props_rev_3"><a id="GUID-3D6E608C-6A7C-4ABC-8F8B-170C3C836EE9" name="GUID-3D6E608C-6A7C-4ABC-8F8B-170C3C836EE9"></a><h3 id="ARPLS-GUID-3D6E608C-6A7C-4ABC-8F8B-170C3C836EE9" class="sect3"><span class="enumeration_section">93.2 </span>DBMS_LIBCACHE Security Model
               </h3>
               <div>
                  <p>To execute <code class="codeph">DBMS_LIBCACHE</code> you must directly access the same objects as do SQL statements. You can best accomplish this by utilizing the same user id as the original system on the remote system. 
                  </p>
                  <div class="section">
                     <p>When there are multiple schema users, <code class="codeph">DBMS_LIBCACHE</code> should be called for each. 
                     </p>
                     <p>Alternatively, <code class="codeph">DBMS_LIBCACHE</code> may be called with the generic user <code class="codeph">PARSER</code>. However, this user cannot parse the SQL that uses objects with access granted though roles. This is a standard PL/SQL security limitation.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS66594"></a><a id="ARPLS66595"></a><a id="ARPLS66595"></a><a id="ARPLS66594"></a><div class="props_rev_3"><a id="GUID-E9564359-D7F8-42B8-9690-19DB785ADC51" name="GUID-E9564359-D7F8-42B8-9690-19DB785ADC51"></a><h3 id="ARPLS-GUID-E9564359-D7F8-42B8-9690-19DB785ADC51" class="sect3"><span class="enumeration_section">93.3 </span>Summary of DBMS_LIBCACHE Subprograms
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_LIBCACHE</code> package includes the <code class="codeph">COMPILE_FROM_REMOTE</code> procedure subprogram.
                  </p>
                  <div class="tblformal" id="GUID-E9564359-D7F8-42B8-9690-19DB785ADC51__GUID-DF105020-81CC-45A9-B6BA-80EC74623364">
                     <p class="titleintable">Table 93-1 <span class="italic"><span class="bold">DBMS_LIBCACHE Package Subprograms</span></span></p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_LIBCACHE Package Subprograms" summary="This table lists the DBMS_LIBCACHE subprogram and briefly describes it." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="40%" id="d488706e436">Subprogram</th>
                              <th align="left" valign="bottom" width="60%" id="d488706e439">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d488706e444" headers="d488706e436 ">
                                 <p><a href="DBMS_LIBCACHE.html#GUID-CC095332-7762-45FD-8236-FEE68E7301FB" title="This procedure extracts SQL in batch from the source instance and compiles the SQL at the target instance.">COMPILE_FROM_REMOTE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d488706e444 d488706e439 ">
                                 <p>Extracts SQL in batch from the source instance and compiles the SQL at the target instance</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS66596"></a><a id="ARPLS66597"></a><a id="ARPLS66597"></a><a id="ARPLS66596"></a><div class="props_rev_3"><a id="GUID-CC095332-7762-45FD-8236-FEE68E7301FB" name="GUID-CC095332-7762-45FD-8236-FEE68E7301FB"></a><h4 id="ARPLS-GUID-CC095332-7762-45FD-8236-FEE68E7301FB" class="sect4"><span class="enumeration_section">93.3.1 </span>COMPILE_FROM_REMOTE Procedure
                  </h4>
                  <div>
                     <p>This procedure extracts SQL in batch from the source instance and compiles the SQL at the target instance.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CC095332-7762-45FD-8236-FEE68E7301FB__GUID-6A2F1E32-0A17-4BC2-9852-507656108951">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_LIBCACHE.COMPILE_FROM_REMOTE ( 
   p_db_link                 IN     dbms_libcache$def.db_link%type, 
   p_username                IN     VARCHAR2 default null,
   p_threshold_executions    IN     NATURAL  default 3,
   p_threshold_sharable_mem  IN     NATURAL  default 1000,
   p_parallel_degree         IN     NATURAL  default 1);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CC095332-7762-45FD-8236-FEE68E7301FB__GUID-99F13609-1995-4907-B38E-72EB4585860C">Parameters</p>
                        <div class="tblformal" id="GUID-CC095332-7762-45FD-8236-FEE68E7301FB__GUID-2BD1FCC1-8C40-4CFE-908C-2481D187EF6F">
                           <p class="titleintable">Table 93-2 COMPILE_FROM_REMOTE Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="COMPILE_FROM_REMOTE Procedure Parameters " summary="This table describes the parameters of DBMS_LIBCACHE.COMPILE_FROM_REMOTE." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="40%" id="d488706e565">Parameter</th>
                                    <th align="left" valign="bottom" width="60%" id="d488706e568">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d488706e573" headers="d488706e565 ">
                                       <p><code class="codeph">p_db_link</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d488706e573 d488706e568 ">
                                       <p>Database link to the source name (mandatory). The database link pointing to the instance that will be used for extracting the SQL statements. The user must have the role <code class="codeph">SELECT_ON_CATALOG</code> at the source instance. For improved security, the connection may use a password file or LDAP authentication. The database link is mandatory only for releases with <code class="codeph">dbms_libcache$def.ACCESS_METHOD = DB_LINK_METHOD </code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d488706e586" headers="d488706e565 ">
                                       <p><code class="codeph">p_instance_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d488706e586 d488706e568 ">
                                       <p>(Reserved for future use). The name of the instance that will be used for extracting the SQL statements. The instance name must be unique for all instances excluding the local instance. The name is not case sensitive.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d488706e594" headers="d488706e565 ">
                                       <p><code class="codeph">p_username</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d488706e594 d488706e568 ">
                                       <p>Source username (default is all users). The name of the username that will be used for extracting the SQL statements. The username is an optional parameter that is used to ensure the parsing user id is the same as that on the source instance. For an application where users connect as a single <code class="codeph">user_id</code>, for example <code class="codeph">APPS</code>, <code class="codeph">APPS</code> is the parsing <code class="codeph">user_id</code> that is recorded in the shared pool. To select only SQL statements parsed by <code class="codeph">APPS</code>, enter the string 'APPS' in this field. To also select statements executed by batch, repeat the executing the procedure with the schema owner, for example GL. If the username is supplied, it must be valid. The name is not case sensitive.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d488706e617" headers="d488706e565 ">
                                       <p><code class="codeph">p_threshold_executions</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d488706e617 d488706e568 ">
                                       <p>The lower bound for the number of executions, below which a SQL statement will not be selected for parsing. This parameter is optional. It allows the application to extract and compile statements with executions, for example, greater than 3. The default value is 1. This means SQL statements that have never executed, including invalid SQL statements, will not be extracted. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d488706e625" headers="d488706e565 ">
                                       <p><code class="codeph">p_threshold_sharable_mem</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d488706e625 d488706e568 ">
                                       <p>The lower bound for the size of the shared memory consumed by the cursors on the source instance. Below this value a SQL statement will not be selected for parsing. This parameter is optional. It allows the application to extract and compile statements with shared memory for example, greater than 10000 bytes.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d488706e633" headers="d488706e565 ">
                                       <p><code class="codeph">p_parallel_degree</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d488706e633 d488706e568 ">
                                       <p>The number of parallel jobs that execute to complete the parse operation. These tasks are spawned as parallel jobs against a sub-range of the SQL statements selected for parsing. This parameter is reserved for parallel compile jobs which are currently not implemented.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>