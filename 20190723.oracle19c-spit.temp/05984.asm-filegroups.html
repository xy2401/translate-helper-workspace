<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle ASM provides database-oriented storage management with flex and extended disk groups.">
      <meta name="description" content="Oracle ASM provides database-oriented storage management with flex and extended disk groups.">
      <title>Managing Oracle ASM Flex Disk Groups</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Guide">
      <meta property="og:description" content="Oracle ASM provides database-oriented storage management with flex and extended disk groups.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96198-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="maintain-diskgroups.html" title="Previous" type="text/html">
      <link rel="next" href="asm-files-directories-templates.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="OSTMG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="maintain-diskgroups.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="asm-files-directories-templates.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-instance-diskgroup.html" property="item" typeof="WebPage"><span property="name">Oracle ASM Instances and Disk Groups</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="admin-asm-diskgroups.html" property="item" typeof="WebPage"><span property="name"> Administering Oracle ASM Disk Groups</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Managing Oracle ASM Flex Disk Groups</li>
            </ol>
            <a id="GUID-1A056184-65E1-449C-B36A-83AF259A2309" name="GUID-1A056184-65E1-449C-B36A-83AF259A2309"></a>
            
            <h2 id="OSTMG-GUID-1A056184-65E1-449C-B36A-83AF259A2309" class="sect2">Managing Oracle ASM Flex Disk Groups</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle ASM provides database-oriented storage management with flex and extended disk groups.</p>
               <p>An Oracle ASM flex disk group is a disk group type that supports Oracle ASM file groups. An Oracle ASM file group describes a group of files that belong to a database, and enables storage management to be performed at the file group, or database, level. An Oracle ASM extended disk group has all the features of a flex disk group, with a specific design to be highly available in an extended (or stretch) cluster environment.</p>
               <p></p>
               <p></p>
               <p>This section discusses the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="asm-filegroups.html#GUID-096D903B-6646-4927-9AA6-BC6A07AD2310" title="An Oracle ASM flex disk group is a disk group type that supports Oracle ASM file groups and quota groups.">About Oracle ASM Flex Disk Groups</a></p>
                  </li>
                  <li>
                     <p><a href="asm-filegroups.html#GUID-B2AC119F-BFFE-4288-A721-E8B97D574632" title="An Oracle ASM file group is a group of files that share the same set of properties and characteristics.">About Oracle ASM File Groups</a></p>
                  </li>
                  <li>
                     <p><a href="asm-filegroups.html#GUID-BE9083C8-A5DF-48CD-BB32-C8A6FCDA3E7B">About Oracle ASM File Group Properties</a></p>
                  </li>
                  <li>
                     <p><a href="asm-filegroups.html#GUID-A4AA7D67-082F-402D-8164-53193B405211">About Quota Groups for Oracle ASM File Groups</a></p>
                  </li>
                  <li>
                     <p><a href="asm-filegroups.html#GUID-5A0CD2C9-3BE4-45FB-B5B6-5CD58D7F89EA" title="An Oracle ASM extended disk group has all the features of a flex disk group, with a specific design to be highly available in an extended (stretch) cluster environment, which contains nodes that span multiple physically separated sites.">About Oracle ASM Extended Disk Groups</a></p>
                  </li>
                  <li>
                     <p><a href="asm-filegroups.html#GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2">About Point-In-Time Database Cloning With Oracle ASM Flex Disk Groups</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-096D903B-6646-4927-9AA6-BC6A07AD2310" name="GUID-096D903B-6646-4927-9AA6-BC6A07AD2310"></a><h3 id="OSTMG-GUID-096D903B-6646-4927-9AA6-BC6A07AD2310" class="sect3">About Oracle ASM Flex Disk Groups</h3>
               <div>
                  <p>An Oracle ASM flex disk group is a disk group type that supports Oracle ASM file groups and quota groups.</p>
                  <p>In general, a flex disk group enables users to manage storage at the granularity of the database, in addition to at the disk group level.</p>
                  <p>The following are characteristics of a flex disk group:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The redundancy of files in a flex disk group is flexible and enables storage management at the database level. </p>
                     </li>
                     <li>
                        <p>File groups of flex disk groups are used to describe database files. </p>
                        <p>Each database has its own file group, and storage management can be done at the file group level, in addition to the disk group level. For example, you can specify different redundancy and rebalance settings for different file groups. File groups are associated with a quota group, enabling easy quota management.</p>
                     </li>
                     <li>
                        <p>The redundancy setting of a flex disk group is set to <code class="codeph">FLEX</code> <code class="codeph">REDUNDANCY</code> and each file group of the flex disk group has its own redundancy property setting.
                        </p>
                     </li>
                     <li>
                        <p>A flex disk group generally tolerates two failures, the same as a <code class="codeph">HIGH</code> redundancy disk group. 
                        </p>
                        <p>However, if the disk group has fewer than five failure groups, then it can only tolerate one failure. This restriction is the result of the quorum requirement of the disk group.</p>
                     </li>
                     <li>
                        <p>The failure tolerated by a database is dependent on the redundancy setting of its associated file group in the flex disk group.</p>
                     </li>
                     <li>
                        <p>A flex disk group requires a minimum of three failure groups.</p>
                     </li>
                     <li>
                        <p>If a disk group with <code class="codeph">FLEX</code> <code class="codeph">REDUNDANCY</code> has only two regular failure groups and one quorum failure group, then only two copies of the data are stored, even if <code class="codeph">HIGH</code> <code class="codeph">REDUNDANCY</code> is selected for a database file in the flex disk group. This behavior is a consequence of having only two regular failure groups. However, if an additional regular failure group is added later, then a third copy of the data is created automatically. After the addition of the regular failure group, if one failure group is lost and a rebalance completes successfully, then the disk group can remain mounted after a second failure group goes offline.
                        </p>
                     </li>
                     <li>
                        <p>Migrating (converting) to a flex disk group can be performed for a <code class="codeph">NORMAL</code> or <code class="codeph">HIGH</code> redundancy disk group  with the <code class="codeph">CONVERT</code> <code class="codeph">REDUNDANCY</code> <code class="codeph">TO</code> <code class="codeph">FLEX</code> clause of the <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> SQL statement. You cannot migrate an <code class="codeph">EXTERNAL</code> redundancy disk group to a <code class="codeph">FLEX</code> redundancy disk group.
                        </p>
                        <div class="infoboxnote" id="GUID-096D903B-6646-4927-9AA6-BC6A07AD2310__GUID-BB6B9DC8-E822-40BE-81C2-7AE163D8ECAC">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>When migrating to a flex disk group, the disk group must have a minimum of three failure groups.</p>
                              </li>
                              <li>
                                 <p>The Virtual Allocation Metadata (VAM) migration disk group attribute must be enabled and the migration completed before migrating without the use of a restrictive mount. </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li>
                        <p>A flex disk group enables the creation of point-in-time database clones. </p>
                        <p>A  point-in-time database clone is a full copy of a specific database, not the underlying storage system. Only data files are copied. Other files are created, or referenced as required to create the clone. For information about flex disk groups and point-in-time database clones, refer to <a href="asm-filegroups.html#GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2">About Point-In-Time Database Cloning With Oracle ASM Flex Disk Groups</a>.
                        </p>
                     </li>
                     <li>
                        <p>The default size of the allocation unit (AU) is 4 M.</p>
                     </li>
                     <li>
                        <p>The Virtually Allocated Metadata (VAM) is enabled and required for a flex disk group.</p>
                     </li>
                     <li>
                        <p>Flex disk groups require the <code class="codeph">COMPATIBLE.ASM</code> and <code class="codeph">COMPATIBLE.RDBMS</code> disk group attributes to be set at <code class="codeph">12.2</code> or greater.
                        </p>
                     </li>
                     <li>
                        <p>To create an Oracle ADVM volume on a flex disk group, the <code class="codeph">COMPATIBLE.ADVM</code> disk group attribute must be set to <code class="codeph">12.2</code> or greater.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-096D903B-6646-4927-9AA6-BC6A07AD2310__GUID-691BBFFB-D793-4B2F-82DD-DFDE98DD23B5">
                     <p class="notep1">Note:</p>
                     <p>The <code class="codeph">REQUIRED_MIRROR_FREE_MB</code> and <code class="codeph">USABLE_FILE_MB</code> columns in the <code class="codeph">V$ASM_DISKGROUP</code> view report no values for a flex disk group. 
                     </p>
                  </div>
                  <p>The following examples illustrate how to use SQL statements to:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Create a flex disk group</p>
                     </li>
                     <li>
                        <p>Migrate a normal disk group to a flex disk group</p>
                     </li>
                  </ul>
                  <div class="example" id="GUID-096D903B-6646-4927-9AA6-BC6A07AD2310__GUID-BBEBE7C2-B1F1-47DB-96B4-AB033F4F6267">
                     <p class="titleinexample">Example 4-13 Using CREATE DISKGROUP to create a flex disk group</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE DISKGROUP flex_data FLEX REDUNDANCY DISK my_disk_discovery_path;
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-096D903B-6646-4927-9AA6-BC6A07AD2310__GUID-79351911-2267-4326-A51F-D0271FF227EA">
                     <p class="titleinexample">Example 4-14 Using ALTER DISKGROUP to migrate a normal disk group to a flex disk group</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE DISKGROUP normaltoflex NORMAL REDUNDANCY
  DISK '/devices/diskm*'
  ATTRIBUTE 'au_size'='4M',
    'compatible.asm' = '19.0', 
    'compatible.rdbms' = '19.0',
    'compatible.advm' = '19.0';

Diskgroup created.

SQL&gt; ALTER DISKGROUP normaltoflex CONVERT REDUNDANCY TO FLEX;

Diskgroup altered.

SQL&gt; SELECT name, type FROM V$ASM_DISKGROUP WHERE name = 'NORMALTOFLEX';

NAME                           TYPE
------------------------------ ------
NORMALTOFLEX                   FLEX</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-B2AC119F-BFFE-4288-A721-E8B97D574632" name="GUID-B2AC119F-BFFE-4288-A721-E8B97D574632"></a><h3 id="OSTMG-GUID-B2AC119F-BFFE-4288-A721-E8B97D574632" class="sect3">About Oracle ASM File Groups</h3>
               <div>
                  <p>An Oracle ASM file group is a group of files that share the same set of properties and characteristics.</p>
                  <p>A major benefit of file groups is the ability to have a different availability specification for each database that shares the same disk group. </p>
                  <p>The set of properties for an Oracle ASM file group includes redundancy, rebalance rebuild priority, rebalance power limit, client compatibility, striping, quota group, and the access control list.</p>
                  <p>The following list provides important notes about file groups.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A disk group contains at least one file group, the default file group. </p>
                     </li>
                     <li>
                        <p>A disk group can contain multiple file groups.</p>
                     </li>
                     <li>
                        <p>A disk group must have <code class="codeph">FLEX</code> or <code class="codeph">EXTENDED</code> redundancy to contain a file group.
                        </p>
                     </li>
                     <li>
                        <p>A disk group can store files belonging to multiple databases with each database having a separate file group.</p>
                     </li>
                     <li>
                        <p>A database can have only one file group in a disk group.</p>
                     </li>
                     <li>
                        <p>A database can span multiple disk groups with multiple file groups in different disk groups. The file groups belonging to a database in multiple disk groups should all have the same name for consistency and easy identification.</p>
                     </li>
                     <li>
                        <p>A file group can belong to only one disk group. </p>
                     </li>
                     <li>
                        <p>A file group can describe only one database, PDB, CDB, volume, or cluster.</p>
                     </li>
                     <li>
                        <p>A file group of an Oracle ADVM volume in a flex disk group always has the name of the associated volume. There can be only one volume in a file group.</p>
                     </li>
                     <li>
                        <p>A file group can belong to only one quota group.</p>
                     </li>
                     <li>
                        <p>Automatically created file groups are associated with the generic quota group.</p>
                     </li>
                     <li>
                        <p>When a database, PDB, or CDB is created, if an existing file group has a client ID or name that matches the ID or name of the database, PDB, or CDB, then that file group is used to describe its files. Otherwise, a new file group is created for the database, PDB, or CDB.</p>
                     </li>
                     <li>
                        <p>A file group that is automatically created as a result of a create database operation is identified as system-created. This system-created file group is dropped when the database is dropped. However, if you manually create a file group, then that file group is not automatically dropped when you drop the related database. You must explicitly drop the manually-created file group.</p>
                     </li>
                  </ul>
                  <p>The following figure illustrates the use of Oracle ASM file groups and quota groups in a multitenant environment.  In this illustration, PDB3 could be a clone of PDB2. File groups and quota groups in different disk groups can have the same name. </p>
                  <div class="figure" id="GUID-B2AC119F-BFFE-4288-A721-E8B97D574632__ORACLEASMFILEGROUPS-B4F91F55">
                     <p class="titleinfigure">Figure 4-1 Oracle ASM File Groups</p><img src="img/ostmg_3v_013a.png" alt="Description of Figure 4-1 follows" title="Description of Figure 4-1 follows" longdesc="img_text/ostmg_3v_013a.html"><br><a href="img_text/ostmg_3v_013a.html">Description of "Figure 4-1 Oracle ASM File Groups"</a></div>
                  <!-- class="figure" -->
                  <p>In the figure, file groups named PDB1 in disk group 1 and disk group 2 are dedicated to pluggable database PDB1, file groups named PDB2 in disk group 1 and disk group 2 are dedicated to pluggable database PDB2, and file groups named PDB3 in disk group 1 and disk group 2 are dedicated to pluggable database PDB3. </p>
                  <p>File group PDB1 in disk group 1 belongs to quota group QGRP1 in disk group 1. File group PDB1 in disk group 2 belongs to quota group QGRP1 in disk group 2. File groups PDB2 and PDB3 in disk group 1 belong to quota group QGRP2 in disk group 1. File groups PDB2 and PDB3 in disk group 2 belong to quota group QGRP2 in disk group 2.</p>
                  <p>You can administer file groups with SQL statements. For example, you can use the <code class="codeph">FILEGROUP</code> clause of the <code class="codeph">ALTER DISKGROUP</code> SQL statement to administer file groups. <a href="asm-filegroups.html#GUID-B2AC119F-BFFE-4288-A721-E8B97D574632__GUID-F35EAC45-C386-4963-8BCB-ECBF3700D8B0">Example 4-15</a> illustrates how SQL statements are used to add a file group for a pluggable database. The SQL statements also associate the newly added file group to an existing quota group.<a href="asm-filegroups.html#GUID-B2AC119F-BFFE-4288-A721-E8B97D574632__ALTERDISKGROUPDATA1MODIFYFILEGROUPF-A0EEC5B2">Example 4-16</a> illustrates how to modify the <code class="codeph">redundancy</code> property for a specific file type in a file group.
                  </p>
                  <div class="example" id="GUID-B2AC119F-BFFE-4288-A721-E8B97D574632__GUID-F35EAC45-C386-4963-8BCB-ECBF3700D8B0">
                     <p class="titleinexample">Example 4-15 Adding a File Group to a Database</p><pre class="pre codeblock"><code>ALTER DISKGROUP DiskGroup_1 ADD FILEGROUP FileGroup_PDB1
    DATABASE PDB1
    SET 'quota_group' = 'QuotaGroup_QGRP1';

ALTER DISKGROUP DiskGroup_1 ADD FILEGROUP FileGroup_PDB2
    DATABASE PDB2
    SET 'quota_group' = 'QuotaGroup_QGRP2';
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-B2AC119F-BFFE-4288-A721-E8B97D574632__ALTERDISKGROUPDATA1MODIFYFILEGROUPF-A0EEC5B2">
                     <p class="titleinexample">Example 4-16 Modifying a File Group</p><pre class="pre codeblock"><code>ALTER DISKGROUP DiskGroup_1 MODIFY FILEGROUP FileGroup_PDB1
    SET 'datafile.redundancy' = 'HIGH';
</code></pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p>ASMCMD provides the following commands to manage and track file and quota groups.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">chfg</code> and <code class="codeph">chqg</code> to modify a file group or quota group
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">lsfg</code> and <code class="codeph">lsqg</code> to list file groups or quota groups
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">mkfg</code> and <code class="codeph">mkqg</code> to create a file group or quota group
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">rmfg</code> and <code class="codeph">rmqg</code> to delete a file group or quota group
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">mvfg</code> to move a file group
                           </p>
                        </li>
                     </ul>
                     <p>You can drop a file group including its associated files (drop including content) using the <code class="codeph">CASCADE</code> keyword with the <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> ... <code class="codeph">DROP</code> <code class="codeph">FILEGROUP</code> SQL statement or the <code class="codeph">—r</code> option with the ASMCMD <code class="codeph">rmfg</code> command.
                     </p>
                     <p>To monitor Oracle ASM file groups, you can check the <code class="codeph">V$ASM_FILEGROUP</code>, <code class="codeph">V$ASM_FILEGROUP_PROPERTY</code>, and <code class="codeph">V$ASM_FILEGROUP_FILE</code> views. You can also display information about Oracle ASM file groups with the ASMCMD <code class="codeph">lsfg</code> command.
                     </p>
                     <div class="infoboxnotealso" id="GUID-B2AC119F-BFFE-4288-A721-E8B97D574632__ORACLEDATABASEREFERENCEFORINFORMATI-02AF190A">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="asm-filegroups.html#GUID-A4AA7D67-082F-402D-8164-53193B405211">About Quota Groups for Oracle ASM File Groups</a> for information about quota groups.
                              </p>
                           </li>
                           <li>
                              <p><a href="asmcmd-filegroup-commands.html#GUID-A70318CD-A096-43E7-9CCD-F3A3621C81AC" title="This topic provides a summary of the ASMCMD commands that enable you to manage Oracle ASM file groups and quota groups.">ASMCMD File Group Management Commands</a> for information about ASMCMD commands to administer Oracle ASM File Groups
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/dynamic-performance-views.html#REFRN003" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for information about the <code class="codeph">V$ASM*</code> dynamic performance views
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-BE9083C8-A5DF-48CD-BB32-C8A6FCDA3E7B" name="GUID-BE9083C8-A5DF-48CD-BB32-C8A6FCDA3E7B"></a><h3 id="OSTMG-GUID-BE9083C8-A5DF-48CD-BB32-C8A6FCDA3E7B" class="sect3">About Oracle ASM File Group Properties</h3>
               <div>
                  <p>The following list summarizes the properties of file groups. </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">COMPATIBLE.CLIENT</code></p>
                        <p>The current value of this file group property is the last known client compatibility during a file open operation. </p>
                        <p>The <code class="codeph">COMPATIBLE.RDBMS</code> disk group attribute must be set less than or equal to:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">COMPATIBLE.CLIENT</code> of each file group (when set)
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">COMPATIBLE</code> database initialization parameter (for each database that is connected to Oracle ASM)
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">COMPATIBLE.ASM</code> of the disk group
                              </p>
                           </li>
                        </ul>
                        <p>You must be an Oracle ASM administrator to modify this property.</p>
                     </li>
                     <li>
                        <p><code class="codeph">DBCLONE_STATUS</code></p>
                        <p>This file group property specifies the status of the database split operation. This property cannot be set manually. </p>
                        <p>During the split operation of the database associated with this file group, the file group property contains one of the following values.</p>
                        <ul style="list-style-type: disc;" id="GUID-BE9083C8-A5DF-48CD-BB32-C8A6FCDA3E7B__UL_MMZ_FMC_4GB">
                           <li>
                              <p><code class="codeph">PREPARING</code></p>
                              <p> The process to prepare the database for splitting has started, but the database is not yet ready to be split.</p>
                           </li>
                           <li>
                              <p><code class="codeph">PREPARED</code></p>
                              <p> The preparation process is complete and the database is ready to be split.</p>
                           </li>
                           <li>
                              <p><code class="codeph">SPLITTING</code></p>
                              <p>The process to split the database files has started.</p>
                           </li>
                           <li>
                              <p><code class="codeph">SPLIT COMPLETED</code></p>
                              <p> The database has been split.</p>
                           </li>
                           <li>
                              <p><code class="codeph">DROPPING</code></p>
                              <p>The process to drop the prepared database clone has started.</p>
                           </li>
                           <li>
                              <p><code class="codeph">FAILED</code></p>
                              <p>The clone operation has failed. The rebalance operation should drop the incomplete clone.</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><code class="codeph">OWNER</code></p>
                        <p>This file group property specifies the <code class="codeph">OWNER</code> setting. To set the <code class="codeph">OWNER</code> property, the <code class="codeph">ACCESS_CONTROL.ENABLED</code> disk group attribute must be set to <code class="codeph">TRUE</code> to enable Oracle ASM File Access Control. The user specified as the owner must be a member of the disk group. 
                        </p>
                        <p>Only the Oracle ASM administrator, the <code class="codeph">OWNER</code>, the <code class="codeph">OWNER</code> of the <code class="codeph">USER_GROUP</code> associated with the file group, and a member of the <code class="codeph">USER_GROUP</code> associated with the file group can modify the attributes of file groups that are labeled with <code class="codeph">A database administrator can modify this property</code>. This is true only if <code class="codeph">ACCESS_CONTROL.ENABLED</code> is true.
                        </p>
                        <p>You can display the owner with the <code class="codeph">USER_NUMBER</code> and <code class="codeph">USER_INCARNATION</code> columns of the <code class="codeph">V$ASM_FILEGROUP</code> view. The values in  <code class="codeph">USER_NUMBER</code> and <code class="codeph">USER_INCARNATION</code> can be joined with the <code class="codeph">USER_NUMBER</code> and <code class="codeph">INCARNATION</code> columns of the <code class="codeph">V$ASM_USER</code> view to display the user names.
                        </p>
                        <p>The default value is <code class="codeph">NULL</code>. 
                        </p>
                        <p>You must be an Oracle ASM administrator to modify this property.</p>
                     </li>
                     <li>
                        <p><code class="codeph">PARENT_FILEGROUP_NUMBER</code></p>
                        <p>This file group property specifies the Parent File Group number.  This property cannot be set manually.</p>
                        <p>When a database is prepared for split, a child file group is created for the shadow files. The child file group automatically has the <code class="codeph">PARENT_FILEGROUP_NUMBER</code> property set.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">POWER_LIMIT</code></p>
                        <p>This file group property specifies the rebalance power, which determines the number of parallel relocations for disk rebalancing of this file group. The valid settings are <code class="codeph">1</code> to <code class="codeph">1024</code>. When rebalancing a file group, the power limit value is applied as follows: 
                        </p>
                        <ol>
                           <li>
                              <p>If the power option has been explicitly specified in the <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">REBALANCE</code> SQL statement or the ASMCMD <code class="codeph">rebal</code> command, then the power value specified in the SQL rebalance statement or ASMCMD rebalance command is used for rebalancing all file groups.
                              </p>
                           </li>
                           <li>
                              <p>If the power option has not been specified in the SQL rebalance statement or ASMCMD rebalance command, then the file group <code class="codeph">POWER_LIMIT</code> property value, if set, applies for the file group rebalance.
                              </p>
                           </li>
                           <li>
                              <p>If the power option has not been specified in the SQL rebalance statement or ASMCMD rebalance command, and the <code class="codeph">POWER_LIMIT</code> property has not been set for the file group, then the power value defaults to the value of the <code class="codeph">ASM_POWER_LIMIT</code> initialization parameter for the file group rebalance.
                              </p>
                           </li>
                        </ol>
                        <p>You must be a database administrator to modify this property.</p>
                     </li>
                     <li>
                        <p><code class="codeph">PRIORITY</code></p>
                        <p>This file group property specifies the rebalance priority and ensures that certain types of files are rebalanced before others. File groups with the highest priority are completely rebalanced first, then file groups with the next highest priority, and so on to the lowest priority. </p>
                        <p>You can set the rebalance priority setting to <code class="codeph">HIGHEST</code>, <code class="codeph">HIGH</code>, <code class="codeph">MEDIUM</code>, <code class="codeph">LOW</code>, or <code class="codeph">LOWEST</code>. The default value is <code class="codeph">MEDIUM</code>. 
                        </p>
                        <p>You must be a database administrator to modify this property.</p>
                     </li>
                     <li>
                        <p><code class="codeph">QUOTA_GROUP</code></p>
                        <p>This file group property specifies the name of the quota group to which this file group belongs. The valid setting is an existing quota group name. The default value is <code class="codeph">GENERIC</code>. Every file group in the disk group must be a member of a quota group. 
                        </p>
                        <p>You must be an Oracle ASM administrator to modify this property.</p>
                     </li>
                     <li>
                        <p><code class="codeph">REDUNDANCY</code></p>
                        <p>This file type property specifies the redundancy for the file group. The default redundancy setting for each file type is derived from the system templates. The valid settings are <code class="codeph">HIGH</code>, <code class="codeph">MIRROR</code>, <code class="codeph">PARITY</code>, and <code class="codeph">UNPROTECTED</code>. 
                        </p>
                        <p>To reduce the overhead of data protection associated with Oracle ASM, single parity protection is provided for flex disk groups. Parity redundancy is restricted to data not requiring ongoing updating to reduce the execution impact with parity protection. The <code class="codeph">PARITY</code> setting is intended for write-once files, such as archive logs and backup sets and is not supported on data files and read/write files. <code class="codeph">PARITY</code> requires a minimum of three regular (not quorum) failure groups in the flex disk group. If there are three or four failure groups when the parity file is created, then each parity extent set has two data extents. That scenario incurs 50% redundancy overhead rather than 100% redundancy overhead for two-way mirror files. If there are five or more failure groups when the parity file is created, then each parity extent set has four data extents. That scenario incurs 25% redundancy overhead.
                        </p>
                        <p>The redundancy of a file can be changed after the file is created. If redundancy has been changed, then the <code class="codeph">REMIRROR</code> column of <code class="codeph">V$ASM_FILE</code> contains <code class="codeph">Y</code> to indicate that the file needs new mirroring, initiating a rebalance to put the new redundancy into effect. After the rebalance completes, the value in the <code class="codeph">REMIRROR</code> column contains <code class="codeph">N</code> .
                        </p>
                        <p>When the file group redundancy property is modified from a <code class="codeph">HIGH</code>, <code class="codeph">MIRROR</code>, or <code class="codeph">UNPROTECTED</code> setting to a <code class="codeph">PARITY</code> setting, the redundancy of the existing files in the file group does not change. This behavior also applies to a change from <code class="codeph">PARITY</code> to a <code class="codeph">HIGH</code>, <code class="codeph">MIRROR</code>, or <code class="codeph">UNPROTECTED</code> setting. However, any files created in the future adopt the new redundancy setting.
                        </p>
                        <p>If the redundancy in the file group is increased, then the value of the <code class="codeph">REDUNDANCY</code> column of <code class="codeph">V$ASM_FILE</code> is increased after rebalance completes. However, if the redundancy in the file group is decreased, then the value of the <code class="codeph">REDUNDANCY</code> column of <code class="codeph">V$ASM_FILE</code> is lowered immediately before rebalance is run.
                        </p>
                        <p>Changing the redundancy on a file type granularity or on the entire file group affects all file types.</p>
                        <p>You must be a database administrator to modify this property.</p>
                     </li>
                     <li>
                        <p><code class="codeph">STRIPING</code></p>
                        <p>This file type property specifies the <code class="codeph">STRIPING</code> setting for each file type. Usually the default value for each file type is sufficient and is not changed.
                        </p>
                        <p>Most files have a <code class="codeph">COARSE</code> stripe, except for the control file which has a <code class="codeph">FINE</code> stripe by default. The valid settings are <code class="codeph">COARSE</code> and <code class="codeph">FINE</code>. The default value is <code class="codeph">COARSE</code> or derived from the file type template. 
                        </p>
                        <p><code class="codeph">STRIPING</code> affects only newly-created files and cannot be changed after the file is created.
                        </p>
                        <p>You must be a database administrator to set this property.</p>
                     </li>
                     <li>
                        <p><code class="codeph">USER_GROUP</code></p>
                        <p>This file group property specifies the <code class="codeph">USER_GROUP</code> setting. To set the <code class="codeph">USER_GROUP</code> property, the <code class="codeph">ACCESS_CONTROL.ENABLED</code> disk group attribute must be set to <code class="codeph">TRUE</code> to enable Oracle ASM File Access Control. The user group specified must be an existing user group. 
                        </p>
                        <p>Only the Oracle ASM administrator, the <code class="codeph">OWNER</code>, the <code class="codeph">OWNER</code> of the <code class="codeph">USER_GROUP</code> associated with the file group, and a member of the <code class="codeph">USER_GROUP</code> associated with the file group can modify the attributes of file groups that are labeled with <code class="codeph">A database administrator can modify this property</code>. This is true only if <code class="codeph">ACCESS_CONTROL.ENABLED</code> is true.
                        </p>
                        <p>You can display the user group information with the <code class="codeph">USERGROUP_NUMBER</code> and <code class="codeph">USERGROUP_INCARNATION</code> columns of the <code class="codeph">V$ASM_FILEGROUP</code> view. The values in  <code class="codeph">USERGROUP_NUMBER</code> and <code class="codeph">USERGROUP_INCARNATION</code> can be joined with the <code class="codeph">USERGROUP_NUMBER</code> and <code class="codeph">INCARNATION</code> columns of the <code class="codeph">V$ASM_USERGROUP</code> view to display the user group names.
                        </p>
                        <p>Files created in a file group inherit the <code class="codeph">USER_GROUP</code> property setting. 
                        </p>
                        <p>Clones inherit the <code class="codeph">USER_GROUP</code> property setting.
                        </p>
                        <p>The default value is <code class="codeph">NULL</code>. 
                        </p>
                        <p>You must be an Oracle ASM administrator to modify this property.</p>
                     </li>
                  </ul>
                  <div class="example" id="GUID-BE9083C8-A5DF-48CD-BB32-C8A6FCDA3E7B__GUID-5F9AFFF2-0E4F-426D-9363-7FA2884C85A4">
                     <p class="titleinexample">Example 4-17 Setting a file group property for file types</p>
                     <p>The following SQL statements set the <code class="codeph">REDUNDANCY</code> file group property for the <code class="codeph">datafile</code> and <code class="codeph">archivelog</code> file types.
                     </p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP DiskGroup_2 MODIFY FILEGROUP FileGroup_PDB1
  SET 'datafile.redundancy' = 'HIGH';

ALTER DISKGROUP DiskGroup_2 MODIFY FILEGROUP FileGroup_PDB1
  SET 'archivelog.redundancy' = 'MIRROR';</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-BE9083C8-A5DF-48CD-BB32-C8A6FCDA3E7B__GUID-735CA2C8-D2DA-441A-95D8-F218A6DCE8ED">
                     <p class="titleinexample">Example 4-18 Setting the file group redundancy property for an ADVM volume</p>
                     <p>The following SQL statement sets the <code class="codeph">REDUNDANCY</code> file group property for the Oracle ADVM volume. To enable Oracle ADVM volumes to change redundancy, both <code class="codeph">COMPATIBLE.ASM</code> and <code class="codeph">COMPATIBLE.ADVM</code> must be set to <code class="codeph">18.1</code> or greater. For Oracle ADVM volumes, you cannot change the redundancy setting of individual file types.
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DISKGROUP data MODIFY FILEGROUP volume1 SET 'redundancy'='high'; </pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-BE9083C8-A5DF-48CD-BB32-C8A6FCDA3E7B__GUID-21A4C6DA-C7B3-46BD-B4BF-D9804A80417A">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="asm-files-directories-templates.html#GUID-9D43CE5E-AB31-47EB-BE30-813764BB40F5" title="Oracle ASM supports most file types required by the database.">What Types of Files Does Oracle ASM Support?</a> for a list of Oracle ASM file types
                              </p>
                           </li>
                           <li>
                              <p><a href="asm-access-control-diskgroups.html#GUID-89BB888A-BA1C-4095-BB6D-C3BE142CB371" title="Oracle ASM File Access Control provides optional protection for the content of Oracle ASM disk groups from accidental access by unauthorized Oracle ASM clients, such as an unauthorized database.">Managing Oracle ASM File Access Control for Disk Groups</a> for information about Oracle ASM File Access Control
                              </p>
                           </li>
                           <li>
                              <p><span><cite>Oracle Database Reference</cite></span> for information about file group properties displayed in the <a href="../refrn/V-ASM_FILEGROUP_PROPERTY.html#REFRN-GUID-DA2152BF-2582-4E96-A2B6-5EB262113EEE" target="_blank">V$ASM_FILEGROUP_PROPERTY</a> and <a href="../refrn/V-ASM_FILEGROUP.html#REFRN-GUID-FCC3152C-7416-4322-A0F8-BB6A3AB2987E" target="_blank">V$ASM_FILEGROUP</a> dynamic performance views
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-A4AA7D67-082F-402D-8164-53193B405211" name="GUID-A4AA7D67-082F-402D-8164-53193B405211"></a><h3 id="OSTMG-GUID-A4AA7D67-082F-402D-8164-53193B405211" class="sect3">About Quota Groups for Oracle ASM File Groups</h3>
               <div>
                  <p>A quota group defines the quota allocated to a group of Oracle ASM File Groups. A file group belongs to only one quota group. For information about file groups, refer to <a href="asm-filegroups.html#GUID-B2AC119F-BFFE-4288-A721-E8B97D574632" title="An Oracle ASM file group is a group of files that share the same set of properties and characteristics.">About Oracle ASM File Groups</a>.
                  </p>
                  <p>A quota can describe an aggregate of space used by different databases. </p>
                  <p>The following list provides important notes about quota groups for file groups.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A file group can belong to only one quota group.</p>
                     </li>
                     <li>
                        <p>A quota group cannot span multiple disk groups.</p>
                     </li>
                     <li>
                        <p>A quota group describes an aggregate of space used by one file group or multiple file groups in the same disk group. </p>
                        <p>A file group for a PDB and a file group for a clone of that PDB could be a scenario where file groups would share a common quota group.</p>
                        <p>A file group clone by default inherits the parent’s quota group. However, the clone could belong to a different quota group.</p>
                     </li>
                     <li>
                        <p>A quota is enforced when a file is created and resized.</p>
                     </li>
                     <li>
                        <p>A quota is a physical space.</p>
                        <p>As a consequence, if the quota limit has been set to 10 M, then a two-way mirrored 6 M file exceeds the quota.</p>
                     </li>
                     <li>
                        <p>Each quota group has two values: the limit and the current used space.</p>
                        <p>The limit value can be set below the current used space. This action prevents any additional space being allocated for files described by file groups associated with this quota group.</p>
                     </li>
                     <li>
                        <p>A file group can be moved from one quota group to another, regardless whether or not the target quota group has enough space for the file group. </p>
                        <p>This capability enables an Oracle ASM administrator to stop any files described by a specific file group from allocating additional space.</p>
                     </li>
                  </ul>
                  <p>You can administer quota groups with SQL and ASMCMD commands. The following examples illustrate how SQL statements are used to add a quota group to a disk group and how to move a file group from its current quota group to a new quota group.</p>
                  <div class="example" id="GUID-A4AA7D67-082F-402D-8164-53193B405211__GUID-F82DDDF3-8C88-4749-B403-76C1B3BE77E2">
                     <p class="titleinexample">Example 4-19 Adding a Quota Group to a Disk Group</p><pre class="pre codeblock"><code>ALTER DISKGROUP DiskGroup_2 ADD QUOTAGROUP QuotaGroup_QGRP3
     SET 'quota'= 10m;
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-A4AA7D67-082F-402D-8164-53193B405211__ALTERDISKGROUPDATA1MODIFYFILEGROUPF-A0DD55D9">
                     <p class="titleinexample">Example 4-20 Moving a File Group to a new Quota Group</p><pre class="pre codeblock"><code>ALTER DISKGROUP DiskGroup_2 MODIFY FILEGROUP FileGroup_PDB1
   SET 'quota_group' = 'QuotaGroup_QGRP3';
</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-5A0CD2C9-3BE4-45FB-B5B6-5CD58D7F89EA" name="GUID-5A0CD2C9-3BE4-45FB-B5B6-5CD58D7F89EA"></a><h3 id="OSTMG-GUID-5A0CD2C9-3BE4-45FB-B5B6-5CD58D7F89EA" class="sect3">About Oracle ASM Extended Disk Groups</h3>
               <div>
                  <p>An Oracle ASM extended disk group has all the features of a flex disk group, with a specific design to be highly available in an extended (stretch) cluster environment, which contains nodes that span multiple physically separated sites.</p>
                  <p>The following are characteristics of an extended disk group:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The redundancy setting of an extended disk group is set to <code class="codeph">EXTENDED</code> <code class="codeph">REDUNDANCY</code> and each file group of the extended disk group has its own redundancy property setting.
                        </p>
                     </li>
                     <li>
                        <p>The redundancy of files and file groups in an extended disk group is specified for each site, rather than for each disk group.</p>
                        <p>This means that the number of copies determined by the <code class="codeph">REDUNDANCY</code> setting is multiplied by the number of data sites. If the <code class="codeph">REDUNDANCY</code> is set to <code class="codeph">MIRROR</code>, then that specifies two copies, resulting in four copies total for two data sites.
                        </p>
                     </li>
                     <li>
                        <p>An extended disk group can tolerate the loss of an entire site, plus the loss of up to two failure groups in another site. </p>
                        <p>This means that an extended disk group can tolerate failures at the site level in addition to the failure group level.</p>
                     </li>
                     <li>
                        <p>All data sites must have the same number of failure groups during disk group creation.</p>
                     </li>
                     <li>
                        <p>A quota group is specified for each disk group, rather than for each site.</p>
                     </li>
                     <li>
                        <p>The quota group limit is the physical space required for all copies across all sites.</p>
                        <p>For example, with two data sites, a 6 M file with redundancy set to <code class="codeph">MIRROR</code> uses 24 M of the quota limit.
                        </p>
                     </li>
                     <li>
                        <p>There must be a total of three sites, two data sites and one quorum site, to create an extended disk group. Each data site should have three failure groups, and the quorum site should have one failure group.</p>
                     </li>
                     <li>
                        <p>For database files, the redundancy setting is dictated by the redundancy setting of the file groups of the extended disk group. </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">COMPATIBLE.ASM</code> and <code class="codeph">COMPATIBLE.RDBMS</code> disk group attributes must be set to <code class="codeph">12.2</code> or greater.
                        </p>
                     </li>
                     <li>
                        <p>The minimum allocation unit (AU) size is 4 M. </p>
                     </li>
                     <li>
                        <p>Converting from another disk group type to an extended disk group is not supported.</p>
                     </li>
                     <li>
                        <p>The <code class="codeph">SITE</code> specification for failure groups can be inferred from cells if Oracle Exadata has been configured. Otherwise, the site specification can be specified with the SQL statement when creating a disk group. 
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-5A0CD2C9-3BE4-45FB-B5B6-5CD58D7F89EA__THEREQUIRED_MIRROR_FREE_MBANDUSABLE-F958AF93">
                     <p class="notep1">Note:</p>
                     <p>The <code class="codeph">REQUIRED_MIRROR_FREE_MB</code> and <code class="codeph">USABLE_FILE_MB</code> columns in the <code class="codeph">V$ASM_DISKGROUP</code> view report no values for an extended disk group.
                     </p>
                  </div>
                  <p>The following example illustrates how to create an extended disk group with a SQL statement.</p>
                  <div class="example" id="GUID-5A0CD2C9-3BE4-45FB-B5B6-5CD58D7F89EA__USINGCREATEANDALTERDISKGROUPWITHEXT-F9586EEB">
                     <p class="titleinexample">Example 4-21 Using CREATE DISKGROUP with extended disk groups</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE DISKGROUP extended_site_data EXTENDED REDUNDANCY 
        SITE NY FAILGROUP fg1 DISK '/devices/disks/disk01' 
                FAILGROUP fg2 DISK '/devices/disks/disk02' 
                FAILGROUP fg3 DISK '/devices/disks/disk03' 
        SITE NJ FAILGROUP fg4 DISK '/devices/disks/disk04' 
                FAILGROUP fg5 DISK '/devices/disks/disk05' 
                FAILGROUP fg6 DISK '/devices/disks/disk06' 
        SITE QM QUORUM 
                FAILGROUP fg7 DISK '/devices/disks/disk07';</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2" name="GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2"></a><h3 id="OSTMG-GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2" class="sect3">About Point-In-Time Database Cloning With Oracle ASM Flex Disk Groups</h3>
               <div>
                  <p>Before creating a point-in-time database clone, review the following requirements.</p>
                  <div class="infoboxnote" id="GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2__GUID-14263F6C-C541-42A0-8A8E-402F6BB24976">
                     <p class="notep1">Note:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Point-in-time database clones are supported only in Oracle ASM flex and extended disk groups.</p>
                        </li>
                        <li>
                           <p>Point-in-time database clones are supported only with Oracle Database 18c, version 18.1 or higher.</p>
                        </li>
                        <li>
                           <p>Point-in-time database clones require disk group compatibility attributes <code class="codeph">COMPATIBLE.ASM</code> and <code class="codeph">COMPATIBLE.RDBMS</code> be set to <code class="codeph">18.0</code> or higher.
                           </p>
                        </li>
                        <li>
                           <p>The source database (parent) must be a pluggable database. The database clone (child) created is a pluggable database under the same container database.</p>
                        </li>
                     </ul>
                  </div>
                  <p>Oracle ASM provides support for creating a point-in-time database clone which is a mirror copy of a pluggable database. All the data files of the database being cloned should be present in a single disk group. The cloning operation can be used for rapid configuration of identical copies. You can specify the redundancy setting of the database data files in the database clone, or the setting can default to the redundancy of the data files in the source database that is being the cloned. </p>
                  <p>The copy of data files created during the cloning process is initially identical to the source. However, after the cloning process has completed, updates to the source do not result in any change to the child that has been cloned. The <code class="codeph">V$ASM_DBCLONE_INFO</code> view shows the relationship between the source database, the cloned database, and their file groups. The <code class="codeph">V$ASM_DBCLONE_INFO</code> should be run on the Oracle ASM instance.
                  </p>
                  <p>In the examples shown in this topic, the source database is present on the <code class="codeph">DATA</code> flex disk group. 
                  </p>
                  <p>Database cloning has these steps:</p>
                  <ol>
                     <li>
                        <p>Preparing the Mirrored Copy</p>
                        <p>During this step, Oracle ASM allocates space for the additional copies of data. This process involves creating the cloned files and linking them with the source files. However, the data is not copied at this time; the copying is done during remirroring. Remirroring occurs during the prepare phase of rebalance, which is initiated as part of this step. Only one mirror copy can be in existence at any time. All the data files of the given database or the pluggable database should reside on a single disk group. The mirror copy must be used to create a database clone before another mirror copy can be created. </p>
                        <p>A file group is created and all the cloned files are made part of this file group. The redundancy of the database data files in the file group is set to the value that you specify, or the value defaults to the redundancy setting of the source file group. The quota group associated with the clone is the same as that of the source database. </p>
                        <p>Oracle ASM File Access Control properties associated with the clone are the same as those associated with the source database. For example, the file access control user group property for the database clone is same as that of the source database.</p>
                        <p>At the end of this step and before you start the next step, you can drop the prepared mirror copy, as described in <a href="asm-filegroups.html#GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2__DROPPINGTHEPREPAREDMIRRORCOPY-46A22AFF">Dropping the Prepared Mirror Copy</a>.
                        </p>
                     </li>
                     <li>
                        <p>Splitting the Mirrored Copy and Creating the Database Clone</p>
                        <p>The prepare and copy step must complete before starting this step. You can display the <code class="codeph">V$ASM_DBCLONE_INFO</code> view on the Oracle ASM instance to query the status of the ongoing prepare operation. The <code class="codeph">DBCLONE_STATUS</code> column of the <code class="codeph">V$ASM_DBCLONE_INFO</code> view indicates <code class="codeph">PREPARED</code> when the file group is ready to be split.
                        </p>
                        <p>The process initiated with <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> breaks the relationship between the source database files and the cloned database files.
                        </p>
                     </li>
                  </ol>
                  <div class="section" id="GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2__PREPARINGTHEMIRROREDCOPY-46A2241E">
                     <p class="subhead2" id="GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2__GUID-224B8971-418A-4832-92CA-E951125A01A7">Preparing the Mirrored Copy</p>
                     <p>The following example prepares the mirrored copy and creates a file group on the <code class="codeph">DATA</code> disk group. Before you issue the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> <code class="codeph">PREPARE</code> SQL command, you must connect to the source pluggable database (<code class="codeph">pdb1</code> in the examples) that is being prepared for cloning. 
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt;  SHOW CON_NAME
CON_NAME
------------------------------
CDB$ROOT

SQL&gt;  ALTER SESSION SET CONTAINER = pdb1;
Session altered.

SQL&gt; SHOW CON_NAME
CON_NAME
------------------------------
PDB1

SQL&gt; ALTER PLUGGABLE DATABASE PREPARE MIRROR COPY pdb1_mirror;
Pluggable database altered.
</pre><p>You can query the <code class="codeph">V$ASM_DBCLONE_INFO</code> view on the Oracle ASM instance to check the status of the process.
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM V$ASM_DBCLONE_INFO;
GROUP_NUMBER DBCLONE_NAME MIRRORCOPY_NAME DBCLONE_STATUS PARENT_DBNAME PARENT_FILEGROUP_NAME CON_ID
------------ ------------ --------------- -------------- ------------- --------------------- ------
           1 DB_UNKNOWN   PDB1_MIRROR     PREPARED       ORCL_PDB1     ORCL_PDB1                  0</pre></div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2__SPLITTINGTHEMIRROREDCOPYANDCREATING-46A227B0">
                     <p class="subhead2" id="GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2__GUID-B509A43E-FE1D-412A-AAE6-A676A1A96F76">Splitting the Mirrored Copy and Creating the Database Clone</p>
                     <p>The following example creates the <code class="codeph">newpdb1</code> database clone using the mirror copy <code class="codeph">pdb1_mirror</code>. <code class="codeph">newpdb1</code> is a clone of <code class="codeph">pdb1</code> pluggable database and is plugged into the CDB. The <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> SQL command must be run in the root container of the CDB.
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt;  SHOW CON_NAME
CON_NAME
------------------------------
CDB$ROOT

SQL&gt; CREATE PLUGGABLE DATABASE newpdb1 FROM pdb1 USING MIRROR COPY pdb1_mirror;
Pluggable database created.

SQL&gt;  ALTER SESSION SET CONTAINER = newpdb1;
session altered.

SQL&gt; SHOW CON_NAME
CON_NAME
------------------------------
NEWPDB1
</pre><p>You can query the <code class="codeph">V$ASM_DBCLONE_INFO</code>, <code class="codeph">V$ASM_FILEGROUP</code>, and <code class="codeph">V$ASM_FILEGROUP_PROPERTY</code> views on the Oracle ASM instance for additional information.
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM V$ASM_DBCLONE_INFO;
GROUP_NUMBER DBCLONE_NAME  MIRRORCOPY_NAME DBCLONE_STATUS  PARENT_DBNAME PARENT_FILEGROUP_NAME CON_ID
------------ ------------- --------------- --------------- ------------- --------------------- ------
           1 ORCL_NEWPDB1  PDB1_MIRROR     SPLIT COMPLETED ORCL_PDB1     ORCL_PDB1                  0

SQL&gt; SELECT NAME, GROUP_NUMBER, FILEGROUP_NUMBER FROM V$ASM_FILEGROUP;
NAME                                 GROUP_NUMBER FILEGROUP_NUMBER
------------------------------------ ------------ ----------------
DEFAULT_FILEGROUP                               1                0
ORCL_CDB$ROOT                                   1                1
ORCL_PDB$SEED                                   1                2
ORCL_PDB1                                       1                3
PDB1_MIRROR                                     1                4


SQL&gt; SELECT NAME, VALUE FROM V$ASM_FILEGROUP_PROPERTY WHERE FILEGROUP_NUMBER = 4;
NAME                                 VALUE
------------------------------------ ------------------------------------
PRIORITY                             MEDIUM
PARENT_FILEGROUP_NUMBER              3
DBCLONE_STATUS                       SPLIT COMPLETED
COMPATIBLE.CLIENT                    18.0.0.0.0
REDUNDANCY                           MIRROR
STRIPING                             FINE
...</pre></div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2__DROPPINGTHEPREPAREDMIRRORCOPY-46A22AFF">
                     <p class="subhead2" id="GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2__GUID-95F73ED4-0ED9-4361-93F0-6399AF7FF98E">Dropping the Prepared Mirror Copy</p>
                     <p>After preparing the mirrored copy, and before splitting the mirrored copy and creating the database clone, you can drop the prepared mirror copy. </p>
                     <p>The drop action discards all the changes performed by the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> <code class="codeph">PREPARE</code> SQL command. Similar to the <code class="codeph">PREPARE</code> SQL operation, the drop action also triggers a rebalance on the appropriate disk group. You can use the <code class="codeph">V$ASM_DBCLONE_INFO</code> view to query the status of the ongoing drop operation. The <code class="codeph">DBCLONE_STATUS</code> column of the <code class="codeph">V$ASM_DBCLONE_INFO</code> view indicates <code class="codeph">DROPPING</code> when the file group is being dropped and the entry is removed after all changes are discarded.
                     </p>
                     <p>The following example illustrates how to drop the prepared mirror copy when you are connected to the source pluggable database (<code class="codeph">pdb1</code> in the example).
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SESSION SET CONTAINER = pdb1;
Session altered.

SQL&gt; ALTER PLUGGABLE DATABASE DROP MIRROR COPY pdb1_mirror;
Pluggable database altered.</pre></div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2__CLEANINGUPAFTERFAILEDATTEMPTS-46A22F56">
                     <p class="subhead2" id="GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2__GUID-72044EE2-C474-441B-8EC7-F9FF43020E08">Cleaning Up After Failed Attempts</p>
                     <p>The <code class="codeph">DBCLONE_STATUS</code> column of the <code class="codeph">V$ASM_DBCLONE_INFO</code> view indicates <code class="codeph">FAILED</code> when the point-in-time clone process is unsuccessful. If you experience a failed attempt to create a point-in-time clone, then you can resolve the problem by issuing a rebalance on the disk group to clean up the file group. For example, after connecting to the Oracle ASM instance, you can run the following:
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DISKGROUP data REBALANCE WAIT;
</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-F0CA1610-780A-40FB-B8BB-88E0C7688CC2__ORACLEDATABASEADMINISTRATORSGUIDEFO-0853B1DB">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../multi/introduction-to-the-multitenant-architecture.html#MULTI-GUID-267F7D12-D33F-4AC9-AA45-E9CD671B6F22" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for information about multitenant databases
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF55686" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> SQL statement
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/V-ASM_DBCLONE_INFO.html#REFRN-GUID-434D0A47-A61C-4882-8FAC-9539F272E609" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for information about the <code class="codeph">V$ASM_DBCLONE_INFO</code> view
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>