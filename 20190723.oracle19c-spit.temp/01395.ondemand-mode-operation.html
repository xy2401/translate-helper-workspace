<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Usually, health checks run at scheduled intervals. However, Oracle recommends that you run health checks on-demand when needed.">
      <meta name="description" content="Usually, health checks run at scheduled intervals. However, Oracle recommends that you run health checks on-demand when needed.">
      <title>Running Health Checks On-Demand</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User’s Guide">
      <meta property="og:description" content="Usually, health checks run at scheduled intervals. However, Oracle recommends that you run health checks on-demand when needed.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="autonomous-health-framework-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-21T23:14:30-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2016, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96320-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="manually-generate-health-check-reports.html" title="Previous" type="text/html">
      <link rel="next" href="silent-mode-operation.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Autonomous Health Framework User’s Guide">
    <meta name="dcterms.isVersionOf" content="ATNMS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="manually-generate-health-check-reports.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="silent-mode-operation.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User’s Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="analyzing-risks-and-complying-best-practices.html" property="item" typeof="WebPage"><span property="name">Analyzing the Cluster Configuration</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="purpose-oracle-orachk-and-oracle-exachk.html" property="item" typeof="WebPage"><span property="name">Analyzing Risks and Complying with Best Practices</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="manually-generate-health-check-reports.html" property="item" typeof="WebPage"><span property="name">Using Oracle ORAchk and Oracle EXAchk to Manually Generate Health Check Reports</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Running Health Checks On-Demand</li>
            </ol>
            <a id="GUID-C6DE7768-058F-4460-9DB8-F30A81DB7763" name="GUID-C6DE7768-058F-4460-9DB8-F30A81DB7763"></a>
            
            <h2 id="ATNMS-GUID-C6DE7768-058F-4460-9DB8-F30A81DB7763" class="sect2"><span class="enumeration_section">2.4.1 </span>Running Health Checks On-Demand
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Usually, health checks run at scheduled intervals. However, Oracle recommends that you run health checks on-demand when needed.</p>
               <p>Examples of when you must run health checks on-demand:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>Pre- or post-upgrades</p>
                  </li>
                  <li>
                     <p>Machine relocations from one subnet to another</p>
                  </li>
                  <li>
                     <p>Hardware failure or repair</p>
                  </li>
                  <li>
                     <p>Problem troubleshooting</p>
                  </li>
                  <li>
                     <p>In addition to go-live testing</p>
                  </li>
               </ul>
               <div class="p">To start on-demand health check runs, log in to the system as an appropriate user, and then run an appropriate tool. Specify the options to direct the type of run that you want.<pre class="pre codeblock"><code>$ ./orachk</code></pre><pre class="pre codeblock"><code>$ ./exachk</code></pre></div>
               <div class="p">
                  <div class="infoboxnote" id="GUID-C6DE7768-058F-4460-9DB8-F30A81DB7763__GUID-BE974CC3-E003-4EE2-B1BC-A39D690AC5D1">
                     <p class="notep1">Note:</p>
                     <p>To avoid problems while running the tool from terminal sessions on a network attached workstation or laptop, consider running the tool using VNC. If there is a network interruption, then the tool continues to process to completion. If the tool fails to run, then re-run the tool. The tool does not resume from the point of failure.</p>
                  </div>
               </div>
               <p>Output varies depending on your environment and options used:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>The tool starts discovering your environment</p>
                  </li>
                  <li>
                     <p>If you have configured passwordless SSH equivalency, then the tool does not prompt you for passwords</p>
                  </li>
                  <li>
                     <p>If you have not configured passwordless SSH for a particular component at the required access level, then the tool prompts you for password</p>
                  </li>
                  <li>
                     <p>If the daemon is running, then the commands are sent to the daemon process that answers all prompts, such as selecting the database and providing passwords</p>
                  </li>
                  <li>
                     <p>If the daemon is not running, then the tool prompts you for required information, such as which database you want to run against, the required passwords, and so on</p>
                  </li>
                  <li>
                     <p>The tool investigates the status of the discovered components</p>
                     <div class="p">
                        <div class="infoboxnote" id="GUID-C6DE7768-058F-4460-9DB8-F30A81DB7763__GUID-B839B6D8-3B95-402D-82F9-8DD5BC8B37D8">
                           <p class="notep1">Note:</p>
                           <p>If you are prompted for passwords, then the Expect utility runs when available. In this way, the passwords are gathered at the beginning, and the Expect utility supplies the passwords when needed at the root password prompts. The Expect utility being supplying the passwords enables the tool to continue without the need for further input. If you do not use the Expect utility, then closely monitor the run and enter the passwords interactively as prompted.</p>
                           <p>Without the Expect utility installed, you must enter passwords many times depending on the size of your environment. Therefore, Oracle recommends that you use the Expect utility.</p>
                        </div>
                     </div>
                     <p>While running pre- or post-upgrade checks, Oracle ORAchk and Oracle EXAchk automatically detect databases that are registered with Oracle Clusterware and presents the list of databases to check.</p>
                     <div class="p">Run the pre-upgrade checks during the upgrade planning phase. Oracle ORAchk and Oracle EXAchk prompt you for the version to which you are planning to upgrade:<pre class="pre codeblock"><code>$ ./orachk &#x2013;u &#x2013;o pre</code></pre><pre class="pre codeblock"><code>$ ./exachk &#x2013;u &#x2013;o pre</code></pre></div>
                     <div class="p">After upgrading, run the post-upgrade checks:<pre class="pre codeblock"><code>$ ./orachk &#x2013;u &#x2013;o post</code></pre><pre class="pre codeblock"><code>$ ./exachk &#x2013;u &#x2013;o post</code></pre></div>
                  </li>
                  <li>
                     <p>The tool starts collecting information across all the relevant components, including the remote nodes.</p>
                  </li>
                  <li>
                     <p>The tool runs the health checks against the collected data and displays the results.</p>
                  </li>
                  <li>
                     <p>After completing the health check run, the tool points to the location of the detailed HTML report and the <code>.zip</code> &nbsp;file that contains more output.
                     </p>
                  </li>
               </ul>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="running-ondemand-daemon.html#GUID-D556F0FA-9EC4-4E5F-B100-2A94CDD60961" title="When running on-demand, if the daemon is running, then the daemon answers all prompts where possible including the passwords.">Running On-Demand With or Without the Daemon</a></li>
                     <li><a href="sending-results-by-email.html#GUID-B9608CFC-B5E1-45C0-846C-458837BFA648" title="Optionally email the HTML report to one or more recipients using the &#x2013;sendemail option.">Sending Results by Email</a></li>
                     <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/atnms&amp;id=expect_utility_download" target="_blank">Expect - Expect - Home Page</a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="manually-generate-health-check-reports.html#GUID-F70634F5-89EA-484E-AA56-EBD129D8B218" title="This section explains the procedures to manually generate health check reports.">Using Oracle ORAchk and Oracle EXAchk to Manually Generate Health Check Reports</a></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>