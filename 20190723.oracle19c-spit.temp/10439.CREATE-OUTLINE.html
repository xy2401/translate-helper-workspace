<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>CREATE OUTLINE</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="CREATE-OPERATOR.html" title="Previous" type="text/html">
      <link rel="next" href="CREATE-PACKAGE.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CREATE-OPERATOR.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="CREATE-PACKAGE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-CREATE-LIBRARY-to-CREATE-SCHEMA.html" property="item" typeof="WebPage"><span property="name"> SQL Statements: CREATE LIBRARY to CREATE SCHEMA</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CREATE OUTLINE </li>
            </ol>
            <a id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627" name="GUID-7CC033AF-DB19-4616-87D9-8173939FD627"></a><a id="SQLRF54249"></a><a id="SQLRF54250"></a><a id="SQLRF54251"></a><a id="SQLRF54252"></a><a id="SQLRF54253"></a><a id="SQLRF54254"></a><a id="SQLRF54255"></a><a id="SQLRF54256"></a><a id="SQLRF54257"></a><a id="SQLRF54258"></a><a id="SQLRF54259"></a><a id="SQLRF54260"></a><a id="SQLRF01305"></a>
            
            <h2 id="SQLRF-GUID-7CC033AF-DB19-4616-87D9-8173939FD627" class="sect2">CREATE OUTLINE </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-F91ABC86-3AFC-4378-A479-E0E0C2D842EE">Purpose</p>
                  <div class="infoboxnote" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-D82BA9CB-8D59-4F5F-82F1-201082A52444">
                     <p class="notep1">Note:</p>
                     <p>Stored outlines are deprecated. They are still supported for backward compatibility. However, Oracle recommends that you use SQL plan management instead. SQL plan management creates SQL plan baselines, which offer superior SQL performance stability compared with stored outlines.</p>
                     <p>You can migrate existing stored outlines to SQL plan baselines by using the <code class="codeph">MIGRATE_STORED_OUTLINE</code> function of the <code class="codeph">DBMS_SPM</code> package or Enterprise Manager Cloud Control. When the migration is complete, the stored outlines are marked as migrated and can be removed. You can drop all migrated stored outlines on your system by using the <code class="codeph">DROP_MIGRATED_STORED_OUTLINE</code> function of the <code class="codeph">DBMS_SPM</code> package.
                     </p>
                     <p>See Also:â€ƒ<a href="../tgsql/overview-of-sql-plan-management.html#TGSQL615" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information about SQL plan management and <a href="../arpls/DBMS_SPM.html#ARPLS150" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about the <code class="codeph">DBMS_SPM</code> package
                     </p>
                  </div>
                  <p><a id="d335720e167" class="indexterm-anchor"></a><a id="d335720e171" class="indexterm-anchor"></a><a id="d335720e175" class="indexterm-anchor"></a><a id="d335720e179" class="indexterm-anchor"></a>Use the <code class="codeph">CREATE</code> <code class="codeph">OUTLINE</code> statement to create a <span class="bold">stored outline</span>, which is a set of attributes used by the optimizer to generate an execution plan. You can then instruct the optimizer to use a set of outlines to influence the generation of execution plans whenever a particular SQL statement is issued, regardless of changes in factors that can affect optimization. You can also modify an outline so that it takes into account changes in these factors. 
                  </p>
                  <div class="infoboxnote" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-179E6631-5E23-4404-B748-2B2CAE81C23A">
                     <p class="notep1">Note:</p>
                     <p>The SQL statement you want to affect must be an exact string match of the statement specified when creating the outline.</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-BBFF8719-9DBF-45D8-BB67-424C06B3CEBE">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../tgsql/overview-of-sql-plan-management.html#TGSQL615" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for information on execution plans
                           </p>
                        </li>
                        <li>
                           <p><a href="ALTER-OUTLINE.html#GUID-49F25C82-0783-4407-88BB-613F986C2FEC">ALTER OUTLINE</a> for information on modifying an outline
                           </p>
                        </li>
                        <li>
                           <p><a href="ALTER-SESSION.html#GUID-27186B28-7EFC-4998-B1ED-2B905CC0211B">ALTER SESSION</a> and <a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB">ALTER SYSTEM</a> for information on the <code class="codeph">USE_STORED_OUTLINES</code> and <code class="codeph">USE_PRIVATE_OUTLINES</code> parameters
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-D5192690-16A9-4E84-A900-737E13572752">Prerequisites</p>
                  <p>To create a public or private outline, you must have the <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">OUTLINE</code> system privilege.
                  </p>
                  <p>If you are creating a clone outline from a source outline, then you must also have the <code class="codeph">SELECT_CATALOG_ROLE</code> role.
                  </p>
                  <p><a id="d335720e242" class="indexterm-anchor"></a>You can enable or disable the use of stored outlines dynamically for an individual session or for the system:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Enable the <code class="codeph">USE_STORED_OUTLINES</code> parameter to use public outlines.
                        </p>
                     </li>
                     <li>
                        <p>Enable the <code class="codeph">USE_PRIVATE_OUTLINES</code> parameter to use private stored outlines.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-D08BAA6A-1379-4265-AE36-C6E17FF50D1B">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-14D5806B-351E-4D1B-968F-BDB2651E7B0F"><span class="italic">create_outline</span>::=
                  </p>
                  <div class="figure" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-292BC43D-E10E-474E-AE19-01769A3D3C2D"><img src="img/create_outline.gif" alt="Description of create_outline.eps follows" title="Description of create_outline.eps follows" longdesc="img_text/create_outline.html"><br><a href="img_text/create_outline.html">Description of the illustration create_outline.eps</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnote" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-D530A2C9-2A99-42E5-8595-2D5EE21E180C">
                     <p class="notep1">Note:</p>
                     <p>None of the clauses after <span class="italic"><code class="codeph">outline</code></span> are required. However, you must specify at least one clause after <span class="italic"><code class="codeph">outline</code></span>, and it must be either the <code class="codeph">FROM</code> clause or the <code class="codeph">ON</code> clause.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-DBAD909D-C205-40D7-B5CD-763C5F0DFD80">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-397D6198-F2E4-441A-89FE-F448105146E0">OR REPLACE</p>
                  <p><a id="d335720e295" class="indexterm-anchor"></a><a id="d335720e299" class="indexterm-anchor"></a>Specify <code class="codeph">OR</code> <code class="codeph">REPLACE</code> to replace an existing outline with a new outline of the same name. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-A5CDCF2A-A2E0-484A-A7DA-6748F8C4BE88">PUBLIC | PRIVATE</p>
                  <p><a id="d335720e314" class="indexterm-anchor"></a><a id="d335720e318" class="indexterm-anchor"></a><a id="d335720e322" class="indexterm-anchor"></a><a id="d335720e326" class="indexterm-anchor"></a>Specify <code class="codeph">PUBLIC</code> if you are creating an outline for use by <code class="codeph">PUBLIC</code>. This is the default.
                  </p>
                  <p>Specify <code class="codeph">PRIVATE</code> to create an outline for private use by the current session only. The data of this outline is stored in the current schema.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-88823BBD-2B57-4227-8A14-563DF51A6E35"><span class="italic">outline</span></p>
                  <p>Specify the unique name to be assigned to the stored outline. The name must satisfy the requirements listed in <span class="q">"<a href="Database-Object-Names-and-Qualifiers.html#GUID-75337742-67FD-4EC0-985F-741C93D918DA">Database Object Naming Rules</a>"</span>. If you do not specify <span class="italic"><code class="codeph">outline</code></span>, then the database generates an outline name.
                  </p>
                  <div class="infoboxnotealso" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-0141E20A-4A7B-4A80-9FBD-AB1970DA1E7C">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="CREATE-OUTLINE.html#GUID-7CC033AF-DB19-4616-87D9-8173939FD627__I2119940">Creating an Outline: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-4CF1153F-E7EF-40AE-ABD5-6D38E62C5A68">FROM <span class="italic">source_outline</span> Clause
                  </p>
                  <p><a id="d335720e368" class="indexterm-anchor"></a>Use the <code class="codeph">FROM</code> clause to create a new outline by copying an existing one. By default, Oracle Database looks for <span class="italic"><code class="codeph">source_category</code></span> in the public area. If you specify <code class="codeph">PRIVATE</code>, then the database looks for the outline in the current schema. 
                  </p>
                  <p><span class="bold">Restriction on Copying an Outline</span></p>
                  <p>If you specify the <code class="codeph">FROM</code> clause, then you cannot specify the <code class="codeph">ON</code> clause.
                  </p>
                  <div class="infoboxnotealso" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-A2B3E363-3836-46D3-91CE-8A526FB4B809">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="CREATE-OUTLINE.html#GUID-7CC033AF-DB19-4616-87D9-8173939FD627__I2119956">Creating a Private Clone Outline: Example</a>"</span> and <span class="q">"<a href="CREATE-OUTLINE.html#GUID-7CC033AF-DB19-4616-87D9-8173939FD627__I2119967">Publicizing a Private Outline to the Public Area: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-9A32E85C-B89A-4CBB-AFC8-7643E1F1BB43">FOR CATEGORY Clause</p>
                  <p><a id="d335720e407" class="indexterm-anchor"></a>Specify an optional name used to group stored outlines. For example, you could specify a category of outlines for end-of-week use and another for end-of-quarter use. If you do not specify <span class="italic"><code class="codeph">category</code></span>, then the outline is stored in the <code class="codeph">DEFAULT</code> category.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-B5919696-A18B-4BF5-9348-D8EEFBA38BD6">ON Clause</p>
                  <p><a id="d335720e423" class="indexterm-anchor"></a><a id="d335720e427" class="indexterm-anchor"></a>Specify the SQL statement for which the database will create an outline when the statement is compiled. This clause is optional only if you are creating a copy of an existing outline using the <code class="codeph">FROM</code> clause.
                  </p>
                  <p>You can specify any one of the following statements: <code class="codeph">SELECT</code>, <code class="codeph">DELETE</code>, <code class="codeph">UPDATE</code>, <code class="codeph">INSERT</code> ... <code class="codeph">SELECT</code>, <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> ... <code class="codeph">AS</code> <code class="codeph">SELECT</code>.
                  </p>
                  <p><span class="bold">Restrictions on the ON Clause</span></p>
                  <p>This clause is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you specify the <code class="codeph">ON</code> clause, then you cannot specify the <code class="codeph">FROM</code> clause.
                        </p>
                     </li>
                     <li>
                        <p>You cannot create an outline on a multitable <code class="codeph">INSERT</code> statement.
                        </p>
                     </li>
                     <li>
                        <p>The SQL statement in the <code class="codeph">ON</code> clause cannot include any DML operation on a remote object.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-B81556F9-F621-4C32-A002-A6A9C97F6092">
                     <p class="notep1">Note:</p>
                     <p>In subsequent statements, you can specify additional outlines for the same SQL statement, but each outline for the same statement must specify a different category in the <code class="codeph">CATEGORY</code> clause.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__GUID-A65F4E73-BB09-45E7-B889-2D18097077CF">Examples</p>
                  <p id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__I2119940"><span class="bold">Creating an Outline: Example</span></p>
                  <p>The following statement creates a stored outline by compiling the <code class="codeph">ON</code> statement. The outline is called <code class="codeph">salaries</code> and is stored in the category <code class="codeph">special</code>.
                  </p><pre class="oac_no_warn" dir="ltr">CREATE OUTLINE salaries FOR CATEGORY special
   ON SELECT last_name, salary FROM employees;
</pre><p>When this same <code class="codeph">SELECT</code> statement is subsequently compiled, if the <code class="codeph">USE_STORED_OUTLINES</code> parameter is set to <code class="codeph">special</code>, the database generates the same execution plan as was generated when the outline <code class="codeph">salaries</code> was created.
                  </p>
                  <p id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__I2119956"><span class="bold">Creating a Private Clone Outline: Example</span></p>
                  <p>The following statement creates a stored private outline <code class="codeph">my_salaries</code> based on the public category <code class="codeph">salaries</code> created in the preceding example.
                  </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PRIVATE OUTLINE my_salaries
   FROM salaries;</pre><p id="GUID-7CC033AF-DB19-4616-87D9-8173939FD627__I2119967">Publicizing a Private Outline to the Public Area: Example</p>
                  <p>The following statement copies back (publicizes) a private outline to the public area after private editing:</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE OUTLINE public_salaries 
   FROM PRIVATE my_salaries;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>