<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Changes in This Release for Oracle Sharding</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Using Oracle Sharding">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Using Oracle Sharding">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="using-oracle-sharding.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-14T12:19:13-08:00">
      <meta name="dcterms.title" content="Using Oracle Sharding">
      <meta name="dcterms.dateCopyrighted" content="2018, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E87088-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="preface.html" title="Previous" type="text/html">
      <link rel="next" href="sharding-overview.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="SHARD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="preface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="sharding-overview.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Using Oracle Sharding</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Changes in This Release for Oracle Sharding</li>
            </ol>
            <a id="GUID-337B61E5-4340-4027-82D8-CB3DCF1EF38D" name="GUID-337B61E5-4340-4027-82D8-CB3DCF1EF38D"></a>
            
            <h2 id="SHARD-GUID-337B61E5-4340-4027-82D8-CB3DCF1EF38D" class="sect2">Changes in This Release for Oracle Sharding</h2>
         </header>
         <div class="ind">
            <div>
               <p>This preface contains:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-A3D59F7D-85C8-4B2F-A779-BA6ECF0F9B37">Changes in Oracle Database 19c</a><br></li>
                  <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-5C516108-80A6-4027-8289-D6D03D8F0697">Changes in Oracle Database 18c</a><br></li>
               </ul>
            </div>
            
            <div class="sect2"><a id="GUID-A3D59F7D-85C8-4B2F-A779-BA6ECF0F9B37" name="GUID-A3D59F7D-85C8-4B2F-A779-BA6ECF0F9B37"></a><h3 id="SHARD-GUID-A3D59F7D-85C8-4B2F-A779-BA6ECF0F9B37" class="sect3">Changes in Oracle Database 19c</h3>
               <div>
                  <p>The following are changes in <span class="italic">Using Oracle Sharding</span> for Oracle Database 19c.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-71F86135-525C-4897-9179-B7D88F22D1E6">New Features</a><br></li>
                     <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-BF2A32E6-70EB-4E59-A45C-EC976D747734">Deprecation and Desupport</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-337B61E5-4340-4027-82D8-CB3DCF1EF38D">Changes in This Release for Oracle Sharding</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-71F86135-525C-4897-9179-B7D88F22D1E6" name="GUID-71F86135-525C-4897-9179-B7D88F22D1E6"></a><h4 id="SHARD-GUID-71F86135-525C-4897-9179-B7D88F22D1E6" class="sect4">New Features</h4>
                  <div>
                     <p>The following features are new in this release:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-19EF317D-7937-4034-B9BF-EE0A4B77973D">Multiple Table Family Support for System-Managed Sharding</a><br></li>
                        <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-AF8EE357-7CBC-4B42-8027-22084D08029D">Support for Multiple PDB-Shards in the Same CDB</a><br></li>
                        <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-3D8BFDBD-69CD-4C44-A2A9-B6FA8634B8E9">Generation of Unique Sequence Numbers Across Shards</a><br></li>
                        <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-DA670A0B-82B5-4B0F-B9CB-25B01E7ECCC9">Support for Multi-Shard Query Coordinators on Shard Catalog Standbys</a><br></li>
                        <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-C43F4B04-9BF9-4079-A319-717F41442E20">Propagation of Parameter Settings Across Shards</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-A3D59F7D-85C8-4B2F-A779-BA6ECF0F9B37">Changes in Oracle Database 19c</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-19EF317D-7937-4034-B9BF-EE0A4B77973D" name="GUID-19EF317D-7937-4034-B9BF-EE0A4B77973D"></a><h5 id="SHARD-GUID-19EF317D-7937-4034-B9BF-EE0A4B77973D" class="sect5">Multiple Table Family Support for System-Managed Sharding</h5>
                     <div>
                        <p>The Oracle Sharding feature for Oracle Database 18c supported only one table family (a set of related tables sharing the same sharding key) for each sharded database. In Oracle Database 19c, Oracle Sharding includes support for multiple table families where all data from different table families reside in the same chunks. This feature applies to system-managed sharded databases only. Different applications accessing different table families can now be hosted on one sharded database.</p>
                        <p>There is one new GDSCTL command, <code class="codeph">CONFIG TABLE FAMILY</code>, and several other commands are extended to support this feature: <code class="codeph">ADD SERVICE</code>, <code class="codeph">MODIFY SERVICE</code>, <code class="codeph">CONFIG SERVICE</code>, <code class="codeph">CONFIG CHUNKS</code>, <code class="codeph">STATUS ROUTING</code>, and <code class="codeph">VALIDATE CATALOG</code>.
                        </p>
                        <p>There are no new SQL keywords or statements introduced with this feature; however, some restrictions are changed with the use of <code class="codeph">CREATE SHARDED TABLE</code> and <code class="codeph">TABLESPACE SET</code>.
                        </p>
                        <p>See</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="sharding-schema-design.html#GUID-4E2E01CA-5103-4F4D-AB2A-79527A62B2E7" title="A sharded table family is a set of tables that are sharded in the same way.">Sharded Table Family</a></p>
                           </li>
                           <li>
                              <p><a href="../gsmug/gdsctl-reference.html#GSMUG-GUID-E6E76443-AD85-455C-99AA-BF0A7856F880" target="_blank"><span><cite>Oracle Database Global Data Services Concepts and Administration Guide</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Changes-in-This-Release-for-Oracle-Database-SQL-Language-Reference.html#SQLRF-GUID-3C11D3A9-8B14-4DCC-B212-B7FE57EE81E8" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-71F86135-525C-4897-9179-B7D88F22D1E6">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-AF8EE357-7CBC-4B42-8027-22084D08029D" name="GUID-AF8EE357-7CBC-4B42-8027-22084D08029D"></a><h5 id="SHARD-GUID-AF8EE357-7CBC-4B42-8027-22084D08029D" class="sect5">Support for Multiple PDB-Shards in the Same CDB</h5>
                     <div>
                        <p>In Oracle Database 18c, Oracle Sharding introduced the capability for using a single PDB in a CDB as a shard or a shard catalog database. In Oracle Database 19c, Oracle Sharding enables you to use more than one PDB in a CDB for shards or shard catalog databases, with certain restrictions. For example, this feature allows a CDB to contain shard PDBs from different sharded databases (SDBs), each with their own separate catalog databases.</p>
                        <p></p>
                        <p>See</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="sharding-deployment.html#GUID-4FFB5665-B925-4DB6-ACDD-807D6E699365" title="You can use a multitenant container database (CDB) containing pluggable databases (PDBs) as shards and shard catalogs in your Oracle Sharding configuration.">Using Oracle Multitenant with Oracle Sharding</a> for information about how to use PDBs as shards
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-71F86135-525C-4897-9179-B7D88F22D1E6">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-3D8BFDBD-69CD-4C44-A2A9-B6FA8634B8E9" name="GUID-3D8BFDBD-69CD-4C44-A2A9-B6FA8634B8E9"></a><h5 id="SHARD-GUID-3D8BFDBD-69CD-4C44-A2A9-B6FA8634B8E9" class="sect5">Generation of Unique Sequence Numbers Across Shards</h5>
                     <div>
                        <p>Before Oracle Database 19c, if you needed a unique number across shards you had to manage it yourself. In Oracle Database 19c, Oracle Sharding allows you to independently generate sequence numbers on each shard which are unique across all shards. </p>
                        <p>To support this feature, new <code class="codeph">SEQUENCE</code> object clauses, <code class="codeph">SHARD</code> and <code class="codeph">NOSHARD</code>, are included in the <code class="codeph">SEQUENCE</code> object DDL syntax.
                        </p>
                        <p>See</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="sharding-schema-design.html#GUID-1ED42D4E-7A13-4303-9EF7-253BAE6A4999" title="Oracle Sharding allows you to generate globally unique sequence numbers across shards for non-primary key columns, and it is handled by the sharded database.">Generating Unique Sequence Numbers Across Shards</a></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Changes-in-This-Release-for-Oracle-Database-SQL-Language-Reference.html#SQLRF-GUID-3C11D3A9-8B14-4DCC-B212-B7FE57EE81E8" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-71F86135-525C-4897-9179-B7D88F22D1E6">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-DA670A0B-82B5-4B0F-B9CB-25B01E7ECCC9" name="GUID-DA670A0B-82B5-4B0F-B9CB-25B01E7ECCC9"></a><h5 id="SHARD-GUID-DA670A0B-82B5-4B0F-B9CB-25B01E7ECCC9" class="sect5">Support for Multi-Shard Query Coordinators on Shard Catalog Standbys</h5>
                     <div>
                        <p>Before Oracle Database 19c, only the primary shard catalog database could be used as the multi-shard query coordinator. In Oracle Database 19c you can also enable the multi-shard query coordinator on Oracle Active Data Guard standbys of the shard catalog database. This improves the scalability and availability of multi-shard query workload.</p>
                        <p>See</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="sharding-data-routing.html#GUID-9C13DCC4-0018-4049-94D8-70F518008504" title="The multi-shard query coordinator database contains the metadata of the sharded topology and provides query processing support for sharded databases.">Oracle Sharding Multi-Shard Query Coordinator</a></p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-71F86135-525C-4897-9179-B7D88F22D1E6">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-C43F4B04-9BF9-4079-A319-717F41442E20" name="GUID-C43F4B04-9BF9-4079-A319-717F41442E20"></a><h5 id="SHARD-GUID-C43F4B04-9BF9-4079-A319-717F41442E20" class="sect5">Propagation of Parameter Settings Across Shards</h5>
                     <div>
                        <p>Before Oracle Database 19c, database administrators had to configure <code class="codeph">ALTER SYSTEM</code> parameter settings on each shard in a sharded database. This feature provides ease of manageability by allowing administrators to centrally manage and propagate parameter settings from the shard catalog to all of the database shards. Once settings are configured at the shard catalog, they are automatically propagated to all shards of the sharded database.
                        </p>
                        <p>See <a href="sharding-lifecycle-management.html#GUID-92ADAEAE-D44A-4DF3-AACC-E4EE888DEC82" title="When you configure system parameter settings at the shard catalog, they are automatically propagated to all shards of the sharded database.">Propagation of Parameter Settings Across Shards</a></p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-71F86135-525C-4897-9179-B7D88F22D1E6">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-BF2A32E6-70EB-4E59-A45C-EC976D747734" name="GUID-BF2A32E6-70EB-4E59-A45C-EC976D747734"></a><h4 id="SHARD-GUID-BF2A32E6-70EB-4E59-A45C-EC976D747734" class="sect4">Deprecation and Desupport</h4>
                  <div>
                     <p>The following features are deprecated or desupported in this release:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-C53123E2-B4BF-4CCD-A20B-4A27B361C238">Desupport of Setting Passwords in GDSCTL Command Line</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-A3D59F7D-85C8-4B2F-A779-BA6ECF0F9B37">Changes in Oracle Database 19c</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-C53123E2-B4BF-4CCD-A20B-4A27B361C238" name="GUID-C53123E2-B4BF-4CCD-A20B-4A27B361C238"></a><h5 id="SHARD-GUID-C53123E2-B4BF-4CCD-A20B-4A27B361C238" class="sect5">Desupport of Setting Passwords in GDSCTL Command Line</h5>
                     <div>
                        <p>To enhance security, starting with Oracle Database 19c, the ability to specify passwords from the Global Data Services Control Utility (GDSCTL) command-line when called from the operating system prompt is no longer supported.</p>
                        <p>This desupport applies only to password changes where GDSCTL is called from a user command-line prompt. For example, the following command is desupported: </p><pre class="pre codeblock"><code>$ gdsctl add database -connect inst1 -pwd gsm_password</code></pre><p>Specifying the password from the GDSCTL utility itself is still valid. For example, the following command is valid:</p><pre class="pre codeblock"><code>GDSCTL&gt; add database -connect inst1 -pwd gsm_password</code></pre><p>This deprecation addresses the security vulnerability when specifying passwords in GDSCTL commands called from the operating system prompt.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-BF2A32E6-70EB-4E59-A45C-EC976D747734">Deprecation and Desupport</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-5C516108-80A6-4027-8289-D6D03D8F0697" name="GUID-5C516108-80A6-4027-8289-D6D03D8F0697"></a><h3 id="SHARD-GUID-5C516108-80A6-4027-8289-D6D03D8F0697" class="sect3">Changes in Oracle Database 18c</h3>
               <div>
                  <p>The following are changes in <span class="italic">Using Oracle Sharding</span> for Oracle Database 18c.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-17301904-C4FC-435E-A762-EBC568226EEB">New Features</a><br></li>
                     <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-9A6D4CDA-41FC-429B-8EB9-E02E3C26339E">Other Changes</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-337B61E5-4340-4027-82D8-CB3DCF1EF38D">Changes in This Release for Oracle Sharding</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-17301904-C4FC-435E-A762-EBC568226EEB" name="GUID-17301904-C4FC-435E-A762-EBC568226EEB"></a><h4 id="SHARD-GUID-17301904-C4FC-435E-A762-EBC568226EEB" class="sect4">New Features</h4>
                  <div>
                     <p>The following features are new in this release:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-3A019730-28D7-4C2A-9DE5-BD71F3B0C806">User-Defined Sharding Method</a><br></li>
                        <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-392B297D-78F5-4208-96C9-D23BC5A1203E">Support for PDBs as Shards</a><br></li>
                        <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-898ED281-9961-4CF4-9F37-1A06DED87E6D">Support for Oracle GoldenGate Replication</a><br></li>
                        <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-CC9938A3-DBB3-4AA2-AF11-A8B1B8205458">Centralized Diagnostics</a><br></li>
                        <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-A39CE0A6-6E23-4CE0-84E1-B2B5CCC582DB">Multi-Shard Query Consistency Level</a><br></li>
                        <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-FC693CE9-B95D-402F-A9D5-8E3256E800AC">Sharding Support for JSON, LOBs and Spatial Objects</a><br></li>
                        <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-764C15CB-9A13-49CC-A513-540F671E2334">Optimizer Enhancements for Multi-Shard Queries</a><br></li>
                        <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-DAD4E69A-C60A-410F-8314-205B3904DAEE">Shard Replacement</a><br></li>
                        <li class="ulchildlink"><a href="changes-in-this-release.html#GUID-A735CABE-CAFA-40FE-9075-C9FF48B75181">Oracle RAC Sharding</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-5C516108-80A6-4027-8289-D6D03D8F0697">Changes in Oracle Database 18c</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-3A019730-28D7-4C2A-9DE5-BD71F3B0C806" name="GUID-3A019730-28D7-4C2A-9DE5-BD71F3B0C806"></a><h5 id="SHARD-GUID-3A019730-28D7-4C2A-9DE5-BD71F3B0C806" class="sect5">User-Defined Sharding Method</h5>
                     <div>
                        <p>User-defined sharding allows you to explicitly specify mapping of data to individual shards. It is used when, because of performance, regulatory, or other reasons, certain data needs to be stored on a particular shard and you must have full control moving data between shards. This method allows&nbsp;you to define LIST or RANGE based sharding.</p>
                        <p>See</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="sharding-methods.html#GUID-DA34E219-A601-40B3-A6E4-6545CA2EBB0B" title="User-defined sharding lets you explicitly specify the mapping of data to individual shards. It is used when, because of performance, regulatory, or other reasons, certain data needs to be stored on a particular shard, and the administrator needs to have full control over moving data between shards.">User-Defined Sharding</a> for a conceptual overview of user-defined sharding
                              </p>
                           </li>
                           <li>
                              <p><a href="sharding-high-availability.html#GUID-52E55FFE-2AF7-45B0-B29A-6664D6CB78AB" title="Oracle Data Guard replication maintains one or more synchronized copies (standbys) of a shard (the primary) for high availability and data protection. Standbys may be deployed locally or remotely, and when using Oracle Active Data Guard can also be open for read-only access.">Using Oracle Data Guard with a Sharded Database</a> for information about replicating a user-defined sharded database Oracle Data Guard
                              </p>
                           </li>
                           <li>
                              <p><a href="sharding-deployment.html#GUID-6E11AA09-B7D3-45FB-9693-33B1329F7396">Creating and Deploying a User-Defined SDB</a> for tasks related to configuring, creating and deploying a user-defined sharded database
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-17301904-C4FC-435E-A762-EBC568226EEB">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-392B297D-78F5-4208-96C9-D23BC5A1203E" name="GUID-392B297D-78F5-4208-96C9-D23BC5A1203E"></a><h5 id="SHARD-GUID-392B297D-78F5-4208-96C9-D23BC5A1203E" class="sect5">Support for PDBs as Shards</h5>
                     <div>
                        <p>Use a PDB in a CDB for shards or a shard catalog database. In this release Oracle Sharding supports a shard or shard catalog as a single PDB in a CDB. The GDSCTL command ADD SHARD is extended and new commands ADD CDB, MODIFY CDB, CONFIG CDB, and REMOVE CDB are implemented so that Oracle Sharding can support a multitenant architecture.</p>
                        <p>See </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="sharding-deployment.html#GUID-4FFB5665-B925-4DB6-ACDD-807D6E699365" title="You can use a multitenant container database (CDB) containing pluggable databases (PDBs) as shards and shard catalogs in your Oracle Sharding configuration.">Using Oracle Multitenant with Oracle Sharding</a> for information about how to use PDBs as shards
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/shard&amp;id=GSMUG-GUID-08E1234F-1083-4CCE-8002-385FC3FE0616" target="_blank"><span><cite>Oracle Database Global Data Services Concepts and Administration Guide</cite></span></a> for information about the new commands
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-17301904-C4FC-435E-A762-EBC568226EEB">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-898ED281-9961-4CF4-9F37-1A06DED87E6D" name="GUID-898ED281-9961-4CF4-9F37-1A06DED87E6D"></a><h5 id="SHARD-GUID-898ED281-9961-4CF4-9F37-1A06DED87E6D" class="sect5">Support for Oracle GoldenGate Replication</h5>
                     <div>
                        <p>Oracle GoldenGate is used for fine-grained active-active replication where all shards are writable, and each shard can be partially replicated to other shards within a shardgroup. The Automatic Conflict Detection and Resolution feature added in Oracle 12.2 is used to handle any conflicts due to the active-active replication</p>
                        <p>See <a href="sharding-high-availability.html#GUID-C668B8C7-0F94-4F85-B8E1-A6B91548BBB6" title="Oracle Sharding is integrated with Oracle Database replication technologies for high availability and disaster recovery at the shard level.">Shard-Level High Availability</a></p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-17301904-C4FC-435E-A762-EBC568226EEB">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-CC9938A3-DBB3-4AA2-AF11-A8B1B8205458" name="GUID-CC9938A3-DBB3-4AA2-AF11-A8B1B8205458"></a><h5 id="SHARD-GUID-CC9938A3-DBB3-4AA2-AF11-A8B1B8205458" class="sect5">Centralized Diagnostics</h5>
                     <div>
                        <p>The SQL <code class="codeph">SHARDS()</code> clause lets you query Oracle supplied objects, such as V$, DBA/USER/ALL views, dictionary tables, and so on, across all shards.
                        </p>
                        <p>See <a href="sharding-lifecycle-management.html#GUID-46B36EC1-90BA-403F-9D5B-BD7499199C13" title="Use the SHARDS() clause to query Oracle-supplied tables to gather performance, diagnostic, and audit data from V$ views and DBA_* views.">Querying System Objects Across Shards</a></p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-17301904-C4FC-435E-A762-EBC568226EEB">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-A39CE0A6-6E23-4CE0-84E1-B2B5CCC582DB" name="GUID-A39CE0A6-6E23-4CE0-84E1-B2B5CCC582DB"></a><h5 id="SHARD-GUID-A39CE0A6-6E23-4CE0-84E1-B2B5CCC582DB" class="sect5">Multi-Shard Query Consistency Level</h5>
                     <div>
                        <p>You can use the initialization parameter <code class="codeph">MULTISHARD_QUERY_DATA_CONSISTENCY</code> to set different consistency levels when executing multi-shard queries.
                        </p>
                        <p>See <a href="sharding-data-routing.html#GUID-902C8750-EF4E-4551-AF75-AC4B95FC7D03" title="You can use the initialization parameter MULTISHARD_QUERY_DATA_CONSISTENCY to set different consistency levels when executing multi-shard queries across shards.">Specifying Consistency Levels in a Multi-Shard Query</a></p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-17301904-C4FC-435E-A762-EBC568226EEB">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-FC693CE9-B95D-402F-A9D5-8E3256E800AC" name="GUID-FC693CE9-B95D-402F-A9D5-8E3256E800AC"></a><h5 id="SHARD-GUID-FC693CE9-B95D-402F-A9D5-8E3256E800AC" class="sect5">Sharding Support for JSON, LOBs and Spatial Objects</h5>
                     <div>
                        <p>This release enables JSON operators that generate temporary LOBs, large JSON documents (those that require LOB Storage), Spatial Objects, Index and Operators and Persistent LOBs to be used in a sharded environment. </p>
                        <p>The following interfaces are new or changed as part of this feature.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Query and DML statements</p>
                              <p>Cross shard queries involving LOBs are supported.</p>
                              <p>DMLs involving more than one shard are not supported. This behavior is similar to scalar columns.</p>
                              <p>DMLs involving a single shard are supported from coordinator.</p>
                              <p>Locator selected from a shard can be passed as bind value to the same shard.</p>
                           </li>
                           <li>
                              <p>OCILob</p>
                              <p>All non-BFILE related OCILob APIs in a sharding environment are supported. with some restrictions.</p>
                              <p>On the coordinator, the OCI_ATTR_LOB_REMOTE attribute of a LOB descriptor returns TRUE if the LOB was obtained from a sharded table.</p>
                              <p>Restrictions: For APIs that take two locators as input, OCILobAppend, OCILobCompare for example, both of the locators should be obtained from the same shard. If locators are from different shards an error is given.</p>
                           </li>
                           <li>
                              <p>DBMS_LOB</p>
                              <p>All non-BFILE related DBMS_LOB APIs in a sharding environment are supported, with some restrictions. On the coordinator, DBMS_LOB.isremote returns TRUE if the LOB was obtained from a sharded table.</p>
                              <p>Restrictions: For APIs that take two locators as input, DBMS_LOB.append  and DBMS_LOB.compare for example, both of the locators should be obtained from the same shard. If the locators are from different shards an error given.</p>
                           </li>
                        </ul>
                        <p>See <a href="sharding-deployment.html#GUID-61B495D3-4482-47E2-937E-B7E03286F565" title="Create the schema user, tablespace set, sharded tables, and duplicated tables for the sharded database. Verify that the DDLs are propagated to all of the shards, and, while connected to the shards, verify the automatic Data Guard Broker configuration with Fast-Start Failover.">Creating a Schema for a System-Managed Sharded Database</a>, <a href="sharding-deployment.html#GUID-97C5E0B3-F870-4F4E-9507-9644A73E6C76" title="Create the schema user, tablespace set, sharded tables, and duplicated tables for the SDB. Verify that the DDLs are propagated to all of the shards, and, while connected to the shards, verify the automatic Data Guard Broker configuration with Fast-Start Failover.">Creating a Schema for a User-Defined SDB</a>, and <a href="sharding-deployment.html#GUID-D2098302-8636-41E7-ADEA-07099C882F32" title="Create the schema user, tablespace set, sharded tables, and duplicated tables for the SDB. Verify that the DDLs are propagated to all of the shards, and, while connected to the shards, verify the automatic Data Guard Broker configuration with Fast-Start Failover.">Creating a Schema for a Composite SDB</a> for examples of using LOBs in sharded database deployment.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-17301904-C4FC-435E-A762-EBC568226EEB">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-764C15CB-9A13-49CC-A513-540F671E2334" name="GUID-764C15CB-9A13-49CC-A513-540F671E2334"></a><h5 id="SHARD-GUID-764C15CB-9A13-49CC-A513-540F671E2334" class="sect5">Optimizer Enhancements for Multi-Shard Queries</h5>
                     <div>
                        <p>Various enhancements were made to improve the robustness and fault tolerance of shard queries. The query explain plan is enhanced to display information for all shards participating in the query.</p>
                        <p>See <a href="sharding-data-routing.html#GUID-EE5D2C35-6CB2-45CC-B936-CABA2C329E1B" title="Oracle Sharding supports single and multi-shard query shapes with some restrictions.">Supported Query Shapes in Proxy Routing</a> and <a href="sharding-data-routing.html#GUID-51377035-217B-4624-88CD-A5D5DE125606" title="In a multi-shard query, each shard produces an independent execution plan that is potentially different from the plans on the other shards in the query.">Execution Plans for Proxy Routing</a> for updated information about these topics.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-17301904-C4FC-435E-A762-EBC568226EEB">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-DAD4E69A-C60A-410F-8314-205B3904DAEE" name="GUID-DAD4E69A-C60A-410F-8314-205B3904DAEE"></a><h5 id="SHARD-GUID-DAD4E69A-C60A-410F-8314-205B3904DAEE" class="sect5">Shard Replacement</h5>
                     <div>
                        <p>If a shard fails and is unrecoverable, you can replace it using the <code class="codeph">ADD SHARD -REPLACE</code> command in GDSCTL. You can also use the -replace command option to move a shard to new equipment for any reason.
                        </p>
                        <p>See <a href="sharding-lifecycle-management.html#GUID-628FDBEA-9CE9-4C42-9693-3FF294E3B8B9" title="If a shard fails and is unrecoverable, or if you just want to move a shard to a new host for other reasons, you can replace it using the ADD SHARD -REPLACE command in GDSCTL.">Replacing a Shard</a></p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-17301904-C4FC-435E-A762-EBC568226EEB">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-A735CABE-CAFA-40FE-9075-C9FF48B75181" name="GUID-A735CABE-CAFA-40FE-9075-C9FF48B75181"></a><h5 id="SHARD-GUID-A735CABE-CAFA-40FE-9075-C9FF48B75181" class="sect5">Oracle RAC Sharding</h5>
                     <div>
                        <p>Oracle RAC Sharding creates an affinity for table partitions to particular Oracle RAC instances, and routes database requests that specify a partitioning key to the instance that logically holds the corresponding partition. This provides better cache utilization and dramatically reduces block pings across instances. The partitioning key can only be added to the most performance critical requests. Requests that don’t specify the key still work transparently and can be routed to any instance. No changes to the database schema are required to enable this feature.</p>
                        <p>See <a href="../racad/workload-management-with-dynamic-database-services.html#RACAD-GUID-1100990E-18BD-4C92-A0C7-3C08C40AAD14" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a></p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-17301904-C4FC-435E-A762-EBC568226EEB">New Features</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-9A6D4CDA-41FC-429B-8EB9-E02E3C26339E" name="GUID-9A6D4CDA-41FC-429B-8EB9-E02E3C26339E"></a><h4 id="SHARD-GUID-9A6D4CDA-41FC-429B-8EB9-E02E3C26339E" class="sect4">Other Changes</h4>
                  <div>
                     <p>The following are additional changes in the release:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Sharding Content Moved to New Book</p>
                           <p>In Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.2) the Oracle Sharding content was part of the <span><cite>Oracle Database Administrator’s Guide</cite></span>. Starting in Oracle Database 18<span class="italic">c</span> the Oracle Sharding content is contained in its own book, <span><cite>Using Oracle Sharding</cite></span>.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="changes-in-this-release.html#GUID-5C516108-80A6-4027-8289-D6D03D8F0697">Changes in Oracle Database 18c</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>