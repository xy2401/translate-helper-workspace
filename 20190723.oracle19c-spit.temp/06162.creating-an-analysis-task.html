<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Once you have captured a SQL workload that you want to analyze into a SQL tuning set (STS), you can run SQL Performance Analyzer to analyze the effects of a system change on SQL performance.">
      <meta name="description" content="Once you have captured a SQL workload that you want to analyze into a SQL tuning set (STS), you can run SQL Performance Analyzer to analyze the effects of a system change on SQL performance.">
      <title>Creating an Analysis Task</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Testing Guide ">
      <meta property="og:description" content="Once you have captured a SQL workload that you want to analyze into a SQL tuning set (STS), you can run SQL Performance Analyzer to analyze the effects of a system change on SQL performance.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Testing Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="testing-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-07T01:43:11-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2008, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96279-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="introduction-to-sql-performance-analyzer.html" title="Previous" type="text/html">
      <link rel="next" href="creating-a-pre-change-sql-trial.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Testing Guide">
    <meta name="dcterms.isVersionOf" content="RATUG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="introduction-to-sql-performance-analyzer.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="creating-a-pre-change-sql-trial.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Testing Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="sql-performance-analyzer.html" property="item" typeof="WebPage"><span property="name"> SQL Performance Analyzer </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Creating an Analysis Task </li>
            </ol>
            <a id="GUID-41CB8DDE-01C8-42BF-AD16-3494D4648A63" name="GUID-41CB8DDE-01C8-42BF-AD16-3494D4648A63"></a><a id="RATUG175"></a>
            
            <h2 id="RATUG-GUID-41CB8DDE-01C8-42BF-AD16-3494D4648A63" class="sect2"><span class="enumeration_chapter">3 </span>Creating an Analysis Task 
            </h2>
         </header>
         <div class="ind">
            <div>
               <div><span>Once you have captured a SQL workload that you want to analyze into a SQL tuning set (STS), you can run SQL Performance Analyzer to analyze the effects of a system change on SQL performance.</span> To run SQL Performance Analyzer, you must first create a SQL Performance Analyzer task. A task is a container that encapsulates all of the data about a complete SQL Performance Analyzer analysis. A SQL Performance Analyzer analysis comprises of at least two SQL trials and a comparison. A SQL trial captures the execution performance of a SQL tuning set under specific environmental conditions and can be generated automatically using SQL Performance Analyzer by one of the following methods:
               </div>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>Test executing SQL statements</p>
                  </li>
                  <li>
                     <p>Generating execution plans for SQL statements</p>
                  </li>
                  <li>
                     <p>Referring to execution statistics and plans captured in a SQL tuning set</p>
                  </li>
               </ul>
               <p>When creating a SQL Performance Analyzer task, you will need to select a <a id="d4474e96" class="indexterm-anchor"></a>SQL tuning set as its input source. The SQL tuning set will be used as the source for test executing or generating execution plans for SQL trials. Thus, performance differences between trials are caused by environmental differences.
               </p>
               <p>This chapter describes how to create a SQL Performance Analyzer task and contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="creating-an-analysis-task.html#GUID-F7F7C88D-7692-414B-97F5-FB57D9E8219C" title="There are several workflows available in Oracle Enterprise Manager for creating a SQL Performance Analyzer task.">Creating an Analysis Task Using Enterprise Manager</a></p>
                  </li>
                  <li>
                     <p><a href="creating-an-analysis-task.html#GUID-A00000CF-F2DA-4138-BBFB-6FA03D889EBA" title="This section describes how to create a SQL Performance Analyzer task by using the DBMS_SQLPA.CREATE_ANALYSIS_TASK function. A task is a database container for SQL Performance Analyzer execution inputs and results.">Creating an Analysis Task Using APIs</a></p>
                  </li>
                  <li>
                     <p><a href="creating-an-analysis-task.html#GUID-F8BBF7BE-382C-4EF8-B074-F39A74D011DC" title="This section describes how to configure a SQL Performance Analyzer task once it has been created.">Configuring an Analysis Task Using APIs</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-41CB8DDE-01C8-42BF-AD16-3494D4648A63__GUID-8FC05C30-C593-4426-B753-B137D31DF359">
                  <p class="notep1">Note:</p>
                  <p>The primary interface for running SQL Performance Analyzer is Oracle Enterprise Manager. If for some reason Oracle Enterprise Manager is unavailable, you can run SQL Performance Analyzer using the <code class="codeph">DBMS_SQLPA</code> PL/SQL package.
                  </p>
               </div>
               <div class="infoboxnotealso" id="GUID-41CB8DDE-01C8-42BF-AD16-3494D4648A63__GUID-5E623767-14CE-4620-9838-7B5560610763">
                  <p class="notep1">See Also:</p>
                  <p><span class="q">"<a href="introduction-to-sql-performance-analyzer.html#GUID-9EF13018-5EDB-4B60-85F8-187DF25EECFF" title="After the SQL workload is captured and transported to the test system, and the initial database environment is properly configured, you can run SQL Performance Analyzer to analyze the effects of a system change on SQL performance.">Creating a SQL Performance Analyzer Task</a>"</span></p>
               </div>
            </div><a id="RATUG315"></a><a id="RATUG176"></a><div class="props_rev_3"><a id="GUID-F7F7C88D-7692-414B-97F5-FB57D9E8219C" name="GUID-F7F7C88D-7692-414B-97F5-FB57D9E8219C"></a><h3 id="RATUG-GUID-F7F7C88D-7692-414B-97F5-FB57D9E8219C" class="sect3"><span class="enumeration_section">3.1 </span>Creating an Analysis Task Using Enterprise Manager
               </h3>
               <div>
                  <p>There are several workflows available in Oracle Enterprise Manager for creating a SQL Performance Analyzer task.</p>
                  <div class="p">Before running SQL Performance Analyzer, capture the SQL workload to be used in the performance analysis into a SQL tuning set on the production system, then transport it to the test system where the performance analysis will be performed, as described in <span class="q">"<a href="introduction-to-sql-performance-analyzer.html#GUID-3828F92F-62BC-4A5E-8303-9720DCCB64B4" title="Before running SQL Performance Analyzer, capture a set of SQL statements on the production system that represents the SQL workload which you intend to analyze.">Capturing the SQL Workload</a>"</span>.
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F7F7C88D-7692-414B-97F5-FB57D9E8219C__GUID-2E0D87E0-C9C5-4806-89A1-D5A817AF6948">To create an analysis task using Enterprise Manager:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>From the <span class="bold">Performance</span> menu, select <span class="bold">SQL</span>, then <span class="bold">SQL Performance Analyzer</span>.</span><div>
                           <p>If the Database Login page appears, then log in as a user with administrator privileges.</p>
                           <p>The SQL Performance Analyzer Home page appears.</p>
                           <div class="figure" id="GUID-F7F7C88D-7692-414B-97F5-FB57D9E8219C__GUID-92AFFF7A-D898-48FA-9B9D-ACC6402EE59F"><img src="img/spa.gif" width="450" alt="Description of spa.gif follows" title="Description of spa.gif follows" longdesc="img_text/spa.html"><br><a href="img_text/spa.html">Description of the illustration spa.gif</a></div>
                           <!-- class="figure" -->
                        </div>
                     </li>
                     <li class="stepexpand"><span>Under SQL Performance Analyzer Workflows, select the workflow for creating the desired type of analysis task:</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Upgrade from 9<span class="italic">i</span> or 10.1
                                 </p>
                                 <p>Use the upgrade from 9<span class="italic">i</span> or 10.1 workflow to test a database upgrade from Oracle9<span class="italic">i</span> Database or Oracle Database 10<span class="italic">g</span> Release 1 to Oracle Database 10<span class="italic">g</span> Release 2 and newer releases, as described in <span class="q">"<a href="testing-a-database-upgrade.html#GUID-54F449B7-987E-496E-AD15-97F0B6A70C66" title="SQL Performance Analyzer supports testing database upgrades of Oracle9i Database and Oracle Database 10g Release 1 to Oracle Database 11g Release 2 or higher releases.">Upgrading from Oracle9i Database and Oracle Database 10g Release 1</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Upgrade from 10.2 or 11<span class="italic">g</span></p>
                                 <p>Use the upgrade from 10.2 or 11<span class="italic">g</span> workflow to test a database upgrade from Oracle Database 10<span class="italic">g</span> Release 2 or Oracle Database 11<span class="italic">g</span> to a later release, as described in <span class="q">"<a href="testing-a-database-upgrade.html#GUID-AD6C3094-99C3-4F3D-A387-C7C70ACC43C4" title="You can use SQL Performance Analyzer to test the impact on SQL response time of a database upgrade from Oracle Database 10g Release 2 or a newer release to any later release by capturing a SQL tuning set on the production system, then executing it twice remotely over a database link on a test system—first to create a pre-change SQL trial, then again to create a post-change SQL trial.">Upgrading from Oracle Database 10g Release 2 and Newer Releases</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Parameter Change</p>
                                 <p>Use the parameter change workflow to determine how a database initialization parameter change will affect SQL performance, as described in <span class="q">"<a href="creating-an-analysis-task.html#GUID-55DB02F0-E3F7-45C4-BDB0-EB6EDF4091DD" title="The parameter change workflow enables you to test the performance effect on a SQL workload when you change the value of a single environment initialization parameter.">Using the Parameter Change Workflow</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Optimizer Statistics</p>
                                 <p>Use the optimizer statistics workflow to analyze how changes to optimizer statistics will affect SQL performance, as described in <span class="q">"<a href="creating-an-analysis-task.html#GUID-F28593A6-6688-4574-ACEB-DB2550813965" title="The optimizer statistics workflow enables you to analyze the effects of optimizer statistics changes on the performance of a SQL workload.">Using the Optimizer Statistics Workflow</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Exadata Simulation</p>
                                 <p>Use the Exadata simulation workflow to simulate how using Oracle Exadata will affect SQL performance, as described in <span class="q">"<a href="creating-an-analysis-task.html#GUID-58FA5887-382C-4FA8-9947-C8B77F6D0EE3" title="The Exadata simulation workflow enables you to simulate the effects of an Exadata Storage Server installation on the performance of a SQL workload.">Using the Exadata Simulation Workflow</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Guided workflow</p>
                                 <p>Use the guided workflow to compare SQL performance for all other types of system changes, as described in <span class="q">"<a href="creating-an-analysis-task.html#GUID-F9D4E8D3-0581-4CF4-ADEC-20720E51E20D" title="The guided workflow enables you to test the performance effect of any types of system changes on a SQL workload.">Using the Guided Workflow</a>"</span>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div><a id="RATUG274"></a><a id="RATUG177"></a><div class="props_rev_3"><a id="GUID-55DB02F0-E3F7-45C4-BDB0-EB6EDF4091DD" name="GUID-55DB02F0-E3F7-45C4-BDB0-EB6EDF4091DD"></a><h4 id="RATUG-GUID-55DB02F0-E3F7-45C4-BDB0-EB6EDF4091DD" class="sect4"><span class="enumeration_section">3.1.1 </span>Using the Parameter Change Workflow
                  </h4>
                  <div>
                     <div><span>The parameter change workflow enables you to test the performance effect on a SQL workload when you change the value of a single environment initialization parameter.</span> For example, you can compare SQL performance by setting the <code class="codeph">OPTIMIZER_FEATURES_ENABLE</code> initialization parameter to 10.2.0.4 and 12.1.0.1.
                     </div>
                     <div class="section">
                        <p>After you select a SQL tuning set and a comparison metric, SQL Performance Analyzer creates a task and performs a trial with the initialization parameter set to the original value. SQL Performance Analyzer then performs a second trial with the parameter set to the changed value by issuing an <code class="codeph">ALTER SESSION</code> statement. The impact of the change is thus contained locally to the testing session. Any regression or change in performance is reported in a system-generated SQL Performance Analyzer report.
                        </p>
                        <div class="infoboxnote" id="GUID-55DB02F0-E3F7-45C4-BDB0-EB6EDF4091DD__GUID-B4D4F476-34A0-4FA9-89E4-25A35499D643">
                           <p class="notep1">Note:</p>
                           <p>To create an analysis task for other types of system changes, use the guided workflow instead, as described in <span class="q">"<a href="creating-an-analysis-task.html#GUID-F9D4E8D3-0581-4CF4-ADEC-20720E51E20D" title="The guided workflow enables you to test the performance effect of any types of system changes on a SQL workload.">Using the Guided Workflow</a>"</span>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-55DB02F0-E3F7-45C4-BDB0-EB6EDF4091DD__GUID-D1D3D1C7-B801-428E-9C2C-38E233F45660">To use the SQL Performance Analyzer parameter change workflow:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>On the SQL Performance Analyzer Home page, under SQL Performance Analyzer Workflows, click <span class="bold">Parameter Change</span>.
                              </p>
                              <p>The Parameter Change page appears.</p>
                              <div class="figure" id="GUID-55DB02F0-E3F7-45C4-BDB0-EB6EDF4091DD__GUID-56047581-14CD-439E-A496-452A9E7CAD67"><img src="img/spa_param_change.gif" width="285" alt="Description of spa_param_change.gif follows" title="Description of spa_param_change.gif follows" longdesc="img_text/spa_param_change.html"><br><a href="img_text/spa_param_change.html">Description of the illustration spa_param_change.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>In the Task Name field, enter the name of the task.</p>
                           </li>
                           <li>
                              <p>In the SQL Tuning Set field, enter the name of the SQL tuning set that contains the SQL workload to be analyzed.</p>
                              <p>Alternatively, click the search icon to search for a SQL tuning set using the Search and Select: SQL Tuning Set window.</p>
                              <p>The selected SQL tuning set now appears in the SQL Tuning Set field.</p>
                           </li>
                           <li>
                              <p>In the Description field, optionally enter a description of the task.</p>
                           </li>
                           <li id="GUID-55DB02F0-E3F7-45C4-BDB0-EB6EDF4091DD__CACBGAAI">
                              <p>In the Creation Method list, determine how the SQL trial is created and what contents are generated by performing one of the following actions:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Select <span class="bold">Execute SQLs</span>.
                                    </p>
                                    <p>The SQL trial generates both execution plans and statistics for each SQL statement in the SQL tuning set by actually running the SQL statements.</p>
                                 </li>
                                 <li>
                                    <p>Select <span class="bold">Generate Plans</span>.
                                    </p>
                                    <p>The SQL trial invokes the optimizer to create execution plans only without actually running the SQL statements.</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>In the Per-SQL Time Limit list, determine the time limit for SQL execution during the trial by performing one of the following actions:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Select <span class="bold">5 minutes</span>.
                                    </p>
                                    <p>The execution will run each SQL statement in the SQL tuning set up to 5 minutes and gather performance data.</p>
                                 </li>
                                 <li>
                                    <p>Select <span class="bold">Unlimited</span>.
                                    </p>
                                    <p>The execution will run each SQL statement in the SQL tuning set to completion and gather performance data. Collecting execution statistics provides greater accuracy in the performance analysis but takes a longer time. Using this setting is not recommended because the task may be stalled by one SQL statement for a prolonged time period.</p>
                                 </li>
                                 <li>
                                    <p>Select <span class="bold">Customize</span> and enter the specified number of seconds, minutes, or hours.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>In the Parameter Change section, complete the following steps:</p>
                              <ol type="a">
                                 <li>
                                    <p>In the Parameter Name field, enter the name of the initialization parameter whose value you want to modify, or click the Search icon to select an initialization parameter using the Search and Select: Initialization Parameters window.</p>
                                 </li>
                                 <li>
                                    <p>In the Base Value field, enter the current value of the initialization parameter.</p>
                                 </li>
                                 <li>
                                    <p>In the Changed Value field, enter the new value of the initialization parameter.</p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>In the Comparison Metric list, select the comparison metric to use for the analysis:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If you selected <span class="bold">Generate Plans</span> in Step <a href="creating-an-analysis-task.html#GUID-55DB02F0-E3F7-45C4-BDB0-EB6EDF4091DD__CACBGAAI">5</a>, then select <span class="bold">Optimizer Cost</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If you selected <span class="bold">Execute SQLs</span> in Step <a href="creating-an-analysis-task.html#GUID-55DB02F0-E3F7-45C4-BDB0-EB6EDF4091DD__CACBGAAI">5</a>, then select one of the following options:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><span class="bold">Elapsed Time</span></p>
                                       </li>
                                       <li>
                                          <p><span class="bold">CPU Time</span></p>
                                       </li>
                                       <li>
                                          <p><span class="bold">User I/O Time</span></p>
                                       </li>
                                       <li>
                                          <p><span class="bold">Buffer Gets</span></p>
                                       </li>
                                       <li>
                                          <p><span class="bold">Physical I/O</span></p>
                                       </li>
                                       <li>
                                          <p><span class="bold">Optimizer Cost</span></p>
                                       </li>
                                       <li>
                                          <p><span class="bold">I/O Interconnect Bytes</span></p>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                              <p>To perform the comparison analysis by using more than one comparison metric, perform separate comparison analyses by repeating this procedure using different metrics.</p>
                           </li>
                           <li>
                              <p>In the Schedule section:</p>
                              <ol type="a">
                                 <li>
                                    <p>In the Time Zone list, select your time zone code.</p>
                                 </li>
                                 <li>
                                    <p>Select <span class="bold">Immediately</span> to start the task now, or <span class="bold">Later</span> to schedule the task to start at a time specified using the Date and Time fields.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>Click <span class="bold">Submit</span>.
                              </p>
                              <p>The SQL Performance Analyzer Home page appears.</p>
                              <p>In the SQL Performance Analyzer Tasks section, the status of this task is displayed. To refresh the status icon, click <span class="bold">Refresh</span>. After the task completes, the Status field changes to Completed.
                              </p>
                              <div class="figure" id="GUID-55DB02F0-E3F7-45C4-BDB0-EB6EDF4091DD__GUID-FF9E73E7-0675-4632-8906-BBD6BBE2F1CE"><img src="img/spa_tasks_param_change.gif" width="496" alt="Description of spa_tasks_param_change.gif follows" title="Description of spa_tasks_param_change.gif follows" longdesc="img_text/spa_tasks_param_change.html"><br><a href="img_text/spa_tasks_param_change.html">Description of the illustration spa_tasks_param_change.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>In the SQL Performance Analyzer Tasks section, select the task and click the link in the Name column.</p>
                              <p>The SQL Performance Analyzer Task page appears.</p>
                              <div class="figure" id="GUID-55DB02F0-E3F7-45C4-BDB0-EB6EDF4091DD__GUID-971BC435-5DFB-457D-B27F-0FBA4B6BF4CC"><img src="img/spa_task_param_change.gif" width="501" alt="Description of spa_task_param_change.gif follows" title="Description of spa_task_param_change.gif follows" longdesc="img_text/spa_task_param_change.html"><br><a href="img_text/spa_task_param_change.html">Description of the illustration spa_task_param_change.gif</a></div>
                              <!-- class="figure" -->
                              <p>This page contains the following sections:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>SQL Tuning Set</p>
                                    <p>This section summarizes information about the SQL tuning set, including its name, owner, description, and the number of SQL statements it contains.</p>
                                 </li>
                                 <li>
                                    <p>SQL Trials</p>
                                    <p>This section includes a table that lists the SQL trials used in the SQL Performance Analyzer task.</p>
                                 </li>
                                 <li>
                                    <p>SQL Trial Comparisons</p>
                                    <p>This section contains a table that lists the results of the SQL trial comparisons</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Click the icon in the Comparison Report column.</p>
                              <p>The SQL Performance Analyzer Task Result page appears.</p>
                           </li>
                           <li>
                              <p>Review the results of the performance analysis, as described in <span class="q">"<a href="comparing-sql-trials.html#GUID-98608C0D-8BA8-4F10-94D8-3AE987087CBF" title="When a SQL Performance Analyzer task is completed, the resulting data is generated into a SQL Performance Analyzer report that compares the pre-change and post-change SQL performance.">Reviewing the SQL Performance Analyzer Report Using Oracle Enterprise Manager</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>In cases when regression are identified, click the icon in the SQL Tune Report column to view a SQL tuning report.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG317"></a><a id="RATUG316"></a><div class="props_rev_3"><a id="GUID-F28593A6-6688-4574-ACEB-DB2550813965" name="GUID-F28593A6-6688-4574-ACEB-DB2550813965"></a><h4 id="RATUG-GUID-F28593A6-6688-4574-ACEB-DB2550813965" class="sect4"><span class="enumeration_section">3.1.2 </span>Using the Optimizer Statistics Workflow
                  </h4>
                  <div>
                     <p>The optimizer statistics workflow enables you to analyze the effects of optimizer statistics changes on the performance of a SQL workload.</p>
                     <div class="section">
                        <p>The <a id="d4474e786" class="indexterm-anchor"></a></p>
                        <p>SQL Performance Analyzer tests the effect of new optimizer statistics by enabling pending optimizer statistics in the testing session. The first SQL trial measures the baseline SQL tuning set performance; the second SQL trial uses the pending optimizer statistics. You can then run a comparison report for the two SQL trials.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F28593A6-6688-4574-ACEB-DB2550813965__GUID-21660A02-9F6F-4FAC-B325-FE663BF56EBB">To use the optimizer statistics workflow:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>On the SQL Performance Analyzer Home page, under SQL Performance Analyzer Workflows, click <span class="bold">Optimizer Statistics</span>.
                              </p>
                              <p>The Optimizer Statistics page appears.</p>
                              <div class="figure" id="GUID-F28593A6-6688-4574-ACEB-DB2550813965__GUID-E87E6126-2540-4ED7-9206-6DE9CF547806"><img src="img/spa_optimizer_stats.gif" width="282" alt="Description of spa_optimizer_stats.gif follows" title="Description of spa_optimizer_stats.gif follows" longdesc="img_text/spa_optimizer_stats.html"><br><a href="img_text/spa_optimizer_stats.html">Description of the illustration spa_optimizer_stats.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>In the Task Name field, enter the name of the task.</p>
                           </li>
                           <li>
                              <p>In the SQL Tuning Set field, enter the name of the SQL tuning set that contains the SQL workload to be analyzed.</p>
                              <p>Alternatively, click the search icon to search for a SQL tuning set using the Search and Select: SQL Tuning Set window.</p>
                              <p>The selected SQL tuning set now appears in the SQL Tuning Set field.</p>
                           </li>
                           <li>
                              <p>In the Description field, optionally enter a description of the task.</p>
                           </li>
                           <li>
                              <p>In the Creation Method list, determine how the SQL trial is created and what contents are generated by performing one of the following actions:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Select <span class="bold">Execute SQLs</span>.
                                    </p>
                                    <p>The SQL trial generates both execution plans and statistics for each SQL statement in the SQL tuning set by actually running the SQL statements.</p>
                                 </li>
                                 <li>
                                    <p>Select <span class="bold">Generate Plans</span>.
                                    </p>
                                    <p>The SQL trial invokes the optimizer to create execution plans only without actually running the SQL statements.</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>In the Per-SQL Time Limit list, determine the time limit for SQL execution during the trial by performing one of the following actions:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Select <span class="bold">5 minutes</span>.
                                    </p>
                                    <p>The execution will run each SQL statement in the SQL tuning set up to 5 minutes and gather performance data.</p>
                                 </li>
                                 <li>
                                    <p>Select <span class="bold">Unlimited</span>.
                                    </p>
                                    <p>The execution will run each SQL statement in the SQL tuning set to completion and gather performance data. Collecting execution statistics provides greater accuracy in the performance analysis but takes a longer time. Using this setting is not recommended because the task may be stalled by one SQL statement for a prolonged time period.</p>
                                 </li>
                                 <li>
                                    <p>Select <span class="bold">Customize</span> and enter the specified number of seconds, minutes, or hours.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>In the Comparison Metric list, select the comparison metric to use for the comparison analysis:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="bold">Elapsed Time</span></p>
                                 </li>
                                 <li>
                                    <p><span class="bold">CPU Time</span></p>
                                 </li>
                                 <li>
                                    <p><span class="bold">User I/O Time</span></p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Buffer Gets</span></p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Physical I/O</span></p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Optimizer Cost</span></p>
                                 </li>
                                 <li>
                                    <p><span class="bold">I/O Interconnect Bytes</span></p>
                                 </li>
                              </ul>
                              <p>Optimizer Cost is the only comparison metric available if you chose to generate execution plans only in the SQL trials.</p>
                              <p>To perform the comparison analysis by using more than one comparison metric, perform separate comparison analyses by repeating this procedure with different metrics. </p>
                           </li>
                           <li>
                              <p>Ensure that pending optimizer statistics are collected, and select <span class="bold">Pending optimizer statistics collected</span>.
                              </p>
                           </li>
                           <li>
                              <p>In the Schedule section:</p>
                              <ol type="a">
                                 <li>
                                    <p>In the Time Zone list, select your time zone code.</p>
                                 </li>
                                 <li>
                                    <p>Select <span class="bold">Immediately</span> to start the task now, or <span class="bold">Later</span> to schedule the task to start at a time specified using the Date and Time fields.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>Click <span class="bold">Submit</span>.
                              </p>
                              <p>The SQL Performance Analyzer Home page appears.</p>
                              <p>In the SQL Performance Analyzer Tasks section, the status of this task is displayed. To refresh the status icon, click <span class="bold">Refresh</span>. After the task completes, the Status field changes to Completed.
                              </p>
                              <div class="figure" id="GUID-F28593A6-6688-4574-ACEB-DB2550813965__GUID-AF9FAFC2-3938-4288-ABDF-067AF6219FD5"><img src="img/spa_tasks_optimizer.gif" width="488" alt="Description of spa_tasks_optimizer.gif follows" title="Description of spa_tasks_optimizer.gif follows" longdesc="img_text/spa_tasks_optimizer.html"><br><a href="img_text/spa_tasks_optimizer.html">Description of the illustration spa_tasks_optimizer.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>In the SQL Performance Analyzer Tasks section, select the task and click the link in the Name column.</p>
                              <p>The SQL Performance Analyzer Task page appears.</p>
                              <div class="figure" id="GUID-F28593A6-6688-4574-ACEB-DB2550813965__GUID-C4CD97FB-1FE9-47B4-A362-3CF7531B1789"><img src="img/spa_task_optimizer.gif" width="477" alt="Description of spa_task_optimizer.gif follows" title="Description of spa_task_optimizer.gif follows" longdesc="img_text/spa_task_optimizer.html"><br><a href="img_text/spa_task_optimizer.html">Description of the illustration spa_task_optimizer.gif</a></div>
                              <!-- class="figure" -->
                              <p>This page contains the following sections:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>SQL Tuning Set</p>
                                    <p>This section summarizes information about the SQL tuning set, including its name, owner, description, and the number of SQL statements it contains.</p>
                                 </li>
                                 <li>
                                    <p>SQL Trials</p>
                                    <p>This section includes a table that lists the SQL trials used in the SQL Performance Analyzer task.</p>
                                 </li>
                                 <li>
                                    <p>SQL Trial Comparisons</p>
                                    <p>This section contains a table that lists the results of the SQL trial comparisons</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Click the icon in the Comparison Report column.</p>
                              <p>The SQL Performance Analyzer Task Result page appears.</p>
                           </li>
                           <li>
                              <p>Review the results of the performance analysis, as described in <span class="q">"<a href="comparing-sql-trials.html#GUID-98608C0D-8BA8-4F10-94D8-3AE987087CBF" title="When a SQL Performance Analyzer task is completed, the resulting data is generated into a SQL Performance Analyzer report that compares the pre-change and post-change SQL performance.">Reviewing the SQL Performance Analyzer Report Using Oracle Enterprise Manager</a>"</span>.
                              </p>
                              <p>Any regressions found in performance can be fixed using SQL plan baselines and the SQL Tuning Advisor. If the pending optimizer statistics produce satisfactory performance, you can publish for use.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG294"></a><a id="RATUG293"></a><div class="props_rev_3"><a id="GUID-58FA5887-382C-4FA8-9947-C8B77F6D0EE3" name="GUID-58FA5887-382C-4FA8-9947-C8B77F6D0EE3"></a><h4 id="RATUG-GUID-58FA5887-382C-4FA8-9947-C8B77F6D0EE3" class="sect4"><span class="enumeration_section">3.1.3 </span>Using the Exadata Simulation Workflow
                  </h4>
                  <div>
                     <p>The Exadata simulation workflow enables you to simulate the effects of an Exadata Storage Server installation on the performance of a SQL workload.</p>
                     <div class="section">
                        <p>Oracle Exadata provides extremely large I/O bandwidth coupled with a capability to offload SQL processing from the database to storage. This allows Oracle Database to significantly reduce the volume of data sent through the I/O interconnect, while at the same time offloading CPU resources to the Exadata storage cells.</p>
                        <p>SQL Performance Analyzer can analyze the effectiveness of Exadata SQL offload processing by simulating an Exadata Storage Server installation and measuring the reduction in I/O interconnect usage for the SQL workload.</p>
                        <p>Running the Exadata simulation does not require any hardware or configuration changes to your system. After you select a SQL tuning set, SQL Performance Analyzer creates a task and performs an initial trial with the Exadata Storage Server simulation disabled. SQL Performance Analyzer then performs a second trial with the Exadata Storage Server simulation enabled. SQL Performance Analyzer then compares the two trials using the I/O Interconnect Bytes comparison metric and generates a SQL Performance Analyzer report, which estimates the amount of data that would not need to be sent from the Exadata storage cells to the database if Oracle Exadata is being used. In both SQL trials, the SQL statements are executed to completion and I/O interconnect bytes measurements are taken as the actual and simulated Exadata values for the first and second trials, respectively. The measured change in I/O interconnect bytes provides a good estimate of how much filtering can be performed in the Exadata storage cells and, in turn, the amount of CPU that normally would be used to process this data, but now can be offloaded from the database.</p>
                        <div class="infoboxnote" id="GUID-58FA5887-382C-4FA8-9947-C8B77F6D0EE3__GUID-B941349F-4330-420C-BB08-A8DF022F195C">
                           <p class="notep1">Note:</p>
                           <p>Using the Exadata simulation will not result in any plan changes. Execution plans do not change in an Exadata Storage Server installation because the simulation focuses on measuring the improvement in I/O interconnect usage. Moreover, I/O interconnect bytes will not increase, except when data compression is used (see next note), because Oracle Exadata will only decrease the amount of data sent to the database.</p>
                        </div>
                        <div class="infoboxnote" id="GUID-58FA5887-382C-4FA8-9947-C8B77F6D0EE3__GUID-24A80E60-7D0E-4BF6-9171-63AC5F3665AD">
                           <p class="notep1">Note:</p>
                           <p>Because I/O interconnect bytes is the only metric used to measure the performance change impact of using an Exadata Storage Server installation, it will not work properly if Oracle Exadata is used with data compression. Since Exadata storage cells also decompress data, the I/O interconnect bytes with Oracle Exadata (or the second SQL trial) of a SQL statement may be greater than the I/O interconnect bytes without Oracle Exadata (or the first SQL trial) where the data is compressed. This comparison will be misleading because the SQL statement will be reported as a regression; when in fact, it is not.</p>
                        </div>
                        <div class="infoboxnote" id="GUID-58FA5887-382C-4FA8-9947-C8B77F6D0EE3__GUID-F9612D7A-D350-42F7-A83A-D7D7E0819B4D">
                           <p class="notep1">Note:</p>
                           <p>The Exadata simulation workflow is used to simulate an Exadata Storage Server installation on non-Exadata hardware. To test changes on Exadata hardware, use the standard SQL Performance Analyzer workflows.</p>
                        </div>
                        <div class="infoboxnote" id="GUID-58FA5887-382C-4FA8-9947-C8B77F6D0EE3__GUID-9DAD22A3-532F-4AA2-8E38-41F733CF8E6E">
                           <p class="notep1">Note:</p>
                           <p>The Exadata simulation is supported for DSS and data warehouse workloads only.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-58FA5887-382C-4FA8-9947-C8B77F6D0EE3__GUID-F1FB4617-AA6B-45B3-BA86-3F3A3EF93911">To use the SQL Performance Analyzer Exadata simulation workflow:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>On the SQL Performance Analyzer Home page, under SQL Performance Analyzer Workflows, click <span class="bold">Exadata Simulation</span>.
                              </p>
                              <p>The Exadata Simulation page appears.</p>
                              <div class="figure" id="GUID-58FA5887-382C-4FA8-9947-C8B77F6D0EE3__GUID-C8E1B6B7-7172-4978-B3B5-6F5A4A204B74"><img src="img/spa_exadata_sim.gif" width="283" alt="Description of spa_exadata_sim.gif follows" title="Description of spa_exadata_sim.gif follows" longdesc="img_text/spa_exadata_sim.html"><br><a href="img_text/spa_exadata_sim.html">Description of the illustration spa_exadata_sim.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>In the Task Name field, enter the name of the task.</p>
                           </li>
                           <li>
                              <p>In the SQL Tuning Set field, enter the name of the SQL tuning set that contains the SQL workload to be analyzed.</p>
                              <p>Alternatively, click the search icon to search for a SQL tuning set using the Search and Select: SQL Tuning Set window.</p>
                              <p>The selected SQL tuning set now appears in the SQL Tuning Set field.</p>
                           </li>
                           <li>
                              <p>In the Description field, optionally enter a description of the task.</p>
                           </li>
                           <li>
                              <p>In the Per-SQL Time Limit list, determine the time limit for SQL execution during the trial by performing one of the following actions:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Select <span class="bold">5 minutes</span>.
                                    </p>
                                    <p>The execution will run each SQL statement in the SQL tuning set up to 5 minutes and gather performance data.</p>
                                 </li>
                                 <li>
                                    <p>Select <span class="bold">Unlimited</span>.
                                    </p>
                                    <p>The execution will run each SQL statement in the SQL tuning set to completion and gather performance data. Collecting execution statistics provides greater accuracy in the performance analysis but takes a longer time. Using this setting is not recommended because the task may be stalled by one SQL statement for a prolonged time period.</p>
                                 </li>
                                 <li>
                                    <p>Select <span class="bold">Customize</span> and enter the specified number of seconds, minutes, or hours.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>In the Schedule section:</p>
                              <ol type="a">
                                 <li>
                                    <p>In the Time Zone list, select your time zone code.</p>
                                 </li>
                                 <li>
                                    <p>Select <span class="bold">Immediately</span> to start the task now, or <span class="bold">Later</span> to schedule the task to start at a time specified using the Date and Time fields.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>Click <span class="bold">Submit</span>.
                              </p>
                              <p>The SQL Performance Analyzer Home page appears.</p>
                              <p>In the SQL Performance Analyzer Tasks section, the status of this task is displayed. To refresh the status icon, click <span class="bold">Refresh</span>. After the task completes, the Status field changes to Completed.
                              </p>
                              <div class="figure" id="GUID-58FA5887-382C-4FA8-9947-C8B77F6D0EE3__GUID-ECEB77A5-C924-4510-871B-B163E0530942"><img src="img/spa_tasks_exadata.gif" width="496" alt="Description of spa_tasks_exadata.gif follows" title="Description of spa_tasks_exadata.gif follows" longdesc="img_text/spa_tasks_exadata.html"><br><a href="img_text/spa_tasks_exadata.html">Description of the illustration spa_tasks_exadata.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>In the SQL Performance Analyzer Tasks section, select the task and click the link in the Name column.</p>
                              <p>The SQL Performance Analyzer Task page appears.</p>
                              <div class="figure" id="GUID-58FA5887-382C-4FA8-9947-C8B77F6D0EE3__GUID-DBEB2052-DC18-4243-B126-82ECFBB1D47D"><img src="img/spa_task_exadata_sim.gif" width="478" alt="Description of spa_task_exadata_sim.gif follows" title="Description of spa_task_exadata_sim.gif follows" longdesc="img_text/spa_task_exadata_sim.html"><br><a href="img_text/spa_task_exadata_sim.html">Description of the illustration spa_task_exadata_sim.gif</a></div>
                              <!-- class="figure" -->
                              <p>This page contains the following sections:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>SQL Tuning Set</p>
                                    <p>This section summarizes information about the SQL tuning set, including its name, owner, description, and the number of SQL statements it contains.</p>
                                 </li>
                                 <li>
                                    <p>SQL Trials</p>
                                    <p>This section includes a table that lists the SQL trials used in the SQL Performance Analyzer task.</p>
                                 </li>
                                 <li>
                                    <p>SQL Trial Comparisons</p>
                                    <p>This section contains a table that lists the results of the SQL trial comparisons</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Click the icon in the Comparison Report column.</p>
                              <p>The SQL Performance Analyzer Task Result page appears.</p>
                           </li>
                           <li>
                              <p>Review the results of the performance analysis, as described in <span class="q">"<a href="comparing-sql-trials.html#GUID-98608C0D-8BA8-4F10-94D8-3AE987087CBF" title="When a SQL Performance Analyzer task is completed, the resulting data is generated into a SQL Performance Analyzer report that compares the pre-change and post-change SQL performance.">Reviewing the SQL Performance Analyzer Report Using Oracle Enterprise Manager</a>"</span>.
                              </p>
                              <p>Any SQL performance improvement with the Exadata simulation between the first and second trials is captured in the report. In general, you can expect a greater impact if the SQL workload contains queries that scan a large number of rows or a small subset of table columns. Conversely, a SQL workload that queries indexed tables or tables with fewer rows will result in a lesser impact from the Exadata simulation.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG275"></a><a id="RATUG178"></a><div class="props_rev_3"><a id="GUID-F9D4E8D3-0581-4CF4-ADEC-20720E51E20D" name="GUID-F9D4E8D3-0581-4CF4-ADEC-20720E51E20D"></a><h4 id="RATUG-GUID-F9D4E8D3-0581-4CF4-ADEC-20720E51E20D" class="sect4"><span class="enumeration_section">3.1.4 </span>Using the Guided Workflow
                  </h4>
                  <div>
                     <div><span>The guided workflow enables you to test the performance effect of any types of system changes on a SQL workload.</span> See <span class="q">"<a href="introduction-to-oracle-database-testing.html#GUID-F2920E05-3680-4699-B074-92DBEF682B70" title="System changes—such as a upgrading a database or adding an index—may cause changes to execution plans of SQL statements, resulting in a significant impact on SQL performance.">SQL Performance Analyzer</a>"</span> for a list of system changes that can impact SQL performance.
                     </div>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-F9D4E8D3-0581-4CF4-ADEC-20720E51E20D__GUID-770DD204-BD7B-49AE-9411-F84CE01BB0E9">
                           <p class="notep1">Note:</p>
                           <p>To create an analysis task to test database initialization parameter changes, use the simplified parameter change workflow instead, as described in <span class="q">"<a href="creating-an-analysis-task.html#GUID-55DB02F0-E3F7-45C4-BDB0-EB6EDF4091DD" title="The parameter change workflow enables you to test the performance effect on a SQL workload when you change the value of a single environment initialization parameter.">Using the Parameter Change Workflow</a>"</span>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F9D4E8D3-0581-4CF4-ADEC-20720E51E20D__GUID-A92C616F-3868-40C5-B6CD-74454F7317D4">To use the SQL Performance Analyzer task guided workflow:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>On the SQL Performance Analyzer Home page, under SQL Performance Analyzer Workflows, click <span class="bold">Guided Workflow</span>.</span><div>
                              <p>The Guided Workflow page appears.</p>
                              <p>The guided workflow enables you to test the performance effect on a SQL workload when you perform any type of system changes, as described in <span class="q">"<a href="introduction-to-oracle-database-testing.html#GUID-F2920E05-3680-4699-B074-92DBEF682B70" title="System changes—such as a upgrading a database or adding an index—may cause changes to execution plans of SQL statements, resulting in a significant impact on SQL performance.">SQL Performance Analyzer</a>"</span>.
                              </p>
                              <p>This page lists the required steps in the SQL Performance Analyzer task in sequential order. Each step must be completed in the order displayed before the next step can begin.</p>
                              <div class="figure" id="GUID-F9D4E8D3-0581-4CF4-ADEC-20720E51E20D__GUID-ED07EE9B-B749-4F01-A014-CC3DCE5B7569"><img src="img/spa_guided_workflow.gif" width="501" alt="Description of spa_guided_workflow.gif follows" title="Description of spa_guided_workflow.gif follows" longdesc="img_text/spa_guided_workflow.html"><br><a href="img_text/spa_guided_workflow.html">Description of the illustration spa_guided_workflow.gif</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>On the Guided Workflow page, click the <span class="bold">Execute</span> icon for the Step 1: Create SQL Performance Analyzer Task based on SQL Tuning Set.</span><div>
                              <p>The Create SQL Performance Analyzer Task page appears.</p>
                              <div class="figure" id="GUID-F9D4E8D3-0581-4CF4-ADEC-20720E51E20D__GUID-CC862E37-A8B5-48CF-A958-AFE4830FC248"><img src="img/spa_create_task.gif" width="499" alt="Description of spa_create_task.gif follows" title="Description of spa_create_task.gif follows" longdesc="img_text/spa_create_task.html"><br><a href="img_text/spa_create_task.html">Description of the illustration spa_create_task.gif</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>In the Name field, enter the name of the task.</span></li>
                        <li class="stepexpand"><span>In the Description field, optionally enter a description of the task.</span></li>
                        <li class="stepexpand"><span>Under SQL Tuning Set, in the Name field, enter the name the SQL tuning set that contains the SQL workload to be analyzed.</span><div>
                              <p>Alternatively, click the search icon to select a SQL tuning set from the Search and Select: SQL Tuning Set window.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Create</span>.</span><div>
                              <p>The Guided Workflow page appears.</p>
                              <p>The Status icon of this step has changed to a check mark and the <span class="bold">Execute</span> icon for the next step is now enabled.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Once the analysis task is created, you can build the pre-change performance data by executing the SQL statements stored in the SQL tuning set, as described in <a href="creating-a-pre-change-sql-trial.html#GUID-34F13B73-7FFA-4E5E-862E-2D38128ED582" title="After creating a SQL Performance Analyzer task and selecting a SQL tuning set as the input source, you need to establish the initial environment on the test system.">Creating a Pre-Change SQL Trial</a>.</span></li>
                     </ol>
                  </div>
               </div>
            </div><a id="RATUG179"></a><div class="props_rev_3"><a id="GUID-A00000CF-F2DA-4138-BBFB-6FA03D889EBA" name="GUID-A00000CF-F2DA-4138-BBFB-6FA03D889EBA"></a><h3 id="RATUG-GUID-A00000CF-F2DA-4138-BBFB-6FA03D889EBA" class="sect3"><span class="enumeration_section">3.2 </span>Creating an Analysis Task Using APIs
               </h3>
               <div>
                  <p>This section describes how to create a SQL Performance Analyzer task by using the <code class="codeph">DBMS_SQLPA.CREATE_ANALYSIS_TASK</code> function. A task is a database container for SQL Performance Analyzer execution inputs and results.
                  </p>
                  <div class="p">Before proceeding, capture the SQL workload to be used in the performance analysis into a SQL tuning set on the production system, then transport it to the test system where the performance analysis will be performed, as described in <span class="q">"<a href="introduction-to-sql-performance-analyzer.html#GUID-3828F92F-62BC-4A5E-8303-9720DCCB64B4" title="Before running SQL Performance Analyzer, capture a set of SQL statements on the production system that represents the SQL workload which you intend to analyze.">Capturing the SQL Workload</a>"</span>.
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A00000CF-F2DA-4138-BBFB-6FA03D889EBA__GUID-4D45B59D-06A6-4631-A04A-5C3A60D78ACD">To create an analysis task:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Call the <a id="d4474e1508" class="indexterm-anchor"></a><code class="codeph">CREATE_ANALYSIS_TASK</code> function using the following parameters:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Set <code class="codeph">task_name</code> to specify an optional name for the SQL Performance Analyzer task.
                                 </p>
                              </li>
                              <li>
                                 <p>Set <code class="codeph">sqlset_name</code> to the name of the SQL tuning set.
                                 </p>
                              </li>
                              <li>
                                 <p>Set <code class="codeph">sqlset_owner</code> to the owner of the SQL tuning set. The default is the current schema owner.
                                 </p>
                              </li>
                              <li>
                                 <p>Set <code class="codeph">basic_filter</code> to the SQL predicate used to filter the SQL from the SQL tuning set.
                                 </p>
                              </li>
                              <li>
                                 <p>Set <code class="codeph">order_by</code> to specify the order in which the SQL statements will be executed.
                                 </p>
                                 <p>You can use this parameter to ensure that the more important SQL statements will be processed and not skipped if the time limit is reached.</p>
                              </li>
                              <li>
                                 <p>Set <code class="codeph">top_sql</code> to consider only the top number of SQL statements after filtering and ranking.
                                 </p>
                              </li>
                           </ul>
                           <p>The following example illustrates a function call:</p><pre class="oac_no_warn" dir="ltr">VARIABLE t_name VARCHAR2(100);
EXEC :t_name := DBMS_SQLPA.CREATE_ANALYSIS_TASK(sqlset_name =&gt; 'my_sts', -
       task_name =&gt; 'my_spa_task');
</pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Once the analysis task is created, you can build the pre-change performance data by executing the SQL statements stored in the SQL tuning set, as described in <a href="creating-a-pre-change-sql-trial.html#GUID-34F13B73-7FFA-4E5E-862E-2D38128ED582" title="After creating a SQL Performance Analyzer task and selecting a SQL tuning set as the input source, you need to establish the initial environment on the test system.">Creating a Pre-Change SQL Trial</a>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-A00000CF-F2DA-4138-BBFB-6FA03D889EBA__GUID-CDEBB300-1AEA-4321-A06A-325A536CC768">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../arpls/DBMS_SQLPA.html#ARPLS229" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn more about the <code class="codeph">DBMS_SQLPA.CREATE_ANALYSIS_TASK</code> function
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="RATUG4234"></a><div class="sect2"><a id="GUID-F8BBF7BE-382C-4EF8-B074-F39A74D011DC" name="GUID-F8BBF7BE-382C-4EF8-B074-F39A74D011DC"></a><h3 id="RATUG-GUID-F8BBF7BE-382C-4EF8-B074-F39A74D011DC" class="sect3"><span class="enumeration_section">3.3 </span>Configuring an Analysis Task Using APIs
               </h3>
               <div>
                  <div><span>This section describes how to configure a SQL Performance Analyzer task once it has been created.</span> You can configure an analysis task by setting its parameters using the <code class="codeph">DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER</code> procedure.
                  </div>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="creating-an-analysis-task.html#GUID-44B1467E-C355-4184-B9C3-A7982A4F39A1" title="You can configure the comparison method that determines when a SQL Performance Analyzer task performs line-by-line comparison of execution plans.">Configuring the Execution Plan Comparison Method of an Analysis Task Using APIs</a></p>
                     </li>
                     <li>
                        <p><a href="creating-an-analysis-task.html#GUID-F4FD92EB-480C-4FE1-BF15-69EE593D9E1C" title="You can configure a SQL Performance Analyzer to run the Oracle Exadata simulation.">Configuring an Analysis Task for Exadata Simulation Using APIs</a></p>
                     </li>
                     <li>
                        <p><a href="creating-an-analysis-task.html#GUID-1206AB9E-14D3-4784-AEC0-A1929A36857D" title="You can store captured SQL statements in a SQL tuning set, and use it as an input source when creating a SQL Performance Analyzer task. SQL Performance Analyzer then uses the SQL tuning set as the source for test executing or generating execution plans for SQL trials.">Remapping Multitenant Container Database Identifiers in an Analysis Task Using APIs</a></p>
                     </li>
                     <li>
                        <p><a href="creating-an-analysis-task.html#GUID-EE47E8F7-FE2F-464A-A30E-1C8ADA201960" title="You can configure whether or not triggers are executed in an analysis task. By default, triggers are executed by SQL Performance Analyzer.">Configuring Trigger Execution in an Analysis Task</a></p>
                     </li>
                     <li>
                        <p><a href="creating-an-analysis-task.html#GUID-7C742DB2-A1AB-44FC-8709-BC323336505B" title="You can configure how SQL statements that refer to SYSDATE in an analysis task are handled.">Configuring a Date to be Returned by Calls in an Analysis Task</a></p>
                     </li>
                     <li>
                        <p><a href="creating-an-analysis-task.html#GUID-952CD60A-6673-468E-BE87-ABC0E41D1201" title="You can configure how many rows are fetched for the SQL statements in an analysis task.">Configuring the Number of Rows to Fetch for an Analysis Task</a></p>
                     </li>
                     <li>
                        <p><a href="creating-an-analysis-task.html#GUID-ADF5573F-0ADC-46DD-9AB1-433D97856F1F" title="You can set the degree of parallelism and enable concurrent SQL execution.">Configuring the Degree of Parallelism for an Analysis Task</a></p>
                     </li>
                     <li>
                        <p><a href="creating-an-analysis-task.html#GUID-34BDF1DE-2711-48E3-81D7-F1AAA8D3E08E" title="Comparison of SQL result sets is now supported when running two “test-execute” SQL Performance Analyzer (SPA) trials.">Validating SQL Result Sets Using SQL Performance Analyzer</a></p>
                     </li>
                  </ul>
               </div><a id="RATUG4236"></a><a id="RATUG4237"></a><a id="RATUG4235"></a><div class="props_rev_3"><a id="GUID-44B1467E-C355-4184-B9C3-A7982A4F39A1" name="GUID-44B1467E-C355-4184-B9C3-A7982A4F39A1"></a><h4 id="RATUG-GUID-44B1467E-C355-4184-B9C3-A7982A4F39A1" class="sect4"><span class="enumeration_section">3.3.1 </span>Configuring the Execution Plan Comparison Method of an Analysis Task Using APIs
                  </h4>
                  <div>
                     <div><span>You can configure the comparison method that determines when a SQL Performance Analyzer task performs line-by-line comparison of execution plans.</span> By default, a SQL Performance Analyzer task performs line-by-line comparison of execution plans only if the plan hash value is unknown.
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-44B1467E-C355-4184-B9C3-A7982A4F39A1__GUID-C617C5BD-7AD4-481D-9E09-610F5F00890D">To configure the execution plan comparison method of an analysis task:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <a id="d4474e1824" class="indexterm-anchor"></a><code class="codeph">SET_ANALYSIS_TASK_PARAMETER</code> procedure to set the value of the <code class="codeph">PLAN_LINES_COMPARISON</code> parameter.
                              </p>
                              <p><a href="creating-an-analysis-task.html#GUID-44B1467E-C355-4184-B9C3-A7982A4F39A1__CHDGHEBF" title="This table lists the execution plan comparison methods for a SQL Performance Analyzer task">Table 3-1</a> lists the valid values for the <code class="codeph">PLAN_LINES_COMPARISON</code> parameter.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="tblformal" id="GUID-44B1467E-C355-4184-B9C3-A7982A4F39A1__CHDGHEBF">
                           <p class="titleintable">Table 3-1 SQL Performance Analyzer Task Execution Plan Methods</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SQL Performance Analyzer Task Execution Plan Methods" summary="This table lists the execution plan comparison methods for a SQL Performance Analyzer task" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d4474e1854">Method</th>
                                    <th align="left" valign="bottom" width="80%" id="d4474e1857">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d4474e1862" headers="d4474e1854 ">
                                       <p><code class="codeph">ALWAYS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d4474e1862 d4474e1857 ">
                                       <p>The analysis task always performs a line-by-line comparison of execution plans.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d4474e1870" headers="d4474e1854 ">
                                       <p><code class="codeph">AUTO</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d4474e1870 d4474e1857 ">
                                       <p>The analysis task performs a line-by-line comparison of execution plans only if the computation of the plan hash value for the first SQL trial has changed or the second SQL trial is unavailable.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d4474e1878" headers="d4474e1854 ">
                                       <p><code class="codeph">NONE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d4474e1878 d4474e1857 ">
                                       <p>The analysis task performs a line-by-line comparison of execution plans only if the plan hash value is unknown. This is the default value.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The following example shows how to set the execution plan method for an analysis task to <code class="codeph">AUTO</code>:
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER(task_name =&gt; 'my_spa_task', -
       parameter =&gt; 'PLAN_LINES_COMPARISON', -
       value =&gt; 'AUTO');
</pre><div class="infoboxnotealso" id="GUID-44B1467E-C355-4184-B9C3-A7982A4F39A1__GUID-C0367EAB-A1A3-4114-9514-7AFF52C592BC">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../arpls/DBMS_SQLPA.html#ARPLS68371" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the <code class="codeph">DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER</code> procedure
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG318"></a><div class="props_rev_3"><a id="GUID-F4FD92EB-480C-4FE1-BF15-69EE593D9E1C" name="GUID-F4FD92EB-480C-4FE1-BF15-69EE593D9E1C"></a><h4 id="RATUG-GUID-F4FD92EB-480C-4FE1-BF15-69EE593D9E1C" class="sect4"><span class="enumeration_section">3.3.2 </span>Configuring an Analysis Task for Exadata Simulation Using APIs
                  </h4>
                  <div>
                     <div><span>You can configure a SQL Performance Analyzer to run the Oracle Exadata simulation.</span> For information about how SQL Performance Analyzer simulates the effects of an Exadata Storage Server installation on the performance of a SQL workload, see <span class="q">"<a href="creating-an-analysis-task.html#GUID-58FA5887-382C-4FA8-9947-C8B77F6D0EE3" title="The Exadata simulation workflow enables you to simulate the effects of an Exadata Storage Server installation on the performance of a SQL workload.">Using the Exadata Simulation Workflow</a>"</span>.
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-F4FD92EB-480C-4FE1-BF15-69EE593D9E1C__GUID-8D003C42-9E54-44FB-8B94-9165EC28294E">To enable Exadata simulation for an analysis task:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Call the <a id="d4474e2000" class="indexterm-anchor"></a><code class="codeph">SET_ANALYSIS_TASK_PARAMETER</code> procedure before creating the post-change SQL trial, as shown in the following example:
                              </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER(task_name =&gt; 'my_spa_task', -
       parameter =&gt; 'CELL_SIMULATION_ENABLED', -
       value =&gt; 'TRUE');
</pre><p>This will enable Exadata simulation when you create the post-change SQL trial, which can then be compared to the pre-change SQL trial that was created with Exadata simulation disabled.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Alternatively, you can run the Exadata simulation using the <code class="codeph">tcellsim.sql</code> script.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F4FD92EB-480C-4FE1-BF15-69EE593D9E1C__GUID-6670C45A-198A-4696-AA45-EEA036FBAF40">To run the Exadata simulation using tcellsim.sql:</p>
                        <ol>
                           <li>
                              <p>At the SQL prompt, enter:</p><pre class="oac_no_warn" dir="ltr">@$ORACLE_HOME/rdbms/admin/tcellsim.sql
</pre></li>
                           <li>
                              <p>Enter the name and owner of the SQL tuning set to use:</p><pre class="oac_no_warn" dir="ltr">Enter value for sts_name: MY_STS
Enter value for sts_owner: IMMCHAN
</pre><p>The script then runs the following four steps automatically:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Creates a SQL Performance Analyzer task</p>
                                 </li>
                                 <li>
                                    <p>Test executes SQL statements with Exadata simulation disabled</p>
                                 </li>
                                 <li>
                                    <p>Test executes SQL statements with Exadata simulation enabled</p>
                                 </li>
                                 <li>
                                    <p>Compares performance and generates analysis report</p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-F4FD92EB-480C-4FE1-BF15-69EE593D9E1C__GUID-38E07F20-BB88-4D69-8311-3C83B76D6B8C">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../arpls/DBMS_SQLPA.html#ARPLS68371" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the <code class="codeph">DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER</code> procedure
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG4193"></a><div class="props_rev_3"><a id="GUID-1206AB9E-14D3-4784-AEC0-A1929A36857D" name="GUID-1206AB9E-14D3-4784-AEC0-A1929A36857D"></a><h4 id="RATUG-GUID-1206AB9E-14D3-4784-AEC0-A1929A36857D" class="sect4"><span class="enumeration_section">3.3.3 </span>Remapping Multitenant Container Database Identifiers in an Analysis Task Using APIs
                  </h4>
                  <div>
                     <p>You can store captured SQL statements in a SQL tuning set, and use it as an input source when creating a SQL Performance Analyzer task. SQL Performance Analyzer then uses the SQL tuning set as the source for test executing or generating execution plans for SQL trials.</p>
                     <div class="section">
                        <p>If you use a SQL tuning set that was transported from a non-CDB to a multitenant container database (CDB) as the input source, the CDB identifiers of the SQL statements in the SQL tuning set must be remapped to make the STS usable in the CDB. Remapping CDB identifiers associates each SQL statement in the SQL tuning set with a CDB identifier that can be remapped to the corresponding pluggable databases (PDBs) within the CDB.</p>
                        <p>Typically, CDB identifiers should be remapped when the SQL tuning set is transported from a non-CDB to a CDB. In this case, you can simply use the SQL tuning set as an input source for SQL Performance Analyzer. However, if you are using a SQL tuning set whose CDB identifiers have not been remapped, you can specify the remapping as a SQL Performance Analyzer task property.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1206AB9E-14D3-4784-AEC0-A1929A36857D__GUID-96E2505B-5A2B-4CA1-99C6-95B4F6514223">To remap CDB identifiers for an analysis task:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <a id="d4474e2150" class="indexterm-anchor"></a><code class="codeph">SET_ANALYSIS_TASK_PARAMETER</code> procedure, as shown in the following example:
                              </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER(task_name =&gt; 'non_cdb_spa1', -
       parameter =&gt; 'CON_DBID_MAPPING', -
       value =&gt; '1234:5678,1357:2468');
</pre><p>In this example, the CDB identifiers <code class="codeph">1234</code> and <code class="codeph">1357</code> are remapped to <code class="codeph">5678</code> and <code class="codeph">2468</code>, respectively.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>After the CDB identifiers are remapped, SQL Performance Analyzer uses the new CDB identifier when it finds a match for the old CDB identifier, and executes the SQL statements in the appropriate PDB within the CDB.</p>
                        <div class="infoboxnotealso" id="GUID-1206AB9E-14D3-4784-AEC0-A1929A36857D__GUID-BB85A80D-2780-4086-AA2D-EB629288790C">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../tgsql/managing-sql-tuning-sets.html#TGSQL533" target="_blank"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a> for information about transporting SQL tuning sets
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_SQLPA.html#ARPLS68371" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the <code class="codeph">DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER</code> procedure
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-EE47E8F7-FE2F-464A-A30E-1C8ADA201960" name="GUID-EE47E8F7-FE2F-464A-A30E-1C8ADA201960"></a><h4 id="RATUG-GUID-EE47E8F7-FE2F-464A-A30E-1C8ADA201960" class="sect4"><span class="enumeration_section">3.3.4 </span>Configuring Trigger Execution in an Analysis Task
                  </h4>
                  <div>
                     <p>You can configure whether or not triggers are executed in an analysis task. By default, triggers are executed by SQL Performance Analyzer.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EE47E8F7-FE2F-464A-A30E-1C8ADA201960__GUID-F8594D6C-4D86-42FB-BF84-7EBDC3557E67">To configure trigger execution in an analysis task:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <code class="codeph">SET_ANALYSIS_TASK_PARAMETER</code> procedure to set the value of the <code class="codeph">EXECUTE_TRIGGERS</code> parameter.
                              </p>
                              <p><a href="creating-an-analysis-task.html#GUID-EE47E8F7-FE2F-464A-A30E-1C8ADA201960__VALUEDESCRIPTION-F3C4DD85" title="This table describes the values that can be set for the EXECUTE_TRIGGERS parameter for the SET_ANALYSIS_TASK_PARAMETER procedure.">Table 3-2</a> lists the valid values for the <code class="codeph">EXECUTE_TRIGGERS</code> parameter.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="tblformal" id="GUID-EE47E8F7-FE2F-464A-A30E-1C8ADA201960__VALUEDESCRIPTION-F3C4DD85">
                           <p class="titleintable">Table 3-2 Valid Values for the EXECUTE_TRIGGERS Parameter</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Valid Values for the EXECUTE_TRIGGERS Parameter" summary="This table describes the values that can be set for the EXECUTE_TRIGGERS parameter for the SET_ANALYSIS_TASK_PARAMETER procedure." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d4474e2317">Value</th>
                                    <th align="left" valign="bottom" width="20%" id="d4474e2320">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d4474e2325" headers="d4474e2317 ">
                                       <p><code class="codeph">FALSE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d4474e2325 d4474e2320 ">
                                       <p>Triggers are not executed by SQL Performance Analyzer, even in the EXECUTE_FULLDML mode of TEST EXECUTE. This is the default value.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d4474e2333" headers="d4474e2317 ">
                                       <p><code class="codeph">TRUE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d4474e2333 d4474e2320 ">
                                       <p>All triggers are executed by SQL Performance Analyzer.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The following example shows how to set the value of the <code class="codeph">EXECUTE_TRIGGERS</code> parameter to <code class="codeph">FALSE</code>, ensuring that triggers are not executed by SQL Performance Analyzer:
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER(task_name =&gt; 'my_spa_task', -
       parameter =&gt; 'EXECUTE_TRIGGERS', -
       value =&gt; 'FALSE');</pre><div class="infoboxnotealso" id="GUID-EE47E8F7-FE2F-464A-A30E-1C8ADA201960__GUID-3BF94762-7861-42AC-9774-01058AAEE0E8">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../arpls/DBMS_SQLPA.html#ARPLS68371" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the <code class="codeph">DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER</code> procedure
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-7C742DB2-A1AB-44FC-8709-BC323336505B" name="GUID-7C742DB2-A1AB-44FC-8709-BC323336505B"></a><h4 id="RATUG-GUID-7C742DB2-A1AB-44FC-8709-BC323336505B" class="sect4"><span class="enumeration_section">3.3.5 </span>Configuring a Date to be Returned by Calls in an Analysis Task
                  </h4>
                  <div>
                     <p>You can configure how SQL statements that refer to SYSDATE in an analysis task are handled.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7C742DB2-A1AB-44FC-8709-BC323336505B__GUID-F98B4999-6C82-444C-8E32-25B9066F7E94">To configure the date to be returned by calls to SYSDATE in an analysis task:</p>
                        <p>When you set the <code class="codeph">REPLACE_SYSDATE_WITH</code> parameter, all calls to SYSDATE within the task execution return a date specified by the parameter. This can be used when the input to a SPA task is a SQL tuning set (STS).
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <code class="codeph">SET_ANALYSIS_TASK_PARAMETER</code> procedure to set the value of the <code class="codeph">REPLACE_SYSDATE_WITH</code> parameter.
                              </p>
                           </li>
                        </ul>
                        <p><a href="creating-an-analysis-task.html#GUID-7C742DB2-A1AB-44FC-8709-BC323336505B__VALUEDESCRIPTION-F3C7B630" title="This table describes the values that can be set for the REPLACE_SYSDATE_WITH parameter for the SET_ANALYSIS_TASK_PARAMETER procedure.">Table 3-3</a> lists the valid values for the <code class="codeph">REPLACE_SYSDATE_WITH</code> parameter.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="tblformal" id="GUID-7C742DB2-A1AB-44FC-8709-BC323336505B__VALUEDESCRIPTION-F3C7B630">
                           <p class="titleintable">Table 3-3 Valid Values for the REPLACE_SYSDATE_WITH Parameter</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Valid Values for the REPLACE_SYSDATE_WITH Parameter" summary="This table describes the values that can be set for the REPLACE_SYSDATE_WITH parameter for the SET_ANALYSIS_TASK_PARAMETER procedure." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d4474e2489">Value</th>
                                    <th align="left" valign="bottom" id="d4474e2492">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d4474e2497" headers="d4474e2489 ">
                                       <p>CURRENT_SYSDATE</p>
                                    </td>
                                    <td align="left" valign="top" headers="d4474e2497 d4474e2492 ">
                                       <p>All calls to SYSDATE within the task execution return the current SYSDATE. This is the default.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d4474e2504" headers="d4474e2489 ">
                                       <p>SQLSET_SYSDATE</p>
                                    </td>
                                    <td align="left" valign="top" headers="d4474e2504 d4474e2492 ">
                                       <p>For every SQL statement that has a SYSDATE call, SQL Performance Analyzer will replace its value with the value in the <code class="codeph">LAST_EXEC_START_TIME</code> column of the <code class="codeph">DBA_SQLSET_STATEMENTS</code> view for that SQL statement.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnote" id="GUID-7C742DB2-A1AB-44FC-8709-BC323336505B__GUID-C3A01F7D-841C-4851-910B-7BF1549CC86D">
                           <p class="notep1">Note:</p>
                           <p>The setting for this parameter does not affect calls to SYSDATE outside of the SQL Performance Analyzer task execution.</p>
                        </div>
                        <p>The following example shows how to set the value of the <code class="codeph">REPLACE_SYSDATE_WITH</code> parameter to <code class="codeph">SQLSET_SYSDATE</code>, ensuring that calls to SYDATE within the task execution return the SYSDATE in the SQL tuning set.
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER(task_name =&gt; 'my_spa_task', -
       parameter =&gt; 'REPLACE_SYSDATE_WITH', -
       value =&gt; 'SQLSET_SYSDATE');</pre><div class="infoboxnotealso" id="GUID-7C742DB2-A1AB-44FC-8709-BC323336505B__GUID-C64BB513-83EB-4A5E-991B-FB944E069EAF">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../arpls/DBMS_SQLPA.html#ARPLS68371" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the <code class="codeph">DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER</code> procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../refrn/DBA_SQLSET_STATEMENTS.html#REFRN-GUID-25025608-4761-4794-8D1A-5A4E415C43C9" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about the <code class="codeph">DBA_SQLSET_STATEMENTS</code> view.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-952CD60A-6673-468E-BE87-ABC0E41D1201" name="GUID-952CD60A-6673-468E-BE87-ABC0E41D1201"></a><h4 id="RATUG-GUID-952CD60A-6673-468E-BE87-ABC0E41D1201" class="sect4"><span class="enumeration_section">3.3.6 </span>Configuring the Number of Rows to Fetch for an Analysis Task
                  </h4>
                  <div>
                     <p>You can configure how many rows are fetched for the SQL statements in an analysis task.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-952CD60A-6673-468E-BE87-ABC0E41D1201__GUID-52237BC5-D68F-49E1-A523-1EA15097AB79">To configure the number of rows to fetch in an analysis task:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <code class="codeph">SET_ANALYSIS_TASK_PARAMETER</code> procedure to set the value of the <code class="codeph">NUM_ROWS_TO_FETCH</code> parameter.
                              </p>
                              <p><a href="creating-an-analysis-task.html#GUID-952CD60A-6673-468E-BE87-ABC0E41D1201__VALUEDESCRIPTION-F3CB21C0" title="This table describes the values that can be set for the NUM_ROWS_TO_FETCH parameter for the SET_ANALYSIS_TASK_PARAMETER procedure.">Table 3-4</a> lists the valid values for the <code class="codeph">NUM_ROWS_TO_FETCH</code> parameter.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="tblformal" id="GUID-952CD60A-6673-468E-BE87-ABC0E41D1201__VALUEDESCRIPTION-F3CB21C0">
                           <p class="titleintable">Table 3-4 Valid Values for the NUM_ROWS_TO_FETCH Parameter</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Valid Values for the NUM_ROWS_TO_FETCH Parameter" summary="This table describes the values that can be set for the NUM_ROWS_TO_FETCH parameter for the SET_ANALYSIS_TASK_PARAMETER procedure." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d4474e2673">Value</th>
                                    <th align="left" valign="bottom" id="d4474e2676">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d4474e2681" headers="d4474e2673 ">
                                       <p>ALL_ROWS</p>
                                    </td>
                                    <td align="left" valign="top" headers="d4474e2681 d4474e2676 ">
                                       <p>Fetches all the rows for the SQL. This is the default value.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d4474e2688" headers="d4474e2673 ">
                                       <p>AUTO</p>
                                    </td>
                                    <td align="left" valign="top" headers="d4474e2688 d4474e2676 ">
                                       <p>The number of result rows is determined using the value of the <code class="codeph">OPTIMIZER_MODE</code> parameter in the optimizer environment captured in the SQL tuning set. If the value of <code class="codeph">OPTIMIZER_MODE</code> was <code class="codeph">ALL_ROWS</code>, then all result rows will be fetched. If its value was <code class="codeph">FIRST_ROWS_</code><span class="italic">n</span>, then <span class="italic">n</span> result rows will be fetched by SQL Performance Analyzer.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d4474e2712" headers="d4474e2673 ">
                                       <p>AVERAGE</p>
                                    </td>
                                    <td align="left" valign="top" headers="d4474e2712 d4474e2676 ">
                                       <p>The number of result rows is calculated as the ratio of total rows processed and total executions for each SQL in the SQL tuning set.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d4474e2719" headers="d4474e2673 ">
                                       <p>A valid number</p>
                                    </td>
                                    <td align="left" valign="top" headers="d4474e2719 d4474e2676 ">
                                       <p>The number of result rows will be equal to the specified value, or fewer, if there were fewer rows to fetch.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The following example shows how to set the value of the <code class="codeph">NUM_ROWS_TO_FETCH</code> parameter to <code class="codeph">ALL_ROWS</code>, so that all the rows for the SQL are fetched.
                        </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER(task_name =&gt; 'my_spa_task', -
       parameter =&gt; 'NUM_ROWS_TO_FETCH', -
       value =&gt; 'ALL_ROWS');</pre><div class="infoboxnotealso" id="GUID-952CD60A-6673-468E-BE87-ABC0E41D1201__GUID-55A74FDE-2203-4683-9E1F-8A85F5BCCD2D">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../arpls/DBMS_SQLPA.html#ARPLS68371" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the <code class="codeph">DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER</code> procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../refrn/OPTIMIZER_MODE.html#REFRN-GUID-DE448A8A-992F-4BAB-9302-A020039641E5" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about the <code class="codeph">OPTIMIZER_MODE</code> database initialization parameter
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-ADF5573F-0ADC-46DD-9AB1-433D97856F1F" name="GUID-ADF5573F-0ADC-46DD-9AB1-433D97856F1F"></a><h4 id="RATUG-GUID-ADF5573F-0ADC-46DD-9AB1-433D97856F1F" class="sect4"><span class="enumeration_section">3.3.7 </span>Configuring the Degree of Parallelism for an Analysis Task
                  </h4>
                  <div>
                     <p>You can set the degree of parallelism and enable concurrent SQL execution.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-ADF5573F-0ADC-46DD-9AB1-433D97856F1F__GUID-BAD47F16-0F5D-4BB3-B297-A38F2D744869">To configure degree of parallelism for an analysis task:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <code class="codeph">SET_ANALYSIS_TASK_PARAMETER</code> procedure to set the value of the <code class="codeph">TEST_EXECUTE_DOP</code> parameter.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following table lists the valid values for the <code class="codeph">TEST_EXECUTE_DOP</code> parameter.
                        </p>
                        <div class="tblformal" id="GUID-ADF5573F-0ADC-46DD-9AB1-433D97856F1F__GUID-2EE820F0-12C0-4E07-830B-F7A684EB9590">
                           <p class="titleintable">Table 3-5 Valid Values for the TEST_EXECUTE_DOP parameter</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Valid Values for the TEST_EXECUTE_DOP parameter" summary="This table describes the values that can be set for the TEST_EXECUTE_DOP parameter for the SET_ANALYSIS_TASK_PARAMETER procedure." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d4474e2875">Value</th>
                                    <th align="left" valign="bottom" id="d4474e2878">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d4474e2883" headers="d4474e2875 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d4474e2883 d4474e2878 ">
                                       <p>This is the default value. The task is executed serially.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d4474e2891" headers="d4474e2875 ">
                                       <p>Greater than or equal to <code class="codeph">2</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d4474e2891 d4474e2878 ">
                                       <p>Concurrent execution is enabled.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="p">The following example shows how to set the value of the <code class="codeph">TEST_EXECUTE_DOP</code> parameter to <code class="codeph">4</code> and enable concurrent execution:<pre class="oac_no_warn" dir="ltr">EXEC DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER(task_name =&gt; 'my_spa_task', -
       parameter =&gt; 'TEST_EXECUTE_DOP', -
       value =&gt; 4);</pre><div class="infoboxnote" id="GUID-ADF5573F-0ADC-46DD-9AB1-433D97856F1F__GUID-970D2C54-8A2E-4044-A062-4A41BD9A26D1">
                              <p class="notep1">Note:</p>
                              <p>A concurrent execution is supported only by the <code class="codeph">EXPLAIN PLAN</code> and <code class="codeph">TEST EXECUTE</code> execution types.
                              </p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-ADF5573F-0ADC-46DD-9AB1-433D97856F1F__GUID-65C4AE10-7AB2-4DAB-AB95-AA782974E11F">
                              <p class="notep1">See Also:</p>
                              <p><a href="../arpls/DBMS_SQLPA.html#ARPLS68371" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the <code class="codeph">DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER</code> procedure
                              </p>
                           </div>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-34BDF1DE-2711-48E3-81D7-F1AAA8D3E08E" name="GUID-34BDF1DE-2711-48E3-81D7-F1AAA8D3E08E"></a><h4 id="RATUG-GUID-34BDF1DE-2711-48E3-81D7-F1AAA8D3E08E" class="sect4"><span class="enumeration_section">3.3.8 </span>Validating SQL Result Sets Using SQL Performance Analyzer
                  </h4>
                  <div>
                     <p>Comparison of SQL result sets is now supported when running two “test-execute” SQL Performance Analyzer (SPA) trials.</p>
                     <div class="section">
                        <p>The SQL result sets are validated and if the number of rows or values do not match, it is recorded in the SQL Performance Analyzer report. The SQL result set validation is controlled by the <code class="codeph">COMPARE_RESULTSET</code> parameter.
                        </p>
                        <p>The <code class="codeph">SET_ANALYSIS_TASK_PARAMETER</code> procedure is used to set the value of the <code class="codeph">COMPARE_RESULTSET</code> parameter.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following table lists the valid values for the <code class="codeph">COMPARE_RESULTSET</code> parameter.
                        </p>
                        <div class="tblformal" id="GUID-34BDF1DE-2711-48E3-81D7-F1AAA8D3E08E__GUID-2E449204-EB94-4C92-AEF8-740608E0DAF5">
                           <p class="titleintable">Table 3-6 Valid Values for the COMPARE_RESULTSET Parameter</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Valid Values for the COMPARE_RESULTSET Parameter" summary="This table describes the values that can be set for the COMPARE_RESULTSET parameter." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d4474e3045">Value</th>
                                    <th align="left" valign="bottom" width="20%" id="d4474e3048">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d4474e3053" headers="d4474e3045 ">
                                       <p><code class="codeph">TRUE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d4474e3053 d4474e3048 ">
                                       <p>SQL result set comparison is performed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d4474e3061" headers="d4474e3045 ">
                                       <p><code class="codeph">FALSE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d4474e3061 d4474e3048 ">
                                       <p>SQL result set comparison is not performed.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The following example shows how to set the value of <code class="codeph">COMPARE_RESULTSET</code> parameter to <code class="codeph">TRUE</code>.
                        </p><pre class="pre codeblock"><code>EXEC DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER(task_name =&gt; 'my_spa_task', -
       parameter =&gt; 'COMPARE_RESULTSET', -
       value =&gt; 'TRUE');</code></pre><div class="infoboxnotealso" id="GUID-34BDF1DE-2711-48E3-81D7-F1AAA8D3E08E__GUID-92B1C317-30C3-4C42-ABEE-5B4F00799A67">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/DBMS_SQLPA.html#ARPLS68371" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the <code class="codeph">DBMS_SQLPA.SET_ANALYSIS_TASK_PARAMETER</code> procedure
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>