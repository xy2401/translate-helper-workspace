<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>EXTRACT (datetime)</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="EXP.html" title="Previous" type="text/html">
      <link rel="next" href="EXTRACT-XML.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="EXP.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="EXTRACT-XML.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">EXTRACT (datetime) </li>
            </ol>
            <a id="GUID-36E52BF8-945D-437D-9A3C-6860CABD210E" name="GUID-36E52BF8-945D-437D-9A3C-6860CABD210E"></a><a id="SQLRF51387"></a><a id="SQLRF51388"></a><a id="SQLRF51389"></a><a id="SQLRF51390"></a><a id="SQLRF00639"></a>
            
            <h2 id="SQLRF-GUID-36E52BF8-945D-437D-9A3C-6860CABD210E" class="sect2">EXTRACT (datetime) </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-36E52BF8-945D-437D-9A3C-6860CABD210E__GUID-18AECBD2-BC24-44B8-9786-E32DC2A1EF09">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-36E52BF8-945D-437D-9A3C-6860CABD210E__GUID-C470B8A9-7834-4464-887B-3727473652BE"><span class="italic">extract_datetime</span>::=
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-36E52BF8-945D-437D-9A3C-6860CABD210E__GUID-58D7A16A-35C1-4A27-A1D2-24EBB03337D3"><img src="img/extract_datetime.gif" alt="Description of extract_datetime.eps follows" title="Description of extract_datetime.eps follows" longdesc="img_text/extract_datetime.html"><br><a href="img_text/extract_datetime.html">Description of the illustration extract_datetime.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-36E52BF8-945D-437D-9A3C-6860CABD210E__GUID-D79CCA73-9AB5-440B-B450-E1D096A4B301">Purpose</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">EXTRACT</code> extracts and returns the value of a specified datetime field from a datetime or interval expression.  The <span class="italic"><code class="codeph">expr</code></span> can be any expression that evaluates to a datetime or interval data type compatible with the requested field:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If <code class="codeph">YEAR</code> or <code class="codeph">MONTH</code> is requested, then <span class="italic"><code class="codeph">expr</code></span> must evaluate to an expression of data type <code class="codeph">DATE</code>, <code class="codeph">TIMESTAMP</code>, <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>, <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>, or <code class="codeph">INTERVAL</code> <code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code>.
                        </p>
                     </li>
                     <li>
                        <p>If <code class="codeph">DAY</code> is requested, then <span class="italic"><code class="codeph">expr</code></span> must evaluate to an expression of data type <code class="codeph">DATE</code>, <code class="codeph">TIMESTAMP</code>, <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>, <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>, or <code class="codeph">INTERVAL</code> <code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code>.
                        </p>
                     </li>
                     <li>
                        <p>If <code class="codeph">HOUR</code>, <code class="codeph">MINUTE</code>, or <code class="codeph">SECOND</code> is requested, then <span class="italic"><code class="codeph">expr</code></span> must evaluate to an expression of data type <code class="codeph">TIMESTAMP</code>, <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>, <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>, or <code class="codeph">INTERVAL</code> <code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code>. <code class="codeph">DATE</code> is not valid here, because Oracle Database treats it as ANSI <code class="codeph">DATE</code> data type, which has no time fields.
                        </p>
                     </li>
                     <li>
                        <p>If <code class="codeph">TIMEZONE_HOUR</code>, <code class="codeph">TIMEZONE_MINUTE</code>, <code class="codeph">TIMEZONE_ABBR</code>, <code class="codeph">TIMEZONE_REGION</code>, or <code class="codeph">TIMEZONE_OFFSET</code> is requested, then <span class="italic"><code class="codeph">expr</code></span> must evaluate to an expression of data type <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code> or <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>.
                        </p>
                     </li>
                  </ul>
                  <p><code class="codeph">EXTRACT</code> interprets <span class="italic"><code class="codeph">expr</code></span> as an ANSI datetime data type. For example, <code class="codeph">EXTRACT</code> treats <code class="codeph">DATE</code> not as legacy Oracle <code class="codeph">DATE</code> but as ANSI <code class="codeph">DATE</code>, without time elements. Therefore, you can extract only <code class="codeph">YEAR</code>, <code class="codeph">MONTH</code>, and <code class="codeph">DAY</code> from a <code class="codeph">DATE</code> value. Likewise, you can extract <code class="codeph">TIMEZONE_HOUR</code> and <code class="codeph">TIMEZONE_MINUTE</code> only from the <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code> data type.
                  </p>
                  <p>When you specify <code class="codeph">TIMEZONE_REGION</code> or <code class="codeph">TIMEZONE_ABBR</code> (abbreviation), the value returned is a <code class="codeph">VARCHAR2</code> string containing the appropriate time zone region name or abbreviation. When you specify any of the other datetime fields, the value returned is an integer value of <code class="codeph">NUMBER</code> data type representing the datetime value in the Gregorian calendar. When extracting from a datetime with a time zone value, the value returned is in UTC. For a listing of time zone region names and their corresponding abbreviations, query the <code class="codeph">V$TIMEZONE_NAMES</code> dynamic performance view.
                  </p>
                  <p>This function can be very useful for manipulating datetime field values in very large tables, as shown in the first example below.</p>
                  <div class="infoboxnote" id="GUID-36E52BF8-945D-437D-9A3C-6860CABD210E__GUID-6E6F1A84-D056-4D02-A3B8-176F1545BF9E">
                     <p class="notep1">Note:</p>
                     <p> Time zone region names are needed by the daylight saving feature. These names are stored in two types of time zone files: one large and one small. One of these files is the default file, depending on your environment and the release of Oracle Database you are using. For more information regarding time zone files and names, see <a href="../nlspg/appendix-A-locale-data.html#NLSPG014" target="_blank"><span><cite>Oracle Database Globalization Support Guide</cite></span></a>.
                     </p>
                  </div>
                  <p>Some combinations of datetime field and datetime or interval value expression result in ambiguity. In these cases, Oracle Database returns <code class="codeph">UNKNOWN</code> (see the examples that follow for additional information).
                  </p>
                  <div class="infoboxnotealso" id="GUID-36E52BF8-945D-437D-9A3C-6860CABD210E__GUID-EE07A826-C008-4482-AD25-C504BFC807C6">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../nlspg/appendix-A-locale-data.html#NLSPG0141" target="_blank"><span><cite>Oracle Database Globalization Support Guide</cite></span></a> for a complete listing of the time zone region names in both files
                           </p>
                        </li>
                        <li>
                           <p>Appendix C in <a href="../nlspg/appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#NLSPG-GUID-AFCE41ED-775B-4A00-AF38-C436776AE0C5" target="_blank"><span><cite>Oracle Database Globalization Support Guide</cite></span></a> for the collation derivation rules, which define the collation assigned to the character return value of <code class="codeph">EXTRACT</code></p>
                        </li>
                        <li>
                           <p><a href="Data-Types.html#GUID-E405BBC7-DA9A-4DF2-9F22-E60CB9EC0705">Datetime/Interval Arithmetic</a> for a description of <span class="italic"><code class="codeph">datetime_value_expr</code></span> and <span class="italic"><code class="codeph">interval_value_expr</code></span></p>
                        </li>
                        <li>
                           <p><a href="../refrn/dynamic-performance-views.html#REFRN003" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for information on the dynamic performance views
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-36E52BF8-945D-437D-9A3C-6860CABD210E__GUID-F85C062E-ACC9-4946-892D-68B6D276A4AF">Examples </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>The following example returns from the <code class="codeph">oe.orders</code> table the number of orders placed in each month:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT EXTRACT(month FROM order_date) "Month", COUNT(order_date) "No. of Orders"
  FROM orders
  GROUP BY EXTRACT(month FROM order_date)
  ORDER BY "No. of Orders" DESC, "Month";

     Month No. of Orders
---------- -------------
        11            15
         6            14
         7            14
         3            11
         5            10
         2             9
         9             9
         8             7
        10             6
         1             5
        12             4
         4             1
 
12 rows selected.
</pre><p>The following example returns the year 1998.</p><pre class="oac_no_warn" dir="ltr">SELECT EXTRACT(YEAR FROM DATE '1998-03-07')
  FROM DUAL;

EXTRACT(YEARFROMDATE'1998-03-07')
---------------------------------
                             1998
</pre><p>The following example selects from the sample table <code class="codeph">hr.employees</code> all employees who were hired after 2007:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT last_name, employee_id, hire_date
  FROM employees
  WHERE EXTRACT(YEAR FROM TO_DATE(hire_date, 'DD-MON-RR')) &gt; 2007
  ORDER BY hire_date;

LAST_NAME                 EMPLOYEE_ID HIRE_DATE
------------------------- ----------- ---------
Johnson                           179 04-JAN-08
Grant                             199 13-JAN-08
Marvins                           164 24-JAN-08
. . .
</pre><p>The following example results in ambiguity, so Oracle returns <code class="codeph">UNKNOWN</code>:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT EXTRACT(TIMEZONE_REGION FROM TIMESTAMP '1999-01-01 10:00:00 -08:00')
  FROM DUAL;

EXTRACT(TIMEZONE_REGIONFROMTIMESTAMP'1999-01-0110:00:00-08:00')
----------------------------------------------------------------
UNKNOWN
</pre><p>The ambiguity arises because the time zone numerical offset is provided in the expression, and that numerical offset may map to more than one time zone region name.</p>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>