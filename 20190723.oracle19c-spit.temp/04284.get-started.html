<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Getting Started</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Universal Connection Pool Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Universal Connection Pool Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="universal-connection-pool-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-13T06:57:38-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96473-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="intro.html" title="Previous" type="text/html">
      <link rel="next" href="getting-database-connections.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Universal Connection Pool Developer's Guide">
    <meta name="dcterms.isVersionOf" content="JJUCP">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="intro.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="getting-database-connections.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Universal Connection Pool Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Getting Started</li>
            </ol>
            <a id="GUID-7438ABC8-6AC0-437E-9D19-60D60E73E9C6" name="GUID-7438ABC8-6AC0-437E-9D19-60D60E73E9C6"></a><a id="JJUCP8118"></a>
            
            <h2 id="JJUCP-GUID-7438ABC8-6AC0-437E-9D19-60D60E73E9C6" class="sect2"><span class="enumeration_chapter">2 </span>Getting Started
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The following sections are included in this chapter:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="get-started.html#GUID-009ADAD2-067D-4669-9423-A72E31AFC07F">Requirements for using UCP</a></p>
                  </li>
                  <li>
                     <p><a href="get-started.html#GUID-0AB8FEDC-DC8A-4E63-BC4F-C35EA443DBED">Basic Connection Steps in UCP</a></p>
                  </li>
                  <li>
                     <p><a href="get-started.html#GUID-0AB8FEDC-DC8A-4E63-BC4F-C35EA443DBED">UCP API Overview</a></p>
                  </li>
                  <li>
                     <p><a href="get-started.html#GUID-2CC8D6EC-483F-4942-88BA-C0A1A1B68226">Basic Connection Example Using UCP</a></p>
                  </li>
               </ul>
            </div><a id="JJUCP8119"></a><div class="props_rev_3"><a id="GUID-009ADAD2-067D-4669-9423-A72E31AFC07F" name="GUID-009ADAD2-067D-4669-9423-A72E31AFC07F"></a><h3 id="JJUCP-GUID-009ADAD2-067D-4669-9423-A72E31AFC07F" class="sect3"><span class="enumeration_section">2.1 </span>Requirements for using UCP
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d2167e90" class="indexterm-anchor"></a>UCP has the following design-time and run-time requirements:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d2167e98" class="indexterm-anchor"></a>JRE 1.5 or higher
                           </p>
                        </li>
                        <li>
                           <p> <a id="d2167e104" class="indexterm-anchor"></a><a id="d2167e108" class="indexterm-anchor"></a>A JDBC diver or a connection factory class capable of returning a <code class="codeph">java.sql.Connection</code> and <code class="codeph">javax.sql.XAConnection</code> object
                           </p>
                           <div class="infoboxnote" id="GUID-009ADAD2-067D-4669-9423-A72E31AFC07F__GUID-4FA8661D-2220-4AB1-9FB7-875B04395107">
                              <p class="notep1">Note:</p>
                              <p><a id="d2167e121" class="indexterm-anchor"></a>Oracle drivers from releases 10.1 or higher are supported. Advanced Oracle Database features, such as Oracle RAC and Fast Connection Failover, require the Oracle Notification Service library (<code class="codeph">ons.jar</code>) that is included with the Oracle Client software.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>The <code class="codeph">ucp.jar</code> library included in the classpath of the application
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">ojdbc8.jar</code> library included in the classpath of the application
                           </p>
                           <div class="infoboxnote" id="GUID-009ADAD2-067D-4669-9423-A72E31AFC07F__GUID-2F3C18F7-A5D4-46DB-9681-325025BBCE4A">
                              <p class="notep1">Note:</p>
                              <p>Even if you use UCP with a third-party database and driver, you <span class="italic">must</span> use the Oracle <code class="codeph">ojdbc8.jar</code> library because UCP has dependencies on this library.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p><a id="d2167e150" class="indexterm-anchor"></a>A database that supports SQL. Advanced features, such as Oracle RAC and Fast Connection Failover, require an Oracle Database.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJUCP8120"></a><div class="props_rev_3"><a id="GUID-BD0FA045-1DB1-4719-8CB8-AF58CCBA92DC" name="GUID-BD0FA045-1DB1-4719-8CB8-AF58CCBA92DC"></a><h3 id="JJUCP-GUID-BD0FA045-1DB1-4719-8CB8-AF58CCBA92DC" class="sect3"><span class="enumeration_section">2.2 </span>Basic Connection Steps in UCP
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d2167e189" class="indexterm-anchor"></a><a id="d2167e193" class="indexterm-anchor"></a>UCP provides a pool-enabled data source that is used by applications to borrow connections from a UCP JDBC connection pool. A connection pool is not explicitly defined for the most basic use case. Instead, a default connection pool is implicitly created when the connection is borrowed.
                     </p>
                     <p><a id="d2167e199" class="indexterm-anchor"></a><a id="d2167e203" class="indexterm-anchor"></a><a id="d2167e205" class="indexterm-anchor"></a><a id="d2167e209" class="indexterm-anchor"></a><a id="d2167e213" class="indexterm-anchor"></a>The following steps describe how to get a connection from a UCP pool-enabled data source in order to access a database. The complete example is provided in <a href="get-started.html#GUID-2CC8D6EC-483F-4942-88BA-C0A1A1B68226__CIHHFHAG">Example 2-1</a>:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Use the UCP data source factory (<code class="codeph">oracle.ucp.jdbc.PoolDataSourceFactory</code>) to get an instance of a pool-enabled data source using the <code class="codeph">getPoolDataSource</code> method. The data source instance must be of the type <code class="codeph">PoolDataSource</code>. For example:</span><div><pre class="oac_no_warn" dir="ltr">PoolDataSource  pds = PoolDataSourceFactory.getPoolDataSource();
</pre></div>
                     </li>
                     <li class="stepexpand"><span><a id="d2167e238" class="indexterm-anchor"></a><a id="d2167e240" class="indexterm-anchor"></a><a id="d2167e242" class="indexterm-anchor"></a><a id="d2167e244" class="indexterm-anchor"></a>Set the connection properties that are required to get a physical connection to a database. These properties are set on the data source instance and include: the URL, the user name, and password to connect to the database and the connection factory used to get the physical connection. These properties are specific to a JDBC driver and database. For example:</span><div><pre class="oac_no_warn" dir="ltr">pds.setConnectionFactoryClassName("oracle.jdbc.pool.OracleDataSource");
pds.setURL("jdbc:oracle:thin:@//localhost:1521/XE");
pds.setUser("<span class="italic">&lt;user&gt;</span>");
pds.setPassword("<span class="italic">&lt;password&gt;</span>");
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Set any pool properties in order to override the connection pool's default behavior. the pool properties are set on the data source instance. For example:</span><div><pre class="oac_no_warn" dir="ltr">pds.setInitialPoolSize(5);
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Get a connection using the data source instance. The returned connection is a logical handle to a physical connection in the data source's connection pool. For example:</span><div><pre class="oac_no_warn" dir="ltr">Connection conn = pds.getConnection();
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Use the connection to perform some work on the database:</span><div><pre class="oac_no_warn" dir="ltr">Statement stmt = conn.createStatement ();
stmt.execute("SELECT * FROM foo");
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Close the connection and return it to the pool. </span><div><pre class="oac_no_warn" dir="ltr">conn.close();
</pre></div>
                     </li>
                  </ol>
               </div>
               <div class="sect3"><a id="GUID-41E11058-F862-4389-8EA2-B1720FAED591" name="GUID-41E11058-F862-4389-8EA2-B1720FAED591"></a><h4 id="JJUCP-GUID-41E11058-F862-4389-8EA2-B1720FAED591" class="sect4"><span class="enumeration_section">2.2.1 </span>Authentication in UCP
                  </h4>
                  <div>
                     <p></p>
                     <div class="section">
                        <p>UCP provides transparent authentication, that is, the <code class="codeph">PoolDataSource</code> behaves in the same way as the <code class="codeph">OracleDataSource</code> while authenticating a connection. UCP supports all the following authentication methods that the JDBC thin or the JDBC ICY driver suggests, and delegates any authentication action to the underlying driver:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Authentication through passwords stored in Oracle Wallets</p>
                           </li>
                           <li>
                              <p>Authentication using Kerberos</p>
                           </li>
                           <li>
                              <p>Authentication through SSL certificates</p>
                           </li>
                           <li>
                              <p>Authentication using Lightweight Directory Access Protocol (LDAP)</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJUCP8124"></a><a id="JJUCP8125"></a><a id="JJUCP8126"></a><a id="JJUCP8123"></a><div class="props_rev_3"><a id="GUID-0AB8FEDC-DC8A-4E63-BC4F-C35EA443DBED" name="GUID-0AB8FEDC-DC8A-4E63-BC4F-C35EA443DBED"></a><h3 id="JJUCP-GUID-0AB8FEDC-DC8A-4E63-BC4F-C35EA443DBED" class="sect3"><span class="enumeration_section">2.3 </span>UCP API Overview
               </h3>
               <div>
                  <p><a id="d2167e380" class="indexterm-anchor"></a><a id="d2167e382" class="indexterm-anchor"></a><a id="d2167e386" class="indexterm-anchor"></a>The following section provides a quick overview of the most commonly used packages of the UCP API.
                  </p>
                  <div class="infoboxnotealso" id="GUID-0AB8FEDC-DC8A-4E63-BC4F-C35EA443DBED__GUID-CE121542-C529-4653-A8E1-312291C34645">
                     <p class="notep1">See Also:</p>
                     <p><a href="../jjuar/index.html" target="_blank"><span class="italic">Oracle Universal Connection Pool Java API Reference</span></a> for complete details on the API.
                     </p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-0AB8FEDC-DC8A-4E63-BC4F-C35EA443DBED__GUID-366A2BFD-715C-4E6C-AE4E-2F514499C5C8">oracle.ucp.jdbc</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a id="d2167e403" class="indexterm-anchor"></a>This package includes various interfaces and classes that are used by applications to work with JDBC connections and a connection pool. Among the interfaces found in this package, the <code class="codeph">PoolDataSource</code> and <code class="codeph">PoolXADataSource</code> data source interfaces are used by an application to get connections as well as get and set connection pool properties. Data source instances implementing these two interfaces automatically create a connection pool.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0AB8FEDC-DC8A-4E63-BC4F-C35EA443DBED__GUID-57B8D6D4-5DD0-466F-94DA-FE5FF019CEF7">oracle.ucp.admin</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a id="d2167e417" class="indexterm-anchor"></a>This package includes interfaces for using a connection pool manager as well as MBeans that allow users to access connection pool and the connection pool manager operations and attributes using JMX operations. Among the interfaces, the <code class="codeph">UniversalConnectionPoolManager</code> interface provides methods for creating and maintaining connection pool instances.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0AB8FEDC-DC8A-4E63-BC4F-C35EA443DBED__GUID-0425F02B-319E-4509-BC0A-BF0BAE7D6BE9">oracle.ucp</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This package includes both required and optional callback interfaces that are used to implement connection pool features. For example, the <code class="codeph">ConnectionAffinityCallback</code> interface is used to create a callback that enables or disables connection affinity and can also be used to customize connection affinity behavior. This package also contains statistics classes, UCP specific exception classes, and the logic to use the UCP directly, without using data sources.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJUCP8122"></a><a id="JJUCP8121"></a><div class="props_rev_3"><a id="GUID-2CC8D6EC-483F-4942-88BA-C0A1A1B68226" name="GUID-2CC8D6EC-483F-4942-88BA-C0A1A1B68226"></a><h3 id="JJUCP-GUID-2CC8D6EC-483F-4942-88BA-C0A1A1B68226" class="sect3"><span class="enumeration_section">2.4 </span>Basic Connection Example Using UCP
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d2167e470" class="indexterm-anchor"></a><a id="d2167e474" class="indexterm-anchor"></a><a id="d2167e476" class="indexterm-anchor"></a>The following example is a program that connects to a database to do some work and then exits. The example is simple and in some cases not very practical; however, it does demonstrate the basic steps required to get a connection from a UCP pooled-enabled data source in order to access a database.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-2CC8D6EC-483F-4942-88BA-C0A1A1B68226__CIHHFHAG">
                     <p class="titleinexample">Example 2-1 Basic Connection Example</p><pre class="oac_no_warn" dir="ltr">import java.sql.Connection;
import java.sql.SQLException;
import java.sql.Statement;
import oracle.ucp.jdbc.PoolDataSourceFactory;
import oracle.ucp.jdbc.PoolDataSource;

public class BasicConnectionExample {
   public static void main(String args[]) throws SQLException {
      try 
      {
         //Create pool-enabled data source instance.
         
         PoolDataSource  pds = PoolDataSourceFactory.getPoolDataSource();
         
         //set the connection properties on the data source.
         
         pds.setConnectionFactoryClassName("oracle.jdbc.pool.OracleDataSource");
         pds.setURL("jdbc:oracle:thin:@//localhost:1521/XE");
         pds.setUser("<span class="italic">&lt;user&gt;</span>");
         pds.setPassword("<span class="italic">&lt;password&gt;</span>");     
         
         //Override any pool properties.
         
         pds.setInitialPoolSize(5);
         
         //Get a database connection from the datasource.
         
         Connection conn = pds.getConnection();
         
         System.out.println("\nConnection obtained from " +
          "UniversalConnectionPool\n");
         
         //do some work with the connection.
         Statement stmt = conn.createStatement();
         stmt.execute("select * from foo");
         
         //Close the Connection.
         
         conn.close();
         conn=null;
         
         System.out.println("Connection returned to the " +
          "UniversalConnectionPool\n");
         
      }
      catch(SQLException e)
      {
         System.out.println("BasicConnectionExample - " +
          "main()-SQLException occurred : "
              + e.getMessage());
      }
   }
}
</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>