<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Configuring Application Sessions</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Real Application Security Administrator's and Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Real Application Security Administrator's and Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="real-application-security-administrators-and-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T05:21:48-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2012, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E95725-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="configuring-application-users-and-application-roles.html" title="Previous" type="text/html">
      <link rel="next" href="configuring-application-privileges-and-access-contol-lists.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Real Application Security Administrator's and Developer's Guide">
    <meta name="dcterms.isVersionOf" content="DBFSG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-application-users-and-application-roles.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="configuring-application-privileges-and-access-contol-lists.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Security Administrator's and Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Configuring Application Sessions </li>
            </ol>
            <a id="GUID-B44ACBB0-AC90-439D-9CDE-541285C31328" name="GUID-B44ACBB0-AC90-439D-9CDE-541285C31328"></a><a id="DBFSG30000"></a>
            
            <h2 id="DBFSG-GUID-B44ACBB0-AC90-439D-9CDE-541285C31328" class="sect2"><span class="enumeration_chapter">3 </span> Configuring Application Sessions 
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="p">This chapter contains: 
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="configuring-application-sessions.html#GUID-EE4F1485-2F88-41B7-A82D-A33E705B3278">About Application Sessions</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-sessions.html#GUID-4646E40B-780C-4373-BC04-2214FC2F1B8B">About Creating and Maintaining Application Sessions</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-sessions.html#GUID-1678A791-8C84-4AAF-A6C4-259F8CBB8A87">About Manipulating the Application Session State</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-sessions.html#GUID-828BD9A7-E7E6-4A24-A69B-4E939FEA7167">About Administrative APIs for External Users and Roles</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-sessions.html#GUID-29457379-758E-4A45-AA24-C9F9D8A3C26F" title="Describes session privilege scoping through an ACL allowing per principal session privilege grants through an ACL set on the principal, where the principal can be either an application user or a dynamic role.">About Real Application Security Session Privilege Scoping Through ACL</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBFSG99091"></a><div class="props_rev_3"><a id="GUID-EE4F1485-2F88-41B7-A82D-A33E705B3278" name="GUID-EE4F1485-2F88-41B7-A82D-A33E705B3278"></a><h3 id="DBFSG-GUID-EE4F1485-2F88-41B7-A82D-A33E705B3278" class="sect3">About Application Sessions</h3>
               <div>
                  <p>An application session contains information relevant to the application and its user. An application session stores application session state as a collection of attribute-value pairs. These attribute value pairs are divided into namespaces. Unlike traditional <span class="italic">heavyweight</span> database sessions, an application session does not hold its own database resources, such as transactions and cursors. Because application sessions consume far fewer server resources than heavyweight sessions, an application session can be dedicated to each end application user. An application session can persist in the database and resume later with minimal cost.
                  </p>
                  <p>To configure an application session, you work in two phases:</p>
                  <ol>
                     <li>
                        <p>You create and maintain the application session.</p>
                     </li>
                     <li>
                        <p>You can manipulate the session state during the life of the session.</p>
                     </li>
                  </ol>
                  <p>You can use either PL/SQL APIs or Java APIs to configure application sessions. This chapter describes the programmatic creation, use, and maintenance of application sessions in PL/SQL, and includes specific links to comparable Java information.</p>
                  <div class="infoboxnotealso" id="GUID-EE4F1485-2F88-41B7-A82D-A33E705B3278__GUID-DF49DDC3-CCEF-48FD-B8C1-8E924A12A6B8">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="real-application-security-sql-functions.html#GUID-35DB088C-AA74-4F99-A1F6-9BF187F6E0EB">Oracle Database Real Application Security SQL&nbsp;Functions</a> and <a href="real-application-security-plsql-packages.html#GUID-42EF8B2A-31E4-4EE9-8963-5BDE681193A5">Oracle Database Real Application Security PL/SQL&nbsp;Packages</a> for information about PL/SQL API syntax
                           </p>
                        </li>
                        <li>
                           <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about Java API syntax (in Javadoc format)
                           </p>
                        </li>
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-2FCEEFB5-83DC-4D5A-982A-690C8DCC4181">Using Real Application Security in Java Applications</a> for information about performing tasks with Java APIs
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="p">This section contains:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-2505F742-4533-4E91-AA41-53AE4DD2BE23">About Application Sessions in Real Application Security</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-247C2449-A52E-47D0-8D56-85047E700751">Advantages of Application Sessions</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99092"></a><a id="DBFSG301"></a><div class="props_rev_3"><a id="GUID-2505F742-4533-4E91-AA41-53AE4DD2BE23" name="GUID-2505F742-4533-4E91-AA41-53AE4DD2BE23"></a><h4 id="DBFSG-GUID-2505F742-4533-4E91-AA41-53AE4DD2BE23" class="sect4">About Application Sessions in Real Application Security</h4>
                  <div>
                     <p><a href="configuring-application-sessions.html#GUID-2505F742-4533-4E91-AA41-53AE4DD2BE23__CJAJIBHB">Figure 3-1</a> shows a Real Application Security architecture diagram and indicates how application sessions fit into it. The figure shows applications<a id="d11248e434" class="indexterm-anchor"></a><a id="d11248e438" class="indexterm-anchor"></a> creating application sessions in the database. Some of these application sessions are associated with traditional database (DB) sessions.
                     </p>
                     <p><a href="configuring-application-sessions.html#GUID-2505F742-4533-4E91-AA41-53AE4DD2BE23__CJAJIBHB">Figure 3-1</a> also shows other components of Real Application Security such as ACLs, application privileges, application users, and application roles.
                     </p>
                     <div class="figure" id="GUID-2505F742-4533-4E91-AA41-53AE4DD2BE23__CJAJIBHB">
                        <p class="titleinfigure">Figure 3-1 Real Application Security Architecture</p><img src="img/fs_arch.png" alt="Description of Figure 3-1 follows" title="Description of Figure 3-1 follows" longdesc="img_text/fs_arch.html"><br><a href="img_text/fs_arch.html">Description of "Figure 3-1 Real Application Security Architecture"</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="DBFSG302"></a><div class="props_rev_3"><a id="GUID-247C2449-A52E-47D0-8D56-85047E700751" name="GUID-247C2449-A52E-47D0-8D56-85047E700751"></a><h4 id="DBFSG-GUID-247C2449-A52E-47D0-8D56-85047E700751" class="sect4">Advantages of Application Sessions</h4>
                  <div>
                     <p>Application sessions<a id="d11248e565" class="indexterm-anchor"></a> have functional advantages over traditional database sessions. For example, traditional database sessions are typically unaware of the end user identities or the security policies for those end users. On the contrary:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Application sessions encapsulate end user's security context. They enable applications to use database authorization mechanisms for access control based on the end user identity. </p>
                        </li>
                        <li>
                           <p>An application session can be associated with multiple database sessions simultaneously. </p>
                        </li>
                        <li>
                           <p>They are accessible by all nodes in an Oracle Real Application Clusters (Oracle RAC) environment.</p>
                        </li>
                     </ul>
                     <p>Application sessions have these performance advantages over traditional database sessions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>They can be created with less overhead than traditional database sessions.</p>
                        </li>
                        <li>
                           <p>They can persist in the database and resume later with minimal cost. </p>
                        </li>
                        <li>
                           <p>Real Application Security can collect session attribute changes and session states on the client, using caches. Then, these changes are appended to the database until the next database roundtrip, reducing the number of database roundtrips.</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="DBFSG99093"></a><div class="props_rev_3"><a id="GUID-4646E40B-780C-4373-BC04-2214FC2F1B8B" name="GUID-4646E40B-780C-4373-BC04-2214FC2F1B8B"></a><h3 id="DBFSG-GUID-4646E40B-780C-4373-BC04-2214FC2F1B8B" class="sect3">About Creating and Maintaining Application Sessions</h3>
               <div>
                  <div class="p">This section contains:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-155B8167-8FF4-41AF-A4AD-AB4576D54D39">Creating an Application Session</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-AD6FDD39-B8B9-4838-BBD5-89094D86321F">Creating an Anonymous Application Session</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-C5889D1C-AE40-4FAE-A453-B65157155D17">Attaching an Application Session to a Traditional Database Session</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-97CA5620-0D2F-436D-94BE-55D57953A05E">Setting a Cookie for an Application Session</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-33B7BE0C-7E2E-4FEE-AD52-F1041B8042DA">Assigning an Application User to an Anonymous Application Session</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-CC76B226-1A50-4E2E-9569-8970B1EA2EF3">Switching a Current Application User to Another Application User in the Current Application Session</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-EC9AEA9F-C552-4123-8789-122ADB283D86">About Creating a Global Callback Event Handler Procedure</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-7CCB11E2-73B2-44DC-ABD7-F3C89C93AD14">Configuring Global Callback Event Handlers for an Application Session</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-B853A9A3-DDF7-4D00-92C1-7724312C0C99">Saving an Application Session</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-B8AE0932-F484-4FD3-BEBF-8C82820B6A80">Detaching an Application Session from a Traditional Database Session</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-9E4AF526-8BE7-4A31-8062-47D46BF77446">Destroying an Application Session</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99095"></a><a id="DBFSG99094"></a><div class="props_rev_3"><a id="GUID-155B8167-8FF4-41AF-A4AD-AB4576D54D39" name="GUID-155B8167-8FF4-41AF-A4AD-AB4576D54D39"></a><h4 id="DBFSG-GUID-155B8167-8FF4-41AF-A4AD-AB4576D54D39" class="sect4">Creating an Application Session</h4>
                  <div>
                     <div class="section">
                        <p>You can create an application session using the <code class="codeph">DBMS_XS_SESSIONS.CREATE_SESSION</code> procedure in PL/SQL or using the <code class="codeph">createSession</code> method of the <code class="codeph">XSSessionManager</code> class in Java. To create an application session, the invoking user needs <code class="codeph">CREATE_SESSION</code> application privilege. This privilege can be obtained through <code class="codeph">XS_SESSION_ADMIN</code> Database role or by <code class="codeph">XS_ADMIN_UTIL.GRANT_SYSTEM_PRIVILEGE</code> API call (see <span class="q">"<a href="XS_ADMIN_UTIL-package.html#GUID-7F29B504-8BEA-43C6-B791-A01899B66FB9">GRANT_SYSTEM_PRIVILEGE Procedure</a>"</span> for more information). <code class="codeph">CREATE_SESSION</code> procedure populates the unique identifier of the newly created session in <code class="codeph">sessionid</code> out parameter. This unique identifier can be used to refer to the session in future calls. The <code class="codeph">DBA_XS_SESSIONS</code> data dictionary view displays all the application sessions in the database. 
                        </p>
                        <p>You can also specify a list of namespaces to be created when the session is created. If you specify namespaces during creation of the session, the caller must have application privileges <code class="codeph">MODIFY_NAMESPACE</code> or <code class="codeph">MODIFY_ATTRIBUTE</code> on the namespaces, or the <code class="codeph">ADMIN_NAMESPACE</code> system privilege.
                        </p>
                        <p><a href="configuring-application-sessions.html#GUID-155B8167-8FF4-41AF-A4AD-AB4576D54D39__CHDBJIJC">Example 3-1</a> shows how to create an application session with <code class="codeph">lwuser1</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-155B8167-8FF4-41AF-A4AD-AB4576D54D39__CHDBJIJC">
                        <p class="titleinexample">Example 3-1 Creating an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;sessionid RAW(16);
BEGIN
<span class="bold">&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('lwuser1', sessionid);</span>
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-155B8167-8FF4-41AF-A4AD-AB4576D54D39__GUID-585C7C23-6081-417D-B2BB-EE6E38A1157A">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="DBMS_XS_SESSION-package.html#GUID-9C80BEC1-29EA-430D-B597-3CA6182A7DFB">CREATE_SESSION Procedure</a> for information about the syntax of this PL/SQL procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">createSession</code> method (in Javadoc format)
                                 </p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-583E51CC-E332-4649-A00F-B6ED09D4F27E__BGBJJCCB">Example 6-2</a> for information about a Java example of this task
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG352"></a><a id="DBFSG303"></a><div class="props_rev_3"><a id="GUID-AD6FDD39-B8B9-4838-BBD5-89094D86321F" name="GUID-AD6FDD39-B8B9-4838-BBD5-89094D86321F"></a><h4 id="DBFSG-GUID-AD6FDD39-B8B9-4838-BBD5-89094D86321F" class="sect4">Creating an Anonymous Application Session</h4>
                  <div>
                     <div class="section">
                        <p>You can also create an anonymous application session using the <code class="codeph">DBMS_XS_SESSIONS.CREATE_SESSION</code> procedure in PL/SQL or using the <code class="codeph">createAnonymousSession</code> method of the <code class="codeph">XSSessionManager</code> class in Java. To create an anonymous session through the PL/SQL API, you must specify the predefined user name <code class="codeph">XSGUEST</code>.
                        </p>
                        <p><a href="configuring-application-sessions.html#GUID-AD6FDD39-B8B9-4838-BBD5-89094D86321F__BABHBJGI">Example 3-2</a> shows how to create an anonymous session with the predefined user <code class="codeph">XSGUEST</code>.
                        </p>
                        <p>After creating an anonymous application session, you can assign a named user to the session.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-AD6FDD39-B8B9-4838-BBD5-89094D86321F__BABHBJGI">
                        <p class="titleinexample">Example 3-2 Creating an Anonymous Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;sessionid RAW(16);
BEGIN
<span class="bold">&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('XSGUEST', sessionid);</span>
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-AD6FDD39-B8B9-4838-BBD5-89094D86321F__GUID-F838604E-1B64-4FD3-A675-02B639BA66F0">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="DBMS_XS_SESSION-package.html#GUID-9C80BEC1-29EA-430D-B597-3CA6182A7DFB">CREATE_SESSION Procedure</a> for information about the syntax of this PL/SQL procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">createAnonymousSession</code> method (in Javadoc format)
                                 </p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-583E51CC-E332-4649-A00F-B6ED09D4F27E__BGBJJCCB">Example 6-2</a> for information about a Java example of this task
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99098"></a><a id="DBFSG99097"></a><div class="props_rev_3"><a id="GUID-C5889D1C-AE40-4FAE-A453-B65157155D17" name="GUID-C5889D1C-AE40-4FAE-A453-B65157155D17"></a><h4 id="DBFSG-GUID-C5889D1C-AE40-4FAE-A453-B65157155D17" class="sect4">Attaching an Application Session to a Traditional Database Session</h4>
                  <div>
                     <div class="section">
                        <p>To use an application session, it must be associated with a database session. This operation is called <code class="codeph">attach</code>. You can attach an application session to a traditional database session using the <code class="codeph">DBMS_XS_SESSIONS.ATTACH_SESSION</code> procedure in PL/SQL or the <code class="codeph">attachSession</code> method of the <code class="codeph">XSSessionManager</code> class in Java. A database session can only attach one application session at a time. The <code class="codeph">DBA_XS_ACTIVE_SESSIONS</code> dynamic data dictionary view displays all attached application sessions in the database. 
                        </p>
                        <p>To execute this procedure, the traditional session user must have the <code class="codeph">ATTACH_SESSION</code> application privilege. This privilege can be obtained through the <code class="codeph">XS_SESSION_ADMIN</code> Database role or by the <code class="codeph">XS_ADMIN_UTIL.GRANT_SYSTEM_PRIVILEGE</code> API call. If you specify namespaces, then the user is required to have the application privileges <code class="codeph">MODIFY_NAMESPACE</code> or <code class="codeph">MODIFY_ATTRIBUTE</code> on the namespaces, or <code class="codeph">ADMIN_NAMESPACE</code> system privilege.
                        </p>
                        <p><a href="configuring-application-sessions.html#GUID-C5889D1C-AE40-4FAE-A453-B65157155D17__CHDFDGIA">Example 3-3</a> shows how to attach an application session to a database session.
                        </p>
                        <p>Beginning with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), Oracle Label Security supports Real Application Security users. This means that Oracle Label Security context is established in the Real Application Security session during the attach operation, so that Oracle Label Security authorization can be exercised in the  Real Application Security user session. Oracle Label Security provides the ability to define data labels, assign user labels and protect sensitive application data within the Oracle database.
                        </p>
                        <p>For example, using Oracle Label Security data labels allows each row of a table to be labeled based on its level of confidentiality. Data labels consist of 3 components: levels, compartments, and groups. So a given data label should have one level, zero or more compartments and zero or more groups associated with it. Compartments allow defining finer granularity within a level &#x2013; all data belonging to a particular project can be labeled with the same compartment. Groups are hierarchical and a group can thus be associated with a parent group.</p>
                        <p>In addition, using Oracle Label Security user labels, each user can be assigned labels that constrain access to labeled data. Each user is assigned a range of levels, compartments, and groups, and each session can operate within that authorized range to access labeled data within that range.</p>
                        <p>Furthermore, using privileges, Oracle Label Security privileges are policy specific and used to provide users specific rights to perform special operations or to access data beyond their label authorizations. The list of all policy specific privileges is: <code class="codeph">FULL</code>, <code class="codeph">READ</code>, <code class="codeph">COMPACCESS</code>, <code class="codeph">PROFILE_ACCESS</code>, <code class="codeph">WRITEUP</code>, <code class="codeph">WRITEDOWN</code>, and <code class="codeph">WRITEACROSS</code>.
                        </p>
                        <p>Using Oracle Label Security, trusted stored programs can be used. A trusted stored program unit is a stored procedure, function, or package that has been granted one or more label security privileges. Trusted stored program units are used to let users perform privileged operations in a controlled manner, or update data at several labels. By granting privileges to a program unit, the privileges required for users can be effectively reduced.</p>
                        <p>Using Oracle Label Security, a policy is applied to a table or an entire schema after defining data labels or user labels or both and assigning appropriate privileges to users. When a policy is applied on a table, label security creates a policy specific NUMBER column on the table to store numeric equivalent of the data labels defined before for the policy. The column can be created as a user visible column or as a hidden column. The user can specify various enforcement options when the policy is applied on the table. The <code class="codeph">READ_CONTROL</code> enforcement option for example protects the table from queries and <code class="codeph">WRITE_CONTROL</code> protects it from DML operations.
                        </p>
                        <p>Establishing Oracle Label Security context in a Real Application Security session therefore lets <code class="codeph">SELECT</code> and DML operations return results authorized for the Real Application Security user. 
                        </p>
                        <p>To attach a session with dynamic roles, a list of dynamic roles can be passed in the PL/SQL <code class="codeph">ATTACH_SESSION</code> procedure.
                        </p>
                        <div class="infoboxnote" id="GUID-C5889D1C-AE40-4FAE-A453-B65157155D17__GUID-2BC0C37A-A46F-43D3-B8B5-3E85D01DFABE">
                           <p class="notep1">Note:</p>
                           <p>When developing the application, ensure that all application end user actions are captured within an <code class="codeph">ATTACH_SESSION</code> ... <code class="codeph">DETACH_SESSION</code> programming block. (For more information, see <span class="q">"<a href="configuring-application-sessions.html#GUID-B8AE0932-F484-4FD3-BEBF-8C82820B6A80">Detaching an Application Session from a Traditional Database Session</a>"</span>).
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C5889D1C-AE40-4FAE-A453-B65157155D17__CHDFDGIA">
                        <p class="titleinexample">Example 3-3 Attaching an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;sessionid raw(16);
BEGIN
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('lwuser1', sessionid);
<span class="bold">&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.ATTACH_SESSION(sessionid);</span>
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-C5889D1C-AE40-4FAE-A453-B65157155D17__GUID-9999A50D-BE98-4BFB-9176-596D3A35FD78">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="DBMS_XS_SESSION-package.html#GUID-2CCDFDD1-F3B4-4EE5-A261-7871B18A0A91">ATTACH_SESSION Procedure</a> for information about the syntax of this PL/SQL procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">attachSession</code> method (in Javadoc format)
                                 </p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-3C2EC26F-6493-41E2-BD52-B5923FEE8E8A__BABJCJBI">Example 6-3</a> for information about a Java example of this task
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../olsag/oracle-label-security-pl-sql-packages.html#OLSAG3285" target="_blank"><span><cite>Oracle Label Security Administrator’s Guide</cite></span></a> for information about Oracle Label Security
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99101"></a><a id="DBFSG99100"></a><div class="props_rev_3"><a id="GUID-97CA5620-0D2F-436D-94BE-55D57953A05E" name="GUID-97CA5620-0D2F-436D-94BE-55D57953A05E"></a><h4 id="DBFSG-GUID-97CA5620-0D2F-436D-94BE-55D57953A05E" class="sect4">Setting a Cookie for an Application Session</h4>
                  <div>
                     <div class="section">
                        <p>You can associate a specific cookie with an application session using the <code class="codeph">DBMS_XS_SESSIONS.SET_SESSION_COOKIE</code> procedure in PL/SQL or the <code class="codeph">setCookie</code> method of the <code class="codeph">XSSessionManager</code> class in Java. The cookie can also be associated at the time of creation of the session through the <code class="codeph">CREATE_SESSION</code> PL/SQL API. A cookie is a token embedded in a user’s session by a web site during an application session. So the next time the same user requests something from that web site, it sends the cookie to the application session, which allows the server to associate the session with that user.
                        </p>
                        <p>To execute this procedure, the user must be granted the <code class="codeph">MODIFY_SESSION</code> application privilege. This privilege can be obtained through the <code class="codeph">XS_SESSION_ADMIN</code> Database role or by the <code class="codeph">XS_ADMIN_UTIL.GRANT_SYSTEM_PRIVILEGE</code> API call.
                        </p>
                        <p><a href="configuring-application-sessions.html#GUID-97CA5620-0D2F-436D-94BE-55D57953A05E__CHDBFGIE">Example 3-4</a> shows how to set a cookie for an application session. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-97CA5620-0D2F-436D-94BE-55D57953A05E__CHDBFGIE">
                        <p class="titleinexample">Example 3-4 Setting a Cookie for an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;sessionid raw(16);
BEGIN
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('lwuser1', sessionid);
<span class="bold">&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.SET_SESSION_COOKIE('Cookie1', sessionid);</span>
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-97CA5620-0D2F-436D-94BE-55D57953A05E__GUID-C233AB56-336A-4E65-8555-1C97F77B0BF4">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="DBMS_XS_SESSION-package.html#GUID-AEA590DF-3C7C-4A50-A38E-53DB54266BF2">SET_SESSION_COOKIE Procedure</a> for information about the syntax of this PL/SQL procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">setCookie</code> method (in Javadoc format)
                                 </p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-23E01854-C532-4A86-AB09-B4C10342410D__BABJJBHF">Example 6-20</a> for information about a Java example of this task
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99104"></a><a id="DBFSG99103"></a><div class="props_rev_3"><a id="GUID-33B7BE0C-7E2E-4FEE-AD52-F1041B8042DA" name="GUID-33B7BE0C-7E2E-4FEE-AD52-F1041B8042DA"></a><h4 id="DBFSG-GUID-33B7BE0C-7E2E-4FEE-AD52-F1041B8042DA" class="sect4">Assigning an Application User to an Anonymous Application Session</h4>
                  <div>
                     <div class="section">
                        <p>You can assign a named application user to a currently attached anonymous application session using the <code class="codeph">DBMS_XS_SESSIONS.ASSIGN_USER</code> procedure in PL/SQL or the <code class="codeph">assignUser</code> method of the <code class="codeph">XSSessionManager</code> class in Java. Assigning a user changes the user session from anonymous to a named user.
                        </p>
                        <p>To execute this procedure, the dispatcher or connection user must have the <code class="codeph">ASSIGN_USER</code> application privilege. This privilege can be obtained through the <code class="codeph">XS_SESSION_ADMIN</code> Database role or by the <code class="codeph">XS_ADMIN_UTIL.GRANT_SYSTEM_PRIVILEGE</code> API call. If you specify namespaces, then the user is required to be granted application privileges <code class="codeph">MODIFY_NAMESPACE</code> or <code class="codeph">MODIFY_ATTRIBUTE</code> on the namespaces, or <code class="codeph">ADMIN_NAMESPACE</code> system privilege. A list of dynamic roles can also be enabled using the <code class="codeph">DBMS_XS_SESSIONS.ASSIGN_USER</code> procedure. 
                        </p>
                        <p>Beginning with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), Oracle Label Security supports Real Application Security users. If the Real Application Security user is authorized in any Oracle Label Security policy then, during an <code class="codeph">assign_user</code> call, the corresponding label security authorization is established for the named Real Application Security user session. Establishing Oracle Label Security context in a Real Application Security session therefore lets <code class="codeph">SELECT</code> and DML operations return results authorized for the Real Application Security user. 
                        </p>
                        <p><a href="configuring-application-sessions.html#GUID-33B7BE0C-7E2E-4FEE-AD52-F1041B8042DA__CJABGBAF">Example 3-5</a> shows how to assign the application user <code class="codeph">lwuser1</code> to an application session.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-33B7BE0C-7E2E-4FEE-AD52-F1041B8042DA__CJABGBAF">
                        <p class="titleinexample">Example 3-5 Assigning an Application User to an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;sessionid raw(16);
BEGIN
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('XSGUEST', sessionid);
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.ATTACH_SESSION(sessionid);
&nbsp;&nbsp;<span class="bold">SYS.DBMS_XS_SESSIONS.ASSIGN_USER('lwuser1');</span>
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-33B7BE0C-7E2E-4FEE-AD52-F1041B8042DA__GUID-E0B0826B-90CF-42F2-98DB-AE9A57F5BB20">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="DBMS_XS_SESSION-package.html#GUID-C93E0B47-6F3E-44E0-8A3F-5EE868050923">ASSIGN_USER Procedure</a> for information about the syntax of this PL/SQL procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">assignUser</code> method (in Javadoc format)
                                 </p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-4D8AEEB1-29BF-4813-9023-4EA8FB21E5D9__BABJABAB">Example 6-5</a> for information about a Java example of this task
                                 </p>
                              </li>
                              <li>
                                 <p><a href="configuring-application-sessions.html#GUID-C5889D1C-AE40-4FAE-A453-B65157155D17">Attaching an Application Session to a Traditional Database Session</a> for information about how Oracle Label Security supports Real Application Security users
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../olsag/oracle-label-security-pl-sql-packages.html#OLSAG3285" target="_blank"><span><cite>Oracle Label Security Administrator’s Guide</cite></span></a> for information about Oracle Label Security
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG116"></a><a id="DBFSG115"></a><div class="props_rev_3"><a id="GUID-CC76B226-1A50-4E2E-9569-8970B1EA2EF3" name="GUID-CC76B226-1A50-4E2E-9569-8970B1EA2EF3"></a><h4 id="DBFSG-GUID-CC76B226-1A50-4E2E-9569-8970B1EA2EF3" class="sect4">Switching a Current Application User to Another Application User in the Current Application Session</h4>
                  <div>
                     <div class="section">
                        <p>You can switch or proxy the security context of the current application session to a newly initialized security context for a specified application user using the <code class="codeph">DBMS_XS_SESSIONS.SWITCH_USER</code> procedure in PL/SQL or the <code class="codeph">switchUser</code> method of the <code class="codeph">Session</code> interface in Java. To proxy another application user, the current application session user must be set up as a proxy user for the target user before performing the switch operation. This is performed through the <code class="codeph">XS_PRINCIPAL.ADD_PROXY_USER</code> PL/SQL API. 
                        </p>
                        <p>Switching a user changes the user session between two named users.</p>
                        <p>If the target application user of the proxy operation has a list of filtering roles (proxy roles) set up for the proxy user, they are enabled in the session.</p>
                        <p>Beginning with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), Oracle Label Security supports Real Application Security users. This means that  Oracle Label Security context of the <code class="codeph">target_user</code> will be established on switching from the <code class="codeph">proxy_user</code> session to the <code class="codeph">target_user</code> session.
                        </p>
                        <p>You can either retain or clear the application namespace and attributes after a switch operation. When the <code class="codeph">keep_state</code> parameter is set to <code class="codeph">TRUE</code>, all application namespaces and attributes are retained; otherwise, all previous state in the session is cleared. 
                        </p>
                        <p>If you specify namespaces, then the user is required to be granted application privileges <code class="codeph">MODIFY_NAMESPACE</code> or <code class="codeph">MODIFY_ATTRIBUTE</code> on the namespaces, or the <code class="codeph">ADMIN_NAMESPACE</code> system privilege.
                        </p>
                        <p><a href="configuring-application-sessions.html#GUID-CC76B226-1A50-4E2E-9569-8970B1EA2EF3__CIHJIGIE">Example 3-6</a> shows how to switch the application user <code class="codeph">lwuser1</code> to application user <code class="codeph">lwuser2</code> in the current application session. Note that namespace templates <code class="codeph">ns1</code> and <code class="codeph">ns2</code> should have already have been created by <code class="codeph">SYSDBA</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-CC76B226-1A50-4E2E-9569-8970B1EA2EF3__CIHJIGIE">
                        <p class="titleinexample">Example 3-6 Switching an Application User to Another Application User in the Current Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
  sessionid RAW(16);
  nsList DBMS_XS_NSATTRLIST;
BEGIN 
  nsList := DBMS_XS_NSATTRLIST(DBMS_XS_NSATTR('ns1'),DBMS_XS_NSATTR('ns2'));
  SYS.DBMS_XS_SESSIONS.CREATE_SESSION('lwuser1', sessionid);
  SYS.DBMS_XS_SESSIONS.ATTACH_SESSION(sessionid);
<span class="bold">  SYS.DBMS_XS_SESSIONS.SWITCH_USER(username =&gt; 'lwuser2',</span>
<span class="bold">                               keep_state =&gt; TRUE,</span>
<span class="bold">                               namespaces =&gt; nsList);</span>
END;</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-CC76B226-1A50-4E2E-9569-8970B1EA2EF3__GUID-032E53DB-82C3-44E7-9DFE-5CE00E573397">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="DBMS_XS_SESSION-package.html#GUID-6F9F4CE9-A434-4F43-9141-48E3F7B0A800">SWITCH_USER Procedure</a> for information about the syntax of this PL/SQL procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">assignUser</code> method (in Javadoc format)
                                 </p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-4D8AEEB1-29BF-4813-9023-4EA8FB21E5D9__BABDIGAE">Example 6-6</a> for information about a Java example of this task
                                 </p>
                              </li>
                              <li>
                                 <p><a href="configuring-application-sessions.html#GUID-C5889D1C-AE40-4FAE-A453-B65157155D17">Attaching an Application Session to a Traditional Database Session</a> for information about how Oracle Label Security supports Real Application Security users
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../olsag/oracle-label-security-pl-sql-packages.html#OLSAG3285" target="_blank"><span><cite>Oracle Label Security Administrator’s Guide</cite></span></a> for information about Oracle Label Security
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-EC9AEA9F-C552-4123-8789-122ADB283D86" name="GUID-EC9AEA9F-C552-4123-8789-122ADB283D86"></a><h4 id="DBFSG-GUID-EC9AEA9F-C552-4123-8789-122ADB283D86" class="sect4">About Creating a Global Callback Event Handler Procedure </h4>
                  <div>
                     <p>The callback event handler procedure must adhere to the prototype, which includes a specified set of arguments.</p>
                     <p>For example, the following <code class="codeph">callback_procedure</code> specifies an existing PL/SQL procedure, which is the event handler and shows its two possible forms.
                     </p><pre class="pre codeblock"><code>PROCEDURE callback_procedure (sessionid in raw, error out pls_integer)
</code></pre><p>This first form includes two parameters, the <code class="codeph">sessionid</code> in <code class="codeph">RAW</code> and the out parameter <code class="codeph">error</code>, which is used for the purpose of setting the error. The <code class="codeph">sessionid</code> contains the session ID of the session in which the event was triggered. The out <code class="codeph">error</code> parameter can be used in the event handler code to display the error.
                     </p><pre class="pre codeblock"><code>PROCEDURE callback_procedure (sessionid in raw, user in varchar2, error out pls_integer)</code></pre><p>This second form includes an additional parameter <code class="codeph">user</code> in <code class="codeph">VARCHAR2</code> to specify the user who triggered this event.
                     </p>
                     <div class="infoboxnote" id="GUID-EC9AEA9F-C552-4123-8789-122ADB283D86__GUID-EA10EF55-6296-43E8-B6E9-A280AF32AA83">
                        <p class="notep1">Note:</p>
                        <p>The error value must be explicitly set to a value in the PL/SQL body or in the exception block as follows, <code class="codeph">error:= 0;</code>.
                        </p>
                        <p>Otherwise, the following error is raised, <code class="codeph">ORA-46071: Error occured in event handler &lt;name-of-event-handler&gt;</code> followed by another error, <code class="codeph">ORA-1405: fetched column value is NULL</code>, indicating that the error value is <code class="codeph">NULL</code>.
                        </p>
                     </div>
                     <p>The following example shows the explicit setting of the error value using the second form of the callback procedure.</p><pre class="pre codeblock"><code>CREATE OR REPLACE PACKAGE CALLBACK_PACKAGE AS
PROCEDURE CALLBACK_PROCEDURE (sessionid in RAW, user in VARCHAR2, error out PLS_INTEGER);
END CALLBACK_PACKAGE;
/

CREATE OR REPLACE PACKAGE BODY CALLBACK_PACKAGE AS
PROCEDURE CALLBACK_PROCEDURE (sessionid in RAW, user in VARCHAR2, error out PLS_INTEGER) IS
BEGIN
  error := 0;
  dbms_output.put_line('Inside callback procedure');
EXCEPTION
WHEN OTHERS THEN
        error:=0;
        dbms_output.put_line('Error');
END CALLBACK_PROCEDURE;
END CALLBACK_PACKAGE;</code></pre><div class="infoboxnotealso" id="GUID-EC9AEA9F-C552-4123-8789-122ADB283D86__GUID-48976A13-BCB0-4C33-AEB7-7EB4C5751244">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="configuring-application-sessions.html#GUID-7CCB11E2-73B2-44DC-ABD7-F3C89C93AD14">Configuring Global Callback Event Handlers for an Application Session</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DBFSG353"></a><a id="DBFSG99107"></a><a id="DBFSG99106"></a><div class="props_rev_3"><a id="GUID-7CCB11E2-73B2-44DC-ABD7-F3C89C93AD14" name="GUID-7CCB11E2-73B2-44DC-ABD7-F3C89C93AD14"></a><h4 id="DBFSG-GUID-7CCB11E2-73B2-44DC-ABD7-F3C89C93AD14" class="sect4">Configuring Global Callback Event Handlers for an Application Session</h4>
                  <div>
                     <div class="section">
                        <p>A global callback event handler is a predefined PL/SQL procedure that can be invoked to inspect, log, and modify the session state when certain session events of interest occur. You can add multiple global callback event handlers on a session event. After you create the PL/SQL procedure, you can register or deregister, or enable or disable it using these procedures, respectively:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">DBMS_XS_SESSIONS.ADD_GLOBAL_CALLBACK</code></p>
                              <p>Use this procedure to register a callback event handler.</p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_XS_SESSIONS.DELETE_GLOBAL_CALLBACK</code></p>
                              <p>Use this procedure to deregister a global callback.</p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_XS_SESSIONS.ENABLE_GLOBAL_CALLBACK</code></p>
                              <p>Use this procedure to enable or disable a global callback procedure by specifying a value of <code class="codeph">TRUE</code> for enable or <code class="codeph">FALSE</code> for disable. 
                              </p>
                           </li>
                        </ul>
                        <p>To execute these APIs the user must have the <code class="codeph">CALLBACK</code> application privilege. This can be obtained through the <code class="codeph">XSPROVISIONER</code> application role or by calling the <code class="codeph">XS_ADMIN_UTIL.GRANT_SYSTEM_PRIVILEGE</code> API. You can configure one or more global callback event handlers for use in an application session. If you configure multiple callback event handlers, Oracle Database executes the handlers in the order in which they were created.
                        </p>
                        <p>Optionally, you can follow these steps to change the execution order:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Run the <code class="codeph">DBMS_XS_SESSIONS.DELETE_GLOBAL_CALLBACK</code> procedure to deregister any existing callback.</span></li>
                        <li><span>Run the <code class="codeph">DBMS_XS_SESSIONS.ADD_GLOBAL_CALLBACK</code> procedure to register the callback.</span></li>
                     </ol>
                     <div class="example" id="GUID-7CCB11E2-73B2-44DC-ABD7-F3C89C93AD14__BABJFGEH">
                        <p class="titleinexample">Example 3-7 Registering a Global Callback in an Application Session</p><pre class="oac_no_warn" dir="ltr">BEGIN
&nbsp;&nbsp;<span class="bold">SYS.DBMS_XS_SESSIONS.ADD_GLOBAL_CALLBACK</span> 
&nbsp;&nbsp;&nbsp;(DBMS_XS_SESSIONS.CREATE_SESSION_EVENT, 
&nbsp;&nbsp;&nbsp;'CALLBACK_SCHM','CALLBACK_PKG','CALLBACK_PROC');
END;
/
</pre><p><a href="configuring-application-sessions.html#GUID-7CCB11E2-73B2-44DC-ABD7-F3C89C93AD14__CJAIBHEF" title="This table has 2 columns, Column 1 is session event and column 2 is when the callback will be executed.">Table 3-1</a> lists session events that can use callback event handlers. 
                        </p>
                        <div class="tblformal" id="GUID-7CCB11E2-73B2-44DC-ABD7-F3C89C93AD14__CJAIBHEF">
                           <p class="titleintable">Table 3-1 Session Events That Can Use Callback Event Handlers</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Session Events That Can Use Callback Event Handlers" summary="This table has 2 columns, Column 1 is session event and column 2 is when the callback will be executed. " width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="56%" id="d11248e2476">Session Event</th>
                                    <th align="left" valign="bottom" width="44%" id="d11248e2479">When the Callback Will Be Executed</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d11248e2484" headers="d11248e2476 ">
                                       <p>Creating a new application session</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d11248e2484 d11248e2479 ">
                                       <p>After the session is created.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d11248e2491" headers="d11248e2476 ">
                                       <p>Attaching to an existing application session</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d11248e2491 d11248e2479 ">
                                       <p>After the session is attached.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d11248e2498" headers="d11248e2476 ">
                                       <p>Enabling a dynamic application role</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d11248e2498 d11248e2479 ">
                                       <p>After a dynamic application role is enabled.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d11248e2505" headers="d11248e2476 ">
                                       <p>Disabling a dynamic application role</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d11248e2505 d11248e2479 ">
                                       <p>After a dynamic application role is disabled.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d11248e2512" headers="d11248e2476 ">
                                       <p>Direct login of an application session</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d11248e2512 d11248e2479 ">
                                       <p>After the session is attached (if the session attach is called as part of the direct logon of an application session).</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d11248e2519" headers="d11248e2476 ">
                                       <p>Assigning a named application user to an anonymous application session</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d11248e2519 d11248e2479 ">
                                       <p>After the named user is assigned to the anonymous application session. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d11248e2526" headers="d11248e2476 ">
                                       <p>Proxying from one named application user to another named application user</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d11248e2526 d11248e2479 ">
                                       <p>After the application user is switched (if the application user is not proxying back to the original application user).</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d11248e2533" headers="d11248e2476 ">
                                       <p>Proxying back from a named application user to the original application user</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d11248e2533 d11248e2479 ">
                                       <p>After the application user is switched (if the application user is proxying back to the original application user).</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d11248e2540" headers="d11248e2476 ">
                                       <p>Enabling a regular application role</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d11248e2540 d11248e2479 ">
                                       <p>After the application role is enabled.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d11248e2547" headers="d11248e2476 ">
                                       <p>Disabling a regular application role</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d11248e2547 d11248e2479 ">
                                       <p>After the application role is disabled.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d11248e2554" headers="d11248e2476 ">
                                       <p>Detaching from an existing application session or database session</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d11248e2554 d11248e2479 ">
                                       <p>Before the session is detached.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d11248e2562" headers="d11248e2476 ">
                                       <p>Terminating an existing application session or database session</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d11248e2562 d11248e2479 ">
                                       <p>Before the session is destroyed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d11248e2569" headers="d11248e2476 ">
                                       <p>Direct logoff of an application session or database session</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d11248e2569 d11248e2479 ">
                                       <p>Before the session is detached (if the session detach is called as part of the direct logoff of an application session).</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Suppose you want to initialize certain application-specific states after creating a session. <a href="configuring-application-sessions.html#GUID-7CCB11E2-73B2-44DC-ABD7-F3C89C93AD14__BABJFGEH">Example 3-7</a> shows how to register a global callback that sets up the state <code class="codeph">CALLBACK_PROC</code>, which is defined in the package <code class="codeph">CALLBACK_PKG</code> and owned by the schema <code class="codeph">CALLBACK_SCHM</code>.
                        </p>
                        <p>The state <code class="codeph">CALLBACK_PROC</code> is registered as a global callback for the event <code class="codeph">CREATE_SESSION_EVENT</code>.
                        </p>
                        <p>For more examples, and for details about the syntax of these procedures, see the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="DBMS_XS_SESSION-package.html#GUID-A26E667D-741A-4371-9BE3-CCE27BE99FB6">ADD_GLOBAL_CALLBACK Procedure</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="DBMS_XS_SESSION-package.html#GUID-EE158701-CDD0-4C6E-8225-EA300F9FC352">DELETE_GLOBAL_CALLBACK Procedure</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="DBMS_XS_SESSION-package.html#GUID-5C06BDE3-60A1-4EAF-8D16-4DB7931C779F">ENABLE_GLOBAL_CALLBACK Procedure</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG118"></a><a id="DBFSG117"></a><div class="props_rev_3"><a id="GUID-B853A9A3-DDF7-4D00-92C1-7724312C0C99" name="GUID-B853A9A3-DDF7-4D00-92C1-7724312C0C99"></a><h4 id="DBFSG-GUID-B853A9A3-DDF7-4D00-92C1-7724312C0C99" class="sect4">Saving an Application Session</h4>
                  <div>
                     <div class="section">
                        <p>You can save the current user application session using the <code class="codeph">DBMS_XS_SESSIONS.SAVE_SESSION</code> procedure in PL/SQL or the <code class="codeph">saveSession</code> method of the <code class="codeph">XSSessionManager</code> class in Java. Use the save operation when session changes need to be propagated immediately to other sessions using the same session as this one. If the save operation is not used, then the session changes would be reflected in other sessions only after this session is detached.
                        </p>
                        <p>The calling user requires no privileges to perform this operation.</p>
                        <p><a href="configuring-application-sessions.html#GUID-B853A9A3-DDF7-4D00-92C1-7724312C0C99__CIHCIDEF">Example 3-8</a> shows how to save the current user application session.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B853A9A3-DDF7-4D00-92C1-7724312C0C99__CIHCIDEF">
                        <p class="titleinexample">Example 3-8 Saving the Current User Application Session</p><pre class="oac_no_warn" dir="ltr">BEGIN
 SYS.DBMS_XS_SESSIONS.SAVE_SESSION;
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-B853A9A3-DDF7-4D00-92C1-7724312C0C99__GUID-EA1CE3D1-5F2C-4D3A-95BF-AE781E7411DA">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="DBMS_XS_SESSION-package.html#GUID-0F69D39A-CA89-4F88-9268-BABEED216B9D">SAVE_SESSION Procedure</a> for information about the syntax of these PL/SQL procedures
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">detachSession</code> method (in Javadoc format)
                                 </p>
                              </li>
                              <li>
                                 <p><a href="oracle-fusion-middleware-integration-with-real-application-security.html#GUID-3B344CCC-2F9A-4B51-9689-0132F0CEA857__CHDEGGGJ">Example 7-4</a> for information about a Java example of this task
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99114"></a><a id="DBFSG99115"></a><a id="DBFSG99113"></a><div class="props_rev_3"><a id="GUID-B8AE0932-F484-4FD3-BEBF-8C82820B6A80" name="GUID-B8AE0932-F484-4FD3-BEBF-8C82820B6A80"></a><h4 id="DBFSG-GUID-B8AE0932-F484-4FD3-BEBF-8C82820B6A80" class="sect4">Detaching an Application Session from a Traditional Database Session</h4>
                  <div>
                     <div class="section">
                        <p>You can detach an application session from the traditional database session using either of these procedures:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">DBMS_XS_SESSIONS.DETACH_SESSION(abort =&gt; FALSE)</code></p>
                              <p>Use this procedure to detach the session and commit any changes that were made since the last time session changes were saved. When you specify the <code class="codeph">abort</code> parameter as <code class="codeph">FALSE</code> (the default value), all changes performed in the current session are persisted. The currently attached user can perform this operation without any additional privileges.
                              </p>
                              <p><code class="codeph">DETACH_SESSION</code> is always performed on the currently attached session.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_XS_SESSIONS.DETACH_SESSION(abort =&gt; TRUE)</code> 
                              </p>
                              <p>Use this procedure to detach the session without saving the changes. When you specify the <code class="codeph">abort</code> parameter as <code class="codeph">TRUE</code>, it rolls back the changes performed in the current session. The role and namespace changes made to the session since the attach are discarded.
                              </p>
                           </li>
                        </ul>
                        <p><a href="configuring-application-sessions.html#GUID-B8AE0932-F484-4FD3-BEBF-8C82820B6A80__CHDHCGFJ">Example 3-9</a> shows how to detach an application session from a database session and commit the changes. Note that you can call <code class="codeph">DETACH_SESSION</code> anywhere to detach the currently attached session.
                        </p>
                        <p>You can use the <code class="codeph">detachSession</code> method of the <code class="codeph">XSSessionManager</code> class in Java.
                        </p>
                        <p><a href="configuring-application-sessions.html#GUID-B8AE0932-F484-4FD3-BEBF-8C82820B6A80__CJAEGIAB">Example 3-10</a> shows how to detach a database session from an application session without saving any changes.
                        </p>
                        <div class="infoboxnote" id="GUID-B8AE0932-F484-4FD3-BEBF-8C82820B6A80__GUID-A73D40C7-7A20-410F-AB44-AD85935BF8E0">
                           <p class="notep1">Note:</p>
                           <p>When developing the application, ensure that all application end user actions are captured within an <code class="codeph">ATTACH_SESSION</code> ... <code class="codeph">DETACH_SESSION</code> programming block. (For more information, see <span class="q">"<a href="configuring-application-sessions.html#GUID-C5889D1C-AE40-4FAE-A453-B65157155D17">Attaching an Application Session to a Traditional Database Session</a>"</span>)
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B8AE0932-F484-4FD3-BEBF-8C82820B6A80__CHDHCGFJ">
                        <p class="titleinexample">Example 3-9 Detaching and Committing an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;sessionid RAW(16);
BEGIN
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('lwuser1', sessionid);
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.ATTACH_SESSION(sessionid);
...
&nbsp;&nbsp;<span class="bold">SYS.DBMS_XS_SESSIONS.DETACH_SESSION;</span>
...
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B8AE0932-F484-4FD3-BEBF-8C82820B6A80__CJAEGIAB">
                        <p class="titleinexample">Example 3-10 Detaching and Not Committing an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;sessionid RAW(16);
BEGIN
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('lwuser1', sessionid);
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.ATTACH_SESSION(sessionid);
...
&nbsp;&nbsp;<span class="bold">SYS.DBMS_XS_SESSIONS.DETACH_SESSION(TRUE)</span>;
END;</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-B8AE0932-F484-4FD3-BEBF-8C82820B6A80__GUID-DCF0E3B5-EBAE-4C71-A9FA-FC073AA0CFE8">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="DBMS_XS_SESSION-package.html#GUID-E991C805-AFFF-432D-877B-262EE8E9FA32">DETACH_SESSION Procedure</a> for information about the syntax of these PL/SQL procedures
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">detachSession</code> method (in Javadoc format)
                                 </p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-1644F4CF-90DE-40BE-AC5C-341372A0DB3B__BABJFIGH">Example 6-21</a> for information about a Java example of this task
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99119"></a><a id="DBFSG99118"></a><div class="props_rev_3"><a id="GUID-9E4AF526-8BE7-4A31-8062-47D46BF77446" name="GUID-9E4AF526-8BE7-4A31-8062-47D46BF77446"></a><h4 id="DBFSG-GUID-9E4AF526-8BE7-4A31-8062-47D46BF77446" class="sect4">Destroying an Application Session</h4>
                  <div>
                     <div class="section">
                        <p>You can terminate an application session using the <code class="codeph">DBMS_XS_SESSIONS.DESTROY_SESSION</code> procedure in PL/SQL or using the <code class="codeph">destroySession</code> method of the <code class="codeph">XSSessionManager</code> class in Java. This procedure also detaches all traditional sessions from the application session.
                        </p>
                        <p>To execute this procedure, the invoking user must have the <code class="codeph">TERMINATE_SESSION</code> application privilege. This privilege can be obtained through the <code class="codeph">XS_SESSION_ADMIN</code> Database role or by the <code class="codeph">XS_ADMIN_UTIL.GRANT_SYSTEM_PRIVILEGE</code> API call. 
                        </p>
                        <p><a href="configuring-application-sessions.html#GUID-9E4AF526-8BE7-4A31-8062-47D46BF77446__CHDJJCFI">Example 3-11</a> shows how to destroy an application session.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9E4AF526-8BE7-4A31-8062-47D46BF77446__CHDJJCFI">
                        <p class="titleinexample">Example 3-11 Destroying an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;sessionid RAW(16);
BEGIN
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('lwuser1', sessionid);
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.ATTACH_SESSION(sessionid);
  SYS.DBMS_XS_SESSIONS.DETACH_SESSION;
<span class="bold">&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.DESTROY_SESSION(sessionid);</span>
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-9E4AF526-8BE7-4A31-8062-47D46BF77446__GUID-465383DF-344D-4E42-8D55-13BEBD50AD30">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="DBMS_XS_SESSION-package.html#GUID-65D575BD-FE85-4DA6-9C0D-8A3C9BD31E2A">DESTROY_SESSION Procedure</a> for information about the syntax of this PL/SQL procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">destroySession</code> method (in Javadoc format)
                                 </p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-6DACB579-26F2-4641-A4D5-E7DE2A1B0004__BGBIJIFH">Example 6-22</a> for information about a Java example of this task
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="DBFSG99121"></a><div class="props_rev_3"><a id="GUID-1678A791-8C84-4AAF-A6C4-259F8CBB8A87" name="GUID-1678A791-8C84-4AAF-A6C4-259F8CBB8A87"></a><h3 id="DBFSG-GUID-1678A791-8C84-4AAF-A6C4-259F8CBB8A87" class="sect3">About Manipulating the Application Session State</h3>
               <div>
                  <div class="p">This section contains:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-0B1ED666-0401-4050-BE4E-EF375752A39B">About Using Namespace Templates to Create Namespaces</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-28231539-41C0-41DE-A0CE-AE7E682B51CB">Initializing a Namespace in an Application Session</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-B47E38D2-1C6F-41C8-8733-D72B93DCA96F">Setting Session Attributes in an Application Session</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-A0CE910F-1FEC-42A4-A736-FA2DF663D5BA">Getting Session Attributes in an Application Session</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-367C8369-8532-4C69-8C15-F514C3363DEC">Creating Custom Attributes in an Application Session</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-0F371814-BD59-4918-B0B3-6BEFDB4A8916">Deleting a Namespace in an Application Session</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-56469A83-DD02-4A99-B220-43AB653E7316">Enabling Application Roles for a Session</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-sessions.html#GUID-76CA3EEB-02C9-47C6-A6CB-9194340C65BD">Disabling Application Roles for a Session</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99122"></a><div class="props_rev_3"><a id="GUID-0B1ED666-0401-4050-BE4E-EF375752A39B" name="GUID-0B1ED666-0401-4050-BE4E-EF375752A39B"></a><h4 id="DBFSG-GUID-0B1ED666-0401-4050-BE4E-EF375752A39B" class="sect4">About Using Namespace Templates to Create Namespaces</h4>
                  <div>
                     <p>An application uses a namespace to store application defined attribute-value pairs. Often, an application needs to use the same namespace across different application sessions. A namespace template provides a way to define and initialize a namespace.</p>
                     <p>A namespace template defines the namespace and its properties. It is used to initialize the namespace in an application session. The namespace name must be the same as the template that defines it. </p>
                     <div class="p">This section contains:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="configuring-application-sessions.html#GUID-BF0AACF5-D06C-47E1-B83C-1D354C2CF2F3">Components of a Namespace Template</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-application-sessions.html#GUID-472A5EFF-EFE3-49FD-8103-1EDD4C841947">About Namespace Views</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-application-sessions.html#GUID-C98B0185-2F23-4C30-A3F0-B32DBD09CEC2">Creating a Namespace Template for an Application Session</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DBFSG354"></a><div class="props_rev_3"><a id="GUID-BF0AACF5-D06C-47E1-B83C-1D354C2CF2F3" name="GUID-BF0AACF5-D06C-47E1-B83C-1D354C2CF2F3"></a><h5 id="DBFSG-GUID-BF0AACF5-D06C-47E1-B83C-1D354C2CF2F3" class="sect5">Components of a Namespace Template</h5>
                     <div>
                        <p>A namespace template includes the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Name of the namespace</p>
                              <p>The name of the application namespace uniquely identifies the namespace. This name is used when creating the namespace in an application session.</p>
                           </li>
                           <li>
                              <p>Namespace handler</p>
                              <p>The namespace handler is called when an attribute value is set or retrieved. Specifying a handler is optional.</p>
                              <p>Namespaces can be associated with an event handling function. The server invokes this function whenever an operation on an attribute registered for event handling is performed. The event handling function is provided with the attribute name, attribute value, and the event code as arguments. For example:</p><pre class="oac_no_warn" dir="ltr">FUNCTION event_handling_function_name(
         session_id IN RAW,
         namespace  IN VARCHAR2,
         attribute  IN VARCHAR2,
         old_value  IN VARCHAR2,
         new_value  IN VARCHAR2,
         event_code IN PLS_INTEGER)
RETURNS PLS_INTEGER;
</pre></li>
                           <li>
                              <p>Attribute List</p>
                              <p>The attribute list includes the attributes defined for the namespace. These attributes are created in the session when the namespace is created.</p>
                              <p>You can specify the following optional data for attributes: </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The default value</p>
                                    <p>The attribute is initialized with the default value when the namespace is created in the application session. The default value and the event types <code class="codeph">FIRSTREAD_EVENT</code> and <code class="codeph">FIRSTREAD_PLUS_UPDATE_EVENT</code> cannot exist at the same time.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Event types</p>
                                    <p>You can specify the following event types for an attribute: </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">FIRSTREAD_EVENT</code></p>
                                          <p>Specify this event type to call the namespace handler when an attribute whose value has not been set is read for the first time. You can specify this event type only if a default value has not been set for the attribute.</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">UPDATE_EVENT</code></p>
                                          <p>Specify this event type to call the namespace handler when the attribute value is updated.</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">FIRSTREAD_PLUS_UPDATE_EVENT</code></p>
                                          <p>Specify this event type to call the namespace handler when an attribute whose value has not been set is read for the first time, or when its value is updated. You can specify this event type only if a default value has not been set for the attribute.</p>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Namespace ACL</p>
                              <p>The privilege model for namespace operations. Namespace operations are protected by the ACL set on the template. By default, <code class="codeph">NS_UNRESTRICTED_ACL</code> is set on a template, which allows unrestricted operation on namespaces created from the templates. 
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DBFSG355"></a><div class="props_rev_3"><a id="GUID-472A5EFF-EFE3-49FD-8103-1EDD4C841947" name="GUID-472A5EFF-EFE3-49FD-8103-1EDD4C841947"></a><h5 id="DBFSG-GUID-472A5EFF-EFE3-49FD-8103-1EDD4C841947" class="sect5">About Namespace Views</h5>
                     <div>
                        <p>You can find information about namespace templates, namespace template attributes, and namespace attributes in current and all application sessions by querying these data dictionary views:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="real-application-security-data-dictionary-views.html#GUID-F09A3547-CD7F-4F77-AFE9-2177C750D586">DBA_XS_NS_TEMPLATES</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="real-application-security-data-dictionary-views.html#GUID-8B005814-5098-4FB7-AED2-A85787449044">DBA_XS_NS_TEMPLATE_ATTRIBUTES</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="real-application-security-data-dictionary-views.html#GUID-EA10A73F-B1EA-4E70-9E6A-5659ABCC97A1">DBA_XS_SESSION_NS_ATTRIBUTES</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="real-application-security-data-dictionary-views.html#GUID-D22D4EF6-5C79-4056-AF9B-64EAA7D94BFE">V$XS_SESSION_NS_ATTRIBUTES</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DBFSG389"></a><a id="DBFSG388"></a><div class="props_rev_3"><a id="GUID-C98B0185-2F23-4C30-A3F0-B32DBD09CEC2" name="GUID-C98B0185-2F23-4C30-A3F0-B32DBD09CEC2"></a><h5 id="DBFSG-GUID-C98B0185-2F23-4C30-A3F0-B32DBD09CEC2" class="sect5">Creating a Namespace Template for an Application Session</h5>
                     <div>
                        <div class="section">
                           <p>You can create a namespace template using the <code class="codeph">XS_NAMESPACE.CREATE_TEMPLATE</code> procedure in PL/SQL or the <code class="codeph">createNamespace</code> method of the <code class="codeph">Session</code> interface in Java.
                           </p>
                           <p><a href="configuring-application-sessions.html#GUID-C98B0185-2F23-4C30-A3F0-B32DBD09CEC2__BABDDIJA">Example 3-12</a> shows how to create the namespace template <code class="codeph">ns1</code> for an application session. It defines the attributes for this namespace using the list of attributes <code class="codeph">attrs</code>. Because this namespace template has <code class="codeph">NS_UNRESTRICTED_ACL</code> set on the template, this allows unrestricted operation on namespaces created from the template.
                           </p>
                           <p>The calling user must have the <code class="codeph">ADMIN_ANY_SEC_POLICY</code> application privilege, which allows it to administer namespace templates and attributes.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-C98B0185-2F23-4C30-A3F0-B32DBD09CEC2__BABDDIJA">
                           <p class="titleinexample">Example 3-12 Creating a Namespace Template</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;attrs XS$NS_ATTRIBUTE_LIST;
BEGIN
&nbsp;&nbsp;attrs := XS$NS_ATTRIBUTE_LIST();
&nbsp;&nbsp;attrs.extend(3);
 
&nbsp;&nbsp;attrs(1) := XS$NS_ATTRIBUTE('attr1','value1',
&nbsp;&nbsp;&nbsp;&nbsp;XS_NAMESPACE.UPDATE_EVENT);
&nbsp;&nbsp;attrs(2) := XS$NS_ATTRIBUTE('attr2',null,
&nbsp;&nbsp;&nbsp;&nbsp;XS_NAMESPACE.FIRSTREAD_PLUS_UPDATE_EVENT);
&nbsp;&nbsp;attrs(3) := XS$NS_ATTRIBUTE('attr3','value3');
 
&nbsp;&nbsp;<span class="bold">SYS.XS_NAMESPACE.CREATE_TEMPLATE(name=&gt;'ns1',</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bold">description=&gt;'namespace template 1',</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bold">attr_list=&gt;attrs,</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bold">schema=&gt;'SCOTT',</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bold">package=&gt;'PKG1',</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bold">function=&gt;'FN1',</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bold">acl=&gt;'SYS.NS_UNRESTRICTED_ACL');</span>
END;
/</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-C98B0185-2F23-4C30-A3F0-B32DBD09CEC2__GUID-ECEE8106-A0FA-4A9E-A32D-D6456FACD0C9">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="XS_NAMESPACE-package.html#GUID-2ECCB0F0-0B24-4538-8B15-DEA704931B3E">CREATE_TEMPLATE Procedure</a> for information about the syntax of this PL/SQL procedure
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">createNamespace</code> method (in Javadoc format)
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="using-real-application-security-in-java-applications.html#GUID-F96DD9EA-EF6D-41D9-B64C-4C3CEE69E304__BGBEFDHB">Example 6-10</a> for information about a Java example of this task
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="DBFSG99125"></a><div class="props_rev_3"><a id="GUID-28231539-41C0-41DE-A0CE-AE7E682B51CB" name="GUID-28231539-41C0-41DE-A0CE-AE7E682B51CB"></a><h4 id="DBFSG-GUID-28231539-41C0-41DE-A0CE-AE7E682B51CB" class="sect4">Initializing a Namespace in an Application Session</h4>
                  <div>
                     <div class="section">
                        <p>A namespace can be initialized, using a namespace template, during any of the following events, as described in this section:</p>
                        <div class="p">This section contains:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="configuring-application-sessions.html#GUID-5059E579-574A-4B5D-BBA5-B1ED5186B252">Initializing a Namespace When the Session Is Created</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-application-sessions.html#GUID-1DED671F-762A-4869-9CD3-95D5D1CDC464">Initializing a Namespace When the Session Is Attached</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-application-sessions.html#GUID-F2A52945-6DEC-4618-9829-A128E62C5EDD">Initializing a Namespace When a Named Application User Is Assigned to an Anonymous Application Session</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-application-sessions.html#GUID-8E3E9E18-BEDC-48DB-97CD-3558FB9992C2">Initializing a Namespace When the Application User Is Switched in an Application Session</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-application-sessions.html#GUID-8DCF6892-9681-4D63-AC45-CC516C4FEB73">Initializing a Namespace Explicitly</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div><a id="DBFSG99812"></a><a id="DBFSG99126"></a><div class="props_rev_3"><a id="GUID-5059E579-574A-4B5D-BBA5-B1ED5186B252" name="GUID-5059E579-574A-4B5D-BBA5-B1ED5186B252"></a><h5 id="DBFSG-GUID-5059E579-574A-4B5D-BBA5-B1ED5186B252" class="sect5">Initializing a Namespace When the Session Is Created</h5>
                     <div>
                        <div class="section">
                           <p>When you create an application session using the <code class="codeph">DBMS_XS_SESSIONS.CREATE_SESSION</code> procedure in PL/SQL or the <code class="codeph">createSession</code> method of the <code class="codeph">XSSessionManager</code> class in Java, you can specify a list of namespaces to initialize.
                           </p>
                           <p><a href="configuring-application-sessions.html#GUID-5059E579-574A-4B5D-BBA5-B1ED5186B252__BABJDCJB">Example 3-13</a> shows how to initialize two namespaces, <code class="codeph">ns1</code> and <code class="codeph">ns2</code>, while creating an application session.
                           </p>
                           <p>If you specify namespaces during creation of the session, the caller is required to be granted application privileges <code class="codeph">MODIFY_NAMESPACE</code> or <code class="codeph">MODIFY_ATTRIBUTE</code> on the namespaces, or be granted the <code class="codeph">ADMIN_NAMESPACE</code> system privilege.
                           </p>
                           <div class="infoboxnote" id="GUID-5059E579-574A-4B5D-BBA5-B1ED5186B252__GUID-152C3C4E-943B-4E86-87CC-9CC2B57B9C7C">
                              <p class="notep1">Note:</p>
                              <p>The namespaces used in <a href="configuring-application-sessions.html#GUID-5059E579-574A-4B5D-BBA5-B1ED5186B252__BABJDCJB">Example 3-13</a> must already have corresponding namespace templates defined.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-5059E579-574A-4B5D-BBA5-B1ED5186B252__BABJDCJB">
                           <p class="titleinexample">Example 3-13 Initializing Namespaces When Creating an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;nsList DBMS_XS_NSATTRLIST;
&nbsp;&nbsp;sessionid RAW(16);
BEGIN
&nbsp;&nbsp;&nbsp;&nbsp;nsList := DBMS_XS_NSATTRLIST(DBMS_XS_NSATTR('ns1'),DBMS_XS_NSATTR('ns2'));
&nbsp;&nbsp;&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('lwuser1', sessionid, FALSE, FALSE, nsList);
END;
/</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-5059E579-574A-4B5D-BBA5-B1ED5186B252__GUID-DF0BFFB9-9FCD-466F-B895-3061161654BA">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="DBMS_XS_SESSION-package.html#GUID-9C80BEC1-29EA-430D-B597-3CA6182A7DFB">CREATE_SESSION Procedure</a> for information about the syntax of this PL/SQL procedure
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">createSession</code> method (in Javadoc format)
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="using-real-application-security-in-java-applications.html#GUID-583E51CC-E332-4649-A00F-B6ED09D4F27E__BGBJJCCB">Example 6-2</a> for information about a Java example of this task
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DBFSG99813"></a><a id="DBFSG99127"></a><div class="props_rev_3"><a id="GUID-1DED671F-762A-4869-9CD3-95D5D1CDC464" name="GUID-1DED671F-762A-4869-9CD3-95D5D1CDC464"></a><h5 id="DBFSG-GUID-1DED671F-762A-4869-9CD3-95D5D1CDC464" class="sect5">Initializing a Namespace When the Session Is Attached</h5>
                     <div>
                        <div class="section">
                           <p>When you attach the session using the <code class="codeph">DBMS_XS_SESSIONS.ATTACH_SESSION</code> procedure in PL/SQL or using the <code class="codeph">attachSession</code> method of the <code class="codeph">XSSessionManager</code> class in Java, you can specify a list of namespaces to initialize.
                           </p>
                           <p><a href="configuring-application-sessions.html#GUID-1DED671F-762A-4869-9CD3-95D5D1CDC464__BABICEAC">Example 3-14</a> shows how to initialize two namespaces, <code class="codeph">ns1</code> and <code class="codeph">ns2</code>, while attaching an application session.
                           </p>
                           <p>If you specify namespaces, then the user is required to be granted application privileges <code class="codeph">MODIFY_NAMESPACE</code> or <code class="codeph">MODIFY_ATTRIBUTE</code> on the namespaces, or the <code class="codeph">ADMIN_NAMESPACE</code> system privilege.
                           </p>
                           <div class="infoboxnote" id="GUID-1DED671F-762A-4869-9CD3-95D5D1CDC464__GUID-6EC4A435-DDB9-4584-BCCF-A08EFEC4D4C5">
                              <p class="notep1">Note:</p>
                              <p>The namespaces used in <a href="configuring-application-sessions.html#GUID-1DED671F-762A-4869-9CD3-95D5D1CDC464__BABICEAC">Example 3-14</a> must already have corresponding namespace templates defined.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-1DED671F-762A-4869-9CD3-95D5D1CDC464__BABICEAC">
                           <p class="titleinexample">Example 3-14 Initializing Namespaces When Attaching an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;nsList DBMS_XS_NSATTRLIST;
&nbsp;&nbsp;sessionid RAW(16);
BEGIN
&nbsp;&nbsp;&nbsp;&nbsp;nsList := DBMS_XS_NSATTRLIST(DBMS_XS_NSATTR('ns1'),DBMS_XS_NSATTR('ns2'));
&nbsp;&nbsp;&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('lwuser1', sessionid);
<span class="bold">&nbsp;&nbsp;&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.ATTACH_SESSION(sessionid, NULL, NULL, NULL, NULL, nsList);</span>
END;
/</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-1DED671F-762A-4869-9CD3-95D5D1CDC464__GUID-219BDF9C-7053-4C52-A13F-C9B9A4313F3E">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="DBMS_XS_SESSION-package.html#GUID-2CCDFDD1-F3B4-4EE5-A261-7871B18A0A91">ATTACH_SESSION Procedure</a> for information about the syntax of this PL/SQL procedure
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">attachSession</code> method (in Javadoc format)
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="using-real-application-security-in-java-applications.html#GUID-3C2EC26F-6493-41E2-BD52-B5923FEE8E8A__BABJCJBI">Example 6-3</a> for information about a Java example of this task
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DBFSG99814"></a><a id="DBFSG99128"></a><div class="props_rev_3"><a id="GUID-F2A52945-6DEC-4618-9829-A128E62C5EDD" name="GUID-F2A52945-6DEC-4618-9829-A128E62C5EDD"></a><h5 id="DBFSG-GUID-F2A52945-6DEC-4618-9829-A128E62C5EDD" class="sect5">Initializing a Namespace When a Named Application User Is Assigned to an Anonymous Application Session</h5>
                     <div>
                        <div class="section">
                           <p>When you assign an application user to an application session using the <code class="codeph">DBMS_XS_SESSIONS.ASSIGN_USER</code> procedure in PL/SQL or the <code class="codeph">assignUser</code> method of the <code class="codeph">XSSessionManager</code> class in Java, you can specify a list of namespaces to initialize.
                           </p>
                           <p>If you specify namespaces, then the user is required to be granted application privileges <code class="codeph">MODIFY_NAMESPACE</code> or <code class="codeph">MODIFY_ATTRIBUTE</code> on the namespaces, or <code class="codeph">ADMIN_NAMESPACE</code> system privilege.
                           </p>
                           <p><a href="configuring-application-sessions.html#GUID-F2A52945-6DEC-4618-9829-A128E62C5EDD__BABBECBI">Example 3-15</a> shows how to initialize two namespaces, <code class="codeph">ns1</code> and <code class="codeph">ns2</code>, while assigning an application user to an application session.
                           </p>
                           <div class="infoboxnote" id="GUID-F2A52945-6DEC-4618-9829-A128E62C5EDD__GUID-F87E68B8-A580-414D-99E4-C183D6FCD371">
                              <p class="notep1">Note:</p>
                              <p>The namespaces used in <a href="configuring-application-sessions.html#GUID-F2A52945-6DEC-4618-9829-A128E62C5EDD__BABBECBI">Example 3-15</a> must already have corresponding namespace templates defined.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-F2A52945-6DEC-4618-9829-A128E62C5EDD__BABBECBI">
                           <p class="titleinexample">Example 3-15 Initializing Namespaces When Assigning an Application User to an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;sessionid RAW(30);
&nbsp;&nbsp;nsList DBMS_XS_NSATTRLIST;
BEGIN 
&nbsp;&nbsp;nsList := DBMS_XS_NSATTRLIST(DBMS_XS_NSATTR('ns1'),DBMS_XS_NSATTR('ns2'));
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('XSGUEST', sessionid);
<span class="bold">&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.ASSIGN_USER(username =&gt; 'lwuser2',</span>
<span class="bold">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sessionid =&gt; sessionid,</span>
<span class="bold">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;namespaces =&gt; nsList);</span>
END;
/</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-F2A52945-6DEC-4618-9829-A128E62C5EDD__GUID-C833669E-B59D-4E12-A759-6A28FDEC3C61">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="DBMS_XS_SESSION-package.html#GUID-C93E0B47-6F3E-44E0-8A3F-5EE868050923">ASSIGN_USER Procedure</a> for information about the syntax of this PL/SQL procedure
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">assignUser</code> method (in Javadoc format)
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="using-real-application-security-in-java-applications.html#GUID-4D8AEEB1-29BF-4813-9023-4EA8FB21E5D9__BABJABAB">Example 6-5</a> for information about a Java example of this task
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DBFSG99815"></a><a id="DBFSG99129"></a><div class="props_rev_3"><a id="GUID-8E3E9E18-BEDC-48DB-97CD-3558FB9992C2" name="GUID-8E3E9E18-BEDC-48DB-97CD-3558FB9992C2"></a><h5 id="DBFSG-GUID-8E3E9E18-BEDC-48DB-97CD-3558FB9992C2" class="sect5">Initializing a Namespace When the Application User Is Switched in an Application Session</h5>
                     <div>
                        <div class="section">
                           <p>When you switch an application user in an application session using the <code class="codeph">DBMS_XS_SESSIONS.SWITCH_USER</code> procedure in PL/SQL or using the <code class="codeph">switchUser</code> method of the <code class="codeph">Session</code> interface in Java, you can specify a list of namespaces to initialize.
                           </p>
                           <p>If you specify namespaces, then the user is required to be granted application privileges <code class="codeph">MODIFY_NAMESPACE</code> or <code class="codeph">MODIFY_ATTRIBUTE</code> on the namespaces, or the <code class="codeph">ADMIN_NAMESPACE</code> system privilege.
                           </p>
                           <div class="infoboxnote" id="GUID-8E3E9E18-BEDC-48DB-97CD-3558FB9992C2__GUID-CE819E65-16E4-4219-882E-5063208C1E56">
                              <p class="notep1">Note:</p>
                              <p>To enable the switch from <code class="codeph">lwuser1</code> to <code class="codeph">lwuser2</code> after attaching the session, you must first define <code class="codeph">lwuser2</code> as the target user for <code class="codeph">lwuser1</code>, as follows:
                              </p><pre class="oac_no_warn" dir="ltr">exec XS_PRINCIPAL.ADD_PROXY_USER('lwuser2', 'lwuser1');</pre></div>
                           <p><a href="configuring-application-sessions.html#GUID-8E3E9E18-BEDC-48DB-97CD-3558FB9992C2__BABDDJGE">Example 3-16</a> shows how to initialize two namespaces, <code class="codeph">ns1</code> and <code class="codeph">ns2</code>, while switching an application user in an application session.
                           </p>
                           <div class="infoboxnote" id="GUID-8E3E9E18-BEDC-48DB-97CD-3558FB9992C2__GUID-673BE5C3-1EDE-498E-A654-BDBDE531CD02">
                              <p class="notep1">Note:</p>
                              <p>The namespaces used in <a href="configuring-application-sessions.html#GUID-8E3E9E18-BEDC-48DB-97CD-3558FB9992C2__BABDDJGE">Example 3-16</a> must already have corresponding namespace templates defined.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-8E3E9E18-BEDC-48DB-97CD-3558FB9992C2__BABDDJGE">
                           <p class="titleinexample">Example 3-16 Initializing Namespaces When Switching an Application User in an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;sessionid RAW(30);
&nbsp;&nbsp;nsList DBMS_XS_NSATTRLIST;
BEGIN 
&nbsp;&nbsp;nsList := DBMS_XS_NSATTRLIST(DBMS_XS_NSATTR('ns1'),DBMS_XS_NSATTR('ns2'));
&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('lwuser1', sessionid);
&nbsp;SYS.&nbsp;DBMS_XS_SESSIONS.ATTACH_SESSION(sessionid);
<span class="bold">&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.SWITCH_USER(username =&gt; 'lwuser2',</span>
<span class="bold">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;namespaces =&gt; nsList);</span>
END;
/</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-8E3E9E18-BEDC-48DB-97CD-3558FB9992C2__GUID-AF2B6D7E-A764-4C05-80DA-211F78427445">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="DBMS_XS_SESSION-package.html#GUID-6F9F4CE9-A434-4F43-9141-48E3F7B0A800">SWITCH_USER Procedure</a> for information about the syntax of this PL/SQL procedure
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">switchUser</code> method (in Javadoc format)
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="using-real-application-security-in-java-applications.html#GUID-4D8AEEB1-29BF-4813-9023-4EA8FB21E5D9__BABDIGAE">Example 6-6</a> for information about a Java example of this task
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DBFSG99816"></a><a id="DBFSG99130"></a><div class="props_rev_3"><a id="GUID-8DCF6892-9681-4D63-AC45-CC516C4FEB73" name="GUID-8DCF6892-9681-4D63-AC45-CC516C4FEB73"></a><h5 id="DBFSG-GUID-8DCF6892-9681-4D63-AC45-CC516C4FEB73" class="sect5">Initializing a Namespace Explicitly</h5>
                     <div>
                        <div class="section">
                           <p>You can explicitly initialize a namespace in an application session using the <code class="codeph">DBMS_XS_SESSIONS.CREATE_NAMESPACE</code> procedure in PL/SQL or the <code class="codeph">createNamespace</code> method of the <code class="codeph">Session</code> interface in Java.
                           </p>
                           <p>To execute the <code class="codeph">DBMS_XS_SESSIONS.CREATE_NAMESPACE</code> procedure, the calling user must have the <code class="codeph">MODIFY_NAMESPACE</code> application privilege on the namespace or the <code class="codeph">ADMIN_NAMESPACE</code> system privilege.
                           </p>
                           <p><a href="configuring-application-sessions.html#GUID-8DCF6892-9681-4D63-AC45-CC516C4FEB73__BABEHAHF">Example 3-17</a> shows how to explicitly initialize a namespace, <code class="codeph">ns1</code>, in an application session.
                           </p>
                           <div class="infoboxnote" id="GUID-8DCF6892-9681-4D63-AC45-CC516C4FEB73__GUID-D30577AA-90BA-4F49-8287-DEABBA3F81BA">
                              <p class="notep1">Note:</p>
                              <p>The namespace used in <a href="configuring-application-sessions.html#GUID-8DCF6892-9681-4D63-AC45-CC516C4FEB73__BABEHAHF">Example 3-17</a> must already have a corresponding namespace template defined.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-8DCF6892-9681-4D63-AC45-CC516C4FEB73__BABEHAHF">
                           <p class="titleinexample">Example 3-17 Initializing a Namespace Explicitly in an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;sessionid RAW(30);
BEGIN
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('lwuser1', sessionid);
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.ATTACH_SESSION(sessionid);
<span class="bold">&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_NAMESPACE('ns1');</span>
END;
/</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-8DCF6892-9681-4D63-AC45-CC516C4FEB73__GUID-0A66FEF0-24A5-4DC2-8D2E-93A63849CF8F">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="DBMS_XS_SESSION-package.html#GUID-0D41166C-98B5-4043-8A20-E524A2AE8BA6">CREATE_NAMESPACE Procedure</a> for information about the syntax of this PL/SQL procedure
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">createNamespace</code> method (in Javadoc format)
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="using-real-application-security-in-java-applications.html#GUID-F96DD9EA-EF6D-41D9-B64C-4C3CEE69E304__BGBEFDHB">Example 6-10</a> for information about a Java example of this task
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="DBFSG99133"></a><a id="DBFSG99132"></a><div class="props_rev_3"><a id="GUID-B47E38D2-1C6F-41C8-8733-D72B93DCA96F" name="GUID-B47E38D2-1C6F-41C8-8733-D72B93DCA96F"></a><h4 id="DBFSG-GUID-B47E38D2-1C6F-41C8-8733-D72B93DCA96F" class="sect4">Setting Session Attributes in an Application Session</h4>
                  <div>
                     <div class="section">
                        <p>You can set the value of a specific session attribute using the <code class="codeph">DBMS_XS_SESSIONS.SET_ATTRIBUTE</code> procedure in PL/SQL or the <code class="codeph">setAttribute</code> method of the <code class="codeph">SessionNamespace</code> interface method in Java.
                        </p>
                        <p>The calling user is required to be granted the <code class="codeph">MODIFY_ATTRIBUTE</code> application privilege on the namespace or the <code class="codeph">ADMIN_NAMESPACE</code> system privilege.
                        </p>
                        <div class="infoboxnote" id="GUID-B47E38D2-1C6F-41C8-8733-D72B93DCA96F__GUID-31FB6AFB-B9BC-4114-B5BC-358947588039">
                           <p class="notep1">Note:</p>
                           <p>An attribute can store a string value up to 4000 characters long.</p>
                        </div>
                        <p><a href="configuring-application-sessions.html#GUID-B47E38D2-1C6F-41C8-8733-D72B93DCA96F__CJABGGGE">Example 3-18</a> shows how to set a value, <code class="codeph">val1</code>, for an attribute, <code class="codeph">attr1</code>, of the application session.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B47E38D2-1C6F-41C8-8733-D72B93DCA96F__CJABGGGE">
                        <p class="titleinexample">Example 3-18 Setting a Namespace Attribute for an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;sessionid RAW(16);
BEGIN
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('lwuser1', sessionid);
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.ATTACH_SESSION(sessionid);
&nbsp;&nbsp;SYS.DBS_XS_SESSIONS.CREATE_NAMESPACE('ns1');
<span class="bold">&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.SET_ATTRIBUTE('ns1', 'attr1', 'val1');</span>
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.DETACH_SESSION;
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.DESTROY_SESSION(sessionid);
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-B47E38D2-1C6F-41C8-8733-D72B93DCA96F__GUID-3FAEFABC-E90B-4567-8B3B-BCFC506A16E2">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="DBMS_XS_SESSION-package.html#GUID-D82F1CAA-EE0A-4A75-A1B9-4BFCD301FDC4">SET_ATTRIBUTE Procedure</a> for more information about the syntax of this PL/SQL procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">setAttribute</code> method (in Javadoc format)
                                 </p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-BEF803A4-9CE4-4F82-B31A-FFC5C1C0E567">About Setting a Session Namespace Attribute</a> for information about this task in Java
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99136"></a><a id="DBFSG99135"></a><div class="props_rev_3"><a id="GUID-A0CE910F-1FEC-42A4-A736-FA2DF663D5BA" name="GUID-A0CE910F-1FEC-42A4-A736-FA2DF663D5BA"></a><h4 id="DBFSG-GUID-A0CE910F-1FEC-42A4-A736-FA2DF663D5BA" class="sect4">Getting Session Attributes in an Application Session</h4>
                  <div>
                     <div class="section">
                        <p>You can retrieve the value of a specific session attribute using the <code class="codeph">DBMS_XS_SESSIONS.GET_ATTRIBUTE</code> procedure in PL/SQL or using the <code class="codeph">getAttribute</code> method of the <code class="codeph">SessionNamespace</code> interface method in Java.
                        </p>
                        <p>The calling user is not required to be granted any privileges to get attributes using the <code class="codeph">DBMS_XS_SESSIONS.GET_ATTRIBUTE</code> procedure. 
                        </p>
                        <div class="infoboxnote" id="GUID-A0CE910F-1FEC-42A4-A736-FA2DF663D5BA__GUID-57A9B4F1-15F1-454B-B765-B0E70166E144">
                           <p class="notep1">Note:</p>
                           <p>If an attribute value has not been set, and the <code class="codeph">FIRSTREAD_EVENT</code> has been specified for the attribute, then an attempt to read the the attribute value triggers a call to the namespace event handler. The namespace event handler procedure typically sets a value for the attribute, and performs other application-specific processing tasks.
                           </p>
                        </div>
                        <p><a href="configuring-application-sessions.html#GUID-A0CE910F-1FEC-42A4-A736-FA2DF663D5BA__CHDGJHAC">Example 3-19</a> shows how to retrieve an attribute, <code class="codeph">attr1</code>, of the application session.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A0CE910F-1FEC-42A4-A736-FA2DF663D5BA__CHDGJHAC">
                        <p class="titleinexample">Example 3-19 Getting a Namespace Attribute for an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;sessionid RAW(16);
&nbsp;&nbsp;attrib_out_val VARCHAR2(4000);
BEGIN
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('lwuser1', sessionid);
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.ATTACH_SESSION(sessionid);
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_NAMESPACE('ns1');
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.SET_ATTRIBUTE('ns1', 'attr1', 'val1');
<span class="bold">&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.GET_ATTRIBUTE('ns1', 'attr1', attrib_out_val);</span>
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.DETACH_SESSION;
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.DESTROY_SESSION(sessionid);
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-A0CE910F-1FEC-42A4-A736-FA2DF663D5BA__GUID-55FC55FC-A213-4480-8393-81EB4A9B60EC">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="DBMS_XS_SESSION-package.html#GUID-9A541912-E165-4204-A1A4-4E044628E8AE">GET_ATTRIBUTE Procedure</a> for information about the syntax of this PL/SQL procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">getAttribute</code> method (in Javadoc format)
                                 </p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-B1C5CF5C-A134-4FE8-922C-A64292895DB2">Getting a Session Namespace Attribute</a> for information about this task in Java
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99139"></a><a id="DBFSG99138"></a><div class="props_rev_3"><a id="GUID-367C8369-8532-4C69-8C15-F514C3363DEC" name="GUID-367C8369-8532-4C69-8C15-F514C3363DEC"></a><h4 id="DBFSG-GUID-367C8369-8532-4C69-8C15-F514C3363DEC" class="sect4">Creating Custom Attributes in an Application Session</h4>
                  <div>
                     <div class="section">
                        <p>You can create custom attributes in a namespace using the <code class="codeph">DBMS_XS_SESSIONS.CREATE_ATTRIBUTE</code> procedure in PL/SQL or the <code class="codeph">createAttribute</code> method of the <code class="codeph">SessionNamespace</code> interface method in Java.
                        </p>
                        <p>Custom attributes differ from template attributes. Template attributes are part of the namespace template, and are automatically created in the session when the namespace is created. Custom attributes are programmatically created in a namespace, using the <code class="codeph">CREATE_ATTRIBUTE</code> procedure. 
                        </p>
                        <p>The calling application is required to be granted the <code class="codeph">MODIFY_ATTRIBUTE</code> application privilege on the namespace or the <code class="codeph">ADMIN_NAMESPACE</code> system privilege.
                        </p>
                        <p><a href="configuring-application-sessions.html#GUID-367C8369-8532-4C69-8C15-F514C3363DEC__CJAIGCFB">Example 3-20</a> shows how to create a custom attribute, <code class="codeph">customattr</code>, in a namespace of the application session.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-367C8369-8532-4C69-8C15-F514C3363DEC__CJAIGCFB">
                        <p class="titleinexample">Example 3-20 Creating a Custom Namespace Attribute for an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;sessionid RAW(16);
&nbsp;&nbsp;attrib_out_val VARCHAR2(4000);
BEGIN
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('lwuser1', sessionid);
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.ATTACH_SESSION(sessionid);
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_NAMESPACE('ns1');
<span class="bold">&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_ATTRIBUTE('ns1','customattr','default_value_custom',NULL);</span>
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.SET_ATTRIBUTE('ns1','customattr','newvalue');
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.GET_ATTRIBUTE('ns1', 'customattr', attrib_out_val);
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.DETACH_SESSION;
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.DESTROY_SESSION(sessionid);
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-367C8369-8532-4C69-8C15-F514C3363DEC__GUID-D9BBE61A-551C-4CFD-8F22-30737C013DB2">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="DBMS_XS_SESSION-package.html#GUID-60C4E4D8-714F-4732-815F-2261F8B5D022">CREATE_ATTRIBUTE Procedure</a> for information about the syntax of this PL/SQL procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">createAttribute</code> method (in Javadoc format)
                                 </p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-941BB32F-DCE5-42EE-AA1A-576BC0577E57__BGBGEEGH">Example 6-13</a> for information about a Java example of this task
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99148"></a><a id="DBFSG99147"></a><div class="props_rev_3"><a id="GUID-0F371814-BD59-4918-B0B3-6BEFDB4A8916" name="GUID-0F371814-BD59-4918-B0B3-6BEFDB4A8916"></a><h4 id="DBFSG-GUID-0F371814-BD59-4918-B0B3-6BEFDB4A8916" class="sect4">Deleting a Namespace in an Application Session</h4>
                  <div>
                     <div class="section">
                        <p>You can delete a namespace and all attributes identified by it from an application session using the <code class="codeph">DBMS_XS_SESSIONS.DELETE_NAMESPACE</code> procedure in PL/SQL or the <code class="codeph">deleteAttribute</code> method of the <code class="codeph">SessionNamespace</code> interface method in Java.
                        </p>
                        <p>The calling user must have the <code class="codeph">MODIFY_NAMESPACE</code> application privilege on the namespace or the <code class="codeph">ADMIN_NAMESPACE</code> system privilege. 
                        </p>
                        <p><a href="configuring-application-sessions.html#GUID-0F371814-BD59-4918-B0B3-6BEFDB4A8916__CJABDJCE">Example 3-21</a> shows how to delete a namespace <code class="codeph">ns1</code> from an application session.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-0F371814-BD59-4918-B0B3-6BEFDB4A8916__CJABDJCE">
                        <p class="titleinexample">Example 3-21 Deleting a Namespace in an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;sessionid RAW(16);
&nbsp;&nbsp;out_value VARCHAR2(4000);
BEGIN
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('lwuser1', sessionid);
&nbsp;&nbsp;SYS.DBS_XS_SESSIONS.ATTACH_SESSION(sessionid);
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_NAMESPACE('ns1');
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.SET_ATTRIBUTE('ns1', 'attr1', 'val1');
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.GET_ATTRIBUTE('ns1', 'attr1', out_value);
&nbsp;&nbsp;<span class="bold">SYS.DBMS_XS_SESSIONS.DELETE_NAMESPACE('ns1');</span>
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.DETACH_SESSION;
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.DESTROY_SESSION(sessionid);
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-0F371814-BD59-4918-B0B3-6BEFDB4A8916__GUID-349FAE0D-72FC-4F95-866E-A7F96BE1576F">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="DBMS_XS_SESSION-package.html#GUID-E1FEF449-B93D-46A8-9319-63DB225C0BF6">DELETE_NAMESPACE Procedure</a> for information about the syntax of this PL/SQL procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">deleteNamespace</code> method (in Javadoc format)
                                 </p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-07954A29-1F53-4609-9F69-7A883972E6D0__BGBEIACD">Example 6-11</a> for information about a Java example of this task
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99142"></a><a id="DBFSG99141"></a><div class="props_rev_3"><a id="GUID-56469A83-DD02-4A99-B220-43AB653E7316" name="GUID-56469A83-DD02-4A99-B220-43AB653E7316"></a><h4 id="DBFSG-GUID-56469A83-DD02-4A99-B220-43AB653E7316" class="sect4">Enabling Application Roles for a Session</h4>
                  <div>
                     <div class="section">
                        <p>You can enable only directly granted regular application roles of an application session user using the <code class="codeph">DBMS_XS_SESSIONS.ENABLE_ROLE</code> procedure in PL/SQL or the <code class="codeph">enableRole</code> method of the <code class="codeph">Session</code> interface in Java.
                        </p>
                        <p>The <code class="codeph">DBA_XS_SESSION_ROLES</code> dynamic data dictionary view lists application roles enabled in all application sessions. The <code class="codeph">V$XS_SESSION_ROLES</code> dynamic data dictionary view lists application roles enabled in the currently attached application session. 
                        </p>
                        <p><a href="configuring-application-sessions.html#GUID-56469A83-DD02-4A99-B220-43AB653E7316__CHDHIAAG">Example 3-22</a> shows how to enable a role in an application session.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-56469A83-DD02-4A99-B220-43AB653E7316__CHDHIAAG">
                        <p class="titleinexample">Example 3-22 Enabling a Role in an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;sessionid RAW(16);
BEGIN
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('lwuser1', sessionid);
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.ATTACH_SESSION(sessionid);
<span class="bold">&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.ENABLE_ROLE('auth1_role');</span>
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.DETACH_SESSION;
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.DESTROY_SESSION(sessionid);
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-56469A83-DD02-4A99-B220-43AB653E7316__GUID-5B869A6D-C94E-477B-86C7-94479D72096F">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="DBMS_XS_SESSION-package.html#GUID-7EB3339F-E06A-4F0C-8615-D049CA3D9AD2">ENABLE_ROLE Procedure</a> for information about the syntax of this PL/SQL procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about the syntax of the Java <code class="codeph">enableRole</code> method (in Javadoc format)
                                 </p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-51C12565-C2CE-4406-8152-3D67D4001A9B__BABIFEGI">Example 6-7</a> for information about a Java example of this task
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99145"></a><a id="DBFSG99144"></a><div class="props_rev_3"><a id="GUID-76CA3EEB-02C9-47C6-A6CB-9194340C65BD" name="GUID-76CA3EEB-02C9-47C6-A6CB-9194340C65BD"></a><h4 id="DBFSG-GUID-76CA3EEB-02C9-47C6-A6CB-9194340C65BD" class="sect4">Disabling Application Roles for a Session</h4>
                  <div>
                     <div class="section">
                        <p>You can disable application roles for a specific session using the <code class="codeph">DBMS_XS_SESSIONS.DISABLE_ROLE</code> procedure in PL/SQL or the <code class="codeph">disableRole</code> method of the <code class="codeph">Session</code> interface in Java.
                        </p>
                        <p><a href="configuring-application-sessions.html#GUID-76CA3EEB-02C9-47C6-A6CB-9194340C65BD__CJAGGGDE">Example 3-23</a> shows how to disable a role in an application session.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-76CA3EEB-02C9-47C6-A6CB-9194340C65BD__CJAGGGDE">
                        <p class="titleinexample">Example 3-23 Disabling a Role in an Application Session</p><pre class="oac_no_warn" dir="ltr">DECLARE
&nbsp;&nbsp;sessionid RAW(16);
BEGIN
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.CREATE_SESSION('lwuser1', sessionid);
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.ATTACH_SESSION(sessionid);
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.ENABLE_ROLE('auth1_role');
&nbsp;&nbsp;<span class="bold">SYS.DBMS_XS_SESSIONS.DISABLE_ROLE('auth1_role');</span>
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.DETACH_SESSION;
&nbsp;&nbsp;SYS.DBMS_XS_SESSIONS.DESTROY_SESSION(sessionid);
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-76CA3EEB-02C9-47C6-A6CB-9194340C65BD__GUID-7764C2F7-FCAA-40F2-A3D7-D379291DBA75">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="DBMS_XS_SESSION-package.html#GUID-4EC230A2-6155-420F-B995-0D9C4B5C3B38">DISABLE_ROLE Procedure</a> for information about the syntax of this PL/SQL procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../jadfs/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Java API Reference</cite></span></a> for information about t he syntax of the Java <code class="codeph">disableRole</code> method (in Javadoc format)
                                 </p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-A56BB20C-9ED7-440E-8B44-3F7ECD55C4D9__BABJJGHA">Example 6-8</a> for information about a Java example of this task
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="DBFSG127"></a><div class="props_rev_3"><a id="GUID-828BD9A7-E7E6-4A24-A69B-4E939FEA7167" name="GUID-828BD9A7-E7E6-4A24-A69B-4E939FEA7167"></a><h3 id="DBFSG-GUID-828BD9A7-E7E6-4A24-A69B-4E939FEA7167" class="sect3">About Administrative APIs for External Users and Roles</h3>
               <div>
                  <div class="p">This section describes the following administrative APIs that are required for external users and roles:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="DBMS_XS_SESSION-package.html#GUID-9C80BEC1-29EA-430D-B597-3CA6182A7DFB">CREATE_SESSION Procedure</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_XS_SESSION-package.html#GUID-2CCDFDD1-F3B4-4EE5-A261-7871B18A0A91">ATTACH_SESSION Procedure</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_XS_SESSION-package.html#GUID-C93E0B47-6F3E-44E0-8A3F-5EE868050923">ASSIGN_USER Procedure</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_XS_SESSION-package.html#GUID-0F69D39A-CA89-4F88-9268-BABEED216B9D">SAVE_SESSION Procedure</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-29457379-758E-4A45-AA24-C9F9D8A3C26F" name="GUID-29457379-758E-4A45-AA24-C9F9D8A3C26F"></a><h3 id="DBFSG-GUID-29457379-758E-4A45-AA24-C9F9D8A3C26F" class="sect3">About Real Application Security Session Privilege Scoping Through ACL</h3>
               <div>
                  <p>Describes session privilege scoping through an ACL allowing per principal session privilege grants through an ACL set on the principal, where the principal can be either an application user or a dynamic role.</p>
                  <p>In Oracle Database 12<span class="italic">c</span> Release 1 (12.1), Real Application Security session privileges are granted through <code class="codeph">GRANT_SYSTEM_PRIVILEGE</code> procedure or revoked through <code class="codeph">REVOKE_SYSTEM_PRIVILEGE</code> procedure in the <code class="codeph">XS_ADMIN_UTIL</code> package. These grants are applicable system wide and allow the grantee to exercise the grants for session operations on any Real Application Security principal. This is implemented using a seeded system ACL &#x2013; <code class="codeph">SESSIONACL</code>. All session privilege checks are done in this ACL. For a database running multiple applications with multiple user communities this approach becomes cumbersome to administer Real Application Security session administration appropriately.
                  </p>
                  <p>Session privilege scoping addresses two issues. The first issue is who can create, attach, detach, or destroy a user’s session. The second issue is who can enable a dynamic role for a user session. Because a dynamic role can never be granted and can only be dynamically enabled, session privilege scoping through an ACL is needed. Because regular roles are granted to application users, an ACL is not needed on them.</p>
                  <p>Beginning with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), Real Application Security supports session privilege scoping through an ACL. This feature allows per principal session privilege grants through an ACL set on the principal. The ACL containing the session privilege grant can be set on a regular Real Application Security application user or a dynamic role, but it cannot be set on a regular Real Application Security role or external principal. Because Real Application Security session scoping can be enforced per the ACL set on the application user or dynamic role involved in a session operation, you can more finely restrict session operations to specific user communities. For example, you can set up a session operation for a separate user community that can be managed by separate session managers (dispatchers), so users belonging to the same user community will have the same ACL set on them. In addition, enabling and disabling of a dynamic role can be restricted to appropriate dispatchers with the addition of a new privilege <code class="codeph">ENABLE_DYNAMIC_ROLE</code> to restrict enablement and disablement of dynamic roles. This privilege is enforced even for enabling existing session scope dynamic roles from previous attach. With these features, the Real Application Security session administrator can provide a scoping for session privileges that allows a user to create or attach or modify sessions for one Real Application Security user community or a group of Real Application Security user communities for which it has been granted privilege.
                  </p>
                  <p>The ACL can be set on the principal at creation time using the Real Application Security least system privilege <code class="codeph">PROVISION</code>, which can create, modify, or drop application users and application roles. In addition, you can also use the <code class="codeph">CREATE_USER</code> procedure and <code class="codeph">CREATE_DYNAMIC_ROLE</code> procedure and this requires the caller to have <code class="codeph">ALTER USER</code> or <code class="codeph">ALTER ROLE</code> privilege depending on the principal being created; or the ACL can be created after principal creation using the <code class="codeph">SET_ACL</code> procedure, which requires the caller to have the same privilege as previously mentioned depending on whether the principal is an application user or dynamic role. Both the application user or dynamic role and ACL must already exist before setting the ACL using the <code class="codeph">SET_ACL</code> procedure and the ACL must have been created in the <code class="codeph">SYS</code> schema.
                  </p>
                  <p>Session operations require either specific session privileges to be granted to the session manager depending on the session operation by either a system-wide ACL or an ACL attached to the affected user or role. The <code class="codeph">ADMINISTER_SESSION</code> privilege aggregates all specific session privileges. Like all session privileges, this privilege can be granted to the session manager by either a system-wide ACL or principal specific ACL. The use of new privileges is audited like other system privileges. An ACL set on a user or dynamic role overrides the system-wide ACL.
                  </p>
                  <p>The <code class="codeph">DBA_XS_USERS</code> and <code class="codeph">DBA_XS_DYNAMIC_ROLES</code> views are enhanced to show an additional column for the ACL that is set on the Real Application Security application user or dynamic role. 
                  </p>
                  <p>System level session privilege grants can coexist with the principal specific ACL, but the principal specific ACL grants have precedence. This precedence is important as Real Application Security principal specific ACLs can have negative grants. Note that the negative grant can only appear in principal specific ACLs not for the system ACL. </p>
                  <p>The following table describes the behavior of a session privilege check comparing the principal specific ACL (column 1) with the System ACL (column 2) and showing the result of the session privilege check (column 3) as being either True or False. For example, when the checked privilege is neither granted or denied in a principal specific ACL, then the System ACL is checked for the privilege.</p>
                  <div class="tblformal" id="GUID-29457379-758E-4A45-AA24-C9F9D8A3C26F__GUID-CE3DC05D-157A-4658-9369-23126B3C1D56">
                     <p class="titleintable">Table 3-2 Session Privilege Checking</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Session Privilege Checking" summary="This table contains 3 columns and 4 rows that describe the behavior of the session privilege check comparing the principal specific ACL (column 1) versus the System ACL (column 2) and the result of the system privilege check (column 3) as being either True or False. " frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d11248e6678">Principal Specific ACL</th>
                              <th align="left" valign="bottom" id="d11248e6680">System ACL</th>
                              <th align="left" valign="bottom" id="d11248e6682">Session Privilege Check Result</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d11248e6686" headers="d11248e6678 ">Grant</td>
                              <td align="left" valign="top" headers="d11248e6686 d11248e6680 ">Deny, grant, or not specified</td>
                              <td align="left" valign="top" headers="d11248e6686 d11248e6682 ">True</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d11248e6693" headers="d11248e6678 ">Deny</td>
                              <td align="left" valign="top" headers="d11248e6693 d11248e6680 ">Deny, grant, or not specified</td>
                              <td align="left" valign="top" headers="d11248e6693 d11248e6682 ">False</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d11248e6700" headers="d11248e6678 ">Not specified or ACL does not exist</td>
                              <td align="left" valign="top" headers="d11248e6700 d11248e6680 ">Grant</td>
                              <td align="left" valign="top" headers="d11248e6700 d11248e6682 ">True</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d11248e6707" headers="d11248e6678 ">Not specified or ACL does not exist</td>
                              <td align="left" valign="top" headers="d11248e6707 d11248e6680 ">Not specified.</td>
                              <td align="left" valign="top" headers="d11248e6707 d11248e6682 ">False</td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-29457379-758E-4A45-AA24-C9F9D8A3C26F__GUID-4D7E39AA-EF3E-4631-969F-2B76DAA58E88">Enforcing Session Privilege According to the ACL Set on the Principal</p>
                     <p>Session privilege is enforced according to the ACL set on the Real Application Security application user in the session operation. A privilege to enable a dynamic role is enforced according to the ACL set on the dynamic role. For example, a create session operation requires the caller to have the <code class="codeph">CREATE_SESSION</code> privilege in the ACL set on the  Real Application Security application user. Similarly, the attach operation with dynamic role requires the <code class="codeph">ENABLE_DYNAMIC_ROLES</code> privilege in the ACLs set on the dynamic roles. Any existing system level session privilege grants as mentioned previously can still coexist, but the principal specific ACL grants gets precedence.
                     </p>
                     <p>Privilege check is first done in the ACL associated with the principal (if at all there are such settings). If the ACL check succeeds the operation will go through. If the check finds deny, the operation fails with insufficient privilege error. If neither grant nor deny is found, the check is done in system ACL associated with SESSION_SC security class and operation fails or succeeds based on this privilege check result.</p>
                     <p>The following table lists Real Application Security session operations and the required session privileges to perform that operation. This information is useful for creating ACLs on principals for specific session operations. Note that the <code class="codeph">ADMINISTER_SESSION</code> privilege aggregates all session privileges listed in this table. 
                     </p>
                     <div class="tblformal" id="GUID-29457379-758E-4A45-AA24-C9F9D8A3C26F__GUID-6DB1901E-EED4-4504-902E-2F28565EBB69">
                        <p class="titleintable">Table 3-3 Session Privilege Operations and the Required Privileges to Perform Them</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Session Privilege Operations and the Required Privileges to Perform Them" summary="This table indicates in column 1 the session operation and describes the required session privilege (if any) in column 2." frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d11248e6741">Session Operations</th>
                                 <th align="left" valign="bottom" id="d11248e6743">Required Session Privilege</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11248e6747" headers="d11248e6741 ">Create Session</td>
                                 <td align="left" valign="top" headers="d11248e6747 d11248e6743 "><code class="codeph">CREATE_SESSION</code> privilege in the ACL set on the Real Application Security application user (that is used for creating the session) or in the System ACL. If there is a negative grant in the principal specific ACL, the operation fails.
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11248e6754" headers="d11248e6741 ">Attach Session</td>
                                 <td align="left" valign="top" headers="d11248e6754 d11248e6743 "><code class="codeph">ATTACH_SESSION</code> privilege in the ACL set on the Real Application Security application user (that is used for creating the session) or in the System ACL. <code class="codeph">ENABLE_DYNAMIC_ROLE</code> privilege in the ACL set on the dynamic roles (that is used for creating the session) or in the System ACL. If there is a negative grant in the principal specific ACL, the operation fails.
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11248e6764" headers="d11248e6741 ">Assign User</td>
                                 <td align="left" valign="top" headers="d11248e6764 d11248e6743 "><code class="codeph">ASSIGN_SESSION</code> privilege in the ACL set on the named Real Application Security application user to be assigned or in the System ACL. <code class="codeph">ENABLE_DYNAMIC_ROLE</code> privilege in the ACL set on the dynamic roles (that is used for creating the session) or in the System ACL. So if there are dynamic roles enabled, these privileges are checked. If there is a negative grant in the principal specific ACL, the operation fails.
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11248e6774" headers="d11248e6741 ">Switch User</td>
                                 <td align="left" valign="top" headers="d11248e6774 d11248e6743 ">No session privilege check, as per proxy configuration.</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11248e6779" headers="d11248e6741 ">Enable Role</td>
                                 <td align="left" valign="top" headers="d11248e6779 d11248e6743 ">No session privilege check.</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11248e6784" headers="d11248e6741 ">Disable Role</td>
                                 <td align="left" valign="top" headers="d11248e6784 d11248e6743 ">No session privilege check.</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11248e6789" headers="d11248e6741 ">Namespace Operation (Create Namespace, delete namespace, create attribute, set attribute, reset attribute, delete attribute)</td>
                                 <td align="left" valign="top" headers="d11248e6789 d11248e6743 ">No session privilege check, only namespace privilege checks.</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11248e6794" headers="d11248e6741 ">Save Session, Detach Session</td>
                                 <td align="left" valign="top" headers="d11248e6794 d11248e6743 ">No session privilege check.</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11248e6799" headers="d11248e6741 ">Destroy Session</td>
                                 <td align="left" valign="top" headers="d11248e6799 d11248e6743 "><code class="codeph">TERMINATE_SESSION</code> privilege in the ACL set on the Real Application Security application user (that is used for creating the session) or in the System ACL.
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11248e6806" headers="d11248e6741 ">Set Session Cookie</td>
                                 <td align="left" valign="top" headers="d11248e6806 d11248e6743 "><code class="codeph">MODIFY_SESSION</code> privilege in the ACL set on the Real Application Security application user (that is used for creating the session) or in the System ACL. 
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11248e6813" headers="d11248e6741 ">Set Inactivity Timeout</td>
                                 <td align="left" valign="top" headers="d11248e6813 d11248e6743 "><code class="codeph">MODIFY_SESSION</code> privilege in the ACL set on the Real Application Security application user (that is used for creating the session) or in the System ACL.
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11248e6821" headers="d11248e6741 ">Reauthorize Session</td>
                                 <td align="left" valign="top" headers="d11248e6821 d11248e6743 "><code class="codeph">MODIFY_SESSION</code> privilege in the ACL set on the Real Application Security application user (that is used for creating the session) or in the System ACL. 
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11248e6828" headers="d11248e6741 ">Get SID from Cookie</td>
                                 <td align="left" valign="top" headers="d11248e6828 d11248e6743 ">No session privilege check.</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11248e6833" headers="d11248e6741 ">Global Callback Configuration (Add global callback, delete global callback, enable global callback)</td>
                                 <td align="left" valign="top" headers="d11248e6833 d11248e6743 ">No session privilege check, only callback privilege checks.</td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-29457379-758E-4A45-AA24-C9F9D8A3C26F__GUID-2BF80D03-4D61-41AE-87F2-915C73C495DE">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="XS_ADMIN_UTIL-package.html#GUID-7F29B504-8BEA-43C6-B791-A01899B66FB9">GRANT_SYSTEM_PRIVILEGE Procedure</a> and <a href="XS_ADMIN_UTIL-package.html#GUID-B0EFF106-9A56-4864-B537-E7296C819606">REVOKE_SYSTEM_PRIVILEGE Procedure</a></p>
                           </li>
                           <li>
                              <p><a href="predefined-objects-in-real-application-security.html#GUID-D0BDAD25-C19F-471A-8237-AEEAD4252187">Security Classes</a></p>
                           </li>
                           <li>
                              <p><a href="XS_PRINCIPAL-package.html#GUID-03D147A5-36A8-4ACE-BDEA-2D7A5D8F046D">CREATE_USER Procedure</a>, <a href="XS_PRINCIPAL-package.html#GUID-5D3C1B51-E0D8-45F0-B9E2-40EBE4C1F3C5">CREATE_DYNAMIC_ROLE Procedure</a>, and <a href="XS_PRINCIPAL-package.html#GUID-A5658C22-562F-48CC-B14D-621A9F6FFE0A">SET_ACL Procedure</a></p>
                           </li>
                           <li>
                              <p><a href="real-application-security-data-dictionary-views.html#GUID-97B36DFE-DA8F-41E3-9141-37C8B0E6E2ED">DBA_XS_USERS</a> and <a href="real-application-security-data-dictionary-views.html#GUID-3F8717CD-401D-4264-9739-5612D3D82D32">DBA_XS_DYNAMIC_ROLES</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div class="sect3"><a id="GUID-D1BEF808-20B7-47AF-B26E-27011C009CAA" name="GUID-D1BEF808-20B7-47AF-B26E-27011C009CAA"></a><h4 id="DBFSG-GUID-D1BEF808-20B7-47AF-B26E-27011C009CAA" class="sect4">Granting Session Privileges on a Principal Using an ACL</h4>
                  <div>
                     <p>Describes how to grant session privileges on a principal using an ACL while creating the user and after the user is already created.</p>
                     <div class="section">The following examples show how to grant session privileges to principals through an ACL, <code class="codeph">USER_ACL</code> while creating the user and after the user is already created. 
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D1BEF808-20B7-47AF-B26E-27011C009CAA__GUID-D5E70E28-CC56-4FAE-AAAA-432F326D167A">
                        <div class="p">First, create the ACL <code class="codeph">USER_ACL</code> and grant the privilege <code class="codeph">ADMINISTER_SESSION</code> to user <code class="codeph">lwuser3</code> and grant the privileges <code class="codeph">CREATE_SESSION</code>, <code class="codeph">MODIFY_SESSION</code>, and <code class="codeph">ATTACH_SESSION</code> to user <code class="codeph">lwuser4</code> and grant the privileges <code class="codeph">CREATE_SESSION</code> and <code class="codeph">MODIFY_SESSION</code> to user <code class="codeph">lwuser5</code>.<pre class="pre codeblock"><code>sqlplus /nolog
SQL&gt; CONNECT SYS/<span class="italic">password</span> as SYSDBA
SQL&gt; GRANT CREATE SESSION, XS_SESSION_ADMIN TO SEC_MGR IDENTIFIED BY <span class="italic">password</span>;
SQL&gt; EXEC SYS.XS_ADMIN_UTIL.GRANT_SYSTEM_PRIVILEGE('PROVISION', 'sec_mgr', SYS.XS_ADMIN_UTIL.PTYPE_DB);
</code></pre><pre class="pre codeblock"><code>CONNECT SEC_MGR
Enter password: <span class="italic">password</span>
Connected. </code></pre><pre class="pre codeblock"><code>DECLARE
ace_list  XS$ACE_LIST;

BEGIN

ace_list := XS$ACE_LIST(
    XS$ACE_TYPE(privilege_list=&gt;XS$NAME_LIST('"ADMINISTER_SESSION"'),
                granted=&gt;true,
                principal_name=&gt;'lwuser3'),
    XS$ACE_TYPE(privilege_list=&gt;XS$NAME_LIST('"CREATE_SESSION"','"MODIFY_SESSION"','"ATTACH_SESSION"'),       
                granted=&gt;true,
                principal_name=&gt;'lwuser4'),
    XS$ACE_TYPE(privilege_list=&gt;XS$NAME_LIST('"CREATE_SESSION"','"MODIFY_SESSION"'),       
                granted=&gt;true,
                principal_name=&gt;'lwuser5'));

sys.xs_acl.create_acl(name=&gt;'USER_ACL',
                    ace_list=&gt;ace_list,
                    sec_class=&gt;'SESSIONPRIVS',
                    description=&gt;'Session management');
END;
/
</code></pre></div>
                        <div class="p">Next, create users <code class="codeph">lwuser3</code> and <code class="codeph">lwuser4</code> and grant these users the ACL, <code class="codeph">USER_ACL</code>.<pre class="pre codeblock"><code>BEGIN
 SYS.XS_PRINCIPAL.CREATE_USER(name=&gt;'lwuser3',
                              schema=&gt;'HR',
                              acl=&gt;'USER_ACL';
END;
/
EXEC  SYS.XS_PRINCIPAL.SET_PASSWORD('lwuser3', '<span class="italic">password</span>');
</code></pre><pre class="pre codeblock"><code>BEGIN
 SYS.XS_PRINCIPAL.CREATE_USER(name=&gt;'lwuser4',
                              schema=&gt;'HR',
                              acl=&gt;'USER_ACL';
END;
/
EXEC  SYS.XS_PRINCIPAL.SET_PASSWORD('lwuser4', '<span class="italic">password</span>');
</code></pre></div>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D1BEF808-20B7-47AF-B26E-27011C009CAA__GUID-939BCF9B-4387-433B-879F-E7328097E42F">
                        <div class="p">Next, create user <code class="codeph">lwuser5</code> and set the ACL, <code class="codeph">USER_ACL</code>, for this user using the <code class="codeph">SET_ACL</code> procedure.<pre class="pre codeblock"><code>sqlplus SEC_MGR
Enter password: <span class="italic">password</span>
Connected. </code></pre><pre class="pre codeblock"><code>BEGIN
 SYS.XS_PRINCIPAL.CREATE_USER(name=&gt;'lwuser5',
                              schema=&gt;'HR');
END;
/
EXEC SYS.XS_PRINCIPAL.SET_ACL('lwuser5','USER_ACL');</code></pre></div>
                        <div class="infoboxnotealso" id="GUID-D1BEF808-20B7-47AF-B26E-27011C009CAA__GUID-2BF80D03-4D61-41AE-87F2-915C73C495DE">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="XS_ADMIN_UTIL-package.html#GUID-7F29B504-8BEA-43C6-B791-A01899B66FB9">GRANT_SYSTEM_PRIVILEGE Procedure</a> and <a href="XS_ADMIN_UTIL-package.html#GUID-B0EFF106-9A56-4864-B537-E7296C819606">REVOKE_SYSTEM_PRIVILEGE Procedure</a></p>
                              </li>
                              <li>
                                 <p><a href="predefined-objects-in-real-application-security.html#GUID-D0BDAD25-C19F-471A-8237-AEEAD4252187">Security Classes</a></p>
                              </li>
                              <li>
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-03D147A5-36A8-4ACE-BDEA-2D7A5D8F046D">CREATE_USER Procedure</a>, <a href="XS_PRINCIPAL-package.html#GUID-5D3C1B51-E0D8-45F0-B9E2-40EBE4C1F3C5">CREATE_DYNAMIC_ROLE Procedure</a>, and <a href="XS_PRINCIPAL-package.html#GUID-A5658C22-562F-48CC-B14D-621A9F6FFE0A">SET_ACL Procedure</a></p>
                              </li>
                              <li>
                                 <p><a href="real-application-security-data-dictionary-views.html#GUID-97B36DFE-DA8F-41E3-9141-37C8B0E6E2ED">DBA_XS_USERS</a> and <a href="real-application-security-data-dictionary-views.html#GUID-3F8717CD-401D-4264-9739-5612D3D82D32">DBA_XS_DYNAMIC_ROLES</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>