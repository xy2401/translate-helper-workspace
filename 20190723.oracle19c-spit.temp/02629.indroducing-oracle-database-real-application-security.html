<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Introducing Oracle Database Real Application Security</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Real Application Security Administrator's and Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Real Application Security Administrator's and Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="real-application-security-administrators-and-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T05:21:48-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2012, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E95725-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="release-changes.html" title="Previous" type="text/html">
      <link rel="next" href="configuring-application-users-and-application-roles.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Real Application Security Administrator's and Developer's Guide">
    <meta name="dcterms.isVersionOf" content="DBFSG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="release-changes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="configuring-application-users-and-application-roles.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Security Administrator's and Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Introducing Oracle Database Real Application Security </li>
            </ol>
            <a id="GUID-4CA063EE-9405-439A-AAA1-5919E3C1470B" name="GUID-4CA063EE-9405-439A-AAA1-5919E3C1470B"></a><a id="DBFSG10000"></a>
            
            <h2 id="DBFSG-GUID-4CA063EE-9405-439A-AAA1-5919E3C1470B" class="sect2"><span class="enumeration_chapter">1 </span> Introducing Oracle Database Real Application Security 
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="p">This chapter contains:
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="indroducing-oracle-database-real-application-security.html#GUID-4C750CA9-4871-4B77-8EE9-FB9B7397044E">What Is Oracle Database Real Application Security?</a></p>
                     </li>
                     <li>
                        <p><a href="indroducing-oracle-database-real-application-security.html#GUID-D87CCF3D-B7DF-49DE-B648-3B835100E9CB">Data Security Concepts Used in Real Application Security</a></p>
                     </li>
                     <li>
                        <p><a href="indroducing-oracle-database-real-application-security.html#GUID-79BE54B2-D5B8-464B-B311-0638A98B8F92">Application Session Concepts Used in Application Security</a></p>
                     </li>
                     <li>
                        <p><a href="indroducing-oracle-database-real-application-security.html#GUID-063E5543-FF69-46F9-8FCA-DB4E987647A4" title="You should be familiar with the concepts introduced in this chapter to take full advantage of Real Application Security.">Flow of Design and Development</a></p>
                     </li>
                     <li>
                        <p><a href="indroducing-oracle-database-real-application-security.html#GUID-586753AB-4D90-4196-8D02-CBB2FD7891B0">Scenario: Security Human Resources (HR) Demonstration of Employee Information</a></p>
                     </li>
                     <li>
                        <p><a href="indroducing-oracle-database-real-application-security.html#GUID-D9E74B80-8B5F-42D1-A6BD-5EA55ED88A97">About Auditing in an Oracle Database Real Application Security Environment</a></p>
                     </li>
                     <li>
                        <p><a href="indroducing-oracle-database-real-application-security.html#GUID-054B6840-D2D6-479C-A0CA-33B535954E07">Support for Pluggable Databases</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBFSG99009"></a><div class="props_rev_3"><a id="GUID-4C750CA9-4871-4B77-8EE9-FB9B7397044E" name="GUID-4C750CA9-4871-4B77-8EE9-FB9B7397044E"></a><h3 id="DBFSG-GUID-4C750CA9-4871-4B77-8EE9-FB9B7397044E" class="sect3">What Is Oracle Database Real Application Security?</h3>
               <div>
                  <p>Oracle Database Real Application Security is a database authorization model that:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Supports declarative security policies</p>
                     </li>
                     <li>
                        <p>Enables end-to-end security for multitier applications</p>
                     </li>
                     <li>
                        <p>Provides an integrated solution to secure database and application resources</p>
                     </li>
                     <li>
                        <p>Advances the security architecture of Oracle Database to meet existing and emerging demands of applications developed for the Internet</p>
                     </li>
                  </ul>
                  <p>Traditional security was designed for client/server systems. These systems had a significantly smaller number of users than newer applications designed for the Internet. When application developers found traditional security inadequate, they often moved it from the database layer to the application layer. To accomplish this, developers frequently built their own tables and defined their own application users. Because security was encoded in the application layer, rather than in the database, application users and application roles were typically known only to the application. In other words, database users were not application-level users, hence the user identity was not known during the access control decision in the database. Furthermore, database operations were limited to DDLs and DMLs that do not represent application-level tasks or operations, hence the operation context was also not known during the access control decision in the database. These practices exposed the database to vulnerability. </p>
                  <p>Real Application Security is designed to: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Manage application security for application users rather than database users</p>
                     </li>
                     <li>
                        <p>Enable developers to manage security for application level tasks</p>
                     </li>
                     <li>
                        <p>Enable application user identity to be known during security enforcement</p>
                     </li>
                     <li>
                        <p>Enable developers to return security to the database layer, either incrementally, or all at once</p>
                     </li>
                  </ul>
                  <p>This section discusses traditional security and Real Application Security, indicating how Real Application Security improves upon traditional security. </p>
                  <div class="p">This section describes these concepts:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-B5DBB9E1-BD03-480B-A9AE-386B07EB0D2B">Disadvantages of Traditional Security for Managing Application Users</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-A543583A-15D7-4CA4-99DC-9C282FBA8C49">Advantages of Real Application Security</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-55E83264-B53B-481C-B5DB-8E34C9A46EE3">Architecture of Real Application Security</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99788"></a><div class="props_rev_3"><a id="GUID-B5DBB9E1-BD03-480B-A9AE-386B07EB0D2B" name="GUID-B5DBB9E1-BD03-480B-A9AE-386B07EB0D2B"></a><h4 id="DBFSG-GUID-B5DBB9E1-BD03-480B-A9AE-386B07EB0D2B" class="sect4">Disadvantages of Traditional Security for Managing Application Users</h4>
                  <div>
                     <p>Using the traditional security model<a id="d5876e425" class="indexterm-anchor"></a>, it was often difficult to manage three-tier applications, especially when performing these security tasks:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Extending security policies independent of application code</p>
                        </li>
                        <li>
                           <p>Enforcing security policies at the database level, where the application user is unknown</p>
                        </li>
                        <li>
                           <p>Enforcing least privilege principle as full access is granted to highly privileged two-tier components</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99789"></a><div class="props_rev_3"><a id="GUID-A543583A-15D7-4CA4-99DC-9C282FBA8C49" name="GUID-A543583A-15D7-4CA4-99DC-9C282FBA8C49"></a><h4 id="DBFSG-GUID-A543583A-15D7-4CA4-99DC-9C282FBA8C49" class="sect4">Advantages of Real Application Security</h4>
                  <div>
                     <p>Real Application Security enables these security tasks, which improve database security and performance:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Three-tier and two-tier applications can declaratively define, provide, and enforce access control requirements at the database layer. </p>
                        </li>
                        <li>
                           <p>The database can provide a uniform security model across all tiers and support multiple application user stores, including the associated roles, authentication credentials, database attributes, and application-defined attributes. This model enables application users to have a single unique global identity across an Oracle enterprise.</p>
                        </li>
                        <li>
                           <p>An Oracle database can natively support the application security context. The database supports integrated policy specification and enforcement for both the application and the database, so the application does not need to do this through application code. Because the database stores the application security context information, this also reduces network traffic.</p>
                        </li>
                        <li>
                           <p>Developers can use Real Application Security to control application user access to data in an Oracle database throughout all components of an Oracle enterprise in a common manner.</p>
                           <p>See <a href="configuring-data-security.html#GUID-ED34EBA9-8906-41A9-9491-B303DA4824E1" title="Describes introduction of schema level privileges for Real Application Security policy administration across different applications within the same schema.Describes how to set up and enable a schema level data security policy for two application administrators.Describes how to disable data security policy and revoke the system privileges from the user.">Configuring Data Security</a> for more information about defining data security policies and access control requirements.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99010"></a><a id="DBFSG99790"></a><div class="props_rev_3"><a id="GUID-55E83264-B53B-481C-B5DB-8E34C9A46EE3" name="GUID-55E83264-B53B-481C-B5DB-8E34C9A46EE3"></a><h4 id="DBFSG-GUID-55E83264-B53B-481C-B5DB-8E34C9A46EE3" class="sect4">Architecture of Real Application Security</h4>
                  <div>
                     <p>Real Application Security<a id="d5876e699" class="indexterm-anchor"></a> is managed through a collection of PL/SQL and Java APIs. This architecture that enables you to configure its components—application users, application roles, sessions, and other security-related components. With Real Application Security, you configure application counterparts to the traditional user, role, and session, through the use of entities, which are stored in tables.
                     </p>
                     <p><a href="indroducing-oracle-database-real-application-security.html#GUID-55E83264-B53B-481C-B5DB-8E34C9A46EE3__BABHAIFD">Figure 1-1</a> shows the various components<a id="d5876e707" class="indexterm-anchor"></a> used in Oracle Database Real Application Security. This includes application users, application roles, access control lists, security classes, and application sessions. These components are discussed in the following sections. <a href="indroducing-oracle-database-real-application-security.html#GUID-55E83264-B53B-481C-B5DB-8E34C9A46EE3__BABHAIFD">Figure 1-1</a> also shows Web applications establishing application sessions to the database.
                     </p>
                     <div class="figure" id="GUID-55E83264-B53B-481C-B5DB-8E34C9A46EE3__BABHAIFD">
                        <p class="titleinfigure">Figure 1-1 Oracle Database Real Application Security Components</p><img src="img/fs_basic.png" alt="Description of Figure 1-1 follows" title="Description of Figure 1-1 follows" longdesc="img_text/fs_basic.html"><br><a href="img_text/fs_basic.html">Description of "Figure 1-1 Oracle Database Real Application Security Components"</a></div>
                     <!-- class="figure" -->
                  </div>
               </div>
            </div><a id="DBFSG99011"></a><div class="props_rev_3"><a id="GUID-D87CCF3D-B7DF-49DE-B648-3B835100E9CB" name="GUID-D87CCF3D-B7DF-49DE-B648-3B835100E9CB"></a><h3 id="DBFSG-GUID-D87CCF3D-B7DF-49DE-B648-3B835100E9CB" class="sect3">Data Security Concepts Used in Real Application Security</h3>
               <div>
                  <p>This section describes access control terms and concepts that you need to understand before you can begin to configure Real Application Security. Using the PL/SQL administrative interfaces, you can create and manage the entities described here: application user, application role, principal, application privilege, security class, <span class="italic">access control list</span> (ACL), access control entry (ACE), and data realm.
                  </p>
                  <div class="infoboxnote" id="GUID-D87CCF3D-B7DF-49DE-B648-3B835100E9CB__GUID-966F8F98-CA8B-42B1-B62F-4461BB776BE7">
                     <p class="notep1">Note:</p>
                     <p>When a term such as <span class="italic">application user</span> or <span class="italic">application role</span> is used here, it applies to Real Application Security; when it is important to distinguish the database type, either no qualifier is used or the qualifier <span class="italic">database</span> is used.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-D87CCF3D-B7DF-49DE-B648-3B835100E9CB__GUID-B1B07A73-66B6-4D1C-84E3-FDC6FB0D957F">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-D6986696-8068-418F-914C-F33B9AD165DF" title="Describes Oracle Label Security support for Real Application Security users.">Configuring Application Users and Application Roles</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-7CA4B68D-D6F0-46FC-96FE-B18F6B4EF43E">Configuring Application Privileges and Access Control Lists</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="p">This section contains: 
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-153BF3BB-3017-42A1-8257-B8492166D9BE">About Data Security with Oracle Database Real Application Security</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-75ECE2BF-08EE-451E-B303-43DB307382F6">Principals: Users and Roles</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-ADD1B3F5-88A9-42F9-8A5B-1E3A916C5DDF">Application Privileges</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-BCB71BA8-B291-49C3-81AC-1FB28B719313">Security Classes in Oracle Database Real Application Security</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-0829FF53-9730-4C6C-A74B-A6D4B77ABCFA">Access Control Entry (ACE)</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-C0E9EFE1-3070-4D81-9EC5-9C5625398464">Access Control List (ACL)</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-D12A39BD-F6A9-4D93-B9CD-F47D65F99A2F">Data Security Policy</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99013"></a><a id="DBFSG99012"></a><div class="props_rev_3"><a id="GUID-153BF3BB-3017-42A1-8257-B8492166D9BE" name="GUID-153BF3BB-3017-42A1-8257-B8492166D9BE"></a><h4 id="DBFSG-GUID-153BF3BB-3017-42A1-8257-B8492166D9BE" class="sect4">About Data Security with Oracle Database Real Application Security</h4>
                  <div>
                     <p>Effective security requires defining<a id="d5876e1013" class="indexterm-anchor"></a><a id="d5876e1017" class="indexterm-anchor"></a> which application users, applications, or functions can have access to which data, to perform which kinds of operations. Thus, effective security has these three dimensions: 
                     </p>
                     <ol>
                        <li>
                           <p><span class="italic">which application users</span></p>
                        </li>
                        <li>
                           <p>can perform <span class="italic">which operations</span> 
                           </p>
                        </li>
                        <li>
                           <p>on <span class="italic">which data</span></p>
                        </li>
                     </ol>
                     <p>You define (1) principals, (2) application privileges, and (3) objects in relation to these three dimensions, respectively. Principals are users and roles. A role can represent attributes of an application user, system state, or a piece of code.</p>
                     <p>Principals and application privileges are related in a declarative way by defining ACLs. These ACLs are then related to the data by defining Data Security policy that protects rows and columns of table data. For example, you can protect table data by using PL/SQL procedures to set controlling ACLs. </p>
                     <p><a href="indroducing-oracle-database-real-application-security.html#GUID-153BF3BB-3017-42A1-8257-B8492166D9BE__BABEJJFC">Figure 1-2</a> illustrates an example where the user, <code class="codeph">ProjectManager</code> has the <code class="codeph">ModifyProject</code> privilege on a data realm comprised of Team A's projects.
                     </p>
                     <div class="figure" id="GUID-153BF3BB-3017-42A1-8257-B8492166D9BE__BABEJJFC">
                        <p class="titleinfigure">Figure 1-2 Three Dimensions of Data Security</p><img src="img/access_control.gif" alt="Description of Figure 1-2 follows" title="Description of Figure 1-2 follows" longdesc="img_text/access_control.html"><br><a href="img_text/access_control.html">Description of "Figure 1-2 Three Dimensions of Data Security"</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="DBFSG99014"></a><div class="props_rev_3"><a id="GUID-75ECE2BF-08EE-451E-B303-43DB307382F6" name="GUID-75ECE2BF-08EE-451E-B303-43DB307382F6"></a><h4 id="DBFSG-GUID-75ECE2BF-08EE-451E-B303-43DB307382F6" class="sect4">Principals: Users and Roles</h4>
                  <div>
                     <p>When discussing fine-grained database access control, a <strong class="term">principal</strong> is an application user or an application role or a database user or a database role. An <strong class="term">application user</strong> can be a person or an autonomous application process that accesses information in the database. An <strong class="term">application role</strong> is a logical grouping of application privileges required to accomplish a real life task. An application role can contain other application roles, but this recursion cannot be circular. You use application roles to associate application users, both database users and application users with privileges. 
                     </p>
                     <p>Oracle Database supports the following as <span class="italic">principals</span>:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><strong class="term">Database users</strong> and <strong class="term">database roles</strong></p>
                           <p>A database user is also sometimes referred to as a database <span class="italic">schema</span> or a user <span class="italic">account</span>. When a person or application logs onto the database, it uses a database user (schema) and password. 
                           </p>
                           <p>A database role corresponds to a set of database privileges that can be granted to database users, applications, or other database roles — see <span class="q">"<a href="indroducing-oracle-database-real-application-security.html#GUID-82D7CB3B-332D-42A7-AAFF-F266CFDBF84A">Understanding the Difference Between Database Roles and Application Roles</a>"</span>. 
                           </p>
                        </li>
                        <li>
                           <p><strong class="term">Application users</strong> and <strong class="term">Application roles</strong> 
                           </p>
                           <p>The term <span class="italic">application</span>, as used by Real Application Security, refers to the creation of an application user, application role, or session that contains only information pertinent to the application that the application user is logging onto. Application users and application roles are defined by an application, and they do not need to be tied to any database schema.
                           </p>
                           <p>Application users can also create heavyweight database sessions by connecting to the database directly. These are called direct login application users. See <span class="q">"<a href="configuring-application-users-and-application-roles.html#GUID-BADE624E-3134-47BC-8949-FCE7E3086A4B" title="Describes Oracle Label Security support for Real Application Security users.">About Creating a Direct Login Application User Account</a>"</span>. When an application user creates a heavyweight database session, the user's default schema is set to a preconfigured value meant solely for name resolution purposes, such as <code class="codeph">HR</code>. 
                           </p>
                           <p>An application role can only be granted to an application user or to another application role. You cannot directly grant database privileges to application users and application roles. See <span class="q">"<a href="indroducing-oracle-database-real-application-security.html#GUID-6B1682B1-6B63-40CB-A6B3-99878BC0AEA2">Granting Database Privileges to Application Users and Application Roles</a>"</span> for further details.
                           </p>
                           <div class="infoboxnotealso" id="GUID-75ECE2BF-08EE-451E-B303-43DB307382F6__GUID-B6719FA7-2F11-455B-B272-CDDB7F8882E3">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="configuring-application-users-and-application-roles.html#GUID-A0929CEA-1456-46A1-B182-C877C79CF9DC" title="Describes Oracle Label Security support for Real Application Security users.">About Configuring Application Users</a>"</span> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="configuring-application-users-and-application-roles.html#GUID-349C89E8-DC1D-4641-898D-F8B8B94B79B8">About Configuring Application Roles</a>"</span></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                     <div class="p">This section includes the following sections:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="indroducing-oracle-database-real-application-security.html#GUID-7C0AD947-E961-4D02-819D-F096459A5718">Understanding the Difference Between Database Users and Application Users</a></p>
                           </li>
                           <li>
                              <p><a href="indroducing-oracle-database-real-application-security.html#GUID-82D7CB3B-332D-42A7-AAFF-F266CFDBF84A">Understanding the Difference Between Database Roles and Application Roles</a></p>
                           </li>
                           <li>
                              <p><a href="indroducing-oracle-database-real-application-security.html#GUID-6B1682B1-6B63-40CB-A6B3-99878BC0AEA2">Granting Database Privileges to Application Users and Application Roles</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DBFSG99015"></a><div class="props_rev_3"><a id="GUID-7C0AD947-E961-4D02-819D-F096459A5718" name="GUID-7C0AD947-E961-4D02-819D-F096459A5718"></a><h5 id="DBFSG-GUID-7C0AD947-E961-4D02-819D-F096459A5718" class="sect5">Understanding the Difference Between Database Users and Application Users</h5>
                     <div>
                        <p>Database users are also referred to as <span class="italic">traditional</span> users, and have these characteristics:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>They are associated with schemas and passwords.</p>
                           </li>
                           <li>
                              <p>They can create heavyweight sessions to schemas with which they are associated.</p>
                           </li>
                        </ul>
                        <p>Application users are defined by an application, and have these characteristics:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>They do not own database schemas.</p>
                           </li>
                           <li>
                              <p>They can create application sessions to the database through the middle tier. </p>
                           </li>
                           <li>
                              <p>They can create heavyweight database sessions by connecting to the database directly. (See <span class="q">"<a href="configuring-application-users-and-application-roles.html#GUID-BADE624E-3134-47BC-8949-FCE7E3086A4B" title="Describes Oracle Label Security support for Real Application Security users.">About Creating a Direct Login Application User Account</a>"</span>.)
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-7C0AD947-E961-4D02-819D-F096459A5718__GUID-E941B9AB-7FA5-416E-BE33-5206703EF997">
                           <p class="notep1">Note:</p>
                           <p>In a heavyweight session, the user is associated with a default schema.</p>
                        </div>
                     </div>
                  </div><a id="DBFSG99016"></a><div class="props_rev_3"><a id="GUID-82D7CB3B-332D-42A7-AAFF-F266CFDBF84A" name="GUID-82D7CB3B-332D-42A7-AAFF-F266CFDBF84A"></a><h5 id="DBFSG-GUID-82D7CB3B-332D-42A7-AAFF-F266CFDBF84A" class="sect5">Understanding the Difference Between Database Roles and Application Roles</h5>
                     <div>
                        <p>A database role is traditionally thought of as a named set of database privileges.</p>
                        <p>Database roles have these characteristics:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>They are <span class="italic">granted</span> privileges, just as database users can be granted privileges.
                              </p>
                           </li>
                           <li>
                              <p>They serve as intermediaries for mapping database privileges to database users (and applications) as follows: a role is granted privileges, and the role is then granted to users (giving them the privileges).</p>
                              <ol>
                                 <li>
                                    <p><span class="bold">Grant privileges to database role</span></p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Grant database role to database user</span></p>
                                 </li>
                              </ol>
                              <p>The database user now has the privileges of the database role.</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-82D7CB3B-332D-42A7-AAFF-F266CFDBF84A__GUID-44C7E482-E924-4F9E-85A8-A2FE1EA4EC6F">
                           <p class="notep1">Note:</p>
                           <p>In traditional database terminology, a role is considered to be the same thing as the set of privileges that are granted to it.</p>
                        </div>
                        <p>An application role can be regarded as the set of application-defined privileges that are associated with it using the mechanism of a declarative access control list (ACL), discussed in <span class="q">"<a href="indroducing-oracle-database-real-application-security.html#GUID-C0E9EFE1-3070-4D81-9EC5-9C5625398464">Access Control List (ACL)</a>"</span>. 
                        </p>
                        <p>Application roles have these characteristics:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>They use an <span class="italic">access control list</span> (ACL), rather than a database grant, as the intermediary that maps application privileges to users or roles.
                              </p>
                           </li>
                           <li>
                              <p>They can be only granted to application users or application roles.</p>
                           </li>
                           <li>
                              <p>They cannot be granted to a database role, unlike a database role can be granted to an application role. </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-82D7CB3B-332D-42A7-AAFF-F266CFDBF84A__GUID-60B2D4D7-2DCC-4F30-8041-8E610CABFFFC">
                           <p class="notep1">Note:</p>
                           <p>In access control terminology, application roles are classified with application users as principals.</p>
                        </div>
                     </div>
                  </div><a id="DBFSG99791"></a><div class="props_rev_3"><a id="GUID-6B1682B1-6B63-40CB-A6B3-99878BC0AEA2" name="GUID-6B1682B1-6B63-40CB-A6B3-99878BC0AEA2"></a><h5 id="DBFSG-GUID-6B1682B1-6B63-40CB-A6B3-99878BC0AEA2" class="sect5">Granting Database Privileges to Application Users and Application Roles</h5>
                     <div>
                        <div class="section">
                           <p>You cannot grant database privileges directly to application users and application roles. Instead, you grant the database privileges to a database role, and then grant the database role to the application role in these steps.</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>Grant <span class="bold">database privileges</span> to <span class="bold">database role</span>.</span></li>
                           <li><span>Grant <span class="bold">database role</span> to the <span class="bold">application role</span>.</span></li>
                        </ol>
                        <div class="section">
                           <p>The statements in the following code do exactly this, effectively granting the database <code class="codeph">SELECT</code> privilege to the application role, <code class="codeph">HRREP</code>.
                           </p><pre class="oac_no_warn" dir="ltr">CREATE ROLE db_hrrep;
GRANT SELECT ON hr.employees TO db_hrrep;
GRANT db_hrrep TO HRREP;
</pre><p>Application users already created or subsequently created, with that application role, acquire this application privilege.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="DBFSG99019"></a><div class="props_rev_3"><a id="GUID-ADD1B3F5-88A9-42F9-8A5B-1E3A916C5DDF" name="GUID-ADD1B3F5-88A9-42F9-8A5B-1E3A916C5DDF"></a><h4 id="DBFSG-GUID-ADD1B3F5-88A9-42F9-8A5B-1E3A916C5DDF" class="sect4">Application Privileges</h4>
                  <div>
                     <p>An <strong class="term">application privilege</strong> is a particular right<a id="d5876e1912" class="indexterm-anchor"></a> or permission that can be granted or denied to a principal. Application developers define application privileges in a security class.
                     </p>
                     <p>The set of application privileges granted to a principal controls whether or not this principal can perform a given operation on the data that it protects. For example, if the principal (database user) <code class="codeph">HR</code> wants to perform the <code class="codeph">SELECT</code> operation on a given resource, then <code class="codeph">SELECT</code> privileges must be granted to principal <code class="codeph">HR</code> before the SELECT operation. 
                     </p>
                     <p>Application privileges can also be aggregated. An <strong class="term">aggregate privilege</strong> is<a id="d5876e1936" class="indexterm-anchor"></a> an application privilege that implies other application privileges. These implied privileges can be any application privileges defined by the current security class or an inherited privilege. When an aggregate privilege is granted or denied, its implied application privileges are implicitly granted or denied.
                     </p>
                     <p>Aggregate privileges simplify usability when the number of application privileges grows. <a id="d5876e1943" class="indexterm-anchor"></a>For example, instead of granting each application privilege separately, you can group related application privileges into an aggregate privilege. Then, you can use a single grant to enable a principal to access all the application privileges contained in the aggregate privilege. 
                     </p>
                  </div>
               </div><a id="DBFSG99020"></a><div class="props_rev_3"><a id="GUID-BCB71BA8-B291-49C3-81AC-1FB28B719313" name="GUID-BCB71BA8-B291-49C3-81AC-1FB28B719313"></a><h4 id="DBFSG-GUID-BCB71BA8-B291-49C3-81AC-1FB28B719313" class="sect4">Security Classes in Oracle Database Real Application Security</h4>
                  <div>
                     <p>A <strong class="term">security class</strong> is a scope for a set of application privileges.
                     </p>
                     <p>A security class includes application privileges that it inherits from other security classes, and it can include application privileges that it defines.</p>
                     <p>A security class is typically associated with an access control list (ACL), and the ACL can grant application privileges in the security class to specific principals. See <span class="q">"<a href="indroducing-oracle-database-real-application-security.html#GUID-C0E9EFE1-3070-4D81-9EC5-9C5625398464">Access Control List (ACL)</a>"</span>.
                     </p>
                     <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC__CHDDGCJC">Example 4-4</a> shows how to create a security class policy.
                     </p>
                  </div>
               </div><a id="DBFSG99023"></a><div class="props_rev_3"><a id="GUID-0829FF53-9730-4C6C-A74B-A6D4B77ABCFA" name="GUID-0829FF53-9730-4C6C-A74B-A6D4B77ABCFA"></a><h4 id="DBFSG-GUID-0829FF53-9730-4C6C-A74B-A6D4B77ABCFA" class="sect4">Access Control Entry (ACE)</h4>
                  <div>
                     <p>An <strong class="term">access control entry</strong> (<strong class="term">ACE</strong>) either grants<a id="d5876e2212" class="indexterm-anchor"></a> or denies application privileges to a particular principal (application user or application role).
                     </p>
                     <p>An ACE is an element in an array named <code class="codeph">ace_list</code>. The whole array is called by and becomes part of the access control list (ACL).
                     </p>
                     <p>The ACE does not, itself, specify which data to protect; that is done by associating the ACL with target data, such as a set of rows in an order entry table. You can make this association by creating a <span class="bold">data realm</span> to restrict the user to modifying only those rows, or by using the PL/SQL procedure <code class="codeph">XS_DATA_SECURITY.SET_ACLS</code>. 
                     </p>
                  </div>
               </div><a id="DBFSG99025"></a><div class="props_rev_3"><a id="GUID-C0E9EFE1-3070-4D81-9EC5-9C5625398464" name="GUID-C0E9EFE1-3070-4D81-9EC5-9C5625398464"></a><h4 id="DBFSG-GUID-C0E9EFE1-3070-4D81-9EC5-9C5625398464" class="sect4">Access Control List (ACL)</h4>
                  <div>
                     <p>An <strong class="term">access control list</strong> (<strong class="term">ACL</strong>) is a list of access control entries (ACEs), which permit or deny application privileges to one or more principals.
                     </p>
                     <p>If the ACL you create relies on a set of custom application privileges that you define in your own security class, then you must explicitly associate that security class with the ACL. See <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-B6EFA21A-327E-461F-B6E4-003FDA109651__CHDIBCFH">Example 4-15</a> for an example.
                     </p>
                     <p>If the only application privileges used in the ACL are defined in the DML security class, then no security class association is needed as that is the default. See a description in <span class="q">"<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-0CD2270F-C556-4F2F-A7E2-9A71FBAE650D">DML Security Class</a>"</span>.
                     </p>
                  </div>
               </div><a id="DBFSG99022"></a><div class="props_rev_3"><a id="GUID-D12A39BD-F6A9-4D93-B9CD-F47D65F99A2F" name="GUID-D12A39BD-F6A9-4D93-B9CD-F47D65F99A2F"></a><h4 id="DBFSG-GUID-D12A39BD-F6A9-4D93-B9CD-F47D65F99A2F" class="sect4">Data Security Policy</h4>
                  <div>
                     <p>To protect data within a database table, you must create a data security policy. Database records, both at row and column level, can be protected using the fine-grained access control described in this section. </p>
                     <p>The data security policy performs the following functions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Specifies the data that you want to protect. The data can be indicated by a <code class="codeph">WHERE</code> clause in a data realm of one or more rows that you design. It can also be defined using named notation by using an association operator to associate the parameter to the left of the arrow (=&gt;) with the actual parameter to the right of the arrow. For example, in <a href="configuring-data-security.html#GUID-389095E3-8F07-4C9F-9C57-35C546E242F1__CDDIEHFH">Example 5-20</a>, each <code class="codeph">realm</code> is defined using association operators. 
                           </p>
                           <p>The data security policy can contain one or more data realms. </p>
                        </li>
                        <li>
                           <p>Associates each data realm with one or more access control lists (ACLs) that specify the application privileges required to access rows and columns of the data realm to form what is called a data realm constraint. A given ACL protects a given data realm and controls access to particular application users or application roles (called principals). (See <span class="q">"<a href="indroducing-oracle-database-real-application-security.html#GUID-C0E9EFE1-3070-4D81-9EC5-9C5625398464">Access Control List (ACL)</a>"</span> for more information about ACLs.) 
                           </p>
                        </li>
                        <li>
                           <p>Optionally applies additional application privileges to protect a particular column to form what is known as column constraints. This is useful in cases where you need to add an extra layer of security for sensitive data.</p>
                        </li>
                        <li>
                           <p>Associates additional custom application privileges. For example, an administrator could create an <code class="codeph">APPROVE_TRANSACTION</code> privilege, which controls whether a user can take a particular action on the row. Assuming <code class="codeph">SELECT</code> privilege is granted to all users, all users could see the row, but only some users can perform the transaction approval action.
                           </p>
                        </li>
                     </ul>
                     <p>In summary, the application user who logs in will only be allowed to perform operations including DML on records within the data realm, including individual rows of data, based on the application privileges in its associated ACLs. Thus, the data security policy is composed of data realm constraints and column constraints that protect the data realm by only allowing access to application users who have application privileges in the associated ACLs.</p>
                     <p>For example, suppose you have a sales table that lists all sales representatives, their regions, the products they are responsible for, product categories, and product prices. When individual sales representatives log on, each representative would see selected data for all other sales representatives, such as sales representatives for particular product categories based on data realm constraints. If you wanted to restrict the display of product prices to sales representatives by region, you could apply additional application privileges to the column listing product prices, in this case using column constraints. </p>
                     <p><a href="configuring-data-security.html#GUID-ED34EBA9-8906-41A9-9491-B303DA4824E1" title="Describes introduction of schema level privileges for Real Application Security policy administration across different applications within the same schema.Describes how to set up and enable a schema level data security policy for two application administrators.Describes how to disable data security policy and revoke the system privileges from the user.">Configuring Data Security</a> describes in detail how to protect database objects.
                     </p>
                  </div>
               </div>
            </div><a id="DBFSG99794"></a><div class="props_rev_3"><a id="GUID-79BE54B2-D5B8-464B-B311-0638A98B8F92" name="GUID-79BE54B2-D5B8-464B-B311-0638A98B8F92"></a><h3 id="DBFSG-GUID-79BE54B2-D5B8-464B-B311-0638A98B8F92" class="sect3">Application Session Concepts Used in Application Security</h3>
               <div>
                  <p>Real Application Security introduces the concept of an application session. Within the context of application sessions, there are three types of user identities: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Application session user: The user associated with the application session. </p>
                        <p>Application session access to database objects is checked against the permissions granted to this user.</p>
                     </li>
                     <li>
                        <p>Traditional (<span class="italic">heavyweight</span>) session user: The user that established the database session.
                        </p>
                        <p>This user can be an application user or a database user, as long as database authentication credentials are available.</p>
                     </li>
                     <li>
                        <p>Schema owner: The database schema is the schema associated with the traditional database session and is only used for object name resolution.</p>
                     </li>
                  </ul>
                  <p>Traditional database user sessions have these characteristics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>They hold their own database resources, such as transactions and cursors.</p>
                     </li>
                     <li>
                        <p>They consume many server resources.</p>
                     </li>
                  </ul>
                  <p>Application sessions have these characteristics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>They contain information that is pertinent only to the application.</p>
                     </li>
                     <li>
                        <p>They can be dedicated to each end application user.</p>
                     </li>
                     <li>
                        <p>They can persist until the application user logs out of the application or the application terminates unexpectedly.</p>
                     </li>
                  </ul>
                  <p>See <a href="configuring-application-sessions.html#GUID-B44ACBB0-AC90-439D-9CDE-541285C31328" title="Describes session privilege scoping through an ACL allowing per principal session privilege grants through an ACL set on the principal, where the principal can be either an application user or a dynamic role.Describes how to grant session privileges on a principal using an ACL while creating the user and after the user is already created.">Configuring Application Sessions</a> for more information about application sessions.
                  </p>
               </div>
            </div><a id="DBFSG99759"></a><div class="props_rev_3"><a id="GUID-063E5543-FF69-46F9-8FCA-DB4E987647A4" name="GUID-063E5543-FF69-46F9-8FCA-DB4E987647A4"></a><h3 id="DBFSG-GUID-063E5543-FF69-46F9-8FCA-DB4E987647A4" class="sect3">Flow of Design and Development</h3>
               <div>
                  <p>You should be familiar with the concepts introduced in this chapter to take full advantage of Real Application Security.</p>
                  <p>In general, identify all tasks an application performs that require application privileges to control data access. Then, add the appropriate application privileges to a security class so that you can reference them in an ACL and grant them to the application users and application roles. This process involves these tasks:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Create a default set of meaningful application roles based on the features the application provides. </p>
                     </li>
                     <li>
                        <p>Identify the tables that require data security protection based on the application table design and security requirements, and define the data realms, including column protection. </p>
                     </li>
                     <li>
                        <p>Define data security policies based on the application requirements and the rules applied on the tables. </p>
                     </li>
                     <li>
                        <p>Ensure that ACLs used in the data security policy and functional security grant the appropriate application privileges to application roles.</p>
                     </li>
                  </ul>
                  <div class="p">This section contains:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="real-application-security-hr-demo.html#GUID-F0992499-E07A-45A6-A328-C09D62B3AF9B" title="In the design phase, you identify all the tasks an application performs that require application privileges to control data access.">Design Phase</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-285B290A-0F6B-468C-88FD-EABD24D5F09C" title="In the development phase, as the Real Application Security administrator, you use Real Application Security components to develop your data security policies.">Development Flow Steps</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-F0992499-E07A-45A6-A328-C09D62B3AF9B" name="GUID-F0992499-E07A-45A6-A328-C09D62B3AF9B"></a><h4 id="DBFSG-GUID-F0992499-E07A-45A6-A328-C09D62B3AF9B" class="sect4">Design Phase</h4>
                  <div>
                     <p>In the design phase, you identify all the tasks an application performs that require application privileges to control data access.</p>
                     <p>For example, during the design phase, the application policy designer must identify:</p>
                     <ol>
                        <li>
                           <p>The set of application-level operations that require access control.</p>
                        </li>
                        <li>
                           <p>The rows and columns of tables and views that can be accessed as part of the application-level operations.</p>
                        </li>
                        <li>
                           <p>The set of actors or principals (users and roles) that can perform these operations.</p>
                        </li>
                        <li>
                           <p>The runtime application session attributes that identity rows of a table or views. These attribute names are used within the predicates that selects the rows to be authorized, and their values are set during the execution of the application.</p>
                        </li>
                     </ol>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-285B290A-0F6B-468C-88FD-EABD24D5F09C" name="GUID-285B290A-0F6B-468C-88FD-EABD24D5F09C"></a><h4 id="DBFSG-GUID-285B290A-0F6B-468C-88FD-EABD24D5F09C" class="sect4">Development Flow Steps</h4>
                  <div>
                     <p>In the development phase, as the Real Application Security administrator, you use Real Application Security components to develop your data security policies.</p>
                     <p>Follow these steps to develop your data security policies:</p>
                     <ol>
                        <li>
                           <p>Create the corresponding application users and roles. If using an external directory server, create the application users and roles or user groups in the directory server. Follow this procedure to create these principals natively in the database:</p>
                           <ol type="a">
                              <li>
                                 <p>Create the application roles and grant application roles to application roles, if needed. See <a href="configuring-application-users-and-application-roles.html#GUID-349C89E8-DC1D-4641-898D-F8B8B94B79B8">About Configuring Application Roles</a>.
                                 </p>
                              </li>
                              <li>
                                 <p>Create the application users and grant application roles to the application users. See <a href="configuring-application-users-and-application-roles.html#GUID-A0929CEA-1456-46A1-B182-C877C79CF9DC" title="Describes Oracle Label Security support for Real Application Security users.">About Configuring Application Users</a>.
                                 </p>
                              </li>
                              <li>
                                 <p>For configuring the directory server to fetch the users and role, when principals from external stores are used, see the RASADM configuration information in <a href="../rasad/index.html#RASAD-GUID-D06BAF94-6C49-4B6D-A0F0-A2C56DC8B4E4" target="_blank"><span><cite>Oracle Database Real Application Security Administration</cite></span></a>.
                                 </p>
                              </li>
                              <li>
                                 <p>For users and roles in the external Directory Server, see manage parameter settings for using RASADM with a Directory Serve in <a href="../rasad/index.html#RASAD-GUID-6AF49908-F6AE-4607-86DF-0FC08AC8CF55" target="_blank"><span><cite>Oracle Database Real Application Security Administration</cite></span></a>.
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>Create each privilege class that you plan to use to develop the security policies for your application. Each privilege class consists of one or more appropriate privileges that you define and can reference in an ACL and also grant them to the application users and application roles. Each privilege class authorizes by means of ACLs the required application-level operations of a data security policy. See <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-F6C92BDA-15C8-4515-BDED-9CCB2BC02985">About Configuring Security Classes</a> and <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AB53EC7B-C593-4AF3-B991-70E6503586F6">About Configuring Access Control Lists</a>.
                           </p>
                        </li>
                        <li>
                           <p>Create one or more session namespaces that can be used across different application sessions. This consists of defining for a session namespace its set of properties (application attributes) and its associated access control policy or ACL that you can choose from a list or create. See <a href="configuring-application-sessions.html#GUID-1678A791-8C84-4AAF-A6C4-259F8CBB8A87">About Manipulating the Application Session State</a>.
                           </p>
                        </li>
                        <li>
                           <p>Create the data security policy by associating each data realm with an ACL, so as to create both data realm authorization and column authorization as needed. See <a href="configuring-data-security.html#GUID-3059E7B0-F02B-48FE-89B1-1172CF031CFC">About Data Security</a>.
                           </p>
                           <p>This process consists of four parts:</p>
                           <ol type="a">
                              <li>
                                 <p>Policy Information - You choose the object to be protected and the privilege class to protect it as well as specify the policy name and select the policy owner. See <a href="configuring-data-security.html#GUID-B6D452FA-CD3E-4909-8512-904C9EF684A5">Understanding the Structure of the Data Security Policy</a>.
                                 </p>
                              </li>
                              <li>
                                 <p>Column Level Authorization - You choose the name of the column to be protected and select the privilege to be granted to access the column, which is associated with the privilege class you selected in Step 3a. See <a href="configuring-data-security.html#GUID-8282C70D-87F2-46D6-BDA5-53174EB0207C">Applying Additional Application Privileges to a Column</a>.
                                 </p>
                              </li>
                              <li>
                                 <p>Data Realm Authorization - You create a SQL predicate to represent the data realm to be protected and add each to a data realm grant list. Then you choose or create the ACL to protect the data realm. Next, create privilege grants to be added to a privilege grants list consisting of each principal and whether it is allowed authorization or denied authorization by selecting the appropriate privilege. See <a href="configuring-data-security.html#GUID-8765D94C-B658-4958-802B-621215F856F0">About Designing Data Realms</a>.
                                 </p>
                              </li>
                              <li>
                                 <p>Apply Policy - You can apply, remove, enable, or disable the data security policy you are creating and choose to specify certain apply options, allowing the owner of the table or view to bypass this data security policy, and whether to enforce statement types for this policy. See <a href="configuring-data-security.html#GUID-B7EA7D53-8573-4AAD-8EC7-F6DF7C0B3859">About Enabling Data Security Policy for a Database Table or View</a>.
                                 </p>
                              </li>
                           </ol>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-285B290A-0F6B-468C-88FD-EABD24D5F09C__GUID-51048081-3F1A-4159-A133-64A3B2C56495">
                        <p class="notep1">See Also:</p>
                     </div>
                     <p><a href="indroducing-oracle-database-real-application-security.html#GUID-586753AB-4D90-4196-8D02-CBB2FD7891B0">Scenario: Security Human Resources (HR) Demonstration of Employee Information</a> that describes in detail how the development flow is implemented for an example policy scenario for the security human resources (HR) demonstration of employee information using the concepts and components of Real Application Security. 
                     </p>
                  </div>
               </div>
            </div><a id="DBFSG10013"></a><div class="props_rev_3"><a id="GUID-586753AB-4D90-4196-8D02-CBB2FD7891B0" name="GUID-586753AB-4D90-4196-8D02-CBB2FD7891B0"></a><h3 id="DBFSG-GUID-586753AB-4D90-4196-8D02-CBB2FD7891B0" class="sect3">Scenario: Security Human Resources (HR) Demonstration of Employee Information</h3>
               <div>
                  <p>This section presents an example policy that provides a high-level overview of Real Application Security. It is a simple scenario aimed at explaining the basic Real Application Security concepts. You should be familiar with the following concepts, introduced in <span class="q">"<a href="indroducing-oracle-database-real-application-security.html#GUID-D87CCF3D-B7DF-49DE-B648-3B835100E9CB">Data Security Concepts Used in Real Application Security</a>"</span>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Principals &#x2013; application users and application roles</p>
                     </li>
                     <li>
                        <p>Security classes and application privileges</p>
                     </li>
                     <li>
                        <p>Access control lists and entries (ACLs and ACEs)</p>
                     </li>
                     <li>
                        <p>Data security policy</p>
                     </li>
                  </ul>
                  <p>This same scenario appears throughout the book, to illustrate different components of Real Application Security. It is also described in detail in <a href="real-application-security-hr-demo.html#GUID-F38C8CA7-05B0-4939-AF59-741D8EF7FB87" title="Describes how to use RASADM to create Real Application Security data security policies using a graphical user interface.Describes how to run the RASADM application.In the design phase, you identify all the tasks an application performs that require application privileges to control data access.To develop data security policies using RASADM, you must follow some basic steps.Describes how to use RASADM to create the HR Demo application.Describes how to create application roles and specifically the database DB_EMP role.Describes how to create application roles using RASADM.Describes creating application users and granting them roles.Describes creating application users using RASADM.Describes the process flow for creating the data security policy.Describes entering data security policy information using the RASADM application.Describes creating the column authorization part of the data security policy.Describes the creating the data realm authorizations part of the data security policy.Describes applying the data security policy.">Real Application Security HR Demo</a> and <a href="real-application-security-hr-demo-files.html#GUID-9289D66D-6426-4CE5-9E5E-941A360B0E9C">Real Application Security HR Demo Files</a> to demonstrate how to use advanced concepts of Real Application Security to handle a more complex policy. 
                  </p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-488939F2-F554-4AA6-8183-473DB5C65B64">Basic Security HR Demo Scenario: Description and Security Requirements</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-EB971BEC-2DF8-41C3-8AD9-037F79A763D1">Basic HR Scenario: Implementation Overview</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99027"></a><div class="props_rev_3"><a id="GUID-488939F2-F554-4AA6-8183-473DB5C65B64" name="GUID-488939F2-F554-4AA6-8183-473DB5C65B64"></a><h4 id="DBFSG-GUID-488939F2-F554-4AA6-8183-473DB5C65B64" class="sect4">Basic Security HR Demo Scenario: Description and Security Requirements</h4>
                  <div>
                     <p>Susan Mavris (<code class="codeph">SMAVRIS</code>) is an employee in the Human Resources department. Her job title is Human Resources Representative. In this capacity, she is in charge of managing the human resources information for all employees, including department 60 (IT). She can view and update all the employee records, including the <code class="codeph">SALARY</code> column.
                     </p>
                     <p>David Austin (<code class="codeph">DAUSTIN</code>) is an employee in the IT department. His job title is Assistant Department Manager. In this capacity, he can view employee records in the IT department, but he cannot view the <code class="codeph">SALARY</code> column, except for his own salary record.
                     </p>
                     <p>Secure authorization requires defining which application users and application roles can have access to which data, to perform which kinds of operations. These three security dimensions must be defined: protected data, principals, and application privileges. (see <span class="q">"<a href="indroducing-oracle-database-real-application-security.html#GUID-153BF3BB-3017-42A1-8257-B8492166D9BE">About Data Security with Oracle Database Real Application Security</a>"</span>).
                     </p>
                     <p>In this basic scenario:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The data to be protected is employee information and it is protected in three ways: </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Access to an employee's own record, including the <code class="codeph">SALARY</code> column.
                                 </p>
                              </li>
                              <li>
                                 <p>Access to all the records in the IT department, excluding the <code class="codeph">SALARY</code> column.
                                 </p>
                              </li>
                              <li>
                                 <p>Access to all employee records, including the <code class="codeph">SALARY</code> column.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Users are allowed access to employee data in the following ways:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Each user can view their own record, including the <code class="codeph">SALARY</code> column.
                                 </p>
                              </li>
                              <li>
                                 <p>Application user <code class="codeph">DAUSTIN</code> in his role as Assistant Department Manager is allowed to view all the records in the IT department, excluding the <code class="codeph">SALARY</code> column. 
                                 </p>
                              </li>
                              <li>
                                 <p>Application user <code class="codeph">SMAVRIS</code> in her role as human-resources representative is allowed to view and update all employee records, including the <code class="codeph">SALARY</code> column.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Database role <code class="codeph">DB_EMP</code> is created and granted <code class="codeph">SELECT</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> privileges on <code class="codeph">HR.EMPLOYEES</code>.
                           </p>
                        </li>
                        <li>
                           <p>Application roles are created as follows:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">EMPLOYEE</code> role is granted to both application users <code class="codeph">DAUSTIN</code> and <code class="codeph">SMAVRIS</code>. Database role <code class="codeph">DB_EMP</code> is granted to <code class="codeph">EMPLOYEE</code> role.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">IT_ENGINEER</code> role is granted to only application user <code class="codeph">DAUSTIN</code>. Database role <code class="codeph">DB_EMP</code> is granted to <code class="codeph">IT_ENGINEER</code> role.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">HR_REPRESENTATIVE</code> role is granted to only application user <code class="codeph">SMAVRIS</code>. Database role <code class="codeph">DB_EMP</code> is granted to <code class="codeph">HR_REPRESENTATIVE</code> role.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>The <code class="codeph">VIEW_SALARY</code> application privilege is created to control access to the <code class="codeph">SALARY</code> column. The <code class="codeph">HR_PRIVILEGES</code> security class is created in which to scope the <code class="codeph">VIEW_SALARY</code> application privilege. 
                           </p>
                        </li>
                        <li>
                           <p>ACLs are created to define the degree of access to employee records in the following ways:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">EMP_ACL</code> grants the <code class="codeph">EMPLOYEE</code> role the <code class="codeph">SELECT</code> database privilege and <code class="codeph">VIEW_SALARY</code> application privilege to view an employee's own record, including the <code class="codeph">SALARY</code> column.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">IT_ACL</code> grants the <code class="codeph">IT_ENGINEER</code> role only the <code class="codeph">SELECT</code> database privilege to view the employee records in the IT department, but it does not grant the <code class="codeph">VIEW_SALARY</code> privilege that is required for access to the <code class="codeph">SALARY</code> column.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">HR_ACL</code> grants the <code class="codeph">HR_REPRESENTATIVE</code> role <code class="codeph">SELECT</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> database privileges to view and update all employee's records, and granting the <code class="codeph">VIEW_SALARY</code> application privilege to view the <code class="codeph">SALARY</code> column.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>The HR demo secures the <code class="codeph">HR.EMPLOYEE</code> table by creating and applying the data security policy, <code class="codeph">EMPLOYEES_DS</code>, that has the following three data realms and column constraint:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>An employee's own record realm. The ACL, <code class="codeph">EMP_ACL</code> controls this realm, which grants application role <code class="codeph">EMPLOYEE</code> privileges to access the realm, including the <code class="codeph">SALARY</code> column.
                                 </p>
                              </li>
                              <li>
                                 <p>All the records in the IT department realm. The ACL, <code class="codeph">IT_ACL</code> controls this realm, which grants application role <code class="codeph">IT_ENGINEER</code> privileges to access the realm, but excluding the <code class="codeph">SALARY</code> column.
                                 </p>
                              </li>
                              <li>
                                 <p>All the employee records realm. The ACL, <code class="codeph">HR_ACL</code> controls this realm, which grants application role <code class="codeph">HR_REPRESENTATIVE</code> privileges to access the realm, including the  <code class="codeph">SALARY</code> column. 
                                 </p>
                              </li>
                              <li>
                                 <p>A column constraint that protects the <code class="codeph">SALARY</code> column by requiring the <code class="codeph">VIEW_SALARY</code> privilege to view its sensitive data.
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99028"></a><div class="props_rev_3"><a id="GUID-EB971BEC-2DF8-41C3-8AD9-037F79A763D1" name="GUID-EB971BEC-2DF8-41C3-8AD9-037F79A763D1"></a><h4 id="DBFSG-GUID-EB971BEC-2DF8-41C3-8AD9-037F79A763D1" class="sect4">Basic HR Scenario: Implementation Overview</h4>
                  <div>
                     <p>To implement the basic human-resources security scenario, in addition to identifying the protected data, the principals, and the application privileges, you must define the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A database user as the Real Application Security Administrator and then connect as the Real Application Security Administrator to create the components.</p>
                        </li>
                        <li>
                           <p>How the principals connect with the database to access the data.</p>
                        </li>
                        <li>
                           <p>The access control lists (ACLs) that grant the application privilege and any database privileges to the principals.</p>
                        </li>
                        <li>
                           <p>A data security policy that associates the ACLs with the particular data (rows) that the principals need to access.</p>
                        </li>
                     </ul>
                     <p>In this basic scenario, application users <code class="codeph">SMAVRIS</code> and <code class="codeph">DAUSTIN</code> connect to the database directly as the principals.
                     </p>
                     <p>The application user account that is created for application users <code class="codeph">SMAVRIS</code> and <code class="codeph">DAUSTIN</code> are principals in this scenario. Each application user account is granted application roles that, ultimately, has the <code class="codeph">SELECT</code> privilege on the database table that contains the employee information. The application role is a principal in this scenario.
                     </p>
                     <p>A database role, <code class="codeph">DB_EMP</code> serves as intermediary between the application role and the database privilege because database privileges can be granted only to database users and roles. That is, the necessary database privileges are granted to a database role, and that role is granted to each application role (the principal).
                     </p>
                     <p>The database <code class="codeph">SELECT</code> privilege applies to the entire table. The principal must also be granted an Real Application Security application privilege such as the DML <code class="codeph">SELECT</code> privilege, which can be restricted to certain rows of the database table. This restriction is implemented using an access control list (ACL) and a data security policy.
                     </p>
                     <p>The HR scenario requires the following components for the security model:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Protected data</span>: Employee information is stored in the table <code class="codeph">EMPLOYEES</code> of the sample database schema <code class="codeph">HR</code> (delivered with Oracle Database).
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Application role</span>: Application roles, <code class="codeph">EMPLOYEE</code>, <code class="codeph">IT_ENGINEER</code>, and <code class="codeph">HR_REPRESENTATIVE</code> are created for performing tasks. The application roles are defined with the <code class="codeph">XS_PRINCIPAL.CREATE_ROLE</code> procedure. 
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Application user</span>: Application users, <code class="codeph">SMAVRIS</code> and <code class="codeph">DAUSTIN</code>, are created and defined. <code class="codeph">SMAVRIS</code> is granted the application roles <code class="codeph">EMPLOYEE</code> and <code class="codeph">HR_REPRESENTATIVE</code>. <code class="codeph">DAUSTIN</code> is granted the application roles <code class="codeph">EMPLOYEE</code> and <code class="codeph">IT_ENGINEER</code>. 
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Database access</span>: Application users <code class="codeph">SMAVRIS</code> and <code class="codeph">DAUSTIN</code> are given a database password for direct database login. In order to grant <code class="codeph">SELECT</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> privileges on table <code class="codeph">EMPLOYEES</code> to application roles <code class="codeph">EMPLOYEE</code>, <code class="codeph">IT_ENGINEER</code>, <code class="codeph">HR_REPRESENTATIVE</code> a database role, <code class="codeph">DB_EMP</code>, is created and granted these database privileges. The application roles are then granted this database role.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Application Privilege</span>: A single security class, <code class="codeph">HR_PRIVILEGES</code>, is created which defines a single custom application privilege, <code class="codeph">VIEW_SALARY</code>. Through inheritance, the predefined application privilege <code class="codeph">SELECT</code> is also available in this security class. These application privileges will be used in connection with a data security policy to allow read access to employee information. The security class is created by the <code class="codeph">XS.SECURITY_CLASS.CREATE_SECURITY_CLASS</code> procedure.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">ACL</span>: The <code class="codeph">SELECT</code> and <code class="codeph">VIEW_SALARY</code> privileges are granted to application role <code class="codeph">EMPLOYEE</code> by the access control list (ACL), <code class="codeph">EMP_ACL</code> that is created by <code class="codeph">XS_ACL.CREATE_ACL</code> procedure. The <code class="codeph">SELECT</code> privilege is granted to application role <code class="codeph">IT_ENGINEER</code> by the ACL, <code class="codeph">IT_ACL</code> that is created by <code class="codeph">XS_ACL.CREATE_ACL</code> procedure. The <code class="codeph">SELECT</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> privileges are granted to application role <code class="codeph">HR_REPRESENTATIVE</code> by the ACL, <code class="codeph">HR_ACL</code> that is created by <code class="codeph">XS_ACL.CREATE_ACL</code> procedure to view and update all employee's records, and granting the <code class="codeph">VIEW_SALARY</code> application privilege to view the <code class="codeph">SALARY</code> column. . 
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Data Security Policy</span>: The data security policy is defined and created with the <code class="codeph">XS_DATA_SECURITY.CREATE_POLICY</code> procedure. This data security policy defines three data realms (an employee's own record realm that can view the realm including the <code class="codeph">SALARY</code> column, all the records in the IT department realm that can view the IT department excluding the <code class="codeph">SALARY</code> column, and all the employee records realm that can view the realm including the <code class="codeph">SALARY</code> column) and a column constraint. The data security policy associates the ACLs <code class="codeph">EMP_ACL,</code> <code class="codeph">IT_ACL</code>, and <code class="codeph">HR_ACL</code> with its respective data realm.
                           </p>
                        </li>
                     </ul>
                     <p>Introducing this example in this chapter provides an overview of the requirements for implementing a policy using Real Application Security. Actual implementation of these tasks requires a systematic understanding of all the Real Application Security concepts introduced in this chapter, and further discussed in subsequent chapters. The complete example, including implementation details, appears in <span class="q">"<a href="configuring-data-security.html#GUID-C6EF75C9-C167-4482-828E-065BD552E0B7">Real Application Security: Putting It All Together</a>"</span>.
                     </p>
                  </div>
               </div>
            </div><a id="DBFSG837"></a><div class="props_rev_3"><a id="GUID-D9E74B80-8B5F-42D1-A6BD-5EA55ED88A97" name="GUID-D9E74B80-8B5F-42D1-A6BD-5EA55ED88A97"></a><h3 id="DBFSG-GUID-D9E74B80-8B5F-42D1-A6BD-5EA55ED88A97" class="sect3">About Auditing in an Oracle Database Real Application Security Environment</h3>
               <div>
                  <p>Another aspect of security is <a id="d5876e4371" class="indexterm-anchor"></a>auditing in an Oracle Database Real Application Security environment. Real Application Security administration and run-time actions can be audited by configuring and enabling unified audit policies. For information about unified <a id="d5876e4376" class="indexterm-anchor"></a>auditing in an Oracle Database Real Application Security environment, see <a href="../dbseg/configuring-audit-policies.html#DBSEG367" target="_blank"><span class="italic">Oracle Database Security Guide</span></a>.
                  </p>
                  <p>The following static data dictionary views are defined for auditing policies specifically for Oracle Database Real Application Security:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a id="d5876e4391" class="indexterm-anchor"></a><a id="d5876e4393" class="indexterm-anchor"></a><code class="codeph">DBA_XS_AUDIT_POLICY_OPTIONS</code> - describes the auditing options that were defined for Real Application Security unified audit policies. See <a href="../refrn/DBA_XS_AUDIT_POLICY_OPTIONS.html#REFRN23884" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5876e4407" class="indexterm-anchor"></a><a id="d5876e4409" class="indexterm-anchor"></a><code class="codeph">DBA_XS_AUDIT_TRAIL</code> - provides detailed information about Real Application Security that were audited. See <a href="../refrn/DBA_XS_AUDIT_TRAIL.html#REFRN23886" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5876e4423" class="indexterm-anchor"></a><a id="d5876e4425" class="indexterm-anchor"></a><code class="codeph">DBA_XS_ENB_AUDIT_POLICIES</code> - lists users for whom Real Application Security unified audit polices are enabled. See <a href="../refrn/DBA_XS_ENB_AUDIT_POLICIES.html#REFRN23885" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information.
                        </p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-054B6840-D2D6-479C-A0CA-33B535954E07" name="GUID-054B6840-D2D6-479C-A0CA-33B535954E07"></a><h3 id="DBFSG-GUID-054B6840-D2D6-479C-A0CA-33B535954E07" class="sect3">Support for Pluggable Databases</h3>
               <div>
                  <p>The multitenant architecture enables an Oracle database to contain a portable collection of schemas, schema objects, and nonschema objects that appear to an Oracle Real Application Security application user as a separate database. A multitenant container database (CDB) is an Oracle database that includes one or more pluggable databases (PDBs).</p>
                  <p>Oracle Real Application Security can be used with Oracle Multitenant to provide increased security for consolidation.</p>
                  <p>Because Oracle Real Application Security entities are scoped within a PDB, each PDB has its own Real Application Security metadata, such as  users, roles, privileges, ACLs, data security policies, and so forth. As a result, Real Application Security can prevent privileged user access inside a PDB between and among applications and between the PDB and the common privileged user at the container database.</p>
                  <p>As <code class="codeph">SYS</code> is the schema owner for Oracle Real Application Security entities, Real Application Security entities created in <code class="codeph">root</code> can only be accessed by the <code class="codeph">SYS</code> user in <code class="codeph">root</code>. The same is true for other operating systems in that the SYS user  is the schema owner for Oracle Real Application Security entities and only the SYS user has access to these entities. Similarly, Real Application Security entities created within a local PDB, can only be accessed in the local PDB. 
                  </p>
                  <p>Since Oracle Real Application Security direct login users have a password associated with them, these users can be provisioned within a PDB, using a single <code class="codeph">sqlnet.ora</code> parameter to support them. 
                  </p>
                  <p>Oracle Real Application Security administration involves PDB specific administrative privileges and a schema to qualify the name for Real Application Security entities. The schema name can be common; however, entities created under the naming scope of a common schema are not common.</p>
                  <p>Oracle Real Application Security auditing is PDB specific.</p>
                  <p>An Oracle Real Application Security application user can connect to a <a id="d5876e4579" class="indexterm-anchor"></a>PDB using a service whose pluggable database property has been set to the relevant PDB. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-054B6840-D2D6-479C-A0CA-33B535954E07__GUID-9DC3F081-F819-4ABE-9C30-5D8F61DA1BE4">
                     <p class="notep1">See Also:</p>
                     <p><a href="../multi/introduction-to-the-multitenant-architecture.html#CNCPT89234" target="_blank">Introduction to the Multitenant Architecture</a> and <a href="../multi/overview-of-the-multitenant-architecture.html#CNCPT89248" target="_blank">Overview of the Multitenant Architecture</a> in <span><cite>Oracle Database Concepts</cite></span>.
                     </p>
                     <p><a href="../multi/administering-pdbs-with-sql-plus.html#ADMIN13974" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for more information about PDBs and for more details about configuring the services to connect to various PDBs
                     </p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>