<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>DROP TABLESPACE</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DROP-TABLE.html" title="Previous" type="text/html">
      <link rel="next" href="DROP-TABLESPACE-SET.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DROP-TABLE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DROP-TABLESPACE-SET.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-DROP-TABLE-to-LOCK-TABLE.html" property="item" typeof="WebPage"><span property="name">SQL Statements: DROP TABLE to LOCK TABLE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DROP TABLESPACE </li>
            </ol>
            <a id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11" name="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11"></a><a id="SQLRF54949"></a><a id="SQLRF54950"></a><a id="SQLRF54951"></a><a id="SQLRF54952"></a><a id="SQLRF54953"></a><a id="SQLRF54954"></a><a id="SQLRF54955"></a><a id="SQLRF54956"></a><a id="SQLRF54957"></a><a id="SQLRF01807"></a>
            
            <h2 id="SQLRF-GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11" class="sect2">DROP TABLESPACE </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-55D60E5E-7485-49DE-BF3B-2419D9D3BDAE">Purpose </p>
                  <p><a id="d391473e132" class="indexterm-anchor"></a>Use the <code class="codeph">DROP</code> <code class="codeph">TABLESPACE</code> statement to remove a tablespace from the database.
                  </p>
                  <p> When you drop a tablespace, Oracle Database does not place it in the recycle bin. Therefore, you cannot subsequently either purge or undrop the tablespace. </p>
                  <div class="infoboxnotealso" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-6E866031-87B2-45B3-8B60-011C1E5A3925">
                     <p class="notep1">See Also:</p>
                     <p><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9">CREATE TABLESPACE</a> and <a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D">ALTER TABLESPACE</a> for information on creating and modifying a tablespace
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-AB7C44D2-6D49-4188-A21D-5C2EDDA4D040">Prerequisites </p>
                  <p>You must have the <code class="codeph">DROP</code> <code class="codeph">TABLESPACE</code> system privilege. You cannot drop a tablespace if it contains any rollback segments holding active transactions. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-9B1B2439-A9BA-4852-93AC-D85AB296FED3">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-CD8188E9-E500-4617-B265-B1512E89BF0C"><span class="italic">drop_tablespace</span>::=
                  </p>
                  <div class="figure" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-8494890A-3F5D-4668-8354-F08A9CEA1E9C"><img src="img/drop_tablespace.gif" alt="Description of drop_tablespace.eps follows" title="Description of drop_tablespace.eps follows" longdesc="img_text/drop_tablespace.html"><br><a href="img_text/drop_tablespace.html">Description of the illustration drop_tablespace.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-71D05547-20FF-4A8E-BF53-57B2015B9B92">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-40BD5443-7ADD-48B6-AA16-BC4EAC0F5D80"><span class="italic">tablespace</span></p>
                  <p>Specify the name of the tablespace to be dropped, including those of shadow tablespaces, that store lost write protection updates. </p>
                  <p>You can drop a tablespace regardless of whether it is online or offline. Oracle recommends that you take the tablespace offline before dropping it to ensure that no SQL statements in currently running transactions access any of the objects in the tablespace. </p>
                  <p>You cannot drop the <code class="codeph">SYSTEM</code> tablespace. You can drop the <code class="codeph">SYSAUX</code> tablespace only if you have the <code class="codeph">SYSDBA</code> system privilege and you have started the database in <code class="codeph">UPGRADE</code> mode.
                  </p>
                  <p>You may want to alert any users who have been assigned the tablespace as either a default or temporary tablespace. After the tablespace has been dropped, these users cannot allocate space for objects or sort areas in the tablespace. You can reassign users new default and temporary tablespaces with the <code class="codeph">ALTER</code> <code class="codeph">USER</code> statement. 
                  </p>
                  <p>Any objects that were previously dropped from the tablespace and moved to the recycle bin are purged from the recycle bin. Oracle Database removes from the data dictionary all metadata about the tablespace and all data files and temp files in the tablespace. The database also automatically drops from the operating system any Oracle-managed data files and temp files in the tablespace. Other data files and temp files are not removed from the operating system unless you specify <code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code> <code class="codeph">AND</code> <code class="codeph">DATAFILES</code>.
                  </p>
                  <p>You cannot use this statement to drop a tablespace group. However, if <span class="italic"><code class="codeph">tablespace</code></span> is the only tablespace in a tablespace group, then Oracle Database removes the tablespace group from the data dictionary as well. 
                  </p>
                  <p><span class="bold">Restrictions on Dropping Tablespaces</span><a id="d391473e231" class="indexterm-anchor"></a><a id="d391473e235" class="indexterm-anchor"></a></p>
                  <p>Dropping tablespaces is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot drop a tablespace that contains a domain index or any objects created by a domain index. </p>
                     </li>
                     <li>
                        <p>You cannot drop an undo tablespace if it is being used by any instance or if it contains any undo data needed to roll back uncommitted transactions.</p>
                     </li>
                     <li>
                        <p>You cannot drop a tablespace that has been designated as the default tablespace for the database. You must first reassign another tablespace as the default tablespace and then drop the old default tablespace.</p>
                     </li>
                     <li>
                        <p>You cannot drop a temporary tablespace if it is part of the database default temporary tablespace group. You must first remove the tablespace from the database default temporary tablespace group and then drop it.</p>
                     </li>
                     <li>
                        <p>You cannot drop a temporary tablespace if it contains segments that are in use by existing sessions. In this case, no error is raised. The database waits until there are no segments in use by existing sessions and then drops the tablespace.</p>
                     </li>
                     <li>
                        <p>You cannot drop a tablespace, even with the <code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code> and <code class="codeph">CASCADE</code> <code class="codeph">CONSTRAINTS</code> clauses, if doing so would disable a primary key or unique constraint in another tablespace. For example, if the tablespace being dropped contains a primary key index, but the primary key column itself is in a different tablespace, then you cannot drop the tablespace until you have manually disabled the primary key constraint in the other tablespace.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-DB1A038A-792F-45F0-88EB-942F57370E32">
                     <p class="notep1">See Also:</p>
                     <p><a href="../addci/using-extensible-indexing.html#ADDCI270" target="_blank"><span class="italic">Oracle Database Data Cartridge Developer's Guide</span></a> and <a href="../cncpt/indexes-and-index-organized-tables.html#CNCPT607" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information on domain indexes
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-84131501-0625-479C-8108-E0E6FD6DACC6">{ DROP | KEEP } QUOTA</p>
                  <p>Specify <code class="codeph">DROP</code> <code class="codeph">QUOTA</code> to drop all user quotas for the tablespace. Specify <code class="codeph">KEEP</code> <code class="codeph">QUOTA</code> to retain all user quotas for the tablespace. The default is <code class="codeph">KEEP</code> <code class="codeph">QUOTA</code>.
                  </p>
                  <p>You can view all user quotas for a tablespace by querying the <code class="codeph">DBA_TS_QUOTAS</code> data dictionary view.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__INCLUDINGCONTENTSINCLUDINGCONTENTSC-44AF7912">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-49F193E8-136C-4EA6-9B02-8DDBA1D45A7B">INCLUDING CONTENTS</p>
                  <p><a id="d391473e319" class="indexterm-anchor"></a><a id="d391473e323" class="indexterm-anchor"></a>Specify <code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code> to drop all the contents of the tablespace, including those of shadow tablespaces that store lost write protection updates. You must specify this clause to drop a tablespace that contains any database objects. If you omit this clause, and the tablespace is not empty, then the database returns an error and does not drop the tablespace. 
                  </p>
                  <p><code class="codeph">DROP</code> <code class="codeph">TABLESPACE</code> fails, even if you specify <code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code>, if the tablespace contains some, but not all, of the partitions or subpartitions of a single table. If all the partitions or subpartitions of a partitioned table reside in <span class="italic"><code class="codeph">tablespace</code></span>, then <code class="codeph">DROP</code> <code class="codeph">TABLESPACE</code> ... <code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code> drops <span class="italic"><code class="codeph">tablespace</code></span>, as well as any associated index segments, LOB data and index segments, and nested table data and index segments of <span class="italic"><code class="codeph">table</code></span> in other tablespace(s).
                  </p>
                  <p>For a partitioned index-organized table, if all the primary key index segments are in this tablespace, then this clause will also drop any overflow segments that exist in other tablespaces, as well as any associated mapping table in other tablespaces. If some of the primary key index segments are <span class="italic">not</span> in this tablespace, then the statement will fail. In that case, before you can drop the tablespace, you must use <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> ... <code class="codeph">MOVE</code> <code class="codeph">PARTITION</code> to move those primary key index segments into this tablespace, drop the partitions whose overflow data segments are not in this tablespace, and drop the partitioned index-organized table.
                  </p>
                  <p>If the tablespace contains a master table of a materialized view, then the database invalidates the materialized view.</p>
                  <p>If the tablespace contains a materialized view log, then the database drops the log and any other direct-path <code class="codeph">INSERT</code> refresh information associated with the table. 
                  </p>
                  <p><span class="bold">AND DATAFILES</span> <a id="d391473e400" class="indexterm-anchor"></a><a id="d391473e404" class="indexterm-anchor"></a><a id="d391473e408" class="indexterm-anchor"></a></p>
                  <p>When you specify <code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code>, the <code class="codeph">AND</code> <code class="codeph">DATAFILES</code> clause lets you instruct the database to delete the associated operating system files as well. Oracle Database writes a message to the alert log for each operating system file deleted. This clause is not needed for Oracle Managed Files, because they are removed from the system even if you do not specify <code class="codeph">AND</code> <code class="codeph">DATAFILES</code>.
                  </p>
                  <p><span class="bold">KEEP DATAFILES</span> <a id="d391473e437" class="indexterm-anchor"></a><a id="d391473e441" class="indexterm-anchor"></a><a id="d391473e445" class="indexterm-anchor"></a></p>
                  <p>When you specify <code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code>, the <code class="codeph">KEEP</code> <code class="codeph">DATAFILES</code> clause lets you instruct the database to leave untouched the associated operating system files, including Oracle Managed Files. You must specify this clause if you are using Oracle Managed Files and you do not want the associated operating system files removed by the <code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code> clause.
                  </p>
                  <p><span class="bold">CASCADE CONSTRAINTS </span><a id="d391473e473" class="indexterm-anchor"></a><a id="d391473e477" class="indexterm-anchor"></a></p>
                  <p>Specify <code class="codeph">CASCADE</code> <code class="codeph">CONSTRAINTS</code> to drop all referential integrity constraints from tables outside <span class="italic"><code class="codeph">tablespace</code></span> that refer to primary and unique keys of tables inside <span class="italic"><code class="codeph">tablespace</code></span>. If you omit this clause and such referential integrity constraints exist, then Oracle Database returns an error and does not drop the tablespace.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11__GUID-2126E589-3800-464C-80DB-BCA818A34D4E">Examples</p>
                  <p><span class="bold">Dropping a Tablespace: Example</span></p>
                  <p>The following statement drops the <code class="codeph">tbs_01</code> tablespace and drops all referential integrity constraints that refer to primary and unique keys inside <code class="codeph">tbs_01</code>:
                  </p><pre class="oac_no_warn" dir="ltr">DROP TABLESPACE tbs_01 
    INCLUDING CONTENTS 
        CASCADE CONSTRAINTS; </pre><p><span class="bold">Dropping a Shadow Tablespace: Example</span></p>
                  <p>The following statement tries to move the tracked data in the shadow tablespace to another shadow tablespace. This only works if there are shadow tablespaces in the PDB with enough free space.</p><pre class="oac_no_warn" dir="ltr">DROP TABLESPACE &lt;shadow_tablespace_name&gt;</pre><p>The following statement drops the shadow tablespace and all its contents. All the tracking data is lost.</p>
                  <p><span class="bold">Dropping Shadow Tablespace Including Contents: Example</span></p><pre class="oac_no_warn" dir="ltr">DROP TABLESPACE &lt;shadow_tablespace_name&gt; 
    INCLUDING CONTENTS</pre><p><span class="bold">Deleting Operating System Files: Example</span></p>
                  <p>The following example drops the <code class="codeph">tbs_02</code> tablespace and deletes all associated operating system data files:
                  </p><pre class="oac_no_warn" dir="ltr">DROP TABLESPACE tbs_02
   INCLUDING CONTENTS AND DATAFILES;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>