<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Developing PL/SQL Web Applications</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Development Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Development Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-development-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-31T23:23:15-08:00">
      <meta name="dcterms.title" content="Database Development Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96334-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="basic-block-coverage.html" title="Previous" type="text/html">
      <link rel="next" href="cqn.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADFNS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="basic-block-coverage.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="cqn.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Development Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="plsql-for-application-developers.html" property="item" typeof="WebPage"><span property="name">PL/SQL for Application Developers</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Developing PL/SQL Web Applications</li>
            </ol>
            <a id="GUID-B7C7170E-69AC-42D2-9597-451B1053209E" name="GUID-B7C7170E-69AC-42D2-9597-451B1053209E"></a><a id="ADFNS1346"></a><a id="ADFNS015"></a>
            
            <h2 id="ADFNS-GUID-B7C7170E-69AC-42D2-9597-451B1053209E" class="sect2"><span class="enumeration_chapter">17 </span>Developing PL/SQL Web Applications
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="infoboxnote" id="GUID-B7C7170E-69AC-42D2-9597-451B1053209E__GUID-1358FE3F-6A66-4BC5-B213-9911DDA7B5CC">
                  <p class="notep1">Note:</p>
                  <p>The use of the technologies described in this chapter is suitable for applications that require tight control of the HTTP communication and HTML generation. For others applications, you are encouraged to use Oracle Application Express, which provides more features and a convenient graphical interface to ease application development.</p>
               </div>
               <p>This chapter explains how to develop PL/SQL web applications, which let you make your database available on the intranet.</p>
               <div class="section">
                  <p class="subhead1" id="GUID-B7C7170E-69AC-42D2-9597-451B1053209E__GUID-654C0A57-6A81-459E-8A88-EEE0FC4712A6">Topics:</p>
               </div>
               <!-- class="section" -->
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="web-applications.html#GUID-5162BCA5-E622-4C6D-AD24-7D6FDAF10516">Overview of PL/SQL Web Applications</a></p>
                  </li>
                  <li>
                     <p><a href="web-applications.html#GUID-B8FF2633-74AC-4C5A-B5E7-1A66B26EC0D2">Implementing PL/SQL Web Applications</a></p>
                  </li>
                  <li>
                     <p><a href="web-applications.html#GUID-6AE0812B-F36D-4AA7-933E-6397A4CCF841">Using mod_plsql Gateway to Map Client Requests to a PL/SQL Web Application</a></p>
                  </li>
                  <li>
                     <p><a href="web-applications.html#GUID-95ED2C7B-ABFD-41AA-89FB-453FD8D00D44">Using Embedded PL/SQL Gateway</a></p>
                  </li>
                  <li>
                     <p><a href="web-applications.html#GUID-EE7C707C-990F-4CA4-8730-5C58A5C73491">Generating HTML Output with PL/SQL</a></p>
                  </li>
                  <li>
                     <p><a href="web-applications.html#GUID-F6915819-087D-4AB6-A922-A1DD81ECB17D">Passing Parameters to PL/SQL Web Applications</a></p>
                  </li>
                  <li>
                     <p><a href="web-applications.html#GUID-03C49E98-9D13-43AF-AD22-B8EE0D47486F" title="As of Oracle Database 11g Release 2 (11.2.0.1), PL/SQL network utility packages support IPv6 addresses.">Performing Network Operations in PL/SQL Subprograms</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-B7C7170E-69AC-42D2-9597-451B1053209E__NOTE-125-CAC75B13">
                  <p class="notep1">See Also:</p>
                  <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=HTMDB-GUID-3D645140-7A61-4853-B975-218F3B99F687" target="_blank">Oracle Application Express App Builder User's Guide</a> for
                information about using Oracle Application Express
                  </p>
               </div>
            </div><a id="ADFNS1347"></a><a id="ADFNS1101"></a><div class="props_rev_3"><a id="GUID-5162BCA5-E622-4C6D-AD24-7D6FDAF10516" name="GUID-5162BCA5-E622-4C6D-AD24-7D6FDAF10516"></a><h3 id="ADFNS-GUID-5162BCA5-E622-4C6D-AD24-7D6FDAF10516" class="sect3">Overview of PL/SQL Web Applications</h3>
               <div>
                  <p>Typically, a web application written in PL/SQL is a set of stored subprograms that interact with web browsers through HTTP. A set of interlinked, dynamically generated HTML pages forms the user interface of a web application. </p>
                  <p>The program flow of a PL/SQL web application is similar to that in a CGI PERL script. Developers often use CGI scripts to produce web pages dynamically, but such scripts are often not optimal for accessing the database. Delivering web content with PL/SQL stored subprograms provides the power and flexibility of database processing. For example, you can use data manipulation language (DML) statements, dynamic SQL statements, and cursors. You also eliminate the process overhead of forking a new CGI process to handle each HTTP request.</p>
                  <p><a href="web-applications.html#GUID-5162BCA5-E622-4C6D-AD24-7D6FDAF10516__BGBHFAHI">Figure 17-1</a> illustrates the generic process for a PL/SQL web application.
                  </p>
                  <div class="figure" id="GUID-5162BCA5-E622-4C6D-AD24-7D6FDAF10516__BGBHFAHI">
                     <p class="titleinfigure">Figure 17-1 PL/SQL Web Application</p><img src="img/adfns102.gif" width="377" alt="Description of Figure 17-1 follows" title="Description of Figure 17-1 follows" longdesc="img_text/adfns102.html"><br><a href="img_text/adfns102.html">Description of "Figure 17-1 PL/SQL Web Application"</a></div>
                  <!-- class="figure" -->
               </div>
            </div><a id="ADFNS1102"></a><div class="props_rev_3"><a id="GUID-B8FF2633-74AC-4C5A-B5E7-1A66B26EC0D2" name="GUID-B8FF2633-74AC-4C5A-B5E7-1A66B26EC0D2"></a><h3 id="ADFNS-GUID-B8FF2633-74AC-4C5A-B5E7-1A66B26EC0D2" class="sect3">Implementing PL/SQL Web Applications</h3>
               <div>
                  <p>You can implement a web browser-based application entirely in PL/SQL with PL/SQL Gateway or with PL/SQL Web Toolkit.</p>
                  <p>Topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="web-applications.html#GUID-86F73FF3-70CC-4BB5-AA55-F69720149430">PL/SQL Gateway</a></p>
                     </li>
                     <li>
                        <p><a href="web-applications.html#GUID-8EEEAF74-8EC5-4E58-B5C2-F300DF54D74B">PL/SQL Web Toolkit</a></p>
                     </li>
                  </ul>
               </div><a id="ADFNS459"></a><div class="props_rev_3"><a id="GUID-86F73FF3-70CC-4BB5-AA55-F69720149430" name="GUID-86F73FF3-70CC-4BB5-AA55-F69720149430"></a><h4 id="ADFNS-GUID-86F73FF3-70CC-4BB5-AA55-F69720149430" class="sect4">PL/SQL Gateway</h4>
                  <div>
                     <p>The PL/SQL gateway enables a web browser to invoke a PL/SQL stored subprogram through an HTTP listener. The gateway is a platform on which PL/SQL users develop and deploy PL/SQL web applications.</p>
                  </div><a id="ADFNS1348"></a><div class="props_rev_3"><a id="GUID-16411D0C-25B5-4707-B0F4-74605DB52B6B" name="GUID-16411D0C-25B5-4707-B0F4-74605DB52B6B"></a><h5 id="ADFNS-GUID-16411D0C-25B5-4707-B0F4-74605DB52B6B" class="sect5">mod_plsql</h5>
                     <div>
                        <p><code class="codeph">mod_plsql</code> is one implementation of the PL/SQL gateway. The module is a plug-in of Oracle HTTP Server and enables web browsers to invoke PL/SQL stored subprograms. Oracle HTTP Server is a component of both Oracle Application Server and the database.
                        </p>
                        <p>The <code class="codeph">mod_plsql</code> plug-in enables you to use PL/SQL stored subprograms to process HTTP requests and generate responses. In this context, an HTTP request is a URL that includes parameter values to be passed to a stored subprogram. PL/SQL gateway translates the URL, invokes the stored subprogram with the parameters, and returns output (typically HTML) to the client.
                        </p>
                        <p>Some advantages of using <code class="codeph">mod_plsql</code> over the embedded form of the PL/SQL gateway are:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You can run it in a firewall environment in which the Oracle HTTP Server runs on a firewall-facing host while the database is hosted behind a firewall. You cannot use this configuration with the embedded gateway.</p>
                           </li>
                           <li>
                              <p>The embedded gateway does not support <code class="codeph">mod_plsql</code> features such as dynamic HTML caching, system monitoring, and logging in the Common Log Format.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="ADFNS461"></a><div class="props_rev_3"><a id="GUID-72318FF9-814F-4FAF-B2C9-9F8B874ED14A" name="GUID-72318FF9-814F-4FAF-B2C9-9F8B874ED14A"></a><h5 id="ADFNS-GUID-72318FF9-814F-4FAF-B2C9-9F8B874ED14A" class="sect5">Embedded PL/SQL Gateway</h5>
                     <div>
                        <p>You can use an embedded version of the PL/SQL gateway that runs in the XML DB HTTP Listener in the database. It provides the core features of <code class="codeph">mod_plsql</code> in the database but does not require the Oracle HTTP Server. You configure the embedded PL/SQL gateway with the <code class="codeph">DBMS_EPG</code> package in the PL/SQL Web Toolkit.
                        </p>
                        <p>Some advantages of using the embedded gateway instead of <code class="codeph">mod_plsql</code> are:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You can invoke PL/SQL web applications like Application Express without installing Oracle HTTP Server, thereby simplifying installation, configuration, and administration of PL/SQL based web applications.</p>
                           </li>
                           <li>
                              <p>You use the same configuration approach that is used to deliver content from Oracle XML DB in response to FTP and HTTP requests.</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS463"></a><a id="ADFNS462"></a><div class="props_rev_3"><a id="GUID-8EEEAF74-8EC5-4E58-B5C2-F300DF54D74B" name="GUID-8EEEAF74-8EC5-4E58-B5C2-F300DF54D74B"></a><h4 id="ADFNS-GUID-8EEEAF74-8EC5-4E58-B5C2-F300DF54D74B" class="sect4">PL/SQL Web Toolkit</h4>
                  <div>
                     <p>This set of PL/SQL packages is a generic interface that enables you to use stored subprograms invoked by <code class="codeph">mod_plsql</code> at run time.
                     </p>
                     <p>In response to a browser request, a PL/SQL subprogram updates or retrieves data from Oracle Database according to the user input. It then generates an HTTP response to the browser, typically in the form of a file download or HTML to be displayed. The PL/SQL Web Toolkit API enables stored subprograms to perform actions such as:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Obtain information about an HTTP request</p>
                        </li>
                        <li>
                           <p>Generate HTTP headers such as content-type and mime-type</p>
                        </li>
                        <li>
                           <p>Set browser cookies</p>
                        </li>
                        <li>
                           <p>Generate HTML pages</p>
                        </li>
                     </ul>
                     <p><a href="web-applications.html#GUID-8EEEAF74-8EC5-4E58-B5C2-F300DF54D74B__CHEBCGGF" title="This table summarizes some of the commonly used packages in the PL/SQL Web Toolkit.">Table 17-1</a> describes commonly used PL/SQL Web Toolkit packages.
                     </p>
                     <div class="tblformal" id="GUID-8EEEAF74-8EC5-4E58-B5C2-F300DF54D74B__CHEBCGGF">
                        <p class="titleintable">Table 17-1  Commonly Used Packages in the PL/SQL Web Toolkit</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title=" Commonly Used Packages in the PL/SQL Web Toolkit" summary="This table summarizes some of the commonly used packages in the PL/SQL Web Toolkit." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="18%" id="d94186e861">Package</th>
                                 <th align="left" valign="bottom" width="82%" id="d94186e864">Description of Contents</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e869" headers="d94186e861 ">
                                    <p><a href="../arpls/HTF.html#ARPLS390" target="_blank"><code class="codeph">HTF</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e869 d94186e864 ">
                                    <p>Function versions of the subprograms in the <code class="codeph">htp</code> package. The function versions do not directly generate output in a web page. Instead, they pass their output as return values to the statements that invoke them. Use these functions when you must nest function calls. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e882" headers="d94186e861 ">
                                    <p><a href="../arpls/HTP.html#ARPLS391" target="_blank"><code class="codeph">HTP</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e882 d94186e864 ">
                                    <p>Subprograms that generate HTML tags. For example, the procedure <code class="codeph">htp</code>.<code class="codeph">anchor</code> generates the HTML anchor tag, <code class="codeph">&lt;A&gt;</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e901" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_CACHE.html#ARPLS386" target="_blank"><code class="codeph">OWA_CACHE</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e901 d94186e864 ">
                                    <p>Subprograms that enable the PL/SQL gateway cache feature to improve performance of your PL/SQL web application.</p>
                                    <p>You can use this package to enable expires-based and validation-based caching with the PL/SQL gateway file system.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e913" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_COOKIE.html#ARPLS387" target="_blank"><code class="codeph">OWA_COOKIE</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e913 d94186e864 ">
                                    <p>Subprograms that send and retrieve HTTP cookies to and from a client web browser. Cookies are strings a browser uses to maintain state between HTTP calls. State can be maintained throughout a client session or longer if a cookie expiration date is included.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e923" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_CUSTOM.html#ARPLS388" target="_blank"><code class="codeph">OWA_CUSTOM </code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e923 d94186e864 ">
                                    <p>The authorize function used by cookies.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e933" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_IMAGE.html#ARPLS392" target="_blank"><code class="codeph">OWA_IMAGE </code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e933 d94186e864 ">
                                    <p>Subprograms that obtain the coordinates where a user clicked an image. Use this package when you have an image map whose destination links invoke a PL/SQL gateway.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e943" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_OPT_LOCK.html#ARPLS393" target="_blank"><code class="codeph">OWA_OPT_LOCK</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e943 d94186e864 ">
                                    <p>Subprograms that impose database optimistic locking strategies to prevent lost updates. Lost updates can otherwise occur if a user selects, and then attempts to update, a row whose values were changed in the meantime by another user. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e953" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_PATTERN.html#ARPLS398" target="_blank"><code class="codeph">OWA_PATTERN</code></a> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e953 d94186e864 ">
                                    <p>Subprograms that perform string matching and string manipulation with regular expressions. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e964" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_SEC.html#ARPLS395" target="_blank"><code class="codeph">OWA_SEC</code></a> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e964 d94186e864 ">
                                    <p>Subprograms used by the PL/SQL gateway for authenticating requests. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e975" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_TEXT.html#ARPLS396" target="_blank"><code class="codeph">OWA_TEXT</code></a> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e975 d94186e864 ">
                                    <p>Subprograms used by package <code class="codeph">OWA_PATTERN</code> for manipulating strings. You can also use them directly. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e989" headers="d94186e861 ">
                                    <p><a href="../arpls/OWA_UTIL.html#ARPLS397" target="_blank"><code class="codeph">OWA_UTIL</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e989 d94186e864 ">
                                    <p>These types of utility subprograms:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>Dynamic SQL utilities to produce pages with dynamically generated SQL code.</p>
                                       </li>
                                       <li>
                                          <p>HTML utilities to retrieve the values of CGI environment variables and perform URL redirects.</p>
                                       </li>
                                       <li>
                                          <p>Date utilities for correct date-handling. Date values are simple strings in HTML, but must be properly treated as an Oracle Database data type.</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d94186e1010" headers="d94186e861 ">
                                    <p><a href="../arpls/WPG_DOCLOAD.html#ARPLS200" target="_blank"><code class="codeph">WPG_DOCLOAD</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d94186e1010 d94186e864 ">
                                    <p>Subprograms that download documents from a document repository that you define using the DAD configuration.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-8EEEAF74-8EC5-4E58-B5C2-F300DF54D74B__GUID-0B923D77-1173-4CD8-AEDD-ADA3D0CC638E">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/introduction-to-oracle-supplied-plsql-packages-and-types.html#ARPLS-GUID-4AA6AA30-CAEE-4DCD-B214-9AD51D0229B4" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for syntax, descriptions, and examples for the PL/SQL Web Toolkit packages
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS1103"></a><div class="props_rev_3"><a id="GUID-6AE0812B-F36D-4AA7-933E-6397A4CCF841" name="GUID-6AE0812B-F36D-4AA7-933E-6397A4CCF841"></a><h3 id="ADFNS-GUID-6AE0812B-F36D-4AA7-933E-6397A4CCF841" class="sect3">Using mod_plsql Gateway to Map Client Requests to a PL/SQL Web Application</h3>
               <div>
                  <div class="section">
                     <p>As explained in detail in the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=YPMOD" target="_blank"><span class="italic">Oracle HTTP Server mod_plsql User's Guide</span></a>, <code class="codeph">mod_plsql</code> maps web client requests to PL/SQL stored subprograms over HTTP. See this documentation for instructions.
                     </p>
                     <div class="infoboxnotealso" id="GUID-6AE0812B-F36D-4AA7-933E-6397A4CCF841__GUID-F28DE46D-DF4D-487F-A826-E2DF3DE86C10">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=YPMOD" target="_blank"><span class="italic">Oracle HTTP Server mod_plsql User's Guide</span></a> to learn how to configure and use <code class="codeph">mod_plsql</code></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=HSADM767" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle HTTP Server</span></a> for information about the <code class="codeph">mod_plsql</code> module
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS1349"></a><a id="ADFNS0151"></a><div class="props_rev_3"><a id="GUID-95ED2C7B-ABFD-41AA-89FB-453FD8D00D44" name="GUID-95ED2C7B-ABFD-41AA-89FB-453FD8D00D44"></a><h3 id="ADFNS-GUID-95ED2C7B-ABFD-41AA-89FB-453FD8D00D44" class="sect3">Using Embedded PL/SQL Gateway</h3>
               <div>
                  <div class="section">
                     <p>The embedded gateway functions very similar to the <code class="codeph">mod_plsql</code> gateway.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-95ED2C7B-ABFD-41AA-89FB-453FD8D00D44__GUID-75454199-307D-4109-95E5-B4DE3A8289BB">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="web-applications.html#GUID-673ABE76-BA95-4434-A75E-A062ACFCD13F">How Embedded PL/SQL Gateway Processes Client Requests</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-E576A0C1-5624-4629-90A9-DC2BBFA519C3">Installing Embedded PL/SQL Gateway</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-6FABD340-FE72-464E-A3D9-947FEB7164E4">Configuring Embedded PL/SQL Gateway</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-9D99F1FF-50F1-461B-AE1E-D3B8651A4B89">Invoking PL/SQL Stored Subprograms Through Embedded PL/SQL Gateway</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-E78044D2-7E71-43C5-9B8F-316410DF0F9F">Securing Application Access with Embedded PL/SQL Gateway</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-B6DE9CEE-E625-4AAE-9A0F-99C94439C1E0">Restrictions in Embedded PL/SQL Gateway</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-83C5C5CB-9CBD-4BFD-B985-F6F938261468">Using Embedded PL/SQL Gateway: Scenario</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-95ED2C7B-ABFD-41AA-89FB-453FD8D00D44__NOTE-1332-CAC88E2D">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=YPMOD" target="_blank"><span class="italic">Oracle HTTP Server mod_plsql User's Guide</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS1351"></a><a id="ADFNS1350"></a><div class="props_rev_3"><a id="GUID-673ABE76-BA95-4434-A75E-A062ACFCD13F" name="GUID-673ABE76-BA95-4434-A75E-A062ACFCD13F"></a><h4 id="ADFNS-GUID-673ABE76-BA95-4434-A75E-A062ACFCD13F" class="sect4">How Embedded PL/SQL Gateway Processes Client Requests</h4>
                  <div>
                     <p><a href="web-applications.html#GUID-673ABE76-BA95-4434-A75E-A062ACFCD13F__BGBBAEIG">Figure 17-2</a> illustrates the process by which the embedded gateway handles client HTTP requests.
                     </p>
                     <div class="figure" id="GUID-673ABE76-BA95-4434-A75E-A062ACFCD13F__BGBBAEIG">
                        <p class="titleinfigure">Figure 17-2 Processing Client Requests with Embedded PL/SQL Gateway</p><img width="452" src="img/adfns101.gif" alt="Description of Figure 17-2 follows" title="Description of Figure 17-2 follows" longdesc="img_text/adfns101.html"><br><a href="img_text/adfns101.html">Description of "Figure 17-2 Processing Client Requests with Embedded PL/SQL Gateway"</a></div>
                     <!-- class="figure" -->
                     <p>The explanation of the steps in <a href="web-applications.html#GUID-673ABE76-BA95-4434-A75E-A062ACFCD13F__BGBBAEIG">Figure 17-2</a> is as follows:
                     </p>
                     <ol>
                        <li>
                           <p>The Oracle XML DB HTTP Listener receives a request from a client browser to request to invoke a PL/SQL subprogram. The subprogram can either be written directly in PL/SQL or indirectly generated when a PL/SQL Server Page is uploaded to the database and compiled.</p>
                        </li>
                        <li>
                           <p>The XML DB HTTP Listener routes the request to the embedded PL/SQL gateway as specified in its virtual-path mapping configuration.</p>
                        </li>
                        <li>
                           <p>The embedded gateway uses the HTTP request information and the gateway configuration to determine which database account to use for authentication.</p>
                        </li>
                        <li>
                           <p>The embedded gateway prepares the call parameters and invokes the PL/SQL subprogram in the application.</p>
                        </li>
                        <li>
                           <p>The PL/SQL subprogram generates an HTML page out of relational data and the PL/SQL Web Toolkit accessed from the database.</p>
                        </li>
                        <li>
                           <p>The application sends the page to the embedded gateway.</p>
                        </li>
                        <li>
                           <p>The embedded gateway sends the page to the XML DB HTTP Listener.</p>
                        </li>
                        <li>
                           <p>The XML DB HTTP Listener sends the page to the client browser.</p>
                        </li>
                     </ol>
                     <p>Unlike <code class="codeph">mod_plsql</code>, the embedded gateway processes HTTP requests with the Oracle XML DB Listener. This listener is the same server-side process as the Oracle Net Listener and supports Oracle Net Services, HTTP, and FTP.
                     </p>
                     <p>Configure general HTTP listener settings through the XML DB interface (for instructions, see <a href="../adxdb/repository-access-using-protocols.html#ADXDB2510" target="_blank"><span class="italic">Oracle XML DB Developer's Guide</span></a>). Configure the HTTP listener either by using Oracle Enterprise Manager Cloud Control (Cloud Control) or by editing the <code class="codeph">xdbconfig</code>.<code class="codeph">xml</code> file. Use the <code class="codeph">DBMS_EPG</code> package for all embedded PL/SQL gateway configuration, for example, creating or setting attributes for a DAD.
                     </p>
                  </div>
               </div><a id="ADFNS1352"></a><div class="props_rev_3"><a id="GUID-E576A0C1-5624-4629-90A9-DC2BBFA519C3" name="GUID-E576A0C1-5624-4629-90A9-DC2BBFA519C3"></a><h4 id="ADFNS-GUID-E576A0C1-5624-4629-90A9-DC2BBFA519C3" class="sect4">Installing Embedded PL/SQL Gateway</h4>
                  <div>
                     <div class="section">
                        <p>The embedded gateway requires these components:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>XML DB HTTP Listener</p>
                           </li>
                           <li>
                              <p>PL/SQL Web Toolkit</p>
                           </li>
                        </ul>
                        <p>The embedded PL/SQL gateway is installed as part of Oracle XML DB. If you are using a preconfigured database created during an installation or by the Database Configuration Assistant (DBCA), then Oracle XML DB is installed and configured.</p>
                        <p>The PL/SQL Web Toolkit is part of the standard installation of the database, so no supplementary installation is necessary.</p>
                        <div class="infoboxnotealso" id="GUID-E576A0C1-5624-4629-90A9-DC2BBFA519C3__NOTE-1224-CAC92A54">
                           <p class="notep1">See Also:</p>
                           <p><a href="../adxdb/administration-of-XML-DB.html#ADXDB2700" target="_blank"><span class="italic">Oracle XML DB Developer's Guide</span></a> for information about manually adding Oracle XML DB to an existing database
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1052"></a><a id="ADFNS1353"></a><div class="props_rev_3"><a id="GUID-6FABD340-FE72-464E-A3D9-947FEB7164E4" name="GUID-6FABD340-FE72-464E-A3D9-947FEB7164E4"></a><h4 id="ADFNS-GUID-6FABD340-FE72-464E-A3D9-947FEB7164E4" class="sect4">Configuring Embedded PL/SQL Gateway</h4>
                  <div>
                     <div class="section">
                        <p>You configure <code class="codeph">mod_plsql</code> by editing the Oracle HTTP Server configuration files. Because the embedded gateway is installed as part of the Oracle XML DB HTTP Listener, you manage the embedded gateway as a servlet through the Oracle XML DB servlet management interface.
                        </p>
                        <p>The configuration interface to the embedded gateway is the PL/SQL package <code class="codeph">DBMS_EPG</code>. This package modifies the underlying <code class="codeph">xdbconfig</code>.<code class="codeph">xml</code> configuration file that XML DB uses. The default values of the embedded gateway configuration parameters are sufficient for most users.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6FABD340-FE72-464E-A3D9-947FEB7164E4__GUID-F15472A8-9A62-49CF-AF30-3C7F386EC580">Topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="web-applications.html#GUID-4DF23317-3639-4987-BC53-DB9EACE80D79">Configuring Embedded PL/SQL Gateway: Overview</a></p>
                           </li>
                           <li>
                              <p><a href="web-applications.html#GUID-1AF94690-AC87-4533-8599-73485604B572">Configuring User Authentication for Embedded PL/SQL Gateway</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS469"></a><a id="ADFNS1354"></a><a id="ADFNS468"></a><div class="props_rev_3"><a id="GUID-4DF23317-3639-4987-BC53-DB9EACE80D79" name="GUID-4DF23317-3639-4987-BC53-DB9EACE80D79"></a><h5 id="ADFNS-GUID-4DF23317-3639-4987-BC53-DB9EACE80D79" class="sect5">Configuring Embedded PL/SQL Gateway: Overview</h5>
                     <div>
                        <div class="section">
                           <p>As in <code class="codeph">mod_plsql</code>, each request for a PL/SQL stored subprogram is associated with a <span class="bold">Database Access Descriptor (DAD)</span>. A DAD is a set of configuration values used for database access. A DAD specifies information such as:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The database account to use for authentication</p>
                              </li>
                              <li>
                                 <p>The subprogram to use for uploading and downloading documents</p>
                              </li>
                           </ul>
                           <p>In the embedded PL/SQL gateway, a DAD is represented as a servlet in the XML DB HTTP Listener configuration. Each DAD attribute maps to an XML element in the configuration file <code class="codeph">xdbconfig</code>.<code class="codeph">xml</code>. The value of the DAD attribute corresponds to the element content. For example, the <code class="codeph">database-username</code> DAD attribute corresponds to the <code class="codeph">&lt;database-username&gt;</code> XML element; if the value of the DAD attribute is <code class="codeph">HR</code> it corresponds to <code class="codeph">&lt;database-username&gt;HR&lt;database-username&gt;</code>. DAD attribute names are case-sensitive.
                           </p>
                           <p>Use the <code class="codeph">DBMS_EPG</code> package to perform these embedded PL/SQL gateway configurations:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Create a DAD with the <code class="codeph">DBMS_EPG</code>.<code class="codeph">CREATE_DAD</code> procedure.</span></li>
                           <li class="stepexpand"><span>Set DAD attributes with the <code class="codeph">DBMS_EPG</code>.<code class="codeph">SET_DAD_ATTRIBUTE</code> procedure.</span><div>
                                 <p>All DAD attributes are optional. If you do not specify an attribute, it has its initial value.</p>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <p><a href="web-applications.html#GUID-4DF23317-3639-4987-BC53-DB9EACE80D79__BGBBJIBB" title="This table maps the mod_plsql DAD parameters to the DBMS_EPGC DAD elements.">Table 17-2</a> lists the embedded PL/SQL gateway attributes and the corresponding <code class="codeph">mod_plsql</code> DAD parameters. Enumeration values in the "Legal Values" column are case-sensitive.
                           </p>
                           <div class="tblformalwide" id="GUID-4DF23317-3639-4987-BC53-DB9EACE80D79__BGBBJIBB">
                              <p class="titleintable">Table 17-2 Mapping Between mod_plsql and Embedded PL/SQL Gateway DAD Attributes</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="Mapping Between mod_plsql and Embedded PL/SQL Gateway DAD Attributes" summary="This table maps the mod_plsql DAD parameters to the DBMS_EPGC DAD elements." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="31%" id="d94186e1893">mod_plsql DAD Attribute</th>
                                       <th align="left" valign="bottom" width="26%" id="d94186e1896">Embedded PL/SQL Gateway DAD Attribute</th>
                                       <th align="left" valign="bottom" width="13%" id="d94186e1899">Multiple Occurrences</th>
                                       <th align="left" valign="bottom" width="30%" id="d94186e1902">Legal Values</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e1907" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlAfterProcedure</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e1907 d94186e1896 ">
                                          <p><code class="codeph">after-procedure</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e1907 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e1907 d94186e1902 ">
                                          <p>String</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e1922" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlAlwaysDescribeProcedure</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e1922 d94186e1896 ">
                                          <p><code class="codeph">always-describe-procedure</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e1922 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e1922 d94186e1902 ">
                                          <p>Enumeration of On, Off</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e1937" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlAuthenticationMode</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e1937 d94186e1896 ">
                                          <p><code class="codeph">authentication-mode</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e1937 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e1937 d94186e1902 ">
                                          <p>Enumeration of Basic, SingleSignOn, GlobalOwa, CustomOwa, PerPackageOwa</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e1952" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlBeforeProcedure</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e1952 d94186e1896 ">
                                          <p><code class="codeph">before-procedure</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e1952 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e1952 d94186e1902 ">
                                          <p>String</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e1967" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlBindBucketLengths</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e1967 d94186e1896 ">
                                          <p><code class="codeph">bind-bucket-lengths</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e1967 d94186e1899 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e1967 d94186e1902 ">
                                          <p>Unsigned integer</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e1982" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlBindBucketWidths</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e1982 d94186e1896 ">
                                          <p><code class="codeph">bind-bucket-widths</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e1982 d94186e1899 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e1982 d94186e1902 ">
                                          <p>Unsigned integer</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e1997" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlCGIEnvironmentList</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e1997 d94186e1896 ">
                                          <p><code class="codeph">cgi-environment-list</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e1997 d94186e1899 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e1997 d94186e1902 ">
                                          <p>String</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2012" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlCompatibilityMode</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2012 d94186e1896 ">
                                          <p><code class="codeph">compatibility-mode</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2012 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2012 d94186e1902 ">
                                          <p>Unsigned integer</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2027" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlDatabaseUsername</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2027 d94186e1896 ">
                                          <p><code class="codeph">database-username</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2027 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2027 d94186e1902 ">
                                          <p>String</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2042" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlDefaultPage</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2042 d94186e1896 ">
                                          <p><code class="codeph">default-page</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2042 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2042 d94186e1902 ">
                                          <p>String</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2057" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlDocumentPath</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2057 d94186e1896 ">
                                          <p><code class="codeph">document-path</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2057 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2057 d94186e1902 ">
                                          <p>String</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2073" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlDocumentProcedure</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2073 d94186e1896 ">
                                          <p><code class="codeph">document-procedure</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2073 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2073 d94186e1902 ">
                                          <p>String</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2088" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlDocumentTablename</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2088 d94186e1896 ">
                                          <p><code class="codeph">document-table-name</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2088 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2088 d94186e1902 ">
                                          <p>String</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2103" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlErrorStyle</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2103 d94186e1896 ">
                                          <p><code class="codeph">error-style</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2103 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2103 d94186e1902 ">
                                          <p>Enumeration of ApacheStyle, ModplsqlStyle, DebugStyle</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2118" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlExclusionList</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2118 d94186e1896 ">
                                          <p><code class="codeph">exclusion-list</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2118 d94186e1899 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2118 d94186e1902 ">
                                          <p>String</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2133" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlFetchBufferSize</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2133 d94186e1896 ">
                                          <p><code class="codeph">fetch-buffer-size</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2133 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2133 d94186e1902 ">
                                          <p>Unsigned integer</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2148" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlInfoLogging</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2148 d94186e1896 ">
                                          <p><code class="codeph">info-logging</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2148 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2148 d94186e1902 ">
                                          <p>Enumeration of InfoDebug</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2163" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlInputFilterEnable</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2163 d94186e1896 ">
                                          <p><code class="codeph">input-filter-enable</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2163 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2163 d94186e1902 ">
                                          <p>String</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2178" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlMaxRequestsPerSession</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2178 d94186e1896 ">
                                          <p><code class="codeph">max-requests-per-session</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2178 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2178 d94186e1902 ">
                                          <p>Unsigned integer</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2193" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlNLSLanguage</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2193 d94186e1896 ">
                                          <p><code class="codeph">nls-language</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2193 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2193 d94186e1902 ">
                                          <p>String</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2208" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlOWADebugEnable</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2208 d94186e1896 ">
                                          <p><code class="codeph">owa-debug-enable</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2208 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2208 d94186e1902 ">
                                          <p>Enumeration of On, Off</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2223" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlPathAlias</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2223 d94186e1896 ">
                                          <p><code class="codeph">path-alias</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2223 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2223 d94186e1902 ">
                                          <p>String</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2239" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlPathAliasProcedure</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2239 d94186e1896 ">
                                          <p><code class="codeph">path-alias-procedure</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2239 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2239 d94186e1902 ">
                                          <p>String</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2254" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlRequestValidationFunction</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2254 d94186e1896 ">
                                          <p><code class="codeph">request-validation-function</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2254 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2254 d94186e1902 ">
                                          <p>String</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2269" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlSessionCookieName</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2269 d94186e1896 ">
                                          <p><code class="codeph">session-cookie-name</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2269 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2269 d94186e1902 ">
                                          <p>String</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2284" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlSessionStateManagement</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2284 d94186e1896 ">
                                          <p><code class="codeph">session-state-management</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2284 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2284 d94186e1902 ">
                                          <p>Enumeration of StatelessWithResetPackageState, StatelessWithFastRestPackageState, StatelessWithPreservePackageState</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2299" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlTransferMode</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2299 d94186e1896 ">
                                          <p><code class="codeph">transfer-mode</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2299 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2299 d94186e1902 ">
                                          <p>Enumeration of Char, Raw</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2314" headers="d94186e1893 ">
                                          <p><code class="codeph">PlsqlUploadAsLongRaw</code></p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d94186e2314 d94186e1896 ">
                                          <p><code class="codeph">upload-as-long-raw</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2314 d94186e1899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d94186e2314 d94186e1902 ">
                                          <p>String</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>The default values of the DAD attributes are sufficient for most users of the embedded gateway. <code class="codeph">mod_plsql</code> users do not need these attributes:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">PlsqlDatabasePassword</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">PlsqlDatabaseConnectString</code> (because the embedded gateway does not support logon to external databases)
                                 </p>
                              </li>
                           </ul>
                           <p>Like the DAD attributes, the global configuration parameters are optional. <a href="web-applications.html#GUID-4DF23317-3639-4987-BC53-DB9EACE80D79__CHEFIIBF" title="This tables maps the mod_plsql DAD parameters to the DBMS_EPGC DAD elements.">Table 17-3</a> describes the <code class="codeph">DBMS_EPG</code> global attributes and the corresponding <code class="codeph">mod_plsql</code> global parameters.
                           </p>
                           <div class="tblformalwide" id="GUID-4DF23317-3639-4987-BC53-DB9EACE80D79__CHEFIIBF">
                              <p class="titleintable">Table 17-3 Mapping Between mod_plsql and Embedded PL/SQL Gateway Global Attributes</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="Mapping Between mod_plsql and Embedded PL/SQL Gateway Global Attributes" summary="This tables maps the mod_plsql DAD parameters to the DBMS_EPGC DAD elements." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="31%" id="d94186e2368">mod_plsql DAD Attribute</th>
                                       <th align="left" valign="bottom" width="27%" id="d94186e2371">Embedded PL/SQL Gateway DAD Attribute</th>
                                       <th align="left" valign="bottom" width="13%" id="d94186e2374">Multiple Occurrences</th>
                                       <th align="left" valign="bottom" width="29%" id="d94186e2377">Legal Values</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2382" headers="d94186e2368 ">
                                          <p><code class="codeph">PlsqlLogLevel</code></p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d94186e2382 d94186e2371 ">
                                          <p><code class="codeph">log-level</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2382 d94186e2374 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d94186e2382 d94186e2377 ">
                                          <p>Unsigned integer</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="31%" id="d94186e2397" headers="d94186e2368 ">
                                          <p><code class="codeph">PlsqlMaxParameters</code></p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d94186e2397 d94186e2371 ">
                                          <p><code class="codeph">max-parameters</code></p>
                                       </td>
                                       <td align="left" valign="top" width="13%" headers="d94186e2397 d94186e2374 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d94186e2397 d94186e2377 ">
                                          <p>Unsigned integer</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnotealso" id="GUID-4DF23317-3639-4987-BC53-DB9EACE80D79__GUID-98B3B3A2-868C-4DEC-9DF8-5F7F924B226B">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=HSADM168" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle HTTP Server</span></a> for detailed descriptions of the <code class="codeph">mod_plsql</code> DAD attributes. See this documentation for default values and usage notes.
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../arpls/DBMS_EPG.html#ARPLS193" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> to learn about the <code class="codeph">DBMS_EPG</code> package
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../adxdb/administration-of-XML-DB.html#ADXDB2700" target="_blank"><span class="italic">Oracle XML DB Developer's Guide</span></a> for an account of the <code class="codeph">xdbconfig</code>.<code class="codeph">xml</code> file
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADFNS1355"></a><a id="ADFNS471"></a><div class="props_rev_3"><a id="GUID-1AF94690-AC87-4533-8599-73485604B572" name="GUID-1AF94690-AC87-4533-8599-73485604B572"></a><h5 id="ADFNS-GUID-1AF94690-AC87-4533-8599-73485604B572" class="sect5">Configuring User Authentication for Embedded PL/SQL Gateway</h5>
                     <div>
                        <div class="section">
                           <p>Because it uses the XML DB authentication schemes, the embedded gateway handles database authentication differently from <code class="codeph">mod_plsql</code>. In particular, it does not store database passwords in a DAD.
                           </p>
                           <div class="infoboxnote" id="GUID-1AF94690-AC87-4533-8599-73485604B572__GUID-DE045853-5412-4CB7-8C15-5F28F5D683B3">
                              <p class="notep1">Note:</p>
                              <p>To serve a PL/SQL web application on the Internet but maintain the database behind a firewall, do not use the embedded PL/SQL gateway to run the application; use <code class="codeph">mod_plsql</code>.
                              </p>
                           </div>
                           <p>Use the <code class="codeph">DBMS_EPG</code> package to configure database authentication.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1AF94690-AC87-4533-8599-73485604B572__GUID-6C070242-1D03-48E2-8D03-0060A21B165D">Topics:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="web-applications.html#GUID-74A5B8F3-FFD5-4FC1-AC71-351C6E84F70A">Configuring Static Authentication with DBMS_EPG</a></p>
                              </li>
                              <li>
                                 <p><a href="web-applications.html#GUID-3F04A23B-9288-4D14-8D32-94B5EE380918">Configuring Dynamic Authentication with DBMS_EPG</a></p>
                              </li>
                              <li>
                                 <p><a href="web-applications.html#GUID-E88923E4-CB19-41DB-A14E-B77805CAB70A">Configuring Anonymous Authentication with DBMS_EPG</a></p>
                              </li>
                              <li>
                                 <p><a href="web-applications.html#GUID-8C29FB9A-18C7-4C91-92FA-B907E08680BD">Determining the Authentication Mode of a DAD</a></p>
                              </li>
                              <li>
                                 <p><a href="web-applications.html#GUID-C4588450-4A25-40BF-8257-4D7F4328E886">Examples: Creating and Configuring DADs</a></p>
                              </li>
                              <li>
                                 <p><a href="web-applications.html#GUID-AA4722F2-3D97-46BB-94C0-E46BD4F1C5A7">Example: Determining the Authentication Mode for a DAD</a></p>
                              </li>
                              <li>
                                 <p><a href="web-applications.html#GUID-55B3F04F-7DED-43E9-9DE4-2A71564C7501">Example: Determining the Authentication Mode for All DADs</a></p>
                              </li>
                              <li>
                                 <p><a href="web-applications.html#GUID-2EF569EA-D4BB-4331-8382-2B60E8318C0E">Example: Showing DAD Authorizations that Are Not in Effect</a></p>
                              </li>
                              <li>
                                 <p><a href="web-applications.html#GUID-AF235182-62C6-4626-B074-861EBB14F82D">Examining Embedded PL/SQL Gateway Configuration</a></p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div><a id="ADFNS1356"></a><div class="props_rev_3"><a id="GUID-74A5B8F3-FFD5-4FC1-AC71-351C6E84F70A" name="GUID-74A5B8F3-FFD5-4FC1-AC71-351C6E84F70A"></a><h6 id="ADFNS-GUID-74A5B8F3-FFD5-4FC1-AC71-351C6E84F70A" class="sect6">Configuring Static Authentication with DBMS_EPG</h6>
                        <div>
                           <div class="section">
                              <p>Static authentication is for the <code class="codeph">mod_plsql</code> user who stores database user names and passwords in the DAD so that the browser user is not required to enter database authentication information.
                              </p>
                              <p>To configure static authentication, follow these steps:</p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>Log on to the database as an XML DB administrator (that is, a user with the <code class="codeph">XDBADMIN</code> role assigned).</span></li>
                              <li class="stepexpand"><span>Create the DAD. For example, this procedure creates a DAD invoked <code class="codeph">HR_DAD</code> and maps the virtual path to /<code class="codeph">hrweb</code>/:</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.CREATE_DAD('HR_DAD', '/hrweb/*');
</pre></div>
                              </li>
                              <li class="stepexpand"><span>For this step, you need the <code class="codeph">ALTER</code> <code class="codeph">ANY</code> <code class="codeph">USER</code> system privilege. Set the DAD attribute <code class="codeph">database-username</code> to the database account whose privileges must be used by the DAD. For example, this procedure specifies that the DAD named <code class="codeph">HR_DAD</code> has the privileges of the <code class="codeph">HR</code> account:</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.SET_DAD_ATTRIBUTE('HR_DAD', 'database-username', 'HR');
</pre><p>The DAD attribute <code class="codeph">database-username</code> is case-sensitive.
                                    </p>
                                 </div>
                              </li>
                              <li class="stepexpand"><span>Assign the DAD the privileges of the database user specified in the previous step. This authorization enables end users to invoke procedures and access document tables through the embedded PL/SQL gateway with the privileges of the authorized account. For example:</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.AUTHORIZE_DAD('HR_DAD', 'HR');
</pre><p>Alternatively, you can log off as the user with <code class="codeph">XDBADMIN</code> privileges, log on as the database user whose privileges must be used by the DAD, and then use this command to assign these privileges to the DAD:
                                    </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.AUTHORIZE_DAD('HR_DAD');</pre><div class="infoboxnote" id="GUID-74A5B8F3-FFD5-4FC1-AC71-351C6E84F70A__GUID-51747CEB-999D-402E-9A48-6BCF8F686DDE">
                                       <p class="notep1">Note:</p>
                                       <p>Multiple users can authorize the same DAD. The <code class="codeph">database-username</code> attribute setting of the DAD determines which user's privileges to use.
                                       </p>
                                    </div>
                                 </div>
                              </li>
                           </ol>
                           <div class="section">
                              <p>Unlike <code class="codeph">mod_plsql</code>, the embedded gateway connects to the database as the special user <code class="codeph">ANONYMOUS</code>, but accesses database objects with the user privileges assigned to the DAD. The database rejects access if the browser user attempts to connect explicitly with the HTTP <code class="codeph">Authorization</code> header.
                              </p>
                              <div class="infoboxnote" id="GUID-74A5B8F3-FFD5-4FC1-AC71-351C6E84F70A__GUID-22E2A0AE-6543-4745-9452-98C56E1CA999">
                                 <p class="notep1">Note:</p>
                                 <p>The account <code class="codeph">ANONYMOUS</code> is locked after XML DB installation. To use static authentication with the embedded PL/SQL gateway, first unlock this account.
                                 </p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="ADFNS1357"></a><div class="props_rev_3"><a id="GUID-3F04A23B-9288-4D14-8D32-94B5EE380918" name="GUID-3F04A23B-9288-4D14-8D32-94B5EE380918"></a><h6 id="ADFNS-GUID-3F04A23B-9288-4D14-8D32-94B5EE380918" class="sect6">Configuring Dynamic Authentication with DBMS_EPG</h6>
                        <div>
                           <div class="section">
                              <p>Dynamic authentication is for the <code class="codeph">mod_plsql</code> user who does not store database user names and passwords in the DAD.
                              </p>
                              <p>In dynamic authentication, a database user does not have to authorize the embedded gateway to use its privileges to access database objects. Instead, browser users must supply the database authentication information through the HTTP Basic Authentication scheme.</p>
                              <p>The action of the embedded gateway depends on whether the <code class="codeph">database-username</code> attribute is set for the DAD. If the attribute is not set, then the embedded gateway connects to the database as the user supplied by the browser client. If the attribute is set, then the database restricts access to the user specified in the <code class="codeph">database-username</code> attribute.
                              </p>
                              <p>To set up dynamic authentication, follow these steps:</p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>Log on to the database as a an XML DB administrator (that is, a user with the <code class="codeph">XDBADMIN</code> role).</span></li>
                              <li class="stepexpand"><span>Create the DAD. For example, this procedure creates a DAD invoked <code class="codeph">DYNAMIC_DAD</code> and maps the virtual path to <code class="codeph">/hrweb/</code>:</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.CREATE_DAD('DYNAMIC_DAD', '/hrweb/*');
</pre></div>
                              </li>
                              <li class="stepexpand"><span>Optionally, set the DAD attribute <code class="codeph">database-username</code> to the database account whose privileges must be used by the DAD. The browser prompts the user to enter the username and password for this account when accessing the DAD. For example, this procedure specifies that the DAD named <code class="codeph">DYNAMIC_DAD</code> has the privileges of the <code class="codeph">HR</code> account:</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.SET_DAD_ATTRIBUTE('DYNAMIC_DAD', 'database-username', 'HR');
</pre><p>The attribute <code class="codeph">database-username</code> is case-sensitive.
                                    </p>
                                 </div>
                              </li>
                           </ol>
                           <div class="section">
                              <div class="infoboxnotewarn" id="GUID-3F04A23B-9288-4D14-8D32-94B5EE380918__GUID-EE52DE65-2D29-4BCA-BD8A-F0CCB33E140A">
                                 <p class="notep1">WARNING:</p>
                                 <p>Passwords sent through the HTTP Basic Authentication scheme are not encrypted. Configure the embedded gateway to use the HTTPS protocol to protect the passwords sent by the browser clients.</p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="ADFNS1358"></a><div class="props_rev_3"><a id="GUID-E88923E4-CB19-41DB-A14E-B77805CAB70A" name="GUID-E88923E4-CB19-41DB-A14E-B77805CAB70A"></a><h6 id="ADFNS-GUID-E88923E4-CB19-41DB-A14E-B77805CAB70A" class="sect6">Configuring Anonymous Authentication with DBMS_EPG</h6>
                        <div>
                           <div class="section">
                              <p>Anonymous authentication is for the <code class="codeph">mod_plsql</code> user who creates a special DAD database user for database logon, but stores the application procedures and document tables in a different schema and grants access to the procedures and document tables to PUBLIC.
                              </p>
                              <p>To set up anonymous authentication, follow these steps:</p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>Log on to the database as an XML DB administrator, that is, a user with the <code class="codeph">XDBADMIN</code> role assigned.</span></li>
                              <li class="stepexpand"><span>Create the DAD. For example, this procedure creates a DAD invoked <code class="codeph">HR_DAD</code> and maps the virtual path to <code class="codeph">/hrweb/</code>:</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.CREATE_DAD('HR_DAD', '/hrweb/*');
</pre></div>
                              </li>
                              <li class="stepexpand"><span>Set the DAD attribute <code class="codeph">database-username</code> to <code class="codeph">ANONYMOUS</code>. For example:</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.SET_DAD_ATTRIBUTE('HR_DAD', 'database-username', 'ANONYMOUS');
</pre><p>Both <code class="codeph">database-username</code> and <code class="codeph">ANONYMOUS</code> are case-sensitive.
                                    </p>
                                    <p>You need not authorize the embedded gateway to use <code class="codeph">ANONYMOUS</code> privileges to access database objects, because <code class="codeph">ANONYMOUS</code> has no system privileges and owns no database objects.
                                    </p>
                                 </div>
                              </li>
                           </ol>
                        </div>
                     </div><a id="ADFNS1360"></a><a id="ADFNS1359"></a><div class="props_rev_3"><a id="GUID-8C29FB9A-18C7-4C91-92FA-B907E08680BD" name="GUID-8C29FB9A-18C7-4C91-92FA-B907E08680BD"></a><h6 id="ADFNS-GUID-8C29FB9A-18C7-4C91-92FA-B907E08680BD" class="sect6">Determining the Authentication Mode of a DAD</h6>
                        <div>
                           <div class="section">
                              <p>If you know the name of a DAD, then the authentication mode for this DAD depends on these factors:</p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Does the DAD exist?</p>
                                 </li>
                                 <li>
                                    <p>Is the <code class="codeph">database-username</code> attribute for the DAD set?
                                    </p>
                                 </li>
                                 <li>
                                    <p>Is the DAD authorized to use the privilege of the <code class="codeph">database-username</code> user?
                                    </p>
                                 </li>
                                 <li>
                                    <p>Is the <code class="codeph">database-username</code> attribute the one that the user authorized to use the DAD?
                                    </p>
                                 </li>
                              </ul>
                              <p><a href="web-applications.html#GUID-8C29FB9A-18C7-4C91-92FA-B907E08680BD__CHEIJCAD" title="This table shows how the following things determine the authentication mode of a DAD: whether the DAD exists, whether its database-username is set, and whether a particular user is authorized.">Table 17-4</a> shows how the answers to the preceding questions determine the authentication mode.
                              </p>
                              <div class="tblformal" id="GUID-8C29FB9A-18C7-4C91-92FA-B907E08680BD__CHEIJCAD">
                                 <p class="titleintable">Table 17-4 Authentication Possibilities for a DAD</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="Authentication Possibilities for a DAD" summary="This table shows how the following things determine the authentication mode of a DAD: whether the DAD exists, whether its database-username is set, and whether a particular user is authorized." width="100%" frame="hsides" border="1" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="18%" id="d94186e3245">DAD Exists?</th>
                                          <th align="left" valign="bottom" width="31%" id="d94186e3248">database-username set?</th>
                                          <th align="left" valign="bottom" width="24%" id="d94186e3251">User authorized? </th>
                                          <th align="left" valign="bottom" width="28%" id="d94186e3254">Mode</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="18%" id="d94186e3259" headers="d94186e3245 ">
                                             <p>Yes</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d94186e3259 d94186e3248 ">
                                             <p>Yes</p>
                                          </td>
                                          <td align="left" valign="top" width="24%" headers="d94186e3259 d94186e3251 ">
                                             <p>Yes</p>
                                          </td>
                                          <td align="left" valign="top" width="28%" headers="d94186e3259 d94186e3254 ">
                                             <p>Static</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="18%" id="d94186e3272" headers="d94186e3245 ">
                                             <p>Yes</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d94186e3272 d94186e3248 ">
                                             <p>Yes</p>
                                          </td>
                                          <td align="left" valign="top" width="24%" headers="d94186e3272 d94186e3251 ">
                                             <p>No</p>
                                          </td>
                                          <td align="left" valign="top" width="28%" headers="d94186e3272 d94186e3254 ">
                                             <p>Dynamic restricted</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="18%" id="d94186e3285" headers="d94186e3245 ">
                                             <p>Yes</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d94186e3285 d94186e3248 ">
                                             <p>No</p>
                                          </td>
                                          <td align="left" valign="top" width="24%" headers="d94186e3285 d94186e3251 ">
                                             <p>Does not matter</p>
                                          </td>
                                          <td align="left" valign="top" width="28%" headers="d94186e3285 d94186e3254 ">
                                             <p>Dynamic</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="18%" id="d94186e3298" headers="d94186e3245 ">
                                             <p>Yes</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d94186e3298 d94186e3248 ">
                                             <p>Yes (to <code class="codeph">ANONYMOUS</code>)
                                             </p>
                                          </td>
                                          <td align="left" valign="top" width="24%" headers="d94186e3298 d94186e3251 ">
                                             <p>Does not matter</p>
                                          </td>
                                          <td align="left" valign="top" width="28%" headers="d94186e3298 d94186e3254 ">
                                             <p>Anonymous</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="18%" id="d94186e3314" headers="d94186e3245 ">
                                             <p>No</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d94186e3314 d94186e3248 ">
                                             <p></p>
                                          </td>
                                          <td align="left" valign="top" width="24%" headers="d94186e3314 d94186e3251 ">
                                             <p></p>
                                          </td>
                                          <td align="left" valign="top" width="28%" headers="d94186e3314 d94186e3254 ">
                                             <p>N/A</p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                              <p>For example, assume that you create a DAD named <code class="codeph">MY_DAD</code>. If the <code class="codeph">database-username</code> attribute for <code class="codeph">MY_DAD</code> is set to <code class="codeph">HR</code>, but the <code class="codeph">HR</code> user does not authorize <code class="codeph">MY_DAD</code>, then the authentication mode for <code class="codeph">MY_DAD</code> is dynamic and restricted. A browser user who attempts to run a PL/SQL subprogram through <code class="codeph">MY_DAD</code> is prompted to enter the <code class="codeph">HR</code> database username and password.
                              </p>
                              <p>The <code class="codeph">DBA_EPG_DAD_AUTHORIZATION</code> view shows which users have authorized use of a DAD. The <code class="codeph">DAD_NAME</code> column displays the name of the DAD; the <code class="codeph">USERNAME</code> column displays the user whose privileges are assigned to the DAD. The DAD authorized might not exist.
                              </p>
                              <div class="infoboxnotealso" id="GUID-8C29FB9A-18C7-4C91-92FA-B907E08680BD__GUID-D0FCEAD9-C722-48EB-B9E8-0191CF223B0C">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="../refrn/DBA_EPG_DAD_AUTHORIZATION.html#REFRN23709" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">DBA_EPG_DAD_AUTHORIZATION</code> view
                                 </p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="ADFNS1362"></a><a id="ADFNS1363"></a><a id="ADFNS1361"></a><div class="props_rev_3"><a id="GUID-C4588450-4A25-40BF-8257-4D7F4328E886" name="GUID-C4588450-4A25-40BF-8257-4D7F4328E886"></a><h6 id="ADFNS-GUID-C4588450-4A25-40BF-8257-4D7F4328E886" class="sect6">Examples: Creating and Configuring DADs</h6>
                        <div>
                           <div class="section">
                              <p><a href="web-applications.html#GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECAAGH">Example 17-1</a> does this:
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Creates a DAD with static authentication for database user <code class="codeph">HR</code> and assigns it the privileges of the <code class="codeph">HR</code> account, which then authorizes it.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Creates a DAD with dynamic authentication that is not restricted to any user.</p>
                                 </li>
                                 <li>
                                    <p>Creates a DAD with dynamic authentication that is restricted to the <code class="codeph">HR</code> account.
                                    </p>
                                 </li>
                              </ul>
                              <p>The creation and authorization of a DAD are independent; therefore you can:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Authorize a DAD that does not exist (it can be created later)</p>
                                 </li>
                                 <li>
                                    <p>Authorize a DAD for which you are not the user (however, the authorization does not take effect until the DAD <code class="codeph">database-user</code> attribute is changed to your username)
                                    </p>
                                 </li>
                              </ul>
                              <p><a href="web-applications.html#GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECADJE">Example 17-2</a> creates a DAD with static authentication for database user <code class="codeph">HR</code> and assigns it the privileges of the <code class="codeph">HR</code> account. Then:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Instead of authorizing that DAD, the database user <code class="codeph">HR</code> authorizes a nonexistent DAD.
                                    </p>
                                    <p>Although the user might have done this by mistake, no error occurs, because the nonexistent DAD might be created later.</p>
                                 </li>
                                 <li>
                                    <p>The database user <code class="codeph">OE</code> authorizes the DAD (whose <code class="codeph">database-user</code> attribute is set to <code class="codeph">HR</code>.
                                    </p>
                                    <p>No error occurs, but the authorization does not take effect until the DAD <code class="codeph">database-user</code> attribute is changed to <code class="codeph">OE</code>.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECAAGH">
                              <p class="titleinexample">Example 17-1 Creating and Configuring DADs</p><pre class="oac_no_warn" dir="ltr">------------------------------------------------------------------------
--- DAD with static authentication
------------------------------------------------------------------------

CONNECT SYSTEM AS SYSDBA
PASSWORD: <span class="italic">password</span>
EXEC DBMS_EPG.CREATE_DAD('Static_Auth_DAD', '/static/*');
EXEC DBMS_EPG.SET_DAD_ATTRIBUTE('Static_Auth_DAD', 'database-username', 'HR');
GRANT EXECUTE ON DBMS_EPG TO HR;

-- Authorization
CONNECT HR
PASSWORD: <span class="italic">password</span>
EXEC DBMS_EPG.AUTHORIZE_DAD('Static_Auth_DAD');

------------------------------------------------------------------------
-- DAD with dynamic authentication
------------------------------------------------------------------------

CONNECT SYSTEM AS SYSDBA
PASSWORD: <span class="italic">password</span>
EXEC DBMS_EPG.CREATE_DAD('Dynamic_Auth_DAD', '/dynamic/*');

-------------------------------------------------------------------------
-- DAD with dynamic authentication restricted
-------------------------------------------------------------------------

EXEC DBMS_EPG.CREATE_DAD('Dynamic_Auth_DAD_Restricted', '/dynamic/*');
EXEC DBMS_EPG.SET_DAD_ATTRIBUTE
  ('Dynamic_Auth_DAD_Restricted', 'database-username', 'HR');
</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECADJE">
                              <p class="titleinexample">Example 17-2 Authorizing DADs to be Created or Changed Later</p><pre class="oac_no_warn" dir="ltr">REM Create DAD with static authentication for database user HR

CONNECT SYSTEM AS SYSDBA
PASSWORD: <span class="italic">password</span>
EXEC DBMS_EPG.CREATE_DAD('Static_Auth_DAD', '/static/*');
EXEC DBMS_EPG.SET_DAD_ATTRIBUTE('Static_Auth_DAD', 'database-username', 'HR');
GRANT EXECUTE ON DBMS_EPG TO HR;

REM Database user HR authorizes DAD that does not exist

CONNECT HR
PASSWORD: <span class="italic">password</span>
EXEC DBMS_EPG.AUTHORIZE_DAD('Static_Auth_DAD_Typo');

REM Database user OE authorizes DAD with database-username 'HR'

CONNECT OE
PASSWORD: <span class="italic">password</span>
EXEC DBMS_EPG.AUTHORIZE_DAD('Static_Auth_DAD');</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="ADFNS1365"></a><a id="ADFNS1364"></a><div class="props_rev_3"><a id="GUID-AA4722F2-3D97-46BB-94C0-E46BD4F1C5A7" name="GUID-AA4722F2-3D97-46BB-94C0-E46BD4F1C5A7"></a><h6 id="ADFNS-GUID-AA4722F2-3D97-46BB-94C0-E46BD4F1C5A7" class="sect6">Example: Determining the Authentication Mode for a DAD</h6>
                        <div>
                           <div class="section">
                              <p><a href="web-applications.html#GUID-AA4722F2-3D97-46BB-94C0-E46BD4F1C5A7__CHEJFABC">Example 17-3</a> creates a PL/SQL procedure, <code class="codeph">show_dad_auth_status</code>, which accepts the name of a DAD and reports its authentication mode. If the specified DAD does not exist, the procedure exits with an error.
                              </p>
                              <p>Assume that you have run the script in <a href="web-applications.html#GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECAAGH">Example 17-1</a> to create and configure various DADs. The output is:
                              </p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON;
BEGIN
  show_dad_auth_status('Static_Auth_DAD');
END;
/
'Static_Auth_DAD' is set up for static authentication for user 'HR'.</pre></div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-AA4722F2-3D97-46BB-94C0-E46BD4F1C5A7__CHEJFABC">
                              <p class="titleinexample">Example 17-3 Determining the Authentication Mode for a DAD</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE show_dad_auth_status (p_dadname VARCHAR2) IS
  v_daduser VARCHAR2(128);
  v_cnt     PLS_INTEGER;
BEGIN
  -- Determine DAD user
  v_daduser := DBMS_EPG.GET_DAD_ATTRIBUTE(p_dadname, 'database-username');

  -- Determine whether DAD authorization exists for DAD user
  SELECT COUNT(*)
    INTO v_cnt
      FROM DBA_EPG_DAD_AUTHORIZATION da
        WHERE da.DAD_NAME = p_dadname
          AND da.USERNAME = v_daduser;

  -- If DAD authorization exists for DAD user, authentication mode is static
  IF (v_cnt &gt; 0) THEN
    DBMS_OUTPUT.PUT_LINE (
      '''' || p_dadname ||
      ''' is set up for static authentication for user ''' ||
      v_daduser || '''.');
    RETURN;
  END IF;

  -- If no DAD authorization exists for DAD user, authentication mode is dynamic

  -- Determine whether dynamic authentication is restricted to particular user
  IF (v_daduser IS NOT NULL) THEN
    DBMS_OUTPUT.PUT_LINE (
      '''' || p_dadname ||
      ''' is set up for dynamic authentication for user ''' ||
      v_daduser || ''' only.');
  ELSE
    DBMS_OUTPUT.PUT_LINE (
      '''' || p_dadname ||
      ''' is set up for dynamic authentication for any user.');
  END IF;
END;
/
</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="ADFNS1367"></a><a id="ADFNS1366"></a><div class="props_rev_3"><a id="GUID-55B3F04F-7DED-43E9-9DE4-2A71564C7501" name="GUID-55B3F04F-7DED-43E9-9DE4-2A71564C7501"></a><h6 id="ADFNS-GUID-55B3F04F-7DED-43E9-9DE4-2A71564C7501" class="sect6">Example: Determining the Authentication Mode for All DADs</h6>
                        <div>
                           <div class="section">
                              <p>The anonymous block in <a href="web-applications.html#GUID-55B3F04F-7DED-43E9-9DE4-2A71564C7501__CHEJHDGI">Example 17-4</a> reports the authentication modes of all registered DADs. It invokes the <code class="codeph">show_dad_auth_status</code> procedure from <a href="web-applications.html#GUID-AA4722F2-3D97-46BB-94C0-E46BD4F1C5A7__CHEJFABC">Example 17-3</a>.
                              </p>
                              <p>If you have run the script in <a href="web-applications.html#GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECAAGH">Example 17-1</a> to create and configure various DADs, the output of <a href="web-applications.html#GUID-55B3F04F-7DED-43E9-9DE4-2A71564C7501__CHEJHDGI">Example 17-4</a> is:
                              </p><pre class="oac_no_warn" dir="ltr">---------- Authorization Status for All DADs ----------
'Static_Auth_DAD' is set up for static auth for user 'HR'.
'Dynamic_Auth_DAD' is set up for dynamic auth for any user.
'Dynamic_Auth_DAD_Restricted' is set up for dynamic auth for user 'HR' only.</pre></div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-55B3F04F-7DED-43E9-9DE4-2A71564C7501__CHEJHDGI">
                              <p class="titleinexample">Example 17-4 Showing the Authentication Mode for All DADs</p><pre class="oac_no_warn" dir="ltr">DECLARE
  v_dad_names DBMS_EPG.VARCHAR2_TABLE;
BEGIN
  DBMS_OUTPUT.PUT_LINE
    ('---------- Authorization Status for All DADs ----------');
  DBMS_EPG.GET_DAD_LIST(v_dad_names);

  FOR i IN 1..v_dad_names.count LOOP
    show_dad_auth_status(v_dad_names(i));
  END LOOP;
END;
/
</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="ADFNS1369"></a><a id="ADFNS1368"></a><div class="props_rev_3"><a id="GUID-2EF569EA-D4BB-4331-8382-2B60E8318C0E" name="GUID-2EF569EA-D4BB-4331-8382-2B60E8318C0E"></a><h6 id="ADFNS-GUID-2EF569EA-D4BB-4331-8382-2B60E8318C0E" class="sect6">Example: Showing DAD Authorizations that Are Not in Effect</h6>
                        <div>
                           <div class="section">
                              <p>The anonymous block in <a href="web-applications.html#GUID-2EF569EA-D4BB-4331-8382-2B60E8318C0E__CHEJJIFD">Example 17-5</a> reports DAD authorizations that are <span class="italic">not</span> in effect. A DAD authorization is not in effect in either of these situations:
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The user who authorizes the DAD is not the user specified by the <code class="codeph">database-username</code> attribute of the DAD
                                    </p>
                                 </li>
                                 <li>
                                    <p>The user authorizes a DAD that does not exist</p>
                                 </li>
                              </ul>
                              <p>If you have run the script in <a href="web-applications.html#GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECADJE">Example 17-2</a> to create and configure various DADs, the output of <a href="web-applications.html#GUID-2EF569EA-D4BB-4331-8382-2B60E8318C0E__CHEJJIFD">Example 17-5</a> (reformatted to fit on the page) is:
                              </p><pre class="oac_no_warn" dir="ltr">---------- DAD Authorizations Not in Effect ----------
DAD authorization of 'Static_Auth_DAD' by user 'OE' is not in effect
  because DAD user is 'HR'.
DAD authorization of 'Static_Auth_DAD_Typo' by user 'HR' is not in effect
  because DAD does not exist.</pre></div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-2EF569EA-D4BB-4331-8382-2B60E8318C0E__CHEJJIFD">
                              <p class="titleinexample">Example 17-5 Showing DAD Authorizations that Are Not in Effect</p><pre class="oac_no_warn" dir="ltr">DECLARE
  v_dad_names DBMS_EPG.VARCHAR2_TABLE;
  v_dad_user  VARCHAR2(128);
  v_dad_found BOOLEAN;
BEGIN 
  DBMS_OUTPUT.PUT_LINE
    ('---------- DAD Authorizations Not in Effect ----------');
  DBMS_EPG.GET_DAD_LIST(v_dad_names);

  FOR r IN (SELECT * FROM DBA_EPG_DAD_AUTHORIZATION) LOOP  -- Outer loop
    v_dad_found := FALSE;
    FOR i IN 1..v_dad_names.count LOOP  -- Inner loop
      IF (r.DAD_NAME = v_dad_names(i)) THEN
        v_dad_user :=
          DBMS_EPG.GET_DAD_ATTRIBUTE(r.DAD_NAME, 'database-username');

        -- Is database-username the user for whom DAD is authorized?
        IF (r.USERNAME &lt;&gt; v_dad_user) THEN
          DBMS_OUTPUT.PUT_LINE (
            'DAD authorization of ''' || r.dad_name ||
            ''' by user ''' || r.username || '''' ||
            ' is not in effect because DAD user is ' ||
            '''' || v_dad_user || '''.');
        END IF;
        v_dad_found := TRUE;
        EXIT;  -- Inner loop
      END IF;
    END LOOP;  -- Inner loop

    -- Does DAD exist?
    IF (NOT v_dad_found) THEN
      DBMS_OUTPUT.PUT_LINE (
       'DAD authorization of ''' || r.dad_name ||
       ''' by user ''' || r.username ||
       ''' is not in effect because the DAD does not exist.');
    END IF;
  END LOOP;  -- Outer loop
END;
/
</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="ADFNS1371"></a><a id="ADFNS1370"></a><div class="props_rev_3"><a id="GUID-AF235182-62C6-4626-B074-861EBB14F82D" name="GUID-AF235182-62C6-4626-B074-861EBB14F82D"></a><h6 id="ADFNS-GUID-AF235182-62C6-4626-B074-861EBB14F82D" class="sect6">Examining Embedded PL/SQL Gateway Configuration</h6>
                        <div>
                           <div class="section">
                              <p>When you are connected to the database as a user with system privileges, this script helps you examine the configuration of the embedded PL/SQL gateway:</p><pre class="oac_no_warn" dir="ltr">$ORACLE_HOME/rdbms/admin/epgstat.sql
</pre><p><a href="web-applications.html#GUID-AF235182-62C6-4626-B074-861EBB14F82D__CHDCAICF">Example 17-6</a> shows the output of the <code class="codeph">epgstat</code>.<code class="codeph">sql</code> script for <a href="web-applications.html#GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECAAGH">Example 17-1</a> when the <code class="codeph">ANONYMOUS</code> account is locked.
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-AF235182-62C6-4626-B074-861EBB14F82D__CHDCAICF">
                              <p class="titleinexample">Example 17-6 epgstat.sql Script Output for <span><a href="web-applications.html#GUID-C4588450-4A25-40BF-8257-4D7F4328E886__CHECAAGH">Example 17-1</a></span></p>
                              <p>Command to run script:</p><pre class="oac_no_warn" dir="ltr">@$ORACLE_HOME/rdbms/admin/epgstat.sql
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">+--------------------------------------+
| XDB protocol ports:                  |
|  XDB is listening for the protocol   |
|  when the protocol port is nonzero.  |
+--------------------------------------+

HTTP Port FTP Port
--------- --------
        0        0

1 row selected.

+---------------------------+
| DAD virtual-path mappings |
+---------------------------+

Virtual Path                     DAD Name
-------------------------------- --------------------------------
/dynamic/*                       Dynamic_Auth_DAD_Restricted
/static/*                        Static_Auth_DAD

2 rows selected.

+----------------+
| DAD attributes |
+----------------+

DAD Name        DAD Param             DAD Value
------------    --------------------- ----------------------------------------
Dynamic_Auth    database-username     HR
_DAD_Restric
ted

Static_Auth_    database-username     HR
DAD


2 rows selected.

+---------------------------------------------------+
| DAD authorization:                                |
|  To use static authentication of a user in a DAD, |
|  the DAD must be authorized for the user.         |
+---------------------------------------------------+

DAD Name                         User Name
-------------------------------- --------------------------------
Static_Auth_DAD                  HR
                                 OE
Static_Auth_DAD_Typo             HR

3 rows selected.

+----------------------------+
| DAD authentication schemes |
+----------------------------+

DAD Name             User Name                        Auth Scheme
-------------------- -------------------------------- ------------------
Dynamic_Auth_DAD                                      Dynamic
Dynamic_Auth_DAD_Res HR                               Dynamic Restricted
tricted

Static_Auth_DAD      HR                               Static

3 rows selected.

+--------------------------------------------------------+
| ANONYMOUS user status:                                 |
|  To use static or anonymous authentication in any DAD, |
|  the ANONYMOUS account must be unlocked.               |
+--------------------------------------------------------+

Database User   Status
--------------- --------------------
ANONYMOUS       EXPIRED &amp; LOCKED

1 row selected.

+-------------------------------------------------------------------+
| ANONYMOUS access to XDB repository:                               |
|  To allow public access to XDB repository without authentication, |
|  ANONYMOUS access to the repository must be allowed.              |
+-------------------------------------------------------------------+

Allow repository anonymous access?
----------------------------------
false

1 row selected.</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div>
                  </div>
               </div><a id="ADFNS488"></a><div class="props_rev_3"><a id="GUID-9D99F1FF-50F1-461B-AE1E-D3B8651A4B89" name="GUID-9D99F1FF-50F1-461B-AE1E-D3B8651A4B89"></a><h4 id="ADFNS-GUID-9D99F1FF-50F1-461B-AE1E-D3B8651A4B89" class="sect4">Invoking PL/SQL Stored Subprograms Through Embedded PL/SQL Gateway</h4>
                  <div>
                     <div class="section">
                        <p>The basic steps for invoking PL/SQL subprograms through the embedded PL/SQL gateway are the same as for the <code class="codeph">mod_plsql</code> gateway. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=YPMOD002" target="_blank"><span class="italic">Oracle HTTP Server mod_plsql User's Guide</span></a> for instructions. You must adapt the <code class="codeph">mod_plsql</code> instructions slightly for use with the embedded gateway. For example, invoke the embedded gateway in a browser by entering the URL in this format:
                        </p><pre class="oac_no_warn" dir="ltr">protocol://hostname[:port]/virt-path/[[!][schema.][package.]proc_name[?query_str]]
</pre><p>The placeholder <code class="codeph">virt-path</code> stands for the virtual path that you configured in <code class="codeph">DBMS_EPG</code>.<code class="codeph">CREATE_DAD</code>. The <code class="codeph">mod_plsql</code> documentation uses <code class="codeph">DAD_location</code> instead of <code class="codeph">virt-path</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-9D99F1FF-50F1-461B-AE1E-D3B8651A4B89__ORACLEHTTPSERVERMOD_PLSQLUSERSGUIDE-CACB1CD8">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=YPMOD002" target="_blank"><span class="italic">Oracle HTTP Server mod_plsql User's Guide</span></a> for the following topics:
                                 </p>
                                 <div class="p">
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>Transaction mode</p>
                                       </li>
                                       <li>
                                          <p>Supported data types</p>
                                       </li>
                                       <li>
                                          <p>Parameter-passing scheme</p>
                                       </li>
                                       <li>
                                          <p>File upload and download support</p>
                                       </li>
                                       <li>
                                          <p>Path-aliasing</p>
                                       </li>
                                       <li>
                                          <p>Common Gateway Interface (CGI) environment variables</p>
                                       </li>
                                    </ul>
                                 </div>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1372"></a><div class="props_rev_3"><a id="GUID-E78044D2-7E71-43C5-9B8F-316410DF0F9F" name="GUID-E78044D2-7E71-43C5-9B8F-316410DF0F9F"></a><h4 id="ADFNS-GUID-E78044D2-7E71-43C5-9B8F-316410DF0F9F" class="sect4">Securing Application Access with Embedded PL/SQL Gateway</h4>
                  <div>
                     <div class="section">
                        <p>The embedded gateway shares the same protection mechanism with <code class="codeph">mod_plsql</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-E78044D2-7E71-43C5-9B8F-316410DF0F9F__NOTE-1212-CACB8508">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=YPMOD003" target="_blank"><span class="italic">Oracle HTTP Server mod_plsql User's Guide</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS490"></a><div class="props_rev_3"><a id="GUID-B6DE9CEE-E625-4AAE-9A0F-99C94439C1E0" name="GUID-B6DE9CEE-E625-4AAE-9A0F-99C94439C1E0"></a><h4 id="ADFNS-GUID-B6DE9CEE-E625-4AAE-9A0F-99C94439C1E0" class="sect4">Restrictions in Embedded PL/SQL Gateway</h4>
                  <div>
                     <p>The <code class="codeph">mod_plsql</code> restrictions apply equally to the embedded gateway. Also, the embedded version of the gateway does not support these features:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Dynamic HTML caching</p>
                        </li>
                        <li>
                           <p>System monitoring</p>
                        </li>
                        <li>
                           <p>Authentication modes other than Basic</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-B6DE9CEE-E625-4AAE-9A0F-99C94439C1E0__NOTE-123-CACC2019">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=YPMOD414" target="_blank"><span class="italic">Oracle HTTP Server mod_plsql User's Guide</span></a> for more information about restrictions
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=YPMOD331" target="_blank"><span class="italic">Oracle HTTP Server mod_plsql User's Guide</span></a> for information about authentication modes
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS1373"></a><div class="props_rev_3"><a id="GUID-83C5C5CB-9CBD-4BFD-B985-F6F938261468" name="GUID-83C5C5CB-9CBD-4BFD-B985-F6F938261468"></a><h4 id="ADFNS-GUID-83C5C5CB-9CBD-4BFD-B985-F6F938261468" class="sect4">Using Embedded PL/SQL Gateway: Scenario</h4>
                  <div>
                     <div class="section">
                        <p>This section illustrates how to write a simple application that queries the <code class="codeph">hr</code>.<code class="codeph">employees</code> table and delivers HTML output to a web browser through the PL/SQL gateway. It assumes that you have both XML DB and the sample schemas installed. 
                        </p>
                        <p>To write and run the program follow these steps:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log on to the database as a user with <code class="codeph">ALTER</code> <code class="codeph">USER</code> privileges and ensure that the database account <code class="codeph">ANONYMOUS</code> is unlocked. The <code class="codeph">ANONYMOUS</code> account, which is locked by default, is required for static authentication. If the account is locked, then use this SQL statement to unlock it:</span><div><pre class="oac_no_warn" dir="ltr">ALTER USER anonymous ACCOUNT UNLOCK;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Log on to the database as an XML DB administrator, that is, a user with the <code class="codeph">XDBADMIN</code> role.</span><div>
                              <p>To determine which users and roles were granted the <code class="codeph">XDADMIN</code> role, query the data dictionary:
                              </p><pre class="oac_no_warn" dir="ltr">SELECT *
FROM DBA_ROLE_PRIVS
WHERE GRANTED_ROLE = 'XDBADMIN';
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Create the DAD. For example, this procedure creates a DAD invoked <code class="codeph">HR_DAD</code> and maps the virtual path to <code class="codeph">/plsql/</code>:</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.CREATE_DAD('HR_DAD', '/plsql/*');
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Set the DAD attribute <code class="codeph">database-username</code> to the database user whose privileges must be used by the DAD. For example, this procedure specifies that the DAD <code class="codeph">HR_DAD</code> accesses database objects with the privileges of user <code class="codeph">HR</code>:</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.SET_DAD_ATTRIBUTE('HR_DAD', 'database-username', 'HR');
</pre><p>The attribute <code class="codeph">database-username</code> is case-sensitive.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Grant <code class="codeph">EXECUTE</code> privilege to the database user whose privileges must be used by the DAD (so that he or she can authorize the DAD). For example:</span><div><pre class="oac_no_warn" dir="ltr">GRANT EXECUTE ON DBMS_EPG TO HR;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Log off as the XML DB administrator and log on to the database as the database user whose privileges must be used by the DAD (for example, <code class="codeph">HR</code>).</span></li>
                        <li class="stepexpand"><span>Authorize the embedded PL/SQL gateway to invoke procedures and access document tables through the DAD. For example:</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_EPG.AUTHORIZE_DAD('HR_DAD');
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Create a sample PL/SQL stored procedure invoked <code class="codeph">print_employees</code>. This program creates an HTML page that includes the result set of a query of <code class="codeph">hr</code>.<code class="codeph">employees</code>:</span><div><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE print_employees IS
  CURSOR emp_cursor IS
    SELECT last_name, first_name
      FROM hr.employees
        ORDER BY last_name;
BEGIN
  HTP.PRINT('&lt;html&gt;');
  HTP.PRINT('&lt;head&gt;');
  HTP.PRINT('&lt;meta http-equiv="Content-Type" content="text/html"&gt;');
  HTP.PRINT('&lt;title&gt;List of Employees&lt;/title&gt;');
  HTP.PRINT('&lt;/head&gt;'); 
  HTP.PRINT('&lt;body TEXT="#000000" BGCOLOR="#FFFFFF"&gt;');
  HTP.PRINT('&lt;h1&gt;List of Employees&lt;/h1&gt;');
  HTP.PRINT('&lt;table width="40%" border="1"&gt;');
  HTP.PRINT('&lt;tr&gt;');
  HTP.PRINT('&lt;th align="left"&gt;Last Name&lt;/th&gt;');
  HTP.PRINT('&lt;th align="left"&gt;First Name&lt;/th&gt;');
  HTP.PRINT('&lt;/tr&gt;');
  FOR emp_record IN emp_cursor LOOP
    HTP.PRINT('&lt;tr&gt;');
    HTP.PRINT('&lt;td&gt;' || emp_record.last_name  || '&lt;/td&gt;');
    HTP.PRINT('&lt;td&gt;' || emp_record.first_name || '&lt;/td&gt;');
  END LOOP;
  HTP.PRINT('&lt;/table&gt;');
  HTP.PRINT('&lt;/body&gt;');
  HTP.PRINT('&lt;/html&gt;');
END;
/
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Ensure that the Oracle Net listener can accept HTTP requests. You can determine the status of the listener on Linux and UNIX by running this command at the system prompt:</span><div><pre class="oac_no_warn" dir="ltr">lsnrctl status | grep HTTP
</pre><p>Output (reformatted from a single line to multiple lines from page size constraints):</p><pre class="oac_no_warn" dir="ltr">(DESCRIPTION=
  (ADDRESS=(PROTOCOL=tcp)(HOST=example.com)(PORT=8080))
  (Presentation=HTTP)
  (Session=RAW)
)
</pre><p>If you do not see the HTTP service started, then you can add these lines to your initialization parameter file (replacing <span class="italic"><code class="codeph">listener_name</code></span> with the name of your Oracle Net local listener), then restart the database and the listener:
                              </p><pre class="oac_no_warn" dir="ltr">dispatchers="(PROTOCOL=TCP)"
local_listener=<span class="italic">listener_name</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">print_employees</code> program from your web browser. For example, you can use this URL, replacing <span class="italic"><code class="codeph">host</code></span> with the name of your host computer and <span class="italic"><code class="codeph">port</code></span> with the value of the <code class="codeph">PORT</code> parameter in the previous step:</span><div><pre class="oac_no_warn" dir="ltr">http://<span class="italic">host</span>:<span class="italic">port</span>/plsql/print_employees
</pre><p>For example, if your host is <code class="codeph">test</code>.<code class="codeph">com</code> and your HTTP port is <code class="codeph">8080</code>, then enter:
                              </p><pre class="oac_no_warn" dir="ltr">http://example.com:8080/plsql/print_employees
</pre><p>The web browser returns an HTML page with a table that includes the first and last name of every employee in the <code class="codeph">hr</code>.<code class="codeph">employees</code> table.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="ADFNS1375"></a><a id="ADFNS1376"></a><a id="ADFNS1374"></a><div class="props_rev_3"><a id="GUID-EE7C707C-990F-4CA4-8730-5C58A5C73491" name="GUID-EE7C707C-990F-4CA4-8730-5C58A5C73491"></a><h3 id="ADFNS-GUID-EE7C707C-990F-4CA4-8730-5C58A5C73491" class="sect3">Generating HTML Output with PL/SQL</h3>
               <div>
                  <div class="section">
                     <p>Traditionally, PL/SQL web applications use function calls to generate each HTML tag for output. These functions are part of the PL/SQL Web Toolkit packages that come with Oracle Database. <a href="web-applications.html#GUID-EE7C707C-990F-4CA4-8730-5C58A5C73491__BGBHBBGJ">Example 17-7</a> shows how to generate a simple HTML page by calling the <code class="codeph">HTP</code> functions that correspond to each HTML tag.
                     </p>
                     <p>An alternative to making function calls that correspond to each tag is to use the <code class="codeph">HTP</code>.<code class="codeph">PRINT</code> function to print both text and tags. <a href="web-applications.html#GUID-EE7C707C-990F-4CA4-8730-5C58A5C73491__BGBBHAEC">Example 17-8</a> illustrates this technique.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-EE7C707C-990F-4CA4-8730-5C58A5C73491__BGBHBBGJ">
                     <p class="titleinexample">Example 17-7 Using HTP Functions to Generate HTML Tags</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE html_page IS
BEGIN
  HTP.HTMLOPEN;                            -- generates &lt;HTML&gt;
  HTP.HEADOPEN;                            -- generates &lt;HEAD&gt;
  HTP.TITLE('Title');                      -- generates &lt;TITLE&gt;Hello&lt;/TITLE&gt;
  HTP.HEADCLOSE;                           -- generates &lt;/HTML&gt; 

  -- generates &lt;BODY TEXT="#000000" BGCOLOR="#FFFFFF"&gt;
  HTP.BODYOPEN( cattributes =&gt; 'TEXT="#000000" BGCOLOR="#FFFFFF"');

  -- generates &lt;H1&gt;Heading in the HTML File&lt;/H1&gt;
  HTP.HEADER(1, 'Heading in the HTML File');

  HTP.PARA;                                 -- generates &lt;P&gt;        
  HTP.PRINT('Some text in the HTML file.'); 
  HTP.BODYCLOSE;                            -- generates &lt;/BODY&gt;
  HTP.HTMLCLOSE;                            -- generates &lt;/HTML&gt;
END;
/
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-EE7C707C-990F-4CA4-8730-5C58A5C73491__BGBBHAEC">
                     <p class="titleinexample">Example 17-8 Using HTP.PRINT to Generate HTML Tags</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE html_page2 IS
BEGIN
  HTP.PRINT('&lt;html&gt;');
  HTP.PRINT('&lt;head&gt;');
  HTP.PRINT('&lt;meta http-equiv="Content-Type" content="text/html"&gt;');
  HTP.PRINT('&lt;title&gt;Title of the HTML File&lt;/title&gt;');
  HTP.PRINT('&lt;/head&gt;');
  HTP.PRINT('&lt;body TEXT="#000000" BGCOLOR="#FFFFFF"&gt;');
  HTP.PRINT('&lt;h1&gt;Heading in the HTML File&lt;/h1&gt;');
  HTP.PRINT('&lt;p&gt;Some text in the HTML file.');
  HTP.PRINT('&lt;/body&gt;');
  HTP.PRINT('&lt;/html&gt;');
END;
/
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADFNS1054"></a><a id="ADFNS1009"></a><div class="props_rev_3"><a id="GUID-F6915819-087D-4AB6-A922-A1DD81ECB17D" name="GUID-F6915819-087D-4AB6-A922-A1DD81ECB17D"></a><h3 id="ADFNS-GUID-F6915819-087D-4AB6-A922-A1DD81ECB17D" class="sect3">Passing Parameters to PL/SQL Web Applications</h3>
               <div>
                  <div class="section">
                     <p>To be useful in a wide variety of situations, a web application must be interactive enough to allow user choices. To keep the attention of impatient web surfers, streamline the interaction so that users can specify these choices very simply, without excessive decision-making or data entry.</p>
                     <p>The main methods of passing parameters to PL/SQL web applications are:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Using HTML form tags. The user fills in a form on one web page, and all the data and choices are transmitted to a stored subprogram when the user clicks the <code class="codeph">Submit</code> button on the page.
                           </p>
                        </li>
                        <li>
                           <p>Hard-coded in the URL. The user clicks on a link, and a set of predefined parameters are transmitted to a stored subprogram. Typically, you include separate links on your web page for all the choices that the user might want.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F6915819-087D-4AB6-A922-A1DD81ECB17D__GUID-1C197120-1B4C-4B6F-BA8F-0019403FCB78">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="web-applications.html#GUID-D54EA12B-7A8B-4985-8844-6309E41D4785">Passing List and Dropdown-List Parameters from an HTML Form</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-67D5FC90-43FD-416D-8F34-7318AFFD7007">Passing Option and Check Box Parameters from an HTML Form</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-F742504E-1819-4A96-A527-42428A8FB29F">Passing Entry-Field Parameters from an HTML Form</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-68D0B010-90E2-414B-9087-2AAB6C8845F6">Passing Hidden Parameters from an HTML Form</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-7C4C449D-ECAB-4F07-80A5-63F147DD757E">Uploading a File from an HTML Form</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-F5F6B082-9508-4719-BFB3-5FA7CB0C5ABD">Submitting a Completed HTML Form</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-BE92BEE1-8B47-4E11-A089-0879CF7FB66F">Handling Missing Input from an HTML Form</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-2694C30F-D315-4C9A-A2FC-3059D4ACC9C4">Maintaining State Information Between Web Pages</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS1378"></a><a id="ADFNS1377"></a><div class="props_rev_3"><a id="GUID-D54EA12B-7A8B-4985-8844-6309E41D4785" name="GUID-D54EA12B-7A8B-4985-8844-6309E41D4785"></a><h4 id="ADFNS-GUID-D54EA12B-7A8B-4985-8844-6309E41D4785" class="sect4">Passing List and Dropdown-List Parameters from an HTML Form</h4>
                  <div>
                     <div class="section">
                        <p>List boxes and drop-down lists are implemented with the HTML tag <code class="codeph">&lt;SELECT&gt;</code>.
                        </p>
                        <p>Use a list box for a large number of choices or to allow multiple selections. List boxes are good for showing items in alphabetical order so that users can find an item quickly without reading all the choices. </p>
                        <p>Use a drop-down list in these situations:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>There are a small number of choices</p>
                           </li>
                           <li>
                              <p>Screen space is limited.</p>
                           </li>
                           <li>
                              <p>Choices are in an unusual order.</p>
                           </li>
                        </ul>
                        <p>The drop-down captures the attention of first-time users and makes them read the items. If you keep the choices and order consistent, then users can memorize the motion of selecting an item from the drop-down list, allowing them to make selections quickly as they gain experience. </p>
                        <p><a href="web-applications.html#GUID-D54EA12B-7A8B-4985-8844-6309E41D4785__CHEJCAGD">Example 17-9</a> shows a simple drop-down list.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D54EA12B-7A8B-4985-8844-6309E41D4785__CHEJCAGD">
                        <p class="titleinexample">Example 17-9 HTML Drop-Down List</p><pre class="oac_no_warn" dir="ltr">&lt;form&gt;
&lt;select name="seasons"&gt;
&lt;option value="winter"&gt;Winter
&lt;option value="spring"&gt;Spring
&lt;option value="summer"&gt;Summer
&lt;option value="fall"&gt;Fall
&lt;/select&gt;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADFNS1379"></a><div class="props_rev_3"><a id="GUID-67D5FC90-43FD-416D-8F34-7318AFFD7007" name="GUID-67D5FC90-43FD-416D-8F34-7318AFFD7007"></a><h4 id="ADFNS-GUID-67D5FC90-43FD-416D-8F34-7318AFFD7007" class="sect4">Passing Option and Check Box Parameters from an HTML Form</h4>
                  <div>
                     <div class="section">
                        <p>Options pass either a null value (if none of the options in a group is checked), or the value specified on the option that is checked.</p>
                        <p>To specify a default value for a set of options, you can include the <code class="codeph">CHECKED</code> attribute in an<code class="codeph">INPUT</code> tag, or include a <code class="codeph">DEFAULT</code> clause on the parameter within the stored subprogram. When setting up a group of options, be sure to include a choice that indicates "no preference", because after selecting a option, the user can select a different one, but cannot clear the selection completely. For example, include a "Don't Care" or "Don't Know" selection along with "Yes" and "No" choices, in case someone makes a selection and then realizes it was wrong.
                        </p>
                        <p>Check boxes need special handling, because your stored subprogram might receive a null value, a single value, or multiple values:</p>
                        <p>All the check boxes with the same <code class="codeph">NAME</code> attribute comprise a check box group. If none of the check boxes in a group is checked, the stored subprogram receives a null value for the corresponding parameter.
                        </p>
                        <p>If one check box in a group is checked, the stored subprogram receives a single <code class="codeph">VARCHAR2</code> parameter.
                        </p>
                        <p>If multiple check boxes in a group are checked, the stored subprogram receives a parameter with the PL/SQL type <code class="codeph">TABLE</code> <code class="codeph">OF</code> <code class="codeph">VARCHAR2</code>. You must declare a type like <code class="codeph">TABLE</code> <code class="codeph">OF</code> <code class="codeph">VARCHAR2</code>, or use a predefined one like <code class="codeph">OWA_UTIL</code>.<code class="codeph">IDENT_ARR</code>. To retrieve the values, use a loop:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE handle_checkboxes (
  checkboxes owa_util.ident_arr
) AS
BEGIN
  FOR i IN 1..checkboxes.count
  LOOP
    htp.print('&lt;p&gt;Check Box value: ' || checkboxes(i));
  END LOOP;
END;
/</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1381"></a><a id="ADFNS1380"></a><div class="props_rev_3"><a id="GUID-F742504E-1819-4A96-A527-42428A8FB29F" name="GUID-F742504E-1819-4A96-A527-42428A8FB29F"></a><h4 id="ADFNS-GUID-F742504E-1819-4A96-A527-42428A8FB29F" class="sect4">Passing Entry-Field Parameters from an HTML Form</h4>
                  <div>
                     <div class="section">
                        <p>Entry fields require the most validation, because a user might enter data in the wrong format, out of range, and so on. If possible, validate the data on the client side using a client-side JavaScript function, and format it correctly for the user or prompt them to enter it again.</p>
                        <p>For example:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You might prevent the user from entering alphabetic characters in a numeric entry field, or from entering characters after reaching a length limit.</p>
                           </li>
                           <li>
                              <p>You might silently remove spaces and dashes from a credit card number if the stored subprogram expects the value in that format.</p>
                           </li>
                           <li>
                              <p>You might inform the user immediately when they type a number that is too large, so that they can retype it.</p>
                           </li>
                        </ul>
                        <p>Because you cannot rely on such validation to succeed, code the stored subprograms to deal with these cases anyway. Rather than forcing the user to use the <code class="codeph">Back</code> button when they enter wrong data, display a single page with an error message and the original form with all the other values filled in.
                        </p>
                        <p>For sensitive information such as passwords, a special form of the entry field, <code class="codeph">&lt;INPUT TYPE=PASSWORD&gt;</code>, hides the text as it is typed in.
                        </p>
                        <p>The procedure in <a href="web-applications.html#GUID-F742504E-1819-4A96-A527-42428A8FB29F__CHEEHHJA">Example 17-10</a> accepts two strings as input. The first time the procedure is invoked, the user sees a simple form prompting for the input values. When the user submits the information, the same procedure is invoked again to check if the input is correct. If the input is OK, the procedure processes it. If not, the procedure prompts for input, filling in the original values for the user.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-F742504E-1819-4A96-A527-42428A8FB29F__CHEEHHJA">
                        <p class="titleinexample">Example 17-10 Passing Entry-Field Parameters from an HTML Form</p><pre class="oac_no_warn" dir="ltr">DROP TABLE name_zip_table;
CREATE TABLE name_zip_table (
  name     VARCHAR2(100),
  zipcode  NUMBER
);

-- Store a name and associated zip code in the database.

CREATE OR REPLACE PROCEDURE associate_name_with_zipcode
  (name VARCHAR2 := NULL,
   zip  VARCHAR2 := NULL)
AS
BEGIN
  -- Each entry field must contain a value. Zip code must be 6 characters.
  -- (In a real program you perform more extensive checking.)

  IF name IS NOT NULL AND zip IS NOT NULL AND length(zip) = 6 THEN
    INSERT INTO name_zip_table (name, zipcode) VALUES (name, zip);

    HTP.PRINT('&lt;p&gt;The person ' || HTP.ESCAPE_SC(name) ||
              ' has the zip code ' || HTP.ESCAPE_SC(zip) || '.');

    -- If input was OK, stop here. User does not see form again.
    RETURN;
  END IF;

  -- If user entered incomplete or incorrect data, show error message.

  IF (name IS NULL AND zip IS NOT NULL)
    OR (name IS NOT NULL AND zip IS NULL)
      OR (zip IS NOT NULL AND length(zip) != 6)
  THEN
    HTP.PRINT('&lt;p&gt;&lt;b&gt;Please reenter data. Fill all fields,
               and use 6-digit zip code.&lt;/b&gt;');
  END IF;

  -- If user entered no data or incorrect data, show error message
  -- &amp; make form invoke same procedure to check input values.

  HTP.FORMOPEN('HR.associate_name_with_zipcode', 'GET');
  HTP.PRINT('&lt;p&gt;Enter your name:&lt;/td&gt;');

  HTP.PRINT('&lt;td valign=center&gt;&lt;input type=text name=name value="' ||
            HTP.ESCAPE_SC(name) || '"&gt;');

  HTP.PRINT('&lt;p&gt;Enter your zip code:&lt;/td&gt;');

  HTP.PRINT('&lt;td valign=center&gt;&lt;input type=text name=zip value="' ||
            HTP.ESCAPE_SC(zip) || '"&gt;');

  HTP.FORMSUBMIT(NULL, 'Submit');
  HTP.FORMCLOSE;
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADFNS1382"></a><div class="props_rev_3"><a id="GUID-68D0B010-90E2-414B-9087-2AAB6C8845F6" name="GUID-68D0B010-90E2-414B-9087-2AAB6C8845F6"></a><h4 id="ADFNS-GUID-68D0B010-90E2-414B-9087-2AAB6C8845F6" class="sect4">Passing Hidden Parameters from an HTML Form</h4>
                  <div>
                     <div class="section">
                        <p>One technique for passing information through a sequence of stored subprograms, without requiring the user to specify the same choices each time, is to include hidden parameters in the form that invokes a stored subprogram. The first stored subprogram places information, such as a user name, into the HTML form that it generates. The value of the hidden parameter is passed to the next stored subprogram, as if the user had entered it through a option or entry field.</p>
                        <p>Other techniques for passing information from one stored subprogram to another include:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Sending a "cookie" containing the persistent information to the browser. The browser then sends this same information back to the server when accessing other web pages from the same site. Cookies are set and retrieved through the HTTP headers that are transferred between the browser and the web server before the HTML text of each web page.</p>
                           </li>
                           <li>
                              <p>Storing the information in the database itself, where later stored subprograms can retrieve it. This technique involves some extra overhead on the database server, and you must still find a way to keep track of each user as multiple users access the server at the same time.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1383"></a><div class="props_rev_3"><a id="GUID-7C4C449D-ECAB-4F07-80A5-63F147DD757E" name="GUID-7C4C449D-ECAB-4F07-80A5-63F147DD757E"></a><h4 id="ADFNS-GUID-7C4C449D-ECAB-4F07-80A5-63F147DD757E" class="sect4">Uploading a File from an HTML Form</h4>
                  <div>
                     <div class="section">
                        <p>You can use an HTML form to choose a file on a client system, and transfer it to the server. A stored subprogram can insert the file into the database as a <code class="codeph">CLOB</code>, <code class="codeph">BLOB</code>, or other type that can hold large amounts of data.
                        </p>
                        <p>The PL/SQL Web Toolkit and the PL/SQL gateway have the notion of a "document table" that holds uploaded files.</p>
                        <div class="infoboxnotealso" id="GUID-7C4C449D-ECAB-4F07-80A5-63F147DD757E__GUID-99CE8C24-8D85-4574-89CE-ECA998161E07">
                           <p class="notep1">See Also:</p>
                           <p><span class="italic">mod_plsql User's Guide</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1384"></a><div class="props_rev_3"><a id="GUID-F5F6B082-9508-4719-BFB3-5FA7CB0C5ABD" name="GUID-F5F6B082-9508-4719-BFB3-5FA7CB0C5ABD"></a><h4 id="ADFNS-GUID-F5F6B082-9508-4719-BFB3-5FA7CB0C5ABD" class="sect4">Submitting a Completed HTML Form</h4>
                  <div>
                     <div class="section">
                        <p>By default, an HTML form must have a <code class="codeph">Submit</code> button, which transmits the data from the form to a stored subprogram or CGI program. You can label this button with text of your choice, such as "Search", "Register", and so on.
                        </p>
                        <p>You can have multiple forms on the same page, each with its own form elements and <code class="codeph">Submit</code> button. You can even have forms consisting entirely of hidden parameters, where the user makes no choice other than clicking the button.
                        </p>
                        <p>Using JavaScript or other scripting languages, you can eliminate the Submit button and have the form submitted in response to some other action, such as selecting from a drop-down list. This technique is best when the user makes a single selection, and the confirmation step of the <code class="codeph">Submit</code> button is not essential.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1385"></a><div class="props_rev_3"><a id="GUID-BE92BEE1-8B47-4E11-A089-0879CF7FB66F" name="GUID-BE92BEE1-8B47-4E11-A089-0879CF7FB66F"></a><h4 id="ADFNS-GUID-BE92BEE1-8B47-4E11-A089-0879CF7FB66F" class="sect4">Handling Missing Input from an HTML Form</h4>
                  <div>
                     <div class="section">
                        <p>When an HTML form is submitted, your stored subprogram receives null parameters for any form elements that are not filled in. For example, null parameters can result from an empty entry field, a set of check boxes, options, or list items with none checked, or a <code class="codeph">VALUE</code> parameter of "" (empty quotation marks).
                        </p>
                        <p>Regardless of any validation you do on the client side, use code stored subprograms to handle the possibility that some parameters are null:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Specify an initial value in all parameter declarations, to prevent an exception when the stored subprogram is invoked with a missing form parameter. You can set the initial value to zero for numeric values (when that makes sense), and to <code class="codeph">NULL</code> when you want to check whether the user specifies a value.
                              </p>
                           </li>
                           <li>
                              <p>Before using an input parameter value that has the initial value <code class="codeph">NULL</code>, check if it is null.
                              </p>
                           </li>
                           <li>
                              <p>Make the subprogram generate sensible results even when not all input parameters are specified. You might leave some sections out of a report, or display a text string or image in a report to indicate where parameters were not specified.</p>
                           </li>
                           <li>
                              <p>Provide a way to fill in the missing values and run the stored subprogram again, directly from the results page. For example, include a link that invokes the same stored subprogram with an additional parameter, or display the original form with its values filled in as part of the output.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1386"></a><div class="props_rev_3"><a id="GUID-2694C30F-D315-4C9A-A2FC-3059D4ACC9C4" name="GUID-2694C30F-D315-4C9A-A2FC-3059D4ACC9C4"></a><h4 id="ADFNS-GUID-2694C30F-D315-4C9A-A2FC-3059D4ACC9C4" class="sect4">Maintaining State Information Between Web Pages</h4>
                  <div>
                     <div class="section">
                        <p>Web applications are particularly concerned with the idea of <strong class="term">state</strong>, the set of data that is current at a particular moment in time. It is easy to lose state information when switching from one web page to another, which might result in asking the user to make the same choices repeatedly.
                        </p>
                        <p>You can pass state information between dynamic web pages using HTML forms. The information is passed as a set of name-value pairs, which are turned into stored subprogram parameters for you.</p>
                        <p>If the user has to make multiple selections, or one selection from many choices, or it is important to avoid an accidental selection, use an HTML form. After the user makes and reviews all the choices, they confirm the choices with the <code class="codeph">Submit</code> button. Subsequent pages can use forms with hidden parameters (<code class="codeph">&lt;INPUT&nbsp;TYPE=HIDDEN&gt;</code> tags) to pass these choices from one page to the next.
                        </p>
                        <p>If the user is considering one or two choices, or the decision points are scattered throughout the web page, you can save the user from hunting around for the <code class="codeph">Submit</code> button by representing actions as hyperlinks and including any necessary name-value pairs in the query string (the part after the <code class="codeph">?</code> within a URL).
                        </p>
                        <p>An alternative way to main state information is to use Oracle Application Server and its <code class="codeph">mod_ose</code> module. This approach lets you store state information in package variables that remain available as a user moves around a website.
                        </p>
                        <div class="infoboxnotealso" id="GUID-2694C30F-D315-4C9A-A2FC-3059D4ACC9C4__GUID-82C58DC1-360F-4642-AE5B-81DA3B293436">
                           <p class="notep1">See Also:</p>
                           <p>The Oracle Application Server documentation set at:</p><pre class="oac_no_warn" dir="ltr"><a href="http://www.oracle.com/technetwork/indexes/documentation/index.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/indexes/documentation/index.html</code></a></pre></div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADFNS504"></a><a id="ADFNS1387"></a><div class="props_rev_3"><a id="GUID-03C49E98-9D13-43AF-AD22-B8EE0D47486F" name="GUID-03C49E98-9D13-43AF-AD22-B8EE0D47486F"></a><h3 id="ADFNS-GUID-03C49E98-9D13-43AF-AD22-B8EE0D47486F" class="sect3">Performing Network Operations in PL/SQL Subprograms</h3>
               <div>
                  <div class="section">
                     <p>Oracle provides packages that allow PL/SQL subprograms to perform a set of network operations using PL/SQL: sending email, getting a host name or address, using TCP/IP connections, retrieving HTTP URL contents, and using table, image maps, cookies, and CGI variables.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="web-applications.html#GUID-2FD7DE79-8099-44D4-B4FB-D531F4023163" title="As of Oracle Database 11g Release 2 (11.2.0.1), PL/SQL network utility packages support IPv6 addresses.">Internet Protocol Version 6 (IPv6) Support</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-B059012F-8D71-427E-B6A7-1D60F9C9F81F">Sending E-Mail from PL/SQL</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-D6EFD7CB-F59E-4DE2-8B28-871262AF903A">Getting a Host Name or Address from PL/SQL</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-4D8DA8FE-2D56-4F8A-AD54-71906F7E46D4">Using TCP/IP Connections from PL/SQL</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-FF491AF5-3100-414E-8A08-1A9A843302EE">Retrieving HTTP URL Contents from PL/SQL</a></p>
                        </li>
                        <li>
                           <p><a href="web-applications.html#GUID-BB83CE26-473D-418D-AAD5-F44061D595C3">Using Tables_ Image Maps_ Cookies_ and CGI Variables from PL/SQL </a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div class="sect3"><a id="GUID-2FD7DE79-8099-44D4-B4FB-D531F4023163" name="GUID-2FD7DE79-8099-44D4-B4FB-D531F4023163"></a><h4 id="ADFNS-GUID-2FD7DE79-8099-44D4-B4FB-D531F4023163" class="sect4">Internet Protocol Version 6 (IPv6) Support</h4>
                  <div>
                     <p>As of Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.1), PL/SQL network utility packages support IPv6 addresses.
                     </p>
                     <p> The package interfaces have not changed: Any interface parameter that expects a network host accepts an IPv6 address in string form, and any interface that returns an IP address can return an IPv6 address.</p>
                     <p>However, applications that use network addresses might need small changes, and recompilation, to accommodate IPv6 addresses. An IPv6 address has 128 bits, while an IPv4 address has 32 bits. In a URL, an IPv6 address must be enclosed in brackets. For example:</p><pre class="oac_no_warn" dir="ltr">http://<span class="bold">[</span>2001:0db8:85a3:08d3:1319:8a2e:0370:7344<span class="bold">]</span>/</pre><div class="infoboxnotealso" id="GUID-2FD7DE79-8099-44D4-B4FB-D531F4023163__GUID-C48CFE06-C57C-4D9D-8347-4691E85E02E0">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../netag/understanding-communication-layers.html#NETAG999" target="_blank"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> for detailed information about IPv6 support in Oracle Database
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS-GUID-4C1C3180-3C8F-41F9-BFB7-A65AD6930035" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about IPv6 support in specific PL/SQL network utility packages
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS1389"></a><a id="ADFNS1388"></a><div class="props_rev_3"><a id="GUID-B059012F-8D71-427E-B6A7-1D60F9C9F81F" name="GUID-B059012F-8D71-427E-B6A7-1D60F9C9F81F"></a><h4 id="ADFNS-GUID-B059012F-8D71-427E-B6A7-1D60F9C9F81F" class="sect4">Sending E-Mail from PL/SQL</h4>
                  <div>
                     <div class="section">
                        <p>Using the <code class="codeph">UTL_SMTP</code> package, a PL/SQL subprogram can send e-mail, as in <a href="web-applications.html#GUID-B059012F-8D71-427E-B6A7-1D60F9C9F81F__CHEDDHCC">Example 17-11</a>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-B059012F-8D71-427E-B6A7-1D60F9C9F81F__GUID-2E3E99D2-4CB2-47E4-ADE5-E99549368385">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/UTL_SMTP.html#ARPLS074" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for detailed information about the <code class="codeph">UTL_SMTP</code> package
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B059012F-8D71-427E-B6A7-1D60F9C9F81F__CHEDDHCC">
                        <p class="titleinexample">Example 17-11 Sending E-Mail from PL/SQL</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE send_test_message
IS
  mailhost   VARCHAR2(64) := 'mailhost.example.com';
  sender     VARCHAR2(64) := 'me@example.com';
  recipient  VARCHAR2(64) := 'you@example.com';
  <span class="bold">mail_conn  UTL_SMTP.CONNECTION;</span>
BEGIN
  <span class="bold">mail_conn := UTL_SMTP.OPEN_CONNECTION(mailhost, 25); -- 25 is the port</span>
  <span class="bold">UTL_SMTP.HELO(mail_conn, mailhost);</span>
  <span class="bold">UTL_SMTP.MAIL(mail_conn, sender);</span>
  <span class="bold">UTL_SMTP.RCPT(mail_conn, recipient);</span>
 
  <span class="bold">UTL_SMTP.OPEN_DATA(mail_conn);</span>
  <span class="bold">UTL_SMTP.WRITE_DATA(mail_conn, 'This is a test message.' || chr(13));</span>
  <span class="bold">UTL_SMTP.WRITE_DATA(mail_conn, 'This is line 2.' || chr(13));</span>
  <span class="bold">UTL_SMTP.CLOSE_DATA(mail_conn);</span>
 
  /* If message were in single string, open_data(), write_data(),
     and close_data() could be in a single call to data(). */
 
  <span class="bold">UTL_SMTP.QUIT(mail_conn);</span>
EXCEPTION
  WHEN OTHERS THEN
   -- Insert error-handling code here
   RAISE;
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADFNS1390"></a><div class="props_rev_3"><a id="GUID-D6EFD7CB-F59E-4DE2-8B28-871262AF903A" name="GUID-D6EFD7CB-F59E-4DE2-8B28-871262AF903A"></a><h4 id="ADFNS-GUID-D6EFD7CB-F59E-4DE2-8B28-871262AF903A" class="sect4">Getting a Host Name or Address from PL/SQL</h4>
                  <div>
                     <div class="section">
                        <p>Using the <code class="codeph">UTL_INADDR</code> package, a PL/SQL subprogram can determine the host name of the local system or the IP address of a given host name.
                        </p>
                        <div class="infoboxnotealso" id="GUID-D6EFD7CB-F59E-4DE2-8B28-871262AF903A__GUID-4A567A14-3C44-420E-916B-97240C883F8B">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS071" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for detailed information about the <code class="codeph">UTL_INADDR</code> package
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1391"></a><div class="props_rev_3"><a id="GUID-4D8DA8FE-2D56-4F8A-AD54-71906F7E46D4" name="GUID-4D8DA8FE-2D56-4F8A-AD54-71906F7E46D4"></a><h4 id="ADFNS-GUID-4D8DA8FE-2D56-4F8A-AD54-71906F7E46D4" class="sect4">Using TCP/IP Connections from PL/SQL</h4>
                  <div>
                     <div class="section">
                        <p>Using the <code class="codeph">UTL_TCP</code> package, a PL/SQL subprogram can open TCP/IP connections to systems on the network, and read or write to the corresponding sockets.
                        </p>
                        <div class="infoboxnotealso" id="GUID-4D8DA8FE-2D56-4F8A-AD54-71906F7E46D4__GUID-3DB3E7BB-BA21-4C82-8E6E-8633EF89D5A4">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS075" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for detailed information about the <code class="codeph">UTL_TCP</code> package
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1393"></a><a id="ADFNS1392"></a><div class="props_rev_3"><a id="GUID-FF491AF5-3100-414E-8A08-1A9A843302EE" name="GUID-FF491AF5-3100-414E-8A08-1A9A843302EE"></a><h4 id="ADFNS-GUID-FF491AF5-3100-414E-8A08-1A9A843302EE" class="sect4">Retrieving HTTP URL Contents from PL/SQL</h4>
                  <div>
                     <div class="section">
                        <p>Using the <code class="codeph">UTL_HTTP</code> package, a PL/SQL subprogram can:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Retrieve the contents of an HTTP URL</p>
                              <p>The contents are usually in the form of HTML-tagged text, but might be any kind of file that can be downloaded from a web server (for example, plain text or a JPEG image).</p>
                           </li>
                           <li>
                              <p>Control HTTP session details (such as headers, cookies, redirects, proxy servers, IDs and passwords for protected sites, and CGI parameters)</p>
                           </li>
                           <li>
                              <p>Speed up multiple accesses to the same website, using HTTP 1.1 persistent connections</p>
                           </li>
                        </ul>
                        <p>A PL/SQL subprogram can construct and interpret URLs for use with the <code class="codeph">UTL_HTTP</code> package by using the functions <code class="codeph">UTL_URL</code>.<code class="codeph">ESCAPE</code> and <code class="codeph">UTL_URL</code>.<code class="codeph">UNESCAPE</code>.
                        </p>
                        <p>The PL/SQL procedure in <a href="web-applications.html#GUID-FF491AF5-3100-414E-8A08-1A9A843302EE__CHEFFGBA">Example 17-12</a> uses the <code class="codeph">UTL_HTTP</code> package to retrieve the contents of an HTTP URL.
                        </p>
                        <p>This block shows examples of calls to the procedure in <a href="web-applications.html#GUID-FF491AF5-3100-414E-8A08-1A9A843302EE__CHEFFGBA">Example 17-12</a>, but the URLs are for nonexistent pages. Substitute URLs from your own web server.
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  show_url('http://www.oracle.com/no-such-page.html');
  show_url('http://www.oracle.com/protected-page.html');
  show_url
    ('http://www.oracle.com/protected-page.html','<span class="italic">username</span>','<span class="italic">password</span>');
END;
/</pre><div class="infoboxnotealso" id="GUID-FF491AF5-3100-414E-8A08-1A9A843302EE__GUID-08B38E2E-40FB-42F4-BBD4-836D27F3FD8E">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS070" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for detailed information about the <code class="codeph">UTL_HTTP</code> package
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS073" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for detailed information about <code class="codeph">UTL_URL</code>.<code class="codeph">ESCAPE</code> and <code class="codeph">UTL_URL</code>.<code class="codeph">UNESCAPE</code></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-FF491AF5-3100-414E-8A08-1A9A843302EE__CHEFFGBA">
                        <p class="titleinexample">Example 17-12 Retrieving HTTP URL Contents from PL/SQL</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE show_url
  (url      IN VARCHAR2,
  username IN VARCHAR2 := NULL,
  password IN VARCHAR2 := NULL)
AS
  <span class="bold">req        UTL_HTTP.REQ;</span>
  <span class="bold">resp       UTL_HTTP.RESP;</span>
  name_      VARCHAR2(256);
  value_     VARCHAR2(1024);
  data_      VARCHAR2(255);
  my_scheme  VARCHAR2(256);
  my_realm   VARCHAR2(256);
  my_proxy   BOOLEAN;
BEGIN
  -- When going through a firewall, pass requests through this host.
  -- Specify sites inside the firewall that do not need the proxy host.
 
  <span class="bold">UTL_HTTP.SET_PROXY('proxy.example.com', 'corp.example.com');</span>
 
  -- Ask UTL_HTTP not to raise an exception for 4xx and 5xx status codes,
  -- rather than just returning the text of the error page.
 
  <span class="bold">UTL_HTTP.SET_RESPONSE_ERROR_CHECK(FALSE);</span>
 
  -- Begin retrieving this web page.
 <span class="bold">req := UTL_HTTP.BEGIN_REQUEST(url);</span>
 
  -- Identify yourself.
  --  Some sites serve special pages for particular browsers.
  <span class="bold">UTL_HTTP.SET_HEADER(req, 'User-Agent', 'Mozilla/4.0');</span>
 
  -- Specify user ID and password for pages that require them.
  IF (username IS NOT NULL) THEN
    <span class="bold">UTL_HTTP.SET_AUTHENTICATION(req, username, password);</span>
  END IF;
 
  -- Start receiving the HTML text.
  <span class="bold">resp := UTL_HTTP.GET_RESPONSE(req);</span>
 
  -- Show status codes and reason phrase of response.
  DBMS_OUTPUT.PUT_LINE('HTTP response status code: ' || resp.status_code);
  DBMS_OUTPUT.PUT_LINE
    ('HTTP response reason phrase: ' || resp.reason_phrase);
 
  -- Look for client-side error and report it.
  IF (resp.status_code &gt;= 400) AND (resp.status_code &lt;= 499) THEN
 
  -- Detect whether page is password protected
  -- and you didn't supply the right authorization.
 
  <span class="bold">IF (resp.status_code = UTL_HTTP.HTTP_UNAUTHORIZED) THEN</span>
  <span class="bold">UTL_HTTP.GET_AUTHENTICATION(resp, my_scheme, my_realm, my_proxy);</span>
  IF (my_proxy) THEN
    DBMS_OUTPUT.PUT_LINE('Web proxy server is protected.');
    DBMS_OUTPUT.PUT('Please supply the required ' || my_scheme ||
      ' authentication username for realm ' || my_realm ||
      ' for the proxy server.');
  ELSE
    DBMS_OUTPUT.PUT_LINE('Web page ' || url || ' is protected.');
    DBMS_OUTPUT.PUT('Please supplied the required ' || my_scheme ||
      ' authentication username for realm ' || my_realm ||
      ' for the web page.');
  END IF;
  ELSE
    DBMS_OUTPUT.PUT_LINE('Check the URL.');
  END IF;
 
  <span class="bold">UTL_HTTP.END_RESPONSE(resp);</span>
    RETURN;
 
  -- Look for server-side error and report it.
  ELSIF (resp.status_code &gt;= 500) AND (resp.status_code &lt;= 599) THEN
    DBMS_OUTPUT.PUT_LINE('Check if the website is up.');
    <span class="bold">UTL_HTTP.END_RESPONSE(resp);</span>
    RETURN;
  END IF;
 
  -- HTTP header lines contain information about cookies, character sets,
  -- and other data that client and server can use to customize each
  -- session.
 
  <span class="bold">FOR i IN 1..UTL_HTTP.GET_HEADER_COUNT(resp) LOOP</span>
    <span class="bold">UTL_HTTP.GET_HEADER(resp, i, name_, value_);</span>
    DBMS_OUTPUT.PUT_LINE(name_ || ': ' || value_);
  END LOOP;
 
  -- Read lines until none are left and an exception is raised.
  LOOP
    <span class="bold">UTL_HTTP.READ_LINE(resp, value_);</span>
    DBMS_OUTPUT.PUT_LINE(value_);
  END LOOP;
EXCEPTION
  <span class="bold">WHEN UTL_HTTP.END_OF_BODY THEN</span>
  <span class="bold">UTL_HTTP.END_RESPONSE(resp);</span>
END;
/
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADFNS1394"></a><div class="props_rev_3"><a id="GUID-BB83CE26-473D-418D-AAD5-F44061D595C3" name="GUID-BB83CE26-473D-418D-AAD5-F44061D595C3"></a><h4 id="ADFNS-GUID-BB83CE26-473D-418D-AAD5-F44061D595C3" class="sect4">Using Tables, Image Maps, Cookies, and CGI Variables from PL/SQL </h4>
                  <div>
                     <div class="section">
                        <p>Using packages supplied by Oracle, and the <code class="codeph">mod_plsql</code> plug-in of Oracle HTTP Server (OHS), a PL/SQL subprogram can format the results of a query in an HTML table, produce an image map, set and get HTTP cookies, check the values of CGI variables, and perform other typical web operations.
                        </p>
                        <p>Documentation for these packages is not part of the database documentation library. The location of the documentation depends on your application server. To get started with these packages, look at their subprogram names and parameters using the SQL*Plus <code class="codeph">DESCRIBE</code> statement:
                        </p><pre class="oac_no_warn" dir="ltr">DESCRIBE HTP;
DESCRIBE HTF;
DESCRIBE OWA_UTIL;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>