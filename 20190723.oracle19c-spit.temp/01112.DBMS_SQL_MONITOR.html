<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_SQL_MONITOR package provides information about Real-Time SQL Monitoring and Real-Time Database Operation Monitoring.">
      <meta name="description" content="The DBMS_SQL_MONITOR package provides information about Real-Time SQL Monitoring and Real-Time Database Operation Monitoring.">
      <title>DBMS_SQL_MONITOR</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_SQL_MONITOR package provides information about Real-Time SQL Monitoring and Real-Time Database Operation Monitoring.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_SQL.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_SQL_TRANSLATOR.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_SQL.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_SQL_TRANSLATOR.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_SQL_MONITOR </li>
            </ol>
            <a id="GUID-13874A73-369E-42CD-9C43-A12F1B3BDEC6" name="GUID-13874A73-369E-42CD-9C43-A12F1B3BDEC6"></a><a id="ARPLS74779"></a><a id="ARPLS74779"></a>
            
            <h2 id="ARPLS-GUID-13874A73-369E-42CD-9C43-A12F1B3BDEC6" class="sect2"><span class="enumeration_chapter">157 </span> DBMS_SQL_MONITOR 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_SQL_MONITOR</code> package provides information about Real-Time SQL Monitoring and Real-Time Database Operation Monitoring.
               </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_SQL_MONITOR.html#GUID-A584981E-E45A-496D-83FF-B4EAF79B7297" title="The DBMS_SQL_MONITOR package provides information about Real-Time SQL Monitoring and Real-Time Database Operation Monitoring.">DBMS_SQL_MONITOR Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQL_MONITOR.html#GUID-94A0C0AC-E564-4229-A73F-846EBD845F8B" title="This package is available to PUBLIC and executes with invoker's rights privileges. The reporting functions require privileges to select data from the catalog as provided by the role SELECT_CATALOG_ROLE.">DBMS_SQL_MONITOR Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQL_MONITOR.html#GUID-02DE31A1-9230-44A4-A977-36E2F515AF70" title="The DBMS_SQL_MONITOR package uses the constants shown in the following table.">DBMS_SQL_MONITOR Constants</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQL_MONITOR.html#GUID-9A5E6564-E176-40CF-9428-E844C4C560AA" title="This table lists and describes the DBMS_SQL_MONITOR package subprograms.">Summary of DBMS_SQL_MONITOR Subprograms</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-13874A73-369E-42CD-9C43-A12F1B3BDEC6__GUID-E1CE17F5-9EE7-4FF7-A098-A3B790ED4E6C">
                  <p class="notep1">See Also:</p>
                  <p><a href="DBMS_SQLTUNE.html#GUID-821462BF-1695-41CF-AFF7-FD23E9999C6A" title="The DBMS_SQLTUNE package is the interface for tuning SQL on demand. The related package DBMS_AUTO_SQLTUNE package provides the interface for SQL Tuning Advisor run as an automated task.">DBMS_SQLTUNE</a></p>
               </div>
            </div><a id="ARPLS74781"></a><a id="ARPLS74781"></a><div class="props_rev_3"><a id="GUID-A584981E-E45A-496D-83FF-B4EAF79B7297" name="GUID-A584981E-E45A-496D-83FF-B4EAF79B7297"></a><h3 id="ARPLS-GUID-A584981E-E45A-496D-83FF-B4EAF79B7297" class="sect3"><span class="enumeration_section">157.1 </span>DBMS_SQL_MONITOR Overview
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_SQL_MONITOR</code> package provides information about Real-Time SQL Monitoring and Real-Time Database Operation Monitoring. 
                  </p>
                  <div class="section">
                     <p>These features provide automatic monitoring of SQL statements, PL/SQL blocks, or composite database operations that are considered high-cost. A simple database operation is a single SQL statement or PL/SQL procedure or function. A composite database operation is activity between two defined points in time in a database session. The monitored data is collected in the <code class="codeph">V$SQL_MONITOR</code> and <code class="codeph">V$SQL_PLAN_MONITOR</code> views.
                     </p>
                     <p>The following subprograms begin and end monitoring of a composite database operation:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="DBMS_SQL_MONITOR.html#GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82" title="This function starts a database operation in the current session.">BEGIN_OPERATION Function</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQL_MONITOR.html#GUID-73978AE6-8FC9-4640-93BC-ADE787F8D735" title="This function ends a database operation in the current session. If the specified database operation does not exist, then this function has no effect.">END_OPERATION Procedure</a></p>
                        </li>
                     </ul>
                     <p>The following subprograms report on monitoring data collected in <code class="codeph">V$SQL_MONITOR</code> and <code class="codeph">V$SQL_PLAN_MONITOR</code>:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="DBMS_SQL_MONITOR.html#GUID-04851EB0-32AB-424C-91A1-65AD9220A690" title="This function builds a detailed report with monitoring information for a SQL statement, PL/SQL block, or database operation.">REPORT_SQL_MONITOR Function</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQL_MONITOR.html#GUID-E41600C9-8116-4DFD-B479-E0BFA10506A2" title="This function is identical to the REPORT_SQL_MONITOR function, except that the return type is XMLType.">REPORT_SQL_MONITOR_XML Function</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQL_MONITOR.html#GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4" title="This function builds a report for all or a subset of database operations that have been monitored by Oracle Database.">REPORT_SQL_MONITOR_LIST Function</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQL_MONITOR.html#GUID-F3549005-FA48-4AF2-8E3B-B3D1B02CF489" title="This function is identical to the REPORT_SQL_MONITOR_LIST function, except that it returns XMLType.">REPORT_SQL_MONITOR_LIST_XML Function</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS74782"></a><a id="ARPLS74782"></a><div class="props_rev_3"><a id="GUID-94A0C0AC-E564-4229-A73F-846EBD845F8B" name="GUID-94A0C0AC-E564-4229-A73F-846EBD845F8B"></a><h3 id="ARPLS-GUID-94A0C0AC-E564-4229-A73F-846EBD845F8B" class="sect3"><span class="enumeration_section">157.2 </span>DBMS_SQL_MONITOR Security Model
               </h3>
               <div>
                  <p>This package is available to <code class="codeph">PUBLIC</code> and executes with invoker's rights privileges. The reporting functions require privileges to select data from the catalog as provided by the role <code class="codeph">SELECT_CATALOG_ROLE</code>.
                  </p>
               </div>
            </div><a id="ARPLS74957"></a><a id="ARPLS74958"></a><a id="ARPLS74958"></a><a id="ARPLS74957"></a><div class="props_rev_3"><a id="GUID-02DE31A1-9230-44A4-A977-36E2F515AF70" name="GUID-02DE31A1-9230-44A4-A977-36E2F515AF70"></a><h3 id="ARPLS-GUID-02DE31A1-9230-44A4-A977-36E2F515AF70" class="sect3"><span class="enumeration_section">157.3 </span>DBMS_SQL_MONITOR Constants
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_SQL_MONITOR</code> package uses the constants shown in the following table.
                  </p>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-02DE31A1-9230-44A4-A977-36E2F515AF70__CHDIFEHH">
                     <p class="titleintable">Table 157-1 DBMS_SQL_MONITOR Constants</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQL_MONITOR Constants" summary="This table describes constants used by DBMS_SQL_MONITOR." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d884171e513">Constant</th>
                              <th align="left" valign="bottom" width="21%" id="d884171e516">Type</th>
                              <th align="left" valign="bottom" width="13%" id="d884171e519">Value</th>
                              <th align="left" valign="bottom" width="37%" id="d884171e522">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d884171e527" headers="d884171e513 ">
                                 <p><code class="codeph">FORCE_TRACKING</code></p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d884171e527 d884171e516 ">
                                 <p><code class="codeph">VARCHAR2(30)</code></p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d884171e527 d884171e519 ">
                                 <p><code class="codeph">'Y'</code></p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d884171e527 d884171e522 ">
                                 <p>Force track the composite database operation when the operation starts</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d884171e543" headers="d884171e513 ">
                                 <p><code class="codeph">NO_FORCE_TRACKING </code></p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d884171e543 d884171e516 ">
                                 <p><code class="codeph">VARCHAR2(30)</code></p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d884171e543 d884171e519 ">
                                 <p><code class="codeph">'N'</code></p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d884171e543 d884171e522 ">
                                 <p>Do not force track the composite database operation when the operation starts. It is only tracked when it has consumed 5 seconds of CPU or I/O time.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS74783"></a><a id="ARPLS74784"></a><a id="ARPLS74784"></a><a id="ARPLS74783"></a><div class="props_rev_3"><a id="GUID-9A5E6564-E176-40CF-9428-E844C4C560AA" name="GUID-9A5E6564-E176-40CF-9428-E844C4C560AA"></a><h3 id="ARPLS-GUID-9A5E6564-E176-40CF-9428-E844C4C560AA" class="sect3"><span class="enumeration_section">157.4 </span>Summary of DBMS_SQL_MONITOR Subprograms
               </h3>
               <div>
                  <p>This table lists and describes the <code class="codeph">DBMS_SQL_MONITOR</code> package subprograms.
                  </p>
                  <div class="tblformal" id="GUID-9A5E6564-E176-40CF-9428-E844C4C560AA__GUID-9FDB7613-85DC-4D03-B879-24C58F43F085">
                     <p class="titleintable">Table 157-2 DBMS_SQL_MONITOR Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQL_MONITOR Package Subprograms" summary="This table lists and describes the DBMS_SQL_MONITOR package subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="53%" id="d884171e659">Subprogram</th>
                              <th align="left" valign="bottom" width="47%" id="d884171e662">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d884171e667" headers="d884171e659 ">
                                 <p><a href="DBMS_SQL_MONITOR.html#GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82" title="This function starts a database operation in the current session.">BEGIN_OPERATION Function</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d884171e667 d884171e662 ">
                                 <p><span>This function starts a database operation in the current session.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d884171e681" headers="d884171e659 ">
                                 <p><a href="DBMS_SQL_MONITOR.html#GUID-73978AE6-8FC9-4640-93BC-ADE787F8D735" title="This function ends a database operation in the current session. If the specified database operation does not exist, then this function has no effect.">END_OPERATION Procedure</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d884171e681 d884171e662 ">
                                 <p><span>This function ends a database operation in the current session. If the specified database operation does not exist, then this function has no effect.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d884171e695" headers="d884171e659 ">
                                 <p><a href="DBMS_SQL_MONITOR.html#GUID-04851EB0-32AB-424C-91A1-65AD9220A690" title="This function builds a detailed report with monitoring information for a SQL statement, PL/SQL block, or database operation.">REPORT_SQL_MONITOR Function</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d884171e695 d884171e662 ">
                                 <p><span>This function builds a detailed report with monitoring information for a SQL statement, PL/SQL block, or database operation.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d884171e709" headers="d884171e659 ">
                                 <p><a href="DBMS_SQL_MONITOR.html#GUID-E41600C9-8116-4DFD-B479-E0BFA10506A2" title="This function is identical to the REPORT_SQL_MONITOR function, except that the return type is XMLType.">REPORT_SQL_MONITOR_XML Function</a></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d884171e709 d884171e662 ">
                                 <p><span>This function is identical to the <code class="codeph">REPORT_SQL_MONITOR</code> function, except that the return type is <code class="codeph">XMLType</code>.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d884171e734" headers="d884171e659 ">
                                 <p><a href="DBMS_SQL_MONITOR.html#GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4" title="This function builds a report for all or a subset of database operations that have been monitored by Oracle Database.">REPORT_SQL_MONITOR_LIST Function</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d884171e734 d884171e662 ">
                                 <p><span>This function builds a report for all or a subset of database operations that have been monitored by Oracle Database.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d884171e748" headers="d884171e659 ">
                                 <p><a href="DBMS_SQL_MONITOR.html#GUID-F3549005-FA48-4AF2-8E3B-B3D1B02CF489" title="This function is identical to the REPORT_SQL_MONITOR_LIST function, except that it returns XMLType.">REPORT_SQL_MONITOR_LIST_XML Function</a></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d884171e748 d884171e662 ">
                                 <p><span>This function is identical to the <code class="codeph">REPORT_SQL_MONITOR_LIST</code> function, except that it returns <code class="codeph">XMLType</code>.</span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS74785"></a><a id="ARPLS74786"></a><a id="ARPLS74786"></a><a id="ARPLS74785"></a><div class="props_rev_3"><a id="GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82" name="GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82"></a><h4 id="ARPLS-GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82" class="sect4"><span class="enumeration_section">157.4.1 </span>BEGIN_OPERATION Function
                  </h4>
                  <div>
                     <p><span>This function starts a database operation in the current session.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82__GUID-679014C6-F7F6-4B27-8B32-D10285BD1160">Syntax </p><pre class="pre codeblock"><code>DBMS_SQL_MONITOR.BEGIN_OPERATION (
   dbop_name       IN VARCHAR2,
   dbop_eid        IN NUMBER   := NULL,
   forced_tracking IN VARCHAR2 := NO_FORCE_TRACKING,
   attribute_list  IN VARCHAR2 := NULL,
   session_id      IN NUMBER   := NULL,
   session_serial  IN NUMBER   := NULL)
  iRETURN NUMBER;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82__GUID-34F2425D-DCA6-43E0-934A-BEEC321CA448">Parameters</p>
                        <div class="tblformal" id="GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82__GUID-C384378F-203A-4D9E-98C1-1A1A05BF2B4A">
                           <p class="titleintable">Table 157-3 <span class="italic"><span class="bold">BEGIN_OPERATION Procedure Parameters</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="BEGIN_OPERATION Procedure Parameters" summary="This table describes the parameters of the DBMS_SQL_MONITOR.BEGIN_OPERATION subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d884171e885">Parameter</th>
                                    <th align="left" valign="bottom" width="70%" id="d884171e888">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e893" headers="d884171e885 ">
                                       <p><code class="codeph">dbop_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e893 d884171e888 ">
                                       <p>Name for the composite database operation.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e901" headers="d884171e885 ">
                                       <p><code class="codeph">dbop_eid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e901 d884171e888 ">
                                       <p>Unique identifier for the current execution of the composite database operation.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e909" headers="d884171e885 ">
                                       <p><code class="codeph">forced_tracking</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e909 d884171e888 ">
                                       <p>Whether tracking is forced. Possible values are: </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">FORCE_TRACKING</code> - forces the composite database operation to be tracked when the operation starts. You can also use the string variable <code class="codeph">Y</code>.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NO_FORCE_TRACKING</code> - tracks the operation only when it has consumed at least 5 seconds of CPU or I/O time. You can also use the string variable <code class="codeph">N</code>.
                                             </p>
                                          </li>
                                       </ul>
                                       <p>See <span class="q">"<a href="DBMS_SQL_MONITOR.html#GUID-02DE31A1-9230-44A4-A977-36E2F515AF70" title="The DBMS_SQL_MONITOR package uses the constants shown in the following table.">DBMS_SQL_MONITOR Constants</a>"</span>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e946" headers="d884171e885 ">
                                       <p><code class="codeph">attribute_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e946 d884171e888 ">
                                       <p>List of user-created attributes. It is a comma-separated list of name-value pairs (for example, <code class="codeph">'table_name=emp, operation=load'</code>).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e957" headers="d884171e885 "><code class="codeph">session_id</code></td>
                                    <td align="left" valign="top" width="70%" headers="d884171e957 d884171e888 ">Session ID of the session to be monitored. If omitted (or null), then the database monitors the current session.</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e963" headers="d884171e885 "><code class="codeph">session_serial</code></td>
                                    <td align="left" valign="top" width="70%" headers="d884171e963 d884171e888 ">Serial number of the session to be monitored. If omitted (or null), then the database uses only the session ID to determine the session.</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82__GUID-DAFA16B3-BF50-444E-99A7-DC071AC56536">Return Values</p>
                        <p>This function returns the database operation execution ID. If the value is null for <code class="codeph">dbop_eid</code>, then the database generates a unique value.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74787"></a><a id="ARPLS74788"></a><a id="ARPLS74788"></a><a id="ARPLS74787"></a><div class="props_rev_3"><a id="GUID-73978AE6-8FC9-4640-93BC-ADE787F8D735" name="GUID-73978AE6-8FC9-4640-93BC-ADE787F8D735"></a><h4 id="ARPLS-GUID-73978AE6-8FC9-4640-93BC-ADE787F8D735" class="sect4"><span class="enumeration_section">157.4.2 </span>END_OPERATION Procedure
                  </h4>
                  <div>
                     <p><span>This function ends a database operation in the current session. If the specified database operation does not exist, then this function has no effect.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-73978AE6-8FC9-4640-93BC-ADE787F8D735__GUID-CF22D9EC-CBD4-4B99-8309-E97441DBD2ED">Syntax </p><pre class="pre codeblock"><code>DBMS_SQL_MONITOR.END_OPERATION(
   dbop_name       IN VARCHAR2,
   dbop_eid        IN NUMBER)
  RETURN NUMBER;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-73978AE6-8FC9-4640-93BC-ADE787F8D735__GUID-85AEED5F-07DD-4495-92ED-03DA17F9764C">Parameters</p>
                        <div class="tblformal" id="GUID-73978AE6-8FC9-4640-93BC-ADE787F8D735__GUID-CAE9FA6A-76BC-42B7-95E3-A2D52EDF3108">
                           <p class="titleintable">Table 157-4 END_OPERATION Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="END_OPERATION Procedure Parameters" summary="This table describes the parameters of the DBMS_SQL_MONITOR.END_OPERATION subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d884171e1088">Parameter</th>
                                    <th align="left" valign="bottom" width="80%" id="d884171e1091">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d884171e1096" headers="d884171e1088 ">
                                       <p><code class="codeph">dbop_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d884171e1096 d884171e1091 ">
                                       <p>Name of a composite database operation</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d884171e1104" headers="d884171e1088 ">
                                       <p><code class="codeph">dbop_eid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d884171e1104 d884171e1091 ">
                                       <p>Unique identifier for the current execution of the composite database operation</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74789"></a><a id="ARPLS74790"></a><a id="ARPLS74790"></a><a id="ARPLS74789"></a><div class="props_rev_3"><a id="GUID-04851EB0-32AB-424C-91A1-65AD9220A690" name="GUID-04851EB0-32AB-424C-91A1-65AD9220A690"></a><h4 id="ARPLS-GUID-04851EB0-32AB-424C-91A1-65AD9220A690" class="sect4"><span class="enumeration_section">157.4.3 </span>REPORT_SQL_MONITOR Function
                  </h4>
                  <div>
                     <p><span>This function builds a detailed report with monitoring information for a SQL statement, PL/SQL block, or database operation.</span></p>
                     <div class="section">
                        <p>For each operation, it gives key information and associated global statistics. Use this function to get detailed monitoring information for a database operation.</p>
                        <p>The target database operation for this report can be:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The last database operation monitored by Oracle Database (default, no parameter).</p>
                           </li>
                           <li>
                              <p>The last database operation executed in the specified session and monitored by Oracle Database. The session is identified by its session ID and optionally its serial number (<code class="codeph">-1</code> is current session). 
                              </p>
                           </li>
                           <li>
                              <p>The last execution of a specific database operation identified by its <code class="codeph">sql_id</code>.
                              </p>
                           </li>
                           <li>
                              <p>A specific execution of a database operation identified by the combination <code class="codeph">sql_id</code>, <code class="codeph">sql_exec_start</code>, and <code class="codeph">sql_exec_id</code>.
                              </p>
                           </li>
                           <li>
                              <p>The last execution of a specific database operation identified by <code class="codeph">dbop_name</code>.
                              </p>
                           </li>
                           <li>
                              <p>The specific execution of a database operation identified by the combination <code class="codeph">dbop_name</code>, <code class="codeph">dbop_exec_id</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-04851EB0-32AB-424C-91A1-65AD9220A690__GUID-D823876B-CD95-4A67-8B40-4F2D585E859D">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_MONITOR.REPORT_SQL_MONITOR (
   sql_id                    IN VARCHAR2 DEFAULT  NULL,
   dbop_name                 IN VARCHAR2 DEFAULT  NULL,
   dbop_exec_id              IN NUMBER   DEFAULT  NULL,
   session_id                IN NUMBER   DEFAULT  NULL,
   session_serial            IN NUMBER   DEFAULT  NULL,
   sql_exec_start            IN DATE     DEFAULT  NULL,
   sql_exec_id               IN NUMBER   DEFAULT  NULL,
   inst_id                   IN NUMBER   DEFAULT  NULL,
   start_time_filter         IN DATE     DEFAULT  NULL,
   end_time_filter           IN DATE     DEFAULT  NULL,
   instance_id_filter        IN NUMBER   DEFAULT  NULL,
   parallel_filter           IN VARCHAR2 DEFAULT  NULL,
   plan_line_filter          IN NUMBER   DEFAULT  NULL,
   event_detail              IN VARCHAR2 DEFAULT  'YES',
   bucket_max_count          IN NUMBER   DEFAULT  128,
   bucket_interval           IN NUMBER   DEFAULT  NULL,
   base_path                 IN VARCHAR2 DEFAULT  NULL,
   last_refresh_time         IN DATE     DEFAULT  NULL,
   report_level              IN VARCHAR2 DEFAULT 'TYPICAL',
   type                      IN VARCHAR2 DEFAULT 'TEXT',
   sql_plan_hash_value       IN NUMBER   DEFAULT  NULL,
   con_name                  IN VARCHAR2 DEFAULT  NULL)
  RETURN CLOB; </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-04851EB0-32AB-424C-91A1-65AD9220A690__GUID-89744270-573B-483E-B789-5425112FF90D">Parameters</p>
                        <div class="tblformal" id="GUID-04851EB0-32AB-424C-91A1-65AD9220A690__GUID-9F5AA0D2-9D73-4654-9081-6F1274A79F01">
                           <p class="titleintable">Table 157-5 <span class="italic"><span class="bold">REPORT_SQL_MONITOR Procedure Parameters</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_SQL_MONITOR Procedure Parameters" summary="This table describes the parameters of the DBMS_SQL_MONITOR.REPORT_SQL_MONITOR subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d884171e1272">Parameter</th>
                                    <th align="left" valign="bottom" width="70%" id="d884171e1275">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1280" headers="d884171e1272 ">
                                       <p><code class="codeph">sql_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1280 d884171e1275 ">
                                       <p><code class="codeph">SQL_ID</code> of the simple database operation for which monitoring information should be displayed. Use <code class="codeph">NULL</code> (default) to display monitoring information for the last simple database operation monitored by Oracle. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1293" headers="d884171e1272 ">
                                       <p><code class="codeph">dbop_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1293 d884171e1275 ">
                                       <p><code class="codeph">DBOP_NAME</code> for which monitoring information of the composite database operation is displayed 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1303" headers="d884171e1272 ">
                                       <p><code class="codeph">dbop_exec_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1303 d884171e1275 ">
                                       <p>Execution ID for the composite database operation for which monitoring information is displayed</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1311" headers="d884171e1272 ">
                                       <p><code class="codeph">session_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1311 d884171e1275 ">
                                       <p>Targets only the subset of statements executed and monitored on behalf of the specified session. Default is <code class="codeph">NULL</code>. Use <code class="codeph">-1</code> or <code class="codeph">USERENV('SID')</code> for the current session. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1328" headers="d884171e1272 ">
                                       <p><code class="codeph">session_serial</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1328 d884171e1275 ">
                                       <p>In addition to<code class="codeph"> session_id</code>, you can specify the session serial number to ensure the desired session incarnation is targeted. This is ignored when <code class="codeph">session_id</code> is <code class="codeph">NULL</code>. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1345" headers="d884171e1272 ">
                                       <p><code class="codeph">sql_exec_start</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1345 d884171e1275 ">
                                       <p>Time at which execution of the monitored SQL was started. Only applicable when <code class="codeph">sql_id</code> is specified. Used to display monitoring information for a particular execution of <code class="codeph">sql_id</code>. When <code class="codeph">NULL</code> (default), the last execution of <code class="codeph">sql_id</code> is shown. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1365" headers="d884171e1272 ">
                                       <p><code class="codeph">sql_exec_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1365 d884171e1275 ">
                                       <p>A numeric ID generated internally by SQL monitor to identify different executions of the same SQL statement. Thus each execution will have the same <code class="codeph">sql_id</code> but a different <code class="codeph">sql_exec_id</code>. Only applicable when <code class="codeph">sql_id</code> is specified and is used to display monitoring information for a particular execution of <code class="codeph">sql_id</code>. When <code class="codeph">NULL</code> (default), the last execution of <code class="codeph">sql_id</code> is shown. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1392" headers="d884171e1272 ">
                                       <p><code class="codeph">inst_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1392 d884171e1275 ">
                                       <p>Looks only at queries started on the specified instance. Use <code class="codeph">-1</code> to target the current instance. The default, <code class="codeph">NULL</code> will target all instances. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1406" headers="d884171e1272 ">
                                       <p><code class="codeph">start_time_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1406 d884171e1275 ">
                                       <p>If not <code class="codeph">NULL</code>, the report shows activity from <code class="codeph">V$ACTIVE_SESSION_HISTORY</code> started after this date. If <code class="codeph">NULL</code>, the reported activity starts once the targeted database operation has started. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1423" headers="d884171e1272 ">
                                       <p><code class="codeph">end_time_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1423 d884171e1275 ">
                                       <p>If not <code class="codeph">NULL</code>, the report shows activity from <code class="codeph">V$ACTIVE_SESSION_HISTORY</code> started before this date. If <code class="codeph">NULL</code>, the reported activity ends when the targeted database operation has ended or <code class="codeph">SYSDATE</code> if the operation is still executing. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1443" headers="d884171e1272 ">
                                       <p><code class="codeph">instance_id_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1443 d884171e1275 ">
                                       <p>Only looks at activity for the specified instance. Use <code class="codeph">NULL</code> (the default) to target all instances. Only relevant if the query runs in parallel. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1455" headers="d884171e1272 ">
                                       <p><code class="codeph">parallel_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1455 d884171e1275 ">
                                       <p>Parallel filter applies only to parallel execution and allows you to select only a subset of the processes involved in the parallel execution. The string <code class="codeph">parallel_filter</code> can be:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">NULL</code> - target all parallel execution servers as wells as the query coordinator
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">['qc'][servers(&lt;svr_grp&gt;[,] &lt;svr_set&gt;[,] &lt;srv_num&gt;)] </code>where any <code class="codeph">NULL</code> value is interpreted as <code class="codeph">ALL</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1482" headers="d884171e1272 ">
                                       <p><code class="codeph">plan_line_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1482 d884171e1275 ">
                                       <p>Selects activity and execution statistics for the specified line number in the plan of a SQL.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1490" headers="d884171e1272 ">
                                       <p><code class="codeph">event_detail</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1490 d884171e1275 ">
                                       <p>When set to <code class="codeph">NO</code>, the activity is aggregated by <code class="codeph">wait_class</code> only. Use <code class="codeph">YES</code> (default) to aggregate by <code class="codeph">wait_class</code>, <code class="codeph">event_name</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1513" headers="d884171e1272 ">
                                       <p><code class="codeph">bucket_max_count</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1513 d884171e1275 ">
                                       <p>Specifies the maximum number of buckets to create in the report</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1521" headers="d884171e1272 ">
                                       <p><code class="codeph">bucket_interval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1521 d884171e1275 ">
                                       <p>Represents the exact time interval, in seconds, of all histogram buckets. If specified, <code class="codeph">bucket_max_count</code> is ignored.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1532" headers="d884171e1272 ">
                                       <p><code class="codeph">base_path</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1532 d884171e1275 ">
                                       <p>URL path for flex HTML resources since flex HTML format requires access to external files (Java scripts and the flash <code class="codeph">swf</code> file). 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1543" headers="d884171e1272 ">
                                       <p><code class="codeph">last_refresh_time</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1543 d884171e1275 ">
                                       <p>If not <code class="codeph">NULL</code> (default), the time when the report was last retrieved (<code class="codeph">SYSDATE</code> attribute of the report tag). Use this option when you want to display the report of an running query and when that report is refreshed on a regular basis. This optimizes the size of the report since only the new changed information will be returned. In particular, the following will be optimized:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>SQL text will not be returned when this option is specified</p>
                                          </li>
                                          <li>
                                             <p>Activity histogram will start at the bucket that intersects that time. The entire content of the bucket is returned, even if <code class="codeph">last_refresh_time</code> is after the start of that bucket
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1567" headers="d884171e1272 ">
                                       <p><code class="codeph">report_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1567 d884171e1275 ">
                                       <p>Level of detail for the report. Of the following, only one can be specified: </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">NONE</code>: Minimum possible
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BASIC</code>: This is equivalent to <code class="codeph">sql_text-plan-xplan-sessions-instance-activity_histogram-plan_histogram-metrics</code> where the token "<code class="codeph">-</code>" implies that report section will not be included in the report.   
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code>: Everything but <code class="codeph">plan_histogram</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code>: Everything
                                             </p>
                                          </li>
                                       </ul>
                                       <p>In addition, individual report sections can also be enabled or disabled by using a <code class="codeph"></code><span class="italic"><code class="codeph">section_name</code></span>. Several sections are defined:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">XPLAN</code>: Shows explain plan. <code class="codeph">ON</code> by default.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PLAN</code>: Shows plan monitoring statistics. <code class="codeph">ON</code> by default.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SESSIONS</code>: Show session details. Applies only to parallel queries. <code class="codeph">ON</code> by default.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INSTANCE</code>:   Shows instance details. Applies only to parallel and cross instance queries. <code class="codeph">ON</code> by default.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARALLEL</code>: An umbrella parameter for specifying sessions as well as instance details
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ACTIVITY</code>: Shows activity summary at global level, plan line level and session
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INSTANCE</code> <code class="codeph">LEVEL</code>: (If applicable).<code class="codeph"> ON</code> by default.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BINDS</code>:   Shows bind information when available. <code class="codeph">ON</code> by default.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">METRICS</code>: Shows metric data (such as CPU and IOs) over time. <code class="codeph">ON</code> by default
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ACTIVITY_HISTOGRAM</code>: Shows a histogram of the overall query activity. <code class="codeph">ON</code> by default.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PLAN_HISTOGRAM</code>: Shows activity histogram at plan   line level. <code class="codeph">OFF</code> by default.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OTHER</code>: Other information. <code class="codeph">ON</code> by default.
                                             </p>
                                          </li>
                                       </ul>
                                       <p>In addition, SQL text can be specified at different levels:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">-SQL_TEXT</code>: No SQL text in report
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">+SQL_TEXT</code>: Alright with partial SQL text, that is, up to the first 2000 chars as stored in <code class="codeph">GV$SQL_MONITOR</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SQL_FULLTEXT</code>: No full SQL text, that is, <code class="codeph">+sql_text</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">+SQL_FULLTEXT</code>: Show full SQL text (default)
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1734" headers="d884171e1272 ">
                                       <p><code class="codeph">type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1734 d884171e1275 ">
                                       <p>Report type:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">TEXT</code>: text report (default)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">HTML</code>: simple HTML report
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ACTIVE</code>: database active report. Some information (explain plan, <code class="codeph">activity_histogram</code>, metrics and <code class="codeph">plan_histogram</code>) is only shown when this type is selected
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">XML</code>: raw data for the report
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1769" headers="d884171e1272 ">
                                       <p><code class="codeph">sql_plan_hash_value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1769 d884171e1275 ">
                                       <p>Targets only those with the specified plan hash value. Default is <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1780" headers="d884171e1272 ">
                                       <p><code class="codeph">con_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1780 d884171e1275 ">
                                       <p>Container name in a multitenant database.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-04851EB0-32AB-424C-91A1-65AD9220A690__GUID-B48B1496-8340-4E3E-B096-687B9BC65844">Return Values</p>
                        <p>SQL monitor report, an XML document.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-04851EB0-32AB-424C-91A1-65AD9220A690__GUID-EF6801E4-1AF8-450D-A9EC-545133451F2C">Usage Notes</p>
                        <p>The user invoking this function must have privilege to access the following fixed views:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">GV$SQL_MONITOR</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">GV$SQL_PLAN_MONITOR</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">GV$ACTIVE_SESSION_HISTORY</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">GV$SESSION_LONGOPS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">GV$SQL</code> if SQL full text is requested and its length is greater than 2 KB
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-E41600C9-8116-4DFD-B479-E0BFA10506A2" name="GUID-E41600C9-8116-4DFD-B479-E0BFA10506A2"></a><h4 id="ARPLS-GUID-E41600C9-8116-4DFD-B479-E0BFA10506A2" class="sect4"><span class="enumeration_section">157.4.4 </span>REPORT_SQL_MONITOR_XML Function
                  </h4>
                  <div>
                     <p><span>This function is identical to the <code class="codeph">REPORT_SQL_MONITOR</code> function, except that the return type is <code class="codeph">XMLType</code>.</span></p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="DBMS_SQL_MONITOR.html#GUID-04851EB0-32AB-424C-91A1-65AD9220A690" title="This function builds a detailed report with monitoring information for a SQL statement, PL/SQL block, or database operation.">REPORT_SQL_MONITOR Function</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS74842"></a><a id="ARPLS74843"></a><a id="ARPLS74843"></a><a id="ARPLS74842"></a><div class="props_rev_3"><a id="GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4" name="GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4"></a><h4 id="ARPLS-GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4" class="sect4"><span class="enumeration_section">157.4.5 </span>REPORT_SQL_MONITOR_LIST Function
                  </h4>
                  <div>
                     <p><span>This function builds a report for all or a subset of database operations that have been monitored by Oracle Database.</span></p>
                     <div class="section">
                        <p>For each database operation, it gives key information and associated global statistics. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4__GUID-6EBBFA15-DF03-4300-9716-511EE0FAE530">Syntax</p><pre class="pre codeblock"><code>DBMS_SQL_MONITOR.REPORT_SQL_MONITOR_LIST (
   sql_id                    IN VARCHAR2 DEFAULT  NULL,
   dbop_name                 IN VARCHAR2 DEFAULT  NULL,
   monitor_type              IN NUMBER   DEFAULT  MONITOR_TYPE_ALL, 
   session_id                IN NUMBER   DEFAULT  NULL,
   session_serial            IN NUMBER   DEFAULT  NULL,
   inst_id                   IN NUMBER   DEFAULT  NULL,
   active_since_date         IN DATE     DEFAULT  NULL,
   active_since_sec          IN NUMBER   DEFAULT  NULL,
   last_refresh_time         IN DATE     DEFAULT  NULL,
   report_level              IN VARCHAR2 DEFAULT 'TYPICAL',
   auto_refresh              IN NUMBER   DEFAULT  NULL, 
   base_path                 IN VARCHAR2 DEFAULT  NULL,
   type                      IN VARCHAR2 DEFAULT 'TEXT',
   con_name                  IN VARCHAR2 DEFAULT  NULL)
  RETURN CLOB; </code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4__GUID-8BFE44E2-C827-4606-98C2-5B376C770B60">Parameters</p>
                        <div class="tblformal" id="GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4__GUID-E14C43BB-3900-4890-91BB-6461BF2B8963">
                           <p class="titleintable">Table 157-6 <span class="italic"><span class="bold">REPORT_SQL_MONITOR_LIST Procedure Parameters</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_SQL_MONITOR_LIST Procedure Parameters" summary="This table describes the parameters of the DBMS_SQL_MONITOR.REPORT_SQL_MONITOR_LIST subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d884171e2040">Parameter</th>
                                    <th align="left" valign="bottom" width="70%" id="d884171e2043">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2048" headers="d884171e2040 ">
                                       <p><code class="codeph">sql_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2048 d884171e2043 ">
                                       <p><code class="codeph">SQL_ID</code> of the simple database operation for which monitoring information should be displayed. Use <code class="codeph">NULL</code> (default) to display monitoring information for the last operation monitored by Oracle Database. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2061" headers="d884171e2040 ">
                                       <p><code class="codeph">dbop_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2061 d884171e2043 ">
                                       <p><code class="codeph">DBOP_NAME</code> for which monitoring information of the composite database operation is displayed.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2071" headers="d884171e2040 ">
                                       <p><code class="codeph">monitor_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2071 d884171e2043 ">
                                       <p>Monitor type:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">MONITOR_TYPE_SQL</code> returns only simple database operations 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MONITOR_TYPE_DBOP </code>returns composite database operations
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MONITOR_TYPE_ALL</code> returns all types
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2095" headers="d884171e2040 ">
                                       <p><code class="codeph">session_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2095 d884171e2043 ">
                                       <p>Targets only the subset of database operations executed and monitored on behalf of the specified session. Default is <code class="codeph">NULL</code>. Use <code class="codeph">-1</code> or <code class="codeph">USERENV('SID')</code> for the current session. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2112" headers="d884171e2040 ">
                                       <p><code class="codeph">session_serial</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2112 d884171e2043 ">
                                       <p>In addition to<code class="codeph">session_id</code>, you can specify the session serial number to ensure the desired session incarnation is targeted. This is ignored when <code class="codeph">session_id</code> is <code class="codeph">NULL</code>. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2129" headers="d884171e2040 ">
                                       <p><code class="codeph">inst_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2129 d884171e2043 ">
                                       <p>Looks only at monitored database operations originating from the specified instance. Use <code class="codeph">-1</code> to target the instance where the report executed. To target all instances, use <code class="codeph">NULL</code> (default). 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2143" headers="d884171e2040 ">
                                       <p><code class="codeph">active_since_date</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2143 d884171e2043 ">
                                       <p>If not <code class="codeph">NULL</code> (default), returns monitored database operations that have been active since the specified time. This includes all operations that are executing, as well as all operations that have completed their execution after the specified start time.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2154" headers="d884171e2040 ">
                                       <p><code class="codeph">active_since_sec</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2154 d884171e2043 ">
                                       <p>If not <code class="codeph">NULL</code> (default), returns monitored database operations that have been active since the specified time. This includes all operations that are executing, as well as all operations that have completed their execution after the specified date and time. In this case, the start time is specified relative to the current <code class="codeph">SYSDATE</code> minus a specified number of seconds. For example, use 3600 to limit the report to all operations that have been active in the past 1 hour. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2168" headers="d884171e2040 ">
                                       <p><code class="codeph">last_refresh_time</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2168 d884171e2043 ">
                                       <p>If not <code class="codeph">NULL</code> (default), the time when the list report was last retrieved. This optimizes the case where an application shows the list and refreshes the report on a regular basis (such as once every 5 seconds). In this case, the report will show details                   about the execution of monitored queries that have been active since the specified <code class="codeph">last_refresh_time</code>. For other queries, the report returns the execution key (<code class="codeph">sql_id</code>, <code class="codeph">sql_exec_start</code>, and <code class="codeph">sql_exec_id</code>). Also, for queries that have their first refresh time after the specified date, only the SQL execution key and statistics are returned.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2191" headers="d884171e2040 ">
                                       <p><code class="codeph">report_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2191 d884171e2043 ">
                                       <p>Level of detail for the report. The level can be <code class="codeph">BASIC</code> (SQL text up to 200 character), <code class="codeph">TYPICAL</code> (which include full SQL text assuming that cursor has not aged out, in which case the SQL text is included up to 2000 characters), or <code class="codeph">ALL</code> which is the same as <code class="codeph">TYPICAL</code>. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2211" headers="d884171e2040 ">
                                       <p><code class="codeph">auto_refresh</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2211 d884171e2043 ">
                                       <p>Specifies the duration in seconds after which report data will be automatically refreshed while the monitored SQL or database operation is still executing. This applies to active report types.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2220" headers="d884171e2040 ">
                                       <p><code class="codeph">base_path</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2220 d884171e2043 ">
                                       <p>URL path for flex HTML resources since flex HTML format requires access to external files (java scripts and the flash <code class="codeph">swf</code> file). 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2231" headers="d884171e2040 ">
                                       <p><code class="codeph">type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2231 d884171e2043 ">
                                       <p>Report type:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">TEXT</code>: text report (default)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">HTML</code>: simple HTML report
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ACTIVE</code>: database active report. Some information (explain plan, <code class="codeph">activity_histogram</code>, metrics, and <code class="codeph">plan_histogram</code>) is only shown when this type is selected.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">XML</code>: raw data for the report
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2266" headers="d884171e2040 ">
                                       <p><code class="codeph">con_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2266 d884171e2043 ">
                                       <p>Container name in a multitenant database.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4__GUID-4FC2695B-E057-4928-B1A7-52AA33C51003">Return Values</p>
                        <p>A report in text, XML, or HTML format that contains the list of the database operations monitored.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4__GUID-7A2597FF-50D2-4567-9B91-1325A5209118">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <a href="DBMS_SQL_MONITOR.html#GUID-04851EB0-32AB-424C-91A1-65AD9220A690" title="This function builds a detailed report with monitoring information for a SQL statement, PL/SQL block, or database operation.">REPORT_SQL_MONITOR Function</a> to get detailed monitoring information for a single database operation.
                              </p>
                           </li>
                           <li>
                              <p>The user invoking this function needs to have the privilege to access the fixed views <code class="codeph">GV$SQL_MONITOR</code> and <code class="codeph">GV$SQL</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-F3549005-FA48-4AF2-8E3B-B3D1B02CF489" name="GUID-F3549005-FA48-4AF2-8E3B-B3D1B02CF489"></a><h4 id="ARPLS-GUID-F3549005-FA48-4AF2-8E3B-B3D1B02CF489" class="sect4"><span class="enumeration_section">157.4.6 </span>REPORT_SQL_MONITOR_LIST_XML Function
                  </h4>
                  <div>
                     <p><span>This function is identical to the <code class="codeph">REPORT_SQL_MONITOR_LIST</code> function, except that it returns <code class="codeph">XMLType</code>.</span></p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="DBMS_SQL_MONITOR.html#GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4" title="This function builds a report for all or a subset of database operations that have been monitored by Oracle Database.">REPORT_SQL_MONITOR_LIST Function</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>