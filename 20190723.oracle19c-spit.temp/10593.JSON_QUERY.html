<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>JSON_QUERY</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="JSON_OBJECTAGG.html" title="Previous" type="text/html">
      <link rel="next" href="JSON_SERIALIZE.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="JSON_OBJECTAGG.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="JSON_SERIALIZE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">JSON_QUERY</li>
            </ol>
            <a id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9" name="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9"></a><a id="SQLRF56719"></a><a id="SQLRF56720"></a><a id="SQLRF56721"></a><a id="SQLRF56722"></a><a id="SQLRF56723"></a><a id="SQLRF56972"></a><a id="SQLRF56724"></a><a id="SQLRF56779"></a><a id="SQLRF56725"></a><a id="SQLRF56726"></a><a id="SQLRF57037"></a><a id="SQLRF56727"></a><a id="SQLRF56728"></a><a id="SQLRF56729"></a><a id="SQLRF56730"></a><a id="SQLRF56731"></a><a id="SQLRF56732"></a><a id="SQLRF56733"></a><a id="SQLRF56734"></a><a id="SQLRF56735"></a><a id="SQLRF56736"></a><a id="SQLRF56718"></a>
            
            <h2 id="SQLRF-GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9" class="sect2">JSON_QUERY</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-36493A0E-2AC0-4411-A654-94928E53AF8D">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-B0DA9FFC-885D-407E-A72B-181351BC333E"><img src="img/json_query.gif" alt="Description of json_query.eps follows" title="Description of json_query.eps follows" longdesc="img_text/json_query.html"><br><a href="img_text/json_query.html">Description of the illustration json_query.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><code class="codeph">JSON_basic_path_expression</code></span>: See <a href="../adjsn/diagrams-basic-sql-json-path-expression-syntax.html#ADJSN-GUID-8241AE93-89BE-40E6-89E2-8F9C1A9244F4" target="_blank"><span class="italic">Oracle Database JSON Developer's Guide</span></a>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-26023357-C568-4AD1-AB59-13E7DBDDCBD8"><span class="italic">JSON_query_returning_clause</span>::=
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-09E4F1BB-AAD8-4BDF-A4B1-58F9C0D2955B"><img src="img/json_query_returning_clause.gif" alt="Description of json_query_returning_clause.eps follows" title="Description of json_query_returning_clause.eps follows" longdesc="img_text/json_query_returning_clause.html"><br><a href="img_text/json_query_returning_clause.html">Description of the illustration json_query_returning_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__CJADJIIJ">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-8B7C3476-3276-4358-89C1-304E5934479F"><span class="italic">JSON_query_return_type</span>::=
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-52AC99A7-F0D8-4F17-9B81-12611B6B88AA"><img src="img/json_query_return_type.gif" alt="Description of json_query_return_type.eps follows" title="Description of json_query_return_type.eps follows" longdesc="img_text/json_query_return_type.html"><br><a href="img_text/json_query_return_type.html">Description of the illustration json_query_return_type.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__CJAGGHHG">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-B4170019-149F-47FB-9478-1E0E0CA594D3"><span class="italic">JSON_query_wrapper_clause</span>::=
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-A0679D83-AD7E-402F-9F1E-A13B5D4CFB39"><img src="img/json_query_wrapper_clause.gif" alt="Description of json_query_wrapper_clause.eps follows" title="Description of json_query_wrapper_clause.eps follows" longdesc="img_text/json_query_wrapper_clause.html"><br><a href="img_text/json_query_wrapper_clause.html">Description of the illustration json_query_wrapper_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__CJACIDGJ">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-2CDD5930-3235-48A0-9073-B26AC277E600"><span class="italic">JSON_query_on_error_clause</span>::=
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-53FA78FF-A8CF-4661-B8CD-B2D057814F58"><img src="img/json_query_on_error_clause.gif" alt="Description of json_query_on_error_clause.eps follows" title="Description of json_query_on_error_clause.eps follows" longdesc="img_text/json_query_on_error_clause.html"><br><a href="img_text/json_query_on_error_clause.html">Description of the illustration json_query_on_error_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-DE1C9D94-F4A1-471A-844F-0795F56FA0A7"><span class="italic">JSON_query_on_empty_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-8AD017F4-8EA8-4E33-B3B6-8C5C0B5C8DF0"><img src="img/json_query_on_empty_clause.gif" alt="Description of json_query_on_empty_clause.eps follows" title="Description of json_query_on_empty_clause.eps follows" longdesc="img_text/json_query_on_empty_clause.html"><br><a href="img_text/json_query_on_empty_clause.html">Description of the illustration json_query_on_empty_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-54725E07-1C90-4635-9483-34759173C39B">Purpose</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>The SQL/JSON function <code class="codeph">JSON_QUERY</code> finds one or more specified JSON values in JSON data and returns the values in a character string.
                  </p>
                  <div class="infoboxnotealso" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-0334EC04-8E9D-4F4E-8EAE-9FEBB10CD861">
                     <p class="notep1">See Also:</p>
                     <p>Appendix C in <a href="../nlspg/appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#NLSPG-GUID-AFCE41ED-775B-4A00-AF38-C436776AE0C5" target="_blank"><span class="italic">Oracle Database Globalization Support Guide</span></a> for the collation derivation rules, which define the collation assigned to the character value returned by <code class="codeph">JSON_QUERY</code></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-C61B3AA0-0C14-4A0E-9E96-E8C6359AE329"><span class="italic">expr</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>Use this clause to specify the JSON data to be evaluated. For <span class="italic"><code class="codeph">expr</code></span>, specify an expression that evaluates to a text literal. If <span class="italic"><code class="codeph">expr</code></span> is a column, then the column must be of data type <code class="codeph">VARCHAR2</code>, <code class="codeph">CLOB</code>, or <code class="codeph">BLOB</code>. If <span class="italic"><code class="codeph">expr</code></span> is null, then the function returns null.
                  </p>
                  <p>If <span class="italic"><code class="codeph">expr</code></span> is not a text literal of well-formed JSON data using strict or lax syntax, then the function returns null by default. You can use the <span class="italic"><code class="codeph">JSON_query_on_error_clause</code></span> to override this default behavior. Refer to <span class="italic"><a href="JSON_QUERY.html#GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__CJAJJCGH">JSON_query_on_error_clause</a></span>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-BB8557EE-5BE2-4FFD-959D-C82433E66423">FORMAT JSON</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>You must specify <code class="codeph">FORMAT</code> <code class="codeph">JSON</code> if <span class="italic"><code class="codeph">expr</code></span> is a column of data type <code class="codeph">BLOB</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__CJAGCJHA">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-0CE78D75-CB62-43C3-B8E3-7C15FDB4E647"><span class="italic">JSON_basic_path_expression</span></p>
                  <p>Use this clause to specify a SQL/JSON path expression. The function uses the path expression to evaluate <span class="italic"><code class="codeph">expr</code></span> and find one or more JSON values that match, or satisfy, the path expression. The path expression must be a text literal. See <a href="../adjsn/json-path-expressions.html#ADJSN-GUID-7B610884-39CD-4910-85E7-C251D342D879" target="_blank"><span class="italic">Oracle Database JSON Developer's Guide</span></a> for the full semantics of <span class="italic"><code class="codeph">JSON_basic_path_expression</code></span>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__CJAGDHAA">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-01D37C19-B986-407D-A2D9-C7C563CC3254"><span class="italic">JSON_query_returning_clause</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>Use this clause to specify the data type and format of the character string returned by this function.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-112727C2-36A6-42D7-84C9-224160A3535D">RETURNING</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>Use the <code class="codeph">RETURNING</code> clause to specify the data type of the character string. If you omit this clause, then <code class="codeph">JSON_QUERY</code> returns a character string of type <code class="codeph">VARCHAR2(4000)</code>.
                  </p>
                  <p>You can use the <span class="italic"><code class="codeph">JSON_return_type_clause</code></span> to specify the following data type:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">VARCHAR2[(</code><span class="italic"><code class="codeph">size</code></span> <code class="codeph">[BYTE,CHAR])]</code></p>
                        <p>When specifying the <code class="codeph">VARCHAR2</code> data type elsewhere in SQL, you are required to specify a size. However, in this clause you can omit the size. In this case, <code class="codeph">JSON_QUERY</code> returns a character string of type <code class="codeph">VARCHAR2(4000)</code>.
                        </p>
                        <p>Refer to <span class="q">"<a href="Data-Types.html#GUID-0DC7FFAA-F03F-4448-8487-F2592496A510">VARCHAR2 Data Type</a>"</span> for more information.
                        </p>
                     </li>
                  </ul>
                  <p>If the data type is not large enough to hold the return character string, then this function returns null by default. You can use the <span class="italic"><code class="codeph">JSON_query_on_error_clause</code></span> to override this default behavior. Refer to the <span class="italic"><a href="JSON_QUERY.html#GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__CJAJJCGH">JSON_query_on_error_clause</a></span>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-9E4874FB-9224-4FEB-9D09-247A334988BC">PRETTY</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>Specify <code class="codeph">PRETTY</code> to pretty-print the return character string by inserting newline characters and indenting.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-7D2DA3C5-F1F8-4DB6-AA8C-53E35AF0435C">ASCII</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>Specify <code class="codeph">ASCII</code> to automatically escape any non-ASCII Unicode characters in the return character string, using standard ASCII Unicode escape sequences.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__CJABHEEC">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-B3408C16-7B2B-4753-AF3A-9C58C8C54931"><span class="italic">JSON_query_wrapper_clause</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>Use this clause to control whether this function wraps the values matched by the path expression in an array wrapper—that is, encloses the sequence of values in square brackets (<code class="codeph">[]</code>).
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify <code class="codeph">WITHOUT</code> <code class="codeph">WRAPPER</code> to omit the array wrapper. You can specify this clause only if the path expression matches a single JSON object or JSON array. This is the default.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">WITH</code> <code class="codeph">WRAPPER</code> to include the array wrapper. You must specify this clause if the path expression matches a single scalar value (a value that is not a JSON object or JSON array) or multiple values of any type.
                        </p>
                     </li>
                     <li>
                        <p>Specifying the <code class="codeph">WITH</code> <code class="codeph">UNCONDITIONAL</code> <code class="codeph">WRAPPER</code> clause is equivalent to specifying the <code class="codeph">WITH</code> <code class="codeph">WRAPPER</code> clause. The <code class="codeph">UNCONDITIONAL</code> keyword is provided for semantic clarity.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">WITH</code> <code class="codeph">CONDITIONAL</code> <code class="codeph">WRAPPER</code> to include the array wrapper only if the path expression matches a single scalar value or multiple values of any type. If the path expression matches a single JSON object or JSON array, then the array wrapper is omitted.
                        </p>
                     </li>
                  </ul>
                  <p>The <code class="codeph">ARRAY</code> keyword is optional and is provided for semantic clarity.
                  </p>
                  <p>If the function returns a single scalar value, or multiple values of any type, and you do not specify <code class="codeph">WITH</code> <code class="codeph">[UNCONDITIONAL</code> <code class="codeph">|</code> <code class="codeph">CONDITIONAL]</code> <code class="codeph">WRAPPER</code>, then the function returns null by default. You can use the <span class="italic"><code class="codeph">JSON_query_on_error_clause</code></span> to override this default behavior. Refer to the <span class="italic"><a href="JSON_QUERY.html#GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__CJAJJCGH">JSON_query_on_error_clause</a></span>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__CJAJJCGH">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-60A84BA7-0484-411E-B7E1-DF56001ADE7E"><span class="italic">JSON_query_on_error_clause</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>Use this clause to specify the value returned by this function when the following errors occur:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="italic"><code class="codeph">expr</code></span> is not well-formed JSON data using strict or lax JSON syntax
                        </p>
                     </li>
                     <li>
                        <p>No match is found when the JSON data is evaluated using the SQL/JSON path expression. You can override the behavior for this type of error by specifying the <span class="italic"><code class="codeph">JSON_query_on_empty_clause</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>The return value data type is not large enough to hold the return character string</p>
                     </li>
                     <li>
                        <p>The function matches a single scalar value or, multiple values of any type, and the <code class="codeph">WITH</code> <code class="codeph">[UNCONDITIONAL</code> <code class="codeph">|</code> <code class="codeph">CONDITIONAL]</code> <code class="codeph">WRAPPER</code> clause is not specified
                        </p>
                     </li>
                  </ul>
                  <p>You can specify the following clauses:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">NULL</code> <code class="codeph">ON</code> <code class="codeph">ERROR</code> - Returns null when an error occurs. This is the default.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">ERROR</code> <code class="codeph">ON</code> <code class="codeph">ERROR</code> - Returns the appropriate Oracle error when an error occurs.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">EMPTY</code> <code class="codeph">ON</code> <code class="codeph">ERROR</code> - Specifying this clause is equivalent to specifying <code class="codeph">EMPTY</code> <code class="codeph">ARRAY</code> <code class="codeph">ON</code> <code class="codeph">ERROR</code>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">EMPTY</code> <code class="codeph">ARRAY</code> <code class="codeph">ON</code> <code class="codeph">ERROR</code> - Returns an empty JSON array (<code class="codeph">[]</code>) when an error occurs.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">EMPTY</code> <code class="codeph">OBJECT</code> <code class="codeph">ON</code> <code class="codeph">ERROR</code> - Returns an empty JSON object (<code class="codeph">{}</code>) when an error occurs.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-1E8BB916-3540-4E74-9D53-0049C79114DF"><span class="italic">JSON_query_on_empty_clause</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>Use this clause to specify the value returned by this function if no match is found when the JSON data is evaluated using the SQL/JSON path expression. This clause allows you to specify a different outcome for this type of error than the outcome specified with the <span class="italic"><code class="codeph">JSON_query_on_error_clause</code></span>.
                  </p>
                  <p>You can specify the following clauses:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">NULL</code> <code class="codeph">ON</code> <code class="codeph">EMPTY</code> - Returns null when no match is found.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">ERROR</code> <code class="codeph">ON</code> <code class="codeph">EMPTY</code> - Returns the appropriate Oracle error when no match is found.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">EMPTY</code> <code class="codeph">ON</code> <code class="codeph">EMPTY</code> - Specifying this clause is equivalent to specifying <code class="codeph">EMPTY</code> <code class="codeph">ARRAY</code> <code class="codeph">ON</code> <code class="codeph">EMPTY</code>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">EMPTY</code> <code class="codeph">ARRAY</code> <code class="codeph">ON</code> <code class="codeph">EMPTY</code> - Returns an empty JSON array (<code class="codeph">[]</code>) when no match is found.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">EMPTY</code> <code class="codeph">OBJECT</code> <code class="codeph">ON</code> <code class="codeph">EMPTY</code> - Returns an empty JSON object (<code class="codeph">{}</code>) when no match is found.
                        </p>
                     </li>
                  </ul>
                  <p>If you omit this clause, then the <span class="italic"><code class="codeph">JSON_query_on_error_clause</code></span> determines the value returned when no match is found.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9__GUID-AD1A623F-F26E-42F2-BE65-0975B29716E1">Examples</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>The following query returns the context item, or the specified string of JSON data. The path expression matches a single JSON object, which does not require an array wrapper. Note that the JSON data is converted to strict JSON syntax in the returned value—that is, the object property names are enclosed in double quotation marks.</p><pre class="oac_no_warn" dir="ltr">SELECT JSON_QUERY('{a:100, b:200, c:300}', '$') AS value
  FROM DUAL;

VALUE
--------------------------------------------------------------------------------
{"a":100,"b":200,"c":300}
</pre><p>The following query returns the value of the member with property name <code class="codeph">a</code>. The path expression matches a scalar value, which must be enclosed in an array wrapper. Therefore, the <code class="codeph">WITH</code> <code class="codeph">WRAPPER</code> clause is specified.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT JSON_QUERY('{a:100, b:200, c:300}', '$.a' WITH WRAPPER) AS value
  FROM DUAL;

VALUE
--------------------------------------------------------------------------------
[100]
</pre><p>The following query returns the values of all object members. The path expression matches multiple values, which together must be enclosed in an array wrapper. Therefore, the <code class="codeph">WITH</code> <code class="codeph">WRAPPER</code> clause is specified.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT JSON_QUERY('{a:100, b:200, c:300}', '$.*' WITH WRAPPER) AS value
  FROM DUAL;

VALUE
--------------------------------------------------------------------------------
[100,200,300]
</pre><p>The following query returns the context item, or the specified string of JSON data. The path expression matches a single JSON array, which does not require an array wrapper.</p><pre class="oac_no_warn" dir="ltr">SELECT JSON_QUERY('[0,1,2,3,4]', '$') AS value
  FROM DUAL;

VALUE
--------------------------------------------------------------------------------
[0,1,2,3,4]
</pre><p>The following query is similar to the previous query, except the <code class="codeph">WITH</code> <code class="codeph">WRAPPER</code> clause is specified. Therefore, the JSON array is wrapped in an array wrapper.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT JSON_QUERY('[0,1,2,3,4]', '$' WITH WRAPPER) AS value
  FROM DUAL;

VALUE
--------------------------------------------------------------------------------
[[0,1,2,3,4]]
</pre><p>The following query returns all elements in a JSON array. The path expression matches multiple values, which together must be enclosed in an array wrapper. Therefore, the <code class="codeph">WITH</code> <code class="codeph">WRAPPER</code> clause is specified.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT JSON_QUERY('[0,1,2,3,4]', '$[*]' WITH WRAPPER) AS value
  FROM DUAL;

VALUE
--------------------------------------------------------------------------------
[0,1,2,3,4]
</pre><p>The following query returns the elements at indexes 0, 3 through 5, and 7 in a JSON array. The path expression matches multiple values, which together must be enclosed in an array wrapper. Therefore, the <code class="codeph">WITH</code> <code class="codeph">WRAPPER</code> clause is specified.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT JSON_QUERY('[0,1,2,3,4,5,6,7,8]', '$[0, 3 to 5, 7]' WITH WRAPPER) AS value
  FROM DUAL;

VALUE
--------------------------------------------------------------------------------
[0,3,4,5,7]
</pre><p>The following query returns the fourth element in a JSON array. The path expression matches a scalar value, which must be enclosed in an array wrapper. Therefore, the <code class="codeph">WITH</code> <code class="codeph">WRAPPER</code> clause is specified.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT JSON_QUERY('[0,1,2,3,4]', '$[3]' WITH WRAPPER) AS value
  FROM DUAL;

VALUE
--------------------------------------------------------------------------------
[3]
</pre><p>The following query returns the first element in a JSON array. The <code class="codeph">WITH</code> <code class="codeph">CONDITIONAL</code> <code class="codeph">WRAPPER</code> clause is specified and the path expression matches a single JSON object. Therefore, the value returned is not wrapped in an array. Note that the JSON data is converted to strict JSON syntax in the returned value—that is, the object property name is enclosed in double quotation marks.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT JSON_QUERY('[{a:100},{b:200},{c:300}]', '$[0]'
       WITH CONDITIONAL WRAPPER) AS value
  FROM DUAL;

VALUE
--------------------------------------------------------------------------------
{"a":100}
</pre><p>The following query returns all elements in a JSON array. The <code class="codeph">WITH</code> <code class="codeph">CONDITIONAL</code> <code class="codeph">WRAPPER</code> clause is specified and the path expression matches multiple JSON objects. Therefore, the value returned is wrapped in an array.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT JSON_QUERY('[{"a":100},{"b":200},{"c":300}]', '$[*]'
       WITH CONDITIONAL WRAPPER) AS value
  FROM DUAL;

VALUE
--------------------------------------------------------------------------------
[{"a":100},{"b":200},{"c":300}]
</pre><p>The following query is similar to the previous query, except that the value returned is of data type <code class="codeph">VARCHAR2(100)</code>.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT JSON_QUERY('[{"a":100},{"b":200},{"c":300}]', '$[*]'
       RETURNING VARCHAR2(100) WITH CONDITIONAL WRAPPER) AS value
  FROM DUAL;

VALUE
--------------------------------------------------------------------------------
[{"a":100},{"b":200},{"c":300}]
</pre><p>The following query returns the fourth element in a JSON array. However, the supplied JSON array does not contain a fourth element, which results in an error. The <code class="codeph">EMPTY</code> <code class="codeph">ON</code> <code class="codeph">ERROR</code> clause is specified. Therefore, the query returns an empty JSON array.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT JSON_QUERY('[{"a":100},{"b":200},{"c":300}]', '$[3]'
       EMPTY ON ERROR) AS value
  FROM DUAL;

VALUE
--------------------------------------------------------------------------------
[]</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>