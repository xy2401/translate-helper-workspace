<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_TDB package reports whether a database can be transported between platforms using the RMAN CONVERT DATABASE command.">
      <meta name="description" content="The DBMS_TDB package reports whether a database can be transported between platforms using the RMAN CONVERT DATABASE command.">
      <title>DBMS_TDB</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_TDB package reports whether a database can be transported between platforms using the RMAN CONVERT DATABASE command.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_SYNC_REFRESH.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_TF.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_SYNC_REFRESH.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_TF.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_TDB</li>
            </ol>
            <a id="GUID-E36C9358-B1BA-4952-9CD2-2E5AB1FFDAA6" name="GUID-E36C9358-B1BA-4952-9CD2-2E5AB1FFDAA6"></a><a id="ARPLS650"></a><a id="ARPLS650"></a>
            
            <h2 id="ARPLS-GUID-E36C9358-B1BA-4952-9CD2-2E5AB1FFDAA6" class="sect2"><span class="enumeration_chapter">168 </span> DBMS_TDB
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_TDB</code> package reports whether a database can be transported between platforms using the RMAN <code class="codeph">CONVERT DATABASE</code> command.
               </p>
               <p>The package verifies that databases on the current host platform are of the same endian format as the destination platform, and that the state of the current database does not prevent transport of the database.</p>
               <div class="infoboxnotealso" id="GUID-E36C9358-B1BA-4952-9CD2-2E5AB1FFDAA6__GUID-474B162A-E307-4991-A646-67F8841585EF">
                  <p class="notep1">See Also:</p>
                  <p><a href="../sqlrf/SQL-Statements-ALTER-LIBRARY-to-ALTER-SESSION.html#SQLRF009" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> regarding database transport using <code class="codeph">CONVERT DATABASE</code></p>
               </div>
               <p>This chapter contains the following topics:<a id="d1045562e103" class="indexterm-anchor"></a></p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_TDB.html#GUID-6BD2D902-6992-403F-B174-4CE4BB6B7308" title="In many cases, Oracle supports transporting databases between platforms which have the same endian format. However, even when the endian formats are the same, a database must undergo a conversion process to move from one platform to another. There are also preconditions required for the process of transporting a database, such as having the database to be transported open read-only.">Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_TDB.html#GUID-E781FCF7-C8FB-4165-AC93-546EB50D26BF" title="Use of this package requires the DBA privilege.">DBMS_TDB Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_TDB.html#GUID-F0856DFE-9D5C-4EE0-BEF3-34A5B2D2BA95" title="The DBMS_TDB package defines several enumerated constants that should be used for specifying parameter values. Enumerated constants must be prefixed with the package name, for example, DBMS_TDB.SKIP_NONE.">Constants</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_TDB.html#GUID-0F73C5F2-7154-4E3F-9905-59C24CF44BC9" title="The DBMS_TDB package uses the V$DB_TRANSPORTABLE_PLATFORM view.">Views</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_TDB.html#GUID-51ACFA4C-05B3-46A3-AA15-7D008B2D5D4C" title="The following notes apply to DBMS_TDB.">Operational Notes</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_TDB.html#GUID-037005A9-E7BC-48ED-A4E1-2BD3311F45AF" title="This table lists the DBMS_TDB subprograms and briefly describes them.">Summary of DBMS_TDB Subprograms</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS68854"></a><a id="ARPLS68854"></a><div class="props_rev_3"><a id="GUID-6BD2D902-6992-403F-B174-4CE4BB6B7308" name="GUID-6BD2D902-6992-403F-B174-4CE4BB6B7308"></a><h3 id="ARPLS-GUID-6BD2D902-6992-403F-B174-4CE4BB6B7308" class="sect3"><span class="enumeration_section">168.1 </span>DBMS_TDB Overview
               </h3>
               <div>
                  <p>In many cases, Oracle supports transporting databases between platforms which have the same endian format. However, even when the endian formats are the same, a database must undergo a conversion process to move from one platform to another. There are also preconditions required for the process of transporting a database, such as having the database to be transported open read-only. </p>
                  <div class="section">
                     <p>The <code class="codeph">DBMS_TDB</code> package serves two purposes:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Confirming that Oracle supports transporting a database from a given source platform to a given target platform</p>
                        </li>
                        <li>
                           <p>Determining whether a database to be transported has been properly prepared for transport, and if not, identifying the condition that prevents database transport</p>
                        </li>
                     </ul>
                     <p>The actual conversion is performed using the Recovery Manager <code class="codeph">CONVERT DATABASE</code> command. For a complete discussion of the requirements for transporting a database, the process of converting a database for transport across platforms, and examples of the use of the <code class="codeph">DBMS_TDB</code> subprograms in the conversion process, see <a href="../sqlrf/SQL-Statements-ALTER-LIBRARY-to-ALTER-SESSION.html#SQLRF009" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a>. 
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS68855"></a><a id="ARPLS68855"></a><div class="props_rev_3"><a id="GUID-E781FCF7-C8FB-4165-AC93-546EB50D26BF" name="GUID-E781FCF7-C8FB-4165-AC93-546EB50D26BF"></a><h3 id="ARPLS-GUID-E781FCF7-C8FB-4165-AC93-546EB50D26BF" class="sect3"><span class="enumeration_section">168.2 </span>DBMS_TDB Security Model
               </h3>
               <div>
                  <p>Use of this package requires the <code class="codeph">DBA</code> privilege.
                  </p>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS68856"></a><a id="ARPLS68857"></a><a id="ARPLS68857"></a><a id="ARPLS68856"></a><div class="props_rev_3"><a id="GUID-F0856DFE-9D5C-4EE0-BEF3-34A5B2D2BA95" name="GUID-F0856DFE-9D5C-4EE0-BEF3-34A5B2D2BA95"></a><h3 id="ARPLS-GUID-F0856DFE-9D5C-4EE0-BEF3-34A5B2D2BA95" class="sect3"><span class="enumeration_section">168.3 </span>DBMS_TDB Constants
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_TDB</code> package defines several enumerated constants that should be used for specifying parameter values. Enumerated constants must be prefixed with the package name, for example, <code class="codeph">DBMS_TDB.SKIP_NONE</code>.
                  </p>
                  <div class="section">
                     <p>The <code class="codeph">DBMS_TDB</code> package uses the constants shown in <a href="DBMS_TDB.html#GUID-F0856DFE-9D5C-4EE0-BEF3-34A5B2D2BA95__BDCFFGJG" title="This table describes Constants used by DBMS_TDB subprograms.">Table 168-1</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-F0856DFE-9D5C-4EE0-BEF3-34A5B2D2BA95__BDCFFGJG">
                     <p class="titleintable">Table 168-1 DBMS_TDB Constants</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TDB Constants" summary="This table describes Constants used by DBMS_TDB subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d1045562e494">Name</th>
                              <th align="left" valign="bottom" id="d1045562e497">Type</th>
                              <th align="left" valign="bottom" id="d1045562e500">Value</th>
                              <th align="left" valign="bottom" id="d1045562e503">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d1045562e508" headers="d1045562e494 ">
                                 <p><code class="codeph">SKIP_NONE</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e508 d1045562e497 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e508 d1045562e500 ">
                                 <p><code class="codeph">0</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e508 d1045562e503 ">
                                 <p>Check all files when checking whether a database is ready for transport.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d1045562e525" headers="d1045562e494 ">
                                 <p><code class="codeph">SKIP_OFFLINE</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e525 d1045562e497 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e525 d1045562e500 ">
                                 <p><code class="codeph">2</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e525 d1045562e503 ">
                                 <p>Skip files in offline tablespaces when checking whether a database is ready for transport.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d1045562e541" headers="d1045562e494 ">
                                 <p><code class="codeph">SKIP_READONLY</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e541 d1045562e497 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e541 d1045562e500 ">
                                 <p><code class="codeph">3</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e541 d1045562e503 ">
                                 <p>Skip files in read-only tablespaces when checking whether a database is ready for transport.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS68858"></a><a id="ARPLS68858"></a><div class="props_rev_3"><a id="GUID-0F73C5F2-7154-4E3F-9905-59C24CF44BC9" name="GUID-0F73C5F2-7154-4E3F-9905-59C24CF44BC9"></a><h3 id="ARPLS-GUID-0F73C5F2-7154-4E3F-9905-59C24CF44BC9" class="sect3"><span class="enumeration_section">168.4 </span>DBMS_TDB Views
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_TDB</code> package uses the <code class="codeph">V$DB_TRANSPORTABLE_PLATFORM</code> view. 
                  </p>
                  <div class="section">
                     <p>This view is described in <a href="../refrn/V-DB_TRANSPORTABLE_PLATFORM.html#REFRN30376" target="_blank"><span class="italic">Oracle Database Reference</span>.</a></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../refrn/V-DB_TRANSPORTABLE_PLATFORM.html#REFRN30376" target="_blank"><code class="codeph">V$DB_TRANSPORTABLE_PLATFORM</code></a>, which specifies which combinations of source and target platforms support database transport
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS68859"></a><a id="ARPLS68859"></a><div class="props_rev_3"><a id="GUID-51ACFA4C-05B3-46A3-AA15-7D008B2D5D4C" name="GUID-51ACFA4C-05B3-46A3-AA15-7D008B2D5D4C"></a><h3 id="ARPLS-GUID-51ACFA4C-05B3-46A3-AA15-7D008B2D5D4C" class="sect3"><span class="enumeration_section">168.5 </span>DBMS_TDB Operational Notes
               </h3>
               <div>
                  <p>The following notes apply to <code class="codeph">DBMS_TDB</code>.
                  </p>
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The subprograms in this package are useful both in determining whether the desired cross-platform database conversion is possible, and in checking whether the database is ready for conversion. See <a href="../sqlrf/SQL-Statements-ALTER-LIBRARY-to-ALTER-SESSION.html#SQLRF009" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for details on the different uses of these subprograms are used in the conversion process.
                           </p>
                        </li>
                        <li>
                           <p>The subprograms in this package return simple <code class="codeph">TRUE</code> or <code class="codeph">FALSE</code> results to indicate whether database transport is possible. Use the subprograms with <code class="codeph">SERVEROUTPUT</code> <code class="codeph">ON</code> for informative messages about why transport is not possible.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS65002"></a><a id="ARPLS68860"></a><a id="ARPLS68860"></a><a id="ARPLS65002"></a><div class="props_rev_3"><a id="GUID-037005A9-E7BC-48ED-A4E1-2BD3311F45AF" name="GUID-037005A9-E7BC-48ED-A4E1-2BD3311F45AF"></a><h3 id="ARPLS-GUID-037005A9-E7BC-48ED-A4E1-2BD3311F45AF" class="sect3"><span class="enumeration_section">168.6 </span>Summary of DBMS_TDB Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">DBMS_TDB</code> subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-037005A9-E7BC-48ED-A4E1-2BD3311F45AF__GUID-33C7D31B-AD01-4441-9F71-F01928DAF30A">
                     <p class="titleintable">Table 168-2 DBMS_TDB Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TDB Package Subprograms" summary="This table lists the DBMS_TDB subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d1045562e880">Subprogram</th>
                              <th align="left" valign="bottom" width="61%" id="d1045562e883">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1045562e888" headers="d1045562e880 ">
                                 <p><a href="DBMS_TDB.html#GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7" title="This function checks whether a database can be transported to a target platform. It tests whether transport is supported at all for a given source and destination platform, and whether the database is currently in the correct state for transport.">CHECK_DB Function</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1045562e888 d1045562e883 ">
                                 <p>Checks whether a database can be transported to a target platform</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1045562e900" headers="d1045562e880 ">
                                 <p><a href="DBMS_TDB.html#GUID-0FDC4AC5-8CB9-45FB-AF1D-2D839BCDBB05" title="This function determines whether a database has external tables, directories, or BFILEs.">CHECK_EXTERNAL Function</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1045562e900 d1045562e883 ">
                                 <p>Checks whether a database has external tables, directory or BFILEs</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS68861"></a><a id="ARPLS68862"></a><a id="ARPLS68863"></a><a id="ARPLS68862"></a><a id="ARPLS68863"></a><a id="ARPLS68861"></a><div class="props_rev_3"><a id="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7" name="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7"></a><h4 id="ARPLS-GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7" class="sect4"><span class="enumeration_section">168.6.1 </span>CHECK_DB Function
                  </h4>
                  <div>
                     <p>This function checks whether a database can be transported to a target platform. It tests whether transport is supported at all for a given source and destination platform, and whether the database is currently in the correct state for transport. </p>
                     <div class="section">
                        <p>You can specify whether to skip checking parts of the database that are read-only or offline, if you do not plan to transport them.</p>
                        <p>The function is overloaded. The different functionality of each form of syntax is presented along with the definition. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7__GUID-55D72AF6-D7AF-4536-A85A-931EEC9F6863">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_TDB.CHECK_DB (
     target_platform_name   IN VARCHAR2, 
     skip_option            IN  NUMBER)
   RETURN BOOLEAN;

DBMS_TDB.CHECK_DB (
     target_platform_name   IN VARCHAR2)
   RETURN BOOLEAN;

DBMS_TDB.CHECK_DB 
   RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7__GUID-D3871A98-5524-4A88-810E-F35BA35FF2BA">Parameters</p>
                        <div class="tblformal" id="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7__GUID-A399228C-4003-40E3-890F-33C2A197BDA5">
                           <p class="titleintable">Table 168-3 CHECK_DB Function Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CHECK_DB Function Parameters " summary="This table describes the Parameters of DBMS_TDB.CHECK_DB function." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d1045562e1028">Parameter</th>
                                    <th align="left" valign="bottom" width="70%" id="d1045562e1031">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d1045562e1036" headers="d1045562e1028 ">
                                       <p><code class="codeph">target_platform_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d1045562e1036 d1045562e1031 ">
                                       <p>The name of the destination platform, as it appears in <a href="../refrn/V-DB_TRANSPORTABLE_PLATFORM.html#REFRN30376" target="_blank"><code class="codeph">V$DB_TRANSPORTABLE_PLATFORM</code></a>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d1045562e1049" headers="d1045562e1028 ">
                                       <p><code class="codeph">skip_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d1045562e1049 d1045562e1031 ">
                                       <p>Specifies which, if any, parts of the database to skip when checking whether the database can be transported. Supported values are listed in <a href="DBMS_TDB.html#GUID-F0856DFE-9D5C-4EE0-BEF3-34A5B2D2BA95__BDCFFGJG" title="This table describes Constants used by DBMS_TDB subprograms.">Table 168-1</a>. 
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7__GUID-6C181435-C5A0-431B-9A88-5FA62B7330CF">Return Values</p>
                        <p>If the database cannot be transported to the target platform or is not ready to be transported, returns <code class="codeph">FALSE</code>. If the database is ready for transport, returns <code class="codeph">TRUE</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7__GUID-C94C3106-0ACE-444C-A4A0-0603D191A169">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If <code class="codeph">SERVEROUTPUT</code> is <code class="codeph">ON</code>, then the output will contain the reasons why the database cannot be transported and how to fix the problems. For details on possible reasons and fixes, see <a href="DBMS_TDB.html#GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7__BDCEIIGD" title="This table describes the causes for DBMS_TDB.CHECK_DB to return FALSE and the actions to resolve them.">Table 168-4</a>.
                              </p>
                              <div class="tblformal" id="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7__BDCEIIGD">
                                 <p class="titleintable">Table 168-4 Reasons for CHECK_DB Function to Return FALSE </p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="Reasons for CHECK_DB Function to Return FALSE " summary="This table describes the causes for DBMS_TDB.CHECK_DB to return FALSE and the actions to resolve them." width="90%" frame="hsides" border="1" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="25%" id="d1045562e1100">Cause</th>
                                          <th align="left" valign="bottom" width="75%" id="d1045562e1103">Action</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="25%" id="d1045562e1108" headers="d1045562e1100 ">
                                             <p>Unrecognized target platform name.</p>
                                          </td>
                                          <td align="left" valign="top" width="75%" headers="d1045562e1108 d1045562e1103 ">
                                             <p>Check <a href="../refrn/V-DB_TRANSPORTABLE_PLATFORM.html#REFRN30376" target="_blank"><code class="codeph">V$DB_TRANSPORTABLE_PLATFORM</code></a> for recognized platform names.
                                             </p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="25%" id="d1045562e1120" headers="d1045562e1100 ">
                                             <p>Target platform has a different endian format.</p>
                                          </td>
                                          <td align="left" valign="top" width="75%" headers="d1045562e1120 d1045562e1103 ">
                                             <p>Conversion is not supported.</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="25%" id="d1045562e1127" headers="d1045562e1100 ">
                                             <p>Database is not open read-only.</p>
                                          </td>
                                          <td align="left" valign="top" width="75%" headers="d1045562e1127 d1045562e1103 ">
                                             <p>Open database read-only and retry.</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="25%" id="d1045562e1134" headers="d1045562e1100 ">
                                             <p>There are active or in-doubt transactions in the database.</p>
                                          </td>
                                          <td align="left" valign="top" width="75%" headers="d1045562e1134 d1045562e1103 ">
                                             <p>Open the database read-write. After the active transactions are rolled back, open the database read-only and retry the operation.</p>
                                             <p>This situation can occur if users flash back the database and open it read only. The active transactions will be rolled back when the database is opened read-write.</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="25%" id="d1045562e1143" headers="d1045562e1100 ">
                                             <p>Deferred transaction rollback needs to be done.</p>
                                          </td>
                                          <td align="left" valign="top" width="75%" headers="d1045562e1143 d1045562e1103 ">
                                             <p>Open the database read-write and bring online the necessary tablespaces. Once the deferred transaction rollback is complete, open the database read-only and retry the operation.</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="25%" id="d1045562e1150" headers="d1045562e1100 ">
                                             <p>Database compatibility version is below 10.0.0.</p>
                                          </td>
                                          <td align="left" valign="top" width="75%" headers="d1045562e1150 d1045562e1103 ">
                                             <p>Change the <code class="codeph">COMPATIBLE</code> initialization parameter to 10.0.0 or higher, open the database read-only, and retry the operation.
                                             </p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="25%" id="d1045562e1160" headers="d1045562e1100 ">
                                             <p>Some tablespaces have not been open read-write with compatibility version is 10.0.0 or higher.</p>
                                          </td>
                                          <td align="left" valign="top" width="75%" headers="d1045562e1160 d1045562e1103 ">
                                             <p>Change the <code class="codeph">COMPATIBLE</code> initialization parameter to 10.0.0 or higher, then open the affected tablespaces read-write. Shut down the database, open it read-only, and retry the operation.
                                             </p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7__GUID-22CF40B4-97CB-44C9-83C6-F2EB322FE515">Examples</p>
                        <p>This example illustrates the use of <code class="codeph">CHECK_DB</code> with a database that is open read-write:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SET SERVEROUTPUT ON
SQL&gt; DECLARE
       db_ready BOOLEAN;
     BEGIN
       db_ready := DBMS_TDB.CHECK_DB('Microsoft Windows IA (32-bit)');
     END;
     /
  
Database is not open READ ONLY. Please open database READ ONLY and retry.

PL/SQL procedure successfully completed.</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68864"></a><a id="ARPLS68864"></a><div class="props_rev_3"><a id="GUID-0FDC4AC5-8CB9-45FB-AF1D-2D839BCDBB05" name="GUID-0FDC4AC5-8CB9-45FB-AF1D-2D839BCDBB05"></a><h4 id="ARPLS-GUID-0FDC4AC5-8CB9-45FB-AF1D-2D839BCDBB05" class="sect4"><span class="enumeration_section">168.6.2 </span>CHECK_EXTERNAL Function
                  </h4>
                  <div>
                     <p>This function determines whether a database has external tables, directories, or BFILEs.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0FDC4AC5-8CB9-45FB-AF1D-2D839BCDBB05__GUID-B94140E9-23A9-4CB6-BB3C-128AD02C701C">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_TDB.CHECK_EXTERNAL 
   RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0FDC4AC5-8CB9-45FB-AF1D-2D839BCDBB05__GUID-B91BDDCF-0024-4620-87D9-63833B33B1D3">Return Values</p>
                        <p>If the database has external tables, directories, or BFILEs, return <code class="codeph">TRUE</code>. Otherwise, return <code class="codeph">FALSE</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0FDC4AC5-8CB9-45FB-AF1D-2D839BCDBB05__GUID-C1B7ACC2-0E52-4E0E-B363-9B9DFED6523D">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If <code class="codeph">SERVEROUTPUT</code> is <code class="codeph">ON</code>, then the function will output the names of the external tables, directories, and BFILEs in the database. 
                              </p>
                           </li>
                           <li>
                              <p>The database must be open read-write.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0FDC4AC5-8CB9-45FB-AF1D-2D839BCDBB05__GUID-D9B335BE-93D0-4362-BAD9-69B6F1808E31">Examples</p>
                        <p>This example illustrates the use of <code class="codeph">CHECK_EXTERNAL</code> with a database that has several external tables, directories, and BFILEs:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SET SERVEROUTPUT ON
SQL&gt; DECLARE
        external BOOLEAN;
     BEGIN
       external := DBMS_TDB.CHECK_EXTERNAL;
     END;
     /
The following external tables exist in the database:
SH.SALES_TRANSACTIONS_EXT
The following directories exist in the database:
SYS.MEDIA_DIR, SYS.DATA_FILE_DIR, SYS.LOG_FILE_DIR, SYS.DATA_PUMP_DIR
The following BFILEs exist in the database:
PM.PRINT_MEDIA
 
PL/SQL procedure successfully completed.</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>