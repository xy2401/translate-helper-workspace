<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The CREATE PACKAGE BODY statement creates or replaces the body of a stored package, which is an encapsulated collection of related procedures, stored functions, and other program objects stored as a unit in the database.">
      <meta name="description" content="The CREATE PACKAGE BODY statement creates or replaces the body of a stored package, which is an encapsulated collection of related procedures, stored functions, and other program objects stored as a unit in the database.">
      <title>CREATE PACKAGE BODY Statement</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database PL/SQL Language Reference ">
      <meta property="og:description" content="The CREATE PACKAGE BODY statement creates or replaces the body of a stored package, which is an encapsulated collection of related procedures, stored functions, and other program objects stored as a unit in the database.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database PL/SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-13T20:26:20-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96448-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="CREATE-PACKAGE-statement.html" title="Previous" type="text/html">
      <link rel="next" href="CREATE-PROCEDURE-statement.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="LNPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CREATE-PACKAGE-statement.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="CREATE-PROCEDURE-statement.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database PL/SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="sql-statements-for-stored-plsql-units.html" property="item" typeof="WebPage"><span property="name">SQL Statements for Stored PL/SQL Units</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CREATE PACKAGE BODY Statement</li>
            </ol>
            <a id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE" name="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE"></a><a id="LNPLS1973"></a><a id="LNPLS1521"></a><a id="LNPLS2181"></a><a id="LNPLS1974"></a><a id="LNPLS1975"></a><a id="LNPLS1976"></a><a id="LNPLS1523"></a><a id="LNPLS1524"></a><a id="LNPLS1525"></a><a id="LNPLS1977"></a><a id="LNPLS1978"></a><a id="LNPLS01381"></a><a id="LNPLS1979"></a><a id="LNPLS1980"></a><a id="LNPLS01372"></a>
            
            <h2 id="LNPLS-GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE" class="sect2"><span class="enumeration_section">14.10 </span>CREATE PACKAGE BODY Statement
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">CREATE</code> <code class="codeph">PACKAGE</code> <code class="codeph">BODY</code> statement creates or replaces the body of a stored <span class="bold">package</span>, which is an encapsulated collection of related procedures, stored functions, and other program objects stored as a unit in the database.
               </p>
               <div class="section">
                  <p> The <span class="bold">package body</span> defines these objects. The <span class="bold">package</span> <span class="bold">specification</span>, defined in an earlier <code class="codeph">CREATE</code> <code class="codeph">PACKAGE</code> statement, declares these objects.
                  </p>
                  <p>Packages are an alternative to creating procedures and functions as standalone schema objects.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__GUID-C4995B68-06A1-411A-90A6-475D8F12A49E">Topics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="CREATE-PACKAGE-BODY-statement.html#GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__BABFJDGG">Prerequisites</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-PACKAGE-BODY-statement.html#GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__BABFJIFI">Syntax</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-PACKAGE-BODY-statement.html#GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__BABDHHJI">Semantics</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-PACKAGE-BODY-statement.html#GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__I2065503">Examples</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-PACKAGE-BODY-statement.html#GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__BABJCAAC">Related Topics</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__BABFJDGG">
                  <p class="subhead1" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__GUID-D28346EA-2568-4BB8-8181-8948A97F2DF0">Prerequisites</p>
                  <p>To create or replace a package in your schema, you must have the <code class="codeph">CREATE</code> <code class="codeph">PROCEDURE</code> system privilege. To create or replace a package in another user's schema, you must have the <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">PROCEDURE</code> system privilege. In both cases, the package body must be created in the same schema as the package.
                  </p>
                  <p>To embed a <code class="codeph">CREATE</code> <code class="codeph">PACKAGE</code> <code class="codeph">BODY</code> statement inside an the database precompiler program, you must terminate the statement with the keyword <code class="codeph">END-EXEC</code> followed by the embedded SQL statement terminator for the specific language.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__BABFJIFI">
                  <p class="subhead1" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__GUID-7B18D135-E200-40CA-B01A-ACA5B98DAFFE">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__GUID-5E71FE7F-219C-4C4A-927D-AAA4D72406C2"><span class="italic">create_package_body</span> ::=
                  </p>
                  <div class="figure" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__GUID-26148660-88DE-4B2D-9313-DD67AC1C3C73"><img src="img/create_package_body.gif" alt="Description of create_package_body.eps follows" title="Description of create_package_body.eps follows" longdesc="img_text/create_package_body.html"><br><a href="img_text/create_package_body.html">Description of the illustration create_package_body.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__PLSQL_PACKAGE_BODY_SOURCE-4E94E9C9">
                  <p class="subhead1" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__GUID-7BCDFB88-7989-4244-B803-7102B38924EA"><span class="italic">plsql_package_body_source</span> ::=
                  </p>
                  <div class="figure" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__GUID-6BAEB48E-FCEA-486A-9B95-410CD9C77856"><img src="img/plsql_package_body_source.gif" alt="Description of plsql_package_body_source.eps follows" title="Description of plsql_package_body_source.eps follows" longdesc="img_text/plsql_package_body_source.html"><br><a href="img_text/plsql_package_body_source.html">Description of the illustration plsql_package_body_source.eps</a></div>
                  <!-- class="figure" -->
                  <p>( <a href="block.html#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CJAIABJJ">declare_section ::=</a> )
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__GUID-A7AE8BC8-0FED-475E-AF78-494313B3B0D1"><span class="italic">initialize_section</span> ::=
                  </p>
                  <div class="figure" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__GUID-5ED9967B-5746-4690-B2A2-CF9FCB1F4978"><img src="img/initialize_section.gif" alt="Description of initialize_section.eps follows" title="Description of initialize_section.eps follows" longdesc="img_text/initialize_section.html"><br><a href="img_text/initialize_section.html">Description of the illustration initialize_section.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>( <a href="block.html#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CJACJBCH">statement ::=</a> , <a href="exception-handler.html#GUID-3FECF29B-A240-4191-A635-92C612D00C4D__CJAEIGAB">exception_handler ::=</a> )
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__BABDHHJI">
                  <p class="subhead1" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__GUID-6A8279CC-E9FE-4FAE-B632-3A0A3036F07A">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__GUID-CFA6A384-0768-4EAB-BE69-7B0883AAA251"><span class="italic">create_package_body</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">OR REPLACE</span></p>
                  <p>Re-creates the package body if it exists, and recompiles it.</p>
                  <p>Users who were granted privileges on the package body before it was redefined can still access the package without being regranted the privileges.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">[ EDITIONABLE | NONEDITIONABLE ]</span></p>
                  <p>If you do not specify this property, then the package body inherits <code class="codeph">EDITIONABLE</code> or <code class="codeph">NONEDITIONABLE</code> from the package specification. If you do specify this property, then it must match that of the package specification.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__GUID-8DEC5543-3825-439F-BADA-C784DE45E8B6"><span class="italic">plsql_package_body_source</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">schema</span></span></p>
                  <p>Name of the schema containing the package. <span class="bold">Default:</span> your schema.
                  </p><pre class="pre codeblock"><code></code></pre><p><span class="bold"><span class="italic">package_name</span></span></p>
                  <p>Name of the package to be created. </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">declare_section</span></span></p>
                  <p>Has a definition for every cursor and subprogram declaration in the package specification. The headings of corresponding subprogram declarations and definitions must match word for word, except for white space.</p>
                  <p>Can also declare and define private items that can be referenced only from inside the package.</p>
                  <p><span class="bold">Restriction on <span class="italic">declare_section</span></span></p>
                  <p><code class="codeph">PRAGMA</code> <code class="codeph">AUTONOMOUS_TRANSACTION</code> cannot appear here.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__GUID-4157C69C-85DD-48C1-A071-EA79206CB268"><span class="italic">initialize_section</span></p>
                  <p>Initializes variables and does any other one-time setup steps.</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__I2065503">
                  <p class="subhead1" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__GUID-BE276AB5-2B38-40E0-B1DB-C8A4F25661F3">Examples</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__CREATINGAPACKAGEBODY-9594A4AD">
                  <p class="titleinexample">Example 14-20 Creating the emp_mgmt Package Body</p>
                  <p>This statement creates the body of the <code class="codeph">emp_mgmt</code> package created in <span class="q">"<a href="CREATE-PACKAGE-statement.html#GUID-03A70A54-90FF-4293-B6B8-F0B35E184AC5__CREATINGTHESPECIFICATIONFORTHEEMP_M-9594CA35">Example 14-19</a>"</span>. 
                  </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PACKAGE BODY emp_mgmt AS 
   <span class="italic">tot_emps NUMBER; </span>
   tot_depts NUMBER; 
FUNCTION hire 
   (last_name VARCHAR2, job_id VARCHAR2, 
    manager_id NUMBER, salary NUMBER, 
    commission_pct NUMBER, department_id NUMBER) 
   RETURN NUMBER IS new_empno NUMBER; 
BEGIN 
   SELECT employees_seq.NEXTVAL 
      INTO new_empno 
      FROM DUAL; 
   INSERT INTO employees 
      VALUES (new_empno, 'First', 'Last','first.example@example.com',
              '(415)555-0100',
              TO_DATE('18-JUN-2002','DD-MON-YYYY'),
              'IT_PROG',90000000,00, 100,110);
      tot_emps := tot_emps + 1; 
   RETURN(new_empno); 
END; 
FUNCTION create_dept(department_id NUMBER, location_id NUMBER) 
   RETURN NUMBER IS 
      new_deptno NUMBER; 
   BEGIN 
      SELECT departments_seq.NEXTVAL 
         INTO new_deptno 
         FROM dual; 
      INSERT INTO departments 
         VALUES (new_deptno, 'department name', 100, 1700); 
      tot_depts := tot_depts + 1; 
      RETURN(new_deptno); 
   END; 
PROCEDURE remove_emp (employee_id NUMBER) IS 
   BEGIN 
      DELETE FROM employees 
      WHERE employees.employee_id = remove_emp.employee_id; 
      tot_emps := tot_emps - 1; 
   END; 
PROCEDURE remove_dept(department_id NUMBER) IS 
   BEGIN 
      DELETE FROM departments 
      WHERE departments.department_id = remove_dept.department_id; 
      tot_depts := tot_depts - 1; 
      SELECT COUNT(*) INTO tot_emps FROM employees; 
   END; 
PROCEDURE increase_sal(employee_id NUMBER, salary_incr NUMBER) IS 
   curr_sal NUMBER; 
   BEGIN 
      SELECT salary INTO curr_sal FROM employees 
      WHERE employees.employee_id = increase_sal.employee_id; 
      IF curr_sal IS NULL 
         THEN RAISE no_sal; 
      ELSE 
         UPDATE employees 
         SET salary = salary + salary_incr 
         WHERE employee_id = employee_id; 
      END IF; 
   END; 
PROCEDURE increase_comm(employee_id NUMBER, comm_incr NUMBER) IS 
   curr_comm NUMBER; 
   BEGIN 
      SELECT commission_pct 
      INTO curr_comm 
      FROM employees 
      WHERE employees.employee_id = increase_comm.employee_id; 
      IF curr_comm IS NULL 
         THEN RAISE no_comm; 
      ELSE 
         UPDATE employees 
         SET commission_pct = commission_pct + comm_incr; 
      END IF; 
   END; 
END emp_mgmt; 
</pre><p>The package body defines the public program objects declared in the package specification: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The functions <code class="codeph">hire</code> and <code class="codeph">create_dept</code> 
                        </p>
                     </li>
                     <li>
                        <p>The procedures <code class="codeph">remove_emp</code>, <code class="codeph">remove_dept</code>, <code class="codeph">increase_sal</code>, and <code class="codeph">increase_comm</code></p>
                     </li>
                  </ul>
                  <p>These objects are declared in the package specification, so they can be called by application programs, procedures, and functions outside the package. For example, if you have access to the package, you can create a procedure <code class="codeph">increase_all_comms</code> separate from the <code class="codeph">emp_mgmt</code> package that invokes the <code class="codeph">increase_comm</code> procedure. 
                  </p>
                  <p>These objects are defined in the package body, so you can change their definitions without causing the database to invalidate dependent schema objects. For example, if you subsequently change the definition of <code class="codeph">hire</code>, then the database need not recompile <code class="codeph">increase_all_comms</code> before running it. 
                  </p>
                  <p>The package body in this example also declares private program objects, the variables <code class="codeph">tot_emps</code> and <code class="codeph">tot_depts</code>. These objects are declared in the package body rather than the package specification, so they are accessible to other objects in the package, but they are not accessible outside the package. For example, you cannot develop an application that explicitly changes the value of the variable <code class="codeph">tot_depts</code>. However, the function <code class="codeph">create_dept</code> is part of the package, so <code class="codeph">create_dept</code> can change the value of <code class="codeph">tot_depts</code>. 
                  </p>
               </div>
               <!-- class="example" -->
               <div class="section" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__BABJCAAC">
                  <p class="subhead1" id="GUID-68526FF2-96A1-4F14-A10B-4DD3E1CD80BE__GUID-C9284EEB-33BD-4817-9252-CDFEECBADDC9">Related Topics</p>
                  <p>In this chapter:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="q">"<a href="CREATE-PACKAGE-statement.html#GUID-03A70A54-90FF-4293-B6B8-F0B35E184AC5" title="The CREATE PACKAGE statement creates or replaces the specification for a stored package, which is an encapsulated collection of related procedures, functions, and other program objects stored as a unit in the database.">CREATE PACKAGE Statement</a>"</span></p>
                     </li>
                  </ul>
                  <p>In other chapters:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="q">"<a href="plsql-packages.html#GUID-C285EC5A-BE50-4192-A88E-48C0778B34E0" title="This chapter explains how to bundle related PL/SQL code and data into a package, whose contents are available to many applications.">PL/SQL Packages</a>"</span> 
                        </p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="plsql-packages.html#GUID-49A935CE-825D-4FEA-BF2D-89F87EA9C750">Package Body</a>"</span></p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="function-declaration-and-definition.html#GUID-4E19FB09-46B5-4CE5-8A5B-CD815C29DA1C" title="Before invoking a function, you must declare and define it. You can either declare it first (with function_declaration) and then define it later in the same block, subprogram, or package (with function_definition) or declare and define it at the same time (with function_definition).">Function Declaration and Definition</a>"</span></p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="procedure-declaration-and-definition.html#GUID-9A48D7CE-3720-46A4-B5CA-C2250CA86AF2" title="Before invoking a procedure, you must declare and define it. You can either declare it first (with procedure_declaration) and then define it later in the same block, subprogram, or package (with procedure_definition) or declare and define it at the same time (with procedure_definition).">Procedure Declaration and Definition</a>"</span></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>