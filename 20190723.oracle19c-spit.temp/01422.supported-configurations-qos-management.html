<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="To use Oracle Database QoS Management, your system must meet certain requirements.">
      <meta name="description" content="To use Oracle Database QoS Management, your system must meet certain requirements.">
      <title>Supported Configurations for Oracle Database QoS Management</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User’s Guide">
      <meta property="og:description" content="To use Oracle Database QoS Management, your system must meet certain requirements.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="autonomous-health-framework-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-21T23:14:30-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2016, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96320-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="supported-workloads-and-strategies.html" title="Previous" type="text/html">
      <link rel="next" href="strategies-creating-classifiers-performance-classes.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Autonomous Health Framework User’s Guide">
    <meta name="dcterms.isVersionOf" content="ATNMS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="supported-workloads-and-strategies.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="strategies-creating-classifiers-performance-classes.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User’s Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-database-qos-management.html" property="item" typeof="WebPage"><span property="name">Monitoring and Managing Database Workload Performance</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="supported-workloads-and-strategies.html" property="item" typeof="WebPage"><span property="name">Supported Workloads and Strategies</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Supported Configurations for Oracle Database QoS Management</li>
            </ol>
            <a id="GUID-0D0F1748-5557-4AA3-8665-C5B60609D7D5" name="GUID-0D0F1748-5557-4AA3-8665-C5B60609D7D5"></a>
            
            <h2 id="ATNMS-GUID-0D0F1748-5557-4AA3-8665-C5B60609D7D5" class="sect2"><span class="enumeration_section">7.1 </span>Supported Configurations for Oracle Database QoS Management
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>To use Oracle Database QoS Management, your system must meet certain requirements. </p>
               <p>Also, your applications and database connections must conform to certain standards.</p>
               <p>If you do not use a supported configuration, then Oracle Database QoS Management reports a configuration violation and is disabled. </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="supported-configurations-qos-management.html#GUID-393E95A8-E927-4A46-917E-0DEB4BCE1D42">Supported Server Pool Configurations</a><br></li>
                  <li class="ulchildlink"><a href="supported-configurations-qos-management.html#GUID-1466C923-4F4F-4313-8962-D870249A79A7">Supported Database Configurations</a><br>Depending on your database configuration, all or only some of the Oracle Database QoS Management features are available,
                  </li>
                  <li class="ulchildlink"><a href="supported-configurations-qos-management.html#GUID-531DF27C-E757-4079-BEEB-FA46646728B8">Supported Service Configurations</a><br></li>
                  <li class="ulchildlink"><a href="supported-configurations-qos-management.html#GUID-D5C400DE-9F04-4172-AB0D-C2A2A4BD8620">Supported Workload and Objective Types</a><br>Review the types of database workloads and objectives that are supported with Oracle Database QoS Management.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="supported-workloads-and-strategies.html#GUID-36349ABA-02F7-4AA4-BB4A-BA46B6278AF8" title="This chapter discusses the different ways that you can use Oracle Database Quality of Service Management (Oracle Database QoS Management) to manage the workload on your system and the best practices for configuring your system to effectively use Oracle Database QoS Management.">Supported Workloads and Strategies</a></p>
                  </div>
               </div>
            </div>
            <a id="APQOS340"></a><div class="props_rev_3"><a id="GUID-393E95A8-E927-4A46-917E-0DEB4BCE1D42" name="GUID-393E95A8-E927-4A46-917E-0DEB4BCE1D42"></a><h3 id="ATNMS-GUID-393E95A8-E927-4A46-917E-0DEB4BCE1D42" class="sect3"><span class="enumeration_section">7.1.1 </span>Supported Server Pool Configurations
               </h3>
               <div>
                  <p>Before Oracle Database Quality of Service (QoS) Management can manage the resources for your cluster, you must mark server pools as managed in your Performance Policy. If a server pool is not managed by Oracle Database QoS Management, then the server pool is not visible to the Oracle Database QoS Management server. Any workloads or resources in the unmarked server pools are not managed by Oracle Database QoS Management.</p>
                  <p>You can select server pools to be managed by Oracle Database QoS Management even if they do not contain any database instances, or have a current size of zero. This enables you to preconfigure a server pool for management by Oracle Database QoS Management before the workload is started. Also, if you configure a server pool to have a minimum size of zero, then Oracle Database QoS Management can remove the servers from that server pool to provide resources for higher priority workloads. In this case, even though there are no resources within the server pool for Oracle Database QoS Management to manage, any workloads that run in that server pool are still monitored and, if possible, resources are allocated to that server pool to support the workloads.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="supported-configurations-qos-management.html#GUID-0D0F1748-5557-4AA3-8665-C5B60609D7D5" title="To use Oracle Database QoS Management, your system must meet certain requirements.">Supported Configurations for Oracle Database QoS Management</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="APQOS341"></a><div class="props_rev_3"><a id="GUID-1466C923-4F4F-4313-8962-D870249A79A7" name="GUID-1466C923-4F4F-4313-8962-D870249A79A7"></a><h3 id="ATNMS-GUID-1466C923-4F4F-4313-8962-D870249A79A7" class="sect3"><span class="enumeration_section">7.1.2 </span>Supported Database Configurations
               </h3>
               <div>
                  <p>Depending on your database configuration, all or only some of the Oracle Database QoS Management features are available,</p>
                  <p>All the features of Oracle Database QoS Management are available for Oracle RAC databases running Oracle Database 12<span class="italic">c</span> release 2 software. For Oracle Database 11<span class="italic">g</span> release 2 and Oracle Database 12<span class="italic">c</span> release 1 Oracle RAC databases, your Oracle RAC database must be policy-managed database, or you can only use Oracle Database QoS Management in Measure-only or Monitor (12.1.0.2) modes.
                  </p>
                  <p>For policy-managed databases, the database services should be created as <code class="codeph">UNIFORM</code> services, meaning the service is offered by every available instance running in the specified server pool. If your application requires a <code class="codeph">SINGLETON</code> service, then, to use Oracle Database QoS Management in management mode, the service must run in a server pool that has a maximum size of one. If you use a <code class="codeph">SINGLETON</code> service in a server pool that has a maximum size greater than one, then Oracle Database QoS Management reports a configuration violation. If you selected Measure-only for the management mode for this database, then you can use <code class="codeph">SINGLETON</code> services any configuration.
                  </p>
                  <p>Oracle Database QoS Management supports multiple databases sharing a server pool. If you have multiple databases using the same server pool, then every database that uses the server pool must have Oracle Database QoS Management enabled if they all have performance classes defined. Oracle Database QoS Management also supports Oracle RAC One Node databases (sometimes referred to as <span class="italic">singleton databases</span>), but these databases must use server pools that have a maximum size of one if their performance classes are being managed and not simply measured or monitored.
                  </p>
                  <p>When you create a database, the default value of the <code class="codeph">CPU_COUNT</code> initialization parameter for the database instance is set to the value of the number of physical CPUs on each node that the instance runs on. If you have multiple database instances on the same node and you have performance classes in Management mode, then you must adjust the value of <code class="codeph">CPU_COUNT</code> for each instance so that the sum of <code class="codeph">CPU_COUNT</code> for each instance that runs on the node is equal to or less than the physical number of CPUs on that node. Also, the value of <code class="codeph">CPU_COUNT</code> must be the same for every instance of a database. For example, for the <code class="codeph">sales</code> database, you cannot have <code class="codeph">CPU_COUNT</code> set to four for the <code class="codeph">sales1</code> instance and <code class="codeph">CPU_COUNT</code> set to two for the <code class="codeph">sales2</code> instance if both instances are in the same server pool.
                  </p>
                  <p>Starting with Oracle Database 12<span class="italic">c</span> release 2 (12.2), Oracle Database QoS Management provides full support for multitenant databases. In the multitenant architecture, an Oracle database functions as a multitenant container database (CDB). A CDB includes zero, one, or many customer-created pluggable databases (PDBs). A PDB is a portable collection of schemas, schema objects, and nonschema objects that appears to an Oracle Net client as a non-CDB. All Oracle databases before Oracle Database 12<span class="italic">c</span> were non-CDBs.
                  </p>
                  <p>The Oracle Multitenant option enables you to consolidate data and code without altering existing schemas or applications. A PDB behaves the same as a non-CDB as seen from a client connecting with Oracle Net. Operations that act on an entire non-CDB act in the same way on an entire CDB, for example, when using Oracle Data Guard and database backup and recovery. Thus, the users, administrators, and developers of a non-CDB have substantially the same experience after the database has been consolidated. By consolidating hardware and sharing database memory and files, you reduce costs for hardware, storage, availability, and labor. For example, 100 PDBs on a single server can share one database instance and one set of database files, thereby requiring less hardware and fewer personnel.</p>
                  <p>Oracle Database QoS Management supports:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Schema consolidation within a pluggable database (PDB) by adjusting the CPU shares of Performance Classes running in the PDB</p>
                     </li>
                     <li>
                        <p>Database consolidation by adjusting the CPU shares between different PDBs within the same multitenant container database (CDB)</p>
                     </li>
                     <li>
                        <p>Multiple CDB consolidation by adjusting CPU counts for all CDBs hosted on the same physical servers and the total number of CDB instances by varying the server pool size (if using policy-managed databases)</p>
                     </li>
                  </ul>
                  <p> This functionality is seamlessly integrated into the Oracle Database QoS Management pages in Oracle Enterprise Manager Cloud Control.</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../racad/introduction-to-oracle-rac.html#RACAD8889" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="supported-configurations-qos-management.html#GUID-0D0F1748-5557-4AA3-8665-C5B60609D7D5" title="To use Oracle Database QoS Management, your system must meet certain requirements.">Supported Configurations for Oracle Database QoS Management</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="APQOS342"></a><div class="props_rev_3"><a id="GUID-531DF27C-E757-4079-BEEB-FA46646728B8" name="GUID-531DF27C-E757-4079-BEEB-FA46646728B8"></a><h3 id="ATNMS-GUID-531DF27C-E757-4079-BEEB-FA46646728B8" class="sect3"><span class="enumeration_section">7.1.3 </span>Supported Service Configurations
               </h3>
               <div>
                  <p>Database services that are managed by Oracle Clusterware are required for Oracle Database QoS Management. All workloads managed by Oracle Database QoS Management must connect to the database using a database service that is managed by Oracle Clusterware. You cannot use the default database service; the default database service is not managed by Oracle Clusterware. </p>
                  <p>The services used to connect to the database should be <code class="codeph">UNIFORM</code>. If your application requires a <code class="codeph">SINGLETON</code> service, then, to use Oracle Database QoS Management, the service must run in a server pool that has a maximum size of one.
                  </p>
                  <p>The Oracle RAC high availability framework monitors the database and its services and sends event notifications using fast application notification (FAN). Oracle Clusterware and Oracle Net Services provide load balancing for services according to rules specified in the service configuration. These rules are:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <span class="bold">connection load balancing goal</span>: Connections are routed to an instance using the current workload for that instance and the type of connection (<code class="codeph">LONG</code> or <code class="codeph">SHORT</code>) to determine which instance can provide the best performance. For Oracle Database QoS Management, the connection load balancing goal should be set to <code class="codeph">LONG</code>, so that if a new server is allocated to a server pool for a service, new connections will migrate faster to the new server. By migrating connections more quickly to a new server, the workload is balanced faster across all the available instances and the response times for workloads improve at a faster rate.
                        </p>
                     </li>
                     <li>
                        <p>The <span class="bold">run-time connection load balancing goal</span>: The load balancing advisory data is used to determine which instance best meets the goal specified for the service. The two goals are <code class="codeph">SERVICE_TIME</code>, for which load balancing advisory data is based on elapsed time for work done in the instance, and <code class="codeph">THROUGHPUT</code>, for which the load balancing advisory data is based on the rate that work is completed in the instance. For Oracle Database QoS Management, the run-time connection load balancing goal should be set to <code class="codeph">SERVICE_TIME</code> for all database services that use server pools except optionally those with a maximum size of one.
                        </p>
                     </li>
                  </ul>
                  <p>Run-time connection load balancing sends advice to connection pools on how to balance connection requests across instances in an Oracle RAC database. The load balancing advisory also provides advice about how to direct incoming work to the instances that provide the optimal quality of service for that work. This minimizes the need to relocate the work later.</p>
                  <p>To configure the load balancing goals for a service, use the Server Control (SRVCTL) utility, as shown in the following example, or use Enterprise Manager:</p><pre class="oac_no_warn" dir="ltr">srvctl modify service -db <span class="italic">db_name</span> -service <span class="italic">service_name</span> -rlbgoal SERVICE_TIME -clbgoal LONG
</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="supported-configurations-qos-management.html#GUID-0D0F1748-5557-4AA3-8665-C5B60609D7D5" title="To use Oracle Database QoS Management, your system must meet certain requirements.">Supported Configurations for Oracle Database QoS Management</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="APQOS343"></a><div class="props_rev_3"><a id="GUID-D5C400DE-9F04-4172-AB0D-C2A2A4BD8620" name="GUID-D5C400DE-9F04-4172-AB0D-C2A2A4BD8620"></a><h3 id="ATNMS-GUID-D5C400DE-9F04-4172-AB0D-C2A2A4BD8620" class="sect3"><span class="enumeration_section">7.1.4 </span>Supported Workload and Objective Types
               </h3>
               <div>
                  <p>Review the types of database workloads and objectives that are supported with Oracle Database QoS Management.</p>
                  <p>In the initial release of Oracle Database QoS Management, only online transaction processing (OLTP) workloads are supported. The only supported Performance Objective is average response time for database requests. Oracle Database QoS Management is designed to manage open workloads, or a workload in which demand is independent of the response time.</p>
                  <p>The database requests for your application workload must have an average response time of less than one second, and preferably, an average response time of less than 0.5 seconds. Each database request within a Performance Class should be homogenous with respect to resource usage. If a subset of the database requests in a workload use significantly more resources than the other requests, then you should create a new Performance Class to contain the database requests that require more resources.</p>
                  <p>Oracle Database QoS Management does not support workloads that involve parallel queries. By default, parallel queries run on all available instances of the database, regardless of which service was used to connect to the database; the workload is not contained, or restrained to running on only those instances that offer the service. For a similar reason, Oracle Database QoS Management does not support workloads that involve a significant amount of database requests involving queries to GV$ views.</p>
                  <p>For a workload to be managed by Oracle Database QoS Management, the database connections must use a database service that is managed by Oracle Clusterware. The client or application that initiates the connection must be a JDBC (thick or thin) client, or an OCI client. Workloads that use a bequeath connection to the database are not managed by Oracle Database QoS Management.</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="overview-oracle-database-qos-management.html#GUID-2F550155-3660-454F-B014-F0DFF5D6CAFC" title="Over time, your workload and performance goals can change.">Deciding to Create New Performance Classes</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="supported-configurations-qos-management.html#GUID-0D0F1748-5557-4AA3-8665-C5B60609D7D5" title="To use Oracle Database QoS Management, your system must meet certain requirements.">Supported Configurations for Oracle Database QoS Management</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>