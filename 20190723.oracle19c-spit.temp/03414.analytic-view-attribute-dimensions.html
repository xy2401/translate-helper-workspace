<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Attribute dimensions reference data sources and specify attributes and levels; hierarchies organize levels hierarchically.">
      <meta name="description" content="Attribute dimensions reference data sources and specify attributes and levels; hierarchies organize levels hierarchically.">
      <title>Attribute Dimension and Hierarchy Objects</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Data Warehousing Guide">
      <meta property="og:description" content="Attribute dimensions reference data sources and specify attributes and levels; hierarchies organize levels hierarchically.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Data Warehousing Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-data-warehousing-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T00:20:13-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96243-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="overview-analytic-views.html" title="Previous" type="text/html">
      <link rel="next" href="analytic-view-objects.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Data Warehousing Guide">
    <meta name="dcterms.isVersionOf" content="DWHSG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="overview-analytic-views.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="analytic-view-objects.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Data Warehousing Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-analytic-views.html" property="item" typeof="WebPage"><span property="name">Analytic Views</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Attribute Dimension and Hierarchy Objects</li>
            </ol>
            <a id="GUID-4A6484B8-1AFB-47B7-8AB3-311E05AC0D6E" name="GUID-4A6484B8-1AFB-47B7-8AB3-311E05AC0D6E"></a><a id="RESOURCEID-18423-7EE80FAE"></a>
            
            <h2 id="DWHSG-GUID-4A6484B8-1AFB-47B7-8AB3-311E05AC0D6E" class="sect2"><span class="enumeration_chapter">25 </span>Attribute Dimension and Hierarchy Objects
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Attribute dimensions reference data sources and specify attributes and levels; hierarchies organize levels hierarchically.</p>
               <p>Attribute dimensions and hierarchies are described in the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="analytic-view-attribute-dimensions.html#GUID-97E6B9F7-451A-42B6-8E21-329B09E7CCF8" title="An attribute dimension specifies a data source, attributes, and levels; a hierarchy organizes the levels hierarchically.">About Attribute Dimensions and Hierarchies</a></p>
                  </li>
                  <li>
                     <p><a href="analytic-view-attribute-dimensions.html#GUID-E952822B-38BA-4317-9EBE-9175174DF264" title="Attribute dimension attributes typically reference columns from a source table or view. Hierarchical attributes provide information about the members of a hierarchy.">Attributes and Hierarchical Attributes</a></p>
                  </li>
                  <li>
                     <p><a href="analytic-view-attribute-dimensions.html#GUID-1E3D0FF9-C03F-4907-B20A-19BEE9EA99FD" title="You can specify the order of attribute dimension level members.">Order Levels</a></p>
                  </li>
                  <li>
                     <p><a href="analytic-view-attribute-dimensions.html#GUID-74255279-0ED0-49EC-A393-6F97B7A66756" title="A level key attribute specifies the data source of the level members.">Level Keys</a></p>
                  </li>
                  <li>
                     <p><a href="analytic-view-attribute-dimensions.html#GUID-5DF93D12-C776-427D-BB27-1A6270B02B2A" title="You can specify that an attribute of a level determines the values of other attributes.">Determine Attribute Relationships</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-97E6B9F7-451A-42B6-8E21-329B09E7CCF8" name="GUID-97E6B9F7-451A-42B6-8E21-329B09E7CCF8"></a><h3 id="DWHSG-GUID-97E6B9F7-451A-42B6-8E21-329B09E7CCF8" class="sect3"><span class="enumeration_section">25.1 </span>About Attribute Dimensions and Hierarchies
               </h3>
               <div>
                  <p>An attribute dimension specifies a data source, attributes, and levels; a hierarchy organizes the levels hierarchically.</p>
                  <p>An attribute dimension specifies the data source it is using and specifies columns of that source as its attributes. It specifies levels for some or all of the attributes and determines attribute relationships between levels.</p>
                  <p>A hierarchy defines the hierarchical relationships between the levels of an attribute dimension. Attribute dimensions and hierarchies provide the dimension members for analytic view objects.</p>
                  <p>Most metadata related to dimensions and hierarchies is defined in the attribute dimension. A hierarchy inherits all of the metadata of the attribute dimension it uses. This allows the metadata for attributes and levels to be reused in many hierarchies, promoting consistency and simplifying the definition of the hierarchy.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-97E6B9F7-451A-42B6-8E21-329B09E7CCF8__GUID-EDD2C29C-F1B1-447C-9EC6-629716249B52">About Attribute Dimensions</p>
                     <p>An attribute dimension has the following characteristics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A data source, which is typically a star schema or snowflake schema dimension table but may be a denormalized table, a view or an external or remote table; each column of the dimension table may be presented in a hierarchy </p>
                        </li>
                        <li>
                           <p>A dimension type, which is either <code class="codeph">STANDARD</code> or <code class="codeph">TIME</code></p>
                        </li>
                        <li>
                           <p>Attributes, which are columns from the data source</p>
                        </li>
                        <li>
                           <p>Levels, which represent groups of values that are all at the same level of aggregation</p>
                        </li>
                        <li>
                           <p>Hierarchical attributes, which are used by hierarchies to describe hierarchical relationships between levels</p>
                        </li>
                        <li>
                           <p>An implicit ALL level with only one member, which is the highest level in any hierarchy that uses the attribute dimension</p>
                        </li>
                        <li>
                           <p>Can be used by any number of hierarchies</p>
                        </li>
                     </ul>
                     <p>An attribute dimension also has the following optional characteristics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Can specify sharing its metadata or its metadata and data with an application container</p>
                        </li>
                        <li>
                           <p>Can specify the ordering of level members</p>
                        </li>
                        <li>
                           <p>Can specify classifications for the attribute dimension itself, its attributes, some of its hierarchical attributes, its levels, and the ALL member; the classifications provide metadata that an application can use in queries and in presenting query results</p>
                        </li>
                     </ul>
                     <p>The attributes determined by the included levels specify the attributes that become columns in the hierarchy, and, therefore, of any analytic view that references the hierarchy.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-97E6B9F7-451A-42B6-8E21-329B09E7CCF8__GUID-5BEC3865-A9D3-471B-9279-07E12B32C38E">About Attribute Dimension and Level Types</p>
                     <p>An attribute dimension can be either a <code class="codeph">STANDARD</code> or a <code class="codeph">TIME</code> type. Functionally, the <code class="codeph">STANDARD</code> and <code class="codeph">TIME</code> type attribute dimensions are the same. However, each level of a <code class="codeph">TIME</code> type attribute dimension must specify a level type, even though the values of the level members are not necessarily of that type. For example, a <code class="codeph">TIME</code> type attribute dimension could have a level named SEASON that has a level type of <code class="codeph">QUARTERS</code>, even though its values are the names of seasons. You can use the level types for whatever purpose you choose.
                     </p>
                     <p>The levels of a <code class="codeph">STANDARD</code> type attribute dimension are of type <code class="codeph">STANDARD</code>. You do not need to specify a level type for the levels of a <code class="codeph">STANDARD</code> type attribute dimension.
                     </p>
                     <p>The levels of a <code class="codeph">TIME</code> type attribute dimension must be one of the following level types:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">YEARS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">HALF_YEARS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">QUARTERS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">MONTHS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">WEEKS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DAYS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">HOURS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">MINUTES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SECONDS</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-97E6B9F7-451A-42B6-8E21-329B09E7CCF8__GUID-BB7B9255-98D2-4F74-BC7E-296DE0062DBB">About Hierarchies</p>
                     <p>A hierarchy has the following characteristics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>An attribute dimension</p>
                        </li>
                        <li>
                           <p>A hierarchical ordering of levels of the attribute dimension</p>
                        </li>
                        <li>
                           <p>Columns for each attribute, including determined attributes, of the levels</p>
                        </li>
                        <li>
                           <p>Columns for its hierarchical attributes</p>
                        </li>
                        <li>
                           <p>A row for each member of each level of the hierarchy and a row for an implicit ALL level, which represents a single top-level aggregate value</p>
                        </li>
                        <li>
                           <p>Metadata it inherits from the attribute dimension</p>
                        </li>
                        <li>
                           <p>May be used in the <code class="codeph">FROM</code> clause of a SQL <code class="codeph">SELECT</code> statement.
                           </p>
                        </li>
                     </ul>
                     <p>A hierarchy also has the following optional characteristics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Can specify sharing its metadata or its metadata and data with an application container</p>
                        </li>
                        <li>
                           <p>Can specify classifications for itself and for its hierarchical attributes</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-97E6B9F7-451A-42B6-8E21-329B09E7CCF8__GUID-D604D21B-F11E-446C-A672-1FAD1BF598D5">
                     <p class="titleinexample">Example 25-1 A Simple Attribute Dimension</p>
                     <p>An attribute dimension may be as simple as a list of attributes and levels defined only with key attributes. This example creates an attribute dimension that specifies as attributes only the YEAR_ID, QUARTER_ID, and MONTH_ID columns from the TIME_DIM table.</p><pre class="pre codeblock"><code>CREATE OR REPLACE ATTRIBUTE DIMENSION time_attr_dim
DIMENSION TYPE TIME
USING time_dim       -- References the TIME_DIM table
ATTRIBUTES           -- A list of table columns to be used as attributes
 (year_id,
  quarter_id,
  month_id)
LEVEL MONTH          -- A level
  LEVEL TYPE MONTHS  -- The level type
  KEY month_id       -- Attribute with unique values
LEVEL QUARTER
  LEVEL TYPE QUARTERS
  KEY quarter_id
LEVEL YEAR
  LEVEL TYPE YEARS
  KEY year_id;
</code></pre><p>For a description of the TIME_DIM table, see <a href="overview-analytic-views.html#GUID-F049EEFA-F931-433F-A678-793493DF650E" title="The data used by the examples consists of sales data in a single fact table and three dimension tables with time periods, products, and geographies.">About the Data and Scripts for Examples</a>.
                     </p>
                     <p>Each of the _ID columns in the TIME_DIM table is included in the attribute list. By default, the name of the attribute is the dimension table column name. You can provide a different name for the attribute by using the <code class="codeph">AS</code> <code class="codeph"><span class="codeinlineitalic">alias</span></code> clause in the definition.
                     </p>
                     <p>Levels are created for each attribute using the <code class="codeph">KEY</code> property, which is the only required property for a level.
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-97E6B9F7-451A-42B6-8E21-329B09E7CCF8__GUID-D1936658-555F-4DF9-A6B9-633E8877230D">
                     <p class="titleinexample">Example 25-2 A Simple Hierarchy</p><pre class="pre codeblock"><code>CREATE OR REPLACE HIERARCHY time_hier  -- Hierarchy name
USING time_attr_dim      -- Refers to the TIME_ATTR_DIM attribute dimension
 (month CHILD OF         -- Levels in the attribute dimension
  quarter CHILD OF
  year);
</code></pre><p>The hierarchy has columns for each attribute of the attribute dimension and for its hierarchical attributes.</p><pre class="pre codeblock"><code>SELECT column_name from ALL_HIER_COLUMNS WHERE HIER_NAME = 'TIME_HIER';</code></pre><img src="img/time_hier_columns.png" alt="Description of time_hier_columns.png follows" title="Description of time_hier_columns.png follows" longdesc="img_text/time_hier_columns.html"><br><a href="img_text/time_hier_columns.html">Description of the illustration time_hier_columns.png</a><p>The following selects the attribute columns and some of the hierarchical columns from TIME_HIER when TIME_ATTR_DIM is the attribute dimension defined in <a href="analytic-view-attribute-dimensions.html#GUID-97E6B9F7-451A-42B6-8E21-329B09E7CCF8__GUID-D604D21B-F11E-446C-A672-1FAD1BF598D5">Example 25-1</a>.
                     </p><pre class="pre codeblock"><code>SELECT year_id, quarter_id, month_id,
       member_name, member_unique_name
       member_caption, member_description
  FROM time_hier
  ORDER BY hier_order;</code></pre><p>An excerpt from the query results are:</p><img src="img/time_hier_col_subset.png" alt="Description of time_hier_col_subset.png follows" title="Description of time_hier_col_subset.png follows" longdesc="img_text/time_hier_col_subset.html"><br><a href="img_text/time_hier_col_subset.html">Description of the illustration time_hier_col_subset.png</a></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-E952822B-38BA-4317-9EBE-9175174DF264" name="GUID-E952822B-38BA-4317-9EBE-9175174DF264"></a><h3 id="DWHSG-GUID-E952822B-38BA-4317-9EBE-9175174DF264" class="sect3"><span class="enumeration_section">25.2 </span>Attributes and Hierarchical Attributes
               </h3>
               <div>
                  <p>Attribute dimension attributes typically reference columns from a source table or view. Hierarchical attributes provide information about the members of a hierarchy.</p>
                  <p>In an attribute dimension, attributes specify the columns of the source table or view to reference. The default name of the attribute is the name of the table column. You may provide a different name for an attribute by using syntax similar to SQL <code class="codeph">SELECT</code> clause aliases. You define levels using attributes and you define the relationships between attributes using levels. Attributes appear as columns in hierarchies, depending on the levels that the hierarchy includes and on the defined attribute relationships of the levels.
                  </p>
                  <p>The hierarchical attributes are the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">DEPTH</code> is the level depth of the hierarchy member; the ALL level is at depth 0 (zero)
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">HIER_ORDER</code> is the order of the member in the hierarchy
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">IS_LEAF</code> is a boolean value that indicates whether the member is at the lowest (leaf) level of the hierarchy
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">LEVEL_NAME</code> is the name of the level in the definition of the attribute dimension
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">MEMBER_NAME</code> is the name of the member in the definition of the attribute dimension
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">MEMBER_CAPTION</code> is <code class="codeph">NULL</code> unless you specify values for it in the definition of the attribute dimension or the hierarchy
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">MEMBER_DESCRIPTION</code> is <code class="codeph">NULL</code> unless you specify values for it in the definition of the attribute dimension or the hierarchy
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">MEMBER_UNIQUE_NAME</code> is a name that is guaranteed to be unique in the hierarchy; it is a concatenation of level name, ancestors, and key attribute values
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">PARENT_LEVEL_NAME</code> is the name of level that is the parent of the current member
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">PARENT_UNIQUE_NAME</code> is the <code class="codeph">MEMBER_UNIQUE_NAME</code> of the parent of the current member
                        </p>
                     </li>
                  </ul>
                  <p>The hierarchical attribute value is composed of the level and the lineage. The lineage includes the member’s key value. Each component of the lineage is enclosed in square brackets, and the components are separated by periods. If a component value contains a right square bracket, it is represented using two right square brackets.</p>
                  <div class="example" id="GUID-E952822B-38BA-4317-9EBE-9175174DF264__GUID-7BCD3B8C-F011-4729-89AF-FA8470D482FA">
                     <p class="titleinexample">Example 25-3 Providing Values for Some Hierarchical Attributes</p>
                     <p>This is the excerpt from the results of the query of the hierarchy based on the simple attribute dimension in <a href="analytic-view-attribute-dimensions.html#GUID-97E6B9F7-451A-42B6-8E21-329B09E7CCF8" title="An attribute dimension specifies a data source, attributes, and levels; a hierarchy organizes the levels hierarchically.">About Attribute Dimensions and Hierarchies</a>.
                     </p><img src="img/time_hier_col_subset.png" alt="Description of time_hier_col_subset.png follows" title="Description of time_hier_col_subset.png follows" longdesc="img_text/time_hier_col_subset.html"><br><a href="img_text/time_hier_col_subset.html">Description of the illustration time_hier_col_subset.png</a><p>While this hierarchy is functional, it lacks some important features. Note that the MEMBER_NAME column might not be easily readable, and the MEMBER_CAPTION and MEMBER_DESCRIPTION columns do not return data.</p>
                     <p>This new definition of the time_attr_dim attribute dimension includes the _NAME columns from the TIME_DIM table. In the definitions of the levels, it specifies attributes that contain values for the hierarchical attributes <code class="codeph">MEMBER_NAME</code>, <code class="codeph">MEMBER_CAPTION</code>, and <code class="codeph">MEMBER_DESCRIPTION</code>. This definition provides a hierarchy that uses the attribute dimension with descriptive values for the level members.
                     </p><pre class="pre codeblock"><code>CREATE OR REPLACE ATTRIBUTE DIMENSION time_attr_dim
DIMENSION TYPE TIME
USING time_dim
ATTRIBUTES
 (year_id,
  year_name,
  quarter_id,
  quarter_name,
  month_id,
  month_name,
  month_long_name)
LEVEL MONTH
  LEVEL TYPE MONTHS
  KEY month_id
  MEMBER NAME month_name
  MEMBER CAPTION month_name
  MEMBER DESCRIPTION month_long_name
LEVEL QUARTER
  LEVEL TYPE QUARTERS
  KEY quarter_id
  MEMBER NAME quarter_name
  MEMBER CAPTION quarter_name
  MEMBER DESCRIPTION quarter_name
LEVEL YEAR
  LEVEL TYPE YEARS
  KEY year_id
  MEMBER NAME year_name
  MEMBER CAPTION year_name
  MEMBER DESCRIPTION year_name;</code></pre><p>This statement selects the attribute columns and some of the hierarchical columns from the TIME_HIER hierarchy.</p><pre class="pre codeblock"><code>SELECT year_id, quarter_id, month_id,
       member_name, member_unique_name,
       member_caption, member_description
  FROM time_hier
  ORDER BY hier_order;</code></pre><p>An excerpt from the query results are:</p><img src="img/time_hier_col_subset_hier_attrs.png" alt="Description of time_hier_col_subset_hier_attrs.png follows" title="Description of time_hier_col_subset_hier_attrs.png follows" longdesc="img_text/time_hier_col_subset_hier_attrs.html"><br><a href="img_text/time_hier_col_subset_hier_attrs.html">Description of the illustration time_hier_col_subset_hier_attrs.png</a><p>The ordering of time periods is not yet correct for reporting on time series calculations; for example, February comes before January. For an example of specifying a sort order for a level, see <a href="analytic-view-attribute-dimensions.html#GUID-1E3D0FF9-C03F-4907-B20A-19BEE9EA99FD" title="You can specify the order of attribute dimension level members.">Order Levels</a>.
                     </p>
                  </div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-1E3D0FF9-C03F-4907-B20A-19BEE9EA99FD" name="GUID-1E3D0FF9-C03F-4907-B20A-19BEE9EA99FD"></a><h3 id="DWHSG-GUID-1E3D0FF9-C03F-4907-B20A-19BEE9EA99FD" class="sect3"><span class="enumeration_section">25.3 </span>Order Levels
               </h3>
               <div>
                  <p>You can specify the order of attribute dimension level members.</p>
                  <p> You may use the <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause of an attribute dimension level definition to specify an order for members of the level. By default, values of an attribute dimension level are sorted alphabetically by the <code class="codeph">MEMBER_NAME</code> value. If you do not specify a member name, the level is ordered by its <code class="codeph">KEY</code> attribute value. 
                  </p>
                  <p>The <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause also specifies whether <code class="codeph">NULL</code> values are first or last in the order. You may specify <code class="codeph">MIN</code> or <code class="codeph">MAX</code> <span class="italic">expression</span> if the attribute is not determined by the level, with the default being <code class="codeph">MIN</code>.
                  </p>
                  <div class="example" id="GUID-1E3D0FF9-C03F-4907-B20A-19BEE9EA99FD__GUID-379519DD-35EC-4C49-90CB-BD5278852153">
                     <p class="titleinexample">Example 25-4 Add End Dates</p>
                     <p>This example adds end date attributes to the definition of the time_attr_dim attribute dimension.</p><pre class="pre codeblock"><code>CREATE OR REPLACE ATTRIBUTE DIMENSION time_attr_dim
DIMENSION TYPE TIME
USING time_dim
ATTRIBUTES
 (year_id,
  year_name,
  year_end_date,
  quarter_id,
  quarter_name,
  quarter_end_date,
  month_id,
  month_name,
  month_long_name,
  month_end_date)
LEVEL MONTH
  KEY month_id
  MEMBER NAME month_name
  MEMBER CAPTION month_name
  MEMBER DESCRIPTION month_long_name
  ORDER BY month_end_date
LEVEL QUARTER
  KEY quarter_id
  MEMBER NAME quarter_name
  MEMBER CAPTION quarter_name
  MEMBER DESCRIPTION quarter_name
  ORDER BY quarter_end_date
LEVEL YEAR
  KEY year_id
  MEMBER NAME year_name
  MEMBER CAPTION year_name
  MEMBER DESCRIPTION year_name
  ORDER BY year_end_date;</code></pre><p>This is the definition of the time_hier hierarchy.</p><pre class="pre codeblock"><code>CREATE OR REPLACE HIERARCHY time_hier
USING time_attr_dim
 (month CHILD OF
  quarter CHILD OF
  year);</code></pre><p>This query includes the hierarchy order attribute.</p><pre class="pre codeblock"><code>SELECT year_id,
  quarter_id,
  month_id,
  member_name,
  hier_order
FROM time_hier
ORDER BY hier_order;</code></pre><p>This is an excerpt from the query results.</p><img src="img/time_hier_col_subset_orderby.png" alt="Description of time_hier_col_subset_orderby.png follows" title="Description of time_hier_col_subset_orderby.png follows" longdesc="img_text/time_hier_col_subset_orderby.html"><br><a href="img_text/time_hier_col_subset_orderby.html">Description of the illustration time_hier_col_subset_orderby.png</a><p>The level members are now sorted by end dates.</p>
                  </div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-74255279-0ED0-49EC-A393-6F97B7A66756" name="GUID-74255279-0ED0-49EC-A393-6F97B7A66756"></a><h3 id="DWHSG-GUID-74255279-0ED0-49EC-A393-6F97B7A66756" class="sect3"><span class="enumeration_section">25.4 </span>Level Keys
               </h3>
               <div>
                  <p>A level key attribute specifies the data source of the level members.</p>
                  <p>An attribute dimension level specifies key and optional alternate key attributes that provide the members of the level.</p>
                  <p>A level must have a key, which is defined by a single attribute, or by multiple attributes for a compound key. Each distinct value for the key defines an attribute dimension member at that level.</p>
                  <p>A level can also have one or more alternate keys. An alternate key must have a one-to-one relationship with the level key: an attribute specified as an alternate key must have a unique value for every member of the level key attribute.</p>
                  <div class="example" id="GUID-74255279-0ED0-49EC-A393-6F97B7A66756__GUID-AF379B8B-1C60-4EDD-8D6D-76FC861A9741">
                     <p class="titleinexample">Example 25-5 Create the PRODUCT_ATTR_DIM Attribute Dimension</p>
                     <p>This example creates the product_attr_dim attribute dimension. The level clauses specify keys and alternate keys.</p><pre class="pre codeblock"><code>CREATE OR REPLACE ATTRIBUTE DIMENSION product_attr_dim
USING product_dim 
ATTRIBUTES
 (department_id,
  department_name,
  category_id,
  category_name)
LEVEL DEPARTMENT
  KEY department_id
  ALTERNATE KEY department_name
  MEMBER NAME department_name
  MEMBER CAPTION department_name
  ORDER BY department_name
LEVEL CATEGORY
  KEY category_id
  ALTERNATE KEY category_name
  MEMBER NAME category_name
  MEMBER CAPTION category_name
  ORDER BY category_name
  DETERMINES(department_id)
ALL MEMBER NAME 'ALL PRODUCTS';</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-5DF93D12-C776-427D-BB27-1A6270B02B2A" name="GUID-5DF93D12-C776-427D-BB27-1A6270B02B2A"></a><h3 id="DWHSG-GUID-5DF93D12-C776-427D-BB27-1A6270B02B2A" class="sect3"><span class="enumeration_section">25.5 </span>Determine Attribute Relationships
               </h3>
               <div>
                  <p>You can specify that an attribute of a level determines the values of other attributes.</p>
                  <p>You can use the <code class="codeph">DETERMINES</code> clause of an attribute dimension level definition to specify a relationship between the level key attribute and other attributes. When there is only one value of an attribute for each value of another attribute, the value of one attribute <span class="italic">determines</span> the value of another.  For example, there is only one value of QUARTER_ID for each value of MONTH_ID; MONTH_ID determines QUARTER_ID.
                  </p>
                  <p>An attribute determined by a level is included in a hierarchy that uses the attribute dimension. An attribute specified in a <code class="codeph">DETERMINES</code> clause can have the same value for different level members. A level implicitly determines its key and alternate key attributes, although, unlike the attributes in a <code class="codeph">DETERMINES</code> clause, those attributes must have unique values.
                  </p>
                  <p>The relationships specified by a <code class="codeph">DETERMINES</code> clause can do the following:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Change the number of rows returned by a hierarchy</p>
                     </li>
                     <li>
                        <p>Control whether certain attributes return data for certain rows</p>
                     </li>
                     <li>
                        <p>Simplify the SQL that is generated when an analytic view is queried</p>
                     </li>
                  </ul>
                  <p>Specifying determined attributes helps a hierarchy or analytic view to determine a unique value for a member. If an attribute is determined by a level, you do not need to explicitly specify in a query the attribute value that identifies the relationship of the determined attribute to the hierarchy member. For example, a <code class="codeph">QUALIFY</code> calculation requires a uniquely identified hierarchy member. If you omit attributes from a <code class="codeph">DETERMINES</code> clause, then in an analytic view measure that uses a <code class="codeph">QUALIFY</code> calculation, you must explicitly specify those attributes to identify the unique member.
                  </p>
                  <p>The relationship of determined attributes to key and alternate key attributes is not validated or enforced in an attribute dimension or in a hierarchy that uses the attribute dimension. To validate the relationship, use the PL/SQL procedure <code class="codeph">DBMS_HIERARCHY.VALIDATE_HIERARCHY</code>, which inspects the data in the source table or view.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-5DF93D12-C776-427D-BB27-1A6270B02B2A__GUID-A4A8D806-1407-4C6C-8F0E-BCB35678BBA3">Usage Notes</p>
                     <p>When using a <code class="codeph">DETERMINES</code> clause, consider the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Include in a <code class="codeph">DETERMINES</code> clause the <code class="codeph">KEY</code> attribute of a parent level in a hierarchy whenever the key of the lower level determines the value of the parent level. Lower levels inherit the determined attributes of ancestor levels; therefore, it is a good practice to include the key attribute value of the parent level in the <code class="codeph">DETERMINES</code> clause of the lower level.
                           </p>
                        </li>
                        <li>
                           <p>Values of the <code class="codeph">MEMBER</code> <code class="codeph">NAME</code>, <code class="codeph">MEMBER</code> <code class="codeph">CAPTION</code>, <code class="codeph">MEMBER</code> <code class="codeph">DESCRIPTION</code>, and <code class="codeph">ORDER</code> <code class="codeph">BY</code> properties are assumed to be determined by the <code class="codeph">KEY</code> attribute value.  You do not need to include attributes for those properties in a <code class="codeph">DETERMINES</code> clause.  You should be sure, however, that the data for those attributes has only one value for each value of the <code class="codeph">KEY</code> attribute.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-5DF93D12-C776-427D-BB27-1A6270B02B2A__GUID-7B160279-E98F-4DA1-B490-B4F3B91738CC">
                     <p class="titleinexample">Example 25-6 Add DETERMINES Clauses</p>
                     <p>This example adds the <code class="codeph">DETERMINES</code> clause to the levels of time_attr_dim.
                     </p><pre class="pre codeblock"><code>CREATE OR REPLACE ATTRIBUTE DIMENSION time_attr_dim
DIMENSION TYPE TIME
USING time_dim
ATTRIBUTES
 (year_id,
  year_name,
  year_end_date,
  quarter_id,
  quarter_name,
  quarter_end_date,
  month_id,
  month_name,
  month_long_name,
  month_end_date)
LEVEL MONTH
  LEVEL TYPE MONTHS
  KEY month_id
  MEMBER NAME month_name
  MEMBER CAPTION month_name
  MEMBER DESCRIPTION month_long_name
  ORDER BY month_end_date
  DETERMINES (quarter_id)
LEVEL QUARTER
  LEVEL TYPE QUARTERS
  KEY quarter_id
  MEMBER NAME quarter_name
  MEMBER CAPTION quarter_name
  MEMBER DESCRIPTION quarter_name
  ORDER BY quarter_end_date
  DETERMINES (year_id)
LEVEL YEAR
  LEVEL TYPE YEARS
  KEY year_id
  MEMBER NAME year_name
  MEMBER CAPTION year_name
  MEMBER DESCRIPTION year_name
  ORDER BY year_end_date;</code></pre><p>Select the LEVEL_NAME, _ID, and MEMBER_UNIQUE_NAME columns from the TIME_HIER hierarchy.</p><pre class="pre codeblock"><code>SELECT level_name,
  year_id,
  quarter_id,
  month_id,
  member_unique_name
FROM time_hier
ORDER BY hier_order;</code></pre><p>The hierarchy now knows the relationship between the months, quarters, and years attributes, as shown in the following results of the preceding query. The <code class="codeph">MEMBER_UNIQUE_NAME</code> values are now created from only the level name and the <code class="codeph">KEY</code> attribute value; they no longer must include the full lineage as seen in <a href="analytic-view-attribute-dimensions.html#GUID-E952822B-38BA-4317-9EBE-9175174DF264__GUID-7BCD3B8C-F011-4729-89AF-FA8470D482FA">Example 25-3</a>.
                     </p><img src="img/time_hier_col_subset_determines.png" alt="Description of time_hier_col_subset_determines.png follows" title="Description of time_hier_col_subset_determines.png follows" longdesc="img_text/time_hier_col_subset_determines.html"><br><a href="img_text/time_hier_col_subset_determines.html">Description of the illustration time_hier_col_subset_determines.png</a></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>