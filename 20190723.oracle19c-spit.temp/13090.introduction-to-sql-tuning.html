<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="SQL tuning is the attempt to diagnose and repair SQL statements that fail to meet a performance standard.">
      <meta name="description" content="SQL tuning is the attempt to diagnose and repair SQL statements that fail to meet a performance standard.">
      <title>Introduction to SQL Tuning</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Tuning Guide">
      <meta property="og:description" content="SQL tuning is the attempt to diagnose and repair SQL statements that fail to meet a performance standard.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Tuning Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-tuning-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-31T14:57:08-08:00">
      <meta name="dcterms.title" content="SQL Tuning Guide">
      <meta name="dcterms.dateCopyrighted" content="2013, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96095-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="sql-performance-fundamentals.html" title="Previous" type="text/html">
      <link rel="next" href="sql-performance-methodology.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TGSQL">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="sql-performance-fundamentals.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="sql-performance-methodology.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Tuning Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="sql-performance-fundamentals.html" property="item" typeof="WebPage"><span property="name">SQL Performance Fundamentals</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Introduction to SQL Tuning</li>
            </ol>
            <a id="GUID-B653E5F3-F078-4BBC-9516-B892960046A2" name="GUID-B653E5F3-F078-4BBC-9516-B892960046A2"></a><a id="TGSQL112"></a>
            
            <h2 id="TGSQL-GUID-B653E5F3-F078-4BBC-9516-B892960046A2" class="sect2"><span class="enumeration_chapter">1 </span>Introduction to SQL Tuning
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>SQL tuning is the attempt to diagnose and repair SQL statements that fail to meet a performance standard.</p>
               <p>This chapter contains the following topics:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-9771D972-EA7B-49A6-A73D-794F802B6E8E">About SQL Tuning</a><br><span class="bold">SQL tuning</span> is the iterative process of improving SQL statement performance to meet specific, measurable, and achievable goals. 
                  </li>
                  <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-BB79CBE8-6CB2-4F45-8DEF-FD0DC6D0DA43">Purpose of SQL Tuning</a><br>A SQL statement becomes a problem when it fails to perform according to a predetermined and measurable standard. 
                  </li>
                  <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-BEC88C75-1F53-47A6-859D-A5FCDAFEF3B0">Prerequisites for SQL Tuning</a><br>SQL performance tuning requires a foundation of database knowledge.
                  </li>
                  <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-77F09850-FF1A-4EC4-BE4E-D41B3597AEF2">Tasks and Tools for SQL Tuning</a><br>After you have identified the goal for a tuning session, for example, reducing user response time from three minutes to less than a second, the problem becomes how to accomplish this goal.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="sql-performance-fundamentals.html#GUID-DD9CAA74-3E0B-48C9-8770-AADB614BC992" title="SQL tuning is improving SQL statement performance to meet specific, measurable, and achievable goals.">SQL Performance Fundamentals</a></p>
                  </div>
               </div>
            </div>
            <a id="TGSQL113"></a><div class="props_rev_3"><a id="GUID-9771D972-EA7B-49A6-A73D-794F802B6E8E" name="GUID-9771D972-EA7B-49A6-A73D-794F802B6E8E"></a><h3 id="TGSQL-GUID-9771D972-EA7B-49A6-A73D-794F802B6E8E" class="sect3"><span class="enumeration_section">1.1 </span>About SQL Tuning
               </h3>
               <div>
                  <p><span class="bold">SQL tuning</span> is the iterative process of improving SQL statement performance to meet specific, measurable, and achievable goals. 
                  </p>
                  <p>SQL tuning implies fixing problems in deployed applications. In contrast, application design sets the security and performance goals <span class="italic">before</span> deploying an application.
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-9771D972-EA7B-49A6-A73D-794F802B6E8E__GUID-5F82407F-E03E-4215-8CB0-FF4E3A63EBB6">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="sql-performance-methodology.html#GUID-C8B23C09-35B5-4F0E-90B2-272805EC4062" title="This chapter describes the recommended methodology for SQL tuning.">SQL Performance Methodology</a></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="sql-performance-methodology.html#GUID-A72B875B-0FAF-40A0-A9A2-7E62DEA36F50" title="The key to obtaining good SQL performance is to design your application with performance in mind.">Guidelines for Designing Your Application</a>"</span> to learn how to design for SQL performance
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-B653E5F3-F078-4BBC-9516-B892960046A2" title="SQL tuning is the attempt to diagnose and repair SQL statements that fail to meet a performance standard.">Introduction to SQL Tuning</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TGSQL114"></a><div class="props_rev_3"><a id="GUID-BB79CBE8-6CB2-4F45-8DEF-FD0DC6D0DA43" name="GUID-BB79CBE8-6CB2-4F45-8DEF-FD0DC6D0DA43"></a><h3 id="TGSQL-GUID-BB79CBE8-6CB2-4F45-8DEF-FD0DC6D0DA43" class="sect3"><span class="enumeration_section">1.2 </span>Purpose of SQL Tuning
               </h3>
               <div>
                  <p>A SQL statement becomes a problem when it fails to perform according to a predetermined and measurable standard. </p>
                  <p>After you have identified the problem, a typical tuning session has one of the following goals:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Reduce <a href="glossary.html#GUID-00DF9005-7FEB-421A-8EE0-562473AF8138"><span class="xrefglossterm">user response time</span></a>, which means decreasing the time between when a user issues a statement and receives a response
                        </p>
                     </li>
                     <li>
                        <p>Improve <a href="glossary.html#GUID-BFB3B290-B7BF-4E9C-B2EB-F318EAC34DAF"><span class="xrefglossterm">throughput</span></a>, which means using the least amount of resources necessary to process all rows accessed by a statement
                        </p>
                     </li>
                  </ul>
                  <p>For a response time problem, consider an online book seller application that hangs for three minutes after a customer updates the shopping cart. Contrast with a three-minute <a href="glossary.html#GUID-9A5FF1B2-DC89-4A7F-A8CF-EC4EB14B86A5"><span class="xrefglossterm">parallel query</span></a> in a data warehouse that consumes all of the database host CPU, preventing other queries from running. In each case, the user response time is three minutes, but the cause of the problem is different, and so is the tuning goal.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-B653E5F3-F078-4BBC-9516-B892960046A2" title="SQL tuning is the attempt to diagnose and repair SQL statements that fail to meet a performance standard.">Introduction to SQL Tuning</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TGSQL115"></a><div class="props_rev_3"><a id="GUID-BEC88C75-1F53-47A6-859D-A5FCDAFEF3B0" name="GUID-BEC88C75-1F53-47A6-859D-A5FCDAFEF3B0"></a><h3 id="TGSQL-GUID-BEC88C75-1F53-47A6-859D-A5FCDAFEF3B0" class="sect3"><span class="enumeration_section">1.3 </span>Prerequisites for SQL Tuning
               </h3>
               <div>
                  <p>SQL performance tuning requires a foundation of database knowledge.</p>
                  <div class="section">
                     <p>If you are tuning SQL performance, then this manual assumes that you have the knowledge and skills shown in the following table.</p>
                     <div class="tblformal" id="GUID-BEC88C75-1F53-47A6-859D-A5FCDAFEF3B0__GUID-2537E4EE-B26B-47A2-AE98-333AB724D319">
                        <p class="titleintable">Table 1-1 Required Knowledge</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Required Knowledge" summary="This table describes the knowledge required for SQL tuning." frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d7533e542">Required Knowledge</th>
                                 <th align="left" valign="bottom" width="20%" id="d7533e544">Description</th>
                                 <th align="left" valign="bottom" width="20%" id="d7533e546">To Learn More</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d7533e550" headers="d7533e542 ">
                                    <p>Database architecture</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d7533e550 d7533e544 ">
                                    <p>Database architecture is not the domain of administrators alone. As a developer, you want to develop applications in the least amount of time against an Oracle database, which requires exploiting the database architecture and features. For example, not understanding Oracle Database concurrency controls and multiversioning read consistency may make an application corrupt the integrity of the data, run slowly, and decrease scalability.</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d7533e550 d7533e546 ">
                                    <p><a href="../cncpt/sql.html#CNCPT015" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> explains the basic relational data structures, transaction management, storage structures, and instance architecture of Oracle Database.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d7533e565" headers="d7533e542 ">
                                    <p>SQL and PL/SQL</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d7533e565 d7533e544 ">
                                    <p>Because of the existence of GUI-based tools, it is possible to create applications and administer a database without knowing SQL. However, it is impossible to tune applications or a database without knowing SQL.</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d7533e565 d7533e546 ">
                                    <p><a href="../cncpt/sql.html#CNCPT015" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> includes an introduction to Oracle SQL and PL/SQL. You must also have a working knowledge of <a href="../sqlrf/Introduction-to-Oracle-SQL.html#SQLRF001" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>, <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsql&amp;id=LNPLS001" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a>, and <a href="../arpls/introduction-to-oracle-supplied-plsql-packages-and-types.html#ARPLS001" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d7533e598" headers="d7533e542 ">
                                    <p>SQL tuning tools</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d7533e598 d7533e544 ">
                                    <p>The database generates performance statistics, and provides SQL tuning tools that interpret these statistics. </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d7533e598 d7533e546 ">
                                    <p><a href="../tdppt/introduction.html#GUID-30B13942-F6D7-4958-8D07-762EBD0C61F2" target="_blank"><span><cite>Oracle Database 2 Day + Performance Tuning Guide</cite></span></a> provides an introduction to the principal SQL tuning tools.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-B653E5F3-F078-4BBC-9516-B892960046A2" title="SQL tuning is the attempt to diagnose and repair SQL statements that fail to meet a performance standard.">Introduction to SQL Tuning</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TGSQL116"></a><div class="props_rev_3"><a id="GUID-77F09850-FF1A-4EC4-BE4E-D41B3597AEF2" name="GUID-77F09850-FF1A-4EC4-BE4E-D41B3597AEF2"></a><h3 id="TGSQL-GUID-77F09850-FF1A-4EC4-BE4E-D41B3597AEF2" class="sect3"><span class="enumeration_section">1.4 </span>Tasks and Tools for SQL Tuning
               </h3>
               <div>
                  <p>After you have identified the goal for a tuning session, for example, reducing user response time from three minutes to less than a second, the problem becomes how to accomplish this goal.</p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-ADD9B100-7FFC-4652-941A-E6FEF8FD7D7E">SQL Tuning Tasks</a><br>The specifics of a tuning session depend on many factors, including whether you tune proactively or reactively. 
                     </li>
                     <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-2E23C8E6-7FC6-406F-AE5F-BF2677BB8800">SQL Tuning Tools</a><br>SQL tuning tools are either automated or manual.
                     </li>
                     <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-EAEB23B9-E5E0-4156-83FE-E5258BD33BC6">User Interfaces to SQL Tuning Tools</a><br>Cloud Control is a system management tool that provides centralized management of a database environment. Cloud Control provides access to most tuning tools.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-B653E5F3-F078-4BBC-9516-B892960046A2" title="SQL tuning is the attempt to diagnose and repair SQL statements that fail to meet a performance standard.">Introduction to SQL Tuning</a></p>
                     </div>
                  </div>
               </div>
               <a id="TGSQL117"></a><div class="props_rev_3"><a id="GUID-ADD9B100-7FFC-4652-941A-E6FEF8FD7D7E" name="GUID-ADD9B100-7FFC-4652-941A-E6FEF8FD7D7E"></a><h4 id="TGSQL-GUID-ADD9B100-7FFC-4652-941A-E6FEF8FD7D7E" class="sect4"><span class="enumeration_section">1.4.1 </span>SQL Tuning Tasks
                  </h4>
                  <div>
                     <p>The specifics of a tuning session depend on many factors, including whether you tune proactively or reactively. </p>
                     <p>In <span class="bold">proactive SQL tuning</span>, you regularly use SQL Tuning Advisor to determine whether you can make SQL statements perform better. In <span class="bold">reactive SQL tuning</span>, you correct a SQL-related problem that a user has experienced.
                     </p>
                     <p>Whether you tune proactively or reactively, a typical SQL tuning session involves all or most of the following tasks:</p>
                     <ol>
                        <li>
                           <p>Identifying high-load SQL statements</p>
                           <p>Review past execution history to find the statements responsible for a large share of the application workload and system resources.</p>
                        </li>
                        <li>
                           <p>Gathering performance-related data</p>
                           <p>The <a href="glossary.html#GUID-F9E13693-82F8-4FD3-8B9F-C58CA0DAEEB0"><span class="xrefglossterm">optimizer statistics</span></a> are crucial to SQL tuning. If these statistics do not exist or are no longer accurate, then the optimizer cannot generate the best plan. Other data relevant to SQL performance include the structure of tables and views that the statement accessed, and definitions of any indexes available to the statement.
                           </p>
                        </li>
                        <li>
                           <p>Determining the causes of the problem</p>
                           <p>Typically, causes of SQL performance problems include:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Inefficiently designed SQL statements</p>
                                 <p>If a SQL statement is written so that it performs unnecessary work, then the optimizer cannot do much to improve its performance. Examples of inefficient design include </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Neglecting to add a <a href="glossary.html#GUID-F2A09892-D404-46BD-82B1-3DB0BC286FE2"><span class="xrefglossterm">join condition</span></a>, which leads to a <a href="glossary.html#GUID-F4749B27-739F-49F1-82BB-9F1455F792B3"><span class="xrefglossterm">Cartesian join</span></a></p>
                                    </li>
                                    <li>
                                       <p>Using hints to specify a large table as the <a href="glossary.html#GUID-8D98E7F2-8BAD-4AE2-8C72-DCD0733CB9CE"><span class="xrefglossterm">driving table</span></a> in a join
                                       </p>
                                    </li>
                                    <li>
                                       <p>Specifying <code class="codeph">UNION</code> instead of <code class="codeph">UNION ALL</code></p>
                                    </li>
                                    <li>
                                       <p>Making a <a href="glossary.html#GUID-2FDBC001-FC8C-4A33-8B4F-5C64E69016D1"><span class="xrefglossterm">subquery</span></a> execute for every row in an outer query
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Suboptimal execution plans</p>
                                 <p>The <a href="glossary.html#GUID-9E946687-BB0E-4BEB-9B69-DB50C9C2D266"><span class="xrefglossterm">query optimizer</span></a> (also called the <a href="glossary.html#GUID-7163D885-D24A-4E8C-B5A5-2606F718449E"><span class="xrefglossterm">optimizer</span></a>) is internal software that determines which <a href="glossary.html#GUID-800F2BE7-A383-4FF3-A9A6-FCE786AABA3B"><span class="xrefglossterm">execution plan</span></a> is most efficient. Sometimes the optimizer chooses a plan with a suboptimal <a href="glossary.html#GUID-22DF198C-4310-4307-BF29-DCE765725BD4"><span class="xrefglossterm">access path</span></a>, which is the means by which the database retrieves data from the database. For example, the plan for a query predicate with low <a href="glossary.html#GUID-36E411B8-9558-4655-844A-B2EC45FDDFA7"><span class="xrefglossterm">selectivity</span></a> may use a <a href="glossary.html#GUID-DCAD1CDB-8714-4900-9CB3-8C26802D3B63"><span class="xrefglossterm">full table scan</span></a> on a large table instead of an index.
                                 </p>
                                 <p>You can compare the execution plan of an optimally performing SQL statement to the plan of the statement when it performs suboptimally. This comparison, along with information such as changes in data volumes, can help identify causes of performance degradation.</p>
                              </li>
                              <li>
                                 <p>Missing SQL access structures</p>
                                 <p>Absence of SQL access structures, such as indexes and materialized views, is a typical reason for suboptimal SQL performance. The optimal set of access structures can improve SQL performance by orders of magnitude.</p>
                              </li>
                              <li>
                                 <p>Stale optimizer statistics</p>
                                 <p>Statistics gathered by <code class="codeph">DBMS_STATS</code> can become stale when the statistics maintenance operations, either automatic or manual, cannot keep up with the changes to the table data caused by DML. Because stale statistics on a table do not accurately reflect the table data, the optimizer can make decisions based on faulty information and generate suboptimal execution plans.
                                 </p>
                              </li>
                              <li>
                                 <p>Hardware problems</p>
                                 <p>Suboptimal performance might be connected with memory, I/O, and CPU problems.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Defining the scope of the problem</p>
                           <p>The scope of the solution must match the scope of the problem. Consider a problem at the database level and a problem at the statement level. For example, the shared pool is too small, which causes cursors to age out quickly, which in turn causes many hard parses. Using an initialization parameter to increase the shared pool size fixes the problem at the database level and improves performance for all sessions. However, if a single SQL statement is not using a helpful index, then changing the optimizer initialization parameters for the entire database could harm overall performance. If a single SQL statement has a problem, then an appropriately scoped solution addresses just this problem with this statement.</p>
                        </li>
                        <li>
                           <p>Implementing corrective actions for suboptimally performing SQL statements</p>
                           <p>These actions vary depending on circumstances. For example, you might rewrite a SQL statement to be more efficient, avoiding unnecessary hard parsing by rewriting the statement to use bind variables. You might also use equijoins, remove functions from <code class="codeph">WHERE</code> clauses, and break a complex SQL statement into multiple simple statements.
                           </p>
                           <p>In some cases, you improve SQL performance not by rewriting the statement, but by restructuring schema objects. For example, you might index a new <a href="glossary.html#GUID-22DF198C-4310-4307-BF29-DCE765725BD4"><span class="xrefglossterm">access path</span></a>, or reorder columns in a concatenated index. You might also partition a table, introduce derived values, or even change the database design.
                           </p>
                        </li>
                        <li>
                           <p>Preventing SQL performance regressions</p>
                           <p>To ensure optimal SQL performance, verify that execution plans continue to provide optimal performance, and choose better plans if they come available. You can achieve these goals using optimizer statistics, SQL profiles, and SQL plan baselines.</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-ADD9B100-7FFC-4652-941A-E6FEF8FD7D7E__GUID-6C231F02-B8A9-471F-80D5-3EC842CE6CBA">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p> <span class="q">"<a href="sql-processing.html#GUID-BFF0B26C-0A5D-4F79-B01E-8E1C4064A6AD" title="During the parse, the database performs a shared pool check to determine whether it can skip resource-intensive steps of statement processing.">Shared Pool Check</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../cncpt/memory-architecture.html#CNCPT-GUID-1CB2BA23-4386-46DA-9146-5FE0E4599AC6" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> to learn more about the shared pool
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-77F09850-FF1A-4EC4-BE4E-D41B3597AEF2" title="After you have identified the goal for a tuning session, for example, reducing user response time from three minutes to less than a second, the problem becomes how to accomplish this goal.">Tasks and Tools for SQL Tuning</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL118"></a><div class="props_rev_3"><a id="GUID-2E23C8E6-7FC6-406F-AE5F-BF2677BB8800" name="GUID-2E23C8E6-7FC6-406F-AE5F-BF2677BB8800"></a><h4 id="TGSQL-GUID-2E23C8E6-7FC6-406F-AE5F-BF2677BB8800" class="sect4"><span class="enumeration_section">1.4.2 </span>SQL Tuning Tools
                  </h4>
                  <div>
                     <p>SQL tuning tools are either automated or manual.</p>
                     <p>In this context, a tool is automated if the database itself can provide diagnosis, advice, or corrective actions. A manual tool requires you to perform all of these operations.</p>
                     <p>All tuning tools depend on the basic tools of the dynamic performance views, statistics, and metrics that the database instance collects. The database itself contains the data and metadata required to tune SQL statements.</p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-6C88B926-CFD4-4402-B1AE-CDAEDCA553A8">Automated SQL Tuning Tools</a><br>Oracle Database provides several advisors relevant for SQL tuning.
                        </li>
                        <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-B770B7C7-2D0D-4E8A-9A29-811A5E2A9D4F">Manual SQL Tuning Tools</a><br>In some situations, you may want to run manual tools in addition to the automated tools. Alternatively, you may not have access to the automated tools. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-77F09850-FF1A-4EC4-BE4E-D41B3597AEF2" title="After you have identified the goal for a tuning session, for example, reducing user response time from three minutes to less than a second, the problem becomes how to accomplish this goal.">Tasks and Tools for SQL Tuning</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TGSQL119"></a><div class="props_rev_3"><a id="GUID-6C88B926-CFD4-4402-B1AE-CDAEDCA553A8" name="GUID-6C88B926-CFD4-4402-B1AE-CDAEDCA553A8"></a><h5 id="TGSQL-GUID-6C88B926-CFD4-4402-B1AE-CDAEDCA553A8" class="sect5"><span class="enumeration_section">1.4.2.1 </span>Automated SQL Tuning Tools
                     </h5>
                     <div>
                        <p>Oracle Database provides several advisors relevant for SQL tuning.</p>
                        <p>Additionally, <a href="glossary.html#GUID-7504D0DE-9297-476C-808B-EDCDB1EF43E0"><span class="xrefglossterm">SQL plan management</span></a> is a mechanism that can prevent performance regressions and also help you to improve SQL performance.
                        </p>
                        <p>All of the automated SQL tuning tools can use SQL tuning sets as input. A <a href="glossary.html#GUID-52FB0AE5-7346-44E5-BE92-3C09385B1DDC"><span class="xrefglossterm">SQL tuning set (STS)</span></a> is a database object that includes one or more SQL statements along with their execution statistics and execution context.
                        </p>
                        <p>This section contains the following topics:</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-42BD7803-2538-4469-9D60-88B9C66BB7DE">Automatic Database Diagnostic Monitor (ADDM)</a><br><span class="bold">ADDM</span> is self-diagnostic software built into Oracle Database. 
                           </li>
                           <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-EBC955B9-0AD3-42A3-86CF-CDD90D72E18C">SQL Tuning Advisor</a><br><span class="bold">SQL Tuning Advisor</span> is internal diagnostic software that identifies problematic SQL statements and recommends how to improve statement performance. 
                           </li>
                           <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-B237A2A2-7CA2-4AC9-B81C-71C5757C20B2">SQL Access Advisor</a><br><strong class="term">SQL Access Advisor</strong> is internal diagnostic software that recommends which materialized views, indexes, and materialized view logs to create, drop, or retain.
                           </li>
                           <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-3B48610F-1708-4653-845C-2A9D14801DF2">Automatic Indexing</a><br>Oracle Database can constantly monitor the application workload, creating and managing indexes automatically.
                           </li>
                           <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-4468EE63-8DE3-4CC4-9DF8-17E96448EA4D">SQL Plan Management</a><br>SQL plan management is a preventative mechanism that enables the optimizer to automatically manage execution plans, ensuring that the database uses only known or verified plans. 
                           </li>
                           <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-2954A5AD-42CC-407B-991E-5C935F403E6B">SQL Performance Analyzer</a><br>SQL Performance Analyzer determines the effect of a change on a SQL workload by identifying performance divergence for each SQL statement. 
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-6C88B926-CFD4-4402-B1AE-CDAEDCA553A8__GUID-9AD90F43-0BD2-465C-8F01-AA633DD20BAD">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-sql-tuning-sets.html#GUID-DD136837-9921-4C73-ABB8-9F1DC22542C5" title="A SQL tuning set (STS) is a database object that you can use as input to tuning tools.">About SQL Tuning Sets</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsql&amp;id=TDPPT-GUID-13081B28-AB2A-485F-B836-74DAA9961BAA" target="_blank"><span><cite>Oracle Database 2 Day + Performance Tuning Guide</cite></span></a> to learn more about managing SQL tuning sets
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-2E23C8E6-7FC6-406F-AE5F-BF2677BB8800" title="SQL tuning tools are either automated or manual.">SQL Tuning Tools</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="TGSQL120"></a><div class="props_rev_3"><a id="GUID-42BD7803-2538-4469-9D60-88B9C66BB7DE" name="GUID-42BD7803-2538-4469-9D60-88B9C66BB7DE"></a><h6 id="TGSQL-GUID-42BD7803-2538-4469-9D60-88B9C66BB7DE" class="sect6"><span class="enumeration_section">1.4.2.1.1 </span>Automatic Database Diagnostic Monitor (ADDM)
                        </h6>
                        <div>
                           <p><span class="bold">ADDM</span> is self-diagnostic software built into Oracle Database. 
                           </p>
                           <p>ADDM can automatically locate the root causes of performance problems, provide recommendations for correction, and quantify the expected benefits. ADDM also identifies areas where no action is necessary.</p>
                           <p>ADDM and other advisors use <a href="glossary.html#GUID-91E88F5F-4220-4B1A-8578-CCFF27FBBCA9"><span class="xrefglossterm">Automatic Workload Repository (AWR)</span></a>, which is an infrastructure that provides services to database components to collect, maintain, and use statistics. ADDM examines and analyzes statistics in AWR to determine possible performance problems, including high-load SQL.
                           </p>
                           <p>For example, you can configure ADDM to run nightly. In the morning, you can examine the latest ADDM report to see what might have caused a problem and if there is a recommended fix. The report might show that a particular <code class="codeph">SELECT</code> statement consumed a huge amount of CPU, and recommend that you run SQL Tuning Advisor.
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-42BD7803-2538-4469-9D60-88B9C66BB7DE__GUID-02A48CE7-1924-480F-9C8B-6B8EB94CF9F4">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../tdppt/automatic-database-performance-monitoring.html#TDPPT020" target="_blank"><span><cite>Oracle Database 2 Day + Performance Tuning Guide</cite></span></a></p>
                                 </li>
                                 <li>
                                    <p><a href="../tgdba/automatic-performance-diagnostics.html#GUID-F1FBA929-4FCF-4872-AEE6-2DF716B5BD43" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-6C88B926-CFD4-4402-B1AE-CDAEDCA553A8" title="Oracle Database provides several advisors relevant for SQL tuning.">Automated SQL Tuning Tools</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="TGSQL540"></a><a id="TGSQL121"></a><div class="props_rev_3"><a id="GUID-EBC955B9-0AD3-42A3-86CF-CDD90D72E18C" name="GUID-EBC955B9-0AD3-42A3-86CF-CDD90D72E18C"></a><h6 id="TGSQL-GUID-EBC955B9-0AD3-42A3-86CF-CDD90D72E18C" class="sect6"><span class="enumeration_section">1.4.2.1.2 </span>SQL Tuning Advisor
                        </h6>
                        <div>
                           <p><span class="bold">SQL Tuning Advisor</span> is internal diagnostic software that identifies problematic SQL statements and recommends how to improve statement performance. 
                           </p>
                           <p>When run during database maintenance windows as an automated maintenance task, SQL Tuning Advisor is known as <a href="glossary.html#GUID-0FCAD63A-F031-4BB5-AC88-0F2E66F34129"><span class="xrefglossterm">Automatic SQL Tuning Advisor</span></a>.
                           </p>
                           <p>SQL Tuning Advisor takes one or more SQL statements as an input and invokes the <a href="glossary.html#GUID-6FD1585E-9283-4881-A5BF-86165B4F8C23"><span class="xrefglossterm">Automatic Tuning Optimizer</span></a> to perform SQL tuning on the statements. The advisor performs the following types of analysis:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Checks for missing or stale statistics</p>
                              </li>
                              <li>
                                 <p>Builds SQL profiles</p>
                                 <p>A <a href="glossary.html#GUID-79F91289-6DD0-49BC-AEA2-3427F5D52F41"><span class="xrefglossterm">SQL profile</span></a> is a set of auxiliary information specific to a SQL statement. A SQL profile contains corrections for suboptimal optimizer estimates discovered during Automatic SQL Tuning. This information can improve optimizer estimates for <a href="glossary.html#GUID-FE541AF8-DCAB-4B00-8015-04BDCB295A85"><span class="xrefglossterm">cardinality</span></a>, which is the number of rows that is estimated to be or actually is returned by an operation in an execution plan, and selectivity. These improved estimates lead the optimizer to select better plans.
                                 </p>
                              </li>
                              <li>
                                 <p>Explores whether a different access path can significantly improve performance</p>
                              </li>
                              <li>
                                 <p>Identifies SQL statements that lend themselves to suboptimal plans</p>
                              </li>
                           </ul>
                           <p>The output is in the form of advice or recommendations, along with a rationale for each recommendation and its expected benefit. The recommendation relates to a collection of statistics on objects, creation of new indexes, restructuring of the SQL statement, or creation of a SQL profile. You can choose to accept the recommendations to complete the tuning of the SQL statements.</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-EBC955B9-0AD3-42A3-86CF-CDD90D72E18C__GUID-14D80BDF-3F42-4632-A9F9-883F3249FDC0">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="sql-tuning-advisor.html#GUID-8E1A39CB-A491-4254-8B31-9B1DF7B52AA1" title="Use SQL Tuning Advisor to obtain recommendations for improving performance of high-load SQL statements, and prevent regressions by only executing optimal plans.">Analyzing SQL with SQL Tuning Advisor</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="../tdppt/automatic-database-performance-monitoring.html#TDPPT020" target="_blank"><span><cite>Oracle Database 2 Day + Performance Tuning Guide</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-6C88B926-CFD4-4402-B1AE-CDAEDCA553A8" title="Oracle Database provides several advisors relevant for SQL tuning.">Automated SQL Tuning Tools</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="TGSQL591"></a><a id="TGSQL122"></a><div class="props_rev_3"><a id="GUID-B237A2A2-7CA2-4AC9-B81C-71C5757C20B2" name="GUID-B237A2A2-7CA2-4AC9-B81C-71C5757C20B2"></a><h6 id="TGSQL-GUID-B237A2A2-7CA2-4AC9-B81C-71C5757C20B2" class="sect6"><span class="enumeration_section">1.4.2.1.3 </span>SQL Access Advisor
                        </h6>
                        <div>
                           <p><strong class="term">SQL Access Advisor</strong> is internal diagnostic software that recommends which materialized views, indexes, and materialized view logs to create, drop, or retain.
                           </p>
                           <p>SQL Access Advisor takes an actual workload as input, or the advisor can derive a hypothetical workload from the schema. SQL Access Advisor considers the trade-offs between space usage and query performance, and recommends the most cost-effective configuration of new and existing materialized views and indexes. The advisor also makes recommendations about partitioning.</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-B237A2A2-7CA2-4AC9-B81C-71C5757C20B2__GUID-7CE6A98F-7D74-4B73-A1C9-A9759CE42463">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="sql-access-advisor.html#GUID-10DCBE78-9330-4713-AD79-5C7E73EACD33" title="SQL Access Advisor accepts input from several sources, including SQL tuning sets, and then issues recommendations.">About SQL Access Advisor</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsql&amp;id=TDPPT170" target="_blank"><span><cite>Oracle Database 2 Day + Performance Tuning Guide</cite></span></a></p>
                                 </li>
                                 <li>
                                    <p><a href="../admin/managing-indexes.html#GUID-E4149397-FF37-4367-A12F-675433715904" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> to learn more about automated indexing
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../dblic/Licensing-Information.html#DBLIC-GUID-0F9EB85D-4610-4EDF-89C2-4916A0E7AC87" target="_blank"><span><cite>Oracle Database Licensing Information User Manual</cite></span></a> for details on whether automated indexing is supported for different editions and services
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-6C88B926-CFD4-4402-B1AE-CDAEDCA553A8" title="Oracle Database provides several advisors relevant for SQL tuning.">Automated SQL Tuning Tools</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-3B48610F-1708-4653-845C-2A9D14801DF2" name="GUID-3B48610F-1708-4653-845C-2A9D14801DF2"></a><h6 id="TGSQL-GUID-3B48610F-1708-4653-845C-2A9D14801DF2" class="sect6"><span class="enumeration_section">1.4.2.1.4 </span>Automatic Indexing
                        </h6>
                        <div>
                           <p>Oracle Database can constantly monitor the application workload, creating and managing indexes automatically.</p>
                           <div class="infoboxnote" id="GUID-3B48610F-1708-4653-845C-2A9D14801DF2__GUID-781D71ED-FE21-49A3-A63B-C4E8F09C5A68">
                              <p class="notep1">Note:</p>
                              <p id="GUID-3B48610F-1708-4653-845C-2A9D14801DF2__d5e5259">See <span id="GUID-3B48610F-1708-4653-845C-2A9D14801DF2__d5e5261"><a href="../dblic/Licensing-Information.html#DBLIC-GUID-0F9EB85D-4610-4EDF-89C2-4916A0E7AC87" target="_blank"><span><cite>Oracle Database Licensing Information User Manual</cite></span></a> for details on which features are supported for different editions and services</span>.
                              </p>
                           </div>
                           <p>Creating indexes manually requires deep knowledge of the data model, application, and data distribution. Often DBAs make choices about which indexes to create, and then never revise their choices. As a result, opportunities for improvement are lost, and unnecessary indexes can become a performance liability. Automatic index management solves this problem by performing the following tasks:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Monitoring the workload constantly</p>
                              </li>
                              <li>
                                 <p>Creating new indexes</p>
                              </li>
                              <li>
                                 <p>Rebuilding indexes, and then marking them unusable or invisible</p>
                              </li>
                              <li>
                                 <p>Dropping indexes</p>
                              </li>
                              <li>
                                 <p>Checking the effects of automatic index management on performance</p>
                              </li>
                           </ul>
                           <p>The indexing feature is implemented as an automatic task that runs in the background at a fixed interval. At each iteration, the task performs the following basic steps:</p>
                           <ol>
                              <li>
                                 <p>Identifies index candidates based on column and column group usage.</p>
                              </li>
                              <li>
                                 <p>Creates a set of candidate indexes in unusable and invisible mode. These indexes do not occupy storage space.</p>
                              </li>
                              <li>
                                 <p>Consults a prioritized list of previously executed statements to determine whether candidate indexes are worth rebuilding.</p>
                              </li>
                              <li>
                                 <p>Compiles statements to determine whether the optimizer would choose the new indexes, and then rebuilds the indexes that the optimizer chooses.</p>
                              </li>
                              <li>
                                 <p>Executes statements that use the automatic indexes</p>
                              </li>
                              <li>
                                 <p>Performs either of the following actions: </p>
                                 <ul style="list-style-type: disc;" id="GUID-3B48610F-1708-4653-845C-2A9D14801DF2__UL_RKH_4W5_BGB">
                                    <li>
                                       <p>Marks indexes as visible when the statement would improve its performance significantly. The database changes plans for the statements in the workload only after verifying and marking the indexes as visible. Until that point, the database does not invalidate cursors and continues to use old plans.</p>
                                    </li>
                                    <li>
                                       <p>Marks the indexes unusable when they provide insufficient performance benefits. This action occurs in a deferred manner when the probability of using the index for other statements is low or when there is space pressure.</p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Avoids regressions by using SQL plan management. An index may benefit one statement, but cause a performance regression in a second statement. In this case, the database optimizes the first statement by marking the index visible. To prevent a regression for the second statement, the database protects it with SQL plan management.</p>
                              </li>
                              <li>
                                 <p>Drops indexes that have not been used in a long time.</p>
                              </li>
                           </ol>
                           <p>You can enable automatic indexing by executing the following procedure in the <code class="codeph">DBMS_AUTO_INDEX</code> package:
                           </p><pre class="pre codeblock"><code>EXEC DBMS_AUTO_INDEX.CONFIGURE('AUTO_INDEX_MODE','IMPLEMENT')</code></pre><p>You can also use the <code class="codeph">DBMS_AUTO_INDEX</code> package to report on the automatic task and configure settings such as how long to retain unused indexes.
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-3B48610F-1708-4653-845C-2A9D14801DF2__GUID-4133FC4B-FC3D-479C-BA87-17F52A3A8233">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../admin/managing-indexes.html#GUID-E4149397-FF37-4367-A12F-675433715904" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> to learn more about automatic indexing
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsql&amp;id=GUID-78C59A20-2F92-448F-96F7-6C4FBB355E42" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn about the <code class="codeph">DBMS_AUTO_INDEX</code> package
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-6C88B926-CFD4-4402-B1AE-CDAEDCA553A8" title="Oracle Database provides several advisors relevant for SQL tuning.">Automated SQL Tuning Tools</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="TGSQL123"></a><div class="props_rev_3"><a id="GUID-4468EE63-8DE3-4CC4-9DF8-17E96448EA4D" name="GUID-4468EE63-8DE3-4CC4-9DF8-17E96448EA4D"></a><h6 id="TGSQL-GUID-4468EE63-8DE3-4CC4-9DF8-17E96448EA4D" class="sect6"><span class="enumeration_section">1.4.2.1.5 </span>SQL Plan Management
                        </h6>
                        <div>
                           <p>SQL plan management is a preventative mechanism that enables the optimizer to automatically manage execution plans, ensuring that the database uses only known or verified plans. </p>
                           <p>This mechanism can build a <a href="glossary.html#GUID-A9B279E2-7088-4029-8C94-4E8DD00B7E21"><span class="xrefglossterm">SQL plan baseline</span></a>, which contains one or more accepted plans for each SQL statement. By using baselines, SQL plan management can prevent plan regressions from environmental changes, while permitting the optimizer to discover and use better plans.
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-4468EE63-8DE3-4CC4-9DF8-17E96448EA4D__GUID-7477558A-E8B1-4731-8375-3E56A564D44A">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="overview-of-sql-plan-management.html#GUID-F1C45056-F998-43E5-B362-83F88DA49E58" title="SQL plan management is a preventative mechanism that enables the optimizer to automatically manage execution plans, ensuring that the database uses only known or verified plans.">Overview of SQL Plan Management</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="../arpls/DBMS_SPM.html#ARPLS-GUID-D6EC284C-053D-417D-B887-94422BCB4E3A" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></p> to learn about the <code class="codeph">DBMS_SPM</code> package
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-6C88B926-CFD4-4402-B1AE-CDAEDCA553A8" title="Oracle Database provides several advisors relevant for SQL tuning.">Automated SQL Tuning Tools</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="TGSQL124"></a><div class="props_rev_3"><a id="GUID-2954A5AD-42CC-407B-991E-5C935F403E6B" name="GUID-2954A5AD-42CC-407B-991E-5C935F403E6B"></a><h6 id="TGSQL-GUID-2954A5AD-42CC-407B-991E-5C935F403E6B" class="sect6"><span class="enumeration_section">1.4.2.1.6 </span>SQL Performance Analyzer
                        </h6>
                        <div>
                           <p>SQL Performance Analyzer determines the effect of a change on a SQL workload by identifying performance divergence for each SQL statement. </p>
                           <p>System changes such as upgrading a database or adding an index may cause changes to execution plans, affecting SQL performance. By using SQL Performance Analyzer, you can accurately forecast the effect of system changes on SQL performance. Using this information, you can tune the database when SQL performance regresses, or validate and measure the gain when SQL performance improves.</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-2954A5AD-42CC-407B-991E-5C935F403E6B__GUID-78A21EAF-3264-4A81-8B6B-ADC9130B7427">
                              <p class="notep1">See Also:</p>
                              <p><a href="../ratug/introduction-to-oracle-database-testing.html#RATUG101" target="_blank"><span><cite>Oracle Database Testing Guide</cite></span></a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-6C88B926-CFD4-4402-B1AE-CDAEDCA553A8" title="Oracle Database provides several advisors relevant for SQL tuning.">Automated SQL Tuning Tools</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="TGSQL125"></a><div class="props_rev_3"><a id="GUID-B770B7C7-2D0D-4E8A-9A29-811A5E2A9D4F" name="GUID-B770B7C7-2D0D-4E8A-9A29-811A5E2A9D4F"></a><h5 id="TGSQL-GUID-B770B7C7-2D0D-4E8A-9A29-811A5E2A9D4F" class="sect5"><span class="enumeration_section">1.4.2.2 </span>Manual SQL Tuning Tools
                     </h5>
                     <div>
                        <p>In some situations, you may want to run manual tools in addition to the automated tools. Alternatively, you may not have access to the automated tools. </p>
                        <p>This section contains the following topics:</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-BBB0D5F7-70EC-4C43-A3C1-7EE8C85631CB">Execution Plans</a><br>Execution plans are the principal diagnostic tool in manual SQL tuning. For example, you can view plans to determine whether the optimizer selects the plan you expect, or identify the effect of creating an index on a table.
                           </li>
                           <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-5CB3FBDD-40E8-46DC-9435-CF596D1E1D2F">Real-Time SQL Monitoring and Real-Time Database Operations</a><br>The Real-Time SQL Monitoring feature of Oracle Database enables you to monitor the performance of SQL statements while they are executing. By default, SQL monitoring starts automatically when a statement runs in parallel, or when it has consumed at least 5 seconds of CPU or I/O time in a single execution.
                           </li>
                           <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-1C33D891-C4A3-48D2-A41F-5E66F8765024">Application Tracing</a><br>A <strong class="term">SQL trace file</strong> provides performance information on individual SQL statements: parse counts, physical and logical reads, misses on the library cache, and so on. 
                           </li>
                           <li class="ulchildlink"><a href="introduction-to-sql-tuning.html#GUID-8DDA0A74-478E-4153-B282-242CCC427EC3">Optimizer Hints</a><br>A <strong class="term">hint</strong> is an instruction passed to the optimizer through comments in a SQL statement.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-2E23C8E6-7FC6-406F-AE5F-BF2677BB8800" title="SQL tuning tools are either automated or manual.">SQL Tuning Tools</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="TGSQL126"></a><div class="props_rev_3"><a id="GUID-BBB0D5F7-70EC-4C43-A3C1-7EE8C85631CB" name="GUID-BBB0D5F7-70EC-4C43-A3C1-7EE8C85631CB"></a><h6 id="TGSQL-GUID-BBB0D5F7-70EC-4C43-A3C1-7EE8C85631CB" class="sect6"><span class="enumeration_section">1.4.2.2.1 </span>Execution Plans
                        </h6>
                        <div>
                           <p>Execution plans are the principal diagnostic tool in manual SQL tuning. For example, you can view plans to determine whether the optimizer selects the plan you expect, or identify the effect of creating an index on a table.</p>
                           <p>You can display execution plans in multiple ways. The following tools are the most commonly used:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">DBMS_XPLAN</code></p>
                                 <p>You can use the <code class="codeph">DBMS_XPLAN</code> package methods to display the execution plan generated by the <code class="codeph">EXPLAIN PLAN</code> command and query of <code class="codeph">V$SQL_PLAN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">EXPLAIN PLAN</code></p>
                                 <p>This SQL statement enables you to view the execution plan that the optimizer would use to execute a SQL statement without actually executing the statement. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsql&amp;id=SQLRF01601" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">V$SQL_PLAN</code> and related views
                                 </p>
                                 <p>These views contain information about executed SQL statements, and their execution plans, that are still in the shared pool. See <a href="../refrn/V-SQL_PLAN.html#REFRN30250" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">AUTOTRACE</code></p>
                                 <p>The <code class="codeph">AUTOTRACE</code> command in SQL*Plus generates the execution plan and statistics about the performance of a query. This command provides statistics such as disk reads and memory reads. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsql&amp;id=SQPUG018" target="_blank"><span><cite>SQL*Plus User's Guide and Reference</cite></span></a>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-B770B7C7-2D0D-4E8A-9A29-811A5E2A9D4F" title="In some situations, you may want to run manual tools in addition to the automated tools. Alternatively, you may not have access to the automated tools.">Manual SQL Tuning Tools</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="TGSQL127"></a><div class="props_rev_3"><a id="GUID-5CB3FBDD-40E8-46DC-9435-CF596D1E1D2F" name="GUID-5CB3FBDD-40E8-46DC-9435-CF596D1E1D2F"></a><h6 id="TGSQL-GUID-5CB3FBDD-40E8-46DC-9435-CF596D1E1D2F" class="sect6"><span class="enumeration_section">1.4.2.2.2 </span>Real-Time SQL Monitoring and Real-Time Database Operations
                        </h6>
                        <div>
                           <p>The Real-Time SQL Monitoring feature of Oracle Database enables you to monitor the performance of SQL statements while they are executing. By default, SQL monitoring starts automatically when a statement runs in parallel, or when it has consumed at least 5 seconds of CPU or I/O time in a single execution.</p>
                           <p>A <a href="glossary.html#GUID-EB7D5D0A-0439-4336-8DC3-2DA24072977F"><span class="xrefglossterm">database operation</span></a> is a set of database tasks defined by end users or application code, for example, a batch job or Extraction, Transformation, and Loading (ETL) processing. You can define, monitor, and report on database operations. Real-Time Database Operations provides the ability to monitor composite operations automatically. The database automatically monitors parallel queries, DML, and DDL statements as soon as execution begins.
                           </p>
                           <p>Oracle Enterprise Manager Cloud Control (Cloud Control) provides easy-to-use SQL monitoring pages. Alternatively, you can monitor SQL-related statistics using the <code class="codeph">V$SQL_MONITOR</code> and <code class="codeph">V$SQL_PLAN_MONITOR</code> views. You can use these views with the following views to get more information about executions that you are monitoring:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">V$ACTIVE_SESSION_HISTORY</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">V$SESSION</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">V$SESSION_LONGOPS</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">V$SQL</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">V$SQL_PLAN</code></p>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-5CB3FBDD-40E8-46DC-9435-CF596D1E1D2F__GUID-9BE9E183-AACD-4A66-B590-F0E5971DE228">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="monitoring-database-operations.html#GUID-007E5BAE-B07D-4BD1-9485-DE8D260BF862" title="The SQL monitoring feature is enabled by default when the STATISTICS_LEVEL initialization parameter is either set to TYPICAL (the default value) or ALL.">About Monitoring Database Operations</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsql&amp;id=GUID-8C5690B0-DE10-4460-86DF-80111869CF4C" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about the <code class="codeph">V$</code> views
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-B770B7C7-2D0D-4E8A-9A29-811A5E2A9D4F" title="In some situations, you may want to run manual tools in addition to the automated tools. Alternatively, you may not have access to the automated tools.">Manual SQL Tuning Tools</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="TGSQL128"></a><div class="props_rev_3"><a id="GUID-1C33D891-C4A3-48D2-A41F-5E66F8765024" name="GUID-1C33D891-C4A3-48D2-A41F-5E66F8765024"></a><h6 id="TGSQL-GUID-1C33D891-C4A3-48D2-A41F-5E66F8765024" class="sect6"><span class="enumeration_section">1.4.2.2.3 </span>Application Tracing
                        </h6>
                        <div>
                           <p>A <strong class="term">SQL trace file</strong> provides performance information on individual SQL statements: parse counts, physical and logical reads, misses on the library cache, and so on. 
                           </p>
                           <p>Trace files are sometimes useful for diagnosing SQL performance problems. You can enable and disable SQL tracing for a specific session using the <code class="codeph">DBMS_MONITOR</code> or <code class="codeph">DBMS_SESSION</code> packages. Oracle Database implements tracing by generating a trace file for each server process when you enable the tracing mechanism. 
                           </p>
                           <p>Oracle Database provides the following command-line tools for analyzing trace files:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">TKPROF</code></p>
                                 <p>This utility accepts as input a trace file produced by the SQL Trace facility, and then produces a formatted output file.</p>
                              </li>
                              <li>
                                 <p><code class="codeph">trcsess</code></p>
                                 <p>This utility consolidates trace output from multiple trace files based on criteria such as session ID, client ID, and service ID. After <code class="codeph">trcsess</code> merges the trace information into a single output file, you can format the output file with <code class="codeph">TKPROF</code>. <code class="codeph">trcsess</code> is useful for consolidating the tracing of a particular session for performance or debugging purposes.
                                 </p>
                              </li>
                           </ul>
                           <p>End-to-End Application Tracing simplifies the process of diagnosing performance problems in multitier environments. In these environments, the middle tier routes a request from an end client to different database sessions, making it difficult to track a client across database sessions. End-to-End application tracing uses a client ID to uniquely trace a specific end-client through all tiers to the database.</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-1C33D891-C4A3-48D2-A41F-5E66F8765024__GUID-A3505AA9-F007-4C99-A418-1AB8463B55AC">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsql&amp;id=ARPLS091" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn more about <code class="codeph">DBMS_MONITOR</code> and <code class="codeph">DBMS_SESSION</code></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-B770B7C7-2D0D-4E8A-9A29-811A5E2A9D4F" title="In some situations, you may want to run manual tools in addition to the automated tools. Alternatively, you may not have access to the automated tools.">Manual SQL Tuning Tools</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="TGSQL129"></a><div class="props_rev_3"><a id="GUID-8DDA0A74-478E-4153-B282-242CCC427EC3" name="GUID-8DDA0A74-478E-4153-B282-242CCC427EC3"></a><h6 id="TGSQL-GUID-8DDA0A74-478E-4153-B282-242CCC427EC3" class="sect6"><span class="enumeration_section">1.4.2.2.4 </span>Optimizer Hints
                        </h6>
                        <div>
                           <p>A <strong class="term">hint</strong> is an instruction passed to the optimizer through comments in a SQL statement.
                           </p>
                           <p>Hints enable you to make decisions normally made automatically by the optimizer. In a test or development environment, hints are useful for testing the performance of a specific access path. For example, you may know that a specific index is more selective for certain queries. In this case, you may use hints to instruct the optimizer to use a better execution plan, as in the following example:</p><pre class="pre codeblock"><code>SELECT /*+ INDEX (employees emp_department_ix) */ 
       employee_id, department_id 
FROM   employees
WHERE  department_id &gt; 50;</code></pre><p>Sometimes the database may not use a hint because of typos, invalid arguments, conflicting hints, and hints that are made invalid by transformations. Starting in <span>Oracle Database 19c</span>, you can generate a report about which hints were used or not used during plan generation.
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-8DDA0A74-478E-4153-B282-242CCC427EC3__GUID-21845782-1C8A-4999-B006-A5AA69E9D14D">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="influencing-the-optimizer.html#GUID-C558F7CF-446E-4078-B045-0B3BB026CB3C" title="Optimizer hints are special comments in a SQL statement that pass instructions to the optimizer.">Influencing the Optimizer with Hints</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="../sqlrf/Comments.html#SQLRF-GUID-D316D545-89E2-4D54-977F-FC97815CD62E" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn more about hints
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-B770B7C7-2D0D-4E8A-9A29-811A5E2A9D4F" title="In some situations, you may want to run manual tools in addition to the automated tools. Alternatively, you may not have access to the automated tools.">Manual SQL Tuning Tools</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div><a id="TGSQL130"></a><div class="props_rev_3"><a id="GUID-EAEB23B9-E5E0-4156-83FE-E5258BD33BC6" name="GUID-EAEB23B9-E5E0-4156-83FE-E5258BD33BC6"></a><h4 id="TGSQL-GUID-EAEB23B9-E5E0-4156-83FE-E5258BD33BC6" class="sect4"><span class="enumeration_section">1.4.3 </span>User Interfaces to SQL Tuning Tools
                  </h4>
                  <div>
                     <p>Cloud Control is a system management tool that provides centralized management of a database environment. Cloud Control provides access to most tuning tools.</p>
                     <p>By combining a graphical console, Oracle Management Servers, Oracle Intelligent Agents, common services, and administrative tools, Cloud Control provides a comprehensive system management platform.</p>
                     <p>You can access all SQL tuning tools using a command-line interface. For example, the <code class="codeph">DBMS_SQLTUNE</code> package is the command-line interface for SQL Tuning Advisor.
                     </p>
                     <p>Oracle recommends Cloud Control as the best interface for database administration and tuning. In cases where the command-line interface better illustrates a particular concept or task, this manual uses command-line examples. However, in these cases the tuning tasks include a reference to the principal Cloud Control page associated with the task.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="introduction-to-sql-tuning.html#GUID-77F09850-FF1A-4EC4-BE4E-D41B3597AEF2" title="After you have identified the goal for a tuning session, for example, reducing user response time from three minutes to less than a second, the problem becomes how to accomplish this goal.">Tasks and Tools for SQL Tuning</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>