<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Introduction to UCP</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Universal Connection Pool Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Universal Connection Pool Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="universal-connection-pool-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-13T06:57:38-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96473-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="release-changes.html" title="Previous" type="text/html">
      <link rel="next" href="get-started.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Universal Connection Pool Developer's Guide">
    <meta name="dcterms.isVersionOf" content="JJUCP">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="release-changes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="get-started.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Universal Connection Pool Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Introduction to UCP </li>
            </ol>
            <a id="GUID-82ACD002-4C5F-4BF7-99FF-46A2A97DD35D" name="GUID-82ACD002-4C5F-4BF7-99FF-46A2A97DD35D"></a><a id="JJUCP8109"></a>
            
            <h2 id="JJUCP-GUID-82ACD002-4C5F-4BF7-99FF-46A2A97DD35D" class="sect2"><span class="enumeration_chapter">1 </span>Introduction to UCP 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The following sections are included in this chapter:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="intro.html#GUID-DEC07CE5-F791-4234-BBF9-5C808169BCD2">Overview of Connection Pool</a></p>
                  </li>
                  <li>
                     <p><a href="intro.html#GUID-F9DE0E14-C0D9-40E7-99A3-AC207CE9DF14">Overview of Universal Connection Pool</a></p>
                  </li>
               </ul>
            </div><a id="JJUCP8110"></a><div class="props_rev_3"><a id="GUID-DEC07CE5-F791-4234-BBF9-5C808169BCD2" name="GUID-DEC07CE5-F791-4234-BBF9-5C808169BCD2"></a><h3 id="JJUCP-GUID-DEC07CE5-F791-4234-BBF9-5C808169BCD2" class="sect3"><span class="enumeration_section">1.1 </span>Overview of Connection Pool
               </h3>
               <div>
                  <p><a id="d1818e82" class="indexterm-anchor"></a><a id="d1818e86" class="indexterm-anchor"></a>A connection pool is a cache of database connection objects. The objects represent physical database connections that can be used by an application to connect to a database. At run time, the application requests a connection from the pool. If the pool contains a connection that can satisfy the request, it returns the connection to the application. If no connections are found, a new connection is created and returned to the application. The application uses the connection to perform some work on the database and then returns the object back to the pool. The connection is then available for the next connection request.
                  </p>
                  <p>Connection pools promote the reuse of connection objects and reduce the number of times that connection objects are created. Connection pools significantly improve performance for database-intensive applications because creating connection objects is costly both in terms of time and resources. Tasks such as network communication, reading connection strings, authentication, transaction enlistment, and memory allocation all contribute to the amount of time and resources it takes to create a connection object. In addition, because the connections are already created, the application waits less time to get the connection.</p>
                  <p>Connection pools often provide properties that are used to optimize the performance of a pool. The properties control behaviors such as the minimum and maximum number of connections allowed in the pool or the amount of time a connection can remain idle before it is returned to the pool. The best configured connection pools balance quick response times with the memory spent maintaining connections in the pool. It is often necessary to try different settings until the best balance is achieved for a specific application.</p>
               </div>
            </div><a id="JJUCP8111"></a><div class="props_rev_3"><a id="GUID-C9CD25A8-67F5-4C27-8E48-BC21C8BE8D83" name="GUID-C9CD25A8-67F5-4C27-8E48-BC21C8BE8D83"></a><h3 id="JJUCP-GUID-C9CD25A8-67F5-4C27-8E48-BC21C8BE8D83" class="sect3"><span class="enumeration_section">1.2 </span>Benefits of Using a Connection Pool
               </h3>
               <div>
                  <p><a id="d1818e130" class="indexterm-anchor"></a><a id="d1818e134" class="indexterm-anchor"></a>Applications that are database-intensive, generally benefit the most from connection pools. As a policy, applications should use a connection pool whenever database usage is known to affect application performance.
                  </p>
                  <p>A connection pool provides the following benefits:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Reduces the number of times new connection objects are created.</p>
                     </li>
                     <li>
                        <p>Promotes connection object reuse.</p>
                     </li>
                     <li>
                        <p>Quickens the process of getting a connection.</p>
                     </li>
                     <li>
                        <p>Reduces the amount of effort required to manually manage connection objects.</p>
                     </li>
                     <li>
                        <p>Minimizes the number of stale connections.</p>
                     </li>
                     <li>
                        <p>Controls the amount of resources spent on maintaining connections.</p>
                     </li>
                  </ul>
               </div>
            </div><a id="JJUCP8112"></a><div class="props_rev_3"><a id="GUID-F9DE0E14-C0D9-40E7-99A3-AC207CE9DF14" name="GUID-F9DE0E14-C0D9-40E7-99A3-AC207CE9DF14"></a><h3 id="JJUCP-GUID-F9DE0E14-C0D9-40E7-99A3-AC207CE9DF14" class="sect3"><span class="enumeration_section">1.3 </span>Overview of Universal Connection Pool
               </h3>
               <div>
                  <p><a id="d1818e194" class="indexterm-anchor"></a><a id="d1818e198" class="indexterm-anchor"></a><a id="d1818e202" class="indexterm-anchor"></a>UCP provides a connection pool implementation for caching JDBC connections. Java applications that are database-intensive use the connection pool to improve performance and better utilize system resources.
                  </p>
                  <p>A UCP JDBC connection pool can use any JDBC driver to create physical connections that are then maintained by the pool. The pool can be configured and provides a full set of properties that are used to optimize pool behavior based on the performance and availability requirements of an application. For more advanced applications, UCP provides a pool manager that can be used to manage a pool instance.</p>
                  <p>The pool also leverages many high availability and performance features available through an Oracle <a id="d1818e211" class="indexterm-anchor"></a>Real Application Clusters (Oracle RAC) database. These features include <a id="d1818e216" class="indexterm-anchor"></a>Fast Connection Failover (FCF), Run-time connection Load Balancing (RLB), and Connection Affinity.
                  </p>
                  <div class="infoboxnote" id="GUID-F9DE0E14-C0D9-40E7-99A3-AC207CE9DF14__GUID-9C3A1F02-0FE5-4046-839B-D60B8B1192DA">
                     <p class="notep1">Note:</p>
                     <p>Starting from Oracle Database 11<span class="italic">g</span> Release 2, FCF is also supported by Oracle Restart on a single instance database. Oracle Restart is also known as Oracle Grid Infrastructure for Independent Servers.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-F9DE0E14-C0D9-40E7-99A3-AC207CE9DF14__GUID-DD84C91B-7219-4546-89DD-E783C1063193">
                     <p class="notep1">See Also:</p>
                     <p><a href="../admin/configuring-automatic-restart-of-an-oracle-database.html#ADMIN-GUID-5832E064-85C6-453C-B932-99700B1732A9" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for more information about Oracle Restart.
                     </p>
                  </div>
               </div><a id="JJUCP8114"></a><a id="JJUCP8113"></a><div class="props_rev_3"><a id="GUID-197BA5D3-86DA-43BE-AFC6-E8CBED4883EF" name="GUID-197BA5D3-86DA-43BE-AFC6-E8CBED4883EF"></a><h4 id="JJUCP-GUID-197BA5D3-86DA-43BE-AFC6-E8CBED4883EF" class="sect4"><span class="enumeration_section">1.3.1 </span>Conceptual Architecture
                  </h4>
                  <div>
                     <p><a id="d1818e272" class="indexterm-anchor"></a><a id="d1818e276" class="indexterm-anchor"></a><a id="d1818e278" class="indexterm-anchor"></a><a id="d1818e280" class="indexterm-anchor"></a><a id="d1818e284" class="indexterm-anchor"></a><a id="d1818e288" class="indexterm-anchor"></a>Applications use a UCP pool-enabled data source to get connections from a UCP JDBC connection pool instance. The <code class="codeph">PoolDataSource</code> data source is used for getting regular connections (<code class="codeph">java.sql.Connection</code>), and the <code class="codeph">PoolXADataSource</code> data source is used for getting XA (eXtended API) connections (<code class="codeph">javax.sql.XAConnection</code>). The same pool features are included in both XA and non-XA UCP JDBC connection pools.
                     </p>
                     <p><a id="d1818e305" class="indexterm-anchor"></a><a id="d1818e307" class="indexterm-anchor"></a><a id="d1818e309" class="indexterm-anchor"></a>The pool-enabled data source relies on a connection factory class to create the physical connections that are maintained by the pool. An application can choose to use any factory class that is capable of creating <code class="codeph">Connection</code> or <code class="codeph">XAConnection</code> objects. The pool-enabled data sources provide a method for setting the connection factory class, as well as methods for setting the database URL and database credentials that are used by the factory class to connect to a database.
                     </p>
                     <p><a id="d1818e321" class="indexterm-anchor"></a><a id="d1818e323" class="indexterm-anchor"></a><a id="d1818e327" class="indexterm-anchor"></a>Applications borrow a connection handle from the pool to perform work on a database. Once the work is completed, the connection is closed and the connection handle is returned to pool and is available to be used again. The following figure shows the conceptual view of the interaction between an application and a UCP JDBC connection pool.
                     </p>
                     <div class="figure" id="GUID-197BA5D3-86DA-43BE-AFC6-E8CBED4883EF__BABICAHB">
                        <p class="titleinfigure">Figure 1-1 Conceptual View of a UCP JDBC Connection Pool</p><img src="img/concept.gif" alt="conceptual view of UCP" title="conceptual view of UCP"></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="getting-database-connections.html#GUID-5E13DF84-005B-41D3-99C6-7E3120EB3C93">Getting Database Connections in UCP</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJUCP8115"></a><div class="props_rev_3"><a id="GUID-6079BADD-2E36-4B2E-8B9D-11139B145E3B" name="GUID-6079BADD-2E36-4B2E-8B9D-11139B145E3B"></a><h4 id="JJUCP-GUID-6079BADD-2E36-4B2E-8B9D-11139B145E3B" class="sect4"><span class="enumeration_section">1.3.2 </span>Connection Pool Properties
                  </h4>
                  <div>
                     <p><a id="d1818e382" class="indexterm-anchor"></a><a id="d1818e386" class="indexterm-anchor"></a>UCP JDBC Connection pool properties are configured through methods available on the pool-enabled data source. The pool properties are used to control the pool size, handle stale connections, and make autonomous decisions about how long connections can remain borrowed before they are returned to the pool. The optimal settings for the pool properties depend on the application and hardware resources. Typically, there is a trade-off between the time it takes for an application to get a connection versus the amount of memory it takes to maintain a certain pool size. In many cases, experimentation is required to find the optimal balance to achieve the desired performance for a specific application.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="optimizing-ucp-behavior.html#GUID-FFCAB66D-45B3-4D7B-991B-40F1480630FD">Optimizing Universal Connection Pool Behavior</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJUCP8116"></a><div class="props_rev_3"><a id="GUID-8CF6555B-E7EA-462C-88C8-78678E43BD17" name="GUID-8CF6555B-E7EA-462C-88C8-78678E43BD17"></a><h4 id="JJUCP-GUID-8CF6555B-E7EA-462C-88C8-78678E43BD17" class="sect4"><span class="enumeration_section">1.3.3 </span>Connection Pool Manager
                  </h4>
                  <div>
                     <p><a id="d1818e436" class="indexterm-anchor"></a><a id="d1818e440" class="indexterm-anchor"></a>UCP includes a connection pool manager that is used by applications that require administrative control over a connection pool. The manager is used to explicitly control the life cycle of a pool and to perform maintenance on a pool. The manager also provides the opportunity for an application to expose the pool and its manageability through an administrative console.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="using-ucp-manager.html#GUID-14734102-0179-47A6-9484-4F75B01D765F">Using the Connection Pool Manager</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJUCP8117"></a><div class="props_rev_3"><a id="GUID-62AA5435-AF73-4E81-97B6-2A36D1F7ECF7" name="GUID-62AA5435-AF73-4E81-97B6-2A36D1F7ECF7"></a><h4 id="JJUCP-GUID-62AA5435-AF73-4E81-97B6-2A36D1F7ECF7" class="sect4"><span class="enumeration_section">1.3.4 </span>High Availability and Performance Scenarios
                  </h4>
                  <div>
                     <p><a id="d1818e489" class="indexterm-anchor"></a><a id="d1818e493" class="indexterm-anchor"></a>A UCP JDBC connection pool provides many features that are used to ensure high connection availability and performance. Many of these features, such as refreshing a pool or validating connections, are generic and work across driver and database implementations. Some of these features, such as run-time connection load balancing, and connection affinity, require the use of an Oracle JDBC driver and an Oracle RAC database.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="using-Oracle-RAC-features.html#GUID-A0B5E9FF-84E1-40FC-8B2E-084C1134FDFD">Using Oracle RAC Features</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-ACCDDB95-1D82-4C61-9550-F0339DADA9F4" name="GUID-ACCDDB95-1D82-4C61-9550-F0339DADA9F4"></a><h4 id="JJUCP-GUID-ACCDDB95-1D82-4C61-9550-F0339DADA9F4" class="sect4"><span class="enumeration_section">1.3.5 </span>Support for Java library for Reactive Streams Ingestion
                  </h4>
                  <div>
                     <p></p>
                     <p>Oracle Database Release 19c introduces a Java library that provides support for reactive streams ingestion, which enables customers to efficiently stream data into Oracle Database. The new Java library enables Java applications to continuously receive and ingest&nbsp;data from a large group of clients. Using the direct path load method of Oracle Database for inserting data, it makes the ingestion process nonblocking and extremely fast.</p>
                     <p>This Java library uses an extension of the existing UCP APIs, which enables the ingestion process to furnish several high-availability and scalability features of the database, like support for table partitions, Oracle RAC connection affinity, and sharding. </p>
                     <div class="infoboxnotealso" id="GUID-ACCDDB95-1D82-4C61-9550-F0339DADA9F4__GUID-413245F6-96F8-4FFA-8199-01BDD6D0CBFB">
                        <p class="notep1">See Also:</p><a href="../jjdbc/high-speed-ingestion-of-data-streams.html#JJDBC-GUID-104EC66D-7F93-4A89-9E03-59F40A6DC57E" target="_blank">Overview of Java library for Reactive Streams Ingestion</a></div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>