<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>TRANSPORT TABLESPACE</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Backup and Recovery Reference">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Backup and Recovery Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-backup-and-recovery-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T19:31:58-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96242-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="SWITCH.html" title="Previous" type="text/html">
      <link rel="next" href="UNREGISTER.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery Reference">
    <meta name="dcterms.isVersionOf" content="RCMRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SWITCH.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="UNREGISTER.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Backup and Recovery Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="rman-commands-recover-to-validate.html" property="item" typeof="WebPage"><span property="name">RMAN Commands: RECOVER to VALIDATE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">TRANSPORT TABLESPACE</li>
            </ol>
            <a id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D" name="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D"></a><a id="RCMRF90378"></a><a id="RCMRF90379"></a><a id="RCMRF90380"></a><a id="RCMRF90381"></a><a id="RCMRF90382"></a><a id="RCMRF90383"></a><a id="RCMRF90384"></a><a id="RCMRF90385"></a><a id="RCMRF90386"></a><a id="RCMRF1919"></a>
            
            <h2 id="RCMRF-GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D" class="sect2"><span class="enumeration_section">3.22 </span>TRANSPORT TABLESPACE
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-6F7F279D-020E-4086-89BE-E47B076DDB8F">Purpose</p>
                  <p>Use the <code class="codeph">TRANSPORT TABLESPACE</code> command to create transportable tablespace sets from RMAN backups instead of the live data files of the source database.
                  </p>
                  <div class="infoboxnotealso" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-A345E258-6358-455E-8644-DA60E0274D1E">
                     <p class="notep1">See Also:</p>
                     <p><a href="../bradv/creating-transportable-tablespace-sets.html#BRADV05141" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> to learn how to transport tablespaces with RMAN
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-C927F71C-DD0B-46B4-B676-0AAFFA9551F7">Prerequisites</p>
                  <p>The limitations on creating transportable tablespace sets described in <a href="../admin/transporting-data.html#ADMIN01101" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> apply to transporting tablespaces from backup, except the requirement to make the tablespaces read-only.
                  </p>
                  <p>The <a id="d103847e143" class="indexterm-anchor"></a><code class="codeph">SYSAUX</code> tablespace must not be part of the recovery set, which is the set of tablespaces to be transported. RMAN enforces inclusion of the <code class="codeph">SYSAUX</code> tablespace in the auxiliary set, which contains data files and other files required for the tablespace transport.
                  </p>
                  <p><code class="codeph">TRANSPORT TABLESPACE</code> does not convert <a id="d103847e155" class="indexterm-anchor"></a>endian formats. If the target platform has a different endian format, then after running <code class="codeph">TRANSPORT TABLESPACE</code> use the <code class="codeph"><a href="CONVERT.html#GUID-AD252F46-DD9E-4E2C-BF0E-DF2A4C7590C9">CONVERT</a></code> command to convert the endian format of the transportable set data files.
                  </p>
                  <p>If you drop a tablespace, then you cannot later use <code class="codeph">TRANSPORT TABLESPACE</code> to include this tablespace in a transportable tablespace set, even if the SCN for <code class="codeph">TRANSPORT TABLESPACE</code> is earlier than the SCN at which the table was dropped. If you rename a tablespace, then you cannot use <code class="codeph">TRANSPORT TABLESPACE</code> to create a transportable tablespace set as of a point in time before the tablespace was renamed.
                  </p>
                  <p><span class="bold">Backups and Backup Metadata</span></p>
                  <p>You must have a backup of all needed tablespaces (including those in the auxiliary set) and archived redo log files needed to recover to the target point in time. </p>
                  <p>If you do not use a recovery catalog, and if the database has re-used control file records containing metadata about required backups, then the command fails because RMAN cannot locate the backups. You may be able to use <code class="codeph"><a href="CATALOG.html#GUID-6E337759-9860-463A-BF7C-8512B272B8E1">CATALOG</a></code> to add backups to the RMAN repository, but if the database is overwriting control file records, you may lose records of other backups.
                  </p>
                  <p><span class="bold">Data Pump Export and Import</span></p>
                  <p>Because the RMAN uses the <a id="d103847e196" class="indexterm-anchor"></a>Data Pump Export and Import utilities, you cannot use <code class="codeph">TRANSPORT TABLESPACE</code> if the tablespaces to be transported use <a id="d103847e202" class="indexterm-anchor"></a><code class="codeph">XMLType</code>. In this case you must use the procedure in <a href="../admin/transporting-data.html#ADMIN01101" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a>.
                  </p>
                  <p>If a file under the name of the export dump file exists in the tablespace destination, then <code class="codeph">TRANSPORT TABLESPACE</code> fails when it calls Data Pump Export. If you are repeating a previous <code class="codeph">TRANSPORT TABLESPACE</code> job, then make sure to delete the previous output files, including the export dump file.
                  </p>
                  <p><span class="bold">Tablespace and Column Encryption</span></p>
                  <p><a id="d103847e225" class="indexterm-anchor"></a>The following database encryption features both use the <a id="d103847e228" class="indexterm-anchor"></a>Oracle software keystore: Transparent Data Encryption (TDE) column encryption, which functions at the column level, and TDE tablespace encryption. Note the following restrictions for tablespaces that are encrypted or contain encrypted columns:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you are transporting an encrypted tablespace, then you must manually copy the keystore to the destination database.</p>
                     </li>
                     <li>
                        <p>If the destination database has an existing keystore, then you cannot copy the keystore from the source database to the destination database. Thus, you cannot transport encrypted data to a database that already has a keystore. If you encrypt columns with TDE column encryption, then you can export them into an export file that is password-protected and import the data into the destination database.</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-AD8E3593-6EA3-496B-9BF0-818C297ABBB1">
                     <p class="notep1">See Also:</p>
                     <p><a href="../asoag/introduction-to-transparent-data-encryption.html#ASOAG10139" target="_blank"><span class="italic">Oracle Database Advanced Security Guide</span></a> to learn about TDE
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-467DBE8E-5D09-43B7-9625-D4F492900360">Usage Notes</p>
                  <p>Because RMAN creates the automatic auxiliary instance used for restore and recovery on the same node as the source instance, there is some performance overhead during the operation of the <code class="codeph">TRANSPORT TABLESPACE</code> command.
                  </p>
                  <p>If RMAN is not part of the backup strategy for your database, then you can still use <code class="codeph">TRANSPORT TABLESPACE</code> if the needed data file copies and archived redo log files are available on disk. Use the <code class="codeph"><a href="CATALOG.html#GUID-6E337759-9860-463A-BF7C-8512B272B8E1">CATALOG</a></code> command to record the data file copies and archived redo log files in the RMAN repository. You can then use <code class="codeph">TRANSPORT TABLESPACE</code>. You also have the option of using RMAN to back up your database specifically so you can use <code class="codeph">TRANSPORT TABLESPACE</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-D2579752-A21C-4735-8631-CEE4447217DA">Syntax</p>
                  <p><a id="d103847e273" class="indexterm-anchor"></a><a id="d103847e277" class="indexterm-anchor"></a><span class="bold"><span class="italic">transpt_tbs</span>::=</span></p>
                  <div class="figure" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-88789C56-01DB-4EFF-883D-504E157DDFAA"><img src="img/transpt_tbs.gif" alt="Description of transpt_tbs.eps follows" title="Description of transpt_tbs.eps follows" longdesc="img_text/transpt_tbs.html"><br><a href="img_text/transpt_tbs.html">Description of the illustration transpt_tbs.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="TRANSPORT-TABLESPACE.html#GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__CHDHCFHG">transpt_tbs_optlist::=</a></span>)
                  </p>
                  <p id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__CHDHCFHG"><a id="d103847e295" class="indexterm-anchor"></a><a id="d103847e299" class="indexterm-anchor"></a><span class="bold"><span class="italic">transpt_tbs_optlist</span>::=</span></p>
                  <div class="figure" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-1F68C5FC-930F-428D-9BA3-F8C2BB1341C0"><img src="img/transpt_tbs_optlist.gif" alt="Description of transpt_tbs_optlist.eps follows" title="Description of transpt_tbs_optlist.eps follows" longdesc="img_text/transpt_tbs_optlist.html"><br><a href="img_text/transpt_tbs_optlist.html">Description of the illustration transpt_tbs_optlist.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A__BABEDABD">untilClause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-D0D7ECA8-A82D-4BA2-8042-D8AEE71D726B">Semantics</p>
                  <p id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__CHDEAJHF"><span class="bold"><span class="italic">transpt_tbs</span></span></p>
                  <div class="tblformalwide" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-19F31BEE-99B1-4CC1-B316-4904DD5F808B">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes TRANSPORT TABLESPACE command transpt_tbs parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d103847e331">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d103847e334">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d103847e339" headers="d103847e331 ">
                                 <p><span class="italic"><code class="codeph">tablespace_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d103847e339 d103847e334 ">
                                 <p>Specifies the name of each tablespace to transport.</p>
                                 <p>You must have a backup of all needed tablespaces (including those in the auxiliary set) and archived redo log files available for use by RMAN that can be recovered to the target time for the <code class="codeph">TRANSPORT TABLESPACE</code> operation.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__CHDFHFFI"><span class="bold"><span class="italic">transpt_tbs_optlist</span></span></p>
                  <p>This subclause specifies optional parameters that affect the tablespace transport.</p>
                  <div class="tblformalwide" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-E664F78D-731E-400B-99EC-854F40236C1A">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes TRANSPORT TABLESPACE command transpt_tbs_optlist parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d103847e366">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d103847e369">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d103847e374" headers="d103847e366 "><code class="codeph">AUXILIARY&nbsp;DESTINATION</code><code class="codeph">'</code><span class="italic"><code class="codeph">location</code></span><code class="codeph">'</code></td>
                              <td align="left" valign="top" width="71%" headers="d103847e374 d103847e369 ">
                                 <p>Specifies the location for files for the auxiliary instance.</p>
                                 <p>You can use <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">NEWNAME</code> and <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">AUXNAME</code> to override this argument for individual files. If using your own initialization parameter file to customize the auxiliary instance, then you can use the <a id="d103847e405" class="indexterm-anchor"></a><a id="d103847e407" class="indexterm-anchor"></a><code class="codeph">DB_FILE_NAME_CONVERT</code> and <a id="d103847e415" class="indexterm-anchor"></a><a id="d103847e417" class="indexterm-anchor"></a><code class="codeph">LOG_FILE_NAME_CONVERT</code> initialization parameters instead of <code class="codeph">AUXILIARY DESTINATION</code>.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="../bradv/creating-transportable-tablespace-sets.html#BRADV39711" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for details on the interactions among the different techniques for naming the auxiliary instance files
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d103847e437" headers="d103847e366 "><a id="d103847e438" class="indexterm-anchor"></a><code class="codeph">DATAPUMP&nbsp;DIRECTORY</code><span class="italic"> <code class="codeph">datapump_directory</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d103847e437 d103847e369 ">
                                 <p>Specifies a database directory object where Data Pump Export outputs are created (see <a href="TRANSPORT-TABLESPACE.html#GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__CHDFIDHD">Example 3-79</a>). If not specified, then RMAN creates files in the location specified by <code class="codeph">TABLESPACE </code><code class="codeph">DESTINATION</code>.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="../sutil/oracle-data-pump-export-utility.html#SUTIL-GUID-5F7380CE-A619-4042-8D13-1F7DDE429991" target="_blank"><span><cite>Oracle Database Utilities</cite></span></a> for more details on Data Pump Export and database directory objects
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d103847e467" headers="d103847e366 ">
                                 <p><code class="codeph">DUMP FILE</code> <code class="codeph">'</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d103847e467 d103847e369 ">
                                 <p>Specifies where to create the Data Pump Export dump file. If not specified, the export dump file is named <code class="codeph">dmpfile.dmp</code> and stored in the location specified by the <code class="codeph">DATAPUMP DIRECTORY</code> clause or in the tablespace destination.
                                 </p>
                                 <p><span class="bold">Note:</span> If a file under the name of the export dump file exists in the tablespace destination, then <code class="codeph">TRANSPORT TABLESPACE</code> fails when it calls Data Pump Export. If you are repeating a previous <code class="codeph">TRANSPORT TABLESPACE</code> job, then make sure to delete the previous output files, including the export dump file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d103847e499" headers="d103847e366 ">
                                 <p><a id="d103847e501" class="indexterm-anchor"></a><code class="codeph">EXPORT LOG</code> <code class="codeph">'</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d103847e499 d103847e369 ">
                                 <p>Specifies the location of the log generated by Data Pump Export. If omitted, the export log is named <code class="codeph">explog.log</code> and stored in the location specified by the <code class="codeph">DATAPUMP DIRECTORY</code> clause or in the tablespace destination.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d103847e523" headers="d103847e366 ">
                                 <p><a id="d103847e525" class="indexterm-anchor"></a><code class="codeph">IMPORT SCRIPT</code> <code class="codeph">'</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d103847e523 d103847e369 ">
                                 <p>Specifies the file name for the sample input script generated by RMAN for use in plugging in the transported tablespace at the destination database. If omitted, the import script is named <code class="codeph">impscript.sql</code>. The script is stored in the tablespace destination.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d103847e544" headers="d103847e366 "><a id="d103847e545" class="indexterm-anchor"></a><code class="codeph">TABLESPACE DESTINATION</code> <span class="italic"><code class="codeph">tablespace_destination</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d103847e544 d103847e369 ">
                                 <p>Specifies the location of the data files for the transported tablespaces after the tablespace transport operation completes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d103847e557" headers="d103847e366 "><a id="d103847e558" class="indexterm-anchor"></a><a id="d103847e562" class="indexterm-anchor"></a><code class="codeph">TO RESTORE POINT</code> <span class="italic"><code class="codeph">restore_point_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d103847e557 d103847e369 ">
                                 <p>Specifies a restore point for tablespace restore and recovery, with the SCN at which the restore point was created as the upper, inclusive limit. Because the limit is inclusive, RMAN selects only files that it can use to restore or recover tablespaces up to <span class="italic">and including</span> the SCN corresponding to the restore point.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d103847e579" headers="d103847e366 ">
                                 <p><span class="italic"><code class="codeph"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A">untilClause</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d103847e579 d103847e369 ">
                                 <p>Specifies a past time, SCN, or log sequence number (see <a href="TRANSPORT-TABLESPACE.html#GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__CHDBHIHJ">Example 3-78</a>). If specified, RMAN restores and recovers the tablespaces at the auxiliary instance to their contents at that past point in time before export.
                                 </p>
                                 <p>If you rename a tablespace, then you cannot use this command to create a transportable tablespace set as of a point in time before the tablespace was renamed. RMAN has no knowledge of the previous name of the tablespace.</p>
                                 <p>Tablespaces including undo segments as of the <code class="codeph">UNTIL</code> time or SCN for <code class="codeph">TRANSPORT TABLESPACE</code> must be part of the auxiliary set. The control file only contains a record of tablespaces that include undo segments at the current time. If the set of tablespaces with undo segments was different at the <code class="codeph">UNTIL</code> time or SCN, then <code class="codeph">TRANSPORT TABLESPACE</code> fails. Thus, if you use RMAN in <code class="codeph">NOCATALOG</code> mode and specify <code class="codeph">UNTIL</code>, then the set of tablespaces with undo segments at the time <code class="codeph">TRANSPORT TABLESPACE</code> executes must equal the set of tablespaces with undo segments at the <code class="codeph">UNTIL</code> time or SCN.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-9CC02962-3D33-45D8-88E8-7592B316B5AA">Examples</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__CHDBHIHJ">
                  <p class="titleinexample">Example 3-78 Using TRANSPORT TABLESPACE with a Past Time</p>
                  <p>In this example, the tablespaces for the transportable set are <code class="codeph">example</code> and <code class="codeph">tools</code>, the transportable set files are to be stored at <code class="codeph">/disk1/transport_dest</code>, and the transportable tablespaces are to be recovered to a time 15 minutes ago: 
                  </p><pre class="oac_no_warn" dir="ltr">TRANSPORT TABLESPACE example, tools
  TABLESPACE DESTINATION '/disk1/transportdest'
  AUXILIARY DESTINATION '/disk1/auxdest'
  UNTIL TIME 'SYSDATE-15/1440';
</pre><p>Partial sample output follows:</p><pre class="oac_no_warn" dir="ltr">Creating automatic instance, with SID='egnr'
 
initialization parameters used for automatic instance:
db_name=PROD
compatible=11.0.0
db_block_size=8192
.
.
.
starting up automatic instance PROD
.
.
. 
executing Memory Script
 
executing command: SET until clause
 
Starting restore at 07-JUN-13
allocated channel: ORA_AUX_DISK_1
channel ORA_AUX_DISK_1: SID=44 device type=DISK
 
channel ORA_AUX_DISK_1: starting datafile backup set restore
channel ORA_AUX_DISK_1: restoring control file
.
.
.
output file name=/disk1/auxdest/cntrl_tspitr_PROD_egnr.f
Finished restore at 07-JUN-13
 
sql statement: alter database mount clone database
 
sql statement: alter system archive log current
 
sql statement: begin dbms_backup_restore.AutoBackupFlag(FALSE); end;
 
starting full resync of recovery catalog
full resync complete
.
.
.
executing Memory Script
.
.
.
 
Starting restore at 07-JUN-13
using channel ORA_AUX_DISK_1
 
channel ORA_AUX_DISK_1: starting datafile backup set restore
channel ORA_AUX_DISK_1: specifying datafile(s) to restore from backup set
channel ORA_AUX_DISK_1: restoring datafile 00001 to /disk1/auxdest/TSPITR_PROD_EGNR/datafile/o1_mf_system_%u_.dbf
datafile 1 switched to datafile copy
.
.
.
starting media recovery
.
.
. 
Finished recover at 07-JUN-13
 
database opened
.
.
.
executing Memory Script
.
.
.
sql statement: alter tablespace EXAMPLE read only
Removing automatic instance
shutting down automatic instance
Oracle instance shut down
Automatic instance removed
auxiliary instance file /disk1/auxdest/cntrl_tspitr_PROD_egnr.f deleted
.
.
.</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__CHDFIDHD">
                  <p class="titleinexample">Example 3-79 Using TRANSPORT TABLESPACE with Customized File Locations</p>
                  <p>This example illustrates the use of the optional arguments that control the locations of Data Pump-related files such as the dump file. The <code class="codeph">DATAPUMP DIRECTORY</code> must refer to an object that exists in the target database. Use the <code class="codeph">CREATE DIRECTORY</code> SQL statement to create a directory object. 
                  </p><pre class="oac_no_warn" dir="ltr">TRANSPORT TABLESPACE example
  TABLESPACE DESTINATION '/disk1/transportdest'
  AUXILIARY DESTINATION '/disk1/auxdest'
  DATAPUMP DIRECTORY mypumpdir
  DUMP FILE 'mydumpfile.dmp'
  IMPORT SCRIPT 'myimportscript.sql'
  EXPORT LOG 'myexportlog.log';</pre></div>
               <!-- class="example" -->
            </div>
         </div>
      </article>
   </body>
</html>