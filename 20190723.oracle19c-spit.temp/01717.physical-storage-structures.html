<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The physical database structures of an Oracle database are viewable at the operating system level.">
      <meta name="description" content="The physical database structures of an Oracle database are viewable at the operating system level.">
      <title>Physical Storage Structures</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Concepts">
      <meta property="og:description" content="The physical database structures of an Oracle database are viewable at the operating system level.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Concepts">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-concepts.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T07:47:16-08:00">
      <meta name="dcterms.title" content="Database Concepts">
      <meta name="dcterms.dateCopyrighted" content="1993, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96138-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="oracle-database-storage-structures.html" title="Previous" type="text/html">
      <link rel="next" href="logical-storage-structures.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CNCPT">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-database-storage-structures.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="logical-storage-structures.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Concepts</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-database-storage-structures.html" property="item" typeof="WebPage"><span property="name">Oracle Database Storage Structures</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Physical Storage Structures</li>
            </ol>
            <a id="GUID-FFA872E1-7F63-4DC5-8A35-F21394AB4595" name="GUID-FFA872E1-7F63-4DC5-8A35-F21394AB4595"></a>
            
            <h2 id="CNCPT-GUID-FFA872E1-7F63-4DC5-8A35-F21394AB4595" class="sect2"><span class="enumeration_chapter">11 </span>Physical Storage Structures
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The physical database structures of an Oracle database are viewable at the operating system level.</p>
               <p>This chapter contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="physical-storage-structures.html#GUID-56DFECE5-FB81-494F-9AB8-25F120A1BDDC" title="One characteristic of an RDBMS is the independence of logical data structures such as tables, views, and indexes from physical storage structures.">Introduction to Physical Storage Structures</a></p>
                  </li>
                  <li>
                     <p><a href="physical-storage-structures.html#GUID-008A1F08-9C75-4E9F-A70B-41FB942C60B4" title="At the operating system level, Oracle Database stores database data in structures called data files. Every Oracle database must have at least one data file.">Overview of Data Files</a></p>
                  </li>
                  <li>
                     <p><a href="physical-storage-structures.html#GUID-90EAC9F2-B396-4C59-9821-B03BF7B6BCD0" title="The database control file is a small binary file associated with only one database. Each database has one unique control file, although multiple identical copies are permitted.">Overview of Control Files</a></p>
                  </li>
                  <li>
                     <p><a href="physical-storage-structures.html#GUID-47557C86-E551-46B5-B28E-28D6C500694E" title="The most crucial structure for recovery is the online redo log, which consists of two or more preallocated files that store changes to the database as they occur. The online redo log records changes to the data files.">Overview of the Online Redo Log</a></p>
                  </li>
               </ul>
            </div><a id="CNCPT88985"></a><a id="CNCPT401"></a><div class="props_rev_3"><a id="GUID-56DFECE5-FB81-494F-9AB8-25F120A1BDDC" name="GUID-56DFECE5-FB81-494F-9AB8-25F120A1BDDC"></a><h3 id="CNCPT-GUID-56DFECE5-FB81-494F-9AB8-25F120A1BDDC" class="sect3">Introduction to Physical Storage Structures</h3>
               <div>
                  <p>One characteristic of an RDBMS is the independence of logical data structures such as tables, views, and indexes from physical storage structures. </p>
                  <p>Because physical and logical structures are separate, you can manage physical storage of data without affecting access to logical structures. For example, renaming a database file does not rename the tables stored in it.</p>
                  <p>An Oracle database is a set of files that store Oracle data in persistent disk storage. This section discusses the database files generated when you issue a <code class="codeph">CREATE DATABASE</code> statement:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Data files and temp files</p>
                        <p>A <a href="glossary.html#GUID-C93C8397-3433-4A72-B9CE-040FE01A7EE8"><span class="xrefglossterm">data file</span></a> is a physical file on disk that was created by Oracle Database and contains data structures such as tables and indexes. A <a href="glossary.html#GUID-5760E541-E0BB-4246-A423-E725E599A9D0"><span class="xrefglossterm">temp file</span></a> is a data file that belongs to a temporary tablespace. The database writes data to these files in an Oracle proprietary format that cannot be read by other programs.
                        </p>
                     </li>
                     <li>
                        <p>Control files</p>
                        <p>A <a href="glossary.html#GUID-DF498605-D186-451B-87AA-73DF396AD599"><span class="xrefglossterm">control file</span></a> is a root file that tracks the physical components of the database.
                        </p>
                     </li>
                     <li>
                        <p>Online redo log files</p>
                        <p>The <a href="glossary.html#GUID-2A8BC112-AB70-4B06-9F85-FE975861CEE0"><span class="xrefglossterm">online redo log</span></a> is a set of files containing records of changes made to data.
                        </p>
                     </li>
                  </ul>
                  <p>A <a href="glossary.html#GUID-CFB1A30E-76B6-44EA-839E-9E63C8DA31AC"><span class="xrefglossterm">database instance</span></a> is a set of memory structures that manage database files. The following graphic shows the relationship between the instance and the files that it manages.
                  </p>
                  <div class="figure" id="GUID-56DFECE5-FB81-494F-9AB8-25F120A1BDDC__CHDECCFJ">
                     <p class="titleinfigure">Figure 11-1 Database Instance and Database Files</p><img src="img/cncpt223.gif" alt="Description of Figure 11-1 follows" title="Description of Figure 11-1 follows" longdesc="img_text/cncpt223.html"><br><a href="img_text/cncpt223.html">Description of "Figure 11-1 Database Instance and Database Files"</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnotealso" id="GUID-56DFECE5-FB81-494F-9AB8-25F120A1BDDC__GUID-AACFBBA5-BA79-4CDA-9308-9E40A796B1D4">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN002" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn how to create a database
                           </p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/CREATE-DATABASE.html#SQLRF01204" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for <code class="codeph">CREATE DATABASE</code> semantics and syntax
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="CNCPT88986"></a><div class="props_rev_3"><a id="GUID-E76E1A63-DFC5-42C5-AFD8-28753428C577" name="GUID-E76E1A63-DFC5-42C5-AFD8-28753428C577"></a><h4 id="CNCPT-GUID-E76E1A63-DFC5-42C5-AFD8-28753428C577" class="sect4">Mechanisms for Storing Database Files</h4>
                  <div>
                     <p>Several mechanisms are available for allocating and managing the storage of these files. </p>
                     <p>The most common mechanisms include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle Automatic Storage Management (Oracle ASM)</p>
                           <p>Oracle ASM includes a file system designed exclusively for use by Oracle Database. </p>
                        </li>
                        <li>
                           <p>Operating system file system</p>
                           <p>Most Oracle databases store files in a <a href="glossary.html#GUID-42D41D4D-C3AC-4D24-AC60-674A872EA211"><span class="xrefglossterm">file system</span></a>, which is a data structure built inside a contiguous disk address space. All operating systems have file managers that allocate and deallocate disk space into files within a file system.
                           </p>
                           <p>A file system enables disk space to be allocated to many files. Each file has a name and is made to appear as a contiguous address space to applications such as Oracle Database. The database can create, read, write, resize, and delete files.</p>
                           <p>A file system is commonly built on top of a <a href="glossary.html#GUID-F8C2E256-9271-43EC-B8CC-DD2B114EB270"><span class="xrefglossterm">logical volume</span></a> constructed by a software package called a <a href="glossary.html#GUID-EA829FC2-5C9F-4455-B85C-78103EF28531"><span class="xrefglossterm">logical volume manager (LVM)</span></a>. The LVM enables pieces of multiple physical disks to combine into a single contiguous address space that appears as one disk to higher layers of software.
                           </p>
                        </li>
                        <li>
                           <p>Cluster file system</p>
                           <p>A <a href="glossary.html#GUID-1D41A705-62A5-4DC1-A1C9-96781B91492A"><span class="xrefglossterm">cluster file system</span></a> is a distributed file system that is a cluster of servers that collaborate to provide high performance service to their clients. In an Oracle RAC environment, a cluster file system makes shared storage appear as a file system shared by many computers in a clustered environment. With a cluster file system, the failure of a computer in the cluster does not make the file system unavailable. In an operating system file system, however, if a computer sharing files through NFS or other means fails, then the file system is unavailable.
                           </p>
                        </li>
                     </ul>
                     <p>A database employs a combination of the preceding storage mechanisms. For example, a database could store the control files and online redo log files in a traditional file system, some user data files on raw partitions, the remaining data files in Oracle ASM, and archived the redo log files to a cluster file system.</p>
                     <div class="infoboxnotealso" id="GUID-E76E1A63-DFC5-42C5-AFD8-28753428C577__GUID-090744D1-87C6-4661-92F7-9D8B6EA16F2A">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="physical-storage-structures.html#GUID-7FEC2249-4A21-4967-B951-8979D72030AF" title="Oracle ASM is a high-performance, ease-of-management storage solution for Oracle Database files. Oracle ASM is a volume manager and provides a file system designed exclusively for use by the database.">Oracle Automatic Storage Management (Oracle ASM)</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../admqs/managing-database-storage-structures.html#ADMQS12062" target="_blank"><span><cite>Oracle Database 2 Day DBA</cite></span></a> to learn how to view database storage structures with Oracle Enterprise Manager Database Express (EM Express)
                              </p>
                           </li>
                           <li>
                              <p><a href="../admin/oracle-database-structure-and-storage.html#ADMIN12595" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to view database storage structures by querying database views
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT1389"></a><div class="props_rev_3"><a id="GUID-7FEC2249-4A21-4967-B951-8979D72030AF" name="GUID-7FEC2249-4A21-4967-B951-8979D72030AF"></a><h4 id="CNCPT-GUID-7FEC2249-4A21-4967-B951-8979D72030AF" class="sect4">Oracle Automatic Storage Management (Oracle ASM)</h4>
                  <div>
                     <p><span class="bold">Oracle ASM</span> is a high-performance, ease-of-management storage solution for Oracle Database files. Oracle ASM is a volume manager and provides a file system designed exclusively for use by the database.
                     </p>
                     <p>Oracle ASM provides several advantages over conventional file systems and storage managers, including the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Simplifies storage-related tasks such as creating and laying out databases and managing disk space</p>
                        </li>
                        <li>
                           <p>Distributes data across physical disks to eliminate hot spots and to provide uniform performance across the disks</p>
                        </li>
                        <li>
                           <p>Rebalances data automatically after storage configuration changes</p>
                        </li>
                     </ul>
                     <p>To use Oracle ASM, you allocate partitioned disks for Oracle Database with preferences for striping and mirroring. Oracle ASM manages the disk space, distributing the I/O load across all available resources to optimize performance while removing the need for manual I/O tuning. For example, you can increase the size of the disk for the database or move parts of the database to new devices without having to shut down the database.</p>
                  </div><a id="CNCPT88988"></a><a id="CNCPT1401"></a><a id="CNCPT1407"></a><a id="CNCPT1403"></a><a id="CNCPT1405"></a><a id="CNCPT88987"></a><div class="props_rev_3"><a id="GUID-4C41D30C-D48D-4075-935C-7E495BD8A2B0" name="GUID-4C41D30C-D48D-4075-935C-7E495BD8A2B0"></a><h5 id="CNCPT-GUID-4C41D30C-D48D-4075-935C-7E495BD8A2B0" class="sect5">Oracle ASM Storage Components</h5>
                     <div>
                        <p>Oracle Database can store a data file as an Oracle ASM file in an Oracle ASM disk group. Within a disk group, Oracle ASM exposes a file system interface for database files.</p>
                        <p>The following figure shows the relationships between storage components in a database that uses Oracle ASM. The diagram depicts the relationship between an Oracle ASM file and a data file, although Oracle ASM can store other types of files. The crow's foot notation represents a one-to-many relationship.</p>
                        <div class="figure" id="GUID-4C41D30C-D48D-4075-935C-7E495BD8A2B0__CHDDFHJC">
                           <p class="titleinfigure">Figure 11-2 Oracle ASM Components</p><img src="img/cncpt267.gif" alt="Description of Figure 11-2 follows" title="Description of Figure 11-2 follows" longdesc="img_text/cncpt267.html"><br><a href="img_text/cncpt267.html">Description of "Figure 11-2 Oracle ASM Components"</a></div>
                        <!-- class="figure" -->
                        <p><a href="physical-storage-structures.html#GUID-4C41D30C-D48D-4075-935C-7E495BD8A2B0__CHDDFHJC">Figure 11-2</a> illustrates the following Oracle ASM concepts:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Oracle ASM Disks</p>
                              <p>An <a href="glossary.html#GUID-952316A5-5254-42D0-9915-1A05C6808B3D"><span class="xrefglossterm">Oracle ASM disk</span></a> is a storage device that is provisioned to an Oracle ASM disk group. An Oracle ASM disk can be a physical disk or partition, a Logical Unit Number (LUN) from a storage array, a logical volume, or a network-attached file. 
                              </p>
                              <p>Oracle ASM disks can be added or dropped from a disk group while the database is running. When you add a disk to a disk group, you either assign a disk name or the disk is given an Oracle ASM disk name automatically.</p>
                           </li>
                           <li>
                              <p>Oracle ASM Disk Groups</p>
                              <p>An <a href="glossary.html#GUID-85D5EEA3-5127-4F08-AC1C-A2C660F21D92"><span class="xrefglossterm">Oracle ASM disk group</span></a> is a collection of Oracle ASM disks managed as a logical unit. The data structures in a disk group are self-contained and consume some disk space in a disk group. 
                              </p>
                              <p>Within a disk group, Oracle ASM exposes a file system interface for Oracle database files. The content of files that are stored in a disk group are evenly distributed, or striped, to eliminate hot spots and to provide uniform performance across the disks.</p>
                           </li>
                           <li>
                              <p>Oracle ASM Files</p>
                              <p>An <a href="glossary.html#GUID-321EBEC0-62F7-4E6C-B850-F3B4CCC70692"><span class="xrefglossterm">Oracle ASM file</span></a> is a file stored in an Oracle ASM disk group. Oracle Database communicates with Oracle ASM in terms of files. The database can store data files, control files, online redo log files, and other types of files as Oracle ASM files. When requested by the database, Oracle ASM creates an Oracle ASM file and assigns it a name beginning with a plus sign (<code class="codeph">+</code>) followed by a disk group name, as in <code class="codeph">+DISK1</code>. 
                              </p>
                              <div class="infoboxnote" id="GUID-4C41D30C-D48D-4075-935C-7E495BD8A2B0__GUID-0E85DB04-0128-4213-B825-6F2BFDA24833">
                                 <p class="notep1">Note:</p>
                                 <p>Oracle ASM files can coexist with other storage management options, such as third-party file systems. This capability simplifies the integration of Oracle ASM into pre-existing environments.</p>
                              </div>
                           </li>
                           <li>
                              <p>Oracle ASM Extents</p>
                              <p>An <a href="glossary.html#GUID-66437E19-5BD1-4596-966B-49585960F7AB"><span class="xrefglossterm">Oracle ASM extent</span></a> is a section of an Oracle ASM file. An Oracle ASM file consists of one or more file extents. Each Oracle ASM extent consists of one or more allocation units on a specific disk.
                              </p>
                              <div class="infoboxnote" id="GUID-4C41D30C-D48D-4075-935C-7E495BD8A2B0__GUID-ADAAF9A4-4246-4E6B-B770-F0EF9D6BF63D">
                                 <p class="notep1">Note:</p>
                                 <p>An Oracle ASM extent is different from the <a href="glossary.html#GUID-C56D833A-B3D3-4B85-AAB4-334F7CF3F5E9"><span class="xrefglossterm">extent</span></a> used to store data in a <a href="glossary.html#GUID-EC12AA68-8C89-43B3-B1F9-3AABF7CAEB9F"><span class="xrefglossterm">segment</span></a>.
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>Oracle ASM Allocation Units</p>
                              <p>An <a href="glossary.html#GUID-4FB19E48-1098-49B9-AC9D-6B33D1E6E950"><span class="xrefglossterm">Oracle ASM allocation unit</span></a> is the fundamental unit of allocation within a disk group. An allocation unit is the smallest contiguous disk space that Oracle ASM allocates. One or more allocation units form an Oracle ASM extent.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-4C41D30C-D48D-4075-935C-7E495BD8A2B0__GUID-71B3F897-7E3C-491E-BA0D-B744C2AE4FA9">
                           <p class="notep1">See Also:</p>
                           <p><a href="../ostmg/asm-intro.html#OSTMG036" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a> to learn more about Oracle ASM
                           </p>
                        </div>
                     </div>
                  </div><a id="CNCPT88990"></a><a id="CNCPT88989"></a><div class="props_rev_3"><a id="GUID-65165176-D495-4B44-AE0D-0686349826EB" name="GUID-65165176-D495-4B44-AE0D-0686349826EB"></a><h5 id="CNCPT-GUID-65165176-D495-4B44-AE0D-0686349826EB" class="sect5">Oracle ASM Instances</h5>
                     <div>
                        <p>An <span class="bold">Oracle ASM instance</span> is a special Oracle instance that manages Oracle ASM disks.
                        </p>
                        <p>Both the Oracle ASM and the database instances require shared access to the disks in an Oracle ASM disk group. Oracle ASM instances manage the metadata of the disk group and provide file layout information to the database instances. Database instances direct I/O to Oracle ASM disks without going through an Oracle ASM instance.</p>
                        <p>An Oracle ASM instance is built on the same technology as a database instance. For example, an Oracle ASM instance has a <a href="glossary.html#GUID-78C0E867-233A-4857-B9FE-A3852A9B7BDF"><span class="xrefglossterm">system global area (SGA)</span></a> and background processes that are similar to those of a database instance. However, an Oracle ASM instance cannot mount a database and performs fewer tasks than a database instance.
                        </p>
                        <p><a href="physical-storage-structures.html#GUID-65165176-D495-4B44-AE0D-0686349826EB__CHDBEEGI">Figure 11-3</a> shows a single-node configuration with one Oracle ASM instance and two database instances, each associated with a different single-instance database. The Oracle ASM instance manages the metadata and provides space allocation for the Oracle ASM files storing the data for the two databases. One Oracle ASM disk group has four Oracle ASM disks and the other has two disks. Both database instances can access the disk groups.
                        </p>
                        <div class="figure" id="GUID-65165176-D495-4B44-AE0D-0686349826EB__CHDBEEGI">
                           <p class="titleinfigure">Figure 11-3 Oracle ASM Instance and Database Instances </p><img src="img/cncpt266.gif" alt="Description of Figure 11-3 follows" title="Description of Figure 11-3 follows" longdesc="img_text/cncpt266.html"><br><a href="img_text/cncpt266.html">Description of "Figure 11-3 Oracle ASM Instance and Database Instances "</a></div>
                        <!-- class="figure" -->
                        <div class="infoboxnotealso" id="GUID-65165176-D495-4B44-AE0D-0686349826EB__GUID-75403EBA-6DDA-4B71-B37E-1477C247641C">
                           <p class="notep1">See Also:</p>
                           <p><a href="../ostmg/asm-intro.html#GUID-BC612D35-5399-4A35-843E-CF76E3D3CDB5" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a> to learn more about Oracle ASM
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT88991"></a><div class="props_rev_3"><a id="GUID-E7B6F1BC-6F81-41BB-A48A-A7A8314FF99D" name="GUID-E7B6F1BC-6F81-41BB-A48A-A7A8314FF99D"></a><h4 id="CNCPT-GUID-E7B6F1BC-6F81-41BB-A48A-A7A8314FF99D" class="sect4">Oracle Managed Files and User-Managed Files</h4>
                  <div>
                     <p><span class="bold">Oracle Managed Files</span> is a file naming strategy that enables you to specify operations in terms of database objects rather than file names. For example, you can create a tablespace without specifying the names of its data files. 
                     </p>
                     <p>Oracle Managed Files eliminates the need for administrators to directly manage the operating system files in a database. Oracle ASM requires Oracle Managed Files.</p>
                     <div class="infoboxnote" id="GUID-E7B6F1BC-6F81-41BB-A48A-A7A8314FF99D__GUID-9CCE3754-0A6F-4649-B6E4-5BFEA2155328">
                        <p class="notep1">Note:</p>
                        <p>This feature does not affect the creation or naming of administrative files such as trace files, audit files, and alert logs.</p>
                     </div>
                     <p>With user-managed files, you directly manage the operating system files in the database. You make the decisions regarding file structure and naming. For example, when you create a tablespace you set the name and path of the tablespace data files.</p>
                     <p>Through initialization parameters, you specify the file system directory for a specific type of file. The Oracle Managed Files feature ensures that the database creates a unique file and deletes it when no longer needed. The database internally uses standard file system interfaces to create and delete files for data files and temp files, control files, and recovery-related files stored in the <a href="glossary.html#GUID-0F4B1B3D-4831-42FA-A53B-E34BA9D1BBB0"><span class="xrefglossterm">fast recovery area</span></a>.
                     </p>
                     <p>Oracle Managed Files does not eliminate existing functionality. You can create new files while manually administering old files. Thus, a database can have a mixture of Oracle Managed Files and user-managed files.</p>
                     <div class="infoboxnotealso" id="GUID-E7B6F1BC-6F81-41BB-A48A-A7A8314FF99D__GUID-85D0723E-F3FD-4BFF-A781-6D215DF9F788">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="oracle-database-instance.html#GUID-E329D228-F334-4506-84C1-EC030032C228" title="Oracle Database includes a fault diagnosability infrastructure for preventing, detecting, diagnosing, and resolving database problems. Problems include critical errors such as code bugs, metadata corruption, and customer data corruption.">Overview of Diagnostic Files</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/using-oracle-managed-files.html#ADMIN003" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn how to use Oracle Managed Files
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT403"></a><div class="props_rev_3"><a id="GUID-008A1F08-9C75-4E9F-A70B-41FB942C60B4" name="GUID-008A1F08-9C75-4E9F-A70B-41FB942C60B4"></a><h3 id="CNCPT-GUID-008A1F08-9C75-4E9F-A70B-41FB942C60B4" class="sect3">Overview of Data Files</h3>
               <div>
                  <p>At the operating system level, Oracle Database stores database data in structures called <span class="bold">data files</span>. Every Oracle database must have at least one data file.
                  </p>
               </div><a id="CNCPT88992"></a><a id="CNCPT1109"></a><div class="props_rev_3"><a id="GUID-A878011D-2E59-45F6-A529-F60383AAE945" name="GUID-A878011D-2E59-45F6-A529-F60383AAE945"></a><h4 id="CNCPT-GUID-A878011D-2E59-45F6-A529-F60383AAE945" class="sect4">Use of Data Files </h4>
                  <div>
                     <p>Oracle Database physically stores tablespace data in data files.</p>
                     <p>Each nonpartitioned <span class="bold">schema object</span> and each partition of an object is stored in its own <span class="bold">segment</span>, which belongs to only one tablespace. For example, the data for a nonpartitioned table is stored in a single segment, which in turn is stored in one tablespace. Tablespaces and data files are closely related, but have important differences:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Each tablespace consists of one or more data files, which conform to the operating system in which Oracle Database is running.</p>
                        </li>
                        <li>
                           <p>The data for a database is collectively stored in the data files located in each tablespace of the database.</p>
                        </li>
                        <li>
                           <p>A segment can span one or more data files, but it cannot span multiple tablespaces.</p>
                        </li>
                        <li>
                           <p>A database must have the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces. Oracle Database automatically allocates the first data files of any database for the <code class="codeph">SYSTEM</code> tablespace during database creation. 
                           </p>
                           <p>The <code class="codeph">SYSTEM</code> tablespace contains the <a href="glossary.html#GUID-D6A3934F-BA6D-464F-9612-C683E20514A4"><span class="xrefglossterm">data dictionary</span></a>, a set of tables that contains database metadata. Typically, a database also has an <a href="glossary.html#GUID-78A7FBF2-2EB5-4BD6-AECC-D61A5AEF1158"><span class="xrefglossterm">undo tablespace</span></a> and a temporary tablespace (usually named <code class="codeph">TEMP</code>).
                           </p>
                        </li>
                     </ul>
                     <p>The following figure shows the relationship between tablespaces, data files, and segments.</p>
                     <div class="figure" id="GUID-A878011D-2E59-45F6-A529-F60383AAE945__CHDICEFG">
                        <p class="titleinfigure">Figure 11-4 Data Files and Tablespaces</p><img src="img/cncpt037.gif" alt="Description of Figure 11-4 follows" title="Description of Figure 11-4 follows" longdesc="img_text/cncpt037.html"><br><a href="img_text/cncpt037.html">Description of "Figure 11-4 Data Files and Tablespaces"</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnotealso" id="GUID-A878011D-2E59-45F6-A529-F60383AAE945__GUID-D50FF118-EB65-45B5-8B58-8C5BBE55DE54">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="logical-storage-structures.html#GUID-3502CA78-FBC9-4927-B455-0ECB22E53066" title="A tablespace is a logical storage container for segments. Segments are database objects, such as tables and indexes, that consume storage space. At the physical level, a tablespace stores data in one or more data files or temp files.">Overview of Tablespaces</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-data-files-and-temp-files.html#ADMIN012" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn how to manage data files
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT1112"></a><div class="props_rev_3"><a id="GUID-D59095AD-F79B-4C54-BBED-798E510B049E" name="GUID-D59095AD-F79B-4C54-BBED-798E510B049E"></a><h4 id="CNCPT-GUID-D59095AD-F79B-4C54-BBED-798E510B049E" class="sect4">Permanent and Temporary Data Files</h4>
                  <div>
                     <p>A <span class="bold">permanent tablespace</span> contains persistent schema objects. Objects in permanent tablespaces are stored in data files.
                     </p>
                     <p>A <a href="glossary.html#GUID-D49FAC9A-79CC-436C-9656-4A1C94A50A2D"><span class="xrefglossterm">temporary tablespace</span></a> contains schema objects only for the duration of a session. Locally managed temporary tablespaces have temporary files (temp files), which are special files designed to store data in hash, sort, and other operations. Temp files also store result set data when insufficient space exists in memory.
                     </p>
                     <p>Temp files are similar to permanent data files, with the following exceptions: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Permanent database objects such as tables are never stored in temp files.</p>
                        </li>
                        <li>
                           <p>Temp files are always set to <code class="codeph">NOLOGGING</code> mode, which means that they never have redo generated for them. Media recovery does not recognize temp files.
                           </p>
                        </li>
                        <li>
                           <p>You cannot make a temp file read-only. </p>
                        </li>
                        <li>
                           <p>You cannot create a temp file with the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement. 
                           </p>
                        </li>
                        <li>
                           <p>When you create or resize temp files, they are not always guaranteed allocation of disk space for the file size specified. On file systems such as Linux and UNIX, temp files are created as <span class="italic">sparse files</span>. In this case, disk blocks are allocated not at file creation or resizing, but as the blocks are accessed for the first time. 
                           </p>
                           <div class="infoboxnote" id="GUID-D59095AD-F79B-4C54-BBED-798E510B049E__GUID-D48E7BC4-E41D-4BED-8620-E8C233C04123">
                              <p class="notep1">Note:</p>
                              <p>Sparse files enable fast temp file creation and resizing; however, the disk could run out of space later when the temp files are accessed.</p>
                           </div>
                        </li>
                        <li>
                           <p>Temp file information is shown in the data dictionary view <code class="codeph">DBA_TEMP_FILES</code> and the dynamic performance view <code class="codeph">V$TEMPFILE</code>, but not in <code class="codeph">DBA_DATA_FILES</code> or the <code class="codeph">V$DATAFILE</code> view.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-D59095AD-F79B-4C54-BBED-798E510B049E__GUID-DBBA98FB-7532-438B-808B-6574A9211837">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="logical-storage-structures.html#GUID-93848D41-A32B-494F-87A0-A090FF1B2E9A" title="A temporary tablespace contains transient data that persists only for the duration of a session. No permanent schema objects can reside in a temporary tablespace. A temp file stores temporary tablespace data.">Temporary Tablespaces</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/using-oracle-managed-files.html#ADMIN11504" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn how to manage temp files
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT88993"></a><div class="props_rev_3"><a id="GUID-A9ADC3BA-D991-4CA6-A4CA-8953A75AEF9D" name="GUID-A9ADC3BA-D991-4CA6-A4CA-8953A75AEF9D"></a><h4 id="CNCPT-GUID-A9ADC3BA-D991-4CA6-A4CA-8953A75AEF9D" class="sect4">Online and Offline Data Files</h4>
                  <div>
                     <p>Every data file is either online (available) or offline (unavailable).</p>
                     <p>You can alter the availability of individual data files or temp files by taking them offline or bringing them online. The database cannot access offline data files until they are brought online.</p>
                     <p>You may take data files offline for many reasons, including performing offline backups or block corruption. The database takes a data file offline automatically if the database cannot write to it.</p>
                     <p>Like a data file, a tablespace itself is offline or online. When you take a data file offline in an online tablespace, the tablespace itself remains online. You can make all data files of a tablespace temporarily unavailable by taking the tablespace itself offline.</p>
                     <p>Starting in <span>Oracle Database 12c</span>, you can use the <code class="codeph">ALTER DATABASE MOVE DATAFILE</code> statement to move an online data file from one physical file to another while the database is open and accessing the file. You can use this technique to achieve the following goals:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Move a tablespace from one kind of storage to another</p>
                        </li>
                        <li>
                           <p>Move data files that are accessed infrequently to lower cost storage</p>
                        </li>
                        <li>
                           <p>Make a tablespace read-only and move its data files to write-once storage, such as a write once read many (WORM) drive</p>
                        </li>
                        <li>
                           <p>Move a database into Oracle ASM</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-A9ADC3BA-D991-4CA6-A4CA-8953A75AEF9D__GUID-5E4BC456-280F-4E7B-A42D-8BA3D660C21F">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="logical-storage-structures.html#GUID-DBE61726-0DE6-4A85-A49B-9F5587234A87" title="A tablespace can be online (accessible) or offline (not accessible) whenever the database is open.">Online and Offline Tablespaces</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-data-files-and-temp-files.html#ADMIN11426" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn how to alter data file availability
                              </p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-data-files-and-temp-files.html#ADMIN13837" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn how to move online data files
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF00802" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn about <code class="codeph">ALTER DATABASE . . . MOVE DATAFILE</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT88994"></a><a id="CNCPT1082"></a><div class="props_rev_3"><a id="GUID-EB16D379-0999-4311-88EC-3B7BD3DB88E7" name="GUID-EB16D379-0999-4311-88EC-3B7BD3DB88E7"></a><h4 id="CNCPT-GUID-EB16D379-0999-4311-88EC-3B7BD3DB88E7" class="sect4">Data File Structure</h4>
                  <div>
                     <p>Oracle Database creates a data file for a tablespace by allocating the specified amount of disk space plus the overhead for the data file header. The operating system under which Oracle Database runs is responsible for clearing old information and authorizations from a file before allocating it to the database. </p>
                     <p>The data file header contains metadata about the data file such as its size and <a href="glossary.html#GUID-95DBDA37-4C57-444F-B660-D52B4A99D919"><span class="xrefglossterm">checkpoint</span></a> <a href="glossary.html#GUID-4B14A746-A8B3-4123-A02A-3FC1C293042C"><span class="xrefglossterm">SCN</span></a>. Each header contains an absolute file number, which uniquely identifies the data file within the database, and a relative file number, which uniquely identifies a data file within a tablespace.
                     </p>
                     <p>When Oracle Database first creates a data file, the allocated disk space is formatted but contains no user data. However, the database reserves the space to hold the data for future segments of the associated tablespace. As the data grows in a tablespace, Oracle Database uses the free space in the data files to allocate extents for the segment. </p>
                     <p>The following figure illustrates the different types of space in a data file. Extents are either used, which means they contain segment data, or free, which means they are available for reuse. Over time, updates and deletions of objects within a tablespace can create pockets of empty space that individually are not large enough to be reused for new data. This type of empty space is called <span class="italic">fragmented free space</span>.
                     </p>
                     <div class="figure" id="GUID-EB16D379-0999-4311-88EC-3B7BD3DB88E7__CHDHIADI">
                        <p class="titleinfigure">Figure 11-5 Space in a Data File</p><img src="img/cncpt273.gif" alt="Description of Figure 11-5 follows" title="Description of Figure 11-5 follows" longdesc="img_text/cncpt273.html"><br><a href="img_text/cncpt273.html">Description of "Figure 11-5 Space in a Data File"</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnotealso" id="GUID-EB16D379-0999-4311-88EC-3B7BD3DB88E7__GUID-35B66B82-AC3C-4F32-A906-BA1458FAFF46">
                        <p class="notep1">See Also:</p>
                        <p><a href="../admin/managing-data-files-and-temp-files.html#ADMIN11459" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn how to view data file information
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT404"></a><div class="props_rev_3"><a id="GUID-90EAC9F2-B396-4C59-9821-B03BF7B6BCD0" name="GUID-90EAC9F2-B396-4C59-9821-B03BF7B6BCD0"></a><h3 id="CNCPT-GUID-90EAC9F2-B396-4C59-9821-B03BF7B6BCD0" class="sect3">Overview of Control Files</h3>
               <div>
                  <p>The database <span class="bold">control file</span> is a small binary file associated with only one database. Each database has one unique control file, although multiple identical copies are permitted.
                  </p>
               </div><a id="CNCPT1113"></a><div class="props_rev_3"><a id="GUID-8C6BE183-D423-4417-9B40-2129513886EA" name="GUID-8C6BE183-D423-4417-9B40-2129513886EA"></a><h4 id="CNCPT-GUID-8C6BE183-D423-4417-9B40-2129513886EA" class="sect4">Use of Control Files</h4>
                  <div>
                     <p>Oracle Database uses the control file to locate database files and to manage the state of the database generally.</p>
                     <p>A control file contains information such as the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The database name and database unique identifier (DBID)</p>
                        </li>
                        <li>
                           <p>The time stamp of database creation </p>
                        </li>
                        <li>
                           <p>Information about data files, online redo log files, and archived redo log files </p>
                        </li>
                        <li>
                           <p>Tablespace information</p>
                        </li>
                        <li>
                           <p>RMAN backups</p>
                        </li>
                     </ul>
                     <p>The control file serves the following purposes:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>It contains information about data files, online redo log files, and so on that are required to open the database.</p>
                           <p>The control file tracks structural changes to the database. For example, when an administrator adds, renames, or drops a data file or online redo log file, the database updates the control file to reflect this change.</p>
                        </li>
                        <li>
                           <p>It contains metadata that must be accessible when the database is not open.</p>
                           <p>For example, the control file contains information required to recover the database, including checkpoints. A <a href="glossary.html#GUID-95DBDA37-4C57-444F-B660-D52B4A99D919"><span class="xrefglossterm">checkpoint</span></a> indicates the <a href="glossary.html#GUID-4B14A746-A8B3-4123-A02A-3FC1C293042C"><span class="xrefglossterm">SCN</span></a> in the redo stream where instance recovery would be required to begin. Every committed change before a checkpoint SCN is guaranteed to be saved on disk in the data files. At least every three seconds the checkpoint process records information in the control file about the checkpoint position in the online redo log.
                           </p>
                        </li>
                     </ul>
                     <p>Oracle Database reads and writes to the control file continuously during database use and must be available for writing whenever the database is open. For example, recovering a database involves reading from the control file the names of all the data files contained in the database. Other operations, such as adding a data file, update the information stored in the control file. </p>
                     <div class="infoboxnotealso" id="GUID-8C6BE183-D423-4417-9B40-2129513886EA__GUID-7E4B6476-814D-4EF9-9C92-1102A95819DD">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p> <span class="q">"<a href="oracle-database-instance.html#GUID-728C6BE1-5687-4DC5-B570-D2042C88F935" title="Instance recovery is the process of applying records in the online redo log to data files to reconstruct changes made after the most recent checkpoint.">Overview of Instance Recovery</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="process-architecture.html#GUID-D3174B3E-BCCA-473F-961E-84A36FD5C372" title="The checkpoint process (CKPT) updates the control file and data file headers with checkpoint information and signals DBW to write blocks to disk. Checkpoint information includes the checkpoint position, SCN, and location in online redo log to begin recovery.">Checkpoint Process (CKPT)</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-control-files.html#ADMIN006" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn how to manage the control file
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT1114"></a><div class="props_rev_3"><a id="GUID-34FB7A81-5019-45DB-953F-B866CBC5D50E" name="GUID-34FB7A81-5019-45DB-953F-B866CBC5D50E"></a><h4 id="CNCPT-GUID-34FB7A81-5019-45DB-953F-B866CBC5D50E" class="sect4">Multiple Control Files</h4>
                  <div>
                     <p>Oracle Database enables multiple, identical control files to be open concurrently and written to the same database. By multiplexing a control file on different disks, the database can achieve redundancy and thereby avoid a single point of failure. </p>
                     <p></p>
                     <div class="infoboxnote" id="GUID-34FB7A81-5019-45DB-953F-B866CBC5D50E__GUID-6960CFAA-6C6B-4A52-A8FB-ED9EB19D56B4">
                        <p class="notep1">Note:</p>
                        <p>Oracle recommends that you maintain multiple control file copies, each on a different disk.</p>
                     </div>
                     <p>If a control file becomes unusable, then the database instance fails when it attempts to access the damaged control file. When other current control file copies exist, then you can remount the database and open it without <a href="glossary.html#GUID-938A3E7D-CC65-496C-9DB3-3CFC45AFA8DD"><span class="xrefglossterm">media recovery</span></a>. If <span class="italic">all</span> control files of a database are lost, however, then the database instance fails and media recovery is required. Media recovery is not straightforward if an older backup of a control file must be used because a current copy is not available.
                     </p>
                     <div class="infoboxnotealso" id="GUID-34FB7A81-5019-45DB-953F-B866CBC5D50E__GUID-CE9A5C71-C5A7-41F8-A535-C069088EADA2">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../admin/managing-control-files.html#ADMIN10064" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn how to maintain multiple control files
                              </p>
                           </li>
                           <li>
                              <p><a href="../bradv/rman-recovery-advanced.html#BRADV154" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> to learn how to back up and restore control files
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT88995"></a><div class="props_rev_3"><a id="GUID-04EDED99-6164-4B42-83B6-B2F0E2BE2F32" name="GUID-04EDED99-6164-4B42-83B6-B2F0E2BE2F32"></a><h4 id="CNCPT-GUID-04EDED99-6164-4B42-83B6-B2F0E2BE2F32" class="sect4">Control File Structure</h4>
                  <div>
                     <p>Information about the database is stored in different sections of the control file. Each section is a set of records about an aspect of the database. </p>
                     <p>For example, one section in the control file tracks data files and contains a set of records, one for each data file. Each section is stored in multiple logical control file blocks. Records can span blocks within a section.</p>
                     <p>The control file contains the following types of records:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Circular reuse records</p>
                           <p>A <a href="glossary.html#GUID-BC76F728-0DBE-4E79-8145-E70F2880FBAA"><span class="xrefglossterm">circular reuse record</span></a> contains noncritical information that is eligible to be overwritten if needed. When all available record slots are full, the database either expands the control file to make room for a new record or overwrites the oldest record. Examples include records about archived redo log files and RMAN backups.
                           </p>
                        </li>
                        <li>
                           <p>Noncircular reuse records</p>
                           <p>A <a href="glossary.html#GUID-ADD6541A-2F2A-4DCE-A881-9B7F7A0499ED"><span class="xrefglossterm">noncircular reuse record</span></a> contains critical information that does not change often and cannot be overwritten. Examples of information include tablespaces, data files, online redo log files, and redo threads. Oracle Database never reuses these records unless the corresponding object is dropped from the tablespace.
                           </p>
                        </li>
                     </ul>
                     <p>You can query the dynamic performance views, also known as <code class="codeph">V$</code> views, to view the information stored in the control file. For example, you can query <code class="codeph">V$DATABASE</code> to obtain the database name and DBID. However, only the database can modify the information in the control file.
                     </p>
                     <p>Reading and writing the control file blocks is different from reading and writing data blocks. For the control file, Oracle Database reads and writes directly from the disk to the program global area (PGA). Each process allocates a certain amount of its PGA memory for control file blocks.</p>
                     <div class="infoboxnotealso" id="GUID-04EDED99-6164-4B42-83B6-B2F0E2BE2F32__GUID-58131FCA-10FF-493B-9C10-25AAD9332AAA">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="data-dictionary-and-dynamic-performance-views.html#GUID-4093F62A-CA16-4054-B441-279D15CE03B3" title="Throughout its operation, Oracle Database maintains a set of virtual tables that record current database activity.">Overview of the Dynamic Performance Views</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../refrn/V-CONTROLFILE_RECORD_SECTION.html#REFRN30044" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about the <code class="codeph">V$CONTROLFILE_RECORD_SECTION</code> view
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/CONTROL_FILE_RECORD_KEEP_TIME.html#REFRN10020" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about the <code class="codeph">CONTROL_FILE_RECORD_KEEP_TIME</code> initialization parameter
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT11302"></a><div class="props_rev_3"><a id="GUID-47557C86-E551-46B5-B28E-28D6C500694E" name="GUID-47557C86-E551-46B5-B28E-28D6C500694E"></a><h3 id="CNCPT-GUID-47557C86-E551-46B5-B28E-28D6C500694E" class="sect3">Overview of the Online Redo Log</h3>
               <div>
                  <p>The most crucial structure for recovery is the <span class="bold">online redo log</span>, which consists of two or more preallocated files that store changes to the database as they occur. The online redo log records changes to the data files.
                  </p>
               </div><a id="CNCPT88996"></a><div class="props_rev_3"><a id="GUID-B7EB99F2-0D79-4E22-BBB6-75191035DE8D" name="GUID-B7EB99F2-0D79-4E22-BBB6-75191035DE8D"></a><h4 id="CNCPT-GUID-B7EB99F2-0D79-4E22-BBB6-75191035DE8D" class="sect4">Use of the Online Redo Log</h4>
                  <div>
                     <p>The database maintains online redo log files to protect against data loss. Specifically, after an instance failure, the online redo log files enable Oracle Database to recover committed data that it has not yet written to the data files.</p>
                     <p>Server processes write every transaction synchronously to the <a href="glossary.html#GUID-BADF3CFF-08C6-42E8-A05E-DEB83502572A"><span class="xrefglossterm">redo log buffer</span></a>, which the LGWR process then writes to the online redo log. Contents of the online redo log include uncommitted transactions, and schema and object management statements.
                     </p>
                     <p>As the database makes changes to the undo segments, the database also writes these changes to the online redo logs. Consequently, the online redo log always contains the undo data for permanent objects. You can configure the database to store all undo data for temporary objects in a temporary <a href="glossary.html#GUID-E374AF09-977A-43CB-B3A2-39EC9818BD0B"><span class="xrefglossterm">undo segment</span></a>, which saves space and improves performance, or allow the database to store both permanent and temporary undo data in the online redo log.
                     </p>
                     <p>Oracle Database uses the online redo log only for recovery. However, administrators can query online redo log files through a SQL interface in the Oracle LogMiner utility (see <span class="q">"<a href="concepts-for-database-administrators.html#GUID-D2E36A56-0571-4857-8D41-BBCC833403E5" title="Oracle LogMiner enables you to query redo log files through a SQL interface.">Oracle LogMiner</a>"</span>). Redo log files are a useful source of historical information about database activity.
                     </p>
                     <div class="infoboxnotealso" id="GUID-B7EB99F2-0D79-4E22-BBB6-75191035DE8D__GUID-0FC5850E-DB4D-4EFD-BA6A-497776775AAD">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="oracle-database-instance.html#GUID-728C6BE1-5687-4DC5-B570-D2042C88F935" title="Instance recovery is the process of applying records in the online redo log to data files to reconstruct changes made after the most recent checkpoint.">Overview of Instance Recovery</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="logical-storage-structures.html#GUID-311EBE7D-F01F-4E52-9B8B-DBF84116207D" title="A temporary undo segment is an optional space management container for temporary undo data only.">Temporary Undo Segments</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="process-architecture.html#GUID-85D9852E-5BF1-4AC0-9E5A-49F0570DBD7A" title="This chapter discusses the processes in an Oracle database.">Process Architecture</a>"</span> to learn about Oracle processes
                              </p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-undo.html#ADMIN13740" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn about temporary undo segments
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/TEMP_UNDO_ENABLED.html#REFRN10326" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about the <code class="codeph">TEMP_UNDO_ENABLED</code> initialization parameter
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT11305"></a><div class="props_rev_3"><a id="GUID-09A16A4D-A618-4339-826E-E398A6B0FBF1" name="GUID-09A16A4D-A618-4339-826E-E398A6B0FBF1"></a><h4 id="CNCPT-GUID-09A16A4D-A618-4339-826E-E398A6B0FBF1" class="sect4">How Oracle Database Writes to the Online Redo Log</h4>
                  <div>
                     <p>The online redo log for a database instance is called a <span class="bold">redo thread</span>. 
                     </p>
                     <p>In single-instance configurations, only one instance accesses a database, so only one redo thread is present. In an Oracle Real Application Clusters (Oracle RAC) configuration, however, multiple instances concurrently access a database, with each instance having its own redo thread. A separate redo thread for each instance avoids contention for a single set of online redo log files.</p>
                     <p>An online redo log consists of two or more online redo log files. Oracle Database requires a minimum of two files to guarantee that one file is always available for writing in case the other file is in the process of being cleared or archived.</p>
                     <div class="infoboxnotealso" id="GUID-09A16A4D-A618-4339-826E-E398A6B0FBF1__GUID-AC1F8EFE-AEA0-43A7-BD81-404054A45E47">
                        <p class="notep1">See Also:</p>
                        <p><a href="../racad/administering-storage-in-oracle-rac.html#RACAD704" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> to learn about online redo log groups in Oracle RAC
                        </p>
                     </div>
                  </div><a id="CNCPT88998"></a><a id="CNCPT88997"></a><div class="props_rev_3"><a id="GUID-26BC209A-999D-4606-84F4-D408A9809232" name="GUID-26BC209A-999D-4606-84F4-D408A9809232"></a><h5 id="CNCPT-GUID-26BC209A-999D-4606-84F4-D408A9809232" class="sect5">Online Redo Log Switches</h5>
                     <div>
                        <p>Oracle Database uses only one online redo log file at a time to store records written from the redo log buffer. </p>
                        <p>The online redo log file to which the&nbsp;<a href="glossary.html#GUID-E96BC851-0B78-4250-8EAB-26EBDF4FE5A6"><span class="xrefglossterm">log writer process (LGWR)</span></a> process is actively writing is called the <a href="glossary.html#GUID-B9F8AD18-CFA3-44C3-A945-5649EC90911C"><span class="xrefglossterm">current online redo log file</span></a>.
                        </p>
                        <p>A <a href="glossary.html#GUID-1A479613-DF95-469C-9C3B-D7DBA54F77F7"><span class="xrefglossterm">log switch</span></a> occurs when the database stops writing to one online redo log file and begins writing to another. Normally, a switch occurs when the current online redo log file is full and writing must continue. However, you can configure log switches to occur at regular intervals, regardless of whether the current online redo log file is filled, and force log switches manually.
                        </p>
                        <p>Log writer writes to online redo log files circularly. When log writer fills the last available online redo log file, the process writes to the first log file, restarting the cycle. <a href="physical-storage-structures.html#GUID-26BC209A-999D-4606-84F4-D408A9809232__I1006202">Figure 11-6</a> illustrates the circular writing of the redo log.
                        </p>
                        <div class="figure" id="GUID-26BC209A-999D-4606-84F4-D408A9809232__I1006202">
                           <p class="titleinfigure">Figure 11-6 Reuse of Online Redo Log Files</p><img src="img/admin054.gif" alt="Description of Figure 11-6 follows" title="Description of Figure 11-6 follows" longdesc="img_text/admin054.html"><br><a href="img_text/admin054.html">Description of "Figure 11-6 Reuse of Online Redo Log Files"</a></div>
                        <!-- class="figure" -->
                        <p>The numbers in <a href="physical-storage-structures.html#GUID-26BC209A-999D-4606-84F4-D408A9809232__I1006202">Figure 11-6</a> shows the sequence in which LGWR writes to each online redo log file. The database assigns each file a new <a href="glossary.html#GUID-BD3B74B9-51B3-4E09-AAAD-76D0EA6FDE25"><span class="xrefglossterm">log sequence number</span></a> when a log switches and log writers begins writing to it. When the database reuses an online redo log file, this file receives the next available log sequence number.
                        </p>
                        <p>Filled online redo log files are available for reuse depending on the archiving mode:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If archiving is disabled, which means that the database is in <code class="codeph">NOARCHIVELOG</code> mode, then a filled online redo log file is available after the changes recorded in it have been checkpointed (written) to disk by <a href="glossary.html#GUID-C27AAA54-E60B-49BC-AB04-7B3848EBAFD6"><span class="xrefglossterm">database writer (DBW)</span></a>.
                              </p>
                           </li>
                           <li>
                              <p>If archiving is enabled, which means that the database is in <a href="glossary.html#GUID-1AA9F015-FD15-4A08-BE06-04F0A6797782"><span class="xrefglossterm">ARCHIVELOG mode</span></a>, then a filled online redo log file is available to log writer after the changes have been written to the data files <span class="italic">and</span> the file has been archived.
                              </p>
                           </li>
                        </ul>
                        <p>In some circumstances, log writer may be prevented from reusing an existing online redo log file. An <a href="glossary.html#GUID-9D5700D2-31F3-4FA9-AB62-9D2ED0D67DE4"><span class="xrefglossterm">active online redo log file</span></a> is required for instance recovery, where as an <a href="glossary.html#GUID-A47F1A1B-4332-4B13-BD18-AB3EB62A0EE5"><span class="xrefglossterm">inactive online redo log file</span></a> is not required for instance recovery. Also, an online redo log file may be in the process of being cleared.
                        </p>
                        <div class="infoboxnotealso" id="GUID-26BC209A-999D-4606-84F4-D408A9809232__GUID-F2872D3A-AFA4-4116-856B-05BA451080B5">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="process-architecture.html#GUID-D8AE1B78-69D5-4F0F-8BE3-C91AA2514F2D" title="Background processes are additional processes used by a multiprocess Oracle database. The background processes perform maintenance tasks required to operate the database and to maximize performance for multiple users.">Overview of Background Processes</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../admin/managing-the-redo-log.html#ADMIN007" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn how to manage the online redo log
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT88999"></a><a id="CNCPT11309"></a><div class="props_rev_3"><a id="GUID-A06B2CEF-E7A8-47B5-A0F8-E3DBE102BCD1" name="GUID-A06B2CEF-E7A8-47B5-A0F8-E3DBE102BCD1"></a><h5 id="CNCPT-GUID-A06B2CEF-E7A8-47B5-A0F8-E3DBE102BCD1" class="sect5">Multiple Copies of Online Redo Log Files</h5>
                     <div>
                        <p>Oracle Database can automatically maintain two or more identical copies of the online redo log in separate locations. </p>
                        <p>An <a href="glossary.html#GUID-E9B9AD20-B224-4631-8654-D91DEBEAEB0A"><span class="xrefglossterm">online redo log group</span></a> consists of an online redo log file and its redundant copies. Each identical copy is a member of the online redo log group. Each group is defined by a number, such as group 1, group 2, and so on. 
                        </p>
                        <p>Maintaining multiple members of an online redo log group protects against the loss of the redo log. Ideally, the locations of the members should be on separate disks so that the failure of one disk does not cause the loss of the entire online redo log.</p>
                        <p>In <a href="physical-storage-structures.html#GUID-A06B2CEF-E7A8-47B5-A0F8-E3DBE102BCD1__I1006259">Figure 11-7</a>, <code class="codeph">A_LOG1</code> and <code class="codeph">B_LOG1</code> are identical members of group 1, while <code class="codeph">A_LOG2</code> and <code class="codeph">B_LOG2</code> are identical members of group 2. Each member in a group must be the same size. LGWR writes concurrently to group 1 (members <code class="codeph">A_LOG1</code> and <code class="codeph">B_LOG1</code>), then writes concurrently to group 2 (members <code class="codeph">A_LOG2</code> and <code class="codeph">B_LOG2</code>), then writes to group 1, and so on. LGWR never writes concurrently to members of different groups.
                        </p>
                        <div class="figure" id="GUID-A06B2CEF-E7A8-47B5-A0F8-E3DBE102BCD1__I1006259">
                           <p class="titleinfigure">Figure 11-7 Multiple Copies of Online Redo Log Files</p><img src="img/cncpt270.gif" alt="Description of Figure 11-7 follows" title="Description of Figure 11-7 follows" longdesc="img_text/cncpt270.html"><br><a href="img_text/cncpt270.html">Description of "Figure 11-7 Multiple Copies of Online Redo Log Files"</a></div>
                        <!-- class="figure" -->
                        <div class="infoboxnote" id="GUID-A06B2CEF-E7A8-47B5-A0F8-E3DBE102BCD1__GUID-D9D233F4-EDD4-4A4C-B496-FF2106B05645">
                           <p class="notep1">Note:</p>
                           <p>Oracle recommends that you multiplex the online redo log. The loss of log files can be catastrophic if recovery is required. When you multiplex the online redo log, the database must increase the amount of I/O it performs. Depending on your system, this additional I/O may impact overall database performance.</p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-A06B2CEF-E7A8-47B5-A0F8-E3DBE102BCD1__GUID-AF0B80FC-7648-4AA3-BA3E-E618563EA8FC">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../admin/managing-the-redo-log.html#ADMIN11309" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn how to maintain multiple copies of the online redo log files
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sbydb/oracle-data-guard-redo-transport-services.html#SBYDB00400" target="_blank"><span><cite>Oracle Data Guard Concepts and Administration</cite></span></a> to learn about the automated transfer of redo data between members of a Data Guard configuration
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT928"></a><div class="props_rev_3"><a id="GUID-4E3F6CAA-453F-4518-83B9-B3A3CCF11B2E" name="GUID-4E3F6CAA-453F-4518-83B9-B3A3CCF11B2E"></a><h5 id="CNCPT-GUID-4E3F6CAA-453F-4518-83B9-B3A3CCF11B2E" class="sect5">Archived Redo Log Files</h5>
                     <div>
                        <p>An <span class="bold">archived redo log file</span> is a copy of a filled member of an online redo log group. The file is not considered part of the database, but is an offline copy of an online redo log file created by the database and written to a user-specified location.
                        </p>
                        <p>Archived redo log files are a crucial part of a backup and recovery strategy. You can use archived redo log files to:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Recover a database backup</p>
                           </li>
                           <li>
                              <p>Update a <a href="glossary.html#GUID-728D4956-0F56-4D39-A63A-2E3FF5CCEDE4"><span class="xrefglossterm">standby database</span></a></p>
                           </li>
                           <li>
                              <p>Obtain information about the history of a database using the Oracle LogMiner utility</p>
                           </li>
                        </ul>
                        <p>The operation of generating an archived redo log file is known as <a href="glossary.html#GUID-193831AB-AC65-4926-A9CC-76F05CA25BFF"><span class="xrefglossterm">archiving</span></a>. This operation is either automatic or manual. It is only possible when the database is in <code class="codeph">ARCHIVELOG</code> mode.
                        </p>
                        <p>An archived redo log file includes the redo entries and the log sequence number of the identical member of the online redo log group. In <span class="q">"<a href="physical-storage-structures.html#GUID-A06B2CEF-E7A8-47B5-A0F8-E3DBE102BCD1" title="Oracle Database can automatically maintain two or more identical copies of the online redo log in separate locations.">Multiple Copies of Online Redo Log Files</a>"</span>, files <code class="codeph">A_LOG1</code> and <code class="codeph">B_LOG1</code> are identical members of Group 1. If the database is in <code class="codeph">ARCHIVELOG</code> mode, and if automatic archiving is enabled, then the <a href="glossary.html#GUID-EB5F3C2A-5046-4301-96CC-ADD66DD13167"><span class="xrefglossterm">archiver process (ARCn)</span></a> will archive one of these files. If <code class="codeph">A_LOG1</code> is corrupted, then the process can archive <code class="codeph">B_LOG1</code>. The archived redo log contains a copy of every redo log group that existed starting from the time that you enabled archiving.
                        </p>
                        <div class="infoboxnotealso" id="GUID-4E3F6CAA-453F-4518-83B9-B3A3CCF11B2E__GUID-FA73A6C3-BE1B-478C-AFC5-EA4DEBAD751C">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="concepts-for-database-administrators.html#GUID-D2E36A56-0571-4857-8D41-BBCC833403E5" title="Oracle LogMiner enables you to query redo log files through a SQL interface.">Oracle LogMiner</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="concepts-for-database-administrators.html#GUID-7F5703F9-CAE5-4736-895B-B45A51974A7C" title="Data file recovery repairs a lost or damaged current data file or control file. It can also recover changes lost when a tablespace went offline without the OFFLINE NORMAL option.">Data File Recovery</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../admin/managing-archived-redo-log-files.html#ADMIN008" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn how to manage the archived redo log
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sbydb/oracle-data-guard-redo-transport-services.html#SBYDB4752" target="_blank"><span><cite>Oracle Data Guard Concepts and Administration</cite></span></a> to learn how to configure standby redo log archival
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT11304"></a><div class="props_rev_3"><a id="GUID-A2C140D9-DD97-41F0-A18D-44791CA46DB7" name="GUID-A2C140D9-DD97-41F0-A18D-44791CA46DB7"></a><h4 id="CNCPT-GUID-A2C140D9-DD97-41F0-A18D-44791CA46DB7" class="sect4">Structure of the Online Redo Log</h4>
                  <div>
                     <p>Online redo log files contain redo records.</p>
                     <p>A redo record is made up of a group of change vectors, each of which describes a change to a <a href="glossary.html#GUID-2141C31D-6752-4260-91CE-99B4CC557247"><span class="xrefglossterm">data block</span></a>. For example, an update to a salary in the <code class="codeph">employees</code> table generates a redo record that describes changes to the <a href="glossary.html#GUID-2CDB4221-D152-4C89-BB2B-4A7FC6DA340B"><span class="xrefglossterm">data segment</span></a> block for the table, the undo segment data block, and the <a href="glossary.html#GUID-BFF71130-2760-4C64-8829-7772C803FBE7"><span class="xrefglossterm">transaction table</span></a> of the undo segments.
                     </p>
                     <p>The redo records have all relevant metadata for the change, including the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>SCN and time stamp of the change</p>
                        </li>
                        <li>
                           <p>Transaction ID of the transaction that generated the change</p>
                        </li>
                        <li>
                           <p>SCN and time stamp when the transaction committed (if it committed)</p>
                        </li>
                        <li>
                           <p>Type of operation that made the change</p>
                        </li>
                        <li>
                           <p>Name and type of the modified data segment</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-A2C140D9-DD97-41F0-A18D-44791CA46DB7__GUID-CF2EB5D8-EDDB-47A1-A59A-E478D439B914">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="logical-storage-structures.html#GUID-1AED5140-E820-436C-BEB7-2A985524911E" title="Oracle Database manages the logical storage space in the data files of a database in a unit called a data block, also called an Oracle block or page. A data block is the minimum unit of database I/O.">Overview of Data Blocks</a>"</span></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>