<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Upgrading and Patching Oracle ASM</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96198-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="admin-asm-instance.html" title="Previous" type="text/html">
      <link rel="next" href="authenticate-access-asm-instance.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="OSTMG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="admin-asm-instance.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="authenticate-access-asm-instance.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-instance-diskgroup.html" property="item" typeof="WebPage"><span property="name">Oracle ASM Instances and Disk Groups</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="asm-instance.html" property="item" typeof="WebPage"><span property="name">Administering Oracle ASM Instances</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Upgrading and Patching Oracle ASM</li>
            </ol>
            <a id="GUID-383A26A4-AB4E-458B-AF6A-C9DA5E15AD2A" name="GUID-383A26A4-AB4E-458B-AF6A-C9DA5E15AD2A"></a><a id="OSTMG02400"></a>
            
            <h2 id="OSTMG-GUID-383A26A4-AB4E-458B-AF6A-C9DA5E15AD2A" class="sect2">Upgrading and Patching Oracle ASM</h2>
         </header>
         <div class="ind">
            <div>
               <p>This section contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="upgrade-patch-asm.html#GUID-968583AA-714F-4FED-9D14-66E14397A061" title="Oracle ASM rolling upgrade enables you to independently upgrade or patch clustered Oracle ASM nodes without affecting database availability which provides greater uptime.">About Oracle ASM Rolling Upgrade</a></p>
                  </li>
                  <li>
                     <p><a href="upgrade-patch-asm.html#GUID-CF124D9F-FF28-4B71-B179-640F1258E98A" title="You can apply patches in a clustered Oracle ASM environment to update one node at a time to the latest patch level without affecting the overall availability of the Oracle ASM cluster or the database clusters using Oracle ASM for storage.">About Oracle ASM Rolling Patches</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-383A26A4-AB4E-458B-AF6A-C9DA5E15AD2A__GUID-09E8AD65-9A61-4B55-A9B7-C4526064328F">
                  <p class="notep1">Note:</p>
                  <p></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For Oracle RAC environments, the Oracle Clusterware version number must be at least equal to the version number of the patch that you are applying to the Oracle Database.</p>
                     </li>
                     <li>
                        <p>You must apply the patch to the Oracle Grid Infrastructure home before you apply it to the Oracle Database home. </p>
                     </li>
                  </ul>
               </div>
            </div><a id="OSTMG95678"></a><div class="props_rev_3"><a id="GUID-968583AA-714F-4FED-9D14-66E14397A061" name="GUID-968583AA-714F-4FED-9D14-66E14397A061"></a><h3 id="OSTMG-GUID-968583AA-714F-4FED-9D14-66E14397A061" class="sect3">About Oracle ASM Rolling Upgrade</h3>
               <div>
                  <p>Oracle ASM rolling upgrade enables you to independently upgrade or patch clustered Oracle ASM nodes without affecting database availability which provides greater uptime. </p>
                  <p>Rolling upgrade means that some features of a clustered Oracle ASM environment continue to function when one or more of the nodes in the cluster uses different software versions. Oracle recommends that you perform an Oracle ASM rolling upgrade when performing an Oracle Clusterware rolling upgrade. </p>
                  <p>To perform a rolling upgrade, your environment must be prepared. Oracle Clusterware must be fully upgraded to the next patch or release version before you start the Oracle ASM rolling upgrade. In addition, you should prepare your Oracle Clusterware in a rolling upgrade manner to ensure high availability and maximum uptime. </p>
                  <p>Note that Oracle ASM is upgraded with Oracle Clusterware for Oracle 11<span class="italic">g</span> Release 2 (11.2) or later as both are in the Oracle Grid Infrastructure home.
                  </p>
                  <div class="infoboxnote" id="GUID-968583AA-714F-4FED-9D14-66E14397A061__GUID-57F4EFD9-8BE1-44D7-9FA9-FA502DE5E62A">
                     <p class="notep1">Note:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Rolling upgrades only apply to clustered Oracle ASM instances, and you can only perform rolling upgrades on environments with Oracle Database 11<span class="italic">g</span> or later. You cannot use this feature to upgrade from Oracle Database 10<span class="italic">g</span> to Oracle Database 11<span class="italic">g</span>.
                           </p>
                        </li>
                        <li>
                           <p>See <span class="italic">Oracle Exadata documentation</span> for information about performing a rolling upgrading of an Oracle ASM instance when Oracle Exadata storage is present.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-968583AA-714F-4FED-9D14-66E14397A061__GUID-C0249E0A-6418-411E-9FE1-0E42C3BC5818">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a> for information about performing, and restrictions related to, a rolling upgrade of Oracle ASM
                           </p>
                        </li>
                        <li>
                           <p><a href="../upgrd/upgrading-oracle-database.html#UPGRD003" target="_blank"><span><cite>Oracle Database Upgrade Guide</cite></span></a> for information about upgrading Oracle Database
                           </p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/ALTER-SYSTEM.html#SQLRF00902" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about the rolling migration clause of the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> command
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG95679"></a><a id="OSTMG95330"></a><div class="props_rev_3"><a id="GUID-CF124D9F-FF28-4B71-B179-640F1258E98A" name="GUID-CF124D9F-FF28-4B71-B179-640F1258E98A"></a><h3 id="OSTMG-GUID-CF124D9F-FF28-4B71-B179-640F1258E98A" class="sect3">About Oracle ASM Rolling Patches</h3>
               <div>
                  <p>You can apply patches in a clustered Oracle ASM environment to update one node at a time to the latest patch level without affecting the overall availability of the Oracle ASM cluster or the database clusters using Oracle ASM for storage.</p>
                  <p>The <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">ROLLING</code> <code class="codeph">PATCH</code> SQL statement enables you to start and stop rolling patches. For example:
                  </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM START ROLLING PATCH;

SQL&gt; ALTER SYSTEM STOP ROLLING PATCH;
</pre><p>You can determine if the cluster is in rolling patch mode by executing a <code class="codeph">SYS_CONTEXT</code> SQL query for Cluster State. A new state (In Rolling Patch) is added to informing the user that the cluster is in rolling patch mode. 
                  </p>
                  <p>The queries in <a href="upgrade-patch-asm.html#GUID-CF124D9F-FF28-4B71-B179-640F1258E98A__CHDGGCAE">Example 3-2</a> display information about rolling patches. To run these queries, you must be connected to the Oracle ASM instance in the Grid home, and the Grid Infrastructure home must be configured with the Oracle Clusterware option for an Oracle RAC environment.
                  </p>
                  <p>You can view all the patch Ids applied on the node and cluster by querying the <code class="codeph">V$PATCHES</code> view. 
                  </p>
                  <p>ASMCMD commands for rolling patches include:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">showclusterstate</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">showpatches</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">showversion</code></p>
                     </li>
                  </ul>
                  <div class="example" id="GUID-CF124D9F-FF28-4B71-B179-640F1258E98A__CHDGGCAE">
                     <p class="titleinexample">Example 3-2 Determining rolling patch mode and patch level</p><pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT('SYS_CLUSTER_PROPERTIES', 'CLUSTER_STATE') FROM DUAL;

SELECT SYS_CONTEXT('SYS_CLUSTER_PROPERTIES', 'CURRENT_PATCHLVL') FROM DUAL;
</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-CF124D9F-FF28-4B71-B179-640F1258E98A__GUID-22C9A78F-2FB9-4461-8218-8E05DB1F8A48">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="asmcmd-instance-commands.html#GUID-A2DBFB13-4AB7-4777-BC42-CC163EA1C9DF" title="This topic provides a summary of the ASMCMD instance management commands.">ASMCMD Instance Management Commands</a> for information about ASMCMD commands to monitor upgrade operations on an Oracle ASM instance
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/ALTER-SYSTEM.html#SQLRF00902" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about the rolling patch clause of the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> command
                              </p>
                           </li>
                           <li>
                              <p><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a> for information about performing, and restrictions related to, a rolling migration of Oracle ASM and Oracle Grid Infrastructure homes
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>