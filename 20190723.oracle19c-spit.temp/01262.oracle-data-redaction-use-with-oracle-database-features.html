<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">
      <meta name="description" content="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">
      <title>Using Oracle Data Redaction with Oracle Database Features</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Advanced Security Guide ">
      <meta property="og:description" content="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Advanced Security Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="advanced-security-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-13T09:26:12-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96301-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="using-oracle-data-redaction-in-oracle-enterprise-manager.html" title="Previous" type="text/html">
      <link rel="next" href="security-considerations-for-using-oracle-data-redaction.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Advanced Security Guide">
    <meta name="dcterms.isVersionOf" content="ASOAG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-oracle-data-redaction-in-oracle-enterprise-manager.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="security-considerations-for-using-oracle-data-redaction.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Advanced Security Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="asopart2.html" property="item" typeof="WebPage"><span property="name">Using Oracle Data Redaction</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Using Oracle Data Redaction with Oracle Database Features</li>
            </ol>
            <a id="GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" name="GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0"></a><a id="ASOAG10491"></a>
            
            <h2 id="ASOAG-GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" class="sect2"><span class="enumeration_chapter">15 </span>Using Oracle Data Redaction with Oracle Database Features
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-FFCACD39-626A-4851-B4B2-D38225C91707">Oracle Data Redaction General Usage Guidelines</a><br>It is important to understand usage guidelines for using Oracle Data Redaction.
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-7F507B1B-12C8-4F1A-9C3E-09022D2068FA">Oracle Data Redaction and DML and DDL Operations</a><br>Oracle Data Redaction affects DML and DDL operations, especially for users who issue ad-hoc SQL against tables with redacted columns.
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-1B4178D5-E0FD-49F4-A0B0-267B9AEF226B">Oracle Data Redaction and Nested Functions, Inline Views, and the WHERE Clause</a><br>You can use Oracle Data Redaction with nested functions, inline views, and the <code class="codeph">WHERE</code> clause in <code class="codeph">SELECT</code> statements.
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-343A4F89-B5BA-4DB6-B242-7CB3F6EA2075">Oracle Data Redaction and Queries on Columns Protected by Data Redaction Policies</a><br>Queries that include the <code class="codeph">DISTINCT</code> or <code class="codeph">ORDER BY</code> clause on columns that are protected by Oracle Data Redaction policies may return 0 rows.
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-6C639026-0F6D-4F31-BD75-776E90E88550">Oracle Data Redaction and Database Links</a><br>Do not create Oracle Data Redaction policies on database views that reference database links.
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-C5920C06-C23B-41CE-9162-F88AB3843F71">Oracle Data Redaction and Aggregate Functions</a><br>Aggregate functions can affect performance overhead on Oracle Data Redaction policies.
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-528FC7E0-9CA3-4922-AA0F-78BF2B19515D">Oracle Data Redaction and Object Types</a><br>You can use object types to model real-world entities such as customer accounts. 
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-B5733E56-B104-4382-94AA-AA9526D9FF3F">Oracle Data Redaction and XML Generation</a><br>You cannot use XML generation functions on columns that have Oracle Data Redaction policies defined on them.
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-E4D02F00-674D-4C56-89AC-F947C8DA31B7">Oracle Data Redaction and Editions</a><br>You cannot redact editioned views. 
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-52FA95B1-8823-43F9-9D96-8F801BF16178">Oracle Data Redaction in a Multitenant Environment</a><br>In a multitenant environment, Oracle Data Redaction policies apply only to the objects within the current pluggable database (PDB). 
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-005796B2-304C-47AD-9655-DE200F3CEC99">Oracle Data Redaction and Oracle Virtual Private Database</a><br>Oracle Data Redaction does not affect Oracle Virtual Private Database policies because the VPD inline view, which contains the VPD predicate, acts on actual values. 
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-89F04071-C0C2-423B-BF0C-BECB504984D5">Oracle Data Redaction and Oracle Database Real Application Security</a><br>Oracle Data Redaction differs from Oracle Database Real Application Security because of how security is implemented for applications.
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-679EACAA-49D1-410E-B8BD-BF6C3DCDC884">Oracle Data Redaction and Oracle Database Vault</a><br>You can use Oracle Data Redaction in an Oracle Database Vault environment. 
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-DE91C0ED-92E5-40C6-B9B0-EFC710F0C5D1">Oracle Data Redaction and Oracle Data Pump</a><br>Oracle Data Pump export operations can affect objects that have Oracle Data Redaction policies. 
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-A75CA148-1D47-4012-8849-92AD9265114B">Oracle Data Redaction and Data Masking and Subsetting Pack</a><br>Oracle Enterprise Manager Data Masking and Subsetting Pack can be used to create a development or test copy of a production database.
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-923A2EB1-C75F-4629-AD8F-A4726FEFAADC">Oracle Data Redaction and JSON</a><br>JavaScript Object Notation (JSON) can be used to create <code class="codeph">is json</code> constraints on table columns.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="asopart2.html" title="Part II describes how to use Oracle Data Redaction.">Using Oracle Data Redaction</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-FFCACD39-626A-4851-B4B2-D38225C91707" name="GUID-FFCACD39-626A-4851-B4B2-D38225C91707"></a><h3 id="ASOAG-GUID-FFCACD39-626A-4851-B4B2-D38225C91707" class="sect3">Oracle Data Redaction General Usage Guidelines</h3>
               <div>
                  <p>It is important to understand usage guidelines for using Oracle Data Redaction.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Do not include any redacted columns in a SQL expression that is used in a <code class="codeph">GROUP BY</code> clause in a SQL statement. Oracle does not support this, and raises an <code class="codeph">ORA-00979: not a GROUP BY expression</code> error. This happens because internally the expression in the <code class="codeph">SELECT</code> list must be modified by Data Redaction, but this causes it to no longer be found when it comes time to process the <code class="codeph">GROUP BY</code> clause (which is currently not updated by Data Redaction) leading to this unintended error message.
                        </p>
                     </li>
                     <li>
                        <p>Do not include any redacted columns in a SQL expression that is used in both the <code class="codeph">DISTINCT</code> clause and <code class="codeph">ORDER BY</code> clause in a SQL statement. Oracle does not support this, and raises an error: <code class="codeph">ORA-01791: not a SELECTed expression</code>. This happens because internally the expression in the <code class="codeph">SELECT</code> list must be modified by Data Redaction, but this causes it to no longer be found when it comes time to process the <code class="codeph">GROUP BY</code> clause, leading to this unintended error message.
                        </p>
                     </li>
                     <li>
                        <p>An <code class="codeph">ORA-28094: SQL construct not supported by data redaction</code> error is raised if a query involves a <code class="codeph">UNION</code> of redacted columns and each branch of the <code class="codeph">UNION</code> does not have the same redaction policy. To avoid the <code class="codeph">ORA-28094</code> error, ensure that the query has the following properties:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When a column in the <code class="codeph">UNION</code> has a redaction policy, the corresponding column in each branch of the <code class="codeph">UNION</code> must use a redaction policy with the same values for all of its properties:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Function type</p>
                                 </li>
                                 <li>
                                    <p>Function parameters or <code class="codeph">REGEXP</code> parameters
                                    </p>
                                 </li>
                                 <li>
                                    <p>Policy expression</p>
                                 </li>
                                 <li>
                                    <p>Enable flag</p>
                                 </li>
                              </ul>
                              <p>It can be a different redaction policy, but all these properties must be the same.</p>
                           </li>
                           <li>
                              <p>In an inline view, a <code class="codeph">UNION</code> cannot have a subquery or any SQL expression that involves a redacted column.
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" title="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">Using Oracle Data Redaction with Oracle Database Features</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG10600"></a><div class="props_rev_3"><a id="GUID-7F507B1B-12C8-4F1A-9C3E-09022D2068FA" name="GUID-7F507B1B-12C8-4F1A-9C3E-09022D2068FA"></a><h3 id="ASOAG-GUID-7F507B1B-12C8-4F1A-9C3E-09022D2068FA" class="sect3">Oracle Data Redaction and DML and DDL Operations</h3>
               <div>
                  <p>Oracle Data Redaction affects DML and DDL operations, especially for users who issue ad-hoc SQL against tables with redacted columns.</p>
                  <p>Note the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Oracle Data Redaction treats the <code class="codeph">RETURNING INTO</code> clause of a DML statement as a query, even though the result is not displayed. The result that is sent to the buffer is what would have been displayed had the <code class="codeph">RETURNING INTO</code> clause been run as an ordinary SQL query, rather than as part of a DML statement. If your application performs further processing on the buffer that contains the <code class="codeph">RETURNING INTO</code> value, then consider changing the application because it may not expect to find a redacted value in the buffer.
                        </p>
                     </li>
                     <li>
                        <p>If a redacted column appears as the source in a DML or DDL operation, then Oracle Data Redaction considers this as an attempt to circumvent the policy and prevents it with an <code class="codeph">ORA-28081: Insufficient privileges - the command references a redacted object</code> error unless you have the <code class="codeph">EXEMPT REDACTION POLICY</code> system privilege. Internally, Oracle Data Pump issues these kinds of operations, so you may also need to grant the <code class="codeph">EXEMPT REDACTION POLICY</code> system privilege to a user if they need to perform schema-level exports of tables that have redacted columns.
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" title="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">Using Oracle Data Redaction with Oracle Database Features</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG10493"></a><div class="props_rev_3"><a id="GUID-1B4178D5-E0FD-49F4-A0B0-267B9AEF226B" name="GUID-1B4178D5-E0FD-49F4-A0B0-267B9AEF226B"></a><h3 id="ASOAG-GUID-1B4178D5-E0FD-49F4-A0B0-267B9AEF226B" class="sect3">Oracle Data Redaction and Nested Functions, Inline Views, and the WHERE Clause</h3>
               <div>
                  <p>You can use Oracle Data Redaction with nested functions, inline views, and the <code class="codeph">WHERE</code> clause in <code class="codeph">SELECT</code> statements.
                  </p>
                  <p>Oracle Data Redaction policies work as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="bold">Nested functions are redacted innermost.</span> For example, in <code class="codeph">SELECT SUM(AVG(TO_NUMBER(((X))) FROM HR.EMPLOYEES WHERE ...</code>, the <code class="codeph">TO_NUMBER</code> function is redacted first, followed by <code class="codeph">AVG</code>, and then last the <code class="codeph">SUM</code> function.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Inline views are redacted outermost.</span> For example, in <code class="codeph">SELECT XYZ … AS SELECT A… AS SELECT B… AS SELECT C…</code>, <code class="codeph">SELECT XYZ</code> is redacted first, followed by <code class="codeph">AS SELECT A</code>, then <code class="codeph">AS SELECT B</code>, and so on. <code class="codeph">AS SELECT C</code> is redacted last. 
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">The WHERE clause is never redacted.</span> Data Redaction redacts only data in the column <code class="codeph">SELECT</code> list. 
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" title="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">Using Oracle Data Redaction with Oracle Database Features</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-343A4F89-B5BA-4DB6-B242-7CB3F6EA2075" name="GUID-343A4F89-B5BA-4DB6-B242-7CB3F6EA2075"></a><h3 id="ASOAG-GUID-343A4F89-B5BA-4DB6-B242-7CB3F6EA2075" class="sect3">Oracle Data Redaction and Queries on Columns Protected by Data Redaction  Policies</h3>
               <div>
                  <p>Queries that include the <code class="codeph">DISTINCT</code> or <code class="codeph">ORDER BY</code> clause on columns that are protected by Oracle Data Redaction policies may return 0 rows.
                  </p>
                  <p>This happens because redaction preserves the semantics of the query. For example, a query such as <code class="codeph">SELECT * <span class="codeinlineitalic">table_name</span> WHERE <span class="codeinlineitalic">sensitive_column</span> LIKE '<span class="codeinlineitalic">value</span>';</code> would likely result in 0 rows returned, because the redacted value would not match the <code class="codeph">'<span class="codeinlineitalic">value</span>'</code> value entered in the <code class="codeph">WHERE</code> clause. To work around this issue, rewrite the query to include an inline view so that the semantic layer can find the column. For example, instead of the following query:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT <span class="italic">sensitive_column</span> 
FROM <span class="italic">table_name</span> 
ORDER BY <span class="italic">sensitive_column</span>;
</pre><p>Write the query as follows:</p><pre class="oac_no_warn" dir="ltr">SELECT <span class="italic">sensitive_column</span> FROM 
(SELECT DISTINCT <span class="italic">sensitive_column</span> 
 FROM <span class="italic">table_name</span>
 ORDER BY <span class="italic">sensitive_column</span>);</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" title="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">Using Oracle Data Redaction with Oracle Database Features</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-6C639026-0F6D-4F31-BD75-776E90E88550" name="GUID-6C639026-0F6D-4F31-BD75-776E90E88550"></a><h3 id="ASOAG-GUID-6C639026-0F6D-4F31-BD75-776E90E88550" class="sect3">Oracle Data Redaction and Database Links</h3>
               <div>
                  <p>Do not create Oracle Data Redaction policies on database views that reference database links.</p>
                  <p>You can find information about existing database links by querying the <code class="codeph">DBA_DB_LINKS</code> data dictionary view.
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-6C639026-0F6D-4F31-BD75-776E90E88550__GUID-C671834B-555E-4345-B70E-0A68B6F378F3">
                     <p class="notep1">See Also:</p>
                     <p><a href="../admin/distributed-database-concepts.html#ADMIN12083" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for detailed information about database links
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" title="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">Using Oracle Data Redaction with Oracle Database Features</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG10495"></a><div class="props_rev_3"><a id="GUID-C5920C06-C23B-41CE-9162-F88AB3843F71" name="GUID-C5920C06-C23B-41CE-9162-F88AB3843F71"></a><h3 id="ASOAG-GUID-C5920C06-C23B-41CE-9162-F88AB3843F71" class="sect3">Oracle Data Redaction and Aggregate Functions</h3>
               <div>
                  <p>Aggregate functions can affect performance overhead on Oracle Data Redaction policies.</p>
                  <p>Because Oracle Data Redaction dynamically modifies the value of each row in a column, certain SQL queries that use aggregate functions cannot take full advantage of database optimizations that presume the row values to be static.</p>
                  <p>In the case of SQL queries that call aggregate functions, it may be possible to notice performance overhead due to redaction.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" title="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">Using Oracle Data Redaction with Oracle Database Features</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG10509"></a><div class="props_rev_3"><a id="GUID-528FC7E0-9CA3-4922-AA0F-78BF2B19515D" name="GUID-528FC7E0-9CA3-4922-AA0F-78BF2B19515D"></a><h3 id="ASOAG-GUID-528FC7E0-9CA3-4922-AA0F-78BF2B19515D" class="sect3">Oracle Data Redaction and Object Types</h3>
               <div>
                  <p>You can use object types to model real-world entities such as customer accounts. </p>
                  <p>An object type is a user-defined type. You cannot redact object types. This is because Database Redaction cannot handle all of the possible ways that object types can be configured, because they are user defined. You can find the type that an object uses by querying the <code class="codeph">OBJECT_NAME</code> and <code class="codeph">OBJECT_TYPE</code> columns of the <code class="codeph">ALL_OBJECTS</code> data dictionary view.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" title="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">Using Oracle Data Redaction with Oracle Database Features</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-B5733E56-B104-4382-94AA-AA9526D9FF3F" name="GUID-B5733E56-B104-4382-94AA-AA9526D9FF3F"></a><h3 id="ASOAG-GUID-B5733E56-B104-4382-94AA-AA9526D9FF3F" class="sect3">Oracle Data Redaction and XML Generation</h3>
               <div>
                  <p>You cannot use XML generation functions on columns that have Oracle Data Redaction policies defined on them.</p>
                  <p><a href="../adxdb/generation-of-XML-data-from-relational-data.html#ADXDB1620" target="_blank"><span><cite>Oracle XML&nbsp;DB Developer’s Guide</cite></span></a> describes the kinds of SQL functions to which this restriction applies. This restriction applies irrespective of whether the Oracle Data Redaction policy has been enabled or disabled, or is active for the querying user.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" title="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">Using Oracle Data Redaction with Oracle Database Features</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG400"></a><div class="props_rev_3"><a id="GUID-E4D02F00-674D-4C56-89AC-F947C8DA31B7" name="GUID-E4D02F00-674D-4C56-89AC-F947C8DA31B7"></a><h3 id="ASOAG-GUID-E4D02F00-674D-4C56-89AC-F947C8DA31B7" class="sect3">Oracle Data Redaction and Editions</h3>
               <div>
                  <p>You cannot redact editioned views. </p>
                  <p>In addition to not being able to redact editioned views, you cannot use a redacted column in the definition of any editioned view. You can find information about editions by querying the <code class="codeph">DBA_EDITIONS</code> data dictionary view.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" title="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">Using Oracle Data Redaction with Oracle Database Features</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG416"></a><div class="props_rev_3"><a id="GUID-52FA95B1-8823-43F9-9D96-8F801BF16178" name="GUID-52FA95B1-8823-43F9-9D96-8F801BF16178"></a><h3 id="ASOAG-GUID-52FA95B1-8823-43F9-9D96-8F801BF16178" class="sect3">Oracle Data Redaction in a Multitenant Environment</h3>
               <div>
                  <p>In a multitenant environment, Oracle Data Redaction policies apply only to the objects within the current pluggable database (PDB). </p>
                  <p>You cannot create a Data Redaction policy for a multitenant container database (CDB). This is because the objects for which you create Data Redaction policies typically reside in a PDB. If you have the <code class="codeph">SYSDBA</code> privilege, then you can list all the PDBs in a CDB by running the <code class="codeph">SHOW PDBS</code> command.
                  </p>
                  <p>As with the CDB root, you cannot create Data Redaction policies in an application root. </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" title="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">Using Oracle Data Redaction with Oracle Database Features</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG611"></a><div class="props_rev_3"><a id="GUID-005796B2-304C-47AD-9655-DE200F3CEC99" name="GUID-005796B2-304C-47AD-9655-DE200F3CEC99"></a><h3 id="ASOAG-GUID-005796B2-304C-47AD-9655-DE200F3CEC99" class="sect3">Oracle Data Redaction and Oracle Virtual Private Database</h3>
               <div>
                  <p>Oracle Data Redaction does not affect Oracle Virtual Private Database policies because the VPD inline view, which contains the VPD predicate, acts on actual values. </p>
                  <p>Oracle Data Redaction differs from Oracle Virtual Private Database in the following ways:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Oracle Data Redaction provides more redacting features than Oracle Virtual Private Database, which only supports <code class="codeph">NULL</code> redacting. Many applications cannot use <code class="codeph">NULL</code> redacting, so Data Redaction is a good solution for these applications. 
                        </p>
                     </li>
                     <li>
                        <p>Oracle Virtual Private Database policies can be static, dynamic, and context sensitive, whereas Data Redaction policies only allow static and context-sensitive policy expressions.</p>
                     </li>
                     <li>
                        <p>Data Redaction permits only one policy to be defined on a table or view, whereas you can define multiple Virtual Private Database policies on an object.</p>
                     </li>
                     <li>
                        <p>Data Redaction is when application users try to access an object that is protected by a Data Redaction policy using a synonym, but (unlike Oracle Virtual Private Database) Data Redaction does not support the creation of policies directly on the synonyms themselves.</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" title="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">Using Oracle Data Redaction with Oracle Database Features</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG613"></a><div class="props_rev_3"><a id="GUID-89F04071-C0C2-423B-BF0C-BECB504984D5" name="GUID-89F04071-C0C2-423B-BF0C-BECB504984D5"></a><h3 id="ASOAG-GUID-89F04071-C0C2-423B-BF0C-BECB504984D5" class="sect3">Oracle Data Redaction and Oracle Database Real Application Security</h3>
               <div>
                  <p>Oracle Data Redaction differs from Oracle Database Real Application Security because of how security is implemented for applications.</p>
                  <p>Oracle Data Redaction differs from Oracle Database Real Application Security in that Real Application Security provides a comprehensive authorization framework for application security.</p>
                  <p>Column security within Real Application Security is based on application privileges that are defined by applications using the Real Application Security framework.</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-89F04071-C0C2-423B-BF0C-BECB504984D5__GUID-DF5773F5-DFA7-4453-B40A-09626AAADD34">
                     <p class="notep1">See Also:</p>
                     <p><a href="../dbfsg/configuring-data-security.html#DBFSG99179" target="_blank"><span><cite>Oracle Database Real Application Security Administrator's and Developer's Guide</cite></span></a> for information about how you can protect table columns with custom application privileges
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" title="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">Using Oracle Data Redaction with Oracle Database Features</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG749"></a><div class="props_rev_3"><a id="GUID-679EACAA-49D1-410E-B8BD-BF6C3DCDC884" name="GUID-679EACAA-49D1-410E-B8BD-BF6C3DCDC884"></a><h3 id="ASOAG-GUID-679EACAA-49D1-410E-B8BD-BF6C3DCDC884" class="sect3">Oracle Data Redaction and Oracle Database Vault</h3>
               <div>
                  <p>You can use Oracle Data Redaction in an Oracle Database Vault environment. </p>
                  <p>For example, if there is an Oracle Database Vault realm around an object, a user who does not belong to the authorized list of realm owners or participants cannot see the object data, regardless of whether the user was granted the <code class="codeph">EXEMPT REDACTION POLICY</code> privilege. If the user attempts a DML or DDL statement on the data, error messages result. 
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" title="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">Using Oracle Data Redaction with Oracle Database Features</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG810"></a><div class="props_rev_3"><a id="GUID-DE91C0ED-92E5-40C6-B9B0-EFC710F0C5D1" name="GUID-DE91C0ED-92E5-40C6-B9B0-EFC710F0C5D1"></a><h3 id="ASOAG-GUID-DE91C0ED-92E5-40C6-B9B0-EFC710F0C5D1" class="sect3">Oracle Data Redaction and Oracle Data Pump</h3>
               <div>
                  <p>Oracle Data Pump export operations can affect objects that have Oracle Data Redaction policies. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-83544DD3-2903-4E6F-AD14-671E57CF41A9">Oracle Data Pump Security Model for Oracle Data Redaction</a><br>The <code class="codeph">DATAPUMP_EXP_FULL_DATABASE</code> role includes the powerful <code class="codeph">EXEMPT REDACTION POLICY</code> system privilege. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-375CD335-F866-4A4D-A909-D9C519E2CF31">Export of Objects That Have Oracle Data Redaction Policies Defined</a><br>You can export objects that have already had Oracle Data Redaction policies defined on them.
                     </li>
                     <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D1588074-1B20-48FF-B59E-78D6AEB4AD98">Export of Data Using the EXPDP Utility access_method Parameter</a><br>Oracle Data Pump can export data from a schema that contains an object that has a Data Redaction policy.
                     </li>
                     <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-A805CDB6-F4F6-4AA3-ABB4-2D8E7B94E240">Import of Data into Objects Protected by Oracle Data Redaction</a><br>During an import operation, be careful that you do not inadvertently drop data redaction policies that protect imported data.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" title="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">Using Oracle Data Redaction with Oracle Database Features</a></p>
                     </div>
                  </div>
               </div>
               <a id="ASOAG811"></a><div class="props_rev_3"><a id="GUID-83544DD3-2903-4E6F-AD14-671E57CF41A9" name="GUID-83544DD3-2903-4E6F-AD14-671E57CF41A9"></a><h4 id="ASOAG-GUID-83544DD3-2903-4E6F-AD14-671E57CF41A9" class="sect4">Oracle Data Pump Security Model for Oracle Data Redaction</h4>
                  <div>
                     <p>The <code class="codeph">DATAPUMP_EXP_FULL_DATABASE</code> role includes the powerful <code class="codeph">EXEMPT REDACTION POLICY</code> system privilege. 
                     </p>
                     <p>Remember that by default the <code class="codeph">DBA</code> role is granted the <code class="codeph">DATAPUMP_EXP_FULL_DATABASE</code> role as well as <code class="codeph">DATAPUMP_IMP_FULL_DATABASE</code>. 
                     </p>
                     <p>This enables users who were granted these roles to be exempt from Data Redaction policies. This means that, when you export objects with Data Redaction policies defined on them, the <a href="glossary.html#GUID-82E2FC6D-718F-4367-9D7E-DC130F360FC3"><span class="xrefglossterm">actual data</span></a> in the protected tables is copied to the Data Pump target system without being redacted. Users with these roles, including users who were granted the <code class="codeph">DBA</code> role, are able to see the actual data in the target system.
                     </p>
                     <p>However, by default, all of the Data Redaction policies associated with any tables and views in the Data Pump source system are also included in the export and import operation (along with the objects themselves) and applied to the objects in the target system, so the data is still redacted when users query the objects in the target system. </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="configuring-oracle-data-redaction-policies.html#GUID-ADFB7DCD-8543-400D-95A3-AA0976E75084" title="You can exempt users from having Oracle Data Redaction policies applied to the data they access.">Exemption of Users from Oracle Data Redaction Policies</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-DE91C0ED-92E5-40C6-B9B0-EFC710F0C5D1" title="Oracle Data Pump export operations can affect objects that have Oracle Data Redaction policies.">Oracle Data Redaction and Oracle Data Pump</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="ASOAG812"></a><div class="props_rev_3"><a id="GUID-375CD335-F866-4A4D-A909-D9C519E2CF31" name="GUID-375CD335-F866-4A4D-A909-D9C519E2CF31"></a><h4 id="ASOAG-GUID-375CD335-F866-4A4D-A909-D9C519E2CF31" class="sect4">Export of Objects That Have Oracle Data Redaction Policies Defined</h4>
                  <div>
                     <p>You can export objects that have already had Oracle Data Redaction policies defined on them.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D8064A3D-C6B1-4029-A644-FDB7269FA730">Finding Type Names Used by Oracle Data Pump</a><br>You must find the type names Oracle Data Pump uses before exporting objects that have Oracle Data Redaction policies defined on these objects. 
                        </li>
                        <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D2B31B3A-0521-4662-A978-07E29723E295">Exporting Only the Data Dictionary Metadata Related to Data Redaction Policies</a><br>You can export only the data dictionary metadata that is related to data redaction policies and full redaction settings.
                        </li>
                        <li class="ulchildlink"><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-17E69EB2-D8DD-4815-AEC4-C05C20C2277A">Importing Objects Using the INCLUDE Parameter in IMPDP</a><br>You can import objects using Oracle Database Pump.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-DE91C0ED-92E5-40C6-B9B0-EFC710F0C5D1" title="Oracle Data Pump export operations can affect objects that have Oracle Data Redaction policies.">Oracle Data Redaction and Oracle Data Pump</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-D8064A3D-C6B1-4029-A644-FDB7269FA730" name="GUID-D8064A3D-C6B1-4029-A644-FDB7269FA730"></a><h5 id="ASOAG-GUID-D8064A3D-C6B1-4029-A644-FDB7269FA730" class="sect5">Finding Type Names Used by Oracle Data Pump</h5>
                     <div>
                        <p>You must find the type names Oracle Data Pump uses before exporting objects that have Oracle Data Redaction policies defined on these objects. </p>
                        <div class="section">
                           <p>After you find these types, you should use these types as parameters for the <code class="codeph">INCLUDE</code> directive to the <code class="codeph">IMPDP</code> utility, to selectively export only metadata of these specific types to the dump file.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>To find type names, query the <code class="codeph">DATABASE_EXPORT_OBJECTS</code> view. 
                                 </p>
                              </li>
                           </ul>
                           <p>For example: </p><pre class="oac_no_warn" dir="ltr">SELECT OBJECT_PATH
FROM DATABASE_EXPORT_OBJECTS
WHERE OBJECT_PATH LIKE 'RADM_%'; 
</pre><p>Output similar to the following appears:</p><pre class="oac_no_warn" dir="ltr">OBJECT_PATH
------------
RADM_FPTM
RADM_POLICY
</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-375CD335-F866-4A4D-A909-D9C519E2CF31" title="You can export objects that have already had Oracle Data Redaction policies defined on them.">Export of Objects That Have Oracle Data Redaction Policies Defined</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-D2B31B3A-0521-4662-A978-07E29723E295" name="GUID-D2B31B3A-0521-4662-A978-07E29723E295"></a><h5 id="ASOAG-GUID-D2B31B3A-0521-4662-A978-07E29723E295" class="sect5">Exporting Only the Data Dictionary Metadata Related to Data Redaction Policies</h5>
                     <div>
                        <p>You can export only the data dictionary metadata that is related to data redaction policies and full redaction settings.</p>
                        <div class="section">
                           <p>This kind of Data Pump export could, for example, be used if you must use the same set of Data Redaction policies and settings across development, test, and production databases. Because the flag <code class="codeph">content=metadata_only</code> is specified, the dump file does not contain any actual data.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>To export only the data dictionary metadata related to data redaction policies and full redaction settings, enter an <code class="codeph">EXPDP</code> utility command similar to the following: 
                                 </p><pre class="oac_no_warn" dir="ltr">expdp system/<span class="italic">password</span> \
full=y \
COMPRESSION=NONE \
content=metadata_only \
INCLUDE=RADM_FPTM,RADM_POLICY\
directory=my_directory \
job_name=my_job_name \
dumpfile=my_data_redaction_policy_metadata.dmp
</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D2B31B3A-0521-4662-A978-07E29723E295__GUID-84A32D0E-E1DE-466E-AB77-EC678280BECE">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../sutil/oracle-data-pump-export-utility.html#SUTIL853" target="_blank"><span><cite>Oracle Database Utilities</cite></span></a> for detailed information about the <code class="codeph">INCLUDE</code> parameter of the <code class="codeph">EXPDP</code> utility
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sutil/oracle-data-pump-export-utility.html#SUTIL835" target="_blank"><span><cite>Oracle Database Utilities</cite></span></a> for detailed information about metadata filters
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-375CD335-F866-4A4D-A909-D9C519E2CF31" title="You can export objects that have already had Oracle Data Redaction policies defined on them.">Export of Objects That Have Oracle Data Redaction Policies Defined</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-17E69EB2-D8DD-4815-AEC4-C05C20C2277A" name="GUID-17E69EB2-D8DD-4815-AEC4-C05C20C2277A"></a><h5 id="ASOAG-GUID-17E69EB2-D8DD-4815-AEC4-C05C20C2277A" class="sect5">Importing Objects Using the INCLUDE Parameter in IMPDP</h5>
                     <div>
                        <p>You can import objects using Oracle Database Pump.</p>
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>To import the objects, include these names in the <code class="codeph">INCLUDE</code> parameter in the <code class="codeph">IMPDP</code> utility command, based on the output from querying the <code class="codeph">OBJECT_PATH</code> column in the <code class="codeph">DATABASE_EXPORT_OBJECTS</code> view. 
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-375CD335-F866-4A4D-A909-D9C519E2CF31" title="You can export objects that have already had Oracle Data Redaction policies defined on them.">Export of Objects That Have Oracle Data Redaction Policies Defined</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ASOAG898"></a><div class="props_rev_3"><a id="GUID-D1588074-1B20-48FF-B59E-78D6AEB4AD98" name="GUID-D1588074-1B20-48FF-B59E-78D6AEB4AD98"></a><h4 id="ASOAG-GUID-D1588074-1B20-48FF-B59E-78D6AEB4AD98" class="sect4">Export of Data Using the EXPDP Utility access_method Parameter</h4>
                  <div>
                     <p>Oracle Data Pump can export data from a schema that contains an object that has a Data Redaction policy.</p>
                     <p>If you are using Oracle Data Pump to perform full database export operations using the Data Pump default settings (<code class="codeph">direct_path</code>), and if you receive error messages that you do not understand, then use this section to repeat the operation in such a way as to better understand the error.
                     </p>
                     <p>If you try to use the Oracle Data Pump Export (<code class="codeph">EXPDP</code>) utility with the <code class="codeph">access_method</code> parameter set to <code class="codeph">direct_path</code> to export data from a schema that contains an object that has a Data Redaction policy defined on it, then the following error message may appear and the export operation fails:
                     </p><pre class="oac_no_warn" dir="ltr">ORA-31696: unable to export/import TABLE_DATA:"<span class="italic">schema.table</span>" using client specified DIRECT_PATH method
</pre><p>This problem only occurs when you perform a schema-level export as a user who was not granted the <code class="codeph">EXP_FULL_DATABASE</code> role. It does not occur during a full database export, which requires the <code class="codeph">EXP_FULL_DATABASE</code> role. The <code class="codeph">EXP_FULL_DATABASE</code> role includes the <code class="codeph">EXEMPT REDACTION POLICY</code> system privilege, which bypasses Data Redaction policies. 
                     </p>
                     <p>To find the underlying problem, try the <code class="codeph">EXPDP</code> invocation again, but do not set the <code class="codeph">access_method</code> parameter to <code class="codeph">direct_path</code>. Instead, use either <code class="codeph">automatic</code> or <code class="codeph">external_table</code>. The underlying problem could be a permissions problem, for example:
                     </p><pre class="oac_no_warn" dir="ltr">ORA-28081: Insufficient privileges - the command references a redacted object.</pre></div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-D1588074-1B20-48FF-B59E-78D6AEB4AD98__GUID-4B2230B9-4401-4E5F-922D-AA9A308D540D">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sutil/oracle-data-pump-export-utility.html#SUTIL200" target="_blank"><span><cite>Oracle Database Utilities</cite></span></a> for more information about using Data Pump Export.
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-DE91C0ED-92E5-40C6-B9B0-EFC710F0C5D1" title="Oracle Data Pump export operations can affect objects that have Oracle Data Redaction policies.">Oracle Data Redaction and Oracle Data Pump</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-A805CDB6-F4F6-4AA3-ABB4-2D8E7B94E240" name="GUID-A805CDB6-F4F6-4AA3-ABB4-2D8E7B94E240"></a><h4 id="ASOAG-GUID-A805CDB6-F4F6-4AA3-ABB4-2D8E7B94E240" class="sect4">Import of Data into Objects Protected by Oracle Data Redaction</h4>
                  <div>
                     <p>During an import operation, be careful that you do not inadvertently drop data redaction policies that protect imported data.</p>
                     <p>Consider a scenario in which the source tables that were exported using the Oracle Data Pump Export (<code class="codeph">EXPDP</code>) utility do not have Oracle Data Redaction polices. However, the destination tables to which the data is to be imported by using Oracle Data Pump Import (<code class="codeph">IMPDP</code>) have Oracle Data Redaction policies.
                     </p>
                     <div class="p">During the Data Pump import operation, the status of the Data Redaction policies on the objects being imported depends on the <code class="codeph">CONTENT</code> option of <code class="codeph">IMPDP</code> command. 
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If you use the <code class="codeph">CONTENT=ALL</code>&nbsp;or <code class="codeph">CONTENT=METADATA_ONLY</code> option in the <code class="codeph">IMPDP</code> command, then the Data Redaction policies on the destination tables are dropped. You must recreate the Data Redaction policies.
                              </p>
                           </li>
                           <li>
                              <p>If you use <code class="codeph">CONTENT=DATA_ONLY</code> in the <code class="codeph">IMPDP</code> command, then the Data Redaction polices on the destination tables are not dropped.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-A805CDB6-F4F6-4AA3-ABB4-2D8E7B94E240__GUID-4B2230B9-4401-4E5F-922D-AA9A308D540D">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sutil/datapump-import-utility.html#SUTIL300" target="_blank"><span><cite>Oracle Database Utilities</cite></span></a> for more information about using Data Pump Export
                           </p>
                        </div>
                     </div>
                     <p></p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-DE91C0ED-92E5-40C6-B9B0-EFC710F0C5D1" title="Oracle Data Pump export operations can affect objects that have Oracle Data Redaction policies.">Oracle Data Redaction and Oracle Data Pump</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ASOAG612"></a><div class="props_rev_3"><a id="GUID-A75CA148-1D47-4012-8849-92AD9265114B" name="GUID-A75CA148-1D47-4012-8849-92AD9265114B"></a><h3 id="ASOAG-GUID-A75CA148-1D47-4012-8849-92AD9265114B" class="sect3">Oracle Data Redaction and Data Masking and Subsetting Pack</h3>
               <div>
                  <p>Oracle Enterprise Manager Data Masking and Subsetting Pack can be used to create a development or test copy of a production database.</p>
                  <p>To accomplish this, you can mask this data in bulk, and then put the resulting masked data in the development or test copy.</p>
                  <p>You can still apply Data Redaction policies to the non-production database, in order to redact columns that contain data that was already masked by Oracle Enterprise Manager Data Masking and Subsetting Pack.</p>
                  <p>Remember that Oracle Enterprise Manager Data Masking and Subsetting Pack is used to mask data sets when you want to move the data to development and test environments. Data Redaction is mainly designed for redacting at runtime for production applications in a consistent fashion across multiple applications, without having to make application code changes.</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-A75CA148-1D47-4012-8849-92AD9265114B__GUID-B3F5AD9A-EDC5-45F1-99BF-15F1EC43B29C">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/asoag&amp;id=DMKSB-GUID-24B241AF-F77F-46ED-BEAE-3919BF1BBD80" target="_blank"><span><cite>Oracle Data Masking and Subsetting Guide</cite></span></a> for more information about data masking and subsetting
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" title="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">Using Oracle Data Redaction with Oracle Database Features</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-923A2EB1-C75F-4629-AD8F-A4726FEFAADC" name="GUID-923A2EB1-C75F-4629-AD8F-A4726FEFAADC"></a><h3 id="ASOAG-GUID-923A2EB1-C75F-4629-AD8F-A4726FEFAADC" class="sect3">Oracle Data Redaction and JSON</h3>
               <div>
                  <p>JavaScript Object Notation (JSON) can be used to create <code class="codeph">is json</code> constraints on table columns.
                  </p>
                  <p>However, you cannot create an Oracle Data Redaction policy on a table column that has the <code class="codeph">is json</code> constraint. If you attempt to do so, an <code class="codeph">ORA-28073 - The column column_name has an unsupported datatype</code> error is raised. As a workaround solution, Oracle recommends that you create a relational view that uses the <code class="codeph">JSON_TABLE</code> row source operator on top of the JSON object, and then apply the Data Redaction policy to this view. 
                  </p>
                  <p>See <a href="../sqlrf/JSON_TABLE.html#SQLRF56973" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about <code class="codeph">JASON_TABLE</code>.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0" title="Oracle Data Redaction can be used with other Oracle features, but some Oracle features may have restrictions with regard to Oracle Data Redaction.">Using Oracle Data Redaction with Oracle Database Features</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>