<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This topic provides a summary of the Oracle ACFS commands for Linux environments.">
      <meta name="description" content="This topic provides a summary of the Oracle ACFS commands for Linux environments.">
      <title>Oracle ACFS Command-Line Tools for Linux Environments</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Guide">
      <meta property="og:description" content="This topic provides a summary of the Oracle ACFS commands for Linux environments.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96198-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="steps-manage-acfs.html" title="Previous" type="text/html">
      <link rel="next" href="acfs-commands-solaris.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="OSTMG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="steps-manage-acfs.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="acfs-commands-solaris.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-acfs-advm.html" property="item" typeof="WebPage"><span property="name">Oracle Automatic Storage Management Cluster File System</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="manage-acfs-advm-commands.html" property="item" typeof="WebPage"><span property="name">Managing Oracle ACFS with Command-Line Tools</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle ACFS Command-Line Tools for Linux Environments</li>
            </ol>
            <a id="GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C" name="GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C"></a><a id="OSTMG94799"></a><a id="OSTMG92000"></a>
            
            <h2 id="OSTMG-GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C" class="sect2">Oracle ACFS Command-Line Tools for Linux Environments</h2>
         </header>
         <div class="ind">
            <div>
               <p>This topic provides a summary of the Oracle ACFS commands for Linux environments.</p>
               <p><a href="acfs-commands-linux.html#GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C__BABFEIBB" title="Summary of ACFS Linux and Unix commands">Table 16-1</a> lists the Oracle ACFS commands for Linux environments with brief descriptions. The commands in <a href="acfs-commands-linux.html#GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C__BABFEIBB" title="Summary of ACFS Linux and Unix commands">Table 16-1</a> have been extended with additional options to support Oracle ACFS. All other Linux file system commands operate without change for Oracle ACFS.
               </p>
               <p>For example, Oracle ACFS adds a set of Oracle ACFS-specific mount options to those provided with the base operating system platform. You should review both the mount options for the Linux platforms in addition to the Oracle ACFS-specific options for the complete set of file system mount options. </p>
               <p>File systems on Oracle ADVM volumes that are not Oracle ACFS file systems, such as <code class="codeph">ext3</code>, are managed with the same Linux commands that are listed in <a href="acfs-commands-linux.html#GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C__BABFEIBB" title="Summary of ACFS Linux and Unix commands">Table 16-1</a> using the file-specific options for the type of file system. You can refer to the <code class="codeph">man</code> pages for options available for the Linux commands in <a href="acfs-commands-linux.html#GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C__BABFEIBB" title="Summary of ACFS Linux and Unix commands">Table 16-1</a>.
               </p>
               <div class="infoboxnote" id="GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C__GUID-E4C4AFF5-7A55-4CF5-A013-2F6A2A5D199E">
                  <p class="notep1">Note:</p>
                  <p>When using Security-Enhanced Linux (SELinux) in enforcing mode with Oracle ACFS, ensure that the Oracle ACFS file systems are mounted with an SELinux default context. Refer to your Linux vendor documentation for information about the context mount option. </p>
               </div>
               <div class="tblformalwide" id="GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C__BABFEIBB">
                  <p class="titleintable">Table 16-1 Summary of Oracle ACFS commands for Linux environments</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="Summary of Oracle ACFS commands for Linux environments" summary="Summary of ACFS Linux and Unix commands" width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="37%" id="d134894e188">Command</th>
                           <th align="left" valign="bottom" width="63%" id="d134894e191">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d134894e196" headers="d134894e188 ">
                              <p><a href="acfs-commands-linux.html#GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17">fsck (offline mode)</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d134894e196 d134894e191 ">
                              <p>Checks and repairs a dismounted Oracle ACFS file system.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d134894e204" headers="d134894e188 ">
                              <p><a href="acfs-commands-linux.html#GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF">fsck (online mode)</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d134894e204 d134894e191 ">
                              <p>Checks and repairs a mounted Oracle ACFS file system.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d134894e214" headers="d134894e188 ">
                              <p><a href="acfs-commands-linux.html#GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D">mkfs</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d134894e214 d134894e191 ">
                              <p>Creates an Oracle ACFS file system.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d134894e222" headers="d134894e188 ">
                              <p><a href="acfs-commands-linux.html#GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F">mount</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d134894e222 d134894e191 ">
                              <p>Mounts an Oracle ACFS file system.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d134894e230" headers="d134894e188 ">
                              <p><a href="acfs-commands-linux.html#GUID-019B9315-870C-4F2A-BE5E-D4623639FACB">umount</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d134894e230 d134894e191 ">
                              <p>Dismounts an Oracle ACFS file system.</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="OSTMG94801"></a><a id="OSTMG94802"></a><a id="OSTMG94803"></a><a id="OSTMG94804"></a><a id="OSTMG94805"></a><a id="OSTMG94800"></a><div class="props_rev_3"><a id="GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17" name="GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17"></a><h3 id="OSTMG-GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17" class="sect3">fsck (offline mode)</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17__GUID-FE39691F-8A65-4071-9891-EDA8EC359594">Purpose</p>
                     <p>Checks and repairs a dismounted Oracle ACFS file system.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17__GUID-F17E0666-8659-4639-8C7B-83F173500A44">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">fsck -t acfs -h /dev/null
fsck [-a|-f] [-v]  -t acfs [-n|-y] [-x <span class="italic">file_name</span>] <span class="italic">volume_device</span></pre><p><code class="codeph">fsck</code> <code class="codeph">-t</code> <code class="codeph">acfs</code> <code class="codeph">-h</code> <code class="codeph">/dev/null</code> displays usage text and exits.
                     </p>
                     <p><a href="acfs-commands-linux.html#GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17__BABEIJFC" title="This table lists the options for the fsck command, along with a description for each option">Table 16-2</a> contains the options available with the <code class="codeph">fsck</code> command.
                     </p>
                     <div class="tblformal" id="GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17__BABEIJFC">
                        <p class="titleintable">Table 16-2 Options for the offline fsck command on Linux</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the offline fsck command on Linux" summary="This table lists the options for the fsck command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d134894e435">Option</th>
                                 <th align="left" valign="bottom" width="69%" id="d134894e438">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e443" headers="d134894e435 ">
                                    <p><code class="codeph">-a</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e443 d134894e438 ">
                                    <p>Specifies to automatically repair the file system.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e451" headers="d134894e435 ">
                                    <p><code class="codeph">-f</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e451 d134894e438 ">
                                    <p>Forces the file system into mountable state without completing a file system check or repair.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e459" headers="d134894e435 ">
                                    <p><code class="codeph">-v</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e459 d134894e438 ">
                                    <p>Specifies verbose mode. The progress is displayed as the operation occurs. Running in verbose mode can impact performance.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e467" headers="d134894e435 ">
                                    <p><code class="codeph">-t acfs</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e467 d134894e438 ">
                                    <p>Specifies the type of file system on Linux. <code class="codeph">acfs</code> designates the Oracle ACFS type.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e478" headers="d134894e435 ">
                                    <p><code class="codeph">-n</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e478 d134894e438 ">
                                    <p>Answers no to any prompts.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e486" headers="d134894e435 ">
                                    <p><code class="codeph">-y</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e486 d134894e438 ">
                                    <p>Answers yes to any prompts.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e494" headers="d134894e435 ">
                                    <p><code class="codeph">-x <span class="codeinlineitalic">file_name</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e494 d134894e438 ">
                                    <p> Specified for accelerator data collected by <code class="codeph">acfsutil meta</code>. Only used for this type of data.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e507" headers="d134894e435 ">
                                    <p><span class="italic"><code class="codeph">volume_device</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e507 d134894e438 ">
                                    <p>Specifies the primary Oracle ADVM volume device.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">fsck</code> checks and repairs an existing Oracle ACFS file system. This topic describes an offline mode of the <code class="codeph">fsck</code> command that can only be run on a dismounted file system. For information about running <code class="codeph">fsck</code> on a mounted file system, refer to <a href="acfs-commands-linux.html#GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF">fsck (online mode)</a>.
                     </p>
                     <p><code class="codeph">root</code> privileges are required to run <code class="codeph">fsck</code>. The Oracle ACFS driver must be loaded for <code class="codeph">fsck</code> to work.
                     </p>
                     <p>By default, <code class="codeph">fsck</code> only checks for and reports any errors. The <code class="codeph">-a</code> flag must be specified to instruct <code class="codeph">fsck</code> to repair errors in the file system. Do not interrupt <code class="codeph">fsck</code> during the repair operation.
                     </p>
                     <p>In a few cases, <code class="codeph">fsck</code> prompts for questions before proceeding to check a file system. These cases include:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If <code class="codeph">fsck</code> detects that another <code class="codeph">fsck</code> is in progress on the file system
                           </p>
                        </li>
                        <li>
                           <p>If <code class="codeph">fsck</code> detects that the Oracle ACFS driver is not loaded
                           </p>
                        </li>
                        <li>
                           <p>If the file system does not appear to be Oracle ACFS</p>
                        </li>
                     </ul>
                     <p>In checking mode, <code class="codeph">fsck</code> also prompts if there are transaction logs that have not been processed completely due to an incomplete shutdown. To run in a non-interactive mode, include either the <code class="codeph">-y</code> or <code class="codeph">-n</code> options to answer yes or no to any questions.
                     </p>
                     <p><code class="codeph">fsck</code> creates working files before it checks a file system. These working files are created in <code class="codeph">/usr/tmp</code> if space is available. <code class="codeph">/tmp</code> is used if <code class="codeph">/usr/tmp</code> does not exist. If insufficient space is available in the <code class="codeph">tmp</code> directory, <code class="codeph">fsck</code> attempts to write to the current working directory. The files that <code class="codeph">fsck</code> creates are roughly the size of the file system being checked divided by 32K. At most three such files are allocated. For example, a 2 GB file system being checked causes <code class="codeph">fsck</code> to generate one to three 64K working files in the <code class="codeph">/usr/tmp</code> directory. These files are deleted after <code class="codeph">fsck</code> has finished.
                     </p>
                     <p>In the event that <code class="codeph">fsck</code> finds a file or directory in the file system for which it cannot determine its name or intended location (possibly due to a corruption in its parent directory), it places this object in the <code class="codeph">/lost+found</code> directory when <code class="codeph">fsck</code> is run in fix mode. For security reasons only the <code class="codeph">root</code> user on Linux can read files in <code class="codeph">/lost+found</code>. If the administrator can later determine the original name and location of the file based on its contents, the file can be moved or copied into its intended location.
                     </p>
                     <p>The file names in the <code class="codeph">/lost+found</code> directory are in the following formats:
                     </p><pre class="oac_no_warn" dir="ltr">parent.<span class="italic">id</span>.file.<span class="italic">id</span>.<span class="italic">time-in-sec-since-1970</span>
parent.<span class="italic">id</span>.dir.<span class="italic">id</span>.<span class="italic">time-in-sec-since-1970</span>
</pre><p>The <span class="italic"><code class="codeph">id</code></span> fields are the internal Oracle ACFS numeric identifiers for each file and directory in the file system.
                     </p>
                     <p>You can use <code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">id</code> <span class="italic"><code class="codeph">id</code></span> <span class="italic"><code class="codeph">mount_point</code></span> to attempt to determine the directory associated with <code class="codeph">parent.</code><span class="italic"><code class="codeph">id</code></span>. This directory is assumed to be where the deleted object originated. For information about <code class="codeph">acfsutil</code> <code class="codeph">info</code>, see <a href="acfs-commands-utilities.html#GUID-09C9BFDD-DA94-4082-B713-1C8B138E1191">acfsutil info file</a>.
                     </p>
                     <p>If the parent directory is not known, the parent <code class="codeph">id</code> field is set to <code class="codeph">UNKNOWN</code>.
                     </p>
                     <div class="infoboxnote" id="GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17__GUID-BDAB1E74-8370-4423-99B7-0C48094282F7">
                        <p class="notep1">Note:</p>
                        <p>It is not possible to see the contents of the <code class="codeph">/lost+found</code> directory from a snapshot.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17__GUID-10EBD928-E7AD-4395-81A3-0E1CEB67E223">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following example shows how to check and repair a dismounted Oracle ACFS file system.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17__GUID-A3C93267-3B93-41C6-9A21-37B6E74F5779">
                     <p class="titleinexample">Example 16-2 Using the fsck command in offline mode</p><pre class="oac_no_warn" dir="ltr"># /sbin/fsck -a -y -t acfs /dev/asm/volume1-123</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF" name="GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF"></a><h3 id="OSTMG-GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF" class="sect3">fsck (online mode)</h3>
               <div>
                  <p></p>
                  <div class="section">
                     <p class="subhead2" id="GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF__GUID-629928D4-EE00-4E3D-9AC7-CE6705BC2697">Purpose</p>
                     <p>Checks and repairs a mounted Oracle ACFS file system.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF__GUID-0F03180B-9742-4E71-9410-5D783EBA0E00">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">fsck -t acfs -h /dev/null

fsck [-a] [-v] -t acfs -O <span class="italic">mount_point</span> -- -C <span class="italic">cow_file_path</span> -S <span class="italic">cow_file_size</span>
fsck.acfs [-a] [-v] -O -C <span class="italic">cow_file_path</span> -S <span class="italic">cow_file_size</span> <span class="italic">mount_point</span></pre><div class="infoboxnote" id="GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF__GUID-FDBE2BF2-01DC-4495-874F-5A1A258C6442">
                        <p class="notep1">Note:</p>
                        <p>The latter two syntax formats are equivalent. When invoking the Linux <code class="codeph">fsck</code> command, the <code class="codeph">--</code> separator must be placed before either the <code class="codeph">-C</code> or <code class="codeph">-S</code> options to ensure that the options are correctly passed to the Oracle ACFS <code class="codeph">fsck</code> command.  When directly invoking the ACFS <code class="codeph">fsck.acfs</code> command, the <code class="codeph">--</code> separator is not required.
                        </p>
                     </div>
                     <p><code class="codeph">fsck</code> <code class="codeph">-t</code> <code class="codeph">acfs</code> <code class="codeph">-h</code> <code class="codeph">/dev/null</code> displays usage text and exits.
                     </p>
                     <p> <a href="acfs-commands-linux.html#GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF__OPTIONSFORTHEONLINEFSCKCOMMANDONLIN-A7682540" title="This table lists the options for the online fsck command, along with a description for each option">Table 16-3</a> contains the options available with the <code class="codeph">fsck</code> command.
                     </p>
                     <div class="tblformal" id="GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF__OPTIONSFORTHEONLINEFSCKCOMMANDONLIN-A7682540">
                        <p class="titleintable">Table 16-3 Options for the online fsck command on Linux</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the online fsck command on Linux" summary="This table lists the options for the online fsck command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d134894e965">Option</th>
                                 <th align="left" valign="bottom" width="69%" id="d134894e968">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e973" headers="d134894e965 ">
                                    <p><code class="codeph">-a</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e973 d134894e968 ">
                                    <p>Specifies to automatically repair the file system.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e981" headers="d134894e965 ">
                                    <p><code class="codeph">-v</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e981 d134894e968 ">
                                    <p>Specifies verbose mode. The progress is displayed as the operation occurs. Running in verbose mode can impact performance.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e989" headers="d134894e965 ">
                                    <p><code class="codeph">-t acfs</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e989 d134894e968 ">
                                    <p>Specifies the type of file system on Linux. <code class="codeph">acfs</code> designates the Oracle ACFS type.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e1000" headers="d134894e965 ">
                                    <p><code class="codeph">-O</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e1000 d134894e968 ">
                                    <p>Specifies to run in an online mode that enables checking of a mounted Oracle ACFS file system.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e1008" headers="d134894e965 ">
                                    <p><code class="codeph">-C <span class="codeinlineitalic">cow_file_path</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e1008 d134894e968 ">
                                    <p>Specifies the location of the Copy-On-Write (COW) file required by online <code class="codeph">fsck</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e1021" headers="d134894e965 ">
                                    <p><code class="codeph">-s <span class="codeinlineitalic">cow_file_size</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e1021 d134894e968 ">
                                    <p>Specifies the size of the Copy-On-Write (COW) file required by online <code class="codeph">fsck</code>. 
                                    </p>
                                    <p>The quantity specified can be in units of <code class="codeph">K</code> (kilobytes), <code class="codeph">M</code> (megabytes), <code class="codeph">G</code> (gigabytes), <code class="codeph">T</code> (terabytes), or <code class="codeph">P</code> (petabytes). If a unit is not specified, the default is bytes.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e1051" headers="d134894e965 ">
                                    <p><span class="italic"><code class="codeph">mount_point</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e1051 d134894e968 ">
                                    <p>Specifies the directory where the file system is mounted.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">fsck</code> checks and repairs an existing Oracle ACFS file system. This topic describes an online mode of the <code class="codeph">fsck</code> command that can be run on a mounted file system. For information about running <code class="codeph">fsck</code> in offline mode, refer to <a href="acfs-commands-linux.html#GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17">fsck (offline mode)</a>.
                     </p>
                     <p>When online <code class="codeph">fsck</code> is run on a mounted file system, online <code class="codeph">fsck</code> initially creates a point-in-time snapshot of the file system metadata. Online <code class="codeph">fsck</code> then executes file system checks against this metadata snapshot. Because the file system is mounted and live, file system metadata can be created or updated underneath online <code class="codeph">fsck</code>. However, any new or updated metadata is not checked by online <code class="codeph">fsck</code> because online <code class="codeph">fsck</code> checks only the initial metadata snapshot.
                     </p>
                     <p>Online <code class="codeph">fsck</code> utilizes a special file called a Copy-On-Write (COW) file. While online <code class="codeph">fsck</code> is running on a file system, whenever any file system metadata must be updated, the original version of the metadata is first copied into the COW file to preserve it for file system checks. The COW file helps preserve the metadata snapshot that is checked by online <code class="codeph">fsck</code>.
                     </p>
                     <p>The size of the COW file must be chosen in advance. As a result, the COW file has a limited amount of space for preserving copies of metadata. If the COW file runs out of space while preserving copies of metadata, then online <code class="codeph">fsck</code> may be forced to abort. The size of the COW file must be chosen carefully to avoid running out of space during execution of online <code class="codeph">fsck</code>. The appropriate size of the COW file depends on the amount of file system metadata that may change during the execution of online <code class="codeph">fsck</code>, which is workload dependent and may need to be determined empirically. Oracle recommends the size of the COW file to start at 5% of the file system undergoing online <code class="codeph">fsck</code>.
                     </p>
                     <p>The COW file must be placed on a separate Oracle ACFS file system. The separate Oracle ACFS file system must be mounted on the same nodes as the Oracle ACFS file system undergoing online <code class="codeph">fsck</code>. 
                     </p>
                     <p>The COW file is a temporary file that supports the execution of online <code class="codeph">fsck</code> and is deleted after online <code class="codeph">fsck</code> is complete. 
                     </p>
                     <p>The Oracle ACFS file system undergoing online <code class="codeph">fsck</code> must have the same mount point path on all nodes. The Oracle ACFS file system storing the COW file must also have the same mount point path on all nodes.
                     </p>
                     <p>Online <code class="codeph">fsck</code> has the following restrictions and limitations while the command is running on an Oracle ACFS file system:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Another instance of online <code class="codeph">fsck</code> cannot be started within the same cluster.
                           </p>
                        </li>
                        <li>
                           <p>A mount of the file system on a new node causes online <code class="codeph">fsck</code> to abort.
                           </p>
                        </li>
                        <li>
                           <p>If the separate Oracle ACFS file system containing the COW file is unmounted on any node, then that situation may cause online <code class="codeph">fsck</code> to abort.
                           </p>
                        </li>
                        <li>
                           <p>Deleted snapshots within the file system do not have their storage freed until the completion of online <code class="codeph">fsck</code>.
                           </p>
                        </li>
                        <li>
                           <p>Resizing the file system with <code class="codeph">acfsutil</code> <code class="codeph">size</code> is not allowed and returns an error. Automatic resizing is also not allowed until online <code class="codeph">fsck</code> completes.
                           </p>
                        </li>
                        <li>
                           <p>A freeze of the file system with <code class="codeph">acfsutil</code> <code class="codeph">freeze</code> causes online <code class="codeph">fsck</code> to wait for the freeze to end.
                           </p>
                        </li>
                     </ul>
                     <p>By default, online <code class="codeph">fsck</code> only checks for and reports any errors. The <code class="codeph">-a</code> flag must be specified to instruct online <code class="codeph">fsck</code> to repair errors in the file system. Note that online <code class="codeph">fsck</code> can only repair a limited set of file system errors. Most file system errors require offline <code class="codeph">fsck</code> for repair.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF__GUID-34CB1CBF-74D8-4E60-9E0B-DA2E73446680">Examples</p>
                     <p>The following example shows how to check and repair a mounted Oracle ACFS file system.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF__GUID-89CD19DF-910D-4183-A0D3-1EC84FAFDA09">
                     <p class="titleinexample">Example 16-3 Using the fsck command in online mode</p><pre class="oac_no_warn" dir="ltr"># /sbin/fsck -a -t acfs -O /acfs_mountpoint_1 -- -C /acfs_mountpoint_2/cow_file -S 512M

# /sbin/fsck.acfs -O -C /acfs_mountpoint_2/cow_file -S 512M /acfs_mountpoint_1</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94807"></a><a id="OSTMG94808"></a><a id="OSTMG94809"></a><a id="OSTMG95945"></a><a id="OSTMG94810"></a><a id="OSTMG94811"></a><a id="OSTMG94806"></a><div class="props_rev_3"><a id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D" name="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D"></a><h3 id="OSTMG-GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D" class="sect3">mkfs</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__GUID-124EB4CB-BDC5-4562-BCA7-CB18FCCA6A88">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Creates an Oracle ACFS file system.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__GUID-63369AEC-151F-4BE7-B672-502568F90092">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">mkfs -t acfs -h
mkfs [-v] [-f] -t acfs [-i {512 | 4096}] [-n <span class="italic">name</span> ] [-a <span class="italic">accelerator_volume</span>] [-c <span class="italic">release_version</span>] 
      <span class="italic">volume_device</span> [<span class="italic">size</span>]</pre><p><code class="codeph">mkfs</code> <code class="codeph">-t</code> <code class="codeph">acfs</code> <code class="codeph">-h</code> displays usage text and exits.
                     </p>
                     <p><a href="acfs-commands-linux.html#GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__BABFDAGB" title="This table lists the options for the mkfs command, along with a description for each option">Table 16-4</a> contains the options available with the <code class="codeph">mkfs</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__BABFDAGB">
                     <p class="titleintable">Table 16-4 Options for the Linux mkfs command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the Linux mkfs command" summary="This table lists the options for the mkfs command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d134894e1443">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d134894e1446">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1451" headers="d134894e1443 ">
                                 <p><code class="codeph">-t</code> <code class="codeph">acfs</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1451 d134894e1446 ">
                                 <p>Specifies the type of file system on Linux. <code class="codeph">acfs</code> designates the Oracle ACFS type.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1465" headers="d134894e1443 ">
                                 <p><code class="codeph">-v</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1465 d134894e1446 ">
                                 <p>Specifies verbose mode. The progress is displayed as the operation occurs.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1473" headers="d134894e1443 ">
                                 <p><code class="codeph">-i {512 | 4096}</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1473 d134894e1446 ">
                                 <p>Specifies a file system with metadata block size of 512 or 4096 bytes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1481" headers="d134894e1443 ">
                                 <p><code class="codeph">-n</code> <span class="italic"><code class="codeph">name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1481 d134894e1446 ">
                                 <p>Specifies the name for the file system. A name can be a maximum of 64 characters. <code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">fs</code> returns the name if one was specified.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1502" headers="d134894e1443 ">
                                 <p><code class="codeph">-f</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1502 d134894e1446 ">
                                 <p>Specifies the force option. This action creates the file system even if there is an existing Oracle ACFS on the volume device, although only if the file system is dismounted. This option overwrites structures on the original file system. Use this option with caution.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1510" headers="d134894e1443 ">
                                 <p><code class="codeph">-h</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1510 d134894e1446 ">
                                 <p>Displays the usage help text and exits.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1518" headers="d134894e1443 ">
                                 <p><span class="italic"><code class="codeph">size</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1518 d134894e1446 ">
                                 <p>Specifies the size that the file system should consume on the named device. The quantity specified can be in units of <code class="codeph">K</code> (kilobytes), <code class="codeph">M</code> (megabytes), <code class="codeph">G</code> (gigabytes), <code class="codeph">T</code> (terabytes), or <code class="codeph">P</code> (petabytes). If a unit is not specified, the default is bytes.
                                 </p>
                                 <p>If this option is not specified, the entire device is consumed.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1544" headers="d134894e1443 ">
                                 <p><code class="codeph">-a</code> <span class="italic"><code class="codeph">accelerator_volume</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1544 d134894e1446 ">
                                 <p>Specifies a secondary Oracle ACFS accelerator volume that is used by Oracle ACFS to store critical metadata. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1556" headers="d134894e1443 ">
                                 <p><code class="codeph">-c</code> <span class="italic"><code class="codeph">release_version</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1556 d134894e1446 ">
                                 <p>Creates an Oracle ACFS file system with Oracle ACFS release compatibility set to the value of <span class="italic">release_version</span>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1571" headers="d134894e1443 ">
                                 <p><span class="italic"><code class="codeph">volume_device</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1571 d134894e1446 ">
                                 <p>Specifies an existing Oracle ADVM device file that is to be formatted. This device is the primary volume.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>You can use <code class="codeph">mkfs</code> to create the on disk structure needed for Oracle ACFS file system to be mounted. The <code class="codeph">mkfs</code> command is the traditional Linux command used to build a file system. After <code class="codeph">mkfs</code> runs successfully, the <code class="codeph">USAGE</code> column in the <code class="codeph">V$ASM_VOLUME</code> view displays <code class="codeph">ACFS</code>. Oracle ADVM volumes are created with the ASMCMD <code class="codeph">volcreate</code> command. For information about the <code class="codeph">volcreate</code> command, refer to <a href="manage-advm-asmcmd.html#GUID-CD9ABAB4-A19D-4C54-9484-D78CE52631E6">volcreate</a>.
                     </p>
                     <p>The value specified with the <code class="codeph">-c <span class="codeinlineitalic">release_version</span></code> option must be greater than or equal to the value of <code class="codeph">COMPATIBLE.ADVM</code> for the disk group, and must be less than or equal to the running Oracle Grid infrastructure release version. If <code class="codeph">—c <span class="codeinlineitalic">release_version</span></code> is not specified, the value of <code class="codeph">COMPATIBLE.ADVM</code> is used. After the compatibility is set, it cannot be downgraded. The <code class="codeph">—c <span class="codeinlineitalic">release_version</span></code> option can be used in situations where it is not possible, or desirable, to update <code class="codeph">COMPATIBLE.ADVM</code> and <code class="codeph">COMPATIBLE.ASM</code> for the disk group, but you want to use an Oracle ACFS feature that requires a compatibility increase.  After the Oracle ACFS compatibility is updated, it is no longer possible to mount the file system with an older Oracle Grid infrastructure release. To change the compatibility of an existing file system, refer to <a href="acfs-commands-utilities.html#GUID-E0898E97-98E4-433D-8CB3-609FD90A2A58">acfsutil compat set</a>. For information about Oracle ASM disk group compatibility attributes, see <a href="diskgroup-compatibility.html#GUID-FBB5AA72-5208-48E1-BD8D-0FD4C6876F34" title="You cannot revert disk group compatibility to a previous values. Instead you must create a new disk group.Thi topic describes the Oracle ASM features enabled by valid combinations of the disk group compatibility attribute settings.If you advance disk group compatibility, then you could enable the creation of files that are too large to be managed by a previous release of Oracle Database.">Disk Group Compatibility</a>.
                     </p>
                     <p>The minimum file system size is 200 MB for the 512 byte metadata block size format and 512 MB  for the 4 KB metadata block size format. </p>
                     <p>The Oracle ACFS driver must be loaded for <code class="codeph">mkfs</code> to operate successfully. 
                     </p>
                     <p><code class="codeph">root</code> privilege is not required. The ownership of the volume device file dictates who can run this command. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__GUID-1A34D698-26A8-4A7B-8538-ADA60EC890BE">Oracle ACFS Accelerator Volume</p>
                     <p>Using an accelerator volume can improve performance by reducing the time to access and update Oracle ACFS metadata. You should create the accelerator volume on a disk group with storage that is significantly faster than the storage of the primary volume. The accelerator volume is created with the <code class="codeph">-a</code> option of the <code class="codeph">mkfs</code> command. For more information, refer to <a href="understand-acfs-admin.html#GUID-2CFD8CD2-E639-4431-B1FF-69390084D07A">Oracle ACFS Accelerator Volume</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__GUID-5E59E074-4706-4779-B5EE-8121CEE03499">4 KB Sector/Metadata</p>
                     <p>The following list summarizes the use of the <code class="codeph">-i</code> option and metadata block size based on the value of the <code class="codeph">COMPATIBLE.ADVM</code> disk group attribute.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If <code class="codeph">COMPATIBLE.ADVM</code> is set to <code class="codeph">12.2</code> or greater, then the metadata block size is <code class="codeph">4096</code> bytes by default.
                           </p>
                        </li>
                        <li>
                           <p>If <code class="codeph">COMPATIBLE.ADVM</code> is set to less than <code class="codeph">12.2</code>, then the block size is set to 512 bytes.
                           </p>
                        </li>
                        <li>
                           <p>If <code class="codeph">COMPATIBLE.ADVM</code> is set to less than <code class="codeph">12.2</code> and the logical sector size is not 512 bytes, then the command fails.
                           </p>
                        </li>
                     </ul>
                     <p>User data IO continues to support transfers as small as 512 bytes for normal user IO requests. When the Oracle ADVM volume of the file system has a logical disk sector size of 4 K, user Direct IO requests should be aligned on 4 K file offsets and be a multiple of 4 KB lengths for the best performance. Note that only 4 K metadata block size formats support ADVM volumes with 4 K logical disk sectors.</p>
                     <p>The <code class="codeph">COMPATIBLE.ADVM</code> value must be set to <code class="codeph">12.2</code> or greater to format an Oracle ADVM volume whose logical disk size is 4096 or to use the <code class="codeph">-i 4096</code> option to format an Oracle ADVM volume whose logical disk sector size is 512 bytes.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__GUID-FEA7C314-7117-40E4-B913-B85F59BF4E97">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Before creating an Oracle ACFS file system, first determine which Oracle ADVM volume devices are available. You can use the ASMCMD <code class="codeph">volinfo</code> command to display information about the volumes and volume devices. For example:
                     </p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; volinfo -a
...
         Volume Name: VOLUME1
         Volume Device: /dev/asm/volume1-123
         State: ENABLED
... 
</pre><p>For information about the <code class="codeph">volcreate</code> and <code class="codeph">volinfo</code> commands, refer to <a href="manage-advm-asmcmd.html#GUID-07E90E70-406A-4273-B27F-9F2ED7C1C4BF" title="Oracle ASM Command-Line Utility (ASMCMD) provides commands for managing Oracle ADVM volumes.">Managing Oracle ADVM with ASMCMD</a>.
                     </p>
                     <p>This command creates an Oracle ACFS file system on a volume device file. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__GUID-4272D861-FFC0-47B9-BA92-BE9C609328E8">
                     <p class="titleinexample">Example 16-4 Using the mkfs command</p><pre class="oac_no_warn" dir="ltr">$ /sbin/mkfs -t acfs /dev/asm/volume1-123
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__USINGTHEMKFSCOMMANDTOCREATEANACCELE-62F8B70E">
                     <p class="titleinexample">Example 16-5 Using the mkfs command to create an accelerator volume</p>
                     <p>This command creates an Oracle ACFS file system with an accelerator volume.</p><pre class="oac_no_warn" dir="ltr">$ /sbin/mkfs -t acfs -a /dev/asm/volume2-130 /dev/asm/volume1-127 </pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94813"></a><a id="OSTMG94814"></a><a id="OSTMG94815"></a><a id="OSTMG94816"></a><a id="OSTMG94817"></a><a id="OSTMG94812"></a><div class="props_rev_3"><a id="GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F" name="GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F"></a><h3 id="OSTMG-GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F" class="sect3">mount</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F__GUID-08A00224-6ADB-445E-B9C7-0CFD11242FC5">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Mounts an Oracle ACFS file system.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F__GUID-7CD7CD5F-524E-4BA0-B3D7-057CEC3184A2">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">mount -h
mount [-v] -n -t acfs [-o <span class="italic">options</span>] <span class="italic">volume_device</span> <span class="italic">mount_point</span>
mount</pre><p><code class="codeph">mount</code> <code class="codeph">-h</code> displays usage text and exits.
                     </p>
                     <p><a href="acfs-commands-linux.html#GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F__BABIEFBG" title="This table lists the options for the mount command, along with a description for each option">Table 16-5</a> contains the options available with the <code class="codeph">mount</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F__BABIEFBG">
                     <p class="titleintable">Table 16-5 Options for the Linux mount command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the Linux mount command" summary="This table lists the options for the mount command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d134894e1968">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d134894e1971">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1976" headers="d134894e1968 ">
                                 <p><code class="codeph">-h</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1976 d134894e1971 ">
                                 <p>Displays the usage help text and exits.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1984" headers="d134894e1968 ">
                                 <p><code class="codeph">-t</code> <code class="codeph">acfs</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1984 d134894e1971 ">
                                 <p>Specifies the type of file system on Linux. <code class="codeph">acfs</code> designates the Oracle ACFS type. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1998" headers="d134894e1968 ">
                                 <p><code class="codeph">-v</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1998 d134894e1971 ">
                                 <p>Specifies verbose mode. The progress is displayed as the operation occurs.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2006" headers="d134894e1968 ">
                                 <p><code class="codeph">-n</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2006 d134894e1971 ">
                                 <p>Specifies not to update the <code class="codeph">/etc/mtab</code> file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2017" headers="d134894e1968 ">
                                 <p><code class="codeph">-o</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2017 d134894e1971 ">
                                 <p>Options are specified with the <code class="codeph">-o</code> flag followed by a comma-delimited string of options. The following options are available: 
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">all</code></p>
                                       <p>Reads the Oracle ACFS managed file systems in the Oracle Clusterware namespace, mounting all file systems with the <code class="codeph">AUTO_START=always</code>.
                                       </p>
                                       <p>When the <code class="codeph">-o</code> <code class="codeph">all</code> option is specified, other <code class="codeph">-o</code> options are ignored. 
                                       </p>
                                       <p>To specify mount options for a registry entry, include those options with the <code class="codeph">acfsutil</code> <code class="codeph">registry</code> command when you add the entry to the registry.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">ro</code></p>
                                       <p>Mounts the file system in read-only mode.</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">norootsuid</code></p>
                                       <p>Fails the execution of binaries by non-root users whose permissions allow set user Id execution, and are owned by root. An attempt to run these executables as a non-root user fails with a permission denied error. </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">rootsuid</code></p>
                                       <p>Allows the execution of binaries by non-root users of set user Id files owned by root. This is the default action.</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">nodeleteopen</code></p>
                                       <p>Fails the deletion of any file that is open.</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2081" headers="d134894e1968 ">
                                 <p><span class="italic"><code class="codeph">volume_device</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2081 d134894e1971 ">
                                 <p>Specifies a primary Oracle ADVM volume device file that has been formatted by <code class="codeph">mkfs</code>. <span class="italic"><code class="codeph">device</code></span> is required but can be a dummy value.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2097" headers="d134894e1968 ">
                                 <p><span class="italic"><code class="codeph">mount_point</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2097 d134894e1971 ">
                                 <p>Specifies the directory where the file system is mounted. This directory must exist before you run the <code class="codeph">mount</code> command.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">mount</code> attaches a file system to the Oracle ACFS hierarchy at the mount point that is the name of a directory. The mount happens on the node where the mount command was issued. The mount command returns an error if the file system is not in a dismounted state on this node.
                     </p>
                     <p>It is not always possible to return the cause of a mount failure to the <code class="codeph">mount</code> command. When this happens Oracle ACFS writes the cause of the failure to the system console and associated system log file.
                     </p>
                     <p>After <code class="codeph">mount</code> runs successfully, the <code class="codeph">MOUNTPATH</code> field in the <code class="codeph">V$ASM_VOLUME</code> view displays the directory name on which the file system is now mounted. 
                     </p>
                     <p>An Oracle ACFS file system should only be mounted on one mount point. The same mount point name should be used on all cluster members.</p>
                     <p>The <code class="codeph">mount</code> command lists all mounted file systems if it is run with no parameters.
                     </p>
                     <p><code class="codeph">root</code> privilege is required to run <code class="codeph">mount</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F__GUID-E6541BA5-57F0-4BCC-B79E-CE764260775F">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The first example shows how to mount <code class="codeph">volume1-123</code> on the mount point <code class="codeph">/acfsmounts/acfs1</code>. The second example shows how to mount all the registered Oracle ACFS file systems. The dummy names (<code class="codeph">none</code>) have been entered for the device and directory as they are required, but not used, when the <code class="codeph">all</code> option is specified.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F__GUID-1148FCCF-35BE-48A7-819F-EC7720352728">
                     <p class="titleinexample">Example 16-6 Using the mount command</p><pre class="oac_no_warn" dir="ltr"># /bin/mount -t acfs /dev/asm/volume1-123 /acfsmounts/acfs1

# /bin/mount -t acfs -o all none none</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94819"></a><a id="OSTMG94820"></a><a id="OSTMG94821"></a><a id="OSTMG94822"></a><a id="OSTMG94823"></a><a id="OSTMG94818"></a><div class="props_rev_3"><a id="GUID-019B9315-870C-4F2A-BE5E-D4623639FACB" name="GUID-019B9315-870C-4F2A-BE5E-D4623639FACB"></a><h3 id="OSTMG-GUID-019B9315-870C-4F2A-BE5E-D4623639FACB" class="sect3">umount</h3>
               <div>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-019B9315-870C-4F2A-BE5E-D4623639FACB__GUID-8E7028E7-DA4F-496C-A5C8-6D3464FAAC91">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Dismounts an Oracle ACFS file system.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-019B9315-870C-4F2A-BE5E-D4623639FACB__GUID-F10207DD-A5F7-471C-B6F3-025C68FAA53D">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">umount -h
umount [-v] -l -n <span class="italic">volume_device</span> |<span class="italic">mount_point</span>
umount -a -l -n [-t acfs]</pre><p><code class="codeph">umount</code> <code class="codeph">-h</code> displays usage text and exits.
                     </p>
                     <p><a href="acfs-commands-linux.html#GUID-019B9315-870C-4F2A-BE5E-D4623639FACB__BABFIEJB" title="This table lists the options for the umount command, along with a description for each option">Table 16-6</a> contains the options available with the <code class="codeph">umount</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-019B9315-870C-4F2A-BE5E-D4623639FACB__BABFIEJB">
                     <p class="titleintable">Table 16-6 Options for the Linux umount command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the Linux umount command" summary="This table lists the options for the umount command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d134894e2360">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d134894e2363">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2368" headers="d134894e2360 ">
                                 <p><code class="codeph">-h</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2368 d134894e2363 ">
                                 <p>Displays the usage help text and exits.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2376" headers="d134894e2360 ">
                                 <p><code class="codeph">-t</code> <code class="codeph">acfs</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2376 d134894e2363 ">
                                 <p>Specifies the type of file system on Linux. <code class="codeph">acfs</code> designates the Oracle ACFS type.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2390" headers="d134894e2360 ">
                                 <p><code class="codeph">-v</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2390 d134894e2363 ">
                                 <p>Specifies verbose mode. The progress is displayed as the operation occurs.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2398" headers="d134894e2360 ">
                                 <p><code class="codeph">-a</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2398 d134894e2363 ">
                                 <p>Specifies to dismount all Oracle ACFS file systems on this node.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2406" headers="d134894e2360 ">
                                 <p><code class="codeph">-l</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2406 d134894e2363 ">
                                 <p>Specifies a lazy unmount. The Oracle ACFS file system is dismounted, but the cleanup of all references to the file system occurs when the system is no longer busy. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2414" headers="d134894e2360 ">
                                 <p><code class="codeph">-n</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2414 d134894e2363 ">
                                 <p>Specifies not to update the <code class="codeph">/etc/mtab</code> file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2425" headers="d134894e2360 ">
                                 <p><span class="italic"><code class="codeph">volume_device</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2425 d134894e2363 ">
                                 <p>Specifies an Oracle ADVM volume device file that has been formatted by <code class="codeph">mkfs</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2437" headers="d134894e2360 ">
                                 <p><span class="italic"><code class="codeph">mount_point</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2437 d134894e2363 ">
                                 <p>Specifies the directory where the file system is mounted. This directory must exist before you run the <code class="codeph">mount</code> command. 
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">umount</code> detaches an Oracle ACFS from the file system hierarchy on the current node.
                     </p>
                     <p>The <code class="codeph">umount</code> command does not return control back to the operating system prompt until the file system has been completely unmounted.
                     </p>
                     <p>If the file system is busy, <code class="codeph">umount</code> fails.
                     </p>
                     <p><code class="codeph">root</code> privileges are required to run the <code class="codeph">umount</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-019B9315-870C-4F2A-BE5E-D4623639FACB__GUID-93C850DD-9EC3-4371-B00F-26FA8377D24C">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following examples show how to dismount an Oracle ACFS file system. The first example uses the volume device file and the second example uses the file system.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-019B9315-870C-4F2A-BE5E-D4623639FACB__GUID-59616E37-7E68-486F-9AF3-6E67F1843AFA">
                     <p class="titleinexample">Example 16-7 Using the umount command</p><pre class="oac_no_warn" dir="ltr"># /bin/umount /dev/asm/volume1-123

# /bin/umount /acfsmounts/acfs1</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>