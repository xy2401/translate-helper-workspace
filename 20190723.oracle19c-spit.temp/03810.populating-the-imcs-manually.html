<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The database does not automatically populate n-Memory objects whose PRIORITY setting is NONE. To populate these objects, you must execute SQL or PL/SQL.">
      <meta name="description" content="The database does not automatically populate n-Memory objects whose PRIORITY setting is NONE. To populate these objects, you must execute SQL or PL/SQL.">
      <title>Populating the IM Column Store Manually</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database In-Memory Guide">
      <meta property="og:description" content="The database does not automatically populate n-Memory objects whose PRIORITY setting is NONE. To populate these objects, you must execute SQL or PL/SQL.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database In-Memory Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-memory-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-22T09:02:38-07:00">
      <meta name="dcterms.title" content="Database In-Memory Guide">
      <meta name="dcterms.dateCopyrighted" content="2016, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96137-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="populating-objects-in-memory.html" title="Previous" type="text/html">
      <link rel="next" href="configuring-memory-management.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="INMEM">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="populating-objects-in-memory.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="configuring-memory-management.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database In-Memory Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="configuring-the-im-column-store.html" property="item" typeof="WebPage"><span property="name">Configuring and Populating the IM Column Store</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Populating the IM Column Store Manually</li>
            </ol>
            <a id="GUID-A9113275-BCD4-4C0E-8A25-2388005E3360" name="GUID-A9113275-BCD4-4C0E-8A25-2388005E3360"></a>
            
            <h2 id="INMEM-GUID-A9113275-BCD4-4C0E-8A25-2388005E3360" class="sect2"><span class="enumeration_chapter">5 </span>Populating the IM Column Store Manually
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The database does not automatically populate n-Memory objects whose <code class="codeph">PRIORITY</code> setting is <code class="codeph">NONE</code>. To populate these objects, you must execute SQL or PL/SQL.
               </p>
               <p>This chapter contains the following topics:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-27A7D4CB-E0E7-4496-9C82-3284596EB0B0">About Manual Population of In-Memory Objects</a><br>Populate objects manually using either a full table scan, <code class="codeph">DBMS_INMEMORY</code> program units, or <code class="codeph">DBMS_INMEMORY_ADMIN.POPULATE_WAIT</code>.
                  </li>
                  <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-F2D1098A-F26D-40B8-8B26-14018B0928FB">Forcing Initial Population of an In-Memory Object</a><br>You can force population of an object using a full table scan, the <code class="codeph">POPULATE</code> procedure, the <code class="codeph">POPULATE_WAIT</code> function, or the <code class="codeph">REPOPULATE</code> procedure.
                  </li>
                  <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20">Populating In-Memory Tables Manually: Examples</a><br>The following examples illustrate how to populate In-Memory tables manually.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="configuring-the-im-column-store.html#GUID-8844C889-E381-4B77-8A51-7AA6462B14D7" title="You can enable and size the In-Memory Column Store (IM column store). You can also configure In-Memory settings for objects, and populate these objects in the IM column store.">Configuring and Populating the IM Column Store</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-27A7D4CB-E0E7-4496-9C82-3284596EB0B0" name="GUID-27A7D4CB-E0E7-4496-9C82-3284596EB0B0"></a><h3 id="INMEM-GUID-27A7D4CB-E0E7-4496-9C82-3284596EB0B0" class="sect3"><span class="enumeration_section">5.1 </span>About Manual Population of In-Memory Objects
               </h3>
               <div>
                  <p>Populate objects manually using either a full table scan, <code class="codeph">DBMS_INMEMORY</code> program units, or <code class="codeph">DBMS_INMEMORY_ADMIN.POPULATE_WAIT</code>.
                  </p>
                  <p>If you enabled an object with <code class="codeph">PRIORITY</code> set to <code class="codeph">NONE</code>, and if you want to populate it immediately, then you have the options described in the following sections:
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-07007572-F30C-48F1-930D-867C1A7E76CB">Population Using SELECT</a><br>You can initiate population by issuing a <code class="codeph">SELECT</code> statement that forces a full table scan.
                     </li>
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-3B20C2FC-EB04-4456-A0CD-FBDB1109E097">Population Using DBMS_INMEMORY.POPULATE</a><br>The <code class="codeph">DBMS_INMEMORY.POPULATE</code> procedure achieves the same goal as a full scan. 
                     </li>
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-F6A7B21A-3C1B-4E79-AE6B-A2708B39110D">Population Using DBMS_INMEMORY_ADMIN.POPULATE_WAIT</a><br>The <code class="codeph">DBMS_INMEMORY_ADMIN.POPULATE_WAIT</code> function <span>initiates population of all <code class="codeph">INMEMORY</code> objects that have a priority greater than or equal to the specified priority, and returns a status value for the population. A user-specified interval specifies the maximum time that the function waits before returning the value to the caller.</span></li>
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-60789205-70D3-47D2-969C-67FD45A1CD19">Population Using DBMS_INMEMORY.REPOPULATE</a><br><code class="codeph">DBMS_INMEMORY.REPOPULATE</code> forces repopulation of a table, partition, or subpartition that is currently populated in the IM column store.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="populating-the-imcs-manually.html#GUID-A9113275-BCD4-4C0E-8A25-2388005E3360" title="The database does not automatically populate n-Memory objects whose PRIORITY setting is NONE. To populate these objects, you must execute SQL or PL/SQL.">Populating the IM Column Store Manually</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-07007572-F30C-48F1-930D-867C1A7E76CB" name="GUID-07007572-F30C-48F1-930D-867C1A7E76CB"></a><h4 id="INMEM-GUID-07007572-F30C-48F1-930D-867C1A7E76CB" class="sect4"><span class="enumeration_section">5.1.1 </span>Population Using SELECT
                  </h4>
                  <div>
                     <p>You can initiate population by issuing a <code class="codeph">SELECT</code> statement that forces a full table scan.
                     </p>
                     <p>In this case, the database reads each row in the object and converts it to columnar format. Note that the following statement does not <span class="italic">guarantee</span> a full table scan:
                     </p><pre class="pre codeblock"><code>SELECT COUNT(*) FROM <span class="italic">object</span></code></pre><p>The reason is that the optimizer may choose to scan an index. Therefore, Oracle recommends forcing a full table scan by using the <code class="codeph">FULL</code> hint for <code class="codeph">SELECT COUNT(*)</code> queries, as in the following example:
                     </p><pre class="pre codeblock"><code>SELECT /*+ FULL(customers) NO_PARALLEL(customers) */ COUNT(*) FROM customers;</code></pre></div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-07007572-F30C-48F1-930D-867C1A7E76CB__GUID-A768693E-DCF5-4311-AB7B-80A903201F3C">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="populating-the-imcs-manually.html#GUID-BFE0ACA9-86C0-4575-B447-5F5CE3E1CDD5" title="This example using a full table scan to populate the sh.sales table into the IM column store.">Populating an In-Memory Table Using a Full Table Scan: Example</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Comments.html#GUID-581F6C91-1395-4ED0-81DE-59AE168FE183" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn more about the <code class="codeph">FULL</code> hint
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-the-imcs-manually.html#GUID-27A7D4CB-E0E7-4496-9C82-3284596EB0B0" title="Populate objects manually using either a full table scan, DBMS_INMEMORY program units, or DBMS_INMEMORY_ADMIN.POPULATE_WAIT.">About Manual Population of In-Memory Objects</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-3B20C2FC-EB04-4456-A0CD-FBDB1109E097" name="GUID-3B20C2FC-EB04-4456-A0CD-FBDB1109E097"></a><h4 id="INMEM-GUID-3B20C2FC-EB04-4456-A0CD-FBDB1109E097" class="sect4"><span class="enumeration_section">5.1.2 </span>Population Using DBMS_INMEMORY.POPULATE
                  </h4>
                  <div>
                     <p>The <code class="codeph">DBMS_INMEMORY.POPULATE</code> procedure achieves the same goal as a full scan. 
                     </p>
                     <p>The database reads every row in the specified object, converts it from row format to columnar format, and then populates it in the IM column store. The following PL/SQL block initiates population of the <code class="codeph">customer</code> table:
                     </p><pre class="pre codeblock"><code>BEGIN
  DBMS_INMEMORY.POPULATE( schema_name =&gt; 'SH', table_name =&gt; 'CUSTOMERS');
END;
/</code></pre></div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-3B20C2FC-EB04-4456-A0CD-FBDB1109E097__GUID-59470890-FBC9-483E-A35D-6FFFFD78B25D">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="populating-the-imcs-manually.html#GUID-A1B65E31-2EAD-4721-8842-E601D420A16A" title="This example uses DBMS_INMEMORY.POPULATE to initiate population of the sh.customers table into the IM column store.">Populating a Table Using the POPULATE Procedure: Example</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_INMEMORY.html#GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn about the <code class="codeph">DBMS_INMEMORY</code> package
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-the-imcs-manually.html#GUID-27A7D4CB-E0E7-4496-9C82-3284596EB0B0" title="Populate objects manually using either a full table scan, DBMS_INMEMORY program units, or DBMS_INMEMORY_ADMIN.POPULATE_WAIT.">About Manual Population of In-Memory Objects</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-F6A7B21A-3C1B-4E79-AE6B-A2708B39110D" name="GUID-F6A7B21A-3C1B-4E79-AE6B-A2708B39110D"></a><h4 id="INMEM-GUID-F6A7B21A-3C1B-4E79-AE6B-A2708B39110D" class="sect4"><span class="enumeration_section">5.1.3 </span>Population Using DBMS_INMEMORY_ADMIN.POPULATE_WAIT
                  </h4>
                  <div>
                     <p>The <code class="codeph">DBMS_INMEMORY_ADMIN.POPULATE_WAIT</code> function <span>initiates population of all <code class="codeph">INMEMORY</code> objects that have a priority greater than or equal to the specified priority, and returns a status value for the population. A user-specified interval specifies the maximum time that the function waits before returning the value to the caller.</span></p>
                     <p>Sample use cases for ensuring that objects are populated include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>When the database is closed, open the database with <code class="codeph">STARTUP RESTRICT</code> so that only administrators can access the database, and then execute <code class="codeph">POPULATE_WAIT</code> with the desired timeout setting. When the function returns <code class="codeph">0</code>, disable the restricted session so that non-administrative users can query the database.
                           </p>
                        </li>
                        <li>
                           <p>Block database connections by using services or an application tier technique. When no analytic indexes exists, and when the application depends on the IM column store to provide reasonable performance, these techniques prevent runaway queries.</p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">POPULATE_WAIT</code> function does not accept a table name as input. Rather, the function processes <span class="italic">all</span> <code class="codeph">INMEMORY</code> objects with a <code class="codeph">PRIORITY</code> setting greater than or equal to the <code class="codeph">priority</code> specified (the default is <code class="codeph">LOW</code>). If priority is <code class="codeph">NONE</code>, then the function processes all <code class="codeph">INMEMORY</code> objects. Note that <code class="codeph">POPULATE_WAIT</code> does not apply to external tables, which have no priority setting.
                     </p>
                     <p>The function accepts a population percentage as input, which defaults to <code class="codeph">100</code>, and a timeout interval, which defaults to <code class="codeph">99999999</code> seconds (115.74 days). When you execute the function, the database attempts to populate the objects that meet the specified <code class="codeph">PRIORITY</code> criteria within the timeout interval, and then returns a value indicating the population status.
                     </p>
                     <p>The following table describes the possible return values for <code class="codeph">POPULATE_WAIT</code>. The function returns the values <code class="codeph">0</code>, <code class="codeph">1</code>, <code class="codeph">2</code>, and <code class="codeph">3</code> only if the condition is met before the end of the interval specified by <code class="codeph">timeout</code>. For example, if <code class="codeph">timeout</code> is <code class="codeph">600</code>, then the function returns <code class="codeph">1</code> only if an out-of-memory error occurs before 600 seconds pass. The function returns <code class="codeph">-1</code> when the end of the timeout interval occurs before the database completes the requested operation.
                     </p>
                     <div class="tblformal" id="GUID-F6A7B21A-3C1B-4E79-AE6B-A2708B39110D__GUID-A2718B48-5DAF-4495-AE79-6413730A6D79">
                        <p class="titleintable">Table 5-1 Return Values for POPULATE_WAIT</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d16774e876">Constant</th>
                                 <th align="left" valign="bottom" id="d16774e878">Value</th>
                                 <th align="left" valign="bottom" id="d16774e880">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d16774e884" headers="d16774e876 ">
                                    <p><code class="codeph">POPULATE_TIMEOUT</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e884 d16774e878 ">
                                    <p><code class="codeph">-1</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e884 d16774e880 ">
                                    <p>The function timed out while waiting for population to complete.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d16774e896" headers="d16774e876 ">
                                    <p><code class="codeph">POPULATE_SUCCESS</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e896 d16774e878 ">
                                    <p><code class="codeph">0</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e896 d16774e880 ">
                                    <p>All objects that met the <code class="codeph">priority</code> criteria were populated to the specified <code class="codeph">percentage</code> of completion.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d16774e914" headers="d16774e876 ">
                                    <p><code class="codeph">POPULATE_OUT_OF_MEMORY</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e914 d16774e878 ">
                                    <p><code class="codeph">1</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e914 d16774e880 ">
                                    <p>The In-Memory pool had insufficient memory to populate the objects that met the <code class="codeph">priority</code> criteria to the specified <code class="codeph">percentage</code> of completion.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d16774e932" headers="d16774e876 ">
                                    <p><code class="codeph">POPULATE_NO_INMEMORY_OBJECTS</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e932 d16774e878 ">
                                    <p><code class="codeph">2</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e932 d16774e880 ">
                                    <p>No <code class="codeph">INMEMORY</code> objects met the specified <code class="codeph">priority</code> criteria.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d16774e950" headers="d16774e876 ">
                                    <p><code class="codeph">POPULATE_INMEMORY_SIZE_ZERO</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e950 d16774e878 ">
                                    <p><code class="codeph">3</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d16774e950 d16774e880 ">
                                    <p>The In-Memory column store is not enabled.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F6A7B21A-3C1B-4E79-AE6B-A2708B39110D__GUID-1C1C363C-71A8-4496-8B14-B58CCAC0365E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="populating-the-imcs-manually.html#GUID-034F9E53-A631-40BE-B8B5-AAD2A5E09A65" title="This example uses DBMS_INMEMORY_ADMIN.POPULATE_WAIT to populate all In-Memory tables, regardless of priority setting.">Setting a Timeout Using the POPULATE_WAIT Function: Example</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_INMEMORY_ADMIN.html#ARPLS-GUID-398720DF-7D8D-4418-B395-5F7C5FC85BC5" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn about the <code class="codeph">DBMS_INMEMORY_ADMIN</code> package
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-the-imcs-manually.html#GUID-27A7D4CB-E0E7-4496-9C82-3284596EB0B0" title="Populate objects manually using either a full table scan, DBMS_INMEMORY program units, or DBMS_INMEMORY_ADMIN.POPULATE_WAIT.">About Manual Population of In-Memory Objects</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-60789205-70D3-47D2-969C-67FD45A1CD19" name="GUID-60789205-70D3-47D2-969C-67FD45A1CD19"></a><h4 id="INMEM-GUID-60789205-70D3-47D2-969C-67FD45A1CD19" class="sect4"><span class="enumeration_section">5.1.4 </span>Population Using DBMS_INMEMORY.REPOPULATE
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_INMEMORY.REPOPULATE</code> forces repopulation of a table, partition, or subpartition that is currently populated in the IM column store.
                     </p>
                     <p>If you use this procedure on an In-Memory object that is <span class="italic">not</span> currently populated, then this procedure is functionally equivalent to <code class="codeph">DBMS_INMEMORY.POPULATE</code>.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-60789205-70D3-47D2-969C-67FD45A1CD19__GUID-CB4DFF3C-C14F-4EDA-9231-DD027C617C1E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="populating-the-imcs-manually.html#GUID-2738BEB5-6A24-4160-9044-E1BD12321047" title="This example repopulates a currently populated In-Memory external table.">Refreshing an In-Memory External Table Using the REPOPULATE Procedure: Example</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_INMEMORY.html#GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn about the <code class="codeph">DBMS_INMEMORY</code> package
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Comments.html#GUID-581F6C91-1395-4ED0-81DE-59AE168FE183" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn more about the <code class="codeph">FULL</code> hint
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-the-imcs-manually.html#GUID-27A7D4CB-E0E7-4496-9C82-3284596EB0B0" title="Populate objects manually using either a full table scan, DBMS_INMEMORY program units, or DBMS_INMEMORY_ADMIN.POPULATE_WAIT.">About Manual Population of In-Memory Objects</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-F2D1098A-F26D-40B8-8B26-14018B0928FB" name="GUID-F2D1098A-F26D-40B8-8B26-14018B0928FB"></a><h3 id="INMEM-GUID-F2D1098A-F26D-40B8-8B26-14018B0928FB" class="sect3"><span class="enumeration_section">5.2 </span>Forcing Initial Population of an In-Memory Object
               </h3>
               <div>
                  <p>You can force population of an object using a full table scan, the <code class="codeph">POPULATE</code> procedure, the <code class="codeph">POPULATE_WAIT</code> function, or the <code class="codeph">REPOPULATE</code> procedure.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-F2D1098A-F26D-40B8-8B26-14018B0928FB__GUID-4559CA5F-9389-46BC-9C19-8A87097D5F1B">Assumptions</p>
                     <p>This task assumes the following:</p>
                     <ul style="list-style-type: disc;" id="GUID-F2D1098A-F26D-40B8-8B26-14018B0928FB__THEIMCOLUMNSTOREISENABLED.YOUWANTTO-3B67CFCA">
                        <li>
                           <p>The IM column store is enabled.</p>
                        </li>
                        <li>
                           <p>You want to enable a table for In-Memory population.</p>
                        </li>
                        <li>
                           <p>You want to force the immediate population of the table into the IM column store.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F2D1098A-F26D-40B8-8B26-14018B0928FB__GUID-A409EBEC-2D27-4A5C-8AEF-16098F824F73">To force population of an INMEMORY table:</p>
                     <ol>
                        <li>
                           <p>In SQL*Plus or SQL Developer, log in to the database as a user with administrative privileges.</p>
                        </li>
                        <li>
                           <p>Apply the <code class="codeph">INMEMORY</code> attribute to the table.
                           </p>
                           <p>For example, enable <code class="codeph">sh.customers</code> for IM population as follows:
                           </p><pre class="pre codeblock"><code>ALTER TABLE sh.customers INMEMORY;
</code></pre><p>In the preceding example, the default priority is <code class="codeph">NONE</code>.
                           </p>
                        </li>
                        <li>
                           <p>Optionally, check the population status by querying <code class="codeph">V$IM_SEGMENTS</code>.
                           </p>
                           <p>For example, use the following statement (sample output included):</p><pre class="pre codeblock"><code>COL OWNER FORMAT a10;
COL NAME FORMAT a25;
COL STATUS FORMAT a10;

SELECT OWNER, SEGMENT_NAME NAME,
       POPULATE_STATUS STATUS
FROM   V$IM_SEGMENTS
WHERE  SEGMENT_NAME = 'CUSTOMERS';

no rows selected</code></pre><p>The preceding output shows that the object is not yet populated in the IM column store.</p>
                        </li>
                        <li>
                           <p>Initiate population using one of the following techniques:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Query all rows in the table using <code class="codeph">SELECT</code> with the <code class="codeph">FULL</code> hint.
                                 </p>
                                 <p>For example, issue the following statement:</p><pre class="pre codeblock"><code>SELECT /*+ FULL(customers) NO_PARALLEL(customers) */ COUNT(*) FROM sh.customers;</code></pre></li>
                              <li>
                                 <p>Execute the <code class="codeph">DBMS_INMEMORY.POPULATE</code> procedure.
                                 </p>
                                 <p>For example, execute this procedure for <code class="codeph">sh.customers</code> as follows:
                                 </p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY.POPULATE('SH', 'CUSTOMERS');</code></pre></li>
                              <li>
                                 <p>Execute the <code class="codeph">DBMS_INMEMORY.REPOPULATE</code> procedure.
                                 </p>
                                 <p>For unpopulated tables, this procedure is functionally equivalent to <code class="codeph">POPULATE</code>. For example, execute this procedure for <code class="codeph">sh.customers</code> as follows:
                                 </p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY.REPOPULATE('SH', 'CUSTOMERS');</code></pre></li>
                              <li>
                                 <p>Execute the <code class="codeph">DBMS_INMEMORY_ADMIN.POPULATE_WAIT</code> function.
                                 </p>
                                 <p>The following code example populates all <code class="codeph">INMEMORY</code> objects, regardless of <code class="codeph">PRIORITY</code> setting. The example specifies that the function should wait until all objects are 100% populated, and it should time out with an error if success is not achieved within 1800 seconds (30 minutes).
                                 </p><pre class="pre codeblock"><code>VARIABLE b_pop_status NUMBER
BEGIN
   SELECT DBMS_INMEMORY_ADMIN.POPULATE_WAIT(
            priority   =&gt; 'NONE' ,
            percentage =&gt; 100    ,
            timeout    =&gt; 1800   ,
            force      =&gt; FALSE  )
     INTO :b_pop_status
   FROM   dual;
END;
/
PRINT b_pop_status
</code></pre></li>
                           </ul>
                        </li>
                        <li>
                           <p>Optionally, to check the population status, query <code class="codeph">V$IM_SEGMENTS</code>.
                           </p>
                           <p>For example, use the following statement (sample output included):</p><pre class="pre codeblock"><code>SELECT OWNER, SEGMENT_NAME NAME,
       POPULATE_STATUS STATUS
FROM   V$IM_SEGMENTS
WHERE  SEGMENT_NAME = 'CUSTOMERS';

OWN NAME       STATUS
--- ---------- --------------------
SH  CUSTOMERS  COMPLETED
</code></pre><p>The table is now populated in the IM column store.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-F2D1098A-F26D-40B8-8B26-14018B0928FB__GUID-5990A616-9569-4695-8EFA-649CE8B27F3A">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../refrn/V-IM_SEGMENTS.html#GUID-1CD070FD-2864-452D-B2AA-50E977C4885A" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about <code class="codeph">V$IM_SEGMENTS</code></p>
                        </li>
                        <li>
                           <p><a href="../arpls/DBMS_INMEMORY.html#GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn about <code class="codeph">DBMS_INMEMORY</code> subprograms
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="populating-the-imcs-manually.html#GUID-A9113275-BCD4-4C0E-8A25-2388005E3360" title="The database does not automatically populate n-Memory objects whose PRIORITY setting is NONE. To populate these objects, you must execute SQL or PL/SQL.">Populating the IM Column Store Manually</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20" name="GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20"></a><h3 id="INMEM-GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20" class="sect3"><span class="enumeration_section">5.3 </span>Populating In-Memory Tables Manually: Examples
               </h3>
               <div>
                  <p>The following examples illustrate how to populate In-Memory tables manually.</p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-BFE0ACA9-86C0-4575-B447-5F5CE3E1CDD5">Populating an In-Memory Table Using a Full Table Scan: Example</a><br>This example using a full table scan to populate the <code class="codeph">sh.sales</code> table into the IM column store.
                     </li>
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-A1B65E31-2EAD-4721-8842-E601D420A16A">Populating a Table Using the POPULATE Procedure: Example</a><br>This example uses <code class="codeph">DBMS_INMEMORY.POPULATE</code> to initiate population of the <code class="codeph">sh.customers</code> table into the IM column store.
                     </li>
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-034F9E53-A631-40BE-B8B5-AAD2A5E09A65">Setting a Timeout Using the POPULATE_WAIT Function: Example</a><br>This example uses <code class="codeph">DBMS_INMEMORY_ADMIN.POPULATE_WAIT</code> to populate all In-Memory tables, regardless of priority setting.
                     </li>
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0">Populating an In-Memory External Table Using DBMS_INMEMORY.POPULATE: Example</a><br>This example populates an external table that has the <code class="codeph">INMEMORY</code> option.
                     </li>
                     <li class="ulchildlink"><a href="populating-the-imcs-manually.html#GUID-2738BEB5-6A24-4160-9044-E1BD12321047">Refreshing an In-Memory External Table Using the REPOPULATE Procedure: Example</a><br>This example repopulates a currently populated In-Memory external table.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20__GUID-7DD4F704-3C39-4F55-8D02-F3B52AF126BC">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="The following examples illustrate how to enable or disable tables for the IM column store.">Enabling and Disabling Tables for the IM Column Store: Examples</a>"</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="populating-the-imcs-manually.html#GUID-A9113275-BCD4-4C0E-8A25-2388005E3360" title="The database does not automatically populate n-Memory objects whose PRIORITY setting is NONE. To populate these objects, you must execute SQL or PL/SQL.">Populating the IM Column Store Manually</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-BFE0ACA9-86C0-4575-B447-5F5CE3E1CDD5" name="GUID-BFE0ACA9-86C0-4575-B447-5F5CE3E1CDD5"></a><h4 id="INMEM-GUID-BFE0ACA9-86C0-4575-B447-5F5CE3E1CDD5" class="sect4"><span class="enumeration_section">5.3.1 </span>Populating an In-Memory Table Using a Full Table Scan: Example
                  </h4>
                  <div>
                     <p>This example using a full table scan to populate the <code class="codeph">sh.sales</code> table into the IM column store.
                     </p>
                     <div class="example" id="GUID-BFE0ACA9-86C0-4575-B447-5F5CE3E1CDD5__GUID-91EBD78F-007C-4378-B829-4684D7E92EFC">
                        <p>Assume that you are logged in to the database as an administrator, and that you have issued the following DDL statement to add the <code class="codeph">INMEMORY</code> clause to the <code class="codeph">sh.sales</code> table:
                        </p><pre class="pre codeblock"><code>ALTER TABLE sh.sales INMEMORY;
</code></pre><p>The preceding statement uses the defaults for the <code class="codeph">INMEMORY</code> clause: <code class="codeph">MEMCOMPRESS FOR QUERY</code> and <code class="codeph">PRIORITY NONE</code>. Because <code class="codeph">PRIORITY</code> is <code class="codeph">NONE</code>, the database will not automatically populate the table into the IM column store. The following query confirms that the <code class="codeph">sh.sales</code> table is not currently populated:
                        </p><pre class="pre codeblock"><code>COL OWNER FORMAT a10;
COL NAME FORMAT a25;
COL STATUS FORMAT a10;

SELECT OWNER, SEGMENT_NAME NAME,
       POPULATE_STATUS STATUS
FROM   V$IM_SEGMENTS
WHERE  SEGMENT_NAME = 'SALES';

no rows selected</code></pre><p>The following query uses the <code class="codeph">FULL</code> hint to force a full table scan of <code class="codeph">sales</code>, thereby initiating population (sample output included):
                        </p><pre class="pre codeblock"><code>SELECT /*+ FULL(sales) NO_PARALLEL(sales) */ COUNT(*) FROM sh.sales;

  COUNT(*)
----------
    918843
</code></pre><p>The following query shows the population status of <code class="codeph">sales</code> (sample output included):
                        </p><pre class="pre codeblock"><code>SET PAGESIZE 50000
COL OWNER FORMAT a3
COL NAME FORMAT a10
COL STATUS FORMAT a20

SELECT OWNER, SEGMENT_NAME NAME, 
       POPULATE_STATUS STATUS
FROM   V$IM_SEGMENTS
WHERE  SEGMENT_NAME = 'SALES';

OWN NAME       STATUS
--- ---------- --------------------
SH  SALES      COMPLETED
SH  SALES      COMPLETED
SH  SALES      COMPLETED
SH  SALES      COMPLETED
SH  SALES      COMPLETED
SH  SALES      COMPLETED
SH  SALES      COMPLETED
SH  SALES      COMPLETED
SH  SALES      COMPLETED
SH  SALES      COMPLETED
SH  SALES      COMPLETED
SH  SALES      COMPLETED
SH  SALES      COMPLETED
SH  SALES      COMPLETED
SH  SALES      COMPLETED
SH  SALES      COMPLETED

16 rows selected.
</code></pre><p>The following query calculates the compression ratio of the table. The query assumes that the tables are not further compressed on disk.</p><pre class="pre codeblock"><code>COL OWNER FORMAT a5
COL SEGMENT_NAME FORMAT a5
SET PAGESIZE 50000

SELECT v.OWNER, v.SEGMENT_NAME, v.BYTES ORIG_SIZE,
       v.INMEMORY_SIZE IN_MEM_SIZE,
       ROUND(v.BYTES / v.INMEMORY_SIZE, 2) COMP_RATIO
FROM   V$IM_SEGMENTS v
ORDER BY 4;

OWNER SEGME  ORIG_SIZE IN_MEM_SIZE COMP_RATIO
----- ----- ---------- ----------- ----------
SH    SALES     851968     1310720        .65
SH    SALES     835584     1310720        .64
SH    SALES     925696     1310720        .71
SH    SALES     958464     1310720        .73
SH    SALES     950272     1310720        .73
SH    SALES     786432     1310720         .6
SH    SALES     876544     1310720        .67
SH    SALES     753664     1310720        .58
SH    SALES    1081344     1310720        .83
SH    SALES     901120     1310720        .69
SH    SALES     925696     1310720        .71
SH    SALES     933888     1310720        .71
SH    SALES     843776     1310720        .64
SH    SALES     999424     1310720        .76
SH    SALES     581632     1507328        .39
SH    SALES     696320     1507328        .46

16 rows selected.</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-the-imcs-manually.html#GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20" title="The following examples illustrate how to populate In-Memory tables manually.">Populating In-Memory Tables Manually: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-A1B65E31-2EAD-4721-8842-E601D420A16A" name="GUID-A1B65E31-2EAD-4721-8842-E601D420A16A"></a><h4 id="INMEM-GUID-A1B65E31-2EAD-4721-8842-E601D420A16A" class="sect4"><span class="enumeration_section">5.3.2 </span>Populating a Table Using the POPULATE Procedure: Example
                  </h4>
                  <div>
                     <p>This example uses <code class="codeph">DBMS_INMEMORY.POPULATE</code> to initiate population of the <code class="codeph">sh.customers</code> table into the IM column store.
                     </p>
                     <div class="example" id="GUID-A1B65E31-2EAD-4721-8842-E601D420A16A__GUID-9F5DE67C-8CAC-4844-8D2C-2AAE9D6375DD">
                        <p>Assume that you are logged in to the database as an administrator, and that you have issued the following DDL statement to add the <code class="codeph">INMEMORY</code> clause to the <code class="codeph">sh.customers</code> table:
                        </p><pre class="pre codeblock"><code>ALTER TABLE sh.customers INMEMORY;
</code></pre><p>The preceding statement uses the defaults for the <code class="codeph">INMEMORY</code> clause: <code class="codeph">MEMCOMPRESS FOR QUERY</code> and <code class="codeph">PRIORITY NONE</code>. Because <code class="codeph">PRIORITY</code> is <code class="codeph">NONE</code>, the database will not automatically populate the table into the IM column store. The following query confirms that the <code class="codeph">sh.customers</code> table is not currently populated:
                        </p><pre class="pre codeblock"><code>COL OWNER FORMAT a10;
COL NAME FORMAT a25;
COL STATUS FORMAT a10;

SELECT OWNER, SEGMENT_NAME NAME,
       POPULATE_STATUS STATUS
FROM   V$IM_SEGMENTS
WHERE  SEGMENT_NAME = 'CUSTOMERS';

no rows selected</code></pre><p>The following PL/SQL code uses the <code class="codeph">POPULATE</code> procedure to initiative population:
                        </p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY.POPULATE('SH', 'CUSTOMERS');</code></pre><p>The following query shows the population status of <code class="codeph">customers</code> (sample output included):
                        </p><pre class="pre codeblock"><code>SELECT OWNER, SEGMENT_NAME NAME,
       POPULATE_STATUS STATUS
FROM   V$IM_SEGMENTS
WHERE  SEGMENT_NAME = 'CUSTOMERS';

OWN NAME       STATUS
--- ---------- --------------------
SH  CUSTOMERS  COMPLETED
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-the-imcs-manually.html#GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20" title="The following examples illustrate how to populate In-Memory tables manually.">Populating In-Memory Tables Manually: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-034F9E53-A631-40BE-B8B5-AAD2A5E09A65" name="GUID-034F9E53-A631-40BE-B8B5-AAD2A5E09A65"></a><h4 id="INMEM-GUID-034F9E53-A631-40BE-B8B5-AAD2A5E09A65" class="sect4"><span class="enumeration_section">5.3.3 </span>Setting a Timeout Using the POPULATE_WAIT Function: Example
                  </h4>
                  <div>
                     <p>This example uses <code class="codeph">DBMS_INMEMORY_ADMIN.POPULATE_WAIT</code> to populate all In-Memory tables, regardless of priority setting.
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-034F9E53-A631-40BE-B8B5-AAD2A5E09A65__GUID-3D47ED34-5D2E-40AA-9127-B99CA48582AE">
                        <p class="titleinexample">Example 5-1 Specifying a Timeout Interval for In-Memory Population</p>
                        <p>In this example, the database contains a number of In-Memory tables with a variety of priority settings. Your goal is to populate <span class="italic">every</span> In-Memory table to 100% completion in a restricted database session, and then disable the restricted session so that the application can be guaranteed of querying only the In-Memory representations.
                        </p>
                        <p>Assume that the database is shut down. In SQL*Plus, you connect to an idle instance as <code class="codeph">SYSDBA</code>, and then execute the following command (sample output included):
                        </p><pre class="pre codeblock"><code>SQL&gt; STARTUP RESTRICT
ORACLE instance started.

Total System Global Area 1157624280 bytes
Fixed Size                  8839640 bytes
Variable Size             754974720 bytes
Database Buffers           16777216 bytes
Redo Buffers                7933952 bytes
In-Memory Area            369098752 bytes
Database mounted.
Database opened.
</code></pre><p>The database is open, but is accessible only to administrative users. You execute the following statements in SQL*Plus (sample output shown in bold):</p><pre class="pre codeblock"><code>VARIABLE b_pop_status NUMBER

SELECT DBMS_INMEMORY_ADMIN.POPULATE_WAIT(
         priority   =&gt; 'NONE' ,
         percentage =&gt; 100    ,
         timeout    =&gt; 300    )
  INTO b_pop_status
FROM   DUAL;

PRINT b_pop_status
<span class="bold">-1</span></code></pre><p>After 5 minutes, the function returns the number <code class="codeph">&#x2013;1</code>. This code indicates that the function timed out while waiting for population to complete. 5 minutes is not long enough to populate all <code class="codeph">INMEMORY</code> tables. You re-execute the <code class="codeph">SELECT</code> statement, specifying a 30-minute timeout:
                        </p><pre class="pre codeblock"><code>SELECT DBMS_INMEMORY_ADMIN.POPULATE_WAIT(
         priority   =&gt; 'NONE' ,
         percentage =&gt; 100    ,
         timeout    =&gt; 1800   )
  INTO b_pop_status
FROM   DUAL;

PRINT b_pop_status
<span class="bold">0</span></code></pre><p>After 8 minutes, the function returns the number <code class="codeph">0</code>. This code indicates that all tables are completely populated. You now disable the restricted session so that the application can start query In-Memory objects with full confidence that only In-Memory representations will be accessed:
                        </p><pre class="pre codeblock"><code>ALTER SYSTEM DISABLE RESTRICTED SESSION;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-the-imcs-manually.html#GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20" title="The following examples illustrate how to populate In-Memory tables manually.">Populating In-Memory Tables Manually: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0" name="GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0"></a><h4 id="INMEM-GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0" class="sect4"><span class="enumeration_section">5.3.4 </span>Populating an In-Memory External Table Using DBMS_INMEMORY.POPULATE: Example
                  </h4>
                  <div>
                     <p>This example populates an external table that has the <code class="codeph">INMEMORY</code> option.
                     </p>
                     <div class="p">
                        <p>This example assumes that you created the external table <code class="codeph">sh.admin_ext_sales</code> with the <code class="codeph">INMEMORY</code> option using the <code class="codeph">sh_sales.csv</code> file.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0__GUID-83FBBE4A-EA70-473B-87C0-1BC0A4A1EEA5">
                        <p>The <code class="codeph">admin_ext_sales</code> table is not yet populated. Starting in <span>Oracle Database 19c</span>, a full table scan populates an external table just as it populates a standard table. However, in this scenario, you choose to initiate population by using the <code class="codeph">DBMS_INMEMORY</code> package.
                        </p>
                        <div class="infoboxnote" id="GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0__GUID-1AE27939-3B65-476A-8822-A52175C3FDA5">
                           <p class="notep1">Note:</p>
                           <p>Sessions that query In-Memory external tables must have the initialization parameter <code class="codeph">QUERY_REWRITE_INTEGRITY</code> set to <code class="codeph">stale_tolerated</code>. If an external table is modified, then the results from the IM column store are undefined.
                           </p>
                        </div>
                        <p>To populate the table, you perform the following steps:</p>
                        <ol>
                           <li>
                              <p>Log in as user <code class="codeph">sh</code>.
                              </p>
                           </li>
                           <li>
                              <p>Set <code class="codeph">QUERY_REWRITE_INTEGRITY</code> in the database session:
                              </p><pre class="pre codeblock"><code>ALTER SESSION SET QUERY_REWRITE_INTEGRITY=stale_tolerated;
</code></pre></li>
                           <li>
                              <p>Execute the following PL/SQL program:</p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY.POPULATE('SH', 'ADMIN_EXT_SALES');</code></pre></li>
                           <li>
                              <p>Check the population status by querying <code class="codeph">V$IM_SEGMENTS</code>:
                              </p><pre class="pre codeblock"><code>COL OWNER FORMAT a3
COL NAME FORMAT a15
COL STATUS FORMAT a9

SELECT OWNER, SEGMENT_NAME NAME, 
       POPULATE_STATUS STATUS
FROM   V$IM_SEGMENTS;

OWN NAME            STATUS
--- --------------- ---------
SH  ADMIN_EXT_SALES COMPLETED</code></pre><p>The preceding output shows that the <code class="codeph">admin_ext_sales</code> table has been populated
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0__GUID-7DD4F704-3C39-4F55-8D02-F3B52AF126BC">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="views-related-to-im-column-store.html#GUID-2EBF8D9B-FA9E-4D67-8934-5908E6018D4E" title="This topic describes data dictionary and dynamic performance views related to the In-Memory Column Store (IM column store).">In-Memory Views</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_INMEMORY.html#GUID-DE324946-9889-49A6-A379-4ACEEF99C184" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn more about <code class="codeph">DBMS_INMEMORY.POPULATE</code></p>
                           </li>
                           <li>
                              <p><a href="../refrn/QUERY_REWRITE_INTEGRITY.html#GUID-23655494-DF65-4F0E-A89F-8333222297F5" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about the <code class="codeph">QUERY_REWRITE_INTEGRITY</code> initialization parameter
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-the-imcs-manually.html#GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20" title="The following examples illustrate how to populate In-Memory tables manually.">Populating In-Memory Tables Manually: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-2738BEB5-6A24-4160-9044-E1BD12321047" name="GUID-2738BEB5-6A24-4160-9044-E1BD12321047"></a><h4 id="INMEM-GUID-2738BEB5-6A24-4160-9044-E1BD12321047" class="sect4"><span class="enumeration_section">5.3.5 </span>Refreshing an In-Memory External Table Using the REPOPULATE Procedure: Example
                  </h4>
                  <div>
                     <p>This example repopulates a currently populated In-Memory external table.</p>
                     <div class="p">This example assumes that you used the comma-delimited flat file <code class="codeph">/tmp/data/sh_sales.csv</code> to create the <code class="codeph">sh.admin_ext_sales</code> table with the <code class="codeph">INMEMORY</code> option, and that you populated this table into the IM column store.
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2738BEB5-6A24-4160-9044-E1BD12321047__GUID-82C525B8-5123-43B3-8E76-CCF58B757ED3">
                        <p>Assume you add a record to <code class="codeph">/tmp/data/sh_sales.csv</code> as follows:
                        </p><pre class="pre codeblock"><code>echo "148,8787,23-NOV-01,2,999,1,23.43" &gt;&gt; /tmp/data/sh_sales.csv</code></pre><div class="p">Unlike internal tables, external tables do not use the automatic repopulation mechanism. To refresh external tables, you must use one of the following techniques:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Call the <code class="codeph">DBMS_INMEMORY.REPOPULATE</code> procedure
                                 </p>
                              </li>
                              <li>
                                 <p>Specify the table as <code class="codeph">NO INMEMORY</code>, specify it as <code class="codeph">INMEMORY</code>, and then perform a full table scan
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>The following example uses the <code class="codeph">REPOPULATE</code> procedure to force the IM column store to refresh <code class="codeph">admin_ext_sales</code>:
                        </p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY.REPOPULATE('SH', 'ADMIN_EXT_SALES');</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2738BEB5-6A24-4160-9044-E1BD12321047__GUID-7DD4F704-3C39-4F55-8D02-F3B52AF126BC">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="populating-objects-in-memory.html#GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4" title="This example creates an external table with the INMEMORY option.">Creating an In-Memory External Table: Example</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="repopulation-and-dml.html#GUID-3ACF448A-C685-432B-84E9-DB8719CF3359" title="Repopulation occurs automatically by default, but you can control its aggressiveness, or disable it altogether.">Controls for Repopulation of the IM Column Store</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_INMEMORY.html#GUID-DE324946-9889-49A6-A379-4ACEEF99C184" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn more about <code class="codeph">DBMS_INMEMORY.REPOPULATE</code></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-the-imcs-manually.html#GUID-FDF5D7FF-0BEA-4E90-B534-624E942CFF20" title="The following examples illustrate how to populate In-Memory tables manually.">Populating In-Memory Tables Manually: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>