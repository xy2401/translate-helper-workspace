<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This topic provides a summary of commands to manage Oracle ACFS snapshots.">
      <meta name="description" content="This topic provides a summary of commands to manage Oracle ACFS snapshots.">
      <title>Oracle ACFS Command-Line Tools for Snapshots</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Guide">
      <meta property="og:description" content="This topic provides a summary of commands to manage Oracle ACFS snapshots.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96198-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="acfs-commands-encryption.html" title="Previous" type="text/html">
      <link rel="next" href="acfs-commands-compression.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="OSTMG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="acfs-commands-encryption.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="acfs-commands-compression.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-acfs-advm.html" property="item" typeof="WebPage"><span property="name">Oracle Automatic Storage Management Cluster File System</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="manage-acfs-advm-commands.html" property="item" typeof="WebPage"><span property="name">Managing Oracle ACFS with Command-Line Tools</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle ACFS Command-Line Tools for Snapshots</li>
            </ol>
            <a id="GUID-4AF8BCAD-5EF4-4CE8-9393-5E8D75B10A93" name="GUID-4AF8BCAD-5EF4-4CE8-9393-5E8D75B10A93"></a>
            
            <h2 id="OSTMG-GUID-4AF8BCAD-5EF4-4CE8-9393-5E8D75B10A93" class="sect2">Oracle ACFS Command-Line Tools for Snapshots</h2>
         </header>
         <div class="ind">
            <div>
               <p> This topic provides a summary of commands to manage Oracle ACFS snapshots.</p>
               <p><a href="acfs-commands-snapshots.html#GUID-4AF8BCAD-5EF4-4CE8-9393-5E8D75B10A93__BABCCICG" title="Summary of Oracle ACFS snapshot commands">Table 16-88</a> lists Oracle ACFS snapshot commands with brief descriptions. For an overview of Oracle ACFS snapshots, refer to <a href="understand-acfs-concepts.html#GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C" title="An Oracle ACFS snapshot is an online, read-only or read-write, point in time copy of an Oracle ACFS file system.">About Oracle ACFS Snapshots</a>.
               </p>
               <p>For more information about running Oracle ACFS <code class="codeph">acfsutil</code> commands, refer to <a href="steps-manage-acfs.html#GUID-FA9F9335-ADA4-48D1-B060-6F096E3BAE6C" title="This topic provides an overview of the use of Oracle ACFS acfsutil commands.">About Using Oracle ACFS Command-Line Tools</a>.
               </p>
               <div class="tblformalwide" id="GUID-4AF8BCAD-5EF4-4CE8-9393-5E8D75B10A93__BABCCICG">
                  <p class="titleintable">Table 16-88 Summary of commands for Oracle ACFS snapshots</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="Summary of commands for Oracle ACFS snapshots" summary="Summary of Oracle ACFS snapshot commands " width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="37%" id="d176644e186">Command</th>
                           <th align="left" valign="bottom" width="63%" id="d176644e189">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e194" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96">acfsutil snap convert</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e194 d176644e189 ">
                              <p>Converts the type of an existing snapshot.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e202" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF">acfsutil snap create</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e202 d176644e189 ">
                              <p>Creates a snapshot of an Oracle ACFS file system or an existing snapshot.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e210" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0">acfsutil snap delete</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e210 d176644e189 ">
                              <p>Deletes a snapshot of an Oracle ACFS file system.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e218" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56">acfsutil snap duplicate apply</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e218 d176644e189 ">
                              <p>Updates a duplicate snapshot or file system.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e226" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087">acfsutil snap duplicate create</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e226 d176644e189 ">
                              <p>Creates a duplicate of an existing snapshot.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e234" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051">acfsutil snap info</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e234 d176644e189 ">
                              <p>Displays information about Oracle ACFS file system snapshots.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e242" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-316DADD7-A589-4D08-A437-F708CA4797FB">acfsutil snap link</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e242 d176644e189 ">
                              <p>Creates or deletes a snapshot link.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e252" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565">acfsutil snap quota</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e252 d176644e189 ">
                              <p>Sets the quota limit for a specified snapshot.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e262" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87">acfsutil snap remaster</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e262 d176644e189 ">
                              <p>Remasters a file system with a specified snapshot.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e270" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1">acfsutil snap rename</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e270 d176644e189 ">
                              <p>Renames a snapshot.</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="OSTMG95592"></a><a id="OSTMG95593"></a><a id="OSTMG95594"></a><a id="OSTMG95595"></a><a id="OSTMG95596"></a><a id="OSTMG95591"></a><div class="props_rev_3"><a id="GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96" name="GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96"></a><h3 id="OSTMG-GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96" class="sect3">acfsutil snap convert</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96__GUID-2F8329A4-9DD7-4796-82FD-835BFBD62519">Purpose</p>
                     <p>Converts the type of an existing snapshot image from read-only to read-write or read-write to read-only.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96__GUID-9C3BA690-617E-4CF6-A57E-D8E2B87CDF3B">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">acfsutil snap convert -h
acfsutil snap convert [-r|-w] <span class="italic">snap_shot</span> <span class="italic">mount_point</span></pre><p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">convert</code> <code class="codeph">-h</code> displays help text and exits.
                     </p>
                     <p>The following table contains the options available with the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">convert</code> command.
                     </p>
                     <div class="tblformal" id="GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96__BABGEACE">
                        <p class="titleintable">Table 16-89 Options for the acfsutil snap convert command</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsutil snap convert command" summary="This table lists the options for the acfsutil snap create command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d176644e472">Option</th>
                                 <th align="left" valign="bottom" width="69%" id="d176644e475">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e480" headers="d176644e472 ">
                                    <p><code class="codeph">-r</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e480 d176644e475 ">
                                    <p>Converts snapshot to read-only snapshot.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e488" headers="d176644e472 ">
                                    <p><code class="codeph">-w</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e488 d176644e475 ">
                                    <p>Converts snapshot to read-write snapshot.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e496" headers="d176644e472 ">
                                    <p><span class="italic"><code class="codeph">snap_shot</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e496 d176644e475 ">
                                    <p>Specifies the name of the snapshot to be converted.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e505" headers="d176644e472 ">
                                    <p><span class="italic"><code class="codeph">mount_point</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e505 d176644e475 ">
                                    <p>Specifies the directory where the file system is mounted.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">convert</code> converts the type of an existing snapshot image from a read-only snapshot image to a read-write snapshot image, or from a read-write snapshot image to a read-only snapshot image. 
                     </p>
                     <p>The type option (<code class="codeph">-r</code> or <code class="codeph">-w</code>) is required for the convert operation. Specifying a type parameter that matches the type of the existing snapshot image results in no conversion and no failure. An 11.2 read-only snapshot image can be converted to a read-write snapshot image, but this conversion results in an update of the Oracle ACFS on-disk structure version. After the Oracle ACFS on-disk structure version has been updated, the updated version is not compatible with previous Oracle ACFS 11.2 versions.
                     </p>
                     <p>Administrator privileges are required to use this command or you must be a member of the Oracle ASM administrator group.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96__GUID-4A043D54-C347-4CB4-BAA3-E97555D24F71">Examples</p>
                     <p><a href="acfs-commands-snapshots.html#GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96__BABHEEBF">Example 16-84</a> shows the use of the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">convert</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96__BABHEEBF">
                     <p class="titleinexample">Example 16-84 Using the acfsutil snap convert command</p><pre class="oac_no_warn" dir="ltr">$ acfsutil snap convert -w midday_test1 /acfsmounts/critical_apps

$ acfsutil snap convert -r midday_test2 /acfsmounts/critical_apps</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG95240"></a><a id="OSTMG95241"></a><a id="OSTMG95242"></a><a id="OSTMG95243"></a><a id="OSTMG95244"></a><a id="OSTMG95597"></a><a id="OSTMG95239"></a><div class="props_rev_3"><a id="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF" name="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF"></a><h3 id="OSTMG-GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF" class="sect3">acfsutil snap create</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__GUID-D478598B-ED83-4071-B6DF-2848B0494F69">Purpose</p>
                     <p>Creates a read-only or read-write snapshot of an Oracle ACFS file system or an existing snapshot.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__GUID-DC82FD9B-4754-46FC-8AEB-2642B595A6D5">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">acfsutil snap create -h
acfsutil snap create [-r|-w] [-p <span class="italic">parent_snap_shot</span>] <span class="italic">snap_shot</span> <span class="italic">mount_point</span></pre><p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">create</code> <code class="codeph">-h</code> displays help text and exits.
                     </p>
                     <p>The following table contains the options available with the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">create</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__BABJGBFC">
                     <p class="titleintable">Table 16-90 Options for the acfsutil snap create command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsutil snap create command" summary="This table lists the options for the acfsutil snap create command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d176644e786">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d176644e789">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e794" headers="d176644e786 ">
                                 <p><code class="codeph">-r</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e794 d176644e789 ">
                                 <p>Creates a read-only snapshot. This is the default setting.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e802" headers="d176644e786 ">
                                 <p><code class="codeph">-w</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e802 d176644e789 ">
                                 <p>Creates a read-write snapshot.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e810" headers="d176644e786 ">
                                 <p><span class="italic"><code class="codeph">snap_shot</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e810 d176644e789 ">
                                 <p>Specifies a name for the snapshot. The name provided must follow host operating system specific naming rules for directories. The<code class="codeph">.ACFS/snaps</code> directory itself cannot be snapped.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e822" headers="d176644e786 ">
                                 <p><code class="codeph">-p</code> <span class="italic"><code class="codeph">parent_snap_shot</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e822 d176644e789 ">
                                 <p>Specifies the name of an existing snapshot image within the Oracle ACFS file system.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e834" headers="d176644e786 ">
                                 <p><span class="italic"><code class="codeph">mount_point</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e834 d176644e789 ">
                                 <p>Specifies the directory where the file system is mounted.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">create</code> creates a read-only or read-write snapshot of the Oracle ACFS file system mounted on <span class="italic"><code class="codeph">mount_point</code></span> or creates a snapshot of an existing snapshot if the <code class="codeph">-p</code> option is specified. You can specify <code class="codeph">-r</code> for read-only or <code class="codeph">-w</code> for read-write; read-only is the default if neither <code class="codeph">-r</code> or <code class="codeph">-w</code> are specified.
                     </p>
                     <p>The read-write snapshot enables the fast creation of an Oracle ACFS snapshot image that can be both read and written without impacting the state of the Oracle ACFS file system hosting the snapshot images. You can use the read-write functionality for testing new versions of application software or running test scenarios on production file data without modifying the original file system.</p>
                     <p>During the create snapshot operation duplicate data within the source file system or snapshot is copied to the new snapshot. The create operation makes a copy of a file system or snapshot whose last update was performed by an <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code> operation. This updated file system or snapshot is known as the <span class="italic">apply</span> <span class="italic">target</span>. The data written to an <span class="italic">apply</span> <span class="italic">target</span> comes from the snapshot duplication stream of an <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">create</code> operation. An <span class="italic">apply</span> <span class="italic">target</span> contains metadata that identifies the stream that updated the target. This metadata ensures that any future <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code> operation for the <span class="italic">apply</span> <span class="italic">target</span> has a starting point that matches the endpoint of the previous stream that updated the target. 
                     </p>
                     <p>Snapshots are not separate file systems. The snapshot appears in the <code class="codeph">.ACFS/snaps/</code><span class="italic"><code class="codeph">snapshot</code></span> directory and initially is a complete replica of the file system at the time the snapshot command was given. A read-only snapshot continues to preserve that initial point-in-time view. A read-write snapshot can be modified by updates written directly to the files located within the <code class="codeph">.ACFS/snaps/</code><span class="italic"><code class="codeph">snapshot</code></span> hierarchy.
                     </p>
                     <p>A symbol link (symlink) file is a pointer to a path specified at the time that the symlink is created. For any existing symlink in the source of the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">create</code> command, a new link is made in the snapshot; however, the stored path to the symlink target is not modified during snap creation time. When an absolute path is used as the target of the link, the link target of the snapshot still refers to the absolute path, outside the newly-created snapshot namespace. Future modifications to the targeted file can occur through the snapshot symlink, not to a new target inside the snapshot namespace. The contents of the targeted file can also be changed outside of the snapshot. Because of this behavior, you should use relative path targets for all symlinks that are within the same file system.
                     </p>
                     <p>Any user can access the snapshot directory by specifying the path name. However, the .<code class="codeph">ACFS</code> directory itself is hidden from directory listings of the root of the file system. This prevents recursive commands, such as <code class="codeph">rm</code> <code class="codeph">-rf</code> or <code class="codeph">acfsutil</code> <code class="codeph">tag</code> <code class="codeph">set</code> <code class="codeph">-r</code>, from the root of the file system inadvertently operating on snapshot files.
                     </p>
                     <p>Snapshots usually use very little storage initially as they share file system blocks with the original file system until a file changes. </p>
                     <p>Tools such as <code class="codeph">du</code> report the total disk space usage of the snapshotted files, which includes the storage shared with the original versions of the files. To determine the total space used for the snapshots, use the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code> or <code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">fs</code> command.
                     </p>
                     <p>Oracle ACFS snapshots are immediately available for use after they are created. They are always online under the<code class="codeph">.ACFS/snaps</code> directory when the original file system is mounted. No separate command is needed to mount them.
                     </p>
                     <p>The <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">create</code> operation fails if the cluster is in rolling migration.
                     </p>
                     <p>Creation from an existing snapshot is not permitted if there are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Any snapshots present in the file system that were created with the <code class="codeph">ADVM</code> compatibility set to less than 12.1
                           </p>
                        </li>
                        <li>
                           <p>Any snapshots of the file system that were created after <code class="codeph">ADVM</code> compatibility was set to <code class="codeph">12.1</code> but while 11.2 snapshots existed
                           </p>
                        </li>
                        <li>
                           <p>Any snapshot deletion cleanup operations still running in the background for the above conditions</p>
                           <p>You can display pending snapshot operations with the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code> command. 
                           </p>
                        </li>
                     </ul>
                     <p>Administrator privileges are required to use this command or you must be a member of the Oracle ASM administrator group.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__GUID-09ABACB3-7C8C-407B-B37C-76CBEADD6FD6">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a href="acfs-commands-snapshots.html#GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__BABIIJAC">Example 16-85</a> shows the use of the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">create</code> command to create snapshots on a Linux platform.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__BABIIJAC">
                     <p class="titleinexample">Example 16-85 Using the acfsutil snap create command on Linux</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil snap create -w midday_test1 /acfsmounts/critical_apps

$ /sbin/acfsutil snap create -w midday_test2 /acfsmounts/critical_apps

$ /sbin/acfsutil snap create payroll_report1 /acfsmounts/critical_apps

$ /sbin/acfsutil snap create payroll_report2 /acfsmounts/critical_apps

$ ls /acfsmounts/critical_apps/.ACFS/snaps
midday_test1  midday_test2  payroll_report1  payroll_report2
</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p><a href="acfs-commands-snapshots.html#GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__BABGGCJA">Example 16-86</a> shows the use of the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">create</code> command to create snapshots on a Windows platform. This example shows the creation of a snapshot from an existing snapshot.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__BABGGCJA">
                     <p class="titleinexample">Example 16-86 Using the acfsutil snap create command on Windows</p><pre class="oac_no_warn" dir="ltr">C:\oracle&gt; acfsutil snap create /w snap_1 e:

C:\oracle&gt; acfsutil snap create /w snap_1-1 /p snap_1 e:</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__GUID-A265917C-A535-4989-8A19-804BA0920814">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="understand-acfs-concepts.html#GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C" title="An Oracle ACFS snapshot is an online, read-only or read-write, point in time copy of an Oracle ACFS file system.">About Oracle ACFS Snapshots</a> for information about Oracle ACFS snapshots
                              </p>
                           </li>
                           <li>
                              <p><a href="acfs-advanced-topics.html#GUID-B95CD674-F7C7-47D1-9466-6A86B86B6BF5">Oracle ACFS Disk Space Usage</a> for information about the number of snapshots supported
                              </p>
                           </li>
                           <li>
                              <p><a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051">acfsutil snap info</a> for information about displaying pending snapshots operations
                              </p>
                           </li>
                           <li>
                              <p><a href="acfs-commands-utilities.html#GUID-1D06D15C-A37F-4805-BD99-953B01B1CD08">acfsutil info fs</a> for information about displaying the space used for snapshots
                              </p>
                           </li>
                           <li>
                              <p><a href="acfs-commands-snapshots.html#GUID-4AF8BCAD-5EF4-4CE8-9393-5E8D75B10A93" title="This topic provides a summary of commands to manage Oracle ACFS snapshots.">Oracle ACFS Command-Line Tools for Snapshots</a> for information about the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code> and <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">create</code> commands
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG95246"></a><a id="OSTMG95247"></a><a id="OSTMG95248"></a><a id="OSTMG95249"></a><a id="OSTMG95250"></a><a id="OSTMG95245"></a><div class="props_rev_3"><a id="GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0" name="GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0"></a><h3 id="OSTMG-GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0" class="sect3">acfsutil snap delete</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0__GUID-34E58F3B-BCE3-43E4-A796-8FDF13FBCE95">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Deletes a snapshot of an Oracle ACFS file system.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0__GUID-1B7AD6DC-60DB-4DCF-8503-A9063ECCFC27">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">acfsutil -h snap delete
acfsutil snap delete <span class="italic">snapshot</span> <span class="italic">mount_point</span></pre><p><code class="codeph">acfsutil</code> <code class="codeph">-h</code> <code class="codeph">snap</code> <code class="codeph">delete</code> displays help text and exits.
                     </p>
                     <p><a href="acfs-commands-snapshots.html#GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0__BABDBGHE" title="This table lists the options for the acfsutil snap delete command, along with a description for each option">Table 16-91</a> contains the options available with the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">delete</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0__BABDBGHE">
                     <p class="titleintable">Table 16-91 Options for the acfsutil snap delete command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsutil snap delete command" summary="This table lists the options for the acfsutil snap delete command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d176644e1365">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d176644e1368">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e1373" headers="d176644e1365 ">
                                 <p><span class="italic"><code class="codeph">snapshot</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e1373 d176644e1368 ">
                                 <p>Specifies a name for the snapshot. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e1382" headers="d176644e1365 ">
                                 <p><span class="italic"><code class="codeph">mount_point</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e1382 d176644e1368 ">
                                 <p>Specifies the directory where the file system is mounted.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">delete</code> deletes the snapshot named <span class="italic"><code class="codeph">snapshot</code></span> in the Oracle ACFS mounted on <span class="italic"><code class="codeph">mount_point</code></span>. After successful completion of the command, the representation of the snapshot in the<code class="codeph">.ACFS/snaps</code> directory is removed. The command succeeds even if there are open files or directory references; however, storage associated with the snapshot is not released until all such references are closed.
                     </p>
                     <p>The disk space used by the snapshot being deleted is released by a background task after the completion of the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">delete</code> command or after the last close of a file in the snapshot. If one of these background threads is running to clean up a deleted snapshot, then the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code> command shows a pending delete operation. For information about the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code> command, refer to <span class="q">"<a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051">acfsutil snap info</a>"</span>. 
                     </p>
                     <p>The <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">delete</code> operation fails if the cluster is in rolling migration.
                     </p>
                     <p>Administrator privileges are required to use this command or you must be a member of the Oracle ASM administrator group.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0__GUID-6BDB8E30-C02A-4218-BE79-DCA8C24FAE87">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a href="acfs-commands-snapshots.html#GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0__BABJFCDD">Example 16-87</a> shows the use of the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">delete</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0__BABJFCDD">
                     <p class="titleinexample">Example 16-87 Using the acfsutil snap delete command</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil snap delete midday_test1 /acfsmounts/critical_apps
acfsutil snap delete: Snapshot operation is complete.</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56" name="GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56"></a><h3 id="OSTMG-GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56" class="sect3">acfsutil snap duplicate apply</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56__GUID-950E0EA5-3323-4CA9-B892-15195FFB163F">Purpose</p>
                     <p>Applies a previously created duplicated snapshot to an Oracle ACFS snapshot or file system.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56__GUID-1213CA21-FBAB-459F-82DE-5E46F0159EDC">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">acfsutil snap duplicate apply -h
acfsutil snap duplicate apply [-b | -B <span class="italic">snap_shot</span>] [-d <span class="italic">trace_level</span>] [<span class="italic">snap_shot</span>] <span class="italic">mount_point</span></pre><p><code class="codeph">acfsutil snap duplicate apply</code> <code class="codeph">-h</code> displays help text and exits.
                     </p>
                     <p>The following table contains the options available with the <code class="codeph">acfsutil snap duplicate apply</code> command.
                     </p>
                     <div class="tblformal" id="GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56__OPTIONSFORTHEACFSUTILSNAPDUPLICATEA-881F6243">
                        <p class="titleintable">Table 16-92 Options for the acfsutil snap duplicate apply command</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsutil snap duplicate apply command" summary="This table lists the options for the acfsutil snap duplicate apply command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d176644e1671">Option</th>
                                 <th align="left" valign="bottom" width="69%" id="d176644e1674">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e1679" headers="d176644e1671 ">
                                    <p><code class="codeph">—b</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e1679 d176644e1674 ">
                                    <p>Specifies that a backup snapshot is generated after a successful completion of the command. The name of the backup is generated in the format <code class="codeph">SDBACKUP_seccnt_sourcesnap_targetsnap</code>, which is described in the text of this topic.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e1690" headers="d176644e1671 ">
                                    <p><code class="codeph">—B <span class="codeinlineitalic">snap_shot</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e1690 d176644e1674 ">
                                    <p>Specifies that a backup snapshot with the name specified is generated after a successful completion of the command.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e1700" headers="d176644e1671 ">
                                    <p><code class="codeph">-d</code> <span class="italic"><code class="codeph">trace_level</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e1700 d176644e1674 ">
                                    <p>Specifies the trace level setting [0..6] for the command execution.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e1712" headers="d176644e1671 ">
                                    <p><span class="italic"><code class="codeph">snap_shot</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e1712 d176644e1674 ">
                                    <p>Specifies that the named snapshot of that file system is the target. The specified snapshot must exist and must be writable. If the <span class="italic">snap_shot</span> is not specified, the target for the apply operation is the file system currently mounted at the mount point
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e1724" headers="d176644e1671 ">
                                    <p><span class="italic"><code class="codeph">mount_point</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e1724 d176644e1674 ">
                                    <p>Specifies the directory where the duplicate snapshot is applied.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <code class="codeph">acfsutil</code>  <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code> command uses the snapshot duplication stream produced by <code class="codeph">acfsutil snap duplicate create</code> to update the specified target file system or snapshot. The stream of data is read from the standard input.
                     </p>
                     <p>If the target has never been applied to by a <code class="codeph">acfsutil</code>  <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code> operation, this is an initial apply, and the target must be initially empty. If the target has been applied to by a previous apply operation, this is an incremental apply, and the initial contents of the target must match the contents of the older snapshot used to produce the snapshot duplication stream.
                     </p>
                     <p>If the contents of the target no longer match the older snapshot for the stream, the command returns an error and the stream is not applied. The target must not be updated by other means while the apply operation is in progress. If another update occurs, the command returns an error and stops applying the snapshot duplication stream. If the data stream being applied is identical to the last data stream applied to the specified target, the command exits without writing anything to the target with a status value of <code class="codeph">2</code>.
                     </p>
                     <p>If the <code class="codeph">-b</code> or <code class="codeph">—B</code> option is specified, then a backup snapshot is taken of the target after the apply operation completes the update. Because the snapshot taken for an apply operation is automatically deleted when the next apply operation completes, the snapshot present is the one from the last-completed apply operation. The backup snapshot provides a known and consistent version of the target for the last successful apply operation and a comparison point to identify the in-progress changes made by a <code class="codeph">acfsutil snap duplicate apply</code> operation.
                     </p>
                     <p>If a name was not specified with the <code class="codeph">—B</code> option, then a backup snapshot has a name of the form <code class="codeph">SDBACKUP_seccnt_sourcesnap</code> or <code class="codeph">SDBACKUP_seccnt_sourcesnap_targetsnap</code>. In the name string, <code class="codeph">seccnt</code> is a local timestamp (number of seconds since the Unix epoch) indicating the point at which the target was captured by the backup snapshot. <code class="codeph">sourcesnap</code> indicates the snapshot from the source file system that was applied by the last completed <code class="codeph">acfsutil snap duplicate apply</code> operation. <code class="codeph">targetsnap</code>, if present, indicates the snapshot name in the target file system that was updated by the last completed <code class="codeph">acfsutil</code>  <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code> operation.
                     </p>
                     <p>System administrator (<code class="codeph">root</code>) privileges are required to use this command.
                     </p>
                     <p>The <code class="codeph">acfsutil</code>  <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code> command produces an exit status of <code class="codeph">0</code> on success, <code class="codeph">1</code> if a fatal error occurs, or <code class="codeph">2</code> if the data stream read matches the last previous data stream applied to the specified target.
                     </p>
                     <p>For information about displaying snapshot information, refer to <span class="q">"<a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051">acfsutil snap info</a>"</span>. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56__GUID-DE260DB1-B0B8-467E-A57A-0137504D55D3">Examples</p>
                     <p><a href="acfs-commands-snapshots.html#GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56__GUID-7162793D-281D-467A-B77C-D3D3E3E0FD2D">Example 16-88</a> shows the use of the <code class="codeph">acfsutil</code>  <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code> command. Because the command expects to read a binary data stream from its standard input, this command is normally used in a pipeline with the <code class="codeph">acfsutil</code>  <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">create</code> command, as shown in the example.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56__GUID-7162793D-281D-467A-B77C-D3D3E3E0FD2D">
                     <p class="titleinexample">Example 16-88 Using the acfsutil snap duplicate apply command</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil snap duplicate create new_snapshot_name /acfsmounts/critical_apps | \
      /sbin/acfsutil snap duplicate apply /acfsmounts/ca_backups
</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087" name="GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087"></a><h3 id="OSTMG-GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087" class="sect3">acfsutil snap duplicate create</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087__GUID-5A97ED77-9CF1-4CC8-BC8D-633B47C360CD">Purpose</p>
                     <p>Creates a duplicate snapshot of an existing snapshot.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087__GUID-E6810AE0-B6D1-4FA6-BFE3-0339DB46537F">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">acfsutil snap duplicate create -h
acfsutil snap duplicate create [-r] [-d <span class="italic">trace_level</span>] [-p <span class="italic">parent_snapshot</span>]
                               [-i <span class="italic">old_snapshot</span>] <span class="italic">new_snapshot</span> <span class="italic">mount_point</span>
</pre><p><code class="codeph">acfsutil snap duplicate create</code> <code class="codeph">-h</code> displays help text and exits.
                     </p>
                     <p><a href="acfs-commands-snapshots.html#GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087__GUID-63929EDD-EB45-448C-8D55-BB1FDBFCB3FE" title="This table lists the options for the acfsutil snap duplicate create command, along with a description for each option">Table 16-93</a> contains the options available with the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">create</code> command.
                     </p>
                     <div class="tblformal" id="GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087__GUID-63929EDD-EB45-448C-8D55-BB1FDBFCB3FE">
                        <p class="titleintable">Table 16-93 Options for the acfsutil snap duplicate create command</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsutil snap duplicate create command" summary="This table lists the options for the acfsutil snap duplicate create command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d176644e2096">Option</th>
                                 <th align="left" valign="bottom" width="69%" id="d176644e2099">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2104" headers="d176644e2096 ">
                                    <p><code class="codeph">-r</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2104 d176644e2099 ">
                                    <p>Specifies to mark the snap duplication stream as a restart stream. This option is intended for use on the second or later attempt to create and apply a given stream. This option might be necessary if an earlier attempt terminated prematurely.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2112" headers="d176644e2096 ">
                                    <p><code class="codeph">-d </code><span class="italic">trace_level</span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2112 d176644e2099 ">
                                    <p>Specifies the trace level setting [0..6] for the command execution.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2122" headers="d176644e2096 ">
                                    <p><code class="codeph">-p</code> <span class="italic"><code class="codeph">parent_snapshot</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2122 d176644e2099 ">
                                    <p>Specifies the name of a parent snapshot image of which both the <code class="codeph"><span class="codeinlineitalic">old_snapshot</span></code> and <code class="codeph"><span class="codeinlineitalic">new_snapshot</span></code> are children.
                                    </p>
                                    <p>This option ensures that both snapshots are children (<span class="italic">snap-of-snap</span>) of the same snapshot. If the <code class="codeph">—p</code> option is not specfied, then either the <code class="codeph"><span class="codeinlineitalic">new_snapshot</span></code> must be a child of the <code class="codeph"><span class="codeinlineitalic">old_snapshot</span></code>, or the two snapshots must be snapshots of the base file system at the specified mount point.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2158" headers="d176644e2096 ">
                                    <p><code class="codeph">—i</code> <span class="italic"><code class="codeph">old_snapshot</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2158 d176644e2099 ">
                                    <p>Specifies the name of an existing snapshot.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2170" headers="d176644e2096 ">
                                    <p><span class="italic"><code class="codeph">new_snapshot</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2170 d176644e2099 ">
                                    <p>Specifies a name for the new snapshot. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2179" headers="d176644e2096 ">
                                    <p><span class="italic"><code class="codeph">mount_point</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2179 d176644e2099 ">
                                    <p>Specifies the directory where the file system is mounted. This is the mount point of the file system of which the snapshots were taken.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">create</code> command externalizes snapshot-related data in a form suitable for use by snap duplicate apply to create a different instance of a compatible snapshot. This externalized data is called a snapshot duplication stream.
                     </p>
                     <p>If only the new snapshot name is specified, then this command encodes the entire contents of the named snapshot (the difference between an empty snapshot and this snapshot). This is an initial snap duplicate operation. </p>
                     <p>If both the old snapshot name and new snapshot name are given, this command encodes only the differences between the two snapshots. This is an incremental snap duplicate operation. </p>
                     <p>In either case, this command writes the snapshot duplication stream to its standard output. </p>
                     <p>System administrator (<code class="codeph">root</code>) privileges are required to use this command.
                     </p>
                     <p>The <code class="codeph">acfsutil</code>  <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">create</code> command produces an exit status of <code class="codeph">0</code> on success or <code class="codeph">1</code> if a fatal error occurs.
                     </p>
                     <p>For information about displaying snapshot information, refer to <span class="q">"<a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051">acfsutil snap info</a>"</span>. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087__GUID-01845992-D36E-4F2C-94AC-4B92CA722862">Examples</p>
                     <p><a href="acfs-commands-snapshots.html#GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087__GUID-98F6BB5E-D870-4D2A-A9D4-5346C72AFCCA">Example 16-89</a> shows the use of the <code class="codeph">acfsutil</code>  <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">create</code> command. Because the command writes a binary data stream to its standard output, this command is normally used in a pipeline with the <code class="codeph">acfsutil</code>  <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code> command, as shown in the example.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087__GUID-98F6BB5E-D870-4D2A-A9D4-5346C72AFCCA">
                     <p class="titleinexample">Example 16-89 Using the acfsutil snap duplicate create command</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil snap duplicate create new_snapshot_name /acfsmounts/critical_apps | \
      /sbin/acfsutil snap duplicate apply /acfsmounts/ca_backups
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG95252"></a><a id="OSTMG95253"></a><a id="OSTMG95254"></a><a id="OSTMG95255"></a><a id="OSTMG95256"></a><a id="OSTMG95598"></a><a id="OSTMG95251"></a><div class="props_rev_3"><a id="GUID-519612AC-CFC1-4842-AEC1-CE271BF35051" name="GUID-519612AC-CFC1-4842-AEC1-CE271BF35051"></a><h3 id="OSTMG-GUID-519612AC-CFC1-4842-AEC1-CE271BF35051" class="sect3">acfsutil snap info</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-519612AC-CFC1-4842-AEC1-CE271BF35051__GUID-C0C07AE6-09C7-463D-A96D-0A76FC24038A">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Displays information about Oracle ACFS file system snapshots.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-519612AC-CFC1-4842-AEC1-CE271BF35051__GUID-A571E14A-EBE4-49E5-90E8-527246746F7F">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">acfsutil snap info -h
acfsutil snap info [-t] [<span class="italic">snap_shot</span>] <span class="italic">mount_point</span></pre><p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code> <code class="codeph">-h</code> displays help text and exits.
                     </p>
                     <p>The following table contains the options available with the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-519612AC-CFC1-4842-AEC1-CE271BF35051__BABHBFFH">
                     <p class="titleintable">Table 16-94 Options for the acfsutil snap info command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsutil snap info command" summary="This table lists the options for the acfsutil snap info command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d176644e2476">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d176644e2479">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e2484" headers="d176644e2476 ">
                                 <p><code class="codeph">-t</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e2484 d176644e2479 ">
                                 <p>Displays a tree structure for the specified snapshot and mount point.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e2492" headers="d176644e2476 ">
                                 <p><span class="italic"><code class="codeph">snap_shot</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e2492 d176644e2479 ">
                                 <p>Specifies a name for the snapshot. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e2501" headers="d176644e2476 ">
                                 <p><span class="italic"><code class="codeph">mount_point</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e2501 d176644e2479 ">
                                 <p>Specifies the directory where the file system is mounted.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>The <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code> command displays information about an individual specified snapshot or all snapshots in the specified Oracle ACFS file system.
                     </p>
                     <p>The snapshot name, snapshot type, parent name, creation date and time, and space used are displayed. The parent name is either the mount point, or the parent snapshot if the snapshot was created from an existing snapshot.</p>
                     <p>The type of a snapshot is indicated by one or more of the following strings.&nbsp;Any relevant strings are displayed on the same line.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">RO</code> - snapshot is read-only 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">RW</code> - snapshot is read-write 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">Primary</code> - snapshot is a primary storage location for replication
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">Standby</code> - snapshot is a standby storage location for replication
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">REPL</code> - snapshot is an internal snapshot used by replication
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DUP</code> - snapshot or its parent is a target of snap duplicate apply
                           </p>
                        </li>
                     </ul>
                     <p>The appearance of the string <code class="codeph">REPL</code> is not related to whether a snapshot is a replication primary or standby.&nbsp;This string appears only if the snapshot is one that was created by replication for its own internal use.
                     </p>
                     <p>The string <code class="codeph">DUP</code> appears if either of the following conditions is true:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The snapshot is in use as the target of an apply operation.</p>
                        </li>
                        <li>
                           <p>The parent of the snapshot was in use as the target of an apply operation at the point when the snapshot was created.</p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">snapshot</code> <code class="codeph">space</code> <code class="codeph">usage</code> amount includes snapshot metadata. If all the files are deleted from a snapshot, some metadata still remains and that amount is displayed with <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code>.
                     </p>
                     <p>When using an accelerator volume, the reported <code class="codeph">snapshot</code> <code class="codeph">space</code> <code class="codeph">usage</code> amount can include space that is in use on the accelerator volume.
                     </p>
                     <p>To reclaim the disk space used by snapshots, delete the snapshots. Deleting the files within the snapshots may not reclaim this disk space.</p>
                     <p>The <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code> command shows the status of a snapshot that is in the process of being deleted as follows:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>When waiting on files to be closed:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">snapshot_name</span> (delete waiting for last close)</pre></li>
                        <li>
                           <p>When freeing the storage for the snapshot in the background:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">snapshot_name</span> (delete in progress)</pre></li>
                     </ul>
                     <p>Oracle ACFS caches and asynchronously updates snapshot storage usage statistics. If an Oracle ASM instance is killed, power is lost to the machine, or the Oracle ACFS file system goes offline for any reason, one of these cached updates may be lost. This loss can result in the display of a message similar to <code class="codeph">Reported</code> <code class="codeph">snapshot</code> <code class="codeph">space</code> <code class="codeph">usage</code> <code class="codeph">is</code> <code class="codeph">inaccurate</code> when <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code> is run.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-519612AC-CFC1-4842-AEC1-CE271BF35051__GUID-545F9BFB-693B-4E43-9C96-A82EC140B10C">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051__BABJEDFG">Example 16-90</a> shows the use of the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code> command on a Linux platform. The command output contains information about a read-only (RO) snapshot, a read-write (RW) snapshot with quota information, a snapshot in <code class="codeph">delete</code> <code class="codeph">waiting</code> <code class="codeph">for</code> <code class="codeph">last</code> <code class="codeph">close</code> status, and a snapshot in <code class="codeph">delete</code> <code class="codeph">in</code> <code class="codeph">progress</code> status. After a delete operation completes on a snapshot and the background process finishes the clean up of a deleted snapshot, messages about the delete operation do not appear in the output.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-519612AC-CFC1-4842-AEC1-CE271BF35051__BABJEDFG">
                     <p class="titleinexample">Example 16-90 Using the acfsutil snap info command on Linux</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil snap info /acfsmounts/critical_apps/
snapshot name:               midday_test (delete waiting for last close)
snapshot creation time:      Tue Apr  5 10:52:55 2016


snapshot name:               payroll_report1
snapshot location:           /acfsmounts/critical_apps/.ACFS/snaps/payroll_report1
RO snapshot or RW snapshot:  RW
parent name:                 /acfsmounts/critical_apps/
snapshot creation time:      Tue Apr  5 10:52:59 2016
storage added to snapshot:   95514624   (  91.09 MB )

quota:                       104857600  ( 100.00 MB )
quota usage:                 91 %


snapshot name:               midday_test2 (delete in progress)
snapshot creation time:      Mon Apr 11 11:40:13 2016


snapshot name:               payroll_report2
snapshot location:           /acfsmounts/critical_apps/.ACFS/snaps/payroll_report2
RO snapshot or RW snapshot:  RO
parent name:                 midday_test2
snapshot creation time:      Mon Apr 11 12:05:42 2016
storage added to snapshot:   1081344   (   1.03 MB )


    number of snapshots:  3 (active)
                          1 (delete in progress)
        snapshot space usage: 102084608  (  97.36 MB )


$ /sbin/acfsutil snap info -t /acfsmounts/critical_apps
/acfsmounts/critical_apps RW    
midday_test               RW    /acfsmounts/critical_apps
payroll_report1           RW    /acfsmounts/critical_apps
midday_test2              RW    /acfsmounts/critical_apps
payroll_report2           RO    midday_test2 


$ /sbin/acfsutil snap info -t midday_test2 /acfsmounts/critical_apps
midday_test2              RW    
payroll_report2           RO    midday_test2 </pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p><a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051__BABDJAHC">Example 16-91</a> shows the use of the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code> command on a Windows platform.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-519612AC-CFC1-4842-AEC1-CE271BF35051__BABDJAHC">
                     <p class="titleinexample">Example 16-91 Using the acfsutil snap info command on Windows</p><pre class="oac_no_warn" dir="ltr">C:\oracle&gt; acfsutil snap info e:
snapshot name:               MIDDAY_TEST (delete waiting for last close)
snapshot creation time:      Wed Apr 13 12:44:15 2016

snapshot name:               PAYROLL_REPORT1
snapshot location:           e:\.ACFS\snaps\PAYROLL_REPORT1
RO snapshot or RW snapshot:  RW
parent name:                 e:
snapshot creation time:      Wed Apr 13 12:45:00 2016
storage added to snapshot:   18866176   (  17.99 MB )

quota:                       104857600  ( 100.00 MB )
quota usage:                 17 %

snapshot name:               MIDDAY_TEST2 (delete in progress)
snapshot creation time:      Wed Apr 13 12:48:07 2016


snapshot name:               PAYROLL_REPORT2
snapshot location:           e:\.ACFS\snaps\PAYROLL_REPORT2
RO snapshot or RW snapshot:  RO
parent name:                 MIDDAY_TEST2
snapshot creation time:      Wed Apr 13 12:50:34 2016
storage added to snapshot:   1081344   (   1.03 MB )


    number of snapshots:  3 (active)
                          1 (delete in progress)
        snapshot space usage: 362557440  ( 345.76 MB )


C:\oracle&gt; acfsutil snap info /t e:
e:                        RW    
MIDDAY_TEST               RW    e:
PAYROLL_REPORT1           RW    e:
MIDDAY_TEST2              RW    e:
PAYROLL_REPORT2           RO    MIDDAY_TEST2


C:\oracle&gt; acfsutil snap info /t MIDDAY_TEST2 e:
MIDDAY_TEST2              RW    
PAYROLL_REPORT2           RO    MIDDAY_TEST2
</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-316DADD7-A589-4D08-A437-F708CA4797FB" name="GUID-316DADD7-A589-4D08-A437-F708CA4797FB"></a><h3 id="OSTMG-GUID-316DADD7-A589-4D08-A437-F708CA4797FB" class="sect3">acfsutil snap link</h3>
               <div>
                  <p></p>
                  <div class="section">
                     <p class="subhead2" id="GUID-316DADD7-A589-4D08-A437-F708CA4797FB__GUID-F139B3B0-C506-4475-9DF1-3B215198F2D4">Purpose</p>
                     <p>Creates or deletes a snapshot link.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-316DADD7-A589-4D08-A437-F708CA4797FB__GUID-040AEA15-D20F-4D0E-85D7-BA6135E548DB">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">acfsutil snap link -h
acfsutil snap link -s <span class="italic">snap_shot</span> <span class="italic">path_to_link</span>
acfsutil snap link -s <span class="italic">snap_shot</span> -d <span class="italic">path_to_link</span></pre><p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">link</code> <code class="codeph">-h</code> displays help text and exits.
                     </p>
                     <p>The following table contains the options available with the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">link</code> command.
                     </p>
                     <div class="tblformal" id="GUID-316DADD7-A589-4D08-A437-F708CA4797FB__OPTIONSFORTHEACFSUTILSNAPLINKCOMMAN-F0B51AAB">
                        <p class="titleintable">Table 16-95 Options for the acfsutil snap link command</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsutil snap link command" summary="This table lists the options for the acfsutil snap link command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d176644e2924">Option</th>
                                 <th align="left" valign="bottom" width="69%" id="d176644e2927">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2932" headers="d176644e2924 ">
                                    <p><code class="codeph">—s <span class="codeinlineitalic">snap_shot</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2932 d176644e2927 ">
                                    <p>Specifies the name of an Oracle ACFS snapshot in the Oracle ACFS file system.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2942" headers="d176644e2924 ">
                                    <p><code class="codeph">-d</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2942 d176644e2927 ">
                                    <p>Deletes the specified snapshot link.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2951" headers="d176644e2924 ">
                                    <p><span class="italic"><code class="codeph">path_to_link</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2951 d176644e2927 ">
                                    <p>Specifies a directory in the Oracle ACFS file system.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>You can create or delete snapshot links with the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">link</code> command. A snapshot link provides access to the contents of a snapshot using an alternate path which does not include the <code class="codeph">.ACFS/snaps</code> directory, the default location where snapshot are created.
                     </p>
                     <p></p>
                     <p>A snapshot link is a specialized hard link that requires that only one snapshot link may exist for a snapshot. Snapshot links can only be created in the primary file system, not within another snapshot. Snapshot links can be recreated to change the name or location of the snapshot link. The name that you specify for a snapshot link does not have to be the same as the name or the snapshot to which it links. A snapshot link does require on disk changes and the <code class="codeph">COMPATIBLE.ADVM</code> disk group attribute must be set to <code class="codeph">18.0</code> or higher. Snapshot links can only be created and deleted with the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">link</code> command. The links cannot be moved or removed with normal operating system commands.
                     </p>
                     <p>You can display information about snapshot links with the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code> command. You can use <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code> <code class="codeph"><span class="codeinlineitalic">snap_shot</span></code> to determine whether the specified snapshot has a link.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-316DADD7-A589-4D08-A437-F708CA4797FB__GUID-132B033C-D0C1-4740-8025-E8C4648A9FEF">Examples</p>
                     <p>The following example shows the use of the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">link</code> command. After a new snapshot is created, a link is created to the new snapshot.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-316DADD7-A589-4D08-A437-F708CA4797FB__GUID-1A033CD7-2FE4-4B60-8DDF-AC975BCD4483">
                     <p class="titleinexample">Example 16-92 Using the acfsutil snap link command</p>
                     <p></p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil snap create -w snap1 /usmmnt  
acfsutil snap create: Snapshot operation is complete.

$ /sbin/acfsutil snap link -s snap1 /usmmnt/dir1/link
acfsutil snap link: Snapshot operation is complete.

$ /sbin/acfsutil snap info /usmmnt
snapshot name:               snap1
snapshot location:           /usmmnt/.ACFS/snaps/snap1
snapshot link:               /usmmnt/dir1/link
RO snapshot or RW snapshot:  RW
parent name:                 /usmmnt
...</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565" name="GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565"></a><h3 id="OSTMG-GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565" class="sect3">acfsutil snap quota</h3>
               <div>
                  <p></p>
                  <div class="section">
                     <p class="subhead2" id="GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565__GUID-8D0951D8-AC1B-4857-AED5-9EF3F048637B">Purpose</p>
                     <p>Sets the quota limit for a specified snapshot.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565__GUID-292CD0C3-469A-4484-8D52-3A32D4528CBE">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">acfsutil -h snap quota

acfsutil snap quota [+|-]<span class="italic">n</span>[K|M|G|T|P] <span class="italic">snapshot</span> <span class="italic">mount_point</span></pre><p><code class="codeph">acfsutil</code> <code class="codeph">—h</code> <code class="codeph">snap</code> <code class="codeph">quota</code> displays help text and exits.
                     </p>
                     <p>The following table contains the options available with the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">quota</code> command.
                     </p>
                     <div class="tblformal" id="GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565__OPTIONSFORTHEACFSUTILSNAPQUOTACOMMA-FEB3BC6E">
                        <p class="titleintable">Table 16-96 Options for the acfsutil snap quota command</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsutil snap quota command" summary="This table lists the options for the acfsutil snap quota command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d176644e3230">Option</th>
                                 <th align="left" valign="bottom" width="69%" id="d176644e3233">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3238" headers="d176644e3230 ">
                                    <p>[<code class="codeph">+</code>|<code class="codeph">-</code>]<span class="italic"><code class="codeph">n</code></span></p>
                                    <p><code class="codeph">K</code>|<code class="codeph">M</code>|<code class="codeph">G</code>|<code class="codeph">T</code>|<code class="codeph">P</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3238 d176644e3233 ">
                                    <p>Specifies the quota limit size for the Oracle ACFS snapshot where <span class="italic"><code class="codeph">n</code></span> is a valid positive whole number greater than zero. The number can be preceded by a <code class="codeph">+</code> or - to indicate the amount to add or decrease. If no operand exists, the new size is the absolute size.
                                    </p>
                                    <p>Specifies that the integer supplied for size is in the units of <code class="codeph">K</code> (Kilobytes), <code class="codeph">M</code> (Megabytes), <code class="codeph">G</code> (Gigabytes), <code class="codeph">T</code> (Terabytes), or <code class="codeph">P</code> (Petabytes). If the unit indicator is specified, then it must be appended to the integer. If omitted, the default unit is bytes.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3293" headers="d176644e3230 ">
                                    <p><span class="italic"><code class="codeph">snapshot</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3293 d176644e3233 ">
                                    <p>Specifies a name of the snapshot. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3302" headers="d176644e3230 ">
                                    <p><span class="italic"><code class="codeph">mount_point</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3302 d176644e3233 ">
                                    <p>Specifies the directory where the file system is mounted. </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The acfsutil snap quota command sets the quota limit for a specified snapshot on the specified Oracle ACFS file system. </p>
                     <p>The quota can be larger than the size of the file system because a file system can be resized or automatically resized. </p>
                     <p>The quota limit specified does not reserve space. The quota only establishes an upper limit on the amount of storage that can be added to the snapshot.</p>
                     <p>Only snapshots created after ADVM compatibility (<code class="codeph">COMPATIBLE.ADVM</code>) has been set to <code class="codeph">12.2</code> or greater have storage accounting tracking and the ability to have quotas set.
                     </p>
                     <p>Snapshots can be converted from read-write (RW) to read-only (RO) and vice versa. Both RW and RO snapshots can have a quota.</p>
                     <p>There is a grace period and advanced warnings for quota usage. A warning message is written to both the alert log and the console if the requested storage allocation causes the local storage usage to be near or exceeding more than <code class="codeph">90%</code> of the quota. If an allocation exceeds the quota, then the write or other modifying operation fails as <code class="codeph">EDQUOT</code>, or it may fail as <code class="codeph">ENOSPC</code>, depending whether the quota limit is set larger than the size of the file system. 
                     </p>
                     <p>System administrator (<code class="codeph">root</code>) privileges are required to use this command.
                     </p>
                     <p>You can display snapshot information, including the quota limit and quota usage percentage, with the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code> command. For information about <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code>, refer to <span class="q">"<a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051">acfsutil snap info</a>"</span>. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565__GUID-2CA85798-69ED-4E29-B202-52EC3E97AC97">Examples</p>
                     <p>The following example shows the use of the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">quota</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565__GUID-6645765C-8089-4A84-9C4D-97F430C83766">
                     <p class="titleinexample">Example 16-93 Using the acfsutil snap quota command</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil snap quota +500M snap_test /acfsmounts/acfs1</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87" name="GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87"></a><h3 id="OSTMG-GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87" class="sect3">acfsutil snap remaster</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87__GUID-361DFA25-ADD2-48E9-820F-8FD178EA17AB">Purpose</p>
                     <p>Remasters an Oracle ACFS file system with a snapshot.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87__GUID-97156F08-6136-443D-9038-CE79C0260347">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">acfsutil snap remaster -h
acfsutil snap remaster { <span class="italic">snapshot</span> | -c } -f <span class="italic">volume</span></pre><p><code class="codeph">acfsutil snap remaster</code> <code class="codeph">-h</code> displays help text and exits.
                     </p>
                     <p><a href="acfs-commands-snapshots.html#GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87__OPTIONSFORTHEACFSUTILSNAPREMASTERCO-89AAFC31" title="This table lists the options for the acfsutil snap remaster command, along with a description for each option">Table 16-97</a> contains the options available with the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">remaster</code> command.
                     </p>
                     <div class="tblformal" id="GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87__OPTIONSFORTHEACFSUTILSNAPREMASTERCO-89AAFC31">
                        <p class="titleintable">Table 16-97 Options for the acfsutil snap remaster command</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsutil snap remaster command" summary="This table lists the options for the acfsutil snap remaster command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d176644e3574">Option</th>
                                 <th align="left" valign="bottom" width="69%" id="d176644e3577">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3582" headers="d176644e3574 ">
                                    <p><code class="codeph">—c</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3582 d176644e3577 ">
                                    <p>Continues the interrupted remaster operation. After the command has started, the remastering must run to completion.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3590" headers="d176644e3574 ">
                                    <p><code class="codeph">—f</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3590 d176644e3577 ">
                                    <p>Forces the operation and does not prompt for questions.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3598" headers="d176644e3574 ">
                                    <p><span class="italic"><code class="codeph">snapshot</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3598 d176644e3577 ">
                                    <p>Specifies the name of an existing snapshot.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3607" headers="d176644e3574 ">
                                    <p><span class="italic"><code class="codeph">volume</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3607 d176644e3577 ">
                                    <p>Specifies specifies the primary Oracle ADVM volume device path for the file system.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>This command accepts a snapshot name or the <code class="codeph">—c</code> option.
                     </p>
                     <p>The specified snapshot is used for the base of the file system, replacing the current base of the file system. Using an existing read-only or read-write snapshot, the command reintegrates the snapshot extents into the base of the current file system creating a new remastered file system with the point in time state of the snapshot. The remastered file system is left with no snapshots. This operation must be done on an unmounted file system and it cannot be reversed.</p>
                     <p>Use the <code class="codeph">-c</code> option, instead of the snapshot name, to complete an interrupted snapshot remastering.
                     </p>
                     <p>You cannot remaster a file system on which replication, security, or encryption is running. You must terminate replication, security, or encryption before running the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">remaster</code> command. In addition, you cannot remaster a file system with plugins enabled.
                     </p>
                     <p>Administrator privileges are required to use this command or you must be a member of the Oracle ASM administrator group.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87__GUID-F2A769C2-96FD-46B3-8358-AF9909AD5202">Examples</p>
                     <p><a href="acfs-commands-snapshots.html#GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87__GUID-9554080D-A674-4831-8DD0-897A329B35BD">Example 16-94</a> shows the use of the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">remaster</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87__GUID-9554080D-A674-4831-8DD0-897A329B35BD">
                     <p class="titleinexample">Example 16-94 Using the acfsutil snap remaster command</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil snap remaster snapshot volume</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1" name="GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1"></a><h3 id="OSTMG-GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1" class="sect3">acfsutil snap rename</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1__GUID-E877910D-8442-4FAC-AD81-187DF3B7FA5F">Purpose</p>
                     <p>Renames an Oracle ACFS snapshot.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1__GUID-68F99A2D-B4AC-4CC5-A178-E869B0F57267">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">acfsutil snap rename -h
acfsutil snap rename <span class="italic">old_snapshot</span> <span class="italic">new_snapshot</span> <span class="italic">mount_point</span></pre><p><code class="codeph">acfsutil snap rename</code> <code class="codeph">-h</code> displays help text and exits.
                     </p>
                     <p><a href="acfs-commands-snapshots.html#GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1__OPTIONSFORTHEACFSUTILSNAPRENAMECOMM-F4638335" title="This table lists the options for the acfsutil snap rename command, along with a description for each option">Table 16-98</a> contains the options available with the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate create</code> command.
                     </p>
                     <div class="tblformal" id="GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1__OPTIONSFORTHEACFSUTILSNAPRENAMECOMM-F4638335">
                        <p class="titleintable">Table 16-98 Options for the acfsutil snap rename command</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsutil snap rename command" summary="This table lists the options for the acfsutil snap rename command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d176644e3850">Option</th>
                                 <th align="left" valign="bottom" width="69%" id="d176644e3853">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3858" headers="d176644e3850 ">
                                    <p><span class="italic"><code class="codeph">old_snapshot</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3858 d176644e3853 ">
                                    <p>Specifies the name of an existing snapshot.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3867" headers="d176644e3850 ">
                                    <p><span class="italic"><code class="codeph">new_snapshot</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3867 d176644e3853 ">
                                    <p>Specifies a name for the new snapshot. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3876" headers="d176644e3850 ">
                                    <p><span class="italic"><code class="codeph">mount_point</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3876 d176644e3853 ">
                                    <p>Specifies the directory where the file system is mounted.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">rename</code>command is used to safely rename an existing snapshot in the filesystem.
                     </p>
                     <p>While a snapshot with open files can be renamed, applications accessing files in that snapshot experience the same behavior as operating in a non-snap directory tree in which one of the parent directories was renamed. </p>
                     <p>Renaming snapshots used in conjunction with pluggable databases (PDBs) is not supported at this time. Such a snapshot should not be renamed. </p>
                     <p>Replication-specific snapshots cannot be renamed as this may cause complications and inconsistencies with replication.</p>
                     <p>Administrator privileges are required to use this command or you must be a member of the Oracle ASM administrator group.</p>
                     <p>For information about displaying snapshot information, refer to <span class="q">"<a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051">acfsutil snap info</a>"</span>. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1__GUID-01845992-D36E-4F2C-94AC-4B92CA722862">Examples</p>
                     <p><a href="acfs-commands-snapshots.html#GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1__GUID-4070F287-BF81-4C8A-9A85-B5C9E7E52716">Example 16-95</a> shows the use of the <code class="codeph">acfsutil snap rename</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1__GUID-4070F287-BF81-4C8A-9A85-B5C9E7E52716">
                     <p class="titleinexample">Example 16-95 Using the acfsutil snap rename command</p><pre class="oac_no_warn" dir="ltr">$ /sbin/acfsutil snap rename old_snapshot_name new_snapshot_name /acfsmounts/critical_apps
</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>