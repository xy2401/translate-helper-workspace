<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The information in this section describes how to get started using Oracle Data Guard.">
      <meta name="description" content="The information in this section describes how to get started using Oracle Data Guard.">
      <title>Getting Started with Oracle Data Guard</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Concepts and Administration ">
      <meta property="og:description" content="The information in this section describes how to get started using Oracle Data Guard.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Concepts and Administration">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-guard-concepts-and-administration.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T10:50:21-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96244-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="introduction-to-oracle-data-guard-concepts.html" title="Previous" type="text/html">
      <link rel="next" href="creating-oracle-data-guard-physical-standby.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Concepts and Administration">
    <meta name="dcterms.isVersionOf" content="SBYDB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="introduction-to-oracle-data-guard-concepts.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="creating-oracle-data-guard-physical-standby.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Concepts and Administration </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-guard-concepts.html" property="item" typeof="WebPage"><span property="name">  Concepts and Administration </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Getting Started with Oracle Data Guard</li>
            </ol>
            <a id="GUID-31EBC212-59E1-4536-A884-EFA9FE3DFD84" name="GUID-31EBC212-59E1-4536-A884-EFA9FE3DFD84"></a><a id="SBYDB00100"></a>
            
            <h2 id="SBYDB-GUID-31EBC212-59E1-4536-A884-EFA9FE3DFD84" class="sect2"><span class="enumeration_chapter">2 </span> Getting Started with Oracle Data Guard
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The information in this section describes how to get started using Oracle Data Guard.</p>
               <p>See the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="getting-started-with-oracle-data-guard.html#GUID-4CAD29A7-28FD-40B4-A223-F69A302B1E00" title="A standby database is a transactionally consistent copy of an Oracle production database that is initially created from a backup copy of the primary database.">Standby Database Types</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oracle-data-guard.html#GUID-AC2A6894-9805-4969-9746-0D43EE7F8767" title="Oracle Data Guard provides several interfaces that you can use to configure, implement, and manage an Oracle Data Guard configuration.">User Interfaces for Administering Oracle Data Guard Configurations</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oracle-data-guard.html#GUID-62F35117-0A9C-47E9-82B6-7E3B214B28B7" title="The use of Oracle Data Guard requires certain hardware and software prerequisites.">Oracle Data Guard Operational Prerequisites</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oracle-data-guard.html#GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699" title="The directory structure of the various standby databases is important because it determines the path names for the standby data files, archived redo log files, and standby redo log files.">Standby Database Directory Structure Considerations</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oracle-data-guard.html#GUID-8DA7295A-53C7-4B52-9E0A-8A513640D265" title="You can move the location of an online data file from one physical file to another physical file while the database is actively accessing the file.">Moving the Location of Online Data Files</a></p>
                  </li>
               </ul>
            </div><a id="SBYDB00110"></a><div class="props_rev_3"><a id="GUID-4CAD29A7-28FD-40B4-A223-F69A302B1E00" name="GUID-4CAD29A7-28FD-40B4-A223-F69A302B1E00"></a><h3 id="SBYDB-GUID-4CAD29A7-28FD-40B4-A223-F69A302B1E00" class="sect3"><span class="enumeration_section">2.1 </span>Standby Database Types
               </h3>
               <div>
                  <p>A <span class="bold">standby database</span> is a transactionally consistent copy of an Oracle production database that is initially created from a backup copy of the primary database. 
                  </p>
                  <p>Once the standby database is created and configured, Oracle Data Guard automatically maintains the standby database by transmitting primary database redo data to the standby system, where the redo data is applied to the standby database.</p>
                  <p>A standby database can be one of these types: a physical standby database, a logical standby database, or a snapshot standby database. If needed, either a physical or a logical standby database can assume the role of the primary database and take over production processing. An Oracle Data Guard configuration can include any combination of these types of standby databases.</p>
               </div><a id="SBYDB5010"></a><a id="SBYDB00101"></a><div class="props_rev_3"><a id="GUID-88BBC338-BC93-454C-B5C6-23CA8F0C329E" name="GUID-88BBC338-BC93-454C-B5C6-23CA8F0C329E"></a><h4 id="SBYDB-GUID-88BBC338-BC93-454C-B5C6-23CA8F0C329E" class="sect4"><span class="enumeration_section">2.1.1 </span>Physical Standby Databases
                  </h4>
                  <div>
                     <p>A physical standby database is an exact, block-for-block copy of a primary database. </p>
                     <p>A physical standby is maintained as an exact copy through a process called Redo Apply, in which redo data received from a primary database is continuously applied to a physical standby database using the database recovery mechanisms.</p>
                     <p>A physical standby database can be opened for read-only access and used to offload queries from a primary database.<a id="d5764e300" class="indexterm-anchor"></a><a id="d5764e304" class="indexterm-anchor"></a> If a license for the Oracle Active Data Guard option has been purchased, Redo Apply can be active while the physical standby database is open, thus allowing queries to return results that are identical to what would be returned from the primary database. This capability is known as the real-time query feature.
                     </p>
                     <div class="infoboxnotealso" id="GUID-88BBC338-BC93-454C-B5C6-23CA8F0C329E__GUID-F8AFEB70-E11F-4136-A65D-B527B9034E87">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-oracle-data-guard-physical-standby-databases.html#GUID-D5FB88EC-799D-40E7-80E1-19474E3167E4" title="A physical standby database can be opened for read-only access and used to offload queries from a primary database.">Opening a Physical Standby Database </a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../dblic/Licensing-Information.html#DBLIC-GUID-AB56CEE3-955E-4E56-8B44-6075E889C283" target="_blank"><span class="italic">Oracle Database Licensing Information</span></a> for more information about Oracle Active Data Guard
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-88BBC338-BC93-454C-B5C6-23CA8F0C329E__GUID-90F6868D-BC71-481F-B261-E6F527AC3E4B">Benefits of a Physical Standby Database</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>A physical standby database provides the following benefits:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Disaster recovery and high availability</p>
                              <p>A physical standby database is a robust and efficient disaster recovery and high availability solution. Easy-to-manage switchover and failover capabilities allow easy role reversals between primary and physical standby databases, minimizing the downtime of the primary database for planned and unplanned outages.</p>
                           </li>
                           <li>
                              <p>Data protection</p>
                              <p>A physical standby database can prevent data loss, even in the face of unforeseen disasters. A physical standby database supports all datatypes, and all DDL and DML operations that the primary database can support. It also provides a safeguard against data corruptions and user errors. Storage level physical corruptions on the primary database are not propagated to a standby database. Similarly, logical corruptions or user errors that would otherwise cause data loss can be easily resolved.</p>
                           </li>
                           <li>
                              <p>Reduction in primary database workload</p>
                              <p> Oracle Recovery Manager (RMAN) can use a physical standby database to off-load backups from a primary database, saving valuable CPU and I/O cycles. </p>
                              <p>A physical standby database can also be queried while Redo Apply is active, which allows queries to be offloaded from the primary to a physical standby, further reducing the primary workload.</p>
                           </li>
                           <li>
                              <p>Performance</p>
                              <p>The Redo Apply technology used by a physical standby database is the most efficient mechanism for keeping a standby database updated with changes being made at a primary database because it applies changes using low-level recovery mechanisms which bypass all SQL level code layers.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB5011"></a><a id="SBYDB00102"></a><div class="props_rev_3"><a id="GUID-D6AB6955-C1E1-4FE9-A9D9-6F6275B8748A" name="GUID-D6AB6955-C1E1-4FE9-A9D9-6F6275B8748A"></a><h4 id="SBYDB-GUID-D6AB6955-C1E1-4FE9-A9D9-6F6275B8748A" class="sect4"><span class="enumeration_section">2.1.2 </span>Logical Standby Databases
                  </h4>
                  <div>
                     <p>A logical standby database is initially created as an identical copy of the primary database, but it later can be altered to have a different structure. </p>
                     <p>The logical standby database is updated by executing SQL statements. The flexibility of a logical standby database lets you upgrade Oracle Database software (patch sets and new Oracle Database releases) and perform other database maintenance in rolling fashion with almost no downtime. From Oracle Database 11<span class="italic">g</span> onward, the transient logical database rolling upgrade process can also be used with existing physical standby databases. 
                     </p>
                     <p>Oracle Data Guard automatically applies information from the archived redo log file or standby redo log file to the logical standby database by transforming the data in the log files into SQL statements and then executing the SQL statements on the logical standby database. Because the logical standby database is updated using SQL statements, it must remain open. Although the logical standby database is opened in read/write mode, its target tables for the regenerated SQL are available only for read-only operations. While those tables are being updated, they can be used simultaneously for other tasks such as reporting, summations, and queries.</p>
                     <p>A logical standby database has some restrictions on data types, types of tables, and types of DDL and DML operations. See <a href="data-type-ddl-support-on-logical-standby-databases.html#GUID-340BA6D6-74D5-4684-AF39-08890D5CD9D4" title="When setting up a logical standby database, you must ensure the logical standby database can maintain the datatypes and tables in your primary database."> Data Type and DDL Support on a Logical Standby Database </a> for information on data type and DDL support on logical standby databases.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D6AB6955-C1E1-4FE9-A9D9-6F6275B8748A__GUID-572902B4-B91C-4C4F-84A4-F8FF93AA4B51">Benefits of a Logical Standby Database</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>A logical standby database is ideal for high availability (HA) while still offering data recovery (DR) benefits. Compared to a physical standby database, a logical standby database provides significant additional HA benefits:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Minimizing downtime on software upgrades</p>
                              <p>A logical standby database is ideal for upgrading an Oracle Data Guard configuration in a rolling fashion. Logical standby can be used to greatly reduce downtime associated with applying patchsets and new software releases. A logical standby can be upgraded to the new release and then switched over to become the active primary. This allows full availability while the old primary is converted to a logical standby and the patchset is applied. Logical standbys provide the underlying platform for the <code class="codeph">DBMS_ROLLING</code> PL/SQL package, which provides functionality that allows you to make your Oracle Data Guard configuration highly available in the context of rolling upgrades and other storage reorganization.
                              </p>
                           </li>
                           <li>
                              <p>Support for reporting and decision support requirements</p>
                              <p>A key benefit of logical standby is that significant auxiliary structures can be created to optimize the reporting workload; structures that could have a prohibitive impact on the primary's transactional response time. A logical standby can have its data physically reorganized into a different storage type with different partitioning, have many different indexes, have on-demand refresh materialized views created and maintained, and can be used to drive the creation of data cubes and other OLAP data views. However, a logical standby database does not allow for any transformation of your data (such as replicating only a subset of columns or allowing additional columns on user tables). For those types of reporting activities, Oracle GoldenGate is Oracle's preferred solution.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB5012"></a><a id="SBYDB00103"></a><div class="props_rev_3"><a id="GUID-140A83DB-6189-489C-ADF3-F84FA801B9E1" name="GUID-140A83DB-6189-489C-ADF3-F84FA801B9E1"></a><h4 id="SBYDB-GUID-140A83DB-6189-489C-ADF3-F84FA801B9E1" class="sect4"><span class="enumeration_section">2.1.3 </span>Snapshot Standby Databases
                  </h4>
                  <div>
                     <p>A snapshot standby database is a type of updatable standby database that provides full data protection for a primary database.</p>
                     <p>A snapshot standby database receives and archives, but does not apply, redo data from its primary database. Redo data received from the primary database is applied when a snapshot standby database is converted back into a physical standby database, after discarding all local updates to the snapshot standby database.</p>
                     <p>A snapshot standby database diverges from its primary database over time because redo data from the primary database is not applied as it is received. Local updates to the snapshot standby database cause additional divergence. The data in the primary database is fully protected however, because a snapshot standby can be converted back into a physical standby database at any time, and the redo data received from the primary is then applied.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-140A83DB-6189-489C-ADF3-F84FA801B9E1__GUID-D2503180-6156-40CF-8A60-710B1794E626">Benefits of a Snapshot Standby Database</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>A snapshot standby database is a fully updatable standby database that provides disaster recovery and data protection benefits that are similar to those of a physical standby database. Snapshot standby databases are best used in scenarios where the benefit of having a temporary, updatable snapshot of the primary database justifies the increased time to recover from primary database failures.</p>
                        <p>The benefits of using a snapshot standby database include the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>It provides an exact replica of a production database for development and testing purposes, while maintaining data protection at all times. You can use the Oracle Real Application Testing option to capture primary database workload and then replay it for test purposes on the snapshot standby.</p>
                           </li>
                           <li>
                              <p>It can be easily refreshed to contain current production data by converting to a physical standby and resynchronizing.</p>
                           </li>
                        </ul>
                        <p>The ability to create a snapshot standby, test, resynchronize with production, and then again create a snapshot standby and test, is a cycle that can be repeated as often as desired. The same process can be used to easily create and regularly update a snapshot standby for reporting purposes where read/write access to data is required.</p>
                        <div class="infoboxnotealso" id="GUID-140A83DB-6189-489C-ADF3-F84FA801B9E1__GUID-B90689C1-C6F0-4D63-871C-594F43D524A3">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../ratug/introduction-to-oracle-database-testing.html#RATUG101" target="_blank"><span class="italic">Oracle Database Testing Guide</span></a> for more information about Oracle Real Application Testing and the license required to use it
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="SBYDB00065"></a><div class="props_rev_3"><a id="GUID-AC2A6894-9805-4969-9746-0D43EE7F8767" name="GUID-AC2A6894-9805-4969-9746-0D43EE7F8767"></a><h3 id="SBYDB-GUID-AC2A6894-9805-4969-9746-0D43EE7F8767" class="sect3"><span class="enumeration_section">2.2 </span>User Interfaces for Administering Oracle Data Guard Configurations
               </h3>
               <div>
                  <p>Oracle Data Guard provides several interfaces that you can use to configure, implement, and manage an Oracle Data Guard configuration.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Oracle Enterprise Manager Cloud Control</p>
                        <p>Oracle Enterprise Manager Cloud Control provides a GUI interface for the Oracle Data Guard broker that automates many of the tasks involved in creating, configuring, and monitoring an Oracle Data Guard environment. See the Oracle Enterprise Manager Cloud Control online Help for information about the GUI and its wizards.</p>
                     </li>
                     <li>
                        <p>SQL*Plus Command-line interface</p>
                        <p>Several SQL*Plus statements use the <code class="codeph">STANDBY</code> keyword to specify operations on a standby database. Other SQL statements do not include standby-specific syntax, but they are useful for performing operations on a standby database. See <a href="sql-statements-used-by-oracle-data-guard.html#GUID-A3B54628-8FDB-4E99-A933-9EDD59AAC2DF" title="There are many SQL and SQL*Plus statements that are useful for performing operations on standby databases in an Oracle Data Guard environment."> SQL Statements Relevant to Oracle Data Guard</a> for a list of the relevant statements.
                        </p>
                     </li>
                     <li>
                        <p>Initialization parameters</p>
                        <p>Several initialization parameters are used to define the Oracle Data Guard environment. See <a href="oracle-initialization-parameters-used-by-oracle-data-guard.html#GUID-A1CF9B00-F0F5-4F3B-A0E0-9D6ABF775EC9" title="This is an alphabetical listing of the initialization parameters you set for a Data Guard environment. It indicates if the parameter is set for the primary role or the standby role, and also provides tips for setting each parameter."> Initialization Parameters</a> for a list of the relevant initialization parameters.
                        </p>
                     </li>
                  </ul>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Oracle Data Guard broker command-line interface (DGMGRL)</p>
                        <p>The DGMGRL command-line interface is an alternative to using Oracle Enterprise Manager Cloud Control. The DGMGRL command-line interface is useful if you want to use the broker to manage an Oracle Data Guard configuration from batch programs or scripts. See <a href="../dgbkr/oracle-data-guard-broker-commands.html#DGBKR585" target="_blank"><span class="italic">Oracle Data Guard Broker</span></a> for complete information.
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="SBYDB00067"></a><div class="props_rev_3"><a id="GUID-62F35117-0A9C-47E9-82B6-7E3B214B28B7" name="GUID-62F35117-0A9C-47E9-82B6-7E3B214B28B7"></a><h3 id="SBYDB-GUID-62F35117-0A9C-47E9-82B6-7E3B214B28B7" class="sect3"><span class="enumeration_section">2.3 </span>Oracle Data Guard Operational Prerequisites
               </h3>
               <div>
                  <p>The use of Oracle Data Guard requires certain hardware and software prerequisites.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="getting-started-with-oracle-data-guard.html#GUID-31B64063-7051-48E4-9BE9-E73266317C9F" title="The same release of Oracle Database Enterprise Edition must be installed on the primary database and all standby databases, except during rolling database upgrades using logical or transient logical standby databases.">Hardware and Operating System Requirements</a></p>
                     </li>
                     <li>
                        <p><a href="getting-started-with-oracle-data-guard.html#GUID-A9F7D87E-49EB-4CE9-A076-1F35F35C0EAB" title="To use Oracle Data Guard, you must meet certain Oracle software requirements.">Oracle Software Requirements</a></p>
                     </li>
                  </ul>
               </div><a id="SBYDB4715"></a><div class="props_rev_3"><a id="GUID-31B64063-7051-48E4-9BE9-E73266317C9F" name="GUID-31B64063-7051-48E4-9BE9-E73266317C9F"></a><h4 id="SBYDB-GUID-31B64063-7051-48E4-9BE9-E73266317C9F" class="sect4"><span class="enumeration_section">2.3.1 </span>Hardware and Operating System Requirements
                  </h4>
                  <div>
                     <p>The same release of Oracle Database Enterprise Edition must be installed on the primary database and all standby databases, except during rolling database upgrades using logical or transient logical standby databases.</p>
                     <p>As of Oracle Database 11<span class="italic">g</span>, Oracle Data Guard provides increased flexibility for Oracle Data Guard configurations in which the primary and standby systems may have different CPU architectures, operating systems (for example, Windows and Linux), operating system binaries (32-bit/64-bit), or Oracle database binaries (32-bit/64-bit). 
                     </p>
                     <p>This increased mixed-platform flexibility is subject to the current restrictions documented in the My Oracle Support notes 413484.1 and 1085687.1 at <a href="http://support.oracle.com" target="_blank"><code class="codeph">http://support.oracle.com</code></a>.
                     </p>
                     <p>Note 413484.1 discusses mixed-platform support and restrictions for physical standbys.</p>
                     <p>Note 1085687.1 discusses mixed-platform support and restrictions for logical standbys.</p>
                     <div class="infoboxnotealso" id="GUID-31B64063-7051-48E4-9BE9-E73266317C9F__GUID-9C0F678D-703D-4ADA-9FCB-5BAD2487BA58">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="using-sql-apply-to-perform-rolling-upgrade.html#GUID-290F632F-5295-47F3-AEF1-2D37C69C00D7" title="You can use a logical standby database to perform a rolling upgrade of Oracle Database software."> Using SQL Apply to Upgrade the Oracle Database </a> for information about rolling database upgrades
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="SBYDB4716"></a><div class="props_rev_3"><a id="GUID-A9F7D87E-49EB-4CE9-A076-1F35F35C0EAB" name="GUID-A9F7D87E-49EB-4CE9-A076-1F35F35C0EAB"></a><h4 id="SBYDB-GUID-A9F7D87E-49EB-4CE9-A076-1F35F35C0EAB" class="sect4"><span class="enumeration_section">2.3.2 </span>Oracle Software Requirements
                  </h4>
                  <div>
                     <p>To use Oracle Data Guard, you must meet certain Oracle software requirements.</p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Oracle Data Guard is available only as a feature of Oracle Database Enterprise Edition. It is not available with Oracle Database Standard Edition.</p>
                              <div class="infoboxnote" id="GUID-A9F7D87E-49EB-4CE9-A076-1F35F35C0EAB__GUID-97254E1A-9428-4D7B-8EB6-C9E36F4CA421">
                                 <p class="notep1">Note:</p>
                                 <p>It is possible to si<a id="d5764e996" class="indexterm-anchor"></a>mulate a standby database environment with databases running Oracle Database S<a id="d5764e1002" class="indexterm-anchor"></a><a id="d5764e1006" class="indexterm-anchor"></a>tandard Edition. You can do this by manually transferring archived redo log files using an operating system copy utility or using custom scripts that periodically send archived redo log files from one database to the other, registering them, and using media recovery to roll forward the copy of the database at the disaster recovery site. Such a configuration does not provide the ease-of-use, manageability, performance, and disaster-recovery capabilities available with Oracle Data Guard.
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p> In general, a physical standby database must have the same Database Home version as the primary database including Patch Set Exceptions (PSEs), Critical Patch Updates (CPUs), and Patch Set Updates (PSUs), unless an Oracle Data Guard Standby-First Patch Apply process is in progress (as described in My Oracle Support note 1265700.1 at <a href="http://support.oracle.com" target="_blank"><code class="codeph">http://support.oracle.com</code></a>.
                              </p>
                              <p>Additionally, as of Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.1), a physical standby database can be used to install eligible one-off patches, patch set updates (PSUs), and critical patch updates (CPUs), in rolling fashion. For more information about this functionality, see the My Oracle Support note 1265700.1 at <a href="http://support.oracle.com" target="_blank"><code class="codeph">http://support.oracle.com</code></a>.
                              </p>
                           </li>
                           <li>
                              <p>Using Oracle Data Guard SQL Apply, you can perform a <a id="d5764e1032" class="indexterm-anchor"></a><a id="d5764e1036" class="indexterm-anchor"></a>rolling upgrade of the Oracle database software from <a id="d5764e1041" class="indexterm-anchor"></a><a id="d5764e1045" class="indexterm-anchor"></a><a id="d5764e1049" class="indexterm-anchor"></a><a id="d5764e1053" class="indexterm-anchor"></a>patch set release <span class="italic">n</span> (minimally, this must be release 10.1.0.3) to any higher versioned patch set or major version release. During a rolling upgrade, you can run different releases of the Oracle database on the primary and l<a id="d5764e1062" class="indexterm-anchor"></a><a id="d5764e1068" class="indexterm-anchor"></a><a id="d5764e1072" class="indexterm-anchor"></a>ogical standby databases while you upgrade them, one at a time. For complete information, see <a href="using-sql-apply-to-perform-rolling-upgrade.html#GUID-290F632F-5295-47F3-AEF1-2D37C69C00D7" title="You can use a logical standby database to perform a rolling upgrade of Oracle Database software."> Using SQL Apply to Upgrade the Oracle Database </a> and the ReadMe file for the applicable Oracle Database 10<span class="italic">g</span> patch set release.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">COMPATIBLE</code> database initialization parameter must be set to the same value on all databases in an Oracle Data Guard configuration, except when using a logical standby database, which can have a higher <code class="codeph">COMPATIBLE</code> setting than the primary database.
                              </p>
                           </li>
                        </ul>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The primary database must run in <a id="d5764e1103" class="indexterm-anchor"></a><a id="d5764e1107" class="indexterm-anchor"></a><code class="codeph">ARCHIVELOG</code> mode. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=ADMIN008" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information.
                              </p>
                           </li>
                           <li>
                              <p>The primary database can be a single instance database or an Oracle Real Application Clusters (Oracle RAC) database. The standby databases can be single instance databases or Oracle RAC databases, and these standby databases can be a mix of physical, logical, and snapshot types.</p>
                           </li>
                           <li>
                              <p>Each primary database and standby database must have its own control file.</p>
                           </li>
                           <li>
                              <p>If a standby database is located on the same system as the primary database, the archival directories for the standby database <span class="italic">must</span> use a different directory structure than the primary database. Otherwise, the standby database may overwrite the primary database files. 
                              </p>
                           </li>
                           <li>
                              <p>To protect against unlogged direct writes in the primary database that cannot be propagated to the standby database, turn on <code class="codeph">FORCE LOGGING</code> at the primary database before performing data file backups for standby creation. Keep the database in <code class="codeph">FORCE LOGGING</code> mode as long as the standby database is required.
                              </p>
                           </li>
                           <li>
                              <p>The user accounts you use to manage the primary and standby database instances must have either the <code class="codeph">SYSDG</code> or <code class="codeph">SYSDBA</code> administrative privilege.
                              </p>
                           </li>
                           <li>
                              <p>For operational simplicity, Oracle recommends that when you set up Oracle Automatic Storage Management (Oracle ASM) and Oracle Managed Files (OMF) in an Oracle Data Guard configuration that you set it up symmetrically on the primary and standby database(s). If any database in the Oracle Data Guard configuration uses Oracle ASM, OMF, or both, then every database in the configuration should use Oracle ASM, OMF, or both, respectively, unless you are purposely implementing a mixed configuration for migration or maintenance purposes. See the scenario in <a href="examples-of-using-oracle-data-guard.html#GUID-6FB574E5-2F3A-4C9E-A3F0-7C9154B0F540" title="When you create standby databases, there are additional steps that must be performed if the primary database uses Oracle Managed Files (OMF) or Oracle Automatic Storage Management (Oracle ASM).">Creating a Standby Database That Uses OMF or Oracle ASM</a> for more information.
                              </p>
                              <div class="infoboxnote" id="GUID-A9F7D87E-49EB-4CE9-A076-1F35F35C0EAB__GUID-385E2A95-EFB8-4195-AA2E-F43A6B7A808F">
                                 <p class="notep1">Note:</p>
                                 <p>Because some applications that perform updates involving time-based data cannot handle data entered from multiple time zones, consider setting the time zone for the primary and remote standby systems to be the same to ensure the chronological ordering of records is maintained after a role transition.</p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="SBYDB5013"></a><a id="SBYDB5014"></a><a id="SBYDB4717"></a><div class="props_rev_3"><a id="GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699" name="GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699"></a><h3 id="SBYDB-GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699" class="sect3"><span class="enumeration_section">2.4 </span>Standby Database Directory Structure Considerations
               </h3>
               <div>
                  <p>The directory structure of the various standby databases is important because it determines the path names for the standby data files, archived redo log files, and standby redo log files.</p>
                  <p>If possible, the data files, log files, and control files on the primary and standby systems should have the same names and path names and use <a id="d5764e1256" class="indexterm-anchor"></a><a id="d5764e1260" class="indexterm-anchor"></a>Optimal Flexible Architecture (OFA) naming conventions. The archival directories on the standby database should also be identical between sites, including size and structure. This strategy allows other operations such as backups, switchovers, and failovers to execute the same set of steps, reducing the maintenance complexity.
                  </p>
                  <div class="infoboxnotealso" id="GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__GUID-13DD87AC-95AA-480E-B217-F94F75A16764">
                     <p class="notep1">See Also:</p>
                     <p>Your operating system-specific Oracle documentation for more information about Optimal Flexible Architecture (OFA)</p>
                  </div>
                  <p>Otherwise, you must set the filename conversion parameters (as shown in <a href="getting-started-with-oracle-data-guard.html#GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__G74804" title="This 3 column tables describes the consequences of setting up a Data Guard configuration with the primary and standby databases located on separate systems, or with the primary and standby databases located on the same system. Column 1 is the standby system. Column 2 is the directory structure. Column 3 lists the consequences.">Table 2-1</a>) or rename the data file. Nevertheless, if you need to use a system with a different directory structure or place the standby and primary databases on the same system, you can do so with a minimum of extra administration.
                  </p>
                  <p>The three basic <a id="d5764e1277" class="indexterm-anchor"></a><a id="d5764e1283" class="indexterm-anchor"></a><a id="d5764e1287" class="indexterm-anchor"></a>configuration options are illustrated in <a href="getting-started-with-oracle-data-guard.html#GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__I57647">Figure 2-1</a>. These include:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A standby database on the same system as the primary database that uses a different directory structure than the primary system. This is illustrated in <a href="getting-started-with-oracle-data-guard.html#GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__I57647">Figure 2-1</a> as <code class="codeph">Standby1</code>.
                        </p>
                        <p>If you have a standby database on the same system as the primary database, you <span class="italic">must</span> use a different directory structure. Otherwise, the standby database attempts to overwrite the primary database files.
                        </p>
                     </li>
                     <li>
                        <p>A standby database on a separate system that uses the same directory structure as the primary system. This is illustrated in <a href="getting-started-with-oracle-data-guard.html#GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__I57647">Figure 2-1</a> as <code class="codeph">Standby2</code>. This is the recommended method.
                        </p>
                     </li>
                     <li>
                        <p>A standby database on a separate system that uses a different directory structure than the primary system. This is illustrated in <a href="getting-started-with-oracle-data-guard.html#GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__I57647">Figure 2-1</a> as <code class="codeph">Standby3</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__GUID-E5463DF3-F1DE-4BC0-A737-762733184EA7">
                           <p class="notep1">Note:</p>
                           <p>For operational simplicity, Oracle recommends that when you set up Oracle Automatic Storage Management (Oracle ASM) and Oracle Managed Files (OMF) in an Oracle Data Guard configuration that you set it up symmetrically on the primary and standby database(s). If any database in the Oracle Data Guard configuration uses Oracle ASM, OMF, or both, then every database in the configuration should use Oracle ASM, OMF, or both, respectively, unless you are purposely implementing a mixed configuration for migration or maintenance purposes. See the scenario in <a href="examples-of-using-oracle-data-guard.html#GUID-6FB574E5-2F3A-4C9E-A3F0-7C9154B0F540" title="When you create standby databases, there are additional steps that must be performed if the primary database uses Oracle Managed Files (OMF) or Oracle Automatic Storage Management (Oracle ASM).">Creating a Standby Database That Uses OMF or Oracle ASM</a> for more information.
                           </p>
                        </div>
                     </li>
                  </ul>
                  <div class="figure" id="GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__I57647">
                     <p class="titleinfigure">Figure 2-1 Possible Standby Configurations</p><img src="img/sbydb058.gif" alt="Description of Figure 2-1 follows" title="Description of Figure 2-1 follows" longdesc="img_text/sbydb058.html"><br><a href="img_text/sbydb058.html">Description of "Figure 2-1 Possible Standby Configurations"</a></div>
                  <!-- class="figure" -->
                  <p><a href="getting-started-with-oracle-data-guard.html#GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__G74804" title="This 3 column tables describes the consequences of setting up a Data Guard configuration with the primary and standby databases located on separate systems, or with the primary and standby databases located on the same system. Column 1 is the standby system. Column 2 is the directory structure. Column 3 lists the consequences.">Table 2-1</a> describes possible configurations of primary and standby databases and the consequences of each.
                  </p>
                  <div class="tblformal" id="GUID-B59DBCF7-13A7-4F49-97E9-BF1BEF803699__G74804">
                     <p class="titleintable">Table 2-1 Standby Database Location and Directory Options</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Standby Database Location and Directory Options" summary="This 3 column tables describes the consequences of setting up a Data Guard configuration with the primary and standby databases located on separate systems, or with the primary and standby databases located on the same system. Column 1 is the standby system. Column 2 is the directory structure. Column 3 lists the consequences. " width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="12%" id="d5764e1356">Standby System</th>
                              <th align="left" valign="bottom" width="15%" id="d5764e1359">Directory Structure</th>
                              <th align="left" valign="bottom" width="73%" id="d5764e1362">Consequences</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="12%" id="d5764e1367" headers="d5764e1356 ">
                                 <p>Same as primary system</p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d5764e1367 d5764e1359 ">
                                 <p>Different than primary system (required)</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d5764e1367 d5764e1362 ">
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>You can either manually rename files or set up<a id="d5764e1378" class="indexterm-anchor"></a><a id="d5764e1382" class="indexterm-anchor"></a> the <code class="codeph">DB_FILE_NAME_CONVERT</code> and <code class="codeph">LOG_FILE_NAME_CONVERT</code> initialization parameters on the standby database to automatically update the path names for primary database data files and archived redo log files and standby redo log files in the standby database control file. (See <a href="creating-oracle-data-guard-physical-standby.html#GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84" title="On the primary database, you define initialization parameters that control redo transport services while the database is in the primary role.">Set Primary Database Initialization Parameters</a>.)
                                       </p>
                                    </li>
                                    <li>
                                       <p>The standby database does not protect against disasters that destroy the system on which the primary and standby databases reside, but it does provide switchover capabilities for planned maintenance.</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="12%" id="d5764e1404" headers="d5764e1356 ">
                                 <p>Separate system</p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d5764e1404 d5764e1359 ">
                                 <p>Same as primary system</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d5764e1404 d5764e1362 ">
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>You do not need to rename primary database files, archived redo log files, and standby redo log files in the standby database control file, although you can still do so if you want a new naming scheme (for example, to spread the files among different disks). </p>
                                    </li>
                                    <li>
                                       <p>By locating the standby database on separate physical media, you safeguard the data on the primary database against disasters that destroy the primary system.</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="12%" id="d5764e1419" headers="d5764e1356 ">
                                 <p>Separate system</p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d5764e1419 d5764e1359 ">
                                 <p>Different than primary system</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d5764e1419 d5764e1362 ">
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>You can either manually rename files or set up the <code class="codeph">DB_FILE_NAME_CONVERT</code> and <code class="codeph">LOG_FILE_NAME_CONVERT</code> initialization parameters on the standby database to automatically rename the data files (see <a href="creating-oracle-data-guard-physical-standby.html#GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84" title="On the primary database, you define initialization parameters that control redo transport services while the database is in the primary role.">Set Primary Database Initialization Parameters</a>).
                                       </p>
                                    </li>
                                    <li>
                                       <p>By locating the standby database on separate physical media, you safeguard the data on the primary database against disasters that destroy the primary system.</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="SBYDB5158"></a><div class="props_rev_3"><a id="GUID-8DA7295A-53C7-4B52-9E0A-8A513640D265" name="GUID-8DA7295A-53C7-4B52-9E0A-8A513640D265"></a><h3 id="SBYDB-GUID-8DA7295A-53C7-4B52-9E0A-8A513640D265" class="sect3"><span class="enumeration_section">2.5 </span>Moving the Location of Online Data Files
               </h3>
               <div>
                  <p>You can move the location of an online data file from one physical file to another physical file while the database is actively accessing the file. </p>
                  <p> To move the location of the file, you use the SQL statement <code class="codeph">ALTER DATABASE MOVE DATAFILE</code>.
                  </p>
                  <p>An operation performed with the <code class="codeph">ALTER DATABASE MOVE DATAFILE</code> statement increases the availability of the database because it does not require that the database be shut down to move the location of an online data file.
                  </p>
                  <p>You can perform an online move data file operation independently on the primary and on the standby (either physical or logical). The standby is not affected when a data file is moved on the primary, and vice versa.</p>
                  <p>On a physical standby, an online move data file operation can be executed while standby recovery is running if the instance that opens the database is in read-only mode. This functionality requires an Oracle Active Data Guard license.</p>
               </div><a id="SBYDB5159"></a><div class="props_rev_3"><a id="GUID-312871DC-0881-444A-8DAB-0BC484638C76" name="GUID-312871DC-0881-444A-8DAB-0BC484638C76"></a><h4 id="SBYDB-GUID-312871DC-0881-444A-8DAB-0BC484638C76" class="sect4"><span class="enumeration_section">2.5.1 </span>Restrictions When Moving the Location of Online Data Files
                  </h4>
                  <div>
                     <p>There are restrictions when you move the location of online data files.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You cannot use the SQL  <code class="codeph">ALTER DATABASE MOVE DATAFILE</code> command to rename or relocate an online data file on a physical standby that is a fast-start failover target if the standby is mounted, but not open.
                           </p>
                        </li>
                        <li>
                           <p>The online move data file operation cannot be executed on physical standby while standby recovery is running in a mounted but not open instance.</p>
                        </li>
                        <li>
                           <p>The online move data file operation may get aborted if the standby recovery process takes the data file offline, shrinks the file, or drops the tablespace.</p>
                        </li>
                        <li>
                           <p>On a primary database, the online move data file operation cannot be executed on a file that belongs to a pluggable database (PDB) that has been closed on all instances of the primary database.</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-312871DC-0881-444A-8DAB-0BC484638C76__GUID-CBCEC1FD-C3E4-4037-A94A-8F26B02468AB">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../admin/managing-data-files-and-temp-files.html#ADMIN13837" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about renaming and relocating online data files
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=SQLRF55823" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">ALTER DATABASE MOVE DATAFILE</code> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>