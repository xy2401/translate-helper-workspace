<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Translator and Run-Time Functionality</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQLJ Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQLJ Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sqlj-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T08:20:03-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96458-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="translator-command-line-and-options.html" title="Previous" type="text/html">
      <link rel="next" href="performance-and-debugging.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQLJ Developer's Guide">
    <meta name="dcterms.isVersionOf" content="JSQLJ">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="translator-command-line-and-options.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="performance-and-debugging.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQLJ Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Translator and Run-Time Functionality</li>
            </ol>
            <a id="GUID-19E43C02-712C-4CF7-BE74-C7A16665C1D2" name="GUID-19E43C02-712C-4CF7-BE74-C7A16665C1D2"></a><a id="JSQLJ700"></a>
            
            <h2 id="JSQLJ-GUID-19E43C02-712C-4CF7-BE74-C7A16665C1D2" class="sect2"><span class="enumeration_chapter">10 </span> Translator and Run-Time Functionality
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter discusses internal operations and functionality of Oracle SQLJ translator and run time.</p>
               <p>The following topics are covered:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="translator-run-time-functionality.html#GUID-D48A9F0A-67FD-4B49-B219-7EC6FEE1F4E3">Internal Translator Operations</a></p>
                  </li>
                  <li>
                     <p><a href="translator-run-time-functionality.html#GUID-AEB9AFD5-5CE3-43AA-8883-A0A03D82A43D">Functionality of Translator Errors_ Messages_ and Exit Codes</a></p>
                  </li>
                  <li>
                     <p><a href="translator-run-time-functionality.html#GUID-AFF5C519-028E-4554-98E8-B8FF103515D1">SQLJ Run Time</a></p>
                  </li>
                  <li>
                     <p><a href="translator-run-time-functionality.html#GUID-50785BF7-712B-4BFC-BE22-0E86B626BBA6">Globalization Support in the Translator and Run Time</a></p>
                  </li>
               </ul>
            </div><a id="JSQLJ701"></a><div class="props_rev_3"><a id="GUID-D48A9F0A-67FD-4B49-B219-7EC6FEE1F4E3" name="GUID-D48A9F0A-67FD-4B49-B219-7EC6FEE1F4E3"></a><h3 id="JSQLJ-GUID-D48A9F0A-67FD-4B49-B219-7EC6FEE1F4E3" class="sect3">Internal Translator Operations</h3>
               <div>
                  <p>The following topics summarize the operations executed by the SQLJ translator during a translation:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-87DB4A97-BF52-4059-A64C-665733D75B62">Java and SQLJ Code-Parsing and Syntax-Checking</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-CD0DF951-697A-47E1-90B0-DAF8E2E58DB9">SQL Semantics-Checking and Offline Parsing</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D">Code Generation</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-9A0CD688-00C7-4DBB-9F76-1727E5C291C4">Java Compilation</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-1C3E2732-1185-4961-BA6B-5BA97A35EA48">Profile Customization (ISO Code Generation)</a></p>
                     </li>
                  </ul>
               </div><a id="JSQLJ702"></a><div class="props_rev_3"><a id="GUID-87DB4A97-BF52-4059-A64C-665733D75B62" name="GUID-87DB4A97-BF52-4059-A64C-665733D75B62"></a><h4 id="JSQLJ-GUID-87DB4A97-BF52-4059-A64C-665733D75B62" class="sect4">Java and SQLJ Code-Parsing and Syntax-Checking</h4>
                  <div>
                     <p>In this first phase of SQLJ translation, a SQLJ parser and a Java parser are used to process all the source code and check syntax. As the SQLJ translator parses the <code class="codeph">.sqlj</code> file, it invokes a Java parser to check the syntax of Java statements and a SQLJ parser to check the syntax of SQLJ constructs (anything preceded by <code class="codeph">#sql</code>). The SQLJ parser also invokes the Java parser to check the syntax of Java host variables and expressions within SQLJ executable statements.
                     </p>
                     <p>The SQLJ parser checks the grammar of SQLJ constructs according to the SQLJ language specification. However, it does <span class="italic">not</span> check the grammar of the embedded SQL operations. SQL syntax is not checked until the semantics-checking or offline parsing step.
                     </p>
                     <p>This syntax-check will look for errors like missing semi-colons, mismatched curly braces, and obvious type mismatches, such as multiplying a number by a string. If the parsers find any syntax errors or type mismatches during this phase, then the translation is aborted and the errors are reported to the user.</p>
                  </div>
               </div><a id="JSQLJ703"></a><div class="props_rev_3"><a id="GUID-CD0DF951-697A-47E1-90B0-DAF8E2E58DB9" name="GUID-CD0DF951-697A-47E1-90B0-DAF8E2E58DB9"></a><h4 id="JSQLJ-GUID-CD0DF951-697A-47E1-90B0-DAF8E2E58DB9" class="sect4">SQL Semantics-Checking and Offline Parsing</h4>
                  <div>
                     <p>Once the SQLJ and Java application source code is verified as syntactically correct, the translator enters into the semantics-checking phase and invokes a SQL semantics-checker or a SQL offline parser or both, according to SQLJ option settings. </p>
                     <p>Setting the <code class="codeph">-user</code> option enables online checking, and setting the <code class="codeph">-password</code> and <code class="codeph">-url</code> options specifies the database connection, if the password and URL were not specified in the <code class="codeph">-user</code> option. The <code class="codeph">-offline</code> or <code class="codeph">-online</code> option specifies which checker to use. The default, typically sufficient, is a checker front end called <code class="codeph">OracleChecker</code> that chooses the most appropriate checker, according to whether you have enabled online checking and which Java Database Connectivity (JDBC) driver you are using.
                     </p>
                     <p>The <code class="codeph">-parse</code> option, <code class="codeph">true</code> by default, is for enabling the offline parser, which offers a way to verify SQL and PL/SQL syntax (but not data types against database columns) without necessitating a database connection during translation. Note that some settings of the <code class="codeph">-parse</code> option will override the <code class="codeph">-user</code> option and disable online checking.
                     </p>
                     <div class="infoboxnotealso" id="GUID-CD0DF951-697A-47E1-90B0-DAF8E2E58DB9__GUID-5FF88CB8-0C4B-4BA8-9CC7-DBAF8CFC121A">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-E001FA35-824A-47A1-8973-AA5771B0DFE5">Connection Options</a>"</span> and <span class="q">"<a href="translator-command-line-and-options.html#GUID-ED7DD3DE-CA91-4085-82B2-D07EC9B15FB6">Semantics-Checking and Offline-Parsing Options</a>"</span></p>
                     </div>
                     <div class="infoboxnote" id="GUID-CD0DF951-697A-47E1-90B0-DAF8E2E58DB9__GUID-70A54398-B084-4FF9-8159-DB44AB09B003">
                        <p class="notep1">Note:</p>
                        <p>For ISO code generation, semantics-checking can also be performed on a profile that was produced during a previous execution of the SQLJ translator. Refer to <span class="q">"<a href="appendix.html#GUID-B0B2AAD4-3AE2-43F1-A38E-37D48343C353">SQLCheckerCustomizer for Profile Semantics-Checking</a>"</span>.
                        </p>
                     </div>
                     <p>The following tasks are always performed during semantics-checking, regardless of the status of online checking or offline parsing:</p>
                     <ol>
                        <li>
                           <p>SQLJ analyzes the types of Java expressions in your SQLJ executable statements.</p>
                           <p>This includes examining the SQLJ source files being translated, any <code class="codeph">.java</code> files entered on the command line, and any imported Java classes whose <code class="codeph">.class</code> files or <code class="codeph">.java</code> files can be found through the classpath. SQLJ examines whether and how stream types are used in <code class="codeph">SELECT</code> or <code class="codeph">CAST</code> statements, what Java types are used in iterator columns or <code class="codeph">INTO</code>-lists, what Java types are used as input host variables, and what Java types are used as output host variables.
                           </p>
                           <p>SQLJ also processes <code class="codeph">FETCH</code>, <code class="codeph">CAST</code>, <code class="codeph">CALL</code>, <code class="codeph">SET TRANSACTION</code>, <code class="codeph">VALUES</code>, and <code class="codeph">SET</code> statements syntactically.
                           </p>
                           <p>Any Java expression in a SQLJ executable statement must have a Java type valid for the given situation and usage. For example, consider the following statement:</p><pre class="oac_no_warn" dir="ltr">#sql [myCtx] { UPDATE ... };
</pre><p>The <code class="codeph">myCtx</code> variable, which might be used to specify a connection context instance or execution context instance for this statement, must actually resolve to a SQLJ connection context type or execution context type.
                           </p>
                           <p>Now consider the following example:</p><pre class="oac_no_warn" dir="ltr">#sql { UPDATE employees SET salary = :newSal };
</pre><p>If <code class="codeph">newSal</code> is a variable, as opposed to a field, then an error is generated if <code class="codeph">newSal</code> was not previously declared. In any case, an error is generated if it cannot be assigned to a valid Java type or its Java type cannot be used in a SQL statement (for example, <code class="codeph">java.util.Vector</code>).
                           </p>
                           <div class="infoboxnote" id="GUID-CD0DF951-697A-47E1-90B0-DAF8E2E58DB9__GUID-7F8B9E22-CBA0-4FD9-88F6-73D99DC5AE28">
                              <p class="notep1">Note:</p>
                              <p>Semantics-checking of Java types is performed only for Java expressions within SQLJ executable statements. Such errors in your standard Java statements will <span class="italic">not</span> be detected until compilation by the Java compiler.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>SQLJ tries to categorize your embedded SQL operations. Each operation must have a recognizable keyword, such as <code class="codeph">SELECT</code> or <code class="codeph">INSERT</code>, so that SQLJ knows what kind of operation it is. For example, the following statement will generate an error:
                           </p><pre class="oac_no_warn" dir="ltr">#sql { foo };
</pre></li>
                        <li>
                           <p>If either online checking or offline parsing (or both) is enabled, then SQLJ analyzes and verifies the syntax of embedded SQL and PL/SQL operations.</p>
                        </li>
                        <li>
                           <p>If either online checking or offline parsing (or both) is enabled, then SQLJ checks the types of Java expressions in SQLJ executable statements against SQL types of corresponding columns in the database and SQL types of corresponding arguments and return variables of stored procedures and functions.</p>
                           <p>In the process of doing this, SQLJ verifies that the SQL entities used in your SQLJ executable statements, such as tables, views, and stored procedures, actually exist in the database. SQLJ also checks nullability of database columns whose data is being selected into iterator columns of Java primitive types, which cannot process null data. However, nullability is not checked for stored procedure and function output parameters and return values.</p>
                        </li>
                     </ol>
                  </div>
               </div><a id="JSQLJ705"></a><a id="JSQLJ706"></a><a id="JSQLJ707"></a><a id="JSQLJ708"></a><a id="JSQLJ709"></a><a id="JSQLJ704"></a><div class="props_rev_3"><a id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D" name="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D"></a><h4 id="JSQLJ-GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D" class="sect4">Code Generation</h4>
                  <div>
                     <div class="section">
                        <p>For the <code class="codeph">.sqlj</code> application source file, the SQLJ translator generates a <code class="codeph">.java</code> file and, for ISO standard SQLJ code generation, at least one profile (either in <code class="codeph">.ser</code> or <code class="codeph">.class</code> files). The <code class="codeph">.java</code> contains your translated application source code, class definitions for any private iterators and connection contexts you declared, and, for ISO code, a profile-keys class definition generated and used internally by SQLJ.
                        </p>
                        <div class="infoboxnote" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-F8D215D9-269A-41CE-BBF4-63606CE7AE80">
                           <p class="notep1">Note:</p>
                           <p>No profiles or profile-keys class are generated if you use the default Oracle-specific code generation mode.</p>
                           <p>With ISO code generation, there are no profiles or profile-keys class if you do not use any SQLJ executable statements in your code.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-B43AE7AB-ED82-462D-8800-A676B4DECEB5">Generated Application Code in .java File</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>For the default Oracle-specific code generation, the generated <code class="codeph">.java</code> file for your application contains direct calls to Oracle JDBC driver in place of the original SQLJ executable statements. There are also calls to an Oracle-specific SQLJ run time. For ISO standard SQLJ code generation, SQLJ executable statements are replaced by calls to the SQLJ run time, which in turn contains calls to the JDBC driver.
                        </p>
                        <p>For convenience, generated <code class="codeph">.java</code> files also include a comment for each of your <code class="codeph">#sql</code> statements, repeating the statement in its entirety for reference. The generated <code class="codeph">.java</code> file will have the same base name as the input <code class="codeph">.sqlj</code> file, which would be the name of the public class defined in the <code class="codeph">.sqlj</code> file or the first class defined if there are no public classes. For example, <code class="codeph">Foo.sqlj</code> defines the <code class="codeph">Foo</code> class. The <code class="codeph">Foo.java</code> source file will be generated by the translator.
                        </p>
                        <p>The location of the generated <code class="codeph">.java</code> file depends on whether and how you set the SQLJ <code class="codeph">-dir</code> option. By default, the <code class="codeph">.java</code> file will be placed in the directory of the <code class="codeph">.sqlj</code> input file.
                        </p>
                        <div class="infoboxnotealso" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-F0A38166-7B45-453C-BD30-B6849717B12B">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-93FF52FC-8C29-488C-B82D-FFA8A6C5A03B">Output Directory for Generated .java Files (-dir)</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-791FF0BD-C741-418E-A3B8-3F4B6AB0BCA0">Generated Profile-Keys Class in .java File (ISO Code Generation)</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>If you use ISO standard SQLJ code generation, SQLJ generates a profile-keys class that it uses internally during run time to load and access the serialized profile. This class contains mapping information between the SQLJ run time calls in your translated application and the SQL operations placed in the serialized profile. It also contains methods to access the serialized profile.</p>
                        <div class="infoboxnote" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-3B4E9DB9-1B7B-4A31-BAB9-9C5279E12ACF">
                           <p class="notep1">Note:</p>
                           <p>If you use the default Oracle-specific code generation, no profiles or profile-keys classes are generated.</p>
                        </div>
                        <p>The profile-keys class is defined in the same <code class="codeph">.java</code> output file that has your translated application source code, with a class name based on the base name of your <code class="codeph">.sqlj</code> source file as follows:
                        </p><pre class="oac_no_warn" dir="ltr">Basename_SJProfileKeys
</pre><p>For example, translating <code class="codeph">Foo.sqlj</code> defines the following profile-keys class in the generated <code class="codeph">.java</code> file:
                        </p><pre class="oac_no_warn" dir="ltr">Foo_SJProfileKeys
</pre><p>If your application is in a package, this is reflected appropriately. For example, translating <code class="codeph">Foo.sqlj</code> in the <code class="codeph">a.b</code> package defines the following class:
                        </p><pre class="oac_no_warn" dir="ltr">a.b.Foo_SJProfileKeys
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-9CEFF778-6755-416A-A1D3-D0DE8DED144C">Generated Profiles in .ser or .class Files (ISO Code Generation)</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>If you use ISO standard SQLJ code generation, SQLJ generates profiles that it uses to store information about the SQL operations found in the input file. A profile is generated for each connection context class that you use in your application. It describes the operations to be performed using instances of the associated connection context class, such as SQL operations to execute, tables to access, and stored procedures and functions to call.</p>
                        <div class="infoboxnote" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-653119F0-7B9A-4A6B-A757-319F9A6E55BA">
                           <p class="notep1">Note:</p>
                           <p>If you use the default Oracle-specific code generation, then information about the SQL operations is embedded in the generated code, which calls Oracle JDBC driver directly. In this case, SQLJ does not generate profiles.</p>
                        </div>
                        <p>Profiles are generated in <code class="codeph">.ser</code> serialized resource files. However, if you enable the SQLJ <code class="codeph">-ser2class</code> option, then the profiles are automatically converted to <code class="codeph">.class</code> files as part of the translation. In this case, no further customization of the profile is possible. You would have to delete the <code class="codeph">.class</code> file and rerun the SQLJ translator to regenerate the profile.
                        </p>
                        <p>Profile base names are generated similarly to the profile-keys class name. They are fully qualified with the package name, followed by the <code class="codeph">.sqlj</code> file base name, followed by the string:
                        </p><pre class="oac_no_warn" dir="ltr">_SJProfile<span class="italic">n</span>
</pre><p>Where <span class="italic"><code class="codeph">n</code></span> is a unique number, starting with 0, for each profile generated for a particular <code class="codeph">.sqlj</code> input file.
                        </p>
                        <p>Again using the example of the <code class="codeph">Foo.sqlj</code> input file, if two profiles are generated, then they will have the following base names (presuming no package): 
                        </p><pre class="oac_no_warn" dir="ltr">Foo_SJProfile0
Foo_SJProfile1
</pre><p>If <code class="codeph">Foo.sqlj</code> is in the <code class="codeph">a.b</code> package, then the profile base names will be:
                        </p><pre class="oac_no_warn" dir="ltr">a.b.Foo_SJProfile0
a.b.Foo_SJProfile1
</pre><p>Physically, a profile exists as a Java serialized object contained within a resource file. Resource files containing profiles use the <code class="codeph">.ser</code> extension and are named according to the base name of the profile (excluding package names). Resource files for the two previously mentioned profiles will be named as follows:
                        </p><pre class="oac_no_warn" dir="ltr">Foo_SJProfile0.ser
Foo_SJProfile1.ser
</pre><p>Or, they will be named <code class="codeph">Foo_SJProfile0.class</code> and <code class="codeph">Foo_SJProfile1.class</code> if you enable the <code class="codeph">-ser2class</code> option. If you choose this option, then the conversion to <code class="codeph">.class</code> takes place <span class="italic">after</span> the customization step.
                        </p>
                        <div class="infoboxnotealso" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-C7583720-72AF-43CA-AA7A-72694117D17D">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-18BBFFC9-9FA1-4AB9-B65F-D822D3B2A6C3">Conversion of .ser File to .class File (-ser2class)</a>"</span></p>
                        </div>
                        <p>The location of these files depends on how the SQLJ <code class="codeph">-d</code> option is set, which determines where all generated <code class="codeph">.ser</code> and <code class="codeph">.class</code> files are placed.
                        </p>
                        <div class="infoboxnotealso" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-00B01D10-DD89-4602-BB77-42AE715B63CF">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-93FF52FC-8C29-488C-B82D-FFA8A6C5A03B">Output Directory for Generated .ser and .class Files (-d)</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-ADFA0FDF-B071-4BFA-8F54-1375E8C8B441">More About Generated Calls to SQLJ Run Time</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>When <code class="codeph">#sql</code> statements are replaced by calls to the JDBC driver (for Oracle-specific code generation) or to the SQLJ run time (for ISO standard SQLJ code generation), these calls implement the steps in <a href="translator-run-time-functionality.html#GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__CHEFIGGA" title="summary">Table 10-1</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__CHEFIGGA">
                        <p class="titleintable">Table 10-1 Steps for Generated Calls, ISO Standard Versus Oracle-Specific </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Steps for Generated Calls, ISO Standard Versus Oracle-Specific " summary="summary" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="50%" id="d61763e639">Steps for ISO Standard Code Generation</th>
                                 <th align="left" valign="bottom" width="50%" id="d61763e642">Steps for Oracle Code Generation</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d61763e647" headers="d61763e639 ">
                                    <p>Get a SQLJ statement object, using information stored in the associated profile entry.</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d61763e647 d61763e642 ">
                                    <p>Get an Oracle JDBC statement object.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d61763e654" headers="d61763e639 ">
                                    <p>Bind inputs into the statement, using <code class="codeph">set</code><span class="italic"><code class="codeph">XXX</code></span><code class="codeph">()</code> methods of the statement object.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d61763e654 d61763e642 ">
                                    <p>Bind inputs using Oracle JDBC statement methods and, if necessary, register output parameters.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d61763e669" headers="d61763e639 ">
                                    <p>Execute the statement, using the <code class="codeph">executeUpdate()</code> or <code class="codeph">executeQuery()</code> method of the statement object.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d61763e669 d61763e642 ">
                                    <p>Execute the Oracle statement.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d61763e682" headers="d61763e639 ">
                                    <p>Create iterator instances, if applicable.</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d61763e682 d61763e642 ">
                                    <p>Create iterator instances, if applicable.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d61763e689" headers="d61763e639 ">
                                    <p>Retrieve outputs from the statement, using <code class="codeph">get</code><span class="italic"><code class="codeph">XXX</code></span><code class="codeph">()</code> methods of the statement object. 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d61763e689 d61763e642 ">
                                    <p>Retrieve outputs from the statement using appropriate JDBC getter methods.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d61763e704" headers="d61763e639 ">
                                    <p>Close the SQLJ statement object (by default, recycling it through the SQLJ statement cache).</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d61763e704 d61763e642 ">
                                    <p>Close the JDBC statement object (by default, recycling it through the JDBC statement cache).</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>A SQLJ run time uses SQLJ statement objects that are similar to JDBC statement objects, although a particular implementation of SQLJ might or might not use JDBC statement classes directly. SQLJ statement classes add functionality particular to SQLJ. For example:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Standard SQLJ statement objects raise a SQL exception if a null value from the database is to be output to a primitive Java type, such as <code class="codeph">int</code> or <code class="codeph">float</code>, which cannot take null values.
                              </p>
                           </li>
                           <li>
                              <p>Oracle SQLJ statement objects allow user-defined object and collection types to be passed to or retrieved from Oracle Database.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ710"></a><div class="props_rev_3"><a id="GUID-9A0CD688-00C7-4DBB-9F76-1727E5C291C4" name="GUID-9A0CD688-00C7-4DBB-9F76-1727E5C291C4"></a><h4 id="JSQLJ-GUID-9A0CD688-00C7-4DBB-9F76-1727E5C291C4" class="sect4">Java Compilation</h4>
                  <div>
                     <p>After code generation, SQLJ invokes the Java compiler to compile the generated <code class="codeph">.java</code> file. This produces a <code class="codeph">.class</code> file for each class you defined in your application, including iterator and connection context declarations, as well as a <code class="codeph">.class</code> file for the generated profile-keys class if you use ISO code generation (and presuming your application uses SQLJ executable statements). Any <code class="codeph">.java</code> files you specified directly on the SQLJ command line (for type-resolution, for example) are compiled at this time as well.
                     </p>
                     <p>In the example used in <span class="q">"<a href="translator-run-time-functionality.html#GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D">Code Generation</a>"</span>, the following <code class="codeph">.class</code> files would be produced in the appropriate directory (given package information in the source code):
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">Foo.class</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">Foo_SJProfileKeys.class</code> (ISO code generation only)
                           </p>
                        </li>
                        <li>
                           <p>A <code class="codeph">.class</code> file for each additional class you defined in <code class="codeph">Foo.sqlj</code></p>
                        </li>
                        <li>
                           <p>A <code class="codeph">.class</code> file for each iterator and connection context class you declared in <code class="codeph">Foo.sqlj</code> (whether public or private)
                           </p>
                        </li>
                     </ul>
                     <p>To ensure that <code class="codeph">.class</code> files and profiles (if any, whether <code class="codeph">.ser</code> or <code class="codeph">.class</code>) will be located in the same directory, SQLJ passes its <code class="codeph">-d</code> option to the Java compiler. If the <code class="codeph">-d</code> option is not set, then <code class="codeph">.class</code> files and profiles are placed in the same directory as the generated <code class="codeph">.java</code> file, which is placed according to the <code class="codeph">-dir</code> option setting.
                     </p>
                     <p>In addition, so that SQLJ and the Java compiler will use the same encoding, SQLJ passes its <code class="codeph">-encoding</code> option to the Java compiler unless the SQLJ <code class="codeph">-compiler-encoding-flag</code> is turned off. If the <code class="codeph">-encoding</code> option is not set, then SQLJ and the compiler will use the setting in the Java virtual machine (JVM) <code class="codeph">file.encoding</code> property.
                     </p>
                     <p>By default, SQLJ invokes the standard <code class="codeph">javac</code> compiler of the Sun Microsystems Java Development Kit (JDK), but other compilers can be used instead. You can request that an alternative Java compiler be used by setting the SQLJ <code class="codeph">-compiler-executable</code> option.
                     </p>
                     <div class="infoboxnote" id="GUID-9A0CD688-00C7-4DBB-9F76-1727E5C291C4__GUID-519B5687-3A4D-4710-AAD2-91FEF1F40234">
                        <p class="notep1">Note:</p>
                        <p>If you are using the SQLJ <code class="codeph">-encoding</code> option but using a compiler that does not have an <code class="codeph">-encoding</code> option, then turn off the SQLJ <code class="codeph">-compiler-encoding-flag</code>. Otherwise, SQLJ will attempt to pass the <code class="codeph">-encoding</code> option to the compiler.
                        </p>
                     </div>
                  </div>
               </div><a id="JSQLJ711"></a><div class="props_rev_3"><a id="GUID-1C3E2732-1185-4961-BA6B-5BA97A35EA48" name="GUID-1C3E2732-1185-4961-BA6B-5BA97A35EA48"></a><h4 id="JSQLJ-GUID-1C3E2732-1185-4961-BA6B-5BA97A35EA48" class="sect4">Profile Customization (ISO Code Generation)</h4>
                  <div>
                     <div class="section">
                        <p>After Java compilation, if you are using ISO standard code generation, then the generated profiles containing information about your embedded SQL instructions are customized, so that your application can work efficiently with your database and use vendor-specific extensions.</p>
                        <div class="infoboxnote" id="GUID-1C3E2732-1185-4961-BA6B-5BA97A35EA48__GUID-C2C785A9-8906-4F52-8821-C5E67E9D6E5A">
                           <p class="notep1">Note:</p>
                           <p>If you use the default Oracle-specific code generation, then SQLJ produces no profiles and skips the customization step. Your code will support Oracle-specific features through direct calls to Oracle JDBC application programming interfaces (APIs).</p>
                        </div>
                        <p>If you want to check for the options already set on the customizer, then you can make use of the following command:</p><pre class="oac_no_warn" dir="ltr">% sqlj -P-print *.ser
</pre><p>For more information about profile print option, refer to <span class="q">"<a href="appendix.html#GUID-F5F49038-71D7-4C4C-A567-355FB0FFB99A">Specialized Customizer: Profile Print Option (print)</a>"</span>.
                        </p>
                        <p>To accomplish customization, SQLJ invokes a front end called the customizer harness, which is a Java class that functions as a command-line utility. The harness, in turn, invokes a particular customizer, either the default Oracle customizer or a customizer that you specify through SQLJ option settings.</p>
                        <p>During customization, profiles are updated in the following ways:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To enable your application to use any vendor-specific database types or features, if applicable</p>
                           </li>
                           <li>
                              <p>To tailor the profiles so that your application is as efficient as possible in using features of the relevant database environment</p>
                           </li>
                        </ul>
                        <p>Without customization, you can access and use only standard JDBC types.</p>
                        <p>For example, Oracle customizer can update a profile to support a SQL <code class="codeph">PERSON</code> type that you had defined. You could then use <code class="codeph">PERSON</code> as you would any other supported data type.
                        </p>
                        <p>You must also customize with Oracle customizer to use any of the <code class="codeph">oracle.sql</code> type extensions. 
                        </p>
                        <div class="infoboxnote" id="GUID-1C3E2732-1185-4961-BA6B-5BA97A35EA48__GUID-7044CFBD-5675-4EB8-B9E5-45E6BF843550">
                           <p class="notep1">Note:</p>
                           <p>Be aware of the following regarding profile customization:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p> Oracle SQLJ run time and an Oracle JDBC driver will be required by your application whenever you use Oracle customizer during translation, even if you do not use Oracle extensions in your code.</p>
                              </li>
                              <li>
                                 <p>The generic SQLJ run time will be used if your application has no customizations, or none suitable for the connection.</p>
                              </li>
                              <li>
                                 <p>You can customize previously created profiles by specifying <code class="codeph">.ser</code> files, or <code class="codeph">.jar</code> files containing <code class="codeph">.ser</code> files, on the command line. But you cannot do this in the same running of SQLJ where translations are taking place. You can specify <code class="codeph">.ser</code>/<code class="codeph">.jar</code> files to be customized or <code class="codeph">.sqlj</code>/<code class="codeph">.java</code> files to be translated, compiled, and customized, but not both categories. For more information about how <code class="codeph">.jar</code> files are used, refer to <span class="q">"<a href="appendix.html#GUID-337DCFDF-48AD-495F-918B-63B86CD71039">JAR Files for Profiles</a>"</span>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JSQLJ712"></a><div class="props_rev_3"><a id="GUID-AEB9AFD5-5CE3-43AA-8883-A0A03D82A43D" name="GUID-AEB9AFD5-5CE3-43AA-8883-A0A03D82A43D"></a><h3 id="JSQLJ-GUID-AEB9AFD5-5CE3-43AA-8883-A0A03D82A43D" class="sect3">Functionality of Translator Errors, Messages, and Exit Codes</h3>
               <div>
                  <p>This section provides an overview of SQLJ translator messages and exit codes. It covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-FA67998B-E9A1-41C6-81F8-5F8677A6FDDD">Translator Error_ Warning_ and Information Messages</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-A1E4272B-002E-4CD9-9B19-62EDB9EB1BC3">Translator Status Messages</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-17DEEF13-D43F-490A-8A8E-067311A77771">Translator Exit Codes</a></p>
                     </li>
                  </ul>
               </div><a id="JSQLJ714"></a><a id="JSQLJ713"></a><div class="props_rev_3"><a id="GUID-FA67998B-E9A1-41C6-81F8-5F8677A6FDDD" name="GUID-FA67998B-E9A1-41C6-81F8-5F8677A6FDDD"></a><h4 id="JSQLJ-GUID-FA67998B-E9A1-41C6-81F8-5F8677A6FDDD" class="sect4">Translator Error, Warning, and Information Messages</h4>
                  <div>
                     <div class="section">
                        <p>There are three major levels of SQLJ messages that you may encounter during the translation phase: error, warning, and information. Warning messages can be further broken down into two levels: nonsuppressible and suppressible. Therefore, there are four message categories (in order of seriousness):</p>
                        <ol>
                           <li>
                              <p>Errors</p>
                           </li>
                           <li>
                              <p>Nonsuppressible warnings</p>
                           </li>
                           <li>
                              <p>Suppressible warnings</p>
                           </li>
                           <li>
                              <p>Information</p>
                           </li>
                        </ol>
                        <p>You can control suppressible warnings and information by using the SQLJ <code class="codeph">-warn</code> option.
                        </p>
                        <p>Error messages, prefixed by <code class="codeph">Error:</code>, indicate that one of the following has been encountered:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A condition that would prevent compilation (for example, the source file contains a public class whose name does not match the base file name)</p>
                           </li>
                           <li>
                              <p>A condition that would result in a run-time error if the code were executed (for example, the code attempts to fetch a <code class="codeph">VARCHAR</code> into a <code class="codeph">java.util.Vector</code>, using an Oracle JDBC driver)
                              </p>
                           </li>
                        </ul>
                        <p>If errors are encountered during SQLJ translation, then no output is produced and compilation and customization are not executed.</p>
                        <p>Nonsuppressible warning messages, prefixed by <code class="codeph">Warning:</code>, indicate that one of the following has been encountered:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A condition that would probably, but not necessarily, result in a run-time error if the code were executed (for example, a <code class="codeph">SELECT</code> statement whose output is not assigned to anything)
                              </p>
                           </li>
                           <li>
                              <p>A condition that compromises the ability of SQLJ to verify run-time aspects of your source code (for example, not being able to connect to the database you specify for online checking)</p>
                           </li>
                           <li>
                              <p>A condition that presumably resulted from a coding error or oversight</p>
                           </li>
                        </ul>
                        <p>SQLJ translation will complete if a nonsuppressible warning is encountered, but you should analyze the problem and determine if it should be fixed before running the application. If online checking is specified but cannot be completed, then offline checking is performed instead.</p>
                        <div class="infoboxnote" id="GUID-FA67998B-E9A1-41C6-81F8-5F8677A6FDDD__GUID-D6D26ED0-DED9-425C-BB43-40EA1C4AB949">
                           <p class="notep1">Note:</p>
                           <p>For logistical reasons, the parser that the SQLJ translator uses to analyze SQL operations is not the same top-level SQL parser that will be used at run time. Therefore, errors might occasionally be detected during translation that will not actually cause problems when your application runs. Accordingly, such errors are reported as nonsuppressible warnings, rather than fatal errors.</p>
                        </div>
                        <p>Suppressible warning messages, also prefixed by <code class="codeph">Warning:</code>, indicate that there is a problem with a particular aspect of your application, such as portability. An example of this is using an Oracle-specific type, such as <code class="codeph">oracle.sql.NUMBER</code>, to read from or write to Oracle Database 12<span class="italic">c </span>Release 1 (12.1). 
                        </p>
                        <p>Informational or status messages prefixed by <code class="codeph">Info:</code> do not indicate an error condition. They merely provide additional information about what occurred during the translation phase. 
                        </p>
                        <p>Suppressible warning and status messages can be suppressed by using the various <code class="codeph">-warn</code> option flags: 
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">cast/nocast</code>: The <code class="codeph">nocast</code> setting suppresses warnings about possible run-time errors when trying to cast an object type instance to an instance of a subtype.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">precision/noprecision</code>: The <code class="codeph">noprecision</code> setting suppresses warnings regarding possible loss of data precision during conversion.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">nulls/nonulls</code>: The <code class="codeph">nonulls</code> setting suppresses warnings about possible run-time errors due to nullable columns or types.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">portable/noportable</code>: The <code class="codeph">noportable</code> setting suppresses warnings regarding SQLJ code that uses Oracle-specific features or might otherwise be nonstandard and, therefore, not portable to other environments.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">strict/nostrict</code>: The <code class="codeph">nostrict</code> setting suppresses warnings issued if there are fewer columns in a named iterator than in the selected data that is to populate the iterator.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">verbose/noverbose</code>: The <code class="codeph">noverbose</code> setting suppresses status messages that are merely informational and do not indicate error or warning conditions.
                              </p>
                           </li>
                        </ul>
                        <p>If you receive warnings during your SQLJ translation, then you can try running the translator again with <code class="codeph">-warn=none</code> to see if any of the warnings are of the more serious (nonsuppressible) variety.
                        </p>
                        <p>The following table summarizes the categories of error and status messages generated by the SQLJ translator.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-FA67998B-E9A1-41C6-81F8-5F8677A6FDDD__CHEFFDGC">
                        <p class="titleintable">Table 10-2 SQLJ Translator Error Message Categories </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SQLJ Translator Error Message Categories " summary="summary" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d61763e1225">Message Category</th>
                                 <th align="left" valign="bottom" width="16%" id="d61763e1228">Prefix</th>
                                 <th align="left" valign="bottom" width="35%" id="d61763e1231">Indicates</th>
                                 <th align="left" valign="bottom" width="24%" id="d61763e1234">Suppressed By</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d61763e1239" headers="d61763e1225 ">
                                    <p>Error</p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d61763e1239 d61763e1228 ">
                                    <p><code class="codeph">Error:</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d61763e1239 d61763e1231 ">
                                    <p>Fatal error that will cause compilation failure or run-time failure (translation aborted)</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d61763e1239 d61763e1234 ">
                                    <p>NA</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d61763e1253" headers="d61763e1225 ">
                                    <p>Nonsuppressible warning</p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d61763e1253 d61763e1228 ">
                                    <p><code class="codeph">Warning</code>:
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d61763e1253 d61763e1231 ">
                                    <p>Condition that prevents proper translation or might cause run-time failure (translation completed)</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d61763e1253 d61763e1234 ">
                                    <p>NA</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d61763e1268" headers="d61763e1225 ">
                                    <p>Suppressible warning</p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d61763e1268 d61763e1228 ">
                                    <p><code class="codeph">Warning</code>:
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d61763e1268 d61763e1231 ">
                                    <p>Problem regarding a particular aspect of your application (translation completed) </p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d61763e1268 d61763e1234 ">
                                    <p><code class="codeph">-warn</code> option flags: <code class="codeph">nocast noprecision nonulls noportable nostrict</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d61763e1297" headers="d61763e1225 ">
                                    <p>Informational/status message</p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d61763e1297 d61763e1228 ">
                                    <p><code class="codeph">Info</code>:
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d61763e1297 d61763e1231 ">
                                    <p>Information regarding the translation process</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d61763e1297 d61763e1234 ">
                                    <p><code class="codeph">-warn</code> option flag: <code class="codeph">noverbose</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="JSQLJ715"></a><div class="props_rev_3"><a id="GUID-A1E4272B-002E-4CD9-9B19-62EDB9EB1BC3" name="GUID-A1E4272B-002E-4CD9-9B19-62EDB9EB1BC3"></a><h4 id="JSQLJ-GUID-A1E4272B-002E-4CD9-9B19-62EDB9EB1BC3" class="sect4">Translator Status Messages</h4>
                  <div>
                     <p>In addition to the error, warning, and information messages, SQLJ can produce status messages throughout all phases of SQLJ operation: translation, compilation, and customization. Status messages are produced as each file is processed and at each phase of SQLJ operation.</p>
                     <p>You can control status messages by using the SQLJ<code class="codeph"> -status</code> option.
                     </p>
                     <div class="infoboxnotealso" id="GUID-A1E4272B-002E-4CD9-9B19-62EDB9EB1BC3__GUID-6CF1D5CF-3D84-4F19-81E9-ACE63F93E5AD">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-6608C203-942D-4E92-8AA5-C523516449D1__I1007388">Real-Time Status Messages (-status)</a>"</span></p>
                     </div>
                  </div>
               </div><a id="JSQLJ716"></a><div class="props_rev_3"><a id="GUID-17DEEF13-D43F-490A-8A8E-067311A77771" name="GUID-17DEEF13-D43F-490A-8A8E-067311A77771"></a><h4 id="JSQLJ-GUID-17DEEF13-D43F-490A-8A8E-067311A77771" class="sect4">Translator Exit Codes</h4>
                  <div>
                     <p>The following exit codes are returned by the SQLJ translator to the operating system upon completion:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">0</code>: No error in execution
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">1</code>: Error in SQLJ execution
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">2</code>: Error in Java compilation
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">3</code>: Error in profile customization
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">4</code>: Error in class instrumentation, the optional mapping of line numbers from your <code class="codeph">.sqlj</code> source file to the resulting <code class="codeph">.class</code> file
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">5</code>: Error in <code class="codeph">ser2class</code> conversion, the optional conversion of profile files from <code class="codeph">.ser</code> files to <code class="codeph">.class</code> files
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-17DEEF13-D43F-490A-8A8E-067311A77771__GUID-29C6215C-9F24-4380-A415-E9C3934B023D">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If you issue the <code class="codeph">-help</code> or <code class="codeph">-version</code> option, then the SQLJ exit code is <code class="codeph">0</code>.
                              </p>
                           </li>
                           <li>
                              <p>If you run SQLJ without specifying any files to process, then SQLJ issues help output and returns exit code <code class="codeph">1</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="JSQLJ717"></a><div class="props_rev_3"><a id="GUID-AFF5C519-028E-4554-98E8-B8FF103515D1" name="GUID-AFF5C519-028E-4554-98E8-B8FF103515D1"></a><h3 id="JSQLJ-GUID-AFF5C519-028E-4554-98E8-B8FF103515D1" class="sect3">SQLJ Run Time</h3>
               <div>
                  <p>This section presents information about Oracle SQLJ run time, which is a thin layer of pure Java code that runs above the JDBC driver. </p>
                  <p>If you use the default Oracle-specific code generation, then the SQLJ run-time layer becomes even thinner, with a run time subset being used in conjunction with an Oracle JDBC driver. Most of the run-time functionality is compiled directly into Oracle JDBC calls. You cannot use a non-Oracle JDBC driver.</p>
                  <div class="infoboxnotealso" id="GUID-AFF5C519-028E-4554-98E8-B8FF103515D1__GUID-BE21A7F6-14D3-448A-9CBE-3939D169B8C4">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="key-programming-considerations.html#GUID-E0F0C310-400E-4F9C-8036-B44FB2A3E2FD">Oracle-Specific Code Generation (No Profiles)</a>"</span></p>
                  </div>
                  <p>When SQLJ translates SQLJ source code using ISO standard code generation, embedded SQL commands in your Java application are replaced by calls to the SQLJ run time. Run-time classes act as wrappers for equivalent JDBC classes, providing special SQLJ functionality. When the end user runs the application, the SQLJ run time acts as an intermediary, reading information about your SQL operations from your profile and passing instructions along to the JDBC driver.</p>
                  <p>Generally speaking, however, a SQLJ run time can be implemented to use any JDBC driver or vendor-proprietary means of accessing the database. Oracle SQLJ run time requires a JDBC driver, but can use any standard JDBC driver. To use Oracle-specific data types and features, however, you must use an Oracle JDBC driver. For the purposes of this document, it is generally assumed that you are using Oracle Database and one of Oracle JDBC drivers.</p>
                  <div class="infoboxnote" id="GUID-AFF5C519-028E-4554-98E8-B8FF103515D1__GUID-4EAC28BE-FE04-4F1E-9FDD-FCE0556B495D">
                     <p class="notep1">Note:</p>
                     <p>For ISO standard SQLJ code generation, Oracle SQLJ run time and an Oracle JDBC driver will be required by your application whenever you use Oracle customizer during translation, even if you do not use Oracle extensions in your code. The generic SQLJ run time will be used if your application has no customizations, or none suitable for the connection.</p>
                  </div>
               </div><a id="JSQLJ719"></a><a id="JSQLJ720"></a><a id="JSQLJ718"></a><div class="props_rev_3"><a id="GUID-7B13542C-1664-40CC-882A-C44361F817F0" name="GUID-7B13542C-1664-40CC-882A-C44361F817F0"></a><h4 id="JSQLJ-GUID-7B13542C-1664-40CC-882A-C44361F817F0" class="sect4">SQLJ Run Time Packages</h4>
                  <div>
                     <p> Oracle SQLJ run time includes packages you will likely import and use directly, and others that are used only indirectly. </p>
                     <div class="infoboxnote" id="GUID-7B13542C-1664-40CC-882A-C44361F817F0__GUID-3D1FF1CA-E3FE-4CFA-B7FC-89D8CE366AEA">
                        <p class="notep1">Note:</p>
                        <p>These packages are included in the run-time libraries <code class="codeph">runtime12</code>, <code class="codeph">runtime12ee</code>, and <code class="codeph">runtime</code>.
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-7B13542C-1664-40CC-882A-C44361F817F0__GUID-A2D72335-C3EF-42A9-A922-CB3F495EA780">Packages Used Directly</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The packages containing classes that you can import and use directly in your application are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">sqlj.runtime</code></p>
                              <p>This package includes the <code class="codeph">ExecutionContext</code> class, <code class="codeph">ConnectionContext</code> interface, <code class="codeph">ConnectionContextFactory</code> interface, <code class="codeph">ResultSetIterator</code> interface, <code class="codeph">ScrollableResultSetIterator</code> interface, and wrapper classes for streams (<code class="codeph">BinaryStream</code> and <code class="codeph">CharacterStream</code>, as well as the deprecated <code class="codeph">AsciiStream</code> and <code class="codeph">UnicodeStream</code>).
                              </p>
                              <p>Interfaces and abstract classes in this package are implemented by classes in the <code class="codeph">sqlj.runtime.ref</code> or <code class="codeph">oracle.sqlj.runtime</code> package or by classes generated by the SQLJ translator.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">sqlj.runtime.ref</code></p>
                              <p>The classes in this package implement interfaces and abstract classes in the <code class="codeph">sqlj.runtime</code> package. You will likely use the <code class="codeph">sqlj.runtime.ref.DefaultContext</code> class, which is used to specify your default connection and create default connection context instances. The other classes in this package are used internally by SQLJ in defining classes during code generation, such as iterator classes and connection context classes that you declare in your SQLJ code.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.sqlj.runtime</code></p>
                              <p>This package contains the <code class="codeph">Oracle</code> class that you can use to instantiate the <code class="codeph">DefaultContext</code> class and establish your default connection. It also contains Oracle-specific run-time classes used by the Oracle implementation of SQLJ, including functionality to convert to and from Oracle type extensions.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-7B13542C-1664-40CC-882A-C44361F817F0__GUID-C92F0F02-A7A6-4653-9414-ED4A6CB1DD25">
                           <p class="notep1">Note:</p>
                           <p>Packages whose names begin with <code class="codeph">oracle</code> are for Oracle-specific SQLJ features.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7B13542C-1664-40CC-882A-C44361F817F0__GUID-03F3C57E-F7AB-47A9-B606-07F9FA65EC82">Packages Used Indirectly</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The packages containing classes that are for internal use by SQLJ are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">sqlj.runtime.profile</code></p>
                              <p>This package contains interfaces and abstract classes that define what SQLJ profiles look like (applicable only for ISO standard code generation). This includes the <code class="codeph">EntryInfo</code> and <code class="codeph">TypeInfo</code> classes. Each entry in a profile is described by an <code class="codeph">EntryInfo</code> object, where a profile entry corresponds to a SQL operation in your application. Each parameter in a profile entry is described by a <code class="codeph">TypeInfo</code> object.
                              </p>
                              <p>The interfaces and classes in this package are implemented by classes in the <code class="codeph">sqlj.runtime.profile.ref</code> package.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">sqlj.runtime.profile.ref</code></p>
                              <p>This package contains classes that implement the interfaces and abstract classes of the <code class="codeph">sqlj.runtime.profile</code> package and are used internally by the SQLJ translator in defining profiles (for ISO standard code generation only). It also provides the default JDBC-based run-time implementation.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">sqlj.runtime.error</code></p>
                              <p>This package, used internally by SQLJ, contains resource files for all generic (not Oracle-specific) error messages that can be generated by the SQLJ translator.</p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.sqlj.runtime.error</code></p>
                              <p>This package, used internally by SQLJ, contains resource files for all Oracle-specific error messages that can be generated by the SQLJ translator.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ721"></a><div class="props_rev_3"><a id="GUID-6967B6B3-C5EC-4894-803A-31FBA18A3A6B" name="GUID-6967B6B3-C5EC-4894-803A-31FBA18A3A6B"></a><h4 id="JSQLJ-GUID-6967B6B3-C5EC-4894-803A-31FBA18A3A6B" class="sect4">Categories of Run-Time Errors</h4>
                  <div>
                     <p>Run-time errors can be generated by any of the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>SQLJ run time</p>
                        </li>
                        <li>
                           <p>JDBC driver</p>
                        </li>
                        <li>
                           <p>RDBMS</p>
                        </li>
                     </ul>
                     <p>In any of these cases, a SQL exception is generated as an instance of the <code class="codeph">java.sql.SQLException</code> class, or as a subclass, such as <code class="codeph">sqlj.runtime.SQLNullException</code>.
                     </p>
                     <p>Depending on where the error came from, there might be meaningful information you can retrieve from an exception using the <code class="codeph">getSQLState()</code>, <code class="codeph">getErrorCode()</code>, and <code class="codeph">getMessage()</code> methods. SQLJ errors, for example, include meaningful SQL states and messages.
                     </p>
                     <p>If errors are generated by Oracle JDBC driver or RDBMS at run time, look at the prefix and consult the appropriate documentation: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../jjdbc/JDBC-error-messages.html#JJDBC-GUID-F3E50939-FCB2-4254-9B33-43024A0BD6F5" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide </span></a>for JDBC errors
                           </p>
                        </li>
                        <li>
                           <p>Oracle error message documentation for RDBMS errors (see <span class="q">"<a href="preface.html#GUID-77D8845E-2F3A-4BF8-9501-561D66752F1B">Related Documents</a>"</span>)
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="JSQLJ722"></a><div class="sect2"><a id="GUID-50785BF7-712B-4BFC-BE22-0E86B626BBA6" name="GUID-50785BF7-712B-4BFC-BE22-0E86B626BBA6"></a><h3 id="JSQLJ-GUID-50785BF7-712B-4BFC-BE22-0E86B626BBA6" class="sect3">Globalization Support in the Translator and Run Time</h3>
               <div>
                  <p>The Oracle SQLJ implementation uses the Java built-in capabilities for globalization support. This section discusses the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Basics of SQLJ support for globalization and native character encoding, starting with background information covering some of the implementation details of character encoding and language support in the Oracle implementation</p>
                     </li>
                     <li>
                        <p>Options available through the SQLJ command line that enable you to adjust your Oracle Globalization Support configuration</p>
                     </li>
                     <li>
                        <p>Extended Oracle globalization support</p>
                     </li>
                     <li>
                        <p>Relevant manipulation outside of SQLJ for globalization support</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-50785BF7-712B-4BFC-BE22-0E86B626BBA6__GUID-492C0B3C-7073-4B40-97A9-B04BE1CF98CE">
                     <p class="notep1">Note:</p>
                     <p>Some prior knowledge of Oracle Globalization Support is assumed, particularly regarding character encoding and locales. For information, refer to: </p><a href="../nlspg/choosing-character-set.html#NLSPG-GUID-1943C2FB-0438-45AD-A82B-D4090A3F4A94" target="_blank"><span><cite>Oracle Database Globalization Support Guide</cite></span></a></div>
                  <p>This section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027">Character Encoding and Language Support</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-7C321BCC-133C-44AB-BEE0-02B418720E95">SQLJ and Java Settings for Character Encoding and Language Support</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077">SQLJ Extended Globalization Support</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3">Manipulation Outside of SQLJ for Globalization Support</a></p>
                     </li>
                  </ul>
               </div><a id="JSQLJ724"></a><a id="JSQLJ725"></a><a id="JSQLJ726"></a><a id="JSQLJ723"></a><div class="props_rev_3"><a id="GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027" name="GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027"></a><h4 id="JSQLJ-GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027" class="sect4">Character Encoding and Language Support</h4>
                  <div>
                     <p>There are two main areas of SQLJ globalization support:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Character encoding</p>
                           <p>There are three parts to this:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Character encoding for reading and generating source files during SQLJ translation</p>
                              </li>
                              <li>
                                 <p>Character encoding for generating error and status messages during SQLJ translation</p>
                              </li>
                              <li>
                                 <p>Character encoding for generating error and status messages when the application runs</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Language support</p>
                           <p>This determines which translations of error and status message lists are used when SQLJ outputs messages to the user, either during SQLJ translation or at SQLJ run time.</p>
                        </li>
                     </ul>
                     <p>Globalization support at run time is transparent to the user, presuming your SQLJ source code and SQL character data use only characters that are within the database character set. SQL character data is transparently mapped into and out of Unicode.</p>
                     <p>Note that for multi-language applications, it is advisable to use one of the following options:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Use a database whose character set supports Unicode.</p>
                        </li>
                        <li>
                           <p>Even if your database character set does not support Unicode, specify that the national language character set supports Unicode. (Refer to the <a href="../nlspg/overview-of-globalization-support.html#NLSPG-GUID-4530259E-9CA6-4FC3-A024-3EB6C2D90DAE" target="_blank"><span><cite>Oracle Database Globalization Support Guide</cite></span></a>.) In this case, you will typically use the SQLJ Unicode character types described in <span class="q">"<a href="translator-run-time-functionality.html#GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077">SQLJ Extended Globalization Support</a>"</span>. 
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027__GUID-65C74012-F53D-48E2-B2AE-D5AE254932B4">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The SQLJ translator fully supports Unicode 2.0 and Java Unicode escape sequences. However, the SQLJ command-line utility does not support Unicode escape sequences. You can use only native characters supported by the operating system. Command-line options requiring Unicode escape sequences can be entered in a SQLJ properties file instead, because properties files do support Unicode escape sequences.</p>
                           </li>
                           <li>
                              <p>Encoding and conversion of characters in your embedded SQL operations and characters read or written to the database, are handled by JDBC directly. SQLJ does not play a role in this. If online semantics-checking is enabled during translation, however, then you will be warned if there are characters within the text of your SQL data manipulation language (DML) operations that might not be convertible to the database character set.</p>
                           </li>
                           <li>
                              <p>For information about JDBC globalization support functionality, refer to the<a href="../jjdbc/globalization-support.html#JJDBC-GUID-CE02B998-DD6A-46FC-8ECF-AD2413F09A97" target="_blank"><span class="italic"> Oracle Database JDBC Developer's Guide</span><span><cite>Oracle Database JDBC Developer’s Guide</cite></span></a>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027__GUID-102F5957-EA23-409B-A409-CBDB384F4D19">Overview of Character Encoding</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The character encoding setting for source files tells SQLJ two things:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>How source code is represented in <code class="codeph">.sqlj</code> and <code class="codeph">.java</code> input files that the SQLJ translator must read
                              </p>
                           </li>
                           <li>
                              <p>How SQLJ should represent source code in <code class="codeph">.java</code> output files that it generates
                              </p>
                           </li>
                        </ul>
                        <p>By default, SQLJ uses the encoding indicated by the JVM <code class="codeph">file.encoding</code> property. If your source files use other encodings, then you must indicate this to SQLJ so that appropriate conversion can be performed.
                        </p>
                        <p>Use the SQLJ <code class="codeph">-encoding</code> option to accomplish this. SQLJ also passes the <code class="codeph">-encoding</code> setting to the compiler for it to use in reading <code class="codeph">.java</code> files, unless the SQLJ <code class="codeph">-compiler-encoding-flag</code> is off.
                        </p>
                        <div class="infoboxnote" id="GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027__GUID-FE482270-838A-4B55-8DDC-5981880D5C9A">
                           <p class="notep1">Note:</p>
                           <p>Do not alter the <code class="codeph">file.encoding</code> system property to specify encodings for source files. This might impact other aspects of your Java operation and might offer only a limited number of encodings, depending on platform or operating system considerations.
                           </p>
                        </div>
                        <p>The system character-encoding setting also determines how SQLJ error and status messages are represented when output to the user, either during translation or during run time when the end user is running the application. This is set according to the <code class="codeph">file.encoding</code> property and is unaffected by the SQLJ <code class="codeph">-encoding</code> option.
                        </p>
                        <p>For source file encoding, you can use the <code class="codeph">-encoding</code> option to specify any character encoding supported by your Java environment. If you are using the Sun Microsystems JDK, then these are listed in the <code class="codeph">native2ascii</code> documentation, which you can find at the following Web site:
                        </p>
                        <p>https://docs.oracle.com/javase/8/docs/technotes/tools/windows/native2ascii.html</p>
                        <p>Dozens of encodings are supported by the Sun Microsystems JDK. These include <code class="codeph">8859_1</code> through <code class="codeph">8859_9</code> (ISO Latin-1 through ISO Latin-9), <code class="codeph">JIS</code> (Japanese), <code class="codeph">SJIS</code> (shift-JIS, Japanese), and <code class="codeph">UTF8</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027__GUID-029CAE8C-7E24-42D7-BD90-63C57C273B92">Character Encoding Notes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Be aware of the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A character that is not representable in the encoding used, for either messages or source files, can always be represented as a Java Unicode escape sequence. This is of the form <code class="codeph">\uHHHH</code>, where each H is a hexadecimal digit.
                              </p>
                           </li>
                           <li>
                              <p>As a <code class="codeph">.sqlj</code> source file is read and processed during translation, error messages quote source locations based on character position (not byte position) in the input encoding.
                              </p>
                           </li>
                           <li>
                              <p>Encoding settings, either set through the SQLJ <code class="codeph">-encoding</code> option or the Java <code class="codeph">file.encoding</code> setting, do not apply to Java properties files, such as <code class="codeph">sqlj.properties</code> and <code class="codeph">connect.properties</code>. Properties files always use the encoding <code class="codeph">8859_1</code>. This is a feature of Java in general, not SQLJ in particular. However, you can use Unicode escape sequences in a properties file. You can use the <code class="codeph">native2ascii</code> utility to determine escape sequences.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027__GUID-102D475A-333F-428C-B2C8-C5412CD91BBB">Overview of Language Support</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>SQLJ error and status reporting, either during translation or during run time, uses the Java locale setting in the JVM <code class="codeph">user.language</code> property. Users typically do not have to alter this setting.
                        </p>
                        <p>Language support is implemented through message resources that use key/value pairs. For example, where an English-language resource has a key/value pair of <code class="codeph">"OkKey", "Okay"</code>, a German-language resource has a key/value pair of <code class="codeph">"OkKey", "Gut"</code>. The locale setting determines the message resources used.
                        </p>
                        <p>SQLJ supports locale settings of <code class="codeph">en</code> (English), <code class="codeph">de</code> (German), <code class="codeph">fr</code> (French), and <code class="codeph">ja</code> (Japanese).
                        </p>
                        <div class="infoboxnote" id="GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027__GUID-0E66AB31-70FE-43CA-AA4D-2021374A40E4">
                           <p class="notep1">Note:</p>
                           <p>Java locale settings can support country and variant extensions in addition to language extensions. For example, consider <code class="codeph">ErrorMessages_de_CH_var1</code>, where <code class="codeph">CH</code> is the Swiss country extension of German and <code class="codeph">var1</code> is an additional variant. SQLJ, however, currently supports only language extensions (<code class="codeph">de</code> in this example), ignoring country and variant extensions.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ728"></a><a id="JSQLJ729"></a><a id="JSQLJ730"></a><a id="JSQLJ727"></a><div class="sect3"><a id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95" name="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95"></a><h4 id="JSQLJ-GUID-7C321BCC-133C-44AB-BEE0-02B418720E95" class="sect4">SQLJ and Java Settings for Character Encoding and Language Support</h4>
                  <div>
                     <p>The Oracle SQLJ implementation provides syntax that enables you to set the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The character encoding used by the SQLJ translator and Java compiler in representing source code</p>
                           <p>Use the SQLJ <code class="codeph">-encoding</code> option.
                           </p>
                        </li>
                        <li>
                           <p>The character encoding used by the SQLJ translator and run time in representing error and status messages</p>
                           <p>Use the SQLJ <code class="codeph">-J</code> prefix to set the Java <code class="codeph">file.encoding</code> property.
                           </p>
                        </li>
                        <li>
                           <p>The locale used by the SQLJ translator and run time for error and status messages</p>
                           <p>Use the SQLJ <code class="codeph">-J</code> prefix to set the Java <code class="codeph">user.language</code> property.
                           </p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95__GUID-083A5F6D-FE73-4173-BF42-BBAF7A20A49B">Setting Character Encoding for Source Code</p>
                     </div>
                     <!-- class="section" -->
                     <p>Use the SQLJ <code class="codeph">-encoding</code> option to determine the character encoding used in representing <code class="codeph">.sqlj</code> files read by the translator, <code class="codeph">.java</code> files generated by the translator, and <code class="codeph">.java</code> files read by the compiler. The option setting is passed by SQLJ to the compiler, unless the SQLJ <code class="codeph">-compiler-encoding-flag</code> is off.
                     </p>
                     <p>This option can be set on the command line or <code class="codeph">SQLJ_OPTIONS</code> environment variable, as in the following example:
                     </p><pre class="oac_no_warn" dir="ltr">-encoding=SJIS
</pre><p>Alternatively, you can set it in a SQLJ properties file, as follows:</p><pre class="oac_no_warn" dir="ltr">sqlj.encoding=SJIS
</pre><p>If the encoding option is not set, then both the translator and compiler will use the encoding specified in the JVM <code class="codeph">file.encoding</code> property. This can also be set through the SQLJ command line.
                     </p>
                     <div class="infoboxnotealso" id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95__GUID-A96C4CEA-17D8-4D6A-8033-5DCC853F1CA4">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-93FF52FC-8C29-488C-B82D-FFA8A6C5A03B">Encoding for Input and Output Source Files (-encoding)</a>"</span> and <span class="q">"<a href="translator-command-line-and-options.html#GUID-A0033E23-525B-4538-80FE-4BA1641EB245">Compiler Encoding Support (-compiler-encoding-flag)</a>"</span><a href="translator-command-line-and-options.html#GUID-93FF52FC-8C29-488C-B82D-FFA8A6C5A03B">Encoding for Input and Output Source Files (-encoding)</a></p>
                     </div>
                     <div class="infoboxnote" id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95__GUID-1948CD1C-346B-49C0-B0CF-458C5F80CDA3">
                        <p class="notep1">Note:</p>
                        <p>If your <code class="codeph">-encoding</code> is to be set routinely to the same value, then it is most convenient to specify it in a properties file, as in the second example.
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95__GUID-4738A92C-0A71-41EB-8C71-360AE15C0803">Setting Character Encoding and Locale for SQLJ Messages</p>
                     </div>
                     <!-- class="section" -->
                     <p>Character encoding and locale for SQLJ error and status messages produced, during both translation and run time, are determined by the Java <code class="codeph">file.encoding</code> and <code class="codeph">user.language</code> properties. Although it is typically not necessary, you can set these and other JVM properties in the SQLJ command line by using the SQLJ <code class="codeph">-J</code> prefix. Options marked by this prefix are passed to the JVM.
                     </p>
                     <p>Set the character encoding as in the following example, which specifies shift-JIS Japanese character encoding:</p><pre class="oac_no_warn" dir="ltr">-J-Dfile.encoding=SJIS
</pre><div class="infoboxnote" id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95__GUID-5C986A56-69B9-4088-9F84-315075C821FB">
                        <p class="notep1">Note:</p>
                        <p>Only a limited number of encodings might be available, depending on platform or operating system considerations.</p>
                     </div>
                     <p>Set the locale as in the following example (which specifies Japanese locale):</p><pre class="oac_no_warn" dir="ltr">-J-Duser.language=ja
</pre><p>The <code class="codeph">-J</code> prefix can be used on the command line or <code class="codeph">SQLJ_OPTIONS</code> environment variable only. It cannot be used in a properties file, because properties files are read after the JVM is invoked.
                     </p>
                     <div class="infoboxnote" id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95__GUID-9EC673A6-05E7-49D4-BDEF-C0920C27EAFC">
                        <p class="notep1">Note:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If your <code class="codeph">file.encoding</code>, <code class="codeph">user.language</code>, or any other Java property is to be set routinely to the same value, it is most convenient to specify <code class="codeph">-J</code> settings in the <code class="codeph">SQLJ_OPTIONS</code> environment variable. This way, you do not have to repeatedly specify them on the command line. The syntax is essentially the same as on the command line. For more information, refer to <span class="q">"<a href="translator-command-line-and-options.html#GUID-599F34B4-58F0-45FD-ACCF-F2AA34508546">SQLJ_OPTIONS Environment Variable for Option Settings</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Remember that if you do not set the SQLJ <code class="codeph">-encoding</code> option, then setting <code class="codeph">file.encoding</code> will affect encoding for source files as well as error and status messages.
                              </p>
                           </li>
                           <li>
                              <p>Be aware that altering the <code class="codeph">file.encoding</code> property might have unforeseen consequences on other aspects of your Java operations. Also, any new setting must be compatible with your operating system.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95__GUID-328B9DEE-83B9-4A3E-A12E-50B7EBCE837A">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-763B9DED-7755-408F-9DD1-5679118979B2">Command-Line Syntax and Operations</a>"</span> and <span class="q">"<a href="translator-command-line-and-options.html#GUID-A54F8576-478C-4A96-9B9E-EA8778FD91B0">Options to Pass to the Java Virtual Machine</a>"</span></p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95__GUID-B3113754-5A5F-40F8-A393-CA400940F270">SQLJ Command-Line Example: Setting Encoding and Locale</p>
                     </div>
                     <!-- class="section" -->
                     <p>Following is a complete SQLJ command line, including JVM <code class="codeph">file.encoding</code> and <code class="codeph">user.language</code> settings:
                     </p><pre class="oac_no_warn" dir="ltr">% sqlj -encoding=8859_1 -J-Dfile.encoding=SJIS -J-Duser.language=ja Foo.sqlj
</pre><p>This example uses the SQLJ <code class="codeph">-encoding</code> option to specify <code class="codeph">8859_1</code> (Latin-1) for source code representation during SQLJ translation. This encoding is used by the translator in reading the <code class="codeph">.sqlj</code> input file and in generating the <code class="codeph">.java</code> output file. The encoding is then passed to the Java compiler to be used in reading the generated <code class="codeph">.java</code> file. The <code class="codeph">-encoding</code> option, when specified, is always passed to the Java compiler unless the SQLJ <code class="codeph">-compiler-encoding-flag</code> is disabled.
                     </p>
                     <p>For error and status messages output during translation of <code class="codeph">Foo.sqlj</code>, the SQLJ translator uses the <code class="codeph">SJIS</code> encoding and the <code class="codeph">ja</code> locale.
                     </p>
                  </div>
               </div><a id="JSQLJ732"></a><a id="JSQLJ733"></a><a id="JSQLJ734"></a><a id="JSQLJ735"></a><a id="JSQLJ731"></a><div class="sect3"><a id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077" name="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077"></a><h4 id="JSQLJ-GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077" class="sect4">SQLJ Extended Globalization Support</h4>
                  <div>
                     <p>The Oracle SQLJ implementation includes support for Java types (Unicode character types) derived from existing character and stream types that convey expected usage for globalization. In SQLJ it is not possible to use JDBC statement or result set methods directly that otherwise serve the purpose of globalization support. If you are interested in information about those methods, refer to the<a href="../jjdbc/globalization-support.html#JJDBC-GUID-CE02B998-DD6A-46FC-8ECF-AD2413F09A97" target="_blank"><span class="italic"> Oracle Database JDBC Developer's Guide</span></a></p>
                     <p>If the database natively supports Unicode, then the types described in the following section are unnecessary. In this case, globalization support will be handled transparently. It is when the database does not natively support Unicode, but has a national language character set that does support Unicode, that you will typically use these types (for columns that use the national language character set).</p>
                     <div class="section" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__CHEBDEFG">
                        <p class="subhead3" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__GUID-07468B05-0A0D-4AA6-B59D-D359315FC6A6">Java Types for Globalization Support</p>
                     </div>
                     <!-- class="section" -->
                     <p>The Oracle SQLJ implementation provides a number of Java types for globalization support. The following table notes the correspondence between these globalization support types and general-use JDBC and SQLJ character and stream types. Each globalization support type, except for <code class="codeph">NString</code>, is a subclass of its corresponding JDBC or SQLJ type.
                     </p>
                     <div class="tblformal" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__CHEBEAGE">
                        <p class="titleintable">Table 10-3 JDBC and SQLJ Types and Corresponding Globalization Types </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="JDBC and SQLJ Types and Corresponding Globalization Types " summary="This table describes the JDBC and SQLJ Types and the corresponding Globalization Types." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="43%" id="d61763e2473">JDBC and SQLJ Types</th>
                                 <th align="left" valign="bottom" width="57%" id="d61763e2476">Globalization Support Types</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="43%" id="d61763e2486" headers="d61763e2473 ">
                                    <p><span class="bold">JDBC types:</span></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d61763e2486 d61763e2476 ">
                                    <p>&nbsp;</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="43%" id="d61763e2494" headers="d61763e2473 ">
                                    <p><code class="codeph">oracle.sql.CHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d61763e2494 d61763e2476 ">
                                    <p><code class="codeph">oracle.sql.NCHAR</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="43%" id="d61763e2503" headers="d61763e2473 ">
                                    <p><code class="codeph">java.lang.String</code></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d61763e2503 d61763e2476 ">
                                    <p><code class="codeph">oracle.sql.NString</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="43%" id="d61763e2512" headers="d61763e2473 ">
                                    <p><code class="codeph">oracle.sql.CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d61763e2512 d61763e2476 ">
                                    <p><code class="codeph">oracle.sql.NCLOB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="43%" id="d61763e2521" headers="d61763e2473 ">
                                    <p><span class="bold">SQLJ types:</span></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d61763e2521 d61763e2476 ">
                                    <p>&nbsp;</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="43%" id="d61763e2529" headers="d61763e2473 ">
                                    <p><code class="codeph">sqlj.runtime.CharacterStream</code></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d61763e2529 d61763e2476 ">
                                    <p><code class="codeph">oracle.sqlj.runtime.NcharCharacterStream</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="43%" id="d61763e2538" headers="d61763e2473 ">
                                    <p><code class="codeph">sqlj.runtime.AsciiStream</code></p>
                                    <p>(Deprecated; use <code class="codeph">CharacterStream</code>.)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d61763e2538 d61763e2476 ">
                                    <p><code class="codeph">oracle.sqlj.runtime.NcharAsciiStream</code></p>
                                    <p>(Deprecated; use <code class="codeph">NcharCharacterStream</code>.)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="43%" id="d61763e2557" headers="d61763e2473 ">
                                    <p><code class="codeph">sqlj.runtime.UnicodeStream</code></p>
                                    <p>(Deprecated; use <code class="codeph">CharacterStream</code>.)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d61763e2557 d61763e2476 ">
                                    <p><code class="codeph">oracle.sqlj.runtime.NcharUnicodeStream</code></p>
                                    <p>(Deprecated; use <code class="codeph">NcharCharacterStream</code>.)
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>In situations where your application must handle national language character strings, either inserting them into or selecting them from national language character set columns, use the globalization support types instead of the corresponding general-use types.</p>
                     <div class="infoboxnote" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__GUID-73297022-6B89-4B71-AC27-C6B69D644137">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>All globalization support types add automatic registration of intended usage for <code class="codeph">IN</code> and <code class="codeph">OUT</code> parameters, but are otherwise identical in usage to the corresponding JDBC or SQLJ type (including constructors).
                              </p>
                           </li>
                           <li>
                              <p>Use of globalization support types is unnecessary in iterator columns, because the underlying network protocol supports national language characters implicitly for the underlying result sets.</p>
                           </li>
                        </ul>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__GUID-03FECBDD-202E-473C-9898-8BD6399E2F71">NString Class Usage and Notes</p>
                     </div>
                     <!-- class="section" -->
                     <p>The <code class="codeph">oracle.sql.CHAR</code> class, and therefore its <code class="codeph">NCHAR</code> subclass, provides only constructors that require explicit knowledge of the database character set. Therefore, the <code class="codeph">oracle.sql.NString</code> class, a wrapper for <code class="codeph">java.lang.String</code>, is preferable in most circumstances. The <code class="codeph">NString</code> class provides simpler constructors and ensures that the national language character form of use is registered with the JDBC driver.
                     </p>
                     <p>Following are the key <code class="codeph">NString</code> methods:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">NString(String)</code>: This constructor creates an <code class="codeph">NString</code> instance from an existing <code class="codeph">String</code> instance.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">String toString()</code>: This method returns the underlying <code class="codeph">String</code> instance.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">String getString()</code>: This method also returns the underlying <code class="codeph">String</code> instance.
                           </p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">toString()</code> method enables you to use the <code class="codeph">NString</code> instance in string concatenation expressions (such as <code class="codeph">"a"+b</code>, where <code class="codeph">b</code> is a string). The <code class="codeph">getString()</code> method, provided in the <code class="codeph">CHAR</code> superclass, is supported as well for uniformity. In addition, the member methods of the <code class="codeph">String</code> class are carried over to the <code class="codeph">NString</code> wrapper class to enable you to write more concise code.
                     </p>
                     <p>In SQLJ applications, for versions prior to Oracle Database 11<span class="italic">g</span>, you must use host variables of the <code class="codeph">NString</code> type to bind columns of the <code class="codeph">NCHAR</code> type. For example, consider the following table:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE Tbl1 (
       ColA  CHAR
       NColB NCHAR
)
</pre><p>To insert a row in this table through a SQLJ application, use a code similar to the following:</p><pre class="oac_no_warn" dir="ltr">...
String v_a = "\uFF5E";
NString v_nb = "\uFF5E";
#sql {INSERT INTO Tbl1 (ColA, NColB) VALUES (:v_a, :v_nb)};
...
</pre><p>Since Oracle Database 11<span class="italic">g</span> Release 1, SQLJ applications can use <code class="codeph">String</code> variables to bind <code class="codeph">NCHAR</code> columns. Therefore, the preceding example can be rewritten as follows:
                     </p><pre class="oac_no_warn" dir="ltr">...
String v_a = "\uFF5E";
String v_nb = "\uFF5E";
#sql {INSERT INTO Tbl1 (ColA, NColB) VALUES (:v_a, :v_nb)};
...
</pre><p>However, if you want to use <code class="codeph">String</code> host variable to bind to <code class="codeph">NCHAR</code> columns, then you must translate the SQLJ file with the <code class="codeph">-ncharconv</code> SQLJ translator option, as follows:
                     </p><pre class="oac_no_warn" dir="ltr">sqlj -ncharconv [-<span class="italic">options</span>] app.sqlj
</pre><p>In the preceding command, <span class="italic"><code class="codeph">options</code></span> can be other SQLJ options and <code class="codeph">app.sqlj</code> is the SQLJ file that contains the code.
                     </p>
                     <p>When this option is used, the <a id="d61763e2729" class="indexterm-anchor"></a><code class="codeph">setFormOfUse</code> method will be generated for all binds to character columns, that is, <code class="codeph">CHAR</code> or <code class="codeph">NCHAR</code> columns.
                     </p>
                     <div class="infoboxnote" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__GUID-8BF3E3E9-0693-4800-B491-1F7307006EFE">
                        <p class="notep1">Note:</p>
                        <p>When the SQLJ file is compiled with the <code class="codeph">-ncharconv</code> option, the <code class="codeph">setFormOfUse</code> method is used in the generated code for <code class="codeph">codegen=oracle</code>. For <code class="codeph">codegen=iso</code>, this option information is passed to Oracle SQLJ run time, which internally uses <code class="codeph">SetFormOfUse</code> for bind at run time.
                        </p>
                     </div>
                     <p>The SQLJ application can use <code class="codeph">String</code> host variable to retrieve data from the server without using the <code class="codeph">-ncharconv</code> option, because the information about the column type is fetched at the client-side and JDBC internally sets the form for the appropriate columns.
                     </p>
                     <div class="infoboxnote" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__GUID-C088CCBF-FF10-416C-AA7A-9C051840498E">
                        <p class="notep1">Note:</p>
                        <p>There may be a small difference in the performance when using the <code class="codeph">-ncharconv</code> option, depending on the database character set and national charster set and the number of character columns in the table.
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__GUID-3FB8EF78-3CAB-4AB4-93EC-951A4B0E23AB">Globalization Support Examples</p>
                     </div>
                     <!-- class="section" -->
                     <p>The following examples show use of the <code class="codeph">NString</code> class:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">NString</code> as <code class="codeph">IN</code> argument
                           </p>
                           <p>This example uses an <code class="codeph">NString</code> instance as an input parameter to the database.
                           </p><pre class="oac_no_warn" dir="ltr">import oracle.sql.NString;
...
NString nc_name = new NString("Name with strange characters");
#sql { update PEOPLE
       set city = :(new NString("\ufff2")), name = :nc_name
       where num= :n };
...
</pre></li>
                        <li id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__I1006452">
                           <p><code class="codeph">NString</code> as <code class="codeph">OUT</code> argument
                           </p>
                           <p>This example uses an <code class="codeph">NString</code> instance as an output parameter from the database.
                           </p><pre class="oac_no_warn" dir="ltr">import oracle.sql.NString;
...
NString nstr;
#sql { call foo(:out nstr) };
System.out.println("Result is: "+nstr);
// or, explicitly: System.out.println("Result is: "+nstr.toString());
...
</pre></li>
                        <li>
                           <p><code class="codeph">NString</code> as <code class="codeph">Result Set</code> column
                           </p>
                           <p>This example uses the <code class="codeph">NString</code> type for an iterator column. Such usage is superfluous, given that the underlying network protocol supports national language characters implicitly, but harmless. This example also shows use of one of the <code class="codeph">String</code> methods, <code class="codeph">substring()</code>, that is carried over to <code class="codeph">NString</code>.
                           </p><pre class="oac_no_warn" dir="ltr">import oracle.sql.NString;
import oracle.sql.NCLOB;
...
#sql iterator NIter(NString title, NCLOB article);

NIter nit;
#sql nit = { SELECT article, title FROM page_table };
while (nit.next())
{
  System.out.println("&lt;TITLE&gt;"+nit.title()+"&lt;/TITLE&gt;");
  ...
  nit.article().substring(0, 1000); ...
}
</pre></li>
                     </ul>
                     <div class="infoboxnote" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__GUID-EFF353BC-AED4-428E-92F6-9001A0D2D051">
                        <p class="notep1">Note:</p>
                        <p>Using the <code class="codeph">NCHAR</code> type instead of the <code class="codeph">NString</code> type for the preceding examples requires the following changes:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the appropriate <code class="codeph">NCHAR</code> constructor. <code class="codeph">NCHAR</code> constructors mirror <code class="codeph">CHAR</code> constructors, such as the following:
                              </p><pre class="oac_no_warn" dir="ltr">NCHAR(String str, oracle.sql.CharacterSet charset)
</pre></li>
                           <li>
                              <p>Although you have the option of using either <code class="codeph">toString()</code> or <code class="codeph">getString()</code> to retrieve the underlying <code class="codeph">String</code> instance from an <code class="codeph">NString</code> instance, for an <code class="codeph">NCHAR</code> instance you must use the <code class="codeph">getString()</code> method. When using the <code class="codeph">NString</code> type, the <code class="codeph">toString()</code> method is used automatically for string concatenation.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="JSQLJ737"></a><a id="JSQLJ738"></a><a id="JSQLJ739"></a><a id="JSQLJ736"></a><div class="sect3"><a id="GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3" name="GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3"></a><h4 id="JSQLJ-GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3" class="sect4">Manipulation Outside of SQLJ for Globalization Support</h4>
                  <div>
                     <p>This section discusses ways to manipulate your Oracle Globalization Support configuration outside of SQLJ.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3__GUID-20756741-CC60-4117-8883-CB0BFE7FAB28">Setting Encoding and Locale at Application Run Time</p>
                     </div>
                     <!-- class="section" -->
                     <p>As with any end user running any Java application, those running your SQLJ application can specify JVM properties, such as <code class="codeph">file.encoding</code> and <code class="codeph">user.language</code> directly, as they invoke the JVM to run your application. This determines the encoding and locale used for message output as your application executes.
                     </p>
                     <p>They can accomplish this as in the following example:</p><pre class="oac_no_warn" dir="ltr">% java -Dfile.encoding=SJIS -Duser.language=ja Foo
</pre><p>This will use <code class="codeph">SJIS</code> encoding and Japanese locale.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3__GUID-DE10AD9B-F7C8-4F0C-97CB-D27B5148DCE3">Using API to Determine Java Properties</p>
                     </div>
                     <!-- class="section" -->
                     <p>In Java code, you can determine values of Java properties by using the <code class="codeph">java.lang.System.getProperty()</code> method, specifying the appropriate property. For example:
                     </p><pre class="oac_no_warn" dir="ltr">public class Settings
{
   public static void main (String[] args)
   {
      System.out.println("Encoding: " + System.getProperty("file.encoding")
                       + ", Language: " + System.getProperty("user.language"));
   }
}
</pre><p>You can compile this and run it as a standalone utility.</p>
                     <p>There is also a <code class="codeph">getProperties()</code> method that returns the values of all properties, but this will raise a security exception if you try to use it in code that runs in the server.
                     </p>
                     <div class="section" id="GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3__I1006518">
                        <p class="subhead3" id="GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3__GUID-AA921057-67A7-4DF5-9C3F-020081549102">Using native2ascii for Source File Encoding</p>
                     </div>
                     <!-- class="section" -->
                     <p>If you are using a Sun Microsystems JDK, then there is an alternative to having SQLJ do the character encoding for your source files. You can use the <code class="codeph">native2ascii</code> utility to convert sources with native encoding to sources in 7-bit ASCII with Unicode escape sequences.
                     </p>
                     <div class="infoboxnote" id="GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3__GUID-000A9D95-130C-45EE-862F-25C0C8C93B12">
                        <p class="notep1">Note:</p>
                        <p>To use SQLJ to translate source created by <code class="codeph">native2ascii</code>, ensure that the JVM that invokes SQLJ has a <code class="codeph">file.encoding</code> setting that supports some superset of 7-bit ASCII. This is not the case with settings for EBCDIC or Unicode encoding.
                        </p>
                     </div>
                     <p>Run <code class="codeph">native2ascii</code> as follows:
                     </p><pre class="oac_no_warn" dir="ltr">% native2ascii &lt;<span class="italic">options</span>&gt; &lt;<span class="italic">inputfile</span>&gt; &lt;<span class="italic">outputfile</span>&gt;
</pre><p>Standard input or standard output are used if you omit the input file or output file. Two options are supported:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">-reverse</code> (Reverse the conversion. Convert from Latin-1 or Unicode to native encoding)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">-encoding &lt;</code><span class="italic"><code class="codeph">encoding</code></span><code class="codeph">&gt;</code></p>
                        </li>
                     </ul>
                     <p>For example:</p><pre class="oac_no_warn" dir="ltr">% native2ascii -encoding SJIS Foo.sqlj Temp.sqlj
</pre><p>For more information, see the following Web site:</p>
                     <p>https://docs.oracle.com/javase/8/docs/technotes/tools/windows/native2ascii.html</p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>