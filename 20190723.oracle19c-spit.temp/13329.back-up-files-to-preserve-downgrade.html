<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="To ensure that you can recover from upgrade issues, and downgrade to an earlier release if necessary, Oracle recommends that you implement a backup strategy for your database, and for some specific files.">
      <meta name="description" content="To ensure that you can recover from upgrade issues, and downgrade to an earlier release if necessary, Oracle recommends that you implement a backup strategy for your database, and for some specific files.">
      <title>Back Up Files to Preserve Downgrade and Recovery Options</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Upgrade Guide">
      <meta property="og:description" content="To ensure that you can recover from upgrade issues, and downgrade to an earlier release if necessary, Oracle recommends that you implement a backup strategy for your database, and for some specific files.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Upgrade Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-upgrade-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-25T08:26:31-07:00">
      <meta name="dcterms.title" content="Database Upgrade Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96252-05">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="schema-only-accounts-upgraded-expired-password-accounts.html" title="Previous" type="text/html">
      <link rel="next" href="preupgrade-information-tool-checklist.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="UPGRD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="schema-only-accounts-upgraded-expired-password-accounts.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="preupgrade-information-tool-checklist.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Upgrade Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="tasks-prepare-upgrade-oracle-database.html" property="item" typeof="WebPage"><span property="name"> Preparing to Upgrade Oracle Database </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="tasks-to-prepare-for-oracle-database-upgrades.html" property="item" typeof="WebPage"><span property="name">Tasks to Prepare for Oracle Database Upgrades</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Back Up Files to Preserve Downgrade and Recovery Options</li>
            </ol>
            <a id="GUID-42C0E7B6-8668-48E8-AC4E-FACB02121B64" name="GUID-42C0E7B6-8668-48E8-AC4E-FACB02121B64"></a>
            
            <h2 id="UPGRD-GUID-42C0E7B6-8668-48E8-AC4E-FACB02121B64" class="sect2">Back Up Files to Preserve Downgrade and Recovery Options</h2>
         </header>
         <div class="ind">
            <div>
               <p>To ensure that you can recover from upgrade issues, and downgrade to an earlier release if necessary, Oracle recommends that you implement a backup strategy for your database, and for some specific files. </p>
               <p></p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="back-up-files-to-preserve-downgrade.html#GUID-671004F2-89AC-464D-A1E2-B4ED418D23C0">Prepare a Backup Strategy Before Upgrading Oracle Database</a><br>You must design and carry out an appropriate backup strategy to ensure a successful upgrade. 
                  </li>
                  <li class="ulchildlink"><a href="back-up-files-to-preserve-downgrade.html#GUID-1F8E240E-233C-4933-A714-3637A3599BC5">Oracle Data Guard Broker Configuration File and Downgrades</a><br>With upgrades to Oracle Database 19c and later releases, you must back up the Data Guard broker configuration file to preserve the capability to downgrade to an earlier release. 
                  </li>
                  <li class="ulchildlink"><a href="back-up-files-to-preserve-downgrade.html#GUID-2ACD269A-6975-453E-BB9B-2467442BD9EF">Exporting a Broker Configuration</a><br>Use the <code class="codeph">EXPORT CONFIGURATION</code> command to export the metadata contained in the broker configuration file to a text file.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="tasks-to-prepare-for-oracle-database-upgrades.html#GUID-3C319260-B5CD-4C50-B606-36D060FDF0BE" title="Carry out these tasks to prepare your upgrade.">Tasks to Prepare for Oracle Database Upgrades</a></p>
                  </div>
               </div>
            </div>
            <a id="UPGRD12382"></a><div class="props_rev_3"><a id="GUID-671004F2-89AC-464D-A1E2-B4ED418D23C0" name="GUID-671004F2-89AC-464D-A1E2-B4ED418D23C0"></a><h3 id="UPGRD-GUID-671004F2-89AC-464D-A1E2-B4ED418D23C0" class="sect3">Prepare a Backup Strategy Before Upgrading Oracle Database</h3>
               <div>
                  <p>You must design and carry out an appropriate backup strategy to ensure a successful upgrade. </p>
                  <p>To develop a backup strategy, consider the following questions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>How long can the production database remain inoperable before business consequences become intolerable?</p>
                     </li>
                     <li>
                        <p>What backup strategy is necessary to meet your availability requirements?</p>
                     </li>
                     <li>
                        <p>Are backups archived in a safe, offsite location?</p>
                     </li>
                     <li>
                        <p>Are backups tested to ensure that they are done properly?</p>
                     </li>
                     <li>
                        <p>How quickly can backups be restored (including backups in offsite storage)?</p>
                     </li>
                     <li>
                        <p>Have disaster recovery procedures been tested successfully?</p>
                     </li>
                  </ul>
                  <p>Your backup strategy should answer all of these questions, and include procedures for successfully backing up and recovering your database. For information about implementing backup strategies using RMAN, review <cite>Oracle Database Backup and Recovery User’s Guide</cite>. 
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../bradv/backing-up-database.html#BRADV8003" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="back-up-files-to-preserve-downgrade.html#GUID-42C0E7B6-8668-48E8-AC4E-FACB02121B64" title="To ensure that you can recover from upgrade issues, and downgrade to an earlier release if necessary, Oracle recommends that you implement a backup strategy for your database, and for some specific files.">Back Up Files to Preserve Downgrade and Recovery Options</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-1F8E240E-233C-4933-A714-3637A3599BC5" name="GUID-1F8E240E-233C-4933-A714-3637A3599BC5"></a><h3 id="UPGRD-GUID-1F8E240E-233C-4933-A714-3637A3599BC5" class="sect3">Oracle Data Guard Broker Configuration File and Downgrades</h3>
               <div>
                  <p>With upgrades to Oracle Database 19c and later releases, you must back up the Data Guard broker configuration file to preserve the capability to downgrade to an earlier release. </p>
                  <p>In releases before Oracle Database 19c, Oracle Database settings that are mapped to Oracle Data Guard broker properties are maintained in the Oracle Data Guard broker configuration file, and can be modified using the <code class="codeph">DGMGRL</code> command-line interface. However, starting with Oracle Database 19c, these database settings are no longer stored in the broker configuration file. As a result of this change, although you can continue to modify these properties using DGMGRL, the values that you modify are no longer stored in the Oracle Data Guard broker configuration file. Instead, the DGMGRL commands directly modify the Oracle Database initialization parameters or database settings to which these Oracle Data Guard Broker properties are mapped.
                  </p>
                  <p>Because of this change to the way that property settings are managed, if you use Oracle Data Guard broker, then Oracle recommends that you export your earlier release Oracle Data Guard broker configuration file to a secure backup location before you start the upgrade. If you do not back up the Oracle Data Guard broker configuration file before the upgrade, then after the upgrade, you cannot downgrade to an earlier release and retain the property options you previously selected for Oracle Data Guard. </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="back-up-files-to-preserve-downgrade.html#GUID-42C0E7B6-8668-48E8-AC4E-FACB02121B64" title="To ensure that you can recover from upgrade issues, and downgrade to an earlier release if necessary, Oracle recommends that you implement a backup strategy for your database, and for some specific files.">Back Up Files to Preserve Downgrade and Recovery Options</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-2ACD269A-6975-453E-BB9B-2467442BD9EF" name="GUID-2ACD269A-6975-453E-BB9B-2467442BD9EF"></a><h3 id="UPGRD-GUID-2ACD269A-6975-453E-BB9B-2467442BD9EF" class="sect3">Exporting a Broker Configuration</h3>
               <div>
                  <p>Use the <code class="codeph">EXPORT CONFIGURATION</code> command to export the metadata contained in the broker configuration file to a text file.
                  </p>
                  <div class="p">
                     <p>The directory in which the broker configuration file is stored must be accessible to the Oracle server process.</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Connect to the primary database.</span><div><pre class="pre codeblock"><code>DGMGRL&gt; CONNECT sysdg@North_Sales.example.com;
Password: <span class="italic">password</span>
Connected to "North_Sales"
Connected as SYSDG.
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Export the broker configuration.</span><div>
                           <p>The following command exports the broker configuration and stores it in a file named <code class="codeph">myconfig.txt</code> in the trace directory.
                           </p><pre class="pre codeblock"><code>DGMGRL&gt; EXPORT CONFIGURATION TO 'myconfig.txt';
Succeeded.</code></pre></div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="back-up-files-to-preserve-downgrade.html#GUID-42C0E7B6-8668-48E8-AC4E-FACB02121B64" title="To ensure that you can recover from upgrade issues, and downgrade to an earlier release if necessary, Oracle recommends that you implement a backup strategy for your database, and for some specific files.">Back Up Files to Preserve Downgrade and Recovery Options</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>