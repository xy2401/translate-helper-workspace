<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>SET</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Backup and Recovery Reference">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Backup and Recovery Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-backup-and-recovery-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T19:31:58-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96242-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="SEND.html" title="Previous" type="text/html">
      <link rel="next" href="SHOW.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery Reference">
    <meta name="dcterms.isVersionOf" content="RCMRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SEND.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="SHOW.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Backup and Recovery Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="rman-commands-recover-to-validate.html" property="item" typeof="WebPage"><span property="name">RMAN Commands: RECOVER to VALIDATE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SET</li>
            </ol>
            <a id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3" name="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3"></a><a id="RCMRF90344"></a><a id="RCMRF90345"></a><a id="RCMRF90346"></a><a id="RCMRF90347"></a><a id="RCMRF90348"></a><a id="RCMRF90349"></a><a id="RCMRF90350"></a><a id="RCMRF90351"></a><a id="RCMRF90352"></a><a id="RCMRF90353"></a><a id="RCMRF90354"></a><a id="RCMRF90355"></a><a id="RCMRF90515"></a><a id="RCMRF153"></a>
            
            <h2 id="RCMRF-GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3" class="sect2"><span class="enumeration_section">3.14 </span>SET
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-6B65D529-1C84-4B86-A786-CE255BABE941">Purpose</p>
                  <p>Use the <code class="codeph" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDFHGDI">SET</code> command to control RMAN behavior within a job or session. Use <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> to configure options that persist across sessions.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-7A65F3B8-FB74-4C2C-99AE-A4FBED9DC99F">Prerequisites</p>
                  <p>You can use the <code class="codeph">SET</code> command either at the RMAN prompt or within a <code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code> block. When used at the RMAN prompt, changes made by <code class="codeph">SET</code> persist until you exit the RMAN client (see <span class="italic"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__I1003836">setRmanOption</a></span>). When used inside of a <code class="codeph">RUN</code> block, changes made by <code class="codeph">SET</code> persist until the end of the <code class="codeph">RUN</code> block or the next <code class="codeph">SET</code> command that changes the value of the same attribute (see <span class="italic"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__I1003832">setRunOption</a></span>).
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-EF47CBCB-975C-4131-88B8-63816F112816">Syntax</p>
                  <p><span class="bold"><span class="italic">set</span>::=</span></p>
                  <div class="figure" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-2B5C14FE-6DA8-4291-9764-D387B88D3406"><img src="img/set.gif" alt="Description of set.eps follows" title="Description of set.eps follows" longdesc="img_text/set.html"><br><a href="img_text/set.html">Description of the illustration set.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDCIHED">setRmanOption::=</a></span>, <span class="italic"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDCGCJI">setRunOption::=</a></span>)
                  </p>
                  <p id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDCIHED"><a id="d93940e203" class="indexterm-anchor"></a><a id="d93940e207" class="indexterm-anchor"></a><span class="bold"><span class="italic">setRmanOption</span>::=</span></p>
                  <div class="figure" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-A3161544-BEAC-4245-A731-771FB0695F06"><img src="img/setrmanoption.gif" alt="Description of setrmanoption.eps follows" title="Description of setrmanoption.eps follows" longdesc="img_text/setrmanoption.html"><br><a href="img_text/setrmanoption.html">Description of the illustration setrmanoption.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier::=</a></span>, <span class="italic"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABHCHAG">formatSpec::=</a></span>)
                  </p>
                  <p id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDCGCJI"><a id="d93940e229" class="indexterm-anchor"></a><a id="d93940e233" class="indexterm-anchor"></a><span class="bold"><span class="italic">setRunOption</span>::=</span></p>
                  <div class="figure" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-97886694-2CE9-4667-9349-711A3FC7B6BE"><img src="img/setrunoption.gif" alt="Description of setrunoption.eps follows" title="Description of setrunoption.eps follows" longdesc="img_text/setrunoption.html"><br><a href="img_text/setrunoption.html">Description of the illustration setrunoption.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier::=</a></span>, <span class="italic"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABHCHAG">formatSpec::=</a></span>, <span class="italic"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220__BABCCBBJ">datafileSpec::=</a></span>, <span class="italic"><a href="tempfileSpec.html#GUID-783EB37D-C3F1-4245-BDF1-E463F65A1AE4__BABCIHBB">tempfileSpec::=</a></span>, <span class="italic"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A__BABEDABD">untilClause::=</a></span>)
                  </p>
                  <p><a id="d93940e267" class="indexterm-anchor"></a><a id="d93940e271" class="indexterm-anchor"></a><span class="bold"><span class="italic">setRmanOrRunOption</span>::=</span></p>
                  <div class="figure" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-23E90481-51BD-4094-A177-03285B7DC32F"><img src="img/setrmanorrunoption.gif" alt="Description of setrmanorrunoption.eps follows" title="Description of setrmanorrunoption.eps follows" longdesc="img_text/setrmanorrunoption.html"><br><a href="img_text/setrmanorrunoption.html">Description of the illustration setrmanorrunoption.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier::=</a></span>, <span class="italic"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABHCHAG">formatSpec::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-73FF046E-AE9E-43D8-AFB8-B9D6AFE7EC33">Semantics</p>
                  <p id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__I1003836"><span class="bold"><span class="italic">setRmanOption</span></span></p>
                  <p>This subclause specifies <code class="codeph">SET</code> options that are usable outside of a <code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code> block.
                  </p>
                  <div class="tblformalwide" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-8963FFF7-1786-460B-9FE1-D85C8ECE128B">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describe SET command setRmanOption parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d93940e318">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d93940e321">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e326" headers="d93940e318 ">
                                 <p><code class="codeph">BACKUP FILES</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e326 d93940e321 ">
                                 <p></p>
                                 <p>Specifies the visibility of backups in a Data Guard environment. By default, disk backups are visible only to the database with which the backups are associated. The association is determined by the <code class="codeph">DB_UNIQUE_NAME</code> of the database.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e338" headers="d93940e318 ">
                                 <p><code class="codeph">FOR DEVICE TYPE</code> <code class="codeph"><span class="codeinlineitalic">device_specifier</span></code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e338 d93940e321 ">
                                 <p></p>
                                 <p>Specifies the device type for which visibility of backups must be modified.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e351" headers="d93940e318 ">
                                 <p><code class="codeph">TO NOTACCESSIBLE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e351 d93940e321 ">
                                 <p></p>
                                 <p>Makes disk backups created on the primary database or standby database available only to the database that created these backups.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e360" headers="d93940e318 ">
                                 <p><code class="codeph">TO ACCESSIBLE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e360 d93940e321 ">
                                 <p></p>
                                 <p>Makes backups created on the primary database or standby database accessible to databases whose <code class="codeph">DB_UNIQUE_NAME</code> is different from that on which the backups were created.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e372" headers="d93940e318 "><code class="codeph">COMPRESSION ALGORITHM</code><code class="codeph"> '</code><code class="codeph"> <span class="codeinlineitalic"><code class="codeph">algorithm_name</code></span></code><code class="codeph">'</code></td>
                              <td align="left" valign="top" width="71%" headers="d93940e372 d93940e321 ">
                                 <p>Specifies the compression algorithm for backup sets. This command overrides the current <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">COMPRESSION ALGORITHM</code> setting for the current RMAN session.
                                 </p>
                                 <p>You can configure the basic compression level, which does not require the Advanced Compression Option, by specifying <code class="codeph">BASIC</code> for the algorithm_name.
                                 </p>
                                 <p>If you have enabled the Advanced Compression Option, you can choose from the following compression levels:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">HIGH - </code>Best suited for backups over slower networks where the limiting factor is network speed
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">MEDIUM -</code> Recommended for most environments. Good combination of compression ratios and speed
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">LOW</code> - Least impact on backup throughput and suited for environments where CPU resources are the limiting factor.
                                       </p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">Note:</span> The compression ratio generally increases from <code class="codeph">LOW</code> to <code class="codeph">HIGH</code>, with a trade-off of potentially consuming more CPU resources.
                                 </p>
                                 <p>Because the performance of the various compression levels depends on the nature of the data in the database, network configuration, system resources and the type of computer system and its capabilities, universally applicable performance statistics are not available. When deciding which level is best, you must consider how balanced your system is regarding bandwidth into the CPU and the actual speed of the CPU. Oracle recommends that you run tests with the different compression levels on the data in your environment. Choose a compression level based on your environment, network traffic characteristics (workload), and data set. This is the only way to ensure that the backup set compression level can satisfy your organization's performance requirements and any applicable service level agreements.</p>
                                 <p><span class="bold">Note:</span> <a id="d93940e434" class="indexterm-anchor"></a><a id="d93940e436" class="indexterm-anchor"></a><code class="codeph">V$RMAN_COMPRESSION_ALGORITHM</code> describes supported algorithms.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic">Oracle Database Reference</span> entry for <code class="codeph">$RMAN_COMPRESSION_ALGORITHM</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e454" headers="d93940e318 "><code class="codeph">   OPTIMIZE FOR LOAD</code> <code class="codeph"> {TRUE|FALSE}</code></td>
                              <td align="left" valign="top" width="71%" headers="d93940e454 d93940e321 ">
                                 <p>Specifies whether Oracle performs pre-compression block processing when compressed backups have been requested. <code class="codeph">TRUE</code> is the default and <code class="codeph">FALSE</code> enables pre-compression processing. The default behavior is not to perform pre-compression block processing. Such processing can consume extra CPU resources, and is not needed for blocks that contain all originally loaded data, and have never been the subject of single-row inserts and deletes. Specifying <code class="codeph">FALSE</code> uses additional CPU resources to perform pre-compression block processing which consists of internal block cleanups and defragmentation that can result in improved levels of binary compression.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic">Oracle Database Backup and Recovery User's Guide</span> to learn more about this option.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e480" headers="d93940e318 "><code class="codeph">   AS OF RELEASE</code> <span class="italic"><code class="codeph">   'version number'</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d93940e480 d93940e321 ">
                                 <p>Specifies the release version. The version number uses the release number format and may use as many as 5 numbers to fully qualify the release. For example, 10.2.0.3.0 and 11.2 are acceptable values. This option ensures compression algorithm stability across future releases.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e491" headers="d93940e318 "><code class="codeph">DECRYPTION IDENTIFIED&nbsp;BY</code> <span class="italic"><code class="codeph">password</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d93940e491 d93940e321 ">
                                 <p>Specifies one or more decryption passwords to be used when reading dual-mode or password-encrypted backups. </p>
                                 <p>Password-encrypted backups require the correct password to be entered before they can be restored. When RMAN reads an encrypted backup piece, it tries each password in the list until it finds the correct one to decrypt this backup piece. RMAN signals an error if no specified keys work.</p>
                                 <p><span class="bold">Note:</span> If restoring from a group of backups created with different passwords, then specify all of the required passwords on the <code class="codeph">SET DECRYPTION</code> command. RMAN automatically uses the correct password with each backup set.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="q">"<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHIGD">Encryption of Backup Sets</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e518" headers="d93940e318 ">
                                 <p><code class="codeph">DECRYPTION WALLET OPEN IDENTIFIED BY</code> <span class="italic"><code class="codeph">password</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e518 d93940e321 ">
                                 <p>Specifies the password that must be used to open the password-based software keystore. Keystores are used while encrypting backup sets using transparent mode encryption.</p>
                                 <p>If the database or tablespace uses Transparent Data Encryption (TDE) and you have a password-based software keystore, then you must use the <code class="codeph">SET DECRYPTION WALLET OPEN IDENTIFIED BY</code> command to open the keystore before you perform complete recovery, PITR, and database duplication.
                                 </p>
                                 <p>When restoring backups that were created by using transparent encryption with a password-based software keystore, you must specify the password that is used to open the keystore. When duplicating a database that is configured to use transparent encryption with a password-based software keystore, the password that is required to open the keystore must be provided to the auxiliary instance by using this command.</p>
                                 <p>The password specified is valid for the session in which the <code class="codeph">SET</code> command is run. Therefore, even if the auxiliary instance is restarted during database duplication, the password required to open the keystore is available to the auxiliary instance.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e542" headers="d93940e318 ">
                                 <p><code class="codeph">ECHO {OFF&nbsp;|&nbsp;ON}</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e542 d93940e321 ">
                                 <p>Controls whether RMAN commands appear in the message log. When reading commands from a command file, RMAN automatically echoes them to the message log. When reading commands from standard input, by default RMAN does not echo these commands to the message log. To force RMAN to echo the commands, run the <code class="codeph">SET ECHO ON</code> command before running your command file. Run <code class="codeph">SET ECHO OFF</code> to disable echoing to the command log.
                                 </p>
                                 <p>The command is useful when <code class="codeph">stdin</code> and <code class="codeph">stdout</code> have been redirected. For example, in UNIX you can redirect RMAN's input and output in this manner:
                                 </p><pre class="oac_no_warn" dir="ltr">% rman TARGET / &lt; in_file &gt; out_file</pre><p>By including <code class="codeph">SET ECHO ON</code> in the <code class="codeph">in_file</code>, you enable the commands contained in <code class="codeph">in_file</code> to be visible in <code class="codeph">out_file</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e580" headers="d93940e318 ">
                                 <p><code class="codeph">ENCRYPTION</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e580 d93940e321 ">
                                 <p>Specifies encryption-related options that apply to <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> commands that create backup sets for the duration of the RMAN session.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="q">"<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHIGD">Encryption of Backup Sets</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e601" headers="d93940e318 "><code class="codeph">&nbsp;&nbsp;&nbsp;ALGORITHM</code><code class="codeph">&nbsp;'</code><span class="italic"><code class="codeph">algorithm_name</code></span><code class="codeph">'</code></td>
                              <td align="left" valign="top" width="71%" headers="d93940e601 d93940e321 ">
                                 <p>Specifies the algorithm used during this RMAN session. Overrides the configured default encryption algorithm specified by <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">ALGORITHM</code>. Possible values are listed in <a id="d93940e622" class="indexterm-anchor"></a><a id="d93940e624" class="indexterm-anchor"></a><code class="codeph">V$RMAN_ENCRYPTION_ALGORITHMS</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e632" headers="d93940e318 "><code class="codeph"> IDENTIFIED BY</code><span class="italic"><code class="codeph"> password</code></span> <code class="codeph">[ONLY]</code></td>
                              <td align="left" valign="top" width="71%" headers="d93940e632 d93940e321 ">
                                 <p>Specifies whether to employ a user-specified password in backup encryption according to the following rules:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Omit <code class="codeph">IDENTIFIED BY</code> <span class="italic"><code class="codeph">password </code></span>clause to specify transparent-mode encrypted backups.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Use <code class="codeph">IDENTIFIED BY</code> <span class="italic"><code class="codeph">password</code></span> <code class="codeph">ONLY</code> to specify password-mode encrypted backups.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Use <code class="codeph">IDENTIFIED BY</code> <span class="italic"><code class="codeph">password </code></span>without <code class="codeph">ONLY</code> to specify dual-mode encrypted backups.
                                       </p>
                                    </li>
                                 </ul>
                                 <p>Create a password that is secure. See <a href="../dbseg/configuring-authentication.html#DBSEG33223" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for more information.
                                 </p>
                                 <p>If the password is <span class="italic">not</span> surrounded by quotes, then it is translated internally into upper case. Thus, the following clauses are all synonyms for <code class="codeph">IDENTIFIED BY</code> <code class="codeph">"PASSWORD"</code>:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">IDENTIFIED BY</code> <code class="codeph">password</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">IDENTIFIED BY</code> <code class="codeph">Password</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">IDENTIFIED BY</code> <code class="codeph">pAsSwOrD</code></p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">Caution:</span> Keystore-based encryption is more secure than password-based encryption because no passwords are involved. Use password-based encryption only when absolutely necessary because your backups must be transportable.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="q">"<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHIGD">Encryption of Backup Sets</a>"</span> for details on the different encryption modes
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e734" headers="d93940e318 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;{OFF&nbsp;|&nbsp;ON}</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e734 d93940e321 ">
                                 <p>Specifies whether to encrypt backup sets. If <code class="codeph">ON</code>, then the default is to encrypt backup sets. If <code class="codeph">OFF</code>, then the default is not to encrypt backup sets. 
                                 </p>
                                 <p>This option overrides settings made with the <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">ENCRYPTION FOR</code> command. If no data files are configured for encryption, then you must explicitly use <code class="codeph">ON</code> to encrypt required data files.
                                 </p>
                                 <p>If <code class="codeph">FOR ALL TABLESPACES</code> is not specified, then this setting controls encryption of backups for tablespaces where <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">ENCRYPTION FOR TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span> has not been used to control encryption behavior.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e778" headers="d93940e318 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;FOR ALL&nbsp;TABLESPACES</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e778 d93940e321 ">
                                 <p>Controls encryption for all tablespaces, overriding any <code class="codeph">CONFIGURE ENCRYPTION FOR TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span> setting.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e793" headers="d93940e318 ">
                                 <p><code class="codeph">PASSPHRASE OFF</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e793 d93940e321 ">
                                 <p></p>
                                 <p>Deletes the passphrase that was set during backup or restore operations involving TDE-encrypted tablespaces from the memory.</p>
                                 <p>It is recommended that you set the passphrase off after you perform a backup or restore of TDE-encrypted tablespaces.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e804" headers="d93940e318 ">
                                 <p><code class="codeph">PASSPHRASE ON IDENTIFIED BY</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e804 d93940e321 ">
                                 <p></p>
                                 <p>Specifies the passphrase used to wrap the master key when creating or restoring backups of TDE-encrypted tablespaces.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e813" headers="d93940e318 ">
                                 <p><code class="codeph">PREPLUGIN CONTAINER</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e813 d93940e321 ">
                                 <p>Sets the container for RMAN operations that use preplugin backups to <code class="codeph">pdb_name</code>. A CDB may contain preplugin metadata for multiple PDBs. While using preplugin backups, use this command to specify the PDB for which the specified operation must be performed. The operations include listing preplugin backups, changing the status of preplugin backups, cataloging preplugin archived redo log files, restoring preplugin backups, and recovering preplugin backups.
                                 </p>
                                 <p>Use the <code class="codeph">CLEAR</code> option to clear the current setting for preplugin container.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__I1003832"><span class="bold"><span class="italic">setRunOption</span></span></p>
                  <p>This subclause specifies <code class="codeph">SET</code> options that are usable within a <code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code> block.
                  </p>
                  <div class="tblformalwide" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-D6DD44E0-50EF-44E8-B7A9-977B100037C8">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes SET command setRunOption parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d93940e850">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d93940e853">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e858" headers="d93940e850 "><code class="codeph">ARCHIVELOG DESTINATION</code><code class="codeph"> TO '</code><span class="italic"><code class="codeph">log_archive_dest</code></span><code class="codeph">'</code></td>
                              <td align="left" valign="top" width="71%" headers="d93940e858 d93940e853 ">
                                 <p>Overrides the <a id="d93940e871" class="indexterm-anchor"></a><a id="d93940e873" class="indexterm-anchor"></a><code class="codeph">LOG_ARCHIVE_DEST_1</code> initialization parameter in the target database when forming names for restored archived redo log files during subsequent <code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code> and <code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> commands. RMAN restores the logs to the destination specified in <code class="codeph">'</code><span class="italic"><code class="codeph">log_archive_dest</code></span><code class="codeph">'</code>.
                                 </p>
                                 <p>You can use this command to stage archived redo log files to different locations while restoring a database. RMAN knows where to find the newly restored archived redo log files; it does not require them to be in the destination specified by <code class="codeph">LOG_ARCHIVE_DEST_1</code>. For example, if you specify a different destination from the one in the parameter file and restore archived log backups, subsequent restore and recovery operations detect this new location.
                                 </p>
                                 <p>Use this parameter to restore archived redo log files that are not on disk. RMAN always looks for logs on disk first before restoring them from backups.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e907" headers="d93940e850 ">
                                 <p><a id="d93940e909" class="indexterm-anchor"></a><a id="d93940e913" class="indexterm-anchor"></a><a id="d93940e915" class="indexterm-anchor"></a><code class="codeph">BACKUP&nbsp;COPIES</code>&nbsp;<span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e907 d93940e853 ">
                                 <p>Specifies the number of copies of each backup piece that the channels create: <code class="codeph">1</code>, <code class="codeph">2</code>, <code class="codeph">3</code>, or <code class="codeph">4</code> (see <a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDEFFDB">Example 3-58</a>). 
                                 </p>
                                 <p>RMAN can duplex backups to either disk or tape but cannot duplex backups to tape and disk simultaneously. When backing up to tape, ensure that the number of copies does not exceed the number of available tape devices. Also, if <code class="codeph">BACKUP COPIES</code> is greater than 1, then the <code class="codeph">BACKUP_TAPE_IO_SLAVES</code> initialization parameter must be enabled on the target database. 
                                 </p>
                                 <p>The <code class="codeph">SET BACKUP COPIES</code> command affects all <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> commands in the <code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code> block issued after <code class="codeph">SET BACKUP COPIES</code> (but not before) and is in effect until explicitly disabled or changed. The <code class="codeph">SET BACKUP COPIES</code> command affects only <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> commands, but does not apply to the <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> <code class="codeph">AS COPY</code> command.
                                 </p>
                                 <p>The <code class="codeph">SET BACKUP COPIES</code> command affects all channels allocated in the session. The order of precedence is as follows, with settings higher on the list overriding settings lower on the list:
                                 </p>
                                 <ol>
                                    <li>
                                       <p><code class="codeph">BACKUP COPIES</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">BACKUP COPIES</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">... BACKUP COPIES</code></p>
                                    </li>
                                 </ol>
                                 <p>The names of the backup pieces are dependent on the <code class="codeph">FORMAT</code> clause in the <code class="codeph">BACKUP</code> command. You can specify up to four <code class="codeph">FORMAT</code> strings. RMAN uses the second, third, and fourth values only when <code class="codeph">BACKUP COPIES</code>, <code class="codeph">SET BACKUP COPIES</code>, or <code class="codeph">CONFIGURE ... BACKUP COPIES</code> is in effect. When choosing which format to use for each backup piece, RMAN uses the first format value for copy 1, the second format value for copy 2, and so on. If the number of format values exceeds the number of copies, then the extra formats are not used. If the number of format values is less than the number of copies, RMAN reuses the format values, starting with the first one.
                                 </p>
                                 <p><span class="bold">Note:</span> <code class="codeph">BACKUP COPIES</code> option is not valid when files are created in fast recovery area. Backups to the fast recovery area cannot be duplexed.
                                 </p>
                                 <p><span class="bold">Note:</span> Control file autobackups on disk are a special case and are never duplexed: RMAN always writes one and only copy.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1046" headers="d93940e850 "><code class="codeph">MAXCORRUPT</code><code class="codeph">FOR DATAFILE</code> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span><code class="codeph"> TO</code> <span class="italic"><code class="codeph">integer</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d93940e1046 d93940e853 ">
                                 <p>Sets a limit on the number of previously undetected block corruptions that the database permits in a specified data file or group of data files. The default limit is zero, meaning that RMAN tolerates no corrupt blocks. </p>
                                 <p>The <code class="codeph">SET MAXCORRUPT</code> command specifies the total number of physical and logical corruptions permitted in a data file during a backup job. If the sum of physical and logical corruptions detected for a data file is no more than its <code class="codeph">MAXCORRUPT</code> setting, then the <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> command completes. If more than <code class="codeph">MAXCORRUPT</code> corrupt blocks exist, then RMAN terminates without creating output files. 
                                 </p>
                                 <p>Whether or not the <code class="codeph">MAXCORRUPT</code> limit is exceeded, RMAN populates the <code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code> view with any corrupt block ranges that it finds. However, a backup or restore job is terminated after <code class="codeph">MAXCORRUPT+1</code> corrupt blocks are found, so in this case RMAN only records <code class="codeph">MAXCORRUPT+1</code> corruptions. Any block corruptions beyond the point at which the backup job terminated are not recorded.
                                 </p>
                                 <p><span class="bold">Note:</span> If you specify <code class="codeph">CHECK LOGICAL</code>, then the <code class="codeph">MAXCORRUPT</code> limit applies to the sum of logical and physical corruptions detected. Otherwise, <code class="codeph">MAXCORRUPT</code> only applies to the number of physical block corruptions.
                                 </p>
                                 <p> <span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1120" headers="d93940e850 "><a id="d93940e1121" class="indexterm-anchor"></a><a id="d93940e1123" class="indexterm-anchor"></a><code class="codeph">NEWNAME FOR</code> <code class="codeph">DATABASE</code></td>
                              <td align="left" valign="top" width="71%" headers="d93940e1120 d93940e853 ">
                                 <p>Sets new default names for all data files and temp files in the specified database that have not been named with the <code class="codeph">SET NEWNAME FOR TABLESPACE,</code> <code class="codeph">SET NEWNAME FOR TEMPFILE </code>or <code class="codeph">SET NEWNAME FOR DATAFILE</code> command.
                                 </p>
                                 <p>This command enables you to change the names for multiple files in the database and provides a quick alternative to naming each file individually (see <a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BGBGEHCG">Example 2-87</a>). This command does not set names for temp files.
                                 </p>
                                 <p>When issuing <code class="codeph">SET NEWNAME FOR DATABASE</code>, you must specify at least one of the following substitution variables to avoid name collisions: <code class="codeph">%b</code>, <code class="codeph">%f</code>, and <code class="codeph">%U</code>. See the semantic entry for <code class="codeph">TO '</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code> for descriptions of the possible substitution variables.
                                 </p>
                                 <p>The new names are used for all subsequent <code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4">DUPLICATE</a></code>, <code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code>, <code class="codeph"><a href="SWITCH.html#GUID-BEA73581-C6F4-4346-A61B-B6C19513BF1C">SWITCH</a></code> commands that affect the files in the database and when using the RMAN TSPITR utility. If you do not issue this command before the restore operation, then RMAN restores the files to their default locations.
                                 </p>
                                 <p>You do not have to issue the <code class="codeph">SET NEWNAME</code> commands in any particular order. For example, assume that you run the following series of commands:
                                 </p><pre class="oac_no_warn" dir="ltr">SET NEWNAME FOR DATABASE TO '/oradata1/%b';
SET NEWNAME FOR TABLESPACE users TO '/oradata2/%U';
SET NEWNAME FOR DATAFILE 1 TO '+data';</pre><p>The preceding series of commands is equivalent to the following differently ordered series of commands:</p><pre class="oac_no_warn" dir="ltr">SET NEWNAME FOR DATAFILE 1 TO '+data;
SET NEWNAME FOR DATABASE TO '/oradata1/%b';
SET NEWNAME FOR TABLESPACE users TO '/oradata2/%U';</pre><p><span class="bold">Note:</span> The <code class="codeph">SET NEWNAME</code> command supports ASM disk groups. 
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span> to learn about substitution variables that are valid in <code class="codeph">SET NEWNAME FOR DATABASE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1219" headers="d93940e850 ">
                                 <p><code class="codeph">NEWNAME FOR DATABASE ROOT</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1219 d93940e853 ">
                                 <p>In a CDB, sets new default names for data files and temp files only in the root. Connect to the root as described in <span class="q">"<a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">Connecting to CDBs and PDBs</a>"</span>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1231" headers="d93940e850 ">
                                 <p><code class="codeph">NEWNAME FOR PLUGGABLE DATABASE</code> <span class="italic"><code class="codeph">pdb_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1231 d93940e853 ">
                                 <p>In a CDB, sets new default names for data files and temp files only in the specified PDBs. Connect to the root as described in <span class="q">"<a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">Connecting to CDBs and PDBs</a>"</span>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1247" headers="d93940e850 "><a id="d93940e1248" class="indexterm-anchor"></a><a id="d93940e1250" class="indexterm-anchor"></a><code class="codeph">NEWNAME FOR DATAFILE</code> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></td>
                              <td align="left" valign="top" width="71%" headers="d93940e1247 d93940e853 ">
                                 <p>Sets the default name for the specified data file. </p>
                                 <p>This command enables you to specify the names of each data file individually (see <a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BGBFADEH">Example 2-88</a>). The new names are used for all subsequent <code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4">DUPLICATE</a></code>, <code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code>, <code class="codeph"><a href="SWITCH.html#GUID-BEA73581-C6F4-4346-A61B-B6C19513BF1C">SWITCH</a></code> commands that affect the files in the database and when using the RMAN TSPITR utility.
                                 </p>
                                 <p>If you run <code class="codeph">SET NEWNAME FOR DATAFILE</code> and then restore a data file to a new location, then you can run <code class="codeph"><a href="SWITCH.html#GUID-BEA73581-C6F4-4346-A61B-B6C19513BF1C">SWITCH</a></code> to rename the file in the control file to the <code class="codeph">NEWNAME</code>. If you do not run <code class="codeph">SWITCH</code>, then RMAN records the restored file as a data file copy in the RMAN repository.
                                 </p>
                                 <p><span class="bold">Note:</span> The <code class="codeph">SET NEWNAME</code> command supports ASM disk groups.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1317" headers="d93940e850 "><a id="d93940e1318" class="indexterm-anchor"></a><a id="d93940e1320" class="indexterm-anchor"></a><code class="codeph">NEWNAME FOR TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d93940e1317 d93940e853 ">
                                 <p>Sets new default names for all the files in the specified tablespace that have not been named with the <code class="codeph">SET NEWNAME FOR DATAFILE</code> command. 
                                 </p>
                                 <p>This command enables you to change the names for multiple files in the duplicate tablespace and provides an alternative to naming each file of the tablespace individually (see <a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BGBFADEH">Example 2-88</a>).
                                 </p>
                                 <p>When issuing <code class="codeph">SET NEWNAME FOR TABLESPACE</code>, you must specify at least a first three of the following substitution variables to avoid name collisions: <code class="codeph">%b</code>, <code class="codeph">%f</code>, and <code class="codeph">%U</code>. See the semantic entry for <code class="codeph">TO '</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code> for descriptions of the possible substitution variables.
                                 </p>
                                 <p>The new names are used for all subsequent <code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4">DUPLICATE</a></code>, <code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code> or <code class="codeph"><a href="SWITCH.html#GUID-BEA73581-C6F4-4346-A61B-B6C19513BF1C">SWITCH</a></code> commands that affect the files in the tablespace. If you do not issue this command before the restore operation, then RMAN restores the files to their default locations.
                                 </p>
                                 <p><span class="bold">Note:</span> The <code class="codeph">SET NEWNAME</code> command supports ASM disk groups.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span> to learn about substitution variables that are valid in <code class="codeph">SET NEWNAME FOR DATABASE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1400" headers="d93940e850 ">
                                 <p><code class="codeph">NEWNAME FOR TABLESPACE </code><span class="italic"><code class="codeph">pdb-name</code></span><code class="codeph">:</code><span class="italic"><code class="codeph">tablespace_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1400 d93940e853 ">
                                 <p>The name of the tablespace in a CDB. Multiple databases can have tablespaces with the same name. A qualifier before the name uniquely identifies the tablespace. <span class="italic"><code class="codeph">pdb-name</code></span> is the name of a PDB.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1420" headers="d93940e850 "><a id="d93940e1421" class="indexterm-anchor"></a><a id="d93940e1423" class="indexterm-anchor"></a><code class="codeph">NEWNAME FOR</code> <code class="codeph">TEMPFILE</code> <span class="italic"><code class="codeph"><a href="tempfileSpec.html#GUID-783EB37D-C3F1-4245-BDF1-E463F65A1AE4">tempfileSpec</a></code></span></td>
                              <td align="left" valign="top" width="71%" headers="d93940e1420 d93940e853 ">
                                 <p>Sets the new temp file name for a subsequent <code class="codeph"><a href="SWITCH.html#GUID-BEA73581-C6F4-4346-A61B-B6C19513BF1C">SWITCH</a></code> command that renames the specified temp file to the specified name.
                                 </p>
                                 <p><span class="bold">Note:</span> The <code class="codeph">SET NEWNAME</code> command supports ASM disk groups.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="tempfileSpec.html#GUID-783EB37D-C3F1-4245-BDF1-E463F65A1AE4">tempfileSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1463" headers="d93940e850 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;TO '</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1463 d93940e853 ">
                                 <p>Specifies a user-defined file name or ASM disk group for the restored data file or temp file. </p>
                                 <p>When issuing <code class="codeph">SET NEWNAME FOR DATABASE</code> or <code class="codeph">SET NEWNAME FOR TABLESPACE</code>, you must specify substitution variables within <span class="italic"><code class="codeph">filename</code></span> to avoid name collisions. Specify at least a first three of the following substitution variables (the <code class="codeph">%I</code> and <code class="codeph">%N</code> variables are optional):
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">%b</code></p>
                                       <p>Specifies the file name without the fully qualified directory path. For example, the data file name <code class="codeph">/oradata/prod/financial.dbf</code> is transformed to <code class="codeph">financial.dbf</code>. This variable enables you to preserve the names of the data files while you move them to different directory. During backup, you can use it for creating image copies. You cannot use this variable for OMF data files or backup sets.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">%f</code></p>
                                       <p>Specifies the absolute file number of the data file for which the new name is generated. For example, if data file <code class="codeph">2</code> is duplicated, then <code class="codeph">%f</code> generates the value <code class="codeph">2</code>.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">%U</code></p>
                                       <p>	Specifies a system-generated unique file name. The name is in the following format: <code class="codeph">data-D-</code><span class="italic"><code class="codeph">%d</code></span><code class="codeph">_id-</code><span class="italic"><code class="codeph">%I</code></span><code class="codeph">_TS-</code><span class="italic"><code class="codeph">%N</code></span><code class="codeph">_FNO-</code><span class="italic"><code class="codeph">%f</code></span>. The <code class="codeph">%d</code> variable specifies the database name. For example, a possible name might be <code class="codeph">data-D-prod_id-22398754_TS-users_FNO-7</code>.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">%I</code></p>
                                       <p>Specifies the DBID.</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">%N</code></p>
                                       <p>Specifies the tablespace name.</p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">Note:</span> Use of other substitution variables defined in <a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a> is undefined: some yield an error, while others result in zero values and are not supported.
                                 </p>
                                 <p>If you set the <code class="codeph">NEWNAME</code> to an ASM disk group for a data file and run <code class="codeph">RESTORE</code>, then RMAN restores the file to the disk group. If you specify a file name for a temp file, then it is the new name of the temp file after the database is recovered and opened.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1585" headers="d93940e850 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;TO NEW</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1585 d93940e853 ">
                                 <p>Creates an Oracle-managed file in the directory specified by the <code class="codeph">DB_CREATE_FILE_DEST</code> initialization parameter.
                                 </p>
                                 <p>For example, <code class="codeph">SET NEWNAME FOR TABLESPACE users TO NEW</code> sets OMF names for the data files of the <code class="codeph">users</code> tablespace to be created in the <code class="codeph">DB_CREATE_FILE_DEST</code> location (see <a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BGBCEBDI">Example 2-89</a>).
                                 </p>
                                 <p>If the original file is an Oracle-managed file or is on an ASM disk group, then RMAN attempts to delete the original file. If you specify <code class="codeph">TO NEW</code> for a temp file, then RMAN creates the temp file in <code class="codeph">DB_CREATE_FILE_DEST</code> when the database is opened.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="../admin/using-oracle-managed-files.html#ADMIN003" target="_blank"><span><cite>Oracle Database Administrators Guide</cite></span></a> for information about Oracle-managed files
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1627" headers="d93940e850 "><a id="d93940e1628" class="indexterm-anchor"></a><a id="d93940e1632" class="indexterm-anchor"></a><a id="d93940e1636" class="indexterm-anchor"></a><code class="codeph">TO RESTORE POINT</code><span class="italic"><code class="codeph">restore_point_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d93940e1627 d93940e853 ">
                                 <p>Specifies a restore point for a subsequent <code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code> or <code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> command, with the SCN at which the restore point was created as the upper, inclusive limit. Because the limit is inclusive, RMAN selects only files that it can use to restore or recover up to <span class="italic">and including</span> the SCN corresponding to the restore point.
                                 </p>
                                 <p><span class="bold">Note:</span> You can only use <code class="codeph">SET TO RESTORE POINT</code> when the database is mounted, because the defined restore points are recorded in the control file. For example, you cannot use <code class="codeph">SET TO RESTORE POINT</code> to specify the target SCN for a <code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code> <code class="codeph">CONTROLFILE</code> operation.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1680" headers="d93940e850 ">
                                 <p><span class="italic"><code class="codeph"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A">untilClause</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1680 d93940e853 ">
                                 <p><a id="d93940e1689" class="indexterm-anchor"></a><a id="d93940e1693" class="indexterm-anchor"></a><a id="d93940e1697" class="indexterm-anchor"></a>Specifies an end time, SCN, or log sequence number for a subsequent <code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code> or <code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> command.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A">untilClause</a></code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDGGHCB"><span class="bold"><span class="italic">setRmanOrRunOption</span></span></p>
                  <p>This subclause specifies <code class="codeph">SET</code> options that are usable inside or outside of a <code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code> block.
                  </p>
                  <div class="tblformalwide" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-24B1F184-E867-4F20-918A-4993DE3A7C46">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes SET command setRmanOrRunOption parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d93940e1741">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d93940e1744">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1749" headers="d93940e1741 "><code class="codeph">AUXILIARY INSTANCE PARAMETER</code><code class="codeph">FILE TO</code> <code class="codeph">'</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code></td>
                              <td align="left" valign="top" width="71%" headers="d93940e1749 d93940e1744 ">
                                 <p>Specifies the path to the parameter file to use in starting the instance. You can use this parameter when customizing TSPITR with an automatic auxiliary instance or when cloning RMAN tablespaces with RMAN.</p>
                                 <p><span class="bold">Note:</span> The <span class="italic"><code class="codeph">filename</code></span> is on the host running the RMAN client.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1774" headers="d93940e1741 ">
                                 <p><a id="d93940e1776" class="indexterm-anchor"></a><a id="d93940e1780" class="indexterm-anchor"></a><a id="d93940e1784" class="indexterm-anchor"></a><a id="d93940e1788" class="indexterm-anchor"></a><code class="codeph">COMMAND ID TO</code> <code class="codeph">'</code><span class="italic"><code class="codeph">string</code></span><code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1774 d93940e1744 ">
                                 <p>Enters the specified string into the <code class="codeph">V$SESSION.CLIENT_INFO</code> column of all channels. Use this information to determine which database server sessions correspond to which RMAN channels. The <code class="codeph">SET COMMAND ID</code> command applies only to channels that are allocated.
                                 </p>
                                 <p>The <a id="d93940e1813" class="indexterm-anchor"></a><a id="d93940e1815" class="indexterm-anchor"></a><code class="codeph">V$SESSION.CLIENT_INFO</code> column contains information for each RMAN server session. The data appears in one of the following formats:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">id=</code><span class="italic"><code class="codeph">string</code></span></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">id=</code><span class="italic"><code class="codeph">string</code></span>, <code class="codeph">ch=</code><span class="italic"><code class="codeph">channel_id</code></span></p>
                                    </li>
                                 </ul>
                                 <p>The first form appears in the RMAN target database connection. The second form appears in all allocated channels. When the current job is complete, the <code class="codeph">V$SESSION.CLIENT_INFO</code> column is cleared.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="../refrn/V-SESSION.html#REFRN30223" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about <code class="codeph">V$SESSION.CLIENT_INFO</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1861" headers="d93940e1741 "><a id="d93940e1862" class="indexterm-anchor"></a><a id="d93940e1864" class="indexterm-anchor"></a><a id="d93940e1866" class="indexterm-anchor"></a><code class="codeph">CONTROLFILE AUTOBACKUP</code><code class="codeph">FORMAT FOR DEVICE TYPE</code><span class="italic"> <code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span><code class="codeph">TO</code> <span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span></td>
                              <td align="left" valign="top" width="71%" headers="d93940e1861 d93940e1744 ">
                                 <p>Overrides the default file name format for the control file autobackup on the specified device type. You can use this command either in <code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code> or at the RMAN prompt. The order of precedence is as follows:
                                 </p>
                                 <ol>
                                    <li>
                                       <p><code class="codeph">SET CONTROLFILE AUTOBACKUP</code> executed within a <code class="codeph">RUN</code> block
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">SET CONTROLFILE AUTOBACKUP</code> executed at the RMAN prompt
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">CONTROLFILE</code> <code class="codeph">AUTOBACKUP</code> <code class="codeph">FORMAT</code></p>
                                    </li>
                                 </ol>
                                 <p>The <a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABBCDDA">%F</a> substitution variable is required to be in the new <span class="italic"><code class="codeph">formatSpec</code></span>. No other substitution variable is valid in a control file autobackup <span class="italic"><code class="codeph">formatSpec</code></span>.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span> for the semantics of the <code class="codeph">%F</code> substitution variable
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1952" headers="d93940e1741 ">
                                 <p><code class="codeph">DATABASE</code> <code class="codeph">'</code><span class="italic"><code class="codeph">database_name</code></span><code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1952 d93940e1744 ">
                                 <p>Specifies the name of the database to copy (source database) when duplicating without a connection to the target database. Alternatively, you can use the <code class="codeph">DATABASE</code> clause of the <code class="codeph">DUPLICATE</code> command to specify the source database when you have chosen not to connect to the target database for the duplicate.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1974" headers="d93940e1741 ">
                                 <p><code class="codeph">DBID</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1974 d93940e1744 ">
                                 <p>Specifies the DBID, which is a unique 32-bit identification number computed when the database is created.</p>
                                 <p>RMAN displays the DBID upon connection to the target database. You can obtain the DBID by querying the <code class="codeph">V$DATABASE</code> view or the <code class="codeph">RC_DATABASE</code> and <code class="codeph">RC_DATABASE_INCARNATION</code> recovery catalog views.
                                 </p>
                                 <p>Run the <code class="codeph">SET DBID</code> command only in the following specialized circumstances:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>You are not connected to a recovery catalog and want to restore the control file (see <a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDEDAGJ">Example 3-59</a>). The same restriction applies when you use the Data Recovery Advisor to restore a control file autobackup. <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> can locate an autobackup and restore it only if <code class="codeph">SET DBID</code> is issued before <code class="codeph">ADVISE FAILURE</code>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>You want to restore the server parameter file (see <a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDGGHGB">Example 3-60</a>).
                                       </p>
                                    </li>
                                    <li>
                                       <p>You are connected to the recovery catalog but not the target database and use the <code class="codeph">FOR DB_UNIQUE_NAME</code> option on the <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code>, <code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code>, <code class="codeph"><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0">REPORT</a></code>, <code class="codeph"><a href="SHOW.html#GUID-6C2AF43B-FADD-41AF-9408-852A69538E2F">SHOW</a></code>, or <code class="codeph"><a href="UNREGISTER.html#GUID-CFC11D2B-0F77-4253-87E6-483C2C4452BB">UNREGISTER</a></code> commands.
                                       </p>
                                    </li>
                                    <li>
                                       <p>You are connected to the recovery catalog and want to restore the controlfile but the target database is not mounted and the database name is not unique in the recovery catalog. </p>
                                    </li>
                                    <li>
                                       <p>You are performing a <code class="codeph">DUPLICATE</code> without a target connection but are not using the <code class="codeph">DBID</code> subclause in the <code class="codeph">DUPLICATE</code> command and the database name specified in <code class="codeph">SET DATABASE</code> or<code class="codeph"> DATABASE</code> clause is not unique in the recovery catalog.
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e2077" headers="d93940e1741 ">
                                 <p><a id="d93940e2079" class="indexterm-anchor"></a><code class="codeph">INCARNATION</code> <span class="italic"><code class="codeph">primaryKey</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e2077 d93940e1744 ">
                                 <p>Specifies an orphan incarnation when duplicating without a target connection under the following conditions: </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>You have not specified INCARNATION within the DATABASE clause of the DUPLICATE command.</p>
                                    </li>
                                    <li>
                                       <p>You want to duplicate to an incarnation not in the current incarnation path (orphan incarnation).</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e2100" headers="d93940e1741 ">
                                 <p><code class="codeph">LONG</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e2100 d93940e1744 ">
                                 <p>Sets the number of characters displayed for LONG columns. The maximum is 4000, the default is 80.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e2112" headers="d93940e1741 ">
                                 <p><code class="codeph">NUMWIDTH</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e2112 d93940e1744 ">
                                 <p>Sets the number of characters displayed for NUMBER columns. The default is 10.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-0E02D1BE-6B51-4E0A-83D3-CDE406CC7D11">Examples</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-5407F472-45B4-45F7-9FD7-302C85F40308">
                  <p class="titleinexample">Example 3-57 Setting the Command ID</p>
                  <p>This example sets the command ID to <code class="codeph">rman</code>, backs up the database, and then archives the online redo logs. You can use the command ID to query <code class="codeph">V$SESSION</code> with <code class="codeph">WHERE CLIENT_INFO LIKE '%rman%'</code> for job status information.
                  </p><pre class="oac_no_warn" dir="ltr">RUN
{
  ALLOCATE CHANNEL d1 DEVICE TYPE DISK FORMAT '/disk1/%U';
  ALLOCATE CHANNEL d2 DEVICE TYPE DISK FORMAT '/disk2/%U';
  SET COMMAND ID TO 'rman';
  BACKUP INCREMENTAL LEVEL 0 DATABASE;
  ALTER SYSTEM ARCHIVE LOG CURRENT;
}</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDEFFDB">
                  <p class="titleinexample">Example 3-58 Duplexing a Backup Set</p>
                  <p>Assume that the current duplexing configuration is as follows:</p><pre class="oac_no_warn" dir="ltr">CONFIGURE ARCHIVELOG COPIES FOR DEVICE TYPE sbt TO 3;
CONFIGURE DATAFILE COPIES FOR DEVICE TYPE sbt TO 3;
</pre><p>A tape drives goes bad, leaving only two available. The guideline for tape backups is that the number of devices equals the number of copies multiplied by the number of channels. The following example overrides the persistent duplexing configuration with <code class="codeph">SET BACKUP COPIES</code> and writes two copies of a database backup to the two functioning tape drives:
                  </p><pre class="oac_no_warn" dir="ltr">RUN
{
  ALLOCATE CHANNEL dev1 DEVICE TYPE sbt
    PARMS 'ENV=(OB_DEVICE_1=stape1,OB_DEVICE_2=stape2)';
  SET BACKUP COPIES 2;
  BACKUP DATABASE PLUS ARCHIVELOG;
}</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDEDAGJ">
                  <p class="titleinexample">Example 3-59 Setting the Control File Autobackup Format During a Restore</p>
                  <p>Assume that the disk containing the control file fails. You edit the <code class="codeph">CONTROL_FILES</code> parameter in the initialization parameter file to point to a new location.
                  </p>
                  <p>In this example, you do not have access to a recovery catalog. The example starts the instance, sets the DBID, and then restores a control file autobackup. After the database is mounted, you can recover the database.</p><pre class="oac_no_warn" dir="ltr">CONNECT TARGET /
STARTUP FORCE NOMOUNT
SET DBID 28014364;
RUN
{
  SET CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK TO '/disk2/cf_%F.bak';
  RESTORE CONTROLFILE FROM AUTOBACKUP MAXSEQ 100;
}
ALTER DATABASE MOUNT;
RECOVER DATABASE;
ALTER DATABASE OPEN RESETLOGS;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDGGHGB">
                  <p class="titleinexample">Example 3-60 Restoring the Server Parameter File</p>
                  <p>Assume that the database is shut down while maintenance is being performed on the database host. During this time, the server parameter file is accidentally deleted. You start the RMAN client, <code class="codeph"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code> as <code class="codeph">TARGET</code> to the database, and connect to the recovery catalog. The following example restores a server parameter file from an autobackup on tape and then restarts the instance.
                  </p><pre class="oac_no_warn" dir="ltr">SET DBID 3257174182;  # set dbid so RMAN can identify the database
STARTUP FORCE NOMOUNT # RMAN starts database with a dummy server parameter file
RUN
{
  ALLOCATE CHANNEL t1 DEVICE TYPE sbt;
  RESTORE SPFILE FROM AUTOBACKUP;
}
STARTUP FORCE; # RMAN restarts database with restored server parameter file</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-FDA55E5F-7596-477D-8611-99A59871BB73">
                  <p class="titleinexample">Example 3-61 Setting NEWNAME and Duplicating Without a Connection to Target Database</p>
                  <p>Assume that you want to duplicate a database without a connection to the target database and that you want to duplicate to an incarnation that is not in the current incarnation path (<code class="codeph">451</code>). The following example uses the various <code class="codeph">SET NEWNAME</code> commands, sets the <code class="codeph">DBID</code> and duplicates the database to <code class="codeph">NEWDB</code>:
                  </p><pre class="oac_no_warn" dir="ltr">SET DATABASE PROD
SET DBID 22398754
SET INCARNATION 451
RUN
{
SET NEWNAME FOR TABLESPACE system TO '/test/oradata/system/%d_%f';
SET NEWNAME FOR TABLESPACE users to '/test/oradata/users/%b';
SET NEWNAME FOR DATAFILE 35 to '/test/oradata/special/%N_%b_%f';
SET NEWNAME FOR DATAFILE 50 to '/test/oradata/special/%N_%b_%f';
SET NEWNAME FOR DATABASE to NEW;
DUPLICATE DATABASE TO newdb
SKIP READONLY
LOGFILE
GROUP 1 ('/test/onlinelogs/redo01_1.f',
'?/test/onlinelogs/redo01_2.f') SIZE 4M,
GROUP 2 ('?/test/onlinelongs/redo02_1.f',
'?/test/onlinelongs/redo02_2.f') SIZE 4M,
GROUP 3 ('?/test/onlinelogs/redo03_1.f',
'?/test/onlinelogs/redo03_2.f') SIZE 4M REUSE;
}</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-E9415269-09EF-4FBD-88C6-D5C35C420485">
                  <p class="titleinexample">Example 3-62 Setting a Compression Level for a Backup</p>
                  <p>This example assumes that you have a license for Advanced Compression Option (ACO) of the database.</p>
                  <p>To use the <code class="codeph">LOW</code> compression algorithm for a backup of tablespace <code class="codeph">users</code> that has high volatility:
                  </p><pre class="oac_no_warn" dir="ltr">SET COMPRESSION ALGORITHM 'LOW' OPTIMIZE FOR LOAD FALSE;
BACKUP AS COMPRESSED BACKUPSET TABLESPACE USERS;</pre></div>
               <!-- class="example" -->
            </div>
         </div>
      </article>
   </body>
</html>