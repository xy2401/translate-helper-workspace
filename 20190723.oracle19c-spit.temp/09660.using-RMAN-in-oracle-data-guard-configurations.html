<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can create backup strategies using Oracle Recovery Manager (RMAN) with Oracle Data Guard and standby databases.">
      <meta name="description" content="You can create backup strategies using Oracle Recovery Manager (RMAN) with Oracle Data Guard and standby databases.">
      <title>Using RMAN to Back Up and Restore Files</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Concepts and Administration ">
      <meta property="og:description" content="You can create backup strategies using Oracle Recovery Manager (RMAN) with Oracle Data Guard and standby databases.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Concepts and Administration">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-guard-concepts-and-administration.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T10:50:21-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96244-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="managing-oracle-data-guard-logical-standby-databases.html" title="Previous" type="text/html">
      <link rel="next" href="using-sql-apply-to-perform-rolling-upgrade.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Concepts and Administration">
    <meta name="dcterms.isVersionOf" content="SBYDB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-oracle-data-guard-logical-standby-databases.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-sql-apply-to-perform-rolling-upgrade.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Concepts and Administration </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-guard-concepts.html" property="item" typeof="WebPage"><span property="name">  Concepts and Administration </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Using RMAN to Back Up and Restore Files</li>
            </ol>
            <a id="GUID-516D9C60-F2EF-4822-BB87-5D3BE877B69B" name="GUID-516D9C60-F2EF-4822-BB87-5D3BE877B69B"></a><a id="SBYDB04700"></a>
            
            <h2 id="SBYDB-GUID-516D9C60-F2EF-4822-BB87-5D3BE877B69B" class="sect2"><span class="enumeration_chapter">12 </span> Using RMAN to Back Up and Restore Files
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>You can create backup strategies using Oracle Recovery Manager (RMAN) with Oracle Data Guard and standby databases.</p>
               <p>RMAN can perform backups with minimal effect on the primary database and quickly recover from the loss of individual data files, or the entire database. RMAN and Oracle Data Guard can be used together to simplify the administration of an Oracle Data Guard configuration.</p>
               <p>See the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-7B0909F0-2DEA-4A16-8E91-A4687F634D4E" title="RMAN uses a recovery catalog to track filenames for all database files in an Oracle Data Guard environment.">About RMAN File Management in an Oracle Data Guard Configuration</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-8D525402-9629-44EC-A3F1-F6B8C3307E8C" title="In an Oracle Data Guard configuration, the process of backing up control files, data files, and archived logs can be offloaded to the standby system, thereby minimizing the effect of backups on the production system.">About RMAN Configuration in an Oracle Data Guard Environment</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-33B70E30-2454-484C-9110-A5AC452E63CB" title="These configurations can simplify backup and recovery operations.">Recommended RMAN and Oracle Database Configurations</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-410FEFAD-7805-405A-8C02-B9D8F74C60F4" title="You can use RMAN scripts and procedures to back up Oracle Database in an Oracle Data Guard configuration.">Backup Procedures</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-9C54A243-6B84-4755-957E-AFC57B9BC3B6" title="Only the primary database must be explicitly registered using the REGISTER DATABASE command. Do this after connecting RMAN to the recovery catalog and primary database as TARGET.">Registering and Unregistering Databases in an Oracle Data Guard Environment</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-D13E9A5E-5DBB-4DF4-8534-F1E16FA33618" title="Use the RMAN LIST, REPORT, and SHOW commands with the FOR DB_UNIQUE_NAME clause to view information about a specific database.">Reporting in an Oracle Data Guard Environment</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-4B1696A8-1A90-426C-A620-D5F313365E54" title="The files in an Oracle Data Guard environment (data files, archived logs, backup pieces, image copies, and proxy copies) are associated with a database through use of the DB_UNIQUE_NAME parameter.">Performing Backup Maintenance in an Oracle Data Guard Environment</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-44539CC5-0BAB-47F8-B51F-BFD0A1D6DA40" title="These are some of recovery scenarios that can occur in an Oracle Data Guard environment.">Recovery Scenarios in an Oracle Data Guard Environment</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-211E08A4-C19E-4159-80B2-429431314278" title="You can modify the backup procedures for other configurations, such as when the standby and primary databases cannot share backup files; the standby instance is only used to remotely archive redo log files; or the standby database filenames are different than the primary database.">Additional Backup Situations</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-F0EB4F8E-7D2F-4674-9A5B-AABC368D8F11" title="As of Oracle Database 12c, RMAN lets you restore or recover files by connecting, over the network, to a physical standby database that contains the required files.">Restoring and Recovering Files Over the Network</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-72F008A1-527F-41DB-89CD-623FA06D0420" title="RMAN supports point-in-time recovery (PITR) of a multitenant container database (CDB) at a standby. (Individual pluggable databases (PDBs) do not have their own individual standbys.)">RMAN Support for CDBs In an Oracle Data Guard Environment</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-516D9C60-F2EF-4822-BB87-5D3BE877B69B__GUID-B845DC4E-2CDB-4220-9B4D-4BA79F9BAF8A">
                  <p class="notep1">Note:</p>
                  <p>Because a logical standby database is not a block-for-block copy of the primary database, you cannot use a logical standby database to back up the primary database.</p>
               </div>
               <div class="infoboxnotealso" id="GUID-516D9C60-F2EF-4822-BB87-5D3BE877B69B__GUID-1E5E4442-BAC3-43B3-84FF-70E9B4E14E0A">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=BRADV89346" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about RMAN concepts and about using RMAN in an Oracle Data Guard environment
                        </p>
                     </li>
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=RCMRF001" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for detailed information about RMAN commands
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="SBYDB4847"></a><div class="props_rev_3"><a id="GUID-7B0909F0-2DEA-4A16-8E91-A4687F634D4E" name="GUID-7B0909F0-2DEA-4A16-8E91-A4687F634D4E"></a><h3 id="SBYDB-GUID-7B0909F0-2DEA-4A16-8E91-A4687F634D4E" class="sect3"><span class="enumeration_section">12.1 </span>About RMAN File Management in an Oracle Data Guard Configuration
               </h3>
               <div>
                  <p>RMAN uses a recovery catalog to track filenames for all database files in an Oracle Data Guard environment. </p>
                  <p>A recovery catalog is a database schema used by RMAN to store metadata about one or more Oracle databases. The catalog also records where the online redo logs, standby redo logs, tempfiles, archived redo logs, backup sets, and image copies are created. </p>
               </div><a id="SBYDB4848"></a><div class="props_rev_3"><a id="GUID-075FF361-A398-4533-9E7B-9255A288A662" name="GUID-075FF361-A398-4533-9E7B-9255A288A662"></a><h4 id="SBYDB-GUID-075FF361-A398-4533-9E7B-9255A288A662" class="sect4"><span class="enumeration_section">12.1.1 </span>Interchangeability of Backups in an Oracle Data Guard Environment
                  </h4>
                  <div>
                     <p>RMAN commands use the recovery catalog metadata to behave transparently across different physical databases in the Oracle Data Guard environment.</p>
                     <p>For example, you can back up a tablespace on a physical standby database and restore and recover it on the primary database. Similarly, you can back up a tablespace on a primary database and restore and recover it on a physical standby database.</p>
                     <div class="infoboxnote" id="GUID-075FF361-A398-4533-9E7B-9255A288A662__GUID-C796926F-7651-4EE5-8CC6-B34FD5EC9145">
                        <p class="notep1">Note:</p>
                        <p>Backups of logical standby databases are not usable at the primary database.</p>
                     </div>
                     <p>Backups of standby control files and nonstandby control files are interchangeable. For example, you can restore a standby control file on a primary database and a primary control file on a physical standby database. This interchangeability means that you can offload control file backups to one database in an Oracle Data Guard environment. RMAN automatically updates the filenames for database files during restore and recovery at the databases.</p>
                  </div>
               </div><a id="SBYDB4849"></a><div class="props_rev_3"><a id="GUID-73A75929-1F78-46F1-9CBE-EC2611388A6B" name="GUID-73A75929-1F78-46F1-9CBE-EC2611388A6B"></a><h4 id="SBYDB-GUID-73A75929-1F78-46F1-9CBE-EC2611388A6B" class="sect4"><span class="enumeration_section">12.1.2 </span>Association of Backups in an Oracle Data Guard Environment
                  </h4>
                  <div>
                     <p>The recovery catalog tracks the files in the Oracle Data Guard environment by associating every database file or backup file with a <code class="codeph">DB_UNIQUE_NAME</code>. 
                     </p>
                     <p>The database that creates a file is associated with the file. For example, if RMAN backs up the database with the unique name of <code class="codeph">standby1</code>, then <code class="codeph">standby1</code> is associated with this backup. A backup remains associated with the database that created it unless you use the <code class="codeph">CHANGE</code> <code class="codeph">... RESET DB_UNIQUE_NAME</code> to associate the backup with a different database.
                     </p>
                  </div>
               </div><a id="SBYDB4850"></a><div class="props_rev_3"><a id="GUID-61ABB2C2-0813-4DD9-94F4-BB292CB21194" name="GUID-61ABB2C2-0813-4DD9-94F4-BB292CB21194"></a><h4 id="SBYDB-GUID-61ABB2C2-0813-4DD9-94F4-BB292CB21194" class="sect4"><span class="enumeration_section">12.1.3 </span>Accessibility of Backups in an Oracle Data Guard Environment
                  </h4>
                  <div>
                     <p>By default, in an Oracle Data Guard environment, the recovery catalog considers disk backups as accessible only to the database with which it is associated, whereas tape backups created on one database are accessible to all databases.</p>
                     <div class="p">You can override the default behavior by using the following RMAN command:<pre class="pre codeblock"><code>SET BACKUP FILES FOR DEVICE TYPE device_specifier TO [NOTACCESSIBLE | ACCESSIBLE]</code></pre> The accessibility setting is at the session level which means that after the RMAN session is disconnected, the association of backups reverts back to default behavior.</div>
                     <p>If a backup file is not associated with any database, then the row describing it in the recovery catalog view shows <code class="codeph">null</code> for the <code class="codeph">SITE_KEY</code> column. By default, RMAN associates files whose <code class="codeph">SITE_KEY</code> is <code class="codeph">null</code> with the target database.
                     </p>
                     <p>RMAN commands such as <code class="codeph">BACKUP</code>, <code class="codeph">RESTORE</code>, and <code class="codeph">CROSSCHECK</code> work on any accessible backup. For example, for a <code class="codeph">RECOVER COPY</code> operation, RMAN considers only image copies that are associated with the database as eligible to be recovered. RMAN considers the incremental backups on disk and tape as eligible to recover the image copies. In a database recovery, RMAN considers only the disk backups associated with the database and all files on tape as eligible to be restored.
                     </p>
                     <p>To illustrate the differences in backup accessibility, assume that databases <code class="codeph">prod</code> and <code class="codeph">standby1</code> reside on different hosts. RMAN backs up data file 1 on <code class="codeph">prod</code> to <code class="codeph">/prmhost/disk1/df1.dbf</code> on the production host and also to tape. RMAN backs up data file 1 on <code class="codeph">standby1</code> to <code class="codeph">/sbyhost/disk2/df1.dbf</code> on the standby host and also to tape. If RMAN is connected to database <code class="codeph">prod</code>, then you cannot use RMAN commands to perform operations with the <code class="codeph">/sbyhost/disk2/df1.dbf</code> backup located on the standby host. However, RMAN does consider the tape backup made on <code class="codeph">standby1</code> as eligible to be restored.
                     </p>
                     <div class="infoboxnote" id="GUID-61ABB2C2-0813-4DD9-94F4-BB292CB21194__GUID-77DE5DBE-E968-43BC-AF85-42BF02FF27C4">
                        <p class="notep1">Note:</p>
                        <p>You can FTP a backup from a standby host to a primary host or vice versa, connect as <code class="codeph">TARGET</code> to the database on this host, and then <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=RCMRF109" target="_blank"><code class="codeph">CATALOG</code></a> the backup. After a file is cataloged by the target database, the file is associated with the target database.
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="SBYDB4851"></a><div class="props_rev_3"><a id="GUID-8D525402-9629-44EC-A3F1-F6B8C3307E8C" name="GUID-8D525402-9629-44EC-A3F1-F6B8C3307E8C"></a><h3 id="SBYDB-GUID-8D525402-9629-44EC-A3F1-F6B8C3307E8C" class="sect3"><span class="enumeration_section">12.2 </span>About RMAN Configuration in an Oracle Data Guard Environment
               </h3>
               <div>
                  <p>In an Oracle Data Guard configuration, the process of backing up control files, data files, and archived logs can be offloaded to the standby system, thereby minimizing the effect of backups on the production system. </p>
                  <p>These backups can be used to recover the primary or standby database.</p>
                  <p>RMAN uses the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter to distinguish one database site from another database site. Thus, it is critical that the uniqueness of <code class="codeph">DB_UNIQUE_NAME</code> be maintained in an Oracle Data Guard configuration.
                  </p>
                  <p>Only the primary database must be explicitly registered using the RMAN <code class="codeph">REGISTER DATABASE</code> command. You do this after connecting RMAN to the recovery catalog and primary database as target. 
                  </p>
                  <p>Use the RMAN <code class="codeph">CONFIGURE</code> command to set the RMAN configurations. When the <code class="codeph">CONFIGURE</code> command is used with the <code class="codeph">FOR DB_UNIQUE_NAME</code> option, it sets the RMAN site-specific configuration for the database with the DB_UNIQUE_NAME you specify.
                  </p>
                  <p>For example, after connecting to the recovery catalog, you could use the following commands at an RMAN prompt to set the default device type to <code class="codeph">SBT</code> for the <code class="codeph">BOSTON</code> database that has a DBID of 1625818158. The RMAN <code class="codeph">SET DBID</code> command is required only if you are not connected to a database as target.
                  </p><pre class="oac_no_warn" dir="ltr">SET DBID 1625818158;
CONFIGURE DEFAULT DEVICE TYPE TO SBT FOR DB_UNIQUE_NAME BOSTON;</pre></div>
            </div><a id="SBYDB5054"></a><a id="SBYDB4852"></a><div class="props_rev_3"><a id="GUID-33B70E30-2454-484C-9110-A5AC452E63CB" name="GUID-33B70E30-2454-484C-9110-A5AC452E63CB"></a><h3 id="SBYDB-GUID-33B70E30-2454-484C-9110-A5AC452E63CB" class="sect3"><span class="enumeration_section">12.3 </span>Recommended RMAN and Oracle Database Configurations
               </h3>
               <div>
                  <p>These configurations can simplify backup and recovery operations.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-B7FFF73A-B8C0-49DD-8404-F6FE9F784C41" title="These Oracle Database configurations are recommended on every primary and standby database in the Oracle Data Guard environment.">Oracle Database Configurations on Primary and Standby Databases</a></p>
                     </li>
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-2AEB88E7-075F-47F4-BBCE-77B274A50683" title="To simplify ongoing use of RMAN, you can set a number of persistent configuration settings for each database in the Oracle Data Guard environment.">RMAN Configurations at the Primary Database</a></p>
                     </li>
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-FBB66066-8FD4-4328-9AF2-0D7625803FDB" title="These RMAN configurations are recommended at a standby database where backups are done.">RMAN Configurations at a Standby Database Where Backups are Performed</a></p>
                     </li>
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-F4CD9CD2-1006-409F-92D8-909114931B06" title="These RMAN configurations are recommended at a standby database where backups are not done.">RMAN Configurations at a Standby Where Backups Are Not Performed</a></p>
                     </li>
                  </ul>
                  <div class="section">
                     <p class="subhead2" id="GUID-33B70E30-2454-484C-9110-A5AC452E63CB__GUID-B9B1D627-EC55-4F67-AAAE-55DB07E2BECA">Configuration Assumptions</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>These configurations make the following assumptions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The standby database is a physical standby database, and backups are taken only on the standby database. See <a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-75F78440-2A7C-4FDC-AFF9-CABB440CB651" title="If the standby databases are far apart from one another, then the backups taken on them may not be easily accessible by the primary system or other standby systems.">Standby Databases Too Geographically Distant to Share Backups</a> for procedural changes if backups are taken on both primary and standby databases.
                           </p>
                        </li>
                        <li>
                           <p>An RMAN recovery catalog is required so that backups taken on one database server can be restored to another database server. It is not sufficient to use only the control file as the RMAN repository because the primary database has no knowledge of backups taken on the standby database.</p>
                           <p>The RMAN recovery catalog organizes backup histories and other recovery-related metadata in a centralized location. The recovery catalog is configured in a database and maintains backup metadata. A recovery catalog does not have the space limitations of the control file and can store more historical data about backups.</p>
                           <p>A catalog server, physically separate from the primary and standby sites, is recommended in an Oracle Data Guard configuration because a disaster at either site will not affect the ability to recover the latest backups.</p>
                           <div class="infoboxnotealso" id="GUID-33B70E30-2454-484C-9110-A5AC452E63CB__GUID-40CEB303-D9CD-43BE-B3EF-6D9368D1F439">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=BRADV8015" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about managing a recovery catalog
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>All databases in the configuration use Oracle Database 11<span class="italic">g</span> Release 1 (11.1) or later.
                           </p>
                        </li>
                        <li>
                           <p>Oracle Secure Backup software or 3rd-party media management software is configured with RMAN to make backups to tape.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="SBYDB4853"></a><div class="props_rev_3"><a id="GUID-B7FFF73A-B8C0-49DD-8404-F6FE9F784C41" name="GUID-B7FFF73A-B8C0-49DD-8404-F6FE9F784C41"></a><h4 id="SBYDB-GUID-B7FFF73A-B8C0-49DD-8404-F6FE9F784C41" class="sect4"><span class="enumeration_section">12.3.1 </span>Oracle Database Configurations on Primary and Standby Databases
                  </h4>
                  <div>
                     <p>These Oracle Database configurations are recommended on every primary and standby database in the Oracle Data Guard environment.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Configure a fast recovery area for each database (the recovery area is local to a database).</p>
                           <p>The fast recovery area is a single storage location on a file system or Oracle Automatic Storage Management (Oracle ASM) disk group where all files needed for recovery reside. These files include the control file, archived logs, online redo logs, flashback logs, and RMAN backups. As new backups and archived logs are created in the fast recovery area, older files (which are either outside of the retention period, or have been backed up to tertiary storage) are automatically deleted to make room for them. In addition, notifications can be set up to alert the DBA when space consumption in the fast recovery area is nearing its predefined limit. The DBA can then take action, such as increasing the recovery area space limit, adding disk hardware, or decreasing the retention period.</p>
                           <p></p>
                           <p>Set the following initialization parameters to configure the fast recovery area:</p><pre class="oac_no_warn" dir="ltr">DB_RECOVERY_FILE_DEST = &lt;file system location or Oracle ASM Disk Group&gt;
DB_RECOVERY_FILE_DEST_SIZE = &lt;disk space quota&gt;</pre><div class="infoboxnotealso" id="GUID-B7FFF73A-B8C0-49DD-8404-F6FE9F784C41__GUID-C42B4850-3659-432F-A93B-C26A86C0F8D8">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=BRADV8183" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about configuring a fast recovery area
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Use a server parameter file (SPFILE) so that it can be backed up to save instance parameters in backups.</p>
                        </li>
                        <li>
                           <p>Enable Flashback Database on primary and standby databases.</p>
                           <p>When Flashback Database is enabled, Oracle Database maintains flashback logs in the fast recovery area. These logs can be used to roll the database back to an earlier point in time, without requiring a complete restore. </p>
                           <div class="infoboxnotealso" id="GUID-B7FFF73A-B8C0-49DD-8404-F6FE9F784C41__GUID-A633BB4E-A8ED-4B72-AE87-D872ACAE1E31">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=BRADV595" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about enabling Flashback Database
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="SBYDB4854"></a><div class="props_rev_3"><a id="GUID-2AEB88E7-075F-47F4-BBCE-77B274A50683" name="GUID-2AEB88E7-075F-47F4-BBCE-77B274A50683"></a><h4 id="SBYDB-GUID-2AEB88E7-075F-47F4-BBCE-77B274A50683" class="sect4"><span class="enumeration_section">12.3.2 </span>RMAN Configurations at the Primary Database
                  </h4>
                  <div>
                     <p>To simplify ongoing use of RMAN, you can set a number of persistent configuration settings for each database in the Oracle Data Guard environment. </p>
                     <div class="section">
                        <p>These settings control many aspects of RMAN behavior. For example, you can configure the backup retention policy, default destinations for backups to tape or disk, default backup device type, and so on. You can use the <code class="codeph">CONFIGURE</code> command to set and change RMAN configurations. The following RMAN configurations are recommended at the primary database:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Connect RMAN to the primary database and recovery catalog.</span></li>
                        <li class="stepexpand"><span>Configure the retention policy for the database as <span class="italic"><code class="codeph">n</code></span> days:</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE RETENTION POLICY TO RECOVERY WINDOW OF &lt;n&gt; DAYS;
</pre><p>This configuration lets you keep the backups necessary to perform database recovery to any point in time within the specified number of days. </p>
                              <p>Use the <code class="codeph">DELETE</code> <code class="codeph">OBSOLETE</code> command to delete any backups that are not required (per the retention policy in place) to perform recovery within the specified number of days.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Specify when archived logs can be deleted with the <code class="codeph">CONFIGURE ARCHIVELOG DELETION POLICY</code> command. For example, to delete logs after ensuring that they <span class="italic">shipped</span> to all destinations, use the following configuration:</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE ARCHIVELOG DELETION POLICY TO SHIPPED TO ALL STANDBY;
</pre><p>To delete logs after ensuring that they were <span class="italic">applied</span> on all standby destinations, use the following configuration:
                              </p><pre class="oac_no_warn" dir="ltr">CONFIGURE ARCHIVELOG DELETION POLICY TO APPLIED ON ALL STANDBY;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Configure the connect string for the primary database and all standby databases, so that RMAN can connect remotely and perform resynchronization when the <code class="codeph">RESYNC CATALOG FROM DB_UNIQUE_NAME</code> command is used. When you connect to the target instance, you must provide a net service name. This requirement applies even if the other database instance from where the resynchronization is done is on the local host. The target and remote instances must use the same <code class="codeph">SYSDBA</code> (or <code class="codeph">SYSBACKUP</code>) password, which means that both instances must already have password files. You can create the password file with a single password so you can start all the database instances with that password file. For example, if the TNS alias to connect to a standby in Boston is <code class="codeph">boston_conn_str</code>, you can use the following command to configure the connect identifier for the <code class="codeph">BOSTON</code> database site:</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE DB_UNIQUE_NAME BOSTON CONNECT IDENTIFIER 'boston_conn_str';
</pre><p>Note that the <code class="codeph">'boston_conn_str'</code> does not include a username and password. It contains only the Oracle Net service name that can be used from any database site to connect to the <code class="codeph">BOSTON</code> database site.
                              </p>
                              <p>After connect identifiers are configured for all standby databases, you can verify the list of standbys by using the <code class="codeph">LIST DB_UNIQUE_NAME OF DATABASE</code> command.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-2AEB88E7-075F-47F4-BBCE-77B274A50683__GUID-81E4B6DA-3925-474F-8A46-792AC36955CF">
                           <p class="notep1">See Also:</p>
                           <p> </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../bradv/configuring-rman-client-advanced.html#BRADV006" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about RMAN configurations
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=RCMRF113" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for more information about the RMAN <code class="codeph">CONFIGURE</code> command
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB4855"></a><div class="props_rev_3"><a id="GUID-FBB66066-8FD4-4328-9AF2-0D7625803FDB" name="GUID-FBB66066-8FD4-4328-9AF2-0D7625803FDB"></a><h4 id="SBYDB-GUID-FBB66066-8FD4-4328-9AF2-0D7625803FDB" class="sect4"><span class="enumeration_section">12.3.3 </span>RMAN Configurations at a Standby Database Where Backups are Performed
                  </h4>
                  <div>
                     <p>These RMAN configurations are recommended at a standby database where backups are done.</p>
                     <ol>
                        <li class="stepexpand"><span>Connect RMAN to the standby database (where backups are performed) as target, and to the recovery catalog.</span></li>
                        <li class="stepexpand"><span>Enable automatic backup of the control file and the server parameter file:</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE CONTROLFILE AUTOBACKUP ON;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Skip backing up data files for which there already exists a valid backup with the same checkpoint:</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE BACKUP OPTIMIZATION ON;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Configure the tape channels to create backups as required by media management software:</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE CHANNEL DEVICE TYPE SBT PARMS '&lt;channel parameters&gt;';
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Because the archived logs are backed up at the standby database, Oracle recommends that you configure the <code class="codeph">BACKED UP</code> option for the log deletion policy:</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE ARCHIVELOG DELETION POLICY BACKED UP <span class="italic">n</span> TIMES TO DEVICE TYPE SBT;</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-FBB66066-8FD4-4328-9AF2-0D7625803FDB__GUID-F042CE3F-2867-4CE4-A848-0623D0ACE30E">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=BRADV89439" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about enabling deletion policies for archived redo logs
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB4856"></a><div class="props_rev_3"><a id="GUID-F4CD9CD2-1006-409F-92D8-909114931B06" name="GUID-F4CD9CD2-1006-409F-92D8-909114931B06"></a><h4 id="SBYDB-GUID-F4CD9CD2-1006-409F-92D8-909114931B06" class="sect4"><span class="enumeration_section">12.3.4 </span>RMAN Configurations at a Standby Where Backups Are Not Performed
                  </h4>
                  <div>
                     <p>These RMAN configurations are recommended at a standby database where backups are <span class="italic">not</span> done.
                     </p>
                     <ol>
                        <li class="stepexpand"><span>Connect RMAN to the standby database as target, and to the recovery catalog.</span></li>
                        <li class="stepexpand"><span>Enable automatic deletion of archived logs once they are applied at the standby database (this is also applicable to all terminal databases when the cascading or far sync instance features are in use):</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE ARCHIVELOG DELETION POLICY TO APPLIED ON ALL STANDBY;</pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="SBYDB5055"></a><a id="SBYDB00755"></a><div class="props_rev_3"><a id="GUID-410FEFAD-7805-405A-8C02-B9D8F74C60F4" name="GUID-410FEFAD-7805-405A-8C02-B9D8F74C60F4"></a><h3 id="SBYDB-GUID-410FEFAD-7805-405A-8C02-B9D8F74C60F4" class="sect3"><span class="enumeration_section">12.4 </span>Backup Procedures
               </h3>
               <div>
                  <p>You can use RMAN scripts and procedures to back up Oracle Database in an Oracle Data Guard configuration.</p>
                  <p>See the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-104006BF-5611-44C9-B892-87D140474DD3" title="The fast recovery area on the standby database can serve as a disk cache for tape backup.">Using Disk as Cache for Tape Backups</a></p>
                     </li>
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-9102A173-7F1B-46B2-A750-E2599F74305F" title="Oracle's Media Management Layer (MML) API lets third-party vendors build a media manager, software that works with RMAN and the vendor's hardware to allow backups to sequential media devices such as tape drives.">Performing Backups Directly to Tape</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-410FEFAD-7805-405A-8C02-B9D8F74C60F4__GUID-A38275CC-E493-405E-A445-9E29D19787A4">
                     <p class="notep1">Note:</p>
                     <p>Oracle's Maximum Availability Architecture (MAA) best practices recommend that backups be taken at both the primary and the standby databases to reduce MTTR, in case of double outages and to avoid introducing new site practices upon switchover and failover.</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-410FEFAD-7805-405A-8C02-B9D8F74C60F4__GUID-B862B1D0-AF45-46D2-84FF-0D3208E7684F">Backups of Server Parameter Files</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>All backup operations can be offloaded to a single standby database, except backups of the SPFILE. Backups of the SPFILE can only be restored to the database from which they were backed up.</p>
                     <p>For databases that are not backed up, Oracle recommends that you at least back up the SPFILE to a known local disk location. If the SPFILE backups need to be further backed up to tape, you can copy them to the database site where backups to tape have been configured. The SPFILE backups can then be cataloged at that database using the following RMAN command:</p><pre class="oac_no_warn" dir="ltr">CATALOG START WITH '&lt;SPFILE backup directory&gt;';
</pre><p>Then back up the SPFILE backups to tape:</p><pre class="oac_no_warn" dir="ltr">BACKUP BACKUPSET ALL;
</pre><p>When the SPFILE needs to be restored for a specific database, the appropriate SPFILE backup is restored from disk or tape.</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="SBYDB4857"></a><div class="props_rev_3"><a id="GUID-104006BF-5611-44C9-B892-87D140474DD3" name="GUID-104006BF-5611-44C9-B892-87D140474DD3"></a><h4 id="SBYDB-GUID-104006BF-5611-44C9-B892-87D140474DD3" class="sect4"><span class="enumeration_section">12.4.1 </span>Using Disk as Cache for Tape Backups
                  </h4>
                  <div>
                     <p>The fast recovery area on the standby database can serve as a disk cache for tape backup.</p>
                     <p>Disk is used as the primary storage for backups, with tape providing long term, archival storage. Incremental tape backups are taken daily and full tape backups are taken weekly. The commands used to perform these backups are described in the following sections.</p>
                  </div><a id="SBYDB4858"></a><div class="props_rev_3"><a id="GUID-88CA9C62-4AFF-4395-B47D-05A145E7EFAE" name="GUID-88CA9C62-4AFF-4395-B47D-05A145E7EFAE"></a><h5 id="SBYDB-GUID-88CA9C62-4AFF-4395-B47D-05A145E7EFAE" class="sect5"><span class="enumeration_section">12.4.1.1 </span>Commands for Daily Tape Backups Using Disk as Cache
                     </h5>
                     <div>
                        <p>When deciding on your backup strategy, Oracle recommends that you take advantage of daily incremental backups. </p>
                        <p>Data file image copies can be rolled forward with the latest incremental backups, thereby providing up-to-date data file image copies at all times. RMAN uses the resulting image copy for media recovery just as it would use a full image copy taken at that system change number (SCN), without the overhead of performing a full image copy of the database every day. An additional advantage is that the time-to-recover is reduced because the image copy is updated with the latest block changes and fewer redo logs are required to bring the database back to the current state.</p>
                        <p>To implement daily incremental backups, a full database backup is taken on the first day, followed by an incremental backup on day two. Archived redo logs can be used to recover the database to any point in either day. For day three and onward, the previous day's incremental backup is merged with the data file copy and a current incremental backup is taken, allowing fast recovery to any point within the last day. Redo logs can be used to recover the database to any point during the current day.</p>
                        <p>The script to perform daily backups looks as follows (the last line, <code class="codeph">DELETE ARCHIVELOG ALL</code> is only needed if the fast recovery area is not used to store logs):
                        </p><pre class="oac_no_warn" dir="ltr">RESYNC CATALOG FROM DB_UNIQUE_NAME ALL;
RECOVER COPY OF DATABASE WITH TAG 'OSS';
BACKUP DEVICE TYPE DISK INCREMENTAL LEVEL 1 FOR RECOVER OF COPY WITH TAG 'OSS' DATABASE;
BACKUP DEVICE TYPE DISK DATAFILECOPY ALL NOT BACKED UP AT ANY SCN;
BACKUP DEVICE TYPE SBT ARCHIVELOG ALL;
BACKUP BACKUPSET ALL;
DELETE ARCHIVELOG ALL;
</pre><p>The standby control file is automatically backed up at the conclusion of the backup operation because the control file auto backup is enabled.</p>
                        <p>Explanations for what each command in the script does are as follows:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">RESYNC CATALOG FROM DB_UNIQUE_NAME ALL</code></p>
                              <p>Resynchronizes the information from all other database sites (primary and other standby databases) in the Oracle Data Guard setup that are known to recovery catalog. For <code class="codeph">RESYNC CATALOG FROM DB_UNIQUE_NAME</code> to work, RMAN must be connected to the target using the Oracle Net service name and all databases must use the same password file.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">RECOVER COPY OF DATABASE WITH TAG 'OSS'</code></p>
                              <p>Rolls forward level 0 copy of the database by applying the level 1 incremental backup taken the day before. In the example script just shown, the previous day's incremental level 1 was tagged <code class="codeph">OSS</code>. This incremental is generated by the <code class="codeph">BACKUP DEVICE TYPE DISK ... DATABASE</code> command. On the first day this command is run there is no roll forward because there is no incremental level 1 yet. A level 0 incremental is created by the <code class="codeph">BACKUP DEVICE TYPE DISK ... DATABASE</code> command. Again on the second day there is no roll forward because there is only a level 0 incremental. A level 1 incremental tagged <code class="codeph">OSS</code> is created by the <code class="codeph">BACKUP DEVICE TYPE DISK ... DATABASE</code> command. On the third and following days, the roll forward is performed using the level 1 incremental tagged <code class="codeph">OSS</code> created on the previous day.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">BACKUP DEVICE TYPE DISK INCREMENTAL LEVEL 1 FOR RECOVER OF COPY WITH TAG 'OSS' DATABASE</code></p>
                              <p>Create a new level 1 incremental backup. On the first day this command is run, a base datafile copy is created. On the second and following days, this is a level 1 incremental.</p>
                           </li>
                           <li><code class="codeph">BACKUP DEVICE TYPE DISK DATAFILECOPY ALL NOT BACKED UP AT ANY SCN</code><p>Backs up only the data files that have not yet been backed up.</p>
                           </li>
                           <li>
                              <p><code class="codeph">BACKUP DEVICE TYPE SBT ARCHIVELOG ALL</code></p>
                              <p>Backs up archived logs to tape according to the deletion policy in place. </p>
                           </li>
                           <li>
                              <p><code class="codeph">BACKUP BACKUPSET ALL</code></p>
                              <p>Backs up any backup sets created as a result of incremental backup creation.</p>
                           </li>
                           <li>
                              <p><code class="codeph">DELETE ARCHIVELOG ALL</code></p>
                              <p>Deletes archived logs according to the log deletion policy set by the <code class="codeph">CONFIGURE ARCHIVELOG DELETION POLICY</code> command. If the archived logs are in a fast recovery area, then they are automatically deleted when more open disk space is required. Therefore, you only need to use this command if you explicitly want to delete logs each day.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="SBYDB4859"></a><div class="props_rev_3"><a id="GUID-66665A86-0B71-41FE-BED0-B9992A405C35" name="GUID-66665A86-0B71-41FE-BED0-B9992A405C35"></a><h5 id="SBYDB-GUID-66665A86-0B71-41FE-BED0-B9992A405C35" class="sect5"><span class="enumeration_section">12.4.1.2 </span>Commands for Weekly Tape Backups Using Disk as Cache
                     </h5>
                     <div>
                        <p>To back up all recovery-related files to tape, use the RMAN <code class="codeph">BACKUP RECOVERY FILES</code> command once a week.
                        </p>
                        <div class="section">
                           <p>This ensures that all current incremental, image copy, and archived log backups on disk are backed up to tape.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="SBYDB4860"></a><div class="props_rev_3"><a id="GUID-9102A173-7F1B-46B2-A750-E2599F74305F" name="GUID-9102A173-7F1B-46B2-A750-E2599F74305F"></a><h4 id="SBYDB-GUID-9102A173-7F1B-46B2-A750-E2599F74305F" class="sect4"><span class="enumeration_section">12.4.2 </span>Performing Backups Directly to Tape
                  </h4>
                  <div>
                     <p>Oracle's Media Management Layer (MML) API lets third-party vendors build a media manager, software that works with RMAN and the vendor's hardware to allow backups to sequential media devices such as tape drives.</p>
                     <div class="section">
                        <p>A media manager handles loading, unloading, and labeling of sequential media such as tapes. You must install Oracle Secure Backup or third-party media management software to use RMAN with sequential media devices.</p>
                        <p>Take the following steps to perform backups directly to tape, by default:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Connect RMAN to the standby database (as the target database) and recovery catalog.</span></li>
                        <li class="stepexpand"><span>Execute the <code class="codeph">CONFIGURE</code> command as follows:</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE DEFAULT DEVICE TYPE TO SBT;
</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>In this scenario, full backups are taken weekly, with incremental backups taken daily on the standby database.</p>
                        <div class="infoboxnotealso" id="GUID-9102A173-7F1B-46B2-A750-E2599F74305F__GUID-E3E29B26-407C-4576-81BF-BDF5B06A0E89">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=BRADV132" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about how to configure RMAN for use with a media manager
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="SBYDB4861"></a><div class="props_rev_3"><a id="GUID-110EF96F-1018-44FE-A7D4-6BED2786424B" name="GUID-110EF96F-1018-44FE-A7D4-6BED2786424B"></a><h5 id="SBYDB-GUID-110EF96F-1018-44FE-A7D4-6BED2786424B" class="sect5"><span class="enumeration_section">12.4.2.1 </span>Commands for Daily Backups Directly to Tape
                     </h5>
                     <div>
                        <p>The RMAN commands used to perform daily backups directly to tape  resynchronize the information from all other databases in the Oracle Data Guard environment.</p>
                        <div class="section">
                           <p>Take the following steps to perform daily backups directly to tape:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Connect RMAN to the standby database (as target database) and to the recovery manager.</span></li>
                           <li class="stepexpand"><span>Execute the following RMAN commands:</span><div><pre class="oac_no_warn" dir="ltr">RESYNC CATALOG FROM DB_UNIQUE_NAME ALL;
BACKUP AS BACKUPSET INCREMENTAL LEVEL 1 DATABASE PLUS ARCHIVELOG; 
DELETE ARCHIVELOG ALL;
</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>These commands also create a level 1 incremental backup of the database, including all archived logs. On the first day this script is run, if no level 0 backups are found, then a level 0 backup is created.</p>
                           <p>The <code class="codeph">DELETE ARCHIVELOG ALL</code> command is necessary only if all archived log files are not in a fast recovery area.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="SBYDB4862"></a><div class="props_rev_3"><a id="GUID-859B3851-D933-44E0-A114-5430EFD1F662" name="GUID-859B3851-D933-44E0-A114-5430EFD1F662"></a><h5 id="SBYDB-GUID-859B3851-D933-44E0-A114-5430EFD1F662" class="sect5"><span class="enumeration_section">12.4.2.2 </span>Commands for Weekly Backups Directly to Tape
                     </h5>
                     <div>
                        <p>One day a week, perform a weekly backup directly to tape.</p>
                        <div class="section">
                           <p>Take the following steps:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Connect RMAN to the standby database (as target database) and to the recovery catalog.</span></li>
                           <li class="stepexpand"><span>Execute the following RMAN commands:</span><div><pre class="oac_no_warn" dir="ltr">RESYNC CATALOG FROM DB_UNIQUE_NAME ALL;
BACKUP AS BACKUPSET INCREMENTAL LEVEL 0 DATABASE PLUS ARCHIVELOG;
DELETE ARCHIVELOG ALL;
</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>These commands resynchronize the information from all other databases in the Oracle Data Guard environment, and create a level 0 database backup that includes all archived logs.</p>
                           <p>The <code class="codeph">DELETE ARCHIVELOG ALL</code> command is necessary only if all archived log files are not in a fast recovery area.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="SBYDB4863"></a><div class="props_rev_3"><a id="GUID-9C54A243-6B84-4755-957E-AFC57B9BC3B6" name="GUID-9C54A243-6B84-4755-957E-AFC57B9BC3B6"></a><h3 id="SBYDB-GUID-9C54A243-6B84-4755-957E-AFC57B9BC3B6" class="sect3"><span class="enumeration_section">12.5 </span>Registering and Unregistering Databases in an Oracle Data Guard Environment
               </h3>
               <div>
                  <p>Only the primary database must be explicitly registered using the <code class="codeph">REGISTER DATABASE</code> command. Do this after connecting RMAN to the recovery catalog and primary database as <code class="codeph">TARGET</code>.
                  </p>
                  <p>A new standby is automatically registered in the recovery catalog when you connect to a standby database or when the <code class="codeph">CONFIGURE DB_UNIQUE_NAME</code> command is used to configure the connect identifier.
                  </p>
                  <p>To unregister information about a specific standby database, you can use the <code class="codeph">UNREGISTER DB_UNIQUE_NAME</code> command. When a standby database is completely removed from an Oracle Data Guard environment, the database information in the recovery catalog can also be removed after you connect to another database in the same Oracle Data Guard environment. The backups that were associated with the database that was unregistered are still usable by other databases. You can associate these backups with any other existing database by using the <code class="codeph">CHANGE BACKUP RESET DB_UNIQUE_NAME</code> command.
                  </p>
                  <p>When the <code class="codeph">UNREGISTER DB_UNIQUE_NAME</code> command is used with the <code class="codeph">INCLUDING BACKUPS</code> option, the metadata for all the backup files associated with the database being unregistered is also unregistered from the recovery catalog.
                  </p>
               </div>
            </div><a id="SBYDB4864"></a><div class="props_rev_3"><a id="GUID-D13E9A5E-5DBB-4DF4-8534-F1E16FA33618" name="GUID-D13E9A5E-5DBB-4DF4-8534-F1E16FA33618"></a><h3 id="SBYDB-GUID-D13E9A5E-5DBB-4DF4-8534-F1E16FA33618" class="sect3"><span class="enumeration_section">12.6 </span>Reporting in an Oracle Data Guard Environment
               </h3>
               <div>
                  <p>Use the RMAN <code class="codeph">LIST</code>, <code class="codeph">REPORT</code>, and <code class="codeph">SHOW</code> commands with the <code class="codeph">FOR DB_UNIQUE_NAME</code> clause to view information about a specific database.
                  </p>
                  <p>For example, after connecting to the recovery catalog, you could use the following commands to display information for a database with a DBID of 1625818158 and to list the database in the Oracle Data Guard environment. The <code class="codeph">SET DBID</code> command is required only if you are not connected to a database as <code class="codeph">TARGET</code>. The last three commands list archive logs, database file names, and RMAN configuration information for a database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">BOSTON</code>.
                  </p><pre class="oac_no_warn" dir="ltr">SET DBID 1625818158;
LIST DB_UNIQUE_NAME OF DATABASE;
LIST ARCHIVELOG ALL FOR DB_UNIQUE_NAME BOSTON;
REPORT SCHEMA FOR DB_UNIQUE_NAME BOSTON;
SHOW ALL FOR DB_UNIQUE_NAME BOSTON;</pre></div>
            </div><a id="SBYDB4865"></a><div class="props_rev_3"><a id="GUID-4B1696A8-1A90-426C-A620-D5F313365E54" name="GUID-4B1696A8-1A90-426C-A620-D5F313365E54"></a><h3 id="SBYDB-GUID-4B1696A8-1A90-426C-A620-D5F313365E54" class="sect3"><span class="enumeration_section">12.7 </span>Performing Backup Maintenance in an Oracle Data Guard Environment
               </h3>
               <div>
                  <p>The files in an Oracle Data Guard environment (data files, archived logs, backup pieces, image copies, and proxy copies) are associated with a database through use of the <code class="codeph">DB_UNIQUE_NAME</code> parameter.
                  </p>
                  <p> Therefore, it is important that the value supplied for <code class="codeph">DB_UNIQUE_NAME</code> be unique for each database in an Oracle Data Guard environment. This information, along with file-sharing attributes, is used to determine which files can be accessed during various RMAN operations. 
                  </p>
                  <p>File sharing attributes state that files on disk are accessible only at the database with which they are associated, whereas all files on tape are assumed to be accessible by all databases. RMAN commands such as <code class="codeph">BACKUP</code> and <code class="codeph">RESTORE</code>, as well as other maintenance commands, work according to this assumption. For example, during a roll-forward operation of an image copy at a database, only image copies associated with the database are rolled forward. The incremental backups on disk associated with that database and any incremental backups on tape are used to roll forward the image copies. Similarly, during recovery operations, only disk backups associated with the database and files on tape are considered as sources for backups.
                  </p>
                  <div class="infoboxnotealso" id="GUID-4B1696A8-1A90-426C-A620-D5F313365E54__GUID-C9F3BDAF-8809-4085-BFF6-C79AB0C3306E">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=RCMRF001" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for detailed information about RMAN commands
                     </p>
                  </div>
               </div><a id="SBYDB5056"></a><a id="SBYDB5057"></a><a id="SBYDB5058"></a><a id="SBYDB4866"></a><div class="props_rev_3"><a id="GUID-13FC0BEC-C528-47DA-95D5-35A67B3A97A1" name="GUID-13FC0BEC-C528-47DA-95D5-35A67B3A97A1"></a><h4 id="SBYDB-GUID-13FC0BEC-C528-47DA-95D5-35A67B3A97A1" class="sect4"><span class="enumeration_section">12.7.1 </span>Changing Metadata in the Recovery Catalog
                  </h4>
                  <div>
                     <p> The RMAN <code class="codeph">CHANGE</code> command can be used with various operands to change metadata in the recovery catalog.
                     </p>
                     <div class="section">
                        <p>For example:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Changing File Association From One Standby Database to Another</p>
                              <p>Use the <code class="codeph">CHANGE</code> command with the <code class="codeph">RESET DB_UNIQUE_NAME</code> option to alter the association of files from one database to another within an Oracle Data Guard environment. The <code class="codeph">CHANGE</code> command is useful when disk backups or archived logs are transferred from one database to another and you want to use them on the database to which they were transferred. The <code class="codeph">CHANGE</code> command can also change the association of a file from one database to another database, without having to directly connect to either database using the <code class="codeph">FOR DB_UNIQUE_NAME</code> and <code class="codeph">RESET DB_UNIQUE_NAME TO</code> options.
                              </p>
                           </li>
                           <li>
                              <p>Changing the DB_UNIQUE_NAME Initialization Parameter for a Database</p>
                              <p>If the value of the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter changes for a database, then the same change must be made in the Oracle Data Guard environment. The RMAN recovery catalog, after connecting to that database instance, knows both the old and new value for <code class="codeph">DB_UNIQUE_NAME</code>. To merge the information for the old and new values within the recovery catalog schema, you must use the RMAN <code class="codeph">CHANGE DB_UNIQUE_NAME</code> command. If the value of the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter changes for a database, the same change must be made in RMAN so that it is aware of the new <code class="codeph">DB_UNIQUE_NAME</code>. For example, perform the following steps to change the database with <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">BOSTON_A</code> to <code class="codeph">BOSTON_B</code>:
                              </p>
                              <ol>
                                 <li>
                                    <p>In the initialization parameter file or SQL, change the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter from <code class="codeph">BOSTON_A</code> to <code class="codeph">BOSTON_B</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <div class="p">In RMAN, connect to any database in the Oracle Data Guard environment as target database and connect to the recovery catalog. Then execute the <code class="codeph">CHANGE</code> command: <pre class="pre codeblock"><code>CHANGE DB_UNIQUE_NAME FROM BOSTON_A TO BOSTON_B;</code></pre></div>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>Making Backups Unavailable or Removing Their Metadata</p>
                              <p>Use <code class="codeph">CHANGE</code> command options such as <code class="codeph">AVAILABLE</code>, <code class="codeph">UNAVAILABLE</code>, <code class="codeph">KEEP</code>, and <code class="codeph">UNCATALOG</code> to make backups available or unavailable for restore and recovery purposes, and to keep or remove their metadata.
                              </p>
                              <div class="infoboxnotealso" id="GUID-13FC0BEC-C528-47DA-95D5-35A67B3A97A1__GUID-14ED5188-25A5-41F3-9B78-D1438EC22667">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=RCMRF110" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for more information about the RMAN <code class="codeph">CHANGE</code> command
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB4867"></a><div class="props_rev_3"><a id="GUID-38EB0163-6F07-4F89-9A17-FC21FD779785" name="GUID-38EB0163-6F07-4F89-9A17-FC21FD779785"></a><h4 id="SBYDB-GUID-38EB0163-6F07-4F89-9A17-FC21FD779785" class="sect4"><span class="enumeration_section">12.7.2 </span>Deleting Archived Logs or Backups
                  </h4>
                  <div>
                     <p>Use the RMAN <code class="codeph">DELETE</code> command to delete backup sets, image copies, archived logs, or proxy copies.
                     </p>
                     <p> To delete only files that are associated with a specific database, you must use the <code class="codeph">FOR DB_UNIQUE_NAME</code> option with the <code class="codeph">DELETE</code> command.
                     </p>
                     <p>File metadata is deleted for all successfully deleted files associated with the current target database (or for files that are not associated with any known database). If a file could not be successfully deleted, you can use the <code class="codeph">FORCE</code> option to remove the file's metadata.
                     </p>
                     <p>When a file associated with another database is deleted successfully, its metadata in the recovery catalog is also deleted. Any files that are associated with other databases, and that could not be successfully deleted, are listed at the completion of the <code class="codeph">DELETE</code> command, along with instructions for you to perform the same operation at the database with which the files are associated (files are grouped by database). The <code class="codeph">FORCE</code> option cannot be used to override this behavior. If you are certain that deleting the metadata for the non-deletable files will not cause problems, you can use the <code class="codeph">CHANGE RESET DB_UNIQUE_NAME</code> command to change the metadata for association of files with the database and use the <code class="codeph">DELETE</code> command with the <code class="codeph">FORCE</code> option to delete the metadata for the file.
                     </p>
                     <div class="infoboxnotealso" id="GUID-38EB0163-6F07-4F89-9A17-FC21FD779785__GUID-06311517-F1C2-405E-B449-F64CBEBB5E1E">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=RCMRF121" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for more information about the RMAN <code class="codeph">DELETE</code> command
                        </p>
                     </div>
                  </div>
               </div><a id="SBYDB4868"></a><div class="props_rev_3"><a id="GUID-5C9C8A2E-E23A-4D62-BE5B-2205B5E877CB" name="GUID-5C9C8A2E-E23A-4D62-BE5B-2205B5E877CB"></a><h4 id="SBYDB-GUID-5C9C8A2E-E23A-4D62-BE5B-2205B5E877CB" class="sect4"><span class="enumeration_section">12.7.3 </span>Validating Recovery Catalog Metadata
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">CROSSCHECK</code> command to validate and update file status in the recovery catalog schema.
                     </p>
                     <p>Metadata for all files associated with the current target database (or for any files that are not associated with any database), is marked <code class="codeph">AVAILABLE</code> or <code class="codeph">EXPIRED</code> according to the results of the <code class="codeph">CROSSCHECK</code> operation.
                     </p>
                     <p>If a file associated with another database is successfully inspected, its metadata in the recovery catalog is also changed to <code class="codeph">AVAILABLE</code>. Any files that are associated with other databases, and that could not be inspected successfully, are listed at the completion of the <code class="codeph">CROSSCHECK</code> command, along with instructions for you to perform the same operation at the database with which the files are associated (files are grouped by site). If you are certain of the configuration and still want to change status metadata for unavailable files, you can use the <code class="codeph">CHANGE RESET DB_UNIQUE_NAME</code> command to change metadata for association of files with the database and execute the <code class="codeph">CROSSCHECK</code> command to update status metadata to <code class="codeph">EXPIRED</code>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-5C9C8A2E-E23A-4D62-BE5B-2205B5E877CB__GUID-9847EC13-4E04-4492-8E7A-55915CAE2BA6">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=RCMRF119" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for more information about the RMAN <code class="codeph">CROSSCHECK</code> command
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="SBYDB00754"></a><div class="props_rev_3"><a id="GUID-44539CC5-0BAB-47F8-B51F-BFD0A1D6DA40" name="GUID-44539CC5-0BAB-47F8-B51F-BFD0A1D6DA40"></a><h3 id="SBYDB-GUID-44539CC5-0BAB-47F8-B51F-BFD0A1D6DA40" class="sect3"><span class="enumeration_section">12.8 </span>Recovery Scenarios in an Oracle Data Guard Environment
               </h3>
               <div>
                  <p>These are some of recovery scenarios that can occur in an Oracle Data Guard environment.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-1F1D37FE-48A6-46D4-98DB-C0E3707E3BCF" title="You can restore and recover files over the network by connecting to a physical standby database that contains the required files.">Recovery from Loss of Files on the Primary or Standby Database</a></p>
                     </li>
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-7D1A6CBF-6E72-4700-87D8-64E534EFAA2B" title="If all online log members for the current ACTIVE group or for an inactive group which has not yet been archived are lost, then you must fail over to the standby database.">Recovery from Loss of Online Redo Log Files</a></p>
                     </li>
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-E8430B01-A852-4EAF-A711-10F3211F36A3" title="Incomplete recovery of the primary database is normally done in cases such as when the database is logically corrupted (by a user or an application) or when a tablespace or data file was accidentally dropped from database.">Incomplete Recovery of the Primary Database</a></p>
                     </li>
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-2B3CB228-F8AD-4FE0-8C3B-BEED91DFB424" title="After an RMAN tablespace point-in-time recovery (TSPITR) is performed at the primary, the recovered data files have a new system change number (SCN), and are therefore treated like new data files at the primary.">Actions Needed on Standby After TSPITR or Tablespace Plugin at Primary</a></p>
                     </li>
                  </ul>
               </div><a id="SBYDB4869"></a><div class="props_rev_3"><a id="GUID-1F1D37FE-48A6-46D4-98DB-C0E3707E3BCF" name="GUID-1F1D37FE-48A6-46D4-98DB-C0E3707E3BCF"></a><h4 id="SBYDB-GUID-1F1D37FE-48A6-46D4-98DB-C0E3707E3BCF" class="sect4"><span class="enumeration_section">12.8.1 </span>Recovery from Loss of Files on the Primary or Standby Database
                  </h4>
                  <div>
                     <p>You can restore and recover files over the network by connecting to a physical standby database that contains the required files.</p>
                     <p>This can be useful when you want to restore lost data files, control files, or tablespaces on a primary database using the corresponding files on the physical standby database. You can also use the same process to restore files on a physical standby database by using the primary database.</p>
                     <div class="infoboxnote" id="GUID-1F1D37FE-48A6-46D4-98DB-C0E3707E3BCF__GUID-3013E54B-17E9-4350-849F-B2740EC3DE86">
                        <p class="notep1">Note:</p>
                        <p>In releases prior to Oracle Database 12<span class="italic">c</span>, to recover from loss of files on the primary, you used the RMAN recovery catalog, and the RMAN <code class="codeph">BACKUP</code>, <code class="codeph">CATALOG DATAFILE</code>, and <code class="codeph">SWITCH DATAFILE</code> commands. To recover from loss of files on the standby, you used the <code class="codeph">RESTORE</code> and <code class="codeph">RECOVER</code> commands. Those methods are no longer necessary as of Oracle Database 12<span class="italic">c</span>. If you need information about using them, refer to Oracle Database 11<span class="italic">g</span> documentation.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-1F1D37FE-48A6-46D4-98DB-C0E3707E3BCF__GUID-52F9483F-E402-4FDD-9D4C-6A91C65753C1">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=BRADV680" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about using RMAN to restore and recover files over the network
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="SBYDB4873"></a><div class="props_rev_3"><a id="GUID-7D1A6CBF-6E72-4700-87D8-64E534EFAA2B" name="GUID-7D1A6CBF-6E72-4700-87D8-64E534EFAA2B"></a><h4 id="SBYDB-GUID-7D1A6CBF-6E72-4700-87D8-64E534EFAA2B" class="sect4"><span class="enumeration_section">12.8.2 </span>Recovery from Loss of Online Redo Log Files
                  </h4>
                  <div>
                     <p>If all online log members for the current <code class="codeph">ACTIVE</code> group or for an inactive group which has not yet been archived are lost, then you must fail over to the standby database.
                     </p>
                     <div class="section">
                        <p> Refer to <a href="managing-oracle-data-guard-role-transitions.html#GUID-44F26D5F-E036-4ACD-B8F0-224F5498FBCE" title="An Oracle Data Guard configuration consists of one database that functions in the primary role and one or more databases that function in the standby role."> Role Transitions</a> for the failover procedure.
                        </p>
                        <p>For information about how to recover from the loss of online redo log files in other circumstances, see <a href="../bradv/user-managed-recovery-advanced.html#BRADV229" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a>. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB5061"></a><a id="SBYDB5062"></a><a id="SBYDB5063"></a><a id="SBYDB4874"></a><div class="props_rev_3"><a id="GUID-E8430B01-A852-4EAF-A711-10F3211F36A3" name="GUID-E8430B01-A852-4EAF-A711-10F3211F36A3"></a><h4 id="SBYDB-GUID-E8430B01-A852-4EAF-A711-10F3211F36A3" class="sect4"><span class="enumeration_section">12.8.3 </span>Incomplete Recovery of the Primary Database
                  </h4>
                  <div>
                     <p>Incomplete recovery of the primary database is normally done in cases such as when the database is logically corrupted (by a user or an application) or when a tablespace or data file was accidentally dropped from database. </p>
                     <div class="section">
                        <p>Depending on the current database checkpoint SCN on the standby database instances, you can use one of the following procedures to perform incomplete recovery of the primary database. All the procedures are in order of preference, starting with the one that is the least time consuming. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E8430B01-A852-4EAF-A711-10F3211F36A3__GUID-1CB2F407-B630-4CC0-B37A-98E013FBAF71">Using Flashback Database</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Using Flashback Database is the recommended procedure when the Flashback Database feature is enabled on the primary database, none of the database files are lost, and the point-in-time recovery is greater than the oldest flashback SCN or the oldest flashback time. See <a href="examples-of-using-oracle-data-guard.html#GUID-BAA5ED38-29A0-4E8D-8435-AA083D19C13E" title="If an error occurrs on the primary database in an Oracle Data Guard configuration in which the standby database is using real-time apply, then the same error is applied on the standby database. if Flashback Database is enabled, you can revert the primary and standby databases back to their pre-error condition.">Using Flashback Database After Issuing an Open Resetlogs Statement</a> for the procedure to use Flashback Database to do point-in-time recovery.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E8430B01-A852-4EAF-A711-10F3211F36A3__GUID-F9282BCB-F58D-4E68-AD68-879466B6A190">Using the standby database instance</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This is the recommended procedure when the standby database is behind the desired incomplete recovery time, and Flashback Database is not enabled on the primary or standby databases:</p>
                        <ol>
                           <li>
                              <p>Recover the standby database to the desired point in time. Be sure to stop the managed redo process (MRP) before issuing the following command:</p><pre class="oac_no_warn" dir="ltr">RECOVER DATABASE UNTIL TIME '<span class="italic">time</span>';
</pre><p>Alternatively, incomplete recovery time can be specified using the SCN or log sequence number:</p><pre class="oac_no_warn" dir="ltr">RECOVER DATABASE UNTIL SCN <span class="variable" translate="no">incomplete recovery SCN</span>';
RECOVER DATABASE UNTIL LOGSEQ <span class="variable" translate="no">incomplete recovery log sequence number</span> THREAD <span class="variable" translate="no">thread number</span>;
</pre></li>
                           <li>
                              <p>Open the standby database in read-only mode to verify the state of database.</p>
                              <p>If the state is not what is desired, use the LogMiner utility to look at the archived redo log files to find the right target time or SCN for incomplete recovery. Alternatively, you can start by recovering the standby database to a point that you know is before the target time, and then open the database in read-only mode to examine the state of the data. Repeat this process until the state of the database is verified to be correct. If you recover the database too far (past the SCN where the error occurred) you cannot return it to an earlier SCN.</p>
                           </li>
                           <li>
                              <p>Activate<a id="d31144e3236" class="indexterm-anchor"></a> <a id="d31144e3241" class="indexterm-anchor"></a>the standby database using the SQL <code class="codeph">ALTER DATABASE ACTIVATE STANDBY DATABASE</code> statement. This converts the standby database to a primary database, creates a new resetlogs branch, and opens the database. See <a href="managing-oracle-data-guard-physical-standby-databases.html#GUID-02218512-31A6-461E-96B4-0B9997DCFC4A" title="Oracle Data Guard allows recovery on a physical standby database to continue after the primary database has been opened with the RESETLOGS option.">Recovering Through the OPEN RESETLOGS Statement</a> to learn how the standby database reacts to the new reset logs branch.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E8430B01-A852-4EAF-A711-10F3211F36A3__GUID-D0C83B59-F397-461E-908E-8DF88C7CE0FC">Using the primary database instance</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>If all of the standby database instances have already been recovered past the desired point in time and Flashback Database is not enabled on the primary or standby database, then this is your only option.</p>
                        <p>Use the following procedure to perform incomplete recovery on the primary database:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Use LogMiner or another means to identify the time or SCN at which all the data in the database is known to be good.</span></li>
                        <li class="stepexpand"><span>Using the time or SCN, issue the following RMAN commands to do incomplete database recovery and open the database with the <code class="codeph">RESETLOGS</code> option (after connecting to catalog database and primary instance that is in <code class="codeph">MOUNT</code> state):</span><div><pre class="oac_no_warn" dir="ltr">RUN 
{
SET UNTIL TIME '<span class="italic">time</span>';
RESTORE DATABASE;
RECOVER DATABASE;
}
ALTER DATABASE OPEN RESETLOGS;
</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>After this process, all standby database instances must be reestablished in the Oracle Data Guard configuration.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB5429"></a><div class="props_rev_3"><a id="GUID-2B3CB228-F8AD-4FE0-8C3B-BEED91DFB424" name="GUID-2B3CB228-F8AD-4FE0-8C3B-BEED91DFB424"></a><h4 id="SBYDB-GUID-2B3CB228-F8AD-4FE0-8C3B-BEED91DFB424" class="sect4"><span class="enumeration_section">12.8.4 </span>Actions Needed on Standby After TSPITR or Tablespace Plugin at Primary
                  </h4>
                  <div>
                     <p>After an RMAN tablespace point-in-time recovery (TSPITR) is performed at the primary, the recovered data files have a new system change number (SCN), and are therefore treated like new data files at the primary.</p>
                     <p>These data files cannot be automatically created at the standby.</p>
                     <p>Likewise, when a new plugged in tablespace is added to the primary database, the data files are treated like new data files at the primary.</p>
                     <p>The managed redo process (MRP) at the standby stops when the Redo Apply process encounters creation of these new files. The required new data files must be copied and restored to the standby. You can do this using either backups or a direct copy from the primary. For example, to copy all files that belong to a tablespace that has undergone an RMAN TSPITR, you can use the following RMAN command: </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; RESTORE TABLESPACE &lt;tbs_name1, tbs_name2&gt; FROM SERVICE &lt;tnsalias-of-primary&gt;
</pre><p>The number of disk channels allocated is per RMAN configurations. So, if <code class="codeph">CONFIGURE DEVICE TYPE DISK PARALLELISM 4</code> is executed, then 4 disk channels are used to pull the files from the primary database.
                     </p>
                     <p>When the new data files are available at the standby, restart the MRP to continue applying the logs.</p>
                     <div class="infoboxnotealso" id="GUID-2B3CB228-F8AD-4FE0-8C3B-BEED91DFB424__GUID-DC7926CE-9304-45EE-9975-3FF148B12D51">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../bradv/performing-rman-tspitr.html#BRADV009" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about RMAN TSPITR
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="SBYDB00752"></a><div class="props_rev_3"><a id="GUID-211E08A4-C19E-4159-80B2-429431314278" name="GUID-211E08A4-C19E-4159-80B2-429431314278"></a><h3 id="SBYDB-GUID-211E08A4-C19E-4159-80B2-429431314278" class="sect3"><span class="enumeration_section">12.9 </span>Additional Backup Situations
               </h3>
               <div>
                  <p>You can modify the backup procedures for other configurations, such as when the standby and primary databases cannot share backup files; the standby instance is only used to remotely archive redo log files; or the standby database filenames are different than the primary database.</p>
               </div><a id="SBYDB4875"></a><div class="props_rev_3"><a id="GUID-75F78440-2A7C-4FDC-AFF9-CABB440CB651" name="GUID-75F78440-2A7C-4FDC-AFF9-CABB440CB651"></a><h4 id="SBYDB-GUID-75F78440-2A7C-4FDC-AFF9-CABB440CB651" class="sect4"><span class="enumeration_section">12.9.1 </span>Standby Databases Too Geographically Distant to Share Backups
                  </h4>
                  <div>
                     <p>If the standby databases are far apart from one another, then the backups taken on them may not be easily accessible by the primary system or other standby systems. </p>
                     <div class="section">
                        <p>Perform a complete backup of the database on all systems to perform recovery operations. The fast recovery area can reside locally on the primary and standby systems; it does not have to be the same for the primary and standby databases.</p>
                        <p>In this scenario, you can still use the general strategies described in <a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-44539CC5-0BAB-47F8-B51F-BFD0A1D6DA40" title="These are some of recovery scenarios that can occur in an Oracle Data Guard environment.">Recovery Scenarios in an Oracle Data Guard Environment</a>, with the following exceptions:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Backup files created by RMAN must be tagged with the local system name, and with <code class="codeph">RESTORE</code> operations that tag must be used to restrict RMAN from selecting backups taken on the same host. In other words, the <code class="codeph">BACKUP</code> command must use the <code class="codeph">TAG</code> <span class="variable" translate="no">system name</span> option when creating backups; the <code class="codeph">RESTORE</code> command must use the <code class="codeph">FROM TAG</code> <span class="variable" translate="no">system name</span> option; and the <code class="codeph">RECOVER</code> command must use the  <code class="codeph">FROM TAG</code> <span class="variable" translate="no">system name</span> <code class="codeph">ARCHIVELOG TAG</code> <span class="variable" translate="no">system name</span> option.
                              </p>
                           </li>
                           <li>
                              <p>Disaster recovery of the standby site:</p>
                              <ol>
                                 <li>
                                    <p>Start the standby instance in the <code class="codeph">NOMOUNT</code> state using the same parameter files with which the standby was operating earlier.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Create a standby control file on the primary instance using the SQL <code class="codeph">ALTER DATABASE CREATE STANDBY CONTROLFILE AS</code> <span class="variable" translate="no">filename</span> statement, and use the created control file to mount the standby instance.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Issue the following RMAN commands to restore and recover the database files:</p><pre class="oac_no_warn" dir="ltr">RESTORE DATABASE FROM TAG '<span class="variable" translate="no">system name</span>';
RECOVER DATABASE FROM TAG '<span class="variable" translate="no">system name</span>' ARCHIVELOG TAG '<span class="variable" translate="no">system name</span>';
</pre></li>
                                 <li>
                                    <p>Restart Redo Apply.</p>
                                 </li>
                              </ol>
                           </li>
                        </ul>
                        <p>The standby instance fetches the remaining archived redo log files.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB4876"></a><div class="props_rev_3"><a id="GUID-BA288622-6D29-444E-ACD6-7CFC293C32D5" name="GUID-BA288622-6D29-444E-ACD6-7CFC293C32D5"></a><h4 id="SBYDB-GUID-BA288622-6D29-444E-ACD6-7CFC293C32D5" class="sect4"><span class="enumeration_section">12.9.2 </span>Standby Database Does Not Contain Data Files, Used as a FAL Server
                  </h4>
                  <div>
                     <p>The FAL server can be used as a backup source for all archived redo log files, thus off-loading backups of archived redo log files to the FAL server.</p>
                     <div class="section">
                        <p>Use the same procedure described in <a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-410FEFAD-7805-405A-8C02-B9D8F74C60F4" title="You can use RMAN scripts and procedures to back up Oracle Database in an Oracle Data Guard configuration.">Backup Procedures</a>, with the exception that the RMAN commands that back up database files cannot be run against the FAL server. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB4877"></a><div class="props_rev_3"><a id="GUID-75A2D339-D737-44A1-B0E0-3BF8443D2FA4" name="GUID-75A2D339-D737-44A1-B0E0-3BF8443D2FA4"></a><h4 id="SBYDB-GUID-75A2D339-D737-44A1-B0E0-3BF8443D2FA4" class="sect4"><span class="enumeration_section">12.9.3 </span>Standby Database File Names Are Different From Primary Database
                  </h4>
                  <div>
                     <p>As of Oracle Database 11<span class="italic">g</span>, the recovery catalog can resynchronize the file names from each standby database site. 
                     </p>
                     <p>However, if the database filenames are not the same on the primary and standby databases that were never resynchronized, then the <code class="codeph">RESTORE</code> and <code class="codeph">RECOVER</code> commands you use are slightly different. To obtain the actual data file names on the standby database, query the <code class="codeph">V$DATAFILE</code> view and specify the <code class="codeph">SET NEWNAME</code> option for all the data files in the database:
                     </p><pre class="oac_no_warn" dir="ltr">RUN 
{
SET NEWNAME FOR DATAFILE 1 TO '<span class="variable" translate="no">existing file location for file#1</span> from V$DATAFILE';
SET NEWNAME FOR DATAFILE 2 TO '<span class="variable" translate="no">existing file location for file#2</span> from V$DATAFILE';


 SET NEWNAME FOR DATAFILE <span class="variable" translate="no">n</span> TO '<span class="variable" translate="no">existing file location for file#n</span> from V$DATAFILE';
 RESTORE {DATAFILE &lt;<span class="variable" translate="no">n,m,</span>&gt; | TABLESPACE <span class="variable" translate="no">tbs_name_1, 2, </span>| DATABASE;
SWITCH DATAFILE ALL; 
RECOVER DATABASE {NOREDO};
}
</pre><p>Similarly, you use the <code class="codeph">SET NEWNAME</code> option of the RMAN <code class="codeph">DUPLICATE</code> command to specify new filenames during standby database creation. Or you could set the <code class="codeph">LOG_FILE_NAME_CONVERT</code> and <code class="codeph">DB_FILE_NAME_CONVERT</code> parameters.
                     </p>
                     <div class="infoboxnotealso" id="GUID-75A2D339-D737-44A1-B0E0-3BF8443D2FA4__GUID-ED37F32E-B0F2-4901-A7F2-901C835FB989">
                        <p class="notep1">See Also:</p>
                        <p><a href="examples-of-using-oracle-data-guard.html#GUID-6FB574E5-2F3A-4C9E-A3F0-7C9154B0F540" title="When you create standby databases, there are additional steps that must be performed if the primary database uses Oracle Managed Files (OMF) or Oracle Automatic Storage Management (Oracle ASM).">Creating a Standby Database That Uses OMF or Oracle ASM</a> for information about precedence rules when both the <code class="codeph">DB_FILE_NAME_CONVERT</code> and <code class="codeph">DB_CREATE_FILE_DEST</code> parameters are set on the standby
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="SBYDB5457"></a><div class="props_rev_3"><a id="GUID-F0EB4F8E-7D2F-4674-9A5B-AABC368D8F11" name="GUID-F0EB4F8E-7D2F-4674-9A5B-AABC368D8F11"></a><h3 id="SBYDB-GUID-F0EB4F8E-7D2F-4674-9A5B-AABC368D8F11" class="sect3"><span class="enumeration_section">12.10 </span>Restoring and Recovering Files Over the Network
               </h3>
               <div>
                  <p>As of Oracle Database 12<span class="italic">c</span>, RMAN lets you restore or recover files by connecting, over the network, to a physical standby database that contains the required files.
                  </p>
                  <p> You can restore an entire database, data files, control files, spfile, or tablespaces. Restoring files over the network is very useful in scenarios where you need to synchronize the primary and standby databases.</p>
                  <p>RMAN restores database files, over the network, from a physical standby database by using the <code class="codeph">FROM</code> <code class="codeph">SERVICE</code> clause of the <code class="codeph">RESTORE</code> command. The <code class="codeph">FROM</code> <code class="codeph">SERVICE</code> clause provides the service name of the physical standby database from which the files must be restored. During the restore operation, RMAN creates backup sets, on the physical standby database, of the files that need to be restored and then transfers these backup sets to the target database over the network.
                  </p>
                  <div class="infoboxnote" id="GUID-F0EB4F8E-7D2F-4674-9A5B-AABC368D8F11__GUID-063A5B63-188F-4B0E-80D3-E27100F43128">
                     <p class="notep1">Note:</p>
                     <p>In releases prior to Oracle Database 12<span class="italic">c</span>, to restore and recover files over the network, you used the <a id="d31144e3944" class="indexterm-anchor"></a><a id="d31144e3946" class="indexterm-anchor"></a><a id="d31144e3950" class="indexterm-anchor"></a>RMAN <code class="codeph">BACKUP INCREMENTAL FROM SCN</code> command to create a backup on the primary database that started at the current SCN of the standby, and was then used to roll the standby database forward in time. That manual, multi-step method is not necessary as of Oracle Database 12<span class="italic">c</span>. If you need information about using that method, refer to Oracle Database 11<span class="italic">g</span> documentation.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-F0EB4F8E-7D2F-4674-9A5B-AABC368D8F11__GUID-B8967DE5-3197-42F7-9165-98AABB3EAC1E">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../bradv/rman-recovery-advanced.html#BRADV680" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about using RMAN to restore and recover files over the network
                           </p>
                        </li>
                        <li>
                           <p> My Oracle Support note 2005729.1 at <a href="http://support.oracle.com" target="_blank"><code class="codeph">http://support.oracle.com</code></a> for information about reducing transportable tablespace downtime using cross-platform incremental backups.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-53AF8403-7ECC-4329-966E-965FDBFB4455" name="GUID-53AF8403-7ECC-4329-966E-965FDBFB4455"></a><h3 id="SBYDB-GUID-53AF8403-7ECC-4329-966E-965FDBFB4455" class="sect3"><span class="enumeration_section">12.11 </span>Rolling Forward a Standby With One Command
               </h3>
               <div>
                  <p>As of Oracle Database 18c, you can refresh a standby database over the network using one RMAN command, <code class="codeph">RECOVER STANDBY DATABASE</code>.
                  </p>
                  <p>The<code class="codeph"> RECOVER STANDBY DATABASE</code> command restarts the standby instance, refreshes the control file from the primary database, and automatically renames data files, temp files, and online logs. It restores new data files that were added to the primary database and recovers the standby database up to the current time. 
                  </p>
                  <p>When you use the <code class="codeph">RECOVER STANDBY DATABASE</code> command to refresh a standby database,  you specify either a <code class="codeph">FROM SERVICE</code> clause or a <code class="codeph">NOREDO</code> clause. The <code class="codeph">FROM SERVICE</code> clause specifies the name of a primary service. The <code class="codeph">NOREDO</code> clause specifies that backups should be used for the refresh, which allows a standby to be rolled forward to a specific time or SCN.
                  </p>
                  <p>The MRP must be manually stopped on the standby before any attempt is made to sync with primary database.</p>
                  <p>The following is an example of using the <code class="codeph">RECOVER STANDBY DATABASE</code> command. It shows optional usage of the <code class="codeph">PFILE</code> clause to specify a parameter file for the standby database (used when the spfile is not available).
                  </p><pre class="pre codeblock"><code>RECOVER STANDBY DATABASE FROM SERVICE service_name PFILE=pfile_location;</code></pre><div class="infoboxnotealso" id="GUID-53AF8403-7ECC-4329-966E-965FDBFB4455__GUID-D8EAEF1D-6BE6-4B7F-8B25-AC2D6B3D51D8">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../bradv/rman-recovery-advanced.html#BRADV-GUID-828A4953-3F7E-4975-ADA4-5469D6794BB0" target="_blank"><span><cite>Oracle Database Backup and Recovery Users Guide</cite></span></a> for more information about using the <code class="codeph">RECOVER STANDBY DATABASE</code> command to refresh a physical standby database with changes made to the primary database
                           </p>
                        </li>
                     </ul> 
                  </div>
               </div>
            </div><a id="SBYDB5261"></a><div class="props_rev_3"><a id="GUID-72F008A1-527F-41DB-89CD-623FA06D0420" name="GUID-72F008A1-527F-41DB-89CD-623FA06D0420"></a><h3 id="SBYDB-GUID-72F008A1-527F-41DB-89CD-623FA06D0420" class="sect3"><span class="enumeration_section">12.12 </span>RMAN Support for CDBs In an Oracle Data Guard Environment
               </h3>
               <div>
                  <p>RMAN supports point-in-time recovery (PITR) of a multitenant container database (CDB) at a standby. (Individual pluggable databases (PDBs) do not have their own individual standbys.)</p>
                  <p>This is in addition to the support RMAN provides for complete database recovery and complete data file recovery at a standby. </p>
                  <p>To perform a CDB PITR at a standby, connect to the CDB as root and issue the RMAN <code class="codeph">BACKUP</code>, <code class="codeph">RESTORE</code>, and <code class="codeph">RECOVER</code> commands as necessary.
                  </p>
                  <p>Be aware that when a CDB PITR is performed on a standby, any pluggable databases (PDBs) that were in a disabled state before the CDB PITR become enabled. To return a PDB to a disabled state, connect to it, ensure it is closed (the <code class="codeph">OPEN_MODE</code> column in the <code class="codeph">V$PDBS</code> view shows a value of <code class="codeph">MOUNTED</code>), and then execute the SQL statement <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> <code class="codeph">DISABLE</code> <code class="codeph">RECOVERY</code>.
                  </p>
                  <p>The <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> <code class="codeph">DISABLE</code> <code class="codeph">RECOVERY</code> statement takes all data files belonging to the PDB offline and disables recovery for the PDB. The data files that belong to the PDB are not part of any recovery session until the PDB is enabled again. Any new data files created while recovery is disabled are created as unnamed files and are marked offline.
                  </p>
                  <p>To bring all data files that belong to a PDB back online and enable it for recovery, connect to it, ensure it is closed (the <code class="codeph">OPEN_MODE</code> column in the <code class="codeph">V$PDBS</code> view shows a value of <code class="codeph">MOUNTED</code>), and issue the SQL statement <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> <code class="codeph">ENABLE</code> <code class="codeph">RECOVERY</code>. 
                  </p>
                  <p>To check whether recovery is enabled or disabled on a PDB, query the <code class="codeph">V$PDBS</code> view as follows:
                  </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT RECOVERY_STATUS FROM V$PDBS;
</pre><div class="section">
                     <p class="subhead2" id="GUID-72F008A1-527F-41DB-89CD-623FA06D0420__GUID-A86DE91D-C851-4188-8BB4-9E2D47B77BF4">Flashing Back a PDB</p>
                     <p>As of Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1), you can use the <code class="codeph">FLASHBACK PLUGGABLE DATABASE</code> command (available through SQL or Recovery Manager) to perform a flashback operation on a specific PDB. You can flashback to a specific restore point  an alias for system change number (SCN) in the past without affecting other PDBs in a CDB. (Performing such an operation on a PDB is analogous to <code class="codeph">FLASHBACK DATABASE</code> in a non-CDB.)
                     </p>
                     <p>You can also flashback a PDB on a standby. In effect, flashing back a PDB on a standby rewinds the data files for the PDB to a previous point in time, as if restoring a backup of the PDB. Flashing back a PDB on a standby allows the standby to quickly follow the primary after you perform a PDB PITR/flashback operation on the primary, as described in <a href="examples-of-using-oracle-data-guard.html#GUID-8D948A24-A3B7-4E4F-917A-00B047CF3CAF" title="After you perform a PDB PITR or PDB Flashback on a primary, you can either restore the PDB or flashback the PDB on the standby to let the standby follow the primary.">Actions Needed On a Standby After a PDB PITR On a Primary</a>. 
                     </p>
                     <div class="infoboxnote" id="GUID-72F008A1-527F-41DB-89CD-623FA06D0420__FILESTHATAREBROUGHTONLINEOROFFLINEA-43A25B1E">
                        <p class="notep1">Note:</p>
                        <p>Files that are brought online or offline as a result of an <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> <code class="codeph">[</code><code class="codeph">ENABLE</code> <code class="codeph">|</code> <code class="codeph">DISABLE</code><code class="codeph">] </code>operation remain in that state even if you flashback the database to a point before the operation was performed.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-72F008A1-527F-41DB-89CD-623FA06D0420__ACTIONSNEEDEDONASTANDBYAFTERAPDBPIT-43A25B1E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="examples-of-using-oracle-data-guard.html#GUID-8D948A24-A3B7-4E4F-917A-00B047CF3CAF" title="After you perform a PDB PITR or PDB Flashback on a primary, you can either restore the PDB or flashback the PDB on the standby to let the standby follow the primary.">Actions Needed On a Standby After a PDB PITR On a Primary</a> for information about actions needed on a standby after a PDB PITR on a primary
                              </p>
                           </li>
                           <li>
                              <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-2B3CB228-F8AD-4FE0-8C3B-BEED91DFB424" title="After an RMAN tablespace point-in-time recovery (TSPITR) is performed at the primary, the recovered data files have a new system change number (SCN), and are therefore treated like new data files at the primary.">Actions Needed on Standby After TSPITR or Tablespace Plugin at Primary</a> for information about actions needed on a standby after TSPITR or tablespace plugin at the primary
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>