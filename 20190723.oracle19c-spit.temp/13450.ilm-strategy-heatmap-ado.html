<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="To implement an Information Lifecycle Management (ILM) strategy for data movement in your database, you can use Heat Map and Automatic Data Optimization (ADO) features.">
      <meta name="description" content="To implement an Information Lifecycle Management (ILM) strategy for data movement in your database, you can use Heat Map and Automatic Data Optimization (ADO) features.">
      <title>Implementing an ILM Strategy With Heat Map and ADO</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="VLDB and Partitioning Guide">
      <meta property="og:description" content="To implement an Information Lifecycle Management (ILM) strategy for data movement in your database, you can use Heat Map and Automatic Data Optimization (ADO) features.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="VLDB and Partitioning Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="vldb-and-partitioning-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T18:05:22-07:00">
      <meta name="dcterms.title" content="VLDB and Partitioning Guide">
      <meta name="dcterms.dateCopyrighted" content="2008, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96199-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="manage-data-db-ilm.html" title="Previous" type="text/html">
      <link rel="next" href="control-validity-visibility-data.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="VLDBG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="manage-data-db-ilm.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="control-validity-visibility-data.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">VLDB and Partitioning Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="time-based-info.html" property="item" typeof="WebPage"><span property="name">Managing and Maintaining Time-Based Information</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Implementing an ILM Strategy With Heat Map and ADO</li>
            </ol>
            <a id="GUID-1E510486-2ED8-467A-A5BA-045F4F3AC324" name="GUID-1E510486-2ED8-467A-A5BA-045F4F3AC324"></a><a id="VLDBG14183"></a>
            
            <h2 id="VLDBG-GUID-1E510486-2ED8-467A-A5BA-045F4F3AC324" class="sect2">Implementing an ILM Strategy With Heat Map and ADO</h2>
         </header>
         <div class="ind">
            <div>
               <p>To implement an Information Lifecycle Management (ILM) strategy for data movement in your database, you can use Heat Map and Automatic Data Optimization (ADO) features.</p>
               <div class="infoboxnote" id="GUID-1E510486-2ED8-467A-A5BA-045F4F3AC324__GUID-635731B3-7F01-4359-9954-8F809F5CFED0">
                  <p class="notep1">Note:</p>
                  <p>Heat Map and ADO are supported in Oracle Database 12<span class="italic">c</span> Release 2 multitenant environments.
                  </p>
               </div>
               <p>This section contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="ilm-strategy-heatmap-ado.html#GUID-FB83C140-B7E7-4EF8-959A-A990ECE20369" title="To implement your ILM strategy, you can use Heat Map in Oracle Database to track data access and modification.">Using Heat Map</a></p>
                  </li>
                  <li>
                     <p><a href="ilm-strategy-heatmap-ado.html#GUID-59C132D6-D36B-4B5E-B0CA-948C1B0E6836" title="To implement your ILM strategy, you can use Automatic Data Optimization (ADO) to automate the compression and movement of data between different tiers of storage within the database.">Using Automatic Data Optimization</a></p>
                  </li>
                  <li>
                     <p><a href="ilm-strategy-heatmap-ado.html#GUID-85EF8DD3-B372-4D5A-8941-FD7A0AF9C364" title="The limitations and restrictions associated with ADO and Heat Map are discussed in this topic.">Limitations and Restrictions With ADO and Heat Map</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-1E510486-2ED8-467A-A5BA-045F4F3AC324__ORACLEDATABASEVAULTADMINISTRATORSGU-01396A1D">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="heatmap-ado-em.html#GUID-94F6D36D-DEA5-442B-919C-3690CB89A072" title="You can manage Heat Map and Automatic Data Optimization with Oracle Enterprise Manager Cloud Control.">Managing ILM Heat Map and ADO with Oracle Enterprise Manager</a> for information about using Oracle Enterprise Manager Cloud Control with Heat Map and ADO
                        </p>
                     </li>
                     <li>
                        <p><a href="../dvadm/dba-operations-in-an-oracle-database-vault-environment.html#DVADM-GUID-886F7C9A-74A1-476F-85A4-300269EAF5CA" target="_blank"><span><cite>Oracle Database Vault Administratorâ€™s Guide</cite></span></a> for information about using Information Lifecycle Management (ILM) with Oracle Database Vault realms and command rules, including granting the authorization that enables an ADO administrative user to perform ILM operations on Database Vault-protected objects.
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="VLDBG14124"></a><div class="props_rev_3"><a id="GUID-FB83C140-B7E7-4EF8-959A-A990ECE20369" name="GUID-FB83C140-B7E7-4EF8-959A-A990ECE20369"></a><h3 id="VLDBG-GUID-FB83C140-B7E7-4EF8-959A-A990ECE20369" class="sect3">Using Heat Map</h3>
               <div>
                  <p>To implement your ILM strategy, you can use Heat Map in Oracle Database to track data access and modification. </p>
                  <p>Heat Map provides data access tracking at the segment-level and data modification tracking at the segment and row level. You can enable this functionality with the <code class="codeph">HEAT_MAP</code> initialization parameter.
                  </p>
                  <p>Heat Map data can assist Automatic Data Optimization (ADO) to manage the contents of the In-Memory column store (IM column store) using ADO policies. Using Heat Map data, which includes column statistics and other relevant statistics, the IM column store can determine when it is almost full (under memory pressure). If the determination is <span class="italic">almost</span> <span class="italic">full</span>, then inactive segments can be evicted if there are more frequently accessed segments that would benefit from population in the IM column store.
                  </p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="ilm-strategy-heatmap-ado.html#GUID-FB038F5C-3243-4B20-A4C6-48935F0F3F95" title="You can enable and disable heat map tracking at the system or session level with the ALTER SYSTEM or ALTER SESSION statement using the HEAT_MAP clause.">Enabling and Disabling Heat Map</a></p>
                     </li>
                     <li>
                        <p><a href="ilm-strategy-heatmap-ado.html#GUID-1E3F8295-56EE-4798-BDC0-BFC626168828" title="Heat map tracking data is viewed with V$*, ALL*, DBA*, and USER* heat map views.">Displaying Heat Map Tracking Data With Views</a></p>
                     </li>
                     <li>
                        <p><a href="ilm-strategy-heatmap-ado.html#GUID-90A61B99-5195-4D0B-BF77-FD82EBD1C423" title="The DBMS_HEAT_MAP package provides additional flexibility for displaying heat map data using DBMS_HEAT_MAP subprograms.">Managing Heat Map Data With DBMS_HEAT_MAP Subprograms</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-FB83C140-B7E7-4EF8-959A-A990ECE20369__ORACLEDATABASEIN-MEMORYGUIDEFORINFO-FB6A8A21">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../inmem/enabling-the-im-column-store.html#INMEM-GUID-3CC8549A-A394-49CC-A907-AEB471A19CB3" target="_blank"><span><cite>Oracle Database In-Memory Guide</cite></span></a> for information about enabling and sizing the In-Memory Column Store
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="VLDBG14175"></a><div class="props_rev_3"><a id="GUID-FB038F5C-3243-4B20-A4C6-48935F0F3F95" name="GUID-FB038F5C-3243-4B20-A4C6-48935F0F3F95"></a><h4 id="VLDBG-GUID-FB038F5C-3243-4B20-A4C6-48935F0F3F95" class="sect4">Enabling and Disabling Heat Map</h4>
                  <div>
                     <p>You can enable and disable heat map tracking at the system or session level with the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> or <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> statement using the <code class="codeph">HEAT_MAP</code> clause.
                     </p>
                     <div class="section">
                        <p></p>
                        <p>For example, the following SQL statement enables Heat Map tracking for the database instance. </p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET HEAT_MAP = ON;
</pre><p>When Heat Map is enabled, all accesses are tracked by the in-memory activity tracking module. Objects in the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces are not tracked.
                        </p>
                        <p>The following SQL statement disables heat map tracking. </p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET HEAT_MAP = OFF;
</pre><p>When Heat Map is disabled, accesses are not tracked by the in-memory activity tracking module. The default value for the <code class="codeph">HEAT_MAP</code> initialization parameter is <code class="codeph">OFF</code>. 
                        </p>
                        <p>The <code class="codeph">HEAT_MAP</code> initialization parameter also enables and disables Automatic Data Optimization (ADO). For ADO, Heat Map must be enabled at the system level. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-FB038F5C-3243-4B20-A4C6-48935F0F3F95__GUID-C2167A00-EF61-449C-8F31-E767AA44B465">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="ilm-strategy-heatmap-ado.html#GUID-59C132D6-D36B-4B5E-B0CA-948C1B0E6836" title="To implement your ILM strategy, you can use Automatic Data Optimization (ADO) to automate the compression and movement of data between different tiers of storage within the database.">Using Automatic Data Optimization</a> for more information about ADO
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../refrn/HEAT_MAP.html#REFRN10342" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for information about the <code class="codeph">HEAT_MAP</code> initialization parameter
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="VLDBG14177"></a><a id="VLDBG14176"></a><div class="props_rev_3"><a id="GUID-1E3F8295-56EE-4798-BDC0-BFC626168828" name="GUID-1E3F8295-56EE-4798-BDC0-BFC626168828"></a><h4 id="VLDBG-GUID-1E3F8295-56EE-4798-BDC0-BFC626168828" class="sect4">Displaying Heat Map Tracking Data With Views</h4>
                  <div>
                     <p>Heat map tracking data is viewed with <code class="codeph">V$*</code>, <code class="codeph">ALL*</code>, <code class="codeph">DBA*</code>, and <code class="codeph">USER*</code> heat map views.
                     </p>
                     <div class="section">
                        <p></p>
                        <p><a href="ilm-strategy-heatmap-ado.html#GUID-1E3F8295-56EE-4798-BDC0-BFC626168828__CHDJIIFC">Example 5-1</a> shows examples of information provided by heat map views. The <code class="codeph">V$HEAT_MAP_SEGMENT</code> view displays real-time segment access information. The <code class="codeph">ALL_</code>, <code class="codeph">DBA_</code>, and <code class="codeph">USER_HEAT_MAP_SEGMENT</code> views display the latest segment access time for all segments visible to the user. The <code class="codeph">ALL_</code>, <code class="codeph">DBA_</code>, and <code class="codeph">USER_HEAT_MAP_SEG_HISTOGRAM</code> views display segment access information for all segments visible to the user. The <code class="codeph">DBA_HEATMAP_TOP_OBJECTS</code> view displays heat map information for the top most active objects. The <code class="codeph">DBA_HEATMAP_TOP_TABLESPACES</code> view displays heat map information for the top most active tablespaces.
                        </p>
                        <div class="infoboxnotealso" id="GUID-1E3F8295-56EE-4798-BDC0-BFC626168828__GUID-402B8E85-A469-46BD-82A2-D9DB5C371986">
                           <p class="notep1">See Also:</p>
                           <p><a href="../refrn/about-static-data-dictionary-views.html#REFRN002" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for information about Heat Map views
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-1E3F8295-56EE-4798-BDC0-BFC626168828__CHDJIIFC">
                        <p class="titleinexample">Example 5-1 Heat map views</p><pre class="oac_no_warn" dir="ltr">/* enable heat map tracking if necessary*/

SELECT SUBSTR(OBJECT_NAME,1,20), SUBSTR(SUBOBJECT_NAME,1,20), TRACK_TIME, SEGMENT_WRITE,
  FULL_SCAN, LOOKUP_SCAN FROM V$HEAT_MAP_SEGMENT;

SUBSTR(OBJECT_NAME,1 SUBSTR(SUBOBJECT_NAM TRACK_TIM SEG FUL LOO
-------------------- -------------------- --------- --- --- ---
SALES                SALES_Q1_1998        01-NOV-12 NO  NO  NO
SALES                SALES_Q3_1998        01-NOV-12 NO  NO  NO
SALES                SALES_Q2_2000        01-NOV-12 NO  NO  NO
SALES                SALES_Q3_1999        01-NOV-12 NO  NO  NO
SALES                SALES_Q2_1998        01-NOV-12 NO  NO  NO
SALES                SALES_Q2_1999        01-NOV-12 NO  NO  NO
SALES                SALES_Q4_2001        01-NOV-12 NO  NO  NO
SALES                SALES_Q1_1999        01-NOV-12 NO  NO  NO
SALES                SALES_Q4_1998        01-NOV-12 NO  NO  NO
SALES                SALES_Q1_2000        01-NOV-12 NO  NO  NO
SALES                SALES_Q1_2001        01-NOV-12 NO  NO  NO
SALES                SALES_Q2_2001        01-NOV-12 NO  NO  NO
SALES                SALES_Q3_2000        01-NOV-12 NO  NO  NO
SALES                SALES_Q4_2000        01-NOV-12 NO  NO  NO
EMPLOYEES                                 01-NOV-12 NO  NO  NO
...

SELECT SUBSTR(OBJECT_NAME,1,20), SUBSTR(SUBOBJECT_NAME,1,20), SEGMENT_WRITE_TIME,
  SEGMENT_READ_TIME, FULL_SCAN, LOOKUP_SCAN FROM USER_HEAT_MAP_SEGMENT;

SUBSTR(OBJECT_NAME,1 SUBSTR(SUBOBJECT_NAM SEGMENT_W SEGMENT_R FULL_SCAN LOOKUP_SC
-------------------- -------------------- --------- --------- --------- ---------
SALES                SALES_Q1_1998                            30-OCT-12 01-NOV-12
SALES                SALES_Q1_1998                            30-OCT-12 01-NOV-12
SALES                SALES_Q1_1998                            30-OCT-12 01-NOV-12
SALES                SALES_Q1_1998                            30-OCT-12 01-NOV-12
SALES                SALES_Q1_1998                            30-OCT-12 01-NOV-12
SALES                SALES_Q1_1998                            30-OCT-12 01-NOV-12
...

SELECT SUBSTR(OBJECT_NAME,1,20), SUBSTR(SUBOBJECT_NAME,1,20), TRACK_TIME, SEGMENT_WRITE, FULL_SCAN,
  LOOKUP_SCAN FROM USER_HEAT_MAP_SEG_HISTOGRAM;

SUBSTR(OBJECT_NAME,1 SUBSTR(SUBOBJECT_NAM TRACK_TIM SEG FUL LOO
-------------------- -------------------- --------- --- --- ---
SALES                SALES_Q1_1998        31-OCT-12 NO  NO  YES
SALES                SALES_Q1_1998        01-NOV-12 NO  NO  YES
SALES                SALES_Q1_1998        30-OCT-12 NO  YES YES
SALES                SALES_Q2_1998        01-NOV-12 NO  NO  YES
SALES                SALES_Q2_1998        31-OCT-12 NO  NO  YES
SALES                SALES_Q2_1998        30-OCT-12 NO  YES YES
SALES                SALES_Q3_1998        01-NOV-12 NO  NO  YES
SALES                SALES_Q3_1998        30-OCT-12 NO  YES YES
SALES                SALES_Q3_1998        31-OCT-12 NO  NO  YES
SALES                SALES_Q4_1998        01-NOV-12 NO  NO  YES
SALES                SALES_Q4_1998        31-OCT-12 NO  NO  YES
SALES                SALES_Q4_1998        30-OCT-12 NO  YES YES
SALES                SALES_Q1_1999        01-NOV-12 NO  NO  YES
SALES                SALES_Q1_1999        31-OCT-12 NO  NO  YES
...

SELECT SUBSTR(OWNER,1,20), SUBSTR(OBJECT_NAME,1,20), OBJECT_TYPE, SUBSTR(TABLESPACE_NAME,1,20),
    SEGMENT_COUNT FROM DBA_HEATMAP_TOP_OBJECTS ORDER BY SEGMENT_COUNT DESC;

SUBSTR(OWNER,1,20)   SUBSTR(OBJECT_NAME,1 OBJECT_TYPE        SUBSTR(TABLESPACE_NA SEGMENT_COUNT
-------------------- -------------------- ------------------ -------------------- -------------
SH                   SALES                TABLE              EXAMPLE                         96
SH                   COSTS                TABLE              EXAMPLE                         48
PM                   ONLINE_MEDIA         TABLE              EXAMPLE                         22
OE                   PURCHASEORDER        TABLE              EXAMPLE                         18
PM                   PRINT_MEDIA          TABLE              EXAMPLE                         15
OE                   CUSTOMERS            TABLE              EXAMPLE                         10
OE                   WAREHOUSES           TABLE              EXAMPLE                          9
HR                   EMPLOYEES            TABLE              EXAMPLE                          7
OE                   LINEITEM_TABLE       TABLE              EXAMPLE                          6
IX                   STREAMS_QUEUE_TABLE  TABLE              EXAMPLE                          6
SH                   FWEEK_PSCAT_SALES_MV TABLE              EXAMPLE                          5
SH                   CUSTOMERS            TABLE              EXAMPLE                          5
HR                   LOCATIONS            TABLE              EXAMPLE                          5
HR                   JOB_HISTORY          TABLE              EXAMPLE                          5
SH                   PRODUCTS             TABLE              EXAMPLE                          5
...

SELECT SUBSTR(TABLESPACE_NAME,1,20), SEGMENT_COUNT 
    FROM DBA_HEATMAP_TOP_TABLESPACES ORDER BY SEGMENT_COUNT DESC;

SUBSTR(TABLESPACE_NA SEGMENT_COUNT
-------------------- -------------
EXAMPLE                        351
USERS                           11

SELECT COUNT(*) FROM DBA_HEATMAP_TOP_OBJECTS;

  COUNT(*)
----------
        64

SELECT COUNT(*) FROM DBA_HEATMAP_TOP_TABLESPACES;

  COUNT(*)
----------
         2
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="VLDBG14179"></a><a id="VLDBG14178"></a><div class="props_rev_3"><a id="GUID-90A61B99-5195-4D0B-BF77-FD82EBD1C423" name="GUID-90A61B99-5195-4D0B-BF77-FD82EBD1C423"></a><h4 id="VLDBG-GUID-90A61B99-5195-4D0B-BF77-FD82EBD1C423" class="sect4">Managing Heat Map Data With DBMS_HEAT_MAP Subprograms</h4>
                  <div>
                     <p>The <code class="codeph">DBMS_HEAT_MAP</code> package provides additional flexibility for displaying heat map data using <code class="codeph">DBMS_HEAT_MAP</code> subprograms.
                     </p>
                     <div class="section">
                        <p> <code class="codeph">DBMS_HEAT_MAP</code> includes one set of APIs that externalize heat maps at various levels of storage such as block, extent, segment, object, and tablespace; and a second set of APIs that externalize the heat maps materialized by the background process for the top tablespaces.
                        </p>
                        <p><a href="ilm-strategy-heatmap-ado.html#GUID-90A61B99-5195-4D0B-BF77-FD82EBD1C423__CHDGCIEJ">Example 5-2</a> shows examples of the use of <code class="codeph">DBMS_HEAT_MAP</code> package subprograms.
                        </p>
                        <div class="infoboxnotealso" id="GUID-90A61B99-5195-4D0B-BF77-FD82EBD1C423__GUID-96E4978A-A3CC-4388-BE6A-0BA230D183D2">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/DBMS_HEAT_MAP.html#ARPLS74860" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the <code class="codeph">DBMS_HEAT_MAP</code> package
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-90A61B99-5195-4D0B-BF77-FD82EBD1C423__CHDGCIEJ">
                        <p class="titleinexample">Example 5-2 Using DBMS_HEAT_MAP package subprograms</p><pre class="oac_no_warn" dir="ltr">SELECT SUBSTR(segment_name,1,10) Segment, min_writetime, min_ftstime 
  FROM TABLE(DBMS_HEAT_MAP.OBJECT_HEAT_MAP('SH','SALES'));

SELECT SUBSTR(tablespace_name,1,16) Tblspace, min_writetime, min_ftstime 
  FROM  TABLE(DBMS_HEAT_MAP.TABLESPACE_HEAT_MAP('EXAMPLE'));

SELECT relative_fno, block_id, blocks, TO_CHAR(min_writetime, 'mm-dd-yy hh-mi-ss') Mintime,
   TO_CHAR(max_writetime, 'mm-dd-yy hh-mi-ss') Maxtime, 
   TO_CHAR(avg_writetime, 'mm-dd-yy hh-mi-ss') Avgtime 
   FROM TABLE(DBMS_HEAT_MAP.EXTENT_HEAT_MAP('SH','SALES')) WHERE ROWNUM &lt; 10;

SELECT SUBSTR(owner,1,10) Owner, SUBSTR(segment_name,1,10) Segment, 
  SUBSTR(partition_name,1,16) Partition, SUBSTR(tablespace_name,1,16) Tblspace, 
  segment_type, segment_size FROM TABLE(DBMS_HEAT_MAP.OBJECT_HEAT_MAP('SH','SALES'));

OWNER      SEGMENT    PARTITION        TBLSPACE         SEGMENT_TYPE         SEGMENT_SIZE
---------- ---------- ---------------- ---------------- -------------------- ------------
SH         SALES      SALES_Q1_1998    EXAMPLE          TABLE PARTITION           8388608
SH         SALES      SALES_Q2_1998    EXAMPLE          TABLE PARTITION           8388608
SH         SALES      SALES_Q3_1998    EXAMPLE          TABLE PARTITION           8388608
SH         SALES      SALES_Q4_1998    EXAMPLE          TABLE PARTITION           8388608
SH         SALES      SALES_Q1_1999    EXAMPLE          TABLE PARTITION           8388608
...
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="VLDBG14117"></a><div class="props_rev_3"><a id="GUID-59C132D6-D36B-4B5E-B0CA-948C1B0E6836" name="GUID-59C132D6-D36B-4B5E-B0CA-948C1B0E6836"></a><h3 id="VLDBG-GUID-59C132D6-D36B-4B5E-B0CA-948C1B0E6836" class="sect3">Using Automatic Data Optimization</h3>
               <div>
                  <p>To implement your ILM strategy, you can use Automatic Data Optimization (ADO) to automate the compression and movement of data between different tiers of storage within the database. </p>
                  <p>The functionality includes the ability to create policies that specify different compression levels for each tier, and to control when the data movement takes place.</p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="ilm-strategy-heatmap-ado.html#GUID-B011D86F-DCDE-4BF5-9C47-24B9650EFCA8" title="You can specify policies for ADO at the row, segment, and tablespace granularity level when creating and altering tables with SQL statements.">Managing Policies for Automatic Data Optimization</a></p>
                     </li>
                     <li>
                        <p><a href="ilm-strategy-heatmap-ado.html#GUID-8385C12B-DFB7-4407-81F7-64F9CAD5952D" title="Use the ILM ADD POLICY clause with the CREATE TABLE statement to create a table with ILM ADO policy.">Creating a Table With an ILM ADO Policy</a></p>
                     </li>
                     <li>
                        <p><a href="ilm-strategy-heatmap-ado.html#GUID-DE4C9EB5-FBDC-4621-AA7B-17EBD11FBF27" title="Use the ILM ADD POLICY clause with the ALTER TABLE statement to add an ILM ADO policy to a table.">Adding ILM ADO Policies</a></p>
                     </li>
                     <li>
                        <p><a href="ilm-strategy-heatmap-ado.html#GUID-811423E6-3F43-4B95-AF9E-119AC71FB0D0" title="Use the ILM DISABLE POLICY or ILM DELETE POLICY clauses with the ALTER TABLE statement to disable or delete an ILM ADO policy.">Disabling and Deleting ILM ADO Policies</a></p>
                     </li>
                     <li>
                        <p><a href="ilm-strategy-heatmap-ado.html#GUID-DF9A2DDC-A5D3-4147-A2AB-DAE4C4FC99D7" title="You can specify compression at the segment-level within a table using a segment-level compression tiering policy.">Specifying Segment-Level Compression and Storage Tiering With ADO</a></p>
                     </li>
                     <li>
                        <p><a href="ilm-strategy-heatmap-ado.html#GUID-B3543DEF-885D-483A-9167-F414834F6779" title="Automatic Data Optimization (ADO) policies support Hybrid Columnar Compression (HCC) in addition to basic and advanced compression.">Specifying Row-Level Compression Tiering With ADO</a></p>
                     </li>
                     <li>
                        <p><a href="ilm-strategy-heatmap-ado.html#GUID-1C87CC45-14E2-4AE0-849C-3324DF94A4EA" title="You can customize your ADO environment with ILM ADO parameters that you set with the CUSTOMIZE_ILM procedure in the DBMS_ILM_ADMIN PL/SQL package.">Managing ILM ADO Parameters</a></p>
                     </li>
                     <li>
                        <p><a href="ilm-strategy-heatmap-ado.html#GUID-EFA918BC-3430-486B-B936-C3DAA41572F0" title="You can use the PL/SQL DBMS_ILM and DBMS_ILM_ADMIN packages for advanced policy management and customization to implement more complex ADO scenarios and control when policies are actively moving and compressing data.">Using PL/SQL Functions for Policy Management</a></p>
                     </li>
                     <li>
                        <p><a href="ilm-strategy-heatmap-ado.html#GUID-E97A72F8-C023-4C49-AC9F-D052F3B4586D" title="You can view and monitor the policies for ADO that are associated with your database objects using the DBA_ILM* and USER_ILM* views, making it easier to change policies as needed.">Using Views to Monitor Policies for ADO</a></p>
                     </li>
                  </ul>
                  <p>To use Automatic Data Optimization, you must enable Heat Map at the system level. You enable this functionality with the <code class="codeph">HEAT_MAP</code> initialization parameter. For information about setting the <code class="codeph">HEAT_MAP</code> initialization parameter, refer to <a href="ilm-strategy-heatmap-ado.html#GUID-FB038F5C-3243-4B20-A4C6-48935F0F3F95" title="You can enable and disable heat map tracking at the system or session level with the ALTER SYSTEM or ALTER SESSION statement using the HEAT_MAP clause.">Enabling and Disabling Heat Map</a>.
                  </p>
               </div><a id="VLDBG14118"></a><div class="props_rev_3"><a id="GUID-B011D86F-DCDE-4BF5-9C47-24B9650EFCA8" name="GUID-B011D86F-DCDE-4BF5-9C47-24B9650EFCA8"></a><h4 id="VLDBG-GUID-B011D86F-DCDE-4BF5-9C47-24B9650EFCA8" class="sect4">Managing Policies for Automatic Data Optimization</h4>
                  <div>
                     <p>You can specify policies for ADO at the row, segment, and tablespace granularity level when creating and altering tables with SQL statements.</p>
                     <p>By specifying policies for ADO, you can automate data movement between different tiers of storage within the database. These policies also enable you to specify different compression levels for each tier, and to control when the data movement takes place.</p>
                     <p>The ILM clauses of the SQL <code class="codeph">CREATE</code> and <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statements enable you to create, delete, enable or disable a policy for ADO. An ILM policy clause determines the compression or storage tiering policy and contains additional clauses, such as the <code class="codeph">AFTER</code> and <code class="codeph">ON</code> clauses to specify the condition when a policy action should occur. When you create a table, you can add a new policy for ADO. You can alter the table to add more policies or to enable, disable, or delete existing policies. You can add policies to an entire table or a partition of a table. You can specify only one condition type for an <code class="codeph">AFTER</code> clause when adding an ADO policies to a table or partition of a table. ILM ADO policies are given a system-generated name, such <code class="codeph">P1</code>, <code class="codeph">P2</code>, and so on to <code class="codeph">P</code><span class="italic"><code class="codeph">n</code></span>.
                     </p>
                     <p>A segment level policy executes only one time. After the policy executes successfully, it is disabled and is not evaluated again. However, you can explicitly enable the policy again. A row level policy continues to execute and is not disabled after a successful execution.</p>
                     <p>The scope of an ADO policy can be specified for a group of related objects or at the level of a segment or row, using the keywords <code class="codeph">GROUP</code>, <code class="codeph">ROW</code>, or <code class="codeph">SEGMENT</code>.
                     </p>
                     <p>The default mappings for compression that can be applied to group policies are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">COMPRESS</code> <code class="codeph">ADVANCED</code> on a heap table maps to standard compression for indexes and <code class="codeph">LOW</code> for LOB segments.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">COMPRESS</code> <code class="codeph">FOR</code> <code class="codeph">QUERY</code> <code class="codeph">LOW</code>/<code class="codeph">QUERY</code> <code class="codeph">HIGH</code> on a heap table maps to standard compression for indexes and <code class="codeph">MEDIUM</code> for LOB segments.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">COMPRESS</code> <code class="codeph">FOR</code> <code class="codeph">ARCHIVE</code> <code class="codeph">LOW</code>/<code class="codeph">ARCHIVE</code> <code class="codeph">HIGH</code> on a heap table maps to standard compression for indexes and <code class="codeph">HIGH</code> for LOB segments.
                           </p>
                        </li>
                     </ul>
                     <p>The compression mapping cannot be changed. <code class="codeph">GROUP</code> can only be applied to segment level policies. The storage tiering policies are applicable only at the segment level and cannot be specified at the row level.
                     </p>
                     <p>Automatic Data Optimization (ADO) supports the In-Memory Column Store (IM column store) with the <code class="codeph">INMEMORY</code>, <code class="codeph">INMEMORY</code> <code class="codeph">MECOMPRESS</code>, and <code class="codeph">NO</code> <code class="codeph">INMEMORY</code> policy types. 
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>To enable objects for population in the In-Memory Column Store, include <code class="codeph">INMEMORY</code> in the <code class="codeph">ADD</code> <code class="codeph">POLICY</code> clause.
                           </p>
                        </li>
                        <li>
                           <p>To increase the compression level on objects in an IM column store, include <code class="codeph">INMEMORY</code> <code class="codeph">MEMCOMPRESS</code> in the <code class="codeph">ADD</code> <code class="codeph">POLICY</code> clause.
                           </p>
                        </li>
                        <li>
                           <p>To explicitly evict objects that benefit the least from the IM column store, include <code class="codeph">NO</code> <code class="codeph">INMEMORY</code> in the <code class="codeph">ADD</code> <code class="codeph">POLICY</code> clause. For example:
                           </p>
                        </li>
                     </ul>
                     <p>The following is an example of the use the <code class="codeph">NO</code> <code class="codeph">INMEMORY</code> clause to evict objects from the IM column store.
                     </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE sales_2015 ILM ADD POLICY NO INMEMORY 
      AFTER 7 DAYS OF NO ACCESS;</pre><p> An ADO policy with an In-Memory Column Store clause can only be a segment level policy. The <code class="codeph">USER/DBA_ILMDATAMOVEMENTPOLICIES</code> and <code class="codeph">V$HEAT_MAP_SEGMENT</code> views include information about ADO policies for the In-Memory Column Store. The <code class="codeph">V$IM_ADOTASKS</code> and <code class="codeph">V$IM_ADOTASKDETAILS</code> views contain auditing information about the actions of the ADO component of the In-Memory Column Store.
                     </p>
                     <p></p>
                     <p>You can customize policies with the <code class="codeph">ON</code> <code class="codeph">PL/SQL_function</code> option which provides the ability to determine when the policy should be executed. The <code class="codeph">ON</code> <code class="codeph">PL/SQL_function</code> option is available only with segment level policies. For example:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE FUNCTION my_custom_ado_rules (objn IN NUMBER) RETURN BOOLEAN;

ALTER TABLE sales_custom ILM ADD POLICY COMPRESS ADVANCED SEGMENT
      ON my_custom_ado_rules;</pre><div class="section">
                        <div class="infoboxnotealso" id="GUID-B011D86F-DCDE-4BF5-9C47-24B9650EFCA8__GUID-CB9B2149-A507-46BC-8940-267A8B3B6B68">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../inmem/configuring-memory-management.html#INMEM-GUID-562D95E0-0B2E-4B0A-A75E-C44052FB3BE1" target="_blank"><span><cite>Oracle Database In-Memory Guide</cite></span></a> for information about In-Memory Column Store and ADO support
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about the syntax of the ILM clauses in SQL statements
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="VLDBG14148"></a><div class="props_rev_3"><a id="GUID-8385C12B-DFB7-4407-81F7-64F9CAD5952D" name="GUID-8385C12B-DFB7-4407-81F7-64F9CAD5952D"></a><h4 id="VLDBG-GUID-8385C12B-DFB7-4407-81F7-64F9CAD5952D" class="sect4">Creating a Table With an ILM ADO Policy</h4>
                  <div>
                     <p>Use the <code class="codeph">ILM</code> <code class="codeph">ADD</code> <code class="codeph">POLICY</code> clause with the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement to create a table with ILM ADO policy.
                     </p>
                     <div class="section">
                        <p>The SQL statement in <a href="ilm-strategy-heatmap-ado.html#GUID-8385C12B-DFB7-4407-81F7-64F9CAD5952D__CHDBEIAI">Example 5-3</a> creates a table and adds an ILM policy.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8385C12B-DFB7-4407-81F7-64F9CAD5952D__CHDBEIAI">
                        <p class="titleinexample">Example 5-3 Creating a table with an ILM ADO policy</p><pre class="oac_no_warn" dir="ltr">/* Create an example table with an ILM ADO policy */
CREATE TABLE sales_ado 
 (PROD_ID NUMBER NOT NULL,
  CUST_ID NUMBER NOT NULL, 
  TIME_ID DATE NOT NULL, 
  CHANNEL_ID NUMBER NOT NULL,
  PROMO_ID NUMBER NOT NULL,
  QUANTITY_SOLD NUMBER(10,2) NOT NULL,
  AMOUNT_SOLD NUMBER(10,2) NOT NULL )
 PARTITION BY RANGE (time_id)
 ( PARTITION sales_q1_2012 VALUES LESS THAN (TO_DATE('01-APR-2012','dd-MON-yyyy')),
   PARTITION sales_q2_2012 VALUES LESS THAN (TO_DATE('01-JUL-2012','dd-MON-yyyy')),
   PARTITION sales_q3_2012 VALUES LESS THAN (TO_DATE('01-OCT-2012','dd-MON-yyyy')),
   PARTITION sales_q4_2012 VALUES LESS THAN (TO_DATE('01-JAN-2013','dd-MON-yyyy')) )
  ILM ADD POLICY COMPRESS FOR ARCHIVE HIGH SEGMENT 
      AFTER 12 MONTHS OF NO ACCESS;

/* View the existing ILM ADO polices */
SELECT SUBSTR(policy_name,1,24) POLICY_NAME, policy_type, enabled 
       FROM USER_ILMPOLICIES;

POLICY_NAME              POLICY_TYPE   ENABLE
------------------------ ------------- ------
P1                       DATA MOVEMENT YES
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="VLDBG14201"></a><div class="props_rev_3"><a id="GUID-DE4C9EB5-FBDC-4621-AA7B-17EBD11FBF27" name="GUID-DE4C9EB5-FBDC-4621-AA7B-17EBD11FBF27"></a><h4 id="VLDBG-GUID-DE4C9EB5-FBDC-4621-AA7B-17EBD11FBF27" class="sect4">Adding ILM ADO Policies</h4>
                  <div>
                     <p>Use the <code class="codeph">ILM</code> <code class="codeph">ADD</code> <code class="codeph">POLICY</code> clause with the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement to add an ILM ADO policy to a table.
                     </p>
                     <div class="section">
                        <p>The SQL statements in <a href="ilm-strategy-heatmap-ado.html#GUID-DE4C9EB5-FBDC-4621-AA7B-17EBD11FBF27__CHDBBJJG">Example 5-4</a> provide examples of adding ILM policies to a partition of the <code class="codeph">sales</code> table. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DE4C9EB5-FBDC-4621-AA7B-17EBD11FBF27__CHDBBJJG">
                        <p class="titleinexample">Example 5-4 Adding ILM ADO policies</p><pre class="oac_no_warn" dir="ltr">/* Add a row-level compression policy after 30 days of no modifications */
ALTER TABLE sales MODIFY PARTITION sales_q1_2002 
  ILM ADD POLICY ROW STORE COMPRESS ADVANCED ROW 
  AFTER 30 DAYS OF NO MODIFICATION;

/* Add a segment level compression policy for data after 6 months of no modifications */
ALTER TABLE sales MODIFY PARTITION sales_q1_2001 
  ILM ADD POLICY COMPRESS FOR ARCHIVE HIGH SEGMENT 
  AFTER 6 MONTHS OF NO MODIFICATION;

/* Add a segment level compression policy for data after 12 months of no access */
ALTER TABLE sales MODIFY PARTITION sales_q1_2000 
      ILM ADD POLICY COMPRESS FOR ARCHIVE HIGH SEGMENT 
      AFTER 12 MONTHS OF NO ACCESS;

/* Add storage tier policy to move old data to a different tablespace */
/* that is on low cost storage media */
ALTER TABLE sales MODIFY PARTITION sales_q1_1999 
  ILM ADD POLICY
  TIER TO my_low_cost_sales_tablespace;

/* View the existing polices */
SELECT SUBSTR(policy_name,1,24) POLICY_NAME, policy_type, enabled 
   FROM USER_ILMPOLICIES;

POLICY_NAME              POLICY_TYPE   ENABLE
------------------------ ------------- ------
P1                       DATA MOVEMENT YES
P2                       DATA MOVEMENT YES
P3                       DATA MOVEMENT YES
P4                       DATA MOVEMENT YES
P5                       DATA MOVEMENT YES
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="VLDBG14149"></a><div class="props_rev_3"><a id="GUID-811423E6-3F43-4B95-AF9E-119AC71FB0D0" name="GUID-811423E6-3F43-4B95-AF9E-119AC71FB0D0"></a><h4 id="VLDBG-GUID-811423E6-3F43-4B95-AF9E-119AC71FB0D0" class="sect4">Disabling and Deleting ILM ADO Policies</h4>
                  <div>
                     <p>Use the <code class="codeph">ILM</code> <code class="codeph">DISABLE</code> <code class="codeph">POLICY</code> or <code class="codeph">ILM</code> <code class="codeph">DELETE</code> <code class="codeph">POLICY</code> clauses with the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement to disable or delete an ILM ADO policy.
                     </p>
                     <div class="section">
                        <p>You can disable or delete ILM policies for ADO as shown in the SQL statements in <a href="ilm-strategy-heatmap-ado.html#GUID-811423E6-3F43-4B95-AF9E-119AC71FB0D0__CHDDJJIJ">Example 5-5</a>. At times you may need to remove existing ILM policies if those policies conflict with a new policy that you want to add.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-811423E6-3F43-4B95-AF9E-119AC71FB0D0__CHDDJJIJ">
                        <p class="titleinexample">Example 5-5 Disabling and deleting ILM ADO policies</p><pre class="oac_no_warn" dir="ltr">/* You can disable or delete an ADO policy in a table with the following */
ALTER TABLE sales_ado ILM DISABLE POLICY P1;
ALTER TABLE sales_ado ILM DELETE POLICY P1;

/* You can disable or delete all ADO policies in a table with the following */
ALTER TABLE sales_ado ILM DISABLE_ALL;
ALTER TABLE sales_ado ILM DELETE_ALL;

/* You can disable or delete an ADO policy in a partition with the following */
ALTER TABLE sales MODIFY PARTITION sales_q1_2002 ILM DISABLE POLICY P2;
ALTER TABLE sales MODIFY PARTITION sales_q1_2002 ILM DELETE POLICY P2;

/* You can disable or delete all ADO policies in a partition with the following */
ALTER TABLE sales MODIFY PARTITION sales_q1_2000 ILM DISABLE_all;
ALTER TABLE sales MODIFY PARTITION sales_q1_2000 ILM DELETE_ALL;
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="VLDBG14150"></a><a id="VLDBG14119"></a><div class="props_rev_3"><a id="GUID-DF9A2DDC-A5D3-4147-A2AB-DAE4C4FC99D7" name="GUID-DF9A2DDC-A5D3-4147-A2AB-DAE4C4FC99D7"></a><h4 id="VLDBG-GUID-DF9A2DDC-A5D3-4147-A2AB-DAE4C4FC99D7" class="sect4">Specifying Segment-Level Compression and Storage Tiering With ADO</h4>
                  <div>
                     <p>You can specify compression at the segment-level within a table using a segment-level compression tiering policy.</p>
                     <div class="section">
                        <p>In combination with the row-level compression tiering policy, you have fine-grained control over how the data in your database is stored and managed.</p>
                        <p><a href="ilm-strategy-heatmap-ado.html#GUID-DF9A2DDC-A5D3-4147-A2AB-DAE4C4FC99D7__CHDJGECI">Example 5-6</a> illustrates how to create policies for ADO to enforce a compression and storage tiering policy on the <code class="codeph">sales_ado</code> table, reflecting the following business requirements:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>Bulk Load Data</p>
                           </li>
                           <li>
                              <p>Run OLTP workloads</p>
                           </li>
                           <li>
                              <p>After six months with no updates, compress for Archive High</p>
                           </li>
                           <li>
                              <p>Move to low cost storage</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DF9A2DDC-A5D3-4147-A2AB-DAE4C4FC99D7__CHDJGECI">
                        <p class="titleinexample">Example 5-6 Using segment-level compression and storage tiering</p><pre class="oac_no_warn" dir="ltr">/* Add a segment level compression policy after 6 months of no changes */
ALTER TABLE sales_ado ILM ADD POLICY
  COMPRESS FOR ARCHIVE HIGH SEGMENT 
  AFTER 6 MONTHS OF NO MODIFICATION;

Table altered.

/* Add storage tier policy */
ALTER TABLE sales_ado ILM ADD POLICY
  TIER TO my_low_cost_tablespace;

SELECT SUBSTR(policy_name,1,24) POLICY_NAME, policy_type, enabled 
  FROM USER_ILMPOLICIES;

POLICY_NAME              POLICY_TYPE   ENABLED
------------------------ ------------- -------
...
P6                       DATA MOVEMENT  YES
P7                       DATA MOVEMENT  YES</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="VLDBG14151"></a><a id="VLDBG14120"></a><div class="props_rev_3"><a id="GUID-B3543DEF-885D-483A-9167-F414834F6779" name="GUID-B3543DEF-885D-483A-9167-F414834F6779"></a><h4 id="VLDBG-GUID-B3543DEF-885D-483A-9167-F414834F6779" class="sect4">Specifying Row-Level Compression Tiering With ADO</h4>
                  <div>
                     <p>Automatic Data Optimization (ADO) policies support Hybrid Columnar Compression (HCC) in addition to basic and advanced compression. </p>
                     <div class="section">
                        <p>An HCC row level policy can be defined on any table regardless of the compression type of the table. Rows from cold blocks can be compressed with HCC when there is DML activity on other parts of the segment.</p>
                        <p>With HCC policies on non-HCC tables, there may be row movement during updates if the row is in a HCC compression unit (CU). Also, similar to other use cases of row movement, index maintenance is necessary to update index entries that referenced the moved row. </p>
                        <p>Row-level policies are supported in Oracle Database 12<span class="italic">c</span> Release 1 (12.1): however, the database must be at 12.2 compatibility or greater to use HCC row-level compression policies.
                        </p>
                        <div class="infoboxnotealso" id="GUID-B3543DEF-885D-483A-9167-F414834F6779__ORACLEDATABASEADMINISTRATORSGUIDEFO-01265F85">
                           <p class="notep1">See Also:</p>
                           <p><a href="../admin/managing-tables.html#ADMIN-GUID-34D15DD1-0925-4C9A-BE8A-3EE91671E526" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about table compression
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B3543DEF-885D-483A-9167-F414834F6779__GUID-0FEC5A84-D4AD-4028-B0D0-DC79E7806AD7">
                        <p class="titleinexample">Example 5-7 Creating an ADO policy using row-level Hybrid Columnar Compression</p>
                        <p>The SQL statement in <a href="ilm-strategy-heatmap-ado.html#GUID-B3543DEF-885D-483A-9167-F414834F6779__GUID-0FEC5A84-D4AD-4028-B0D0-DC79E7806AD7">Example 5-7</a> creates a policy using HCC on the rows of the table <code class="codeph">employees_ilm</code>.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE employees_ilm 
   ILM ADD POLICY COLUMN STORE COMPRESS FOR QUERY ROW 
   AFTER 30 DAYS OF NO MODIFICATION;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B3543DEF-885D-483A-9167-F414834F6779__CHDJFGGG">
                        <p class="titleinexample">Example 5-8 Creating an ADO policy using row-level advanced compression</p>
                        <p>The SQL statement in <a href="ilm-strategy-heatmap-ado.html#GUID-B3543DEF-885D-483A-9167-F414834F6779__CHDJFGGG">Example 5-8</a> creates a policy using advanced compression on the rows of the table <code class="codeph">sales_ado</code>. 
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE sales_ado 
  ILM ADD POLICY ROW STORE COMPRESS ADVANCED ROW 
  AFTER 60 DAYS OF NO MODIFICATION;

SELECT policy_name, policy_type, enabled 
   FROM USER_ILMPOLICIES;
 
POLICY_NAME              POLICY_TYPE   ENABLE
------------------------ ------------- -------
...
P8                       DATA MOVEMENT YES</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="VLDBG14203"></a><a id="VLDBG14202"></a><div class="props_rev_3"><a id="GUID-1C87CC45-14E2-4AE0-849C-3324DF94A4EA" name="GUID-1C87CC45-14E2-4AE0-849C-3324DF94A4EA"></a><h4 id="VLDBG-GUID-1C87CC45-14E2-4AE0-849C-3324DF94A4EA" class="sect4">Managing ILM ADO Parameters</h4>
                  <div>
                     <p>You can customize your ADO environment with ILM ADO parameters that you set with the <code class="codeph">CUSTOMIZE_ILM</code> procedure in the <code class="codeph">DBMS_ILM_ADMIN</code> PL/SQL package.
                     </p>
                     <div class="section">
                        <p>Various ILM ADO parameters are described in <a href="ilm-strategy-heatmap-ado.html#GUID-1C87CC45-14E2-4AE0-849C-3324DF94A4EA__CHDFBBCB" title="ILM ADO-related parameters">Table 5-2</a>.
                        </p>
                        <div class="tblformalwide" id="GUID-1C87CC45-14E2-4AE0-849C-3324DF94A4EA__CHDFBBCB">
                           <p class="titleintable">Table 5-2 ILM ADO Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="ILM ADO Parameters" summary="ILM ADO-related parameters" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d42519e1974">Name</th>
                                    <th align="left" valign="bottom" width="78%" id="d42519e1977">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d42519e1982" headers="d42519e1974 ">
                                       <p><code class="codeph">ABSOLUTE</code><code class="codeph">JOB</code> <code class="codeph">LIMIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d42519e1982 d42519e1977 ">
                                       <p> The value for <code class="codeph">ABSOLUTE</code><code class="codeph">JOB</code> <code class="codeph">LIMIT</code> limits the absolute number of concurrent ADO jobs.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d42519e2003" headers="d42519e1974 ">
                                       <p><code class="codeph">DEGREE</code><code class="codeph">OF</code> <code class="codeph">PARALLELISM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d42519e2003 d42519e1977 ">
                                       <p> The value for <code class="codeph">DEGREE</code><code class="codeph">OF</code> <code class="codeph">PARALLELISM</code> determines the degree of parallelism in which the ADO policy jobs are run.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d42519e2024" headers="d42519e1974 ">
                                       <p><code class="codeph">ENABLED</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d42519e2024 d42519e1977 ">
                                       <p>The <code class="codeph">ENABLED</code> parameter controls ADO background evaluation and execution. The default is enabled on (<code class="codeph">TRUE</code> or <code class="codeph">1</code>). 
                                       </p>
                                       <p>The settings of <code class="codeph">ENABLED</code> and the <code class="codeph">HEAT_MAP</code> initialization parameters interact as follows:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>If the <code class="codeph">HEAT_MAP</code> initialization parameter is set to <code class="codeph">ON</code> and the <code class="codeph">ENABLED</code> parameter is set to <code class="codeph">FALSE</code> (<code class="codeph">0</code>), then heat map statistics are collected, but ADO does not act on the statistics automatically.
                                             </p>
                                          </li>
                                          <li>
                                             <p>If the <code class="codeph">HEAT_MAP</code> initialization parameter is set to <code class="codeph">OFF</code> and the <code class="codeph">ENABLED</code> parameter is set to <code class="codeph">TRUE</code> (<code class="codeph">1</code>), then heat map statistics are not collected and because ADO cannot rely on the heat map statistics, ADO does nothing. ADO behaves as if <code class="codeph">ENABLED</code> is set to <code class="codeph">FALSE</code>.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d42519e2093" headers="d42519e1974 ">
                                       <p><code class="codeph">EXECUTION</code> <code class="codeph">MODE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d42519e2093 d42519e1977 ">
                                       <p>The value of <code class="codeph">EXECUTION</code> <code class="codeph">MODE</code> controls whether ADO executes in online or offline mode. The default is online (<code class="codeph">2</code>).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d42519e2113" headers="d42519e1974 ">
                                       <p><code class="codeph">EXECUTION</code> <code class="codeph">INTERVAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d42519e2113 d42519e1977 ">
                                       <p>The value of <code class="codeph">EXECUTION</code> <code class="codeph">INTERVAL</code> determines the frequency that ADO initiates background evaluation. The default is <code class="codeph">15</code> minutes.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d42519e2133" headers="d42519e1974 ">
                                       <p><code class="codeph">JOB</code> <code class="codeph">LIMIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d42519e2133 d42519e1977 ">
                                       <p> The value for <code class="codeph">JOB</code> <code class="codeph">LIMIT</code> controls the maximum number of ADO jobs at any time. The maximum number of concurrent ADO jobs is calculated as (<code class="codeph">JOB</code> <code class="codeph">LIMIT</code>)*(number of instances)*(number of CPUs for each instance). The default is <code class="codeph">2</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d42519e2159" headers="d42519e1974 ">
                                       <p><code class="codeph">POLICY</code> <code class="codeph">TIME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d42519e2159 d42519e1977 ">
                                       <p>The value for <code class="codeph">POLICY</code> <code class="codeph">TIME</code> determines if ADO policies are specified in seconds or days. Values are <code class="codeph">1</code> for seconds or <code class="codeph">0</code> for days (default).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d42519e2182" headers="d42519e1974 ">
                                       <p><code class="codeph">RETENTION</code> <code class="codeph">TIME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d42519e2182 d42519e1977 ">
                                       <p>The value for <code class="codeph">RETENTION</code> <code class="codeph">TIME</code> specifies the length of time that data of completed ADO tasks is kept before that data is purged. The default is <code class="codeph">30</code> days.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d42519e2202" headers="d42519e1974 ">
                                       <p><code class="codeph">TBS</code> <code class="codeph">PERCENT</code> <code class="codeph">USED</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d42519e2202 d42519e1977 ">
                                       <p>The value for <code class="codeph">TBS_PERCENT_USED</code> parameter specifies the percentage of the tablespace quota when a tablespace is considered full. The default is <code class="codeph">85</code> percent.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d42519e2222" headers="d42519e1974 ">
                                       <p><code class="codeph">TBS</code> <code class="codeph">PERCENT</code> <code class="codeph">FREE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d42519e2222 d42519e1977 ">
                                       <p>The value for <code class="codeph">TBS_PERCENT_FREE</code> parameter specifies the targeted free percentage for the tablespace. The default is <code class="codeph">25</code> percent.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>For the values of the <code class="codeph">TBS_PERCENT</code>* parameters, ADO makes a best effort, but not a guarantee. When the percentage of the tablespace quota reaches the value of <code class="codeph">TBS_PERCENT_USED</code>, ADO begins to move data so that percent free of the tablespace quota approaches the value of <code class="codeph">TBS_PERCENT_FREE</code>. As an example, assume that <code class="codeph">TBS_PERCENT_USED</code> is set to 85 and <code class="codeph">TBS_PERCENT_FREE</code> is set to <code class="codeph">25</code>, and that a tablespace becomes <code class="codeph">90</code> percent full. ADO then initiates actions to move data so that the tablespace quota has at least <code class="codeph">25</code> percent free, which can also be interpreted as less than <code class="codeph">75</code> percent used of the tablespace quota. 
                        </p>
                        <p>You can display the parameters with the <code class="codeph">DBA_ILMPARAMETERS</code> view. For example, the following query displays the values of the ADO-related parameters.
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT NAME, VALUE FROM DBA_ILMPARAMETERS;

---------------------------------------------------------------- ----------
ENABLED                                                                   1
RETENTION TIME                                                           30
JOB LIMIT                                                                 2
EXECUTION MODE                                                            2
EXECUTION INTERVAL                                                       15
TBS PERCENT USED                                                         85
TBS PERCENT FREE                                                         25
POLICY TIME                                                               0
ABSOLUTE JOB LIMIT                                                       10
DEGREE OF PARALLELISM                                                     4
...</pre><div class="infoboxnotealso" id="GUID-1C87CC45-14E2-4AE0-849C-3324DF94A4EA__GUID-46AA99C8-3D13-46E2-A6FD-1A187834E3AD">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="ilm-strategy-heatmap-ado.html#GUID-EFA918BC-3430-486B-B936-C3DAA41572F0__CHDCGJEJ">Example 5-9</a> for an example showing how to set ILM ADO parameters with the <code class="codeph">CUSTOMIZE_ILM</code> procedure in the <code class="codeph">DBMS_ILM_ADMIN</code> PL/SQL package
                                 </p>
                              </li>
                              <li>
                                 <p><a href="heatmap-ado-em.html#GUID-94F6D36D-DEA5-442B-919C-3690CB89A072" title="You can manage Heat Map and Automatic Data Optimization with Oracle Enterprise Manager Cloud Control.">Managing ILM Heat Map and ADO with Oracle Enterprise Manager</a> for information about setting ILM ADO parameters with Oracle Enterprise Manager Cloud Control
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_ILM_ADMIN.html#ARPLS74889" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for a complete list of ILM ADO parameters
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/vldbg&amp;id=ARPLS74887" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the <code class="codeph">DBMS_ILM_ADMIN</code> package
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="VLDBG14204"></a><a id="VLDBG14122"></a><div class="props_rev_3"><a id="GUID-EFA918BC-3430-486B-B936-C3DAA41572F0" name="GUID-EFA918BC-3430-486B-B936-C3DAA41572F0"></a><h4 id="VLDBG-GUID-EFA918BC-3430-486B-B936-C3DAA41572F0" class="sect4">Using PL/SQL Functions for Policy Management</h4>
                  <div>
                     <p>You can use the PL/SQL <code class="codeph">DBMS_ILM</code> and <code class="codeph">DBMS_ILM_ADMIN</code> packages for advanced policy management and customization to implement more complex ADO scenarios and control when policies are actively moving and compressing data.
                     </p>
                     <div class="section">
                        <p> With the PL/SQL <code class="codeph">DBMS_ILM</code> and <code class="codeph">DBMS_ILM_ADMIN</code> packages, you can manage ILM activities for ADO so that they do not negatively impact important production workloads. Database compatibility must be set to a minimum of 12.0 to use these packages.
                        </p>
                        <p>The <code class="codeph">EXECUTE_ILM</code> procedure of the <code class="codeph">DBMS_ILM</code> package creates and schedules jobs to enforce policies for ADO. The <code class="codeph">EXECUTE_ILM()</code> procedure provides this functionality, regardless of any previously-scheduled ILM jobs. All jobs are created and scheduled to run immediately; however, whether they are run immediately depends on the number of jobs queued with the scheduler.
                        </p>
                        <p>You can use the <code class="codeph">EXECUTE_ILM</code> procedure if you want more control when ILM jobs are performed, and do not want to wait until the next maintenance window.
                        </p>
                        <p>The <code class="codeph">STOP_ILM</code> procedure of the <code class="codeph">DBMS_ILM</code> package stops all jobs, all running jobs, jobs based on a task Id, or a specific job.
                        </p>
                        <p>The <code class="codeph">CUSTOMIZE_ILM</code> procedure in the <code class="codeph">DBMS_ILM_ADMIN</code> PL/SQL package enables you to customize settings for ADO, as shown in <a href="ilm-strategy-heatmap-ado.html#GUID-EFA918BC-3430-486B-B936-C3DAA41572F0__CHDCGJEJ">Example 5-9</a>.
                        </p>
                        <p>For example, you can set the values for the <code class="codeph">TBS_PERCENT_USED</code> and <code class="codeph">TBS_PERCENT_FREE</code> ILM parameters or set the <code class="codeph">ABS_JOBLIMIT</code> ILM parameter. <code class="codeph">TBS_PERCENT_USED</code> and <code class="codeph">TBS_PERCENT_FREE</code> determine when data is moved based on tablespace quotas and <code class="codeph">ABS_JOBLIMIT</code> sets the absolute number of concurrent ADO jobs.
                        </p>
                        <p>You can also recreate objects with policies using the <code class="codeph">DBMS_METADATA</code> PL/SQL package.
                        </p>
                        <div class="infoboxnotealso" id="GUID-EFA918BC-3430-486B-B936-C3DAA41572F0__GUID-21ACF689-E640-434B-9FEC-B68CEA50BD31">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="ilm-strategy-heatmap-ado.html#GUID-1C87CC45-14E2-4AE0-849C-3324DF94A4EA" title="You can customize your ADO environment with ILM ADO parameters that you set with the CUSTOMIZE_ILM procedure in the DBMS_ILM_ADMIN PL/SQL package.">Managing ILM ADO Parameters</a> for information about ILM ADO parameters
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_ILM.html#ARPLS73513" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the <code class="codeph">DBMS_ILM</code>, <code class="codeph">DBMS_ILM_ADMIN</code>, and <code class="codeph">DBMS_METADATA</code> packages
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-EFA918BC-3430-486B-B936-C3DAA41572F0__CHDCGJEJ">
                        <p class="titleinexample">Example 5-9 Using CUSTOMIZE_ILM to customize ADO settings</p><pre class="oac_no_warn" dir="ltr">SQL&gt; BEGIN
  2  DBMS_ILM_ADMIN.CUSTOMIZE_ILM(DBMS_ILM_ADMIN.TBS_PERCENT_USED, 85);
  3  DBMS_ILM_ADMIN.CUSTOMIZE_ILM(DBMS_ILM_ADMIN.TBS_PERCENT_FREE, 25);
  4  END;
  5  /

SQL&gt; BEGIN
  2  DBMS_ILM_ADMIN.CUSTOMIZE_ILM(DBMS_ILM_ADMIN.ABS_JOBLIMIT, 10);
  3  END;
  4  /</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="VLDBG14123"></a><div class="props_rev_3"><a id="GUID-E97A72F8-C023-4C49-AC9F-D052F3B4586D" name="GUID-E97A72F8-C023-4C49-AC9F-D052F3B4586D"></a><h4 id="VLDBG-GUID-E97A72F8-C023-4C49-AC9F-D052F3B4586D" class="sect4">Using Views to Monitor Policies for ADO</h4>
                  <div>
                     <p>You can view and monitor the policies for ADO that are associated with your database objects using the <code class="codeph">DBA_ILM*</code> and <code class="codeph">USER_ILM*</code> views, making it easier to change policies as needed. 
                     </p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">DBA/USER_ILMDATAMOVEMENTPOLICIES</code> view displays information specific to data movement related attributes of an ILM policy for ADO.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">DBA/USER_ILMTASKS</code> view displays the task Ids of the procedure <code class="codeph">EXECUTE_ILM</code>. Every time a user invokes the procedure <code class="codeph">EXECUTE_ILM</code>, a task Id is returned to track this particular invocation. A task Id is also generated to track periodic internal ILM tasks by the database. This view contains information about all ILM tasks for ADO.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">DBA/USER_ILMEVALUATIONDETAILS</code> view displays details on policies considered for a particular task. It also shows the name of the job that executes the policy in case the policy was selected for evaluation. In case the policy was not executed, this view also provides a reason.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">DBA/USER_ILMOBJECTS</code> view displays all the objects and policies for ADO in the database. Many objects inherit policies through their parent objects or because they were created in a particular tablespace. This view provides a mapping between the policies and objects. In the case of an inherited policy, this view also indicates the level from which policy is inherited.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">DBA/USER_ILMPOLICIES</code> view displays details about all the policies for ADO in the database.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">DBA/USER_ILMRESULTS</code> view displays information about data movement-related jobs for ADO in the database.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">DBA_ILMPARAMETERS</code> view displays information about ADO-related parameters. 
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-E97A72F8-C023-4C49-AC9F-D052F3B4586D__GUID-A2F81537-7D7C-4744-AD98-AC25D3ACB1A2">
                           <p class="notep1">See Also:</p>
                           <p><a href="../refrn/about-static-data-dictionary-views.html#REFRN002" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for information about the <code class="codeph">ILM</code> views
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="VLDBG14152"></a><div class="props_rev_3"><a id="GUID-85EF8DD3-B372-4D5A-8941-FD7A0AF9C364" name="GUID-85EF8DD3-B372-4D5A-8941-FD7A0AF9C364"></a><h3 id="VLDBG-GUID-85EF8DD3-B372-4D5A-8941-FD7A0AF9C364" class="sect3">Limitations and Restrictions With ADO and Heat Map</h3>
               <div>
                  <p>The limitations and restrictions associated with ADO and Heat Map are discussed in this topic.</p>
                  <p>Limitations and restrictions associated with ADO and Heat Map include:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Partition-level ADO and compression are supported for Temporal Validity except for row-level ADO policies that would compress rows that are past their valid time (access or modification).</p>
                     </li>
                     <li>
                        <p>Partition-level ADO and compression are supported for in-database archiving if partitioned on the <code class="codeph">ORA_ARCHIVE_STATE</code> column.
                        </p>
                     </li>
                     <li>
                        <p>Custom policies (user-defined functions) for ADO are not supported if the policies default at the tablespace level.</p>
                     </li>
                     <li>
                        <p>ADO does not perform checks for storage space in a target tablespace when using storage tiering.</p>
                     </li>
                     <li>
                        <p>ADO is not supported on tables with object types or materialized views.</p>
                     </li>
                     <li>
                        <p>ADO is not supported with index-organized tables or clusters.</p>
                     </li>
                     <li>
                        <p>ADO concurrency (the number of simultaneous policy jobs for ADO) depends on the concurrency of the Oracle scheduler. If a policy job for ADO fails more than two times, then the job is marked disabled and the job must be manually enabled later.</p>
                     </li>
                     <li>
                        <p>ADO has restrictions related to moving tables and table partitions.</p>
                        <div class="infoboxnotealso" id="GUID-85EF8DD3-B372-4D5A-8941-FD7A0AF9C364__GUID-92C80724-CDC9-408E-BEFD-161588EC4F49">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../sqlrf/ALTER-TABLE.html#SQLRF01001" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about restrictions on moving tables
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/ALTER-TABLE.html#SQLRF01001" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about restrictions on moving table partitions
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>