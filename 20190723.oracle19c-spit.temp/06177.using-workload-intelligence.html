<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Workload Intelligence analyzes the data stored in a captured workload and identifies significant patterns in a workload.">
      <meta name="description" content="Workload Intelligence analyzes the data stored in a captured workload and identifies significant patterns in a workload.">
      <title>Using Workload Intelligence</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Testing Guide ">
      <meta property="og:description" content="Workload Intelligence analyzes the data stored in a captured workload and identifies significant patterns in a workload.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Testing Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="testing-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-07T01:43:11-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2008, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96279-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="analyzing-captured-and-replayed-workloads.html" title="Previous" type="text/html">
      <link rel="next" href="using-consolidated-database-replay.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Testing Guide">
    <meta name="dcterms.isVersionOf" content="RATUG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="analyzing-captured-and-replayed-workloads.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-consolidated-database-replay.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Testing Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="database-replay.html" property="item" typeof="WebPage"><span property="name"> Database Replay </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Using Workload Intelligence </li>
            </ol>
            <a id="GUID-2A70BED3-9A0A-4C0C-9B84-910B139EF6A0" name="GUID-2A70BED3-9A0A-4C0C-9B84-910B139EF6A0"></a><a id="RATUG4176"></a>
            
            <h2 id="RATUG-GUID-2A70BED3-9A0A-4C0C-9B84-910B139EF6A0" class="sect2"><span class="enumeration_chapter">14 </span>Using Workload Intelligence 
            </h2>
         </header>
         <div class="ind">
            <div>
               <div><span>Workload Intelligence analyzes the data stored in a captured workload and identifies significant patterns in a workload.</span> This chapter describes how to use Workload Intelligence and contains the following sections:
               </div>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="using-workload-intelligence.html#GUID-A3BCE68E-E973-427D-8A2C-94FB08905D1A" title="Workload capture generates a number of binary files—called capture files—that contain relevant information about the captured workload. The information stored in the capture files enables workload replay to realistically reproduce the captured workload at a later time.">Overview of Workload Intelligence</a></p>
                  </li>
                  <li>
                     <p><a href="using-workload-intelligence.html#GUID-BCAB6B26-F044-4332-A83C-7D51A3B75A95" title="This section introduces the steps for analyzing captured workloads using Workload Intelligence.">Analyzing Captured Workloads Using Workload Intelligence</a></p>
                  </li>
                  <li>
                     <p><a href="using-workload-intelligence.html#GUID-00E9BCAB-72F0-4B0D-A406-1E0FD85A29AE" title="This section assumes a scenario where Workload Intelligence is used on a captured workload generated by Swingbench, a benchmark used for stress testing Oracle Database.">Example: Workload Intelligence Results</a></p>
                  </li>
               </ul>
            </div><a id="RATUG4177"></a><div class="props_rev_3"><a id="GUID-A3BCE68E-E973-427D-8A2C-94FB08905D1A" name="GUID-A3BCE68E-E973-427D-8A2C-94FB08905D1A"></a><h3 id="RATUG-GUID-A3BCE68E-E973-427D-8A2C-94FB08905D1A" class="sect3"><span class="enumeration_section">14.1 </span>Overview of Workload Intelligence
               </h3>
               <div>
                  <div><span>Workload capture generates a number of binary files—called capture files—that contain relevant information about the captured workload. The information stored in the capture files enables workload replay to realistically reproduce the captured workload at a later time.</span> For each client request that is recorded by workload capture, the captured information includes SQL text, bind values, transaction information, timing data, identifiers of accessed objects, and other information about the request.
                  </div>
                  <p><a id="d30301e181" class="indexterm-anchor"></a>Workload Intelligence enables you to use the information stored in capture files in additional ways, including the following:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Analyze and model the workload</p>
                     </li>
                     <li>
                        <p>Discover significant patterns and trends within the workload</p>
                     </li>
                     <li>
                        <p>Visualize what was running on the production system during workload capture</p>
                     </li>
                  </ul>
                  <p>This section describes Workload Intelligence and contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-workload-intelligence.html#GUID-A01D3354-ECD0-44A0-A58E-9494497AB53F" title="Workload Intelligence comprises a suite of Java programs that enable you to analyze the data stored in a captured workload. These Java programs operate on data recorded during a workload capture to create a model that describes the workload.">About Workload Intelligence</a></p>
                     </li>
                     <li>
                        <p><a href="using-workload-intelligence.html#GUID-1F6F3916-8EE0-4209-B4B1-70C90E88C4E1" title="You can use Workload Intelligence to discover significant patterns in a captured workload.">Use Case for Workload Intelligence</a></p>
                     </li>
                     <li>
                        <p><a href="using-workload-intelligence.html#GUID-8ADD4FA7-BBE0-4216-88E6-2542A64A2923" title="Workload Intelligence uses the information that is stored in the capture files, and does not require the execution of the workload using workload replay. Furthermore, Workload Intelligence does not require any user schema, user data, or connection to the production system.">Requirements for Using Workload Intelligence</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-A3BCE68E-E973-427D-8A2C-94FB08905D1A__GUID-3E202506-F097-46F3-BF9B-0189CC9E3BF8">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="introduction-to-database-replay.html#GUID-36DE5567-5A64-493B-A154-6581C678FC8A" title="The first step in using Database Replay is to capture the production workload. Capturing a workload involves recording all requests made by external clients to Oracle Database.">Workload Capture</a>"</span> for information about workload capture
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="introduction-to-database-replay.html#GUID-6A7A45F0-27B2-41D8-B1DA-1CE39F49AA7C" title="After a captured workload has been preprocessed, it can be replayed on a test system.">Workload Replay</a>"</span> for information about workload replay
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="RATUG4178"></a><div class="props_rev_3"><a id="GUID-A01D3354-ECD0-44A0-A58E-9494497AB53F" name="GUID-A01D3354-ECD0-44A0-A58E-9494497AB53F"></a><h4 id="RATUG-GUID-A01D3354-ECD0-44A0-A58E-9494497AB53F" class="sect4"><span class="enumeration_section">14.1.1 </span>About Workload Intelligence
                  </h4>
                  <div>
                     <div><span>Workload Intelligence comprises a suite of Java programs that enable you to analyze the data stored in a captured workload. These Java programs operate on data recorded during a workload capture to create a model that describes the workload.</span> This model can help you identify significant patterns of templates that are executed as part of the workload.
                     </div>
                     <p>A <a id="d30301e328" class="indexterm-anchor"></a>template represents a read-only SQL statement, or an entire transaction that consists of one or more SQL statements. If two SQL statements (or transactions) exhibit significant similarity, then they are represented by the same template.
                     </p>
                     <p>Workload Intelligence enables you to better visualize what a captured workload looks like by exploring template patterns and the corresponding SQL statements. For each <a id="d30301e335" class="indexterm-anchor"></a>pattern, you can view important statistics, such as the number of executions of a given pattern and the database time consumed by the pattern during its execution.
                     </p>
                  </div>
               </div><a id="RATUG4179"></a><div class="props_rev_3"><a id="GUID-1F6F3916-8EE0-4209-B4B1-70C90E88C4E1" name="GUID-1F6F3916-8EE0-4209-B4B1-70C90E88C4E1"></a><h4 id="RATUG-GUID-1F6F3916-8EE0-4209-B4B1-70C90E88C4E1" class="sect4"><span class="enumeration_section">14.1.2 </span>Use Case for Workload Intelligence
                  </h4>
                  <div>
                     <p>You can use Workload Intelligence to discover significant patterns in a captured workload.</p>
                     <p>SQL statements that are executed in a production system are typically not manually inputted by the users, but instead come from one or more applications running on an application server that is connected to the database server. There is usually a finite number of such SQL statements in an application. Even if different bind values are used in every execution of a particular statement, its SQL text essentially remains the same.</p>
                     <p>Depending on the user input to the application, a code path is executed that includes one or more SQL statements submitted to the database in a given order as defined by the application code. Frequent user actions correspond to application code paths that are regularly executed. Such frequently executed code paths generate a frequent pattern of SQL statements that are executed by the database in a given order. By analyzing a captured workload, Workload Intelligence discovers such patterns and associates them with related execution statistics. In other words, Workload Intelligence uses the information stored in capture files to discover patterns that are generated by significant code paths of applications running in the production system during workload capture. Workload Intelligence does this without requiring any information about the applications.</p>
                     <p>Using Workload Intelligence to discover significant patterns:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Enables you to better visualize what was running in the database during workload capture.</p>
                        </li>
                        <li>
                           <p>Provides more information that can be used for optimizations.</p>
                        </li>
                        <li>
                           <p>Offers a better context because SQL statements are not isolated, but are combined.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="RATUG4191"></a><div class="props_rev_3"><a id="GUID-8ADD4FA7-BBE0-4216-88E6-2542A64A2923" name="GUID-8ADD4FA7-BBE0-4216-88E6-2542A64A2923"></a><h4 id="RATUG-GUID-8ADD4FA7-BBE0-4216-88E6-2542A64A2923" class="sect4"><span class="enumeration_section">14.1.3 </span>Requirements for Using Workload Intelligence
                  </h4>
                  <div>
                     <div><span>Workload Intelligence uses the information that is stored in the capture files, and does not require the execution of the workload using workload replay. Furthermore, Workload Intelligence does not require any user schema, user data, or connection to the production system.</span> To avoid any overhead in the production system, it is recommended that Workload Intelligence be used on a test system where the capture files have been copied, especially for large captured workloads because running Workload Intelligence may be resource intensive.
                     </div>
                     <p>The necessary Java classes for invoking the Java programs that comprise Workload Intelligence are packed in <code class="codeph">$ORACLE_HOME/rdbms/jlib/dbrintelligence.jar</code>. Two other jar files must be included in the classpath: <code class="codeph">$ORACLE_HOME/rdbms/jlib/dbrparser.jar</code> and <code class="codeph">$ORACLE_HOME/jdbc/lib/ojdbc6.jar</code>.
                     </p>
                     <p>Workload Intelligence also uses some <code class="codeph">SYS</code> tables and views internally.
                     </p>
                  </div>
               </div>
            </div><a id="RATUG4180"></a><div class="props_rev_3"><a id="GUID-BCAB6B26-F044-4332-A83C-7D51A3B75A95" name="GUID-BCAB6B26-F044-4332-A83C-7D51A3B75A95"></a><h3 id="RATUG-GUID-BCAB6B26-F044-4332-A83C-7D51A3B75A95" class="sect3"><span class="enumeration_section">14.2 </span>Analyzing Captured Workloads Using Workload Intelligence
               </h3>
               <div>
                  <div><span>This section introduces the steps for analyzing captured workloads using Workload Intelligence.</span> For example:
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-BCAB6B26-F044-4332-A83C-7D51A3B75A95__GUID-1F3A51F0-4CC9-4A89-90E1-7B9FA0455883">To analyze captured workloads using Workload Intelligence:</p>
                     <ol>
                        <li>
                           <p>Create a database user with the appropriate privileges to use Workload Intelligence, as described in <span class="q">"<a href="using-workload-intelligence.html#GUID-84688CA4-EFA5-4444-B957-21C80CBBADA7" title="Before using Workload Intelligence, first create a database user with the appropriate privileges.">Creating a Database User for Workload Intelligence</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Create a new Workload Intelligence job by running the <code class="codeph">LoadInfo</code> Java program, as described in <span class="q">"<a href="using-workload-intelligence.html#GUID-CDC3AF64-CABC-47AE-955B-2D9ACF9A154C" title="To create a Workload Intelligence job, use the LoadInfo program.">Creating a Workload Intelligence Job</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Generate a model that describes the workload by running the <code class="codeph">BuildModel</code> Java program, as described in <span class="q">"<a href="using-workload-intelligence.html#GUID-9C93CD84-DCD9-4AB0-BB3D-57A0B7CEF490" title="To generate a workload model, use the BuildModel program.">Generating a Workload Model</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Identify patterns in templates that occur in the workload by running the <code class="codeph">FindPatterns</code> Java program, as described in <span class="q">"<a href="using-workload-intelligence.html#GUID-A7979494-2349-46CD-9CC7-7B95D378F9F3" title="To identify patterns in a workload, use the FindPatterns program.">Identifying Patterns in a Workload</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Generate a report to display the results by running the <code class="codeph">GenerateReport</code> Java program, as described in <span class="q">"<a href="using-workload-intelligence.html#GUID-9D2983B3-F36A-4F32-9317-4DFD12173E7D" title="To generate a Workload Intelligence report, use the GenerateReport program.">Generating a Workload Intelligence Report</a>"</span>.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div><a id="RATUG4182"></a><a id="RATUG4181"></a><div class="props_rev_3"><a id="GUID-84688CA4-EFA5-4444-B957-21C80CBBADA7" name="GUID-84688CA4-EFA5-4444-B957-21C80CBBADA7"></a><h4 id="RATUG-GUID-84688CA4-EFA5-4444-B957-21C80CBBADA7" class="sect4"><span class="enumeration_section">14.2.1 </span>Creating a Database User for Workload Intelligence
                  </h4>
                  <div>
                     <p>Before using Workload Intelligence, first create a database user with the appropriate privileges.</p>
                     <div class="section">
                        <p><a href="using-workload-intelligence.html#GUID-84688CA4-EFA5-4444-B957-21C80CBBADA7__CDEBGGCE">Example 14-1</a> shows how to create a database user that can use Workload Intelligence.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-84688CA4-EFA5-4444-B957-21C80CBBADA7__CDEBGGCE">
                        <p class="titleinexample">Example 14-1 Creating a Database User for Workload Intelligence</p><pre class="oac_no_warn" dir="ltr">create user workintusr identified by <span class="italic">password</span>;
grant create session to workintusr;
grant select,insert,alter on WI$_JOB to workintusr;
grant insert,alter on WI$_TEMPLATE to workintusr;
grant insert,alter on WI$_STATEMENT to workintusr;
grant insert,alter on WI$_OBJECT to workintusr;
grant insert,alter on WI$_CAPTURE_FILE to workintusr;
grant select,insert,alter on WI$_EXECUTION_ORDER to workintusr;
grant select,insert,update,delete,alter on WI$_FREQUENT_PATTERN to workintusr;
grant select,insert,delete,alter on WI$_FREQUENT_PATTERN_ITEM to workintusr;
grant select,insert,delete,alter on WI$_FREQUENT_PATTERN_METADATA to workintusr;
grant select on WI$_JOB_ID to workintusr;
grant execute on DBMS_WORKLOAD_REPLAY to workintusr;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="RATUG4184"></a><a id="RATUG4183"></a><div class="props_rev_3"><a id="GUID-CDC3AF64-CABC-47AE-955B-2D9ACF9A154C" name="GUID-CDC3AF64-CABC-47AE-955B-2D9ACF9A154C"></a><h4 id="RATUG-GUID-CDC3AF64-CABC-47AE-955B-2D9ACF9A154C" class="sect4"><span class="enumeration_section">14.2.2 </span>Creating a Workload Intelligence Job
                  </h4>
                  <div>
                     <div><span>To create a Workload Intelligence job, use the <code class="codeph">LoadInfo</code> program.</span> <code class="codeph">LoadInfo</code> is a Java program that creates a new task to apply the algorithms of Workload Intelligence. The program parses the data contained in a capture directory and stores the relevant information required for running Workload Intelligence in internal tables.
                     </div>
                     <div class="section">
                        <p>The <a id="d30301e896" class="indexterm-anchor"></a><code class="codeph">LoadInfo</code> program uses the following syntax:
                        </p><pre class="oac_no_warn" dir="ltr">java oracle.dbreplay.workload.intelligence.LoadInfo -cstr connection_string -user username -job job_name -cdir capture_directory

java oracle.dbreplay.workload.intelligence.LoadInfo -version

java oracle.dbreplay.workload.intelligence.LoadInfo -usage
</pre><p>The <a id="d30301e909" class="indexterm-anchor"></a><code class="codeph">LoadInfo</code> program supports the following options:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">-cstr</code></p>
                              <p>Specifies the JDBC connection string to the database where Workload Intelligence stores the information and intermediate results required for execution (for example, <code class="codeph">jdbc:oracle:thin@hostname:portnum:ORACLE_SID</code>)
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-user</code></p>
                              <p>Specifies the database username. The user must have certain privileges for using Workload Intelligence.</p>
                              <p>For information about creating a database user with the appropriate privileges, see <span class="q">"<a href="using-workload-intelligence.html#GUID-84688CA4-EFA5-4444-B957-21C80CBBADA7" title="Before using Workload Intelligence, first create a database user with the appropriate privileges.">Creating a Database User for Workload Intelligence</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-job</code></p>
                              <p>Specifies a name that uniquely identifies the Workload Intelligence job.</p>
                           </li>
                           <li>
                              <p><code class="codeph">-cdir</code></p>
                              <p>Specifies the operating system path of the capture directory to be analyzed by Workload Intelligence.</p>
                           </li>
                           <li>
                              <p><code class="codeph">-version</code></p>
                              <p>Displays the version information for the <code class="codeph">LoadInfo</code> program.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-usage</code></p>
                              <p>Displays the command-line options for the <code class="codeph">LoadInfo</code> program.
                              </p>
                           </li>
                        </ul>
                        <p><a href="using-workload-intelligence.html#GUID-CDC3AF64-CABC-47AE-955B-2D9ACF9A154C__CDEIGBCH">Example 14-2</a> shows how to create a workload intelligence job named <code class="codeph">wijobsales</code> using the <code class="codeph">LoadInfo</code> program.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-CDC3AF64-CABC-47AE-955B-2D9ACF9A154C__CDEIGBCH">
                        <p class="titleinexample">Example 14-2 Creating a Workload Intelligence Job</p><pre class="oac_no_warn" dir="ltr">java -classpath $ORACLE_HOME/rdbms/jlib/dbrintelligence.jar:
$ORACLE_HOME/rdbms/jlib/dbrparser.jar:
$ORACLE_HOME/jdbc/lib/ojdbc6.jar:
oracle.dbreplay.workload.intelligence.LoadInfo -job wijobsales -cdir
/test/captures/sales -cstr jdbc:oracle:thin:@myhost:1521:orcl -user workintusr</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="RATUG4186"></a><a id="RATUG4185"></a><div class="props_rev_3"><a id="GUID-9C93CD84-DCD9-4AB0-BB3D-57A0B7CEF490" name="GUID-9C93CD84-DCD9-4AB0-BB3D-57A0B7CEF490"></a><h4 id="RATUG-GUID-9C93CD84-DCD9-4AB0-BB3D-57A0B7CEF490" class="sect4"><span class="enumeration_section">14.2.3 </span>Generating a Workload Model
                  </h4>
                  <div>
                     <div><span>To generate a workload model, use the <code class="codeph">BuildModel</code> program.</span> <code class="codeph">BuildModel</code> is a Java program that reads data from a captured workload (this data must be generated by the <code class="codeph">LoadInfo</code> program) and generates a model that describes the workload. This model can then be used to identify frequent template patterns that occur in the workload.
                     </div>
                     <div class="section">
                        <p>The <a id="d30301e1087" class="indexterm-anchor"></a><code class="codeph">BuildModel</code> program uses the following syntax:
                        </p><pre class="oac_no_warn" dir="ltr">java oracle.dbreplay.workload.intelligence.BuildModel -cstr connection_string -user username -job job_name

java oracle.dbreplay.workload.intelligence.BuildModel -version

java oracle.dbreplay.workload.intelligence.BuildModel -usage
</pre><p>The <a id="d30301e1100" class="indexterm-anchor"></a><code class="codeph">BuildModel</code> program supports the following options:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">-cstr</code></p>
                              <p>Specifies the JDBC connection string to the database where Workload Intelligence stores the information and intermediate results required for execution (for example, <code class="codeph">jdbc:oracle:thin@hostname:portnum:ORACLE_SID</code>)
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-user</code></p>
                              <p>Specifies the database username. The user must have certain privileges for using Workload Intelligence.</p>
                              <p>For information about creating a database user with the appropriate privileges, see <span class="q">"<a href="using-workload-intelligence.html#GUID-84688CA4-EFA5-4444-B957-21C80CBBADA7" title="Before using Workload Intelligence, first create a database user with the appropriate privileges.">Creating a Database User for Workload Intelligence</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-job</code></p>
                              <p>Specifies a name that uniquely identifies the Workload Intelligence job.</p>
                           </li>
                           <li>
                              <p><code class="codeph">-version</code></p>
                              <p>Displays the version information for the <code class="codeph">BuildModel</code> program.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-usage</code></p>
                              <p>Displays the command-line options for the <code class="codeph">BuildModel</code> program.
                              </p>
                           </li>
                        </ul>
                        <p><a href="using-workload-intelligence.html#GUID-9C93CD84-DCD9-4AB0-BB3D-57A0B7CEF490__CDEECCCF">Example 14-3</a> shows how to generate a workload model using the <code class="codeph">BuildModel</code> program.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9C93CD84-DCD9-4AB0-BB3D-57A0B7CEF490__CDEECCCF">
                        <p class="titleinexample">Example 14-3 Generating a Workload Model</p><pre class="oac_no_warn" dir="ltr">java -classpath $ORACLE_HOME/rdbms/jlib/dbrintelligence.jar:
$ORACLE_HOME/rdbms/jlib/dbrparser.jar:
$ORACLE_HOME/jdbc/lib/ojdbc6.jar:
oracle.dbreplay.workload.intelligence.BuildModel -job wijobsales -cstr
jdbc:oracle:thin:@myhost:1521:orcl -user workintusr</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="RATUG4188"></a><a id="RATUG4187"></a><div class="props_rev_3"><a id="GUID-A7979494-2349-46CD-9CC7-7B95D378F9F3" name="GUID-A7979494-2349-46CD-9CC7-7B95D378F9F3"></a><h4 id="RATUG-GUID-A7979494-2349-46CD-9CC7-7B95D378F9F3" class="sect4"><span class="enumeration_section">14.2.4 </span>Identifying Patterns in a Workload
                  </h4>
                  <div>
                     <div><span>To identify patterns in a workload, use the <code class="codeph">FindPatterns</code> program.</span> <code class="codeph">FindPatterns</code> is a Java program that reads data from a captured workload (this data must be generated by the <code class="codeph">LoadInfo</code> program) and its corresponding workload model (the workload model must be generated by the <code class="codeph">BuildModel</code> program), and identifies frequent template patterns that occur in the workload.
                     </div>
                     <div class="section">
                        <p>The <a id="d30301e1278" class="indexterm-anchor"></a><code class="codeph">FindPatterns</code> program uses the following syntax:
                        </p><pre class="oac_no_warn" dir="ltr">java oracle.dbreplay.workload.intelligence.FindPatterns -cstr connection_string 
-user username -job job_name -t threshold

java oracle.dbreplay.workload.intelligence.FindPatterns -version

java oracle.dbreplay.workload.intelligence.FindPatterns -usage
</pre><p>The <a id="d30301e1291" class="indexterm-anchor"></a><code class="codeph">FindPatterns</code> program supports the following options:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">-cstr</code></p>
                              <p>Specifies the JDBC connection string to the database where Workload Intelligence stores the information and intermediate results required for execution (for example, <code class="codeph">jdbc:oracle:thin@hostname:portnum:ORACLE_SID</code>)
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-user</code></p>
                              <p>Specifies the database username. The user must have certain privileges for using Workload Intelligence.</p>
                              <p>For information about creating a database user with the appropriate privileges, see <span class="q">"<a href="using-workload-intelligence.html#GUID-84688CA4-EFA5-4444-B957-21C80CBBADA7" title="Before using Workload Intelligence, first create a database user with the appropriate privileges.">Creating a Database User for Workload Intelligence</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-job</code></p>
                              <p>Specifies a name that uniquely identifies the Workload Intelligence job.</p>
                           </li>
                           <li>
                              <p><code class="codeph">-t</code></p>
                              <p>Specifies a threshold probability that defines when a transition from one template to the next is part of the same pattern or the border between two patterns. Valid values include real numbers in the range [0.0, 1.0]. Setting this value is optional; its default value is <code class="codeph">0.5</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-version</code></p>
                              <p>Displays the version information for the <code class="codeph">FindPatterns</code> program.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-usage</code></p>
                              <p>Displays the command-line options for the <code class="codeph">FindPatterns</code> program.
                              </p>
                           </li>
                        </ul>
                        <p><a href="using-workload-intelligence.html#GUID-A7979494-2349-46CD-9CC7-7B95D378F9F3__CDEEBGHD">Example 14-4</a> shows how to identify frequent template patterns in a workload using the <code class="codeph">FindPatterns</code> program.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A7979494-2349-46CD-9CC7-7B95D378F9F3__CDEEBGHD">
                        <p class="titleinexample">Example 14-4 Identifying Patterns in a Workload</p><pre class="oac_no_warn" dir="ltr">java -classpath $ORACLE_HOME/rdbms/jlib/dbrintelligence.jar:
$ORACLE_HOME/rdbms/jlib/dbrparser.jar:
$ORACLE_HOME/jdbc/lib/ojdbc6.jar:
oracle.dbreplay.workload.intelligence.FindPatterns -job wijobsales -cstr
jdbc:oracle:thin:@myhost:1521:orcl -user workintusr -t 0.2</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="RATUG4190"></a><a id="RATUG4189"></a><div class="props_rev_3"><a id="GUID-9D2983B3-F36A-4F32-9317-4DFD12173E7D" name="GUID-9D2983B3-F36A-4F32-9317-4DFD12173E7D"></a><h4 id="RATUG-GUID-9D2983B3-F36A-4F32-9317-4DFD12173E7D" class="sect4"><span class="enumeration_section">14.2.5 </span>Generating a Workload Intelligence Report
                  </h4>
                  <div>
                     <div><span>To generate a Workload Intelligence report, use the <code class="codeph">GenerateReport</code> program.</span> <code class="codeph">GenerateReport</code> is a Java program that generates a report to display the results of Workload Intelligence. The Workload Intelligence report is an HTML page that displays the patterns identified in the workload.
                     </div>
                     <div class="section">
                        <p>The <a id="d30301e1473" class="indexterm-anchor"></a><code class="codeph">GenerateReport</code> program uses the following syntax:
                        </p><pre class="oac_no_warn" dir="ltr">java oracle.dbreplay.workload.intelligence.GenerateReport -cstr connection_string 
-user username -job job_name -top top_patterns -out filename

java oracle.dbreplay.workload.intelligence.GenerateReport -version

java oracle.dbreplay.workload.intelligence.GenerateReport -usage
</pre><p>The <a id="d30301e1486" class="indexterm-anchor"></a><code class="codeph">GenerateReport</code> program supports the following options:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">-cstr</code></p>
                              <p>Specifies the JDBC connection string to the database where Workload Intelligence stores the information and intermediate results required for execution (for example, <code class="codeph">jdbc:oracle:thin@hostname:portnum:ORACLE_SID</code>)
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-user</code></p>
                              <p>Specifies the database username. The user must have certain privileges for using Workload Intelligence.</p>
                              <p>For information about creating a database user with the appropriate privileges, see <span class="q">"<a href="using-workload-intelligence.html#GUID-84688CA4-EFA5-4444-B957-21C80CBBADA7" title="Before using Workload Intelligence, first create a database user with the appropriate privileges.">Creating a Database User for Workload Intelligence</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-job</code></p>
                              <p>Specifies a name that uniquely identifies the Workload Intelligence job.</p>
                           </li>
                           <li>
                              <p><code class="codeph">-top</code></p>
                              <p>Specifies a number that indicates how many patterns to display in the report. The patterns are ordered by different criteria (number of executions, DB time, and length) and only the defined number of top results are displayed. Setting this value is optional; its default value is <code class="codeph">10</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-out</code></p>
                              <p>Specifies the name of the file (in HTML format) where the report is stored. Setting this value is optional; its default value is based on the job name specified in the <code class="codeph">-job</code> option.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-version</code></p>
                              <p>Displays the version information for the <code class="codeph">GenerateReport</code> program.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-usage</code></p>
                              <p>Displays the command-line options for the <code class="codeph">GenerateReport</code> program.
                              </p>
                           </li>
                        </ul>
                        <p><a href="using-workload-intelligence.html#GUID-9D2983B3-F36A-4F32-9317-4DFD12173E7D__CDEBDCEG">Example 14-5</a> shows how to generate a Workload Intelligence report using the <code class="codeph">GenerateReport</code> program.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9D2983B3-F36A-4F32-9317-4DFD12173E7D__CDEBDCEG">
                        <p class="titleinexample">Example 14-5 Generating a Workload Intelligence Report</p><pre class="oac_no_warn" dir="ltr">java -classpath $ORACLE_HOME/rdbms/jlib/dbrintelligence.jar:
$ORACLE_HOME/rdbms/jlib/dbrparser.jar:
$ORACLE_HOME/jdbc/lib/ojdbc6.jar:
oracle.dbreplay.workload.intelligence.GenerateReport -job wijobsales -cstr
jdbc:oracle:thin:@myhost:1521:orcl -user workintusr -top 5 -out wijobsales.html</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="RATUG4192"></a><div class="props_rev_3"><a id="GUID-00E9BCAB-72F0-4B0D-A406-1E0FD85A29AE" name="GUID-00E9BCAB-72F0-4B0D-A406-1E0FD85A29AE"></a><h3 id="RATUG-GUID-00E9BCAB-72F0-4B0D-A406-1E0FD85A29AE" class="sect3"><span class="enumeration_section">14.3 </span>Example: Workload Intelligence Results
               </h3>
               <div>
                  <p>This section assumes a scenario where Workload Intelligence is used on a captured workload generated by Swingbench, a benchmark used for stress testing Oracle Database.</p>
                  <p>The most significant pattern discovered by Workload Intelligence consists of the following 6 templates:</p><pre class="oac_no_warn" dir="ltr">SELECT product_id, product_name, product_description, category_id, weight_class,
       supplier_id, product_status, list_price, min_price, catalog_url
  FROM product_information
 WHERE product_id = :1;
</pre><pre class="oac_no_warn" dir="ltr">SELECT p.product_id, product_name, product_description, category_id, weight_class,
       supplier_id, product_status, list_price, min_price, catalog_url,
       quantity_on_hand, warehouse_id
  FROM product_information p, inventories i
 WHERE i.product_id = :1 and i.product_id = p.product_id;
</pre><pre class="oac_no_warn" dir="ltr">INSERT INTO order_items (order_id, line_item_id, product_id, unit_price, quantity)
     VALUES (:1, :2, :3, :4, :5);
</pre><pre class="oac_no_warn" dir="ltr">UPDATE orders
   SET order_mode = :1, order_status = :2, order_total = :3
 WHERE order_id = :4;
</pre><pre class="oac_no_warn" dir="ltr">SELECT /*+ use_nl */ o.order_id, line_item_id, product_id, unit_price, quantity,
       order_mode, order_status, order_total, sales_rep_id, promotion_id,
       c.customer_id, cust_first_name, cust_last_name, credit_limit, cust_email
  FROM orders o, order_items oi, customers c
 WHERE o.order_id = oi.order_id
   AND o.customer_id = c.customer_id
   AND o.order_id = :1;
</pre><pre class="oac_no_warn" dir="ltr">UPDATE inventories
   SET quantity_on_hand = quantity_on_hand - :1
 WHERE product_id = :2
   AND warehouse_id = :3;
</pre><p>This pattern corresponds to a common user action for ordering a product. In this example, the identified pattern was executed 222,261 times (or approximately 8.21% of the total number of executions) and consumed 58,533.70 seconds of DB time (or approximately 11.21% of total DB time). </p>
                  <p>Another significant pattern discovered by Workload Intelligence in this example consists of the following 4 templates:</p><pre class="oac_no_warn" dir="ltr">SELECT customer_seq.nextval
  FROM dual;
</pre><pre class="oac_no_warn" dir="ltr">INSERT INTO customers (customer_id, cust_first_name, cust_last_name, nls_language,
                       nls_territory, credit_limit, cust_email, account_mgr_id)
     VALUES (:1, :2, :3, :4, :5, :6, :7, :8);
</pre><pre class="oac_no_warn" dir="ltr">INSERT INTO logon
     VALUES (:1, :2);
</pre><pre class="oac_no_warn" dir="ltr">SELECT customer_id, cust_first_name, cust_last_name, nls_language, nls_territory,
       credit_limit, cust_email, account_mgr_id
  FROM customers
 WHERE customer_id = :1;
</pre><p>This pattern corresponds to the creation of a new customer account followed by a login in the system. In this example, the identified pattern was executed 90,699 times (or approximately 3.35% of the total number of executions) and consumed 17,484.97 seconds of DB time (or approximately 3.35% of total DB time).</p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>