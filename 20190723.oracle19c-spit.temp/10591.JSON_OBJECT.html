<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>JSON_OBJECT</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="JSON_MERGEPATCH.html" title="Previous" type="text/html">
      <link rel="next" href="JSON_OBJECTAGG.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="JSON_MERGEPATCH.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="JSON_OBJECTAGG.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">JSON_OBJECT</li>
            </ol>
            <a id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370" name="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370"></a>
            
            <h2 id="SQLRF-GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370" class="sect2">JSON_OBJECT</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-42D8EC6F-02ED-43B0-9F9F-D15644606ECE">Syntax</p>
                  <div class="figure" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-71684475-798C-4141-AE07-6E1940330D52"><img src="img/json_object.gif" alt="Description of json_object.eps follows" title="Description of json_object.eps follows" longdesc="img_text/json_object.html"><br><a href="img_text/json_object.html">Description of the illustration json_object.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-2FC3674D-69E8-4329-81FE-596BC11105C7"><span class="italic">json_object_content</span>::=
                  </p><br><div class="imageleft"><img class="imageleft" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__IMAGE_UG4_3KY_1GB" src="img/json_object_content.gif" alt="Description of json_object_content.eps follows" title="Description of json_object_content.eps follows" longdesc="img_text/json_object_content.html"><br><a href="img_text/json_object_content.html">Description of the illustration json_object_content.eps</a></div><br></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-4AE1F349-11F9-44F6-B267-F5C997F4FBBC"><span class="italic">entry</span>::=
                  </p><br><div class="imageleft"><img class="imageleft" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__IMAGE_Y35_VKY_1GB" src="img/entry.gif" alt="Description of entry.eps follows" title="Description of entry.eps follows" longdesc="img_text/entry.html"><br><a href="img_text/entry.html">Description of the illustration entry.eps</a></div><br></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-E53C0458-5A56-4A52-9CB8-89DB5695AB20"><span class="italic">regular_entry</span>::=
                  </p><br><div class="imageleft"><img class="imageleft" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__IMAGE_IB5_ZKY_1GB" src="img/regular_entry.gif" alt="Description of regular_entry.eps follows" title="Description of regular_entry.eps follows" longdesc="img_text/regular_entry.html"><br><a href="img_text/regular_entry.html">Description of the illustration regular_entry.eps</a></div><br></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-A7606160-B190-479B-955E-0E9FC5507853"><span class="italic">format_clause</span>::=
                  </p><br><div class="imageleft"><img class="imageleft" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__IMAGE_Y2V_KLY_1GB" src="img/format_clause.gif" alt="Description of format_clause.eps follows" title="Description of format_clause.eps follows" longdesc="img_text/format_clause.html"><br><a href="img_text/format_clause.html">Description of the illustration format_clause.eps</a></div><br></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-9A458793-C3BB-405F-A14F-85D212C9A9B6"><span class="italic">wildcard</span>::=
                  </p><br><div class="imageleft"><img class="imageleft" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__IMAGE_I5T_NLY_1GB" src="img/wildcard.gif" alt="Description of wildcard.eps follows" title="Description of wildcard.eps follows" longdesc="img_text/wildcard.html"><br><a href="img_text/wildcard.html">Description of the illustration wildcard.eps</a></div><br></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-5B4985A6-E2D3-4C86-BB86-5D0DE746AD9F"><span class="italic">JSON_on_null_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-2141BA86-F041-45CD-8F50-96D6FEE11E1E"><img src="img/json_on_null_clause.gif" alt="Description of json_on_null_clause.eps follows" title="Description of json_on_null_clause.eps follows" longdesc="img_text/json_on_null_clause.html"><br><a href="img_text/json_on_null_clause.html">Description of the illustration json_on_null_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-94D56DDD-5604-4499-8C70-814671A70A3B"><span class="italic">JSON_returning_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-8EBDC886-FBF6-4EA0-9B4D-444F975B4994"><img src="img/json_returning_clause.gif" alt="Description of json_returning_clause.eps follows" title="Description of json_returning_clause.eps follows" longdesc="img_text/json_returning_clause.html"><br><a href="img_text/json_returning_clause.html">Description of the illustration json_returning_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-FC1EC04E-F4AE-48CE-9876-A7A32A831EF1">Purpose</p>
                  <p>The SQL/JSON function <code class="codeph">JSON_OBJECT</code> takes as its input either a sequence of key-value pairs or one object type instance. A collection type cannot be passed to <code class="codeph">JSON_OBJECT</code>. 
                  </p>
                  <p>It returns a JSON object that contains an object member for each of those key-value pairs.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-23444EF5-138F-4602-8D56-ED8691DD3005"><span class="italic">entry</span></p>
                  <p><code class="codeph"><span class="codeinlineitalic">regular_entry</span></code>: Use this clause to specify a property key-value pair.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-6E31E24E-EEC3-4223-A4C4-0F5C7C087923"><span class="italic">regular_entry</span></p>
                  <ul style="list-style-type: disc;" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__UL_UDV_ZJZ_1GB">
                     <li>
                        <p><code class="codeph">KEY</code> is optional and is provided for semantic clarity.
                        </p>
                     </li>
                     <li>
                        <p>Use the optional <span class="italic"><code class="codeph">expr</code></span> to specify the property key name as a case-sensitive text literal.
                        </p>
                     </li>
                     <li>
                        <p>Use <span class="italic"><code class="codeph">expr</code></span> to specify the property value. For <span class="italic"><code class="codeph">expr</code></span>, you can specify any expression that evaluates to a SQL numeric literal, text literal, date, or timestamp. The date and timestamp data types are printed in the generated JSON object or array as JSON strings following the ISO date format. If <span class="italic"><code class="codeph">expr</code></span> evaluates to a numeric literal, then the resulting property value is a JSON number value; otherwise, the resulting property value is a case-sensitive JSON string value enclosed in double quotation marks.
                        </p>
                        <p>You can use the colon to separate <code class="codeph">JSON_OBJECT</code> entries.
                        </p>
                        <p><span class="bold">Example </span></p><pre class="pre codeblock"><code>SELECT JSON_OBJECT(
'name' : first_name || ' ' || last_name,
'email' : email,
'phone' : phone_number,
'hire_date' : hire_date
)
FROM employees
WHERE employee_id = 140;</code></pre></li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-BA450599-5A02-4331-8C4E-5BD393D4CAD2"><span class="italic">format_clause</span></p>
                  <p>Use the optional clause <code class="codeph">FORMAT JSON</code> to indicate that the input string is JSON, and will therefore not be quoted in the output.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-0452AF21-1F13-473F-849D-EFE54C6C0F88"><span class="italic">wildcard</span></p>
                  <p>Wildcard entries select multiple columns and can take the form of *, table.*, view.*, or t_alias.*. Use wildcard entries to map all the columns from a table, subquery, or view to a JSON object without explicitly naming all of the columns in the query. In this case wildcard entries are used in the same way that they are used directly in a select_list. </p>
                  <p><span class="bold">Example 1</span></p>
                  <p>In the resulting JSON object, the key names are equal to the names of the corresponding columns. </p><pre class="pre codeblock"><code>SELECT JSON_OBJECT(*)
FROM employees
WHERE employee_id = 140;</code></pre><p><span class="bold">Output 1</span></p><pre class="pre codeblock"><code>{"EMPLOYEE_ID":140,"FIRST_NAME":"Joshua","LAST_NAME":"Patel","EMAIL":"JPAT
EL","PHONE_NUMBER":"650.121.1834","HIRE_DATE":"2006-04-
06T00:00:00","JOB_ID":"ST_CLERK","SALARY":2500,"COMMISSION_PCT":null,"MAN
AGER_ID":123,"DEPARTMENT_ID":50}</code></pre><p><span class="bold">Example 2</span></p>
                  <p>This query selects columns from a specific table in a join query.</p><pre class="pre codeblock"><code>SELECT JSON_OBJECT('NAME' VALUE first_name, d.*)
FROM employees e, departments d
WHERE e.department_id = d.department_id
AND e.employee_id =140</code></pre><p><span class="bold">Example 3</span></p>
                  <p>This query converts the departments table to a single JSON array value.</p><pre class="pre codeblock"><code>SELECT JSON_ARRAYAGG(JSON_OBJECT(*))
FROM departments</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-183D7C7C-049E-4333-83C9-9A1F4ABC7547"><span class="italic">JSON_on_null_clause</span></p>
                  <p>Use this clause to specify the behavior of this function when <span class="italic"><code class="codeph">expr</code></span> evaluates to null.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <div class="p"><code class="codeph">NULL</code> <code class="codeph">ON</code> <code class="codeph">NULL</code> - When NULL ON NULL is specified, then a JSON NULL value is used as a value for the given key. <pre class="pre codeblock"><code>SELECT JSON_OBJECT('key1' VALUE NULL) &nbsp;evaluates to  {"key1" : &nbsp;null}</code></pre></div>
                     </li>
                     <li>
                        <p><code class="codeph">ABSENT</code> <code class="codeph">ON</code> <code class="codeph">NULL</code> - If you specify this clause, then the function omits the property key-value pair from the JSON object.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-A7530CBD-72B0-4CAD-B2C1-71542E2D41E0"><span class="italic">JSON_returning_clause</span></p>
                  <p>Use this clause to specify the type of return value. One of :</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">VARCHAR2</code> specifying the size as a number of bytes or characters. The default is bytes. If you omit this clause, or specify the clause without specifying the <span class="italic"><code class="codeph">size</code></span> value, then <code class="codeph">JSON_ARRAY</code> returns a character string of type <code class="codeph">VARCHAR2(4000)</code>. Refer to <a href="Data-Types.html#GUID-0DC7FFAA-F03F-4448-8487-F2592496A510">VARCHAR2 Data Type</a> for more information. Note that when specifying the <code class="codeph">VARCHAR2</code> data type elsewhere in SQL, you are required to specify a size. However, in the <span class="italic"><code class="codeph">JSON_returning_clause</code></span> you can omit the size.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">CLOB</code> to return a character large object containing single-byte or multi-byte characters.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">BLOB</code> to return a binary large object of the <code class="codeph">AL32UTF8</code> character set.
                        </p>
                     </li>
                     <li><code class="codeph">WITH TYPENAME</code></li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__STRICT-9BAEBF9E">STRICT</p>
                  <p>Specify the <code class="codeph">STRICT</code> clause to verify that the output of the JSON generation function is correct JSON. If the check fails, a syntax error is raised.
                  </p>
                  <p><span class="bold">Example 1: Output string appears within quotes, because <code class="codeph">FORMAT JSON</code> is not used</span></p><pre class="pre codeblock"><code>SELECT JSON_OBJECT ('name' value 'Foo') FROM DUAL
Output:
JSON_OBJECT('NAME'VALUE'FOO'FORMATJSON)
-------------------------------------------------
{"name":"Foo"}</code></pre><p><span class="bold">Example 2: No quotes around output string when <code class="codeph">FORMAT JSON</code> is used.</span> 
                  </p><pre class="pre codeblock"><code>SELECT JSON_OBJECT ('name' value 'Foo' FORMAT JSON ) FROM DUAL
Output:
JSON_OBJECT('NAME'VALUE'FOO'FORMATJSON)
-------------------------------------------------
{"name":Foo}</code></pre><p><span class="bold">Example 3: JSON Syntax error when <code class="codeph">FORMAT JSON STRICT</code> is used.</span></p><pre class="pre codeblock"><code>SELECT JSON_OBJECT ('name' value 'Foo' FORMAT JSON STRICT ) FROM DUAL
Output:
ORA-40441: JSON syntax error</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-1691AF88-DA86-41C6-8BA3-63227FB23672">WITH UNIQUE KEYS</p>
                  <p>Specify <code class="codeph">WITH UNIQUE KEYS</code> to guarantee that generated JSON objects have unique keys.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-4223C69A-DF43-496A-84A0-DAFB72F01A5E">Example</p>
                  <p>The following example returns JSON objects that each contain two property key-value pairs:</p><pre class="pre codeblock"><code>SELECT JSON_OBJECT (
    KEY 'deptno' VALUE d.department_id,
    KEY 'deptname' VALUE d.department_name 
    ) "Department Objects"
  FROM departments d
  ORDER BY d.department_id;

Department Objects
----------------------------------------
{"deptno":10,"deptname":"Administration"}
{"deptno":20,"deptname":"Marketing"}
{"deptno":30,"deptname":"Purchasing"}
{"deptno":40,"deptname":"Human Resources"}
{"deptno":50,"deptname":"Shipping"}
. . .</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-EE47EA05-39CD-4433-8898-62B00355CEB5"><span class="italic">JSON_OBJECT Column Entries</span></p>
                  <p>In some cases you might want to have JSON object key names match the names of the table columns to avoid repeating the column name in the key value expression. For example:</p><pre class="pre codeblock"><code>SELECT JSON_OBJECT(
'first_name' VALUE first_name,
'last_name' VALUE last_name,
'email' VALUE email,
'hire_date' VALUE hire_date
)
FROM employees
WHERE employee_id = 140;

{"first_name":"Joshua","last_name":"Patel","email":"JPATEL","hire_date":"2006-04-
06T00:00:00"}</code></pre><p>In such cases you can use a shortcut, where a single column value may be specified as input and the corresponding object entry key is inferred from the name of the column. For example: </p><pre class="pre codeblock"><code>SELECT JSON_OBJECT(first_name, last_name, email, hire_date)
FROM employees
WHERE employee_id = 140; 

{"first_name":"Joshua","last_name":"Patel","email":"JPATEL","hire_date":"2006-04-
06T00:00:00"}</code></pre><p>You can use quoted or non-quoted identifiers for column names. If you use non-quoted identifiers, then the case-sensitive value of the identifier, as written in the query, is used to generate the corresponding object key value. However for the purpose of referencing the column value, the identifier is still case-insensitive. For example:</p><pre class="pre codeblock"><code>SELECT JSON_OBJECT(eMail)
FROM employees
WHERE employee_id = 140

{"eMail":"JPATEL"}</code></pre><p>Notice that the capital 'M' as typed in the column name is preserved.</p>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>