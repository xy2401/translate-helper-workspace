<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can create a PDB as a proxy PDB by referencing it in a remote CDB.">
      <meta name="description" content="You can create a PDB as a proxy PDB by referencing it in a remote CDB.">
      <title>Creating a PDB as a Proxy PDB</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator’s Guide ">
      <meta property="og:description" content="You can create a PDB as a proxy PDB by referencing it in a remote CDB.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="multitenant-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-20T09:59:22-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2017, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96136-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="plugging-in-a-pdb.html" title="Previous" type="text/html">
      <link rel="next" href="removing-a-pdb.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Multitenant Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="MULTI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="plugging-in-a-pdb.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="removing-a-pdb.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="creating-pdbs.html" property="item" typeof="WebPage"><span property="name">Creating and Removing PDBs and Application Containers</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Creating a PDB as a Proxy PDB</li>
            </ol>
            <a id="GUID-7C23D560-5AD5-4AF2-93B4-F4FDC6DE768C" name="GUID-7C23D560-5AD5-4AF2-93B4-F4FDC6DE768C"></a>
            
            <h2 id="MULTI-GUID-7C23D560-5AD5-4AF2-93B4-F4FDC6DE768C" class="sect2"><span class="enumeration_chapter">10 </span>Creating a PDB as a Proxy PDB
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>You can create a PDB as a proxy PDB by referencing it in a remote CDB.</p>
               <p>This chapter contains the following topics:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="creating-a-proxy-pdb.html#GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1">About Creating a Proxy PDB</a><br>A <strong class="term">proxy PDB</strong>&nbsp;provides access to a PDB in a remote CDB.&nbsp;It is analogous to a symbolic link.
                  </li>
                  <li class="ulchildlink"><a href="creating-a-proxy-pdb.html#GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82">Creating a Proxy PDB</a><br>Create a proxy PDB by referencing a PDB in a different CDB.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="creating-pdbs.html#GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413" title="You can create PDBs, application containers, and application seeds using a variety of techniques.">Creating and Removing PDBs and Application Containers</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1" name="GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1"></a><h3 id="MULTI-GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1" class="sect3"><span class="enumeration_section">10.1 </span>About Creating a Proxy PDB
               </h3>
               <div>
                  <p>A <strong class="term">proxy PDB</strong>&nbsp;provides access to a PDB in a remote CDB.&nbsp;It is analogous to a symbolic link.
                  </p>
                  <p>The <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement creates a proxy PDB by referencing a PDB in a different CDB, which is called the <strong class="term">referenced PDB</strong>. You can use a proxy PDB when you want a local context for a remote PDB. In addition, when application containers in different CDBs have the same application, you can keep their application roots synchronized with a proxy PDB.
                  </p>
                  <p>To use this technique, run the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement in the CDB that will contain the proxy PDB. You must include:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">AS PROXY</code> clause to specify that you are creating a proxy PDB.
                        </p>
                     </li>
                     <li>
                        <p>A <code class="codeph">FROM</code> clause that specifies the PDB that the proxy PDB is referencing.
                        </p>
                     </li>
                     <li>
                        <p>A database link to the current location of the referenced PDB in the <code class="codeph">FROM</code> clause. The database link must be created in the root of the CDB that will contain the proxy PDB, and the database link connects either to the root of remote CDB or to the remote referenced PDB.
                        </p>
                     </li>
                  </ul>
                  <p>The following figure illustrates how this technique creates a proxy PDB that references a PDB in a remote CDB.</p>
                  <div class="figure" id="GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1__CREATEAVIEWPDB-5C5BDF58">
                     <p class="titleinfigure">Figure 10-1 Create a Remote Proxy PDB</p><img src="img/admin110.png" alt="Description of Figure 10-1 follows" title="Description of Figure 10-1 follows" longdesc="img_text/admin110.html"><br><a href="img_text/admin110.html">Description of "Figure 10-1 Create a Remote Proxy PDB"</a></div>
                  <!-- class="figure" -->
                  <p>You can create a proxy PDB in an application container. To do so, the referenced PDB must be an application root or an application PDB in an application container in a different CDB.  The database link must be created in the root of the application container that will contain the proxy PDB, and the database link connects either to the root of remote application container or to the remote referenced application PDB.</p>
                  <p>The following graphic illustrates how this technique creates a proxy PDB in an application container based on a remote referenced PDB in an application container.</p>
                  <div class="figure" id="GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1__GUID-679CB43C-A8CD-4041-8C7E-1EA9E9E2F0B9">
                     <p class="titleinfigure">Figure 10-2 Create a Remote Proxy PDB in an Application Container</p><img src="img/admin118.png" alt="Description of Figure 10-2 follows" title="Description of Figure 10-2 follows" longdesc="img_text/admin118.html"><br><a href="img_text/admin118.html">Description of "Figure 10-2 Create a Remote Proxy PDB in an Application Container"</a></div>
                  <!-- class="figure" -->
                  <p>Before creating a proxy PDB, address the questions that apply to creating a proxy PDB in <span class="q">"<a href="overview-of-pdb-creation.html#GUID-87F21FDE-7115-4207-954E-B229C1879EF6__GUID-57A2E4B5-E8EB-4294-95C2-A3E04AF93D8C" title="This table describes each clause and when to use each clause.">Table 5-3</a>"</span>. The table describes which <code class="codeph">CREATE PLUGGABLE DATABASE</code> clauses you must specify based on different factors.
                  </p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="creating-a-proxy-pdb.html#GUID-78D8F909-677F-4AD7-A006-7B47AF2EC0BC">Proxy PDBs and SQL Statements</a><br>As a rule, when the proxy PDB is the current container, SQL statements submitted for execution in the proxy PDB are executed in the referenced PDB.
                     </li>
                     <li class="ulchildlink"><a href="creating-a-proxy-pdb.html#GUID-19BB54E7-4388-4948-A7E0-15B980AEED41">Proxy PDBs and Database Links</a><br>A database link is required when you create a proxy PDB. 
                     </li>
                     <li class="ulchildlink"><a href="creating-a-proxy-pdb.html#GUID-907A1473-32A6-4571-A752-FAFFB0172BE5">Proxy PDBs and Authentication</a><br>Only password authentication is supported for sessions in a proxy PDB.
                     </li>
                     <li class="ulchildlink"><a href="creating-a-proxy-pdb.html#GUID-DD9D3AD6-BB00-43B1-9C16-94E670777EAB">Proxy PDBs and the Listener</a><br>The host name and port number settings for a PDB are important only if proxy PDBs will reference the PDB. 
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1__GUID-0D128A0B-3EF1-4B66-A522-1DCAAA9B2408">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="overview-of-pdb-creation.html#GUID-59F42929-7237-4371-8934-921B46DB6F31" title="However you choose to create a PDB, you must decide on the tablespaces and files that will store the data.">PDB Storage</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-7D442C17-28E6-4337-8EF5-6930FBC0BCC8" title="When application containers in different CDBs have the same application, their application roots can be kept synchronized by creating a master application root, a replica application root, and a proxy PDB.">Synchronizing an Application Root Replica with a Proxy PDB</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="creating-a-proxy-pdb.html#GUID-7C23D560-5AD5-4AF2-93B4-F4FDC6DE768C" title="You can create a PDB as a proxy PDB by referencing it in a remote CDB.">Creating a PDB as a Proxy PDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-78D8F909-677F-4AD7-A006-7B47AF2EC0BC" name="GUID-78D8F909-677F-4AD7-A006-7B47AF2EC0BC"></a><h4 id="MULTI-GUID-78D8F909-677F-4AD7-A006-7B47AF2EC0BC" class="sect4"><span class="enumeration_section">10.1.1 </span>Proxy PDBs and SQL Statements
                  </h4>
                  <div>
                     <p>As a rule, when the proxy PDB is the current container, SQL statements submitted for execution in the proxy PDB are executed in the referenced PDB.</p>
                     <p>The results of the remote execution are returned to the proxy PDB. For example, data definition language (DDL) statements, data manipulation language (DML) statements, and queries executed in the proxy PDB are sent to the referenced PDB for execution, and the results are returned to the proxy PDB.</p>
                     <p>There is one exception to the rule. When the proxy PDB is the current container, and when you execute <code class="codeph">ALTER PLUGGABLE DATABASE</code> and <code class="codeph">ALTER DATABASE</code> statements, these statements only affect the proxy PDB. They are not sent to the referenced PDB for execution. Similarly, when the current container is the root to which the proxy PDB belongs, <code class="codeph">ALTER PLUGGABLE DATABASE</code> statements only affect the proxy PDB. For example, an <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement executed in a CDB root, application root, or proxy PDB can open or close a proxy PDB, but this statement does not open or close the referenced PDB.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="creating-a-proxy-pdb.html#GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1" title="A proxy PDB&nbsp;provides access to a PDB in a remote CDB.&nbsp;It is analogous to a symbolic link.">About Creating a Proxy PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-19BB54E7-4388-4948-A7E0-15B980AEED41" name="GUID-19BB54E7-4388-4948-A7E0-15B980AEED41"></a><h4 id="MULTI-GUID-19BB54E7-4388-4948-A7E0-15B980AEED41" class="sect4"><span class="enumeration_section">10.1.2 </span>Proxy PDBs and Database Links
                  </h4>
                  <div>
                     <p>A database link is required when you create a proxy PDB. </p>
                     <p>After the proxy PDB is created, the database link specified during creation is no longer used by the proxy PDB. Instead, the proxy PDB communicates directly with the referenced PDB.</p>
                     <p>This direct communication requires the port number and host name of the listener of the CDB that contains the referenced PDB. During proxy PDB creation, the proxy PDB uses the following values by default:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Listener port number:</span> 1521
                           </p>
                           <p>If the referenced PDB’s listener does not use the default port number, then you must use the <code class="codeph">PORT</code> clause to specify the listener’s port number. You can specify the port number when you create the proxy PDB, or you can alter the proxy PDB to change the port number. 
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Listener host name:</span> The host name of the CDB that contains the referenced PDB
                           </p>
                           <p>If the referenced PDB’s listener does not use the default host name, then you must use the <code class="codeph">HOST</code> clause to specify the listener’s host name. You can specify the host name when you create the proxy PDB, or you can alter the proxy PDB to change the host name. 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="creating-a-proxy-pdb.html#GUID-DD9D3AD6-BB00-43B1-9C16-94E670777EAB" title="The host name and port number settings for a PDB are important only if proxy PDBs will reference the PDB.">Proxy PDBs and the Listener</a></li>
                           <li><a href="administering-pdbs-with-sql-plus.html#GUID-2AE424AE-D534-4E98-A17C-D50E6051D2F8" title="A PDB that is referenced by a proxy PDB is called a referenced PDB.">Modifying the Listener Settings of a Referenced PDB</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="creating-a-proxy-pdb.html#GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1" title="A proxy PDB&nbsp;provides access to a PDB in a remote CDB.&nbsp;It is analogous to a symbolic link.">About Creating a Proxy PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-907A1473-32A6-4571-A752-FAFFB0172BE5" name="GUID-907A1473-32A6-4571-A752-FAFFB0172BE5"></a><h4 id="MULTI-GUID-907A1473-32A6-4571-A752-FAFFB0172BE5" class="sect4"><span class="enumeration_section">10.1.3 </span>Proxy PDBs and Authentication
                  </h4>
                  <p>Only password authentication is supported for sessions in a proxy PDB.</p>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="creating-a-proxy-pdb.html#GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1" title="A proxy PDB&nbsp;provides access to a PDB in a remote CDB.&nbsp;It is analogous to a symbolic link.">About Creating a Proxy PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-DD9D3AD6-BB00-43B1-9C16-94E670777EAB" name="GUID-DD9D3AD6-BB00-43B1-9C16-94E670777EAB"></a><h4 id="MULTI-GUID-DD9D3AD6-BB00-43B1-9C16-94E670777EAB" class="sect4"><span class="enumeration_section">10.1.4 </span>Proxy PDBs and the Listener
                  </h4>
                  <div>
                     <p>The host name and port number settings for a PDB are important only if proxy PDBs will reference the PDB. </p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="creating-a-proxy-pdb.html#GUID-A751F0A6-2949-4E20-BE36-711E682EC53A">HOST Clause</a><br>The <code class="codeph">HOST</code> clause of the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement specifies the host name of the listener for the PDB being created.
                        </li>
                        <li class="ulchildlink"><a href="creating-a-proxy-pdb.html#GUID-62C98D1A-C4DC-4731-B3AB-6C6860B86921">PORT Clause</a><br>The <code class="codeph">PORT</code> clause of the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement specifies the port number of the listener for the PDB being created.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="creating-a-proxy-pdb.html#GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1" title="A proxy PDB&nbsp;provides access to a PDB in a remote CDB.&nbsp;It is analogous to a symbolic link.">About Creating a Proxy PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-A751F0A6-2949-4E20-BE36-711E682EC53A" name="GUID-A751F0A6-2949-4E20-BE36-711E682EC53A"></a><h5 id="MULTI-GUID-A751F0A6-2949-4E20-BE36-711E682EC53A" class="sect5"><span class="enumeration_section">10.1.4.1 </span>HOST Clause
                     </h5>
                     <div>
                        <p>The <code class="codeph">HOST</code> clause of the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement specifies the host name of the listener for the PDB being created.
                        </p>
                        <p>By default, the host name of the listener is the same as the host name of the PDB being created. Specify the <code class="codeph">HOST</code> clause when both of the following conditions are true:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The host name of the listener is different from the host name of the PDB being created.</p>
                           </li>
                           <li>
                              <p>You plan to create proxy PDBs that reference the PDB being created.</p>
                           </li>
                        </ul>
                        <p>A proxy PDB uses a database link to establish communication with its referenced PDB. After communication is established, the proxy PDB communicates directly with the referenced PDB without using a database link. The host name of the listener must be correct for the proxy PDB to function properly.</p>
                        <div class="example" id="GUID-A751F0A6-2949-4E20-BE36-711E682EC53A__GUID-697CC292-43B8-4C94-9063-3860FAF02504">
                           <p class="titleinexample">Example 10-1 HOST Clause</p><pre class="pre codeblock"><code>HOST='myhost.example.com'</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-A751F0A6-2949-4E20-BE36-711E682EC53A__GUID-A1D4D420-C38E-4348-89FA-D1EBE7B25A66">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="creating-a-proxy-pdb.html#GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1" title="A proxy PDB&nbsp;provides access to a PDB in a remote CDB.&nbsp;It is analogous to a symbolic link.">About Creating a Proxy PDB</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-2E668740-E91D-4DB8-B545-666D3F2C63DE" title="When the host name of the listener for a referenced PDB changes, you must run an ALTER PLUGGABLE DATABASE CONTAINERS HOST statement to reset the host name of the referenced PDB so that its proxy PDBs continue to function properly.">Altering the Listener Host Name of a Referenced PDB</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF-GUID-F2DBA8DD-EEA8-4BB7-A07F-78DC04DB1FFC" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn more about the <code class="codeph">HOST</code> clause
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-a-proxy-pdb.html#GUID-DD9D3AD6-BB00-43B1-9C16-94E670777EAB" title="The host name and port number settings for a PDB are important only if proxy PDBs will reference the PDB.">Proxy PDBs and the Listener</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-62C98D1A-C4DC-4731-B3AB-6C6860B86921" name="GUID-62C98D1A-C4DC-4731-B3AB-6C6860B86921"></a><h5 id="MULTI-GUID-62C98D1A-C4DC-4731-B3AB-6C6860B86921" class="sect5"><span class="enumeration_section">10.1.4.2 </span>PORT Clause
                     </h5>
                     <div>
                        <p>The <code class="codeph">PORT</code> clause of the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement specifies the port number of the listener for the PDB being created.
                        </p>
                        <p>By default, the port number of the listener for the PDB being created is 1521. Specify the <code class="codeph">PORT</code> clause when both of the following conditions are true:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The port number of the listener is not 1521.</p>
                           </li>
                           <li>
                              <p>You plan to create proxy PDBs that reference the PDB being created.</p>
                           </li>
                        </ul>
                        <p>A proxy PDB uses a database link to establish communication with its referenced PDB. After communication is established, the proxy PDB communicates directly with the referenced PDB without using a database link. The port number of the listener must be correct for the proxy PDB to function properly.</p>
                        <div class="example" id="GUID-62C98D1A-C4DC-4731-B3AB-6C6860B86921__GUID-697CC292-43B8-4C94-9063-3860FAF02504">
                           <p class="titleinexample">Example 10-2 PORT Clause</p><pre class="pre codeblock"><code>PORT=1599</code></pre><div class="infoboxnote" id="GUID-62C98D1A-C4DC-4731-B3AB-6C6860B86921__GUID-D20A0A40-8929-4676-B6DA-B4090E312755">
                              <p class="notep1">Note:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="creating-a-proxy-pdb.html#GUID-1BE60CFF-2F0D-4B7B-B745-CA87537156A1" title="A proxy PDB&nbsp;provides access to a PDB in a remote CDB.&nbsp;It is analogous to a symbolic link.">About Creating a Proxy PDB</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-2E668740-E91D-4DB8-B545-666D3F2C63DE" title="When the host name of the listener for a referenced PDB changes, you must run an ALTER PLUGGABLE DATABASE CONTAINERS HOST statement to reset the host name of the referenced PDB so that its proxy PDBs continue to function properly.">Altering the Listener Host Name of a Referenced PDB</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF-GUID-F2DBA8DD-EEA8-4BB7-A07F-78DC04DB1FFC" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn more about the <code class="codeph">PORT</code> clause
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-a-proxy-pdb.html#GUID-DD9D3AD6-BB00-43B1-9C16-94E670777EAB" title="The host name and port number settings for a PDB are important only if proxy PDBs will reference the PDB.">Proxy PDBs and the Listener</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82" name="GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82"></a><h3 id="MULTI-GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82" class="sect3"><span class="enumeration_section">10.2 </span>Creating a Proxy PDB
               </h3>
               <div>
                  <p>Create a proxy PDB by referencing a PDB in a different CDB.</p>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82__GUID-B9053E64-B08F-49CC-85EA-2568326B1CE0">Prerequisites</p>
                     <p>The following prerequisites must be met:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Complete the prerequisites described in <span class="q">"<a href="overview-of-pdb-creation.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" title="Before creating a PDB, you must meet certain prerequisites.">General Prerequisites for PDB Creation</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>The current user must have the <code class="codeph">CREATE PLUGGABLE DATABASE</code> system privilege in the root of the CDB in which the proxy PDB is being created.
                           </p>
                        </li>
                        <li>
                           <p>The CDB that contains the referenced PDB must be in local undo mode.</p>
                        </li>
                        <li>
                           <p>The CDB that contains the referenced PDB must be in <code class="codeph">ARCHIVELOG</code> mode.
                           </p>
                        </li>
                        <li>
                           <p>The referenced PDB must be in open read/write mode when the proxy PDB is created. The open mode of the referenced PDB can be changed after the proxy PDB is created.</p>
                        </li>
                        <li>
                           <p>A database link must enable a connection from the root of the CDB in which the proxy PDB is being created to the location of the referenced PDB. The database link can connect to either the root of the remote CDB or to the remote PDB. </p>
                        </li>
                        <li>
                           <p>If the database link connects to the root in a remote CDB that contains the referenced PDB, then the user that the database link connects with must be a common user.</p>
                        </li>
                        <li>
                           <p>If the database link connects to the referenced PDB, then the user that the database link connects with in the referenced PDB must have the <code class="codeph">CREATE PLUGGABLE DATABASE</code> system privilege.
                           </p>
                        </li>
                        <li>
                           <div class="p">If you are creating a proxy PDB in an application container, then the following prerequisites apply:
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The referenced PDB must be an application root or an application PDB in an application container.</p>
                                 </li>
                                 <li>
                                    <p>The application name and version of the proxy PDB’s application container must match the application name and version of the referenced PDB.</p>
                                 </li>
                                 <li>
                                    <p>When the proxy PDB is being created in an application container, a database link must enable a connection from the root of the application container in which the proxy PDB is being created to the location of the referenced PDB. The database link can connect to either the root of the remote application container or to the remote application PDB. </p>
                                 </li>
                                 <li>
                                    <p>If the database link connects to the root in a remote application container that contains the referenced PDB, then the user that the database link connects with must be an application common user.</p>
                                 </li>
                                 <li>
                                    <p>If the database link connects to the referenced application PDB, then the user that the database link connects with in the referenced application PDB must have the <code class="codeph">CREATE PLUGGABLE DATABASE</code> system privilege.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div class="infoboxnote" id="GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82__GUID-702EE7DE-BC4F-4D39-BCDF-AA74D86B3891">
                              <p class="notep1">Note:</p>You can create a proxy PDB in a CDB root that is based on a referenced PDB in an application container.
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82__GUID-C4A3DE1C-CC50-46D7-9D92-4BFF8D01A49E">To create a proxy PDB:</p>
                     <ol>
                        <li>
                           <p>In SQL*Plus, ensure that the current container is the CDB root or application root in which the proxy PDB is being created.</p>
                           <p>When the current container is the CDB root, the proxy PDB is created in the CDB. When the current container is an application root, the proxy PDB is created in the application container.</p>
                        </li>
                        <li>
                           <p>Run the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement. Specify the <code class="codeph">AS PROXY</code> clause, and specify the referenced PDB with the database link name in the <code class="codeph">FROM</code> clause. Specify other clauses when they are required.
                           </p> 
                           <p>After you create the proxy PDB, it is in mounted mode, and its status is <code class="codeph">NEW</code>. You can view the open mode of a PDB by querying the <code class="codeph">OPEN_MODE</code> column in the <code class="codeph">V$PDBS</code> view. You can view the status of a PDB by querying the <code class="codeph">STATUS</code> column of the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view.
                           </p>
                           <p>A new default service is created for the PDB. The service has the same name as the PDB and can be used to access the PDB. Oracle Net Services must be configured properly for clients to access this service.</p>
                        </li>
                        <li>
                           <p>Open the new PDB in read/write mode. </p>
                           <p>You must open the new PDB in read/write mode for Oracle Database to complete the integration of the new PDB into the CDB. An error is returned if you attempt to open the PDB in read-only mode. After the PDB is opened in read/write mode, its status is <code class="codeph">NORMAL</code>.
                           </p>
                        </li>
                        <li>
                           <p>Back up the PDB. </p>
                           <p>A PDB cannot be recovered unless it is backed up.</p>
                           <p></p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82__GUID-A9FFF8B4-5144-40E0-B701-6D2154BAD23D">
                        <p class="notep1">Note:</p>
                        <p>If an error is returned during creation of the proxy PDB, then the PDB being created might be in an <code class="codeph">UNUSABLE</code> state. You can check a PDB's state by querying the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view, and you can learn more about PDB creation errors by checking the alert log. An unusable PDB can only be dropped, and it must be dropped before a PDB with the same name as the unusable PDB can be created.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82__CEGHIBHC">
                     <p class="titleinexample">Example 10-3 Creating a Remote Proxy PDB</p>
                     <p>In this example, the root to which the new PDB belongs depends on the current container when the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement is run:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>When the current container is the CDB root, the new PDB is created in the CDB root.</p>
                        </li>
                        <li>
                           <p>When the current container is an application root in an application container, the new PDB is created as an application PDB in the application root.</p>
                        </li>
                     </ul>
                     <p>This example creates a remote proxy PDB named <code class="codeph">pdb1</code> given different factors. This example assumes the following factors:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The database link name to the referenced PDB’s CDB is <code class="codeph">pdb1_link</code>.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause and the <code class="codeph">CREATE_FILE_DEST</code> clause are not required.
                           </p>
                           <p>Either Oracle Managed Files is enabled, or the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is set. The <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> files will be copied to a new location based on the Oracle Managed Files configuration or the initialization parameter setting. 
                           </p>
                        </li>
                     </ul>
                     <p>Given the preceding factors, the following statement creates the <code class="codeph">pdb1</code> proxy PDB:
                     </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE pdb1 AS PROXY FROM pdb1@pdb1_link;
</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82__GUID-17FAFD16-C917-4786-B2C3-E07848EDE891">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8" title="You can configure a CDB to use local undo in every container or to use shared undo for the entire CDB.">About the CDB Undo Mode</a>"</span></li>
                        <li>
                           <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB.">About Container Access in a CDB</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of One or More PDBs</a>"</span></p>
                        </li>
                        <li>
                           <p><a href="../bradv/backing-up-database.html#BRADV428" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for information about backing up a PDB
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="creating-a-proxy-pdb.html#GUID-7C23D560-5AD5-4AF2-93B4-F4FDC6DE768C" title="You can create a PDB as a proxy PDB by referencing it in a remote CDB.">Creating a PDB as a Proxy PDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>