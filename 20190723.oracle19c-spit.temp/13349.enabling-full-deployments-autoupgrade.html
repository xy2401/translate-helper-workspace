<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="To enable a guaranteed restore point (GRP) so that you can flashback an upgrade, you must set up an archive, and you should complete other tasks to enable AutoUpgrade to complete the upgrade.">
      <meta name="description" content="To enable a guaranteed restore point (GRP) so that you can flashback an upgrade, you must set up an archive, and you should complete other tasks to enable AutoUpgrade to complete the upgrade.">
      <title>Enabling Full Deployments for AutoUpgrade</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Upgrade Guide">
      <meta property="og:description" content="To enable a guaranteed restore point (GRP) so that you can flashback an upgrade, you must set up an archive, and you should complete other tasks to enable AutoUpgrade to complete the upgrade.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Upgrade Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-upgrade-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-25T08:26:31-07:00">
      <meta name="dcterms.title" content="Database Upgrade Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96252-05">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="autoupgrade-log-file-structure.html" title="Previous" type="text/html">
      <link rel="next" href="how-to-use-autoupgrade-console.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="UPGRD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="autoupgrade-log-file-structure.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="how-to-use-autoupgrade-console.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Upgrade Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-autoupgrade-oracle-database-upgrades.html" property="item" typeof="WebPage"><span property="name">Using AutoUpgrade for Oracle Database Upgrades</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Enabling Full Deployments for AutoUpgrade</li>
            </ol>
            <a id="GUID-632ED90B-3116-49B6-AD49-75A0C47699B7" name="GUID-632ED90B-3116-49B6-AD49-75A0C47699B7"></a>
            
            <h2 id="UPGRD-GUID-632ED90B-3116-49B6-AD49-75A0C47699B7" class="sect2">Enabling Full Deployments for AutoUpgrade</h2>
         </header>
         <div class="ind">
            <div>
               <p>To enable a guaranteed restore point (GRP) so that you can flashback an upgrade, you must set up an archive, and you should complete other tasks to enable AutoUpgrade to complete the upgrade. </p>
               <div class="section">
                  <p>For AutoUpgrade to be able to perform a full deployment of the new release Oracle Database, the following must be true:</p>
               </div>
               <!-- class="section" -->
               <div class="section">draft
                  <ul style="list-style-type: disc;" id="GUID-632ED90B-3116-49B6-AD49-75A0C47699B7__UL_XKD_5GH_BHB">
                     <li>The source database initialization parameters file must specify a recovery location and size using the parameters <code class="codeph">DB_RECOVERY_FILE_DEST</code> and <code class="codeph">DB_RECOVERY_FILE_DEST_SIZE</code>. 
                     </li>
                     <li>If the backups were created using transparent encryption, and if a password-based software keystore was used, then the keystore password must be provided before the restore operation is performed, unless you have configured an auto-login software keystore is used.</li>
                     <li>Your source Oracle Database must be running in <code class="codeph">ARCHIVELOG</code> mode. 
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-632ED90B-3116-49B6-AD49-75A0C47699B7__GUID-3F663207-DD08-4B39-9A48-9E48F32D1227">
                     <p class="notep1">Note:</p>
                     <p>AutoUpgrade creates a guaranteed restore point (GRP) during Deploy processing mode. You do not need to have a previously defined guaranteed restore point. </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-632ED90B-3116-49B6-AD49-75A0C47699B7__GUID-E5BDBD41-10B3-43AF-B1FE-CACFCC7DF03B">
                  <p class="titleinexample">Example 3-3 Setting up Archive Logging Before Using AutoUpgrade </p><pre class="pre codeblock"><code>sqlplus / as sysdba 
shutdown immediate;
startup mount;
alter system set db_recovery_file_dest_size = 50g scope=both sid='*'; 
alter system set db_recovery_file_dest =' /tmp/db-home/fast_recovery_area' scope=both sid='*';
alter database archivelog;
alter database open;
alter pluggable database all open;
</code></pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-632ED90B-3116-49B6-AD49-75A0C47699B7__GUID-398FADD9-67FB-4902-950D-EE83F55B95E3">
                  <p class="titleinexample">Example 3-4 Password Files and Security Control Updates</p>
                  <p>During the upgrade, the AutoUpgrade utility copies the password from the source Oracle Database Oracle home to the target Oracle Database Oracle home. However, the copied password file retains the earlier release password control settings. To enforce stricter password controls, Oracle recommends that after the upgrade, you regenerate the password file in the target Oracle home.</p>
               </div>
               <!-- class="example" -->
               <div class="example" id="GUID-632ED90B-3116-49B6-AD49-75A0C47699B7__GUID-5F0F2F2F-662C-4716-8C2D-FAFE837220AD">
                  <p class="titleinexample">Example 3-5 Transparent Data Encryption and AutoUpgrade</p>
                  <p>To enable the AutoUpgrade utility to obtain the privileges required for copying transparent data encryption wallets, you must enable auto-login for these wallets so that AutoUpgrade can copy them to the target Oracle Database release. If you do not enable auto-login, then AutoUpgrade cannot complete the upgrade. </p>
                  <p>To start Oracle Wallet Manager:</p>
                  <ul style="list-style-type: disc;" id="GUID-632ED90B-3116-49B6-AD49-75A0C47699B7__UL_JWN_G5L_1HB">
                     <li>
                        <p>(Windows) Select <span class="uicontrol bold">Start</span>, then <span class="uicontrol bold">Programs</span>, then <span class="uicontrol bold">Oracle-<span class="variable" translate="no">Oracle-home</span></span> (where <span class="uicontrol bold"><span class="variable" translate="no">Oracle-home</span></span> is the source Oracle home, then <span class="uicontrol bold">Integrated Management Tools</span>, and then <span class="uicontrol bold">Wallet Manager</span>.
                        </p>
                     </li>
                     <li>
                        <p>(UNIX) At the command line, enter: this command</p><pre class="pre codeblock"><code>owm</code></pre></li>
                  </ul>
                  <p>To enable auto login:</p>
                  <ol id="GUID-632ED90B-3116-49B6-AD49-75A0C47699B7__OL_GJC_25L_1HB">
                     <li>
                        <p>Select <span class="uicontrol bold">Wallet</span> from the menu bar.
                        </p>
                     </li>
                     <li>
                        <p>Select <span class="uicontrol bold">AutoLogin</span>. A message at the bottom of the window indicates that auto login is enabled.
                        </p>
                     </li>
                  </ol>
               </div>
               <!-- class="example" -->
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="../dbimi/using-oracle-wallet-manager.html#DBIMI-GUID-697E8E89-8B85-47F4-86CA-724B5A4CEBB3" target="_blank"><span><cite>Oracle Database Enterprise User Security Administrator's Guide</cite></span></a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="using-autoupgrade-oracle-database-upgrades.html#GUID-71883C8C-7A34-4E93-8955-040CB04F2109" title="Learn how to use AutoUpgrade to simplify your upgrade tasks.">Using AutoUpgrade for Oracle Database Upgrades</a></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>