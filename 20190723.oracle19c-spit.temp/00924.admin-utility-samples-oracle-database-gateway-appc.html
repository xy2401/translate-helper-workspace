<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Administration Utility Samples</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-appc-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T18:35:49-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="F18239-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="tip-internals-oracle-database-gateway-appc.html" title="Previous" type="text/html">
      <link rel="next" href="book-index.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC User's Guide">
    <meta name="dcterms.isVersionOf" content="APPUG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="tip-internals-oracle-database-gateway-appc.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="book-index.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Administration Utility Samples</li>
            </ol>
            <a id="GUID-AA9B8762-BDAF-4EED-A8B0-09F8A937F04E" name="GUID-AA9B8762-BDAF-4EED-A8B0-09F8A937F04E"></a><a id="APPUG150"></a>
            
            <h2 id="APPUG-GUID-AA9B8762-BDAF-4EED-A8B0-09F8A937F04E" class="sect2"><span class="enumeration_appendix">F </span> Administration Utility Samples
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Use the following sample input statements and report output for the Procedural Gateway Administration Utility to guide you in designing your own PGAU statements.<a id="d53193e30" class="indexterm-anchor"></a></p>
               <p>Sample PGAU statements:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-F0ACAA50-16F8-4C5C-83FE-C0D280981772">Sample PGAU DEFINE DATA Statements</a></p>
                  </li>
                  <li>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-336981E2-C7F9-47C1-8B18-330187556305">Sample PGAU DEFINE CALL Statements</a></p>
                  </li>
                  <li>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-C8F9DE40-9DE6-4F49-A765-BFFDEC3065F9">Sample PGAU DEFINE TRANSACTION Statement</a></p>
                  </li>
                  <li>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-75207651-22BF-4217-92DF-BD011A36EAFD">Sample PGAU GENERATE Statement</a></p>
                  </li>
                  <li>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-8EB40440-35A8-4194-BF66-BC9699C0097E">Sample Implicit Versioning Definitions</a></p>
                  </li>
                  <li>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-0F47ACBD-1DA1-47FA-9DA8-E99009371612">Sample PGAU REDEFINE DATA Statements</a></p>
                  </li>
                  <li>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-F7D4B8F8-B8BF-446C-A6BF-2EACEEDEAD80">Sample PGAU UNDEFINE Statements</a></p>
                  </li>
               </ul>
            </div><a id="APPUG1128"></a><div class="props_rev_3"><a id="GUID-F0ACAA50-16F8-4C5C-83FE-C0D280981772" name="GUID-F0ACAA50-16F8-4C5C-83FE-C0D280981772"></a><h3 id="APPUG-GUID-F0ACAA50-16F8-4C5C-83FE-C0D280981772" class="sect3">Sample PGAU DEFINE DATA Statements</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DEFINE DATA EMPNO
       PLSDNAME (EMPNO)
       USAGE (PASS)
       LANGUAGE (IBMVSCOBOLII)
       (
       01 EMP-NO PIC X(6).
       ); 

DEFINE DATA EMPREC
       PLSDNAME (DCLEMP)
       USAGE (PASS)
       LANGUAGE (IBMVSCOBOLII)
       INFILE("emp.cob");
</pre><p>where the file <code class="codeph">emp.cob</code> contains the following:
                     </p><pre class="oac_no_warn" dir="ltr">01 DCLEMP.
   10 EMPNO              PIC X(6).
   10 FIRSTNME.  
     49 FIRSTNME-LEN     PIC S9(4) USAGE COMP.
     49 FIRSTNME-TEXT    PIC X(12).
   10 MIDINIT            PIC X(1).
   10 LASTNAME.
     49 LASTNAME-LEN     PIC S9(4) USAGE COMP.
     49 LASTNAME-TEXT    PIC X(15).
   10 WORKDEPT           PIC X(3).
   10 PHONENO            PIC X(4).
   10 HIREDATE           PIC X(10).
   10 JOB                PIC X(8).
   10 EDLEVEL            PIC S9(4) USAGE COMP.
   10 SEX                PIC X(1)
   10 BIRTHDATE          PIC X(10).
   10 SALARY             PIC S9999999V99 USAGE COMP-3.
   10 BONUS              PIC S9999999V99 USAGE COMP-3.
   10 COMM               PIC S9999999V99 USAGE COMP-3.

DEFINE DATA DB2INFO
       PLSDNAME (DB2)
       USAGE (PASS)
       LANGUAGE (IBMVSCOBOLII)
       INFILE("db2.cob");
</pre><p>where the file <code class="codeph">db2.cob</code> contains the following:
                     </p><pre class="oac_no_warn" dir="ltr">01  DB2.
    05 SQLCODE          PIC S9(9) COMP-4.
    05 SQLERRM.
      49 SQLERRML       PIC S9(4) COMP-4.
      49 SQLERRT        PIC X(70).
    05 DSNERRM.
      49 DSNERRML       PIC S9(4) COMP-4.
      49 DSNERRMT       PIC X(240) OCCURS 8 TIMES
                                       INDEXED BY ERROR-INDEX</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPUG1129"></a><div class="props_rev_3"><a id="GUID-336981E2-C7F9-47C1-8B18-330187556305" name="GUID-336981E2-C7F9-47C1-8B18-330187556305"></a><h3 id="APPUG-GUID-336981E2-C7F9-47C1-8B18-330187556305" class="sect3">Sample PGAU DEFINE CALL Statements</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DEFINE CALL DB2IMAIN
       PKGCALL (PGADB2I_MAIN)
       PARMS ( (EMPNO      IN ),
               (EMPREC     OUT)  );
DEFINE CALL DB2IDIAG
       PKGCALL (PGADB2I_DIAG)
       PARMS ( (DB2INFO    OUT)  );</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPUG1130"></a><div class="props_rev_3"><a id="GUID-C8F9DE40-9DE6-4F49-A765-BFFDEC3065F9" name="GUID-C8F9DE40-9DE6-4F49-A765-BFFDEC3065F9"></a><h3 id="APPUG-GUID-C8F9DE40-9DE6-4F49-A765-BFFDEC3065F9" class="sect3">Sample PGAU DEFINE TRANSACTION Statement</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DEFINE TRANSACTION DB2I
   CALL (   DB2IMAIN,
            DB2IDIAG   )
   SIDEPROFILE(CICSPROD)
   TPNAME(DB2I)
   LOGMODE(ORAPLU62)
   SYNCLEVEL(0)
   NLS_LANGUAGE("AMERICAN_AMERICA.WE8EBCDIC37C");</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPUG1413"></a><a id="APPUG1131"></a><div class="props_rev_3"><a id="GUID-75207651-22BF-4217-92DF-BD011A36EAFD" name="GUID-75207651-22BF-4217-92DF-BD011A36EAFD"></a><h3 id="APPUG-GUID-75207651-22BF-4217-92DF-BD011A36EAFD" class="sect3">Sample PGAU GENERATE Statement</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">GENERATE DB2I
   PKGNAME(PGADB2I)
   OUTFILE("pgadb2i");
</pre><p>A user's high-level application now uses this TIP by referencing these <a id="d53193e278" class="indexterm-anchor"></a>PL/SQL datatypes passed and returned. 
                     </p>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-75207651-22BF-4217-92DF-BD011A36EAFD__G640641" title="This 2 column table describes the TIP user transaction datatypes in package name PGADB2I.">Table F-1</a> provides a description of the TIP user transaction datatypes in package name <code class="codeph">PGADB2I</code>:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-75207651-22BF-4217-92DF-BD011A36EAFD__G640641">
                     <p class="titleintable">Table F-1 TIP User Transaction Datatypes Used in Package Name PGADB2I</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="TIP User Transaction Datatypes Used in Package Name PGADB2I" summary="This 2 column table describes the TIP user transaction datatypes in package name PGADB2I." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d53193e302">Datatype</th>
                              <th align="left" valign="bottom" width="69%" id="d53193e305">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d53193e310" headers="d53193e302 ">
                                 <p><code class="codeph">PGADB2I.EMPNO</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d53193e310 d53193e305 ">
                                 <p> is a PL/SQL variable corresponding to COBOL <code class="codeph">EMPNO</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d53193e322" headers="d53193e302 ">
                                 <p><code class="codeph">PGADB2I.DCLEMP</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d53193e322 d53193e305 ">
                                 <p>Which is a PL/SQL <code class="codeph">RECORD</code> corresponding to COBOL <code class="codeph">DCLEMP</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d53193e337" headers="d53193e302 ">
                                 <p><code class="codeph">PGADB2I.DB2</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d53193e337 d53193e305 ">
                                 <p>Which is a PL/SQL <code class="codeph">RECORD</code> corresponding to COBOL <code class="codeph">DB2INFO</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>and the application calls:</p><pre class="oac_no_warn" dir="ltr">PGADB2I.PGADB2I_INIT(trannum);
PGADB2I.PGADB2I_MAIN( trannum, empno, emprec );
PGADB2I.PGADB2I_DIAG( trannum, db2 );
PGADB2I.PGADB2I_TERM(trannum, termtype);</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPUG1414"></a><a id="APPUG1132"></a><div class="props_rev_3"><a id="GUID-8EB40440-35A8-4194-BF66-BC9699C0097E" name="GUID-8EB40440-35A8-4194-BF66-BC9699C0097E"></a><h3 id="APPUG-GUID-8EB40440-35A8-4194-BF66-BC9699C0097E" class="sect3">Sample Implicit Versioning Definitions</h3>
               <div>
                  <div class="section">
                     <p>The examples are sample definitions of <code class="codeph">DATA</code>, <code class="codeph">CALL</code>, and <code class="codeph">TRANSACTION</code> entries with implicit versioning.
                     </p>
                     <p>This example creates a new <code class="codeph">DATA</code> version of '<code class="codeph">EMPREC</code>' because '<code class="codeph">EMPREC</code>' <code class="codeph">DATA</code> was defined previously:
                     </p><pre class="oac_no_warn" dir="ltr">DEFINE DATA EMPREC
       PLSDNAME (NEWEMP)
       USAGE (PASS)
       LANGUAGE (IBMVSCOBOLII)
       INFILE("emp2.cob");
</pre><p>where the file <code class="codeph">emp2.cob</code> contains the following:
                     </p><pre class="oac_no_warn" dir="ltr">01 NEWEMP.
    10 EMPNO                   PIC X(6).
    10 FIRSTNME.
      49 FIRSTNME-LEN          PIC S9(4) USAGE COMP.
      49 FIRSTNME-TEXT         PIC X(12).
    10 MIDINIT                 PIC X(1).
    10 LASTNAME.
      49 LASTNAME-LEN          PIC S9(4) USAGE COMP.
      49 LASTNAME-TEXT         PIC X(15).
    10 WORKDEPT                PIC X(3).
    10 PHONENO                 PIC X(3).
    10 HIREDATE                PIC X(10).
    10 JOB                     PIC X(8).
    10 EDLEVEL                 PIC S9(4) USAGE COMP.
    10 SEX                     PIC X(1).
    10 BIRTHDATE               PIC X(10).
    10 SALARY                  PIC S9999999V99 USAGE COMP-3.
    10 BONUS                   PIC S9999999V99 USAGE COMP-3.
    10 COMM                    PIC S9999999V99 USAGE COMP-3.
    10 YTD.
      15 SAL                   PIC S9(9)V99 USAGE COMP-3.
      15 BON                   PIC S9(9)V99 USAGE COMP-3.
      15 COM                   PIC S9(9)V99 USAGE COMP-3.
</pre><p>To determine which <code class="codeph">DATA</code> version number was assigned, this SQL query can be issued:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT MAX(pd.version)
       FROM pga_data pd
       WHERE pd.dname = 'EMPREC';
</pre><p>To determine additional information related to the updated version of '<code class="codeph">EMPREC</code>' this query can be used:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT *
       FROM pga_data pd
       WHERE pd.dname = 'EMPREC';
</pre><p>This example creates a new <code class="codeph">CALL</code> version of '<code class="codeph">DB2IMAIN</code>' because the '<code class="codeph">DB2IMAIN</code>' <code class="codeph">CALL</code> was defined previously:
                     </p><pre class="oac_no_warn" dir="ltr">DEFINE CALL DB2IMAIN
       PKGCALL (PGADB2I_MAIN)
       PARMS ( (EMPNO      IN                   ),
               (EMPREC     OUT   VERSION(ddddd) )  );
</pre><p>where <code class="codeph">ddddd</code> is the version number of the <code class="codeph">EMPREC DATA</code> definition queried after the previous <code class="codeph">DEFINE DATA</code> updated <code class="codeph">EMPREC</code>.
                     </p>
                     <p>To determine which call version number was assigned, this SQL query can be issued:</p><pre class="oac_no_warn" dir="ltr">SELECT MAX(pc.version)
       FROM pga_call pc
       WHERE pc.cname = 'DB2IMAIN';
</pre><p>To determine additional information related to the updated version of '<code class="codeph">DB2IMAIN</code>' this query can be used:
                     </p><pre class="oac_no_warn" dir="ltr"> SELECT *
        FROM pga_call pc
        WHERE pc.cname = 'DB2IMAIN';
</pre><p>The <code class="codeph">DEFINE TRANSACTION</code> example creates a new <code class="codeph">TRANSACTION</code> version of '<code class="codeph">DB2I</code>' because the <code class="codeph">'DB2I' TRANSACTION</code> was defined previously. The essential difference of the new version of the DB2I transaction is that the first call uses a new <a id="d53193e502" class="indexterm-anchor"></a>PL/SQL record format "<code class="codeph">NEWEMP</code>" (which corresponds to the COBOL <code class="codeph">NEWEMP</code> format) to query the employee data. 
                     </p>
                     <div class="infoboxnote" id="GUID-8EB40440-35A8-4194-BF66-BC9699C0097E__GUID-0702BBB5-351C-4CBA-AE26-957D1EC32BCB">
                        <p class="notep1">Note:</p>
                        <p>Record format changes like that discussed above must be synchronized with the requirements of the remote transaction program. Changes to the PGA TIP alone result in errors. A new remote transaction program with the corequisite changes could be running on a separate CICS system and started through the change from "<code class="codeph">CICSPROD</code>" to "<code class="codeph">CICSTEST</code>" in the <code class="codeph">SIDEPROFILE</code> parameter below.
                        </p>
                     </div><pre class="oac_no_warn" dir="ltr">DEFINE TRANSACTION DB2I
       CALL (  DB2IMAIN   VERSION (ccccc),
               DB2IDIAG )
       SIDEPROFILE(CICSTEST)
       TPNAME(DB2I)
       LOGMODE(ORAPLU62)
       SYNCLEVEL(0)
       NLS_LANGUAGE("AMERICAN_AMERICA.WE8EBCDIC37C");
</pre><p>where <code class="codeph">ccccc</code> is the version number of the <code class="codeph">DB2IMAIN</code> <code class="codeph">CALL</code> definition queried after the previous <code class="codeph">DEFINE CALL</code> updated <code class="codeph">DB2IMAIN</code>.
                     </p>
                     <p>There are two versions of the DB2I transaction definition in the PGA DD. The original uses the old "<code class="codeph">DCLEMP</code>" record format and starts transaction "<code class="codeph">DB2I</code>" on the production CICS system. The latest uses the "<code class="codeph">NEWEMP</code>" record format and starts transaction "<code class="codeph">DB2I</code>" on the test CICS system.
                     </p>
                     <p>To determine which transaction version number was assigned, this SQL query can be issued:</p><pre class="oac_no_warn" dir="ltr">SELECT MAX(pt.version)
  FROM pga_trans pt
  WHERE pt.tname = 'DB2I';
</pre><p>To determine additional information related to the updated version of '<code class="codeph">DB2I</code>' this query can be used:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM pga_trans pt
  WHERE pt.tname = 'DB2I';
</pre><p>This example generates a new package using the previously defined new versions of the <code class="codeph">TRANSACTION</code>, <code class="codeph">CALL</code>, and <code class="codeph">DATA</code> definitions:
                     </p><pre class="oac_no_warn" dir="ltr">GENERATE DB2I
VERSION(ttttt)
PKGNAME(NEWDB2I)
OUTFILE("pgadb2i");
</pre><p>where <code class="codeph">ttttt</code> is the version number of the <code class="codeph">DB2I TRANSACTION</code> definition queried after the previous<code class="codeph"> DEFINE TRANSACTION</code> updated <code class="codeph">DB2I</code>.
                     </p>
                     <p>Note that the previous PL/SQL package files <code class="codeph">pgadb2i.pkh</code> and <code class="codeph">pgadb2i.pkb</code> are overwritten. To keep the new package separate, change the output file specification. For example:
                     </p><pre class="oac_no_warn" dir="ltr">GENERATE DB2I
VERSION(ttttt)
PKGNAME(NEWDB2I)
OUTFILE("newdb2i");
</pre><p>A user's high-level application now uses this TIP by referencing the <a id="d53193e610" class="indexterm-anchor"></a>PL/SQL datatypes passed and returned. 
                     </p>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-8EB40440-35A8-4194-BF66-BC9699C0097E__CHDBDAEE" title="This 2 column table provides a description of the TIP user transaction datatypes in package name PGADB2I">Table F-2</a> provides a description of the TIP user transaction datatypes in package name <code class="codeph">NEWDB2I</code>:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-8EB40440-35A8-4194-BF66-BC9699C0097E__CHDBDAEE">
                     <p class="titleintable">Table F-2 TIP User Transaction Datatypes for Package Name NEWDB2I</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="TIP User Transaction Datatypes for Package Name NEWDB2I" summary="This 2 column table provides a description of the TIP user transaction datatypes in package name PGADB2I" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d53193e634">Datatype</th>
                              <th align="left" valign="bottom" width="69%" id="d53193e637">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d53193e642" headers="d53193e634 ">
                                 <p><code class="codeph">NEWDB2I.EMPNO</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d53193e642 d53193e637 ">
                                 <p>Is a PL/SQL variable corresponding to COBOL <code class="codeph">EMPNO</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d53193e654" headers="d53193e634 ">
                                 <p><code class="codeph">NEWDB2I.NEWEMP</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d53193e654 d53193e637 ">
                                 <p>Is a PL/SQL <code class="codeph">RECORD</code> corresponding to COBOL <code class="codeph">NEWEMP</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d53193e669" headers="d53193e634 ">
                                 <p><code class="codeph">NEWDB2I.DB2</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d53193e669 d53193e637 ">
                                 <p>Is a PL/SQL <code class="codeph">RECORD</code> corresponding to COBOL <code class="codeph">DB2</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>and the application calls:</p><pre class="oac_no_warn" dir="ltr">NEWDB2I.PGADB2I_INIT(trannum);
NEWDB2I.PGADB2I_MAIN( trannum, empno, newemp );
NEWDB2I.PGADB2I_DIAG( trannum, db2 );
NEWDB2I.PGADB2I_TERM(trannum, termtype);</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPUG1133"></a><div class="props_rev_3"><a id="GUID-0F47ACBD-1DA1-47FA-9DA8-E99009371612" name="GUID-0F47ACBD-1DA1-47FA-9DA8-E99009371612"></a><h3 id="APPUG-GUID-0F47ACBD-1DA1-47FA-9DA8-E99009371612" class="sect3">Sample PGAU REDEFINE DATA Statements</h3>
               <div>
                  <div class="section">
                     <p>Single-field redefinition in which <code class="codeph">EDLEVEL USAGE</code> becomes <code class="codeph">COMP-3</code>:
                     </p><pre class="oac_no_warn" dir="ltr">REDEFINE DATA EMPREC
         PLSDNAME(DCLEMP)
         LANGUAGE(IBMVSCOBOLII)
         FIELD(EDLEVEL)
         PLSFNAME(PLSRECTYPE)
       (
       10 EDLEVEL  PIC S9(4) USAGE IS COMP-3.
       );
</pre><p>By default, this redefines the latest version of <code class="codeph">EMPREC</code> which implicitly affects the latest call and transaction definitions which refer to it.
                     </p>
                     <p>Sample multi-field redefinition in which the employee's first and last name fields are expanded and the employee's middle initial is removed.</p><pre class="oac_no_warn" dir="ltr">REDEFINE DATA EMPREC
         VERSION(1)
         PLSDNAME(DCLEMP)
         LANGUAGE(IBMVSCOBOLII)
         INFILE("emp1.cob");
</pre><p>     where the file <code class="codeph">emp1.cob</code> contains the following:
                     </p><pre class="oac_no_warn" dir="ltr">01 DCLEMP.
  10 EMPNO                     PIC X(6).
  10 FIRSTNME.
       49 FIRSTNME-LEN         PIC S9(4) USAGE COMP.
       49 FIRSTNME-TEXT        PIC X(15).
  10 LASTNAME.
       49 LASTNAME-LEN         PIC S9(4) USAGE COMP.
       49 LASTNAME-TEXT        PIC X(20).
  10 WORKDEPT                  PIC X(3).
  10 PHONENO                   PIC X(4).
  10 HIREDATE                  PIC X(10).
  10 JOB                       PIC X(8).
  10 EDLEVEL                   PIC S9(4) USAGE COMP.
  10 SEX                       PIC X(1).
  10 BIRTHDATE                 PIC X(10).
  10 SALARY                    PIC S9999999V99 USAGE COMP-3.
  10 BONUS                     PIC S9999999V99 USAGE COMP-3.
  10 COMM                      PIC S9999999V99 USAGE COMP-3.
    </pre><p>The assumption is that version 1 of the data definition for '<code class="codeph">EMPREC</code>' is to be redefined. This causes a redefinition of the first '<code class="codeph">EMPREC</code>' sample data definition without changing the version number. Thus, existing call and transaction definitions which referenced version 1 of '<code class="codeph">EMPREC</code>' automatically reflect the changed '<code class="codeph">EMPREC</code>'. This change becomes effective when a TIP is next generated for a transaction that references the call which referenced version 1 of '<code class="codeph">EMPREC</code>'.
                     </p>
                     <p>This implicitly affects both versions of the transaction because both refer to <code class="codeph">EMPREC</code> in the second call to update the employee data. 
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPUG1134"></a><div class="props_rev_3"><a id="GUID-F7D4B8F8-B8BF-446C-A6BF-2EACEEDEAD80" name="GUID-F7D4B8F8-B8BF-446C-A6BF-2EACEEDEAD80"></a><h3 id="APPUG-GUID-F7D4B8F8-B8BF-446C-A6BF-2EACEEDEAD80" class="sect3">Sample PGAU UNDEFINE Statements</h3>
               <div>
                  <div class="section">
                     <p>This sample illustrates the deletion of a specific version of a definition which has multiple versions, followed by deletion of all versions of a specific named definition.</p><pre class="oac_no_warn" dir="ltr">UNDEFINE DATA EMPREC VERSION (ddddd);
UNDEFINE DATA EMPREC VERSION (ALL);
UNDEFINE CALL DB2IMAIN VERSION (ccccc);
UNDEFINE CALL DB2IMAIN VERS (all);
UNDEFINE TRANSACTION DB2I vers (ttttt);
UNDEFINE TRANSACTION DB2I vers (all);
</pre><p>Note that the previous <code class="codeph">UNDEFINE</code> statements leave the <code class="codeph">DATA</code> definition for <code class="codeph">EMPNO</code> and the <code class="codeph">CALL</code> definition for <code class="codeph">DB2IDIAG</code> in the PGA DD.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>