<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Spatial and Graph supports the use of the ST_xxx types specified in ISO 13249-3, Information technology - Database languages - SQL Multimedia and Application Packages - Part 3: Spatial.">
      <meta name="description" content="Oracle Spatial and Graph supports the use of the ST_xxx types specified in ISO 13249-3, Information technology - Database languages - SQL Multimedia and Application Packages - Part 3: Spatial.">
      <title>SQL Multimedia Type Support</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="Oracle Spatial and Graph supports the use of the ST_xxx types specified in ISO 13249-3, Information technology - Database languages - SQL Multimedia and Application Packages - Part 3: Spatial.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94799-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="spatial-datatypes-metadata.html" title="Previous" type="text/html">
      <link rel="next" href="loading-spatial-data.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer's Guide">
    <meta name="dcterms.isVersionOf" content="SPATL">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="spatial-datatypes-metadata.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="loading-spatial-data.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-concepts-usage.html" property="item" typeof="WebPage"><span property="name">  Conceptual and Usage Information </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> SQL Multimedia Type Support </li>
            </ol>
            <a id="GUID-7B4AA04A-5264-4567-8DB1-D53C72F453E0" name="GUID-7B4AA04A-5264-4567-8DB1-D53C72F453E0"></a><a id="SPATL025"></a>
            
            <h2 id="SPATL-GUID-7B4AA04A-5264-4567-8DB1-D53C72F453E0" class="sect2"><span class="enumeration_chapter">3 </span> SQL Multimedia Type Support 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Spatial and Graph supports the use of the ST_<span class="italic">xxx</span> types specified in <span class="italic">ISO 13249-3, Information technology - Database languages - SQL Multimedia and Application Packages - Part 3: Spatial</span>.
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="sql-multimedia-type-support.html#GUID-22FE0E11-C9F0-4E1A-B512-D494E588FFAA">ST_GEOMETRY and SDO_GEOMETRY Interoperability</a><br>The SQL Multimedia ST_GEOMETRY root type, including its subtypes, and the Oracle Spatial and Graph SDO_GEOMETRY type are essentially interoperable.
                  </li>
                  <li class="ulchildlink"><a href="sql-multimedia-type-support.html#GUID-B9372254-79D6-402F-B1EB-ACDAE0EF5CF5">ST_xxx Functions and Spatial and Graph Counterparts</a><br>The following table lists SQL Multimedia functions and the comparable Oracle Spatial and Graph SDO_GEOMETRY method or Spatial and Graph function, procedure, operator.
                  </li>
                  <li class="ulchildlink"><a href="sql-multimedia-type-support.html#GUID-99BBC9B7-A270-4080-B474-850C5C47FADE">Tolerance Value with SQL Multimedia Types</a><br>Because the SQL Multimedia standard does not define how tolerance is to be used with the ST_ xxx, Spatial and Graph uses a default value of 0.005 in all the member methods of the ST_GEOMETRY type.
                  </li>
                  <li class="ulchildlink"><a href="sql-multimedia-type-support.html#GUID-3DF4F7FE-3E11-4A17-8FBC-DC927220885D">Avoiding Name Conflicts</a><br>To avoid possible conflicts between third-party names and Oracle-supplied names, any third-party implementation of ST_<span class="italic">xxx</span> types on Oracle should use a schema prefix.
                  </li>
                  <li class="ulchildlink"><a href="sql-multimedia-type-support.html#GUID-6E589C3D-211A-46D6-AA4B-D930954F61AF">Annotation Text Type and Views</a><br>Oracle Spatial and Graph supports annotation text as specified in the <span class="italic">OpenGIS Implementation Specification for Geographic information - Simple feature access - Part 1: Common architecture</span>, which defines <span class="bold">annotation text</span> as "simply placed text that can carry either geographically-related or ad-hoc data and process-related information as displayable text. This text may be used for display in editors or in simpler maps. It is usually lacking in full cartographic quality, but may act as an approximation to such text as needed by any application."
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="spatial-concepts-usage.html#GUID-EEEED709-34A1-46EA-9AF3-869FD06E3076">Conceptual and Usage Information</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL564"></a><a id="SPATL565"></a><a id="SPATL563"></a><div class="props_rev_3"><a id="GUID-22FE0E11-C9F0-4E1A-B512-D494E588FFAA" name="GUID-22FE0E11-C9F0-4E1A-B512-D494E588FFAA"></a><h3 id="SPATL-GUID-22FE0E11-C9F0-4E1A-B512-D494E588FFAA" class="sect3"><span class="enumeration_section">3.1 </span>ST_GEOMETRY and SDO_GEOMETRY Interoperability
               </h3>
               <div>
                  <p>The SQL Multimedia ST_GEOMETRY root type, including its subtypes, and the Oracle Spatial and Graph SDO_GEOMETRY type are essentially interoperable.</p>
                  <p>The ST_GEOMETRY subtypes are:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>ST_CIRCULARSTRING</p>
                     </li>
                     <li>
                        <p>ST_COMPOUNDCURVE</p>
                     </li>
                     <li>
                        <p>ST_CURVE</p>
                     </li>
                     <li>
                        <p>ST_CURVEPOLYGON</p>
                     </li>
                     <li>
                        <p>ST_GEOMCOLLECTION</p>
                     </li>
                     <li>
                        <p>ST_LINESTRING</p>
                     </li>
                     <li>
                        <p>ST_MULTICURVE</p>
                     </li>
                     <li>
                        <p>ST_MULTILINESTRING</p>
                     </li>
                     <li>
                        <p>ST_MULTIPOINT</p>
                     </li>
                     <li>
                        <p>ST_MULTIPOLYGON</p>
                     </li>
                     <li>
                        <p>ST_MULTISURFACE</p>
                     </li>
                     <li>
                        <p>ST_POINT</p>
                     </li>
                     <li>
                        <p>ST_POLYGON</p>
                     </li>
                     <li>
                        <p>ST_SURFACE</p>
                     </li>
                  </ul>
                  <p>The ST_GEOMETRY type has an additional constructor method (that is, in addition to the constructors defined in the ISO standard) for creating an instance of the type using an SDO_GEOMETRY object. This constructor has the following format:</p><pre class="oac_no_warn" dir="ltr">ST_GEOMETRY(geom SDO_GEOMETRY);
</pre><div class="example" id="GUID-22FE0E11-C9F0-4E1A-B512-D494E588FFAA__CHDGHJJD">
                     <p class="titleinexample">Example 3-1 Using the ST_GEOMETRY Type for a Spatial Column</p>
                     <p><a href="sql-multimedia-type-support.html#GUID-22FE0E11-C9F0-4E1A-B512-D494E588FFAA__CHDGHJJD">Example 3-1</a> creates a table using the ST_GEOMETRY type for a spatial column instead of the SDO_GEOMETRY type, and it uses the ST_GEOMETRY constructor to specify the SHAPE column value when inserting a row into that table.
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE cola_markets (
  mkt_id NUMBER PRIMARY KEY,
  name VARCHAR2(32),
  shape <span class="bold">ST_GEOMETRY</span>);
 
INSERT INTO cola_markets VALUES(
  1,
  'cola_a',
  <span class="bold">ST_GEOMETRY</span>(
    SDO_GEOMETRY(
      2003,  -- two-dimensional polygon
      NULL,
      NULL,
      SDO_ELEM_INFO_ARRAY(1,1003,3), -- one rectangle (1003 = exterior)
      SDO_ORDINATE_ARRAY(1,1, 5,7) -- only 2 points needed to
            -- define rectangle (lower left and upper right) with
            -- Cartesian-coordinate data
    )
  )
);
</pre><p>If you create a table with a spatial column of type ST_GEOMETRY, you should add its information to the USER_SDO_GEOM_METADATA view and create a spatial index on the ST_GEOMETRY column, just as you would for spatial data defined using the SDO_GEOMETRY type. After you have performed these operations, you can use Oracle Spatial and Graph operators (described in <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type."> Spatial Operators </a>) in the ST_GEOMETRY data. In addition to the operators defined in the standard, you can use the <a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a> and <a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a> operators.
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-22FE0E11-C9F0-4E1A-B512-D494E588FFAA__CHDHCJIB">
                     <p class="titleinexample">Example 3-2 Creating, Indexing, Storing, and Querying ST_GEOMETRY Data</p>
                     <p><a href="sql-multimedia-type-support.html#GUID-22FE0E11-C9F0-4E1A-B512-D494E588FFAA__CHDHCJIB">Example 3-2</a> performs many of the same basic operations as in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting, Indexing, and Querying Spatial Data</a>, but it uses the ST_GEOMETRY type instead of the SDO_GEOMETRY type for the spatial column.
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE cola_markets (
  mkt_id NUMBER PRIMARY KEY,
  name VARCHAR2(32),
  shape ST_GEOMETRY);
 
INSERT INTO cola_markets VALUES(
  1,
  'cola_a',
  ST_GEOMETRY(
    SDO_GEOMETRY(
      2003,  -- two-dimensional polygon
      NULL,
      NULL,
      SDO_ELEM_INFO_ARRAY(1,1003,3), -- one rectangle (1003 = exterior)
      SDO_ORDINATE_ARRAY(1,1, 5,7) -- only 2 points needed to
            -- define rectangle (lower left and upper right) with
            -- Cartesian-coordinate data
    )
  )
);
 
INSERT INTO cola_markets VALUES(
  2,
  'cola_b',
  ST_GEOMETRY(
    SDO_GEOMETRY(
      2003,  -- two-dimensional polygon
      NULL,
      NULL,
      SDO_ELEM_INFO_ARRAY(1,1003,1), -- one polygon (exterior polygon ring)
      SDO_ORDINATE_ARRAY(5,1, 8,1, 8,6, 5,7, 5,1)
    )
  )
);
 
INSERT INTO cola_markets VALUES(
  3,
  'cola_c',
  ST_GEOMETRY(
    SDO_GEOMETRY(
      2003,  -- two-dimensional polygon
      NULL,
      NULL,
      SDO_ELEM_INFO_ARRAY(1,1003,1), -- one polygon (exterior polygon ring)
      SDO_ORDINATE_ARRAY(3,3, 6,3, 6,5, 4,5, 3,3)
    )
  )
);
 
INSERT INTO cola_markets VALUES(
  4,
  'cola_d',
  ST_GEOMETRY(
    SDO_GEOMETRY(
      2003,  -- two-dimensional polygon
      NULL,
      NULL,
      SDO_ELEM_INFO_ARRAY(1,1003,4), -- one circle
      SDO_ORDINATE_ARRAY(8,7, 10,9, 8,11)
    )
  )
);
 
---------------------------------------------------------------------------
-- UPDATE METADATA VIEW --
---------------------------------------------------------------------------
 
-- Update the USER_SDO_GEOM_METADATA view. This is required before
-- the spatial index can be created. Do this only once for each layer
-- (that is, table-column combination; here: cola_markets and shape).
 
INSERT INTO user_sdo_geom_metadata
    (TABLE_NAME,
     COLUMN_NAME,
     DIMINFO,
     SRID) 
  VALUES (
    'cola_markets',
    'shape',
    SDO_DIM_ARRAY(   -- 20X20 grid
      SDO_DIM_ELEMENT('X', 0, 20, 0.005),
      SDO_DIM_ELEMENT('Y', 0, 20, 0.005)
       ),
    NULL   -- SRID
  );
 
-------------------------------------------------------------------
-- CREATE THE SPATIAL INDEX --
-------------------------------------------------------------------
 
CREATE INDEX cola_spatial_idx
ON cola_markets(shape)
INDEXTYPE IS MDSYS.SPATIAL_INDEX_V2;
 
---------------------------
-- SDO_NN and SDO_WITHIN_DISTANCE
--------------------------
 
-- SDO_NN operator.
 
SELECT  /*+ INDEX(c cola_spatial_idx) */ c.mkt_id, c.name  
   FROM cola_markets c  
   WHERE SDO_NN(c.shape,  sdo_geometry(2001, NULL, 
      sdo_point_type(10,7,NULL), NULL,  NULL),  'sdo_num_res=2') = 'TRUE'; 
 
-- SDO_NN_DISTANCE ancillary operator
 
SELECT   /*+ INDEX(c cola_spatial_idx) */ 
   c.mkt_id, c.name, SDO_NN_DISTANCE(1) dist
   FROM cola_markets c  
   WHERE SDO_NN(c.shape,  sdo_geometry(2001, NULL, 
      sdo_point_type(10,7,NULL), NULL,  NULL),
      'sdo_num_res=2', 1) = 'TRUE' ORDER BY dist; 
 
-- SDO_WITHIN_DISTANCE operator (two examples)
 
SELECT c.name FROM cola_markets c WHERE SDO_WITHIN_DISTANCE(c.shape, 
  SDO_GEOMETRY(2003, NULL, NULL, SDO_ELEM_INFO_ARRAY(1,1003,3), 
    SDO_ORDINATE_ARRAY(4,6, 8,8)), 
  'distance=10') = 'TRUE';  
 
-- What geometries are within a distance of 10 from a query window
-- (here, a rectangle with lower-left, upper-right coordinates 4,6, 8,8)?
-- But exclude geoms with MBRs with both sides &lt; 4.1, i.e., cola_c and cola_d.
 
SELECT c.name FROM cola_markets c WHERE SDO_WITHIN_DISTANCE(c.shape, 
  SDO_GEOMETRY(2003, NULL, NULL, SDO_ELEM_INFO_ARRAY(1,1003,3), 
    SDO_ORDINATE_ARRAY(4,6, 8,8)), 
  'distance=10 min_resolution=4.1') = 'TRUE';  
 
-------------------------------------
-- Some ST_GEOMETRY member functions
-------------------------------------
 
SELECT c.shape.GET_WKB() 
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.GET_WKT() 
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_COORDDIM()
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_ISVALID() 
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_SRID() 
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_SRID(8307) 
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_ISEMPTY() 
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_ENVELOPE() 
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_BOUNDARY() 
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_GEOMETRYTYPE() 
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_ISSIMPLE()
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_DIMENSION()
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_CONVEXHULL()
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_CENTROID()
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_GETTOLERANCE()
  FROM cola_markets c WHERE c.name = 'cola_b';
 
-- Some member functions that require a parameter
DECLARE
  cola_a_geom ST_GEOMETRY;
  cola_b_geom ST_GEOMETRY;
  cola_c_geom ST_GEOMETRY;
  cola_d_geom ST_GEOMETRY;
  returned_geom ST_GEOMETRY;
  returned_number NUMBER;
 
BEGIN
 
-- Populate geometry variables with cola market shapes.
SELECT c.shape INTO cola_a_geom FROM cola_markets c
  WHERE c.name = 'cola_a';
SELECT c.shape INTO cola_b_geom FROM cola_markets c
  WHERE c.name = 'cola_b';
SELECT c.shape INTO cola_c_geom FROM cola_markets c
  WHERE c.name = 'cola_c';
SELECT c.shape INTO cola_d_geom FROM cola_markets c
  WHERE c.name = 'cola_d';
 
SELECT c.shape.ST_EQUALS(cola_a_geom) INTO returned_number
  FROM cola_markets c WHERE c.name = 'cola_b';
DBMS_OUTPUT.PUT_LINE('Is cola_b equal to cola_a?: ' || returned_number);
 
SELECT c.shape.ST_SYMMETRICDIFFERENCE(cola_a_geom) INTO returned_geom
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_DISTANCE(cola_d_geom) INTO returned_number
  FROM cola_markets c WHERE c.name = 'cola_b';
DBMS_OUTPUT.PUT_LINE('Distance between cola_b equal to cola_d: ' || returned_number);
 
SELECT c.shape.ST_INTERSECTS(cola_a_geom) INTO returned_number
  FROM cola_markets c WHERE c.name = 'cola_b';
DBMS_OUTPUT.PUT_LINE('Does cola_b intersect cola_a?: ' || returned_number);
 
SELECT c.shape.ST_CROSS(cola_a_geom) INTO returned_number
  FROM cola_markets c WHERE c.name = 'cola_b';
DBMS_OUTPUT.PUT_LINE('Does cola_b cross cola_a?: ' || returned_number);
 
SELECT c.shape.ST_DISJOINT(cola_a_geom) INTO returned_number
  FROM cola_markets c WHERE c.name = 'cola_b';
DBMS_OUTPUT.PUT_LINE('Is cola_b disjoint with cola_a?: ' || returned_number);
 
SELECT c.shape.ST_TOUCH(cola_a_geom) INTO returned_number
  FROM cola_markets c WHERE c.name = 'cola_b';
DBMS_OUTPUT.PUT_LINE('Does cola_b touch cola_a?: ' || returned_number);
 
SELECT c.shape.ST_WITHIN(cola_a_geom) INTO returned_number
  FROM cola_markets c WHERE c.name = 'cola_b';
DBMS_OUTPUT.PUT_LINE('Is cola_b within cola_a?: ' || returned_number);
 
SELECT c.shape.ST_OVERLAP(cola_a_geom) INTO returned_number
  FROM cola_markets c WHERE c.name = 'cola_b';
DBMS_OUTPUT.PUT_LINE('Does cola_b overlap cola_a?: ' || returned_number);
 
SELECT c.shape.ST_CONTAINS(cola_a_geom) INTO returned_number
  FROM cola_markets c WHERE c.name = 'cola_b';
DBMS_OUTPUT.PUT_LINE('Does cola_b contain cola_a?: ' || returned_number);
 
SELECT c.shape.ST_INTERSECTION(cola_a_geom) INTO returned_geom
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_DIFFERENCE(cola_a_geom) INTO returned_geom
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_UNION(cola_a_geom) INTO returned_geom
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_SYMDIFFERENCE(cola_a_geom) INTO returned_geom
  FROM cola_markets c WHERE c.name = 'cola_b';
 
SELECT c.shape.ST_TOUCHES(cola_a_geom) INTO returned_number
  FROM cola_markets c WHERE c.name = 'cola_b';
DBMS_OUTPUT.PUT_LINE('Does cola_b touch cola_a?: ' || returned_number);
 
SELECT c.shape.ST_CROSSES(cola_a_geom) INTO returned_number
  FROM cola_markets c WHERE c.name = 'cola_b';
DBMS_OUTPUT.PUT_LINE('Does cola_b cross cola_a?: ' || returned_number);
 
END;
/</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="sql-multimedia-type-support.html#GUID-7B4AA04A-5264-4567-8DB1-D53C72F453E0" title="Oracle Spatial and Graph supports the use of the ST_xxx types specified in ISO 13249-3, Information technology - Database languages - SQL Multimedia and Application Packages - Part 3: Spatial.">SQL Multimedia Type Support</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1452"></a><a id="SPATL1451"></a><div class="props_rev_3"><a id="GUID-B9372254-79D6-402F-B1EB-ACDAE0EF5CF5" name="GUID-B9372254-79D6-402F-B1EB-ACDAE0EF5CF5"></a><h3 id="SPATL-GUID-B9372254-79D6-402F-B1EB-ACDAE0EF5CF5" class="sect3"><span class="enumeration_section">3.2 </span>ST_xxx Functions and Spatial and Graph Counterparts
               </h3>
               <div>
                  <p>The following table lists SQL Multimedia functions and the comparable Oracle Spatial and Graph SDO_GEOMETRY method or Spatial and Graph function, procedure, operator.</p>
                  <p> Note that in some cases the Oracle Spatial and Graph counterpart has more features than the SQL Multimedia function.</p>
                  <div class="tblformal" id="GUID-B9372254-79D6-402F-B1EB-ACDAE0EF5CF5__BABJGFAG">
                     <p class="titleintable">Table 3-1 ST_xxx Functions and Spatial and Graph Counterparts</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="ST_xxx Functions and Spatial and Graph Counterparts" summary="SQL Multiumedia functions and Oracle Spatial counterparts. Column 1 is SQL Multimedia Function, and column 2 is Comparable Oracle Spatial and Graph Interface." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d31654e358">SQL Multimedia Function</th>
                              <th align="left" valign="bottom" width="69%" id="d31654e361">Comparable Oracle Spatial and Graph Interface</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e366" headers="d31654e358 ">
                                 <p>FROM_WKB</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e366 d31654e361 ">
                                 <p><a href="SDO_UTIL-reference.html#GUID-4BF848D3-739F-4994-B364-C0171B69EE04">SDO_UTIL.FROM_WKBGEOMETRY</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e375" headers="d31654e358 ">
                                 <p>FROM_WKT</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e375 d31654e361 ">
                                 <p><a href="SDO_UTIL-reference.html#GUID-EFDD565A-E565-4463-9CFC-464DC856ECB7">SDO_UTIL.FROM_WKTGEOMETRY</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e384" headers="d31654e358 ">
                                 <p>GET_WKB</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e384 d31654e361 ">
                                 <p>SDO_GEOMETRY.Get_WKB</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e391" headers="d31654e358 ">
                                 <p>GET_WKT</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e391 d31654e361 ">
                                 <p>SDO_GEOMETRY.Get_WKT</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e398" headers="d31654e358 ">
                                 <p>ST_BUFFER</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e398 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-329D09B9-163E-410A-A58F-8053A6CC9C25">SDO_GEOM.SDO_BUFFER</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e407" headers="d31654e358 ">
                                 <p>ST_CENTROID</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e407 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-C232C717-FE3C-48AA-B6E3-498EEB573262">SDO_GEOM.SDO_CENTROID</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e416" headers="d31654e358 ">
                                 <p>ST_CONTAINS</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e416 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> with <code class="codeph">mask=CONTAINS</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e428" headers="d31654e358 ">
                                 <p>ST_CONVEXHULL</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e428 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-DCFFF3D9-6642-457F-A7BD-1AF864A7510E">SDO_GEOM.SDO_CONVEXHULL</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e437" headers="d31654e358 ">
                                 <p>ST_COORDDIM</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e437 d31654e361 ">
                                 <p>SDO_GEOMETRY.Get_Dims and SDO_GEOMETRY.ST_CoordDim (equivalent)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e444" headers="d31654e358 ">
                                 <p>ST_CROSS</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e444 d31654e361 ">
                                 <p>(None predefined; requires using <a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> with a complex mask)
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e455" headers="d31654e358 ">
                                 <p>ST_CROSSES</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e455 d31654e361 ">
                                 <p>(None predefined; requires using <a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> with a complex mask)
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e467" headers="d31654e358 ">
                                 <p>ST_DIFFERENCE</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e467 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-778019CF-1B89-48D3-9EBE-264B2BF87B63">SDO_GEOM.SDO_DIFFERENCE</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e476" headers="d31654e358 ">
                                 <p>ST_DIMENSION </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e476 d31654e361 ">
                                 <p>SDO_GEOMETRY.Get_Dims</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e483" headers="d31654e358 ">
                                 <p>ST_DISJOINT</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e483 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> with <code class="codeph">mask=DISJOINT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e495" headers="d31654e358 ">
                                 <p>ST_DISTANCE</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e495 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-EC93D8DA-F207-460F-A85A-AA50B92385EC">SDO_GEOM.SDO_DISTANCE</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e504" headers="d31654e358 ">
                                 <p>ST_ENVELOPE</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e504 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-646638D0-2C5F-490A-AF63-DE9B7A4C97C1">SDO_GEOM.SDO_MBR</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e513" headers="d31654e358 ">
                                 <p>ST_EQUALS</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e513 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> with <code class="codeph">mask=EQUAL</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e525" headers="d31654e358 ">
                                 <p>ST_GEOMETRYTYPE</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e525 d31654e361 ">
                                 <p>SDO_GEOMETRY.Get_GType</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e532" headers="d31654e358 ">
                                 <p>ST_INTERSECTION</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e532 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-6191E200-BFBF-4D97-A9B2-92846DBF7175">SDO_GEOM.SDO_INTERSECTION</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e541" headers="d31654e358 ">
                                 <p>ST_INTERSECTS</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e541 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> with <code class="codeph">mask=OVERLAPBDYDISJOINT + OVERLAPBDYINTERSECT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e553" headers="d31654e358 ">
                                 <p>ST_ISVALID</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e553 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-5243762A-A199-48FF-87BB-B5955F4FF604">SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e562" headers="d31654e358 ">
                                 <p>ST_OVERLAP</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e562 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> with <code class="codeph">mask=CONTAINS</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e575" headers="d31654e358 ">
                                 <p>ST_RELATE</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e575 d31654e361 ">
                                 <p><a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>, <a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e588" headers="d31654e358 ">
                                 <p>ST_SYMDIFFERENCE</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e588 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-84BD3076-76E5-47F3-ADC1-355829ED384E">SDO_GEOM.SDO_XOR</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e597" headers="d31654e358 ">
                                 <p>ST_SYMMETRICDIFFERENCE</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e597 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-84BD3076-76E5-47F3-ADC1-355829ED384E">SDO_GEOM.SDO_XOR</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e606" headers="d31654e358 ">
                                 <p>ST_TOUCH</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e606 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> with <code class="codeph">mask=TOUCH</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e618" headers="d31654e358 ">
                                 <p>ST_TOUCHES</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e618 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> with <code class="codeph">mask=TOUCH</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e630" headers="d31654e358 ">
                                 <p>ST_UNION</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e630 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-35318AFF-1981-4A8B-BA8A-D4E8272E86AB">SDO_GEOM.SDO_UNION</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d31654e639" headers="d31654e358 ">
                                 <p>ST_WITHIN</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d31654e639 d31654e361 ">
                                 <p><a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> with <code class="codeph">mask=COVERS+CONTAINS</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="sql-multimedia-type-support.html#GUID-7B4AA04A-5264-4567-8DB1-D53C72F453E0" title="Oracle Spatial and Graph supports the use of the ST_xxx types specified in ISO 13249-3, Information technology - Database languages - SQL Multimedia and Application Packages - Part 3: Spatial.">SQL Multimedia Type Support</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL566"></a><div class="props_rev_3"><a id="GUID-99BBC9B7-A270-4080-B474-850C5C47FADE" name="GUID-99BBC9B7-A270-4080-B474-850C5C47FADE"></a><h3 id="SPATL-GUID-99BBC9B7-A270-4080-B474-850C5C47FADE" class="sect3"><span class="enumeration_section">3.3 </span>Tolerance Value with SQL Multimedia Types
               </h3>
               <div>
                  <p>Because the SQL Multimedia standard does not define how tolerance is to be used with the ST_ xxx, Spatial and Graph uses a default value of 0.005 in all the member methods of the ST_GEOMETRY type.</p>
                  <p>If you want to specify a different tolerance value to be used with ST_GEOMETRY member functions, override the default by inserting the desired value into the SDO_ST_TOLERANCE table.</p>
                  <p>The SDO_ST_TOLERANCE table is a global temporary table that should have a single row specifying the tolerance to be used with ST_GEOMETRY member methods. This table has a single column, defined as <code class="codeph">(tolerance NUMBER)</code>.
                  </p>
                  <p>For all spatial operators that use a spatial index, Spatial and Graph uses the tolerance value specified for the spatial column in the USER_SDO_GEOM_METADATA view. </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="sql-multimedia-type-support.html#GUID-7B4AA04A-5264-4567-8DB1-D53C72F453E0" title="Oracle Spatial and Graph supports the use of the ST_xxx types specified in ISO 13249-3, Information technology - Database languages - SQL Multimedia and Application Packages - Part 3: Spatial.">SQL Multimedia Type Support</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL567"></a><div class="props_rev_3"><a id="GUID-3DF4F7FE-3E11-4A17-8FBC-DC927220885D" name="GUID-3DF4F7FE-3E11-4A17-8FBC-DC927220885D"></a><h3 id="SPATL-GUID-3DF4F7FE-3E11-4A17-8FBC-DC927220885D" class="sect3"><span class="enumeration_section">3.4 </span>Avoiding Name Conflicts
               </h3>
               <div>
                  <p>To avoid possible conflicts between third-party names and Oracle-supplied names, any third-party implementation of ST_<span class="italic">xxx</span> types on Oracle should use a schema prefix.
                  </p>
                  <p>Some third-party vendors support their own version of ST_<span class="italic">xxx</span> types on Oracle. For example, a vendor might create its own version of the ST_GEOMETRY type.
                  </p>
                  <p>To avoid possible conflicts, that vendor’s implementation of ST_<span class="italic">xxx</span> types on Oracle should use a schema prefix.. This will ensure that if someone specifies a column type as just ST_GEOMETRY, the column will be created with the Oracle implementation of the ST_GEOMETRY type.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="sql-multimedia-type-support.html#GUID-7B4AA04A-5264-4567-8DB1-D53C72F453E0" title="Oracle Spatial and Graph supports the use of the ST_xxx types specified in ISO 13249-3, Information technology - Database languages - SQL Multimedia and Application Packages - Part 3: Spatial.">SQL Multimedia Type Support</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL568"></a><div class="props_rev_3"><a id="GUID-6E589C3D-211A-46D6-AA4B-D930954F61AF" name="GUID-6E589C3D-211A-46D6-AA4B-D930954F61AF"></a><h3 id="SPATL-GUID-6E589C3D-211A-46D6-AA4B-D930954F61AF" class="sect3"><span class="enumeration_section">3.5 </span>Annotation Text Type and Views
               </h3>
               <div>
                  <p>Oracle Spatial and Graph supports annotation text as specified in the <span class="italic">OpenGIS Implementation Specification for Geographic information - Simple feature access - Part 1: Common architecture</span>, which defines <span class="bold">annotation text</span> as "simply placed text that can carry either geographically-related or ad-hoc data and process-related information as displayable text. This text may be used for display in editors or in simpler maps. It is usually lacking in full cartographic quality, but may act as an approximation to such text as needed by any application."
                  </p>
                  <p>The ST_ANNOTATION_TEXT object type can be used to store annotation text. This type has a constructor for inserting annotation text into a table, as explained in <a href="sql-multimedia-type-support.html#GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32">Using the ST_ANNOTATION_TEXT Constructor</a>.
                  </p>
                  <p>The USER_ANNOTATION_TEXT_METADATA and ALL_ANNOTATION_TEXT_METADATA views store metadata related to annotation text, as explained in <a href="sql-multimedia-type-support.html#GUID-2CB0324C-A2C0-4191-9F81-670C234CE670">Annotation Text Metadata Views</a>.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="sql-multimedia-type-support.html#GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32">Using the ST_ANNOTATION_TEXT Constructor</a><br></li>
                     <li class="ulchildlink"><a href="sql-multimedia-type-support.html#GUID-2CB0324C-A2C0-4191-9F81-670C234CE670">Annotation Text Metadata Views</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="sql-multimedia-type-support.html#GUID-7B4AA04A-5264-4567-8DB1-D53C72F453E0" title="Oracle Spatial and Graph supports the use of the ST_xxx types specified in ISO 13249-3, Information technology - Database languages - SQL Multimedia and Application Packages - Part 3: Spatial.">SQL Multimedia Type Support</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL570"></a><a id="SPATL569"></a><div class="props_rev_3"><a id="GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32" name="GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32"></a><h4 id="SPATL-GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32" class="sect4"><span class="enumeration_section">3.5.1 </span>Using the ST_ANNOTATION_TEXT Constructor
                  </h4>
                  <div>
                     <p>An annotation text object contains an array of objects, where each object consists of a text label, the point at which to start rendering the text label, a leader line (typically from the text label to the associated point on the map), and optionally extra attribute information. A single annotation text object may typically contain all the text labels for a map.</p>
                     <p>Each text label object has the following definition:</p><pre class="oac_no_warn" dir="ltr"> Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 PRIVATEVALUE                                       VARCHAR2(4000)
 PRIVATELOCATION                                    MDSYS.SDO_GEOMETRY
 PRIVATELEADERLINE                                  MDSYS.SDO_GEOMETRY
 PRIVATETEXTATTRIBUTES                              VARCHAR2(4000)
</pre><div class="example" id="GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32__CHDIEACA">
                        <p class="titleinexample">Example 3-3 Using the ST_ANNOTATION_TEXT Constructor</p>
                        <p>To insert the annotation for a single point, use the ST_ANNOTATION_TEXT constructor. This constructor specifies the information for a single point using an array, as shown in <a href="sql-multimedia-type-support.html#GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32__CHDIEACA">Example 3-3</a>, which creates a table with a column of type ST_ANNOTATION_TEXT and inserts one row, using the ST_ANNOTATION_TEXT constructor in the INSERT statement.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE my_annotations (id NUMBER, textobj ST_ANNOTATION_TEXT);
 
INSERT INTO my_annotations VALUES (2,
 ST_ANNOTATION_TEXT(
    ST_ANNOTATIONTEXTELEMENT_ARRAY(
           ST_ANNOT_TEXTELEMENT_ARRAY(
                 ST_ANNOTATIONTEXTELEMENT(
                    'Sample Label 2',
                    SDO_GEOMETRY(2001,null,sdo_point_type(10,10,null),null,null),
                    SDO_GEOMETRY(2002,null,null,
                        SDO_ELEM_INFO_ARRAY(1,2,1),
                        SDO_ORDINATE_ARRAY(5,10, 10,10)), 
                    NULL)))));
</pre><p>In the ST_ANNOTATION_TEXT constructor in <a href="sql-multimedia-type-support.html#GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32__CHDIEACA">Example 3-3</a>, the ST_ANNOTATIONTEXTELEMENT subelement specifies the following:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The text for the label, in this case <code class="codeph">Sample Label 2</code></p>
                           </li>
                           <li>
                              <p>A point geometry specifying where to start rendering the label, in this case location (10,10)</p>
                           </li>
                           <li>
                              <p>A line string geometry specifying the start and end points of the leader line between the point of interest and the text label, in this case a line between locations (5,10) and (10,10)</p>
                           </li>
                           <li>
                              <p>No text display attribute information (NULL), which means that the information TEXT_ATTRIBUTES column of the annotation text metadata views is used (see <a href="sql-multimedia-type-support.html#GUID-2CB0324C-A2C0-4191-9F81-670C234CE670__CHDFIHBB" title="Columns in the Annotation Text Metadata Views. Column 1 is Column Name, column 2 is Data Type, and column 3 is Purpose.">Table 3-2</a> in <a href="sql-multimedia-type-support.html#GUID-2CB0324C-A2C0-4191-9F81-670C234CE670">Annotation Text Metadata Views</a>)
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="sql-multimedia-type-support.html#GUID-6E589C3D-211A-46D6-AA4B-D930954F61AF" title='Oracle Spatial and Graph supports annotation text as specified in the OpenGIS Implementation Specification for Geographic information - Simple feature access - Part 1: Common architecture, which defines annotation text as "simply placed text that can carry either geographically-related or ad-hoc data and process-related information as displayable text. This text may be used for display in editors or in simpler maps. It is usually lacking in full cartographic quality, but may act as an approximation to such text as needed by any application."'>Annotation Text Type and Views</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL572"></a><a id="SPATL571"></a><div class="props_rev_3"><a id="GUID-2CB0324C-A2C0-4191-9F81-670C234CE670" name="GUID-2CB0324C-A2C0-4191-9F81-670C234CE670"></a><h4 id="SPATL-GUID-2CB0324C-A2C0-4191-9F81-670C234CE670" class="sect4"><span class="enumeration_section">3.5.2 </span>Annotation Text Metadata Views
                  </h4>
                  <div>
                     <p>The annotation text metadata is stored in a global table owned by MDSYS (which users should never directly update). Each Spatial and Graph user has the following views available in the schema associated with that user:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d31654e1123" class="indexterm-anchor"></a><a id="d31654e1125" class="indexterm-anchor"></a>USER_ANNOTATION_TEXT_METADATA contains metadata information for all annotation text in tables owned by the user (schema). This is the only view that you can update, and it is the one in which Spatial and Graph users must insert metadata related to spatial tables.
                           </p>
                        </li>
                        <li>
                           <p><a id="d31654e1132" class="indexterm-anchor"></a><a id="d31654e1134" class="indexterm-anchor"></a>ALL_ANNOTATION_TEXT_METADATA contains metadata information for all annotation text in tables on which the user has SELECT permission.
                           </p>
                        </li>
                     </ul>
                     <p>Spatial and Graph users are responsible for populating these views. For each annotation text object, you must insert an appropriate row into the USER_ANNOTATION_TEXT_METADATA view. Oracle Spatial and Graph ensures that the ALL_ANNOTATION_TEXT_METADATA view is also updated to reflect the rows that you insert into USER_ANNOTATION_TEXT_METADATA.</p>
                     <p>The USER_ANNOTATION_TEXT_METADATA and ALL_ANNOTATION_TEXT_METADATA views contain the same columns, as shown <a href="sql-multimedia-type-support.html#GUID-2CB0324C-A2C0-4191-9F81-670C234CE670__CHDFIHBB" title="Columns in the Annotation Text Metadata Views. Column 1 is Column Name, column 2 is Data Type, and column 3 is Purpose.">Table 3-2</a>, except that the USER_ANNOTATION_TEXT_METADATA view does not contain the OWNER column. (The columns are listed in their order in the view definition.) 
                     </p>
                     <div class="tblformalwide" id="GUID-2CB0324C-A2C0-4191-9F81-670C234CE670__CHDFIHBB">
                        <p class="titleintable">Table 3-2 Columns in the Annotation Text Metadata Views</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Columns in the Annotation Text Metadata Views" summary="Columns in the Annotation Text Metadata Views. Column 1 is Column Name, column 2 is Data Type, and column 3 is Purpose." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d31654e1159">Column Name</th>
                                 <th align="left" valign="bottom" width="18%" id="d31654e1162">Data Type</th>
                                 <th align="left" valign="bottom" width="63%" id="d31654e1165">Purpose</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d31654e1170" headers="d31654e1159 ">
                                    <p>OWNER</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d31654e1170 d31654e1162 ">
                                    <p>VARCHAR2(32)</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d31654e1170 d31654e1165 ">
                                    <p>Owner of the table specified in the TABLE_NAME column (ALL_ANNOTATION_TEXT_METADATA view only).</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d31654e1180" headers="d31654e1159 ">
                                    <p>TABLE_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d31654e1180 d31654e1162 ">
                                    <p>VARCHAR2(32)</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d31654e1180 d31654e1165 ">
                                    <p>Name of the table containing the column of type ST_ANNOTATION_TEXT.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d31654e1190" headers="d31654e1159 ">
                                    <p>COLUMN_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d31654e1190 d31654e1162 ">
                                    <p>VARCHAR2(1024)</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d31654e1190 d31654e1165 ">
                                    <p>Name of the column of type ST_ANNOTATION_TEXT.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d31654e1200" headers="d31654e1159 ">
                                    <p>TEXT_EXPRESSION</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d31654e1200 d31654e1162 ">
                                    <p>VARCHAR2(4000)</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d31654e1200 d31654e1165 ">
                                    <p>A value that can be used if text is not specified for a label. As explained in the OpenGIS specification: "Text to place is first derived from the contents of VALUE in the current element, if VALUE is not null. Otherwise, text is derived from the first non-null preceding element VALUE. If all preceding elements have null VALUE fields, VALUE is derived from the TEXT_EXPRESSION in the metadata table."</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d31654e1210" headers="d31654e1159 ">
                                    <p>TEXT_ATTRIBUTES</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d31654e1210 d31654e1162 ">
                                    <p>VARCHAR2(4000)</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d31654e1210 d31654e1165 ">
                                    <p>Default text display attributes (font family and size, horizontal and vertical spacing, and so on) for the label text style and layout, unless overridden in the <span>PRIVATETEXTATTRIBUTES</span> attribute of the ST_ANNOTATION_TEXT constructor (described in <a href="sql-multimedia-type-support.html#GUID-71C77BAD-5436-43DD-90D6-AEB9A98A0E32">Using the ST_ANNOTATION_TEXT Constructor</a>). Use the format specified in the "XML for Text Attributes" section of the OpenGIS specification. 
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="sql-multimedia-type-support.html#GUID-6E589C3D-211A-46D6-AA4B-D930954F61AF" title='Oracle Spatial and Graph supports annotation text as specified in the OpenGIS Implementation Specification for Geographic information - Simple feature access - Part 1: Common architecture, which defines annotation text as "simply placed text that can carry either geographically-related or ad-hoc data and process-related information as displayable text. This text may be used for display in editors or in simpler maps. It is usually lacking in full cartographic quality, but may act as an approximation to such text as needed by any application."'>Annotation Text Type and Views</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>