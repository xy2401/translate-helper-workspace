<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Configuring the Gateway Using TCP/IP Communication Protocol</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Installation and Configuration Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Installation and Configuration Guide for IBM AIX on POWER Systems (64-Bit), Linux x86-64, Oracle Solaris on SPARC (64-Bit), and HP-UX Itanium">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-appc-installation-and-configuration-guide-aix-5l-based-systems-64-bit-hp-ux-itanium-solaris-operating-system-sparc-64-bit-linux-x86-and-linux-x86-64.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T19:10:33-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="F18241-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="appc-gateway-config-oltp.html" title="Previous" type="text/html">
      <link rel="next" href="appc-gateway-security-requirements.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64">
    <meta name="dcterms.isVersionOf" content="APPCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="appc-gateway-config-oltp.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="appc-gateway-security-requirements.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Installation and Configuration Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Configuring the Gateway Using TCP/IP Communication Protocol</li>
            </ol>
            <a id="GUID-04DEC93D-F75C-4490-8759-EBA02099B48E" name="GUID-04DEC93D-F75C-4490-8759-EBA02099B48E"></a><a id="APPCI239"></a>
            
            <h2 id="APPCI-GUID-04DEC93D-F75C-4490-8759-EBA02099B48E" class="sect2"><span class="enumeration_chapter">11 </span>Configuring the Gateway Using TCP/IP Communication Protocol
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The following topics describe how to configure Oracle database for a gateway using TCP/IP for IMS Connect on your UNIX platform. It also provides the steps necessary to verify installation and configuration of the gateway and OLTP components.</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-DD49F500-077F-446C-B554-739F851481BA">Before You Begin</a></p>
                  </li>
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D">Preparing to Configure a Gateway Installation/Upgrade</a></p>
                  </li>
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E">Configuring Oracle Database: First-Time Installation</a></p>
                  </li>
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A">Optional Configuration Steps to Permit Multiple Users</a></p>
                  </li>
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-76CBB60C-A5F2-40F6-93BC-4CE57E20A67D">Configuring TCP/IP for the Gateway</a></p>
                  </li>
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-3ABEF2C2-2B97-4EDA-8FD4-2FECE4C0A46B">Configuring the Gateway</a></p>
                  </li>
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-CAD33A0E-F584-4C5E-9726-BA482BEA30F2">Loading the PGA_TCP_IMSC Table</a></p>
                  </li>
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-6251905A-234F-4662-97B8-194560A96D8C">Verifying the Gateway Installation and OLTP Configuration</a></p>
                  </li>
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-ECA2C74E-4708-4A8D-8C87-6A5E79A6BF9D">Performing Postinstallation Procedures</a></p>
                  </li>
               </ul>
               <p><a id="d14059e77" class="indexterm-anchor"></a><a id="d14059e83" class="indexterm-anchor"></a>Configuring Oracle Database Gateway for APPC using TCP/IP support for IMS Connect involves working with the following components:
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>Oracle database</p>
                  </li>
                  <li>
                     <p>UNIX system</p>
                  </li>
                  <li>
                     <p>Network</p>
                  </li>
                  <li>
                     <p>OLTP</p>
                  </li>
               </ul>
            </div><a id="APPCI240"></a><div class="props_rev_3"><a id="GUID-DD49F500-077F-446C-B554-739F851481BA" name="GUID-DD49F500-077F-446C-B554-739F851481BA"></a><h3 id="APPCI-GUID-DD49F500-077F-446C-B554-739F851481BA" class="sect3">Before You Begin</h3>
               <div>
                  <p>Gateway configuration using TCP/IP communication protocol requires you to input parameters unique to your system to correctly configure the gateway and TCP/IP communications interface.</p>
                  <p>Refer to <a href="appc-gateway-configuration-worksheet.html#GUID-2660834A-3E7D-4288-BDAA-AC38EC4D6230"> Configuration Worksheet</a> for a worksheet listing the installation parameters that you will need to know before you can complete the configuration process. Ask your network administrator to provide you with these unique parameter names before you begin.
                  </p>
               </div>
            </div><a id="APPCI365"></a><a id="APPCI366"></a><a id="APPCI367"></a><a id="APPCI241"></a><div class="props_rev_3"><a id="GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D" name="GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D"></a><h3 id="APPCI-GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D" class="sect3">Preparing to Configure a Gateway Installation/Upgrade</h3>
               <div>
                  <div class="section">
                     <p>There are three ways to establish the gateway and Oracle database relationship when you are installing, upgrading, or migrating the gateway:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__I1011353">When Oracle Database and the Gateway Are Installed in the Same ORACLE_HOME</a></p>
                        </li>
                        <li>
                           <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__I1011368">When Oracle Database and the Gateway Are Installed on Separate Systems</a></p>
                        </li>
                        <li>
                           <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__I1011275">When Oracle Database and the Gateway Are on the Same System but in Different Directories</a></p>
                        </li>
                     </ul>
                     <p><a id="d14059e207" class="indexterm-anchor"></a><a id="d14059e211" class="indexterm-anchor"></a><a id="d14059e215" class="indexterm-anchor"></a>Depending on the location of your gateway and your Oracle database, you might need to transfer some of the gateway administrative files to the location where Oracle database is installed.
                     </p>
                     <p>Follow the instructions applicable to your combination of the gateway-Oracle database locations listed below.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__I1011353">
                     <p class="subhead2" id="GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__GUID-689CC075-882E-4EC1-8735-BF45038994A9">When Oracle Database and the Gateway Are Installed in the Same ORACLE_HOME</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You do not need to transfer files. Proceed to <a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E">Configuring Oracle Database: First-Time Installation</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__I1011368">
                     <p class="subhead2" id="GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__GUID-49CC1E5B-7F99-4D18-809D-4CDDE1FA457A">When Oracle Database and the Gateway Are Installed on Separate Systems</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>When Oracle database and the gateway are installed on separate systems, you need to perform the following tasks:</p>
                     <ol>
                        <li>
                           <p>Locate the gateway administrative files in the gateway <code class="codeph"> $ORACLE_HOME/dg4appc/admin</code> directory. All files in this directory that have the suffix <code class="codeph">.sql</code>, <code class="codeph">.pkh</code>,<span class="bold"> </span>and <code class="codeph">.pkb</code> must be copied into a similarly named directory in the Oracle database Oracle home directory.
                           </p>
                        </li>
                        <li>
                           <p>Now, locate the gateway demo files and subdirectories in the gateway  <code class="codeph">$ORACLE_HOME/dg4appc/demo</code> directory. Copy the <code class="codeph">pgavsn.sql</code> and <code class="codeph">pgaecho.sql</code> files into a similarly named directory on Oracle database.
                           </p>
                        </li>
                        <li>
                           <p>Copy the <code class="codeph">pgaims.sql</code> file from the gateway Oracle home  <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code> directory to the Oracle database Oracle home <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code> directory.
                           </p>
                           <p> <span class="bold">Optional Steps</span>: If you want to run <code class="codeph">IVTNV</code> and <code class="codeph">IVTNO</code>, then you will need to copy the <code class="codeph">ivtno.ctl</code>, <code class="codeph">ivtnod.sql</code>, <code class="codeph">ivtnv.ctl</code>, and <code class="codeph">ivtnvd.sql</code> files into the Oracle database Oracle home at <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code> directory as well. Ensure that you generate the required TIPs and transfer them as well.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__I1011275">
                     <p class="subhead2" id="GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__GUID-C1904722-C3D0-4E28-82C4-D03D7D6AA48C">When Oracle Database and the Gateway Are on the Same System but in Different Directories</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You must change your gateway Oracle home to the Oracle database Oracle home directory.</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>For example, if your gateway Oracle home is set as follows:</span><div><pre class="oac_no_warn" dir="ltr">$ echo $ORACLE_HOME
/oracle/pga/12.2
</pre><p>and the server Oracle home is located in the <code class="codeph">/oracle/pga/12.2</code> directory, then you need to do the following:
                           </p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME=/oracle/pga/12.2; export ORACLE_HOME
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Now, create the directories with the following commands:<a id="d14059e336" class="indexterm-anchor"></a></span><div><pre class="oac_no_warn" dir="ltr">$ cd $ORACLE_HOME
$ mkdir dg4appc
$ mkdir dg4appc/admin
$ mkdir dg4appc/demo
$ mkdir dg4appc/demo/IMS
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Use whatever file transfer mechanism is available on your system to copy all of the <code class="codeph">.sql</code>, <code class="codeph">.pkh</code>, and <code class="codeph">.pkb</code> files from the gateway Oracle home  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory to the Oracle database Oracle home <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory.</span></li>
                     <li class="stepexpand"><span>You might also transfer the demo files from the gateway directory to the Oracle database directory. Copy the <code class="codeph">pgavsn.sql</code> and <code class="codeph">pgaecho.sql</code> files <code class="codeph">and</code> directory recursively from the gateway Oracle home  <code class="codeph">$ORACLE_HOME/dg4appc/demo</code> directory to the Oracle database <code class="codeph">$ORACLE_HOME/dg4appc/demo</code> directory.</span></li>
                     <li class="stepexpand"><span>You might also copy the <code class="codeph">pgaims.sql</code> file from the gateway Oracle home                     <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code> directory to the Oracle database Oracle home <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code> directory.</span><div>
                           <p><span class="bold">Optional Steps</span>: If you want to run <code class="codeph">IVTNV</code> and <code class="codeph">IVTNO</code>, then you will need to copy the <code class="codeph">ivtno.ctl</code>, <code class="codeph">ivtnod.sql</code>, <code class="codeph">ivtnv.ctl</code>, and <code class="codeph">ivtnvd.sql</code> files into the Oracle database Oracle home <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code> directory as well. Ensure that you generate the required TIPs and transfer them as well.
                           </p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>Proceed with <a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E">Configuring Oracle Database: First-Time Installation</a>. Following those steps, you may want to perform the <a href="config-appc-gateway-using-tcp-ip.html#GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A">Optional Configuration Steps to Permit Multiple Users</a>,.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCI242"></a><div class="props_rev_3"><a id="GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E" name="GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E"></a><h3 id="APPCI-GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E" class="sect3">Configuring Oracle Database: First-Time Installation</h3>
               <div>
                  <div class="section">
                     <p>Follow these steps to configure your <a id="d14059e467" class="indexterm-anchor"></a>Oracle database after installing the Oracle Database Gateway for APPC.
                     </p>
                     <ol>
                        <li>
                           <p>Ensure that the <a id="d14059e478" class="indexterm-anchor"></a><a id="d14059e480" class="indexterm-anchor"></a><a id="d14059e484" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> PL/SQL package has been installed on Oracle database. <a id="d14059e493" class="indexterm-anchor"></a><a id="d14059e499" class="indexterm-anchor"></a>All TIP specifications generated by Procedural Gateway Administrative Utility (PGAU) use <code class="codeph">UTL_RAW</code>, which provides routines for manipulating raw data.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use <a id="d14059e511" class="indexterm-anchor"></a>SQL*Plus to connect to Oracle database as the <code class="codeph">SYS</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE UTL_RAW
</pre><p>The <code class="codeph">DESCRIBE</code> statement produces output on your screen. If you browse through the output, then you should see some functions, including a compare function. If you do not see this output, then continue the <code class="codeph">UTL_RAW</code> installation by executing Step <a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1009553">1.d</a> below.
                                 </p>
                                 <p>If the <a id="d14059e537" class="indexterm-anchor"></a><a id="d14059e541" class="indexterm-anchor"></a><code class="codeph">DESCRIBE</code> statement indicates success, then Oracle database has <a id="d14059e546" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> installed and you can proceed to Step <a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1009086">2</a>.
                                 </p>
                              </li>
                              <li>
                                 <p>Use SQL*Plus to connect to Oracle database as <code class="codeph">SYS</code>.
                                 </p>
                              </li>
                              <li id="GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1009553">
                                 <p>From SQL*Plus, run the <a id="d14059e563" class="indexterm-anchor"></a><a id="d14059e567" class="indexterm-anchor"></a><code class="codeph">utlraw.sql</code> and <a id="d14059e574" class="indexterm-anchor"></a><a id="d14059e576" class="indexterm-anchor"></a><code class="codeph">prvtrawb.plb</code> scripts in the Oracle database <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory in the following order:
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/rdbms/admin/utlraw.sql
SQL&gt; @$ORACLE_HOME/rdbms/admin/prvtrawb.sql
</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1009086">
                           <p>Ensure that the <a id="d14059e591" class="indexterm-anchor"></a><a id="d14059e593" class="indexterm-anchor"></a><code class="codeph">DBMS_OUTPUT</code> standard PL/SQL <a id="d14059e600" class="indexterm-anchor"></a><a id="d14059e602" class="indexterm-anchor"></a><a id="d14059e606" class="indexterm-anchor"></a>package is enabled on <a id="d14059e611" class="indexterm-anchor"></a>Oracle database. The sample programs and installation verification programs on the distribution media use this standard package.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, use SQL*Plus to connect to the Oracle database as the  <code class="codeph">SYS</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>Enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE DBMS_OUTPUT
</pre><p>The <a id="d14059e630" class="indexterm-anchor"></a><a id="d14059e634" class="indexterm-anchor"></a><code class="codeph">DESCRIBE</code> statement produces output on screen. If you browse through that output, then you should see some functions, including a <a id="d14059e641" class="indexterm-anchor"></a><a id="d14059e643" class="indexterm-anchor"></a><code class="codeph">put_line</code> function.
                                 </p>
                                 <p>If you do not see this output, then you must create the <code class="codeph">DBMS_OUTPUT</code> package. Refer to the <a href="../arpls/DBMS_OUTPUT.html#ARPLS036" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_OUTPUT</code> package. After installing the <code class="codeph">DBMS_OUTPUT</code> package successfully, run the <code class="codeph">DESCRIBE</code> statement.
                                 </p>
                                 <p>If the <code class="codeph">DESCRIBE</code> statement indicates success, then Oracle database has <code class="codeph">DBMS_OUTPUT</code> created and you can proceed to Step&nbsp;3.
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>Install the <a id="d14059e680" class="indexterm-anchor"></a><a id="d14059e684" class="indexterm-anchor"></a><code class="codeph">UTL_PG</code> PL/SQL package. All <a id="d14059e691" class="indexterm-anchor"></a><a id="d14059e697" class="indexterm-anchor"></a>PGAU-generated TIP specifications use <code class="codeph">UTL_PG</code>, which provides routines for performing numeric conversions to and from raw data.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, use SQL*Plus to connect to Oracle database as the <code class="codeph">SYS</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">utlpg.sql</code> and <code class="codeph">prvtpgb.plb</code> scripts in the Oracle database <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory in the following order:
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/rdbms/admin/utlpg.sql
SQL&gt; @$ORACLE_HOME/rdbms/admin/prvtpgb.plb
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>I<a id="d14059e729" class="indexterm-anchor"></a>nstall the Heterogeneous Services (HS) catalogs.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, use SQL*Plus to connect to Oracle database as the <code class="codeph">SYS</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>Enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE HS_FDS_CLASS
</pre><p>The <code class="codeph">DESCRIBE</code> statement produces output on your screen. If the <code class="codeph">DESCRIBE</code> statement indicates success, then heterogeneous services catalogs have been created on Oracle database and you can proceed to Step <a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1009086">2</a>.
                                 </p>
                                 <p>If the DESCRIBE statement does not indicate success, then you must create Heterogeneous Services catalogs, and you must follow Step <a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1011512">4.c</a>:
                                 </p>
                              </li>
                              <li id="GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1011512">
                                 <p>If it is necessary to create the Heterogeneous Services catalog, then enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/rdbms/admin/caths.sql
</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1008586">
                           <p><a id="d14059e771" class="indexterm-anchor"></a><a id="d14059e775" class="indexterm-anchor"></a>Create a public database link to access the Oracle Database Gateway for APPC:<a id="d14059e782" class="indexterm-anchor"></a> 
                           </p>
                           <p>Use <a id="d14059e789" class="indexterm-anchor"></a>SQL*Plus to connect to the <a id="d14059e794" class="indexterm-anchor"></a>Oracle database as the <code class="codeph">SYSTEM</code> user. You can use the following SQL*Plus<a id="d14059e800" class="indexterm-anchor"></a> sample whether the Oracle database and the gateway are on the same system or on different systems. In the following sample, <code class="codeph">pgasrv</code> is the <span class="italic"><code class="codeph">tns_name_entry</code></span> that will be assigned to the gateway when you modify the <code class="codeph">tnsnames.ora</code> file later.
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK PGA USING <span class="italic">'PGASRV'</span>
</pre></li>
                        <li>
                           <p>Create the gateway administrator user (<a id="d14059e824" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code>) and install the <a id="d14059e831" class="indexterm-anchor"></a>PG DD.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to Oracle database as the <code class="codeph">SYSTEM</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">pgacr8au.sql</code> <a id="d14059e849" class="indexterm-anchor"></a><a id="d14059e851" class="indexterm-anchor"></a>script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script creates the <code class="codeph">PGAADMIN</code> user&nbsp;ID.
                                 </p>
                                 <p>The initial password defined for <a id="d14059e866" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> is <code class="codeph">PGAADMIN</code>. Use the <a id="d14059e876" class="indexterm-anchor"></a><a id="d14059e878" class="indexterm-anchor"></a><code class="codeph">ALTER USER</code> command to change the password. For further information about password issues, refer to the <a href="../sqlrf/ALTER-USER.html#SQLRF01103" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgacr8au.sql
</pre></li>
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database as <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">pgddcr8.sql</code> <a id="d14059e904" class="indexterm-anchor"></a><a id="d14059e906" class="indexterm-anchor"></a><a id="d14059e910" class="indexterm-anchor"></a>script in the <code class="codeph"> $ORACLE_HOME/dg4appc/admin</code> directory. This script installs the PG&nbsp;DD.
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgddcr8.sql
</pre></li>
                              <li>
                                 <p>From SQL*Plus, connect to the Oracle database as the <code class="codeph">SYS</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d14059e929" class="indexterm-anchor"></a>Grant execute privileges on <a id="d14059e934" class="indexterm-anchor"></a><code class="codeph">DBMS_PIPE</code> to <code class="codeph">PGAADMIN</code>:<a id="d14059e942" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT EXECUTE ON DBMS_PIPE TO PGAADMIN
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Ensure that the <a id="d14059e951" class="indexterm-anchor"></a><code class="codeph">pg4tcpmap</code> package has been installed on your Oracle database. Follow Steps&nbsp;a through&nbsp;c to test for proper installation of <code class="codeph">pg4tcpmap</code>.
                           </p>
                           <p>Refer to <a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-DB20E471-8E82-4F30-A7E5-77D5ECDE3337">Output for the pg4tcpmap Tool</a> in <a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-161073EE-D171-4C01-BB8F-640F6BC6B6D8"> Gateway Initialization Parameters for TCP/IP Communication Protocol </a> for a sample of the output from the <code class="codeph">pg4tcpmap</code> tool, and refer to Chapter 6 of the <a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for details about the commands needed to run the tool.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use <a id="d14059e983" class="indexterm-anchor"></a>SQL*Plus to connect to Oracle database as the <code class="codeph">SYSTEM</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>Enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; select owner, table_name
from dba_tables
where table_name = 'PGA_TCP_IMSC', 
and owner = 'PGAADMIN';
SQL&gt; column owner format a 10
SQL&gt; column index_name format a 18
SQL&gt; column table_name format a 14
SQL&gt; select owner, index_name, table_name
from dba_indexes
where index_name = 'PGA_TCP_IMSC_IND';
</pre><p>Each <code class="codeph">SELECT</code> statement must produce one row. The following output is the result of the first <code class="codeph">SELECT</code> statement:
                                 </p><pre class="oac_no_warn" dir="ltr">TABLE_NAME                        OWNER            
------------------------------   ------------------------------
PGA_TCP_IMSC                      PGAADMIN
</pre><p>The following output is the result of the second <code class="codeph">SELECT</code> statement:
                                 </p><pre class="oac_no_warn" dir="ltr">OWNER          INDEX_NAME           TABLE_NAME      UNIQUENESS
----------     ------------------   --------------  ---------
PGAADMIN       PGA_TCP_IMSC_IND     PGA_TCP_IMSC    UNIQUE
</pre><p>If the <code class="codeph">SELECT</code> statements produce the preceding output on your screen, then you can skip to Step 8. If the <code class="codeph">SELECT</code> statement produces no output or more than one row, then the result is not the same as the output described above, and it is necessary for you to perform Step 1.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">pgaimsc.sql</code> script in the Oracle database <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory:
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgaimsc.sql
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Install the <a id="d14059e1035" class="indexterm-anchor"></a><a id="d14059e1039" class="indexterm-anchor"></a>TIP trace access PL/SQL routines. These routines require that the <a id="d14059e1042" class="indexterm-anchor"></a><code class="codeph">DBMS_PIPE</code> standard PL/SQL package is installed and that <a id="d14059e1047" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> has execute privileges on it. For more information on <code class="codeph">DBMS_PIPE</code>, refer to the <a href="../arpls/DBMS_PIPE.html#ARPLS038" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, use SQL*Plus to connect to the <a id="d14059e1065" class="indexterm-anchor"></a>Oracle database as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the<code class="codeph"> pgatiptr.sql</code> script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script creates<a id="d14059e1082" class="indexterm-anchor"></a> PL/SQL routines that can be called to read and purge trace information created by PGAU-generated <a id="d14059e1087" class="indexterm-anchor"></a>TIP specifications. It also creates public synonyms for these routines. The script prompts you for the necessary user&nbsp;IDs and passwords.
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgatiptr.sql
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Install the <code class="codeph">GPGLOCAL</code> package. This package is required for compilation and execution of all PGAU-generated <a id="d14059e1100" class="indexterm-anchor"></a>TIP specifications. <a id="d14059e1105" class="indexterm-anchor"></a><a id="d14059e1109" class="indexterm-anchor"></a><a id="d14059e1113" class="indexterm-anchor"></a>TIP developers should be granted execute privileges on <a id="d14059e1118" class="indexterm-anchor"></a><code class="codeph">GPGLOCAL</code> (refer to <a href="config-appc-gateway-using-tcp-ip.html#GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A">Optional Configuration Steps to Permit Multiple Users</a>).
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to Oracle database as <a id="d14059e1132" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">gpglocal.pkh</code> script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script compiles the <a id="d14059e1148" class="indexterm-anchor"></a><a id="d14059e1150" class="indexterm-anchor"></a><code class="codeph">GPGLOCAL</code> package specification.<a id="d14059e1158" class="indexterm-anchor"></a><a id="d14059e1160" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/gpglocal.pkh
</pre></li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">gpglocal.pkb</code> script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script compiles the <code class="codeph">GPGLOCAL</code> package body.<a id="d14059e1180" class="indexterm-anchor"></a><a id="d14059e1182" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/gpglocal.pkb
</pre><div class="infoboxnote" id="GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__GUID-B4DEC47E-D3BB-499C-8FDF-84BE64F28827">
                                    <p class="notep1">Note:</p>
                                    <p><span class="bold">Recompile TIPs when changing communication protocol from SNA to TCP/IP</span>:
                                    </p>
                                    <p>If you have existing TIPs that were generated previously on a gateway using the SNA communication package protocol and you want to utilize the new TCP/IP feature, then the TIPs have to be regenerated by PGAU with certain mandatory <code class="codeph">NLS_LANGUAGE</code> and Side Profile Settings. Specify the correct ASCII character set in the <code class="codeph">DEFINE TRANSACTION</code> command.
                                    </p>
                                    <p>This is because the gateway assumes that the correct user exit in IMS Connect is being used, which would translate between the correct ASCII and EBCDIC character sets.</p>
                                 </div>
                              </li>
                           </ol>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCI243"></a><div class="props_rev_3"><a id="GUID-4DF3403C-D948-40CA-9732-15FF4D2219F7" name="GUID-4DF3403C-D948-40CA-9732-15FF4D2219F7"></a><h3 id="APPCI-GUID-4DF3403C-D948-40CA-9732-15FF4D2219F7" class="sect3">Upgrading or Migrating the Oracle Database from Previous Gateways</h3>
               <div>
                  <div class="section">
                     <p>Follow these instructions only if you have a previous version of the Oracle Database Gateway for APPC installed on your system and need to configure it for 12<span class="italic">c</span> Release 2 (12.2) of the gateway.
                     </p>
                     <ol>
                        <li>
                           <p>Upgrade your Oracle Database Gateway for APPC to current version levels as follows:</p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to Oracle database as the <code class="codeph">SYS</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>Install the <code class="codeph">UTL_RAW</code> package body. From SQL*Plus, run the <code class="codeph">prvtrawb.plb</code> <a id="d14059e1273" class="indexterm-anchor"></a><a id="d14059e1275" class="indexterm-anchor"></a>script from the <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory. This script upgrades the <code class="codeph">UTL_RAW</code> package body.
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/rdbms/admin/prvtrawb.plb
</pre></li>
                              <li>
                                 <p>Install the <code class="codeph">UTL_PG</code> package body. From SQL*Plus, run the <code class="codeph">prvtpgb.plb</code> <a id="d14059e1297" class="indexterm-anchor"></a><a id="d14059e1301" class="indexterm-anchor"></a>script from the <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory.<a id="d14059e1309" class="indexterm-anchor"></a><a id="d14059e1314" class="indexterm-anchor"></a> This script upgrades the <code class="codeph">UTL_PG</code> package body.
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/rdbms/admin/prvtpgb.plb
</pre><p>The <code class="codeph">prvtrawb.plb</code> and <code class="codeph">prvtpgb.plb</code> scripts should complete successfully. If they fail because specifications do not exist or were invalidated, then consider reinstalling the package specifications as directed in the following section.
                                 </p>
                              </li>
                           </ol>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCI387"></a><a id="APPCI388"></a><a id="APPCI244"></a><div class="props_rev_3"><a id="GUID-98F3B025-307D-4CE6-A28A-61964EC37AEC" name="GUID-98F3B025-307D-4CE6-A28A-61964EC37AEC"></a><h4 id="APPCI-GUID-98F3B025-307D-4CE6-A28A-61964EC37AEC" class="sect4">If You Must Reinstall Package Specifications</h4>
                  <div>
                     <div class="section">
                        <p>If the <a id="d14059e1376" class="indexterm-anchor"></a><a id="d14059e1382" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> or <a id="d14059e1391" class="indexterm-anchor"></a><a id="d14059e1397" class="indexterm-anchor"></a><code class="codeph">UTL_PG</code> package has been invalidated or deinstalled, then the <code class="codeph">prvtrawb.plb</code> and <code class="codeph">prvtpgb.plb</code> scripts might not complete successfully. You may have to reinstall <a id="d14059e1413" class="indexterm-anchor"></a><a id="d14059e1417" class="indexterm-anchor"></a><a id="d14059e1421" class="indexterm-anchor"></a>the package specifications.
                        </p>
                        <p>If you do reinstall the package specifications, then any dependent objects (such as existing user TIPs and client applications) are invalidated and subsequently need <a id="d14059e1430" class="indexterm-anchor"></a>to be recompiled. The impact of this is a one-time performance delay while recompilation of the TIPs and dependent client applications proceeds.
                        </p>
                        <div class="infoboxnote" id="GUID-98F3B025-307D-4CE6-A28A-61964EC37AEC__GUID-50679B6F-0B77-4EBF-B71B-50697CC626C4">
                           <p class="notep1">Note:</p>
                           <p>Before proceeding with reinstallation of the package scripts, ensure that you are in the<code class="codeph">  $ORACLE_HOME/dg4appc/admin</code> directory.
                           </p>
                        </div>
                        <p>TIPs were split into separate specification and body files in release&nbsp;3.3 to avoid cascaded recompilations in later releases.</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-98F3B025-307D-4CE6-A28A-61964EC37AEC__GUID-E8CC2C0D-848E-4580-B198-69568802036C">
                                 <!-- --></a>Step 1&nbsp;&nbsp;&nbsp;Run the Following Scripts Before Proceeding with the PGAU Upgrade
                           </dt>
                           <dd>
                              <p>From SQL*Plus, run the <code class="codeph">utlraw.sql</code> script:
                              </p>
                              <ol>
                                 <li>
                                    <p>If necessary, use SQL*Plus to connect to the Oracle database as the <code class="codeph">SYS</code> user.
                                    </p>
                                 </li>
                                 <li>
                                    <p>From SQL*Plus, run the <code class="codeph">utlraw.sql</code> and <code class="codeph">utlpg.sql</code> scripts in the Oracle database <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory, in the following order, to upgrade their respective package specifications:<a id="d14059e1478" class="indexterm-anchor"></a><a id="d14059e1482" class="indexterm-anchor"></a><a id="d14059e1486" class="indexterm-anchor"></a><a id="d14059e1490" class="indexterm-anchor"></a> 
                                    </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/rdbms/admin/utlraw.sql
SQL&gt; @$ORACLE_HOME/rdbms/admin/utlpg.sql</pre></li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-98F3B025-307D-4CE6-A28A-61964EC37AEC__GUID-88451163-0DF9-4B7C-8FA8-C088EBE81B01">
                                 <!-- --></a>Step 2&nbsp;&nbsp;&nbsp;Repeat Installation of UTL_RAW and UTL_PG Package Body
                           </dt>
                           <dd>
                              <p>After the scripts have run, repeat Steps b and c in <span class="q">"<a href="config-appc-gateway-using-tcp-ip.html#GUID-4DF3403C-D948-40CA-9732-15FF4D2219F7">Upgrading or Migrating the Oracle Database from Previous Gateways</a>"</span>. Then, proceed to the section titled <span class="q">"<a href="config-appc-gateway-using-tcp-ip.html#GUID-A60371FA-B377-40CA-88A1-88129A0F01D8">Upgrading PGAU from Previous Gateway Releases</a>"</span>.
                              </p>
                              <div class="infoboxnote" id="GUID-98F3B025-307D-4CE6-A28A-61964EC37AEC__GUID-4383B03B-87DA-412F-8B6A-6768CFC26482">
                                 <p class="notep1">Note:</p>
                                 <p>TIPs and dependent client applications must be recompiled after reinstallation of the package specifications. Refer to the "Compiling a TIP" section in Chapter&nbsp;3 of the <a href="../appug/creating-tip-oracle-database-gateway-appc.html#APPUG968" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for information about compiling TIPs.
                                 </p>
                              </div>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPCI245"></a><div class="props_rev_3"><a id="GUID-A60371FA-B377-40CA-88A1-88129A0F01D8" name="GUID-A60371FA-B377-40CA-88A1-88129A0F01D8"></a><h4 id="APPCI-GUID-A60371FA-B377-40CA-88A1-88129A0F01D8" class="sect4">Upgrading PGAU from Previous Gateway Releases</h4>
                  <div>
                     <div class="section">
                        <p>Upgrade the <a id="d14059e1554" class="indexterm-anchor"></a>PG DD as follows before running the new PGAU:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>If necessary, use SQL*Plus to connect to Oracle database as the <code class="codeph">PGAADMIN</code> user.</span></li>
                        <li><span>From SQL*Plus, run the <code class="codeph">pgddupgr.sql</code> <a id="d14059e1572" class="indexterm-anchor"></a><a id="d14059e1574" class="indexterm-anchor"></a>script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script upgrades the PG&nbsp;DD. </span></li>
                     </ol>
                  </div>
               </div>
            </div><a id="APPCI246"></a><div class="props_rev_3"><a id="GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A" name="GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A"></a><h3 id="APPCI-GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A" class="sect3">Optional Configuration Steps to Permit Multiple Users</h3>
               <div>
                  <div class="section">
                     <p>The following configuration steps are optional. Perform these steps if you want to allow users other than <a id="d14059e1637" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> to perform <a id="d14059e1644" class="indexterm-anchor"></a>PG DD operations using PGAU.
                     </p>
                     <ol>
                        <li>
                           <p>Create <a id="d14059e1653" class="indexterm-anchor"></a><a id="d14059e1655" class="indexterm-anchor"></a>public synonyms for the PG DD to allow other users to access the tables:
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to Oracle database as the <code class="codeph">SYSTEM</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">pgddcr8s.sql</code> script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script creates public synonyms for the PG DD.
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgddcr8.sql
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Create roles for accessing the PG DD, performing definitions of transactions, and generating <a id="d14059e1683" class="indexterm-anchor"></a>TIP specifications. The <code class="codeph">PGAADMIN</code> user can grant these roles to other users as necessary.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to Oracle database as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">pgddcr8r.sql</code> script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script creates two roles, <code class="codeph">PGDDDEF</code> and <code class="codeph">PGDDGEN</code>. The <a id="d14059e1716" class="indexterm-anchor"></a><a id="d14059e1718" class="indexterm-anchor"></a><code class="codeph">PGDDDEF</code> role provides <code class="codeph">SELECT</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> privileges against some of the <a id="d14059e1738" class="indexterm-anchor"></a>PG DD tables, and <code class="codeph">SELECT</code> privileges against others, and allows execution of the PGAU <code class="codeph">DEFINE</code>, <code class="codeph">GENERATE</code>, <code class="codeph">REDEFINE</code>, <code class="codeph">REPORT</code>, and <code class="codeph">UNDEFINE</code> statements. The <a id="d14059e1762" class="indexterm-anchor"></a><a id="d14059e1764" class="indexterm-anchor"></a><code class="codeph">PGDDGEN</code> role provides select privileges against the PG DD tables and allows execution of the PGAU <code class="codeph">GENERATE</code> and <code class="codeph">REPORT</code> statements only.
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgddcr8r.sql
</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A__I1012843">
                           <p><a id="d14059e1781" class="indexterm-anchor"></a><a id="d14059e1785" class="indexterm-anchor"></a><a id="d14059e1789" class="indexterm-anchor"></a><a id="d14059e1793" class="indexterm-anchor"></a>Grant access to PGA required packages.
                           </p>
                           <p><a id="d14059e1799" class="indexterm-anchor"></a><a id="d14059e1803" class="indexterm-anchor"></a>TIP developers require access to the following PL/SQL packages, which are shipped with <a id="d14059e1808" class="indexterm-anchor"></a>Oracle database:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a id="d14059e1816" class="indexterm-anchor"></a><code class="codeph">DBMS_PIPE</code> in the <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d14059e1826" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> in the <code class="codeph">$ORACLE_HOME/rdbms/admin</code><a id="d14059e1833" class="indexterm-anchor"></a> directory
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d14059e1842" class="indexterm-anchor"></a><code class="codeph">UTL_PG</code> in the <code class="codeph">$ORACLE_HOME/rdbms/admin</code><a id="d14059e1849" class="indexterm-anchor"></a><a id="d14059e1853" class="indexterm-anchor"></a> directory
                                 </p>
                              </li>
                           </ul>
                           <p>Explicit grants to run these packages must be made to TIP developers.</p>
                           <p>These grants can be private as in the following example:</p><pre class="oac_no_warn" dir="ltr">$ sqlplus SYS/ pw@database_specification_string
SQL&gt; GRANT EXECUTE ON UTL_RAW TO tip_developer;
SQL&gt; GRANT EXECUTE ON UTL_PG TO tip_developer;
SQL&gt; GRANT EXECUTE ON DBMS_PIPE TO tip_developer;
SQL&gt; CONNECT PGAADMIN/ pw@database_specification_string
SQL&gt; GRANT EXECUTE ON PGAADMIN.PURGE_TRACE TO tip_developer;
SQL&gt; GRANT EXECUTE ON PGAADMIN.READ_TRACE TO tip_developer;
SQL&gt; GRANT EXECUTE ON PGAADMIN.GPGLOCAL TO tip_developer;
SQL&gt; EXIT
</pre><p>Alternatively, these grants can be public as in the following example:</p><pre class="oac_no_warn" dir="ltr">$ sqlplus SYS/pw@ database_specification_string
SQL&gt; GRANT EXECUTE ON UTL_RAW TO PUBLIC;
SQL&gt; GRANT EXECUTE ON UTL_PG TO PUBLIC;
SQL&gt; GRANT EXECUTE ON DBMS_PIPE to PUBLIC;
SQL&gt; CONNECT PGAADMIN/ pw@database_specification_string
SQL&gt; GRANT EXECUTE ON PGAADMIN.PURGE_TRACE TO PUBLIC;
SQL&gt; GRANT EXECUTE ON PGAADMIN.READ_TRACE TO PUBLIC;
SQL&gt; GRANT EXECUTE ON PGAADMIN.GPGLOCAL TO PUBLIC;
SQL&gt; EXIT
</pre><p>You can use either private or public grants. Both are sufficient for using PGA. Public grants are easier and can be performed now. If you use private grants, then they must be given each time a new TIP developer user ID is created.</p>
                           <p>SQL scripts for performing these grants are provided in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. The<a id="d14059e1877" class="indexterm-anchor"></a><a id="d14059e1881" class="indexterm-anchor"></a> <code class="codeph">pgddapub.sql</code> script performs these grants for public access to the packages. The <code class="codeph">pgddadev.sql</code> script performs the grants for private access to the packages by a single TIP developer. If you are going to use private grants, then you must run the <code class="codeph">pgddadev.sql</code> script once for each TIP developer user&nbsp;ID:
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to Oracle database as <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the appropriate script (<code class="codeph">pgddapub.sql</code> or <code class="codeph">pgddadev.sql</code>) from the <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. The script performs the necessary grants as described earlier. You are prompted for the required user&nbsp;IDs, passwords, and database specification strings. If you are using private grants, then repeat this step for each user&nbsp;ID requiring access to the packages. 
                                 </p>
                                 <p>If you are using private grants, then repeat this step for each user ID requiring access to the packages.</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgddapub.sql
</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgddadev.sql
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p><a id="d14059e1925" class="indexterm-anchor"></a><a id="d14059e1931" class="indexterm-anchor"></a>If you are upgrading from a previous release of the gateway when the communication protocol was SNA, to the current gateway using TCP/IP, and if you want to upgrade your existing <a id="d14059e1936" class="indexterm-anchor"></a><a id="d14059e1940" class="indexterm-anchor"></a>TIPs with new function and maintenance, then regenerate existing T<a id="d14059e1945" class="indexterm-anchor"></a>IP specifications using the <a id="d14059e1950" class="indexterm-anchor"></a>PGAU <code class="codeph">GENERATE</code> statement.
                           </p>
                           <div class="infoboxnote" id="GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A__GUID-EED172DF-C5DF-4CD5-BD0E-5A291AD7C9C7">
                              <p class="notep1">Note:</p>
                              <p>The <a id="d14059e1961" class="indexterm-anchor"></a>PGAU has been enhanced to automatically upgrade existing PG DD entries <a id="d14059e1966" class="indexterm-anchor"></a><a id="d14059e1970" class="indexterm-anchor"></a>with a new attribute when a <a id="d14059e1975" class="indexterm-anchor"></a>PGAU <code class="codeph">GENERATE</code> command is executed. To support this enhancement, add a new privilege to the <a id="d14059e1983" class="indexterm-anchor"></a><code class="codeph">PGDDGEN</code> role. To do this as the <code class="codeph">PGAADMIN</code> user, use SQL*Plus to connect to the Oracle database installation where the PG&nbsp;DD is stored. Then issue the following SQL command:
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT INSERT ON PGA_DATA_VALUES TO PGDDGEN
</pre></div>
                           <ol type="a">
                              <li>
                                 <p>Start PGAU from the directory path where the PGAU control files are generated and where TIPs are stored:</p><pre class="oac_no_warn" dir="ltr">$ pgau
PGAU&gt; CONNECT PGAADMIN/pgaadmin@<span class="italic">database_specification_string</span> 
PGAU&gt; GENERATE <span class="italic">tranname</span> 
PGAU&gt; EXIT
</pre></li>
                           </ol>
                           <p>For more information about the <code class="codeph">GENERATE</code> command, refer to the PGAU <code class="codeph">GENERATE</code> command section in Chapter 2 of the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG944" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a>.
                           </p>
                           <p>Note that it is not necessary to define the PG DD entries again.</p>
                        </li>
                        <li>
                           <p>Start SQL*Plus in the same directory path where the newly-generated TIP specifications are stored.</p><pre class="oac_no_warn" dir="ltr">$ sqlplus <span class="italic">tip_owner/pw@database_specification_string</span> 
SQL&gt; @<span class="italic">tipname.</span>pkh 
SQL&gt; @<span class="italic">tipname</span>.pkb
SQL&gt; exit
</pre><p><a id="d14059e2038" class="indexterm-anchor"></a><a id="d14059e2044" class="indexterm-anchor"></a><a id="d14059e2048" class="indexterm-anchor"></a>PGAU <code class="codeph">GENERATE</code> produces the TIP in two output files: a specification and a body. You must compile both, first the specification and then the body.
                           </p>
                           <p>For more information about the <code class="codeph">GENERATE</code> command, refer to the PGAU <code class="codeph">GENERATE</code> command section in Chapter 2, of the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG944" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a>.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCI247"></a><div class="props_rev_3"><a id="GUID-76CBB60C-A5F2-40F6-93BC-4CE57E20A67D" name="GUID-76CBB60C-A5F2-40F6-93BC-4CE57E20A67D"></a><h3 id="APPCI-GUID-76CBB60C-A5F2-40F6-93BC-4CE57E20A67D" class="sect3">Configuring TCP/IP for the Gateway</h3>
               <div>
                  <p>You must now configure the TCP/IP for IMS Connect communication package profiles for TCP/IP connections.</p>
                  <p>Configure the profiles to define the TCP/IP conversations with the <a id="d14059e2124" class="indexterm-anchor"></a>OLTP. 
                  </p>
                  <p>When you have finished configuring your communications package, return to the following section <span class="q">"<a href="config-appc-gateway-using-tcp-ip.html#GUID-3ABEF2C2-2B97-4EDA-8FD4-2FECE4C0A46B">Configuring the Gateway</a>"</span>,.
                  </p>
               </div>
            </div><a id="APPCI248"></a><div class="props_rev_3"><a id="GUID-3ABEF2C2-2B97-4EDA-8FD4-2FECE4C0A46B" name="GUID-3ABEF2C2-2B97-4EDA-8FD4-2FECE4C0A46B"></a><h3 id="APPCI-GUID-3ABEF2C2-2B97-4EDA-8FD4-2FECE4C0A46B" class="sect3">Configuring the Gateway</h3>
               <div>
                  <div class="section">
                     <p>To configure the gateway, perform the following:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Tailor the gateway parameters.</span><div>
                           <p>There are a number of parameters specific<a id="d14059e2178" class="indexterm-anchor"></a> to Oracle Database Gateway for APPC when it is using TCP/IP for IMS Connect. These are supplied in the gateway parameter file, <code class="codeph">init</code><span class="italic"><code class="codeph">sid.</code></span><code class="codeph">ora</code>, which is in the  <a id="d14059e2195" class="indexterm-anchor"></a><code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. A sample gateway parameter <a id="d14059e2201" class="indexterm-anchor"></a><a id="d14059e2203" class="indexterm-anchor"></a><a id="d14059e2209" class="indexterm-anchor"></a>file, <code class="codeph">initPGA.ora</code> is provided in this subdirectory.<a id="d14059e2217" class="indexterm-anchor"></a><a id="d14059e2221" class="indexterm-anchor"></a><a id="d14059e2227" class="indexterm-anchor"></a></p>
                           <div class="infoboxnote" id="GUID-3ABEF2C2-2B97-4EDA-8FD4-2FECE4C0A46B__GUID-E2B1DF15-C503-4995-B6F5-A24B0C61C0BC">
                              <p class="notep1">Note:</p>
                              <p>In the <a id="d14059e2234" class="indexterm-anchor"></a><a id="d14059e2236" class="indexterm-anchor"></a><code class="codeph">init</code><span class="italic"><code class="codeph">sid.</code></span><code class="codeph">ora</code> file, substitute your gateway<span class="bold"> </span>SID name for "<span class="italic"><code class="codeph">sid</code></span> " in this file name.
                              </p>
                              <p>The <code class="codeph">init</code><span class="italic"><code class="codeph">sid.</code></span><code class="codeph">ora</code> file contains both APPC and TCP/IP parameters separated by a description. You must modify the <code class="codeph">init</code><span class="italic"><code class="codeph">sid.</code></span><code class="codeph">ora</code> file by deleting the APPC parameters. Refer to <span class="q">"<a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-29777E00-DE70-4FE6-BB98-0BD6CE25537C">Gateway Initialization Parameter File Using TCP/IP</a>"</span> for the valid TCP/IP parameters.
                              </p>
                           </div>
                           <p>The parameters fall into two categories:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Gateway initialization <a id="d14059e2284" class="indexterm-anchor"></a><a id="d14059e2290" class="indexterm-anchor"></a><a id="d14059e2294" class="indexterm-anchor"></a>parameters
                                 </p>
                                 <p>These parameters control the general operation of the gateway in the Oracle environment.</p>
                                 <div class="infoboxnote" id="GUID-3ABEF2C2-2B97-4EDA-8FD4-2FECE4C0A46B__GUID-5ED69225-F7E7-4C7E-8B4E-4D13964F6961">
                                    <p class="notep1">Note:</p>
                                    <p>Before performing the following step, refer to <span class="q">"<a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-29777E00-DE70-4FE6-BB98-0BD6CE25537C">Gateway Initialization Parameter File Using TCP/IP</a>"</span> for information about tailoring gateway initialization and PGA parameters. Pay special attention to the information about using the <a id="d14059e2309" class="indexterm-anchor"></a><code class="codeph">PGA_CAPABILITY</code> parameter.
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p>PGA <a id="d14059e2319" class="indexterm-anchor"></a><a id="d14059e2323" class="indexterm-anchor"></a><a id="d14059e2329" class="indexterm-anchor"></a>parameters
                                 </p>
                                 <p>PGA parameters control the TCP/IP interface portion of the gateway. Use the <a id="d14059e2336" class="indexterm-anchor"></a><a id="d14059e2340" class="indexterm-anchor"></a><code class="codeph">SET</code> gateway initialization parameter to specify PGA parameters. Oracle recommends that you group all <code class="codeph">SET</code> commands<a id="d14059e2352" class="indexterm-anchor"></a><a id="d14059e2354" class="indexterm-anchor"></a> for PGA parameters at the end of the <code class="codeph">init</code><span class="italic"><code class="codeph">sid.</code></span><code class="codeph">ora</code> file. 
                                 </p>
                                 <div class="infoboxnote" id="GUID-3ABEF2C2-2B97-4EDA-8FD4-2FECE4C0A46B__GUID-9CAAD2E7-97BD-468A-AC31-34F2ACA24067">
                                    <p class="notep1">Note:</p>
                                    <p>Misspelled parameters are ignored<a id="d14059e2371" class="indexterm-anchor"></a>. However, if the <code class="codeph"> $ORACLE_HOME/dg4appc/admin/init</code><span class="italic"><code class="codeph">sid</code></span>.<code class="codeph">ora</code> file is missing all calls to the gateway fail and return a <code class="codeph">PGA-20928</code> error.
                                    </p>
                                 </div>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="APPCI249"></a><div class="props_rev_3"><a id="GUID-CAD33A0E-F584-4C5E-9726-BA482BEA30F2" name="GUID-CAD33A0E-F584-4C5E-9726-BA482BEA30F2"></a><h3 id="APPCI-GUID-CAD33A0E-F584-4C5E-9726-BA482BEA30F2" class="sect3">Loading the PGA_TCP_IMSC Table</h3>
               <div>
                  <div class="section">
                     <p>Gateway users who want to employ the TCP/IP protocol do so by using the <a id="d14059e2432" class="indexterm-anchor"></a><code class="codeph">pg4tcpmap</code> tool.
                     </p>
                     <p>The <a id="d14059e2441" class="indexterm-anchor"></a><code class="codeph">pg4tcpmap</code> tool is located on the gateway. Its function is to map the Side Profile Name to TCP/IP and IMS Connect attributes. You must run this tool before executing the PL/SQL gateway statements (such as <code class="codeph"> $ORACLE_HOME/dg4appc/demo/IMS/pgaims.sql</code>).
                     </p>
                     <p>In <a id="d14059e2454" class="indexterm-anchor"></a><code class="codeph">PGAINIT</code> TIP, for example, the user must specify a Side Profile Name. The SNA protocol recognizes and utilizes the parameter. In this release of the gateway, the <code class="codeph">pg4tcpmap</code> tool uses the original <code class="codeph">PGAINIT</code> TIP format to map the relevant SNA parameters to TCP/IP. The <code class="codeph">pg4tcpmap</code> tool inserts the values of these parameters into a table called <a id="d14059e2468" class="indexterm-anchor"></a><a id="d14059e2473" class="indexterm-anchor"></a><code class="codeph">PGA_TCP_IMSC</code>.
                     </p>
                     <p>Before executing <code class="codeph">pg4tcpmap</code>, you must specify the <code class="codeph">ORACLE_HOME</code>, Oracle SID, and modify <code class="codeph">init</code><span class="italic"><code class="codeph">sid.</code></span><code class="codeph">ora</code>. Refer to <a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-161073EE-D171-4C01-BB8F-640F6BC6B6D8"> Gateway Initialization Parameters for TCP/IP Communication Protocol </a> in this guide and Chapter 6 in the <a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for complete information about the <code class="codeph">pg4tcpmap</code> commands. 
                     </p>
                     <p>Chapter 6 of the <a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> contains a list of the <a id="d14059e2516" class="indexterm-anchor"></a><code class="codeph">pg4tcpmap</code> commands and instructions for using them, as well as an example of the table. Refer to Chapter 8, "Troubleshooting" in the <a href="../appug/troubleshooting-oracle-database-gateway-appc.html#APPUG800" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for information about the trace file for the executed <code class="codeph">pg4tcpmap</code> tool.
                     </p>
                     <p>To operate this tool, execute the following command:</p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/pg4tcpmap
</pre><p>Refer to <a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-DB20E471-8E82-4F30-A7E5-77D5ECDE3337">Output for the pg4tcpmap Tool</a> for a sample of the <code class="codeph">pg4tcpmap</code> output.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCI250"></a><div class="props_rev_3"><a id="GUID-6251905A-234F-4662-97B8-194560A96D8C" name="GUID-6251905A-234F-4662-97B8-194560A96D8C"></a><h3 id="APPCI-GUID-6251905A-234F-4662-97B8-194560A96D8C" class="sect3">Verifying the Gateway Installation and OLTP Configuration</h3>
               <div>
                  <div class="section">
                     <p>To verify the gateway installation and the OLTP configuration, perform the following procedures after installing the gateway.<a id="d14059e2576" class="indexterm-anchor"></a><a id="d14059e2582" class="indexterm-anchor"></a></p>
                     <div class="infoboxnote" id="GUID-6251905A-234F-4662-97B8-194560A96D8C__GUID-478ABCA8-79F2-4364-BA7A-67470FE44F6B">
                        <p class="notep1">Note:</p>
                        <p>If your <a id="d14059e2591" class="indexterm-anchor"></a>database link name is not "PGA," modify the demonstration <code class="codeph">.sql</code> files to give them the particular database link name that you created in Step <a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1008586">5</a> of <a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E">Configuring Oracle Database: First-Time Installation</a>. You must modify the following .<code class="codeph">sql</code> files:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">pgavsn.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgaecho.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgaims.sql</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCI251"></a><div class="props_rev_3"><a id="GUID-83967F47-B017-4C5D-A320-5A9C7237B067" name="GUID-83967F47-B017-4C5D-A320-5A9C7237B067"></a><h4 id="APPCI-GUID-83967F47-B017-4C5D-A320-5A9C7237B067" class="sect4">Verifying the Gateway Installation</h4>
                  <div>
                     <div class="section">
                        <p>To verify the gateway software installation using the <a id="d14059e2675" class="indexterm-anchor"></a><a id="d14059e2681" class="indexterm-anchor"></a>database link PGA previously created, perform the following steps:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Using SQL*Plus, connect to your <a id="d14059e2692" class="indexterm-anchor"></a>Oracle database as <a id="d14059e2699" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code>.</span></li>
                        <li class="stepexpand"><span>Run <code class="codeph">$ORACLE_HOME/dg4appc/demo/pgavsn.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/demo/pgavsn.sql
</pre><p>The server version number banner appears at your terminal. The following output appears:</p><pre class="oac_no_warn" dir="ltr">Oracle Database Gateway for APPC (extension TCP/IP for IMS connect).
Version
12.2.0.1.0 Wed Aug 24 14:52:36 2016
 
Copyright (c) Oracle Corporation 1979,
2016.  All rights reserved.

PL/SQL procedure successfully completed.
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Run <code class="codeph">$ORACLE_HOME/dg4appc/demo/pgaecho.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/demo/pgaecho.sql
</pre><p>You will receive the following output:</p><pre class="oac_no_warn" dir="ltr">==&gt; Congratulations, your installation was successful. &lt;==</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="APPCI252"></a><div class="props_rev_3"><a id="GUID-6C74A498-4D5F-4A56-B208-305355C3ABC4" name="GUID-6C74A498-4D5F-4A56-B208-305355C3ABC4"></a><h4 id="APPCI-GUID-6C74A498-4D5F-4A56-B208-305355C3ABC4" class="sect4">Verifying the OLTP Configuration </h4>
                  <div>
                     <div class="section">
                        <p>Use the following procedure to verify your OLTP configuration.</p>
                        <div class="infoboxnote" id="GUID-6C74A498-4D5F-4A56-B208-305355C3ABC4__GUID-0E952F2F-1659-4222-9D1F-439A5131A660">
                           <p class="notep1">Note:</p>
                           <p>If you have not completed the file transfers detailed in <a href="config-appc-gateway-using-tcp-ip.html#GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D">Preparing to Configure a Gateway Installation/Upgrade</a>, then complete them now before proceeding to the next step.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="APPCI253"></a><div class="props_rev_3"><a id="GUID-9C4466BE-5F80-4545-B1D3-984D87B49046" name="GUID-9C4466BE-5F80-4545-B1D3-984D87B49046"></a><h5 id="APPCI-GUID-9C4466BE-5F80-4545-B1D3-984D87B49046" class="sect5">IMS/TM Verification</h5>
                     <div>
                        <div class="section">
                           <p>Perform the following steps to verify the IMS/TM configuration. Be certain that you have installed and configured the IMS Connect and that it is up and running before you begin this procedure. Refer to the IBM<span class="italic"> IMS Connect Guide and Reference</span> for information about how to perform the installation and configuration tasks. 
                           </p>
                           <div class="infoboxnote" id="GUID-9C4466BE-5F80-4545-B1D3-984D87B49046__GUID-B9960098-1C1A-4CB7-8EF2-CEA88395585A">
                              <p class="notep1">Note:</p>
                              <p><a id="d14059e2852" class="indexterm-anchor"></a><a id="d14059e2856" class="indexterm-anchor"></a><a id="d14059e2860" class="indexterm-anchor"></a><span class="bold">TIPs must be recompiled when changing communication protocol to TCP/IP</span>.
                              </p>
                              <p>TCP/IP only: <a id="d14059e2869" class="indexterm-anchor"></a><a id="d14059e2873" class="indexterm-anchor"></a>If you have existing TIPs that were generated previously on a gateway using the SNA communication package protocol and you want to utilize the new TCP/IP feature, then the TIPs will have to be regenerated by PGAU with mandatory                    <code class="codeph">NLS_LANGUAGE</code> and Side Profile Settings. Specify the appropriate ASCII character set in the <code class="codeph">DEFINE TRANSACTION</code> command.
                              </p>
                              <p>This is because the gateway assumes that the appropriate user exit in IMS Connect is being used, which would translate between the appropriate ASCII and EBCDIC character sets.</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>To verify that the <a id="d14059e2890" class="indexterm-anchor"></a><code class="codeph">FLIP</code> transaction is installed correctly, log on to your IMS/TM system and enter the following transaction (replacing <code class="codeph">FLIP</code> with the transaction ID you chose for <code class="codeph">FLIP</code> when you configured your IMS/TM system for the gateway):</span><div><pre class="oac_no_warn" dir="ltr">FLIP THIS MESSAGE
</pre><p>The following output appears on your terminal:</p><pre class="oac_no_warn" dir="ltr">EGASSEM SIHT PILF
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Log on to the UNIX based system.</span><div>
                                 <div class="infoboxnote" id="GUID-9C4466BE-5F80-4545-B1D3-984D87B49046__GUID-707695BF-C177-4A13-9DB7-21F0E1961709">
                                    <p class="notep1">Note:</p>
                                    <p>If you have not completed the file transfers detailed in <a href="config-appc-gateway-using-tcp-ip.html#GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D">Preparing to Configure a Gateway Installation/Upgrade</a> <a href="config-appc-gateway-using-tcp-ip.html#GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D">Preparing to Configure a Gateway Installation/Upgrade</a>, complete them now, before proceeding to the next step.
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Modify the <code class="codeph">pgaims.sql</code> <a id="d14059e2933" class="indexterm-anchor"></a><a id="d14059e2937" class="indexterm-anchor"></a>file, which is located at  <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS/pgaims.sql</code>. Customize the following three items used for accessing the gateway and the IMS/TM system as described in the comments at the beginning of the file:</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>IMS/TM transaction ID</p>
                                    </li>
                                    <li>
                                       <p>Side Profile Name</p>
                                    </li>
                                    <li>
                                       <p>Logmode entry name</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Ensure that the <a id="d14059e2961" class="indexterm-anchor"></a>TCP/IP communication protocol on your system has been started.</span></li>
                           <li class="stepexpand"><span>Using SQL*Plus, connect to your <a id="d14059e2971" class="indexterm-anchor"></a>Oracle database from <code class="codeph">PGAADMIN</code>.</span></li>
                           <li class="stepexpand"><span>Run <code class="codeph">pgaims.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/demo/IMS/pgaims.sql
</pre><p>The following message appears:</p>
                              </div>
                           </li>
                        </ol>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">==&gt; Congratulations, your gateway is communicating with IMS/TM &lt;==
</pre><p>Your IMS/TM installation verification is now complete.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="APPCI254"></a><div class="props_rev_3"><a id="GUID-ECA2C74E-4708-4A8D-8C87-6A5E79A6BF9D" name="GUID-ECA2C74E-4708-4A8D-8C87-6A5E79A6BF9D"></a><h3 id="APPCI-GUID-ECA2C74E-4708-4A8D-8C87-6A5E79A6BF9D" class="sect3">Performing Postinstallation Procedures</h3>
               <div>
                  <div class="section">
                     <p>The following are optional steps that you can perform as necessary. Installation of the sample applications for your OLTP is recommended to help you to fully understand how the gateway works and how it interfaces with your OLTP.</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCI255"></a><div class="props_rev_3"><a id="GUID-56D946BA-0FAC-447C-80C0-7E8AC3F6510E" name="GUID-56D946BA-0FAC-447C-80C0-7E8AC3F6510E"></a><h4 id="APPCI-GUID-56D946BA-0FAC-447C-80C0-7E8AC3F6510E" class="sect4">Installing Sample Applications</h4>
                  <div>
                     <div class="section">
                        <p>Your Oracle Database Gateway for APPC featuring TCP/IP for IMS Connect contains sample PL/SQL procedures and OLTP transaction programs that demonstrate the gateway's capabilities.</p>
                        <div class="infoboxnote" id="GUID-56D946BA-0FAC-447C-80C0-7E8AC3F6510E__GUID-003D1DC9-978F-4727-96DB-231702802E5C">
                           <p class="notep1">Note:</p>
                           <p>When you call a gateway that uses TCP/IP as the communication protocol, and you use EBCDIC as the language in the control files, then you must change the language from EBCDIC to ASCII. Some examples of control files that might be in EBCDIC language are <code class="codeph">ivtno.ctl</code> and <code class="codeph">ivtnv.ctl</code>.
                           </p>
                           <p>For more information, refer to the  <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS/ivtno.ctl</code> and <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS/ivtnv.ctl</code> files.
                           </p>
                        </div>
                        <p> Samples are provided for IMS/TM:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>IMS inquiry using <code class="codeph">IVTNO</code> and <code class="codeph">IVTNV</code> sample transactions
                              </p>
                           </li>
                        </ul>
                        <p>Additional samples are added to the distribution media in newer releases of the product. Wherever possible, the sample applications use the sample databases provided with the database products.</p>
                        <p>For this release, the entire documentation about installing and using the sample applications is available in:</p>
                        <p><code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS/sample_IMS_applications.txt</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>