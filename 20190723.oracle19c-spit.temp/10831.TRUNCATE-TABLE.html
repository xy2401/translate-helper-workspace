<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>TRUNCATE TABLE</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="TRUNCATE-CLUSTER.html" title="Previous" type="text/html">
      <link rel="next" href="UPDATE.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="TRUNCATE-CLUSTER.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="UPDATE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-MERGE-to-UPDATE.html" property="item" typeof="WebPage"><span property="name">SQL Statements: MERGE to UPDATE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">TRUNCATE TABLE </li>
            </ol>
            <a id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4" name="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4"></a><a id="SQLRF55432"></a><a id="SQLRF55433"></a><a id="SQLRF55434"></a><a id="SQLRF55435"></a><a id="SQLRF55436"></a><a id="SQLRF55437"></a><a id="SQLRF55438"></a><a id="SQLRF55439"></a><a id="SQLRF55619"></a><a id="SQLRF55620"></a><a id="SQLRF55440"></a><a id="SQLRF55871"></a><a id="SQLRF55441"></a><a id="SQLRF55442"></a><a id="SQLRF01707"></a>
            
            <h2 id="SQLRF-GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4" class="sect2">TRUNCATE TABLE </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-8B63C050-5B8D-4E08-A15A-695B559176C8">Purpose </p>
                  <div class="infoboxnote" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-E042D4D8-1226-4F1E-9752-5021D9C211B5">
                     <p class="notep1">Note:</p>
                     <p>You cannot roll back a <code class="codeph">TRUNCATE</code> <code class="codeph">TABLE</code> statement, nor can you use a <code class="codeph">FLASHBACK</code> <code class="codeph">TABLE</code> statement to retrieve the contents of a table that has been truncated.
                     </p>
                  </div>
                  <p><a id="d443437e152" class="indexterm-anchor"></a><a id="d443437e158" class="indexterm-anchor"></a><a id="d443437e164" class="indexterm-anchor"></a>Use the <code class="codeph">TRUNCATE</code> <code class="codeph">TABLE</code> statement to remove all rows from a table. By default, Oracle Database also performs the following tasks:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Deallocates all space used by the removed rows except that specified by the <code class="codeph">MINEXTENTS</code> storage parameter
                        </p>
                     </li>
                     <li>
                        <p>Sets the <code class="codeph">NEXT</code> storage parameter to the size of the last extent removed from the segment by the truncation process
                        </p>
                     </li>
                  </ul>
                  <div class="p">Removing rows with the <code class="codeph">TRUNCATE</code> <code class="codeph">TABLE</code> statement can be more efficient than dropping and re-creating a table. Dropping and re-creating a table invalidates dependent objects of the table, and requires you to repeat the following actions: 
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Grant object privileges on the table</p>
                        </li>
                        <li>
                           <p>Create the indexes, integrity constraints, and triggers on the table </p>
                        </li>
                        <li>
                           <p>Specify the storage parameters of the table</p>
                        </li>
                     </ul>Truncating has none of these effects.
                  </div>
                  <p>Removing rows with the <code class="codeph">TRUNCATE</code> <code class="codeph">TABLE</code> statement can be faster than removing all rows with the <code class="codeph">DELETE</code> statement, especially if the table has numerous triggers, indexes, and other dependencies. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-94E16E61-70A2-4B44-9CB9-348E96D4F31A">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="DELETE.html#GUID-156845A5-B626-412B-9F95-8869B988ABD7">DELETE</a> and <a href="DROP-TABLE.html#GUID-39D89EDC-155D-4A24-837E-D45DDA757B45">DROP TABLE</a> for information on other ways of removing data from a table
                           </p>
                        </li>
                        <li>
                           <p><a href="TRUNCATE-CLUSTER.html#GUID-90C16956-644E-4E28-A53D-BB34ED630561">TRUNCATE CLUSTER</a> for information on truncating a cluster
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-E1F670AD-937C-438E-92FC-4D6D3B8B1FC7">Prerequisites </p>
                  <p>To truncate a table, the table must be in your schema or you must have the <code class="codeph">DROP</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> system privilege.
                  </p>
                  <p>To specify the <code class="codeph">CASCADE</code> clause, all affected child tables must be in your schema or you must have the <code class="codeph">DROP</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> system privilege.
                  </p>
                  <p>You can truncate a private temporary table with the existing <code class="codeph">TRUNCATE TABLE</code> command. Truncating a private temporary table will not commit and existing transaction. This applies to both transaction-specific and session-specific private temporary tables. Note that a truncated private temporary table will not go into the <code class="codeph">RECYCLEBIN</code>. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-0C3B61A5-FB9F-4F8C-BC2A-BADDFE0BE611">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="TRUNCATE-TABLE.html#GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__CHDDGIHF">Restrictions on Truncating Tables</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-61C655BF-6E89-4DFB-84A6-7CF8B36E94E2">Syntax </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-7EC4E673-FB83-455C-9FD6-C6C7FF2EAF70"><span class="italic">truncate_table</span>::=
                  </p>
                  <div class="figure" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-CC7D9EAD-352B-43EB-8697-03BB3CA1D5B8"><img src="img/truncate_table.gif" alt="Description of truncate_table.eps follows" title="Description of truncate_table.eps follows" longdesc="img_text/truncate_table.html"><br><a href="img_text/truncate_table.html">Description of the illustration truncate_table.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-2978424C-0703-428A-84EB-8BFE85467D2C">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-68CD223C-025D-4DDF-B7A8-1C08E98AD813">TABLE Clause</p>
                  <p><a id="d443437e292" class="indexterm-anchor"></a>Specify the schema and name of the table to be truncated. This table cannot be part of a cluster. If you omit <span class="italic"><code class="codeph">schema</code></span>, then Oracle Database assumes the table is in your own schema.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You can truncate index-organized tables and temporary tables. When you truncate a temporary table, only the rows created during the current session are removed.</p>
                     </li>
                     <li>
                        <p>Oracle Database changes the <code class="codeph">NEXT</code> storage parameter of <span class="italic"><code class="codeph">table</code></span> to be the size of the last extent deleted from the segment in the process of truncation.
                        </p>
                     </li>
                     <li>
                        <p>Oracle Database also automatically truncates and resets any existing <code class="codeph">UNUSABLE</code> indicators for the following indexes on <span class="italic"><code class="codeph">table</code></span>: range and hash partitions of local indexes and subpartitions of local indexes.
                        </p>
                     </li>
                     <li>
                        <p>If <span class="italic"><code class="codeph">table</code></span> is not empty, then the database marks <code class="codeph">UNUSABLE</code> all nonpartitioned indexes and all partitions of global partitioned indexes on the table. However, when the table is truncated, the index is also truncated, and a new high water mark is calculated for the index segment. This operation is equivalent to creating a new segment for the index. Therefore, at the end of the truncate operation, the indexes are once again <code class="codeph">USABLE</code>.
                        </p>
                     </li>
                     <li>
                        <p>For a domain index, this statement invokes the appropriate truncate routine to truncate the domain index data. </p>
                        <div class="infoboxnotealso" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-0538A40C-8C19-411E-ACE4-8F6FA7E9D729">
                           <p class="notep1">See Also:</p>
                           <p><a href="../addci/using-extensible-indexing.html#ADDCI270" target="_blank"><span class="italic">Oracle Database Data Cartridge Developer's Guide</span></a> for more information on domain indexes
                           </p>
                        </div>
                     </li>
                     <li>
                        <p>If a regular or index-organized table contains LOB columns, then all LOB data and LOB index segments are truncated.</p>
                     </li>
                     <li>
                        <p>If <span class="italic"><code class="codeph">table</code></span> is partitioned, then all partitions or subpartitions, as well as the LOB data and LOB index segments for each partition or subpartition, are truncated.
                        </p>
                        <div class="infoboxnote" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-F794A692-174D-49EC-958E-95829963A106">
                           <p class="notep1">Note:</p>
                           <p>When you truncate a table, Oracle Database automatically removes all data in the table's indexes and any materialized view direct-path <code class="codeph">INSERT</code> information held in association with the table. This information is independent of any materialized view log. If this direct-path <code class="codeph">INSERT</code> information is removed, then an incremental refresh of the materialized view may lose data. 
                           </p>
                        </div>
                     </li>
                     <li>
                        <p>All cursors are invalidated.</p>
                     </li>
                  </ul>
                  <p id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__CHDDGIHF"><span class="bold">Restrictions on Truncating Tables</span></p>
                  <p>This statement is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot roll back a <code class="codeph">TRUNCATE</code> <code class="codeph">TABLE</code> statement.
                        </p>
                     </li>
                     <li>
                        <p>You cannot flash back to the state of the table before the truncate operation.</p>
                     </li>
                     <li>
                        <p>You cannot individually truncate a table that is part of a cluster. You must either truncate the cluster, delete all rows from the table, or drop and re-create the table. </p>
                     </li>
                     <li>
                        <p>You cannot truncate the parent table of an enabled foreign key constraint. You must disable the constraint before truncating the table. An exception is that you can truncate the table if the integrity constraint is self-referential.</p>
                     </li>
                     <li>
                        <p>If a domain index is defined on <span class="italic"><code class="codeph">table</code></span>, then neither the index nor any index partitions can be marked <code class="codeph">IN_PROGRESS</code>.
                        </p>
                     </li>
                     <li>
                        <p>You cannot truncate the parent table of a reference-partitioned table. You must first drop the reference-partitioned child table.</p>
                     </li>
                     <li>
                        <p>You cannot truncate a duplicated table.</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-A37A8435-7722-4004-9014-3BBAC54CA077">MATERIALIZED VIEW LOG Clause</p>
                  <p>The <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> <code class="codeph">LOG</code> clause lets you specify whether a materialized view log defined on the table is to be preserved or purged when the table is truncated. This clause permits materialized view master tables to be reorganized through export or import without affecting the ability of primary key materialized views defined on the master to be fast refreshed. To support continued fast refresh of primary key materialized views, the materialized view log must record primary key information. 
                  </p>
                  <div class="infoboxnote" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-B3033613-0216-4632-B352-0CF01E59E6BD">
                     <p class="notep1">Note:</p>
                     <p>The keyword <code class="codeph">SNAPSHOT</code> is supported in place of <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> for backward compatibility. 
                     </p>
                  </div>
                  <p><span class="bold">PRESERVE</span></p>
                  <p>Specify <code class="codeph">PRESERVE</code> if any materialized view log should be preserved when the master table is truncated. This is the default.
                  </p>
                  <p><span class="bold">PURGE</span></p>
                  <p>Specify <code class="codeph">PURGE</code> if any materialized view log should be purged when the master table is truncated.
                  </p>
                  <div class="infoboxnotealso" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-F82B4384-E20A-4FD5-A8FA-DD4DE630CE1A">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADMIN-GUID-022C5C7F-2EC9-44CB-A74B-CC01600BCC17" target="_blank"><span class="italic">Oracle Database Administrator’s Guide</span></a> for more information about materialized view logs and the <code class="codeph">TRUNCATE</code> statement
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-FF7BE7CE-BF54-4256-AB7B-415E8F8849A7">STORAGE Clauses</p>
                  <p>The <code class="codeph">STORAGE</code> clauses let you determine what happens to the space freed by the truncated rows. The <code class="codeph">DROP</code> <code class="codeph">STORAGE</code> clause, <code class="codeph">DROP</code> <code class="codeph">ALL</code> <code class="codeph">STORAGE</code> clause, and <code class="codeph">REUSE</code> <code class="codeph">STORAGE</code> clause also apply to the space freed by the data deleted from associated indexes.
                  </p>
                  <p><span class="bold">DROP STORAGE</span></p>
                  <p>Specify <code class="codeph">DROP</code> <code class="codeph">STORAGE</code> to deallocate all space from the deleted rows from the table except the space allocated by the <code class="codeph">MINEXTENTS</code> parameter of the table. This space can subsequently be used by other objects in the tablespace. Oracle Database also sets the <code class="codeph">NEXT</code> storage parameter to the size of the last extent removed from the segment in the truncation process. This setting, which is the default, is useful for small and medium-sized objects. The extent management in locally managed tablespace is very fast in these cases, so there is no need to reserve space.
                  </p>
                  <p><span class="bold">DROP ALL STORAGE</span></p>
                  <p>Specify <code class="codeph">DROP</code> <code class="codeph">ALL</code> <code class="codeph">STORAGE</code> to deallocate all space from the deleted rows from the table, including the space allocated by the <code class="codeph">MINEXTENTS</code> parameter. All segments for the table, as well as all segments for its dependent objects, will be deallocated.
                  </p>
                  <p><span class="bold">Restrictions on DROP ALL STORAGE</span></p>
                  <p>This clause is subject to the same restrictions as described in <span class="q">"<a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__CJAIJAHI">Restrictions on Deferred Segment Creation</a>"</span>.
                  </p>
                  <p><span class="bold">REUSE STORAGE</span></p>
                  <p>Specify <code class="codeph">REUSE</code> <code class="codeph">STORAGE</code> to retain the space from the deleted rows allocated to the table. Storage values are not reset to the values when the table was created. This space can subsequently be used only by new data in the table resulting from insert or update operations. This clause leaves storage parameters at their current settings.
                  </p>
                  <p>This setting is useful as an alternative to deleting all rows of a very large table—when the number of rows is very large, the table entails many thousands of extents, and when data is to be reinserted in the future.</p>
                  <p>This clause is not valid for temporary tables. A session becomes unbound from the temporary table when the table is truncated, so the storage is automatically dropped.</p>
                  <p>If you have specified more than one free list for the object you are truncating, then the <code class="codeph">REUSE</code> <code class="codeph">STORAGE</code> clause also removes any mapping of free lists to instances and resets the high-water mark to the beginning of the first extent.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__BABICFJG">
                  <p class="subhead1" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-A05EE127-17D8-4C60-A773-2BCC28BD9D87">CASCADE</p>
                  <p>If you specify <code class="codeph">CASCADE</code>, then Oracle Database truncates all child tables that reference <span class="italic"><code class="codeph">table</code></span> with an enabled <code class="codeph">ON</code> <code class="codeph">DELETE</code> <code class="codeph">CASCADE</code> referential constraint. This is a recursive operation that will truncate all child tables, granchild tables, and so on, using the specified options.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B76E5846-75B5-4876-98EC-439E15E4D8A4__GUID-A5A15B75-1FBA-4340-A15D-6603ED0935BD">Examples</p>
                  <p><span class="bold">Truncating a Table: Example</span></p>
                  <p>The following statement removes all rows from a hypothetical copy of the sample table <code class="codeph">hr.employees</code> and returns the freed space to the tablespace containing <code class="codeph">employees</code>: 
                  </p><pre class="oac_no_warn" dir="ltr">TRUNCATE TABLE employees_demo; 
</pre><p>The preceding statement also removes all data from all indexes on <code class="codeph">employees</code> and returns the freed space to the tablespaces containing them. 
                  </p>
                  <p><span class="bold">Preserving Materialized View Logs After Truncate: Example</span></p>
                  <p>The following statements are examples of <code class="codeph">TRUNCATE</code> statements that preserve materialized view logs: 
                  </p><pre class="oac_no_warn" dir="ltr">TRUNCATE TABLE sales_demo PRESERVE MATERIALIZED VIEW LOG; 

TRUNCATE TABLE orders_demo;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>