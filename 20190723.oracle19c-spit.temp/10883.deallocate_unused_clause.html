<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>deallocate_unused_clause</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="constraint.html" title="Previous" type="text/html">
      <link rel="next" href="file_specification.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="constraint.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="file_specification.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Common-SQL-DDL-Clauses.html" property="item" typeof="WebPage"><span property="name"> Common SQL DDL Clauses </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">deallocate_unused_clause </li>
            </ol>
            <a id="GUID-016A106B-47D4-4FFF-8A3B-2DF19A5FE9FF" name="GUID-016A106B-47D4-4FFF-8A3B-2DF19A5FE9FF"></a><a id="SQLRF52245"></a><a id="SQLRF52246"></a><a id="SQLRF30007"></a>
            
            <h2 id="SQLRF-GUID-016A106B-47D4-4FFF-8A3B-2DF19A5FE9FF" class="sect2"><span class="italic">deallocate_unused_clause</span> 
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-016A106B-47D4-4FFF-8A3B-2DF19A5FE9FF__GUID-29601156-5FC1-4A1B-BB31-CB439EF1159D">Purpose</p>
                  <p>Use the <span class="italic"><code class="codeph">deallocate_unused_clause</code></span> to explicitly deallocate unused space at the end of a database object segment and make the space available for other segments in the tablespace. 
                  </p>
                  <p>You can deallocate unused space using the following statements:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">ALTER</code> <code class="codeph">CLUSTER</code> (see <a href="ALTER-CLUSTER.html#GUID-A4E03C13-7690-4567-9B0A-DA6A21173B4D">ALTER CLUSTER</a><code class="codeph">)</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">ALTER</code> <code class="codeph">INDEX</code>: to deallocate unused space from the index, an index partition, or an index subpartition (see <a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558">ALTER INDEX</a><code class="codeph">)</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">ALTER</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>: to deallocate unused space from the overflow segment of an index-organized materialized view (see <a href="ALTER-MATERIALIZED-VIEW.html#GUID-29EE5682-AE42-4879-ABAD-E34E66ADD233">ALTER MATERIALIZED VIEW</a>)
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code>: to deallocate unused space from the table, a table partition, a table subpartition, the mapping table of an index-organized table, the overflow segment of an index-organized table, or a LOB storage segment (see <a href="ALTER-TABLE.html#GUID-552E7373-BF93-477D-9DA3-B2C9386F2877">ALTER TABLE</a><code class="codeph">)</code></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-016A106B-47D4-4FFF-8A3B-2DF19A5FE9FF__GUID-A3E33C40-5338-4CA5-9B96-17E14EDA6995">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-016A106B-47D4-4FFF-8A3B-2DF19A5FE9FF__GUID-5552195B-0895-4438-807E-955D8084C37B"><span class="italic">deallocate_unused_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-016A106B-47D4-4FFF-8A3B-2DF19A5FE9FF__GUID-D5CB8EEE-7FCC-418B-AD2F-14C98E6F2BD2"><img src="img/deallocate_unused_clause.gif" alt="Description of deallocate_unused_clause.eps follows" title="Description of deallocate_unused_clause.eps follows" longdesc="img_text/deallocate_unused_clause.html"><br><a href="img_text/deallocate_unused_clause.html">Description of the illustration deallocate_unused_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-016A106B-47D4-4FFF-8A3B-2DF19A5FE9FF__GUID-3F35F39F-78F9-4C35-BA1B-6359FAFFA1CE">Semantics</p>
                  <p>This section describes the semantics of the <span class="italic"><code class="codeph">deallocate_unused_clause</code></span>. For additional information, refer to the SQL statement in which you set or reset this clause for a particular database object.
                  </p>
                  <p>You cannot specify both the <span class="italic"><code class="codeph">deallocate_unused_clause</code></span> and the <span class="italic"><code class="codeph">allocate_extent_clause</code></span> in the same statement.
                  </p>
                  <p>Oracle Database frees only unused space above the high water mark (the point beyond which database blocks have not yet been formatted to receive data). Oracle deallocates unused space beginning from the end of the object and moving toward the beginning of the object to the high water mark. </p>
                  <p>If an extent is completely contained in the deallocation, then the whole extent is freed for reuse. If an extent is partially contained in the deallocation, then the used part up to the high water mark becomes the extent, and the remaining unused space is freed for reuse.</p>
                  <p>Oracle credits the amount of the released space to the user quota for the tablespace in which the deallocation occurs.</p>
                  <p>The exact amount of space freed depends on the values of the <code class="codeph">INITIAL</code>, <code class="codeph">MINEXTENTS</code>, and <code class="codeph">NEXT</code> storage parameters. Refer to the <span class="italic"><a href="storage_clause.html#GUID-C5A67610-3160-41E9-8D48-03206BD5ED15">storage_clause</a></span> for a description of these parameters.
                  </p>
                  <p><span class="bold">KEEP</span> <span class="bold"><span class="italic">integer</span></span></p>
                  <p>Specify the number of bytes above the high water mark that the segment of the database object is to have after deallocation. </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you omit <code class="codeph">KEEP</code> and the high water mark is above the size of <code class="codeph">INITIAL</code> and <code class="codeph">MINEXTENTS</code>, then all unused space above the high water mark is freed. When the high water mark is less than the size of <code class="codeph">INITIAL</code> or <code class="codeph">MINEXTENTS</code>, then all unused space above <code class="codeph">MINEXTENTS</code> is freed. 
                        </p>
                     </li>
                     <li>
                        <p>If you specify <code class="codeph">KEEP</code>, then the specified amount of space is kept and the remaining space is freed. When the remaining number of extents is less than <code class="codeph">MINEXTENTS</code>, then Oracle adjusts <code class="codeph">MINEXTENTS</code> to the new number of extents. If the initial extent becomes smaller than <code class="codeph">INITIAL</code>, then Oracle adjusts <code class="codeph">INITIAL</code> to the new size.
                        </p>
                     </li>
                     <li>
                        <p>In either case, Oracle sets the value of the <code class="codeph">NEXT</code> storage parameter to the size of the last extent that was deallocated.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>