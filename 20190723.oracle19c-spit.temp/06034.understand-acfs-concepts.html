<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Understanding Oracle ACFS Concepts</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96198-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="overview-acfs-advm.html" title="Previous" type="text/html">
      <link rel="next" href="understand-acfs-admin.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="OSTMG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="overview-acfs-advm.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="understand-acfs-admin.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-acfs-advm.html" property="item" typeof="WebPage"><span property="name">Oracle Automatic Storage Management Cluster File System</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="intro-acfs-advm.html" property="item" typeof="WebPage"><span property="name">Introducing Oracle ACFS and Oracle ADVM </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Understanding Oracle ACFS Concepts</li>
            </ol>
            <a id="GUID-783569B8-166E-4677-8AA6-6A68FBE785DD" name="GUID-783569B8-166E-4677-8AA6-6A68FBE785DD"></a><a id="OSTMG94162"></a>
            
            <h2 id="OSTMG-GUID-783569B8-166E-4677-8AA6-6A68FBE785DD" class="sect2">Understanding Oracle ACFS Concepts</h2>
         </header>
         <div class="ind">
            <div>
               <p>This section describes concepts for the key Oracle ACFS components and contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-579FDDA5-7D18-4A01-B3D6-906B6DB93851">About Oracle ACFS</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-EC35706E-8D4E-4101-9F30-C6AC65E5A399">About the Oracle ACFS Mount Model and Namespace</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-EAE5BECA-E057-41B2-9E26-B755BF7F9947">About Oracle ACFS and Database Data Files</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-30F87EDC-188C-4F19-9035-9C0E6C4CCBE1" title="An Oracle ACFS file system can be configured as an Oracle Database home.">About Oracle ACFS and Oracle Database Homes</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-EB6D2B7A-524F-4B92-95E0-8918CCF0D84D">About Oracle ASM Dynamic Volume Manager</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-B95FCE44-6016-4390-9B6B-2E849EA78D92">About the Oracle ACFS Driver Model</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-FD24F249-E9BB-4E63-B992-11A9868F5D7B" title="The Oracle ACFS mount registry supports Oracle Grid Infrastructure cluster configurations, but does not support Oracle Restart configurations.">About the Oracle ACFS Mount Registry</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-484DA891-48DD-495C-8FEB-99C151705B32">About Oracle ACFS in the Cluster Domain</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C" title="An Oracle ACFS snapshot is an online, read-only or read-write, point in time copy of an Oracle ACFS file system.">About Oracle ACFS Snapshots</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-238A0439-A764-42C7-91FE-80CF32B82ADE">About Oracle ACFS and Backup and Restore</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-56F68282-6A2A-4305-981B-257EBC2B9D16">About Oracle ACFS Integration with Oracle ASM</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-FAACA489-0E61-48EA-BD43-8120B1895862">About Oracle ACFS and External Tables on Windows</a></p>
                  </li>
               </ul>
            </div><a id="OSTMG94163"></a><div class="props_rev_3"><a id="GUID-579FDDA5-7D18-4A01-B3D6-906B6DB93851" name="GUID-579FDDA5-7D18-4A01-B3D6-906B6DB93851"></a><h3 id="OSTMG-GUID-579FDDA5-7D18-4A01-B3D6-906B6DB93851" class="sect3">About Oracle ACFS</h3>
               <div>
                  <p><a id="d107872e336" class="indexterm-anchor"></a>Oracle ACFS is designed as a general-purpose, standalone server and clusterwide file system that delivers support for all customer files. Users and applications can access and manage Oracle ACFS using native operating system file system application programming interfaces (APIs) and command-line interface (CLI) tools. Users can also manage Oracle ACFS with Oracle ASM Configuration Assistant (ASMCA).
                  </p>
                  <p>Oracle ACFS supports large files with 64-bit file and file system data structure sizes leading to exabyte capable file and file system capacities on 64 bit platforms. Variable extent-based storage allocation and high-performance directories contribute to fast performance and shared disk configurations that provide direct storage paths to Oracle ACFS file data from each cluster member. File system integrity and fast recovery is achieved with Oracle ACFS metadata checksums and journaling. Oracle ACFS is designed as a multi-node, shared file system model that delivers coherent, cached, direct storage paths to Oracle ACFS file data from each cluster member.</p>
                  <p>Oracle ACFS files systems are typically configured for clusterwide access. File systems, files, and directories are visible and accessible from all cluster members and can be referenced by users and applications using the same path names from any cluster member. This design enables simplified application deployments across cluster members and facilitates both multiple instance cluster applications and high availability (HA) failover of unmodified standalone server applications.</p>
                  <p>Oracle ACFS presents single system file access semantics across cluster configurations. Applications and users on all cluster members are always presented with the same view of shared Oracle ACFS file data, supported by the Oracle ACFS clusterwide user and metadata cache coherency mechanism.</p>
               </div>
            </div><a id="OSTMG94167"></a><div class="props_rev_3"><a id="GUID-EC35706E-8D4E-4101-9F30-C6AC65E5A399" name="GUID-EC35706E-8D4E-4101-9F30-C6AC65E5A399"></a><h3 id="OSTMG-GUID-EC35706E-8D4E-4101-9F30-C6AC65E5A399" class="sect3">About the Oracle ACFS Mount Model and Namespace</h3>
               <div>
                  <p><a id="d107872e485" class="indexterm-anchor"></a><a id="d107872e489" class="indexterm-anchor"></a><a id="d107872e493" class="indexterm-anchor"></a><a id="d107872e497" class="indexterm-anchor"></a>Oracle ACFS is designed as a hierarchical file system containing files and subdirectories organized into a tree-structured namespace with files at the leaves. The namespace design is a single-file system naming model for both standalone server and cluster configurations. This design enables each cluster member to present shared files to cluster applications using the same path names, simplifying multi-node application and user access, and overall file system administration. The Oracle ACFS mount model also accommodates node local mounts and cluster node subset mounts in cluster configurations to accommodate additional customer requirements. 
                  </p>
                  <p>It is best practice for Oracle ACFS file systems to be Oracle Clusterware managed with Oracle Clusterware resources to ensure they are properly handled during Oracle Grid Infrastructure startup and shutdown. </p>
                  <p>You can explicitly use the <code class="codeph">mount</code> command. However, if the resource has been created, then the file system may already be mounted. 
                  </p>
               </div>
            </div><a id="OSTMG95961"></a><div class="props_rev_3"><a id="GUID-EAE5BECA-E057-41B2-9E26-B755BF7F9947" name="GUID-EAE5BECA-E057-41B2-9E26-B755BF7F9947"></a><h3 id="OSTMG-GUID-EAE5BECA-E057-41B2-9E26-B755BF7F9947" class="sect3">About Oracle ACFS and Database Data Files</h3>
               <div>
                  <div class="infoboxnote" id="GUID-EAE5BECA-E057-41B2-9E26-B755BF7F9947__GUID-4D043448-634F-40B6-8EC3-212660E6E414">
                     <p class="notep1">Note:</p>
                     <p>The best practice for data files in Oracle ACFS is to use a clusterwide resource for the Oracle ACFS File system that stores the data files. </p>
                     <p>If the data files are added after the database installation is complete, you must modify the database dependencies to list the new Oracle ACFS file system. Failure to do so results in errors with application reliability. To specify the file systems in the dependency list, use the SRVCTL database object command to modify the Oracle ACFS paths used by the resource.</p>
                  </div>
                  <p>Oracle ACFS in Oracle Grid Infrastructure 18c cluster and standalone (Oracle Restart) configurations supports all database files for Oracle Database releases 11.2.0.4 or higher. Oracle ACFS can be configured for use with the database particularly to leverage Oracle ACFS snapshots for database testing and development. To support database files in cluster configurations, the <code class="codeph">COMPATIBLE.ADVM</code> attribute must be set to <code class="codeph">12.1</code> or higher for the disk group that contains the Oracle ACFS file system. In an Oracle Restart configuration, the <code class="codeph">COMPATIBLE.ADVM</code> attribute must be set to <code class="codeph">12.2.0.1</code> or higher to support all database files.
                  </p>
                  <p>Support for database data files on Windows begins with Oracle Grid 12<span class="italic">c</span> Release 1 (12.1.0.2). For support of database files on Windows, the <code class="codeph">COMPATIBLE.ADVM</code> attribute must be set to <code class="codeph">12.1.0.2</code> or higher.
                  </p>
                  <p>Support for database data files on Oracle Exadata (Linux) begins with Oracle Grid 12<span class="italic">c</span> Release 1 (12.1.0.2). However, Oracle ACFS does not currently have the ability to push database operations directly into storage.
                  </p>
                  <p>Oracle ACFS on Oracle Grid Infrastructure 12.1.0.2 additionally supports all database files for Oracle Database 10<span class="italic">g</span> Release 2 (10.2.0.4 and 10.2.0.5) on Oracle Exadata (Linux) storage. For database file support with Oracle Database 10<span class="italic">g</span> Release 2 (10.2.0.4 and 10.2.0.5) on Oracle Exadata storage, the following conditions must be met:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>When creating an Oracle Database with DBCA, you must set the <code class="codeph">REMOTE_LISTENER</code> initialization parameter to <span class="italic"><code class="codeph">your_scan_vip</code></span><code class="codeph">:1521</code> otherwise DBCA fails during the create process.
                        </p>
                     </li>
                     <li>
                        <p>You must modify all the start and stop dependencies of the database instance resources to ensure that the resources start when starting Oracle Clusterware. </p>
                     </li>
                  </ul>
                  <p>The following list provides important information about using Oracle ACFS with database files:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Oracle ACFS support includes all file types supported by Oracle ASM. </p>
                     </li>
                     <li>
                        <p>When storing database data files on Oracle ACFS, you must set the <code class="codeph">FILESYSTEMIO_OPTIONS</code> initialization parameter to <code class="codeph">setall</code>; other settings are not supported. To achieve optimal performance with database data files, set <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> compatibility attributes to <code class="codeph">12.1</code> or higher for the disk group that contains the Oracle ADVM volume intended to hold the data files. For volumes created before 12.1.0.2, set the stripe columns to <code class="codeph">1</code>, or set the stripe columns to <code class="codeph">8</code> and the stripe width to <code class="codeph">1</code> <code class="codeph">MB</code>. Volumes created while running 12.1.0.2 or higher already default to the high performance configuration (stripe columns = <code class="codeph">8</code> and stripe width = <code class="codeph">1</code> <code class="codeph">MB</code>). 
                        </p>
                     </li>
                     <li>
                        <p>To obtain optimal database performance with snapshots, the snapshots must be created after the <code class="codeph">ADVM</code> compatibility attribute is set to <code class="codeph">12.1</code> or higher.
                        </p>
                     </li>
                     <li>
                        <p>Use a 4 K or larger database block size and tablespace block size with Oracle ACFS for best performance.</p>
                     </li>
                     <li>
                        <p>For best performance when using Oracle Exadata, use a 4 K metadata file system. </p>
                     </li>
                     <li>
                        <p>Oracle ACFS does not support databases with 2 K block sizes.</p>
                     </li>
                     <li>
                        <p>Do not export Oracle ACFS file systems containing database files through NFS to access them from a DNFS client. This configuration is not supported.</p>
                     </li>
                     <li>
                        <p>If a data file is configured to automatically extend, then the size of the increments should be large enough to ensure that the extend operation occurs infrequently. Frequent automatic extends have a negative performance impact.</p>
                     </li>
                     <li>
                        <p>Running a workload in a snapshot reduces resources for the primary workload running on the base files because the storage is shared between the base file system and the snapshots. To run test scenarios in Oracle ACFS snapshots without impacting the primary workload, copy the file system and then run test workloads on snapshots created in the copied file system.</p>
                     </li>
                     <li>
                        <p>Using Oracle ACFS encryption with database files on Oracle ACFS is not supported. To encrypt database data files on Oracle ACFS, Oracle recommends Oracle Advanced Security. Oracle Advanced Security provides Transparent Data Encryption (TDE) to encrypt data files for entire tablespaces. </p>
                     </li>
                     <li>
                        <p>Databases that share storage with snapshots or with the base of the file system can become fragmented under active online transaction processing (OLTP) workloads. This fragmentation can cause the location of the data in the volume to be discontiguous for sequential scans. Oracle ACFS automatically defragments these files in the background. Fragmentation is reported through the <code class="codeph">acfsutil</code> <code class="codeph">defrag</code> <code class="codeph">dir</code> and <code class="codeph">file</code> commands, and it can also be viewed with the <code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">file</code> command. The <code class="codeph">acfsutil</code> <code class="codeph">defrag</code> <code class="codeph">dir</code> and <code class="codeph">file</code> commands also enable on-demand defragmentation of a file in the event the automatic defragmentation does not occur quickly enough.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-EAE5BECA-E057-41B2-9E26-B755BF7F9947__GUID-9B34FF0D-040E-43CE-B0F4-0A89D8B2AC15">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-5A1EA7DC-0B57-4C8D-BD01-A87875167796">Creating Oracle ACFS Resources</a> for information about Oracle ACFS resources
                           </p>
                        </li>
                        <li>
                           <p><a href="asm-files-directories-templates.html#GUID-9D43CE5E-AB31-47EB-BE30-813764BB40F5" title="Oracle ASM supports most file types required by the database.">What Types of Files Does Oracle ASM Support?</a> for a list of file types supported by Oracle ASM
                           </p>
                        </li>
                        <li>
                           <p><a href="manage-advm-asmcmd.html#GUID-CD9ABAB4-A19D-4C54-9484-D78CE52631E6">volcreate</a> for information about creating a volume
                           </p>
                        </li>
                        <li>
                           <p><a href="acfs-commands-linux.html#GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D">mkfs</a> for information about setting the metadata block size with <code class="codeph">mkfs</code> <code class="codeph">-i</code></p>
                        </li>
                        <li>
                           <p><a href="acfs-commands-utilities.html#GUID-FC9D02FA-5A5B-4E5F-BEF9-B517BCB44EFA" title="This topic provides a summary of the Oracle ACFS command-line utilities.">Oracle ACFS Command-Line Utilities</a> for information about <code class="codeph">acfsutil</code> <code class="codeph">defrag</code> and <code class="codeph">acfsutil</code> <code class="codeph">info</code> commands
                           </p>
                        </li>
                        <li>
                           <p><a href="../refrn/REMOTE_LISTENER.html#REFRN10183" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for information about the <code class="codeph">REMOTE_LISTENER</code> initialization parameter
                           </p>
                        </li>
                        <li>
                           <p><a href="../cwadd/making-applications-highly-available-using-oracle-clusterware.html#CWADD91288" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a> for information about resource dependencies
                           </p>
                        </li>
                        <li>
                           <p><a href="../sbydb/introduction-to-oracle-data-guard-concepts.html#SBYDB00010" target="_blank"><span><cite>Oracle Data Guard Concepts and Administration</cite></span></a> for information about other replication options for database files on Oracle ACFS
                           </p>
                        </li>
                        <li>
                           <p><a href="../asoag/asopart1.html#ASOAG600" target="_blank"><span><cite>Oracle Database Advanced Security Guide</cite></span></a> for information about Transparent Data Encryption (TDE)
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94164"></a><div class="props_rev_3"><a id="GUID-30F87EDC-188C-4F19-9035-9C0E6C4CCBE1" name="GUID-30F87EDC-188C-4F19-9035-9C0E6C4CCBE1"></a><h3 id="OSTMG-GUID-30F87EDC-188C-4F19-9035-9C0E6C4CCBE1" class="sect3">About Oracle ACFS and Oracle Database Homes</h3>
               <div>
                  <p>An Oracle ACFS file system can be configured as an Oracle Database home. </p>
                  <p>When installing a database in a cluster, it is required to use a shared Oracle ACFS file system for the database home. You can use an Oracle ACFS file system for an Oracle Database home with Oracle 11<span class="italic">g</span> Release 2 (11.2) or later. 
                  </p>
                  <p>When installing Oracle Software, there must be a separate Oracle base (<code class="codeph">ORACLE_BASE</code>) associated with each operating system user. For example, there should be a separate Oracle base for a grid user and a database user.
                  </p>
                  <p>You can locate the Oracle Database base (<code class="codeph">ORACLE_BASE</code> for database) directory and home (<code class="codeph">ORACLE_HOME</code> for database) directory on an Oracle ACFS file system. The Oracle Database base (<code class="codeph">ORACLE_BASE</code> for database) directory should not be the Oracle Grid Infrastructure base (<code class="codeph">ORACLE_BASE</code> for grid) directory or should not be located under the Oracle Grid Infrastructure base directory (<code class="codeph">ORACLE_BASE</code> for grid). 
                  </p>
                  <p>The Oracle Grid Infrastructure base (<code class="codeph">ORACLE_BASE</code> for grid) directory and home (<code class="codeph">ORACLE_HOME</code> for grid) directory cannot be located on the Oracle ACFS file system because the Oracle ACFS file system cannot be created until Oracle Grid Infrastructure is installed. 
                  </p>
                  <p>One or more Oracle Database homes on Oracle ACFS can be created under the same mount point with each home using a separate Oracle ACFS file system.</p>
                  <p>After the installation of Oracle Grid Infrastructure Software and before the installation of the Oracle Database software with Oracle Universal Installer (OUI), you can create an Oracle ACFS file system to be configured for use as an Oracle Database home.</p>
                  <p>You can also use the Oracle ASM Configuration Assistant (ASMCA) or Oracle ACFS commands to create the file system.</p>
                  <div class="infoboxnote" id="GUID-30F87EDC-188C-4F19-9035-9C0E6C4CCBE1__GUID-A1C21C6B-0B1C-4A44-8F57-2B6EA36B7AA0">
                     <p class="notep1">Note:</p>
                     <p>When an Oracle ACFS file system contains an Oracle Database home or Oracle Database uses the file system for any file storage, the file system must have an Oracle ACFS file system resource. If you have not used Oracle ASM Configuration Assistant to setup the mount point, then you must use Server Control Utility (SRVCTL) commands to set up Oracle Database dependencies. </p>
                  </div>
                  <p>In an Oracle Grid Infrastructure clusterware configuration, a clusterwide Oracle ACFS resource is required when using Oracle ACFS for the database home. To enable the database owner to act on the resource, the owner must be specified as a permitted user when creating the resource. You can specify the database owner with the <code class="codeph">-u</code> option of the <code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">filesystem</code> or <code class="codeph">acfsutil</code> <code class="codeph">registry</code> command. Root privilege is required when adding the resource in Linux or Unix environments.
                  </p>
                  <p>After the Oracle ACFS file system and resources are created, the Oracle ACFS-based database home mount point location can be selected as the Oracle Database home location by browsing to and then choosing the directory during the Oracle Universal Installer (OUI) Database Software installation.</p>
                  <p>You can use the <code class="codeph">srvctl</code> <code class="codeph">start</code> <code class="codeph">filesystem</code> command to manually mount the Oracle ACFS file system. 
                  </p>
                  <div class="infoboxnote" id="GUID-30F87EDC-188C-4F19-9035-9C0E6C4CCBE1__GUID-6AB1B1C3-40AA-4632-90A9-C2603A1EAA67">
                     <p class="notep1">Note:</p>
                     <p>When additional Oracle ACFS file systems are added to an Oracle Database after creation, they must be specified in the Oracle Database Resource Dependency list. Failure to do so results in errors with application reliability. To specify the file systems in the dependency list, use the SRVCTL database object command to modify the Oracle ACFS paths used by the resource.</p>
                  </div>
                  <p>Oracle ACFS file systems can be also configured for use as a home for applications. However, Oracle ACFS file systems cannot be used for an Oracle base directory or an Oracle Grid Infrastructure home that contains the software for Oracle Clusterware, Oracle ASM, Oracle ACFS, and Oracle ADVM components.</p>
                  <p>To reduce contention on an Oracle ACFS file system in an Oracle RAC environment where the Oracle Database home is shared on Oracle ACFS, Oracle Database auditing operating system files should be configured as node specific. For a node-specific setup, you must ensure that the <code class="codeph">AUDIT_FILE_DEST</code> initialization parameter in the configuration file of each database instance points to a unique location rather than one location for all the database instances. 
                  </p>
                  <p>For example, if you have a database with the Oracle name set to <code class="codeph">TEST</code> and you want to ensure that the location of <code class="codeph">AUDIT_FILE_DEST</code> initialization parameter for each database instance, such as <code class="codeph">TEST1</code> or <code class="codeph">TEST2</code>, points to a node specific location for that instance, you can run the following SQL statement:
                  </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM SET AUDIT_FILE_DEST='$ORACLE_BASE/admin/adump/TEST/@' 
     SCOPE=SPFILE SID='*';
</pre><p>In the previous example, <code class="codeph">@</code> expands to the <code class="codeph">ORACLE_SID</code> of each instance. If <code class="codeph">ORACLE_BASE</code> has been set to <code class="codeph">/acfsmounts</code> in this example, then that value could have been used in place of the <code class="codeph">ORACLE_BASE</code> variable.
                  </p>
                  <div class="infoboxnotealso" id="GUID-30F87EDC-188C-4F19-9035-9C0E6C4CCBE1__GUID-A868F122-BB62-47BD-B844-943A83EA93D8">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="manage-acfs-advm-commands.html#GUID-DF1A88B0-E86C-4ABB-BDFD-B06DA8D4CBEC" title="Numerous command-line tools are provided for managing Oracle ASM Cluster File System (Oracle ACFS) and Oracle ASM Dynamic Volume Manager (Oracle ADVM).">Managing Oracle ACFS with Command-Line Tools</a> for information about using Oracle ACFS commands to create a file system
                           </p>
                        </li>
                        <li>
                           <p><a href="manage-acfs-advm-asmca.html#GUID-1331D69F-01F6-464F-BFBD-6263E9546AED">Creating an Oracle ACFS File System for Database Use</a> for information about using ASMCA
                           </p>
                        </li>
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-5A1EA7DC-0B57-4C8D-BD01-A87875167796">Creating Oracle ACFS Resources</a> for additional information Oracle ACFS resources
                           </p>
                        </li>
                        <li>
                           <p><a href="../cwadd/server-control-command-reference.html#CWADD-GUID-1DCA9E3F-B929-4555-B673-921FF3588AC3" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a> and <a href="../racad/administering-storage-in-oracle-rac.html#RACAD826" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for information about SRVCTL commands
                           </p>
                        </li>
                        <li>
                           <p><a href="../install-and-upgrade.html" target="_blank"><span class="italic">Oracle Database Installation Guide</span></a> for your environment for information about the installation of Oracle Database software and storage options and about Optimal Flexible Architecture (OFA) recommendations for Oracle base and home directories
                           </p>
                        </li>
                        <li>
                           <p><a href="../install-and-upgrade.html" target="_blank"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your environment for information about the installation of Oracle Grid Infrastructure software and storage options
                           </p>
                        </li>
                        <li>
                           <p><a href="../admin/using-oracle-managed-files.html#ADMIN003" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about using Oracle Managed files
                           </p>
                        </li>
                        <li>
                           <p><a href="../refrn/AUDIT_FILE_DEST.html#REFRN10004" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">AUDIT_FILE_DEST</code> initialization parameter
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94165"></a><div class="props_rev_3"><a id="GUID-EB6D2B7A-524F-4B92-95E0-8918CCF0D84D" name="GUID-EB6D2B7A-524F-4B92-95E0-8918CCF0D84D"></a><h3 id="OSTMG-GUID-EB6D2B7A-524F-4B92-95E0-8918CCF0D84D" class="sect3">About Oracle ASM Dynamic Volume Manager</h3>
               <div>
                  <p>The Oracle ASM Dynamic Volume Manager (Oracle ADVM) provides volume management services and a standard disk device driver interface to clients. File systems and other disk-based applications send I/O requests to Oracle ADVM volume devices as they would to other storage devices on a vendor operating system. </p>
                  <p>For more information about Oracle ADVM, refer to <a href="overview-advm.html#GUID-B7A61F3B-C22A-4021-A846-F5EA749E79FF" title="Oracle ASM Dynamic Volume Manager (Oracle ADVM) provides volume management services and a standard disk device driver interface to clients.">Overview of Oracle ASM Dynamic Volume Manager</a>.
                  </p>
               </div>
            </div><a id="OSTMG94166"></a><div class="props_rev_3"><a id="GUID-B95FCE44-6016-4390-9B6B-2E849EA78D92" name="GUID-B95FCE44-6016-4390-9B6B-2E849EA78D92"></a><h3 id="OSTMG-GUID-B95FCE44-6016-4390-9B6B-2E849EA78D92" class="sect3">About the Oracle ACFS Driver Model</h3>
               <div>
                  <p>An Oracle ACFS file system is installed as a dynamically loadable vendor operating system (OS) file system driver and tool set that is developed for each supported operating system platform. The driver is implemented as a Virtual File System (VFS) and processes all file and directory operations directed to a specific file system. </p>
                  <div class="infoboxnote" id="GUID-B95FCE44-6016-4390-9B6B-2E849EA78D92__GUID-C7157123-CBC7-4515-8598-79EFB1FB90D4">
                     <p class="notep1">Note:</p>
                     <p>Errors encountered by the drivers are written to the native operating system console and system event loggers. Refer to <a href="acfs-advanced-topics.html#GUID-0FF80BDD-F735-4448-B1D5-A40A6E283F32">Understanding Oracle ACFS I/O Failure Console Messages</a>.
                     </p>
                  </div>
               </div>
            </div><a id="OSTMG94168"></a><div class="props_rev_3"><a id="GUID-FD24F249-E9BB-4E63-B992-11A9868F5D7B" name="GUID-FD24F249-E9BB-4E63-B992-11A9868F5D7B"></a><h3 id="OSTMG-GUID-FD24F249-E9BB-4E63-B992-11A9868F5D7B" class="sect3">About the Oracle ACFS Mount Registry</h3>
               <div>
                  <p>The Oracle ACFS mount registry supports Oracle Grid Infrastructure cluster configurations, but does not support Oracle Restart configurations. </p>
                  <p>File systems that are to be mounted persistently (across restarts) can be registered with the Oracle ACFS mount registry. In cluster configurations, registered Oracle ACFS file systems are automatically mounted by the mount registry, similar to a clusterwide mount table. However, in Oracle Restart configurations the automatic mounting of registered Oracle ACFS file systems is not supported. </p>
                  <p>By default, an Oracle ACFS file system that is inserted into the Oracle ACFS mount registry is automatically mounted on all cluster members, including cluster members that are added after the registry addition. However, the Oracle ACFS mount registry also accommodates standalone and multi-node (subset of cluster nodes) file system registrations. The mount registry actions for each cluster member mount only registered file systems that have been designated for mounting on that member. </p>
                  <p>The Oracle ACFS mount registry is implemented using Oracle Clusterware resources, specifically the Oracle ACFS resource. The Oracle ACFS resource actions are designed to automatically mount a file system only one time for each Oracle Grid Infrastructure initialization to avoid potential conflicts with administrative actions to dismount a given file system.</p>
                  <div class="infoboxnotealso" id="GUID-FD24F249-E9BB-4E63-B992-11A9868F5D7B__GUID-B1F35015-E8C4-4188-8EDE-FF410B22BDCB">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="acfs-advanced-topics.html#GUID-C249903F-8CE1-4BE1-9D7A-3B065BF5AC54">Oracle ACFS and Oracle Restart</a> for more information about Oracle ACFS and Oracle Restart
                           </p>
                        </li>
                        <li>
                           <p><a href="acfs-commands-utilities.html#GUID-57DE893C-37A2-4427-8CC3-76EB3196A4A6">acfsutil registry</a> for information about registering an Oracle ACFS file system using the <code class="codeph">acfsutil</code> command 
                           </p>
                        </li>
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-FF3DEAC0-F196-4ABD-A711-4A38D185B21B">Oracle Clusterware Resources and Oracle ACFS Administration</a> for more information about the implementation of the mount registry and Oracle ACFS resources
                           </p>
                        </li>
                        <li>
                           <p><a href="../cwadd/server-control-command-reference.html#CWADD-GUID-1DCA9E3F-B929-4555-B673-921FF3588AC3" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a> and <a href="../racad/administering-storage-in-oracle-rac.html#RACAD826" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for information about SRVCTL commands, including the <code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">filesystem</code> command
                           </p>
                        </li>
                        <li>
                           <p><a href="../cwadd/introduction-to-oracle-clusterware.html#CWADD1111" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a> for information about Oracle Clusterware resources
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-484DA891-48DD-495C-8FEB-99C151705B32" name="GUID-484DA891-48DD-495C-8FEB-99C151705B32"></a><h3 id="OSTMG-GUID-484DA891-48DD-495C-8FEB-99C151705B32" class="sect3">About Oracle ACFS in the Cluster Domain</h3>
               <div>
                  <p></p>
                  <p>In addition to support for Oracle Database member clusters with attached local storage, Oracle ACFS provides Oracle ACFS remote service for native Oracle ACFS functionality on Oracle Database member clusters with no attached local storage (InDirect Storage Member Cluster). Utilizing an Oracle ACFS deployment on the Oracle Domain Services Cluster (DSC), Oracle ACFS remote service can be used for both Oracle Database application clusters and Oracle Database member clusters to enable a flexible and file system-based deployment of applications and databases. Unlike NFS-based exports, Oracle ACFS remote service fully supports advanced Oracle ACFS features; such as replication, snapshots, and tagging; on the destination member cluster.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-484DA891-48DD-495C-8FEB-99C151705B32__GUID-083ED775-1925-4A80-B36E-806CFB7B787E">Oracle Database Member Clusters</p>
                     <p>Oracle Database member clusters can be configured with or without local storage.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle Database member clusters with attached local storage</p>
                           <p>Oracle Database member clusters can be configured with local storage. These clusters utilize a GIMR from the Domain Services Cluster, and operate similar to a standalone Oracle ASM cluster. Oracle ACFS in these clusters operate normally with the full Oracle ASM Proxy and all traditional tools. These member clusters manage their own storage.</p>
                        </li>
                        <li>
                           <p>Oracle Database member clusters with No Attached Local Storage</p>
                           <p>Oracle Database member clusters can also be configured without attached local storage. These InDirect Storage Member Clusters utilize consolidated storage services from the Domain Services Cluster (DSC). To use Oracle ACFS file systems and Oracle ADVM volumes, the Oracle Database member clusters use the Oracle ACFS remote service from the Domain Services Cluster.</p>
                           <p>An InDirect Storage Member Cluster provides for a small lightweight Oracle Clusterware (CRS) stack that can run traditional databases or other applications. This member cluster consumes less memory, is easier to provision, and can be easily hosted in VMs because there are no direct attached storage requirements. InDirect Storage Member clusters are very suited for resource and application consolidation. In this scenario, Oracle ACFS Remote enables full storage and resource consolidation on the Domain Services Cluster, enabling a new generation of compact and cheap computing resources.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-484DA891-48DD-495C-8FEB-99C151705B32__GUID-4CF9EA23-6A67-45CD-B0D6-C8E6A41A29E4">Oracle ACFS Remote Service</p>
                     <p>Oracle ACFS remote service enables the use of Oracle ACFS in an InDirect Storage Member Cluster. Oracle ACFS remote service is provided as another service of the DSC. Because an InDirect Storage Member Cluster has no direct attached storage to the Oracle Database member cluster, Oracle ACFS remote service provides an Oracle ACFS enabled storage fast-path between the DSC and the member cluster for Oracle ACFS usage over standard block transports. </p>
                     <p>When Oracle ACFS remote service is in use, the Oracle Database member cluster has access to all Oracle ACFS functionality, including snapshots, resizing, Oracle Database and other POSIX applications, plus ACFS NAS|MAX, tagging, checking, repairing, scrubbing, security, encryption, and compression. When an application uses the Oracle ACFS remote service export functionality on the member cluster, there is no functional or programmatic difference between Oracle ACFS use locally or remotely. In addition, all Oracle ACFS tools and utilities continue to operate normally. As part of its default configuration, Oracle ACFS remote service provides for high availability of exports. If a transport or DSC node is unavailable, then operations continue on other nodes of the DSC. This continuation provides for full failover and availability of the member cluster operations. Oracle ACFS Remote also handles temporary transport level outages in a similar manner.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-484DA891-48DD-495C-8FEB-99C151705B32__GUID-9925A166-0477-40E8-91DE-F3A92001795E">Repositories, Exports, and Transports</p>
                     <p>Repository, export, and transport are integral components of Oracle ACFS remote service.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Repository</p>
                           <p>A repository is a directory in an Oracle ACFS file system on the DSC that serves as a host for exports. The file system is a standard Oracle ACFS file system, enabling standard Oracle ACFS functionality to be applied to the file system, including resizing, replication, and snapshots. Because it is an Oracle ACFS file system, the repository is subject to the 1 petabyte Oracle ACFS file system limitation. If the total of the expected backing files in all repositories on the Oracle ACFS file system exceeds the file system size, then multiple repositories are necessary. </p>
                           <p>Oracle ACFS file compression is not supported in a repository.</p>
                        </li>
                        <li>
                           <p>Export</p>
                           <p>The DSC provides exports. These exports start as backing files that reside in an Oracle ACFS remote service repository on the DSC. The file is then exported using a transport so that only the intended member cluster nodes have access to the export using that transport. Exports are managed using the <code class="codeph">advmutil</code> <code class="codeph">export</code> series of commands. After a file is in use by Oracle ACFS remote service, it cannot be removed until the file is removed from use by Oracle ACFS remote service.
                           </p>
                        </li>
                        <li>
                           <p>Transport</p>
                           <p>Oracle ACFS remote service uses transports to provide access to the exports. For Oracle ASM release 18c, version 18.1, only the iSCSI transport is supported. This transport is configured using a small transport definition file and automatically managed by Oracle ACFS remote service. Transports are managed using the <code class="codeph">advmutil</code> <code class="codeph">transport</code> series of commands.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-484DA891-48DD-495C-8FEB-99C151705B32__NOTE-1471-1854862C">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="understand-acfs-admin.html#GUID-348D994A-196F-41C9-A675-71AA58D7CA02">Oracle ACFS Remote Service in the Cluster Domain</a></p>
                           </li>
                           <li>
                              <p><a href="acfs-commands-cluster-domain.html#GUID-865D4267-5F79-4241-ADF4-2292FC34778D" title="This topic provides a summary of commands to manage Oracle ACFS in the cluster domain.">Oracle ACFS Command-Line Tools for Oracle ACFS in the Cluster Domain</a></p>
                           </li>
                           <li>
                              <p><a href="asmcmd-cluster-commands.html#GUID-65FC331C-58EA-4901-AB59-795761D3D80A" title="This topic provides a summary of the ASMCMD member cluster management commands that are used with Oracle ASM remote instances.">ASMCMD Member Cluster Management Commands</a></p>
                           </li>
                           <li>
                              <p><a href="manage-flex-asm.html#GUID-DE759521-9CF3-45D9-9123-7159C9ED4D30" title="Oracle Flex ASM enables Oracle ASM instances to run on a separate physical server from the database servers.">Managing Oracle Flex ASM</a></p>
                           </li>
                           <li>
                              <p><a href="../cwadd/introduction-to-oracle-clusterware.html#CWADD-GUID-70F77528-480D-4A4A-99F9-330A447CACE3" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a> for an overview of Oracle Clusterware architecture
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG33000"></a><div class="props_rev_3"><a id="GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C" name="GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C"></a><h3 id="OSTMG-GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C" class="sect3">About Oracle ACFS Snapshots</h3>
               <div>
                  <p>An Oracle ACFS snapshot is an online, read-only or read-write, point in time copy of an Oracle ACFS file system. </p>
                  <p>The snapshot copy is space-efficient and uses Copy-On-Write functionality. Before an Oracle ACFS file extent is modified or deleted, its current value is copied to the snapshot to maintain the point-in-time view of the file system.</p>
                  <p>Oracle ACFS snapshots are immediately available for use after they are created. The snapshots are created in the <code class="codeph">.ACFS/snaps/</code> directory of the file system. They are always online while the file system is mounted. Consequently, an Oracle ACFS snapshot can support the online recovery of files inadvertently modified or deleted from a file system. An Oracle ACFS snapshot can also be used as the source of a file system backup, as it can be created on demand to deliver a current, consistent, online view of an active file system. 
                  </p>
                  <p>Up to 1023 read-only, read-write, or combination of read-only and read-write snapshot views are supported for each file system, enabling flexible online file recovery solutions spanning multiple views to be employed. On 64-bit systems, Oracle ACFS supports 1023 snapshots. The total number of snapshots can be any combination of read-only and read-write snapshots. To support the creation of more than 63 snapshots, the disk group compatibility attribute for <code class="codeph">ADVM</code> must be set to <code class="codeph">12.1.0.2</code> or greater. Also, the following conditions must be met to create more than 63 snapshots.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>All snapshots of the file system that were created with <code class="codeph">COMPATIBLE.ADVM</code> set to less than <code class="codeph">12.1.0.2</code> must be deleted.
                        </p>
                     </li>
                     <li>
                        <p>All snapshots of the file system that were created after setting <code class="codeph">COMPATIBLE.ADVM</code> to <code class="codeph">12.1.0.2</code> or greater while older snapshots existed must be deleted.
                        </p>
                     </li>
                  </ul>
                  <p></p>
                  <p>Oracle ACFS read-write snapshots enable fast creation of an snapshot image that can be both read and written without impacting the state of the Oracle ACFS file system hosting the snapshot images. You can use read-write snapshots for:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Testing of new versions of application software on production file data reflected in the read-write snapshot image without modifying the original production file system</p>
                     </li>
                     <li>
                        <p>Running test scenarios on a real data set without modifying the original production file system</p>
                     </li>
                  </ul>
                  <p>To use Oracle ACFS read-write snapshots, the disk group compatibility attribute for <code class="codeph">ADVM</code> must be set to <code class="codeph">11.2.0.3.0</code> or higher. If you create a read-write snapshot on an existing Oracle ACFS file system from a version earlier than <code class="codeph">11.2.0.3.0</code>, then the file system is updated to the <code class="codeph">11.2.0.3.0</code> or higher format. After a file system has been updated to a higher version, an Oracle ACFS file system cannot be reverted to an earlier version, and accordingly cannot be mounted on an earlier Oracle Grid Infrastructure version.
                  </p>
                  <p>You can create a snapshot from an existing snapshot in the same Oracle ACFS file system. In addition, you can convert a snapshot between read-only and read-write formats. To create from an existing snapshot or convert a snapshot, the disk group compatibility attribute for <code class="codeph">ADVM</code> must be set to <code class="codeph">12.1</code> or higher. In addition, creation from an existing snapshot is not permitted if there are:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Any snapshots present in the file system that were created with the <code class="codeph">ADVM</code> compatibility set to less than 12.1
                        </p>
                     </li>
                     <li>
                        <p>Any snapshots of the file system that were created after <code class="codeph">ADVM</code> compatibility was set to <code class="codeph">12.1</code> but while 11.2 snapshots existed
                        </p>
                     </li>
                  </ul>
                  <p>Oracle ACFS snapshot storage is maintained within the file system, eliminating the management of separate storage pools for file systems and snapshots. Oracle ACFS file systems can be dynamically resized to accommodate additional file and snapshot storage requirements.</p>
                  <p>You cannot modify security or encryption metadata in read-write snapshots except for enabling or disabling security or encryption. No other alteration is permitted on Oracle ACFS security or encryption metadata in a snapshot. If a file was not secured by a security realm in the snapshot, it cannot be realm secured by adding the corresponding file in the active file system to a security realm. If a file was not encrypted in the snapshot, that file cannot be encrypted by encrypting the corresponding file in the active file system.</p>
                  <p>A new file created in a realm-secured directory in a read-write snapshot inherits the realm security attributes of the parent directory. If the realm protecting the new file has encryption turned on, the file is encrypted with the encryption parameters set in the realm. If the realm protecting the new file has encryption turned off, the file is decrypted. Files and directories in a read-write snapshot cannot be added to or removed from any security realm.</p>
                  <p>Files in a read-write snapshot can be encrypted, decrypted, or rekeyed if the operation target is a path specified for a file or directory of the read-write snapshot. However, if an encryption, decryption, or rekey operation is specified at the file system level, then the operation does not process files and directories of snapshots in the <code class="codeph">.ACFS/snaps/</code> directory.
                  </p>
                  <p>All Oracle ACFS snapshot operations are serialized clusterwide in the kernel. For example, if a snapshot create operation is initiated at the same time as a snapshot delete operation, then both operations would complete, but they would not run in parallel inside of the kernel. One operation would complete before the other was started.</p>
                  <p>The <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> commands can be invoked manually to enable a target file system or writable snapshot to track the evolution of a source file system or snapshot with minimal overhead.  Oracle ACFS updates the target after each apply operation to indicate its current contents, and checks before starting the next apply operation to ensure that the starting point of the incoming snapshot duplication stream matches the endpoint of the last-applied stream. The target remains writable by any and all applications even when it is in use by <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code> . Oracle ACFS determines any updates to the target by a process other than the apply process, and if such an update occurs, invalidates the internal metadata that track the target contents.  This prevents further apply operations to the target, and avoids the possibility of a future apply operation yielding unexpected results. 
                  </p>
                  <p>The use of the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> commands interacts with Oracle ACFS replication operations. A target file system in use by <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code> cannot be specified for use as a file system for replication. And a file system in use by replication cannot be specified as the target for <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code>.
                  </p>
                  <p>To run the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> commands, the disk group compatibility attribute for <code class="codeph">ADVM</code> must be set to at least <code class="codeph">12.2</code>. 
                  </p>
                  <p>Additional <code class="codeph">acfsutil snap</code> commands are available to manage duplicate snapshots and remaster an Oracle ADVM volume with an existing snapshot.
                  </p>
                  <p>Oracle ACFS snapshots are administered with the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> commands. 
                  </p>
                  <div class="infoboxnote" id="GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C__GUID-855DE24C-B1DB-443D-8BE3-B4F3E257619D">
                     <p class="notep1">Note:</p>
                     <p>The <code class="codeph">link()</code> and <code class="codeph">rename(</code>) system calls fail if an attempt is made to link or rename a file in the Oracle ACFS file system and a file in any associated read-write snapshot, or vice versa. Any tools which use the <code class="codeph">link()</code> and <code class="codeph">rename()</code> system calls, such as <code class="codeph">ln</code> and <code class="codeph">mv</code>, also fail in the same scenario.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C__GUID-C9DC9DE9-BA81-43C7-BC2C-38FB6F303063">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="acfs-commands-snapshots.html#GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF">acfsutil snap create</a> for additional information on the target used with the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> command
                           </p>
                        </li>
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C" title="Oracle ACFS snapshot-based replication enables replication of Oracle ACFS file systems across a network to a remote site, providing disaster recovery capability for the file system.">Oracle ACFS Replication</a> for information about Oracle ACFS replication
                           </p>
                        </li>
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-41F44E7A-7547-4D04-A8E7-072C3A697867" title="Oracle ACFS security provides realm-based security for Oracle ACFS file systems, enabling you to create realms to specify security policies for users and groups to determine access on file system objects.">Oracle ACFS Security</a> for information about Oracle ACFS security
                           </p>
                        </li>
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-5591C710-D763-4F72-BB56-A1452CA6AAB2" title="Oracle ACFS encryption enables you to encrypt data stored on disk (data-at-rest).">Oracle ACFS Encryption</a> for information about Oracle ACFS encryption
                           </p>
                        </li>
                        <li>
                           <p><a href="acfs-commands-snapshots.html#GUID-4AF8BCAD-5EF4-4CE8-9393-5E8D75B10A93" title="This topic provides a summary of commands to manage Oracle ACFS snapshots.">Oracle ACFS Command-Line Tools for Snapshots</a> for information about the <code class="codeph">acfsutil</code> <code class="codeph">snap</code> commands
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94169"></a><div class="props_rev_3"><a id="GUID-238A0439-A764-42C7-91FE-80CF32B82ADE" name="GUID-238A0439-A764-42C7-91FE-80CF32B82ADE"></a><h3 id="OSTMG-GUID-238A0439-A764-42C7-91FE-80CF32B82ADE" class="sect3">About Oracle ACFS and Backup and Restore</h3>
               <div>
                  <p>Oracle ACFS runs on operating system platforms as a native file system technology supporting native operating system file system application programming interfaces (APIs). Consequently, backup applications that access files using the native operating system file system interfaces are able to access and backup Oracle ACFS file systems and other native operating system file systems. Oracle ACFS snapshots can be dynamically created and used to present a consistent, on-line view of an active file system to a backup application.</p>
                  <p>Backup applications that use interfaces other than the standard operating system interfaces (read or write) are not supported with Oracle ACFS. For example, Windows backup applications that depend upon the presence of reparse points or the Windows Volume Shadow Copy Service (VSS) are not supported.</p>
                  <div class="infoboxnote" id="GUID-238A0439-A764-42C7-91FE-80CF32B82ADE__GUID-FBB52148-3736-4C2C-A8AD-4B43D9983A34">
                     <p class="notep1">Note:</p>
                     <p>When Oracle ACFS is used with Oracle Recovery Manager (RMAN) backups or restore, you should tune RMAN to improve performance because the default values may not be ideal for Oracle ACFS file systems. For example, you can adjust RMAN parameters to match the buffer size with the volume stripe width or Oracle ASM AU size. Also, you can adjust the number of buffers to match the number of devices in the Oracle ASM disk group.</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-238A0439-A764-42C7-91FE-80CF32B82ADE__GUID-EC1FE5BD-B826-4608-A717-0C84CDB01A7B">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-5A980C0A-BE5E-4489-8A25-ED9596BF6CA2" title="Oracle ACFS tagging assigns a common naming attribute to a group of files.">Oracle ACFS Tagging</a> for information about using common operating system utilities to preserve Extend Attributes for tagging definitions
                           </p>
                        </li>
                        <li>
                           <p><a href="asmcmd-diskgroup-commands.html#GUID-D23C36FA-D1C8-4F82-A82A-5F3EA6E01623">md_backup</a> and <a href="asmcmd-diskgroup-commands.html#GUID-FEA13FA9-4FB3-4C4B-B728-99AD2452888A">md_restore</a> for information about backing up and restoring Oracle ACFS metadata
                           </p>
                        </li>
                        <li>
                           <p><a href="https://support.oracle.com" target="_blank">My Oracle Support</a> (<a href="https://support.oracle.com" target="_blank"><code class="codeph">https://support.oracle.com</code></a>) for articles about tuning RMAN tuning, such as <span class="italic">RMAN Performance Tuning Using Buffer Memory Parameters</span> (Doc ID 1072545.1) and <span class="italic">RMAN Performance Troubleshooting</span> (Doc ID 1326686.1)
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94170"></a><div class="props_rev_3"><a id="GUID-56F68282-6A2A-4305-981B-257EBC2B9D16" name="GUID-56F68282-6A2A-4305-981B-257EBC2B9D16"></a><h3 id="OSTMG-GUID-56F68282-6A2A-4305-981B-257EBC2B9D16" class="sect3">About Oracle ACFS Integration with Oracle ASM</h3>
               <div>
                  <p>Oracle ACFS is always configured with Oracle ASM storage and interfaces with Oracle ASM storage through a traditional device file. This device file is presented by Oracle ADVM and is constructed using a dynamic volume file. The Oracle ADVM volume device file is created automatically following the creation of an Oracle ADVM volume. An Oracle ACFS file system is then bound to the Oracle ADVM device file during the file system creation. </p>
                  <p>After an Oracle ACFS is configured and mounted, the file system inherits the Oracle ASM storage management features associated with an Oracle ADVM volume, including dynamic balanced distribution, mirroring and striping, and dynamic resizing.</p>
                  <p>The Oracle ACFS driver establishes communication with the Oracle ASM instance to receive Oracle ASM status information including Oracle ASM instance and disk group state transitions. However, I/O does not go through Oracle ASM nor through the Oracle ASM proxy, but rather goes directly to the underlying Oracle ASM storage. </p>
                  <p>For information about Oracle ACFS and Oracle ASM operations, refer to <a href="understand-acfs-admin.html#GUID-F1170720-3244-4F99-ADB3-799439ADD089">Oracle ACFS and Dismount or Shutdown Operations</a>.
                  </p>
               </div>
            </div><a id="OSTMG95481"></a><div class="props_rev_3"><a id="GUID-FAACA489-0E61-48EA-BD43-8120B1895862" name="GUID-FAACA489-0E61-48EA-BD43-8120B1895862"></a><h3 id="OSTMG-GUID-FAACA489-0E61-48EA-BD43-8120B1895862" class="sect3">About Oracle ACFS and External Tables on Windows</h3>
               <div>
                  <p><a id="d107872e2992" class="indexterm-anchor"></a><a id="d107872e2996" class="indexterm-anchor"></a>To access an external table stored on an Oracle ACFS file system on Windows, the external table must be created with the <code class="codeph">DISABLE_DIRECTORY_LINK_CHECK</code> access parameter.
                  </p>
                  <div class="infoboxnotealso" id="GUID-FAACA489-0E61-48EA-BD43-8120B1895862__GUID-E00A6D7A-EA55-4B27-8E2C-EA7124C93012">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../sutil/oracle_loader-access-driver.html#SUTIL1399" target="_blank"><span><cite>Oracle Database Utilities</cite></span></a> for information about the <code class="codeph">DISABLE_DIRECTORY_LINK_CHECK</code> access parameter
                           </p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about creating external tables
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>