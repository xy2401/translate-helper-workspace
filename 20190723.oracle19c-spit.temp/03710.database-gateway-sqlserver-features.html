<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>SQL Server Gateway Features and Restriction</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-sql-server-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T16:34:56-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="F18235-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="database-gateway-sqlserver-introduction.html" title="Previous" type="text/html">
      <link rel="next" href="database-gateway-sqlserver-case-studies.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for SQL Server User's Guide">
    <meta name="dcterms.isVersionOf" content="GMSWN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="database-gateway-sqlserver-introduction.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="database-gateway-sqlserver-case-studies.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SQL Server Gateway Features and Restriction</li>
            </ol>
            <a id="GUID-7715EE2E-35B9-4B04-90F3-28A85476E638" name="GUID-7715EE2E-35B9-4B04-90F3-28A85476E638"></a><a id="GMSWN200"></a>
            
            <h2 id="GMSWN-GUID-7715EE2E-35B9-4B04-90F3-28A85476E638" class="sect2"><span class="enumeration_chapter">2 </span>SQL Server Gateway Features and Restriction
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>After the gateway is installed and configured, you can use the gateway to access SQL Server data, pass SQL Server commands from applications to the SQL Server database, perform distributed queries, and copy data. </p>
               <p>Topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" title="A remote insert rowsource feature allows remote insert requiring local Oracle data to work through the Oracle database and Oracle Database Gateway. This functionality requires that the Oracle database and the Oracle Database Gateway to be version 12.2 or later.">Remote Insert Rowsource</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-E55550F8-3B89-46FA-9730-B0396DCA6956">Using the Pass-Through Feature</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-D394102E-9035-48DD-A9C8-8DD7834D86BF">Executing Stored Procedures and Functions</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-969B7793-3140-487D-87A9-1336A4E20258">CHAR Semantics</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-7D22F29E-9416-415D-90C3-1F5787879FAD">Multi-byte Character Sets Ratio Suppression</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-96FDFC55-2416-42C6-8851-86FD5C820FC5">IPv6 Support</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-BA9B52F3-D059-489D-A768-27578D7565AE">Remote User-defined Function Support</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-1A1F4369-423E-4602-A61C-D0C393A5DBDA">Database Compatibility Issues for SQL Server</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-DC125F0F-0957-4A58-805A-9848DC66F627">Known Restrictions </a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-D6FB014B-53E0-41A4-B163-0FBB469151DB">Known Problems</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" name="GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A"></a><h3 id="GMSWN-GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" class="sect3">Remote Insert Rowsource</h3>
               <div>
                  <p>A remote insert rowsource feature allows remote insert requiring local Oracle data to work through the Oracle database and Oracle Database Gateway. This functionality requires that the Oracle database and the Oracle Database Gateway to be version 12.2 or later.</p>
                  <p>By Oracle Database design, some distributed statement must be executed at the database link site. But in certain circumstances, there is data needed to execute these queries that must be fetched from the originating Oracle Database. Under homogeneous connections, the remote Oracle database would call back the source Oracle database for such data. But in heterogeneous connections, this is not viable, because this means that the Foreign Data Store would have to query call back functions, or data, that can only be provided by the Oracle instance that issued the query. In general, these kinds of statements are not something that can be supported through the Oracle Database Gateway. </p>
                  <p>The following categories of SQL statements results in a callback:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Any DML with a sub-select, which refers to a table in Oracle database.</p>
                     </li>
                     <li>
                        <p>Any <code class="codeph">DELETE</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code> or  "<code class="codeph">SELECT... FOR UPDATE..."</code> SQL statement containing SQL functions or statements that needs to be executed at the originating Oracle database. 
                        </p>
                        <p>These SQL functions include <code class="codeph">USER</code>, <code class="codeph">USERENV</code>, and <code class="codeph">SYSDATE</code>; and involve the selection of data from the originating Oracle database.
                        </p>
                     </li>
                     <li>
                        <p>Any SQL statement that involves a table in Oracle database, and a <code class="codeph">LONG</code> or <code class="codeph">LOB</code> column in a remote table.
                        </p>
                     </li>
                  </ul>
                  <p>An example of a remote <code class="codeph">INSERT</code> statement that can work through the remote insert rowsource feature is as follows:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO <span class="italic">gateway_table</span>@gateway_link select * from <span class="italic">local_table</span>;
</pre></div>
            </div><a id="GMSWN704"></a><div class="props_rev_3"><a id="GUID-E55550F8-3B89-46FA-9730-B0396DCA6956" name="GUID-E55550F8-3B89-46FA-9730-B0396DCA6956"></a><h3 id="GMSWN-GUID-E55550F8-3B89-46FA-9730-B0396DCA6956" class="sect3">Using the Pass-Through Feature</h3>
               <div>
                  <div class="section">
                     <p>The gateway can pass SQL Server commands or statements from the application to the SQL Server database using the <code class="codeph">DBMS_HS_PASSTHROUGH</code> package. 
                     </p>
                     <p>Use the <code class="codeph">DBMS_HS_PASSTHROUGH</code> package in a PL/SQL block to specify the statement to be passed to the SQL Server database, as follows:
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
    num_rows INTEGER;
BEGIN
    num_rows := DBMS_HS_PASSTHROUGH.EXECUTE_IMMEDIATE@MSQL('<span class="italic">command</span>');
END;
/
</pre><p>Where <span class="italic">command</span> cannot be one of the following:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">BEGIN</code> <code class="codeph">TRANSACTION</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">COMMIT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ROLLBACK</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SAVE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SHUTDOWN</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">RELEASE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SAVEPOINT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CONNECT</code></p>
                        </li>
                        <li>
                           <p>SQL Server tool commands</p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">DBMS_HS_PASSTHROUGH</code> package supports passing bind values and executing SELECT statements.
                     </p>
                     <div class="infoboxnote" id="GUID-E55550F8-3B89-46FA-9730-B0396DCA6956__GUID-F5B9556E-5470-4A9D-80C5-0678524AF65A">
                        <p class="notep1">Note:</p>
                        <p>TRUNCATE cannot be used in a pass-through statement.</p>
                     </div>
                     <p></p>
                     <div class="infoboxnotealso" id="GUID-E55550F8-3B89-46FA-9730-B0396DCA6956__GUID-3789DB51-18EC-4B0A-B4C2-4CEE24F8E59C">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/DBMS_HS_PASSTHROUGH.html#ARPLS017" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/gmswn&amp;id=HETER003" target="_blank">Chapter 3, Features of Oracle Database Gateways,</a> of <span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span> for more information about the <code class="codeph">DBMS_HS_PASSTHROUGH</code> package.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="GMSWN705"></a><div class="props_rev_3"><a id="GUID-D394102E-9035-48DD-A9C8-8DD7834D86BF" name="GUID-D394102E-9035-48DD-A9C8-8DD7834D86BF"></a><h3 id="GMSWN-GUID-D394102E-9035-48DD-A9C8-8DD7834D86BF" class="sect3">Executing Stored Procedures and Functions</h3>
               <div>
                  <div class="section">
                     <p>Using the procedural feature, the gateway can execute stored procedures that are defined in the SQL Server database. It is not necessary to relink the gateway or define the procedure to the gateway, but the procedure's access privileges must permit access by the user that the gateway is logging in as.</p>
                     <p>Standard PL/SQL statements are used to execute a stored procedure.</p>
                     <p>The gateway supports stored procedures in three mutually exclusive modes:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Normal mode: Have access to <code class="codeph">IN</code>/<code class="codeph">OUT</code> arguments only
                           </p>
                        </li>
                        <li>
                           <p>Return value mode: Have a return value for all stored procedures</p>
                        </li>
                        <li>
                           <p>Resultset mode: Out values are available as last result set</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="GMSWN835"></a><div class="props_rev_3"><a id="GUID-969B7793-3140-487D-87A9-1336A4E20258" name="GUID-969B7793-3140-487D-87A9-1336A4E20258"></a><h3 id="GMSWN-GUID-969B7793-3140-487D-87A9-1336A4E20258" class="sect3">CHAR Semantics</h3>
               <div>
                  <p>This feature allows the gateway to optionally run in <code class="codeph">CHAR</code> Semantics mode.  Rather than always describing SQL Server <code class="codeph">CHAR</code> columns as <code class="codeph">CHAR(n BYTE)</code>, this feature describes them as <code class="codeph">CHAR(n CHAR)</code> and <code class="codeph">VARCHAR(n CHAR)</code>. The concept is similar to Oracle database <code class="codeph">CHAR</code> Semantics. You need to specify <code class="codeph">HS_NLS_LENGTH_SEMANTICS=CHAR</code>  gateway parameter to activate this option. Refer to <a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">Initialization Parameters</a> for more detail.
                  </p>
               </div>
            </div><a id="GMSWN836"></a><div class="props_rev_3"><a id="GUID-7D22F29E-9416-415D-90C3-1F5787879FAD" name="GUID-7D22F29E-9416-415D-90C3-1F5787879FAD"></a><h3 id="GMSWN-GUID-7D22F29E-9416-415D-90C3-1F5787879FAD" class="sect3">Multi-byte Character Sets Ratio Suppression</h3>
               <div>
                  <p>This feature optionally suppresses the ratio expansion from SQL Server database to Oracle database involving multi-byte character set. By default, Oracle gateways assume the worst ratio to prevent data being truncated or insufficient buffer size situation. However, if you have specific knowledge of your SQL Server database and do not want the expansion to occur, you can specify <code class="codeph">HS_KEEP_REMOTE_COLUMN_SIZE</code> parameter to suppress the expansion. Refer to <a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">Initialization Parameters</a> for more detail.
                  </p>
               </div>
            </div><a id="GMSWN837"></a><div class="props_rev_3"><a id="GUID-96FDFC55-2416-42C6-8851-86FD5C820FC5" name="GUID-96FDFC55-2416-42C6-8851-86FD5C820FC5"></a><h3 id="GMSWN-GUID-96FDFC55-2416-42C6-8851-86FD5C820FC5" class="sect3">IPv6 Support</h3>
               <div>
                  <p>Besides full IPv6 support between Oracle databases and the gateway, IPv6 is also supported between this gateway and SQL Server database. Refer to the <code class="codeph">HS_FDS_CONNECT_INFO</code> parameter in <a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">Initialization Parameters</a> for more detail.
                  </p>
               </div>
            </div><a id="GMSWN880"></a><div class="props_rev_3"><a id="GUID-CF96FE3D-C124-4F36-8198-047285443019" name="GUID-CF96FE3D-C124-4F36-8198-047285443019"></a><h3 id="GMSWN-GUID-CF96FE3D-C124-4F36-8198-047285443019" class="sect3">Gateway Session IDLE Timeout</h3>
               <div>
                  <p>You can optionally choose to terminate long idle gateway sessions automatically with the gateway parameter <code class="codeph">HS_IDLE_TIMEOUT</code>. Specifically, when a gateway session is idle for more than the specified time limit, the gateway session is terminated with any pending update rolled back. Refer to the <code class="codeph">HS_IDLE_TIMEOUT</code> parameter in <a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">Initialization Parameters</a> for more detail.
                  </p>
               </div>
            </div><a id="GMSWN706"></a><div class="props_rev_3"><a id="GUID-BA9B52F3-D059-489D-A768-27578D7565AE" name="GUID-BA9B52F3-D059-489D-A768-27578D7565AE"></a><h3 id="GMSWN-GUID-BA9B52F3-D059-489D-A768-27578D7565AE" class="sect3">Remote User-defined Function Support</h3>
               <div>
                  <p>User-defined functions in a remote non-Oracle database can be used in SQL statements.</p>
                  <div class="infoboxnotealso" id="GUID-BA9B52F3-D059-489D-A768-27578D7565AE__GUID-B8727611-B712-400D-8C6E-6C04F644F011">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/gmswn&amp;id=HETER4108" target="_blank"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a> for more information about executing user-defined functions on a non-Oracle database.
                     </p>
                  </div>
               </div><a id="GMSWN707"></a><div class="props_rev_3"><a id="GUID-79C600CE-197A-4F50-A57F-C4F7268BFF52" name="GUID-79C600CE-197A-4F50-A57F-C4F7268BFF52"></a><h4 id="GMSWN-GUID-79C600CE-197A-4F50-A57F-C4F7268BFF52" class="sect4">Return Values and Stored Procedures</h4>
                  <div>
                     <div class="section">
                        <p>By default, all stored procedures and functions do not return a return value to the user. To enable return values, set the <code class="codeph">HS_FDS_PROC_IS_FUNC</code> parameter value to <code class="codeph">TRUE</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-79C600CE-197A-4F50-A57F-C4F7268BFF52__GUID-5F7997D9-1EE3-4565-8C11-E04FEC0C148A">
                           <p class="notep1">See Also:</p>
                           <p> <a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">Initialization Parameters</a> for information about both editing the initialization parameter file and the <code class="codeph">HS_FDS_PROC_IS_FUNC</code> parameter.
                           </p>
                        </div>
                        <div class="infoboxnote" id="GUID-79C600CE-197A-4F50-A57F-C4F7268BFF52__GUID-FC186C09-950C-4FBA-BF7B-F08067210445">
                           <p class="notep1">Note:</p>
                           <p>If you set the <code class="codeph">HS_FDS_PROC_IS_FUNC</code> gateway initialization parameter to <code class="codeph">TRUE</code>, you must change the syntax of the procedure execute statement for all existing stored procedures.
                           </p>
                        </div>
                        <p>In the following example, the employee name <code class="codeph">JOHN SMYTHE</code> is passed to the SQL Server stored procedure <code class="codeph">REVISE_SALARY</code>. The stored procedure retrieves the salary value from the SQL Server database to calculate a new yearly salary for <code class="codeph">JOHN SMYTHE</code>. The revised salary returned in <code class="codeph">RESULT</code> is used to update <code class="codeph">EMP</code> in a table of an Oracle database:
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  INPUT VARCHAR2(15);
  RESULT NUMBER(8,2);
BEGIN
  INPUT := 'JOHN SMYTHE';
  RESULT := REVISE_SALARY@MSQL(INPUT);
  UPDATE EMP SET SAL = RESULT WHERE ENAME =: INPUT;
END;
/
</pre><p>The procedural feature automatically converts non-Oracle data types to and from PL/SQL data types.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="GMSWN708"></a><div class="props_rev_3"><a id="GUID-FDCA4E1B-2B72-4B4B-9C4F-7A4D4304C20C" name="GUID-FDCA4E1B-2B72-4B4B-9C4F-7A4D4304C20C"></a><h4 id="GMSWN-GUID-FDCA4E1B-2B72-4B4B-9C4F-7A4D4304C20C" class="sect4">Result Sets and Stored Procedures</h4>
                  <div>
                     <div class="section">
                        <p>The Oracle Database Gateway for SQL Server provides support for stored procedures which return result sets.</p>
                        <p>By default, all stored procedures and functions do not return a result set to the user. To enable result sets, set the <code class="codeph">HS_FDS_RESULTSET_SUPPORT</code> parameter value to <code class="codeph">TRUE</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-FDCA4E1B-2B72-4B4B-9C4F-7A4D4304C20C__GUID-87D87482-694C-4EC3-936A-B1F6BAC25A46">
                           <p class="notep1">See Also:</p>
                           <p><a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">Initialization Parameters</a> for information about both editing the initialization parameter file and the <code class="codeph">HS_FDS_RESULTSET_SUPPORT</code> parameter. For further information about Oracle support for result sets in non-Oracle databases see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/gmswn&amp;id=HETER4061" target="_blank"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a>.
                           </p>
                        </div>
                        <div class="infoboxnote" id="GUID-FDCA4E1B-2B72-4B4B-9C4F-7A4D4304C20C__GUID-172EC095-C267-4D49-AC15-8068D91555AC">
                           <p class="notep1">Note:</p>
                           <p>If you set the <code class="codeph">HS_FDS_RESULTSET_SUPPORT</code> gateway initialization parameter to <code class="codeph">TRUE</code>, then you must change the syntax of the procedure execute statement for all existing stored procedures, else errors will occur.
                           </p>
                        </div>
                        <p>When accessing stored procedures with result sets through the Oracle Database Gateway for SQL Server, you will be in the sequential mode of Heterogeneous Services.</p>
                        <p>The Oracle Database Gateway for SQL Server returns the following information to Heterogeneous Services during procedure description:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>All the input arguments of the remote stored procedure</p>
                           </li>
                           <li>
                              <p>None of the output arguments</p>
                           </li>
                           <li>
                              <p>One out argument of type ref cursor (corresponding to the first result set returned by the stored procedure)</p>
                           </li>
                        </ul>
                        <p>Client programs have to use the virtual package function <code class="codeph">DBMS_HS_RESULT_SET.GET_NEXT_RESULT_SET</code> to get the ref cursor for subsequent result sets. The last result set returned is the out argument from the procedure.
                        </p>
                        <p>The limitations of accessing result sets are the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Result sets returned by a remote stored procedure have to be retrieved in the order in which they were placed on the wire</p>
                           </li>
                           <li>
                              <p>On execution of a stored procedure, all result sets returned by a previously executed stored procedure will be closed (regardless of whether the data has been completely retrieved or not)</p>
                           </li>
                        </ul>
                        <p>In the following example, the SQL Server stored procedure is executed to fetch the contents of the <code class="codeph">emp</code> and <code class="codeph">dept</code> tables from SQL Server:
                        </p><pre class="oac_no_warn" dir="ltr">create procedure REFCURPROC (@arg1 varchar(255), @arg2 varchar(255) output)
as
select @arg2 = @arg1
select * from EMP
select * from DEPT
go
</pre><p>This stored procedure assigns the input parameter arg1 to the output parameter arg2, opens the query <code class="codeph">SELECT * FROM EMP</code> in ref cursor rc1, and opens the query <code class="codeph">SELECT * FROM DEPT</code> in ref cursor rc2.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="GMSWN709"></a><div class="props_rev_3"><a id="GUID-3CA73599-EC8A-4D73-8D50-4BFE6E34E980" name="GUID-3CA73599-EC8A-4D73-8D50-4BFE6E34E980"></a><h5 id="GMSWN-GUID-3CA73599-EC8A-4D73-8D50-4BFE6E34E980" class="sect5">OCI Program Fetching from Result Sets in Sequential Mode</h5>
                     <div>
                        <div class="section">
                           <p>The following example shows OCI program fetching from result sets in sequential mode:</p><pre class="oac_no_warn" dir="ltr">OCIEnv *ENVH;
OCISvcCtx *SVCH;
OCIStmt *STMH;
OCIError *ERRH;
OCIBind *BNDH[3];
OraText arg1[20];
OraText arg2[255];
OCIResult *rset;
OCIStmt *rstmt;
ub2 rcode[3];
ub2 rlens[3];
sb2 inds[3];
OraText *stmt = (OraText *) "begin refcurproc@MSQL(:1,:2,:3); end;";
OraText *n_rs_stm = (OraText *)
  "begin :ret := DBMS_HS_RESULT_SET.GET_NEXT_RESULT_SET@MSQL; end;";

/* Prepare procedure call statement */

/* Handle Initialization code skipped */
OCIStmtPrepare(STMH, ERRH, stmt, strlen(stmt), OCI_NTV_SYNTAX, OCI_DEFAULT);

/* Bind procedure arguments */
inds[0] = 0;
strcpy((char *) arg1, "Hello World");
rlens[0] = strlen(arg1);
OCIBindByPos(STMH, &amp;BNDH[0], ERRH, 1, (dvoid *) arg1, 20, SQLT_CHR,
             (dvoid *) &amp;(inds[0]), &amp;(rlens[0]), &amp;(rcode[0]), 0, (ub4 *) 0, 
             OCI_DEFAULT);

inds[1] = -1;
OCIBindByPos(STMH, &amp;BNDH[1], ERRH, 1, (dvoid *) arg2, 20, SQLT_CHR,
             (dvoid *) &amp;(inds[1]), &amp;(rlens[1]), &amp;(rcode[1]), 0, (ub4 *) 0, 
             OCI_DEFAULT);

inds[2] = 0;
rlens[2] = 0;
OCIDescriptorAlloc(ENVH, (dvoid **) &amp;rset, OCI_DTYPE_RSET, 0, (dvoid **) 0);
OCIBindByPos(STMH, &amp;BNDH[2], ERRH, 2, (dvoid *) rset, 0, SQLT_RSET,
             (dvoid *) &amp;(inds[2]), &amp;(rlens[2]), &amp;(rcode[2]),
             0, (ub4 *) 0, OCI_DEFAULT);

/* Execute procedure */
OCIStmtExecute(SVCH, STMH, ERRH, 1, 0, (CONST OCISnapshot *) 0,
               (OCISnapshot *) 0, OCI_DEFAULT);

/* Convert result set to statement handle */
OCIResultSetToStmt(rset, ERRH);
rstmt = (OCIStmt *) rset;

/* After this the user can fetch from rstmt */
/* Issue get_next_result_set call to get handle to next_result set */
/* Prepare Get next result set procedure call */

OCIStmtPrepare(STMH, ERRH, n_rs_stm, strlen(n_rs_stm), OCI_NTV_SYNTAX,
               OCI_DEFAULT);

/* Bind return value */
OCIBindByPos(STMH, &amp;BNDH[1], ERRH, 1, (dvoid *) rset, 0, SQLT_RSET,
             (dvoid *) &amp;(inds[1]), &amp;(rlens[1]), &amp;(rcode[1]),
             0, (ub4 *) 0, OCI_DEFAULT);

/* Execute statement to get next result set*/
OCIStmtExecute(SVCH, STMH, ERRH, 1, 0, (CONST OCISnapshot *) 0,
               (OCISnapshot *) 0, OCI_DEFAULT);

/* Convert next result set to statement handle */
OCIResultSetToStmt(rset, ERRH);
rstmt = (OCIStmt *) rset;

/* Now rstmt will point to the second result set returned by the
remote stored procedure */

/* Repeat execution of get_next_result_set to get the output arguments */</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="GMSWN710"></a><div class="props_rev_3"><a id="GUID-C9B017A5-6ECB-4595-9937-E919E78F25B1" name="GUID-C9B017A5-6ECB-4595-9937-E919E78F25B1"></a><h5 id="GMSWN-GUID-C9B017A5-6ECB-4595-9937-E919E78F25B1" class="sect5">PL/SQL Program Fetching from Result Sets in Sequential Mode</h5>
                     <div>
                        <div class="section">
                           <p>Assume that the table <code class="codeph">loc_emp</code> is a local table exactly like the SQL Server <code class="codeph">emp</code> table. The same assumption applies for <code class="codeph">loc_dept</code>. The table <code class="codeph">outargs</code> has columns corresponding to the <code class="codeph">out</code> arguments of the SQL Server stored procedure.
                           </p><pre class="oac_no_warn" dir="ltr">create table outargs (outarg varchar2(255), retval number);
</pre><pre class="oac_no_warn" dir="ltr">create or replace package rcpackage is
  type RCTYPE is ref cursor;
end rcpackage;
/
</pre><pre class="oac_no_warn" dir="ltr">declare
  rc1 rcpackage.rctype;
  rec1 loc_emp%rowtype;
  rc2 rcpackage.rctype;
  rec2 loc_dept%rowtype;
  rc3 rcpackage.rctype;
  rec3 outargs%rowtype;
  out_arg varchar2(255);

begin

  -- Execute procedure
  out_arg := null;
  refcurproc@MSQL('Hello World', out_arg, rc1);

  -- Fetch 20 rows from the remote emp table and insert them into loc_emp
  for i in 1 .. 20 loop
    fetch rc1 into rec1;
    insert into loc_emp (rec1.empno, rec1.ename, rec1.job,
    rec1.mgr, rec1.hiredate, rec1.sal, rec1.comm, rec1.deptno);
  end loop;

  -- Close ref cursor
  close rc1;

  -- Get the next result set returned by the stored procedure
  rc2 := dbms_hs_result_set.get_next_result_set@MSQL;

  -- Fetch 5 rows from the remote dept table and insert them into loc_dept
  for i in 1 .. 5 loop
    fetch rc2 into rec2;
    insert into loc_dept values (rec2.deptno, rec2.dname, rec2.loc);
  end loop;

  --Close ref cursor
  close rc2;

  -- Get the output arguments from the remote stored procedure
  -- Since we are in sequential mode, they will be returned in the
  -- form of a result set
  rc3 := dbms_hs_result_set.get_next_result_set@MSQL;

  -- Fetch them and insert them into the outargs table
  fetch rc3 into rec3;
  insert into outargs (rec3.outarg, rec3.retval);

  -- Close ref cursor
  close rc3;

end;
/</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="GMSWN711"></a><div class="props_rev_3"><a id="GUID-1A1F4369-423E-4602-A61C-D0C393A5DBDA" name="GUID-1A1F4369-423E-4602-A61C-D0C393A5DBDA"></a><h3 id="GMSWN-GUID-1A1F4369-423E-4602-A61C-D0C393A5DBDA" class="sect3">Database Compatibility Issues for SQL Server</h3>
               <div>
                  <p>SQL Server and Oracle databases function differently in some areas, causing compatibility problems. The compatibility issues are described in the following links:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-B1CFF847-A43D-4717-AE2F-44B859004B67">Implicit Transactions (Chained Mode)</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-AFDB949D-EDBC-4867-A9FE-66F98263B94D">Column Definitions</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-84D3DED8-58E0-4B99-9DBC-2DDB04AD1A0C">Naming Rules</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-BABDFD79-86BE-49D4-8646-8373CA0B7823">Data Types</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-59442525-61D4-4512-8F7B-6735BDC4FFAA">Queries</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-58871E1E-2EBC-4745-8AD1-72C3DB5389DF">Locking</a></p>
                     </li>
                  </ul>
               </div><a id="GMSWN712"></a><div class="props_rev_3"><a id="GUID-B1CFF847-A43D-4717-AE2F-44B859004B67" name="GUID-B1CFF847-A43D-4717-AE2F-44B859004B67"></a><h4 id="GMSWN-GUID-B1CFF847-A43D-4717-AE2F-44B859004B67" class="sect4">Implicit Transactions (Chained Mode)</h4>
                  <div>
                     <p><a id="d2170e952" class="indexterm-anchor"></a><a id="d2170e954" class="indexterm-anchor"></a>The gateway supports the ANSI-standard implicit transactions. SQL Server stored procedures must be written for this mode. Running implicit transactions allows the gateway to extend the Oracle two-phase commit protection to transactions updating Oracle and SQL Server databases.
                     </p>
                  </div>
               </div><a id="GMSWN713"></a><div class="props_rev_3"><a id="GUID-AFDB949D-EDBC-4867-A9FE-66F98263B94D" name="GUID-AFDB949D-EDBC-4867-A9FE-66F98263B94D"></a><h4 id="GMSWN-GUID-AFDB949D-EDBC-4867-A9FE-66F98263B94D" class="sect4">Column Definitions</h4>
                  <div>
                     <p><a id="d2170e990" class="indexterm-anchor"></a>By default, a SQL Server table column cannot contain null values unless <code class="codeph">NULL</code> is specified in the column definition. SQL Server assumes all columns cannot contain null values unless you set a SQL Server option to override this default.
                     </p>
                     <p>For an Oracle table, null values are allowed in a column unless <code class="codeph">NOT NULL</code> is specified in the column definition.
                     </p>
                  </div>
               </div><a id="GMSWN714"></a><div class="props_rev_3"><a id="GUID-84D3DED8-58E0-4B99-9DBC-2DDB04AD1A0C" name="GUID-84D3DED8-58E0-4B99-9DBC-2DDB04AD1A0C"></a><h4 id="GMSWN-GUID-84D3DED8-58E0-4B99-9DBC-2DDB04AD1A0C" class="sect4">Naming Rules</h4>
                  <div>
                     <p>Naming rule issues include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-FA650ED6-82F9-4B75-AEF3-13064CFFCEBD">Rules for Naming Objects</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-CCAB7265-35ED-42FD-84B8-D1BA0C30B1C4">Case Sensitivity</a></p>
                        </li>
                     </ul>
                  </div><a id="GMSWN715"></a><div class="props_rev_3"><a id="GUID-FA650ED6-82F9-4B75-AEF3-13064CFFCEBD" name="GUID-FA650ED6-82F9-4B75-AEF3-13064CFFCEBD"></a><h5 id="GMSWN-GUID-FA650ED6-82F9-4B75-AEF3-13064CFFCEBD" class="sect5">Rules for Naming Objects</h5>
                     <div>
                        <p>Oracle and SQL Server use different database object naming rules. For example, the maximum number of characters allowed for each object name can be different. Also, the use of single and double quotation marks, case sensitivity, and the use of alphanumeric characters can all be different. </p>
                        <div class="infoboxnotealso" id="GUID-FA650ED6-82F9-4B75-AEF3-13064CFFCEBD__GUID-8505615D-DC86-45CC-912B-A9EF8A49A0C6">
                           <p class="notep1">See Also:</p>
                           <p><a href="../refrn/index.html" target="_blank"><span class="italic">Oracle Database Reference</span></a> and SQL Server documentation.
                           </p>
                        </div>
                     </div>
                  </div><a id="GMSWN716"></a><div class="props_rev_3"><a id="GUID-CCAB7265-35ED-42FD-84B8-D1BA0C30B1C4" name="GUID-CCAB7265-35ED-42FD-84B8-D1BA0C30B1C4"></a><h5 id="GMSWN-GUID-CCAB7265-35ED-42FD-84B8-D1BA0C30B1C4" class="sect5">Case Sensitivity</h5>
                     <div>
                        <p>The Oracle database defaults to uppercase unless you surround identifiers with double quote characters. For example, to refer to the SQL Server table called <code class="codeph">emp</code>, enter the name with double quote characters, as follows:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM "emp"@MSQL;
</pre><p>However, to refer to the SQL Server table called <code class="codeph">emp</code> owned by Scott from an Oracle application, enter the following:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM "Scott"."emp"@MSQL;
</pre><p>If the SQL Server table called <code class="codeph">emp</code> is owned by <code class="codeph">SCOTT</code>, a table owner name in uppercase letters, you can enter the owner name without double quote characters, as follows:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM SCOTT."emp"@MSQL;
</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM scott."emp"@MSQL;
</pre><p>Oracle recommends that you surround all SQL Server object names with double quote characters and use the exact letter case for the object names as they appear in the SQL Server data dictionary. This convention is not required when referring to the supported Oracle data dictionary tables or views listed in <a href="database-gateway-sqlserver-data-dictionary.html#GUID-3F877790-E47E-4191-A3AC-25E0B7C56F6F">Data Dictionary</a>.
                        </p>
                        <p>If existing applications cannot be changed according to these conventions, create views in Oracle to associate SQL Server names to the correct letter case. For example, to refer to the SQL Server table <code class="codeph">emp</code> from an existing Oracle application by using only uppercase names, define the following view:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE VIEW EMP (EMPNO, ENAME, SAL, HIREDATE)
      AS SELECT "empno", "ename", "sal", "hiredate"
      FROM "emp"@MSQL;
</pre><p>With this view, the application can issue statements such as the following:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT EMPNO, ENAME FROM EMP;
</pre><p>Using views is a workaround solution that duplicates data dictionary information originating in the SQL Server data dictionary. You must be prepared to update the Oracle view definitions whenever the data definitions for the corresponding tables are changed in the SQL Server database.</p>
                     </div>
                  </div>
               </div><a id="GMSWN717"></a><div class="props_rev_3"><a id="GUID-BABDFD79-86BE-49D4-8646-8373CA0B7823" name="GUID-BABDFD79-86BE-49D4-8646-8373CA0B7823"></a><h4 id="GMSWN-GUID-BABDFD79-86BE-49D4-8646-8373CA0B7823" class="sect4">Data Types</h4>
                  <div>
                     <p>Data type issues include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-141413D3-F780-451B-9A9C-30630BBE8E8B">Binary Literal Notation</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-C2716325-B085-4E04-8764-6D7A14E11E46">Bind Variables With LONG Columns</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-0C663CAA-671C-42C8-9DEA-7CB770D4314F">Data Type Conversion</a></p>
                        </li>
                     </ul>
                  </div><a id="GMSWN718"></a><div class="props_rev_3"><a id="GUID-141413D3-F780-451B-9A9C-30630BBE8E8B" name="GUID-141413D3-F780-451B-9A9C-30630BBE8E8B"></a><h5 id="GMSWN-GUID-141413D3-F780-451B-9A9C-30630BBE8E8B" class="sect5">Binary Literal Notation</h5>
                     <div>
                        <p>Oracle SQL uses hexadecimal digits surrounded by single quotes to express literal values being compared or inserted into columns defined as data type <code class="codeph">RAW</code>. 
                        </p>
                        <p><a id="d2170e1254" class="indexterm-anchor"></a>This notation is not converted to syntax compatible with the SQL Server <code class="codeph">VARBINARY</code> and <code class="codeph">BINARY</code> data types (a <code class="codeph">0x </code>followed by hexadecimal digits, surrounded by single quotes). 
                        </p>
                        <p>For example, the following statement is not supported:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT INTO BINARY_TAB@MSQL VALUES ('0xff')
</pre><p>Where <code class="codeph">BINARY_TAB</code> contains a column of data type <code class="codeph">VARBINARY</code> or <code class="codeph">BINARY</code>. Use bind variables when inserting into or updating <code class="codeph">VARBINARY</code> and <code class="codeph">BINARY</code> data types.
                        </p>
                     </div>
                  </div><a id="GMSWN719"></a><div class="props_rev_3"><a id="GUID-C2716325-B085-4E04-8764-6D7A14E11E46" name="GUID-C2716325-B085-4E04-8764-6D7A14E11E46"></a><h5 id="GMSWN-GUID-C2716325-B085-4E04-8764-6D7A14E11E46" class="sect5">Bind Variables With LONG Columns</h5>
                     <div>
                        <p>The gateway does not support using bind variables to update columns of data type <code class="codeph">LONG</code>.
                        </p>
                     </div>
                  </div><a id="GMSWN720"></a><div class="props_rev_3"><a id="GUID-0C663CAA-671C-42C8-9DEA-7CB770D4314F" name="GUID-0C663CAA-671C-42C8-9DEA-7CB770D4314F"></a><h5 id="GMSWN-GUID-0C663CAA-671C-42C8-9DEA-7CB770D4314F" class="sect5">Data Type Conversion</h5>
                     <div>
                        <p>SQL Server does not support implicit date conversions. Such conversions must be explicit.</p>
                        <p>For example, the gateway issues an error for the following <code class="codeph">SELECT</code> statement:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT DATE_COL FROM TEST@MSQL WHERE DATE_COL = "1-JAN-2004";
</pre><p>To avoid problems with implicit conversions, add explicit conversions, as in the following:</p><pre class="oac_no_warn" dir="ltr">SELECT DATE_COL FROM TEST@MSQL WHERE DATE_COL = TO_DATE("1-JAN-2004")
</pre><div class="infoboxnotealso" id="GUID-0C663CAA-671C-42C8-9DEA-7CB770D4314F__GUID-2BD9C836-E8B8-4519-8DF5-D6AFD1580C0E">
                           <p class="notep1">See Also:</p>
                           <p><a href="database-gateway-sqlserver-data-type-conversion.html#GUID-33CEB476-48D0-4441-B4D1-5CA07A077BC4">Data Type Conversion</a> for more information about restrictions on data types.
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="GMSWN721"></a><div class="props_rev_3"><a id="GUID-59442525-61D4-4512-8F7B-6735BDC4FFAA" name="GUID-59442525-61D4-4512-8F7B-6735BDC4FFAA"></a><h4 id="GMSWN-GUID-59442525-61D4-4512-8F7B-6735BDC4FFAA" class="sect4">Queries</h4>
                  <div>
                     <p>Query issues include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-4AD07233-9E64-4939-9B1B-255CACC5A094">Row Selection</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-8B388C74-AFB7-4516-A96D-C2B824B99399">Empty Strings</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-9E0DD3E2-B861-4753-A424-5194A9369556">Empty Bind Variables</a></p>
                        </li>
                     </ul>
                  </div><a id="GMSWN722"></a><div class="props_rev_3"><a id="GUID-4AD07233-9E64-4939-9B1B-255CACC5A094" name="GUID-4AD07233-9E64-4939-9B1B-255CACC5A094"></a><h5 id="GMSWN-GUID-4AD07233-9E64-4939-9B1B-255CACC5A094" class="sect5">Row Selection</h5>
                     <div>
                        <p>SQL Server evaluates a query condition for all selected rows before returning any of the rows. If there is an error in the evaluation process for one or more rows, no rows are returned even though the remaining rows satisfy the condition. </p>
                        <p>Oracle evaluates the query condition row-by-row and returns a row when the evaluation is successful. Rows are returned until a row fails the evaluation.</p>
                     </div>
                  </div><a id="GMSWN723"></a><div class="props_rev_3"><a id="GUID-8B388C74-AFB7-4516-A96D-C2B824B99399" name="GUID-8B388C74-AFB7-4516-A96D-C2B824B99399"></a><h5 id="GMSWN-GUID-8B388C74-AFB7-4516-A96D-C2B824B99399" class="sect5">Empty Strings</h5>
                     <div>
                        <p>Oracle processes an empty string in a SQL statement as a null value. SQL Server processes an empty string as an empty string.</p>
                        <p>When comparing an empty string the gateway passes literal empty strings to the SQL Server database without any conversion. If you intended an empty string to represent a null value, SQL Server does not process the statement that way; it uses the empty string.</p>
                        <p>You can avoid this problem by using <code class="codeph">NULL</code> or <code class="codeph">IS NULL</code> in the SQL statement instead of the empty string syntax, as in the following example:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT * from "emp"@MSQL where "ename" IS NULL;
</pre><p>To select an empty string:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>For <code class="codeph">VARCHAR</code> columns, the gateway returns an empty string to the Oracle database as <code class="codeph">NULL</code> value.
                              </p>
                           </li>
                           <li>
                              <p>For <code class="codeph">CHAR</code> columns, the gateway returns the full size of the column with each character as empty space (' ').
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="GMSWN724"></a><div class="props_rev_3"><a id="GUID-9E0DD3E2-B861-4753-A424-5194A9369556" name="GUID-9E0DD3E2-B861-4753-A424-5194A9369556"></a><h5 id="GMSWN-GUID-9E0DD3E2-B861-4753-A424-5194A9369556" class="sect5">Empty Bind Variables</h5>
                     <div>
                        <p>For <code class="codeph">VARCHAR</code> bind variables, the gateway passes empty bind variables to the SQL Server database as a <code class="codeph">NULL</code> value.
                        </p>
                     </div>
                  </div>
               </div><a id="GMSWN725"></a><div class="props_rev_3"><a id="GUID-58871E1E-2EBC-4745-8AD1-72C3DB5389DF" name="GUID-58871E1E-2EBC-4745-8AD1-72C3DB5389DF"></a><h4 id="GMSWN-GUID-58871E1E-2EBC-4745-8AD1-72C3DB5389DF" class="sect4">Locking</h4>
                  <div>
                     <p>The locking model for an SQL Server database differs significantly from the Oracle model. The gateway depends on the underlying SQL Server behavior, so the following possible scenarios can affect Oracle applications that access SQL Server through the gateway:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Read access might block write access</p>
                        </li>
                        <li>
                           <p>Write access might block read access</p>
                        </li>
                        <li>
                           <p>Statement-level read consistency is not guaranteed</p>
                           <div class="infoboxnotealso" id="GUID-58871E1E-2EBC-4745-8AD1-72C3DB5389DF__GUID-50B73490-A95B-4CDA-B69B-F739B5898D5F">
                              <p class="notep1">See Also:</p>
                              <p>SQL Server documentation for information about the SQL Server locking model.</p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="GMSWN726"></a><div class="props_rev_3"><a id="GUID-DC125F0F-0957-4A58-805A-9848DC66F627" name="GUID-DC125F0F-0957-4A58-805A-9848DC66F627"></a><h3 id="GMSWN-GUID-DC125F0F-0957-4A58-805A-9848DC66F627" class="sect3">Known Restrictions </h3>
               <div>
                  <p>If you encounter incompatibility problems not listed in this section or in <span class="q">"<a href="database-gateway-sqlserver-features.html#GUID-D6FB014B-53E0-41A4-B163-0FBB469151DB">Known Problems</a>"</span>, contact Oracle Support Services. The following section describes the known restrictions and includes suggestions for dealing with them when possible:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-CB03B78E-6CC0-4BB2-9EBC-C88CBB808923">Multiple Open Statements</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-A01E8CE3-386A-4C28-944C-3FBA558DB115">Transactional Integrity </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-8DDCE4CF-D969-470B-A0EF-C28EEF4887A5">Transaction Capability </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-B0A518E4-C1F6-457A-817B-51A9C6E8E1CD">COMMIT or ROLLBACK in PL/SQL Cursor Loops Closes Open Cursors </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-1EA2AC1A-35D8-449C-8C75-5514496CF7FF">Stored Procedures</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-29BDC7B2-A9DC-4413-A7C5-6B4F747C7B8D">Pass-Through Feature</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-0F8C99B5-99AF-4D92-AF45-38E7DC3FE250">DDL Statements</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-96885C5A-9710-4EB5-8E58-5B3823F692D3">SQL Syntax</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-E6C63A61-FBFC-4B6A-9B0C-B819B4E7CCD3">Functions</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-3AA39252-2AA8-43C1-A846-3E56026ECB13">SQL*Plus COPY Command with Lowercase Table Names</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-263C4864-9E01-4994-A55C-7CFACDF874F8">Database Links</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-DC125F0F-0957-4A58-805A-9848DC66F627__GUID-AC0ED9B8-DEEA-47BB-A01A-3F281E79991A">
                     <p class="notep1">Note:</p>
                     <p>If you have any questions or concerns about the restrictions, contact Oracle Support Services.</p>
                  </div>
               </div><a id="GMSWN727"></a><div class="props_rev_3"><a id="GUID-CB03B78E-6CC0-4BB2-9EBC-C88CBB808923" name="GUID-CB03B78E-6CC0-4BB2-9EBC-C88CBB808923"></a><h4 id="GMSWN-GUID-CB03B78E-6CC0-4BB2-9EBC-C88CBB808923" class="sect4">Multiple Open Statements</h4>
                  <div>
                     <p>Accessing SQL Server has the limitation that one open statement or cursor is allowed for each connection. If a second statement or cursor needs to open in the same transaction to access SQL Server, it requires a new connection.</p>
                     <p>Because of this limitation multiple open statements or cursors within the same transaction can lock each other because they use different connections to SQL Server. </p>
                     <p>To avoid this restriction, issue a commit, or modify the logic, or both. </p>
                  </div>
               </div><a id="GMSWN728"></a><div class="props_rev_3"><a id="GUID-A01E8CE3-386A-4C28-944C-3FBA558DB115" name="GUID-A01E8CE3-386A-4C28-944C-3FBA558DB115"></a><h4 id="GMSWN-GUID-A01E8CE3-386A-4C28-944C-3FBA558DB115" class="sect4">Transactional Integrity </h4>
                  <div>
                     <p>The gateway cannot guarantee transactional integrity in the following cases:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>When a statement that is processed by the gateway causes an implicit commit in the target database</p>
                        </li>
                        <li>
                           <p>When the target database is configured to work in Autocommit Mode</p>
                           <div class="infoboxnote" id="GUID-A01E8CE3-386A-4C28-944C-3FBA558DB115__GUID-59173894-9F7A-466B-9E79-C874717A768E">
                              <p class="notep1">Note:</p>
                              <p>Oracle strongly recommends the following:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If you know that executing a particular statement causes an implicit commit in the target database, then ensure that this statement is executed in its own transaction.</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                     <p>The gateway sets Autocommit Mode to Off when a connection is established to the SQL Server database.</p>
                  </div>
               </div><a id="GMSWN729"></a><div class="props_rev_3"><a id="GUID-8DDCE4CF-D969-470B-A0EF-C28EEF4887A5" name="GUID-8DDCE4CF-D969-470B-A0EF-C28EEF4887A5"></a><h4 id="GMSWN-GUID-8DDCE4CF-D969-470B-A0EF-C28EEF4887A5" class="sect4">Transaction Capability </h4>
                  <div>
                     <p><a id="d2170e1835" class="indexterm-anchor"></a>The gateway does not support savepoints. If a distributed update transaction is under way involving the gateway, and a user attempts to create a savepoint, the following error occurs:
                     </p><pre class="oac_no_warn" dir="ltr"><a id="d2170e1839" class="indexterm-anchor"></a>ORA-02070: database <span class="italic">dblink</span> does not support savepoint in this context<a id="d2170e1845" class="indexterm-anchor"></a>
</pre><p><a id="d2170e1851" class="indexterm-anchor"></a>By default, the gateway is configured as <code class="codeph">COMMIT_CONFIRM</code>.
                     </p>
                  </div>
               </div><a id="GMSWN730"></a><div class="props_rev_3"><a id="GUID-B0A518E4-C1F6-457A-817B-51A9C6E8E1CD" name="GUID-B0A518E4-C1F6-457A-817B-51A9C6E8E1CD"></a><h4 id="GMSWN-GUID-B0A518E4-C1F6-457A-817B-51A9C6E8E1CD" class="sect4">COMMIT or ROLLBACK in PL/SQL Cursor Loops Closes Open Cursors </h4>
                  <div>
                     <p>Any <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> issued in a PL/SQL cursor loop closes all open cursors, which can result in the following error:
                     </p><pre class="oac_no_warn" dir="ltr">ORA-1002:  fetch out of sequence 
</pre><p>To prevent this error, move the <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> statement outside the cursor loop.
                     </p>
                  </div>
               </div><a id="GMSWN731"></a><div class="props_rev_3"><a id="GUID-1EA2AC1A-35D8-449C-8C75-5514496CF7FF" name="GUID-1EA2AC1A-35D8-449C-8C75-5514496CF7FF"></a><h4 id="GMSWN-GUID-1EA2AC1A-35D8-449C-8C75-5514496CF7FF" class="sect4">Stored Procedures</h4>
                  <div>
                     <p>The Oracle transaction manager or Oracle <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> commands cannot contril changes issued through stored procedures that embed commits or rollbacks
                     </p>
                     <p>When accessing stored procedures with result sets through the Oracle Database Gateway for SQL Server, you must work in the sequential mode of Heterogeneous Services.</p>
                     <p>When accessing stored procedures with multiple result sets through the Oracle Database Gateway for SQL Server, you must read all the result sets before continuing.</p>
                     <p>Output parameters of stored procedures must be initialized to an empty string.</p>
                  </div>
               </div><a id="GMSWN732"></a><div class="props_rev_3"><a id="GUID-29BDC7B2-A9DC-4413-A7C5-6B4F747C7B8D" name="GUID-29BDC7B2-A9DC-4413-A7C5-6B4F747C7B8D"></a><h4 id="GMSWN-GUID-29BDC7B2-A9DC-4413-A7C5-6B4F747C7B8D" class="sect4">Pass-Through Feature</h4>
                  <div>
                     <p><a id="d2170e1999" class="indexterm-anchor"></a>If the SQL statements being passed through the gateway result in an implicit commit at the SQL Server database, the Oracle transaction manager is unaware of the commit and an Oracle <code class="codeph">ROLLBACK</code> command cannot be used to roll back the transaction.
                     </p>
                  </div>
               </div><a id="GMSWN838"></a><a id="GMSWN733"></a><div class="props_rev_3"><a id="GUID-0F8C99B5-99AF-4D92-AF45-38E7DC3FE250" name="GUID-0F8C99B5-99AF-4D92-AF45-38E7DC3FE250"></a><h4 id="GMSWN-GUID-0F8C99B5-99AF-4D92-AF45-38E7DC3FE250" class="sect4">DDL Statements</h4>
                  <div>
                     <div class="section">
                        <p>SQL Server requires some DDL statements to be executed in their own transaction, and only one DDL statement can be executed in a given transaction.</p>
                        <p>If you use these DDL statements in a SQL Server stored procedure and you execute the stored procedure through the gateway using the procedural feature, or, if you execute the DDL statements through the gateway using the pass-through feature, an error condition might result. This is because the procedural feature and the pass-through feature of the gateway cannot guarantee that the DDL statements are executed in their own separate transaction.</p>
                        <p><a id="d2170e2042" class="indexterm-anchor"></a>The following SQL Server DDL statements can cause an error condition if you attempt to pass them with the gateway pass-through feature, or if you execute a SQL Server stored procedure that contains them:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">ALTER DATABASE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">CREATE DATABASE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">CREATE INDEX</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">CREATE PROCEDURE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">CREATE TABLE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">CREATE VIEW</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DISK INIT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DROP &lt;</code><span class="italic"><code class="codeph">object</code></span><code class="codeph">&gt;</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DUMP TRANSACTION</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">GRANT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">LOAD DATABASE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">LOAD TRANSACTION</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">RECONFIGURE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">REVOKE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">SELECT INTO</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">TRUNCATE TABLE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">UPDATE STATISTICS</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-0F8C99B5-99AF-4D92-AF45-38E7DC3FE250__GUID-565F2F3B-4062-4BC3-B94B-F6206A6E5E8C">
                           <p class="notep1">See Also:</p>
                           <p>SQL Server documentation for more information about DDL statements.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="GMSWN734"></a><div class="props_rev_3"><a id="GUID-96885C5A-9710-4EB5-8E58-5B3823F692D3" name="GUID-96885C5A-9710-4EB5-8E58-5B3823F692D3"></a><h4 id="GMSWN-GUID-96885C5A-9710-4EB5-8E58-5B3823F692D3" class="sect4">SQL Syntax</h4>
                  <div>
                     <p>This section lists restrictions on the following SQL syntax:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-F6BB2D1C-43C5-45D6-9DF7-7EDFB5D4110F">WHERE CURRENT OF Clause</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-9507E1B9-F5C7-46E8-B6F7-ADFAEF97169D">CONNECT BY Clause</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-27AC7EAF-EA59-415F-A017-C75A42B21731">Functions in Subqueries</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-F6EBB574-0983-4A5A-9C5F-576E8C4C70BA">Parameters in Subqueries</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-DC68B356-6407-4435-9181-E17B28ED4914">Data Dictionary Table and Views in UPDATE Statement</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-587A5ECF-58F2-4DCE-9DDD-093F9BE61745">ROWID</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-35FE17FE-DF60-417A-ABEC-F424CCE9EE42">TO_DATE</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-32B73FD6-D082-4A81-9164-53D7307CFC39">EXPLAIN PLAN Statement</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-96885C5A-9710-4EB5-8E58-5B3823F692D3__GUID-52660DEA-2A76-4844-AF39-57325343AC75">
                        <p class="notep1">See Also:</p>
                        <p><a href="database-gateway-sqlserver-supported-sql-syntax-functions.html#GUID-D66F13BA-ADEC-4596-BED5-2F68539E93EB">Supported SQL Syntax and Functions</a> for more information about restrictions on SQL syntax.
                        </p>
                     </div>
                  </div><a id="GMSWN735"></a><div class="props_rev_3"><a id="GUID-F6BB2D1C-43C5-45D6-9DF7-7EDFB5D4110F" name="GUID-F6BB2D1C-43C5-45D6-9DF7-7EDFB5D4110F"></a><h5 id="GMSWN-GUID-F6BB2D1C-43C5-45D6-9DF7-7EDFB5D4110F" class="sect5">WHERE CURRENT OF Clause</h5>
                     <div>
                        <p><code class="codeph">UPDATE</code> and <code class="codeph">DELETE</code> statements with the <code class="codeph">WHERE CURRENT OF</code> clause are not supported by the gateway because they rely on the Oracle <a id="d2170e2249" class="indexterm-anchor"></a><code class="codeph">ROWID</code> implementation. To update or delete a specific row through the gateway, a condition style <code class="codeph">WHERE</code> clause must be used.
                        </p>
                     </div>
                  </div><a id="GMSWN736"></a><div class="props_rev_3"><a id="GUID-9507E1B9-F5C7-46E8-B6F7-ADFAEF97169D" name="GUID-9507E1B9-F5C7-46E8-B6F7-ADFAEF97169D"></a><h5 id="GMSWN-GUID-9507E1B9-F5C7-46E8-B6F7-ADFAEF97169D" class="sect5">CONNECT BY Clause</h5>
                     <div>
                        <p>The gateway does not support the <code class="codeph">CONNECT BY</code> clause in a <code class="codeph">SELECT</code> statement.
                        </p>
                     </div>
                  </div><a id="GMSWN737"></a><div class="props_rev_3"><a id="GUID-27AC7EAF-EA59-415F-A017-C75A42B21731" name="GUID-27AC7EAF-EA59-415F-A017-C75A42B21731"></a><h5 id="GMSWN-GUID-27AC7EAF-EA59-415F-A017-C75A42B21731" class="sect5">Functions in Subqueries</h5>
                     <div>
                        <p>Bind variables and expressions are not supported as operands in string functions or mathematical functions, when part of subquery in an <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code> SQL statement.
                        </p>
                     </div>
                  </div><a id="GMSWN738"></a><div class="props_rev_3"><a id="GUID-F6EBB574-0983-4A5A-9C5F-576E8C4C70BA" name="GUID-F6EBB574-0983-4A5A-9C5F-576E8C4C70BA"></a><h5 id="GMSWN-GUID-F6EBB574-0983-4A5A-9C5F-576E8C4C70BA" class="sect5">Parameters in Subqueries</h5>
                     <div>
                        <p>Due to a limitation in SQL Server, you cannot use parameters in subqueries.</p>
                     </div>
                  </div><a id="GMSWN739"></a><div class="props_rev_3"><a id="GUID-DC68B356-6407-4435-9181-E17B28ED4914" name="GUID-DC68B356-6407-4435-9181-E17B28ED4914"></a><h5 id="GMSWN-GUID-DC68B356-6407-4435-9181-E17B28ED4914" class="sect5">Data Dictionary Table and Views in UPDATE Statement</h5>
                     <div>
                        <p>Data dictionary tables and views in the <code class="codeph">SET</code> clause of an <code class="codeph">UPDATE</code> statement are not supported.
                        </p>
                     </div>
                  </div><a id="GMSWN740"></a><div class="props_rev_3"><a id="GUID-587A5ECF-58F2-4DCE-9DDD-093F9BE61745" name="GUID-587A5ECF-58F2-4DCE-9DDD-093F9BE61745"></a><h5 id="GMSWN-GUID-587A5ECF-58F2-4DCE-9DDD-093F9BE61745" class="sect5">ROWID</h5>
                     <div>
                        <p>The Oracle <code class="codeph">ROWID</code> implementation is not supported.
                        </p>
                     </div>
                  </div><a id="GMSWN741"></a><div class="props_rev_3"><a id="GUID-35FE17FE-DF60-417A-ABEC-F424CCE9EE42" name="GUID-35FE17FE-DF60-417A-ABEC-F424CCE9EE42"></a><h5 id="GMSWN-GUID-35FE17FE-DF60-417A-ABEC-F424CCE9EE42" class="sect5">TO_DATE</h5>
                     <div>
                        <p><code class="codeph">TO_DATE</code> is a reserved word and cannot be used as a database identifier name.
                        </p>
                     </div>
                  </div><a id="GMSWN742"></a><div class="props_rev_3"><a id="GUID-32B73FD6-D082-4A81-9164-53D7307CFC39" name="GUID-32B73FD6-D082-4A81-9164-53D7307CFC39"></a><h5 id="GMSWN-GUID-32B73FD6-D082-4A81-9164-53D7307CFC39" class="sect5">EXPLAIN PLAN Statement</h5>
                     <div>
                        <p>The <code class="codeph">EXPLAIN PLAN</code> statement is not supported.
                        </p>
                     </div>
                  </div>
               </div><a id="GMSWN744"></a><div class="props_rev_3"><a id="GUID-E6C63A61-FBFC-4B6A-9B0C-B819B4E7CCD3" name="GUID-E6C63A61-FBFC-4B6A-9B0C-B819B4E7CCD3"></a><h4 id="GMSWN-GUID-E6C63A61-FBFC-4B6A-9B0C-B819B4E7CCD3" class="sect4">Functions</h4>
                  <div>
                     <p>The following restrictions apply to using functions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Unsupported functions cannot be used in statements that refer to <code class="codeph">LONG</code> columns.
                           </p>
                        </li>
                        <li>
                           <p>When negative numbers are used as the second parameter in a <code class="codeph">SUBSTR</code> function, incorrect results are returned. This is due to incompatibility between the Oracle <code class="codeph">SUBSTR</code> function and the equivalent in SQL Server.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="GMSWN745"></a><div class="props_rev_3"><a id="GUID-3AA39252-2AA8-43C1-A846-3E56026ECB13" name="GUID-3AA39252-2AA8-43C1-A846-3E56026ECB13"></a><h4 id="GMSWN-GUID-3AA39252-2AA8-43C1-A846-3E56026ECB13" class="sect4">SQL*Plus COPY Command with Lowercase Table Names</h4>
                  <div>
                     <p>You need to wrap lower case table names in double quotes.</p>
                     <p>For example:</p><pre class="oac_no_warn" dir="ltr">copy from tkhouser/tkhouser@inst1 insert loc_tkhodept using select * from "tkhodept"@holink2;</pre></div>
               </div><a id="GMSWN746"></a><div class="props_rev_3"><a id="GUID-263C4864-9E01-4994-A55C-7CFACDF874F8" name="GUID-263C4864-9E01-4994-A55C-7CFACDF874F8"></a><h4 id="GMSWN-GUID-263C4864-9E01-4994-A55C-7CFACDF874F8" class="sect4">Database Links</h4>
                  <div>
                     <p>The gateway is not multithreaded and cannot support shared database links. Each gateway session spawns a separate gateway process and connections cannot be shared.</p>
                  </div>
               </div>
            </div><a id="GMSWN747"></a><div class="props_rev_3"><a id="GUID-D6FB014B-53E0-41A4-B163-0FBB469151DB" name="GUID-D6FB014B-53E0-41A4-B163-0FBB469151DB"></a><h3 id="GMSWN-GUID-D6FB014B-53E0-41A4-B163-0FBB469151DB" class="sect3">Known Problems</h3>
               <div>
                  <p>This section describes known problems and includes suggestions for correcting them when possible. If you have any questions or concerns about the problems, contact Oracle Support Services. A current list of problems is available online. Contact your local Oracle office for information about accessing the list.</p>
                  <p>The following known problems are described in this section:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-1FB8BB9A-E0E8-4920-8D3C-E11B07001958">Encrypted Format Login </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-4F243177-A053-4A00-9C6B-A9C65756871D">Date Arithmetic</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-522784C7-87F8-43B7-9C9C-B624BAEBB269">SQL Server IMAGE_ TEXT and NTEXT Data Types</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-C95B5741-B40A-4D49-A45E-188F018FFCCD">String Functions</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-20474B79-62AD-4322-8FDB-74C47ECBA682">Schema Names and PL/SQL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-4527FCE1-B460-4156-8416-4167CD8AE014">Data Dictionary Views and PL/SQL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-8FA7D620-EB99-44A8-A64E-0A458716C003">Stored Procedures</a></p>
                     </li>
                  </ul>
               </div><a id="GMSWN748"></a><div class="props_rev_3"><a id="GUID-1FB8BB9A-E0E8-4920-8D3C-E11B07001958" name="GUID-1FB8BB9A-E0E8-4920-8D3C-E11B07001958"></a><h4 id="GMSWN-GUID-1FB8BB9A-E0E8-4920-8D3C-E11B07001958" class="sect4">Encrypted Format Login </h4>
                  <div>
                     <p>The Oracle9<span class="italic">i</span> database (Release 9.2 and earlier) supported an Oracle initialization parameter, <code class="codeph">DBLINK_ENCRYPT_LOGIN</code>. When this parameter is set to <code class="codeph">TRUE</code>, the password for the login user ID is not sent over the network.
                     </p>
                     <p>If this parameter is set to <code class="codeph">TRUE</code> in the initialization parameter file used by the Oracle9<span class="italic">i</span> database, you must change the setting to <code class="codeph">FALSE</code>, the default setting, to allow Oracle9<span class="italic">i</span> to communicate with the gateway.
                     </p>
                     <p>In the current release, the <code class="codeph">DBLINK_ENCRYPT_LOGIN</code> initialization parameter is obsolete, so you do not need to check it.
                     </p>
                  </div>
               </div><a id="GMSWN749"></a><div class="props_rev_3"><a id="GUID-4F243177-A053-4A00-9C6B-A9C65756871D" name="GUID-4F243177-A053-4A00-9C6B-A9C65756871D"></a><h4 id="GMSWN-GUID-4F243177-A053-4A00-9C6B-A9C65756871D" class="sect4">Date Arithmetic</h4>
                  <div>
                     <p>The following SQL expressions do not function correctly with the gateway:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">date </span>+<span class="italic"> number</span>
<span class="italic">number </span>+<span class="italic"> date</span>
date - <span class="italic">number</span>
date1 - <span class="italic">date2</span>
</pre><p>Statements with the preceding expressions are sent to the SQL Server database without any translation. Since SQL Server does not support these date arithmetic functions, the statements return an error.</p>
                  </div>
               </div><a id="GMSWN750"></a><div class="props_rev_3"><a id="GUID-522784C7-87F8-43B7-9C9C-B624BAEBB269" name="GUID-522784C7-87F8-43B7-9C9C-B624BAEBB269"></a><h4 id="GMSWN-GUID-522784C7-87F8-43B7-9C9C-B624BAEBB269" class="sect4">SQL Server IMAGE, TEXT and NTEXT Data Types</h4>
                  <div>
                     <p>The following restrictions apply when using <code class="codeph">IMAGE</code>, <code class="codeph">TEXT</code>, and <code class="codeph">NTEXT</code> data types:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>An unsupported SQL function cannot be used in a SQL statement that accesses a column defined as SQL Server data type <code class="codeph">IMAGE</code>, <code class="codeph">TEXT</code>, or <code class="codeph">NTEXT</code>. 
                           </p>
                        </li>
                        <li>
                           <p>You cannot use SQL*Plus to select data from a column defined as SQL Server data type <code class="codeph">IMAGE</code>, <code class="codeph">TEXT</code>, or <code class="codeph">NTEXT</code> when the data is greater than 80 characters in length. Oracle recommends using Pro*C or Oracle Call Interface to access such data in a SQL Server database.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">IMAGE</code>, <code class="codeph">TEXT</code>, and <code class="codeph">NTEXT</code> data cannot be read through pass-through queries.
                           </p>
                        </li>
                        <li>
                           <p>If a SQL statement is accessing a table including an <code class="codeph">IMAGE</code>, <code class="codeph">TEXT</code>, or <code class="codeph">NTEXT</code> column, the statement will be sent to SQL Server as two separate statements. One statement to access the <code class="codeph">IMAGE</code>, <code class="codeph">TEXT</code> or <code class="codeph">NTEXT</code> column, and a second statement for the other columns in the original statement.
                           </p>
                        </li>
                     </ul>
                     <p>The gateway does not support the PL/SQL function <code class="codeph">COLUMN_VALUE_LONG</code> of the <code class="codeph">DBMS_SQL</code> package.
                     </p>
                     <div class="infoboxnotealso" id="GUID-522784C7-87F8-43B7-9C9C-B624BAEBB269__GUID-A7B96452-7AFA-4044-BC86-2B22DAA60804">
                        <p class="notep1">See Also:</p>
                        <p><a href="database-gateway-sqlserver-supported-sql-syntax-functions.html#GUID-D66F13BA-ADEC-4596-BED5-2F68539E93EB">Supported SQL Syntax and Functions</a> for more information about restrictions on SQL syntax.
                        </p>
                     </div>
                  </div>
               </div><a id="GMSWN751"></a><div class="props_rev_3"><a id="GUID-C95B5741-B40A-4D49-A45E-188F018FFCCD" name="GUID-C95B5741-B40A-4D49-A45E-188F018FFCCD"></a><h4 id="GMSWN-GUID-C95B5741-B40A-4D49-A45E-188F018FFCCD" class="sect4">String Functions</h4>
                  <div>
                     <p>If you concatenate numeric literals using the "<code class="codeph">||</code>" or <a id="d2170e2987" class="indexterm-anchor"></a><code class="codeph">CONCAT</code> operator when using the gateway to query a SQL Server database, the result is an arithmetic addition. For example, the result of the following statement is 18:
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT 9 || 9 FROM DUAL@MSQL;
</pre><p>The result is 99 when using Oracle to query an Oracle database.</p>
                  </div>
               </div><a id="GMSWN752"></a><div class="props_rev_3"><a id="GUID-20474B79-62AD-4322-8FDB-74C47ECBA682" name="GUID-20474B79-62AD-4322-8FDB-74C47ECBA682"></a><h4 id="GMSWN-GUID-20474B79-62AD-4322-8FDB-74C47ECBA682" class="sect4">Schema Names and PL/SQL</h4>
                  <div>
                     <p>If you do not prefix a SQL Server database object with its schema name in a SQL statement within a PL/SQL block, the following error message occurs:</p><pre class="oac_no_warn" dir="ltr">ORA-6550 PLS-201 Identifier <span class="italic">table_name</span> must be declared.
</pre><p>Change the SQL statement to include the schema name of the object.</p>
                  </div>
               </div><a id="GMSWN753"></a><div class="props_rev_3"><a id="GUID-4527FCE1-B460-4156-8416-4167CD8AE014" name="GUID-4527FCE1-B460-4156-8416-4167CD8AE014"></a><h4 id="GMSWN-GUID-4527FCE1-B460-4156-8416-4167CD8AE014" class="sect4">Data Dictionary Views and PL/SQL</h4>
                  <div>
                     <p>You cannot refer to data dictionary views in SQL statements that are inside a PL/SQL block.</p>
                  </div>
               </div><a id="GMSWN754"></a><div class="props_rev_3"><a id="GUID-8FA7D620-EB99-44A8-A64E-0A458716C003" name="GUID-8FA7D620-EB99-44A8-A64E-0A458716C003"></a><h4 id="GMSWN-GUID-8FA7D620-EB99-44A8-A64E-0A458716C003" class="sect4">Stored Procedures</h4>
                  <div>
                     <p>Return values of stored procedures that return result sets are incorrect.</p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>