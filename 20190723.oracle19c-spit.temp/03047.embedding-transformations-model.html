<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Embedding Transformations in a Model</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="API Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="API Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-mining-api-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-12T22:34:55-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E97869-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="automatic-data-preparation.html" title="Previous" type="text/html">
      <link rel="next" href="understanding-reverse-transformations.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Mining API Guide">
    <meta name="dcterms.isVersionOf" content="DMAPI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="automatic-data-preparation.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="understanding-reverse-transformations.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">API Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-data-mining-API.html" property="item" typeof="WebPage"><span property="name">Using the Data Mining API</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="transforming-data.html" property="item" typeof="WebPage"><span property="name"> Transforming the Data</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Embedding Transformations in a Model</li>
            </ol>
            <a id="GUID-1949B958-6D98-4D00-BF9D-5AC3D8620E11" name="GUID-1949B958-6D98-4D00-BF9D-5AC3D8620E11"></a><a id="DMPRG579"></a>
            
            <h2 id="DMAPI-GUID-1949B958-6D98-4D00-BF9D-5AC3D8620E11" class="sect2"><span class="enumeration_section">30.4 </span>Embedding Transformations in a Model
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>You can specify your own transformations and embed them in a model by creating a transformation list and passing it to <code class="codeph">DBMS_DATA_MINING.CREATE_MODEL</code>.
                  </p><pre class="oac_no_warn" dir="ltr">PROCEDURE create_model(
                  model_name           IN VARCHAR2,
                  mining_function      IN VARCHAR2,
                  data_table_name      IN VARCHAR2,
                  case_id_column_name  IN VARCHAR2,
                  target_column_name   IN VARCHAR2 DEFAULT NULL,
                  settings_table_name  IN VARCHAR2 DEFAULT NULL,
                  data_schema_name     IN VARCHAR2 DEFAULT NULL,
                  settings_schema_name IN VARCHAR2 DEFAULT NULL,
                  <span class="bold"><code class="codeph">xform_list           IN TRANSFORM_LIST DEFAULT NULL</code></span>);</pre></div>
               <!-- class="section" -->
            </div><a id="DMPRG753"></a><a id="DMPRG752"></a><div class="props_rev_3"><a id="GUID-7C9A9C6B-E2D4-48BA-BB4A-6F9E381F8C8D" name="GUID-7C9A9C6B-E2D4-48BA-BB4A-6F9E381F8C8D"></a><h3 id="DMAPI-GUID-7C9A9C6B-E2D4-48BA-BB4A-6F9E381F8C8D" class="sect3"><span class="enumeration_section">30.4.1 </span>Specifying Transformation Instructions for an Attribute
               </h3>
               <div>
                  <p>Learn what is a transformation instruction for an attribute and learn about the fields in a transformation record.</p>
                  <div class="section">
                     <p>A transformation list is defined as a table of transformation records. Each record (<code class="codeph">transform_rec</code>) specifies the transformation instructions for an attribute.
                     </p><pre class="oac_no_warn" dir="ltr">TYPE transform_rec IS RECORD (
    attribute_name      VARCHAR2(30),
    attribute_subname   VARCHAR2(4000),
    expression          EXPRESSION_REC,
    reverse_expression  EXPRESSION_REC,
    attribute_spec      VARCHAR2(4000));
</pre><p>The fields in a transformation record are described in this table.</p>
                     <div class="tblformal" id="GUID-7C9A9C6B-E2D4-48BA-BB4A-6F9E381F8C8D__CIACJDHF">
                        <p class="titleintable">Table 30-2 Fields in a Transformation Record for an Attribute</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Fields in a Transformation Record for an Attribute" summary="This table describes the fields in a transformation record. They are the fully-qualified attribute name, the transformation expression, the reverse transformation expression, and an attribute specification" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d34733e69">Field</th>
                                 <th align="left" valign="bottom" width="74%" id="d34733e72">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d34733e77" headers="d34733e69 ">
                                    <p><code class="codeph">attribute_name</code> and <code class="codeph">attribute_subname</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d34733e77 d34733e72 ">
                                    <p>These fields identify the attribute, as described in <span class="q">"Scoping of Model Attribute Name"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d34733e90" headers="d34733e69 ">
                                    <p><code class="codeph">expression</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d34733e90 d34733e72 ">
                                    <p>A SQL expression for transforming the attribute. For example, this expression transforms the age attribute into two categories: child and adult:[0,19) for 'child' and [19,) for adult </p><pre class="oac_no_warn" dir="ltr">CASE WHEN age &lt; 19 THEN 'child' ELSE 'adult'
</pre><p>Expression and reverse expressions are stored in <code class="codeph">expression_rec</code> objects. See <span class="q">"Expression Records"</span> for details.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d34733e108" headers="d34733e69 ">
                                    <p><code class="codeph">reverse_expression</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d34733e108 d34733e72 ">
                                    <p>A SQL expression for reversing the transformation. For example, this expression reverses the transformation of the age attribute:</p><pre class="oac_no_warn" dir="ltr">DECODE(age,'child','(-Inf,19)','[19,Inf)')
</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d34733e118" headers="d34733e69 ">
                                    <p><code class="codeph">attribute_spec</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d34733e118 d34733e72 ">
                                    <p>Specifies special treatment for the <a id="d34733e125" class="indexterm-anchor"></a>attribute. The <code class="codeph">attribute_spec</code> field can be null or it can have one or more of these values:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">FORCE_IN</code> — For GLM, forces the inclusion of the attribute in the model build when the <code class="codeph">ftr_selection_enable</code> setting is enabled. (<code class="codeph">ftr_selection_enable</code> is disabled by default.) If the model is not using GLM, this value has no effect. <code class="codeph">FORCE_IN</code> cannot be specified for nested attributes or text.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">NOPREP</code> — When ADP is on, prevents automatic transformation of the attribute. If ADP is not on, this value has no effect. You can specify <code class="codeph">NOPREP</code> for a nested attribute, but not for an individual subname (row) in the nested attribute.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">TEXT</code> — Indicates that the attribute contains unstructured text. ADP has no effect on this setting. <code class="codeph">TEXT</code> may optionally include subsettings <code class="codeph">POLICY_NAME</code>, <code class="codeph">TOKEN_TYPE</code>, and <code class="codeph">MAX_FEATURES</code>.
                                          </p>
                                       </li>
                                    </ul>
                                    <p>See <a href="embedding-transformations-model.html#GUID-3C7AEA58-5B73-4931-8259-26FAB6A599BD__CIAGBHCD">Example 30-1</a> and <a href="embedding-transformations-model.html#GUID-3C7AEA58-5B73-4931-8259-26FAB6A599BD__CIADCICG">Example 30-2</a>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="about-attributes.html#GUID-EF2FD24E-81A0-48A9-8AF9-391543373E57">Scoping of Model Attribute Name</a></li>
                        <li><a href="embedding-transformations-model.html#GUID-5BA0089A-F041-433D-AEBC-B723AE0218B7">Expression Records</a></li>
                     </ul>
                  </div>
               </div><a id="DMPRG754"></a><div class="props_rev_3"><a id="GUID-5BA0089A-F041-433D-AEBC-B723AE0218B7" name="GUID-5BA0089A-F041-433D-AEBC-B723AE0218B7"></a><h4 id="DMAPI-GUID-5BA0089A-F041-433D-AEBC-B723AE0218B7" class="sect4"><span class="enumeration_section">30.4.1.1 </span>Expression Records
                  </h4>
                  <div>
                     <div class="section">
                        <p>The transformation expressions in a transformation record are <code class="codeph">expression_rec</code> objects. 
                        </p><pre class="oac_no_warn" dir="ltr">TYPE expression_rec IS RECORD (
     lstmt       DBMS_SQL.VARCHAR2A,
     lb          BINARY_INTEGER DEFAULT 1,
     ub          BINARY_INTEGER DEFAULT 0);

TYPE varchar2a IS TABLE OF VARCHAR2(32767)
INDEX BY BINARY_INTEGER;
</pre><p>The <code class="codeph">lstmt</code> field stores a <code class="codeph">VARCHAR2A</code>, which allows transformation expressions to be very long, as they can be broken up across multiple rows of <code class="codeph">VARCHAR2</code>. Use the <code class="codeph">DBMS_DATA_MINING_TRANSFORM.SET_EXPRESSION</code> procedure to create an <code class="codeph">expression_rec</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DMPRG756"></a><a id="DMPRG838"></a><a id="DMPRG755"></a><div class="props_rev_3"><a id="GUID-3C7AEA58-5B73-4931-8259-26FAB6A599BD" name="GUID-3C7AEA58-5B73-4931-8259-26FAB6A599BD"></a><h4 id="DMAPI-GUID-3C7AEA58-5B73-4931-8259-26FAB6A599BD" class="sect4"><span class="enumeration_section">30.4.1.2 </span>Attribute Specifications
                  </h4>
                  <div>
                     <p>Learn how to define the characteristics specific to an attribute through attribute specification. </p>
                     <div class="section">
                        <p>The attribute specification in a transformation record defines characteristics that are specific to this attribute. If not null, the attribute specification can include values <code class="codeph">FORCE_IN</code>, <code class="codeph">NOPREP</code>, or <code class="codeph">TEXT</code>, as described in <a href="embedding-transformations-model.html#GUID-7C9A9C6B-E2D4-48BA-BB4A-6F9E381F8C8D__CIACJDHF" title="This table describes the fields in a transformation record. They are the fully-qualified attribute name, the transformation expression, the reverse transformation expression, and an attribute specification">Table 30-2</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3C7AEA58-5B73-4931-8259-26FAB6A599BD__CIAGBHCD">
                        <p class="titleinexample">Example 30-1 An Attribute Specification with Multiple Keywords</p>
                        <p>If more than one attribute specification keyword is applicable, you can provide them in a comma-delimited list. The following expression is the specification for an attribute in a GLM model. Assuming that the <code class="codeph">ftr_selection_enable</code> setting is enabled, this expression forces the attribute to be included in the model. If ADP is on, automatic transformation of the attribute is not performed. 
                        </p><pre class="oac_no_warn" dir="ltr">"FORCE_IN,NOPREP"</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-3C7AEA58-5B73-4931-8259-26FAB6A599BD__CIADCICG">
                        <p class="titleinexample">Example 30-2 A Text Attribute Specification</p>
                        <p>For text attributes, you can optionally specify subsettings <code class="codeph">POLICY_NAME</code>, <code class="codeph">TOKEN_TYPE</code>, and <code class="codeph">MAX_FEATURES</code>. The subsettings provide configuration information that is specific to text transformation. In this example, the transformation instructions for the text content are defined in a text policy named <code class="codeph">my_policy</code> with token type is <code class="codeph">THEME</code>. The maximum number of extracted features is 3000.
                        </p><pre class="oac_no_warn" dir="ltr">"TEXT(POLICY_NAME:my_policy)(TOKEN_TYPE:THEME)(MAX_FEATURES:3000)"
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="configuring-text-attribute.html#GUID-A550CA89-B5FE-4BAF-8567-0C05EA93516C" title="Learn how to identify a column as a text attribute and provide transformation instructions for any text attribute.">Configuring a Text Attribute</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="DMPRG757"></a><div class="props_rev_3"><a id="GUID-EB1F46AB-A6CF-42BE-BF28-FAB32976C772" name="GUID-EB1F46AB-A6CF-42BE-BF28-FAB32976C772"></a><h3 id="DMAPI-GUID-EB1F46AB-A6CF-42BE-BF28-FAB32976C772" class="sect3"><span class="enumeration_section">30.4.2 </span>Building a Transformation List
               </h3>
               <div>
                  <div class="section">
                     <p>A transformation list is a collection of transformation records. When a new transformation record is added, it is appended to the top of the transformation list. You can use any of the following methods to build a transformation list:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">SET_TRANFORM</code> procedure in <code class="codeph">DBMS_DATA_MINING_TRANSFORM</code></p>
                        </li>
                        <li>
                           <p>The <code class="codeph">STACK</code> interface in <code class="codeph">DBMS_DATA_MINING_TRANSFORM</code></p>
                        </li>
                        <li>
                           <p>The <code class="codeph">GET_MODEL_TRANSFORMATIONS</code> and <code class="codeph">GET_TRANSFORM_LIST</code> functions in <code class="codeph">DBMS_DATA_MINING</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="DMPRG758"></a><div class="props_rev_3"><a id="GUID-DF55112F-E801-4EDA-8DDB-2C2351C7CC52" name="GUID-DF55112F-E801-4EDA-8DDB-2C2351C7CC52"></a><h4 id="DMAPI-GUID-DF55112F-E801-4EDA-8DDB-2C2351C7CC52" class="sect4"><span class="enumeration_section">30.4.2.1 </span>SET_TRANSFORM
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">SET_TRANSFORM</code> procedure adds a single transformation record to a transformation list.
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_DATA_MINING_TRANSFORM.SET_TRANSFORM (
          xform_list               IN OUT NOCOPY TRANSFORM_LIST,
          attribute_name           VARCHAR2,
          attribute_subname        VARCHAR2,
          expression               VARCHAR2,
          reverse_expression       VARCHAR2,
          attribute_spec           VARCHAR2 DEFAULT NULL);
</pre><p>SQL expressions that you specify with <code class="codeph">SET_TRANSFORM</code> must fit within a <code class="codeph">VARCHAR2</code>. To specify a longer expression, you can use the <code class="codeph">SET_EXPRESSION</code> procedure, which builds an expression by appending rows to a <code class="codeph">VARCHAR2</code> array. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DMPRG759"></a><div class="props_rev_3"><a id="GUID-6D860331-3995-4874-B41C-03F828F26CC4" name="GUID-6D860331-3995-4874-B41C-03F828F26CC4"></a><h4 id="DMAPI-GUID-6D860331-3995-4874-B41C-03F828F26CC4" class="sect4"><span class="enumeration_section">30.4.2.2 </span>The STACK Interface
                  </h4>
                  <div>
                     <p>The <code class="codeph">STACK</code> interface creates transformation records from a table of transformation instructions and adds them to a transformation list. 
                     </p>
                     <p>The <code class="codeph">STACK</code> interface specifies that all or some of the attributes of a given type must be transformed in the same way. For example, <code class="codeph">STACK_BIN_CAT</code> appends binning instructions for categorical attributes to a transformation list. The <code class="codeph">STACK</code> interface consists of three steps:
                     </p>
                     <ol>
                        <li>
                           <p>A <code class="codeph">CREATE</code> procedure creates a transformation definition table. For example, <code class="codeph">CREATE_BIN_CAT</code> creates a table to hold categorical binning instructions. The table has columns for storing the name of the attribute, the value of the attribute, and the bin assignment for the value.
                           </p>
                        </li>
                        <li>
                           <p>An <code class="codeph">INSERT</code> procedure computes the bin boundaries for one or more attributes and populates the definition table. For example, <code class="codeph">INSERT_BIN_CAT_FREQ</code> performs frequency-based binning on some or all of the categorical attributes in the data source and populates a table created by <code class="codeph">CREATE_BIN_CAT</code>.
                           </p>
                        </li>
                        <li>
                           <p>A <code class="codeph">STACK</code> procedure creates transformation records from the information in the definition table and appends the transformation records to a transformation list. For example, STACK_BIN_CAT creates transformation records for the information stored in a categorical binning definition table and appends the transformation records to a transformation list.
                           </p>
                        </li>
                     </ol>
                  </div>
               </div><a id="DMPRG760"></a><div class="props_rev_3"><a id="GUID-A4F641C5-70A9-4453-9C8A-7779F8C77E35" name="GUID-A4F641C5-70A9-4453-9C8A-7779F8C77E35"></a><h4 id="DMAPI-GUID-A4F641C5-70A9-4453-9C8A-7779F8C77E35" class="sect4"><span class="enumeration_section">30.4.2.3 </span>GET_MODEL_TRANSFORMATIONS and GET_TRANSFORM_LIST
                  </h4>
                  <div>
                     <p>Use the functions to create a new transformation list.</p>
                     <div class="section">
                        <p>These two functions can be used to create a new transformation list from the transformations embedded in an existing model. </p>
                        <p>The <code class="codeph">GET_MODEL_TRANSFORMATIONS</code> function returns a list of embedded transformations.
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_DATA_MINING.GET_MODEL_TRANSFORMATIONS (
      model_name     IN VARCHAR2)
RETURN DM_TRANSFORMS PIPELINED;
</pre><p><code class="codeph">GET_MODEL_TRANSFORMATIONS</code> returns a table of <code class="codeph">dm_transform</code> objects. Each <code class="codeph">dm_transform</code> has these fields
                        </p><pre class="oac_no_warn" dir="ltr">attribute_name       VARCHAR2(4000)
attribute_subname    VARCHAR2(4000)
expression           CLOB
reverse_expression   CLOB
</pre><p>The components of a transformation list are <code class="codeph">transform_rec</code>, not <code class="codeph">dm_transform</code>. The fields of a <code class="codeph">transform_rec</code> are described in <a href="embedding-transformations-model.html#GUID-7C9A9C6B-E2D4-48BA-BB4A-6F9E381F8C8D__CIACJDHF" title="This table describes the fields in a transformation record. They are the fully-qualified attribute name, the transformation expression, the reverse transformation expression, and an attribute specification">Table 30-2</a>. You can call <code class="codeph">GET_MODEL_TRANSFORMATIONS</code> to convert a list of <code class="codeph">dm_transform</code> objects to <code class="codeph">transform_rec</code> objects and append each <code class="codeph">transform_rec</code> to a transformation list. 
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_DATA_MINING.GET_TRANSFORM_LIST (
      xform_list           OUT NOCOPY TRANSFORM_LIST,
      model_xforms         IN  DM_TRANSFORMS);</pre><div class="infoboxnotealso" id="GUID-A4F641C5-70A9-4453-9C8A-7779F8C77E35__GUID-C9DEDF9F-E27F-4F6C-966D-EE444D77D77E">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="../arpls/DBMS_DATA_MINING_TRANSFORM.html#ARPLS-GUID-94AE198A-2DA5-44BF-8DF3-E1C9078595B2" target="_blank">DBMS_DATA_MINING_TRANSFORM Operational Notes</a>"</span>, <span class="q">"<a href="../arpls/DBMS_DATA_MINING_TRANSFORM.html#ARPLS-GUID-02B5DB17-3E39-4842-915F-3D012938BACA" target="_blank">SET_TRANSFORM Procedure</a>"</span>, <span class="q">"<a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-7F525A4E-9C93-44D6-BFFF-10BC018CD4A6" target="_blank">CREATE_MODEL Procedure</a>"</span>, and <span class="q">"<a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-F91D8619-B830-41D6-86DE-643ACFA0B1BE" target="_blank">GET_MODEL_TRANSFORMATIONS Function</a>"</span> in <span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="DMPRG382"></a><div class="props_rev_3"><a id="GUID-D521DD05-C7F2-42CB-AE88-1C2BFB59DA2F" name="GUID-D521DD05-C7F2-42CB-AE88-1C2BFB59DA2F"></a><h3 id="DMAPI-GUID-D521DD05-C7F2-42CB-AE88-1C2BFB59DA2F" class="sect3"><span class="enumeration_section">30.4.3 </span>Transformation Lists and Automatic Data Preparation
               </h3>
               <div>
                  <p>If you enable ADP and you specify a transformation list, the transformation list is embedded with the automatic, system-generated transformations. The transformation list is executed before the automatic transformations.</p>
                  <p>If you enable ADP and do not specify a transformation list, only the automatic transformations are embedded in the model.</p>
                  <p>If ADP is disabled (the default) and you specify a transformation list, your custom transformations are embedded in the model. No automatic transformations are performed. </p>
                  <p>If ADP is disabled (the default) and you do not specify a transformation list, no transformations is embedded in the model. You have to transform the training, test, and scoring data sets yourself if necessary. You must take care to apply the same transformations to each data set.</p>
               </div>
            </div><a id="DMPRG387"></a><div class="props_rev_3"><a id="GUID-5B9E8688-4B56-4652-846D-90441B0F7889" name="GUID-5B9E8688-4B56-4652-846D-90441B0F7889"></a><h3 id="DMAPI-GUID-5B9E8688-4B56-4652-846D-90441B0F7889" class="sect3"><span class="enumeration_section">30.4.4 </span>Oracle Data Mining Transformation Routines
               </h3>
               <div>
                  <p>Learn about transformation routines.</p>
                  <div class="section">
                     <p>Oracle Data Mining provides routines that implement various transformation techniques in the <code class="codeph">DBMS_DATA_MINING_TRANSFORM</code> package.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../arpls/DBMS_DATA_MINING_TRANSFORM.html#ARPLS191" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></li>
                     </ul>
                  </div>
               </div><a id="DMPRG389"></a><a id="DMPRG388"></a><div class="props_rev_3"><a id="GUID-4B3355AD-0988-404C-8140-EB1DD7FE7CDF" name="GUID-4B3355AD-0988-404C-8140-EB1DD7FE7CDF"></a><h4 id="DMAPI-GUID-4B3355AD-0988-404C-8140-EB1DD7FE7CDF" class="sect4"><span class="enumeration_section">30.4.4.1 </span>Binning Routines
                  </h4>
                  <div>
                     <p>Explains Binning techniques in Oracle Data Mining.</p>
                     <div class="section">
                        <p>A number of factors go into deciding a binning strategy. Having fewer values typically leads to a more compact model and one that builds faster, but it can also lead to some loss in accuracy. </p>
                        <p>Model quality can improve significantly with well-chosen bin boundaries. For example, an appropriate way to bin ages  is to separate them into groups of interest, such as children 0-13, teenagers 13-19, youth 19-24, working adults 24-35, and so on.</p>
                        <p>The following table lists the binning techniques provided by Oracle Data Mining:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-4B3355AD-0988-404C-8140-EB1DD7FE7CDF__CIADFAFB">
                        <p class="titleintable">Table 30-3 Binning Methods in DBMS_DATA_MINING_TRANSFORM</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Binning Methods in DBMS_DATA_MINING_TRANSFORM" summary="Binning routines in DBMS_DATA_MINING_TRANSFORM" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d34733e662">Binning Method</th>
                                 <th align="left" valign="bottom" width="69%" id="d34733e665">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d34733e670" headers="d34733e662 ">
                                    <p>Top-N Most Frequent Items</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d34733e670 d34733e665 ">
                                    <p><a id="d34733e675" class="indexterm-anchor"></a>You can use this technique to bin categorical attributes. You specify the number of bins. The value that occurs most frequently is labeled as the first bin, the value that appears with the next frequency is labeled as the second bin, and so on. All remaining values are in an additional bin. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d34733e681" headers="d34733e662 ">
                                    <p>Supervised Binning</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d34733e681 d34733e665 ">
                                    <p><a id="d34733e686" class="indexterm-anchor"></a>Supervised binning is a form of intelligent binning, where bin boundaries are derived from important characteristics of the data. Supervised binning builds a single-predictor decision tree to find the interesting bin boundaries with respect to a target. It can be used for numerical or categorical attributes.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d34733e692" headers="d34733e662 ">
                                    <p>Equi-Width Binning</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d34733e692 d34733e665 ">
                                    <p>Y<a id="d34733e698" class="indexterm-anchor"></a>ou can use equi-width binning for numerical attributes. The range of values is computed by subtracting the minimum value from the maximum value, then the range of values is divided into equal intervals. You can specify the number of bins or it can be calculated automatically. Equi-width binning must usually be used with outlier treatment.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d34733e704" headers="d34733e662 ">
                                    <p>Quantile Binning</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d34733e704 d34733e665 ">
                                    <p>Quantile <a id="d34733e710" class="indexterm-anchor"></a>binning is a numerical binning technique. Quantiles are computed using the SQL analytic function <code class="codeph">NTILE</code>. The bin boundaries are based on the minimum values for each quantile. Bins with equal left and right boundaries are collapsed, possibly resulting in fewer bins than requested.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="embedding-transformations-model.html#GUID-C8EAB4FC-1792-47CD-B4A5-4EA0BB61FC2D">Routines for Outlier Treatment</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMPRG391"></a><a id="DMPRG390"></a><div class="props_rev_3"><a id="GUID-E2DE82C1-73B5-4E31-AF7A-1FE9556D9FEA" name="GUID-E2DE82C1-73B5-4E31-AF7A-1FE9556D9FEA"></a><h4 id="DMAPI-GUID-E2DE82C1-73B5-4E31-AF7A-1FE9556D9FEA" class="sect4"><span class="enumeration_section">30.4.4.2 </span>Normalization Routines
                  </h4>
                  <div>
                     <p>Learn about Normalization routines in Oracle Data Mining.</p>
                     <div class="section">
                        <p>Most normalization methods map the range of a single attribute to another range, typically 0 to 1 or -1 to +1. </p>
                        <p>Normalization is very sensitive to outliers. Without outlier treatment, most values are mapped to a tiny range, resulting in a significant loss of information. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-E2DE82C1-73B5-4E31-AF7A-1FE9556D9FEA__GUID-0440B634-4909-4AAB-912E-6701E8FAE2A1">
                        <p class="titleintable">Table 30-4 Normalization Methods in DBMS_DATA_MINING_TRANSFORM</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Normalization Methods in DBMS_DATA_MINING_TRANSFORM" summary="Normalization Routines supported by DBMS_DATA_MINING_TRANSFORM" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d34733e760">Transformation</th>
                                 <th align="left" valign="bottom" width="69%" id="d34733e763">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d34733e768" headers="d34733e760 ">
                                    <p>Min-Max <a id="d34733e771" class="indexterm-anchor"></a>Normalization
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d34733e768 d34733e763 ">
                                    <p>This technique computes the normalization of an attribute using the minimum and maximum values. The shift is the minimum value, and the scale is the difference between the maximum and minimum values.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d34733e780" headers="d34733e760 ">
                                    <p>Scale <a id="d34733e783" class="indexterm-anchor"></a>Normalization
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d34733e780 d34733e763 ">
                                    <p>This normalization technique also uses the minimum and maximum values. For scale normalization, shift = 0, and scale = max{abs(max), abs(min)}.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d34733e792" headers="d34733e760 ">
                                    <p>Z-Score <a id="d34733e795" class="indexterm-anchor"></a>Normalization
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d34733e792 d34733e763 ">
                                    <p>This technique computes the normalization of an attribute using the mean and the standard deviation. Shift is the mean, and scale is the standard deviation.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="embedding-transformations-model.html#GUID-C8EAB4FC-1792-47CD-B4A5-4EA0BB61FC2D">Routines for Outlier Treatment</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMPRG393"></a><a id="DMPRG392"></a><div class="props_rev_3"><a id="GUID-C8EAB4FC-1792-47CD-B4A5-4EA0BB61FC2D" name="GUID-C8EAB4FC-1792-47CD-B4A5-4EA0BB61FC2D"></a><h4 id="DMAPI-GUID-C8EAB4FC-1792-47CD-B4A5-4EA0BB61FC2D" class="sect4"><span class="enumeration_section">30.4.4.3 </span>Routines for Outlier Treatment
                  </h4>
                  <div>
                     <div class="section">
                        <p><strong class="term">Outliers</strong> are extreme values, typically several standard deviations from the mean. To minimize the effect of outliers, you can Winsorize or trim the data.
                        </p>
                        <p><strong class="term">Winsorizing</strong> involves setting the tail values of an attribute to some specified value. For example, for a 90% Winsorization, the bottom 5% of values are set equal to the minimum value in the 5th percentile, while the upper 5% of values are set equal to the maximum value in the 95th percentile.
                        </p>
                        <p><strong class="term">Trimming</strong> sets the tail values to NULL. The algorithm treats them as missing values.
                        </p>
                        <p>Outliers affect the different algorithms in different ways. In general, outliers cause distortion with equi-width binning and min-max normalization. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C8EAB4FC-1792-47CD-B4A5-4EA0BB61FC2D__GUID-D7D21C7E-C1B6-44B7-9CD7-D1050D2F0F23">
                        <p class="titleintable">Table 30-5 Outlier Treatment Methods in DBMS_DATA_MINING_TRANSFORM</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Outlier Treatment Methods in DBMS_DATA_MINING_TRANSFORM" summary="Outlier treatment methods in DBMS_DATA_MINING_TRANSFORM -- trimming and windsorizing" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d34733e856">Transformation</th>
                                 <th align="left" valign="bottom" width="69%" id="d34733e859">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d34733e864" headers="d34733e856 ">
                                    <p><a id="d34733e866" class="indexterm-anchor"></a>Trimming
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d34733e864 d34733e859 ">
                                    <p>This technique trims the outliers in numeric columns by sorting the non-null values, computing the tail values based on some fraction, and replacing the tail values with nulls.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d34733e873" headers="d34733e856 ">
                                    <p><a id="d34733e875" class="indexterm-anchor"></a>Windsorizing
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d34733e873 d34733e859 ">
                                    <p>This technique trims the outliers in numeric columns by sorting the non-null values, computing the tail values based on some fraction, and replacing the tail values with some specified value.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>