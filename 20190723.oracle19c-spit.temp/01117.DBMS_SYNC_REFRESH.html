<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_SYNC_REFRESH package provides an interface to perform a synchronous refresh of materialized views.">
      <meta name="description" content="The DBMS_SYNC_REFRESH package provides an interface to perform a synchronous refresh of materialized views.">
      <title>DBMS_SYNC_REFRESH</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_SYNC_REFRESH package provides an interface to perform a synchronous refresh of materialized views.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_STORAGE_MAP.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_TDB.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_STORAGE_MAP.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_TDB.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_SYNC_REFRESH</li>
            </ol>
            <a id="GUID-F37D8F79-6FC5-4786-8AE6-7F97A0EA3B1E" name="GUID-F37D8F79-6FC5-4786-8AE6-7F97A0EA3B1E"></a><a id="ARPLS73623"></a><a id="ARPLS73623"></a>
            
            <h2 id="ARPLS-GUID-F37D8F79-6FC5-4786-8AE6-7F97A0EA3B1E" class="sect2"><span class="enumeration_chapter">167 </span> DBMS_SYNC_REFRESH
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_SYNC_REFRESH</code> package provides an interface to perform a synchronous refresh of materialized views.
               </p>
               <div class="infoboxnotealso" id="GUID-F37D8F79-6FC5-4786-8AE6-7F97A0EA3B1E__GUID-3D4E536B-32D8-4998-9F09-98AAA85DBBF5">
                  <p class="notep1">See Also:</p>
                  <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on using <code class="codeph">DBMS_SYNC_REFRESH</code></p>
               </div>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_SYNC_REFRESH.html#GUID-B84165EF-D9AA-4A23-8EF2-3BB050397217" title="Synchronous refresh is a refresh method introduced in Oracle Database Release 12c, which enables you to keep a set of tables and the materialized views defined on them to be always in sync.">Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SYNC_REFRESH.html#GUID-4ACE8A80-4664-45C6-A7C6-683B2668C0A2" title="The execute privilege for this package is granted to PUBLIC, so all users can execute the procedures in this package to perform synchronous refresh on objects owned by them. The database administrator can perform synchronous refresh operations on all tables and materialized views in the database.">Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SYNC_REFRESH.html#GUID-2BE7B003-1FFC-4DA6-90C8-18F7F46C3689" title="This table lists and briefly describes the DBMS_SYNC_REFRESH package subprograms.">Summary of DBMS_SYNC_REFRESH Subprograms</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS73625"></a><a id="ARPLS73625"></a><div class="props_rev_3"><a id="GUID-B84165EF-D9AA-4A23-8EF2-3BB050397217" name="GUID-B84165EF-D9AA-4A23-8EF2-3BB050397217"></a><h3 id="ARPLS-GUID-B84165EF-D9AA-4A23-8EF2-3BB050397217" class="sect3"><span class="enumeration_section">167.1 </span>DBMS_SYNC_REFRESH Overview
               </h3>
               <div>
                  <p>Synchronous refresh is a refresh method introduced in Oracle Database Release 12<span class="italic">c</span>, which enables you to keep a set of tables and the materialized views defined on them to be always in sync.
                  </p>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-B84165EF-D9AA-4A23-8EF2-3BB050397217__GUID-61813EB4-C238-4A59-AE7B-FB7A723D2536">
                        <p class="notep1">See Also:</p>
                        <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide </span></a>for more information about using synchronous refresh
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS73626"></a><a id="ARPLS73626"></a><div class="props_rev_3"><a id="GUID-4ACE8A80-4664-45C6-A7C6-683B2668C0A2" name="GUID-4ACE8A80-4664-45C6-A7C6-683B2668C0A2"></a><h3 id="ARPLS-GUID-4ACE8A80-4664-45C6-A7C6-683B2668C0A2" class="sect3"><span class="enumeration_section">167.2 </span>DBMS_SYNC_REFRESH Security Model
               </h3>
               <div>
                  <p>The execute privilege for this package is granted to <code class="codeph">PUBLIC</code>, so all users can execute the procedures in this package to perform synchronous refresh on objects owned by them. The database administrator can perform synchronous refresh operations on all tables and materialized views in the database.
                  </p>
                  <div class="section">
                     <p>In general, if a user without the <code class="codeph">DBA</code> privilege wants to use synchronous refresh on another user's table, he must complete privileges to read from and write to that table, that it, the user must have the <code class="codeph">SELECT</code> or <code class="codeph">READ</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> privileges on that table or materialized view. A couple of exceptions are:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">PURGE_REFRESH_STATS</code> and <code class="codeph">ALTER_REFRESH_STATS_RETENTION</code> Functions
                           </p>
                           <p>These two functions implement the purge policy and can be used to change the default retention period. These functions can be only be executed by the database administrator.</p>
                        </li>
                        <li>
                           <p>The <code class="codeph">CAN_SYNCREF_TABLE</code> Function
                           </p>
                           <p>This is an advisory function which examines the eligibility for sync refresh of all the materialized views associated with a specified table. Hence, this function requires the <code class="codeph">SELECT</code> or <code class="codeph">READ</code> privilege on all materialized views associated with the specified table.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS73627"></a><a id="ARPLS74619"></a><a id="ARPLS74619"></a><a id="ARPLS73627"></a><div class="props_rev_3"><a id="GUID-2BE7B003-1FFC-4DA6-90C8-18F7F46C3689" name="GUID-2BE7B003-1FFC-4DA6-90C8-18F7F46C3689"></a><h3 id="ARPLS-GUID-2BE7B003-1FFC-4DA6-90C8-18F7F46C3689" class="sect3"><span class="enumeration_section">167.3 </span>Summary of DBMS_SYNC_REFRESH Subprograms
               </h3>
               <div>
                  <p>This table lists and briefly describes the <code class="codeph">DBMS_SYNC_REFRESH</code> package subprograms.
                  </p>
                  <div class="tblformal" id="GUID-2BE7B003-1FFC-4DA6-90C8-18F7F46C3689__GUID-2C0FAF83-8F81-4CFB-B3F9-C0873530CDC0">
                     <p class="titleintable">Table 167-1 DBMS_SYNC_REFRESH Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SYNC_REFRESH Package Subprograms" summary="This table lists and briefly describes the DBMS_SYNC_REFRESH package subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="34%" id="d1041791e467">Subprogram</th>
                              <th align="left" valign="bottom" width="66%" id="d1041791e470">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d1041791e475" headers="d1041791e467 ">
                                 <p><a href="DBMS_SYNC_REFRESH.html#GUID-31C77847-021A-40AE-A3D9-617EAE2C736A" title="This procedure undoes all the changes made by PREPARE_REFRESH or EXECUTE_REFRESH for the specified sync refresh groups. It helps you to recover to a state where the tables and materialized views are usable and consistent in case they encounter unexpected errors.">ABORT_REFRESH Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d1041791e475 d1041791e470 ">
                                 <p>Aborts a refresh.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d1041791e493" headers="d1041791e467 ">
                                 <p><a href="DBMS_SYNC_REFRESH.html#GUID-CC0CEFDE-A6BA-4D55-AFAD-E558A3E0F910" title="This procedure alters the refresh history retention value, specified in days. It is intended for use in conjunction with PURGE_REFRESH_HISTORY. It also requires the SYSDBA privilege in addition to the privilege to execute it.">ALTER_REFRESH_STATS_RETENTION Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d1041791e493 d1041791e470 ">
                                 <p>Alters the refresh history retention value, specified in days.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d1041791e511" headers="d1041791e467 ">
                                 <p><a href="DBMS_SYNC_REFRESH.html#GUID-02526EE8-8C24-4422-8889-A10B1D17F1B8" title="This procedure advises on whether a table and its dependent materialized views are eligible for sync refresh. It provides an explanation of its analysis. If not eligible, you can examine the reasons and take appropriate action if possible.">CAN_SYNCREF_TABLE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d1041791e511 d1041791e470 ">
                                 <p>Advises on whether a table and its dependent materialized views are eligible for synchronous refresh.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d1041791e523" headers="d1041791e467 ">
                                 <p><a href="DBMS_SYNC_REFRESH.html#GUID-EAD15BFC-29DF-465A-8FB3-DB18DD2132AE" title="This procedure executes sync refresh on the sync refresh groups prepared by DBMS_SYNC_REFRESH.PREPARE_REFRESH. These groups are identified by their group IDs.">EXECUTE_REFRESH Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d1041791e523 d1041791e470 ">
                                 <p>Executes synchronous refresh on the synchronous refresh groups.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d1041791e538" headers="d1041791e467 ">
                                 <p><a href="DBMS_SYNC_REFRESH.html#GUID-D4B20742-2F92-487F-B963-5945632F279D" title="This function returns the group IDs of all the sync refresh groups in the database.">GET_ALL_GROUP_IDS Function</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d1041791e538 d1041791e470 ">
                                 <p>Returns the group IDs of all the synchronous refresh groups in the database.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d1041791e550" headers="d1041791e467 ">
                                 <p><a href="DBMS_SYNC_REFRESH.html#GUID-EA5AE93F-A866-4B8F-952E-1BAB57B85AA0" title="This function returns the group ID of a materialized view. The group ID identifies the sync refresh group the table belongs to. A sync refresh group is a group of related tables and their dependent materialized views which must be all refreshed together jointly to ensure consistency and correctness.">GET_GROUP_ID Function</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d1041791e550 d1041791e470 ">
                                 <p>Returns the group ID of a table or materialized view.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d1041791e562" headers="d1041791e467 ">
                                 <p><a href="DBMS_SYNC_REFRESH.html#GUID-061B355B-7E7B-47EE-89F0-B67C51DB5F00" title="This function returns the group IDs of the tables in a given list of objects (materialized views).">GET_GROUP_ID_LIST Function</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d1041791e562 d1041791e470 ">
                                 <p>Returns the group IDs of the tables in a given list of objects (tables or materialized views).</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d1041791e574" headers="d1041791e467 ">
                                 <p><a href="DBMS_SYNC_REFRESH.html#GUID-D65211CF-79C0-4F55-93D5-78A59ED0AE7D" title="This procedure prepares for refresh the sync refresh groups identified by the group ID in the input.">PREPARE_REFRESH Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d1041791e574 d1041791e470 ">
                                 <p>Prepares the sync refresh groups for refresh.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d1041791e586" headers="d1041791e467 ">
                                 <p><a href="DBMS_SYNC_REFRESH.html#GUID-918D4791-025C-4EDD-A699-50D65F4E4A4F" title="This procedure collects statistics on the data in the staging log of the base table and validates the data in the log.">PREPARE_STAGING_LOG Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d1041791e586 d1041791e470 ">
                                 <p>Validates and collects statistics on the data in the staging log.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d1041791e598" headers="d1041791e467 ">
                                 <p><a href="DBMS_SYNC_REFRESH.html#GUID-DCE87825-C05F-46FD-A58A-825A55900C48" title="This procedure purges the refresh history of sync refreshes that took place before the value specified by the BEFORE_TIMESTAMP parameter.">PURGE_REFRESH_STATS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d1041791e598 d1041791e470 ">
                                 <p>Purges the refresh history of sync refreshes that took place within a time specified by a timestamp parameter.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d1041791e613" headers="d1041791e467 ">
                                 <p><a href="DBMS_SYNC_REFRESH.html#GUID-4E1ECE0F-A79E-4335-B9E6-992B58F86B46" title="This procedure registers a list of materialized views for synchronous refresh.">REGISTER_MVIEWS</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d1041791e613 d1041791e470 ">
                                 <p>Registers materialized views for synchronous refresh.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d1041791e626" headers="d1041791e467 ">
                                 <p><a href="DBMS_SYNC_REFRESH.html#GUID-79818B51-CC72-4482-B5AC-5EEA9B77F244" title="This procedure registers a partition-maintenance operation (PMOP) on a partition of a base table.">REGISTER_PARTITION_OPERATION Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d1041791e626 d1041791e470 ">
                                 <p>Registers a partition maintenance operation on a partition of a base table.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d1041791e638" headers="d1041791e467 ">
                                 <p><a href="DBMS_SYNC_REFRESH.html#GUID-6C2602DE-E73C-4BF3-B7E6-4A8D808C197C" title="This procedure unregisters a list of materialized views from synchronous refresh. Once a materialized view is unregistered, it can be maintained by the user with any of the traditional refresh methods, such as complete or PCT, refresh.">UNREGISTER_MVIEWS</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d1041791e638 d1041791e470 ">
                                 <p>Unregisters materialized views from synchronous refresh.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d1041791e650" headers="d1041791e467 ">
                                 <p><a href="DBMS_SYNC_REFRESH.html#GUID-13528F16-410C-44C4-965D-1DDAE63375FA" title="This procedure unregisters a partition-maintenance operation (PMOP) that had been previously registered with REGISTER_PARTITION_OPERATION on a base table. The three kinds of change operations that can be specified on partitions are DROP, TRUNCATE, and EXCHANGE.">UNREGISTER_PARTITION_OPERATION Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d1041791e650 d1041791e470 ">
                                 <p>Unregisters a partition maintenance operation on a partition of a base table.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS74620"></a><a id="ARPLS74621"></a><a id="ARPLS74621"></a><a id="ARPLS74620"></a><div class="props_rev_3"><a id="GUID-31C77847-021A-40AE-A3D9-617EAE2C736A" name="GUID-31C77847-021A-40AE-A3D9-617EAE2C736A"></a><h4 id="ARPLS-GUID-31C77847-021A-40AE-A3D9-617EAE2C736A" class="sect4"><span class="enumeration_section">167.3.1 </span>ABORT_REFRESH Procedure
                  </h4>
                  <div>
                     <p>This procedure undoes all the changes made by <code class="codeph">PREPARE_REFRESH</code> or <code class="codeph">EXECUTE_REFRESH</code> for the specified sync refresh groups. It helps you to recover to a state where the tables and materialized views are usable and consistent in case they encounter unexpected errors.
                     </p>
                     <div class="section">
                        <p>This procedure is overloaded.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-31C77847-021A-40AE-A3D9-617EAE2C736A__GUID-CE598E9E-E378-49D4-97D4-78FBDD0C233E">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SYNC_REFRESH.ABORT_REFRESH (
   group_id      IN NUMBER);

DBMS_SYNC_REFRESH.ABORT_REFRESH (
   group_id_list IN DBMS_UTILITY.NUMBER_ARRAY);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-31C77847-021A-40AE-A3D9-617EAE2C736A__GUID-62D75C12-5971-4981-9083-CEC791E0D450">Parameters</p>
                        <div class="tblformal" id="GUID-31C77847-021A-40AE-A3D9-617EAE2C736A__GUID-2A654CBB-126C-49E9-B1D2-061E79F602DA">
                           <p class="titleintable">Table 167-2 ABORT_REFRESH Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ABORT_REFRESH Procedure Parameters" summary="This table describes the parameters for DBMS_SYNC_REFRESH.ABORT_REFRESH." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1041791e788">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1041791e791">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e796" headers="d1041791e788 ">
                                       <p><code class="codeph">group_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e796 d1041791e791 ">
                                       <p>The group ID of a sync refresh group.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e804" headers="d1041791e788 ">
                                       <p><code class="codeph">group_id_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e804 d1041791e791 ">
                                       <p>An array of group IDs of the sync refresh groups to be aborted for sync refresh.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-31C77847-021A-40AE-A3D9-617EAE2C736A__GUID-2F7FFDC0-DF78-48FF-A5F4-E1D80DB07EBE">Usage Notes</p>
                        <p>If called after <code class="codeph">PREPARE_REFRESH</code>, this procedure drops the outside tables created by it and unlocks the tables and materialized views in the sync refresh group.
                        </p>
                        <p>If called after <code class="codeph">EXECUTE_REFRESH</code> fails, this procedure restores the state of tables to before <code class="codeph">EXECUTE_REFRESH</code> by undoing any partition exchanges which successfully finished.
                        </p>
                        <p>This procedure releases the locks placed on the tables in the sync refresh group which were placed on them by the <code class="codeph">PREPARE_REFRESH</code> procedure. See <span class="q">"<a href="DBMS_SYNC_REFRESH.html#GUID-D65211CF-79C0-4F55-93D5-78A59ED0AE7D" title="This procedure prepares for refresh the sync refresh groups identified by the group ID in the input.">PREPARE_REFRESH Procedure</a>"</span> for a description of these locks.
                        </p>
                        <p><code class="codeph">ABORT_REFRESH</code> will work only if a <code class="codeph">PREPARE_REFRESH</code> or <code class="codeph">EXECUTE_REFRESH</code> statement has failed. It cannot be used after successful runs of those commands, and throws an error in such cases.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74622"></a><a id="ARPLS74623"></a><a id="ARPLS74623"></a><a id="ARPLS74622"></a><div class="props_rev_3"><a id="GUID-CC0CEFDE-A6BA-4D55-AFAD-E558A3E0F910" name="GUID-CC0CEFDE-A6BA-4D55-AFAD-E558A3E0F910"></a><h4 id="ARPLS-GUID-CC0CEFDE-A6BA-4D55-AFAD-E558A3E0F910" class="sect4"><span class="enumeration_section">167.3.2 </span>ALTER_REFRESH_STATS_RETENTION Procedure
                  </h4>
                  <div>
                     <p>This procedure alters the refresh history retention value, specified in days. It is intended for use in conjunction with <code class="codeph">PURGE_REFRESH_HISTORY</code>. It also requires the <code class="codeph">SYSDBA</code> privilege in addition to the privilege to execute it.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CC0CEFDE-A6BA-4D55-AFAD-E558A3E0F910__GUID-6BA37591-74FE-4EED-AE82-A179C8A3FB38">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SYNC_REFRESH.ALTER_REFRESH_STATS_RETENTION (
   retention   IN NUMBER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CC0CEFDE-A6BA-4D55-AFAD-E558A3E0F910__GUID-C160AAAC-1F9F-4428-9E7C-666BE1207E6B">Parameters</p>
                        <div class="tblformal" id="GUID-CC0CEFDE-A6BA-4D55-AFAD-E558A3E0F910__GUID-18BE83BA-FD26-491D-84D4-B09E57135B41">
                           <p class="titleintable">Table 167-3 ALTER_REFRESH_STATS_RETENTION Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ALTER_REFRESH_STATS_RETENTION Procedure Parameters" summary="This table describes the parameters for DBMS_SYNC_REFRESH.ALTER_REFRESH_STATS_RETENTION." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d1041791e963">Parameter</th>
                                    <th align="left" valign="bottom" width="74%" id="d1041791e966">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d1041791e971" headers="d1041791e963 ">
                                       <p><code class="codeph">retention</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d1041791e971 d1041791e966 ">
                                       <p>The retention time in days. The refresh history will be retained for at least these many number of days. The valid range is 1 to 365,000.</p>
                                       <p>You can use the following values for special purposes:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>-1 - Refresh history is never purged by <code class="codeph">PREPARE_REFRESH</code>.
                                             </p>
                                          </li>
                                          <li>
                                             <p>0 - Old refresh history is never saved. <code class="codeph">PREPARE_REFRESH</code> will delete all refresh history.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NULL</code> - Change refresh history retention to default value.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74624"></a><a id="ARPLS74625"></a><a id="ARPLS74625"></a><a id="ARPLS74624"></a><div class="props_rev_3"><a id="GUID-02526EE8-8C24-4422-8889-A10B1D17F1B8" name="GUID-02526EE8-8C24-4422-8889-A10B1D17F1B8"></a><h4 id="ARPLS-GUID-02526EE8-8C24-4422-8889-A10B1D17F1B8" class="sect4"><span class="enumeration_section">167.3.3 </span>CAN_SYNCREF_TABLE Procedure
                  </h4>
                  <div>
                     <p>This procedure advises on whether a table and its dependent materialized views are eligible for sync refresh. It provides an explanation of its analysis. If not eligible, you can examine the reasons and take appropriate action if possible.</p>
                     <div class="section">
                        <p>This procedure lists all of the table's dependent materialized views and whether they qualify for sync refresh. Note that a materialized view may qualify for sync refresh even though the base table may not.</p>
                        <p>The eligibility rules for materialized views for synchronous refresh are discussed in detail in <a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide.</span></a></p>
                        <p>You can invoke <code class="codeph">CAN_SYNCREF_TABLE</code> in two ways. The first is to use a table, while the second is to create a <code class="codeph">VARRAY</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-02526EE8-8C24-4422-8889-A10B1D17F1B8__GUID-F79C34AD-FDD8-4E7D-A8BD-A656EC75052C">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SYNC_REFRESH.CAN_SYNCREF_TABLE (
    schema_name    IN VARCHAR2,
    table_name     IN VARCHAR2,
    statement_id   IN VARCHAR2);

DBMS_SYNC_REFRESH.CAN_SYNCREF_TABLE (
    schema_name    IN VARCHAR2,
    table_name     IN VARCHAR2,
    output_array   IN OUT Sys.CanSyncRefTypeArray);</pre><p></p>
                        <p>Note that only one of <code class="codeph">statement_id</code> or <code class="codeph">output_array</code> need be provided to <code class="codeph">CAN_SYNCREF_TABLE</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-02526EE8-8C24-4422-8889-A10B1D17F1B8__GUID-683843EA-9EB4-4857-9E3B-45A7E604CBC6">Parameters</p>
                        <div class="tblformal" id="GUID-02526EE8-8C24-4422-8889-A10B1D17F1B8__GUID-239FA7B0-FBBB-49E6-84A6-07B8F2FB576A">
                           <p class="titleintable">Table 167-4 CAN_SYNCREF_TABLE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CAN_SYNCREF_TABLE Procedure Parameters" summary="This table describes the parameters for DBMS_SYNC_REFRESH.CAN_SYNCREF_TABLE." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d1041791e1133">Parameter</th>
                                    <th align="left" valign="bottom" width="72%" id="d1041791e1136">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1041791e1141" headers="d1041791e1133 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1041791e1141 d1041791e1136 ">
                                       <p>The name of the schema of the base table.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1041791e1149" headers="d1041791e1133 ">
                                       <p><code class="codeph">table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1041791e1149 d1041791e1136 ">
                                       <p>The name of the base table.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1041791e1157" headers="d1041791e1133 ">
                                       <p><code class="codeph">statement_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1041791e1157 d1041791e1136 ">
                                       <p>A string (<code class="codeph">VARCHAR2(30)</code>) to identify the rows pertaining to an invocation of <code class="codeph">CAN_SYNCREF_TABLE</code> when the output is directed to a table named <code class="codeph">SYNCREF_TABLE</code> in the user's schema.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1041791e1174" headers="d1041791e1133 ">
                                       <p><code class="codeph">output_array</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1041791e1174 d1041791e1136 ">
                                       <p>The output array into which <code class="codeph">CAN_SYNCREF_TABLE</code> records the information on the eligibility of the base table and its dependent materialized views for synchronous refresh.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-02526EE8-8C24-4422-8889-A10B1D17F1B8__GUID-08BED2FC-CD29-4975-ABA3-1B7EBE716431">Using SYNCREF_TABLE</p>
                        <p>The output of <code class="codeph">CAN_SYNCREF_TABLE</code> can be directed to a table named <code class="codeph">SYNCREF_TABLE</code>. The user is responsible for creating the <code class="codeph">SYNCREF_TABLE</code>; it can be dropped when it is no longer needed. Its structure is as follows:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE SYNCREF_TABLE (
   statement_id    VARCHAR2(30),
   schema_name     VARCHAR2(30),
   table_name      VARCHAR2(30),
   mv_schema_name  VARCHAR2(30),
   mv_name         VARCHAR2(30),
   eligible        VARCHAR2(1),
   seq_num         NUMBER,
   msg_number      NUMBER,
   message         VARCHAR2(4000));</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-02526EE8-8C24-4422-8889-A10B1D17F1B8__GUID-4D02BCBC-EC8C-44D1-A908-9365BECCEF7B">Using a VARRAY</p>
                        <p>You can save the output of <code class="codeph">CAN_SYNCREF_TABLE</code> in a PL/SQL <code class="codeph">VARRAY</code>. The elements of this array are of type <code class="codeph">CanSyncRefMessage</code>, which is predefined in the <code class="codeph">SYS</code> schema, as shown in the following:
                        </p><pre class="oac_no_warn" dir="ltr">TYPE CanSyncRefMessage IS OBJECT (
   schema_name     VARCHAR2(30),
   table_name      VARCHAR2(30),
   mv_schema_name  VARCHAR2(30),
   mv_name         VARCHAR2(30),
   eligible        VARCHAR2(1),
   seq_num         NUMBER,
   msg_number      NUMBER,
   message         VARCHAR2(4000));
</pre><p>The array type <code class="codeph">CanSyncRefArrayType</code>, which is a varray of <code class="codeph">CanSyncRefMessage</code> objects, is predefined in the <code class="codeph">SYS</code> schema as follows:
                        </p><pre class="oac_no_warn" dir="ltr">TYPE CanSyncRefArrayType AS VARRAY(256) OF CanSyncRefMessage;
</pre><p>Each <code class="codeph">CanSyncRefMessage</code> record provides a message concerning the eligibility of the base table or a dependent materialized view for synchronous refresh. The semantics of the fields is the same as that of the corresponding fields in the <code class="codeph">SYNCREF_TABLE</code>. However, the <code class="codeph">SYNCREF_TABLE</code> has a <code class="codeph">statement_id</code> field which is absent in <code class="codeph">CanSyncRefMessage</code> because no <code class="codeph">statement_id</code> is supplied (because it is not required) when <code class="codeph">CAN_SYNCREF_TABLE</code> is called with a <code class="codeph">VARRAY</code> parameter.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74626"></a><a id="ARPLS74627"></a><a id="ARPLS74627"></a><a id="ARPLS74626"></a><div class="props_rev_3"><a id="GUID-EAD15BFC-29DF-465A-8FB3-DB18DD2132AE" name="GUID-EAD15BFC-29DF-465A-8FB3-DB18DD2132AE"></a><h4 id="ARPLS-GUID-EAD15BFC-29DF-465A-8FB3-DB18DD2132AE" class="sect4"><span class="enumeration_section">167.3.4 </span>EXECUTE_REFRESH Procedure
                  </h4>
                  <div>
                     <p>This procedure executes sync refresh on the sync refresh groups prepared by <code class="codeph">DBMS_SYNC_REFRESH.PREPARE_REFRESH</code>. These groups are identified by their group IDs.
                     </p>
                     <div class="section">
                        <p>Note this procedure will only perform the refresh on those materialized views that have been registered for synch refresh; any other materialized views will become stale once this procedure completes.</p>
                        <p>For more information on how to monitor the status of the two synchronous refresh operations, <code class="codeph">PREPARE_REFRESH</code> and <code class="codeph">EXECUTE_REFRESH</code> and how to troubleshoot errors that might occur using the information in the catalog views, refer to "Trouble-Shooting Synchronous Refresh Operations" in <a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide.</span></a></p>
                        <p>This procedure is overloaded.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EAD15BFC-29DF-465A-8FB3-DB18DD2132AE__GUID-0FAF0972-EADC-4258-822E-8A2ED3F9A89F">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SYNC_REFRESH.EXECUTE_REFRESH (
   group_id   IN NUMBER);

DBMS_SYNC_REFRESH.EXECUTE_REFRESH (
   group_id_list  IN DBMS_UTILITY.NUMBER_ARRAY);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EAD15BFC-29DF-465A-8FB3-DB18DD2132AE__GUID-D1140E0B-6353-44A1-A045-12BEAC9E150D">Parameters</p>
                        <div class="tblformal" id="GUID-EAD15BFC-29DF-465A-8FB3-DB18DD2132AE__GUID-7EBBADF7-B415-40E3-B4A3-4FBADB2AF711">
                           <p class="titleintable">Table 167-5 EXECUTE_REFRESH Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXECUTE_REFRESH Procedure Parameters" summary="This table describes the parameters for DBMS_SYNC_REFRESH.EXECUTE_REFRESH." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1041791e1385">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1041791e1388">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e1393" headers="d1041791e1385 ">
                                       <p><code class="codeph">group_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e1393 d1041791e1388 ">
                                       <p>The group ID of a sync refresh group.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e1401" headers="d1041791e1385 ">
                                       <p><code class="codeph">group_id_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e1401 d1041791e1388 ">
                                       <p>An array of group IDs of the sync refresh groups to be executed for sync refresh.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EAD15BFC-29DF-465A-8FB3-DB18DD2132AE__GUID-47504960-D877-47A9-A0AD-A956E7110E2D">Usage Notes</p>
                        <p>This procedure also releases the locks placed on the tables in the sync refresh group that were placed on them by the <code class="codeph">PREPARE_REFRESH</code> procedure. See <span class="q">"<a href="DBMS_SYNC_REFRESH.html#GUID-D65211CF-79C0-4F55-93D5-78A59ED0AE7D" title="This procedure prepares for refresh the sync refresh groups identified by the group ID in the input.">PREPARE_REFRESH Procedure</a>"</span> for a description of these locks and <a href="../refrn/DBA_SR_OBJ_STATUS.html#REFRN23873" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information regarding the status of the refresh operation after <code class="codeph">DBMS_SYNC_REFRESH.EXECUTE_REFRESH</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74628"></a><a id="ARPLS74629"></a><a id="ARPLS74629"></a><a id="ARPLS74628"></a><div class="props_rev_3"><a id="GUID-D4B20742-2F92-487F-B963-5945632F279D" name="GUID-D4B20742-2F92-487F-B963-5945632F279D"></a><h4 id="ARPLS-GUID-D4B20742-2F92-487F-B963-5945632F279D" class="sect4"><span class="enumeration_section">167.3.5 </span>GET_ALL_GROUP_IDS Function
                  </h4>
                  <div>
                     <p>This function returns the group IDs of all the sync refresh groups in the database.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D4B20742-2F92-487F-B963-5945632F279D__GUID-2B00A3EC-963B-4F80-9DD2-4D7D04635DC5">Syntax</p><pre class="oac_no_warn" dir="ltr">FUNCTION DBMS_SYNC_REFRESH.GET_ALL_GROUP_IDS
           RETURN DBMS_UTILITY.NUMBER_ARRAY;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D4B20742-2F92-487F-B963-5945632F279D__GUID-DC76E06D-5BF4-421C-9470-E329B273C991">Parameters</p>
                        <div class="tblformal" id="GUID-D4B20742-2F92-487F-B963-5945632F279D__GUID-8151EB04-6666-4BD2-9F18-0D194ABF64E6">
                           <p class="titleintable">Table 167-6 GET_ALL_GROUP_IDS Function Parameter</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_ALL_GROUP_IDS Function Parameter" summary="This table describes the parameters for DBMS_SYNC_REFRESH.GET_ALL_GROUP_IDS." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1041791e1539">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1041791e1542">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e1547" headers="d1041791e1539 ">
                                       <p><code class="codeph">get_all_group_ids</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e1547 d1041791e1542 ">
                                       <p>Returns the group IDs of all the sync refresh groups in the database.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74630"></a><a id="ARPLS74631"></a><a id="ARPLS74631"></a><a id="ARPLS74630"></a><div class="props_rev_3"><a id="GUID-EA5AE93F-A866-4B8F-952E-1BAB57B85AA0" name="GUID-EA5AE93F-A866-4B8F-952E-1BAB57B85AA0"></a><h4 id="ARPLS-GUID-EA5AE93F-A866-4B8F-952E-1BAB57B85AA0" class="sect4"><span class="enumeration_section">167.3.6 </span>GET_GROUP_ID Function
                  </h4>
                  <div>
                     <p>This function returns the group ID of a materialized view. The group ID identifies the sync refresh group the table belongs to. A sync refresh group is a group of related tables and their dependent materialized views which must be all refreshed together jointly to ensure consistency and correctness.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EA5AE93F-A866-4B8F-952E-1BAB57B85AA0__GUID-4622EA4D-2758-49F3-B2F8-15A77417B497">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SYNC_REFRESH.GET_GROUP_ID (
   object_name_list   IN VARCHAR2)
RETURN DBMS_UTILITY.NUMBER_ARRAY;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EA5AE93F-A866-4B8F-952E-1BAB57B85AA0__GUID-D5031120-9853-48E8-9BE3-8881B211465A">Parameters</p>
                        <div class="tblformal" id="GUID-EA5AE93F-A866-4B8F-952E-1BAB57B85AA0__GUID-1373027B-DD2F-4ED7-AC38-6D32946A1418">
                           <p class="titleintable">Table 167-7 GET_GROUP_ID Function Parameter</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_GROUP_ID Function Parameter" summary="This table describes the parameters for DBMS_SYNC_REFRESH.GET_GROUP_ID." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1041791e1660">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1041791e1663">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e1668" headers="d1041791e1660 ">
                                       <p><code class="codeph">object_name_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e1668 d1041791e1663 ">
                                       <p>The name of the materialized view. The name can be schema-qualified.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74632"></a><a id="ARPLS74633"></a><a id="ARPLS74633"></a><a id="ARPLS74632"></a><div class="props_rev_3"><a id="GUID-061B355B-7E7B-47EE-89F0-B67C51DB5F00" name="GUID-061B355B-7E7B-47EE-89F0-B67C51DB5F00"></a><h4 id="ARPLS-GUID-061B355B-7E7B-47EE-89F0-B67C51DB5F00" class="sect4"><span class="enumeration_section">167.3.7 </span>GET_GROUP_ID_LIST Function
                  </h4>
                  <div>
                     <p>This function returns the group IDs of the tables in a given list of objects (materialized views).</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-061B355B-7E7B-47EE-89F0-B67C51DB5F00__GUID-5C7523D3-DCD3-40A3-B1AE-C0C65B58F5E4">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SYNC_REFRESH.GET_GROUP_ID_LIST (
   object_name_list   IN VARCHAR2)
RETURN DBMS_UTILITY.NUMBER_ARRAY;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-061B355B-7E7B-47EE-89F0-B67C51DB5F00__GUID-3A40C51A-2717-4F4D-ACF2-B34A59924500">Parameters</p>
                        <div class="tblformal" id="GUID-061B355B-7E7B-47EE-89F0-B67C51DB5F00__GUID-BC67F18D-8308-42CE-AF16-92AC373F5758">
                           <p class="titleintable">Table 167-8 GET_GROUP_ID_LIST Function Parameter</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_GROUP_ID_LIST Function Parameter" summary="This table describes the parameters for DBMS_SYNC_REFRESH.GET_GROUP_ID_LIST." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1041791e1781">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1041791e1784">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e1789" headers="d1041791e1781 ">
                                       <p><code class="codeph">object_name_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e1789 d1041791e1784 ">
                                       <p>A comma-separated list of object names (materialized views). Each name can be schema-qualified.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74634"></a><a id="ARPLS74635"></a><a id="ARPLS74635"></a><a id="ARPLS74634"></a><div class="props_rev_3"><a id="GUID-D65211CF-79C0-4F55-93D5-78A59ED0AE7D" name="GUID-D65211CF-79C0-4F55-93D5-78A59ED0AE7D"></a><h4 id="ARPLS-GUID-D65211CF-79C0-4F55-93D5-78A59ED0AE7D" class="sect4"><span class="enumeration_section">167.3.8 </span>PREPARE_REFRESH Procedure
                  </h4>
                  <div>
                     <p>This procedure prepares for refresh the sync refresh groups identified by the group ID in the input. </p>
                     <div class="section">
                        <p>A sync refresh group consists of a set of related tables and all materialized views dependent on those base tables. Note this procedure will only prepare for refresh those dependent materialized views that have been registered for synchronous refresh.</p>
                        <p>For more information on how to monitor the status of the two synchronous refresh operations, <code class="codeph">PREPARE_REFRESH</code> and <code class="codeph">EXECUTE_REFRESH</code> and how to troubleshoot errors that might occur using the information in the catalog views, refer to "Trouble-Shooting Synchronous Refresh Operations" in <a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide.</span></a></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D65211CF-79C0-4F55-93D5-78A59ED0AE7D__GUID-6C024CCA-C6B2-4FF0-A993-C22595F4043C">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SYNC_REFRESH.PREPARE_REFRESH (
   group_id   IN NUMBER)
RETURN DBMS_UTILITY.NUMBER_ARRAY;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D65211CF-79C0-4F55-93D5-78A59ED0AE7D__GUID-E588549F-698A-4EB1-9578-0F3EE3607C3B">Parameters</p>
                        <div class="tblformal" id="GUID-D65211CF-79C0-4F55-93D5-78A59ED0AE7D__GUID-FC9CF2A0-E70D-47F2-AF49-7F7018F19401">
                           <p class="titleintable">Table 167-9 PREPARE_REFRESH Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PREPARE_REFRESH Procedure Parameters" summary="This table describes the parameters for the DBMS_SYNC_REFRESH.PREPARE_REFRESH." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1041791e1918">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1041791e1921">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e1926" headers="d1041791e1918 ">
                                       <p><code class="codeph">group_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e1926 d1041791e1921 ">
                                       <p>The group ID of the sync refresh group to be prepared for sync refresh.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D65211CF-79C0-4F55-93D5-78A59ED0AE7D__GUID-6EC14903-0482-46A2-B5FA-159C74A96EFC">Usage Notes</p>
                        <p>This procedure plans the three phases of the sync refresh operation and executes the steps associated with the prepare phase itself. These steps include identifying the partitions of the fact tables and materialized views that have been changed, and computing their new values as a result of the changes. The new values of the partitions are stored in tables called outside tables that are exchanged into their corresponding partitions at the time of the <code class="codeph">EXECUTE_REFRESH</code>.
                        </p>
                        <p>Before running this procedure, the user must run <code class="codeph">PREPARE_STAGING_LOG</code> on all tables in the group. This is required even for staging logs that do not have changes in them. The user must also register any partition operations on the tables in the group using the <code class="codeph">REGISTER_PARTITION_OPERATION</code>.
                        </p>
                        <p>One of the side effects of this procedure is that the tables being prepared are locked in this sense: the staging logs of the tables will be locked to prevent any DMLs from occurring and the registration of partition operations will be disabled. These locks will be in effect until you issue an <code class="codeph">EXECUTE_REFRESH</code> statement. Alternatively, you can issue an <code class="codeph">ABORT_REFRESH</code> operation to release these locks. Another side effect of this procedure is that it purges from the catalog records of earlier sync refresh operations; if they are older than the retention period, they are purged.
                        </p>
                        <p>The degree of parallelism of the prepare refresh job is inherited from the session parameters which you can control with an <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> statement.
                        </p>
                        <p>The group ID of a table can be found using <code class="codeph">GET_GROUP_ID(table_name)</code>. The group IDs of a list of tables can be found with <code class="codeph">GET_GROUP_ID_LIST(table_name_list)</code>. The group IDs of all the lists of tables can be retrieved with <code class="codeph">GET_ALL_GROUP_IDS</code>.
                        </p>
                        <p>By default, synchronous refresh does not maintain global indexes belonging to the tables and materialized views in the sync refresh group. If you wish to do so, you can set event 31904, level 64 before executing <code class="codeph">PREPARE_REFRESH</code>. This will cause the partition exchange DDL statements generated by <code class="codeph">PREPARE_REFRESH</code> to have the <code class="codeph">UPDATE</code> <code class="codeph">INDEXES</code> clause appended to them, and when they are executed by <code class="codeph">EXECUTE_REFRESH</code>, the global indexes will be maintained.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74636"></a><a id="ARPLS74637"></a><a id="ARPLS74637"></a><a id="ARPLS74636"></a><div class="props_rev_3"><a id="GUID-918D4791-025C-4EDD-A699-50D65F4E4A4F" name="GUID-918D4791-025C-4EDD-A699-50D65F4E4A4F"></a><h4 id="ARPLS-GUID-918D4791-025C-4EDD-A699-50D65F4E4A4F" class="sect4"><span class="enumeration_section">167.3.9 </span>PREPARE_STAGING_LOG Procedure
                  </h4>
                  <div>
                     <p>This procedure collects statistics on the data in the staging log of the base table and validates the data in the log. </p>
                     <div class="section">
                        <p>It can be run in several different modes ranging from the enforced mode in which strict checking of the data is done to trusted mode in which no checking is done. You should run this procedure after loading the staging log and before running <code class="codeph">PREPARE_REFRESH</code>.
                        </p>
                        <p>In the enforced mode, which is the default, this procedure will fill in the missing values of the columns of the rows being deleted or updated. An error is thrown if any violations of the staging-log rules are found. You can query the view <code class="codeph">USER_SR_STLOG_EXCEPTIONS</code> to get details on the exceptions.
                        </p>
                        <p>The notion of the staging log key is described in <a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide.</span></a></p>
                        <p>In the enforced mode, this procedure processes each delete/update row in the staging log as follows:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>It verifies the existence of the row in the base table using the key.</p>
                           </li>
                           <li>
                              <p>For the rows being deleted (<code class="codeph">DMLTYPE$$</code> is <code class="codeph">'D'</code>), it verifies a row with this key exists in the base table; if non-null non-key values are supplied in the staging log, it verifies the values match the corresponding columns in the base table; else an exception is logged in the exceptions table. If the values of any of the non-key columns are missing, it fills in those values from the row in the base table.
                              </p>
                           </li>
                           <li>
                              <p>For the rows being updated (<code class="codeph">DMLTYPE$$</code> is <code class="codeph">'UO' </code>or <code class="codeph">'UN'</code>), it verifies a row with this key exists in the base table. In the old values row (<code class="codeph">DMLTYPE$$</code> is <code class="codeph">'UO'</code>), it makes the same check and does the same processing as with rows being deleted. In the new values row (<code class="codeph">DMLTYPE$$</code> is <code class="codeph">'UN'</code>), it checks that at least the value of one the columns differs from its old value; else an exception is logged.
                              </p>
                           </li>
                           <li>
                              <p>In the new values row (<code class="codeph">DMLTYPE$$</code> is <code class="codeph">'UN'</code>), a null value in a column is interpreted as having the same value as the old value of the column except if the old value is non-null and the new value is null in which case, the new value of the column is interpreted as being null. This requires that the user must provide the old value of columns which are being updated to <code class="codeph">NULL</code>.
                              </p>
                           </li>
                        </ul>
                        <p>In the default enforced mode, this procedure verifies that each key is specified for at most once for a delete or update operation. This means that the user, when doing the change consolidation, must consolidate delete-insert of the same row into an update operation with rows <code class="codeph">'UO'</code> and <code class="codeph">'UN</code>;' multiple updates must be consolidated into a single update; and null changes such as an insert-update-delete of the same row must not appear in the staging log.
                        </p>
                        <p>The checking done in the enforced mode can be time-consuming. If you are confident in the integrity of the data, you can choose a lower level of checking. You can choose to:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>trust all the insert rows (<code class="codeph">DMLTYPE$$</code> is <code class="codeph">'I')</code> by choosing the <code class="codeph">psl_mode</code> of <code class="codeph">DBMS_SYNC_REFRESH.INSERT_TRUSTED</code></p>
                           </li>
                           <li>
                              <p>trust all the delete rows (<code class="codeph">DMLTYPE$$</code> is <code class="codeph">'D'</code>) by choosing the <code class="codeph">psl_mode</code> of <code class="codeph">DBMS_SYNC_REFRESH.DELETE_TRUSTED</code></p>
                           </li>
                           <li>
                              <p>trust all the update rows (<code class="codeph">DMLTYPE$$</code> is <code class="codeph">'UO</code>' or <code class="codeph">'UN'</code>) by choosing the <code class="codeph">psl_mode</code> of <code class="codeph">DBMS_SYNC_REFRESH.UPDATE_TRUSTED</code></p>
                           </li>
                           <li>
                              <p>trust all three types of DMLs by choosing the <code class="codeph">psl_mode</code> of <code class="codeph">DBMS_SYNC_REFRESH.TRUSTED</code>.
                              </p>
                           </li>
                        </ul>
                        <p>In addition, you can specify the <code class="codeph">psl_mode</code> as a bitmask of the flags described above. For example, <code class="codeph">DBMS_SYNC_REFRESH.INSERT_TRUSTED</code> + <code class="codeph">DBMS_SYNC_REFRESH_DELETE_TRUSTED</code> will treat inserts and deletes to be trusted but not updates.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-918D4791-025C-4EDD-A699-50D65F4E4A4F__GUID-6FBFAC87-595A-4C0D-90DA-AED7C5C346E8">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SYNC_REFRESH.PREPARE_STAGING_LOG (
   schema_name      IN VARCHAR2,
   base_table_name  IN VARCHAR2,
   psl_mode         IN NUMBER DEFAULT
   DBMS_SYNC_REFRESH.ENFORCED);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-918D4791-025C-4EDD-A699-50D65F4E4A4F__GUID-6C4D803C-0D76-46C3-AD8D-3A01A72E9073">Parameters</p>
                        <div class="tblformal" id="GUID-918D4791-025C-4EDD-A699-50D65F4E4A4F__GUID-2D373676-3E32-465B-A40F-C8DB789113FF">
                           <p class="titleintable">Table 167-10 PREPARE_STAGING_LOG Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PREPARE_STAGING_LOG Procedure Parameters" summary="This table describes the parameters in DBMS_SYNC_REFRESH.PREPARE_STAGING_LOG." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1041791e2244">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1041791e2247">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e2252" headers="d1041791e2244 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e2252 d1041791e2247 ">
                                       <p>The name of the schema of the base table.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e2260" headers="d1041791e2244 ">
                                       <p><code class="codeph">base_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e2260 d1041791e2247 ">
                                       <p>The name of the base table.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e2268" headers="d1041791e2244 ">
                                       <p><code class="codeph">psl_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e2268 d1041791e2247 ">
                                       <p>The mode in which staging log preparation should be done. The possible values are:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">DBMS_SYNC_REFRESH.ENFORCED</code> (the default)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DBMS_SYNC_REFRESH.INSERT_TRUSTED</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DBMS_SYNC_REFRESH.DELETE_TRUSTED</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DBMS_SYNC_REFRESH.UPDATE_TRUSTED</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DBMS_SYNC_REFRESH.TRUSTED</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74638"></a><a id="ARPLS74639"></a><a id="ARPLS74639"></a><a id="ARPLS74638"></a><div class="props_rev_3"><a id="GUID-DCE87825-C05F-46FD-A58A-825A55900C48" name="GUID-DCE87825-C05F-46FD-A58A-825A55900C48"></a><h4 id="ARPLS-GUID-DCE87825-C05F-46FD-A58A-825A55900C48" class="sect4"><span class="enumeration_section">167.3.10 </span>PURGE_REFRESH_STATS Procedure
                  </h4>
                  <div>
                     <p>This procedure purges the refresh history of sync refreshes that took place before the value specified by the <code class="codeph">BEFORE_TIMESTAMP</code> parameter.
                     </p>
                     <div class="section">
                        <p>This procedure requires the <code class="codeph">SYSDBA</code> privilege in addition to the privilege to execute it.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DCE87825-C05F-46FD-A58A-825A55900C48__GUID-4CAC7F4C-1533-4477-904F-DEC0C92CC1A9">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SYNC_REFRESH.PURGE_REFRESH_STATS (
   before_timestamp IN TIMESTAMP WITH TIME ZONE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DCE87825-C05F-46FD-A58A-825A55900C48__GUID-9912B7FC-3308-4AB9-8C9D-EAE5E799F4B4">Parameters</p>
                        <div class="tblformal" id="GUID-DCE87825-C05F-46FD-A58A-825A55900C48__GUID-9992F69B-EA0D-4CC5-A1FE-C33032B1A0DA">
                           <p class="titleintable">Table 167-11 PURGE_REFRESH_STATS Procedure Parameter</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PURGE_REFRESH_STATS Procedure Parameter" summary="This table describes the parameters for DBMS_SYNC_REFRESH.PURGE_REFRESH_STATS." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d1041791e2416">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d1041791e2419">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1041791e2424" headers="d1041791e2416 ">
                                       <p><code class="codeph">before_timestamp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1041791e2424 d1041791e2419 ">
                                       <p>Records of sync refreshes saved before this timestamp are purged. If <code class="codeph">NULL</code>, it uses the purging policy used by automatic purge. The automatic purge deletes all history older than (current time - refresh - history retention). The refresh history retention value can be changed using <code class="codeph">ALTER_REFRESH_STATS_RETENTION</code>. The default is 31 days.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74938"></a><a id="ARPLS74939"></a><a id="ARPLS74939"></a><a id="ARPLS74938"></a><div class="props_rev_3"><a id="GUID-4E1ECE0F-A79E-4335-B9E6-992B58F86B46" name="GUID-4E1ECE0F-A79E-4335-B9E6-992B58F86B46"></a><h4 id="ARPLS-GUID-4E1ECE0F-A79E-4335-B9E6-992B58F86B46" class="sect4"><span class="enumeration_section">167.3.11 </span>REGISTER_MVIEWS
                  </h4>
                  <div>
                     <p>This procedure registers a list of materialized views for synchronous refresh. </p>
                     <div class="section">
                        <p>It checks each materialized view in the list for eligibility and places it in the sync refresh group it belongs to. A sync refresh group is a set of related tables and materialized views defined on top of them. Two tables are considered related if there is a referential constraint between them.</p>
                        <p>The eligibility rules of materialized views for synchronous refresh are described in detail in <a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide.</span></a> The principal requirements are that the materialized view must be partitioned and its partition key must be derivable from the partition key of its fact table. The materialized view definition must specify the <code class="codeph">USING</code> <code class="codeph">TRUSTED</code> <code class="codeph">CONSTRAINTS</code> clause because sync refresh trusts the foreign key and primary key relationships to perform various refresh optimizations. The materialized view's refresh policy must be specified as <code class="codeph">ON</code> <code class="codeph">DEMAND</code>.
                        </p>
                        <p>You have an option to register only some of the materialized views associated with a table, and leave some unregistered. Oracle Corporation does not recommend this, and in such a case, the user has to maintain the unregistered ones using the PCT or complete refresh methods.</p>
                        <p>A staging table must have been created for each base table of each materialized view in the materialized view list (<code class="codeph">mv_list</code>), or else an error is thrown.
                        </p>
                        <p>If any of the materialized views are not eligible for sync refresh, an error is thrown and the registration of all materialized views in the materialized view list fails.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4E1ECE0F-A79E-4335-B9E6-992B58F86B46__GUID-A0EDB4E5-F8E7-4A14-9A7B-2D312F517E11">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SYNC_REFRESH.REGISTER_MVIEWS (
   mv_list   IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4E1ECE0F-A79E-4335-B9E6-992B58F86B46__GUID-FA90F5F1-D0FA-4C91-9ABE-2780B53FD922">Parameter</p>
                        <div class="tblformal" id="GUID-4E1ECE0F-A79E-4335-B9E6-992B58F86B46__GUID-6C4BA349-CE8E-49EC-8112-B4371DF46DAE">
                           <p class="titleintable">Table 167-12 REGISTER_MVIEWS Procedure Parameter</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REGISTER_MVIEWS Procedure Parameter" summary="This table describes the parameters of the REGISTER_MVIEWS subprogram" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1041791e2583">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1041791e2586">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e2591" headers="d1041791e2583 ">
                                       <p><code class="codeph">mv_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e2591 d1041791e2586 ">
                                       <p>A comma-delimited list of materialized views to register. These names are optionally schema-qualified.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74640"></a><a id="ARPLS74641"></a><a id="ARPLS74641"></a><a id="ARPLS74640"></a><div class="props_rev_3"><a id="GUID-79818B51-CC72-4482-B5AC-5EEA9B77F244" name="GUID-79818B51-CC72-4482-B5AC-5EEA9B77F244"></a><h4 id="ARPLS-GUID-79818B51-CC72-4482-B5AC-5EEA9B77F244" class="sect4"><span class="enumeration_section">167.3.12 </span>REGISTER_PARTITION_OPERATION Procedure
                  </h4>
                  <div>
                     <p>This procedure registers a partition-maintenance operation (PMOP) on a partition of a base table.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-79818B51-CC72-4482-B5AC-5EEA9B77F244__GUID-1E00BAE2-B4FC-41E7-B772-58464B73375A">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SYNC_REFRESH.REGISTER_PARTITION_OPERATION (
   partition_op                IN VARCHAR2,
   schema_name                 IN VARCHAR2,
   base_table_name             IN VARCHAR2,
   partition_name              IN VARCHAR2,
   outside_partn_table_schema  IN VARCHAR2,
   outside_partn_table_name    IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-79818B51-CC72-4482-B5AC-5EEA9B77F244__GUID-03167D7A-E844-4E07-A3FD-BC750477BF05">Parameters</p>
                        <div class="tblformal" id="GUID-79818B51-CC72-4482-B5AC-5EEA9B77F244__GUID-54C977A7-F081-4BC8-9CEA-D4380E9E7078">
                           <p class="titleintable">Table 167-13 REGISTER_PARTITION_OPERATION Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REGISTER_PARTITION_OPERATION Procedure Parameters" summary="This table describes the parameters for DBMS_SYNC_REFRESH.REGISTER_PARTITION_OPERATION." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1041791e2708">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1041791e2711">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e2716" headers="d1041791e2708 ">
                                       <p><code class="codeph">partition_op</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e2716 d1041791e2711 ">
                                       <p>The name of the partition operation (<code class="codeph">DROP</code>, <code class="codeph">EXCHANGE</code>, or <code class="codeph">TRUNCATE</code>).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e2733" headers="d1041791e2708 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e2733 d1041791e2711 ">
                                       <p>The name of the schema of the base table.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e2741" headers="d1041791e2708 ">
                                       <p><code class="codeph">base_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e2741 d1041791e2711 ">
                                       <p>The name of the base table.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e2749" headers="d1041791e2708 ">
                                       <p><code class="codeph">partition_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e2749 d1041791e2711 ">
                                       <p>The name of the partition to be changed; either exchanged with the outside partition table or dropped or truncated.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e2757" headers="d1041791e2708 ">
                                       <p><code class="codeph">outside_partn_table_schema</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e2757 d1041791e2711 ">
                                       <p>The name of the schema of the outside partition table (required for <code class="codeph">EXCHANGE</code> only).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e2768" headers="d1041791e2708 ">
                                       <p><code class="codeph">outside_partn_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e2768 d1041791e2711 ">
                                       <p>The name of the outside partition table (required for <code class="codeph">EXCHANGE</code> only).
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-79818B51-CC72-4482-B5AC-5EEA9B77F244__GUID-C3E5C8C5-5D0B-4D84-864B-AC82453C26B5">Usage Notes</p>
                        <p>The three kinds of change operations that may be specified on partitions are <code class="codeph">DROP</code>, <code class="codeph">TRUNCATE</code>, and <code class="codeph">EXCHANGE</code>.
                        </p>
                        <p>If <code class="codeph">DROP</code> is specified, then the partition will be dropped from the base table at the time of <code class="codeph">EXECUTE_REFRESH</code>. If <code class="codeph">TRUNCATE</code> is specified, then the data from the partition will be deleted but the partition itself will not be dropped. These operations provide a more efficient way of specifying the deletes of all the rows in a partition than specifying them individually in the staging log.
                        </p>
                        <p>If <code class="codeph">EXCHANGE</code> is specified, then the contents of the outside table is exchanged with contents of the specified partition of <code class="codeph">EXECUTE_REFRESH</code>. This provides an alternative method to the user of providing the changes to the base tables instead of populating the staging log.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74940"></a><a id="ARPLS74941"></a><a id="ARPLS74941"></a><a id="ARPLS74940"></a><div class="props_rev_3"><a id="GUID-6C2602DE-E73C-4BF3-B7E6-4A8D808C197C" name="GUID-6C2602DE-E73C-4BF3-B7E6-4A8D808C197C"></a><h4 id="ARPLS-GUID-6C2602DE-E73C-4BF3-B7E6-4A8D808C197C" class="sect4"><span class="enumeration_section">167.3.13 </span>UNREGISTER_MVIEWS
                  </h4>
                  <div>
                     <p>This procedure unregisters a list of materialized views from synchronous refresh. Once a materialized view is unregistered, it can be maintained by the user with any of the traditional refresh methods, such as complete or PCT, refresh.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6C2602DE-E73C-4BF3-B7E6-4A8D808C197C__GUID-DCA727D7-9EB7-438B-8FF7-4CA8CFA63B77">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SYNC_REFRESH.UNREGISTER_MVIEWS (
   mv_list   IN VARCHAR20;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6C2602DE-E73C-4BF3-B7E6-4A8D808C197C__GUID-63F322EF-A556-4624-B8FF-323A9DD0CC81">Parameter</p>
                        <div class="tblformal" id="GUID-6C2602DE-E73C-4BF3-B7E6-4A8D808C197C__GUID-70AE95C0-B42D-41EC-B7A1-667CE6AC714F">
                           <p class="titleintable">Table 167-14 UNREGISTER_MVIEWS Parameter</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UNREGISTER_MVIEWS Parameter" summary="This table describes UNREGISTER_MVIEWS parameters" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1041791e2917">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1041791e2920">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e2925" headers="d1041791e2917 ">
                                       <p><code class="codeph">mv_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e2925 d1041791e2920 ">
                                       <p>A comma-delimited list of materialized views to unregister. These names are optionally schema-qualified.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74642"></a><a id="ARPLS74643"></a><a id="ARPLS74643"></a><a id="ARPLS74642"></a><div class="props_rev_3"><a id="GUID-13528F16-410C-44C4-965D-1DDAE63375FA" name="GUID-13528F16-410C-44C4-965D-1DDAE63375FA"></a><h4 id="ARPLS-GUID-13528F16-410C-44C4-965D-1DDAE63375FA" class="sect4"><span class="enumeration_section">167.3.14 </span>UNREGISTER_PARTITION_OPERATION Procedure
                  </h4>
                  <div>
                     <p>This procedure unregisters a partition-maintenance operation (PMOP) that had been previously registered with <code class="codeph">REGISTER_PARTITION_OPERATION</code> on a base table. The three kinds of change operations that can be specified on partitions are <code class="codeph">DROP</code>, <code class="codeph">TRUNCATE</code>, and <code class="codeph">EXCHANGE</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-13528F16-410C-44C4-965D-1DDAE63375FA__GUID-1494FAC6-D547-461F-81A1-73C2DA839738">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SYNC_REFRESH.UNREGISTER_PARTITION_OPERATION (
   partition_op     IN VARCHAR2,
   schema_name      IN VARCHAR2,
   base_table_name  IN VARCHAR2,
   partition_name   IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13528F16-410C-44C4-965D-1DDAE63375FA__GUID-3EF3553C-C1F0-4894-A54B-464D431C47F5">Parameters</p>
                        <div class="tblformal" id="GUID-13528F16-410C-44C4-965D-1DDAE63375FA__GUID-1CEADCED-5189-4691-8E84-AB4E1D9E109E">
                           <p class="titleintable">Table 167-15 UNREGISTER_PARTITION_OPERATION Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UNREGISTER_PARTITION_OPERATION Procedure Parameters" summary="This table describes the parameters for DBMS_SYNC_REFRESH.UNREGISTER_PARTITION_OPERATION." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1041791e3051">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1041791e3054">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e3059" headers="d1041791e3051 ">
                                       <p><code class="codeph">partition_op</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e3059 d1041791e3054 ">
                                       <p>The name of the partition operation (<code class="codeph">DROP</code>, <code class="codeph">EXCHANGE</code>, or <code class="codeph">TRUNCATE</code>).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e3076" headers="d1041791e3051 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e3076 d1041791e3054 ">
                                       <p>The name of the schema of the base table.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e3084" headers="d1041791e3051 ">
                                       <p><code class="codeph">base_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e3084 d1041791e3054 ">
                                       <p>The name of the base table.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1041791e3092" headers="d1041791e3051 ">
                                       <p><code class="codeph">partition_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1041791e3092 d1041791e3054 ">
                                       <p>The name of the partition to be changed; either exchanged with the outside partition table or dropped or truncated.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>