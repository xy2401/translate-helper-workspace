<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Configuring Oracle Database Gateway for SQL Server</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Installation and Configuration Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Installation and Configuration Guide for IBM AIX on POWER Systems (64-Bit), Linux x86-64, Oracle Solaris on SPARC (64-Bit), Oracle Solaris on x86-64 (64-Bit), and HP-UX Itanium">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-installation-and-configuration-guide-aix-5l-based-systems-64-bit-hp-ux-itanium-solaris-operating-system-sparc-64-bit-linux-x86-and-linux-x86-64.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T19:11:50-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="F18243-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="install-sqlserver-gateway.html" title="Previous" type="text/html">
      <link rel="next" href="part-odbc-gateway.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64">
    <meta name="dcterms.isVersionOf" content="OTGIS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="install-sqlserver-gateway.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="part-odbc-gateway.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Installation and Configuration Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-sqlserver-gateway.html" property="item" typeof="WebPage"><span property="name">Installing and Configuring Oracle Database Gateway for SQL Server</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Configuring Oracle Database Gateway for SQL Server</li>
            </ol>
            <a id="GUID-1503C3E7-6A58-449D-B6F7-3D95CD4A636F" name="GUID-1503C3E7-6A58-449D-B6F7-3D95CD4A636F"></a><a id="OTGIS900"></a>
            
            <h2 id="OTGIS-GUID-1503C3E7-6A58-449D-B6F7-3D95CD4A636F" class="sect2"><span class="enumeration_chapter">9 </span> Configuring Oracle Database Gateway for SQL Server
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>After installing the gateway, perform the following tasks to configure Oracle Database Gateway for SQL Server:</p>
               <ol>
                  <li>
                     <p><a href="config-sqlserver-gateway.html#GUID-77F52D66-6325-4B24-A69F-99FE10C2DB48">Configure the Gateway Initialization Parameter File</a></p>
                  </li>
                  <li>
                     <p><a href="config-sqlserver-gateway.html#GUID-C7E48634-3FB1-4401-8B54-D1A4BC92B1E5">Configure Oracle Net for the Gateway</a></p>
                  </li>
                  <li>
                     <p><a href="config-sqlserver-gateway.html#GUID-BEA5348F-6CE4-47D4-84A1-CE9537633D76">Configure the Oracle Database for Gateway Access</a></p>
                  </li>
                  <li>
                     <p><a href="config-sqlserver-gateway.html#GUID-80D00A76-CFDA-40EE-82A9-03D0121040BF">Create Database Links</a></p>
                  </li>
                  <li>
                     <p><a href="config-sqlserver-gateway.html#GUID-89C4407C-4AA9-4BD4-A5A5-BE785C46BA2F">Configure Two-Phase Commit</a></p>
                  </li>
                  <li>
                     <p><a href="config-sqlserver-gateway.html#GUID-8DE67926-7533-423C-A24A-C4FED8DFD043">Create SQL Server Views for Data Dictionary Support</a></p>
                  </li>
                  <li>
                     <p><a href="config-sqlserver-gateway.html#GUID-BA3E2194-0464-45AE-9FFA-9B58AF46D44A">Encrypt Gateway Initialization Parameter Values</a></p>
                  </li>
                  <li>
                     <p><a href="config-sqlserver-gateway.html#GUID-B0B3CF32-DFBF-4885-B6E8-95DAB4251EB8">Configure the Gateway to Access Multiple SQL Server Databases</a></p>
                  </li>
               </ol>
            </div><a id="OTGIS1015"></a><div class="props_rev_3"><a id="GUID-77F52D66-6325-4B24-A69F-99FE10C2DB48" name="GUID-77F52D66-6325-4B24-A69F-99FE10C2DB48"></a><h3 id="OTGIS-GUID-77F52D66-6325-4B24-A69F-99FE10C2DB48" class="sect3">Configure the Gateway Initialization Parameter File</h3>
               <div>
                  <div class="section">
                     <p>Perform the following tasks to configure the gateway initialization parameter file.<a id="d24911e108" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-sqlserver-gateway.html#GUID-D0E93DC3-86C1-46E3-A083-DBE7FA77A68B">Choose a System Identifier for the Gateway</a></span></li>
                     <li><span><a href="config-sqlserver-gateway.html#GUID-E2ED307B-B50E-481D-8C3D-EAB0FDB5B912">Customize the Initialization Parameter File</a></span></li>
                  </ol>
               </div><a id="OTGIS1016"></a><div class="props_rev_3"><a id="GUID-D0E93DC3-86C1-46E3-A083-DBE7FA77A68B" name="GUID-D0E93DC3-86C1-46E3-A083-DBE7FA77A68B"></a><h4 id="OTGIS-GUID-D0E93DC3-86C1-46E3-A083-DBE7FA77A68B" class="sect4">Choose a System Identifier for the Gateway</h4>
                  <div>
                     <div class="section">
                        <p>The <a id="d24911e162" class="indexterm-anchor"></a>gateway system identifier <a id="d24911e167" class="indexterm-anchor"></a>(SID) is an alphanumeric character string that identifies a gateway instance. You need one gateway instance, and therefore one gateway SID, for each SQL Server database you are accessing. The SID is used as part of the file name for the initialization parameter file. The default SID is <span class="bold"></span><code class="codeph">dg4msql</code>.
                        </p>
                        <p>You can define a gateway SID, but using the default of dg4msql is easier because you do not need to change the initialization parameter file name. However, if you want to access two SQL Server databases, you need two gateway SIDs, one for each instance of the gateway. If you have only one SQL Server database and want to access it sometimes with one set of gateway parameter settings, and other times with different gateway parameter settings, then you will need multiple gateway SIDs for the single SQL Server database. </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1017"></a><div class="props_rev_3"><a id="GUID-E2ED307B-B50E-481D-8C3D-EAB0FDB5B912" name="GUID-E2ED307B-B50E-481D-8C3D-EAB0FDB5B912"></a><h4 id="OTGIS-GUID-E2ED307B-B50E-481D-8C3D-EAB0FDB5B912" class="sect4">Customize the Initialization Parameter File</h4>
                  <div>
                     <div class="section">
                        <p><a id="d24911e210" class="indexterm-anchor"></a>The initialization parameter file must be available when the gateway is started. During installation, the following default initialization parameter file is created:
                        </p><pre class="oac_no_warn" dir="ltr"><a id="d24911e216" class="indexterm-anchor"></a>$ORACLE_HOME/dg4msql/admin/initdg4msql.ora
</pre><p>where <code class="codeph">$ORACLE_HOME</code> is the directory under which the gateway is installed.
                        </p>
                        <p>This initialization file is for the default gateway SID. If you are not using dg4msql as the gateway SID, you must rename the initialization parameter file using the SID you chose in the preceding step <a href="config-sqlserver-gateway.html#GUID-D0E93DC3-86C1-46E3-A083-DBE7FA77A68B">Choose a System Identifier for the Gateway</a>. This default initialization parameter file is sufficient for starting the gateway, verifying a successful installation, and running the demonstration scripts.
                        </p>
                        <p>A number of initialization parameters can be used to modify the gateway behavior. Refer to <a href="initialization-parameters-for-gateways.html#GUID-82BEBA7B-5B1A-46F6-9ADC-7375C17A9E1F">Initialization Parameters</a> for the complete list of initialization parameters that can be set. Changes made to the initialization parameters only take effect in the next gateway session. The most important parameter is the <code class="codeph">HS_FDS_CONNECT_INFO</code>, which describes the connection to the non-Oracle system. 
                        </p>
                        <p>The default initialization parameter file already has an entry for this parameter. The syntax for <code class="codeph">HS_FDS_CONNECT_INFO</code> is as follows:
                        </p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO=<span class="italic">host_name</span>[[:<span class="italic">port_number</span>]|/[<span class="italic">instance_name</span>]][/<span class="italic">database_name</span>]
</pre><p>where:</p>
                        <div class="tblformal" id="GUID-E2ED307B-B50E-481D-8C3D-EAB0FDB5B912__GUID-D94E6F24-F06B-4361-A470-6594670727CF">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="variable definition" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d24911e268">Variable</th>
                                    <th align="left" valign="bottom" width="76%" id="d24911e271">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d24911e276" headers="d24911e268 ">
                                       <p><span class="italic"><code class="codeph">host_name</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d24911e276 d24911e271 ">
                                       <p>is the host name or IP address of the machine hosting the SQL Server database.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d24911e285" headers="d24911e268 ">
                                       <p><span class="italic"><code class="codeph">port_number</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d24911e285 d24911e271 ">
                                       <p>is the port number of the SQL Server database.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d24911e294" headers="d24911e268 ">
                                       <p><span class="italic"><code class="codeph">instance_name</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d24911e294 d24911e271 ">
                                       <p>is the instance of SQL Server running on the machine.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d24911e303" headers="d24911e268 ">
                                       <p><span class="italic"><code class="codeph">database_name</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d24911e303 d24911e271 ">
                                       <p>is the SQL Server Database database name.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Either of the variables <span class="italic"><code class="codeph">port_number</code></span> or <span class="italic"><code class="codeph">instance_name</code></span> can be used, but not both together. Optionally, they both can be omitted. The variable <span class="italic"><code class="codeph">database_name</code></span> is always optional. The slash (<code class="codeph">/</code>) is required when a particular value is omitted. For example, all of the following entries are valid:
                        </p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO=<span class="italic">host_name</span>/<span class="italic">instance_name</span>/<span class="italic">database_name</span>
HS_FDS_CONNECT_INFO=<span class="italic">host_name</span>//<span class="italic">database_name</span>
HS_FDS_CONNECT_INFO=<span class="italic">host_name</span>:<span class="italic">port_name</span>//<span class="italic">database_name</span>
HS_FDS_CONNECT_INFO=<span class="italic">host_name</span>/<span class="italic">instance_name</span>
HS_FDS_CONNECT_INFO=<span class="italic">host_name</span> 
</pre><p>This release of gateway can support  IPv6. If IPv6 address format is to be specified, you have to wrap it with square brackets to indicate the separation from the port number. For example, </p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO=[2001:0db8:20C:F1FF:FEC6:38AF]:1300//SQL_DB1
</pre><div class="infoboxnotealso" id="GUID-E2ED307B-B50E-481D-8C3D-EAB0FDB5B912__GUID-55CEAF80-BFE7-4AD7-BD58-129C93CD0E32">
                           <p class="notep1">See Also:</p>
                           <p><a href="initialization-parameters-for-gateways.html#GUID-82BEBA7B-5B1A-46F6-9ADC-7375C17A9E1F"> Initialization Parameters</a> and the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=HETER4089" target="_blank"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a> for more information about customizing the initialization parameter file.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OTGIS1018"></a><div class="props_rev_3"><a id="GUID-C7E48634-3FB1-4401-8B54-D1A4BC92B1E5" name="GUID-C7E48634-3FB1-4401-8B54-D1A4BC92B1E5"></a><h3 id="OTGIS-GUID-C7E48634-3FB1-4401-8B54-D1A4BC92B1E5" class="sect3">Configure Oracle Net for the Gateway</h3>
               <div>
                  <div class="section">
                     <p>The gateway requires Oracle Net to communicate with the Oracle database. After configuring the gateway, perform the following tasks to configure Oracle Net to work with the gateway:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-sqlserver-gateway.html#GUID-43B467F1-6778-4F55-9110-C1EC26464212">Configure Oracle Net Listener for the Gateway</a></span></li>
                     <li><span><a href="config-sqlserver-gateway.html#GUID-B938B041-3482-49ED-8D7B-5D8B1EA150F9">Stop and Start the Oracle Net Listener for the Gateway</a></span></li>
                  </ol>
               </div><a id="OTGIS1019"></a><div class="props_rev_3"><a id="GUID-43B467F1-6778-4F55-9110-C1EC26464212" name="GUID-43B467F1-6778-4F55-9110-C1EC26464212"></a><h4 id="OTGIS-GUID-43B467F1-6778-4F55-9110-C1EC26464212" class="sect4">Configure Oracle Net Listener for the Gateway</h4>
                  <div>
                     <div class="section">
                        <p>The Oracle Net Listener listens for incoming requests from the Oracle database. For the Oracle Net Listener to listen for the gateway, information about the gateway must be added to the Oracle Net Listener configuration file, <code class="codeph">listener.ora</code>. This file by default is located in <code class="codeph">$ORACLE_HOME/network/admin</code>, where <code class="codeph">$ORACLE_HOME</code> is the directory under which the gateway is installed.
                        </p>
                        <p>The following entries must be added to the <code class="codeph">listener.ora</code> file:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A list of Oracle Net addresses on which the Oracle Net Listener listens</p>
                           </li>
                           <li>
                              <p>The executable name of the gateway that the Oracle Net Listener starts in response to incoming connection requests</p>
                           </li>
                        </ul>
                        <p>A sample of the <code class="codeph">listener.ora</code> entry (<code class="codeph">listener.ora.sample</code>) is available in the <code class="codeph">$ORACLE_HOME/dg4msql/admin</code> directory where <code class="codeph">$</code><code class="codeph">ORACLE_HOME</code> is the directory under which the gateway is installed.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="OTGIS1020"></a><div class="props_rev_3"><a id="GUID-378D0F0D-EDFA-45B3-9C45-FB2E3BAE8712" name="GUID-378D0F0D-EDFA-45B3-9C45-FB2E3BAE8712"></a><h5 id="OTGIS-GUID-378D0F0D-EDFA-45B3-9C45-FB2E3BAE8712" class="sect5">Syntax of listener.ora File Entries</h5>
                     <div>
                        <p>The Oracle database communicates with the gateway using Oracle Net and any supported protocol adapters. The following is the syntax of the address on which the Oracle Net Listener listens using the TCP/IP protocol adapter:</p><pre class="oac_no_warn" dir="ltr">LISTENER=
        (ADDRESS= 
          (PROTOCOL=TCP)
          (HOST=<span class="italic">host_name</span>)
          (PORT=<span class="italic">port_number</span>))
</pre><p>where:</p>
                        <div class="tblformal" id="GUID-378D0F0D-EDFA-45B3-9C45-FB2E3BAE8712__GUID-E82C428D-92D8-48B9-950E-0FEB23039B4C">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="variable definition" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d24911e557">Variable</th>
                                    <th align="left" valign="bottom" width="75%" id="d24911e560">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d24911e565" headers="d24911e557 ">
                                       <p><span class="italic"><code class="codeph">host_name</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d24911e565 d24911e560 ">
                                       <p>is the name of the machine on which the gateway is installed. IPv6 format is supported with this release. Refer to <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=NETRF008" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a> for detail.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d24911e579" headers="d24911e557 ">
                                       <p><span class="italic"><code class="codeph">port_number</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d24911e579 d24911e560 ">
                                       <p>specifies the port number used by the Oracle Net Listener. If you have other listeners running on the same machine, then the value of <span class="italic">port_number</span> must be different from the other listeners' port numbers.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>To direct the Oracle Net Listener to start the gateway in response to incoming connection requests, add an entry to the <code class="codeph">listener.ora</code> file.
                        </p>
                        <div class="infoboxnote" id="GUID-378D0F0D-EDFA-45B3-9C45-FB2E3BAE8712__GUID-C534DB45-FF0C-4700-9595-147C0644564E">
                           <p class="notep1">Note:</p>
                           <p>You must use the same SID value in the <code class="codeph">listener.ora</code> file and the <code class="codeph">tnsnames.ora</code> file that will be configured in the next step.
                           </p>
                        </div>
                        <p>For Linux when Kerberos authentication will be used:</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER=
 (SID_LIST=
  (SID_DESC=
   (SID_NAME=<span class="italic">gateway_sid</span>)
   (ORACLE_HOME=<span class="italic">oracle_home_directory</span>)
   (ENVS=LD_PRELOAD=<span class="italic">kerberos_system_libs</span>)
   (PROGRAM=dg4msql)
  )
 )</pre><p>For Linux when Kerberos authentication won't be used:</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER=
 (SID_LIST=
  (SID_DESC=
   (SID_NAME=<span class="italic">gateway_sid</span>)
   (ORACLE_HOME=<span class="italic">oracle_home_directory</span>)
   (PROGRAM=dg4msql)
  )
 )</pre><p>For AIX and Solaris SPARC:</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER=
 (SID_LIST=
  (SID_DESC=
   (SID_NAME=<span class="italic">gateway_sid</span>)
   (ORACLE_HOME=<span class="italic">oracle_home_directory</span>)
   (PROGRAM=dg4msql)
  )
 )</pre><p>For HP-UX Itanium:</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER=
   (SID_LIST=
      (SID_DESC= 
         (SID_NAME=<span class="italic">gateway_sid</span>)
         (ORACLE_HOME=<span class="italic">oracle_home_directory</span>)
         (ENVS=LD_LIBRARY_PATH=<span class="italic">oracle_home_directory</span>/dg4msql/driver/lib:<span class="italic">oracle_home_directory</span>/lib)
         (PROGRAM=dg4msql)
      )
   )
</pre><p>Where:</p>
                        <div class="tblformal" id="GUID-378D0F0D-EDFA-45B3-9C45-FB2E3BAE8712__GUID-8580AD53-9750-44BE-BA6B-83F8F9CE820D">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="variable definition" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d24911e664">Variable</th>
                                    <th align="left" valign="bottom" width="75%" id="d24911e667">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d24911e672" headers="d24911e664 ">
                                       <p><span class="italic"><code class="codeph">gateway_sid</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d24911e672 d24911e667 ">
                                       <p>specifies the SID of the gateway and matches the gateway SID specified in the connect descriptor entry in the <code class="codeph">tnsnames.ora </code>file.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d24911e684" headers="d24911e664 ">
                                       <p><span class="italic"><code class="codeph">oracle_home_directory</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d24911e684 d24911e667 ">
                                       <p>specifies the Oracle home directory where the gateway resides.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d24911e693" headers="d24911e664 ">
                                       <p><code class="codeph">dg4msql</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d24911e693 d24911e667 ">
                                       <p>specifies the executable name of the Oracle Database Gateway for SQL Server.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d24911e701" headers="d24911e664 ">
                                       <p><code class="codeph"><span class="codeinlineitalic">kerberos_system_libs</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d24911e701 d24911e667 ">
                                       <p>The path of the system provided Kerberos implementation. For example: <code class="codeph">libgssapi_krb5.so.X.Y</code>, <code class="codeph">libkrb5.so.X</code>, <code class="codeph">libk5crypto.so.X</code>, <code class="codeph">libkrb5support.so.X</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>If you already have an existing Oracle Net Listener, then add the following syntax to <code class="codeph">SID_LIST</code> in the existing <code class="codeph">listener.ora</code> file:
                        </p>
                        <p>For AIX, Solaris SPARC, and Linux:</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER=
(SID_LIST= 
   (SID_DESC=.
     .
   )
   (SID_DESC=.
     .
   )
   (SID_DESC=
      (SID_NAME=<span class="italic">gateway_sid</span>)
      (ORACLE_HOME=<span class="italic">oracle_home_directory</span>)
      (PROGRAM=dg4msql)
   )
)
</pre><p>For HP-UX Itanium:</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER=
(SID_LIST= 
   (SID_DESC=.
     .
   )
   (SID_DESC=.
     .
   )
   (SID_DESC=
      (SID_NAME=<span class="italic">gateway_sid</span>)
      (ORACLE_HOME=<span class="italic">oracle_home_directory</span>)
      (ENVS=LD_LIBRARY_PATH=<span class="italic">oracle_home_directory</span>/dg4msql/driver/lib:<span class="italic">oracle_home_directory</span>/lib)
      (PROGRAM=dg4msql)
   )
)</pre><div class="infoboxnotealso" id="GUID-378D0F0D-EDFA-45B3-9C45-FB2E3BAE8712__GUID-D6A38499-609D-4665-92CD-9E60169F15F1">
                           <p class="notep1">See Also:</p>
                           <p><span class="italic">Oracle Net Administrator's Guide</span> for information about changing the <code class="codeph">listener.ora</code> file.
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="OTGIS1220"></a><a id="OTGIS1021"></a><div class="props_rev_3"><a id="GUID-B938B041-3482-49ED-8D7B-5D8B1EA150F9" name="GUID-B938B041-3482-49ED-8D7B-5D8B1EA150F9"></a><h4 id="OTGIS-GUID-B938B041-3482-49ED-8D7B-5D8B1EA150F9" class="sect4">Stop and Start the Oracle Net Listener for the Gateway</h4>
                  <div>
                     <div class="section">
                        <p>You must stop and restart the Oracle Net Listener to initiate the new settings, as follows:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Set the PATH environment variable to <code class="codeph">$ORACLE_HOME/bin</code> where <code class="codeph">$ORACLE_HOME</code> is the directory in which the gateway is installed. </span><div>
                              <p>For example on the Linux platform, if you have the Bourne or Korn Shell, enter the following:</p><pre class="oac_no_warn" dir="ltr">$ PATH=$ORACLE_HOME/bin:$PATH;export PATH
$ LD_LIBRARY_PATH=$ORACLE_HOME/lib:$LD_LIBRARY_PATH; export LD_LIBRARY_PATH
</pre><p>If you have the C Shell, enter the following:</p><pre class="oac_no_warn" dir="ltr">$ setenv PATH $ORACLE_HOME/bin:$PATH
$ setenv LD_LIBRARY_PATH $ORACLE_HOME/lib:$LD_LIBRARY_PATH
</pre><p><a href="config-sqlserver-gateway.html#GUID-B938B041-3482-49ED-8D7B-5D8B1EA150F9__CHDHDICB" title="summary">Table 9-1</a> specifies which parameter value to use for the different platforms:
                              </p>
                              <div class="tblformal" id="GUID-B938B041-3482-49ED-8D7B-5D8B1EA150F9__CHDHDICB">
                                 <p class="titleintable">Table 9-1 Oracle Database Gateway for SQL Server Parameter Values for UNIX Based Platforms</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle Database Gateway for SQL Server Parameter Values for UNIX Based Platforms" summary="summary" width="90%" frame="hsides" border="1" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="39%" id="d24911e834">Platform</th>
                                          <th align="left" valign="bottom" width="61%" id="d24911e837">Parameter Value</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d24911e842" headers="d24911e834 ">
                                             <p>Oracle Solaris (SPARC) 64 bit and Oracle Solaris on x86-64 (64-Bit)</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d24911e842 d24911e837 ">
                                             <p><code class="codeph">LD_LIBRARY_PATH_64=$ORACLE_HOME/lib</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d24911e850" headers="d24911e834 ">
                                             <p>HP-UX Itanium</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d24911e850 d24911e837 ">
                                             <p><code class="codeph">LD_LIBRARY_PATH=$ORACLE_HOME/lib</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d24911e858" headers="d24911e834 ">
                                             <p>Linux x86 64 bit</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d24911e858 d24911e837 ">
                                             <p><code class="codeph">LD_LIBRARY_PATH=$ORACLE_HOME/lib</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d24911e866" headers="d24911e834 ">
                                             <p>IBM AIX on POWER Systems (64-Bit)</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d24911e866 d24911e837 ">
                                             <p><code class="codeph">LIBPATH=$ORACLE_HOME/lib</code></p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>If the listener is already running, use the <code class="codeph">lsnrctl</code> command to stop the listener and then start it with the new settings, as follows:</span><div><pre class="oac_no_warn" dir="ltr">$ lsnrctl stop
$ lsnrctl start
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Check the status of the listener with the new settings, as follows:</span><div><pre class="oac_no_warn" dir="ltr">$ lsnrctl status
</pre><p>The following is a partial output from a <code class="codeph">lsnrctl</code> status check:
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">.
.
.
Services Summary...
Service "dg4msql" has 1 instance(s).
  Instance "dg4msql", status UNKNOWN, has 1 handler(s) for this service...
The command completed successfully
</pre><p>In this example, the service name is  <code class="codeph">dg4msql</code>, which is the default SID value assigned during installation.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OTGIS1022"></a><div class="props_rev_3"><a id="GUID-BEA5348F-6CE4-47D4-84A1-CE9537633D76" name="GUID-BEA5348F-6CE4-47D4-84A1-CE9537633D76"></a><h3 id="OTGIS-GUID-BEA5348F-6CE4-47D4-84A1-CE9537633D76" class="sect3">Configure the Oracle Database for Gateway Access</h3>
               <div>
                  <p>Before you use the gateway to access SQL Server data you must configure the Oracle database to enable communication with the gateway over Oracle Net.</p>
                  <p>To configure the Oracle database you must add connect descriptors to the <code class="codeph">tnsnames.ora</code> file. By default, this file is in <code class="codeph">$ORACLE_HOME/network/admin</code>, where <code class="codeph">$ORACLE_HOME</code> is the directory in which the Oracle database is installed. You cannot use the Oracle Net Assistant or the Oracle Net Easy Config tools to configure the <code class="codeph">tnsnames.ora</code> file. You must edit the file manually.
                  </p>
                  <p>A sample of the <code class="codeph">tnsnames.ora</code> entry (<code class="codeph">tnsnames.ora.sample</code>) is available in the <code class="codeph">$ORACLE_HOME/dg4msql/admin</code> directory where <code class="codeph">$</code><code class="codeph">ORACLE_HOME</code> is the directory under which the gateway is installed.
                  </p>
               </div><a id="OTGIS1023"></a><div class="props_rev_3"><a id="GUID-03832FB9-79F2-431C-9C59-E082FA3D7F2D" name="GUID-03832FB9-79F2-431C-9C59-E082FA3D7F2D"></a><h4 id="OTGIS-GUID-03832FB9-79F2-431C-9C59-E082FA3D7F2D" class="sect4">Configuring tnsnames.ora </h4>
                  <div>
                     <div class="section">
                        <p>Edit the <code class="codeph">tnsnames.ora</code> file to add a connect descriptor for the gateway. The following is the syntax of the Oracle Net entry using the TCP/IP protocol:
                        </p><pre class="oac_no_warn" dir="ltr"><span class="italic">connect_descriptor</span>=
   (DESCRIPTION=
      (ADDRESS=
         (PROTOCOL=TCP)
         (HOST=<span class="italic">host_name</span>)
         (PORT=<span class="italic">port_number</span>)
      )
      (CONNECT_DATA=
         (SID=<span class="italic">gateway_sid</span>))
      (HS=OK))
</pre><p>Where:</p>
                        <div class="tblformal" id="GUID-03832FB9-79F2-431C-9C59-E082FA3D7F2D__GUID-B23B5C11-DD5B-490C-AC78-54D131A109DA">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="variable definition" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d24911e1027">Variable</th>
                                    <th align="left" valign="bottom" width="75%" id="d24911e1030">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d24911e1035" headers="d24911e1027 ">
                                       <p><span class="italic"><code class="codeph">connect_descriptor</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d24911e1035 d24911e1030 ">
                                       <p>is the description of the object to connect to as specified when creating the database link, such as dg4msql. </p>
                                       <p>Check the sqlnet.ora<span class="bold"> </span>file for the following parameter setting:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">names.directory_path = (TNSNAMES)</code></p>
                                          </li>
                                       </ul>
                                       <p><span class="bold">Note</span>: The sqlnet.ora file is typically stored in <code class="codeph">$ORACLE_HOME/network/admin</code>. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d24911e1061" headers="d24911e1027 ">
                                       <p><code class="codeph">TCP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d24911e1061 d24911e1030 ">
                                       <p>is the TCP protocol used for TCP/IP connections.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d24911e1069" headers="d24911e1027 ">
                                       <p><span class="italic"><code class="codeph">host_name</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d24911e1069 d24911e1030 ">
                                       <p>specifies the machine where the gateway is running.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d24911e1078" headers="d24911e1027 ">
                                       <p><span class="italic"><code class="codeph">port_number</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d24911e1078 d24911e1030 ">
                                       <p>matches the port number used by the Oracle Net Listener that is listening for the gateway. The Oracle Net Listener's port number can be found in the <code class="codeph">listener.ora</code> file used by the Oracle Net Listener. See <a href="config-sqlserver-gateway.html#GUID-378D0F0D-EDFA-45B3-9C45-FB2E3BAE8712">Syntax of listener.ora File Entries</a>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d24911e1094" headers="d24911e1027 ">
                                       <p><span class="italic"><code class="codeph">gateway_sid</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d24911e1094 d24911e1030 ">
                                       <p>specifies the SID of the gateway and matches the SID specified in the <code class="codeph">listener.ora</code> file of the Oracle Net Listener that is listening for the gateway. See <a href="config-sqlserver-gateway.html#GUID-43B467F1-6778-4F55-9110-C1EC26464212">Configure Oracle Net Listener for the Gateway</a> for more information.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d24911e1110" headers="d24911e1027 ">
                                       <p><code class="codeph">(HS=OK)</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d24911e1110 d24911e1030 ">
                                       <p>specifies that this connect descriptor connects to a non-Oracle system.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-03832FB9-79F2-431C-9C59-E082FA3D7F2D__GUID-7AAD7871-2E60-4305-BFA7-573735EF501C">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=NETAG256" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for information about editing the <code class="codeph">tnsnames.ora</code> file.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1280"></a><div class="props_rev_3"><a id="GUID-660EF702-E5A5-420B-9B10-16C7091DD08D" name="GUID-660EF702-E5A5-420B-9B10-16C7091DD08D"></a><h4 id="OTGIS-GUID-660EF702-E5A5-420B-9B10-16C7091DD08D" class="sect4">Configuring tnsnames.ora for Multiple Listeners</h4>
                  <div>
                     <div class="section">
                        <p>To ensure higher availability, you can specify multiple <a id="d24911e1175" class="indexterm-anchor"></a>listeners within the connect de<a id="d24911e1178" class="indexterm-anchor"></a>scriptor.
                        </p><pre class="oac_no_warn" dir="ltr"> <a id="d24911e1183" class="indexterm-anchor"></a><span class="italic">connect_descriptor</span>=
    (DESCRIPTION=
       (ADDRESS=
          (PROTOCOL=TCP)
          (HOST=<span class="italic">host_name_1</span>)
          (PORT=<span class="italic">port_number_1</span>)
       )
       (ADDRESS=
          (PROTOCOL=TCP)
          (HOST=<span class="italic">host_name_2</span>)
          (PORT=<span class="italic">port_number_2</span>)
       )
       (CONNECT_DATA=
          (SID=<span class="italic">gateway_sid</span>))
       (HS=OK))
</pre><p>This indicates that, if the listener for  <span class="italic"><code class="codeph">host_name_1</code></span> and <span class="italic"><code class="codeph">port_number_1</code></span> is not available, then the second listener for <span class="italic"><code class="codeph">host_name_2</code></span> and <span class="italic"><code class="codeph">port_number_2</code></span>  will take over.
                        </p>
                        <div class="infoboxnotealso" id="GUID-660EF702-E5A5-420B-9B10-16C7091DD08D__GUID-93E9432F-A52D-464F-B3AC-D57C3F42040D">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=NETAG256" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for information about editing the <code class="codeph">tnsnames.ora</code> file.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OTGIS1024"></a><div class="props_rev_3"><a id="GUID-80D00A76-CFDA-40EE-82A9-03D0121040BF" name="GUID-80D00A76-CFDA-40EE-82A9-03D0121040BF"></a><h3 id="OTGIS-GUID-80D00A76-CFDA-40EE-82A9-03D0121040BF" class="sect3">Create Database Links</h3>
               <div>
                  <div class="section">
                     <p>Any Oracle client connected to the Oracle database can access SQL Server data through the gateway. The Oracle client and the Oracle database can reside on different machines. The gateway accepts connections only from the Oracle database.</p>
                     <p>A connection to the gateway is established through a database link when it is first used in an Oracle session. In this context, a connection refers to the connection between the Oracle database and the gateway. The connection remains established until the Oracle session ends. Another session or user can access the same database link and get a distinct connection to the gateway and SQL Server database.</p>
                     <p>Database links are active for the duration of a gateway session. If you want to close a database link during a session, you can do so with the <code class="codeph">ALTER SESSION </code>statement.
                     </p>
                     <p>To access the SQL Server, you must create a database link. A public database link is the most common of database links.</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK <span class="italic">dblink</span> CONNECT TO
2  "<span class="italic">user"</span> IDENTIFIED BY <span class="italic">"password"</span> USING <span class="italic">'tns_name_entry</span>';
</pre><p>where:</p>
                     <div class="tblformal" id="GUID-80D00A76-CFDA-40EE-82A9-03D0121040BF__GUID-F29FEBE9-AB0D-4F66-BA1C-4E265FB2FD12">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="variable definition" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d24911e1307">Variable</th>
                                 <th align="left" valign="bottom" width="75%" id="d24911e1310">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d24911e1315" headers="d24911e1307 ">
                                    <p><span class="italic"><code class="codeph">dblink</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d24911e1315 d24911e1310 ">
                                    <p>is the complete database link name.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d24911e1324" headers="d24911e1307 ">
                                    <p><span class="italic"><code class="codeph">tns_name_entry</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d24911e1324 d24911e1310 ">
                                    <p>specifies the Oracle Net connect descriptor specified in the <code class="codeph">tnsnames.ora</code> file that identifies the gateway
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>After the database link is created you can verify the connection to the SQL Server database, as follows:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM DUAL@dblink;
</pre><div class="infoboxnotealso" id="GUID-80D00A76-CFDA-40EE-82A9-03D0121040BF__GUID-B5E67B05-7811-478F-8CAC-C6B136D22533">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=ADMIN12083" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for more information about using database links.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OTGIS1025"></a><div class="props_rev_3"><a id="GUID-89C4407C-4AA9-4BD4-A5A5-BE785C46BA2F" name="GUID-89C4407C-4AA9-4BD4-A5A5-BE785C46BA2F"></a><h3 id="OTGIS-GUID-89C4407C-4AA9-4BD4-A5A5-BE785C46BA2F" class="sect3">Configure Two-Phase Commit</h3>
               <div>
                  <div class="section">
                     <p><a id="d24911e1381" class="indexterm-anchor"></a>The gateway supports the following transaction capabilities:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">COMMIT_CONFIRM</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">READ_ONLY</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SINGLE_SITE</code></p>
                        </li>
                     </ul>
                     <p>The transaction model is set using the <code class="codeph">HS_TRANSACTION_MODEL</code> initialization parameter. <a id="d24911e1405" class="indexterm-anchor"></a><a id="d24911e1409" class="indexterm-anchor"></a>By default, the gateway runs in <code class="codeph">COMMIT_CONFIRM</code> transaction mode. When the SQL Server database is updated by a transaction, the gateway becomes the commit point site. The Oracle database commits the unit of work in the SQL Server database after verifying that all Oracle databases in the transaction have successfully prepared the transaction. Only one gateway instance can participate in an Oracle two-phase commit transaction as the commit point site. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-89C4407C-4AA9-4BD4-A5A5-BE785C46BA2F__GUID-EAB03D71-6339-4082-A1F4-80F0482299AE">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=HETER4068" target="_blank"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a> for information about the two-phase commit process.
                        </p>
                     </div>
                     <p>To enable the <code class="codeph">COMMIT_CONFIRM</code> transaction mode, perform the following tasks:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-sqlserver-gateway.html#GUID-58EED2A0-97C9-41DB-8583-391CEB717B6C">Create a Recovery Account and Password</a></span></li>
                     <li><span><a href="config-sqlserver-gateway.html#GUID-FD61F5C4-2FC3-40F0-9E84-397A75C65EF9">Create the Transaction Log Table</a></span></li>
                  </ol>
                  <div class="section">
                     <p>The log table, called <code class="codeph">HS_TRANSACTION_LOG</code>, is where two-phase commit transactions are recorded. Alternatively users can specify a different table name by setting a gateway initialization parameter <code class="codeph">HS_FDS_TRANSACTION_LOG</code> parameter. This table needs to be in the same schema as the recovery account.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div><a id="OTGIS1026"></a><div class="props_rev_3"><a id="GUID-58EED2A0-97C9-41DB-8583-391CEB717B6C" name="GUID-58EED2A0-97C9-41DB-8583-391CEB717B6C"></a><h4 id="OTGIS-GUID-58EED2A0-97C9-41DB-8583-391CEB717B6C" class="sect4">Create a Recovery Account and Password</h4>
                  <div>
                     <div class="section">
                        <p>For the gateway to recover distributed transactions, a <a id="d24911e1484" class="indexterm-anchor"></a>recovery account and password must be set up in the SQL Server database. By default, both the <a id="d24911e1489" class="indexterm-anchor"></a>user name of the account and the password are <code class="codeph">RECOVER</code>. The name of the account can be changed with the gateway initialization parameter <code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code>. The account password can be changed with the gateway initialization parameter <code class="codeph">HS_FDS_RECOVERY_PWD</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-58EED2A0-97C9-41DB-8583-391CEB717B6C__GUID-587E5AFB-6D7C-4D18-9EE5-DA81FEF54231">
                           <p class="notep1">Note:</p>
                           <p>Oracle recommends that you do not use the default value <code class="codeph">RECOVER</code> for the user name and password. Moreover, storing plain-text as user name and password in the initialization file is not a good security policy. There is now a utility called <code class="codeph">dg4pwd</code> that should be used for encryption. Refer to <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=HETER4010" target="_blank">Section 4.2.3, 'Encrypting Initialization parameters'</a> in the <span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span> for further details.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Set up a user account in the SQL Server database. Both the user name and password must be a valid SQL Server user name and password.</span></li>
                        <li class="stepexpand"><span>In the initialization parameter file, set the following gateway initialization parameters:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code> to the user name of the SQL Server user account you set up for recovery.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">HS_FDS_RECOVERY_PWD</code> to the password of the SQL Server user account you set up for recovery.
                                    </p>
                                    <div class="infoboxnotealso" id="GUID-58EED2A0-97C9-41DB-8583-391CEB717B6C__GUID-4135B22D-D651-48CC-B0F1-3E40EBD09E89">
                                       <p class="notep1">See Also:</p>
                                       <p><a href="config-sqlserver-gateway.html#GUID-E2ED307B-B50E-481D-8C3D-EAB0FDB5B912">Customize the Initialization Parameter File</a> for information about editing the initialization parameter file. For information about <code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code> and <code class="codeph">HS_FDS_RECOVERY_PWD</code>, see <a href="initialization-parameters-for-gateways.html#GUID-82BEBA7B-5B1A-46F6-9ADC-7375C17A9E1F"> Initialization Parameters</a>.
                                       </p>
                                    </div>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="OTGIS1027"></a><div class="props_rev_3"><a id="GUID-FD61F5C4-2FC3-40F0-9E84-397A75C65EF9" name="GUID-FD61F5C4-2FC3-40F0-9E84-397A75C65EF9"></a><h4 id="OTGIS-GUID-FD61F5C4-2FC3-40F0-9E84-397A75C65EF9" class="sect4">Create the Transaction Log Table</h4>
                  <div>
                     <div class="section">
                        <p>When configuring the gateway for two-phase commit, a <a id="d24911e1601" class="indexterm-anchor"></a>table must be created in the SQL Server database for logging transactions. The gateway uses the transaction log table to check the status of failed transactions that were started at the SQL Server database by the gateway and registered in the table. 
                        </p>
                        <div class="infoboxnote" id="GUID-FD61F5C4-2FC3-40F0-9E84-397A75C65EF9__GUID-E59EB236-A9A7-4257-AA71-5ACA07A3794A">
                           <p class="notep1">Note:</p>
                           <p>Updates to the transaction log table cannot be part of an Oracle distributed transaction.</p>
                        </div>
                        <div class="infoboxnote" id="GUID-FD61F5C4-2FC3-40F0-9E84-397A75C65EF9__GUID-A4DD2C4A-8C60-45CC-9EC9-DA158FAA8516">
                           <p class="notep1">Note:</p>
                           <p>The information in the transaction log table is required by the recovery process and<span class="italic"> </span>must not be altered. The table<span class="italic"> </span>must be used, accessed, or updated only by the gateway.
                           </p>
                        </div>
                        <p>The table, called <code class="codeph">HS_TRANSACTION_LOG</code>, consists of two columns, <code class="codeph">GLOBAL_TRAN_ID</code>, data type<code class="codeph"> CHAR(64) NOT NULL</code> and <code class="codeph">TRAN_COMMENT</code>, data type <code class="codeph">CHAR(255)</code>.
                        </p>
                        <p>You can use another name for the log table, other than <code class="codeph">HS_TRANSACTION_LOG</code>, by specifying the other name using the <code class="codeph">HS_FDS_TRANSACTION_LOG</code> initialization parameter.
                        </p>
                        <div class="infoboxnotealso" id="GUID-FD61F5C4-2FC3-40F0-9E84-397A75C65EF9__GUID-BC777F62-A867-45E6-9603-6727E584E582">
                           <p class="notep1">See Also:</p>
                           <p><a href="initialization-parameters-for-gateways.html#GUID-82BEBA7B-5B1A-46F6-9ADC-7375C17A9E1F"> Initialization Parameters</a> for information about the <code class="codeph">HS_FDS_TRANSACTION_LOG</code> initialization parameter.
                           </p>
                        </div>
                        <p>Create the transaction log table in the user account you created in <a href="config-sqlserver-gateway.html#GUID-58EED2A0-97C9-41DB-8583-391CEB717B6C">Create a Recovery Account and Password</a>. Because the transaction log table is used to record the status of a gateway transaction, the table must reside at the database where the SQL Server update takes place. Also, the transaction log table must be created under the owner of the recovery account.
                        </p>
                        <div class="infoboxnote" id="GUID-FD61F5C4-2FC3-40F0-9E84-397A75C65EF9__GUID-906079BB-077B-45C2-B6EB-6E4B01F58CF4">
                           <p class="notep1">Note:</p>
                           <p>To utilize the transaction log table, users of the gateway must be granted privileges on the table.</p>
                        </div>
                        <p>To create a transaction log table use the <code class="codeph">dg4msql_tx.sql</code> script, located in the directory <code class="codeph">$ORACLE_HOME/dg4msql/admin</code> where <code class="codeph">$ORACLE_HOME</code> is the directory under which the gateway is installed. Use isql to execute the script, as follows:
                        </p><pre class="oac_no_warn" dir="ltr">$ isql -Urecovery_account -Precovery_account_password [-Sserver] -idg4msql_tx.sql
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OTGIS1028"></a><div class="props_rev_3"><a id="GUID-8DE67926-7533-423C-A24A-C4FED8DFD043" name="GUID-8DE67926-7533-423C-A24A-C4FED8DFD043"></a><h3 id="OTGIS-GUID-8DE67926-7533-423C-A24A-C4FED8DFD043" class="sect3">Create SQL Server Views for Data Dictionary Support</h3>
               <div>
                  <div class="section">
                     <p>To enable Oracle data dictionary translation support use the <code class="codeph">dg4msql_cvw.sql</code> script, located in the directory <code class="codeph">$ORACLE_HOME/dg4msql/admin</code> where <code class="codeph">$ORACLE_HOME</code> is the directory under which the gateway is installed. You must run this script on each SQL Server database that you want to access through the gateway. Use isql to execute the script, as follows:
                     </p><pre class="oac_no_warn" dir="ltr">$ isql -Usa_user -Psa_pwd [-Sserver] [-ddatabase] -e -i dg4msql_cvw.sql
</pre><p> where sa_user and sa_pwd  are the SQL Server system administrator user ID and password respectively.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OTGIS1029"></a><div class="props_rev_3"><a id="GUID-BA3E2194-0464-45AE-9FFA-9B58AF46D44A" name="GUID-BA3E2194-0464-45AE-9FFA-9B58AF46D44A"></a><h3 id="OTGIS-GUID-BA3E2194-0464-45AE-9FFA-9B58AF46D44A" class="sect3">Encrypt Gateway Initialization Parameter Values</h3>
               <div>
                  <div class="section">
                     <p>The gateway uses user IDs and passwords to access the information in the remote database. Some user IDs and passwords must be defined in the gateway initialization file to handle functions such as resource recovery. In the current security conscious environment, having plain-text passwords that are accessible in the initialization file is deemed insecure. The <code class="codeph">dg4pwd</code> encryption utility has been added as part of Heterogeneous Services to help make this more secure. This utility is accessible by this gateway. The initialization parameters that contain sensitive values can be stored in an encrypted form.
                     </p>
                     <div class="infoboxnotealso" id="GUID-BA3E2194-0464-45AE-9FFA-9B58AF46D44A__GUID-011E35C2-F134-4B96-BDDE-B31972487BA2">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=HETER4010" target="_blank"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a> for more information about using this utility.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OTGIS1030"></a><div class="props_rev_3"><a id="GUID-B0B3CF32-DFBF-4885-B6E8-95DAB4251EB8" name="GUID-B0B3CF32-DFBF-4885-B6E8-95DAB4251EB8"></a><h3 id="OTGIS-GUID-B0B3CF32-DFBF-4885-B6E8-95DAB4251EB8" class="sect3">Configure the Gateway to Access Multiple SQL Server Databases</h3>
               <div>
                  <p>The tasks for configuring the gateway to access multiple SQL Server databases are similar to the tasks for configuring the gateway for a single database. The configuration example assumes the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The gateway is installed and configured with the default SID of <code class="codeph">dg4msql</code></p>
                     </li>
                     <li>
                        <p>The <code class="codeph">ORACLE_HOME</code> environment variable is set to the directory where the gateway is installed 
                        </p>
                     </li>
                     <li>
                        <p>The gateway is configured for one SQL Server database named <code class="codeph">db1</code></p>
                     </li>
                     <li>
                        <p>Two SQL Server databases named <code class="codeph">db2</code> and <code class="codeph">db3</code> on a host with IP Address 204.179.79.15 are being added
                        </p>
                     </li>
                  </ul>
               </div><a id="OTGIS1221"></a><a id="OTGIS1222"></a><a id="OTGIS1031"></a><div class="props_rev_3"><a id="GUID-DA1A8810-E30C-4B43-9251-DEDE19838BAA" name="GUID-DA1A8810-E30C-4B43-9251-DEDE19838BAA"></a><h4 id="OTGIS-GUID-DA1A8810-E30C-4B43-9251-DEDE19838BAA" class="sect4">Multiple SQL Server Databases Example: Configuring the Gateway</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-DA1A8810-E30C-4B43-9251-DEDE19838BAA__GUID-0B5A1C3D-F22D-4D51-854B-56AFF369D390">Choose One System ID for Each SQL Server Database </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>A separate instance of the gateway is needed for each SQL Server database. Each instance needs its own gateway System ID (SID). For this example, the gateway SIDs are chosen for the instances that access the SQL Server databases:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">dg4msql2</code><span class="bold"> </span>for the gateway accessing database <code class="codeph">db2</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">dg4msql3</code> for the gateway accessing database <code class="codeph">db3</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DA1A8810-E30C-4B43-9251-DEDE19838BAA__GUID-A884BB1E-E4FC-4096-BF89-304476E0A3C8">Create Two Initialization Parameter Files</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Create an initialization parameter file for each instance of the gateway by copying the original initialization parameter file, <code class="codeph">$ORACLE_HOME/dg4msql/admin/initdg4msql.ora</code>, twice, naming one with the gateway SID for <code class="codeph">db2</code> and the other with the gateway SID for <code class="codeph">db3</code>: 
                        </p><pre class="oac_no_warn" dir="ltr">$ cd $ORACLE_HOME/dg4msql/admin
$ cp initdg4msql.ora initdg4msql2.ora
$ cp initdg4msql.ora initdg4msql3.ora
</pre><p>Change the value of the <code class="codeph">HS_FDS_CONNECT_INFO</code> parameter in the new files.
                        </p>
                        <p>For <code class="codeph">init</code><code class="codeph">dg4msql</code><code class="codeph">2.ora</code>, enter the following:
                        </p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO=204.179.79.15:1433//db2
</pre><p>For <code class="codeph">init</code><code class="codeph">dg4msql</code><code class="codeph">3.ora</code>, enter the following:
                        </p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO=204.179.79.15:1433//db3
</pre><div class="infoboxnote" id="GUID-DA1A8810-E30C-4B43-9251-DEDE19838BAA__GUID-B64E633F-9C8D-4DE0-BD84-81CEA0F2A756">
                           <p class="notep1">Note:</p>
                           <p>If you have multiple gateway SIDs for the same SQL Server database because you want to use different gateway parameter settings at different times, follow the same procedure. You create several initialization parameter files, each with different SIDs and different parameter settings.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1223"></a><a id="OTGIS1032"></a><div class="props_rev_3"><a id="GUID-72F32D3E-801C-4BD8-BDE3-18B54F8695A8" name="GUID-72F32D3E-801C-4BD8-BDE3-18B54F8695A8"></a><h4 id="OTGIS-GUID-72F32D3E-801C-4BD8-BDE3-18B54F8695A8" class="sect4">Multiple SQL Server Databases Example: Configuring Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-72F32D3E-801C-4BD8-BDE3-18B54F8695A8__GUID-2879B0B1-436A-4118-938D-65543CDA650B">Add Entries to listener.ora</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Add two new entries to the Oracle Net Listener configuration file,<span class="bold"> </span><code class="codeph">listener.ora</code>. You must have an entry for each gateway instance, even when multiple gateway instances access the same database.
                        </p>
                        <p>The following example shows the entry for the original installed gateway first, followed by the new entries:</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER=
(SID_LIST=
   (SID_DESC=
      (SID_NAME=dg4msql)
      (ORACLE_HOME=<span class="italic">oracle_home_directory</span>)
      (PROGRAM=dg4msql)
   )
   (SID_DESC=
      (SID_NAME=dg4msql2)
      (ORACLE_HOME=<span class="italic">oracle_home_directory</span>)
      (PROGRAM=dg4msql)
   )
   (SID_DESC=
      (SID_NAME=dg4msql3)
      (ORACLE_HOME=<span class="italic">oracle_home_directory</span>)
      (PROGRAM=dg4msql)
   )
)
</pre><p>where, <code class="codeph">oracle_home_directory</code> is the directory where the gateway resides.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1033"></a><div class="props_rev_3"><a id="GUID-56AC12D9-AC70-43F6-9D96-4AA757BC18DF" name="GUID-56AC12D9-AC70-43F6-9D96-4AA757BC18DF"></a><h4 id="OTGIS-GUID-56AC12D9-AC70-43F6-9D96-4AA757BC18DF" class="sect4">Multiple SQL Server Databases Example: Stopping and Starting the Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>If the listener is already running, use the <code class="codeph">lsnrctl</code> command to stop the listener and then start it with the new settings, as follows:
                        </p><pre class="oac_no_warn" dir="ltr">$ lsnrctl stop
$ lsnrctl start</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1034"></a><div class="props_rev_3"><a id="GUID-746F76C5-9704-4D73-B145-8838EF48C837" name="GUID-746F76C5-9704-4D73-B145-8838EF48C837"></a><h4 id="OTGIS-GUID-746F76C5-9704-4D73-B145-8838EF48C837" class="sect4">Multiple SQL Server Databases Example: Configuring Oracle Database for Gateway Access</h4>
                  <div>
                     <div class="section">
                        <p>Example:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="config-sqlserver-gateway.html#GUID-929CD69E-4CF1-4BAC-9827-63EA2A7EDA42">Configuring Oracle Net for Multiple Gateway Instances</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="OTGIS1035"></a><div class="props_rev_3"><a id="GUID-929CD69E-4CF1-4BAC-9827-63EA2A7EDA42" name="GUID-929CD69E-4CF1-4BAC-9827-63EA2A7EDA42"></a><h5 id="OTGIS-GUID-929CD69E-4CF1-4BAC-9827-63EA2A7EDA42" class="sect5">Configuring Oracle Net for Multiple Gateway Instances</h5>
                     <div>
                        <div class="section">
                           <p>Add two connect descriptor entries to the <code class="codeph">tnsnames.ora</code> file. You must have an entry for each gateway instance, even if the gateway instances access the same database.
                           </p>
                           <p>The following SQL Server example shows the entry for the original installed gateway first, followed by the two entries for the new gateway instances:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">old_db_using</span>=(DESCRIPTION=
              (ADDRESS=
                (PROTOCOL=TCP)
                (PORT=port_number)
                (HOST=host_name))
                (CONNECT_DATA=
                    (SID=dg4msql))
               (HS=OK))
<span class="italic">new_db2_using</span>=(DESCRIPTION=
              (ADDRESS=
                (PROTOCOL=TCP)
                (PORT=port_number)
                (HOST=host_name))
                (CONNECT_DATA=
                    (SID=dg4msql2))
                (HS=OK))
<span class="italic">new_db3_using</span>=(DESCRIPTION=
              (ADDRESS=
                (PROTOCOL=TCP)
                (PORT=port_number)
                (HOST=host_name))
                (CONNECT_DATA=
                    (SID=dg4msql3))
                (HS=OK)) 
</pre><p>The value for <code class="codeph">PORT</code> is the TCP/IP port number of the Oracle Net Listener that is listening for the gateway. The number can be found in the <code class="codeph">listener.ora</code> file used by the Oracle Net Listener. The value for <code class="codeph">HOST</code> is the name of the machine on which the gateway is running. The name also can be found in the <code class="codeph">listener.ora</code> file used by the Oracle Net Listener.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="OTGIS1036"></a><div class="props_rev_3"><a id="GUID-DB989135-CEE5-449D-8D46-404673A7C4C1" name="GUID-DB989135-CEE5-449D-8D46-404673A7C4C1"></a><h4 id="OTGIS-GUID-DB989135-CEE5-449D-8D46-404673A7C4C1" class="sect4">Multiple SQL Server Databases Example: Accessing SQL Server Data</h4>
                  <div>
                     <div class="section">
                        <p>Enter the following to create a database link for the <code class="codeph">dg4msql2</code> gateway:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK MSQL2 CONNECT TO
  2  "<span class="italic">user2"</span> IDENTIFIED BY <span class="italic">"password2"</span> USING 'new_db2_using';
</pre><p>Enter the following to create a database link for the <code class="codeph">dg4msql3</code> gateway:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK MSQL3 CONNECT TO
  2  "<span class="italic">user3</span>" IDENTIFIED BY <span class="italic">"password3"</span> USING 'new_db3_using';
</pre><p>After the database links are created, you can verify the connection to the new SQL Server databases, as in the following:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM ALL_USERS@MSQL2;
</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM ALL_USERS@MSQL3;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>