<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>JSON Object Access Expressions</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="Interval-Expressions.html" title="Previous" type="text/html">
      <link rel="next" href="Model-Expressions.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Interval-Expressions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="Model-Expressions.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Expressions.html" property="item" typeof="WebPage"><span property="name"> Expressions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">JSON Object Access Expressions</li>
            </ol>
            <a id="GUID-09D1A154-335D-484E-A7A2-DA1983CD511C" name="GUID-09D1A154-335D-484E-A7A2-DA1983CD511C"></a><a id="SQLRF57028"></a><a id="SQLRF57029"></a><a id="SQLRF57024"></a>
            
            <h2 id="SQLRF-GUID-09D1A154-335D-484E-A7A2-DA1983CD511C" class="sect2">JSON Object Access Expressions</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>A JSON object access expression is used only when querying a column of JavaScript Object Notation (JSON) data. It yields a character string that contains one or more JSON values found in that data. The syntax for this type of expression is called dot-notation syntax.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-09D1A154-335D-484E-A7A2-DA1983CD511C__GUID-BB8130F1-1813-4A8E-B0AC-C3C1A30E1A29"><span class="italic">JSON_object_access_expr</span>::=
                  </p>
                  <div class="figure" id="GUID-09D1A154-335D-484E-A7A2-DA1983CD511C__GUID-4C68F95E-7FAA-4A0E-8D16-21EB7AB08AFE"><img src="img/json_object_access_expr.gif" alt="Description of json_object_access_expr.eps follows" title="Description of json_object_access_expr.eps follows" longdesc="img_text/json_object_access_expr.html"><br><a href="img_text/json_object_access_expr.html">Description of the illustration json_object_access_expr.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-09D1A154-335D-484E-A7A2-DA1983CD511C__GUID-AC053840-1B34-4C55-A9EB-95AA910F9184"><span class="italic">array_step</span>::=
                  </p>
                  <div class="figure" id="GUID-09D1A154-335D-484E-A7A2-DA1983CD511C__GUID-8DCB9D49-8F5B-4CD9-B872-36CC0F79CA17"><img src="img/array_step.gif" alt="Description of array_step.eps follows" title="Description of array_step.eps follows" longdesc="img_text/array_step.html"><br><a href="img_text/array_step.html">Description of the illustration array_step.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For <span class="italic"><code class="codeph">table_alias</code></span>, specify the alias for the table that contains the column of JSON data. This table alias is required and must be assigned to the table elsewhere in the SQL statement.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">JSON_column</code></span>, specify the name of the column of JSON data. The column must be of data type <code class="codeph">VARCHAR2</code>, <code class="codeph">CLOB</code>, or <code class="codeph">BLOB</code> and an <code class="codeph">IS</code> <code class="codeph">JSON</code> check constraint must be defined on the column.
                        </p>
                     </li>
                     <li>
                        <p>You can optionally specify one or more JSON object keys. The object keys allow you to target specific JSON values in the JSON data. The first <span class="italic"><code class="codeph">JSON_object_key</code></span> must be a case-sensitive match to the key (property) name of an object member in the top level of the JSON data. If the value of that object member is another JSON object, then you can specify a second <span class="italic"><code class="codeph">JSON_object_key</code></span> that matches the key name of a member of that object, and so on. If a JSON array is encountered during any of these iterations, and you do not specify an <span class="italic"><code class="codeph">array_step</code></span>, then the array is implicitly unwrapped and the elements of the array are evaluated using the <span class="italic"><code class="codeph">JSON_object_key</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>If the JSON value is an array, then you can optionally specify one or more <span class="italic"><code class="codeph">array_step</code> </span> clauses. This allows you to access specific elements of the JSON array. 
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use <span class="italic"><code class="codeph">integer</code></span> to specify the element at index <span class="italic"><code class="codeph">integer</code></span> in a JSON array. Use <span class="italic"><code class="codeph">integer</code></span> <code class="codeph">TO</code> <span class="italic"><code class="codeph">integer</code></span> to specify the range of elements between the two index <span class="italic"><code class="codeph">integer</code></span> values, inclusive. If the specified elements exist in the JSON array being evaluated, then the array step results in a match to those elements. Otherwise, the array step does not result in a match. The first element in a JSON array has index 0.
                              </p>
                           </li>
                           <li>
                              <p>Use the asterisk wildcard symbol (<code class="codeph">*</code>) to specify all elements in a JSON array. If the JSON array being evaluated contains at least one element, then the array step results in a match to all elements in the JSON array. Otherwise, the array step does not result in a match.
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p>A JSON object access expression yields a character string of data type <code class="codeph">VARCHAR2(4000)</code>, which contains the targeted JSON value(s) as follows:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For a single targeted value, the character string contains that value, whether it is a JSON scalar value, object, or array.</p>
                     </li>
                     <li>
                        <p>For multiple targeted values, the character string contains a JSON array whose elements are those values.</p>
                     </li>
                  </ul>
                  <p>If you omit <span class="italic"><code class="codeph">JSON_object_key</code></span>, then the expression yields a character string that contains the JSON data in its entirety. In this case, the character string is of the same data type as the column of JSON data being queried.
                  </p>
                  <p>A JSON object access expression cannot return a value larger than 4K bytes. If the value surpasses this limit, then the expression returns null. To obtain the actual value, instead use the <a href="JSON_QUERY.html#GUID-6D396EC4-D2AA-43D2-8F5D-08D646A4A2D9">JSON_QUERY</a> function or the <a href="JSON_VALUE.html#GUID-C7F19D36-1E75-4CB2-AE67-ADFBAD23CBC2">JSON_VALUE</a> function and specify an appropriate return type with the <code class="codeph">RETURNING</code> clause.
                  </p>
                  <p>The collation derivation rules for the JSON object access expression are the same as for the <code class="codeph">JSON_QUERY</code> function.
                  </p>
                  <div class="infoboxnotealso" id="GUID-09D1A154-335D-484E-A7A2-DA1983CD511C__GUID-B82CED37-948F-4EE2-96D3-5016E89BCAA2">
                     <p class="notep1">See Also:</p>
                     <p>Appendix C in <a href="../nlspg/appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#NLSPG-GUID-AFCE41ED-775B-4A00-AF38-C436776AE0C5" target="_blank"><span><cite>Oracle Database Globalization Support Guide</cite></span></a> for the collation derivation rules for the <code class="codeph">JSON_QUERY</code> function
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-09D1A154-335D-484E-A7A2-DA1983CD511C__GUID-FD9F4D11-6027-4858-B0DF-3C43AB7A7DBD">Examples</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>The following examples use the <code class="codeph">j_purchaseorder</code> table, which is created in <a href="JSON_TABLE.html#GUID-3C8E63B5-0B94-4E86-A2D3-3D4831B67C62__CJAHAAJE">Creating a Table That Contains a JSON Document: Example</a>. This table contains a column of JSON data called <code class="codeph">po_document</code>. These examples return JSON values from column <code class="codeph">po_document</code>.
                  </p>
                  <p>The following statement returns the value of the property with key name <code class="codeph">PONumber</code>:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT po.po_document.PONumber
  FROM j_purchaseorder po;

PONumber
--------
1600
</pre><p>The following statement first targets the property with key name <code class="codeph">ShippingInstructions</code>, whose value is a JSON object. The statement then targets the property with key name <code class="codeph">Phone</code> within that object. The statement returns the value of <code class="codeph">Phone</code>, which is a JSON array.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT po.po_document.ShippingInstructions.Phone
  FROM j_purchaseorder po;
 
SHIPPINGINSTRUCTIONS
-------------------------------------------------------------------------------------
[{"type":"Office","number":"909-555-7307"},{"type":"Mobile","number":"415-555-1234"}]
</pre><p>The following statement first targets the property with key name <code class="codeph">LineItems</code>, whose value is a JSON array. The expression implicitly unwraps the array and evaluates its elements, which are JSON objects. Next, the statement targets the properties with key name <code class="codeph">Part</code>, within the unwrapped objects, and finds two objects. The statement then targets the properties with key name <code class="codeph">Description</code> within those two objects and finds string values. Because more than one value is returned, the values are returned as elements of a JSON array.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT po.po_document.LineItems.Part.Description
  FROM j_purchaseorder po;
 
LINEITEMS
-----------------------------------
[One Magic Christmas,Lethal Weapon]</pre><div class="infoboxnotealso" id="GUID-09D1A154-335D-484E-A7A2-DA1983CD511C__GUID-89ABCC4B-DDDD-4C48-B91D-1BB5C3466BA2">
                     <p class="notep1">See Also:</p>
                     <p><a href="../adjsn/simple-dot-notation-access-to-json-data.html#ADJSN-GUID-7249417B-A337-4854-8040-192D5CEFD576" target="_blank"><span><cite>Oracle Database JSON Developer’s Guide</cite></span></a> for more information on querying JSON data using dot-notation syntax
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>