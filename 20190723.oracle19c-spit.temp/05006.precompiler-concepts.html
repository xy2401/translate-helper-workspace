<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Precompiler Concepts</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="c-c-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T03:52:01-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96467-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="introduction.html" title="Previous" type="text/html">
      <link rel="next" href="database-concepts.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Pro*C/C++ Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNPCC">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="introduction.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="database-concepts.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="introduction-and-concepts.html" property="item" typeof="WebPage"><span property="name"> Introduction and Concepts </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Precompiler Concepts</li>
            </ol>
            <a id="GUID-0F4990F8-89E3-4AC3-A8A1-C974DF264AD8" name="GUID-0F4990F8-89E3-4AC3-A8A1-C974DF264AD8"></a><a id="LNPCC3059"></a>
            
            <h2 id="LNPCC-GUID-0F4990F8-89E3-4AC3-A8A1-C974DF264AD8" class="sect2"><span class="enumeration_chapter">2 </span> Precompiler Concepts
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter explains how embedded SQL programs do their work. You examine the special environment in which they operate and the impact of this environment on the design of your applications. After covering the key concepts of embedded SQL programming and the steps you take in developing an application, this chapter uses a simple program to illustrate the main points.</p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="precompiler-concepts.html#GUID-D244197E-032F-4F23-81FF-F6985A80739C">Key Concepts of Embedded SQL Programming </a></p>
                  </li>
                  <li>
                     <p><a href="precompiler-concepts.html#GUID-FD8F5219-FBFC-4735-8FA7-BD15C6FE7700">Steps in Developing an Embedded SQL Application </a></p>
                  </li>
                  <li>
                     <p><a href="precompiler-concepts.html#GUID-A6D81B3A-AE64-4B6C-8E1B-C24AA2DE4B05">Guidelines for Programming</a></p>
                  </li>
                  <li>
                     <p><a href="precompiler-concepts.html#GUID-034B6416-444A-4EF1-9078-35F5A86CF1D9">Example Tables</a></p>
                  </li>
                  <li>
                     <p><a href="precompiler-concepts.html#GUID-CB0B7383-88DB-4580-B908-857A7FC201D0">Example Program: A Simple Query </a></p>
                  </li>
                  <li>
                     <p><a href="precompiler-concepts.html#GUID-AA2ACB44-9A2F-4C91-9766-7369D6177939">Example Program: A Simple Query using SQL99 Syntax</a></p>
                  </li>
               </ul>
            </div><a id="LNPCC3060"></a><div class="props_rev_3"><a id="GUID-D244197E-032F-4F23-81FF-F6985A80739C" name="GUID-D244197E-032F-4F23-81FF-F6985A80739C"></a><h3 id="LNPCC-GUID-D244197E-032F-4F23-81FF-F6985A80739C" class="sect3"><span class="enumeration_section">2.1 </span>Key Concepts of Embedded SQL Programming 
               </h3>
               <div>
                  <p>This section lays the conceptual foundation on which later chapters build. This section contains these topics: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="precompiler-concepts.html#GUID-D2D1F59E-2E12-40C2-A885-E9001BB2075A">Embedded SQL Statements </a></p>
                     </li>
                     <li>
                        <p><a href="precompiler-concepts.html#GUID-087CDE89-34DE-4748-9F2F-1472B62087B9">Embedded SQL Syntax </a></p>
                     </li>
                     <li>
                        <p><a href="precompiler-concepts.html#GUID-4D4A2927-9507-4002-8DF1-531B1C0DA3D5">Static Versus Dynamic SQL Statements </a></p>
                     </li>
                     <li>
                        <p><a href="precompiler-concepts.html#GUID-71137E03-711B-40B3-ABDA-3728D4A9B2BF">Embedded PL/SQL Blocks </a></p>
                     </li>
                     <li>
                        <p><a href="precompiler-concepts.html#GUID-7A95FCD4-BFD1-4EC6-BBDB-1DBA9F464479">Host and Indicator Variables </a></p>
                     </li>
                     <li>
                        <p><a href="precompiler-concepts.html#GUID-A2C15B76-75FC-41F9-95DD-8413A4E79ED9">Oracle Datatypes</a></p>
                     </li>
                     <li>
                        <p><a href="precompiler-concepts.html#GUID-640C8415-A24C-4987-AFFC-2EB457690793">Arrays </a></p>
                     </li>
                     <li>
                        <p><a href="precompiler-concepts.html#GUID-5B1BD408-2CB1-4C77-897A-522AD75BA9E4">Datatype Equivalencing </a></p>
                     </li>
                     <li>
                        <p><a href="precompiler-concepts.html#GUID-DD5E0AD0-9BC0-4E9A-9504-7323516690D3">Private SQL Areas_ Cursors_ and Active Sets </a></p>
                     </li>
                     <li>
                        <p><a href="precompiler-concepts.html#GUID-2D4A0C70-F96C-4952-A1CC-CC799A0E35B0">Transactions </a></p>
                     </li>
                     <li>
                        <p><a href="precompiler-concepts.html#GUID-A2CEF7D8-E45C-4FE2-83CF-5F4097DE5D77">Errors and Warnings</a></p>
                     </li>
                     <li>
                        <p><a href="precompiler-concepts.html#GUID-CC717517-45E1-4467-9968-1DA2ECA0AFE1">SQL99 Syntax Support</a></p>
                     </li>
                  </ul>
               </div><a id="LNPCC3061"></a><div class="props_rev_3"><a id="GUID-D2D1F59E-2E12-40C2-A885-E9001BB2075A" name="GUID-D2D1F59E-2E12-40C2-A885-E9001BB2075A"></a><h4 id="LNPCC-GUID-D2D1F59E-2E12-40C2-A885-E9001BB2075A" class="sect4"><span class="enumeration_section">2.1.1 </span>Embedded SQL Statements 
                  </h4>
                  <div>
                     <p>The term <span class="italic">embedded SQL</span> refers to SQL statements placed within an application program. Because it houses the SQL statements, the application program is called a <span class="italic">host program</span>, and the language in which it is written is called the <span class="italic">host language</span>. For example, Pro*C/C++ provides the ability to embed certain SQL statements in a C or C++ host program. 
                     </p>
                     <p>To manipulate and query Oracle data, you use the INSERT, UPDATE, DELETE, and SELECT statements. INSERT adds rows of data to database tables, UPDATE modifies rows, DELETE removes unwanted rows, and SELECT retrieves rows that meet your search condition. </p>
                     <p>The powerful SET ROLE statement lets you dynamically manage database privileges. A <span class="italic">role</span> is a named group of related system and object privileges, or a named group of related system or object privileges granted to users or other roles. Role definitions are stored in the Oracle data dictionary. Your applications can use the SET ROLE statement to enable and disable roles as needed. 
                     </p>
                     <p>Only SQL statements—not SQL*Plus statements—are valid in an application program. (SQL*Plus has additional statements for setting environment parameters, editing, and report formatting.) </p>
                  </div><a id="LNPCC3063"></a><a id="LNPCC3064"></a><a id="LNPCC3062"></a><div class="props_rev_3"><a id="GUID-16DB0425-F50A-4AF9-A522-69FA654DCB2D" name="GUID-16DB0425-F50A-4AF9-A522-69FA654DCB2D"></a><h5 id="LNPCC-GUID-16DB0425-F50A-4AF9-A522-69FA654DCB2D" class="sect5"><span class="enumeration_section">2.1.1.1 </span>Executable Statements and Directives
                     </h5>
                     <div>
                        <p>Embedded SQL includes all the interactive SQL statements plus others that allow you to transfer data between Oracle and a host program. There are two types of embedded SQL statements: <span class="italic">executable statements</span> and <span class="italic">directives</span>. Executable statements result in calls to the runtime library SQLLIB. You use them to connect to Oracle, to define, query, and manipulate Oracle data, to control access to Oracle data, and to process transactions. They can be placed wherever C or C++ language executable statements can be placed. <a id="d10892e193" class="indexterm-anchor"></a><a id="d10892e197" class="indexterm-anchor"></a><a id="d10892e201" class="indexterm-anchor"></a><a id="d10892e205" class="indexterm-anchor"></a>  
                        </p>
                        <p>Directives, on the other hand, do not result in calls to SQLLIB and do not operate on Oracle data. You use them to declare Oracle objects, communications areas, and SQL variables. They can be placed wherever C or C++ variable declarations can be placed. </p>
                        <p><a href="precompiler-concepts.html#GUID-16DB0425-F50A-4AF9-A522-69FA654DCB2D__g11256" title="Directive">Table 2-1</a> groups the various embedded SQL statements (not a complete list):
                        </p>
                        <div class="tblformal" id="GUID-16DB0425-F50A-4AF9-A522-69FA654DCB2D__g11256">
                           <p class="titleintable">Table 2-1 Embedded SQL Statements</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Embedded SQL Statements" summary="Directive" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d10892e228">DIRECTIVE</th>
                                    <th align="left" valign="bottom" width="69%" id="d10892e231">PURPOSE</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e236" headers="d10892e228 ">
                                       <p>ARRAYLEN*</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e236 d10892e231 ">
                                       <p>To use host arrays with PL/SQL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e243" headers="d10892e228 ">
                                       <p>BEGIN DECLARE SECTION*</p>
                                       <p>END DECLARE SECTION*</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e243 d10892e231 ">
                                       <p>To declare host variables (optional)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e252" headers="d10892e228 ">
                                       <p>DECLARE*</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e252 d10892e231 ">
                                       <p>To name Oracle schema objects</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e259" headers="d10892e228 ">
                                       <p>INCLUDE*</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e259 d10892e231 ">
                                       <p>To copy in files</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e266" headers="d10892e228 ">
                                       <p>TYPE*</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e266 d10892e231 ">
                                       <p>To equivalence datatypes</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e273" headers="d10892e228 ">
                                       <p>VAR*</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e273 d10892e231 ">
                                       <p>To equivalence variables</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e280" headers="d10892e228 ">
                                       <p>WHENEVER*</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e280 d10892e231 ">
                                       <p>To handle runtime errors</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformal" id="GUID-16DB0425-F50A-4AF9-A522-69FA654DCB2D__GUID-7E97B04F-2A5F-4E56-B177-2EA45C65BC00">
                           <p class="titleintable">Table 2-2 <span class="italic"><span class="bold">Embedded SQL Statements</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Embedded SQL Statements" summary="embedded" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d10892e298">EXECUTABLE STATEMENT</th>
                                    <th align="left" valign="bottom" width="69%" id="d10892e301">PURPOSE</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e306" headers="d10892e298 ">
                                       <p>ALLOCATE*</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e306 d10892e301 ">
                                       <p>To define and control Oracle data</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e313" headers="d10892e298 ">
                                       <p>ALTER</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e313 d10892e301 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e320" headers="d10892e298 ">
                                       <p>ANALYZE</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e320 d10892e301 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e327" headers="d10892e298 ">
                                       <p>DELETE</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e327 d10892e301 ">
                                       <p>DML</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e334" headers="d10892e298 ">
                                       <p>INSERT</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e334 d10892e301 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e341" headers="d10892e298 ">
                                       <p>SELECT</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e341 d10892e301 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e348" headers="d10892e298 ">
                                       <p>UPDATE</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e348 d10892e301 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e355" headers="d10892e298 ">
                                       <p>COMMIT</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e355 d10892e301 ">
                                       <p>To process transactions</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e362" headers="d10892e298 ">
                                       <p>ROLLBACK</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e362 d10892e301 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e369" headers="d10892e298 ">
                                       <p>SAVEPOINT</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e369 d10892e301 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e376" headers="d10892e298 ">
                                       <p>SET TRANSACTION</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e376 d10892e301 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e384" headers="d10892e298 ">
                                       <p>DESCRIBE*</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e384 d10892e301 ">
                                       <p>To use dynamic SQL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e391" headers="d10892e298 ">
                                       <p>EXECUTE*</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e391 d10892e301 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e398" headers="d10892e298 ">
                                       <p>PREPARE*</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e398 d10892e301 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e405" headers="d10892e298 ">
                                       <p>ALTER SESSION</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e405 d10892e301 ">
                                       <p>To control sessions</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e412" headers="d10892e298 ">
                                       <p>SET ROLE</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e412 d10892e301 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d10892e419" headers="d10892e298 ">
                                       <p>*Has no interactive counterpart</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d10892e419 d10892e301 ">
                                       <p></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div><a id="LNPCC3065"></a><div class="props_rev_3"><a id="GUID-087CDE89-34DE-4748-9F2F-1472B62087B9" name="GUID-087CDE89-34DE-4748-9F2F-1472B62087B9"></a><h4 id="LNPCC-GUID-087CDE89-34DE-4748-9F2F-1472B62087B9" class="sect4"><span class="enumeration_section">2.1.2 </span>Embedded SQL Syntax 
                  </h4>
                  <div>
                     <p>In your application program, you can freely mix complete SQL statements with complete C statements and use C variables or structures in SQL statements. The only special requirement for building SQL statements into your host program is that you begin them with the keywords EXEC SQL and end them with a semicolon. Pro*C/C++ translates all EXEC SQL statements into calls to the runtime library SQLLIB.<a id="d10892e435" class="indexterm-anchor"></a><a id="d10892e439" class="indexterm-anchor"></a><a id="d10892e443" class="indexterm-anchor"></a><a id="d10892e447" class="indexterm-anchor"></a><a id="d10892e449" class="indexterm-anchor"></a><a id="d10892e453" class="indexterm-anchor"></a> 
                     </p>
                     <p>Many embedded SQL statements differ from their interactive counterparts only through the addition of a new clause or the use of program variables. The following example compares interactive and embedded ROLLBACK statements:<a id="d10892e460" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">ROLLBACK WORK:           -- interactive
EXEC SQL ROLLBACK WORK;  -- embedded
</pre><p>These statements have the same effect, but you would use the first in an interactive SQL environment (such as when running SQL*Plus), and the second in a Pro*C/C++ program. </p>
                  </div>
               </div><a id="LNPCC3066"></a><div class="props_rev_3"><a id="GUID-4D4A2927-9507-4002-8DF1-531B1C0DA3D5" name="GUID-4D4A2927-9507-4002-8DF1-531B1C0DA3D5"></a><h4 id="LNPCC-GUID-4D4A2927-9507-4002-8DF1-531B1C0DA3D5" class="sect4"><span class="enumeration_section">2.1.3 </span>Static Versus Dynamic SQL Statements 
                  </h4>
                  <div>
                     <p>Most application programs are designed to process static SQL statements and fixed transactions. In this case, you know the makeup of each SQL statement and transaction before runtime; that is, you know which SQL commands will be issued, which database tables might be changed, which columns will be updated, and so on. </p>
                     <p>However, some applications might be required to accept and process any valid SQL statement at runtime. So, you might not know until runtime all the SQL commands, database tables, and columns involved. </p>
                     <p><span class="italic">Dynamic SQL</span> is an advanced programming technique that lets your program accept or build SQL statements at run time and take explicit control over datatype conversion.<a id="d10892e487" class="indexterm-anchor"></a><a id="d10892e491" class="indexterm-anchor"></a> 
                     </p>
                  </div>
               </div><a id="LNPCC3067"></a><div class="props_rev_3"><a id="GUID-71137E03-711B-40B3-ABDA-3728D4A9B2BF" name="GUID-71137E03-711B-40B3-ABDA-3728D4A9B2BF"></a><h4 id="LNPCC-GUID-71137E03-711B-40B3-ABDA-3728D4A9B2BF" class="sect4"><span class="enumeration_section">2.1.4 </span>Embedded PL/SQL Blocks 
                  </h4>
                  <div>
                     <p>Pro*C/C++ treats a PL/SQL block like a single embedded SQL statement. You can place a PL/SQL block anywhere in an application program that you can place a SQL statement. To embed PL/SQL in your host program, you simply declare the variables to be shared with PL/SQL and bracket the PL/SQL block with the keywords EXEC SQL EXECUTE and END-EXEC. </p>
                     <p>From embedded PL/SQL blocks, you can manipulate Oracle data flexibly and safely because PL/SQL supports all SQL data manipulation and transaction processing commands. </p>
                  </div>
               </div><a id="LNPCC3068"></a><div class="props_rev_3"><a id="GUID-7A95FCD4-BFD1-4EC6-BBDB-1DBA9F464479" name="GUID-7A95FCD4-BFD1-4EC6-BBDB-1DBA9F464479"></a><h4 id="LNPCC-GUID-7A95FCD4-BFD1-4EC6-BBDB-1DBA9F464479" class="sect4"><span class="enumeration_section">2.1.5 </span>Host and Indicator Variables 
                  </h4>
                  <div>
                     <p>Host variables are the key to communication between Oracle and your program. A <span class="italic">host variable</span> is a scalar or aggregate variable declared in C and shared with Oracle, meaning that both your program and Oracle can reference its value.<a id="d10892e527" class="indexterm-anchor"></a><a id="d10892e531" class="indexterm-anchor"></a><a id="d10892e533" class="indexterm-anchor"></a> 
                     </p>
                     <p>Your program uses <span class="italic">input</span> host variables to pass data to Oracle. Oracle uses <span class="italic">output</span> host variables to pass data and status information to your program. The program assigns values to input host variables; Oracle assigns values to output host variables.<a id="d10892e546" class="indexterm-anchor"></a> 
                     </p>
                     <p>Host variables can be used anywhere a SQL expression can be used. In SQL statements, host variables must be prefixed with a colon (:) to set them apart from the SQL keywords.</p>
                     <p>You can also use a C <span class="italic">struct</span> to contain a number of host variables. When you name the structure in an embedded SQL statement, prefixed with a colon, Oracle uses each of the components of the struct as a host variable. 
                     </p>
                     <p>You can associate any host variable with an optional indicator variable. An <span class="italic">indicator variable</span> is a short integer variable that "indicates" the value or condition of its host variable. You use indicator variables to assign NULLs to input host variables and to detect NULLs or truncated values in output host variables. A <span class="italic">NULL</span> is a missing, unknown, or inapplicable value.<a id="d10892e566" class="indexterm-anchor"></a><a id="d10892e570" class="indexterm-anchor"></a> 
                     </p>
                     <p>In SQL statements, an indicator variable must be prefixed with a colon and immediately follow its associated host variable. The keyword INDICATOR can be placed between the host variable and its indicator for additional clarity. </p>
                     <p>If the host variables are packaged in a struct, and you want to use indicator variables, you simply create a struct that has an indicator variable for each host variable in the host structure, and name the indicator struct in the SQL statement, immediately following the host variable struct, and prefixed with a colon. You can also use the INDICATOR keyword to separate a host structure and its associated indicator structure.</p>
                  </div>
               </div><a id="LNPCC3069"></a><div class="props_rev_3"><a id="GUID-A2C15B76-75FC-41F9-95DD-8413A4E79ED9" name="GUID-A2C15B76-75FC-41F9-95DD-8413A4E79ED9"></a><h4 id="LNPCC-GUID-A2C15B76-75FC-41F9-95DD-8413A4E79ED9" class="sect4"><span class="enumeration_section">2.1.6 </span>Oracle Datatypes
                  </h4>
                  <div>
                     <p>Typically, a host program inputs data to Oracle, and Oracle outputs data to the program. Oracle stores input data in database tables and stores output data in program host variables. To store a data item, Oracle must know its <span class="italic">datatype</span>, which specifies a storage format and valid range of values.<a id="d10892e594" class="indexterm-anchor"></a><a id="d10892e598" class="indexterm-anchor"></a> 
                     </p>
                     <p>Oracle recognizes two kinds of datatypes: <span class="italic">internal</span> and <span class="italic">external</span>. Internal datatypes specify how Oracle stores data in database columns. Oracle also uses internal datatypes to represent database pseudocolumns, which return specific data items but are not actual columns in a table.<a id="d10892e611" class="indexterm-anchor"></a><a id="d10892e615" class="indexterm-anchor"></a> 
                     </p>
                     <p>External datatypes specify how data is stored in host variables. When your host program inputs data to Oracle, if necessary, Oracle converts between the external datatype of the input host variable and the internal datatype of the target database column. When Oracle outputs data to your host program, if necessary, Oracle converts between the internal datatype of the source database column and the external datatype of the output host variable.<a id="d10892e622" class="indexterm-anchor"></a> 
                     </p>
                  </div>
               </div><a id="LNPCC3070"></a><div class="props_rev_3"><a id="GUID-640C8415-A24C-4987-AFFC-2EB457690793" name="GUID-640C8415-A24C-4987-AFFC-2EB457690793"></a><h4 id="LNPCC-GUID-640C8415-A24C-4987-AFFC-2EB457690793" class="sect4"><span class="enumeration_section">2.1.7 </span>Arrays 
                  </h4>
                  <div>
                     <p>Pro*C/C++ lets you define array host variables (called <span class="italic">host arrays) </span>and arrays of structures and operate on them with a single SQL statement. Using the array SELECT, FETCH, DELETE, INSERT, and UPDATE statements, you can query and manipulate large volumes of data with ease. You can also use host arrays inside a host variable <span class="bold">struct</span>.<a id="d10892e644" class="indexterm-anchor"></a><a id="d10892e648" class="indexterm-anchor"></a> 
                     </p>
                  </div>
               </div><a id="LNPCC3071"></a><div class="props_rev_3"><a id="GUID-5B1BD408-2CB1-4C77-897A-522AD75BA9E4" name="GUID-5B1BD408-2CB1-4C77-897A-522AD75BA9E4"></a><h4 id="LNPCC-GUID-5B1BD408-2CB1-4C77-897A-522AD75BA9E4" class="sect4"><span class="enumeration_section">2.1.8 </span>Datatype Equivalencing 
                  </h4>
                  <div>
                     <p>Pro*C/C++ adds flexibility to your applications by letting you <span class="italic">equivalence</span> datatypes. That means you can customize the way Oracle interprets input data and formats output data.<a id="d10892e667" class="indexterm-anchor"></a><a id="d10892e669" class="indexterm-anchor"></a><a id="d10892e673" class="indexterm-anchor"></a> 
                     </p>
                     <p>On a variable-by-variable basis, you can equivalence supported C datatypes to the Oracle external datatypes. You can also equivalence user-defined datatypes to Oracle external datatypes. </p>
                  </div>
               </div><a id="LNPCC3072"></a><div class="props_rev_3"><a id="GUID-DD5E0AD0-9BC0-4E9A-9504-7323516690D3" name="GUID-DD5E0AD0-9BC0-4E9A-9504-7323516690D3"></a><h4 id="LNPCC-GUID-DD5E0AD0-9BC0-4E9A-9504-7323516690D3" class="sect4"><span class="enumeration_section">2.1.9 </span>Private SQL Areas, Cursors, and Active Sets 
                  </h4>
                  <div>
                     <p>To process a SQL statement, Oracle opens a work area called a <span class="italic">private SQL area</span>. The private SQL area stores information needed to execute the SQL statement. An identifier called a <span class="italic">cursor</span> lets you name a SQL statement, access the information in its private SQL area, and, to some extent, control its processing.<a id="d10892e698" class="indexterm-anchor"></a><a id="d10892e702" class="indexterm-anchor"></a><a id="d10892e706" class="indexterm-anchor"></a><a id="d10892e710" class="indexterm-anchor"></a> 
                     </p>
                     <p>For static SQL statements, there are two types of cursors: <span class="italic">implicit</span> and <span class="italic">explicit</span>. Oracle implicitly declares a cursor for all data definition and data manipulation statements, including SELECT statements (queries) that return only one row. However, for queries that return more than one row, to process beyond the first row, you must explicitly declare a cursor (or use host arrays). 
                     </p>
                     <p>The set of rows returned is called the <span class="italic">active set</span>; its size depends on how many rows meet the query search condition. You use an explicit cursor to identify the row currently being processed, called the <span class="italic">current row</span>.<a id="d10892e731" class="indexterm-anchor"></a><a id="d10892e735" class="indexterm-anchor"></a><a id="d10892e739" class="indexterm-anchor"></a><a id="d10892e743" class="indexterm-anchor"></a> 
                     </p>
                     <p>Imagine the set of rows being returned to a terminal screen. A screen cursor can point to the first row to be processed, then the next row, and so on. In the same way, an explicit cursor "points" to the current row in the active set. This allows your program to process the rows one at a time.<a id="d10892e750" class="indexterm-anchor"></a> 
                     </p>
                  </div>
               </div><a id="LNPCC3073"></a><div class="props_rev_3"><a id="GUID-2D4A0C70-F96C-4952-A1CC-CC799A0E35B0" name="GUID-2D4A0C70-F96C-4952-A1CC-CC799A0E35B0"></a><h4 id="LNPCC-GUID-2D4A0C70-F96C-4952-A1CC-CC799A0E35B0" class="sect4"><span class="enumeration_section">2.1.10 </span>Transactions 
                  </h4>
                  <div>
                     <p>A <span class="italic">transaction</span> is a series of logically related SQL statements (two UPDATEs that credit one bank account and debit another, for example) that Oracle treats as a unit, so that all changes brought about by the statements are made permanent or undone at the same time.<a id="d10892e769" class="indexterm-anchor"></a><a id="d10892e773" class="indexterm-anchor"></a> 
                     </p>
                     <p>All the data manipulation statements executed since the last data definition, COMMIT, or ROLLBACK statement was executed make up the current transaction.<a id="d10892e780" class="indexterm-anchor"></a> 
                     </p>
                     <p>To help ensure the consistency of your database, Pro*C/C++ lets you define transactions using the COMMIT, ROLLBACK, and SAVEPOINT statements.<a id="d10892e787" class="indexterm-anchor"></a> 
                     </p>
                     <p>COMMIT makes permanent any changes made during the current transaction. ROLLBACK ends the current transaction and undoes any changes made since the transaction began. SAVEPOINT marks the current point in the processing of a transaction; used with ROLLBACK, it undoes part of a transaction. </p>
                  </div>
               </div><a id="LNPCC3074"></a><div class="props_rev_3"><a id="GUID-A2CEF7D8-E45C-4FE2-83CF-5F4097DE5D77" name="GUID-A2CEF7D8-E45C-4FE2-83CF-5F4097DE5D77"></a><h4 id="LNPCC-GUID-A2CEF7D8-E45C-4FE2-83CF-5F4097DE5D77" class="sect4"><span class="enumeration_section">2.1.11 </span>Errors and Warnings
                  </h4>
                  <div>
                     <p>When you execute an embedded SQL statement, it either succeeds or fails, and might result in an error or warning. You need a way to handle these results. Pro*C/C++ provides two error handling mechanisms: the SQL Communications Area (SQLCA) and the WHENEVER statement.<a id="d10892e805" class="indexterm-anchor"></a> 
                     </p>
                     <p>The SQLCA is a data structure that you include (or hard-code) in your host program. It defines program variables used by Oracle to pass runtime status information to the program. With the SQLCA, you can take different actions based on feedback from Oracle about work just attempted. For example, you can check to see if a DELETE statement succeeded and, if so, how many rows were deleted. <a id="d10892e812" class="indexterm-anchor"></a> <a id="d10892e817" class="indexterm-anchor"></a> 
                     </p>
                     <p>With the WHENEVER statement, you can specify actions to be taken automatically when Oracle detects an error or warning condition. These actions are: continuing with the next statement, calling a function, branching to a labeled statement, or stopping.<a id="d10892e822" class="indexterm-anchor"></a> 
                     </p>
                  </div>
               </div><a id="LNPCC3075"></a><div class="props_rev_3"><a id="GUID-CC717517-45E1-4467-9968-1DA2ECA0AFE1" name="GUID-CC717517-45E1-4467-9968-1DA2ECA0AFE1"></a><h4 id="LNPCC-GUID-CC717517-45E1-4467-9968-1DA2ECA0AFE1" class="sect4"><span class="enumeration_section">2.1.12 </span>SQL99 Syntax Support
                  </h4>
                  <div>
                     <div class="section">
                        <p>The SQL standard enables the portability of SQL applications across all conforming software products. Oracle features are compliant with the ANSI/ISO SQL99 standard, including ANSI compliant joins. Pro*C/C++ supports all SQL99 features that are supported by Oracle database, which means that the SQL99 syntax for the SELECT, INSERT, DELETE, and UPDATE statements and the body of the cursor in a DECLARE CURSOR statement are supported.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNPCC3077"></a><a id="LNPCC3076"></a><div class="props_rev_3"><a id="GUID-FD8F5219-FBFC-4735-8FA7-BD15C6FE7700" name="GUID-FD8F5219-FBFC-4735-8FA7-BD15C6FE7700"></a><h3 id="LNPCC-GUID-FD8F5219-FBFC-4735-8FA7-BD15C6FE7700" class="sect3"><span class="enumeration_section">2.2 </span>Steps in Developing an Embedded SQL Application 
               </h3>
               <div>
                  <p><a href="precompiler-concepts.html#GUID-FD8F5219-FBFC-4735-8FA7-BD15C6FE7700__I4691">Figure 2-1</a> shows the embedded SQL application development process.
                  </p>
                  <div class="figure" id="GUID-FD8F5219-FBFC-4735-8FA7-BD15C6FE7700__I4691">
                     <p class="titleinfigure">Figure 2-1  Embedded SQL Application Development Process</p><img src="img/lnpcc003.gif" alt="Description of Figure 2-1 follows" title="Description of Figure 2-1 follows" longdesc="img_text/lnpcc003.html"><br><a href="img_text/lnpcc003.html">Description of "Figure 2-1  Embedded SQL Application Development Process"</a></div>
                  <!-- class="figure" -->
                  <p>As you can see, precompiling results in a modified source file that can be compiled normally. Though precompiling adds a step to the traditional development process, that step lets you write very flexible applications. </p>
               </div>
            </div><a id="LNPCC3078"></a><div class="props_rev_3"><a id="GUID-A6D81B3A-AE64-4B6C-8E1B-C24AA2DE4B05" name="GUID-A6D81B3A-AE64-4B6C-8E1B-C24AA2DE4B05"></a><h3 id="LNPCC-GUID-A6D81B3A-AE64-4B6C-8E1B-C24AA2DE4B05" class="sect3"><span class="enumeration_section">2.3 </span>Guidelines for Programming
               </h3>
               <div>
                  <p>This section deals with embedded SQL syntax, coding conventions, and C-specific features and restrictions. Topics are arranged alphabetically for quick reference.<a id="d10892e876" class="indexterm-anchor"></a><a id="d10892e878" class="indexterm-anchor"></a> 
                  </p>
               </div><a id="LNPCC3079"></a><div class="props_rev_3"><a id="GUID-6EC1F5E0-9EBA-41AC-9D75-A1227518D9B8" name="GUID-6EC1F5E0-9EBA-41AC-9D75-A1227518D9B8"></a><h4 id="LNPCC-GUID-6EC1F5E0-9EBA-41AC-9D75-A1227518D9B8" class="sect4"><span class="enumeration_section">2.3.1 </span>Comments 
                  </h4>
                  <div>
                     <p>You can place C-style Comments (/* ... */) in a SQL statement wherever blanks can be placed (except between the keywords EXEC SQL). Also, you can place ANSI-style Comments (-- ...)<span class="italic"> within </span>SQL statements at the end of a line, as the following example shows: 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT ENAME, SAL 
    INTO :emp_name, :salary  -- output host variables 
    FROM EMP 
    WHERE DEPTNO = :dept_number; 
</pre><p>You can use C++ style Comments (//) in your Pro*C/C++ source if you precompile using the CODE=CPP precompiler option.</p>
                  </div>
               </div><a id="LNPCC3080"></a><div class="props_rev_3"><a id="GUID-2102D647-ACCE-419E-87C4-FFF7B13A7AC1" name="GUID-2102D647-ACCE-419E-87C4-FFF7B13A7AC1"></a><h4 id="LNPCC-GUID-2102D647-ACCE-419E-87C4-FFF7B13A7AC1" class="sect4"><span class="enumeration_section">2.3.2 </span>Constants
                  </h4>
                  <div>
                     <p>An <span class="italic">L</span> or <span class="italic">l</span> suffix specifies a <span class="bold">long</span> integer constant, a <span class="italic">U</span> or <span class="italic">u</span> suffix specifies an <span class="bold">unsigned</span> integer constant, a <span class="italic">0X</span> or <span class="italic">0x</span> prefix specifies a hexadecimal integer constant, and an <span class="italic">F</span> or <span class="italic">f</span> suffix specifies a <span class="bold">float</span> floating-point constant. These forms are <span class="italic">not</span> allowed in SQL statements.<a id="d10892e958" class="indexterm-anchor"></a></p>
                  </div>
               </div><a id="LNPCC3081"></a><div class="props_rev_3"><a id="GUID-87B2F714-0CC4-424F-8962-17E4515057D2" name="GUID-87B2F714-0CC4-424F-8962-17E4515057D2"></a><h4 id="LNPCC-GUID-87B2F714-0CC4-424F-8962-17E4515057D2" class="sect4"><span class="enumeration_section">2.3.3 </span>Declare Section
                  </h4>
                  <div>
                     <p>A <span class="italic">Declare Section</span> contains the host variable declarations and is of the form:
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION;
/* Declare all host variables inside this section:  */
    char *uid = "<span class="italic">username</span>/<span class="italic">password</span>";
    ...
EXEC SQL END DECLARE SECTION;
</pre><p>A Declare Section begins with the statement<a id="d10892e997" class="indexterm-anchor"></a><a id="d10892e1001" class="indexterm-anchor"></a><a id="d10892e1005" class="indexterm-anchor"></a>:
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION;
</pre><p>and ends with the statement:</p><pre class="oac_no_warn" dir="ltr">EXEC SQL END DECLARE SECTION;
</pre><p>Between these two statements only the following are allowed:<a id="d10892e1018" class="indexterm-anchor"></a><a id="d10892e1022" class="indexterm-anchor"></a></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Host-variable and indicator-variable declarations </p>
                        </li>
                        <li>
                           <p>Non-host C/C++ variables</p>
                        </li>
                        <li>
                           <p>EXEC SQL DECLARE statements</p>
                        </li>
                        <li>
                           <p>EXEC SQL INCLUDE statements </p>
                        </li>
                        <li>
                           <p>EXEC SQL VAR statements </p>
                        </li>
                        <li>
                           <p>EXEC SQL TYPE statements</p>
                        </li>
                        <li>
                           <p>EXEC ORACLE statements</p>
                        </li>
                        <li>
                           <p>C/C++ comments </p>
                        </li>
                     </ul>
                     <p>A Declare Section is required when MODE=ANSI or CODE=CPP (in a C++ application) or PARSE=NONE or PARTIAL. </p>
                     <p>More than one Declare Section is allowed. They can be in different code modules.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="C-Plus-Plus-Applications.html#GUID-EDDF500B-2973-4D1B-AC10-4952AE29E44D">About Parsing Code</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC3082"></a><div class="props_rev_3"><a id="GUID-DF8F9DBF-5B91-4740-B733-4BF5B7DD9934" name="GUID-DF8F9DBF-5B91-4740-B733-4BF5B7DD9934"></a><h4 id="LNPCC-GUID-DF8F9DBF-5B91-4740-B733-4BF5B7DD9934" class="sect4"><span class="enumeration_section">2.3.4 </span>Delimiters 
                  </h4>
                  <div>
                     <p>While C uses single quotes to delimit single characters, as in <a id="d10892e1075" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">ch = getchar(); 
switch (ch)
{ 
case 'U': update();  break; 
case 'I': insert();  break; 
... 
</pre><p>SQL uses single quotes to delimit character strings, as in<a id="d10892e1083" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT ENAME, SAL FROM EMP WHERE JOB = 'MANAGER'; 
</pre><p>While C uses double quotes to delimit character strings, as in </p><pre class="oac_no_warn" dir="ltr">printf("\nG'Day, mate!"); 
</pre><p>SQL uses double quotes to delimit identifiers containing special or lowercase characters, as in<a id="d10892e1096" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL CREATE TABLE "Emp2" (empno  number(4), ...); </pre></div>
               </div><a id="LNPCC3083"></a><div class="props_rev_3"><a id="GUID-1D43CD59-D2D1-4722-A691-26878019DA8B" name="GUID-1D43CD59-D2D1-4722-A691-26878019DA8B"></a><h4 id="LNPCC-GUID-1D43CD59-D2D1-4722-A691-26878019DA8B" class="sect4"><span class="enumeration_section">2.3.5 </span>File Length
                  </h4>
                  <div>
                     <p>Pro*C/C++ cannot process arbitrarily long source files. There is a limit to the number of lines allowed. The following aspects of the source file are contributing factors to the file-size constraint:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Complexity of the embedded SQL statements (for example, the number of bind and define variables).</p>
                        </li>
                        <li>
                           <p>Whether a database name is used (for example, connecting to a database with an AT clause).</p>
                        </li>
                        <li>
                           <p>Number of embedded SQL statements.</p>
                        </li>
                     </ul>
                     <p>To prevent problems related to this limitation, use multiple program units to sufficiently reduce the size of the source files.</p>
                  </div>
               </div><a id="LNPCC3084"></a><div class="props_rev_3"><a id="GUID-97CD4F7F-D2AB-4419-8A5D-1A69B779444D" name="GUID-97CD4F7F-D2AB-4419-8A5D-1A69B779444D"></a><h4 id="LNPCC-GUID-97CD4F7F-D2AB-4419-8A5D-1A69B779444D" class="sect4"><span class="enumeration_section">2.3.6 </span>Function Prototyping 
                  </h4>
                  <div>
                     <p>The ANSI C standard (X3.159-1989) provides for function prototyping. A <span class="italic">function prototype</span> declares a function and the data types of its arguments, so that the C compiler can detect missing or mismatched arguments. 
                     </p>
                     <p>The CODE option, which you can enter on the command line or in a configuration file, determines the way that the precompiler generates C or C++ code. </p>
                  </div><a id="LNPCC3085"></a><div class="props_rev_3"><a id="GUID-83EA5389-2EE5-4361-BDC2-32BF6CC35F22" name="GUID-83EA5389-2EE5-4361-BDC2-32BF6CC35F22"></a><h5 id="LNPCC-GUID-83EA5389-2EE5-4361-BDC2-32BF6CC35F22" class="sect5"><span class="enumeration_section">2.3.6.1 </span>ANSI_C
                     </h5>
                     <div>
                        <p>When you precompile your program with CODE=ANSI_C, the precompiler generates fully prototyped function declarations. For example: </p><pre class="oac_no_warn" dir="ltr">extern void sqlora(long *, void *); </pre></div>
                  </div><a id="LNPCC3086"></a><div class="props_rev_3"><a id="GUID-5951607A-A0FF-4AB3-AAC0-94883BA20D93" name="GUID-5951607A-A0FF-4AB3-AAC0-94883BA20D93"></a><h5 id="LNPCC-GUID-5951607A-A0FF-4AB3-AAC0-94883BA20D93" class="sect5"><span class="enumeration_section">2.3.6.2 </span>KR_C
                     </h5>
                     <div>
                        <p>When you precompile with the option CODE=KR_C (KR for "Kernighan and Ritchie"), the precompiler generates function prototypes in the same way that it does for ANSI_C, except that function parameter lists are commented out. For example:</p><pre class="oac_no_warn" dir="ltr">extern void sqlora(/*_ long *, void *  _*/);
</pre><p>So, make sure to set the precompiler option CODE to KR_C if you use a C compiler that does not support ANSI C. When the CODE option is set to ANSI_C, the precompiler can also generate other ANSI-specific constructs; for example, the <span class="bold">const</span> type qualifier. 
                        </p>
                     </div>
                  </div><a id="LNPCC3087"></a><div class="props_rev_3"><a id="GUID-C2A6F990-4459-408F-871E-CE56C646B5A3" name="GUID-C2A6F990-4459-408F-871E-CE56C646B5A3"></a><h5 id="LNPCC-GUID-C2A6F990-4459-408F-871E-CE56C646B5A3" class="sect5"><span class="enumeration_section">2.3.6.3 </span>CPP
                     </h5>
                     <div>
                        <p>When you compile with CODE=CPP you will generate C++ compatible function prototypes. Use this option setting with C++ compilers. </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="C-Plus-Plus-Applications.html#GUID-320589F8-AE9F-4440-9551-1C52F449E486">C++ Applications</a></li>
                           </ul>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="LNPCC3088"></a><div class="props_rev_3"><a id="GUID-EAB9F967-C961-4A64-8F48-717DD6822F06" name="GUID-EAB9F967-C961-4A64-8F48-717DD6822F06"></a><h4 id="LNPCC-GUID-EAB9F967-C961-4A64-8F48-717DD6822F06" class="sect4"><span class="enumeration_section">2.3.7 </span>Hint Length
                  </h4>
                  <div>
                     <p>Maximum length of a sql hint in an embedded sql statement is limited to 256 characters. Any hint exceeding this limit will be truncated.</p>
                  </div>
               </div><a id="LNPCC3089"></a><div class="props_rev_3"><a id="GUID-FCFB63F9-DEBF-4789-86A6-85C36C4F7EF2" name="GUID-FCFB63F9-DEBF-4789-86A6-85C36C4F7EF2"></a><h4 id="LNPCC-GUID-FCFB63F9-DEBF-4789-86A6-85C36C4F7EF2" class="sect4"><span class="enumeration_section">2.3.8 </span>Host Variable Names 
                  </h4>
                  <div>
                     <p>Host variable names can consist of upper or lowercase letters, digits, and underscores, but must begin with a letter. They can be any length, but only the first 31 characters are significant to Pro*C/C++. Your C compiler or linker might require a shorter maximum length, so check your C compiler user's guide. <a id="d10892e1217" class="indexterm-anchor"></a></p>
                     <p>For portability, you may wish to restrict the length of host variable names to 18 or fewer characters (the length mandated by the SQL standard).</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="reserved-words-keywords-namespaces.html#GUID-F3AE31F8-2209-491E-A0FD-44F75C06C79C">Reserved Words, Keywords, and Namespaces</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC3090"></a><div class="props_rev_3"><a id="GUID-14A55B4B-226D-41CF-96CC-7E1486088A93" name="GUID-14A55B4B-226D-41CF-96CC-7E1486088A93"></a><h4 id="LNPCC-GUID-14A55B4B-226D-41CF-96CC-7E1486088A93" class="sect4"><span class="enumeration_section">2.3.9 </span>Line Continuation
                  </h4>
                  <div>
                     <p>You can continue SQL statements from one line to the next. You must use a backslash (\) to continue a string literal from one line to the next, as the following example shows: </p><pre class="oac_no_warn" dir="ltr">EXEC SQL INSERT INTO dept (deptno, dname) VALUES (50, 'PURCHAS\ 
ING'); 
</pre><p>In this context, the precompiler treats the backslash as a continuation character. </p>
                  </div>
               </div><a id="LNPCC3091"></a><div class="props_rev_3"><a id="GUID-9C3958D1-2545-439D-9D8E-10471D1EA5C2" name="GUID-9C3958D1-2545-439D-9D8E-10471D1EA5C2"></a><h4 id="LNPCC-GUID-9C3958D1-2545-439D-9D8E-10471D1EA5C2" class="sect4"><span class="enumeration_section">2.3.10 </span>Line Length
                  </h4>
                  <div>
                     <p>The maximum line length is 1299 for lines consisting of only ASCII characters, or 324 for multibyte characters.</p>
                  </div>
               </div><a id="LNPCC3092"></a><div class="props_rev_3"><a id="GUID-F038BE40-199B-45C0-9F67-0D61B57DE6C8" name="GUID-F038BE40-199B-45C0-9F67-0D61B57DE6C8"></a><h4 id="LNPCC-GUID-F038BE40-199B-45C0-9F67-0D61B57DE6C8" class="sect4"><span class="enumeration_section">2.3.11 </span>MAXLITERAL Default Value 
                  </h4>
                  <div>
                     <p>The precompiler option MAXLITERAL lets you specify the maximum length of string literals generated by the precompiler. The MAXLITERAL default value is 1024. Specify a smaller value if required. For example, if your C compiler cannot handle string literals longer than 512 characters, you then specify MAXLITERAL=512. Check your C compiler user's guide.<a id="d10892e1282" class="indexterm-anchor"></a><a id="d10892e1286" class="indexterm-anchor"></a> 
                     </p>
                  </div>
               </div><a id="LNPCC3093"></a><div class="props_rev_3"><a id="GUID-121D1730-2650-44AB-8C12-88A27C4AD786" name="GUID-121D1730-2650-44AB-8C12-88A27C4AD786"></a><h4 id="LNPCC-GUID-121D1730-2650-44AB-8C12-88A27C4AD786" class="sect4"><span class="enumeration_section">2.3.12 </span>Operators 
                  </h4>
                  <div>
                     <p>The logical operators and the "equal to" relational operator are different in C and SQL, as the following list shows. These C operators are <span class="italic">not</span> allowed in SQL statements<a id="d10892e1306" class="indexterm-anchor"></a>:<a id="d10892e1311" class="indexterm-anchor"></a> 
                     </p>
                     <div class="tblformal" id="GUID-121D1730-2650-44AB-8C12-88A27C4AD786__GUID-A5944556-891C-4820-AB5C-F92F59E750C9">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="sql" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d10892e1324">SQL Operator</th>
                                 <th align="left" valign="bottom" width="71%" id="d10892e1327">C Operator</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d10892e1332" headers="d10892e1324 ">
                                    <p>NOT</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d10892e1332 d10892e1327 ">
                                    <p>!</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d10892e1339" headers="d10892e1324 ">
                                    <p>AND</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d10892e1339 d10892e1327 ">
                                    <p>&amp;&amp;</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d10892e1346" headers="d10892e1324 ">
                                    <p>OR</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d10892e1346 d10892e1327 ">
                                    <p>||</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d10892e1353" headers="d10892e1324 ">
                                    <p>=</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d10892e1353 d10892e1327 ">
                                    <p>==</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The following C operators also <span class="italic">not</span> allowed in SQL statements:
                     </p>
                     <div class="tblformal" id="GUID-121D1730-2650-44AB-8C12-88A27C4AD786__GUID-FAB34F5C-25A7-4094-9E11-07796149D004">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="C Operators not Allowed" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d10892e1372">Type</th>
                                 <th align="left" valign="bottom" width="71%" id="d10892e1375">C Operator</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d10892e1380" headers="d10892e1372 ">
                                    <p>address</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d10892e1380 d10892e1375 ">
                                    <p>&amp;</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d10892e1387" headers="d10892e1372 ">
                                    <p>bitwise</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d10892e1387 d10892e1375 ">
                                    <p>&amp;, |, ^, ~</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d10892e1394" headers="d10892e1372 ">
                                    <p>compound assignment</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d10892e1394 d10892e1375 ">
                                    <p>+=, -=, *=, and so on.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d10892e1401" headers="d10892e1372 ">
                                    <p>conditional</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d10892e1401 d10892e1375 ">
                                    <p>?:</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d10892e1408" headers="d10892e1372 ">
                                    <p>decrement</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d10892e1408 d10892e1375 ">
                                    <p>--</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d10892e1415" headers="d10892e1372 ">
                                    <p>increment</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d10892e1415 d10892e1375 ">
                                    <p>++</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d10892e1422" headers="d10892e1372 ">
                                    <p>indirection</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d10892e1422 d10892e1375 ">
                                    <p>*</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d10892e1429" headers="d10892e1372 ">
                                    <p>modulus</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d10892e1429 d10892e1375 ">
                                    <p>%</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d10892e1436" headers="d10892e1372 ">
                                    <p>shift</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d10892e1436 d10892e1375 ">
                                    <p>&gt;&gt;,&lt;&lt;</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="LNPCC3094"></a><div class="props_rev_3"><a id="GUID-A81DAF2C-3256-40C4-BDD3-A7072AE0A2A1" name="GUID-A81DAF2C-3256-40C4-BDD3-A7072AE0A2A1"></a><h4 id="LNPCC-GUID-A81DAF2C-3256-40C4-BDD3-A7072AE0A2A1" class="sect4"><span class="enumeration_section">2.3.13 </span>Statement Terminator
                  </h4>
                  <div>
                     <p>Embedded SQL statements are always terminated by a semicolon, as the following example shows:<a id="d10892e1453" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL DELETE FROM emp WHERE deptno = :dept_number;</pre></div>
               </div>
            </div><a id="LNPCC3095"></a><div class="props_rev_3"><a id="GUID-BC13AAB1-EBB5-48C8-970B-9CE7F3B46BAB" name="GUID-BC13AAB1-EBB5-48C8-970B-9CE7F3B46BAB"></a><h3 id="LNPCC-GUID-BC13AAB1-EBB5-48C8-970B-9CE7F3B46BAB" class="sect3"><span class="enumeration_section">2.4 </span>Conditional Precompilation
               </h3>
               <div>
                  <p>Conditional precompilation includes (or excludes) sections of code in your host program based on certain conditions. For example, you might want to include one section of code when precompiling under UNIX and another section when precompiling under VMS. Conditional precompilation lets you write programs that can run in different environments.<a id="d10892e1471" class="indexterm-anchor"></a><a id="d10892e1475" class="indexterm-anchor"></a></p>
                  <p>Conditional sections of code are marked by statements that define the environment and actions to take. You can code C or C++ statements as well as EXEC SQL statements in these sections. The following statements let you exercise conditional control over precompilation:<a id="d10892e1479" class="indexterm-anchor"></a><a id="d10892e1481" class="indexterm-anchor"></a><a id="d10892e1483" class="indexterm-anchor"></a><a id="d10892e1485" class="indexterm-anchor"></a><a id="d10892e1487" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">EXEC ORACLE DEFINE symbol;        -- define a symbol
EXEC ORACLE IFDEF symbol;         -- if symbol is defined
EXEC ORACLE IFNDEF symbol;        -- if symbol is not defined
EXEC ORACLE ELSE;                 -- otherwise
EXEC ORACLE ENDIF;                -- end this control block
</pre><p>All EXEC ORACLE statements must be terminated with a semi-colon.</p>
               </div><a id="LNPCC3096"></a><div class="props_rev_3"><a id="GUID-6D3F3C33-FF03-4E64-BA6C-E67D8DB591DD" name="GUID-6D3F3C33-FF03-4E64-BA6C-E67D8DB591DD"></a><h4 id="LNPCC-GUID-6D3F3C33-FF03-4E64-BA6C-E67D8DB591DD" class="sect4"><span class="enumeration_section">2.4.1 </span>Symbol Definition
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can define a symbol in two ways. Either include the statement:</p><pre class="oac_no_warn" dir="ltr">EXEC ORACLE DEFINE symbol;
</pre><p>in your host program or define the symbol on the command line using the syntax:</p><pre class="oac_no_warn" dir="ltr">... DEFINE=symbol ...
</pre><p>where<code class="codeph"> symbol</code> is not case-sensitive.
                        </p>
                        <div class="infoboxnote" id="GUID-6D3F3C33-FF03-4E64-BA6C-E67D8DB591DD__GUID-7C700117-D67C-4C20-A145-4270750759B4">
                           <p class="notep1">Note:</p>
                           <p>The #define preprocessor directive is not the same as the EXEC ORACLE DEFINE statement.</p>
                        </div>
                        <p>Some port-specific symbols are predefined for you when Pro*C/C++ is installed on your system. For example, predefined operating symbols include CMS, MVS, MS-DOS, UNIX, and VMS.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC3097"></a><div class="props_rev_3"><a id="GUID-14EBEFC2-B510-4C38-B1AF-CC24673DD7AB" name="GUID-14EBEFC2-B510-4C38-B1AF-CC24673DD7AB"></a><h4 id="LNPCC-GUID-14EBEFC2-B510-4C38-B1AF-CC24673DD7AB" class="sect4"><span class="enumeration_section">2.4.2 </span>Example SELECT Statement
                  </h4>
                  <div>
                     <div class="section">
                        <p>In the following example, the SELECT statement is precompiled only when the symbol <code class="codeph">site2</code> is defined:
                        </p><pre class="oac_no_warn" dir="ltr">EXEC ORACLE IFDEF site2;
   EXEC SQL SELECT DNAME
       INTO :dept_name
       FROM DEPT
       WHERE DEPTNO= :dept_number;
EXEC ORACLE ENDIF;
</pre><p>You can "comment out" C, C++, or embedded SQL code by placing it between IFDEF and ENDIF and <span class="bold">not</span> defining the symbol.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNPCC3098"></a><div class="props_rev_3"><a id="GUID-49BB504E-8B72-44F5-B028-384678A576E9" name="GUID-49BB504E-8B72-44F5-B028-384678A576E9"></a><h3 id="LNPCC-GUID-49BB504E-8B72-44F5-B028-384678A576E9" class="sect3"><span class="enumeration_section">2.5 </span>Precompile Separately
               </h3>
               <div>
                  <p>You can precompile several C or C++ program modules separately, then link them into one executable program. This supports modular programming, which is required when the functional components of a program are written and debugged by different programmers. The individual program modules need not be written in the same language.<a id="d10892e1576" class="indexterm-anchor"></a></p>
               </div><a id="LNPCC3099"></a><div class="props_rev_3"><a id="GUID-066E80E9-4FB8-49EA-95CA-3D77581FDC44" name="GUID-066E80E9-4FB8-49EA-95CA-3D77581FDC44"></a><h4 id="LNPCC-GUID-066E80E9-4FB8-49EA-95CA-3D77581FDC44" class="sect4"><span class="enumeration_section">2.5.1 </span>Guidelines
                  </h4>
                  <div>
                     <p>The following guidelines will help you avoid some common problems.<a id="d10892e1591" class="indexterm-anchor"></a><a id="d10892e1595" class="indexterm-anchor"></a> 
                     </p>
                  </div><a id="LNPCC3100"></a><div class="props_rev_3"><a id="GUID-B8ECAD5C-0545-4CC4-A89A-F951C1FE85C3" name="GUID-B8ECAD5C-0545-4CC4-A89A-F951C1FE85C3"></a><h5 id="LNPCC-GUID-B8ECAD5C-0545-4CC4-A89A-F951C1FE85C3" class="sect5"><span class="enumeration_section">2.5.1.1 </span>Referencing Cursors 
                     </h5>
                     <div>
                        <div class="section">
                           <p>Cursor names are SQL identifiers, whose scope is the precompilation unit. Hence, cursor operations cannot span precompilation units (files). That is, you cannot DECLARE a cursor in one file, and OPEN or FETCH from it in another file. So, when doing a separate precompilation, make sure all definitions and references to a given cursor are in one file. <a id="d10892e1612" class="indexterm-anchor"></a><a id="d10892e1616" class="indexterm-anchor"></a><a id="d10892e1620" class="indexterm-anchor"></a><a id="d10892e1624" class="indexterm-anchor"></a></p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNPCC3101"></a><div class="props_rev_3"><a id="GUID-1EF746DF-9513-40F9-AF05-32FD8D96C8A3" name="GUID-1EF746DF-9513-40F9-AF05-32FD8D96C8A3"></a><h5 id="LNPCC-GUID-1EF746DF-9513-40F9-AF05-32FD8D96C8A3" class="sect5"><span class="enumeration_section">2.5.1.2 </span>Specifying MAXOPENCURSORS 
                     </h5>
                     <div>
                        <div class="section">
                           <p>When you precompile the program module that CONNECTs to Oracle, specify a value for MAXOPENCURSORS that is high enough for any of the program modules. If you use MAXOPENCURSORS for another program module, one that does not do a CONNECT, then that value for MAXOPENCURSORS is ignored. Only the value in effect for the CONNECT is used at runtime.<a id="d10892e1638" class="indexterm-anchor"></a><a id="d10892e1642" class="indexterm-anchor"></a> 
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNPCC3102"></a><div class="props_rev_3"><a id="GUID-FFF3BE6C-7CB4-4999-89BA-4726E8BEA3EE" name="GUID-FFF3BE6C-7CB4-4999-89BA-4726E8BEA3EE"></a><h5 id="LNPCC-GUID-FFF3BE6C-7CB4-4999-89BA-4726E8BEA3EE" class="sect5"><span class="enumeration_section">2.5.1.3 </span>Use a Single SQLCA 
                     </h5>
                     <div>
                        <div class="section">
                           <p>If you want to use just one SQLCA, you must declare it as global in one of the program modules and as external in the other modules. Use the <span class="italic">extern</span><span class="bold"> </span>storage class, and the following define in your code: <a id="d10892e1667" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">#define SQLCA_STORAGE_CLASS extern 
</pre><p>which tells the precompiler to look for the SQLCA in another program module. Unless you declare the SQLCA as external, each program module uses its own local SQLCA.<a id="d10892e1675" class="indexterm-anchor"></a><a id="d10892e1679" class="indexterm-anchor"></a> 
                           </p>
                           <div class="infoboxnote" id="GUID-FFF3BE6C-7CB4-4999-89BA-4726E8BEA3EE__GUID-310A5CAD-A4F9-4421-9C46-E917C7760E5E">
                              <p class="notep1">Note:</p>
                              <p>All source files in an application must be uniquely named, or else an error will be generated.</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="LNPCC3103"></a><div class="props_rev_3"><a id="GUID-AF899068-4009-4F45-ACE3-124C8BD4B0DB" name="GUID-AF899068-4009-4F45-ACE3-124C8BD4B0DB"></a><h3 id="LNPCC-GUID-AF899068-4009-4F45-ACE3-124C8BD4B0DB" class="sect3"><span class="enumeration_section">2.6 </span>Compile and Link 
               </h3>
               <div>
                  <p>To get an executable program, you must compile the output <code class="codeph">.c</code> source files produced by the precompiler, then link the resulting object modules with modules needed from SQLLIB and system-specific Oracle libraries. If you are mixing precompiler code and OCI calls, be sure to also link in the OCI runtime library (<code class="codeph">liboci.a</code> on UNIX systems).<a id="d10892e1705" class="indexterm-anchor"></a><a id="d10892e1707" class="indexterm-anchor"></a> 
                  </p>
                  <p>The linker resolves symbolic references in the object modules. If these references conflict, the link fails. This can happen when you try to link third-party software into a precompiled program. Not all third-party software is compatible with Oracle. So, linking your program <span class="italic">shared</span> might cause an obscure problem. In some cases, linking <span class="italic">standalone</span> or <span class="italic">two-task</span> might solve the problem. <a id="d10892e1721" class="indexterm-anchor"></a><a id="d10892e1725" class="indexterm-anchor"></a></p>
                  <p>Compiling and linking are system dependent. On most platforms, example <span class="italic">makefiles</span> or batch files are supplied that you can use to precompile, compile, and link a Pro*C/C++ application. See your system-specific documentation.<a id="d10892e1734" class="indexterm-anchor"></a> 
                  </p>
               </div>
            </div><a id="LNPCC3104"></a><div class="props_rev_3"><a id="GUID-034B6416-444A-4EF1-9078-35F5A86CF1D9" name="GUID-034B6416-444A-4EF1-9078-35F5A86CF1D9"></a><h3 id="LNPCC-GUID-034B6416-444A-4EF1-9078-35F5A86CF1D9" class="sect3"><span class="enumeration_section">2.7 </span>Example Tables
               </h3>
               <div>
                  <p>Most programming examples in this guide use two example database tables: DEPT and EMP. Their definitions follow: <a id="d10892e1748" class="indexterm-anchor"></a><a id="d10892e1752" class="indexterm-anchor"></a><a id="d10892e1756" class="indexterm-anchor"></a><a id="d10892e1758" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">CREATE TABLE DEPT
    (DEPTNO    NUMBER(2) NOT NULL,
     DNAME     VARCHAR2(14),
     LOC       VARCHAR2(13))

CREATE TABLE EMP
    (EMPNO     NUMBER(4) NOT NULL,
     ENAME     VARCHAR2(10),
     JOB       VARCHAR2(9),
     MGR       NUMBER(4),
     HIREDATE  DATE,
     SAL       NUMBER(7,2),
     COMM      NUMBER(7,2),
     DEPTNO    NUMBER(2))</pre></div><a id="LNPCC3105"></a><div class="props_rev_3"><a id="GUID-174C54B4-9036-44EA-9A31-DE23A1F5352B" name="GUID-174C54B4-9036-44EA-9A31-DE23A1F5352B"></a><h4 id="LNPCC-GUID-174C54B4-9036-44EA-9A31-DE23A1F5352B" class="sect4"><span class="enumeration_section">2.7.1 </span>Example Data
                  </h4>
                  <div>
                     <p>Respectively, the DEPT and EMP tables contain the following rows </p>
                     <p>of data:</p><pre class="oac_no_warn" dir="ltr">DEPTNO  DNAME      LOC
------- ---------- ---------
10      ACCOUNTING NEW YORK
20      RESEARCH   DALLAS
30      SALES      CHICAGO
40      OPERATIONS BOSTON

EMPNO ENAME   JOB          MGR  HIREDATE    SAL   COMM  DEPTNO
----- ------- --------- ------ --------- ------ ------ -------
 7369 SMITH   CLERK       7902 17-DEC-80    800             20
 7499 ALLEN   SALESMAN    7698 20-FEB-81   1600    300      30
 7521 WARD    SALESMAN    7698 22-FEB-81   1250    500      30
 7566 JONES   MANAGER     7839 02-APR-81   2975             20
 7654 MARTIN  SALESMAN    7698 28-SEP-81   1250   1400      30
 7698 BLAKE   MANAGER     7839 01-MAY-81   2850             30
 7782 CLARK   MANAGER     7839 09-JUN-81   2450             10
 7788 SCOTT   ANALYST     7566 19-APR-87   3000             20
 7839 KING    PRESIDENT        17-NOV-81   5000             10
 7844 TURNER  SALESMAN    7698 08-SEP-81   1500             30
 7876 ADAMS   CLERK       7788 23-MAY-87   1100             20
 7900 JAMES   CLERK       7698 03-DEC-81    950             30
 7902 FORD    ANALYST     7566 03-DEC-81   3000             20
 7934 MILLER  CLERK       7782 23-JAN-82   1300             10</pre></div>
               </div>
            </div><a id="LNPCC3106"></a><div class="props_rev_3"><a id="GUID-CB0B7383-88DB-4580-B908-857A7FC201D0" name="GUID-CB0B7383-88DB-4580-B908-857A7FC201D0"></a><h3 id="LNPCC-GUID-CB0B7383-88DB-4580-B908-857A7FC201D0" class="sect3"><span class="enumeration_section">2.8 </span>Example Program: A Simple Query 
               </h3>
               <div>
                  <div class="section">
                     <p>One way to get acquainted with Pro*C/C++ and embedded SQL is to study a program example. The following program is also available on-line in the file <code class="codeph">sample1.pc</code> in your Pro*C/C++ <code class="codeph">demo</code> directory. 
                     </p>
                     <p>The program connects to Oracle, then loops, prompting the user for an employee number. It queries the database for the employee's name, salary, and commission, displays the information, and then continues the loop. The information is returned to a host structure. There is also a parallel indicator structure to signal whether any of the output values SELECTed might be NULL. </p>
                     <p>Precompile example programs using the precompiler option MODE=ORACLE. <a id="d10892e1805" class="indexterm-anchor"></a></p>
                     <div class="infoboxnote" id="GUID-CB0B7383-88DB-4580-B908-857A7FC201D0__GUID-6A45CFA8-8372-45C8-88DE-6F6F5C6B941D">
                        <p class="notep1">Note:</p>
                        <p>For simplicity in demonstrating this feature, this example does not perform the password management techniques that a deployed system normally uses. In a production environment, follow the Oracle Database password management guidelines, and disable any sample accounts. See <a href="../dbseg/managing-security-for-application-developers.html#DBSEG50053" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for password management guidelines and other security recommendations.
                        </p>
                     </div><pre class="oac_no_warn" dir="ltr">/*
 *  sample1.pc
 *
 *  Prompts the user for an employee number,
 *  then queries the emp table for the employee's
 *  name, salary and commission.  Uses indicator
 *  variables (in an indicator struct) to determine
 *  if the commission is NULL.
 *
 */

#include &lt;stdio.h&gt;
#include &lt;string.h&gt;


/* Define constants for VARCHAR lengths. */
#define     UNAME_LEN      20
#define     PWD_LEN        40

/* Declare variables. No declare section is needed if MODE=ORACLE.*/
VARCHAR     username[UNAME_LEN];  
/* VARCHAR is an Oracle-supplied struct */
varchar     password[PWD_LEN];    
/* varchar can be in lower case also. */
/*
Define a host structure for the output values of a SELECT statement.
*/
struct {
    VARCHAR   emp_name[UNAME_LEN];
    float     salary;
    float     commission;
} emprec;
/* 
Define an indicator struct to correspond to the host output struct. */
struct
{
    short     emp_name_ind;
    short     sal_ind;
    short     comm_ind;
} emprec_ind;

/*  Input host variable. */
int         emp_number;
int         total_queried;
/* Include the SQL Communications Area.
   You can use #include or EXEC SQL INCLUDE. */
#include &lt;sqlca.h&gt;

/* Declare error handling function. */
void sql_error();

main()
{
    char temp_char[32];

/* Connect to ORACLE--
 * Copy the username into the VARCHAR.
 */
    strncpy((char *) username.arr, "SCOTT", UNAME_LEN);
/* Set the length component of the VARCHAR. */
    username.len = strlen((char *) username.arr);
/* Copy the password. */
    strncpy((char *) password.arr, "TIGER", PWD_LEN);
    password.len = strlen((char *) password.arr);
/* Register sql_error() as the error handler. */
    EXEC SQL WHENEVER SQLERROR DO sql_error("ORACLE error--\n");

/* Connect to ORACLE.  Program will call sql_error()
 * if an error occurs when connecting to the default database.
 */
    EXEC SQL CONNECT :username IDENTIFIED BY :password;
    printf("\nConnected to ORACLE as user: %s\n", username.arr);
/* Loop, selecting individual employee's results */
    total_queried = 0;
    for (;;)
    {
/* Break out of the inner loop when a
 * 1403 ("No data found") condition occurs.
 */
        EXEC SQL WHENEVER NOT FOUND DO break;
        for (;;)
        {
            emp_number = 0;
            printf("\nEnter employee number (0 to quit): ");
            gets(temp_char);
            emp_number = atoi(temp_char);
            if (emp_number == 0)
                break;
            EXEC SQL SELECT ename, sal, NVL(comm, 0)
                INTO :emprec INDICATOR :emprec_ind
                FROM EMP
                WHERE EMPNO = :emp_number;
/* Print data. */
            printf("\n\nEmployee\tSalary\t\tCommission\n");
            printf("--------\t------\t\t----------\n");
/* Null-terminate the output string data. */
            emprec.emp_name.arr[emprec.emp_name.len] = '\0';
            printf("%-8s\t%6.2f\t\t",
                emprec.emp_name.arr, emprec.salary);
            if (emprec_ind.comm_ind == -1)
                printf("NULL\n");
            else
                printf("%6.2f\n", emprec.commission);

            total_queried++;
        }  /* end inner for (;;) */
        if (emp_number == 0) break;
        printf("\nNot a valid employee number - try again.\n");
    } /* end outer for(;;) */

    printf("\n\nTotal rows returned was %d.\n", total_queried); 
    printf("\nG'day.\n\n\n");

/* Disconnect from ORACLE. */
    EXEC SQL COMMIT WORK RELEASE;
    exit(0);
}
void sql_error(msg)
char *msg;
{
    char err_msg[128];
    int buf_len, msg_len;

    EXEC SQL WHENEVER SQLERROR CONTINUE;
    printf("\n%s\n", msg);
    buf_len = sizeof (err_msg);
    sqlglm(err_msg, &amp;buf_len, &amp;msg_len);
    if (msg_len &gt; buf_len)
    msg_len = buf_len;
    printf("%.*s\n", msg_len, err_msg);
    EXEC SQL ROLLBACK RELEASE;
    exit(1);
}
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNPCC3107"></a><div class="props_rev_3"><a id="GUID-AA2ACB44-9A2F-4C91-9766-7369D6177939" name="GUID-AA2ACB44-9A2F-4C91-9766-7369D6177939"></a><h3 id="LNPCC-GUID-AA2ACB44-9A2F-4C91-9766-7369D6177939" class="sect3"><span class="enumeration_section">2.9 </span>Example Program: A Simple Query using SQL99 Syntax
               </h3>
               <div>
                  <div class="section">
                     <p>This program is similar to the previous example, but uses SQL99 syntax for SELECT, INSERT, DELETE and UPDATE statements and the body of the cursor in a DECLARE CURSOR statement is supported. </p>
                     <p>Precompile example programs using the precompiler option MODE=ORACLE. <a id="d10892e1834" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">/*
 *  sql99.pc
 *
 *  Prompts the user for an employee number,
 *  then queries the emp table for the employee's
 *  name, salary and department. 
 *
 */
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;sqlda.h&gt;
#include &lt;sqlcpr.h&gt;
.
/* Define constants for VARCHAR lengths. */
#define     UNAME_LEN     30
#define     PWD_LEN        40
/* Declare variables.  No declare section is needed if MODE=ORACLE. */
 
VARCHAR     username[UNAME_LEN]; 
 /* VARCHAR is an Oracle-supplied struct */
 varchar     password[PWD_LEN];  
 /* varchar can be in lower case also. */
/* Define a host structure for the output values of a SELECT statement.  */
 
struct{ 
   VARCHAR   emp_name[UNAME_LEN];   
   float     salary;  
   VARCHAR  dept_name[UNAME_LEN] ;
  } emprec;
/* Define an indicator struct to correspond to the host output struct. */
struct{ 
   short     emp_name_ind;  
   short     sal_ind;   
   short     dept_name;
  } emprec_ind;
 
/*  Input host variable. */
int         emp_number;
int         total_queried;
/* Include the SQL Communications Area. You can use #include or EXEC SQL 
INCLUDE. */
 
#include &lt;sqlca.h&gt;
/* Declare error handling function. */
void sql_error(msg)   
   char *msg;
   {   
    char err_msg[128];    
    size_t buf_len, msg_len;    
    EXEC SQL WHENEVER SQLERROR CONTINUE;    
    printf("\n%s\n", msg); 
    buf_len = sizeof (err_msg);
    sqlglm(err_msg, &amp;buf_len, &amp;msg_len);  
    printf("%.*s\n", msg_len, err_msg); 
    EXEC SQL ROLLBACK RELEASE;  
  exit(EXIT_FAILURE);
  }
 
void main(){  
   char temp_char[32];
  /* Connect to ORACLE-- * Copy the username into the VARCHAR. */
    strncpy((char *) username.arr, "scott", UNAME_LEN);
  /* Set the length component of the VARCHAR. */   
    username.len = (unsigned short) strlen((char *) username.arr);
   /* Copy the password. */   
     strncpy((char *) password.arr, "tiger", PWD_LEN);   
     password.len = (unsigned short) strlen((char *) password.arr);
  /* Register sql_error() as the error handler. */    
    EXEC SQL WHENEVER SQLERROR DO sql_error("ORACLE error--\n");
  /* Connect to ORACLE.  Program will call sql_error() * if an error occurs 
when connecting to the default database. */    
     EXEC SQL CONNECT :username IDENTIFIED BY :password; 
    printf("\nConnected to ORACLE as user: %s\n", username.arr);
  /* Loop, selecting individual employee's results */   
     total_queried = 0;   
     for (;;)    {
                  emp_number = 0;       
                  printf("\nEnter employee number (0 to quit): "); 
                  gets(temp_char);    
                  emp_number = atoi(temp_char);      
                  if (emp_number == 0)            
                        break;
  /* Branch to the notfound label when the * 1403 ("No data found") condition 
occurs. */     
   EXEC SQL WHENEVER NOT FOUND GOTO notfound;
 
<span class="bold">  /* The following query uses SQL99 syntax - RIGHT OUTER JOIN */</span>
    EXEC SQL SELECT e.ename, e.sal, d.dname        
    INTO :emprec INDICATOR :emprec_ind       
    FROM EMP e RIGHT OUTER JOIN dept d   
    ON e.deptno = d.deptno  
    WHERE e.EMPNO = :emp_number;
  /* Print data. */      
  printf("\n\nEmployee   Salary    Department Name\n");    
  printf("--------   -------   ------------------\n");
  /* Null-terminate the output string data. */    
    emprec.emp_name.arr[emprec.emp_name.len] = '\0';  
    emprec.dept_name.arr[emprec.dept_name.len]='\0';   
    printf("%s      %7.2f          %s ",            emprec.emp_name.arr, 
  emprec.salary, emprec.dept_name.arr);
    total_queried++;   
     continue;
  
  notfound:        
     printf("\nNot a valid employee number - try again.\n");  
  }
  
 printf("\n\nTotal rows returned was %d.\n", total_queried); 
 printf("\nG'day.\n\n\n");
/* Disconnect from ORACLE. */ 
   EXEC SQL ROLLBACK WORK RELEASE;   
 exit(EXIT_SUCCESS);
}
</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>