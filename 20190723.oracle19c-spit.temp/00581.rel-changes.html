<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Changes in This Release for Oracle Database Advanced Queuing User's Guide</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Advanced Queuing User's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Advanced Queuing User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96511-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="preface.html" title="Previous" type="text/html">
      <link rel="next" href="aq-introduction.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle® Database Advanced Queuing">
    <meta name="dcterms.isVersionOf" content="ADQUE">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="preface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="aq-introduction.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Advanced Queuing User's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Changes in This Release for Oracle Database Advanced Queuing User's Guide</li>
            </ol>
            <a id="GUID-99BB7E1C-B535-4813-8D40-A4C6BB251B6C" name="GUID-99BB7E1C-B535-4813-8D40-A4C6BB251B6C"></a><a id="ADQUE3676"></a>
            
            <h2 id="ADQUE-GUID-99BB7E1C-B535-4813-8D40-A4C6BB251B6C" class="sect2">Changes in This Release for Oracle Database Advanced Queuing User's Guide</h2>
         </header>
         <div class="ind">
            <div>
               <p>This preface contains:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="rel-changes.html#GUID-F3B96973-945F-47B3-844C-5DE92F57F04F">Changes in Oracle Database Advanced Queuing 12c Release 2 (12.2)</a></p>
                  </li>
                  <li>
                     <p><a href="rel-changes.html#GUID-2664B2F4-DDC8-4F83-AA01-B0B2352BF0F1">Changes in Oracle Database Advanced Queuing 12c Release 1 (12.1.0.2)</a></p>
                  </li>
                  <li>
                     <p><a href="rel-changes.html#GUID-A1EAA5BD-C1ED-482A-AE04-9727F37D1C78">Changes in Oracle Database Advanced Queuing 12c Release 1 (12.1)</a></p>
                  </li>
               </ul>
            </div>
            <div class="props_rev_3"><a id="GUID-21381200-A3D3-48DE-8603-9AF271015882" name="GUID-21381200-A3D3-48DE-8603-9AF271015882"></a><h3 id="ADQUE-GUID-21381200-A3D3-48DE-8603-9AF271015882" class="sect3">Changes in Oracle Database Advanced Queuing Release 19c, Version 19.2</h3>
               <div>
                  <p>The following are changes in <span class="italic">Oracle Database Advanced Queuing User's Guide</span> for Oracle Database Release 19c, Version 19.2
                  </p>
               </div>
               <div class="props_rev_3"><a id="GUID-2FE190FB-B59D-4A9B-98C1-26210FE834CD" name="GUID-2FE190FB-B59D-4A9B-98C1-26210FE834CD"></a><h4 id="ADQUE-GUID-2FE190FB-B59D-4A9B-98C1-26210FE834CD" class="sect4">New Features</h4>
                  <div>
                     <p>The following feature is new in this release:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Enhanced Key-based Messaging</p>
                           <p>AQ sharded queues perform substantially better when compared to AQ classic (non-sharded) queues. This is achieved by sharding the queue, where each shard is owned by a specific instance of the database. By default, sharding is completely transparent to the user when it comes to enqueue and dequeue operations. AQ internally puts the message in the appropriate shard to get maximum performance and session level ordering as required by the JMS specification. Session level ordering ensures that no two messages will be dequeued in the reverse order of their enqueue order if both the messages are enqueued by the same session and have the same priority and delivery mode.</p>
                           <p>In some cases, user applications want to control the sharding. The user application can choose the shard where a message is enqueued. The users can decide the way they plan to shard their messages in the sharded queue to support the application logic as needed. The performance and ordering benefits of AQ sharded queues are still maintained even if the sharding is under control of the user. Applications can control the following:</p>
                           <ul style="list-style-type: disc;" id="GUID-2FE190FB-B59D-4A9B-98C1-26210FE834CD__UL_WYF_3BS_TGB">
                              <li>
                                 <p>The number of shards of the queue</p>
                              </li>
                              <li>
                                 <p>Key based enqueues: The enqueue session can choose the shard of the queue where the message will be enqueued by providing a key with the message at the time of enqueue.</p>
                              </li>
                              <li>
                                 <p>Sticky dequeues: A shard can have only one active dequeue session for a single-consumer queue or JMSQueue (similarly, only one dequeue session per subscriber for a multi-consumer queue or JMSTopic). That dequeue session will stick to that shard of the queue for the session’s lifetime. Such functionality is also available for JMS listeners.</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-2FE190FB-B59D-4A9B-98C1-26210FE834CD__GUID-B7FFC77D-33B7-4B6A-8C1A-8434495CDF03">
                        <p class="notep1">See Also:</p>
                        <p><a href="aq-performance-scalability.html#GUID-423633E9-9B72-45B5-9C3E-95386BBEDBA0" title="An application can decide the way messages are sharded in the sharded queue. In such cases, the application explicitly specifies to enqueue a message in a specific shard.">User Sharding</a></p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-420FC18D-3ADD-4DCB-BDEC-C94774542898" name="GUID-420FC18D-3ADD-4DCB-BDEC-C94774542898"></a><h4 id="ADQUE-GUID-420FC18D-3ADD-4DCB-BDEC-C94774542898" class="sect4">Desupported Features</h4>
                  <div>
                     <p>The following feature is desupported in this release:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Desupport of Oracle Streams</p>
                           <p>Starting in Oracle Database 19c, the Oracle Streams feature is desupported. Use Oracle GoldenGate to replace all replication features of Oracle Streams.</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-F3B96973-945F-47B3-844C-5DE92F57F04F" name="GUID-F3B96973-945F-47B3-844C-5DE92F57F04F"></a><h3 id="ADQUE-GUID-F3B96973-945F-47B3-844C-5DE92F57F04F" class="sect3">Changes in Oracle Database Advanced Queuing 12<span class="italic">c</span> Release 2 (12.2.)
               </h3>
               <div>
                  <p>The following are changes in <span class="italic">Oracle Database Advanced Queuing User's Guide</span> for Oracle Database 12<span class="italic">c</span> Release 2 (12.2).
                  </p>
               </div>
               <div class="props_rev_3"><a id="GUID-9D5D3554-8036-4DF5-A44C-A77A171D37C8" name="GUID-9D5D3554-8036-4DF5-A44C-A77A171D37C8"></a><h4 id="ADQUE-GUID-9D5D3554-8036-4DF5-A44C-A77A171D37C8" class="sect4">New Features</h4>
                  <div>
                     <p>The following features are new in this release:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>PL/SQL enqueue and dequeue support for JMS and non-JMS (ADT or RAW) payload in Sharded Queues</p>
                           <p>Oracle Database 12<span class="italic">c</span> Release 2 (12.2) extends and supports PL/SQL APIs to perform enqueue and dequeue operations for JMS, ADT, and RAW payload in sharded queues. The PL/SQL Array APIs also support sharded queues. Many existing non-JMS applications can now use sharded queues with little or no change.
                           </p>
                           <p>Starting from Oracle Database 12<span class="italic">c</span> Release 2 (12.2), JMS customers using sharded queues can make use of PL/SQL notification to register a PL/SQL procedure that gets automatically invoked by AQ Server on successful enqueue. PL/SQL notification can eliminate the need for clients to poll the queue for messages because messages can be automatically dequeued and processed at the server.
                           </p>
                           <p>See <a href="aq-administrative-interface.html#GUID-803975AA-F341-4B85-B35B-B2996AB7ABB3" title="These topics describe how to manage sharded queues.">Managing Sharded Queues</a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>Sharded Queue Diagnosability and Manageability</p>
                           <p>Starting from 12<span class="italic">c</span> Release 2 (12.2), AQ sharded queues provides an advisor, views, and automated management for its message cache to optimize <code class="codeph">STREAMS_POOL</code> memory allocation and throughput.
                           </p>
                           <p>See <a href="aq-performance-scalability.html#GUID-AE1B40DA-FCEE-4EBB-8B83-96477C47DD49">Sharded Queues Tuning</a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>Longer Identifiers for Oracle Database Advanced Queuing</p>
                           <p>Starting from 12<span class="italic">c</span> Release 2 (12.2), the maximum length of AQ queue names has been increased to 122 bytes. The maximum length of subscriber and recipient names is increased to 128 characters. For the AQ Rules Engine, the maximum length of rule names and rule set names is now 128 bytes.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADQUE3686"></a><div class="props_rev_3"><a id="GUID-2664B2F4-DDC8-4F83-AA01-B0B2352BF0F1" name="GUID-2664B2F4-DDC8-4F83-AA01-B0B2352BF0F1"></a><h3 id="ADQUE-GUID-2664B2F4-DDC8-4F83-AA01-B0B2352BF0F1" class="sect3">Changes in Oracle Database Advanced Queuing 12<span class="italic">c</span> Release 1 (12.1.0.2)
               </h3>
               <div>
                  <p>The following are changes in <span class="italic">Oracle Database Advanced Queuing User's Guide</span> for Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                  </p>
               </div><a id="ADQUE3687"></a><div class="props_rev_3"><a id="GUID-D310FF4C-9901-476D-B4B9-2A42069D1034" name="GUID-D310FF4C-9901-476D-B4B9-2A42069D1034"></a><h4 id="ADQUE-GUID-D310FF4C-9901-476D-B4B9-2A42069D1034" class="sect4">New Features</h4>
                  <div>
                     <p>The following feature is new in this release:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>JMS Streaming</p>
                           <p>In Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2), Advanced Queuing introduces JMS Streaming with enqueue and dequeue for sharded queues through <code class="codeph">AQjmsBytesMessage</code> and <code class="codeph">AQjmsStreamMessage</code>, for the applications interested in sending and receiving large message data or payload.
                           </p>
                           <p>See <span class="q">"<a href="jms-introduction.html#GUID-3C01DF53-88AE-4A33-986A-5C259230491F">JMS Streaming</a>"</span> for more information.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADQUE3677"></a><div class="props_rev_3"><a id="GUID-A1EAA5BD-C1ED-482A-AE04-9727F37D1C78" name="GUID-A1EAA5BD-C1ED-482A-AE04-9727F37D1C78"></a><h3 id="ADQUE-GUID-A1EAA5BD-C1ED-482A-AE04-9727F37D1C78" class="sect3">Changes in Oracle Database Advanced Queuing 12<span class="italic">c</span> Release 1 (12.1)
               </h3>
               <div>
                  <p>The following are changes in <span class="italic">Oracle Database Advanced Queuing User's Guide</span> for Oracle Database 12<span class="italic">c</span> Release 1 (12.1).
                  </p>
               </div><a id="ADQUE3678"></a><div class="props_rev_3"><a id="GUID-886B084A-F632-4C6E-8CD9-7A905E1D4315" name="GUID-886B084A-F632-4C6E-8CD9-7A905E1D4315"></a><h4 id="ADQUE-GUID-886B084A-F632-4C6E-8CD9-7A905E1D4315" class="sect4">New Features</h4>
                  <div>
                     <p>The following features are new in this release:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>JMS Sh<a id="d6132e593" class="indexterm-anchor"></a>arded Queues
                           </p>
                           <p>In Oracle Database 12<span class="italic">c</span> Release 1 (12.1), Advanced Queuing introduces high performing and scalable sharded JMS Queues. A sharded queue is a single logical queue that is divided into multiple, independent, physical queues through system-maintained partitioning. A <a id="d6132e601" class="indexterm-anchor"></a><a href="glossary.html#GUID-2FB637EC-4964-4E48-A71A-3C4F27606A0B"><span class="xrefglossterm">sharded queue</span></a> increases enqueue-dequeue throughput, especially across Oracle RAC instances, because ordering between two messages on different queue shards is best effort.  Each shard is ordered based on enqueue time within a session. Sharded queues automatically manage table partitions so that enqueuers and dequeuers do not contend among themselves. In addition, sharded queues use an in-memory message cache to optimize performance and reduce the disk and CPU overhead of AQ-JMS enqueues and dequeues. Sharded queues are the preferred JMS queues for queues used across Oracle RAC instances, for queues with high enqueue or dequeue rates, or for queues with many subscribers. 
                           </p>
                           <p>In 12.2, Sharded Queues have been enhanced to support more than JMS. See <a href="aq-performance-scalability.html#GUID-30265296-1110-47C0-B949-D22520D04197" title="An application can decide the way messages are sharded in the sharded queue. In such cases, the application explicitly specifies to enqueue a message in a specific shard.">Sharded Queues</a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>Result Cache Enhancement</p>
                           <p>In Oracle Database 12<span class="italic">c</span> Release 1 (12.1), the Rules Engine introduces a <a id="d6132e624" class="indexterm-anchor"></a><a href="glossary.html#GUID-26999788-C87F-44B1-B7E7-725D808A1079"><span class="xrefglossterm">result cache</span></a> to improve the performance of many commonly used rules. The result cache will bypass the evaluation phase if an expression with the same attributes has already been evaluated earlier. Not all rule results are cached, such as when rule results are potentially non-deterministic or when not all rules are evaluated or when attributes include non-scalar data types. For Advanced Queues, the cache is most useful when subscriptions and their dequeue sessions are long-lived.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LONG VARCHAR</code> Support
                           </p>
                           <p>The <a id="d6132e637" class="indexterm-anchor"></a><a id="d6132e641" class="indexterm-anchor"></a><code class="codeph">LONG VARCHAR</code> data type is supported by Oracle Database Advanced Queuing in Oracle Database 12<span class="italic">c</span> Release 1 (12.1). 
                           </p>
                        </li>
                        <li>
                           <p>3-Tier Background Architecture</p>
                           <p>Oracle Database 12c Release 1 (12.1) introduces the <a id="d6132e654" class="indexterm-anchor"></a>AQ background process architecture with a new a 3-tier design. 
                           </p>
                           <p>See <span class="q">"<a href="aq-basic-components.html#GUID-FBA9CCE1-1DFE-4C1D-B795-89AFA66AB4FC" title="Oracle Database Advanced Queuing 12c Release 1 (12.1) introduces a new AQ background architecture with a 3-tier design.">AQ Background Architecture</a>"</span> for more information. 
                           </p>
                        </li>
                        <li>
                           <p>Support for Data Guard Database Rolling Upgrade</p>
                           <p>Databases that use Oracle Database Advanced Queuing can now be upgraded to new Oracle database releases and patch sets in rolling fashion using Data Guard database rolling upgrades (transient logical standby database only). Rolling upgrades are supported beginning in Oracle Database 12<span class="italic">c</span> Release 1 (12.1).
                           </p>
                           <p>Data Guard database rolling upgrades reduce planned downtime by enabling the upgrade to new database releases or patch sets in rolling fashion. Total database downtime for such an upgrade is limited to the small amount of time required to execute a Data Guard switchover.</p>
                           <p>The following packages will have support for rolling upgrade using logical standby:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">DBMS_AQ</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBMS_AQJMS</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBMS_AQADM</code>, except for the following procedures:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">SCHECULE_PROPAGATION</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">UNSCHEDULE_PROPAGATION</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">ALTER_PROPAGATION_SCHEDULE</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">ENABLE_PROPAGATION_SCHEDULE</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">DISABLE_PROPAGATION_SCHEDULE</code></p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-886B084A-F632-4C6E-8CD9-7A905E1D4315__GUID-22768405-A65C-442E-A3D6-DF8C66C5B01B">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../arpls/index.html" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information on the Oracle Database AQ packages
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>