<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Configuring the Gateway Using TCP/IP Communication Protocol</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Installation and Configuration Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Installation and Configuration Guide for Microsoft Windows">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-appc-installation-and-configuration-guide-microsoft-windows.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T19:10:00-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="F18240-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="configure-appc-gateway-using-sna.html" title="Previous" type="text/html">
      <link rel="next" href="appc-gateway-security-requirements.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC Installation and Configuration Guide for Microsoft Windows">
    <meta name="dcterms.isVersionOf" content="APPCW">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configure-appc-gateway-using-sna.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="appc-gateway-security-requirements.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Installation and Configuration Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Configuring the Gateway Using TCP/IP Communication Protocol</li>
            </ol>
            <a id="GUID-2E8F3302-CA66-45F1-A0F0-241FDEC9EBCE" name="GUID-2E8F3302-CA66-45F1-A0F0-241FDEC9EBCE"></a><a id="APPCW215"></a>
            
            <h2 id="APPCW-GUID-2E8F3302-CA66-45F1-A0F0-241FDEC9EBCE" class="sect2"><span class="enumeration_chapter">9 </span> Configuring the Gateway Using TCP/IP Communication Protocol
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The following topics outline the steps to configure the Oracle database  for a gateway using TCP/IP for IMS Connect on your Microsoft Windows platform. They also provide the steps to verify installation and configuration of the gateway and OLTP components.</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-07D12664-17E3-4DC4-B3C8-3BD452A44675">Before You Begin</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A">Preparing to Configure a Gateway Installation/Upgrade   </a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C">Configuring the Oracle Database : First Time Installation </a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-9883203F-7CBC-484D-BCC3-CA836A9946B1">Upgrading or Migrating the Oracle Database  from Previous Gateways</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6">Optional Configuration Steps to Permit Multiple Users</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-4401EF36-6A5E-4DF2-8FB8-57D8EEFEDB92">Configuring TCP/IP for the Gateway</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189">Configuring the Gateway</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-7FBE512D-4608-482A-8F27-EFBFF6BAE583">Loading the PGA_TCP_IMSC Table</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-8D4B842E-0CF0-4072-8FF6-3AC0737A7D00">Verifying the Gateway Installation and OLTP Configuration</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-7FB56CC9-2004-4716-9DF5-4082EC028816">Performing Postinstallation Procedures</a></p>
                  </li>
               </ul>
               <p><a id="d11914e82" class="indexterm-anchor"></a><a id="d11914e88" class="indexterm-anchor"></a>Configuring the Oracle Database Gateway for APPC using TCP/IP support for IMS Connect involves working with the following components:
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>the Oracle database </p>
                  </li>
                  <li>
                     <p>your Windows system</p>
                  </li>
                  <li>
                     <p>your network</p>
                  </li>
                  <li>
                     <p>the OLTP</p>
                  </li>
               </ul>
            </div><a id="APPCW216"></a><div class="props_rev_3"><a id="GUID-07D12664-17E3-4DC4-B3C8-3BD452A44675" name="GUID-07D12664-17E3-4DC4-B3C8-3BD452A44675"></a><h3 id="APPCW-GUID-07D12664-17E3-4DC4-B3C8-3BD452A44675" class="sect3">Before You Begin</h3>
               <div>
                  <p>The following topics require you to input parameters unique to your system in order to properly configure the gateway and TCP/IP communications interface. </p>
                  <p>Refer to <a href="appc-gateway-configuration-worksheet.html#GUID-96B6C85D-6B37-42C7-ADE0-5752F46AF88A"> Configuration Worksheet</a> for a worksheet listing the installation parameters you will need to know before you can complete the configuration process. Ask your network administrator to provide you with these unique parameter names before you begin.
                  </p>
               </div>
            </div><a id="APPCW321"></a><a id="APPCW322"></a><a id="APPCW323"></a><a id="APPCW217"></a><div class="props_rev_3"><a id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A" name="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A"></a><h3 id="APPCW-GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A" class="sect3">Preparing to Configure a Gateway Installation/Upgrade   </h3>
               <div>
                  <div class="section">
                     <p>There are three ways to establish the gateway-Oracle database  relationship when you are installing or upgrading/migrating the gateway:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011353">When the Oracle Database and the gateway are installed in the same ORACLE_HOME on the same machine</a>; 
                           </p>
                        </li>
                        <li>
                           <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011368">When the Oracle Database and the gateway are installed on separate machine</a>; or
                           </p>
                        </li>
                        <li>
                           <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011275">When the Oracle Database and the gateway are on the same machine but in different directories</a></p>
                        </li>
                     </ul>
                     <p><a id="d11914e214" class="indexterm-anchor"></a><a id="d11914e218" class="indexterm-anchor"></a><a id="d11914e222" class="indexterm-anchor"></a>Depending on the location of your gateway and your Oracle database , you may need to transfer some of the gateway administrative files to the location where the Oracle database  is installed. 
                     </p>
                     <p>Follow the instructions suitable to your combination of the gateway-Oracle database  locations listed below.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011353">
                     <p class="subhead2" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__GUID-CB489B5A-2B9A-4376-92D2-A9D9E79F7BCB">When the Oracle Database  and the gateway are installed in the same ORACLE_HOME on the same machine</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You do not need to transfer files. Proceed to <span class="q">"<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C">Configuring the Oracle Database : First Time Installation </a>"</span>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011368">
                     <p class="subhead2" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__GUID-67C72431-4FE7-4DF9-BC56-487482A6A4BA">When the Oracle Database  and the gateway are installed on separate machine</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ol>
                        <li>
                           <p>Locate the gateway administrative files in the gateway                                  <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. All files in this directory that have the suffix <code class="codeph">.sql</code>, <code class="codeph">.pkh</code>,<span class="bold"> </span>and <code class="codeph">.pkb</code> must be copied into a similarly-named directory in the Oracle database 's Oracle home directory. 
                           </p>
                        </li>
                        <li>
                           <p>Now locate the gateway demo files and subdirectories in the gateway            <code class="codeph">%ORACLE_HOME%\dg4appc\demo</code> directory. Copy the <code class="codeph">pgavsn.sql </code>and <code class="codeph">pgaecho.sql</code> files into a similarly named directory in the Oracle database .
                           </p>
                        </li>
                        <li>
                           <p>Copy the <code class="codeph">pgaims.sql</code> file from the gateway Oracle home                                        <code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code> directory to your Oracle database 's Oracle home <code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS </code>directory.
                           </p>
                        </li>
                        <li>
                           <p>Optional Steps: If you want to run <code class="codeph">IVTNV</code> and <code class="codeph">IVTNO</code>, then you will need to copy the <code class="codeph">ivtno.ctl</code>, <code class="codeph">ivtnod.sql</code>, <code class="codeph">ivtnv.ctl</code>, and <code class="codeph">ivtnvd.sql</code> files into the Oracle database 's Oracle home <code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code> directory as well. Make sure to generate the required TIPs and transfer them as well.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011275">
                     <p class="subhead2" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__GUID-C2C2EF5C-EEE3-492C-981B-362CFD4AC10D">When the Oracle Database  and the gateway are on the same machine but in different directories</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You must change your gateway's Oracle home to the Oracle database 's Oracle home directory. </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>For example, if your gateway's Oracle home is set as follows:</span><div><pre class="oac_no_warn" dir="ltr">C:\&gt; echo %ORACLE_HOME%
C:\oracle\pga\12.2
</pre><p>and your server's Oracle home is located in the '<code class="codeph">\oracle\pga\12.2'</code> directory, then you need to do the following:
                           </p><pre class="oac_no_warn" dir="ltr">C:\&gt; SET ORACLE_HOME=C:\oracle\pga\12.2
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Now, create the directories with the following commands:</span><div><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%
C:\&gt; mkdir dg4appc
C:\&gt; mkdir dg4appc\admin
C:\&gt; mkdir dg4appc\demo
C:\&gt; mkdir dg4appc\demo\IMS
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Use whatever file transfer mechanism is available on your system to copy all the <code class="codeph">.sql</code>, <code class="codeph">.pkh</code>, and <code class="codeph">.pkb</code> files from the gateway's Oracle home                                 <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory to the Oracle database 's Oracle home <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory.</span></li>
                     <li class="stepexpand"><span>You may also transfer the demo files from the gateway directory to the Oracle database  directory. Copy the pgavsn.sql and <code class="codeph">pgaecho.sql</code> files <code class="codeph">and</code> directory recursively from the gateway Oracle home's <code class="codeph">%ORACLE_HOME%\dg4appc\demo</code> directory to the Oracle database 's <code class="codeph">%ORACLE_HOME%\dg4appc\demo</code> directory.</span></li>
                     <li class="stepexpand"><span>You may also copy the <a id="d11914e374" class="indexterm-anchor"></a><code class="codeph">pgaims.sql</code> file from the gateway Oracle home                     <code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code> directory to the Oracle database  Oracle home <code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS </code>directory.</span><div>
                           <p>Optional Steps: If you want to run <code class="codeph">IVTNV</code> and <code class="codeph">IVTNO</code>, then you will need to copy the<code class="codeph"> ivtno.ctl</code>, <code class="codeph">ivtnod.sql</code>, <code class="codeph">ivtnv.ctl</code>, and <code class="codeph">ivtnvd.sql</code> files into the Oracle database 's Oracle home <code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code> directory as well. Make sure to generate the required TIPs and transfer them as well.
                           </p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>Proceed to <span class="q">"<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C">Configuring the Oracle Database : First Time Installation </a>"</span>. Following those steps, you may want to perform the <a href="configure-appc-gateway-using-tcp-ip.html#GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6">Optional Configuration Steps to Permit Multiple Users</a>,<a href="configure-appc-gateway-using-tcp-ip.html#GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6">Optional Configuration Steps to Permit Multiple Users</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW218"></a><div class="props_rev_3"><a id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C" name="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C"></a><h3 id="APPCW-GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C" class="sect3">Configuring the Oracle Database : First Time Installation </h3>
               <div>
                  <div class="section">
                     <p>Follow these steps to configure the <a id="d11914e460" class="indexterm-anchor"></a>Oracle database  after installing the Oracle Database Gateway for APPC.
                     </p>
                     <ol>
                        <li>
                           <p>Ensure that the <a id="d11914e471" class="indexterm-anchor"></a><a id="d11914e473" class="indexterm-anchor"></a><a id="d11914e477" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> PL/SQL package has been installed on the Oracle database . <a id="d11914e486" class="indexterm-anchor"></a><a id="d11914e492" class="indexterm-anchor"></a>All PGAU-generated TIP specifications use <code class="codeph">UTL_RAW</code>, which provides routines for manipulating raw data.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use <a id="d11914e504" class="indexterm-anchor"></a>SQL*Plus to connect to the Oracle database  as user <code class="codeph">SYS</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE UTL_RAW
</pre><p>The <code class="codeph">DESCRIBE</code> statement produces output on the screen. If you browse through the output, then you should see some functions, including a compare function. If you do not see this output, then continue the <code class="codeph">UTL_RAW</code> installation by performing Step&nbsp;<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1009553">1.d</a>. 
                                 </p>
                                 <p>If the <a id="d11914e530" class="indexterm-anchor"></a><a id="d11914e534" class="indexterm-anchor"></a><code class="codeph">DESCRIBE</code> statement indicates success, then your Oracle database  has <a id="d11914e539" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> installed and you can proceed to Step&nbsp;<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1009086">2</a>.
                                 </p>
                              </li>
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database  as <code class="codeph">SYS</code>.
                                 </p>
                              </li>
                              <li id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1009553">
                                 <p>From SQL*Plus, run the <a id="d11914e556" class="indexterm-anchor"></a><a id="d11914e560" class="indexterm-anchor"></a>utlraw.sql and <a id="d11914e565" class="indexterm-anchor"></a><a id="d11914e567" class="indexterm-anchor"></a><code class="codeph">prvtrawb.plb</code> scripts in the Oracle database <code class="codeph">%ORACLE_HOME%\rdbms\admin</code> directory, in the following order:
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\rdbms\admin
SQL&gt; @utlraw.sql
SQL&gt; @prvtrawb.sql
</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1009086">
                           <p>Ensure that the<code class="codeph"> DBMS_OUTPUT</code> standard PL/SQL <a id="d11914e585" class="indexterm-anchor"></a><a id="d11914e587" class="indexterm-anchor"></a><a id="d11914e591" class="indexterm-anchor"></a>package is enabled on your <a id="d11914e596" class="indexterm-anchor"></a>Oracle database . The sample programs and installation verification programs on the distribution media use this standard package.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, then use SQL*Plus to connect to the Oracle database  as user <code class="codeph">SYS</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>Enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE DBMS_OUTPUT
</pre><p>The <a id="d11914e615" class="indexterm-anchor"></a><a id="d11914e619" class="indexterm-anchor"></a><code class="codeph">DESCRIBE</code> statement produces output on your screen. If you browse through that output, then you should see some functions, including a <a id="d11914e626" class="indexterm-anchor"></a><a id="d11914e628" class="indexterm-anchor"></a>put_line function.
                                 </p>
                                 <p>If you do not see this output, then you must create the <code class="codeph">DBMS_OUTPUT</code> package. Refer to the <a href="../arpls/DBMS_OUTPUT.html#ARPLS036" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_OUTPUT</code> package. After successful installation of the <code class="codeph">DBMS_OUTPUT</code> package, issue the <code class="codeph">DESCRIBE</code> statement.
                                 </p>
                                 <p>If the <code class="codeph">DESCRIBE</code> statement indicates success, then your Oracle database  has <code class="codeph">DBMS_OUTPUT</code> created, and you can proceed to Step&nbsp;3.
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>Install the <a id="d11914e663" class="indexterm-anchor"></a><a id="d11914e667" class="indexterm-anchor"></a><code class="codeph">UTL_PG</code> PL/SQL package. All <a id="d11914e674" class="indexterm-anchor"></a><a id="d11914e680" class="indexterm-anchor"></a>PGAU-generated TIP specifications use <code class="codeph">UTL_PG</code>, which provides routines for performing numeric conversions to and from raw data.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, then use SQL*Plus to connect to the Oracle database  as user <code class="codeph">SYS</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <a id="d11914e698" class="indexterm-anchor"></a><a id="d11914e702" class="indexterm-anchor"></a><code class="codeph">utlpg.sql </code>and <code class="codeph">prvtpgb.plb</code> scripts in the Oracle database 's <code class="codeph">%ORACLE_HOME%\rdbms\admin</code> directory, in the following order:
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\rdbms\admin
SQL&gt; @utlpg.sql
SQL&gt; @prvtpgb.plb
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>I<a id="d11914e720" class="indexterm-anchor"></a>nstall the Heterogeneous Services (HS) catalogs.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, then use SQL*Plus to connect to the Oracle database  as user <code class="codeph">SYS</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>Enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE HS_FDS_CLASS
</pre><p>The <code class="codeph">DESCRIBE </code>statement produces output on the screen. If the <code class="codeph">DESCRIBE</code> statement indicates success, then Heterogeneous Services catalogs have been created on your Oracle database  and you can proceed to Step&nbsp;<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1008586">5</a>.
                                 </p>
                                 <p>If the <code class="codeph">DESCRIBE</code> statement does not indicate success, then you must create Heterogeneous Services catalogs and you must perform Step&nbsp;<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1011512">4.c</a> below:
                                 </p>
                              </li>
                              <li id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1011512">
                                 <p>If it is necessary to create the Heterogeneous Services catalog, then enter the following command:</p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\rdbms\admin
SQL&gt; @caths.sql
</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1008586">
                           <p><a id="d11914e765" class="indexterm-anchor"></a><a id="d11914e769" class="indexterm-anchor"></a>Create a public database link to access the Oracle Database Gateway for APPC:<a id="d11914e776" class="indexterm-anchor"></a> 
                           </p>
                           <p>Use <a id="d11914e783" class="indexterm-anchor"></a>SQL*Plus to connect to the <a id="d11914e788" class="indexterm-anchor"></a>Oracle database  as user <code class="codeph">SYSTEM</code>. You can use the following SQL*Plus<a id="d11914e794" class="indexterm-anchor"></a> sample whether the Oracle database  and the gateway are on the same system or on different systems. In the following sample, <code class="codeph">pgasrv</code> is the <span class="italic"><code class="codeph">tns_name_entry</code></span> that will be assigned to the gateway when you modify the <code class="codeph">tnsnames.ora</code> file later.
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK PGA USING <span class="italic">'PGASRV'</span>
</pre></li>
                        <li>
                           <p>Create the gateway administrator user <a id="d11914e818" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> and install the <a id="d11914e825" class="indexterm-anchor"></a>PG DD.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database  as user <code class="codeph">SYSTEM</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">pgacr8au.sql</code> <a id="d11914e843" class="indexterm-anchor"></a><a id="d11914e845" class="indexterm-anchor"></a>script in the                                                        <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. This script creates the <code class="codeph">PGAADMIN</code> user&nbsp;ID.
                                 </p>
                                 <p>The initial password defined for <a id="d11914e858" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> is <code class="codeph">PGAADMIN</code>. Use the <a id="d11914e868" class="indexterm-anchor"></a><a id="d11914e870" class="indexterm-anchor"></a><code class="codeph">ALTER USER</code> command to change the password. For further information about password issues, refer to the <a href="../sqlrf/ALTER-USER.html#SQLRF01103" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @pgacr8au.sql
</pre></li>
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database  as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">pgddcr8.sql</code> <a id="d11914e896" class="indexterm-anchor"></a><a id="d11914e898" class="indexterm-anchor"></a><a id="d11914e902" class="indexterm-anchor"></a>script in the                                                         <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. This script installs the PG&nbsp;DD.
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @pgddcr8.sql
</pre></li>
                              <li>
                                 <p>From SQL*Plus, connect to the Oracle database  as user <code class="codeph">SYS</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d11914e920" class="indexterm-anchor"></a>Grant execution privileges on <a id="d11914e925" class="indexterm-anchor"></a><code class="codeph">DBMS_PIPE</code> to <code class="codeph">PGAADMIN</code>:<a id="d11914e933" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT EXECUTE ON DBMS_PIPE TO PGAADMIN
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Ensure that the <a id="d11914e942" class="indexterm-anchor"></a><code class="codeph">pg4tcpmap</code> package has been installed on your Oracle database . Follow Steps&nbsp;a through&nbsp;c to test for proper installation of <code class="codeph">pg4tcpmap</code>.
                           </p>
                           <p>Refer to <span class="q">"<a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-C9B3713C-E8A0-4D7A-A6C9-504B83D64733">Output for the pg4tcpmap Tool</a>"</span> in <a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-67D9D370-DB10-430B-93B8-BD8844DE7E3E"> Gateway Initialization Parameters for TCP/IP Communication Protocol </a> for a sample of the output from the <code class="codeph">pg4tcpmap</code> tool, and refer to Chapter 6 of the <a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide </span></a>for details about the commands needed to run the tool.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use <a id="d11914e975" class="indexterm-anchor"></a>SQL*Plus to connect to the Oracle database  as user <code class="codeph">SYSTEM</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>Enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; select table_name, owner
from dba_tables
where table_name = 'PGA_TCP_IMSC', 
and owner = 'PGAADMIN';
SQL&gt; column owner format a 10
SQL&gt; column index_name format a 18
SQL&gt; column table_name format a 14
SQL&gt; select owner, index_name, table_name, uniqueness
from dba_indexes
where index_name = 'PGA_TCP_IMSC_IND';
</pre><p>Both <code class="codeph">SELECT</code> statements must produce one row each. Following is the result for the first select statement:
                                 </p><pre class="oac_no_warn" dir="ltr">TABLE_NAME                        OWNER
------------------------------  ------------------------------
PGA_TCP_IMSC                      PGAADMIN
</pre><p></p>
                                 <p>Following is the result of the second select statement:</p><pre class="oac_no_warn" dir="ltr">OWNER          INDEX_NAME           TABLE_NAME      UNIQUENESS
----------     ------------------   --------------  ---------
PGAADMIN       PGA_TCP_IMSC_IND     PGA_TCP_IMSC    UNIQUE
</pre><p>If the select statements produce the preceeding output on the screen, then you can skip Step C. If the select statement produces no output or more than one row, then the result is not the same as the output described above, and it is necessary for you to perform Step <a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__BABIHCJJ">7.c</a>.
                                 </p>
                              </li>
                              <li id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__BABIHCJJ">
                                 <p>From SQL*Plus, run the <a id="d11914e1008" class="indexterm-anchor"></a><code class="codeph">pgaimsc.sql</code> script in the Oracle database 's <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory:
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @pgaimsc.sql
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Install the <a id="d11914e1021" class="indexterm-anchor"></a><a id="d11914e1025" class="indexterm-anchor"></a>TIP trace access PL/SQL routines. These routines require that the <a id="d11914e1028" class="indexterm-anchor"></a><code class="codeph">DBMS_PIPE</code> standard PL/SQL package is installed and that <a id="d11914e1033" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> has execute privileges on it. For more information about <code class="codeph">DBMS_PIPE</code>, refer to the <a href="../arpls/DBMS_PIPE.html#ARPLS038" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, then use SQL*Plus to connect to the <a id="d11914e1051" class="indexterm-anchor"></a>Oracle database  as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <a id="d11914e1060" class="indexterm-anchor"></a><code class="codeph">pgatiptr.sql </code>script in the                                                          <code class="codeph">%ORACLE_HOME%\dg4appc\admin </code>directory. This script creates<a id="d11914e1068" class="indexterm-anchor"></a> PL/SQL routines that can be called to read and purge trace information created by PGAU-generated <a id="d11914e1073" class="indexterm-anchor"></a>TIP specifications. It also creates public synonyms for these routines. The script prompts you for the necessary user&nbsp;IDs and passwords.
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @pgatiptr.sql
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Install the <code class="codeph">GPGLOCAL</code> package. This package is required for compilation and execution of all PGAU-generated <a id="d11914e1086" class="indexterm-anchor"></a>TIP specifications. <a id="d11914e1091" class="indexterm-anchor"></a><a id="d11914e1095" class="indexterm-anchor"></a><a id="d11914e1099" class="indexterm-anchor"></a>TIP developers should be granted execute privileges on <a id="d11914e1104" class="indexterm-anchor"></a><code class="codeph">GPGLOCAL</code> (refer to <span class="q">"<a href="configure-appc-gateway-using-tcp-ip.html#GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6">Optional Configuration Steps to Permit Multiple Users</a>"</span>).
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database  as user <a id="d11914e1119" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the<code class="codeph"> gpglocal.pkh </code>script in the                                                       <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. This script compiles the <a id="d11914e1133" class="indexterm-anchor"></a><a id="d11914e1135" class="indexterm-anchor"></a><code class="codeph">GPGLOCAL</code> package specification.<a id="d11914e1142" class="indexterm-anchor"></a><a id="d11914e1144" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @gpglocal.pkh
</pre></li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">gpglocal.pkb</code> script in the                                                       <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. This script compiles the <code class="codeph">GPGLOCAL</code> package body.<a id="d11914e1162" class="indexterm-anchor"></a><a id="d11914e1164" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @gpglocal.pkb
</pre><div class="infoboxnote" id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__GUID-52205353-CF87-4B8A-87F8-76C5E9C3F7D9">
                                    <p class="notep1">Note:</p>
                                    <p><span class="bold">Recompile TIPs when changing communication protocol from SNA to TCP/IP</span>:
                                    </p>
                                    <p>If you have existing TIPs that were generated previously on a gateway using the SNA protocol and you want to use the new TCP/IP feature, then the TIPs will have to be regenerated by PGAU with mandatory <code class="codeph">NLS_LANGUAGE</code> and Side Profile Settings. Specify the suitable ASCII character set in the <code class="codeph">DEFINE</code> <code class="codeph">TRANSACTION</code> command.
                                    </p>
                                    <p>This is due to the fact that the gateway assumes that the appropriate user exit in IMS Connect is being used, which would translate between the suitable ASCII and EBCDIC character sets.</p>
                                 </div>
                              </li>
                           </ol>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW219"></a><div class="props_rev_3"><a id="GUID-9883203F-7CBC-484D-BCC3-CA836A9946B1" name="GUID-9883203F-7CBC-484D-BCC3-CA836A9946B1"></a><h3 id="APPCW-GUID-9883203F-7CBC-484D-BCC3-CA836A9946B1" class="sect3">Upgrading or Migrating the Oracle Database  from Previous Gateways</h3>
               <div>
                  <div class="section">
                     <p>Follow these instructions only if you have a previous version of the Oracle Database Gateway for APPC installed on your system and need to configure it for 12<span class="italic">c</span> Release 21 (12.2) of the gateway.
                     </p>
                     <ol>
                        <li>
                           <p>Upgrade your Oracle Database Gateway for APPC to current version levels as follows:</p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database as user <code class="codeph">SYS</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>Install the <code class="codeph">UTL_RAW</code> package body. From SQL*Plus, run the<code class="codeph"> prvtrawb.plb</code> script from the <code class="codeph">%ORACLE_HOME%\rdbms\admin</code> directory. This script upgrades the <code class="codeph">UTL_RAW</code> package body.
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\rdbms\admin
SQL&gt; @prvtrawb.plb
</pre></li>
                              <li>
                                 <p>Install the <code class="codeph">UTL_PG</code> package body. From SQL*Plus, run the <code class="codeph">prvtpgb.plb</code> script from the <code class="codeph">%ORACLE_HOME%\rdbms\admin </code>directory. This script upgrades the <code class="codeph">UTL_PG</code> package body.
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\rdbms\admin
SQL&gt; @prvtpgb.plb
</pre></li>
                           </ol>
                           <p>The <code class="codeph">prvtrawb.plb</code> and <code class="codeph">prvtpgb.plb</code> scripts should complete successfully. If they fail because specifications do not exist or were invalidated, then consider reinstalling the package specifications as directed in <a href="configure-appc-gateway-using-tcp-ip.html#GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A">If You Must Reinstall Package Specifications </a>.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCW220"></a><div class="props_rev_3"><a id="GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A" name="GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A"></a><h4 id="APPCW-GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A" class="sect4">If You Must Reinstall Package Specifications </h4>
                  <div>
                     <div class="section">
                        <p>If the <code class="codeph">UTL_RAW</code> or <code class="codeph">UTL_PG</code> package has been invalidated or removed, then the <code class="codeph">prvtrawb.plb</code> and <code class="codeph">prvtpgb.plb</code> scripts may not complete successfully, then, you might have to reinstall the package specifications.
                        </p>
                        <p>If you do reinstall the package specifications, then any dependent objects (such as existing user TIPs and client applications) are invalidated and will subsequently need to be recompiled. The impact of this is a one-time performance delay while recompilation of the TIPs and dependent client applications proceeds.</p>
                        <div class="infoboxnote" id="GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A__GUID-BFD9E9D3-CF9F-4DE9-970A-6F4A19983049">
                           <p class="notep1">Note:</p>
                           <p>Before proceeding with reinstallation of the package scripts, make sure that you are in the<code class="codeph"> %ORACLE_HOME%\dg4appc\admin</code> directory
                           </p>
                        </div>
                        <p>TIPs were split into separate specification and body files in release 3.3 to avoid cascaded recompilations in later releases.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Step 1: Run the following scripts before proceeding with the PGAU upgrade:</p>
                              <ol>
                                 <li>
                                    <p>If necessary, then use SQL*Plus to connect to the Oracle database as user <code class="codeph">SYS</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>From SQL*Plus, run the <code class="codeph">utlraw.sql</code> and <code class="codeph">utlpg.sql</code> scripts in the Oracle database <code class="codeph">%ORACLE_HOME%\rdbms\admin </code>directory, in the following order, to upgrade their respective package specifications:
                                    </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\rdbms\admin
SQL&gt; @utlraw.sql
SQL&gt; @utlpg.sql
</pre></li>
                              </ol>
                           </li>
                           <li>
                              <p>Step 2: Repeat installation of <code class="codeph">UTL_RAW</code> and <code class="codeph">UTL_PG</code> package body
                              </p>
                           </li>
                        </ul>
                        <p>After the scripts have run, repeat Steps 1a and 1b in <a href="configure-appc-gateway-using-tcp-ip.html#GUID-9883203F-7CBC-484D-BCC3-CA836A9946B1">Upgrading or Migrating the Oracle Database  from Previous Gateways</a> and then, proceed to <a href="configure-appc-gateway-using-tcp-ip.html#GUID-F632840A-F2C5-496A-83E4-CCABBF1F7F39">Upgrading PGAU from Previous Gateway Releases</a>.
                        </p>
                        <div class="infoboxnote" id="GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A__GUID-DFE1FE94-FD94-4A78-B62C-2BD2431AEC2B">
                           <p class="notep1">Note:</p>
                           <p>TIPs and dependent client applications must be recompiled after reinstallation of the package specifications. Refer to <a href="../appug/creating-tip-oracle-database-gateway-appc.html#APPUG300" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for more information about compiling TIPs
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPCW221"></a><div class="props_rev_3"><a id="GUID-F632840A-F2C5-496A-83E4-CCABBF1F7F39" name="GUID-F632840A-F2C5-496A-83E4-CCABBF1F7F39"></a><h4 id="APPCW-GUID-F632840A-F2C5-496A-83E4-CCABBF1F7F39" class="sect4">Upgrading PGAU from Previous Gateway Releases</h4>
                  <div>
                     <div class="section">
                        <p>Upgrade the PG DD as follows before execution the new PGAU:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>If necessary, then use SQL*Plus to connect to the Oracle database as user <code class="codeph">PGAADMIN</code>.</span></li>
                        <li class="stepexpand"><span>From SQL*Plus, run the<code class="codeph"> pgddupgr.sql</code> script in the                                       <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. This script upgrades the PG DD.</span><div><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @pgddupgr.sql
</pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="APPCW222"></a><div class="props_rev_3"><a id="GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6" name="GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6"></a><h3 id="APPCW-GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6" class="sect3">Optional Configuration Steps to Permit Multiple Users</h3>
               <div>
                  <div class="section">
                     <p>The following configuration steps are optional. Perform these steps if you want to allow users other than <a id="d11914e1494" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> to perform <a id="d11914e1501" class="indexterm-anchor"></a>PG DD operations using PGAU.
                     </p>
                     <ol>
                        <li>
                           <p>Create <a id="d11914e1510" class="indexterm-anchor"></a><a id="d11914e1512" class="indexterm-anchor"></a>public synonyms for the PG DD to allow other users to access the tables:
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database  as user <code class="codeph">SYSTEM</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">pgddcr8s.sql</code> script in the                                                       <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. This script creates public synonyms for the PG DD.
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @pgddcr8.sql
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Create roles for accessing the PG DD, performing definitions of transactions, and generating <a id="d11914e1538" class="indexterm-anchor"></a>TIP specifications. The <code class="codeph">PGAADMIN</code> user can grant these roles to other users as necessary.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database  as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the<code class="codeph"> pgddcr8r.sql</code> script in the                                                        <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. This script creates two roles, <code class="codeph">PGDDDEF</code> and <code class="codeph">PGDDGEN</code>. The <a id="d11914e1568" class="indexterm-anchor"></a><a id="d11914e1570" class="indexterm-anchor"></a><code class="codeph">PGDDDEF</code> role provides <code class="codeph">SELECT</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> privileges against some of the <a id="d11914e1590" class="indexterm-anchor"></a>PG DD tables, and select privileges against others, and allows execution of the <code class="codeph">PGAU</code> <code class="codeph">DEFINE</code>, <code class="codeph">GENERATE</code>, <code class="codeph">REDEFINE</code>, <code class="codeph">REPORT</code>, and <code class="codeph">UNDEFINE</code> statements. The <a id="d11914e1615" class="indexterm-anchor"></a><a id="d11914e1617" class="indexterm-anchor"></a><code class="codeph">PGDDGEN</code> role provides select privileges against the PG DD tables, and allows execution of the <code class="codeph">PGAU</code> <code class="codeph">GENERATE</code> and <code class="codeph">REPORT</code> statements only.
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @pgddcr8r.sql
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p><a id="d11914e1637" class="indexterm-anchor"></a><a id="d11914e1641" class="indexterm-anchor"></a><a id="d11914e1645" class="indexterm-anchor"></a><a id="d11914e1649" class="indexterm-anchor"></a>Grant access to PGA required packages.
                           </p>
                           <p><a id="d11914e1655" class="indexterm-anchor"></a><a id="d11914e1659" class="indexterm-anchor"></a>TIP developers require access to the following PL/SQL packages, which are shipped with the <a id="d11914e1664" class="indexterm-anchor"></a>Oracle database :
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a id="d11914e1672" class="indexterm-anchor"></a><code class="codeph">DBMS_PIPE</code> in the <code class="codeph">%ORACLE_HOME%\rdbms\admin</code><a id="d11914e1679" class="indexterm-anchor"></a> directory
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d11914e1684" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> in the <code class="codeph">%ORACLE_HOME%\rdbms\admin</code><a id="d11914e1691" class="indexterm-anchor"></a> directory
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d11914e1700" class="indexterm-anchor"></a><code class="codeph">UTL_PG</code> in the <code class="codeph">%ORACLE_HOME%\rdbms\admin</code><a id="d11914e1707" class="indexterm-anchor"></a><a id="d11914e1711" class="indexterm-anchor"></a> directory
                                 </p>
                              </li>
                           </ul>
                           <p>Explicit grants to execute these packages must be made to TIP developers.</p>
                           <p>These grants can be private, as in the following example:</p><pre class="oac_no_warn" dir="ltr">C:\&gt; sqlplus SYS\<span class="italic">pw@database_specification_string</span> 
SQL&gt; GRANT EXECUTE ON UTL_RAW TO <span class="italic">tip_developer</span>; 
SQL&gt; GRANT EXECUTE ON UTL_PG TO <span class="italic">tip_developer</span>; 
SQL&gt; GRANT EXECUTE ON DBMS_PIPE TO <span class="italic">tip_developer;</span> 
SQL&gt; CONNECT PGAADMIN\<span class="italic">pw@database_specification_string</span> 
SQL&gt; GRANT EXECUTE ON PGAADMIN.PURGE_TRACE TO <span class="italic">tip_developer</span>; 
SQL&gt; GRANT EXECUTE ON PGAADMIN.READ_TRACE TO <span class="italic">tip_developer</span>; 
SQL&gt; GRANT EXECUTE ON PGAADMIN.GPGLOCAL TO <span class="italic">tip_developer;</span> 
SQL&gt; exit
</pre><p>Alternatively, these grants can be public, as in the following example:</p><pre class="oac_no_warn" dir="ltr">C:\&gt; sqlplus SYS\pw@<span class="italic">database_specification_string</span> 
SQL&gt; GRANT EXECUTE ON UTL_RAW TO PUBLIC;
SQL&gt; GRANT EXECUTE ON UTL_PG TO PUBLIC;
SQL&gt; GRANT EXECUTE ON DBMS_PIPE to PUBLIC;
SQL&gt; CONNECT PGAADMIN\<span class="italic">pw@database_specification_string</span> 
SQL&gt; GRANT EXECUTE ON PGAADMIN.PURGE_TRACE TO PUBLIC;
SQL&gt; GRANT EXECUTE ON PGAADMIN.READ_TRACE TO PUBLIC;
SQL&gt; GRANT EXECUTE ON PGAADMIN.GPGLOCAL TO PUBLIC;
SQL&gt; EXIT
</pre><p>You can use either private or public grants. Both are sufficient for using PGA. Public grants are easier and can be performed now. If you use private grants, then they must be issued each time a new TIP developer user&nbsp;ID is created.<a id="d11914e1759" class="indexterm-anchor"></a><a id="d11914e1763" class="indexterm-anchor"></a></p>
                           <p>SQL scripts for performing these grants are provided in the                                                <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. The<a id="d11914e1772" class="indexterm-anchor"></a><a id="d11914e1776" class="indexterm-anchor"></a> <a id="d11914e1781" class="indexterm-anchor"></a><a id="d11914e1785" class="indexterm-anchor"></a><code class="codeph">pgddapub.sql </code>script performs these grants for public access to the packages. The <a id="d11914e1792" class="indexterm-anchor"></a><a id="d11914e1797" class="indexterm-anchor"></a><a id="d11914e1801" class="indexterm-anchor"></a><a id="d11914e1805" class="indexterm-anchor"></a><code class="codeph">pgddadev.sql </code>script performs the grants for private access to the packages by a single TIP developer. If you are going to use private grants, then you must run the <code class="codeph">pgddadev.sql</code> script once for each TIP developer's user&nbsp;ID:
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database  as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the suitable script (<code class="codeph">pgddapub.sql</code> or <code class="codeph">pgddadev.sql</code>) from the <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. The script performs the necessary grants as described earlier. You are prompted for the required user&nbsp;IDs, passwords, and database specification strings. If you are using private grants, then repeat this step for each user&nbsp;ID requiring access to the packages.
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @pgddapub.sql
</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @pgddadev.sql
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p><a id="d11914e1842" class="indexterm-anchor"></a><a id="d11914e1848" class="indexterm-anchor"></a>If you are upgrading from a previous release of the gateway when the communication protocol was SNA, to the current gateway using TCP/IP, and if you want to upgrade your existing <a id="d11914e1853" class="indexterm-anchor"></a><a id="d11914e1857" class="indexterm-anchor"></a><a id="d11914e1858" class="indexterm-anchor"></a>TIPs with new function and maintenance, then regenerate existing T<a id="d11914e1863" class="indexterm-anchor"></a>IP specifications using the <a id="d11914e1868" class="indexterm-anchor"></a>PGAU <code class="codeph">GENERATE</code> statement.
                           </p>
                           <div class="infoboxnote" id="GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6__GUID-F70BAD7D-FFFC-4B4C-8945-01CD0C33606D">
                              <p class="notep1">Note:</p>
                              <p>The <a id="d11914e1880" class="indexterm-anchor"></a>Procedural Gateway Administrative Utility (PGAU) has been enhanced to automatically upgrade existing PG DD entries <a id="d11914e1885" class="indexterm-anchor"></a><a id="d11914e1889" class="indexterm-anchor"></a>with a new attribute when a <a id="d11914e1894" class="indexterm-anchor"></a>PGAU <code class="codeph">GENERATE</code> command is executed. To support this enhancement, add a new privilege to the <a id="d11914e1902" class="indexterm-anchor"></a><code class="codeph">PGDDGEN</code> role. To do this, as the <code class="codeph">PGAADMIN</code> user, use SQL*Plus to connect to the Oracle database  where the PG&nbsp;DD is stored. Then, issue the following SQL command:
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT INSERT ON PGA_DATA_VALUES TO PGDDGEN</pre></div>
                           <ol type="a">
                              <li>
                                 <p>Call PGAU in the directory path where the PGAU control files are generated and where TIPs are stored:</p><pre class="oac_no_warn" dir="ltr">C:\&gt; pgau
PGAU&gt; CONNECT PGAADMIN\pgaadmin@<span class="italic">database_specification_string</span> 
PGAU&gt; GENERATE <span class="italic">tranname</span> 
PGAU&gt; EXIT
</pre></li>
                           </ol>
                           <p>For more information about the <code class="codeph">GENERATE</code> command, refer to the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG944" target="_blank">PGAU GENERATE</a> section in Chapter 2 of the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a>.
                           </p>
                           <p>Note that it is not necessary to define the PG DD entries again.</p>
                        </li>
                        <li>
                           <p>Call SQL*Plus in the same directory path where the newly-generated TIP specifications are stored.</p><pre class="oac_no_warn" dir="ltr">C:\&gt; sqlplus <span class="italic">tip_owner\pw@database_specification_string</span> 
SQL&gt; @<span class="italic">tipname.</span>pkh 
SQL&gt; @<span class="italic">tipname</span>.pkb
SQL&gt; exit
</pre><p><a id="d11914e1958" class="indexterm-anchor"></a><a id="d11914e1964" class="indexterm-anchor"></a><a id="d11914e1968" class="indexterm-anchor"></a>PGAU <code class="codeph">GENERATE</code> produces the TIP in two output files, a specification and a body. You must compile both, first the specification and then the body.
                           </p>
                           <p>For more information about the <code class="codeph">GENERATE</code> command, refer to the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG944" target="_blank">PGAU GENERATE</a> command section in Chapter 2 of the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a>.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW223"></a><div class="props_rev_3"><a id="GUID-4401EF36-6A5E-4DF2-8FB8-57D8EEFEDB92" name="GUID-4401EF36-6A5E-4DF2-8FB8-57D8EEFEDB92"></a><h3 id="APPCW-GUID-4401EF36-6A5E-4DF2-8FB8-57D8EEFEDB92" class="sect3">Configuring TCP/IP for the Gateway</h3>
               <div>
                  <div class="section">
                     <p>You must now configure the TCP/IP for IMS Connect communication package profiles for TCP/IP connections. </p>
                     <p>Configure the profiles to define the TCP/IP conversations with the <a id="d11914e2046" class="indexterm-anchor"></a>OLTP.
                     </p>
                     <p>When you have finished configuring your communications package, return to the following section, <a href="configure-appc-gateway-using-tcp-ip.html#GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189">Configuring the Gateway</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW224"></a><div class="props_rev_3"><a id="GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189" name="GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189"></a><h3 id="APPCW-GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189" class="sect3">Configuring the Gateway</h3>
               <div>
                  <div class="section">
                     <p>Use the following steps to configure the gateway.</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Customize the gateway parameters.</span><div>
                           <p>There are a number of parameters specific<a id="d11914e2099" class="indexterm-anchor"></a> to the Oracle Database Gateway for APPC when it is using TCP/IP for IMS Connect. These are supplied in the gateway parameter file, <code class="codeph">init<span class="codeinlineitalic">sid</span>.ora</code>, which is in the                                         <a id="d11914e2112" class="indexterm-anchor"></a><code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. A sample gateway parameter <a id="d11914e2117" class="indexterm-anchor"></a><a id="d11914e2119" class="indexterm-anchor"></a><a id="d11914e2125" class="indexterm-anchor"></a>file, <a id="d11914e2131" class="indexterm-anchor"></a><a id="d11914e2133" class="indexterm-anchor"></a><code class="codeph">initPGA.ora</code>, is provided in this subdirectory.<a id="d11914e2140" class="indexterm-anchor"></a><a id="d11914e2144" class="indexterm-anchor"></a><a id="d11914e2150" class="indexterm-anchor"></a></p>
                           <div class="infoboxnote" id="GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189__GUID-33894135-8EAF-4D97-A7B2-C79337F24F77">
                              <p class="notep1">Note:</p>
                              <p>In the <a id="d11914e2157" class="indexterm-anchor"></a><a id="d11914e2159" class="indexterm-anchor"></a><code class="codeph">init<span class="codeinlineitalic">sid</span>.ora</code> file, substitute your gateway<span class="bold"> </span>SID name for "<span class="italic"><code class="codeph">sid</code></span> " in this file name.
                              </p>
                              <p>The init<span class="italic">sid</span>.ora file contains both APPC and TCP/IP parameters, separated by a description. You must modify the <code class="codeph">init<span class="codeinlineitalic">sid</span>.ora</code> file by deleting the APPC parameters. Refer to <a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-67D9D370-DB10-430B-93B8-BD8844DE7E3E"> Gateway Initialization Parameters for TCP/IP Communication Protocol </a> for the valid TCP/IP parameters. 
                              </p>
                           </div>
                           <p>The parameters fall into two categories:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>gateway initialization <a id="d11914e2197" class="indexterm-anchor"></a><a id="d11914e2203" class="indexterm-anchor"></a><a id="d11914e2207" class="indexterm-anchor"></a>parameters
                                 </p>
                                 <p>These parameters control the general operation of the gateway in the Oracle environment.</p>
                                 <div class="infoboxnote" id="GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189__GUID-2DA2B5C3-F793-4AC9-9ECA-7AEB91D91ABF">
                                    <p class="notep1">Note:</p>
                                    <p>Before performing the following step, refer to <a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-67D9D370-DB10-430B-93B8-BD8844DE7E3E"> Gateway Initialization Parameters for TCP/IP Communication Protocol </a> for information about tailoring gateway initialization and PGA parameters. Pay special attention to the information about using the <a id="d11914e2221" class="indexterm-anchor"></a><code class="codeph">PGA_CAPABILITY</code> parameter.
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p>PGA <a id="d11914e2231" class="indexterm-anchor"></a><a id="d11914e2235" class="indexterm-anchor"></a><a id="d11914e2241" class="indexterm-anchor"></a>parameters
                                 </p>
                                 <p>PGA parameters control the TCP/IP interface portion of the gateway. Use the <a id="d11914e2248" class="indexterm-anchor"></a><a id="d11914e2252" class="indexterm-anchor"></a><code class="codeph">SET</code> gateway initialization parameter to specify PGA parameters. Oracle recommends that you group all <code class="codeph">SET</code> commands<a id="d11914e2264" class="indexterm-anchor"></a><a id="d11914e2266" class="indexterm-anchor"></a> for PGA parameters at the end of the init<span class="italic">sid</span>.ora file. 
                                 </p>
                                 <div class="infoboxnote" id="GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189__GUID-1D92A7D7-737D-4553-9ADE-025220344BCE">
                                    <p class="notep1">Note:</p>
                                    <p>Misspelled parameters are ignored<a id="d11914e2277" class="indexterm-anchor"></a>. However, if the <code class="codeph">%ORACLE_HOME%\dg4appc\admin\initsid.ora</code> file is missing, then all calls to the gateway fail and return a <code class="codeph">PGA-20928</code> error.
                                    </p>
                                 </div>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="APPCW225"></a><div class="props_rev_3"><a id="GUID-7FBE512D-4608-482A-8F27-EFBFF6BAE583" name="GUID-7FBE512D-4608-482A-8F27-EFBFF6BAE583"></a><h3 id="APPCW-GUID-7FBE512D-4608-482A-8F27-EFBFF6BAE583" class="sect3">Loading the PGA_TCP_IMSC Table</h3>
               <div>
                  <div class="section">
                     <p>Gateway users who wish to employ the TCP/IP protocol do so by using the <a id="d11914e2331" class="indexterm-anchor"></a><code class="codeph">pg4tcpmap</code> tool.
                     </p>
                     <p>The <a id="d11914e2340" class="indexterm-anchor"></a><code class="codeph">pg4tcpmap</code> tool resides on the gateway. Its function is to map the side profile name to TCP/IP and IMS Connect attributes. You must run this tool before executing the PL/SQL gateway statements                                                                                                (such as <code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS\pgaims.sql</code>).<span class="bold"> </span></p>
                     <p>In <a id="d11914e2354" class="indexterm-anchor"></a>PGAINIT TIP, for example, the user must specify a side profile name. The SNA protocol recognizes and uses the parameter. In this release of the gateway, the <code class="codeph">pg4tcpmap</code> tool uses the original PGAINIT TIP format to map the relevant SNA parameters to TCP/IP. The <code class="codeph">pg4tcpmap</code> tool inserts the values of these parameters into a table called <a id="d11914e2363" class="indexterm-anchor"></a><a id="d11914e2367" class="indexterm-anchor"></a><code class="codeph">PGA_TCP_IMSC</code>.    
                     </p>
                     <p>Before executing <code class="codeph">pg4tcpmap</code>, you must specify the <code class="codeph">ORACLE_HOME</code>, Oracle SID and modify <code class="codeph">init<span class="codeinlineitalic">sid</span>.ora</code>. Refer to <a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-67D9D370-DB10-430B-93B8-BD8844DE7E3E"> Gateway Initialization Parameters for TCP/IP Communication Protocol </a> in this guide and Chapter 6 in the <a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for complete information about the <code class="codeph">pg4tcpmap</code> commands. 
                     </p>
                     <p>Chapter 6 of the <a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic"> Oracle Database Gateway for APPC User's Guide </span></a>contains a list of  <a id="d11914e2408" class="indexterm-anchor"></a><code class="codeph">pg4tcpmap</code> commands and instructions for using them, as well as an example of the table. Refer to "Troubleshooting" in the <a href="../appug/troubleshooting-oracle-database-gateway-appc.html#APPUG800" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide </span></a> for information about the trace file for the executed <code class="codeph">pg4tcpmap</code> tool.
                     </p>
                     <p>To operate this tool, execute the following command:</p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\bin
C:\&gt; pg4tcpmap
</pre><p>Refer to <span class="q">"<a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-C9B3713C-E8A0-4D7A-A6C9-504B83D64733">Output for the pg4tcpmap Tool</a>"</span> for a sample of the <code class="codeph">pg4tcpmap</code> output. 
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW226"></a><div class="props_rev_3"><a id="GUID-8D4B842E-0CF0-4072-8FF6-3AC0737A7D00" name="GUID-8D4B842E-0CF0-4072-8FF6-3AC0737A7D00"></a><h3 id="APPCW-GUID-8D4B842E-0CF0-4072-8FF6-3AC0737A7D00" class="sect3">Verifying the Gateway Installation and OLTP Configuration</h3>
               <div>
                  <div class="section">
                     <p>To verify the gateway installation and the OLTP configuration, perform the following procedures after installing the gateway.<a id="d11914e2469" class="indexterm-anchor"></a><a id="d11914e2475" class="indexterm-anchor"></a></p>
                     <div class="infoboxnote" id="GUID-8D4B842E-0CF0-4072-8FF6-3AC0737A7D00__GUID-EB033894-EA4D-45AF-A47F-5ABD08BB76C3">
                        <p class="notep1">Note:</p>
                        <p>If your <a id="d11914e2484" class="indexterm-anchor"></a>database link name is not "PGA," modify the demonstration <code class="codeph">.sql</code> files to give them the particular database link name that you created in Step <a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__i1008586">configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__i1008586</a> of <span class="q">"<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C">Configuring the Oracle Database : First Time Installation </a>"</span>. You must modify the following .sql files:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">pgavsn.sql </code></p>
                           </li>
                           <li>
                              <p><a id="d11914e2506" class="indexterm-anchor"></a><a id="d11914e2508" class="indexterm-anchor"></a><code class="codeph">pgaecho.sql</code> 
                              </p>
                           </li>
                           <li>
                              <p><a id="d11914e2517" class="indexterm-anchor"></a><a id="d11914e2519" class="indexterm-anchor"></a><code class="codeph">pgaims.sql </code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCW227"></a><div class="props_rev_3"><a id="GUID-02491AB4-86E5-4F50-B968-BE0457542AE5" name="GUID-02491AB4-86E5-4F50-B968-BE0457542AE5"></a><h4 id="APPCW-GUID-02491AB4-86E5-4F50-B968-BE0457542AE5" class="sect4">Verifying the Gateway Installation</h4>
                  <div>
                     <div class="section">
                        <p>To verify the gateway software installation using the <a id="d11914e2578" class="indexterm-anchor"></a><a id="d11914e2584" class="indexterm-anchor"></a>database link PGA previously created, perform the following steps:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Using SQL*Plus, connect to your <a id="d11914e2595" class="indexterm-anchor"></a>Oracle database  as user <a id="d11914e2602" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code>. </span></li>
                        <li class="stepexpand"><span>Run <code class="codeph">%ORACLE_HOME%\dg4appc\demo\pgavsn.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\demo
SQL&gt; @pgavsn.sql
</pre><p>The server version number banner appears at your terminal. You will receive the following output:</p><pre class="oac_no_warn" dir="ltr">Oracle Database Gateway for APPC (extension TCP/IP for IMS connect).
Version
11.2.0.0.2 Thu Jun 11 14:52:36 2009
 
Copyright (c) Oracle Corporation 1979,
2009.  All rights reserved.
 
 
PL/SQL procedure successfully completed.
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Run <code class="codeph">%ORACLE_HOME%\dg4appc\demo\pgaecho.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\demo
SQL&gt; @pgaecho.sql
</pre><p>You will receive the following output:</p><pre class="oac_no_warn" dir="ltr">==&gt; Congratulations, your installation was successful. &lt;==</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="APPCW228"></a><div class="props_rev_3"><a id="GUID-C360B987-27C2-47CE-8F69-A808B63A8C20" name="GUID-C360B987-27C2-47CE-8F69-A808B63A8C20"></a><h4 id="APPCW-GUID-C360B987-27C2-47CE-8F69-A808B63A8C20" class="sect4">Verifying the OLTP Configuration </h4>
                  <div>
                     <div class="section">
                        <p>Use the following procedure to verify the OLTP configuration.</p>
                        <div class="infoboxnote" id="GUID-C360B987-27C2-47CE-8F69-A808B63A8C20__GUID-A45A7AA8-FC74-44D5-B7D5-C0ED844C6E27">
                           <p class="notep1">Note:</p>
                           <p>If you have not completed the file transfers detailed in <span class="q">"<a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A">Preparing to Configure a Gateway Installation/Upgrade   </a>"</span>,then complete them now, before proceeding to the next step.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="APPCW229"></a><div class="props_rev_3"><a id="GUID-85147605-CE9E-4F69-8243-CC3FC50F1B65" name="GUID-85147605-CE9E-4F69-8243-CC3FC50F1B65"></a><h5 id="APPCW-GUID-85147605-CE9E-4F69-8243-CC3FC50F1B65" class="sect5">IMS/TM Verification</h5>
                     <div>
                        <div class="section">
                           <p>Perform the following steps to verify the IMS/TM configuration. Be certain that you have installed and configured the IMS Connect and that it is up and running before you begin this procedure. Refer to the IBM<span class="italic"> IMS Connect Guide and Reference</span> for information about how to perform the installation and configuration tasks. 
                           </p>
                           <div class="infoboxnote" id="GUID-85147605-CE9E-4F69-8243-CC3FC50F1B65__GUID-40B406D8-A2F9-4C3E-9F9D-DB44AECB56CA">
                              <p class="notep1">Note:</p>
                              <p><a id="d11914e2756" class="indexterm-anchor"></a><a id="d11914e2760" class="indexterm-anchor"></a><a id="d11914e2764" class="indexterm-anchor"></a>TIPs must be recompiled when changing the communication protocol to TCP/IP.
                              </p>
                              <p>TCP/IP only: <a id="d11914e2771" class="indexterm-anchor"></a><a id="d11914e2775" class="indexterm-anchor"></a>If you have existing TIPs that were generated previously on a gateway using the SNA protocol and you want to use the new TCP/IP feature, then the TIPs will have to be regenerated by PGAU with mandatory <code class="codeph">NLS_LANGUAGE</code> and Side Profile Settings. Specify the suitable ASCII character set in the <code class="codeph">DEFINE TRANSACTION </code>command.
                              </p>
                              <p>This is because the gateway assumes that the appropriate user exit in IMS Connect is being used, which would translate between the suitable ASCII and EBCDIC character sets.</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>To verify that the <a id="d11914e2792" class="indexterm-anchor"></a><code class="codeph">FLIP</code> transaction is installed correctly, log on to your IMS/TM system and enter the following transaction (replacing <code class="codeph">FLIP</code> with the transaction ID you chose for <code class="codeph">FLIP</code> when you configured the IMS/TM system for the gateway):</span><div><pre class="oac_no_warn" dir="ltr">FLIP THIS MESSAGE
</pre><p>The following output appears on your terminal:</p><pre class="oac_no_warn" dir="ltr">EGASSEM SIHT PILF
</pre><div class="infoboxnote" id="GUID-85147605-CE9E-4F69-8243-CC3FC50F1B65__GUID-78131187-0DD8-419D-99D0-8373F4B53FFC">
                                    <p class="notep1">Note:</p>
                                    <p>If you have not completed the file transfers detailed in <a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A">Preparing to Configure a Gateway Installation/Upgrade   </a> <span class="q">"<a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A">Preparing to Configure a Gateway Installation/Upgrade   </a>"</span>, then complete them now, before proceeding to the next step.
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>From your Windows platform, modify the <code class="codeph">pgaims.sql</code> <a id="d11914e2832" class="indexterm-anchor"></a><a id="d11914e2836" class="indexterm-anchor"></a>file, which resides at <code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS\pgaims.sql. </code>Customize the following three items used for accessing the gateway and the IMS/TM system, as described in the comments at the beginning of the file:</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>the IMS/TM transaction ID</p>
                                    </li>
                                    <li>
                                       <p>the side profile name</p>
                                    </li>
                                    <li>
                                       <p>the logmode entry name</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Ensure that the <a id="d11914e2858" class="indexterm-anchor"></a>TCP/IP communication protocol on your system has been started.</span></li>
                           <li class="stepexpand"><span>Using SQL*Plus, connect to your <a id="d11914e2868" class="indexterm-anchor"></a>Oracle database  from <code class="codeph">PGAADMIN</code>.</span></li>
                           <li class="stepexpand"><span>Run <a id="d11914e2881" class="indexterm-anchor"></a><a id="d11914e2885" class="indexterm-anchor"></a><code class="codeph">pgaims.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\demo\IMS
SQL&gt; @pgaims.sql
</pre><p>The following message appears:</p>
                              </div>
                           </li>
                        </ol>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">==&gt; Congratulations, your gateway is communicating with IMS/TM &lt;==
</pre><p>Your IMS/TM installation verification is now complete.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="APPCW230"></a><div class="props_rev_3"><a id="GUID-7FB56CC9-2004-4716-9DF5-4082EC028816" name="GUID-7FB56CC9-2004-4716-9DF5-4082EC028816"></a><h3 id="APPCW-GUID-7FB56CC9-2004-4716-9DF5-4082EC028816" class="sect3">Performing Postinstallation Procedures</h3>
               <div>
                  <div class="section">
                     <p>The following are optional steps that you can perform as necessary. Installation of the sample applications for the OLTP is recommended to help you to fully understand how the gateway works and how it interfaces with the OLTP.</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCW231"></a><div class="props_rev_3"><a id="GUID-CA7EA2DB-3417-4206-8852-211FDAA6786A" name="GUID-CA7EA2DB-3417-4206-8852-211FDAA6786A"></a><h4 id="APPCW-GUID-CA7EA2DB-3417-4206-8852-211FDAA6786A" class="sect4">Installing Sample Applications</h4>
                  <div>
                     <div class="section">
                        <p>Your Oracle Database Gateway for APPC featuring TCP/IP for IMS Connect contains sample PL/SQL procedures and OLTP transaction programs that demonstrate the gateway's capabilities.</p>
                        <div class="infoboxnote" id="GUID-CA7EA2DB-3417-4206-8852-211FDAA6786A__GUID-5EEB6D9D-932F-452F-B2E2-0010F52D4454">
                           <p class="notep1">Note:</p>
                           <p>When you are calling a gateway that is using TCP/IP as the communication protocol, and you are using EBCDIC as the language in the control files, you must change the language from EBCDIC to ASCII. Some examples of control files that may be in EBCDIC language are <code class="codeph">ivtno.ctl</code> and<code class="codeph"> ivtnv.ctl</code>.
                           </p>
                           <p>For more information, refer to the                                                <code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS\ivtno.ctl</code> and
                           </p>
                           <p><code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS\ivtnv.ctl</code> files.
                           </p>
                        </div>
                        <p> Samples are provided for IMS/TM:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>IMS inquiry using<code class="codeph"> IVTNO</code> and <code class="codeph">IVTNV</code> sample transactions
                              </p>
                           </li>
                        </ul>
                        <p>Additional samples are added to the distribution media in later releases of the product. Wherever possible, the sample applications use the sample databases provided with the database products.</p>
                        <p>For this release, full documentation on installing and using the sample applications is available in the <code class="codeph">README.doc </code>files in the following directory:
                        </p>
                        <p><code class="codeph">%ORACLE_HOME%\pg4appc\demo\IMS\sample_IMS_applications.txt</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>