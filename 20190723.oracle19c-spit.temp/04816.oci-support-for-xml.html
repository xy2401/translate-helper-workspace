<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle XML DB provides support for storing and manipulating XML instances by using the XMLType data type. You can access these XML instances with OCI, in conjunction with the C DOM API for XML.">
      <meta name="description" content="Oracle XML DB provides support for storing and manipulating XML instances by using the XMLType data type. You can access these XML instances with OCI, in conjunction with the C DOM API for XML.">
      <title>OCI Support for XML</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="Oracle XML DB provides support for storing and manipulating XML instances by using the XMLType data type. You can access these XML instances with OCI, in conjunction with the C DOM API for XML.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96204-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="object-advanced-topics-in-oci.html" title="Previous" type="text/html">
      <link rel="next" href="using-object-type-translator-in-oci.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="object-advanced-topics-in-oci.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-object-type-translator-in-oci.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCI Support for XML</li>
            </ol>
            <a id="GUID-BADBDFFB-8110-491E-BB9E-BEFC68E892CE" name="GUID-BADBDFFB-8110-491E-BB9E-BEFC68E892CE"></a>
            
            <h2 id="LNOCI-GUID-BADBDFFB-8110-491E-BB9E-BEFC68E892CE" class="sect2"><span class="enumeration_chapter">23 </span>OCI Support for XML
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle XML DB provides support for storing and manipulating XML instances by using the <code class="codeph">XMLType</code> data type. You can access these XML instances with OCI, in conjunction with the C DOM API for XML.
               </p>
               <p>An application program must initialize the usual OCI handles, such as the server handle or the statement handle, and it must then initialize the XML context. The program can either operate on XML instances in the back end or create new instances on the client side. The initialized XML context can be used with all the C DOM functions.</p>
               <p>XML data stored in Oracle XML DB can be accessed on the client side with the C DOM structure <code class="codeph">xmldocnode</code>. You can use this structure for binding, defining, and operating on XML values in OCI statements.
               </p>
               <div class="p">This section includes the following topics:
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="oci-support-for-xml.html#GUID-F4E9FBE2-39AC-40FF-8FC0-03141CCEA11A" title="An XML context is a required parameter in all the C DOM API functions.">XML Context</a></p>
                     </li>
                     <li>
                        <p><a href="oci-support-for-xml.html#GUID-C9205CED-77E6-4DF4-AE8B-DBDDCD5429A5" title="XML data on the server can be operated on with OCI statement calls. You can bind and define XMLType values using xmldocnode, as with other object instances.">XML Data on the Server</a></p>
                     </li>
                     <li>
                        <p><a href="oci-support-for-xml.html#GUID-97A697E2-EBDA-4A19-B88F-3C307B752B04" title="To initialize and terminate the XML context, use the functions OCIXmlDbInitXmlCtx() and OCIXmlDbFreeXmlCtx() respectively.">Using OCI XML DB Functions</a></p>
                     </li>
                     <li>
                        <p><a href="oci-support-for-xml.html#GUID-E86849EB-B7FA-49A9-A992-74400E4BDED8" title="The middle tier and client tiers can produce, consume, and process XML in binary XML format.">OCI Client Access to Binary XML</a></p>
                     </li>
                  </ul>
               </div>
               <div class="infoboxnotealso" id="GUID-BADBDFFB-8110-491E-BB9E-BEFC68E892CE__GUID-CCAC6563-288C-48BB-8418-4E8710DCF828">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="oci-xml-databse-functions.html#GUID-C104864B-8003-4F08-B5C6-DB1C13BC936D" title="This chapter describes the OCI XML DB functions.">OCI XML DB Functions</a> for information about the XML support in C
                        </p>
                     </li>
                     <li>
                        <p><a href="../adxdb/C-API-for-XMLType.html#ADXDB1400" target="_blank"><span><cite>Oracle XML&nbsp;DB Developerâ€™s Guide</cite></span></a> for more information about using the C API for XML, including a binary XML example
                        </p>
                     </li>
                     <li>
                        <p><a href="../adxdk/using-XML-parser-for-C.html#ADXDK1400" target="_blank"><span><cite>Oracle XML Developer's Kit Programmer's Guide</cite></span></a>for more information about the XML parser for C
                        </p>
                     </li>
                     <li>
                        <p><a href="../caxml/package-DOM-API.html#CAXML00300" target="_blank"><span><cite>Oracle Database XML C API Reference</cite></span></a> for information about the DOM C APIs for XML
                        </p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-F4E9FBE2-39AC-40FF-8FC0-03141CCEA11A" name="GUID-F4E9FBE2-39AC-40FF-8FC0-03141CCEA11A"></a><h3 id="LNOCI-GUID-F4E9FBE2-39AC-40FF-8FC0-03141CCEA11A" class="sect3"><span class="enumeration_section">23.1 </span>XML Context
               </h3>
               <div>
                  <p>An XML context is a required parameter in all the C DOM API functions. </p>
                  <p>This opaque context encapsulates information pertaining to data encoding, error message language, and so on. The contents of this context are different for XDK and for Oracle XML DB applications.</p>
                  <p>For Oracle XML DB, there are two OCI functions provided to initialize and free an XML context:</p><pre class="oac_no_warn" dir="ltr">xmlctx *OCIXmlDbInitXmlCtx (OCIEnv *envhp, OCISvcCtx *svchp, OCIError *errhp,
       ocixmldbparam *params, ub4 num_params);

void OCIXmlDbFreeXmlCtx (xmlctx *xctx);</pre></div>
            </div>
            <div class="props_rev_3"><a id="GUID-C9205CED-77E6-4DF4-AE8B-DBDDCD5429A5" name="GUID-C9205CED-77E6-4DF4-AE8B-DBDDCD5429A5"></a><h3 id="LNOCI-GUID-C9205CED-77E6-4DF4-AE8B-DBDDCD5429A5" class="sect3"><span class="enumeration_section">23.2 </span>XML Data on the Server
               </h3>
               <div>
                  <p>XML data on the server can be operated on with OCI statement calls. You can bind and define <code class="codeph">XMLType</code> values using <code class="codeph">xmldocnode</code>, as with other object instances. 
                  </p>
                  <p>OCI statements are used to select XML data from the server. This data can be used in the C DOM functions directly. Similarly, the values can be bound back to SQL statements directly. </p>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-97A697E2-EBDA-4A19-B88F-3C307B752B04" name="GUID-97A697E2-EBDA-4A19-B88F-3C307B752B04"></a><h3 id="LNOCI-GUID-97A697E2-EBDA-4A19-B88F-3C307B752B04" class="sect3"><span class="enumeration_section">23.3 </span>Using OCI XML DB Functions
               </h3>
               <div>
                  <p>To initialize and terminate the XML context, use the functions <code class="codeph">OCIXmlDbInitXmlCtx()</code> and <code class="codeph">OCIXmlDbFreeXmlCtx()</code> respectively. 
                  </p>
                  <div class="section">
                     <p>The header file <code class="codeph">ocixmldb.h</code> is used with the unified C API.
                     </p>
                     <p><a href="oci-support-for-xml.html#GUID-97A697E2-EBDA-4A19-B88F-3C307B752B04__BGBDIEFE">Example 23-1</a> is a code fragment of a tested example that shows how to perform operations with the C API.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-97A697E2-EBDA-4A19-B88F-3C307B752B04__BGBDIEFE">
                     <p class="titleinexample">Example 23-1 Initializing and Terminating XML Context with a C API</p><pre class="oac_no_warn" dir="ltr">#ifndef S_ORACLE
#include &lt;s.h&gt;
#endif
#ifndef ORATYPES_ORACLE
#include &lt;oratypes.h&gt;
#endif
#ifndef XML_ORACLE
#include &lt;xml.h&gt;
#endif
#ifndef OCIXML_ORACLE
#include &lt;ocixmldb.h&gt;
#endif
#ifndef OCI_ORACLE
#include &lt;oci.h&gt;
#endif
#include &lt;string.h&gt;

typedef struct test_ctx {
        OCIEnv *envhp;
        OCIError *errhp;
        OCISvcCtx *svchp;
        OCIStmt *stmthp;
        OCIServer *srvhp;
        OCIDuration dur;
        OCISession *sesshp;
        oratext *username;
        oratext *password;
} test_ctx;

...
void main()
{
  test_ctx temp_ctx;
  test_ctx *ctx = &amp;temp_ctx;
  OCIType *xmltdo = (OCIType *) 0;
  xmldocnode *doc = (xmldocnode *)0;
  ocixmldbparam params[1];
  xmlnode *quux, *foo, *foo_data, *top;
  xmlerr err;
  sword status = 0;
  xmlctx *xctx;
 ...
  /* Initialize envhp, svchp, errhp, dur, stmthp */
  ...
 
  /* Get an xml context */
  params[0].name_ocixmldbparam = XCTXINIT_OCIDUR;
  params[0].value_ocixmldbparam = &amp;ctx-&gt;dur;
  xctx = OCIXmlDbInitXmlCtx(ctx-&gt;envhp, ctx-&gt;svchp, ctx-&gt;errhp, params, 1);

/* Do unified C API operations next */
...

/* Free the statement handle using OCIHandleFree() */
...
/* Free the allocations associated with the context */
OCIXmlDbFreeXmlCtx(xctx);
/* Free envhp, svchp, errhp, stmthp */
...
}
</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-97A697E2-EBDA-4A19-B88F-3C307B752B04__GUID-A2498E57-0980-451B-AF4D-0AC4ADBF7151">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="oci-xml-db-functions.html#GUID-A99DABF3-145A-4FA5-BA70-A81CEA56C63B" title="Initializes an XML context.">OCIXmlDbInitXmlCtx()</a></p>
                           </li>
                           <li>
                              <p><a href="oci-xml-db-functions.html#GUID-78C4352B-5BE6-4208-B6DB-B04964F2B692" title="Frees an XML context.">OCIXmlDbFreeXmlCtx()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-E86849EB-B7FA-49A9-A992-74400E4BDED8" name="GUID-E86849EB-B7FA-49A9-A992-74400E4BDED8"></a><h3 id="LNOCI-GUID-E86849EB-B7FA-49A9-A992-74400E4BDED8" class="sect3"><span class="enumeration_section">23.4 </span>OCI Client Access to Binary XML
               </h3>
               <div>
                  <p>The middle tier and client tiers can produce, consume, and process XML in binary XML format.</p>
                  <p>The C application fetches data from the XML DB repository, performs updates on the XML using DOM, and stores it back in the database. Or an XML document is created or input on the client and XSLT, XQuery, and other utilities can be used on it. Then the output XML is saved in XML DB. </p>
                  <p>A client application requires a connection (called a metadata connection) to the metadata repository (typically a back-end database) to fetch token definitions, XML schemas, and DTDs while encoding or decoding a binary XML document. </p>
                  <p>A repository context is initialized using either a dedicated connection or a connection pool. The connection obtained from the repository context is used to fetch metadata such as token definitions and XML schemas. In contrast, the application also has data connections that are used for the regular transfer of data (including XML data) to and from the database. A repository context is explicitly associated with (one or more) data connections. When XML data is read or written from or to the database using the data connection, the appropriate repository context is accessed during the underlying encode or decode operations. As required, the metadata connection is used to fetch the metadata from the repository.</p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="oci-support-for-xml.html#GUID-63FC90A5-43CF-4F1C-8AAE-56070E3434FC" title="Your C application can use OCI to access persistent XML in the database and the Unified XML C API to operate on the fetched XML data.">Accessing XML Data from an OCI Application</a></p>
                        </li>
                        <li>
                           <p><a href="oci-support-for-xml.html#GUID-0264F856-8512-4B3A-B820-5A287F596FD5" title="OCIBinXmlReposCtx is the repository context data structure.">Repository Context</a></p>
                        </li>
                        <li>
                           <p><a href="oci-support-for-xml.html#GUID-86D5315D-9648-4F94-8E47-0FFF37028441" title="OCIBinXmlCreateReposCtxFromConn() creates a repository context using the specified dedicated OCI connection.">Create Repository Context from a Dedicated OCI Connection</a></p>
                        </li>
                        <li>
                           <p><a href="oci-support-for-xml.html#GUID-301DD0C0-2927-4069-9B74-D8C95DA1CDFB" title="OCIBinXmlCreateReposCtxFromCPool() creates a repository context from a connection pool.">Create Repository Context from a Connection Pool</a></p>
                        </li>
                        <li>
                           <p><a href="oci-support-for-xml.html#GUID-4E05FAF0-81FA-454A-8618-DD4E5DD89DB3" title="OCIBinXmlSetReposCtxForConn() associates a repository context with a data connection described by OCISvcCtx *.">About Associating Repository Context with a Data Connection</a></p>
                        </li>
                        <li>
                           <p><a href="oci-support-for-xml.html#GUID-FDA2DD34-0B7C-4DF0-84EC-EA7CA8A0F019">About Setting XMLType Encoding Format Preference</a></p>
                        </li>
                        <li>
                           <p><a href="oci-support-for-xml.html#GUID-C09D2275-E10C-421E-90FA-449C428590BE" title="Creating a repository context from a connection pool and associating the repository context with a data connection is shown in this example in the XML DB documentation.">Example of Using a Connection Pool</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-63FC90A5-43CF-4F1C-8AAE-56070E3434FC" name="GUID-63FC90A5-43CF-4F1C-8AAE-56070E3434FC"></a><h4 id="LNOCI-GUID-63FC90A5-43CF-4F1C-8AAE-56070E3434FC" class="sect4"><span class="enumeration_section">23.4.1 </span>Accessing XML Data from an OCI Application
                  </h4>
                  <div>
                     <p>Your C application can use OCI to access persistent XML in the database and the Unified XML C API to operate on the fetched XML data.</p>
                     <div class="section">
                        <p>The following steps are taken by a client application:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Create the usual OCI handles such as <code class="codeph">OCIEnv</code>, <code class="codeph">OCISvcCtx</code>, and <code class="codeph">OCIError</code>.</span></li>
                        <li><span>Create one or more repository contexts to fetch the binary XML metadata.</span></li>
                        <li><span>Associate the repository context with the data connection. </span></li>
                        <li><span>Bind or define (<code class="codeph">xmldocnode</code>) variables into the select, insert, and update statements. </span></li>
                        <li><span>Execute the select, insert, or update statement to fetch or store the XML document. At this point, the client OCI libraries interact with the database back end to fetch the needed XML Schemas, DTDs, token definitions, and so on. </span></li>
                        <li><span>Use the Unified C API to operate on the XML data (DOM).</span></li>
                     </ol>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-0264F856-8512-4B3A-B820-5A287F596FD5" name="GUID-0264F856-8512-4B3A-B820-5A287F596FD5"></a><h4 id="LNOCI-GUID-0264F856-8512-4B3A-B820-5A287F596FD5" class="sect4"><span class="enumeration_section">23.4.2 </span>Repository Context
                  </h4>
                  <div>
                     <p><code class="codeph">OCIBinXmlReposCtx</code> is the repository context data structure.
                     </p>
                     <p> The client application creates this context by providing the connection information to the metadata repository. An application can create multiple repository contexts to connect to multiple token repositories. A repository context is explicitly associated with a data connection (<code class="codeph">OCISvcCtx</code>). When the system must fetch metadata to encode or decode data to or from a data connection, it accesses the appropriate metadata. 
                     </p>
                     <p>It is recommended that applications create one repository context per <code class="codeph">OCIEnv</code>. This allows better concurrency for multithreaded applications.
                     </p>
                     <p>The repository context can be created out of a dedicated OCI connection or an OCI connection pool.</p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-86D5315D-9648-4F94-8E47-0FFF37028441" name="GUID-86D5315D-9648-4F94-8E47-0FFF37028441"></a><h4 id="LNOCI-GUID-86D5315D-9648-4F94-8E47-0FFF37028441" class="sect4"><span class="enumeration_section">23.4.3 </span>Create Repository Context from a Dedicated OCI Connection
                  </h4>
                  <div>
                     <p><code class="codeph">OCIBinXmlCreateReposCtxFromConn()</code> creates a repository context using the specified dedicated OCI connection. 
                     </p>
                     <p>The OCI connection is only to be used for metadata access and should not be used in any other scenarios by the application. Also note that the access to this connection is serialized; that is, if multiple threads try to use the same connection, access is limited to one thread at a time. For scalability reasons, it is recommended that applications create a repository context using a connection pool, as described in the next section.</p>
                     <p>Note: You can also potentially pass in the same connection as the one being used for data. However, this might result in an error in certain cases where the client system attempts to contact the metadata repository while part of another operation (such as select or insert).</p>
                     <div class="infoboxnotealso" id="GUID-86D5315D-9648-4F94-8E47-0FFF37028441__GUID-7C6814A0-7496-4EE1-9FF9-7FADDF076A8D">
                        <p class="notep1">See Also:</p>
                        <p><a href="oci-xml-db-functions.html#GUID-7B569A13-1E67-4FC4-A3AE-C3E90695C6D2" title="Creates a metadata connection context.">OCIBinXmlCreateReposCtxFromConn()</a></p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-301DD0C0-2927-4069-9B74-D8C95DA1CDFB" name="GUID-301DD0C0-2927-4069-9B74-D8C95DA1CDFB"></a><h4 id="LNOCI-GUID-301DD0C0-2927-4069-9B74-D8C95DA1CDFB" class="sect4"><span class="enumeration_section">23.4.4 </span>Create Repository Context from a Connection Pool
                  </h4>
                  <div>
                     <p><code class="codeph">OCIBinXmlCreateReposCtxFromCPool()</code> creates a repository context from a connection pool. 
                     </p>
                     <p>When the application accesses the back-end repository, any available connection from the pool is used. Further, this connection is released back to the pool as soon as the metadata operation is complete. Connection pools are highly recommended for multithreaded application scenarios. Different threads can use different connections in the pool and release them as soon as they are done. This approach allows for higher scalability and concurrency with a smaller number of physical connections.</p>
                     <div class="infoboxnotealso" id="GUID-301DD0C0-2927-4069-9B74-D8C95DA1CDFB__GUID-35758A56-9BE1-4275-A542-6283D2482843">
                        <p class="notep1">See Also:</p>
                        <p><a href="oci-xml-db-functions.html#GUID-8E673583-3F28-4610-AD69-F513300E092B" title="Creates a metadata connection context from the specified connection pool.">OCIBinXmlCreateReposCtxFromCPool()</a></p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-4E05FAF0-81FA-454A-8618-DD4E5DD89DB3" name="GUID-4E05FAF0-81FA-454A-8618-DD4E5DD89DB3"></a><h4 id="LNOCI-GUID-4E05FAF0-81FA-454A-8618-DD4E5DD89DB3" class="sect4"><span class="enumeration_section">23.4.5 </span>About Associating Repository Context with a Data Connection
                  </h4>
                  <div>
                     <p><code class="codeph">OCIBinXmlSetReposCtxForConn()</code> associates a repository context with a data connection described by <code class="codeph">OCISvcCtx</code> <code class="codeph">*</code>. 
                     </p>
                     <p>Multiple data connections can share the same repository context, but access to the repository can be serialized (if it is based on a dedicated connection). When the system must fetch the metadata for encode or decode operations, it looks up the appropriate repository connection from the <code class="codeph">OCIEnv</code>, <code class="codeph">OCISvcCtx</code> pair and uses it to fetch the metadata required.
                     </p>
                     <div class="infoboxnotealso" id="GUID-4E05FAF0-81FA-454A-8618-DD4E5DD89DB3__GUID-4870DEB0-3555-4839-ACD1-676D2D48107E">
                        <p class="notep1">See Also:</p>
                        <p><a href="oci-xml-db-functions.html#GUID-7699EB5F-304A-4B34-AC25-D686BA117D3C" title="Associates the data connection with the metadata connection.">OCIBinXmlSetReposCtxForConn()</a></p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-FDA2DD34-0B7C-4DF0-84EC-EA7CA8A0F019" name="GUID-FDA2DD34-0B7C-4DF0-84EC-EA7CA8A0F019"></a><h4 id="LNOCI-GUID-FDA2DD34-0B7C-4DF0-84EC-EA7CA8A0F019" class="sect4"><span class="enumeration_section">23.4.6 </span>About Setting XMLType Encoding Format Preference
                  </h4>
                  <div>
                     <p></p>
                     <p>By default, XML data sent to the database is encoded in one of these possible formats (text, object-relational, or binary XML) based on certain internal criteria such as the source format (if it was read from the DB). <code class="codeph">OCIBinXmlSetFormatPref()</code> provides an explicit mechanism to set the preference for encoding format. In the future, the default format can be binary XML, but this function could be used to override it if needed.
                     </p>
                     <div class="infoboxnotealso" id="GUID-FDA2DD34-0B7C-4DF0-84EC-EA7CA8A0F019__GUID-5F52710D-BE3F-4459-87AC-77D245A71819">
                        <p class="notep1">See Also:</p>
                        <p><a href="oci-xml-db-functions.html#GUID-579B0507-91D3-4AD3-8AA9-B57454D38F3F" title="Specifies that the images being transferred between client and server for the XML document be in binary XML format.">OCIBinXmlSetFormatPref()</a></p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-C09D2275-E10C-421E-90FA-449C428590BE" name="GUID-C09D2275-E10C-421E-90FA-449C428590BE"></a><h4 id="LNOCI-GUID-C09D2275-E10C-421E-90FA-449C428590BE" class="sect4"><span class="enumeration_section">23.4.7 </span>Example of Using a Connection Pool
                  </h4>
                  <div>
                     <p>Creating a repository context from a connection pool and associating the repository context with a data connection is shown in this example in the XML DB documentation.</p>
                     <p>The database is local and the test is in single-threaded mode.</p>
                     <div class="infoboxnotealso" id="GUID-C09D2275-E10C-421E-90FA-449C428590BE__GUID-466E5990-0F55-47BE-805F-4D3E3832F5AB">
                        <p class="notep1">See Also:</p>
                        <p><a href="../adxdb/C-API-for-XMLType.html#ADXDB1400" target="_blank"><span><cite>Oracle XML&nbsp;DB Developerâ€™s Guide</cite></span></a> for more information about using OCI and the C API for XML with Oracle XML DB
                        </p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>