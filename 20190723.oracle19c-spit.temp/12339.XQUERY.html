<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>XQUERY</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User's Guide and Reference">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User's Guide and Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sqlplus-users-guide-and-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-25T05:48:09-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96459-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="WHENEVER-SQLERROR.html" title="Previous" type="text/html">
      <link rel="next" href="SQL-Plus-error-messages.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL*Plus User's Guide and Reference">
    <meta name="dcterms.isVersionOf" content="SQPUG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="WHENEVER-SQLERROR.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="SQL-Plus-error-messages.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User's Guide and Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Plus-reference.html" property="item" typeof="WebPage"><span property="name">SQL*Plus Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Plus-command-reference.html" property="item" typeof="WebPage"><span property="name">SQL*Plus Command Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">XQUERY</li>
            </ol>
            <a id="GUID-8E0F0F2C-0CFC-4FDD-9CB3-4B0CE7B3BF8E" name="GUID-8E0F0F2C-0CFC-4FDD-9CB3-4B0CE7B3BF8E"></a><a id="SQPUG608"></a><a id="SQPUG136"></a>
            
            <h2 id="SQPUG-GUID-8E0F0F2C-0CFC-4FDD-9CB3-4B0CE7B3BF8E" class="sect2"><span class="enumeration_section">12.54 </span>XQUERY
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-8E0F0F2C-0CFC-4FDD-9CB3-4B0CE7B3BF8E__GUID-FA313E9C-6820-4D43-9599-318710A6300A">Syntax</p><pre class="oac_no_warn" dir="ltr">XQUERY <span class="italic">xquery_statement</span></pre><p><a id="d48429e27" class="indexterm-anchor"></a>The SQL*Plus XQUERY command enables you to perform an XQuery 1.0 query on a specified database. XQUERY is supported on Oracle Database 10<span class="italic">g</span> (Release 2) and later versions. Attempting to use XQUERY on an earlier version of the Oracle Database gives the error:
                  </p><pre class="oac_no_warn" dir="ltr">SP2-614 Server version too low</pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8E0F0F2C-0CFC-4FDD-9CB3-4B0CE7B3BF8E__GUID-BC9B4876-82FA-4A4A-B9D4-1CD2B8928DD8">Terms</p><pre class="oac_no_warn" dir="ltr"><span class="italic">xquery_statement</span></pre><p>Specifies the XQuery statement you want to run. The statement is entered with standard XQuery syntax. The XQUERY statement is terminated with a forward slash, '/'. </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8E0F0F2C-0CFC-4FDD-9CB3-4B0CE7B3BF8E__GUID-4B4171A3-D377-4045-98B4-263E06527CA2">Usage</p>
                  <p>Prefix your XQuery statement with the SQL*Plus command, XQUERY, and terminate the XQUERY command with a slash (/). XQUERY is a SQL*Plus keyword. If XQueries are executed in other tools, the keyword may not be needed. </p>
                  <p>XML output from the XQUERY command is displayed as native XML according to the active SET command options. SET LONG typically needs to be set. It may be useful to consider the following settings:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Linesize for rows longer than the default 80 characters (SET LINESIZE).</p>
                     </li>
                     <li>
                        <p>LOB, LONG and XML Type Size for rows longer than the default 80 characters (SET LONG).</p>
                     </li>
                     <li>
                        <p>Output Page Setup to match output  (SET PAGESIZE).</p>
                     </li>
                     <li>
                        <p>Display Headings to repress the "Result Sequence" column heading (SET HEADING OFF).</p>
                     </li>
                  </ul>
                  <p>The XQUERY command requires an active database connection. The command will not work with SQLPLUS /NOLOG.</p>
                  <p>Bind variables are not supported in the XQUERY command.</p>
                  <p>There are four SET commands specific to the XQUERY command. The SHOW XQUERY command gives the status of these settings. They are:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="SET-system-variable-summary.html#GUID-E143E510-CFF3-4464-9E95-CD6C50ED13BE">SET XQUERY BASEURI {text}</a></p>
                     </li>
                     <li>
                        <p><a href="SET-system-variable-summary.html#GUID-57B7FCA4-7277-4BEB-937B-C38F1950555B">SET XQUERY ORDERING {UNORDERED | ORDERED | DEFAULT}</a></p>
                     </li>
                     <li>
                        <p><a href="SET-system-variable-summary.html#GUID-EAFF3890-80B7-4EBD-AD1C-40C8AFDDCB5D">SET XQUERY NODE {BYVALUE | BYREFERENCE | DEFAULT}</a></p>
                     </li>
                     <li>
                        <p><a href="SET-system-variable-summary.html#GUID-03617FAE-4F27-4322-9CA5-F0219C003033">SET XQUERY CONTEXT {text}</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8E0F0F2C-0CFC-4FDD-9CB3-4B0CE7B3BF8E__GUID-5B597964-F151-4E4B-8FB5-29F4679444D1">Examples</p>
                  <p>The XQuery statement in the following script queries the EMP_DETAILS_VIEW view of the HR schema:</p><pre class="oac_no_warn" dir="ltr">set long 160
set linesize 160
xquery for $i in fn:collection("oradb:/SCOTT/EMP_DETAILS_VIEW") return $i
/</pre><pre class="pre codeblock"><code>Result Sequence
-------------------------------------------------------------------------------------------
&lt;ROW&gt;&lt;EMPNO&gt;7369&lt;/EMPNO&gt;&lt;ENAME&gt;SMITH&lt;/ENAME&gt;&lt;JOB&gt;CLERK&lt;/JOB&gt;&lt;MGR&gt;7902&lt;/MGR&gt;&lt;HIREDATE&gt;17-
DEC-80&lt;/HIREDATE&gt;&lt;SAL&gt;800&lt;/SAL&gt;&lt;DEPTNO&gt;20&lt;/DEPTNO&gt;&lt;/ROW&gt;

14 item(s) selected.</code></pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>