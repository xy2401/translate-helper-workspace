<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_HPROF package provides an interface for profiling the execution of PL/SQL applications. It provides services for collecting the hierarchical profiler data, analyzing the raw profiler output and profiling information generation.">
      <meta name="description" content="The DBMS_HPROF package provides an interface for profiling the execution of PL/SQL applications. It provides services for collecting the hierarchical profiler data, analyzing the raw profiler output and profiling information generation.">
      <title>DBMS_HPROF</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_HPROF package provides an interface for profiling the execution of PL/SQL applications. It provides services for collecting the hierarchical profiler data, analyzing the raw profiler output and profiling information generation.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_HM.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_HS_PARALLEL.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_HM.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_HS_PARALLEL.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_HPROF </li>
            </ol>
            <a id="GUID-D4E1F35B-25D9-45A2-8CB8-4E174931380A" name="GUID-D4E1F35B-25D9-45A2-8CB8-4E174931380A"></a><a id="ARPLS146"></a><a id="ARPLS146"></a>
            
            <h2 id="ARPLS-GUID-D4E1F35B-25D9-45A2-8CB8-4E174931380A" class="sect2"><span class="enumeration_chapter">80 </span> DBMS_HPROF 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_HPROF</code> package provides an interface for profiling the execution of PL/SQL applications. It provides services for collecting the hierarchical profiler data, analyzing the raw profiler output and profiling information generation.
               </p>
               <p>This chapter contains the following topic:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_HPROF.html#GUID-AD1233C0-E6DC-49B1-BC3B-3D933EBFD5BF" title="This table lists and briefly describes the DBMS_HPROF package subprograms.">Summary of DBMS_HPROF Subprograms</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-D4E1F35B-25D9-45A2-8CB8-4E174931380A__GUID-7AD8159F-DD58-4195-A62B-67B4774E0ED9">
                  <p class="notep1">See Also:</p>
                  <p><span class="italic">Oracle Database Development Guide</span> for more information about the <a href="../adfns/hierarchical-profiler.html#ADFNS023" target="_blank">"PL/SQL Hierarchical Profiler"</a></p>
               </div>
            </div><a id="ARPLS66425"></a><a id="ARPLS66426"></a><a id="ARPLS66426"></a><a id="ARPLS66425"></a><div class="props_rev_3"><a id="GUID-AD1233C0-E6DC-49B1-BC3B-3D933EBFD5BF" name="GUID-AD1233C0-E6DC-49B1-BC3B-3D933EBFD5BF"></a><h3 id="ARPLS-GUID-AD1233C0-E6DC-49B1-BC3B-3D933EBFD5BF" class="sect3"><span class="enumeration_section">80.1 </span>Summary of DBMS_HPROF Subprograms
               </h3>
               <div>
                  <p>This table lists and briefly describes the <code class="codeph">DBMS_HPROF</code> package subprograms.
                  </p>
                  <div class="tblformal" id="GUID-AD1233C0-E6DC-49B1-BC3B-3D933EBFD5BF__GUID-AE7E745D-8E11-4B77-8B1B-01667BC69888">
                     <p class="titleintable">Table 80-1 DBMS_HPROF Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_HPROF Package Subprograms" summary="This table lists the DBMS_HPROF subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d459349e214">Subprogram</th>
                              <th align="left" valign="bottom" width="70%" id="d459349e217">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d459349e222" headers="d459349e214 ">
                                 <p><a href="DBMS_HPROF.html#GUID-AC3576CD-DDFB-4423-93F9-4720FB7A7947" title="This function analyzes the raw profiler output and produces hierarchical profiler information in database tables or generates out-of-the-box HTML reports.">ANALYZE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d459349e222 d459349e217 ">
                                 <p>Analyzes the raw profiler output and produces hierarchical profiler information in database tables.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d459349e233" headers="d459349e214 ">
                                 <p><a href="DBMS_HPROF.html#GUID-CB4269C9-3FA4-45DD-84D8-704BD6A971CE" title="Creates the hierarchical profiler database tables and data structures in the user's session.">CREATE_TABLES Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d459349e233 d459349e217 ">
                                 <p>Creates the hierarchical profiler database tables and data structures in the user's session.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d459349e244" headers="d459349e214 ">
                                 <p><a href="DBMS_HPROF.html#GUID-AFCC5B32-B933-4B4F-A20F-B5A844A85EDD" title="This procedure starts hierarchical profiler data collection in the user's session.">START_PROFILING Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d459349e244 d459349e217 ">
                                 <p>Starts hierarchical profiler data collection in the user's session.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d459349e255" headers="d459349e214 ">
                                 <p><a href="DBMS_HPROF.html#GUID-540678A1-7AB2-428B-9023-45E9FDDE6362" title="This procedure stops profiler data collection in the user's session. This subprogram also has the side effect of flushing data collected so far in the session, and it signals the end of a run. When the STOP_PROFILING procedure returns CLOB, it contains the Real-Time Monitoring report for the profiler run.">STOP_PROFILING Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d459349e255 d459349e217 ">
                                 <p>Stops profiler data collection in the user's session.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS66427"></a><a id="ARPLS66428"></a><a id="ARPLS66428"></a><a id="ARPLS66427"></a><div class="props_rev_3"><a id="GUID-AC3576CD-DDFB-4423-93F9-4720FB7A7947" name="GUID-AC3576CD-DDFB-4423-93F9-4720FB7A7947"></a><h4 id="ARPLS-GUID-AC3576CD-DDFB-4423-93F9-4720FB7A7947" class="sect4"><span class="enumeration_section">80.1.1 </span>ANALYZE Function
                  </h4>
                  <div>
                     <p>This function analyzes the raw profiler output and produces hierarchical profiler information in database tables or generates out-of-the-box HTML reports.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-AC3576CD-DDFB-4423-93F9-4720FB7A7947__GUID-7C3169CD-7556-4F03-8940-CCBFE5C9DD6B">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_HPROF.ANALYZE (
   trace_id         IN NUMBER,
   summary_mode     IN BOOLEAN DEFAULT FALSE,
   trace            IN VARCHAR2 DEFAULT NULL,
   skip             IN PLS_INTEGER DEFAULT 0,
   collect          IN PLS_INTEGER DEFAULT NULL,
   run_comment      IN VARCHAR2 DEFAULT NULL)
  RETURN NUMBER;

DBMS_HPROF.ANALYZE (
   trace_id         IN NUMBER,
   report_clob      OUT CLOB,
   trace            IN VARCHAR2 DEFAULT NULL,
   skip             IN PLS_INTEGER DEFAULT 0,
   collect          IN PLS_INTEGER DEFAULT NULL);
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AC3576CD-DDFB-4423-93F9-4720FB7A7947__GUID-D4E596A3-3056-40FB-9594-F5B0C5464E99">Parameters</p>
                        <div class="tblformal" id="GUID-AC3576CD-DDFB-4423-93F9-4720FB7A7947__GUID-43CADC1C-6BAD-4185-926D-8021278526C8">
                           <p class="titleintable">Table 80-2 ANALYZE Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ANALYZE Function Parameters" summary="This table describes the parameters of DBMS_HPROF.ANALYZE." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d459349e378">Parameter</th>
                                    <th align="left" valign="bottom" width="67%" id="d459349e381">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d459349e386" headers="d459349e378 ">
                                       <p><code class="codeph">trace_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d459349e386 d459349e381 ">
                                       <p>The <code class="codeph">trace_id</code> of the raw profiler data entry in the raw profiler data table (<code class="codeph">dbmshp_trace_data</code>).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d459349e400" headers="d459349e378 ">
                                       <p><code class="codeph">summary_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d459349e400 d459349e381 ">
                                       <p>By default (that is, when <code class="codeph">summary_mode</code> is <code class="codeph">FALSE</code>), a detailed analysis is done.
                                       </p>
                                       <p>When <code class="codeph">summary_mode</code> is <code class="codeph">TRUE</code>, only top-level summary information is generated into the database table.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d459349e422" headers="d459349e378 ">
                                       <p><code class="codeph">report_clob</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d459349e422 d459349e381 ">
                                       <p>The analyzed HTML report.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d459349e430" headers="d459349e378 ">
                                       <p><code class="codeph">trace</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d459349e430 d459349e381 ">
                                       <p>Analyzes only the subtrees rooted at the specified trace entry. By default (when trace is <code class="codeph">NULL</code>), the analysis/reporting is generated for the entire run. 
                                       </p>
                                       <p>The trace entry must be specified in a special quoted qualified format. For example, '"<code class="codeph">HR</code>"."<code class="codeph">PKG</code>"."<code class="codeph">FOO</code>"' or '"".""."<code class="codeph">__plsql_vm</code>"'. 
                                       </p>
                                       <p>If multiple overloads exist for the specified name, all of them will be analyzed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d459349e457" headers="d459349e378 ">
                                       <p><code class="codeph">skip</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d459349e457 d459349e381 ">
                                       <p>Used only when <code class="codeph">trace</code> is specified. Analyze only the subtrees rooted at the specified trace, but ignore the first <code class="codeph">skip</code> invocations to trace. 
                                       </p>
                                       <p>The default value for skip is <code class="codeph">0</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d459349e476" headers="d459349e378 ">
                                       <p><code class="codeph">collect</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d459349e476 d459349e381 ">
                                       <p>Used only when <code class="codeph">trace</code> is specified.
                                       </p>
                                       <p>Analyze <code class="codeph">collect</code> number of invocations of traces (starting from <code class="codeph">skip</code>+1'th invocation). 
                                       </p>
                                       <p>By default, only 1 invocation is collected.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d459349e497" headers="d459349e378 ">
                                       <p><code class="codeph">run_comment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d459349e497 d459349e381 ">
                                       <p>User-provided comment for this run.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AC3576CD-DDFB-4423-93F9-4720FB7A7947__GUID-A32AF3BE-F789-4C51-A0B6-1CD70915D2B1">Return Values</p>
                        <p>A unique run identifier for this run of the analyzer. This can then be used to look up the results corresponding to this run from the hierarchical profiler tables.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AC3576CD-DDFB-4423-93F9-4720FB7A7947__GUID-A2152683-DE50-47E9-8588-D9711C50FFDB">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <code class="codeph">DBMS_HPROF.CREATE_TABLES</code> subprogram to create the hierarchical profiler database tables and other data structures required for persistently storing the results of analyzing the raw profiler data.
                              </p>
                           </li>
                           <li>
                              <p>Calling the <code class="codeph">DBMS_HPROF.CREATE_TABLES</code> with default value (<code class="codeph">FALSE</code>) will raise error if table already exists.
                              </p>
                           </li>
                           <li>
                              <p>Use <code class="codeph">DBMS_HPROF.CREATE_TABLES(TRUE)</code> to drop any previously created hierarchical profiler tables.
                              </p>
                           </li>
                           <li>
                              <p>Use the <code class="codeph">DBMS_HPROF.CREATE_TABLES</code> to drop any previously created hierarchical profiler tables. By default, <code class="codeph">force_it</code> is <code class="codeph">FALSE</code>; therefore, to drop any previously created hierarchical profiler tables you must set the value of <code class="codeph">force_it</code> to <code class="codeph">TRUE</code>.
                              </p>
                           </li>
                           <li>
                              <p>If <code class="codeph">trace_id</code> entry is <code class="codeph">NULL</code>, error is raised.
                              </p>
                           </li>
                           <li>
                              <p>If <code class="codeph">trace_id</code> entry in the raw profiler data table does not exist, error is raised.
                              </p>
                           </li>
                           <li>
                              <p>If raw data of the <code class="codeph">trace_id</code> entry in the raw profiler data table is <code class="codeph">NULL</code> or is <code class="codeph">zero</code> size, error is raised.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AC3576CD-DDFB-4423-93F9-4720FB7A7947__GUID-54497E73-7846-4C4D-9BB7-0A46C592C5C9">Examples</p>
                        <p>The following snippet installs the hierarchical profiler tables in HR schema.</p><pre class="oac_no_warn" dir="ltr">connect HR/HR;
</pre><p>The following example analyzes and generates HTML CLOB report from a raw profiler data table.</p><pre class="oac_no_warn" dir="ltr">DECLARE
        reportclob clob;
        trace_id number;
BEGIN
    -- create raw profiler data and analysis tables
    -- force_it =&gt;TRUE will dropped the tables if table exists
    DBMS_HPROF.CREATE_TABLES(force_it =&gt;TRUE);

    -- Start profiling
    -- Write raw profiler data in raw profiler data table
    trace_id := DBMS_HPROF.START_PROFILING;

    -- Run procedure to be profiled
    test;

    -- Stop profiling
    DBMS_HPROF.STOP_PROFILING;

    -- analyzes trace_id entry in raw profiler data table and produce
    -- analyzed HTML report in reportclob
    DBMS_HPROF.ANALYZE(trace_id , reportclob);
END;
/</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-CB4269C9-3FA4-45DD-84D8-704BD6A971CE" name="GUID-CB4269C9-3FA4-45DD-84D8-704BD6A971CE"></a><h4 id="ARPLS-GUID-CB4269C9-3FA4-45DD-84D8-704BD6A971CE" class="sect4"><span class="enumeration_section">80.1.2 </span>CREATE_TABLES Procedure
                  </h4>
                  <div>
                     <p>Creates the hierarchical profiler database tables and data structures in the user's session.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CB4269C9-3FA4-45DD-84D8-704BD6A971CE__GUID-047AF77B-10BE-4163-9F7E-E2233DB7F77E">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_HPROF.CREATE_TABLES (
   force_it         IN BOOLEAN DEFAULT FALSE);
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CB4269C9-3FA4-45DD-84D8-704BD6A971CE__GUID-41902720-8CF6-4A30-81D3-F5DD7BC8C449">Parameters</p>
                        <div class="tblformal" id="GUID-CB4269C9-3FA4-45DD-84D8-704BD6A971CE__GUID-D54FCFFE-9558-4172-9146-47F045119BFB">
                           <p class="titleintable">Table 80-3 CREATE_TABLES Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_TABLES Procedure Parameters" summary="This table describes the parameters of DBMS_HPROF.CREATE_TABLES." frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d459349e697">Parameter</th>
                                    <th align="left" valign="bottom" id="d459349e700">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d459349e705" headers="d459349e697 ">
                                       <p><code class="codeph">force_it</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d459349e705 d459349e700 ">
                                       <p>If <code class="codeph">FALSE</code> and <code class="codeph">DBMS_HPROF</code> tables are present, then an <code class="codeph">HPROF</code> error is raised. 
                                       </p>
                                       <p>If <code class="codeph">TRUE</code>, then the procedure creates tables. If the tables already exist, then they are dropped and new tables are created.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnote" id="GUID-CB4269C9-3FA4-45DD-84D8-704BD6A971CE__GUID-89E0D1AF-45DB-4545-B127-44C78D5EF730">
                           <p class="notep1">Note:</p>
                           <p>Users need not use the <code class="codeph">dbmshptab.sql</code> script located in the <code class="codeph">rdbms/admin</code> directory to create the hierarchical profiler database tables and data structures anymore. 
                           </p>
                           <p>The <code class="codeph">dbmshptab.sql</code> script is deprecated starting in Oracle Database 18<span class="italic">c</span>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66429"></a><a id="ARPLS66430"></a><a id="ARPLS66430"></a><a id="ARPLS66429"></a><div class="props_rev_3"><a id="GUID-AFCC5B32-B933-4B4F-A20F-B5A844A85EDD" name="GUID-AFCC5B32-B933-4B4F-A20F-B5A844A85EDD"></a><h4 id="ARPLS-GUID-AFCC5B32-B933-4B4F-A20F-B5A844A85EDD" class="sect4"><span class="enumeration_section">80.1.3 </span>START_PROFILING Procedure
                  </h4>
                  <div>
                     <p>This procedure starts hierarchical profiler data collection in the user's session.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-AFCC5B32-B933-4B4F-A20F-B5A844A85EDD__GUID-4246F672-0198-46FB-A972-ACF5E60DF03C">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_HPROF.START_PROFILING(
   max_depth     IN PLS_INTEGER DEFAULT NULL,
   sqlmonitor    IN BOOLEAN DEFAULT TRUE,
   run_comment   IN VARCHAR2 DEFAULT NULL)
RETURN NUMBER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AFCC5B32-B933-4B4F-A20F-B5A844A85EDD__GUID-F7CF1B7F-BA46-477D-9876-29D592DACC70">Parameters</p>
                        <div class="tblformal" id="GUID-AFCC5B32-B933-4B4F-A20F-B5A844A85EDD__GUID-7260A451-253B-4DDD-B5D4-8E8B9671FDC2">
                           <p class="titleintable">Table 80-4 START_PROFILING Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="START_PROFILING Procedure Parameters" summary="This table describes the parameters of DBMS_HPROF.START_PROFILING." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d459349e853">Parameter</th>
                                    <th align="left" valign="bottom" width="67%" id="d459349e856">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d459349e861" headers="d459349e853 ">
                                       <p><code class="codeph">max_depth</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d459349e861 d459349e856 ">
                                       <p>By default (that is, when <code class="codeph">max_depth</code> value is <code class="codeph">NULL</code>) profile information is gathered for all functions irrespective of their call depth. When a non-<code class="codeph">NULL</code> value is specified for <code class="codeph">max_depth</code>, the profiler collects data only for functions up to a call depth level of <code class="codeph">max_depth</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d459349e884" headers="d459349e853 ">
                                       <p><code class="codeph">sqlmonitor</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d459349e884 d459349e856 ">
                                       <p>Generates a real-time monitoring report for a profiler run when the profiler run ends.</p>
                                       <p>The default value is <code class="codeph">TRUE</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d459349e897" headers="d459349e853 ">
                                       <p><code class="codeph">run_comment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d459349e897 d459349e856 ">
                                       <p>User provided comment for the profiler data collection run.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AFCC5B32-B933-4B4F-A20F-B5A844A85EDD__GUID-0C9E7A97-1525-4EB8-B780-9BAF1DF9805E">Return Values</p>
                        <p>Unique run identifier for this profiler run. This can then be used to look up the results corresponding to this run from the hierarchical profiler tables.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AFCC5B32-B933-4B4F-A20F-B5A844A85EDD__GUID-A70DDEE7-06FA-44D5-B2C9-9AF9F429F447">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Even though the profiler does not individually track functions at depth greater than <code class="codeph">max_depth</code>, the time spent in such functions is charged to the ancestor function at depth <code class="codeph">max_depth</code>.
                              </p>
                           </li>
                           <li>
                              <p>Raw profiler data is generated in the raw profiler data table with an unique <code class="codeph">trace_id</code>.
                              </p>
                           </li>
                           <li>
                              <p>The unique <code class="codeph">trace_id</code> is used to manage the raw profiler output stored in the raw profiler data table.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66431"></a><a id="ARPLS66431"></a><div class="props_rev_3"><a id="GUID-540678A1-7AB2-428B-9023-45E9FDDE6362" name="GUID-540678A1-7AB2-428B-9023-45E9FDDE6362"></a><h4 id="ARPLS-GUID-540678A1-7AB2-428B-9023-45E9FDDE6362" class="sect4"><span class="enumeration_section">80.1.4 </span>STOP_PROFILING Procedure
                  </h4>
                  <div>
                     <p>This procedure stops profiler data collection in the user's session. This subprogram also has the side effect of flushing data collected so far in the session, and it signals the end of a run. When the <code class="codeph">STOP_PROFILING</code> procedure returns CLOB, it contains the Real-Time Monitoring report for the profiler run.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-540678A1-7AB2-428B-9023-45E9FDDE6362__GUID-5B27CD99-0CFA-4D0A-B95E-06BC0C2AE868">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_HPROF.STOP_PROFILING;


DBMS_HPROF.STOP_PROFILING
  RETURN CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-540678A1-7AB2-428B-9023-45E9FDDE6362__GUID-45967EEA-8521-4437-A530-1224E19C85A0">Examples</p>
                        <p>Profiling with raw profiler data table</p><pre class="oac_no_warn" dir="ltr">DECLARE
    analyze_runid number;
    trace_id number;
BEGIN
    -- create raw profiler data and analysis tables
    -- call create_tables with force_it =&gt;FALSE (default) when
    -- raw profiler data and analysis tables do not exist already
    DBMS_HPROF.CREATE_TABLES;
    -- Start profiling
    -- Write raw profiler data in raw profiler data table
    trace_id := DBMS_HPROF.START_PROFILING;
    -- Run the procedure to be profiled
    test;
    -- Stop profiling
    DBMS_HPROF.STOP_PROFILING;
    -- analyzes trace_id entry in raw profiler data table and writes
    -- hierarchical profiler information in hprofâ€™s analysis tables
    analyze_runid := DBMS_HPROF.ANALYZE(trace_id);
END;
/</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>