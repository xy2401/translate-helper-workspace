<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>REGEXP_COUNT</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="REFTOHEX.html" title="Previous" type="text/html">
      <link rel="next" href="REGEXP_INSTR.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="REFTOHEX.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="REGEXP_INSTR.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">REGEXP_COUNT </li>
            </ol>
            <a id="GUID-5148AF2E-9CED-497D-A78D-3A7847A45276" name="GUID-5148AF2E-9CED-497D-A78D-3A7847A45276"></a><a id="SQLRF51683"></a><a id="SQLRF51684"></a><a id="SQLRF51685"></a><a id="SQLRF20014"></a>
            
            <h2 id="SQLRF-GUID-5148AF2E-9CED-497D-A78D-3A7847A45276" class="sect2">REGEXP_COUNT </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-5148AF2E-9CED-497D-A78D-3A7847A45276__GUID-57909597-D3D3-41A6-84CB-EC6A85800CAB">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-5148AF2E-9CED-497D-A78D-3A7847A45276__GUID-4569AE61-3AAD-4151-A2F6-482874486B3C"><img src="img/regexp_count.gif" alt="Description of regexp_count.eps follows" title="Description of regexp_count.eps follows" longdesc="img_text/regexp_count.html"><br><a href="img_text/regexp_count.html">Description of the illustration regexp_count.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5148AF2E-9CED-497D-A78D-3A7847A45276__GUID-211E365B-54D4-4AFE-961E-9B0572B8FEB7">Purpose</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">REGEXP_COUNT</code> complements the functionality of the <code class="codeph">REGEXP_INSTR</code>  function by returning the number of times a pattern occurs in a source string. The function evaluates strings using characters as defined by the input character set. It returns an integer indicating the number of occurrences of <span class="italic"><code class="codeph">pattern</code></span>. If no match is found, then the function returns 0.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="italic"><code class="codeph">source_char</code></span> is a character expression that serves as the search value. It is commonly a character column and can be of any of the data types <code class="codeph">CHAR</code>, <code class="codeph">VARCHAR2</code>, <code class="codeph">NCHAR</code>, <code class="codeph">NVARCHAR2</code>, <code class="codeph">CLOB</code>, or <code class="codeph">NCLOB</code>.
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">pattern</code></span> is the regular expression. It is usually a text literal and can be of any of the data types <code class="codeph">CHAR</code>, <code class="codeph">VARCHAR2</code>, <code class="codeph">NCHAR</code>, or <code class="codeph">NVARCHAR2</code>. It can contain up to 512 bytes. If the data type of <span class="italic"><code class="codeph">pattern</code></span> is different from the data type of <span class="italic"><code class="codeph">source_char</code></span>, then Oracle Database converts <span class="italic"><code class="codeph">pattern</code></span> to the data type of <span class="italic"><code class="codeph">source_char</code></span>. 
                        </p>
                        <p><code class="codeph">REGEXP_COUNT</code> ignores subexpression parentheses in <span class="italic"><code class="codeph">pattern</code></span>. For example, the pattern <code class="codeph">'(123(45))'</code> is equivalent to <code class="codeph">'12345'</code>. For a listing of the operators you can specify in <span class="italic"><code class="codeph">pattern</code></span>, refer to <a href="Oracle-Regular-Expression-Support.html#GUID-969230D6-FC1A-4C75-BF2A-6B1BE909DED6">Oracle Regular Expression Support</a>.
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">position</code></span> is a positive integer indicating the character of <span class="italic"><code class="codeph">source_char</code></span> where Oracle should begin the search. The default is 1, meaning that Oracle begins the search at the first character of <span class="italic"><code class="codeph">source_char</code></span>. After finding the first occurrence of <span class="italic"><code class="codeph">pattern</code></span>, the database searches for a second occurrence beginning with the first character following the first occurrence.
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">match_param</code></span> is a text literal that lets you change the default matching behavior of the function. You can specify one or more of the following values for <span class="italic"><code class="codeph">match_param</code></span>:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">'i'</code> specifies case-insensitive matching.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">'c'</code> specifies case-sensitive matching. 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">'n'</code> allows the period (.), which is the match-any-character character, to match the newline character. If you omit this parameter, then the period does not match the newline character.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">'m'</code> treats the source string as multiple lines. Oracle interprets the caret (<code class="codeph"> ^</code>) and dollar sign (<code class="codeph">$</code>) as the start and end, respectively, of any line anywhere in the source string, rather than only at the start or end of the entire source string. If you omit this parameter, then Oracle treats the source string as a single line.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">'x'</code> ignores whitespace characters. By default, whitespace characters match themselves.
                              </p>
                           </li>
                        </ul>
                        <p>If you specify multiple contradictory values, then Oracle uses the last value. For example, if you specify <code class="codeph">'ic'</code>, then Oracle uses case-sensitive matching. If you specify a character other than those shown above, then Oracle returns an error.
                        </p>
                        <p>If you omit <span class="italic"><code class="codeph">match_param</code></span>, then:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The default case sensitivity is determined by the value of the <code class="codeph">NLS_SORT</code> parameter.
                              </p>
                           </li>
                           <li>
                              <p>A period (.) does not match the newline character.</p>
                           </li>
                           <li>
                              <p>The source string is treated as a single line.</p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-5148AF2E-9CED-497D-A78D-3A7847A45276__GUID-A344D233-7822-413D-A1EE-E54A4EBAD8C4">
                     <p class="notep1">See Also:</p>
                     <p>Appendix C in <a href="../nlspg/appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#NLSPG-GUID-AFCE41ED-775B-4A00-AF38-C436776AE0C5" target="_blank"><span class="italic">Oracle Database Globalization Support Guide</span></a> for the collation determination rules, which define the collation <code class="codeph">REGEXP_COUNT</code> uses to compare characters from <span class="italic"><code class="codeph">source_char</code></span> with characters from <span class="italic"><code class="codeph">pattern</code></span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5148AF2E-9CED-497D-A78D-3A7847A45276__GUID-302FFE1E-7643-4433-9047-967B1F5F324F">Examples</p>
                  <p>The following example shows that subexpressions parentheses in pattern are ignored:</p><pre class="oac_no_warn" dir="ltr">SELECT REGEXP_COUNT('123123123123123', '(12)3', 1, 'i') REGEXP_COUNT
   FROM DUAL;
 
REGEXP_COUNT
------------
           5
</pre><p>In the following example, the function begins to evaluate the source string at the third character, so skips over the first occurrence of pattern:</p><pre class="oac_no_warn" dir="ltr">SELECT REGEXP_COUNT('123123123123', '123', 3, 'i') COUNT FROM DUAL; 

     COUNT
----------
         3</pre><p><span class="bold">REGEXP_COUNT simple matching: Examples</span></p>
                  <p>In the following example, <code class="codeph">REGEXP_COUNT</code> validates the supplied string for the given pattern and returns the number of alphabetic letters:
                  </p><pre class="oac_no_warn" dir="ltr">select regexp_count('ABC123', '[A-Z]'), regexp_count('A1B2C3', '[A-Z]') from dual;

REGEXP_COUNT('ABC123','[A-Z]') REGEXP_COUNT('A1B2C3','[A-Z]')
------------------------------ ------------------------------
			     3				    3</pre><p>In the following example, <code class="codeph">REGEXP_COUNT</code> validates the supplied string for the given pattern and returns the number of alphabetic letters followed by a single digit number:
                  </p><pre class="oac_no_warn" dir="ltr">select regexp_count('ABC123', '[A-Z][0-9]'), regexp_count('A1B2C3', '[A-Z][0-9]') from dual;

REGEXP_COUNT('ABC123','[A-Z][0-9]') REGEXP_COUNT('A1B2C3','[A-Z][0-9]')
----------------------------------- -----------------------------------
				  1				      3
</pre><p>In the following example, <code class="codeph">REGEXP_COUNT</code> validates the supplied string for the given pattern and returns the number of alphabetic letters followed by a single digit number only at the beginning of the string:
                  </p><pre class="oac_no_warn" dir="ltr">select regexp_count('ABC123', '[A-Z][0-9]'), regexp_count('A1B2C3', '[A-Z][0-9]') from dual;

REGEXP_COUNT('ABC123','^[A-Z][0-9]') REGEXP_COUNT('A1B2C3','^[A-Z][0-9]')
------------------------------------ ------------------------------------
				   0					1</pre><p>In the following example, <code class="codeph">REGEXP_COUNT</code> validates the supplied string for the given pattern and returns the number of alphabetic letters followed by two digits of number only contained within the string:
                  </p><pre class="oac_no_warn" dir="ltr">select regexp_count('ABC123', '[A-Z][0-9]{2}'), regexp_count('A1B2C3', '[A-Z][0-9]{2}') from dual;

REGEXP_COUNT('ABC123','[A-Z][0-9]{2}') REGEXP_COUNT('A1B2C3','[A-Z][0-9]{2}')
-------------------------------------- --------------------------------------
				     1					    0
</pre><p>In the following example, <code class="codeph">REGEXP_COUNT</code> validates the supplied string for the given pattern and returns the number of alphabetic letters followed by a single digit number within the first two occurrences from the beginning of the string:
                  </p><pre class="oac_no_warn" dir="ltr">select regexp_count('ABC123', '([A-Z][0-9]){2}'), regexp_count('A1B2C3', '([A-Z][0-9]){2}') from dual;

REGEXP_COUNT('ABC123','([A-Z][0-9]){2}') REGEXP_COUNT('A1B2C3','([A-Z][0-9]){2}')
---------------------------------------- ----------------------------------------
                                       0                                        1</pre><div class="infoboxnote" id="GUID-5148AF2E-9CED-497D-A78D-3A7847A45276__GUID-93221B4D-7ABF-4826-AB4B-F6E016894DE9">
                     <p class="notep1">Live SQL:</p>
                     <p>View and run related examples on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/sqlrf/regexp_count/simple-match.html" target="_blank"><span class="italic">REGEXP_COUNT simple matching</span></a></p>
                  </div>
                  <p><span class="bold">REGEXP_COUNT advanced matching: Examples</span></p>
                  <p>In the following example, <code class="codeph">REGEXP_COUNT</code> validates the supplied string for the given pattern and returns the number of alphabetic letters:
                  </p><pre class="oac_no_warn" dir="ltr">select regexp_count('ABC123', '[A-Z]') Match_char_ABC_count, 
regexp_count('A1B2C3', '[A-Z]') Match_char_ABC_count from dual;

MATCH_CHAR_ABC_COUNT MATCH_CHAR_ABC_COUNT
-------------------- --------------------
		   3			3</pre><p>In the following example, <code class="codeph">REGEXP_COUNT</code> validates the supplied string for the given pattern and returns the number of alphabetic letters followed by a single digit number:
                  </p><pre class="oac_no_warn" dir="ltr">select regexp_count('ABC123', '[A-Z][0-9]') Match_string_C1_count, 
regexp_count('A1B2C3', '[A-Z][0-9]')  Match_strings_A1_B2_C3_count from dual;

MATCH_STRING_C1_COUNT MATCH_STRINGS_A1_B2_C3_COUNT
--------------------- ----------------------------
		    1				 3</pre><p>In the following example, <code class="codeph">REGEXP_COUNT</code> validates the supplied string for the given pattern and returns the number of alphabetic letters followed by a single digit number only at the beginning of the string:
                  </p><pre class="oac_no_warn" dir="ltr">select regexp_count('ABC123A5', '^[A-Z][0-9]') Char_num_like_A1_at_start, 
regexp_count('A1B2C3', '^[A-Z][0-9]') Char_num_like_A1_at_start from dual;

CHAR_NUM_LIKE_A1_AT_START CHAR_NUM_LIKE_A1_AT_START
------------------------- -------------------------
			0			  1</pre><p>In the following example, <code class="codeph">REGEXP_COUNT</code> validates the supplied string for the given pattern and returns the number of alphabetic letters followed by two digits of number only contained within the string:
                  </p><pre class="oac_no_warn" dir="ltr">select regexp_count('ABC123', '[A-Z][0-9]{2}') Char_num_like_A12_anywhere, 
regexp_count('A1B2C34', '[A-Z][0-9]{2}') Char_num_like_A12_anywhere from dual;

CHAR_NUM_LIKE_A12_ANYWHERE CHAR_NUM_LIKE_A12_ANYWHERE
-------------------------- --------------------------
			 1			    1</pre><p>In the following example, <code class="codeph">REGEXP_COUNT</code> validates the supplied string for the given pattern and returns the number of alphabetic letters followed by a single digit number within the first two occurrences from the beginning of the string:
                  </p><pre class="oac_no_warn" dir="ltr">select regexp_count('ABC12D3', '([A-Z][0-9]){2}') Char_num_within_2_places, 
regexp_count('A1B2C3', '([A-Z][0-9]){2}') Char_num_within_2_places from dual;

CHAR_NUM_WITHIN_2_PLACES CHAR_NUM_WITHIN_2_PLACES
------------------------ ------------------------
		       0			1</pre><div class="infoboxnote" id="GUID-5148AF2E-9CED-497D-A78D-3A7847A45276__GUID-C3C04612-A912-48DF-884D-F4676A0841F2">
                     <p class="notep1">Live SQL:</p>
                     <p>View and run related examples on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/sqlrf/regexp_count/advanced-match.html" target="_blank"><span class="italic">REGEXP_COUNT advanced matching</span></a></p>
                  </div>
                  <p><span class="bold">REGEXP_COUNT case-sensitive matching: Examples</span></p>
                  <p>The following statements create a table regexp_temp and insert values into it:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE regexp_temp(empName varchar2(20));

INSERT INTO regexp_temp (empName) VALUES ('John Doe');
INSERT INTO regexp_temp (empName) VALUES ('Jane Doe');</pre><p>In the following example, the statement queries the employee name column and searches for the lowercase of character ‘E’:</p><pre class="oac_no_warn" dir="ltr">SELECT empName, REGEXP_COUNT(empName, 'e', 1, 'c') "CASE_SENSITIVE_E" From regexp_temp;

EMPNAME 	     CASE_SENSITIVE_E
-------------------- ----------------
John Doe			    1
Jane Doe			    2</pre><p>In the following example, the statement queries the employee name column and searches for the lowercase of character ‘O’:</p><pre class="oac_no_warn" dir="ltr">SELECT empName, REGEXP_COUNT(empName, 'o', 1, 'c') "CASE_SENSITIVE_O" From regexp_temp;

EMPNAME 	     CASE_SENSITIVE_O
-------------------- ----------------
John Doe			    2
Jane Doe			    1</pre><p>In the following example, the statement queries the employee name column and searches for the lowercase or uppercase of character ‘E’:</p><pre class="oac_no_warn" dir="ltr">SELECT empName, REGEXP_COUNT(empName, 'E', 1, 'i') "CASE_INSENSITIVE_E" From regexp_temp;

EMPNAME 	     CASE_INSENSITIVE_E
-------------------- ------------------
John Doe			      1
Jane Doe			      2</pre><p>In the following example, the statement queries the employee name column and searches for the lowercase of string ‘DO’:</p><pre class="oac_no_warn" dir="ltr">SELECT empName, REGEXP_COUNT(empName, 'do', 1, 'i') "CASE_INSENSITIVE_STRING" From regexp_temp;

EMPNAME 	     CASE_INSENSITIVE_STRING
-------------------- -----------------------
John Doe				   1
Jane Doe				   1</pre><p>In the following example, the statement queries the employee name column and searches for the lowercase or uppercase of string ‘AN’:</p><pre class="oac_no_warn" dir="ltr">SELECT empName, REGEXP_COUNT(empName, 'an', 1, 'c') "CASE_SENSITIVE_STRING" From regexp_temp;

EMPNAME 	     CASE_SENSITIVE_STRING
-------------------- ---------------------
John Doe				 0
Jane Doe				 1</pre><div class="infoboxnote" id="GUID-5148AF2E-9CED-497D-A78D-3A7847A45276__GUID-7A635561-4099-400F-BFE4-0C1E04B65ED5">
                     <p class="notep1">Live SQL:</p>
                     <p>View and run related examples on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/sqlrf/regexp_count/case-sensitive-match.html" target="_blank"><span class="italic">REGEXP_COUNT case-sensitive matching</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>