<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>TO_APPROX_PERCENTILE</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="TO_APPROX_COUNT_DISTINCT.html" title="Previous" type="text/html">
      <link rel="next" href="TO_BINARY_DOUBLE.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="TO_APPROX_COUNT_DISTINCT.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="TO_BINARY_DOUBLE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">TO_APPROX_PERCENTILE</li>
            </ol>
            <a id="GUID-463702B2-9199-41ED-AE03-865CABAD3E23" name="GUID-463702B2-9199-41ED-AE03-865CABAD3E23"></a>
            
            <h2 id="SQLRF-GUID-463702B2-9199-41ED-AE03-865CABAD3E23" class="sect2">TO_APPROX_PERCENTILE</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-463702B2-9199-41ED-AE03-865CABAD3E23__GUID-3D35715C-C9AE-43DC-9A5C-55F4D72D22D2">Syntax</p>
                  <div class="figure" id="GUID-463702B2-9199-41ED-AE03-865CABAD3E23__GUID-01A16984-FFA1-492F-A5B6-13F4B431259E"><img src="img/to_approx_percentile.gif" alt="Description of to_approx_percentile.eps follows" title="Description of to_approx_percentile.eps follows" longdesc="img_text/to_approx_percentile.html"><br><a href="img_text/to_approx_percentile.html">Description of the illustration to_approx_percentile.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-463702B2-9199-41ED-AE03-865CABAD3E23__GUID-A33AF009-F000-4729-9C80-BDF5797652E0">Purpose</p>
                  <p><code class="codeph">TO_APPROX_PERCENTILE</code> takes as its input a detail containing approximate percentile information, a percentile value, and a sort specification, and returns an approximate interpolated value that would fall into that percentile value with respect to the sort specification.
                  </p>
                  <p>For <span class="italic"><code class="codeph">detail</code></span>, specify a detail of type <code class="codeph">BLOB</code>, which was created by the <code class="codeph">APPROX_PERCENTILE_DETAIL</code> function or the <code class="codeph">APPROX_PERCENTLE_AGG</code> function.
                  </p>
                  <p>For <span class="italic"><code class="codeph">expr</code></span>, specify a percentile value, which must evaluate to a numeric value between 0 and 1. If you specify the <code class="codeph">ERROR_RATE</code> or <code class="codeph">CONFIDENCE</code> clause, then the percentile value does not apply. In this case, for <span class="italic"><code class="codeph">expr</code></span> you must specify null or a numeric value between 0 and 1. However, the value will be ignored.
                  </p>
                  <p>For <span class="italic"><code class="codeph">datatype</code></span>, specify the data type of the approximate percentile information in the detail. This is the data type of the expression supplied to the <code class="codeph">APPROX_PERCENTILE_DETAIL</code> function that originated the detail. Valid data types are <code class="codeph">NUMBER</code>, <code class="codeph">BINARY_FLOAT</code>, <code class="codeph">BINARY_DOUBLE</code>, <code class="codeph">DATE</code>, <code class="codeph">TIMESTAMP</code>, <code class="codeph">INTERVAL</code> <code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code>, and <code class="codeph">INTERVAL</code> <code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code>.
                  </p>
                  <p><span class="bold">DESC | ASC</span></p>
                  <p>Specify the sort specification for the interpolation. Specify <code class="codeph">DESC</code> for a descending sort order, or <code class="codeph">ASC</code> for an ascending sort order. <code class="codeph">ASC</code> is the default.
                  </p>
                  <p><span class="bold">ERROR_RATE | CONFIDENCE</span></p>
                  <p>These clauses let you determine the accuracy of the percentile evaluation of the detail. If you specify one of these clauses, then instead of returning the approximate interpolated value, the function returns a decimal value from 0 to 1, inclusive, which represents one of the following values:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you specify <code class="codeph">ERROR_RATE</code>, then the return value represents the error rate of the percentile evaluation for the detail.
                        </p>
                     </li>
                     <li>
                        <p>If you specify <code class="codeph">CONFIDENCE</code>, then the return value represents the confidence level for the error rate returned when you specify <code class="codeph">ERROR_RATE</code>.
                        </p>
                     </li>
                  </ul>
                  <p>If you specify <code class="codeph">ERROR_RATE</code> or <code class="codeph">CONFIDENCE</code>, then the percentile value <span class="italic"><code class="codeph">expr</code></span> is ignored.
                  </p>
                  <div class="infoboxnotealso" id="GUID-463702B2-9199-41ED-AE03-865CABAD3E23__GUID-E58ED4FA-D0E5-42BD-AC22-8EA95E1F0D30">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="APPROX_PERCENTILE_DETAIL.html#GUID-F9A0B9B5-671F-43CA-9FA7-69A2DD174F54">APPROX_PERCENTILE_DETAIL</a></p>
                        </li>
                        <li>
                           <p><a href="APPROX_PERCENTILE_AGG.html#GUID-72A1DAB0-4A3E-42BF-9E20-92273AD62E11">APPROX_PERCENTILE_AGG</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-463702B2-9199-41ED-AE03-865CABAD3E23__GUID-CB7E3569-26BF-4FE1-9CF8-9B1A020E4C2C">Examples</p>
                  <p>Refer to <a href="APPROX_PERCENTILE_DETAIL.html#GUID-F9A0B9B5-671F-43CA-9FA7-69A2DD174F54__APPROX_PERCENTILE_AGGEXAMPLES-088B7917">APPROX_PERCENTILE_AGG: Examples</a> for examples of using the <code class="codeph">TO_APPROX_PERCENTILE</code> function in conjunction with the <code class="codeph">APPROX_PERCENTILE_DETAIL</code> and <code class="codeph">APPROX_PERCENTILE_AGG</code> functions.
                  </p>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>