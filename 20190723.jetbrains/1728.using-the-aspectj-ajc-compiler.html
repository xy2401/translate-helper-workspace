<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="using-the-aspectj-ajc-compiler.html"><meta charset="UTF-8"><title>Using the AspectJ Compiler (ajc) - Help | IntelliJ IDEA</title><link rel="stylesheet" href="../app/v2/app.css"></head><body data-id="Using_the_AspectJ_ajc_Compiler"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="using-the-aspectj-ajc-compiler.html#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Windows/Linux Default</option><option data-group="primary" value="primary_default_for_gnome">GNOME</option><option data-group="primary" value="primary_default_for_kde">KDE</option><option data-group="primary" value="primary_default_for_xwin">XWin</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_jbuilder">JBuilder</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_intellij_idea_classic_os_x">IntelliJ IDEA Classic (Mac OS X)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_osx">ReSharper (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs (Mac OS X)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Using_the_AspectJ_ajc_Compiler" id="Using_the_AspectJ_ajc_Compiler.xml">Using the AspectJ Compiler (ajc)</h1>         <aside class="warning " data-title="" rel="Using_the_AspectJ_ajc_Compiler.xml" id="bdd4f050"><p>        This feature is only supported in the <b id="02f4b079" origin="intellij-platform">Ultimate</b> edition.             </p></aside>    <p id="7f2d0f97">        By default, IntelliJ IDEA uses the <code class="code">javac</code> compiler.        To use the AspectJ compiler <a href="http://eclipse.org/aspectj/doc/released/devguide/ajc-ref.html" data-bypass="yes" target="_blank"><span>ajc</span></a>        (instead of or in combination with <code class="code">javac</code>),        you should make changes to <a href="java-compiler.html">corresponding IDE settings</a>.</p>    <p id="43dd8eed">        The <code class="code">ajc</code> settings specified at the project level can be fine-tuned at the level of individual modules.        AspectJ facets associated with the modules are used for that purpose.</p>    <p id="d04c3d91">        Note that <code class="code">ajc</code> is not bundled with IntelliJ IDEA and should be downloaded separately.</p>    <p id="20e8547a">        <code class="code">ajc</code> is available as part of the AspectJ distribution which you can download        from the <a href="http://eclipse.org/aspectj/downloads.php" data-bypass="yes" target="_blank"><span>AspectJ website</span></a>.</p>    <ul data-skip-index="skip"><li class="list__item"><a href="using-the-aspectj-ajc-compiler.html#ajc_and_javac">Optimizing compilation performance: Using ajc in combination with javac</a></li><li class="list__item"><a href="using-the-aspectj-ajc-compiler.html#controlling_aspectpath">Controlling the ajc aspectpath</a></li><li class="list__item"><a href="using-the-aspectj-ajc-compiler.html#settings">Selecting ajc as the project compiler and specifying its settings</a></li><li class="list__item"><a href="using-the-aspectj-ajc-compiler.html#redefine_aspectpath_in_facet">Fine-tuning the use of ajc at a module level</a></li></ul>    <div class="chapter"><h2 id="ajc_and_javac">Optimizing compilation performance: Using ajc in combination with javac</h2>        <p id="80a7c4c1">            IntelliJ IDEA lets you use <code class="code">ajc</code> in combination with <code class="code">javac</code> without the need to            switch the compilers in the IDE settings.</p>        <p id="e76e1072">            First of all, you should select <code class="code">ajc</code> as your project compiler            (the <a href="java-compiler.html#compiler">Use compiler field</a> on the            <a href="java-compiler.html">Java Compiler page</a>).</p>        <p id="2a1aeb85">            If you want <code class="code">javac</code> to be also used,            turn on the <a href="java-compiler.html#delegate_to_javac">Delegate to Javac option</a>.            If this option in on, the modules without aspects are compiled with <code class="code">javac</code>            (which is, generally, faster), and the modules that contain aspects are compiled with <code class="code">ajc</code>.            (If this option is off, <code class="code">ajc</code> is used for all the modules in your project.)</p>        <p id="747e38ae">            You can fine-tune the distribution of tasks between the compilers (<code class="code">ajc</code> and <code class="code">javac</code>)            at the level of individual modules.            For modules that contain aspects only in the form of <code class="code">@Aspect</code>-annotated Java classes            (in <code class="code">.java</code> files),            you can specify that <code class="code">ajc</code> should be used only for post-compile weaving.            If you do so, <code class="code">javac</code> will be used to compile all the source files, and then            <code class="code">ajc</code> will be applied to the compiled class files for weaving.            As a result, the overall process (compilation + weaving), will take less time.</p>        <p id="cea08af9">            Provided that the <span class="control">Delegate to Javac</span> option is on,            the post-compile weaving mode for <code class="code">ajc</code> is enabled by turning on the corresponding option            in an <a href="aspectj-facet.html">AspectJ facet</a> associated with a module.</p>        <p id="edd0d41d">            Note that you shouldn't turn on this option for modules that contain code-style aspects            (ones defined in <code class="code">.aj</code> files).</p>    </div>    <div class="chapter"><h2 id="controlling_aspectpath">Controlling the ajc aspectpath</h2>        <p id="7cff4c74">            You can control the <a href="http://eclipse.org/aspectj/doc/released/devguide/ajc-ref.html" data-bypass="yes" target="_blank"><span>ajc</span></a>            <code class="code">aspectpath</code> option separately for each of your modules,            see <a href="using-the-aspectj-ajc-compiler.html#redefine_aspectpath_in_facet">Fine-tuning the use of ajc at a module level</a>.</p>        <p id="12c01af7">            The module <code class="code">aspectpath</code> may be set automatically as a result of importing            an appropriately configured <a href="http://maven.apache.org/" data-bypass="yes" target="_blank"><span>Maven</span></a> project into IntelliJ IDEA.</p>    </div>    <div class="chapter"><h2 id="settings">Selecting ajc as the project compiler and specifying its settings</h2>        <ol class="list _decimal"><li class="list__item" id="b345889a"><p>                In the <span class="control">Settings/Preferences</span> dialog (<kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_jbuilder="N/A" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl+Alt+S</kbd>),                type <code class="code">compiler</code> in the search box in the left-hand part of the dialog.</p></li><li class="list__item" id="7d208c80"><p>                Select <span class="control">Java Compiler</span> in the pane below the search box.</p></li><li class="list__item" id="e14e0e50">                On the <a href="java-compiler.html">Compiler &gt; Java Compiler page</a> that opens                in the right-hand part of the dialog:                <ol class="list _decimal"><li class="list__item" id="b06d193b"><p>                        Select <span class="control">Ajc</span> from the <span class="control">Use compiler</span> list.</p></li><li class="list__item" id="04a5a96b"><p>                        If necessary, specify the bytecode versions.                        (Roughly, these are the minimum target JVM versions.)</p></li><li class="list__item" id="6e4645cd">                        Specify the path to the compiler in the <span class="control">Path to Ajc compiler</span> field.                        <p id="6112b687">                            You can type the path in the field,                            or click <img alt="browseButton" title="browseButton" src="../img/idea/2019.1/browseButton.png" id="f9b2a0d7" width="15" height="15" class="inline-icon-15"> and select the necessary file                            in the <a href="select-path-dialog.html">corresponding dialog</a>.</p>                        <p id="90b691ff">                            (The file that you want is <code class="code">aspectjtools.jar</code> which is located                            in <code class="code">&lt;AspectJ installation directory&gt;\lib</code>.)</p></li><li class="list__item" id="f2d2e5bc">                        If necessary, specify the                        <a href="http://eclipse.org/aspectj/doc/released/devguide/ajc-ref.html" data-bypass="yes" target="_blank"><span>command-line options</span></a>                        to be passed to the compiler in the <span class="control">Command line parameters</span> field.                        <p id="64a71e41">                            You can type the parameters right in the field,                            or click <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.expandComponent.svg@2x.png" width="16" alt="icons general expandComponent svg"> to open                            the <span class="control">Command line parameters</span> dialog where the text entry area is larger.</p></li><li class="list__item" id="9b0fe253"><p>                        Click <span class="control">Test</span> to check if the specified settings are correct.</p></li><li class="list__item" id="f85dbb42">                        If you want to use <code class="code">javac</code> to compile the modules that contain no aspects,                        select the <span class="control">Delegate to Javac</span> checkbox.                        <p id="438ffd32">                            Note that the distribution of tasks between <code class="code">ajc</code> and <code class="code">javac</code> can be                            fine-tuned at the level of individual modules.</p></li></ol></li><li class="list__item" id="e734ad6f"><p>                Click <span class="control">OK</span> in the <span class="control">Settings</span> dialog.</p></li></ol>    </div>    <div class="chapter"><h2 id="redefine_aspectpath_in_facet">Fine-tuning the use of ajc at a module level</h2>        <p id="9c1720c3">            To be able to fine-tune the use of <code class="code">ajc</code> at a module level,            you should add an AspectJ facet to corresponding module or modules.</p>        <p id="9ff97b92">            Once you've done that, you can specify that <code class="code">ajc</code> should be used only for post-compile weaving.            You can also specify the <code class="code">aspectpath</code> for the module.</p>        <ol class="list _decimal"><li class="list__item" id="1a4052e7"><p>                Add an AspectJ facet to the module of interest.                For corresponding instructions, see <a href="adding-support-for-frameworks-and-technologies.html"><span>Add frameworks and technologies</span></a>.</p></li><li class="list__item" id="c5e8b77c"><p>                On the <a href="aspectj-facet.html">page that opens</a> in the right-hand part of                the <a href="project-structure-dialog.html">Project Structure dialog</a>, under <span class="control">Compiler</span>,                specify the settings as necessary (see below).</p></li><li class="list__item" id="b0c3ca1b">                If you want to use <code class="code">ajc</code> only to weave the compiled class files                (the source code in this case is compiled with <code class="code">javac</code>),                select the <span class="control">Post-compile weave mode</span> checkbox.                <p id="64f46c2c">                    IMPORTANT: Don't select this checkbox if the module contains <code class="code">.aj</code> files.</p></li><li class="list__item" id="e1d22906">                To form the <code class="code">aspectpath</code> for the module:                <ul class="list _ul"><li class="list__item" id="c0248817"><p>                        Use <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="icons general add svg">&nbsp;(<kbd data-primary_default="Alt+Insert" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_default_for_xwin="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_jbuilder="Alt+Insert" data-primary_visual_studio="Alt+Insert" data-primary_netbeans="Alt+Insert" data-primary_eclipse="Alt+Insert" data-secondary_mac_os_x_10.5_="⌘N" data-secondary_mac_os_x="⌃N" data-secondary_eclipse_mac_os_x="⌘N" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="N/A">Alt+Insert</kbd>) to add libraries and other modules.                        Select the necessary libraries and modules in                        the dialog that opens. (To choose from, dependencies of the module are suggested.)</p></li><li class="list__item" id="5d896f13"><p>                        Use <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.remove.svg@2x.png" width="16" alt="icons general remove svg">&nbsp;(<kbd data-primary_default="Alt+Delete" data-primary_default_for_gnome="Alt+Delete" data-primary_default_for_kde="Alt+Delete" data-primary_default_for_xwin="Alt+Delete" data-primary_emacs="N/A" data-primary_jbuilder="Alt+Delete" data-primary_visual_studio="Alt+Delete" data-primary_netbeans="Alt+Delete" data-primary_eclipse="Alt+Delete" data-secondary_mac_os_x_10.5_="⌘⌦" data-secondary_mac_os_x="⌘⌦" data-secondary_eclipse_mac_os_x="N/A" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="N/A">Alt+Delete</kbd>) to remove the selected items                        from the list.</p></li><li class="list__item" id="064a95aa"><p>                        Use <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.previousOccurence.svg@2x.png" width="16" alt="icons actions previousOccurence svg">&nbsp;(<kbd data-primary_default="Alt+Up" data-primary_default_for_gnome="Alt+Up" data-primary_default_for_kde="Alt+Up" data-primary_default_for_xwin="Alt+Up" data-primary_emacs="Alt+Up" data-primary_jbuilder="Alt+Up" data-primary_visual_studio="Alt+Up" data-primary_netbeans="Ctrl+Alt+Up" data-primary_eclipse="Ctrl+Shift+Up" data-secondary_mac_os_x_10.5_="⌃↑" data-secondary_mac_os_x="⌃↑" data-secondary_eclipse_mac_os_x="⌃⌥↑" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌥↑">Alt+Up</kbd>) to move the selected item                        one line up in the list.</p></li><li class="list__item" id="73cc7f2f"><p>                        Use <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.nextOccurence.svg@2x.png" width="16" alt="icons actions nextOccurence svg">&nbsp;(<kbd data-primary_default="Alt+Down" data-primary_default_for_gnome="Alt+Down" data-primary_default_for_kde="Alt+Down" data-primary_default_for_xwin="Alt+Down" data-primary_emacs="Alt+Down" data-primary_jbuilder="Alt+Down" data-primary_visual_studio="Alt+Down" data-primary_netbeans="Ctrl+Alt+Down" data-primary_eclipse="Ctrl+Shift+Down" data-secondary_mac_os_x_10.5_="⌃↓" data-secondary_mac_os_x="⌃↓" data-secondary_eclipse_mac_os_x="⌃⌥↓" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌥↓">Alt+Down</kbd>) to move the selected item                        one line down in the list.</p></li></ul></li><li class="list__item" id="e383bc2a"><p>                Click <span class="control">OK</span> in the <span class="control">Project Structure</span> dialog.</p></li></ol>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 28 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="using-the-push-itds-in-refactoring.html">Using the Push ITDs In Refactoring</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>Procedures:</h3><ul class="list"><li class="list__item"><a href="enabling-aspectj-support-plugins.html"><span>Enabling AspectJ Support Plugins</span></a></li><li class="list__item"><a href="creating-a-library-for-aspectjrt-jar.html"><span>Creating a Library for aspectjrt.jar</span></a></li><li class="list__item"><a href="compiling-applications.html"><span>Compiling Applications</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>Reference:</h3><ul class="list"><li class="list__item"><a href="java-compiler.html"><span>Java Compiler</span></a></li><li class="list__item"><a href="aspectj-facet.html"><span>AspectJ Facet Page</span></a></li><li class="list__item"><a href="project-structure-dialog.html"><span>Project Structure Dialog</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>

























