<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="running-unit-tests-on-mocha.html"><meta charset="UTF-8"><title>Mocha - Help | PyCharm</title><link rel="stylesheet" href="../app/v2/app.css"></head><body data-id="Running_Unit_Tests_on_Mocha"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PyCharm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="running-unit-tests-on-mocha.html#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Windows/Linux Default</option><option data-group="primary" value="primary_default_for_gnome">GNOME</option><option data-group="primary" value="primary_default_for_kde">KDE</option><option data-group="primary" value="primary_default_for_xwin">XWin</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_intellij_idea_classic_os_x">IntelliJ IDEA Classic (Mac OS X)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_osx">ReSharper (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs (Mac OS X)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Running_Unit_Tests_on_Mocha" id="Running_Unit_Tests_on_Mocha.xml">Mocha</h1>                             <aside class="warning " data-title="" rel="Running_Unit_Tests_on_Mocha.xml" id="dab6ad49"><p>        This feature is only supported in the <b id="d01d759c" origin="intellij-platform">Professional</b> edition.         This edition is commercial, and it provides an outstanding set of features:          see the <a href="https://www.jetbrains.com/pycharm/features/editions_comparison_matrix.html" data-bypass="yes" target="_blank"><span>comparison matrix</span></a> for more details.    </p></aside>                <p id="ws_mocha_intro">        <a href="http://mochajs.org/" data-bypass="yes" target="_blank"><span>Mocha</span></a> is a JavaScript test framework that is is especially helpful for executing asynchronous test scenarios.        PyCharm integrates with Mocha so you can use it from outside the IDE.        You can see the test results in a treeview and easily navigate to the test source from there.        Test status is shown next to the test in the editor with an option to quickly run it or debug it.    </p>    <aside class="tip sideblock" data-title="" rel="ws_mocha_intro" id="ab019145">        <p id="f9ce3f47">                    Before you start, make sure you have <a href="http://nodejs.org/" data-bypass="yes" target="_blank"><span>Node.js</span></a> on your computer.            </p>    </aside><div class="chapter"><h2 id="ws_mocha_installation" data-toc="Running_Unit_Tests_on_Mocha#ws_mocha_installation">Installing Mocha</h2>    <aside class="tip sideblock" data-title="" rel="ws_mocha_installation" id="bd5625ac">        <p id="8b161250">                            You can also install the <code class="code">mocha</code> package on the <a href="node-js.html">Node.js and NPM page</a>        as described in <a href="installing-and-removing-external-software-using-node-package-manager.html"><span>npm and Yarn</span></a>.            </p>    </aside>    <section class="procedure-steps"><ul class="list _no-style"><li class="list__item" id="1fa139af">            <p id="74cccc1e">                                In the embedded <span class="control">Terminal</span> (<kbd data-primary_default="Alt+F12" data-primary_default_for_gnome="Alt+F12" data-primary_default_for_kde="Alt+F12" data-primary_default_for_xwin="Alt+F12" data-primary_emacs="Alt+F12" data-primary_visual_studio="Alt+F12" data-primary_netbeans="Alt+F12" data-primary_eclipse="Alt+F12" data-secondary_mac_os_x_10.5_="⌥F12" data-secondary_mac_os_x="⌥F12" data-secondary_eclipse_mac_os_x="⌥F12" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥F12" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌥F12">Alt+F12</kbd>),                type one of the following commands:            </p>        <ul class="list _bullet"><li class="list__item" id="8821acd6">                <p id="12339d13">                <code class="code">npm install mocha</code> for local installation in your project.                </p>            </li><li class="list__item" id="20c0e247">                <p id="5a085cc6">                <code class="code">npm install&nbsp;-g mocha</code> for global installation.                </p>            </li><li class="list__item" id="25352cdc">               <p id="8d48c087">                   <code class="code">npm install&nbsp;--save-dev mocha</code> to install Mocha as a <a href="https://docs.npmjs.com/getting-started/using-a-package.json#specifying-packages" data-bypass="yes" target="_blank"><span>development dependency</span></a>.               </p>            </li></ul>        <p id="5d586683">            See also <a href="https://mochajs.org/#installation" data-bypass="yes" target="_blank"><span>Getting Started on the Mocha official website</span></a>.        </p>        </li></ul></section></div><div class="chapter"><h2 id="ws_mocha_running" data-toc="Running_Unit_Tests_on_Mocha#ws_mocha_running">Running tests</h2>    <p id="5a9e6b15">                                        With PyCharm, you can quickly run a single Mocha test right from the editor or create a run/debug configuration to execute some or all of your tests.        </p>    <section class="procedure-steps"><h2 id="5f224216">To run a single test from the editor</h2><ul class="list _no-style"><li class="list__item" id="24d0202d">            <p id="82121bc7">        Click <img class="inline-icon-16" src="../img/idea/2019.1/icons.toolwindows.toolWindowRun.svg@2x.png" width="16" alt="the Run button"> or <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.rerun.svg@2x.png" width="16" alt="the Rerun button"> in the left gutter        and choose <span class="control">Run &lt;test_name&gt;</span> from the list.            </p>            <p id="c457e395">                You can also see whether a test has passed or failed right in the editor,        thanks to the <span class="emphasis">test status</span> icons <img alt="ws_icon_test_status.png" title="ws_icon_test_status.png" src="../img/idea/2019.1/ws_icon_test_status.png" id="25399125" width="12" height="13" class="inline-icon-12"> in the left gutter.                </p>        </li></ul></section>        <section class="procedure-steps"><h2 id="createRunConfigMocha">To create a Mocha run configuration</h2><ol class="list _decimal"><li class="list__item" id="open_edit_run_config_dialog">                <p id="fa4bf461">                                Select a test file in the <span class="control">Project</span> tool window        and select <span class="control">Create &lt;filename&gt;</span> from the context menu.                    The <a href="run-debug-configuration-mocha.html">Run/Debug Configuration: Mocha</a>                dialog opens.                </p>            </li><li class="list__item" id="eb3fdb34"><p>                Specify the Node interpreter to use and the location of the <code class="code">mocha</code> package.            </p></li><li class="list__item" id="f435cc07">                <p id="300093d9">                Specify the         working directory of the application.            By default, the <span class="control">Working directory</span> field shows the project root folder. To change this predefined setting,            specify the path to the desired folder or choose a previously used folder from the list.                    </p>            </li><li class="list__item" id="d89fca20">                <p id="2934f7fe">                                Optionally configure rerunning the tests automatically on changes in the related source files.        To do that, add the <code class="code">--watch</code> flag in the <span class="control">Extra Mocha options</span> field.                    </p>            </li><li class="list__item" id="fecc49df"><p>                Specify the tests to run.                This can be a specific test or suite, an entire test file, or a folder with test files. You can also define patterns to run only the tests                from the matching files.                            </p></li><li class="list__item" id="94867dc7"><p>                Choose the <a href="http://mochajs.org/#interfaces" data-bypass="yes" target="_blank"><span>interface</span></a> used in the test to run.            </p></li></ol></section>    <section class="procedure-steps"><h2 id="a52ac233">To run tests via a run configuration</h2><ol class="list _decimal"><li class="list__item" id="8629ea39"><p>                                                        Select the Mocha run/debug configuration from the list on the main toolbar        and click <img class="inline-icon-16" src="../img/idea/2019.1/icons.toolwindows.toolWindowRun.svg@2x.png" width="16" alt="Run with Coverage">&nbsp;to the right of the list.                        </p></li><li class="list__item" id="d4c9f13d"><p>                The test server starts automatically without any steps from your side. View and analyze messages from the test server in the <span class="control">Run</span> tool window.            </p></li><li class="list__item" id="8d01e5ec"><p>                        <a href="monitoring-and-managing-tests.html">Monitor test execution</a>        in the        <span class="control">Test Runner</span> tab of the        <span class="control">Run</span>        tool window.                </p></li></ol></section>    <section class="procedure-steps"><h2 id="ws_js_test_rerun_failed_tests">To rerun failed tests</h2><ul class="list "><li class="list__item" id="558f16a9"><p>                    In the <a href="test-runner-tab.html">Test Runner tab</a>, click <img class="inline-icon-16" src="../img/idea/2019.1/icons.runConfigurations.rerunFailedTests.svg@2x.png" width="16" alt="Rerun Failed Tests button"> on the toolbar.        PyCharm will execute all the tests that failed during the previous session.            </p></li><li class="list__item" id="289a2726"><p>            To rerun a specific failed test, select <span data-skip-index="skip" class="menupath">Run &lt;test name&gt;</span> on its context menu.        </p></li></ul></section>    <aside class="tip sideblock" data-title="" rel="ws_js_test_rerun_failed_tests" id="75c4cfa4">        <p id="cb171319">            See <a href="rerunning-tests.html">Rerunning Tests</a> for details.        </p>    </aside></div>    <div class="chapter"><h2 id="ws_mocha_navigation" data-toc="Running_Unit_Tests_on_Mocha#ws_mocha_navigation">Navigation</h2>                        <p id="naming_convention">            With PyCharm, you can jump between a file and the related test file or from a test result in the            <a href="test-runner-tab.html">Test Runner Tab</a> to the test.        </p>        <section class="procedure-steps"><ul class="list "><li class="list__item" id="cf8df2bb"><p>            Open the file in the editor and select <span data-skip-index="skip" class="menupath">Go To | Test</span> or <span data-skip-index="skip" class="menupath">Go To | Test Subject</span>            from the context menu, or just press <kbd data-primary_default="Ctrl+Shift+T" data-primary_default_for_gnome="Ctrl+Shift+T" data-primary_default_for_kde="Ctrl+Shift+T" data-primary_default_for_xwin="Ctrl+Shift+T" data-primary_emacs="Ctrl+Shift+T" data-primary_visual_studio="Ctrl+Shift+T" data-primary_netbeans="Ctrl+Shift+T" data-primary_eclipse="N/A" data-secondary_mac_os_x_10.5_="⇧⌘T" data-secondary_mac_os_x="⇧⌘T" data-secondary_eclipse_mac_os_x="N/A" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃⇧T" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⇧T">Ctrl+Shift+T</kbd>.            </p></li><li class="list__item" id="e09e5851"><p>                To jump from a test result to the test, select the test name in the <span class="control">Test Runner</span> tab and choose <span class="control">Jump to Source</span> from the context menu.                The test file opens in the editor  with the cursor placed at the test definition.            </p></li><li class="list__item" id="5a528ebb">                <p id="11ce1bd7">                    For failed tests, PyCharm brings you to the failure line in the test from the stack trace.                    If the exact line is not in the stack trace, you will be taken to the test definition.                </p>                            </li></ul></section>                        <aside class="tip sideblock" data-title="" rel="naming_convention" id="884c521c">            <p id="b0337585">                The test file should follow popular naming conventions,                for example, have a <code class="code">.test.</code>, <code class="code">.spec.</code> or <code class="code">_spec.</code> suffix and should be located either next to the source file or in a <code class="code">test</code> folder.            </p>        </aside>        </div>    <div class="chapter"><h2 id="ws_mocha_debugging" data-toc="Running_Unit_Tests_on_Mocha#ws_mocha_debugging">Debugging tests</h2>        <p id="7a6d486a">                                            With PyCharm, you can quickly start debugging a single Mocha test right from the editor or create a run/debug configuration to debug some or all of your tests.            </p>        <section class="procedure-steps"><h2 id="80e35edd">To start debugging a single test from the editor</h2><ul class="list _no-style"><li class="list__item" id="3e301732"><p>            Click <img class="inline-icon-16" src="../img/idea/2019.1/icons.toolwindows.toolWindowRun.svg@2x.png" width="16" alt="the Run button"> or <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.rerun.svg@2x.png" width="16" alt="the Rerun button"> in the left gutter            and choose <span class="control">Debug &lt;test_name&gt;</span> from the list.            </p></li></ul></section>        <section class="procedure-steps"><h2 id="d7f6f698">To launch test debugging via a run/debug configuration</h2><ol class="list _decimal"><li class="list__item" id="db789cba"><p>                    Create a Mocha run/debug configuration <a href="running-unit-tests-on-mocha.html#createRunConfigMocha">as described above</a>.                </p></li><li class="list__item" id="f7911a5a"><p>                                                            Select the Mocha run/debug configuration from the list on the main toolbar        and click <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.startDebugger.svg@2x.png" width="16" alt="Run with Coverage">&nbsp;to the right of the list.                            </p></li><li class="list__item" id="11f034e5"><p>                            In the        <a href="debug-tool-window.html"><span>Debug Tool Window</span></a> that opens, proceed as usual:        <a href="stepping-through-the-program.html">step through the tests</a>,        <a href="pausing-and-resuming-the-debugger-session.html">stop and resume</a> test execution,        <a href="examining-suspended-program.html">examine the test when suspended</a>, and so on.                    </p></li></ol></section>    </div>    <div class="chapter"><h2 id="ws_mocha_code_coverage" data-toc="Running_Unit_Tests_on_Mocha#ws_mocha_code_coverage">Monitoring code coverage</h2>        <p id="af6870f1">            With PyCharm,                            you can also monitor how much of your code is        <a href="http://en.wikipedia.org/wiki/Code_coverage" data-bypass="yes" target="_blank"><span>covered with Mocha tests</span></a>.        PyCharm displays this statistics in a dedicated tool window and  marks covered and uncovered lines visually right in the editor.                To monitor coverage, you need to install <a href="https://github.com/istanbuljs/nyc" data-bypass="yes" target="_blank"><span>nyc</span></a>, the command-line interface for <a href="https://istanbul.js.org/" data-bypass="yes" target="_blank"><span>Istanbul</span></a>.        </p>        <section class="procedure-steps"><h2 id="install_nyc">To install nyc</h2><ul class="list _no-style"><li class="list__item" id="9e3b4f47">                <p id="7cd42386">                                    In the embedded <span class="control">Terminal</span> (<kbd data-primary_default="Alt+F12" data-primary_default_for_gnome="Alt+F12" data-primary_default_for_kde="Alt+F12" data-primary_default_for_xwin="Alt+F12" data-primary_emacs="Alt+F12" data-primary_visual_studio="Alt+F12" data-primary_netbeans="Alt+F12" data-primary_eclipse="Alt+F12" data-secondary_mac_os_x_10.5_="⌥F12" data-secondary_mac_os_x="⌥F12" data-secondary_eclipse_mac_os_x="⌥F12" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥F12" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌥F12">Alt+F12</kbd>), type:                </p>                <p id="142de8f8">                    <code class="code">npm install&nbsp;--save-dev nyc</code>                </p>            </li></ul></section>        <aside class="tip sideblock" data-title="" rel="install_nyc" id="0868fbad">            <p id="8a9b9935">                You can also install Istanbul itself, version 1.1.0 or later. These versions have support for ES6 and TypeScript.            </p>        </aside>        <section class="procedure-steps"><h2 id="47d0511f">To run tests with coverage</h2><ol class="list _decimal"><li class="list__item" id="42634564"><p>                    Create a Mocha run/debug configuration <a href="running-unit-tests-on-mocha.html#createRunConfigMocha">as described above</a>.                </p></li><li class="list__item" id="05e00aea"><p>                    Select the Mocha run/debug configuration from the list on the main toolbar                    and click <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.runWithCoverage.svg@2x.png" width="16" alt="Run with Coverage">&nbsp;to the right of the list.<br>                    Alternatively, quickly run a specific suite or a test with coverage from the editor:                    click <img class="inline-icon-16" src="../img/idea/2019.1/icons.toolwindows.toolWindowRun.svg@2x.png" width="16" alt="the Run buttonun"> or <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.rerun.svg@2x.png" width="16" alt="the Rerun button"> in the left gutter                    and choose <span class="control">Run &lt;test_name&gt; with Coverage</span> from the list.                </p></li><li class="list__item" id="06d10f64"><p>                    Monitor the code coverage in the                    <a href="coverage-tool-window.html">Coverage</a> tool window.                    The report shows how many files were covered with tests and the percentage of covered lines in them.                    From the report you can jump to the file and see what lines were covered – marked green – and what lines were not covered – marked red:                    <figure><img alt="ws_mocha-coverage-report.png" title="ws_mocha-coverage-report.png" src="../img/idea/2019.1/ws_mocha-coverage-report.png" id="c0214477" width="800" height="174"></figure>                </p></li></ol></section>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 28 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="running-unit-tests-on-karma.html">Karma</a><a class="navigation-links__next" href="protractor.html">Protractor</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>Reference:</h3><ul class="list"><li class="list__item"><a href="run-debug-configuration-mocha.html"><span>Run/Debug Configuration: Mocha</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>

























