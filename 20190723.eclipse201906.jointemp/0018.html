<html id='3338.Aird_Editor.html'></html><?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>Aird_Editor</title>
		<link type="text/css" rel="stylesheet" href="../../resources/bootstrap.css"/>
		<link type="text/css" rel="stylesheet" href="../../resources/custom.css"/>
	</head>
	<body>
		<h1 id="AirdEditor">Aird Editor</h1>
		<p>This document describes the new form-based editor for 
			<code>aird</code> files introduced in version 5.0. This editor is associated to 
			<code>*.aird</code> files (which contains Sirius representations data) and provides end-users complete overview of their models and representations, and direct access to the most common operations.
		</p>
		<p>This document assumes you are already faimiliar with the vocabulary associated with Sirius; if that is not the case, please refer to 
			<a href="Modeling%20Project.html">the Modeling Project documentation</a> which describes in details the more &#8220;traditional&#8221; Sirius UI and the associated concepts.
		</p>
		<p>
			<em>Note:</em> This new editor has been introduced with Sirius 5.0. While it is already functional, it should be considered as a first iteration, and its UI is subject to change without warnings in later versions based on experience and user feedback.
		</p>
		<ol class="toc" style="list-style: disc;">
			<li>
				<a href="#AirdEditor">Aird Editor</a>
				<ol style="list-style: disc;">
					<li>
						<a href="#overview">Overview</a>
					</li>
					<li>
						<a href="#opening">Opening the Aird Editor</a>
					</li>
					<li>
						<a href="#closing">Closing the Aird Editor and unloading models</a>
					</li>
					<li>
						<a href="#semantic_models">Managing the Semantic Models</a>
						<ol style="list-style: disc;">
							<li>
								<a href="#LoadinganExistingModel">Loading an Existing Model</a>
							</li>
							<li>
								<a href="#model_creation_wizard">Creating New Models</a>
							</li>
							<li>
								<a href="#removing_model">Removing Model Dependencies And Representations From The Aird Editor</a>
							</li>
							<li>
								<a href="#removing_representation">Removing Representations From The Aird Editor</a>
							</li>
							<li>
								<a href="#quick_editing">Models Quick Editing</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="#representations">Managing Representations and Viewpoints</a>
						<ol style="list-style: disc;">
							<li>
								<a href="#visualize_viewpoints_representations">Visualizing Viewpoints and Representations</a>
							</li>
							<li>
								<a href="#enable_disable_viewpoints">Enabling and Disabling Viewpoints</a>
							</li>
							<li>
								<a href="#create_remove_representations">Creating and Removing Representations</a>
							</li>
							<li>
								<a href="#open_representation">Opening a Sirius Modeler From a Representation</a>
							</li>
						</ol>
					</li>
				</ol>
			</li>
		</ol>
		<h2 id="overview">Overview</h2>
		<p>The traditional Sirius UI is centered on the 
			<em>Modeling</em> perspective, and in particular on the 
			<em>Model Explorer</em> view. For some use cases, especially when Sirius representations are not the primary focus of the user but only a secondary feature to support their main task, this reliance on a specific perspective or view can be inconvenient. The Aird editor is designed to provide an alternative UI to interact with Sirius that is better suited for these use cases. Because the editor is available from any perspective and directly exposes the most common user operations inside its UI, it makes it more convenient to use Sirius in a variety of contexts.
		</p>
		<p>Note that most of the features available from the aird editor are also available from the 
			<em>Model Explorer</em>'s UI; the editor simply provides alternative ways to use them that can be more convenient in some contexts. There are two exceptions, described in more details below, which are currently specific to the Aird editor: the generic 
			<a href="#model_creation_wizard">model creation wizard</a> and the ability to 
			<a href="#quick_editing">add/remove elements directly</a> from the semantic models.
		</p>
		<p>Using Sirius to display and manipulate your domain models requires telling Sirius:</p>
		<ul>
			<li>which are the models (files) your are interested in;</li>
			<li>which of the compatible representation types you want to make use of.</li>
		</ul>
		<p>Representation types are defined in plug-ins which extend Sirius and that you need to install in your environment. Which ones will be available to you depend on what concrete modelers you have installed. Sirius-based modelers can provide many alternative representation types for the same semantic models, and organize them in 
			<em>viewpoints</em>, which corresponds to the different activities or point of views that can be applied to the models.
		</p>
		<p>This organization is reflected in the editor, which presents two main blocks:</p>
		<p>
			<img border="0" src="images/aird_editor_full.png"/>
		</p>
		<p>On the left, the 
			<em>Models</em> block shows the raw semantic models, which can come from multiple files (resources), and allows you to configure which models should be loaded, to navigate inside them, to perform some basic editing tasks, and finally to create and manage Sirius representations on them.
		</p>
		<p>On the right the 
			<em>Representations</em> block displays all the types of representations available and all the concrete ones already created, organized by viewpoint (by default). It also allows you to manage the representations and viewpoints. The representation types available to you will depend both on the kind of models you have loaded and which modeler plug-ins you have installed in your environment. For example if you have installed 
			<a href="http://www.umldesigner.org/">UML Designer</a> 
			<strong>and</strong> have at least one 
			<code>*.uml</code> model loaded, you will find there the different kinds of UML diagrams implemented in 
			<em>UML Designer</em>.
		</p>
		<h2 id="opening">Opening the Aird Editor</h2>
		<p>The Aird editor is the default editor associated to the 
			<code>*.aird</code> files in Eclipse. In some perspectives (e.g. 
			<em>Java</em>), double-clicking on an 
			<code>aird</code> file will open the editor and automatically load all the files/models needed if that it not already the case. In other contexts where double-click performs a different operation you may need to open the context menu and select 
			<i>Open With &gt; Aird Editor</i>.
		</p>
		<p>It is also possible to configure Sirius to automatically open the Aird editor when an 
			<code>*.aird</code> file is first loaded. When this mode is enabled, opening/expanding a 
			<em>Modeling Project</em> from the 
			<em>Model Explorer</em>, which triggers the loading of the models, will also open the editor. This behavior can be enabled via the Sirius preference 
			<strong>
				<i>Automatically open the aird editor when an aird file is loaded</i>
			</strong>: 
		</p>
		<p>
			<img border="0" src="images/aird_editor_pref.png"/>
		</p>
		<p>When this preference is activated, then aird editor is opened automatically in the following situations:</p>
		<ul>
			<li>After clicking 
				<i>Finish</i> button of the 
				<i>Create a modeling project</i> wizard, the project is created as well as its aird file. The newly created aird file is automatically opened in the editor.
			</li>
		</ul>
		<p>
			<img border="0" src="images/aird_editor_modeling_project_creation_wizard.png"/>
		</p>
		<ul>
			<li>When a project with the 
				<em>Modeling</em> nature is opened from 
				<i>Model Explorer</i> or 
				<i>Project Explorer</i>, the aird editor is also automatically opened if it contains a main aird file.
			</li>
		</ul>
		<p>
			<img border="0" src="images/aird_editor_open_project_modeling_explorer.png"/>
		</p>
		<ul>
			<li>When the aird file is first expanded from a project with 
				<em>Modeling</em> nature from 
				<i>Model Explorer</i> or 
				<i>Project Explorer</i> view, the aird editor is also opened automatically. 
			</li>
		</ul>
		<p>
			<img border="0" src="images/aird_editor_expand_aird_file.png"/>
		</p>
		<h2 id="closing">Closing the Aird Editor and unloading models</h2>
		<p>You have four different ways to close the aird editor. But not all the ways have the same behaviour.</p>
		<p>There is one thing to take in consideration when it comes to close the aird editor:</p>
		<ul>
			<li>An opened aird editor has all its referenced models loaded in memory as well as any representation opened in a Sirius editor. For big models and big representations, this can have a big memory footprint. So when you want to close the aird editor you must ask yourself if you want to free the memory used by the loaded aird or not. Then you have to choose the right way to close the editor accordingly. Indeed some way to close the editor will not free this memory and some others will.</li>
		</ul>
		<p>The closing mechanism which does not unload models and representations is the following:</p>
		<ul>
			<li>Clicking on the editor white cross on the top right corner of editor&#8217;s tab. This will only close the aird editor and will not free memory used by loaded models and representations opened in Sirius editors.</li>
		</ul>
		<p>
			<img border="0" src="images/aird_editor_close_editor_with_cross.png"/>
		</p>
		<p>The closing mechanisms which do unload models and representations from memory are the following:</p>
		<ul>
			<li>If your aird editor refers to an aird file on a 
				<em>Modeling Project</em>, the only way to unload models and representations from memory is to close it.
			</li>
		</ul>
		<ul>
			<li>If your aird editor does not refer to an aird file on a 
				<em>Modeling Project</em>, a button 
				<em>Unload models</em> is provided by the editor and allows to close the aird editor and free memory used by loaded models and representations.
			</li>
		</ul>
		<p>
			<img border="0" src="images/aird_editor_close_editor_with_button.png"/>
		</p>
		<ul>
			<li>When aird editor is not in a 
				<em>Modeling Project</em>, 
				<em>Close</em> action in contextual menu of the aird file is available. This action is reachable in any view showing the aird as an IFile like 
				<em>Model Explorer</em>, 
				<em>Package Explorer</em> etc... 
			</li>
		</ul>
		<p>
			<img border="0" src="images/aird_editor_close_editor_with_right_click.png"/>
		</p>
		<h2 id="semantic_models">Managing the Semantic Models</h2>
		<p>This section describes how to manage the semantic models associated to your aird file, which are visible in the 
			<em>Models</em> block on the left side of the editor:
		</p>
		<p>
			<img border="0" src="images/aird_editor_models_block.png"/>
		</p>
		<p>The 
			<em>Models</em> block displays a tree showing all semantic models associated to the aird file, organized in two categories:
		</p>
		<ul>
			<li>The models located in the same workspace project as the one containing the aird file from which editor has been opened. These are visible as root items on the graphical tree.</li>
		</ul>
		<ul>
			<li>The models located in a project that is different from the project containing the aird file from which the editor has been opened. These models are visible under the 
				<em>Project Dependencies</em> category.
			</li>
		</ul>
		<p>For example:</p>
		<p>
			<img border="0" src="images/aird_editor_model_loading.png"/>
		</p>
		<p>Regardless of the category they appear in, all the semantic models associated with an aird file are fully loaded, and you can expand the tree elements to navigate inside your models. The tree can be filtered on the elements labels using the search box at the top to quickly locate specific model elements:</p>
		<p>
			<img border="0" src="images/aird_editor_filter_models_elements.png"/>
		</p>
		<p>In addition to the actual semantic elements, this view also includes all existing representations (diagrams, tables, trees). As in the case of the 
			<em>Model Explorer</em>, the representations are available directly below the semantic element they represent, and can be opened by double-clicking on them.
		</p>
		<h3 id="LoadinganExistingModel">Loading an Existing Model</h3>
		<p>To be able to edit a semantic model with a Sirius modeler, you must first tell the aird it can edit that model. There are two mechanisms to do so:</p>
		<ul>
			<li>An automatic one were, if your project has 
				<em>Modeling</em> nature, any model file added inside the project will be automaticall added to the aird file.
			</li>
			<li>A manual one were you have two different buttons in the editor:
				<ul>
					<li>The 
						<strong>
							<i>New...</i>
						</strong> button, which opens a wizard allowing to create a new model from any registered package and in any project you want (see the next section for more details on the wizard). The newly created model will be loaded automatically in the aird file.
					</li>
					<li>The 
						<strong>
							<i>Add</i>
						</strong> button, which allows to load into the aird file an already existing model either from the same project or from another one.
					</li>
				</ul>
			</li>
		</ul>
		<p>Note that you can also add a new semantic model to a session by simply drag and dropping the model file from the workpace (from any Eclipse view) into the 
			<em>Models</em> block on the left side of the editor.
		</p>
		<h3 id="model_creation_wizard">Creating New Models</h3>
		<p>The aird editor features a generic model creation wizard that can be used to create new models files of any kind supported in the environement (i.e. instances of any installed meta-model). To create a new model, select the 
			<i>New...</i> button. It opens a creation wizard:
		</p>
		<ul>
			<li>The first page asks you to select which kind of model you want to create. It will present you all the EMF metamodels available in your installation (e.g. UML or BPMN). You can use the text field to filter among all the meta-models available (in large installations, there may be hundreds of them).</li>
		</ul>
		<p>
			<img border="0" src="images\aird_editor_create_new_model.png"/>
		</p>
		<ul>
			<li>Once the metamodel is selected, the second page asks for the type of the root element in the new model file. By default Sirius will try to infer good candidates for this root element type, and show only those. You can deselect the 
				<em>Show only suggested root types</em> checkbox to reveal 
				<strong>all</strong> the concrete types defined in the metamodel you selected.
			</li>
			<li>Finally, the third page of the wizard will ask you for the name and location of the new file to create. By default, the file will be created in the same project as the 
				<code>aird</code> file and have a generated name.
			</li>
		</ul>
		<h3 id="removing_model">Removing Model Dependencies And Representations From The Aird Editor</h3>
		<p>To remove 
			<strong>models dependencies</strong>, you must select the root model items and click on the 
			<strong>
				<i>Remove</i>
			</strong> button:
		</p>
		<p>
			<img border="0" src="images/aird_editor_remove_semantic_model.png"/>
		</p>Note that this action does not delete the physical model file.
		<p>The removal can be applied only if some rules are respected. If they are not, the remove button will still be active and its activation, will inform you of the reasons why you cannot proceed the removal.</p>
		<p>The rules regarding models dependencies removal are the following :</p>
		<ul>
			<li>A model dependency cannot be removed if at least one of its element contains a representation. Note that the representation can be invisible if the viewpoint providing it is not enabled.</li>
		</ul>
		<p>
			<img border="0" src="images/aird_editor_remove_semantic_model_representation.png"/>
		</p>
		<ul>
			<li>A model dependency cannot be removed if you are working inside a project with the 
				<em>Modeling</em> nature and the semantic model is located inside this project. Indeed, the 
				<em>Modeling</em> nature ensures that all model files stored inside the project are always loaded in the project&#8217;s 
				<code>aird</code> file.
			</li>
		</ul>
		<ul>
			<li>A model dependency cannot be removed if it is a fragment of a model. In this situation you need to use the 
				<strong>
					<i>Uncontrol</i>
				</strong> action to remove it.
			</li>
		</ul>
		<p>
			<img border="0" src="images/aird_editor_remove_semantic_model_uncontrol.png"/>
		</p>
		<h3 id="removing_representation">Removing Representations From The Aird Editor</h3>
		<p>To remove a 
			<strong>representation</strong> from the aird file, you can either select it in the editor and use the right click contextual action 
			<strong>
				<i>Delete</i>
			</strong> or the 
			<strong>
				<i>DEL</i>
			</strong> keyboard key.
		</p>
		<h3 id="quick_editing">Models Quick Editing</h3>
		<p>The normal way to display and edit models with Sirius is to do it through one or several Sirius-defined representations (
			<em>modelers</em>), which define domain-specific ways to represent and manipulate the data, and ensure some level of consistency.
		</p>
		<p>In some situations you may need to manipulate the model elements more directly, even if no Sirius-based modeler or tool has been defined to support your use case. The 
			<em>aird editor</em> provides support for &#8220;quick editing&#8221; of the semantic models independently of a Sirius representation. It works like any generic EMF models editor:
		</p>
		<ul>
			<li>You can right-click on a semantic element to create new children inside, or to delete it. </li>
			<li>When you have selected an element, you can use the 
				<em>Properties</em> view to edit its features. Note that the content of this view depends on which 
				<em>viewpoints</em> are currently enabled. If you have enabled viewpoints which define specific properties views for your elements, these will be used instead of a generic one, so not all direct model operations may be available.
			</li>
		</ul>
		<p>Keep in mind that editing the semantic models this way bypasses any high-level restrictions and rules that may be  brought by Sirius modelers. Depending on the semantic models, these direct manipulation may break domain constraints. Use with care.</p>
		<h2 id="representations">Managing Representations and Viewpoints</h2>
		<p>To use a Sirius modeler to edit a model element, you need to create a graphical representation for it. This representation is then editable with a Sirius modeler that can be a diagram, a tree or a table editor. Concrete representations are created from a 
			<em>representation type</em>, which are provided by Sirius-based modelers, and organized by 
			<em>viewpoints</em>.
		</p>
		<p>In addition to providing representation types from which representation can be created, viewpoints can also provide extensions to other viewpoints' representation types, adding for example new tools to them.</p>
		<p>The following sections describe how to create/remove representations and the related functionalities.</p>
		<h3 id="visualize_viewpoints_representations">Visualizing Viewpoints and Representations</h3>
		<p>The aird editor has a block named 
			<em>Representation</em> which displays all the available viewpoints (compatible with the semantic models loaded), the representation types they define, and the actual concrete representations that have been created. All these elements are organized in a tree:
		</p>
		<p>
			<img border="0" src="images/aird_editor_representations_block.png"/>
		</p>
		<p>This 
			<em>Representations</em> block is separated in two parts:
		</p>
		<ul>
			<li>The left is the tree showing viewpoints with their representations types (showing the number of representations it contains) and representations.</li>
			<li>The right part shows the documentation of the viewpoint of the selected element. It allows to find what viewpoint provides the representation type providing Sirius modeler functionalities fitting your needs to edit graphically your models.</li>
		</ul>
		<p>To the bottom of these two parts are two checkboxes, that can be used to control which elements are displayed:</p>
		<ul>
			<li>
				<strong>
					<i>Group representations by viewpoint</i>
				</strong>: when active (the default), viewpoints items are shown in the tree. When deactivated, only representation types and their representations are shown.
			</li>
			<li>
				<strong>
					<i>Show disabled viewpoints</i>
				</strong>: when active (the default), 
				<strong>all</strong> the available viewpoints (and their content) which apply to the semantic elements currently loaded are displayed, even if they are currently disabled. This is useful when starting a new project as it shows you immediatly all the features that are available to you, even if you have not yet enabled any. Once you have enabled the viewpoints you need, you may want to hide the others to help focus. 
			</li>
		</ul>
		<p>A viewpoint is grayed out if it is disabled. Otherwise it is enabled in the aird file.</p>
		<p>The viewpoints shown are all the viewpoints available in your environment that are compatible with the models loaded in the aird file. So if your environment does not contain any viewpoint compatible with your models or if you have no models loaded, then the graphical representations component will be empty.</p>
		<p>Representations can also be seen directly in the models graphical component of the aird editor under the associated model&#8217;s element if the viewpoint containing the representation type used to create the representation is activated. If not the representation will not be visible.</p>
		<p>
			<img border="0" src="images/aird_editor_rep_under_model.png"/>
		</p>
		<p>To open an exisiting representation, simply double-click on it (this works both in the 
			<em>Representations</em> tree and in the 
			<em>Semantics</em> tree).
		</p>
		<h3 id="enable_disable_viewpoints">Enabling and Disabling Viewpoints</h3>
		<p>A viewpoint provides representation types and/or extension for other representation types. In some cases you want need to disable functionalities brought by these extensions or on the contrary to enable them. </p>
		<p>To enable/disable a viewpoint, you can either:</p>
		<ul>
			<li>double click on a viewpoint item on the representations graphical component of the aird editor. It will enable or disable the viewpoint depending on its current state.</li>
			<li>use the 
				<strong>
					<i>Enable</i>
				</strong> 
				<strong>
					<i>Disable</i>
				</strong> buttons after having selected one or more viewpoints.
			</li>
			<li>create a new representation defined in a previously disabled viewpoint. It will activate the viewpoint of the corresponding representation type.</li>
		</ul>
		<p>Some viewpoints have dependencies to another ones. Enabling a viewpoint will automatically enable all its dependencies. Disabling a viewpoint that is a dependency of another one will ask you to confirm its disabling as well as the ones depending on it.</p>
		<h3 id="create_remove_representations">Creating and Removing Representations</h3>
		<p>After having identified the representation type providing Sirius modeler functionalities you need, three methods are available to create a new representation from it and a model element to edit its content:</p>
		<ul>
			<li>First you can double click on a representation type from the representations graphical component of the aird editor. It opens the 
				<strong>
					<i>Create a new representation</i>
				</strong> wizard. You then have to select a model element compatible with the description from which the new representation will be created.
			</li>
		</ul>
		<p>
			<img border="0" src="images/aird_editor_create_rep_double_click.png"/>
		</p>
		<ul>
			<li>Second you can click on the 
				<strong>
					<i>New</i>
				</strong> button of the representations graphical component of the aird editor. It opens the wizard were you have first to select the representation type from which you want to create a representation before choosing the model element.
			</li>
		</ul>
		<ul>
			<li>The last method is to use the contextual menu action 
				<strong>
					<i>New representation</i>
				</strong> available on right click on a model element from the models graphical component:
			</li>
		</ul>
		<p>
			<img border="0" src="images/aird_editor_new_rep_menu.png"/>
		</p>
		<p>The menu shows only representation types compatible with the selected model element and that belong to activated viewpoints. When choosing 
			<strong>
				<i>Other...</i>
			</strong> the wizard to create new representation is opened and show the representation types compatible with the selected element whether they belong to a viewpoint activated or deactivated. If you create a representation defined in a viewpoint that was previously disabled, it will be enabled automatically.
		</p>
		<p>You can 
			<em>remove</em> a representation either from the representations or models graphical components of the aird editor by:
		</p>
		<ul>
			<li>using the 
				<i>Remove</i> action in the representation&#8217;s context menu;
			</li>
			<li>using the 
				<i>Remove</i> button of representations block when the representation to remove is selected there; 
			</li>
			<li>select the representation and hit the 
				<i>Del</i> key.
			</li>
		</ul>
		<h3 id="open_representation">Opening a Sirius Modeler From a Representation</h3>
		<p>To open a representation to edit graphically the model&#8217;s element it is associated to, you just have to double-click on it either in the models or representations graphical component of the aird editor. </p>
		<p>If you double click on a representation in the 
			<em>Representations</em> block that belong to a disabled viewpoint, this viewpoint will automatically be enabled before opening the representation.
		</p>
	</body>
</html><html id='3313.extensions-provide_custom_style.html'></html><?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>extensions-provide_custom_style</title>
		<link type="text/css" rel="stylesheet" href="../resources/bootstrap.css"/>
		<link type="text/css" rel="stylesheet" href="../resources/custom.css"/>
	</head>
	<body>
		<h1 id="SiriusProvidecustomstyle">Sirius &#8211; Provide custom style</h1>
		<h2 id="Goals">Goals</h2>
		<p>Sirius provides tools to design and display diagrams. These diagrams are essentially composed of figures of distinct styles
			<br/>and shapes and, even though the tooling initially allows for the usage of a wide array of styles, many diagrams will still require
			<br/>customized styles to conform to the company&#8217;s theme.
		</p>
		<p>Sirius offers three distinct ways of customizing its graphical styles:</p>
		<ol>
			<li>the 
				<code>StyleConfiguration</code> extension point.
			</li>
			<li>the 
				<code>CustomStyle</code> in addition to the 
				<code>EditPartProvider</code> GMF extension point.
			</li>
			<li>the GMF-provided extension points.</li>
		</ol>
		<h2 id="StyleConfiguration">StyleConfiguration</h2>
		<p>StyleConfiguration is a mechanism that enables the customization of a specific style. It aims at providing support for different
			<br/>ways of displaying labels, anchors, ...
		</p>
		<h3 id="TheStyleConfigurationinterface">The StyleConfiguration interface</h3>
		<p>This interface defines a set of methods that need be implemented in order for the syle to be customizable:</p>
		<ul>
			<li>
				<code>void adaptNodeLabel(DNode node, WrapLabel nodeLabel)</code>
			</li>
			<li>
				<code>BorderItemLocatorProvider getBorderItemLocatorProvider()</code>
			</li>
			<li>
				<code>IBorderItemLocator getNameBorderItemLocator(DNode node, IFigure mainFigure)</code>
			</li>
			<li>
				<code>int adaptViewNodeSizeWithLabel(DNode viewNode, WrapLabel nodeLabel, int nodeWidth)</code>
			</li>
			<li>
				<code>AnchorProvider getAnchorProvider()</code>
			</li>
			<li>
				<code>Image getLabelIcon(DDiagramElement element)</code>
			</li>
			<li>
				<code>Dimension fitToText(DNode node, WrapLabel nodeLabel, DefaultSizeNodeFigure defaultSizeNodeFigure)</code>
			</li>
		</ul>
		<h4 id="adaptNodeLabel">adaptNodeLabel</h4>
		<p>This method can be used to alter the size and location of a given label according to a given node.</p>
		<ul>
			<li>Parameters
				<ul>
					<li>
						<code>viewNode</code>: The node representation.
					</li>
					<li>
						<code>nodeLabel</code>: Label of the node.
					</li>
				</ul>
			</li>
		</ul>
		<h4 id="getBorderItemLocatorProvider">getBorderItemLocatorProvider</h4>
		<p>This method returns the instance currently providing border item locators for the node. A border item is a node located on the border of another node.</p>
		<h4 id="getNameBorderItemLocator">getNameBorderItemLocator</h4>
		<p>This method returns the item locator for the label of the node. This method is meaningless if the position of the label isn&#8217;t 
			<code>BORDER</code>.
		</p>
		<ul>
			<li>Parameters
				<ul>
					<li>
						<code>node</code>: The node representation.
					</li>
					<li>
						<code>mainFigure</code>: The Draw2D figure representing the node.
					</li>
				</ul>
			</li>
		</ul>
		<h4 id="adaptViewNodeSizeWithLabel">adaptViewNodeSizeWithLabel</h4>
		<p>This method returns the minimum width a node needs to be correctly displayed with its label.</p>
		<ul>
			<li>Parameters
				<ul>
					<li>
						<code>viewNode</code>: The node representation.
					</li>
					<li>
						<code>nodeLabel</code>: Label of the node.
					</li>
					<li>
						<code>nodeWidth</code>: Current width of the node.
					</li>
				</ul>
			</li>
		</ul>
		<h4 id="getAnchorProvider">getAnchorProvider</h4>
		<p>This method returns the instance providing connections anchors.</p>
		<h4 id="getLabelIcon">getLabelIcon</h4>
		<p>This method returns the icon that will displayed for this element&#8217;s representations.</p>
		<ul>
			<li>Parameters
				<ul>
					<li>
						<code>vpElement</code>: The element for which we need an icon.
					</li>
				</ul>
			</li>
		</ul>
		<h4 id="fitToText">fitToText</h4>
		<p>This method returns the optimal dimension of the node.</p>
		<ul>
			<li>Parameters
				<ul>
					<li>
						<code>node</code>: The node representation.
					</li>
					<li>
						<code>nodeLabel</code>: Label of the node.
					</li>
					<li>
						<code>defaultSizeNodeFigure</code>: The draw2d representation of the node.
					</li>
				</ul>
			</li>
		</ul>
		<h3 id="ProvidingcustomStyleConfiguration">Providing custom StyleConfiguration</h3>
		<p>The 
			<code>StyleConfiguration</code> mechanism is only available for 
			<code>ViewNode</code> at the moment. Default configurations are initially installed on nodes.
		</p>
		<p>
			<b>SimpleStyleConfiguration</b>
		</p>
		<p>This configuration is the simplest implementation.</p>
		<p>
			<b>SquareStyleConfiguration</b>
		</p>
		<p>This is the minimal configuration for nodes using the 
			<code>BundledImage</code> style with a square shape.
		</p>
		<p>
			<b>SimpleSquareStyleConfiguration</b>
		</p>
		<p>This is the minimal configuration for nodes with a 
			<code>Square</code> style.
		</p>
		<h4 id="ProvidersofStyleConfiguration">Providers of StyleConfiguration</h4>
		<p>Installing your own configurations can be done through the 
			<code>org.eclipse.sirius.diagram.styleConfigurationProvider</code> extension
			<br/>point. This extension point requires only one attribute: the qualified name of the provider class.
		</p>
		<pre><code>&lt;extension point="org.eclipse.sirius.diagram.styleConfigurationProvider"&gt;
   &lt;styleConfigurationProvider providerClass="com.example.diagseq.style.DiagSeqStyleConfigurationProvider" /&gt;
&lt;/extension&gt;

</code></pre>
		<p>Here is a sample of the extension tab of the PDE editor when filling in this extension point:</p>
		<p>
			<img border="0" src="./images/style/styleConfigurationProviderExt.png"/>
		</p>
		<p>This example records the 
			<code>DiagSeqStyleConfigurationProvider</code> as a configuration provider. This class must implement the
			<br/>
			<code>IStyleConfigrationProvider</code> interface.
		</p>
		<p>The latter interface defines two methods:</p>
		<p>
			<strong>
				<code>boolean provides(DiagramElementMapping mapping, Style style)</code>
			</strong>
		</p>
		<p>This method returns true if the provider provides a configuration for the given mapping and style.</p>
		<ul>
			<li>Parameters
				<ul>
					<li>
						<code>mapping</code>: The mapping of the node.
					</li>
					<li>
						<code>style</code>: Style of the node.
					</li>
				</ul>
			</li>
		</ul>
		<p>
			<strong>
				<code>StyleConfiguration createStyleConfiguration(DiagramElementMapping mapping, Style style)</code>
			</strong>
		</p>
		<p>This method creates a StyleConfiguration for the specified mapping and style.</p>
		<ul>
			<li>Parameters
				<ul>
					<li>
						<code>mapping</code>: Mapping of the node.
					</li>
					<li>
						<code>style</code>: Style of the node.
					</li>
				</ul>
			</li>
		</ul>
		<p>Here is an example of a provider:</p>
		<pre><code>public class DiagSeqStyleConfigurationProvider implements IStyleConfigurationProvider {
    public StyleConfiguration createStyleConfiguration(DiagramElementMapping mapping, Style style) {
        if (mapping instanceof NodeMapping) {
            NodeMapping nodeMapping = (NodeMapping) mapping;
            if (nodeMapping.getName() != null &amp;&amp; nodeMapping.getName().equals(DiagSeqConstants.INSTANCE_ROLE_MAPPING_NAME)) {
                return new InstanceRoleStyleConfiguration();
            }
            if (nodeMapping.getName() != null &amp;&amp; nodeMapping.getName().equals(DiagSeqConstants.EXECUTION_MAPPING_NAME)) {
                return new ExecutionSpecificationStyleConfiguration();
            }
        }
        return null;
    }

    public boolean provides(DiagramElementMapping mapping, Style style) {
        return mapping instanceof NodeMapping &amp;&amp; ((NodeMapping) mapping).getName() != null
                &amp;&amp; (((NodeMapping) mapping).getName().equals(DiagSeqConstants.INSTANCE_ROLE_MAPPING_NAME)
                	|| DiagSeqConstants.EXECUTION_MAPPING_NAME.equals(((NodeMapping) mapping).getName()));
    }
}


</code></pre>
		<h3 id="ExampleofaStyleConfigurationimplementation">Example of a StyleConfiguration implementation</h3>
		<pre><code>public class SimpleStyleConfiguration implements StyleConfiguration {
    public void adaptNodeLabel(DNode node, WrapLabel nodeLabel) {
        if (nodeLabel.getParent() != null) {
            Rectangle constraint = nodeLabel.getParent().getBounds().getCopy();

            Insets borderDimension = this.getBorderDimension(node);
            constraint.height -= (borderDimension.top + borderDimension.bottom);
            constraint.width -= (borderDimension.left + borderDimension.right);
            constraint.x += borderDimension.left;
            constraint.y += borderDimension.top;

            nodeLabel.setBounds(constraint);
            nodeLabel.getParent().setConstraint(nodeLabel, constraint);
        }
    }

    public int adaptViewNodeSizeWithLabel(DNode viewNode, WrapLabel nodeLabel, int nodeWidth) {
        if (viewNode.getResizeKind() != ResizeKind.NONE_LITERAL) {

        }
        return nodeWidth;
    }

    public AnchorProvider getAnchorProvider() {
        return null;
    }

    public BorderItemLocatorProvider getBorderItemLocatorProvider() {
        return DefaultBorderItemLocatorProvider.getInstance();
    }

    public IBorderItemLocator getNameBorderItemLocator(DNode node, IFigure mainFigure) {
        BorderItemLocator locator = new AirBorderItemLocator(mainFigure, PositionConstants.NSEW);
        locator.setBorderItemOffset(new Dimension(1, 1));
        return locator;
    }

    public Image getLabelIcon(DDiagramElement vpElement) {
        EObject target = vpElement;
        if (vpElement instanceof DSemanticDecorator) {
            target = ((DSemanticDecorator) vpElement).getTarget();
        }
        if (isShowIcon(vpElement)) {
            if (target != null) {
                IItemLabelProvider labelProvider = (IItemLabelProvider) SiriusDiagramEditorPlugin.getInstance()
                		.getItemProvidersAdapterFactory().adapt(target, IItemLabelProvider.class);
                if (labelProvider != null) {
                    ImageDescriptor descriptor = ExtendedImageRegistry.getInstance().getImageDescriptor(labelProvider.getImage(target));
                    if (descriptor == null) {
                        descriptor = ImageDescriptor.getMissingImageDescriptor();
                    }
                    return SiriusDiagramEditorPlugin.getInstance().getImage(descriptor);
                }
            }
        }
        return null;
    }

    protected boolean isShowIcon(DDiagramElement vpElement) {
        if (vpElement instanceof MappingBased) {
            DiagramElementMapping vpElementMapping = ((MappingBased) vpElement).getMapping();
            if (vpElementMapping instanceof NodeMapping) {
                return ((NodeMapping) vpElementMapping).isShowIcon();
            }
            if (vpElementMapping instanceof EdgeMapping) {
                return ((EdgeMapping) vpElementMapping).isShowIcon();
            }
            if (vpElementMapping instanceof ContainerMapping) {
                return true;
            }
        }
        return false;
    }

    public Dimension fitToText(DNode node, WrapLabel nodeLabel, DefaultSizeNodeFigure defaultSizeNodeFigure) {
        if (nodeLabel.getFont() != null) {
            String text = node.getName();

            int charHeight = FigureUtilities.getStringExtents("ABCDEF", nodeLabel.getFont()).height + 5;
            int charWidth = FigureUtilities.getTextWidth("ABCDEFGHIJKLMNOPQRSTUVWXYZ", nodeLabel.getFont()) / 26;

            double ratio = charHeight / charWidth;

            int nbLines = (int) (Math.sqrt(text.length()) / ratio) + 1;
            int nbCols = (int) (Math.sqrt(text.length()) * ratio) + 1;

            int longestWord = this.getTheLongestWord(text.split("\\s"));
            nbCols = Math.max(nbCols, longestWord);

            int hHeight = nbLines * charHeight;
            int hWidth = nbCols * charWidth;

            Dimension size = nodeLabel.getPreferredSize(hWidth + nodeLabel.getIconBounds().width +
            		nodeLabel.getIconTextGap(), hHeight).getCopy();

            size.width += 20;
            size.height += 30;

            Insets borderDimension = this.getBorderDimension(node);
            size.width += (borderDimension.left + borderDimension.right);
            size.height += (borderDimension.top + borderDimension.bottom);

            //
            // Square ?
            if (node.getHeight().intValue() == node.getWidth().intValue()) {
                // size.width = Math.max(size.height, size.width);
                // size.height = Math.max(size.height, size.width);
            }

            return size;
        }
        return defaultSizeNodeFigure.getBounds().getSize().getCopy();
    }

    private int getTheLongestWord(String[] strings) {
        int max = -1;
        for (int i = 0; i &lt; strings.length; i++) {
            if (strings[i].length() &gt; max) {
                max = strings[i].length();
            }
        }
        return max;
    }

    /**
     * Return the dimension of the border.
     *
     * @param nodeth
     *            view node.
     * @return the dimension of the border.
     */
    public Insets getBorderDimension(DNode node) {
        return new Insets(0, 0, 0, 0);
    }

}

</code></pre>
		<p>The easiest way to implement your own configuration is to make it a sub class of 
			<code>SimpleStyleConfiguration</code>.
		</p>
		<h2 id="GMFextensionpointsCustomStyleandEditPartProvider">GMF extension points, CustomStyle and EditPartProvider</h2>
		<p>
			<code>CustomStyle</code> is a style that can be applied to a node. Its only property is 
			<code>id</code> that is a string value. By default,
			<br/>applying a CustomStyle will have a Green Square be displayed. A custom 
			<code>EditPart</code> describing the appearance of the node
			<br/>must be implemented.
		</p>
		<p>Here is how to apply a 
			<code>CustomStyle</code>:
		</p>
		<p>
			<img border="0" src="./images/style/customStyle.png"/>
		</p>
		<p>Next step is to create and record an 
			<code>EditPart</code> to define the way this style will be managed.
		</p>
		<p>An 
			<code>EditPart</code> is a GEF class. It references both a model element and the shape that represents it. GMF adds a layer to GEF
			<br/>and exposes its own 
			<strong>EditPart</strong> API. The base type of this API is 
			<code>IGraphicalEditPart</code> (in package
			<br/>
			<code>org.eclipse.gmf.runtime.diagram.ui.editparts</code>). Here are the main methods this interface defines:
		</p>
		<ul>
			<li>
				<code>EObject resolveSemanticElement()</code>: This method returns the semantic element of the edit part. The type of this semantic element is a type contained by the Sirius package (see 
				<code>SiriusPackage</code>). For instance, if we were to write an 
				<code>EditPart</code> for our 
				<code>CustomStyle</code>, the semantic element would be the said 
				<code>CustomStyle</code>. It is possible to get the ViewNode with it and, then, the target element.
			</li>
			<li>
				<code>View getNotationView()</code>: This method returns the GMF View of the edit part. This is the view that will be saved into the GMF Diagram.
			</li>
		</ul>
		<p>All Custom Style Edit Part must implement the 
			<code>IStyleEditPart</code> interface. Semantically, a Style Edit Part should not be selectable: it is selected when the Shape or Connector that contains  it is selected. Therefore, 
			<strong>all Custom Style Edit Part should override the 
				<code>isSelectable()</code> method and return false
			</strong>. If you can, inherit from the abstract class 
			<code>AbstractNotSelectableShapeNodeEditPart</code> that already overrides correctly this method. You should also override the 
			<code>createDefaultEditPolicies</code> to do nothing if you want to let Sirius control your custom node as it is done in the provided Sirius style edit parts: the style part is responsible for the style/figure aspects while its parent part will mainly control the behavior by its policies. Otherwise you will need to properly add policies to override the default GMF policies, add your own specific policies or the Sirius ones.
		</p>
		<p>Here is a sample of a Custom Style Edit Part:</p>
		<pre><code>public class InstanceRoleStyleEditPart extends AbstractNotSelectableShapeNodeEditPart implements IStyleEditPart {

    /**
     * the content pane.
     */
    protected IFigure contentPane;

    /**
     * the primary shape.
     */
    protected ImageFigure primaryShape;

    /**
     * Create a new {@link ChangingImageEditPart}.
     *
     * @param view
     *            the view.
     */
    public InstanceRoleStyleEditPart(View view) {
        super(view);
    }

    public DragTracker getDragTracker(Request request) {
        return getParent().getDragTracker(request);
    }

    protected NodeFigure createNodeFigure() {
        NodeFigure figure = createNodePlate();
        figure.setLayoutManager(new XYLayout());
        IFigure shape = createNodeShape();
        figure.add(shape);
        contentPane = setupContentPane(shape);
        return figure;
    }

    private NodeFigure createNodePlate() {
        DefaultSizeNodeFigure result = new AirStyleDefaultSizeNodeFigure(getMapMode().DPtoLP(40), getMapMode().DPtoLP(40));
        return result;
    }

    /**
     * Create the instance role figure.
     *
     * @return the created figure.
     */
    protected ImageFigure createNodeShape() {
        if (primaryShape == null) {
            primaryShape = new ImageFigure();
        }
        return primaryShape;
    }

    /**
     * Return the instance role figure.
     *
     * @return the instance role figure.
     */
    public ImageFigure getPrimaryShape() {
        return primaryShape;
    }

    /**
     * Default implementation treats passed figure as content pane. Respects
     * layout one may have set for generated figure.
     *
     * @param nodeShape
     *            instance of generated figure class
     * @return the figure
     */
    protected IFigure setupContentPane(IFigure nodeShape) {
        return nodeShape; // use nodeShape itself as contentPane
    }

    public IFigure getContentPane() {
        if (contentPane != null) {
            return contentPane;
        }
        return super.getContentPane();
    }

    protected void refreshVisuals() {
        CustomStyle customStyle = (CustomStyle) this.resolveSemanticElement();
        if (customStyle.eContainer() instanceof DNode) {
            this.getPrimaryShape().setImage(SiriusPlugin.getDefault().getBundledImage(((DNode) customStyle.eContainer()).getName()));
        }
    }

    protected void createDefaultEditPolicies() {
        // empty.
    }
}

</code></pre>
		<p>We now have to notify Sirius that we are providing a new 
			<code>EditPart</code> for nodes having a CustomStyle of that id.
			<br/>The GMF extension mechanism can be used to achieve this.
		</p>
		<p>plugin.xml:</p>
		<p>
			<img border="0" src="./images/style/editPartProvider_plugin1.png"/>
		</p>
		<pre><code>&lt;extension point="org.eclipse.gmf.runtime.diagram.ui.editpartProviders"&gt;
  &lt;editpartProvider class="com.example.diagseq.provider.DiagSeqEditPartProvider"&gt;
    &lt;Priority name="High"/&gt;
  &lt;/editpartProvider&gt;
&lt;/extension&gt;

</code></pre>
		<p>The provider class (
			<code>com.example.diagseq.provider.DiagSeqEditPartProvider</code>) extends the GMF class
			<br/>
			<code>org.eclipse.gmf.runtime.diagram.ui.services.editpart.AbstractEditPartProvider</code>. Our custom Edit part will be
			<br/>provided by overriding 
			<code>getNodeEditPartClass</code>. Here is how this class looks like:
		</p>
		<pre><code>public class DiagSeqEditPartProvider extends AbstractEditPartProvider {
    public DiagSeqEditPartProvider() {
        super();
    }
    
    @Override
    protected Class getNodeEditPartClass(View view) {
        if (view.getElement() instanceof CustomStyle) {
            CustomStyle customStyle = (CustomStyle) view.getElement();
            if (customStyle.getId().equals(DiagSeqConstants.INSTANCE_ROLE_STYLE_ID)) {
                return InstanceRoleStyleEditPart.class;
            }
        }
        return super.getNodeEditPartClass(view);
    }
}

</code></pre>
		<p>Where 
			<code>DiagSeqConstants.INSTANCE_ROLE_STYLE_ID</code> is the id of our custom style.
		</p>
		<p>In the modeler, the result looks like this:</p>
		<p>
			<img border="0" src="./images/style/instanceRole.png"/>
		</p>
		<h2 id="GMFextensionpoints">GMF extension points</h2>
		<p>GMF exposes all of the necessary API to extend the default behavior of a modeler.</p>
		<ul>
			<li>Edit Part provider.</li>
			<li>Edit Policy Provider.</li>
			<li>Layout Provider</li>
		</ul>
		<h3 id="EditPartProvider">Edit Part Provider</h3>
		<p>We saw earlier how to provide custom edit parts. Here is how the result looks like in Sirius.</p>
		<p>Snapshot of the Sirius meta-model:</p>
		<p>
			<img border="0" src="./images/style/viewpoint.jpg"/>
		</p>
		<p>The types DNode, DNodeContainer, DNodeList, DNodeListElement, etc. have their own edit parts:</p>
		<p>
			<img border="0" src="./images/style/editParts.jpg"/>
		</p>
		<h3 id="EditPolicyProvider">Edit Policy Provider</h3>
		<p>Edit Policies are objects responsible for the handling of user actions. There are Edit Policies for different behaviors:</p>
		<ul>
			<li>Creation</li>
			<li>Deletion</li>
			<li>Move elements</li>
			<li>Selection</li>
			<li>etc.</li>
		</ul>
		<p>As with edit parts, it is necessary to write an Edit Policy Provider as well as the Edit Policy that is to be provided. The
			<br/>Edit Policy Provider must implement the 
			<code>IEditPolicyProvider</code> interface:
		</p>
		<ul>
			<li>
				<code>public void addProviderChangeListener(IProviderChangeListener listener)</code>: Registers a listener on the provider.
			</li>
			<li>
				<code>public boolean provides(IOperation operation)</code>: Returns true if this instance provides edit policies for the specified operation.
			</li>
			<li>
				<code>public void removeProviderChangeListener(IProviderChangeListener listener)</code>: Removes a listener from this provider.
			</li>
			<li>
				<code>public void createEditPolicies(EditPart editPart)</code>: Adds edit policies on the specified edit part.
			</li>
		</ul>
		<p>Here is an example of an Edit Policy Provider</p>
		<pre><code>/**
 * Provides Edit Policy for Note Attachment.
 */
public class AirNoteAttachmentEditPolicyProvider implements IEditPolicyProvider {

    /** the property change support. */
    private List listeners;

    /**
     * Create a new {@link AirNoteAttachmentEditPolicyProvider}.
     */
    public AirNoteAttachmentEditPolicyProvider() {
        this.listeners = new ArrayList(2);
    }

    public void createEditPolicies(EditPart editPart) {
        if (editPart instanceof NoteAttachmentEditPart) {
            editPart.installEditPolicy(EditPolicy.CONNECTION_ROLE, new AirNoteAttachmentEditPolicy());
        }
    }

    public void addProviderChangeListener(IProviderChangeListener listener) {
        this.listeners.add(listener);
    }

    public boolean provides(IOperation operation) {
        if (operation instanceof CreateEditPoliciesOperation) {
            CreateEditPoliciesOperation castedOperation = (CreateEditPoliciesOperation) operation;
            EditPart editPart = castedOperation.getEditPart();
            Object model = editPart.getModel();
            if (model instanceof View) {
                View view = (View) model;
                if (view.getDiagram() != null &amp;&amp; view.getDiagram().getElement() != null
                        &amp;&amp; view.getDiagram().getElement().eClass().getEPackage().getNsURI().equals(ViewpointPackage.eINSTANCE.getNsURI())) {
                    if ("NoteAttachment".equals(view.getType())) {
                        return true;
                    }
                }
            }
        }
        return false;
    }

    public void removeProviderChangeListener(IProviderChangeListener listener) {
        this.listeners.remove(listener);
    }

    /**
     * Fire a {@link ProviderChangeEvent}.
     */
    protected void fireProviderChanged() {
        ProviderChangeEvent event = new ProviderChangeEvent(this);
        Iterator iterListener = this.listeners.iterator();
        while (iterListener.hasNext()) {
            IProviderChangeListener listener = (IProviderChangeListener) iterListener.next();
            listener.providerChanged(event);
        }
    }

}

</code></pre>
		<p>More flexibility can be achieved by writing an abstract provider:</p>
		<pre><code>public abstract class AbstractEditPolicyProvider implements IEditPolicyProvider {

    /** All listeners. */
    private List listeners = new ArrayList(1);

    public void addProviderChangeListener(IProviderChangeListener listener) {
        this.listeners.add(listener);
    }

    public void removeProviderChangeListener(IProviderChangeListener listener) {
        this.listeners.remove(listener);
    }

    protected void fireProviderChanged() {
        ProviderChangeEvent event = new ProviderChangeEvent(this);
        Iterator iterListener = this.listeners.iterator();
        while (iterListener.hasNext()) {
            IProviderChangeListener listener = (IProviderChangeListener) iterListener.next();
            listener.providerChanged(event);
        }
    }
}

</code></pre>
		<p>There only remains to override the methods 
			<code>provides()</code> and 
			<code>createEditPolicies()</code> in this provider&#8217;s implementations.
		</p>
	</body>
</html><html id='2275.DebuggerTutorial.html'></html><html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Debugger tutorial</title>
<link href="book.css" rel="stylesheet" type="text/css">
<meta content="DocBook XSL Stylesheets V1.75.1" name="generator">
<link rel="home" href="index.html" title="OCL Documentation">
<link rel="up" href="Tutorials.html" title="Tutorials">
<link rel="prev" href="CodeGenerationTutorial.html" title="Code Generation tutorial">
<link rel="next" href="ValidationTutorial.html" title="Validation tutorial">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<h1 xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0">Debugger tutorial</h1>
<div class="section" title="Debugger tutorial">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both">
<a name="DebuggerTutorial"></a>Debugger tutorial</h2>
</div>
</div>
</div>
<p>This tutorial has been updated for Eclipse Mars: Eclipse 4.5, EMF 2.11, OCL 6.0.</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>Some screenshots may be slightly out of date.</p>
</li>
</ul>
</div>
<p>In this tutorial we will continue the 
				<a class="link" href="Tutorials.html#OCLinEcoreTutorial" title="OCLinEcore tutorial">OCLinEcore tutorial</a> and show how to use the 
				<a class="link" href="Debugger.html" title="Debugger (new in Luna)">OCL debugger</a> to debug:
			</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>constraints typed manually in the Console View</p>
</li>
<li class="listitem">
<p>embedded OCLinEcore validation failures from the Validity View</p>
</li>
<li class="listitem">
<p>Complete OCL validation failures from the Validity View</p>
</li>
</ul>
</div>
<div class="section" title="Load OCLinEcore Tutorial Example Project">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="LoadOCLinEcoreTutorialExampleProject2"></a>Load OCLinEcore Tutorial Example Project</h3>
</div>
</div>
</div>
<p>The material for the first two parts of this tutorial is available as part of the OCLinEcore Example project that you
					may load by selecting 
					<span class="bold"><strong>New</strong></span> then 
					<span class="bold"><strong>Example...</strong></span> using the right button context menu of the Project Explorer. This
					should give the 
					<span class="bold"><strong>New Example</strong></span> dialog in which you can select the 
					<span class="bold"><strong>OCL (OCL Constraint Language) Plugins</strong></span> and the 
					<span class="bold"><strong>OCLinEcore Tutorial</strong></span>.
				</p>
<p>The material for the third parts of this tutorial is available as part of the CompleteOCL Example project that you
					may load in a similar way.</p>
</div>
<div class="section" title="The OCL Debugger">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="TheOCLDebugger"></a>The OCL Debugger</h3>
</div>
</div>
</div>
<p>The OCL debugger is a customization of the Eclipse debugger framework, so most of its functionality should present few surprises to those familiar with the Java debugger.</p>
<p>There is:</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>a Stack View that shows the current line number in nested Evaluation Environments</p>
</li>
<li class="listitem">
<p>a Variables View in which local and intermediate variables can be re-examined</p>
</li>
<li class="listitem">
<p>an Editor in which the source is highlighted to show the next AST node to be evaluated</p>
</li>
<li class="listitem">
<p>an Outline in which the source is shown in tree form</p>
</li>
<li class="listitem">
<p>a Breakpoints View in which breakpoints can be controlled</p>
</li>
</ul>
</div>
<p>We will demonstrate some of these facilities by debugging a simple example.</p>
</div>
<div class="section" title="Very Simple Debug session">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="VerySimpleDebugsession"></a>Very Simple Debug session</h3>
</div>
</div>
</div>
<p>We will debug the execution of the OCL expression 
					<span class="bold"><strong>self.name</strong></span> on an EPackage.
				</p>
<div class="section" title="Starting the debugger">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="Startingthedebugger"></a>Starting the debugger</h4>
</div>
</div>
</div>
<p>Double click on 
						<span class="bold"><strong>model/Tutorial.ecore</strong></span> to open the model and expand the top entry to show the EPackage.
					</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/4500-simple-debugger-model.png"></div>
<p>
					
</p>
<p>If the model opens with another editor, close it, and open with the Sample Ecore Editor by selecting 
						<span class="bold"><strong>model/Tutorial.ecore</strong></span> and then 
						<span class="bold"><strong>Open With-&gt;Sample Ecore Model Editor</strong></span> from the context menu.
					</p>
<p>Select the 
						<span class="bold"><strong>tutorial</strong></span> EPackage and invoke 
						<span class="bold"><strong>OCL-&gt;Show Xtext OCL Console</strong></span> from the context menu. (Wait a second or two.)
					</p>
<p>At the bottom of the Console window type 
						<span class="bold"><strong>self.name</strong></span>, then hit the Enter key. Then hit the Page Up key to redisplay your entry.
					</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/4500-simple-debugger-input.png"></div>
<p>
					
</p>
<p>The Console runs an evaluation automatically after hitting Enter and shows the evaluation result: 
						<span class="bold"><strong>'tutorial'</strong></span>.
					</p>
<p>The Console View provides the two pieces of information necessary to run the OCL debugger:</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>an EObject to be used as OCL&rsquo;s 
								<span class="bold"><strong>self</strong></span>; the Console shows the current selection just below its tool bar
							</p>
</li>
<li class="listitem">
<p>an OCL expression to execute</p>
</li>
</ul>
</div>
<p>Start the debugger by clicking the debug icon in the Console View tool bar. (Wait a second or two.)</p>
<p>The debugger perspective should appear automatically. If it doesn&rsquo;t, you can open the Debug perspective manually by invoking 
						<span class="bold"><strong>Window-&gt;Perspective-&gt;Open Perspective-&gt;Debug</strong></span> from the Eclipse menu bar.
					</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/4500-simple-debugger-image.png"></div>
<p>
					
</p>
<p>A Complete OCL document is created automatically to encapsulate the OCL expression inside as an additional operation for the type of the 
						<span class="bold"><strong>self</strong></span> object. This document is shown in the editor; it is readonly. 
					</p>
<p>The stack display shows the context as line 5 of 
						<span class="bold"><strong>oclDebugExpression()</strong></span> in the synthesized Complete OCL document.
					</p>
<p>Select the 
						<span class="bold"><strong>oclDebugExpression()</strong></span> line in the stack display; 
						<span class="bold"><strong>self</strong></span> is highlighted in the Complete OCL document, since the next evaluation to perform is to evaluate the VariableExp AST node that performs the self access.
					</p>
<p>The Variables View shows two variables.</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
								
<span class="bold"><strong>self</strong></span> is the OCL self object
							</p>
</li>
<li class="listitem">
<p>
								
<span class="bold"><strong>$pc</strong></span> is a synthetic variable representing the current Program Counter
							</p>
</li>
</ul>
</div>
<p>The Outline View displays a slightly trimmed OCL Abstract Syntax tree; you may choose to close this view. In a future release it may change to support breakpoints. The view shows</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>an 
								<span class="bold"><strong>Import</strong></span> for 
								<span class="bold"><strong>ecore</strong></span> 
							
</p>
</li>
<li class="listitem">
<p>a 
								<span class="bold"><strong>Class</strong></span> named 
								<span class="bold"><strong>EPackage</strong></span> containing 
							</p>
</li>
<li class="listitem">
<p>an 
								<span class="bold"><strong>Operation</strong></span> named 
								<span class="bold"><strong>oclDebugExpression</strong></span> containing
							</p>
</li>
<li class="listitem">
<p>an 
								<span class="bold"><strong>ExpressionInOCL</strong></span> whose 
								<span class="bold"><strong>OwnedBody</strong></span> is a 
								<span class="bold"><strong>PropertyCallExp</strong></span> for 
								<span class="bold"><strong>name</strong></span> and whose source is
							</p>
</li>
<li class="listitem">
<p>a 
								<span class="bold"><strong>VariableExp</strong></span> for 
								<span class="bold"><strong>self</strong></span>.
							</p>
</li>
</ul>
</div>
<p>The outline shows fuller type signatures to assist in debugging.</p>
</div>
<div class="section" title="Exploring Variables">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="ExploringVariables"></a>Exploring Variables</h4>
</div>
</div>
</div>
<p>The Variables View provides an ability to drill down arbitrarily to examine the data available to your program.</p>
<p>The left column of the display presents the name of a variable and may be expanded to navigate to parts of the data referenced by the variable. Part name displays are currently shown 0-based, rather than 1-based as in OCL. </p>
<p>The right column variously displays the type of parts that can be expanded and the values of those that cannot. An OCL syntax is used so Strings appear in single quotes and Collections use names such as OrderedSet. </p>
<p>The bottom line shows a textual rendering of the selected variable. For many types of data a helpful rendering is available. For others the fallback is to the default Java toString() functionality. The text can be customized by</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>the 
								<span class="bold"><strong>org.eclipse.ocl.pivot.utilities.getText()</strong></span> method if the object implements 
								<span class="bold"><strong>Labelable</strong></span>
							
</p>
</li>
<li class="listitem">
<p>the 
								<span class="bold"><strong>LabelUtil.QUALIFIED_NAME_REGISTRY</strong></span> if an 
								<span class="bold"><strong>org.eclipse.ocl.pivot.label_generator</strong></span> extension point has a registration for the objects' class
							</p>
</li>
</ul>
</div>
<p>Click on the expand/collapse icon to the left of 
						<span class="bold"><strong>$pc</strong></span> to expand it and allow inspection of the OCL AST. A VariableExp is next to execute and its 
						<span class="bold"><strong>$pc.referredProperty</strong></span> or 
						<span class="bold"><strong>$pc.type</strong></span> may be examined to see more program detail.
					</p>
<p>Click on the expand/collapse icon to the left of 
						<span class="bold"><strong>self</strong></span>, which is an 
						<span class="bold"><strong>ecore::EPackage</strong></span>, to expand it and shows its fields such as 
						<span class="bold"><strong>name</strong></span> which is 
						<span class="bold"><strong>'tutorial'</strong></span>.
					</p>
<p>Click on the expand/collapse icon to the left of 
						<span class="bold"><strong>self.eClassifiers</strong></span> to show the four classifiers.
					</p>
<p>Select 
						<span class="bold"><strong>self.eClassifiers[ 1 ]</strong></span> so that the bottom line display shows that the second is named Book. 
					</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/4500-simple-debugger-image.png"></div>
<p>
					
</p>
<p>The Variables View provides more insight that the Sample Ecore Properties View, so you may find it convenient to use a trivial OCL debugger session using 
						<span class="bold"><strong>self</strong></span> as the OCL expression to browse arbitrary model data.
					</p>
</div>
<div class="section" title="Stepping Execution">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="SteppingExecution"></a>Stepping Execution</h4>
</div>
</div>
</div>
<p>Click F5 or the 
						<span class="bold"><strong>Step Into</strong></span> icon to advance execution by one AST node evaluation.
					</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/4500-simple-debugger-step1.png"></div>
<p>
					
</p>
<p>The editor now highlights 
						<span class="bold"><strong>.name</strong></span>; 
						<span class="bold"><strong>$pc</strong></span> shows a PropertCallExp as the next execution. 
						<span class="bold"><strong>$pc.referredProperty</strong></span> shows that it is 
						<span class="bold"><strong>ecore::ENamedElement:name</strong></span>.
					</p>
<p>An additional synthetic variable 
						<span class="bold"><strong>$owwnedSource</strong></span> shows the result of the 
						<span class="bold"><strong>self</strong></span> evaluation that forms the source term of the PropertyCallExp. As expected this is the same as 
						<span class="bold"><strong>self</strong></span>.
					</p>
<p>Click F5 or the 
						<span class="bold"><strong>Step Into</strong></span> icon again to advance execution by a further AST node evaluation.
					</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/4500-simple-debugger-step2.png"></div>
<p>
					
</p>
<p>The whole of 
						<span class="bold"><strong>self.name</strong></span> is highlighted and 
						<span class="bold"><strong>$pc</strong></span> shows that the overall ExpressionInOCL is about to be evaluated. The synthetic 
						<span class="bold"><strong>$ownedBody</strong></span> for its input shows that 
						<span class="bold"><strong>self.name</strong></span> evaluated to 
						<span class="bold"><strong>'tutorial'</strong></span>.
					</p>
</div>
</div>
<div class="section" title="Debugging a Validation failure">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="DebuggingaValidationfailure"></a>Debugging a Validation failure</h3>
</div>
</div>
</div>
<p>OCL is useful for elaborating models with additional well-formedness rules, but when these fail it can be difficult to understand why a failure occurred, particularly if the bug is in the OCL rather than the model. We will now show how the OCL debugger can be used to debug a validation failure.</p>
<p>Double click on 
					<span class="bold"><strong>model/Tutorial.xmi</strong></span> to open the model, and expand the top two entries to show some detail.
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4500-validation-debugger-model.png"></div>
<p>
				
</p>
<p>If the model opens with another editor, close it, and open with the Sample Reflective Ecore Model Editor by selecting 
					<span class="bold"><strong>model/Tutorial.xmi</strong></span> and then 
					<span class="bold"><strong>Open With-&gt;Sample Reflective Ecore Model Editor</strong></span> from the context menu.
				</p>
<p>Select the first line and invoke 
					<span class="bold"><strong>Validate</strong></span> from the context menu. (Wait a second.) Optionally click on Details.
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4500-validation-debugger-errors.png"></div>
<p>
				
</p>
<p>These error messages provide insufficient precision to really understand the problems, so click 
					<span class="bold"><strong>OK</strong></span> to dismiss the popup then select 
					<span class="bold"><strong>Book b2</strong></span>, which has an error, and invoke 
					<span class="bold"><strong>OCL-&gt;Show Validity View</strong></span> to provide more insight.
				</p>
<p>If the Validity View shows question marks rather than red/green/amber status decorations, Click the Run icon in the Validity View tool bar.</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4500-validation-debugger-vv1.png"></div>
<p>
				
</p>
<p>Click the 
					<span class="bold"><strong>Pin</strong></span> icon in the Validity View tool bar to avoid thrashing whenever you change mouse selection.
				</p>
<p>Uncheck the top 
					<span class="bold"><strong>ecore</strong></span> line in the Metamodel Constraints since we are not interested in the successful Ecore metamodel constraints just those in the 
					<span class="bold"><strong>tutorial</strong></span> metamodel.
				</p>
<p>Similarly uncheck the bottom 
					<span class="bold"><strong>tutorial</strong></span> line in the Model Elements since we are not interested in the successful metamodel, just those in the tutorial model.
				</p>
<p>Click on the + tool bar icon so that the detail is shown.</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4500-validation-debugger-vv2.png"></div>
<p>
				
</p>
<p>We will now debug the failure of the 
					<span class="bold"><strong>tutorial::Book::SufficientCopies</strong></span> on the 
					<span class="bold"><strong>Library lib::Book b2</strong></span> model element. Select either of the leaf warnings, that is either the 
					<span class="bold"><strong>tutorial::Book::SufficientCopies</strong></span> child of 
					<span class="bold"><strong>Book b2</strong></span> in the left hand pane, or the 
					<span class="bold"><strong>Library lib::Book b2</strong></span> child of 
					<span class="bold"><strong>SufficientCopies</strong></span> in the right hand pane, and invoke 
					<span class="bold"><strong>Debug Single Enabled Selection</strong></span>. Wait a second or two and the debugger starts. If it doesn&rsquo;t, open the Debugger perspective manually.
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4500-validation-debugger-image.png"></div>
<p>
				
</p>
<p>Select the 
					<span class="bold"><strong>oclDebuggerExpression()</strong></span> stack line.
					The debugger shows 
					<span class="bold"><strong>library.loans-&gt;select((book = self))-&gt;size() &lt;= copies</strong></span> with 
					<span class="bold"><strong>l</strong></span> highlighted as the next execution. 
					The outline shows that the 
					<span class="bold"><strong>VariableExp</strong></span> for 
					<span class="bold"><strong>self</strong></span> is next to execute. The 
					<span class="bold"><strong>library</strong></span> in the source code is a shorthand for 
					<span class="bold"><strong>self.library</strong></span>
					so highlighting 
					<span class="bold"><strong>l</strong></span> is an approximation to highlighting the invisible 
					<span class="bold"><strong>source.</strong></span> in front of 
					<span class="bold"><strong>library</strong></span>.

					<span class="bold"><strong>$pc</strong></span> in the Variables View also shows a VariableExp for self as the next instruction.
				</p>
<p>Click F5 or 
					<span class="bold"><strong>Step Into</strong></span> and 
					<span class="bold"><strong>$pc</strong></span> advances and the editor highlight changes to 
					<span class="bold"><strong>library</strong></span>.
				</p>
<p>Click F5 or 
					<span class="bold"><strong>Step Into</strong></span> a few more times and the highlight will show the iteration within the 
					<span class="bold"><strong>select</strong></span> body, allowing each state of each element to be examined to determine why the exhibited behavior occurs.
				</p>
<p>Continue to Click F5 or 
					<span class="bold"><strong>Step Into</strong></span> until 
					<span class="bold"><strong>-&gt;size()</strong></span> is highlighted. 
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4500-validation-debugger-step1.png"></div>
<p>
				
</p>
<p>Expanding 
					<span class="bold"><strong>$ownedSource</strong></span> in the Variables View shows the Set of three selected Loans each of which has the same book as self.
				</p>Click F5 or 
				<span class="bold"><strong>Step Into</strong></span> three more times until 
				<span class="bold"><strong>&lt;=</strong></span> is highlighted. 
				<p>
					
</p>
<div class="mediaobject">
<img src="images/4500-validation-debugger-step2.png"></div>
<p>
				
</p>
<p>We can now see that the 
					<span class="bold"><strong>$ownedSource</strong></span>, left hand side, of the comparison is 3 and the 
					<span class="bold"><strong>$ownedArguments[0]</strong></span> right hand side is 2.
					A further step and we see the result as 
					<span class="bold"><strong>$ownedBody</strong></span> demonstrating why the validation failed.
				</p>
</div>
<div class="section" title="Debugging Complete OCL validation failure">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="DebuggingCompleteOCLvalidationfailure"></a>Debugging Complete OCL validation failure</h3>
</div>
</div>
</div>
<p>The two preceding examples displayed their source text in a synthesized Complete OCL document.</p>
<p>In this example we debug a failure for which the OCL is already available in a Complete OCL document.</p>
<p>Open the 
					<span class="bold"><strong>model/EcoreTestFile.ecore</strong></span> from the 
					<a class="link" href="CompleteOCLTutorial.html" title="Complete OCL tutorial">Complete OCL tutorial</a> project using the Sample Ecore Editor.
				</p>
<p>Within the Ecore editor use 
					<span class="bold"><strong>OCL-&gt;Load Document</strong></span> and then drag and drop 
					<span class="bold"><strong>model/ExtraEcoreValidation.ocl</strong></span> and click 
					<span class="bold"><strong>OK</strong></span> to dismiss the pop up.
				</p>
<p>Again within the Ecore editor use 
					<span class="bold"><strong>OCL-&gt;Show Validity View</strong></span> to see the constraint/element pairs. 
					<span class="italic">If the Validity View was already visible, close it and re-show it since in Mars addition of a Complete OCL document fails to refresh correctly.</span>
				
</p>
<p>In the Validity View, uncheck the 
					<span class="bold"><strong>ecore</strong></span> Metamodel Constraint contributions retaining just the 
					<span class="bold"><strong>ExtraEcoreValidation.ocl</strong></span> contribution. Click the plus icon in the 
					<span class="bold"><strong>Metamodel Constraint</strong></span> tool bar to expand all entries.
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4500-complete-ocl-debugger-model.png"></div>
<p>
				
</p>
<p>Select the bottom right 
					<span class="bold"><strong>BadClass</strong></span> model element below the 
					<span class="bold"><strong>DerivationIsVolatile</strong></span> constraint and invoke 
					<span class="bold"><strong>Debug Single Enabled Selection</strong></span>. from the context menu (wait a second or two). The debugger should start, if not open the Debugger perspective manually.
				</p>
<p>
					
<span class="italic">In Mars, select the 
						<span class="bold"><strong>DerivationIsVolatile</strong></span> stack line to refresh the selection.
					</span>
				
</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4500-complete-ocl-debugger-image.png"></div>
<p>
				
</p>
<p>Both 
					<span class="bold"><strong>asError</strong></span> and 
					<span class="bold"><strong>hasDerivation</strong></span> are OCL-defined so as you step you successively navigate into the defined property and operation.
				</p>
</div>
<div class="section" title="Console experiments">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="Consoleexperiments"></a>Console experiments</h3>
</div>
</div>
</div>
<p>While debugging, the original OCL expression from the Console is presented in a Complete OCL editor. This editor is readonly so you cannot edit it to correct mistakes or to experiment.</p>
<p>You may however safely use the OCL Console to perform further experiments. Select a suitable self object in the Variable View and cut and paste to prepare your experimental OCL expression.</p>
<p>
					
<span class="italic">In Mars, Console selections cannot be Collections so you are unfortunately restricted to single objects.</span>
				
</p>
</div>
<div class="section" title="Longer range stepping">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="Longerrangestepping"></a>Longer range stepping</h3>
</div>
</div>
</div>
<p>In the examples above we have only used F5 or 
					<span class="bold"><strong>Step Into</strong></span>.
				</p>
<p>In principle the tedious stepping through an iteration can be avoided by F7 or 
					<span class="bold"><strong>Step Return</strong></span> which should terminate on the popped evaluation environment at the end of the iteration. 
					<span class="italic">This facility has not been adequately tested in Mars</span>.
				</p>
<p>If you arrange for some line breaks in your source text you can use F6 or 
					<span class="bold"><strong>Step Next</strong></span> to proceed until the line number advances. 
					<span class="italic">This facility has not been adequately tested in Mars</span>. Line breaks can be added in the OCL Console using Shift and Enter together.
				</p>
</div>
<div class="section" title="Break points">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="Breakpoints"></a>Break points</h3>
</div>
</div>
</div>
<p>When debugging OCL from Complete OCL documents, the original document is a suitable source for the debugger and so line breakpoints can be set. 
					<span class="italic">This facility has not been adequately tested in Mars</span>
				
</p>
</div>
</div>
</body>
</html>
<html id='3167.org_eclipse_ui_themes.html'></html><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Themes</title>
<style type="text/css">@import url("../../book.css");</style>
<style type="text/css">@import url("../../schema.css");</style>
</HEAD>
<BODY>
<H1 style="text-align:center">Themes</H1>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Identifier: </h6>org.eclipse.ui.themes<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Since: </h6>3.0
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">Description: </h6>This extension point is used to customize the appearance of the UI.  It allows definition of color and font entities as well as theme entities.  Themes allow applications to selectively override default color and font specifications for particular uses.<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Configuration Markup:</h6>
<p></p>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.theme">theme</a>* , <a href="#e.colorDefinition">colorDefinition</a>* , <a href="#e.fontDefinition">fontDefinition</a>* , <a href="#e.themeElementCategory">themeElementCategory</a>* , <a href="#e.data">data</a>* , <a href="#e.categoryPresentationBinding">categoryPresentationBinding</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST extension</p>
<p class="code SchemaDtdAttlist">point&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class="ConfigMarkupAttlistDesc">
<li><b>point</b> - a fully qualified identifier of the target extension point</li>
<li><b>id</b> - an optional identifier of the extension instance</li>
<li><b>name</b> - an optional name of the extension instance</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.theme">theme</a> (<a href="#e.colorOverride">colorOverride</a>* , <a href="#e.fontOverride">fontOverride</a>* , <a href="#e.description">description</a>? , <a href="#e.data">data</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST theme</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A collection of font, color and data overrides.  Such a collection may be used to alter the appearance of the workbench.  Many theme elements may exist with the same id.  This allows component authors to contribute to existing themes.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique name that will be used to identify this theme</li>
<li><b>name</b> - a translatable name of the theme to be presented to the user.  At least one theme definition with any given id should contain this attribute.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.themeElementCategory">themeElementCategory</a> (<a href="#e.description">description</a>?)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST themeElementCategory</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">parentId&nbsp;IDREF #IMPLIED</p>
<p class="code SchemaDtdAttlist">class&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">label&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A logical grouping of theme element definitions.  This category may include colors and fonts.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - the id for this category</li>
<li><b>parentId</b> - the id of the parent category, if any.</li>
<li><b>class</b> - a class that implements <code>org.eclipse.ui.themes.IThemePreview</code></li>
<li><b>label</b> - a translatable name of the theme element category to be presented to the user</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.colorDefinition">colorDefinition</a> (<a href="#e.colorFactory">colorFactory</a>? , <a href="#e.colorValue">colorValue</a>* , <a href="#e.description">description</a>?)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST colorDefinition</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">label&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">defaultsTo&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">categoryId&nbsp;&nbsp;&nbsp;IDREF #IMPLIED</p>
<p class="code SchemaDtdAttlist">colorFactory&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">isEditable&nbsp;&nbsp;&nbsp;(true | false) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A symbolic color definition.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique id that can be used to identify this color definition.</li>
<li><b>label</b> - a translatable name of the color to be presented to the user.</li>
<li><b>defaultsTo</b> - the id of another color definition that is the default setting for the receiver. When there is no preference for this color the color registry will have the value of defaultsTo set for it in the registry.

Only one of <code>defaultsTo</code>, <code>value</code> or <code>colorFactory</code> may be defined.</li>
<li><b>value</b> - The default value of this color.  The value may be specified in the following ways:
<ul>
<li>a String containing comma separated integers in the form red,green,blue 
<li>a String that maps to an SWT color constant (ie:  COLOR_RED).
</ul>
Only one of <code>defaultsTo</code>, <code>value</code> or <code>colorFactory</code> may be defined.  If <code>value</code> is specified, additional value definitions may be specified on a per platform/windowing system basis via the <code>colorValue</code> element.</li>
<li><b>categoryId</b> - the optional id of the <code>themeElementCategory</code> this color belongs to.</li>
<li><b>colorFactory</b> - a class that implements <code>org.eclipse.ui.themes.IColorFactory</code>.  This may be used instead of <code>value</code> to specify the default value of the color.  Please be advised that this should be used with caution - usage of this attribute will cause plugin activation on workbench startup.</li>
<li><b>isEditable</b> - whether the user should be allowed to edit this color in the preference page.  If this is <code>false</code> then the contribution is not shown to the user.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.fontDefinition">fontDefinition</a> (<a href="#e.fontValue">fontValue</a>* , <a href="#e.description">description</a>?)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST fontDefinition</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">label&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">categoryId&nbsp;IDREF #IMPLIED</p>
<p class="code SchemaDtdAttlist">defaultsTo&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">isEditable&nbsp;(true | false) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A symbolic font definition.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique name that can be used to identify this font definition.</li>
<li><b>label</b> - a translatable name of the font to be presented to the user.</li>
<li><b>value</b> - <p>the font value.  This is in the form: <code>fontname-style-height</code> where <code>fontname</code> is the name of a font, <code>style</code> is a font style (one of <code>"regular"</code>, <code>"bold"</code>, <code>"italic"</code>, or <code>"bold italic"</code>) and <code>height</code> is an integer representing the font height.</p>
<p>Example: <code>Times New Roman-bold-36</code>.</p>  
<p>Only one (or neither) of <code>value</code> or <code>defaultsTo</code> may be used.</p>  If <code>value</code> is specified, additional value definitions may be specified on a per platform/windowing system basis via the <code>fontValue</code> element.</li>
<li><b>categoryId</b> - the optional id of the <code>themeElementCategory</code> this font belongs to.</li>
<li><b>defaultsTo</b> - the id of another font definition that is the default setting for the receiver. When there is no preference for this font the font registry will have the value of defaultsTo set for it in the registry.
<p>
Only one (or neither) of <code>value</code> or <code>defaultsTo</code> may be used.
</p></li>
<li><b>isEditable</b> - whether the user should be allowed to edit this color in the preference page.  If this is <code>false</code> then the contribution is not shown to the user.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.colorOverride">colorOverride</a> (<a href="#e.colorFactory">colorFactory</a>? , <a href="#e.colorValue">colorValue</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST colorOverride</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDREF #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">colorFactory&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Allows overriding of colors defined in <code>colorDefinition</code> elements.  These colors will be applied when the theme is in use. The colors that are defined by workbench are:

<ul>
<li>org.eclipse.jface.preference.JFacePreference.ERROR_COLOR
<li>org.eclipse.jface.preference.JFacePreference.HYPERLINK_COLOR
<li>org.eclipse.jface.preference.JFacePreference.ACTIVE_HYPERLINK_COLOR
</ul></p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique id that can be used to identify this color definition override.  This should match an existing font identifier.  Strictly speaking, you may override colors that do not exist in the base theme although this practice is not recommended.  In effect, such overrides will have behavior similar to <code>colorDefinition</code>s that have <code>isEditable</code> set to <code>false</code>.</li>
<li><b>value</b> - the overriding value of this color.  The value may be specified in the following ways:
<ul>
<li>a String containing comma separated integers in the form red,green,blue 
<li>a String that maps to an SWT color constant (ie:  COLOR_RED).
</ul>
Only one of <code>value</code> or <code>colorFactory</code> may be defined.
Unlike a <code>colorDefinition</code>, you may not supply a <code>defaultsTo</code> for an override.</li>
<li><b>colorFactory</b> - a class that implements <code>org.eclipse.ui.themes.IColorFactory</code>.  This may be used instead of <code>value</code> to specify the default value of the color.  Please be advised that this should be used with caution - usage of this attribute will cause plugin activation on workbench startup.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.fontOverride">fontOverride</a> (<a href="#e.fontValue">fontValue</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST fontOverride</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;IDREF #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Allows overriding of fonts defined in <code>fontDefinition</code> elements.  These fonts will be applied when the theme is in use. The fonts that are defined by workbench are:

<ul>
<li>org.eclipse.jface.resource.JFaceResources.BANNER_FONT
<li>org.eclipse.jface.resource.JFaceResources.DIALOG_FONT
<li>org.eclipse.jface.resource.JFaceResources.HEADER_FONT
<li>org.eclipse.jface.resource.JFaceResources.TEXT_FONT
</ul></p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique id that can be used to identify this font definition override.  This should match an existing font identifier.  Strictly speaking, you may override fonts that do not exist in the base theme although this practice is not recommended.  In effect, such overrides will have behavior similar to <code>fontDefinition</code>s that have <code>isEditable</code> set to <code>false</code>.</li>
<li><b>value</b> - <p>the overriding value of this font.  This is in the form: <code>fontname-style-height</code> where <code>fontname</code> is the name of a font, <code>style</code> is a font style (one of <code>"regular"</code>, <code>"bold"</code>, <code>"italic"</code>, or <code>"bold italic"</code>) and <code>height</code> is an integer representing the font height.</p>
<p>Example: <code>Times New Roman-bold-36</code>.</p>
<p><code>value</code> must be defined for a font override.
Unlike a <code>fontDefinition</code>, you may not supply a <code>defaultsTo</code> for a <code>fontOverride</code>.</p>

<p>If this value is not specified the default font will be used</p></li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.description">description</a> (#PCDATA)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A short description of the elements usage.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.colorFactory">colorFactory</a> (<a href="#e.parameter">parameter</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST colorFactory</p>
<p class="code SchemaDtdAttlist">class&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">plugin&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
The element version of the <code>colorFactory</code> attribute.  This is used when the colorFactory implements <code>org.eclipse.core.runtime.IExecutableExtension</code> and there is parameterized data that you wish used in its initialization.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - a class that implements <code>org.eclipse.ui.themes.IColorFactory</code>.  It may also implement <code>org.eclipse.core.runtime.IExecutableExtension</code>.</li>
<li><b>plugin</b> - the identifier of the plugin that contains the class</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.parameter">parameter</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST parameter</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A parameter element to be used within the colorFactory element.  This will be passed as initialization data to the colorFactory class.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the parameter name</li>
<li><b>value</b> - the parameter value</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.data">data</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST data</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>An element that allows arbitrary data to be associated with a theme or the default theme.  This data may be gradient directions or percentages, labels, author information, etc.</p>
<p>This element has behavior similar to definitions and overrides.  If a key is present in both the default theme and an identified theme, then the identified themes value will be used when that theme is accessed.  If the identified theme does not supply a value then the default is used.</p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the data name,</li>
<li><b>value</b> - the data value</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.colorValue">colorValue</a> (<a href="#e.colorFactory">colorFactory</a>?)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST colorValue</p>
<p class="code SchemaDtdAttlist">os&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">ws&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">colorFactory&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element allows specification of a color value on a per-platform basis.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>os</b> - an optional os string to enable choosing of color based on current OS. eg: win32,linux</li>
<li><b>ws</b> - an optional os string to enable choosing of color based on current WS. eg: win32,gtk</li>
<li><b>value</b> - The default value of this color.  The value may be specified in the following ways:
<ul>
<li>a String containing comma separated integers in the form red,green,blue 
<li>a String that maps to an SWT color constant (ie:  COLOR_RED).
</ul>
Only one of <code>value</code> or <code>colorFactory</code> may be defined.</li>
<li><b>colorFactory</b> - a class that implements <code>org.eclipse.ui.themes.IColorFactory</code>.  This may be used instead of <code>value</code> to specify the value of the color.  Please be advised that this should be used with caution - usage of this attribute will cause plugin activation on workbench startup.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.fontValue">fontValue</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST fontValue</p>
<p class="code SchemaDtdAttlist">os&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">ws&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element allows specification of a font value on a per-platform basis.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>os</b> - an optional os string to enable choosing of font based on current OS. eg: win32,linux</li>
<li><b>ws</b> - an optional os string to enable choosing of font based on current WS. eg: win32,gtk</li>
<li><b>value</b> - <p>the font value.  This is in the form: <code>fontname-style-height</code> where <code>fontname</code> is the name of a font, <code>style</code> is a font style (one of <code>"regular"</code>, <code>"bold"</code>, <code>"italic"</code>, or <code>"bold italic"</code>) and <code>height</code> is an integer representing the font height.</p>
<p>Example: <code>Times New Roman-bold-36</code>.</p></li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.categoryPresentationBinding">categoryPresentationBinding</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST categoryPresentationBinding</p>
<p class="code SchemaDtdAttlist">categoryId&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDREF #REQUIRED</p>
<p class="code SchemaDtdAttlist">presentationId&nbsp;IDREF #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element allows a category to be bound to a specific presentation as described by the <code>org.eclipse.ui.presentationFactory</code> extension point.  If a category has any presentation bindings then it (and it's children) is only configurable by the user if it is bound to the active presentation.  This is useful for removing unused items from user consideration.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>categoryId</b> - the id of the category to bind</li>
<li><b>presentationId</b> - the id of the presentation to bind to</li>
</ul>
<br><h6 class="CaptionFigColumn SchemaHeader">Examples: </h6>The following is an example of several color and font definitions as well as a theme that overrides them.
<p>
<pre class="Example"><span class="code SchemaTag">
   &lt;extension point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.themes&quot;</span><span class="code SchemaTag">&gt;
      &lt;themeElementCategory
       id=</span><span class="code SchemaCstring">&quot;com.xyz.ThemeCategory&quot;</span><span class="code SchemaTag">
       class=</span><span class="code SchemaCstring">&quot;com.xyz.XYZPreview&quot;</span><span class="code SchemaTag">
       label=</span><span class="code SchemaCstring">&quot;XYZ Elements&quot;</span><span class="code SchemaTag">/&gt;
      &lt;colorDefinition 
        id=</span><span class="code SchemaCstring">&quot;com.xyz.Forground&quot;</span><span class="code SchemaTag">
        categoryId=</span><span class="code SchemaCstring">&quot;com.xyz.ThemeCategory&quot;</span><span class="code SchemaTag">
        label=</span><span class="code SchemaCstring">&quot;XYZ Foreground Color&quot;</span><span class="code SchemaTag">
        value=</span><span class="code SchemaCstring">&quot;COLOR_BLACK&quot;</span><span class="code SchemaTag">&gt;
         &lt;!-- white should be used on GTK --&gt;
         &lt;colorValue
          value=</span><span class="code SchemaCstring">&quot;COLOR_WHITE&quot;</span><span class="code SchemaTag">
          os=</span><span class="code SchemaCstring">&quot;linux&quot;</span><span class="code SchemaTag">
          ws=</span><span class="code SchemaCstring">&quot;gtk&quot;</span><span class="code SchemaTag">/&gt;
        &lt;description&gt;
        This color is used for the foreground color of the XYZ plugin editor.
        &lt;/description&gt;
      &lt;/colorDefinition&gt;
      &lt;colorDefinition 
        id=</span><span class="code SchemaCstring">&quot;com.xyz.Background&quot;</span><span class="code SchemaTag">
        categoryId=</span><span class="code SchemaCstring">&quot;com.xyz.ThemeCategory&quot;</span><span class="code SchemaTag">        
        label=</span><span class="code SchemaCstring">&quot;XYZ Background Color&quot;</span><span class="code SchemaTag">&gt;
        &lt;colorFactory
         class=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.themes.RGBBlendColorFactory&quot;</span><span class="code SchemaTag">
         plugin=</span><span class="code SchemaCstring">&quot;org.eclipse.ui&quot;</span><span class="code SchemaTag">&gt;
         &lt;parameter
          name=</span><span class="code SchemaCstring">&quot;color1&quot;</span><span class="code SchemaTag">
          value=</span><span class="code SchemaCstring">&quot;COLOR_WHITE&quot;</span><span class="code SchemaTag">/&gt;
         &lt;parameter
          name=</span><span class="code SchemaCstring">&quot;color2&quot;</span><span class="code SchemaTag">
          value=</span><span class="code SchemaCstring">&quot;COLOR_BLUE&quot;</span><span class="code SchemaTag">/&gt;         
        &lt;/colorFactory&gt;
        &lt;!-- black should be used on GTK --&gt;
        &lt;colorValue
         value=</span><span class="code SchemaCstring">&quot;COLOR_BLACK&quot;</span><span class="code SchemaTag">
         os=</span><span class="code SchemaCstring">&quot;linux&quot;</span><span class="code SchemaTag">
         ws=</span><span class="code SchemaCstring">&quot;gtk&quot;</span><span class="code SchemaTag">/&gt;
        &lt;description&gt;
        This color is used for the background color of the XYZ plugin editor.
        &lt;/description&gt;
      &lt;/colorDefinition&gt;      
      &lt;fontDefinition
        id=</span><span class="code SchemaCstring">&quot;com.xyz.TextFont&quot;</span><span class="code SchemaTag">
        categoryId=</span><span class="code SchemaCstring">&quot;com.xyz.ThemeCategory&quot;</span><span class="code SchemaTag">        
        label=</span><span class="code SchemaCstring">&quot;XYZ Editor Font&quot;</span><span class="code SchemaTag">
        defaultsTo=</span><span class="code SchemaCstring">&quot;org.eclipse.jface.textfont&quot;</span><span class="code SchemaTag">&gt;
        &lt;description&gt;
        This font is used by the XYY plugin editor.
        &lt;/description&gt;
      &lt;/fontDefinition&gt;
      &lt;data
       name=</span><span class="code SchemaCstring">&quot;com.xyz.EditorMarginWidth&quot;</span><span class="code SchemaTag">
       value=</span><span class="code SchemaCstring">&quot;5&quot;</span><span class="code SchemaTag">/&gt;      
      &lt;theme
        id=</span><span class="code SchemaCstring">&quot;com.xyz.HarshTheme&quot;</span><span class="code SchemaTag">
        label=</span><span class="code SchemaCstring">&quot;Harsh Colors for XYZ&quot;</span><span class="code SchemaTag">&gt;
        &lt;colorOverride
         id=</span><span class="code SchemaCstring">&quot;com.xyz.Forground&quot;</span><span class="code SchemaTag">
         value=</span><span class="code SchemaCstring">&quot;COLOR_CYAN&quot;</span><span class="code SchemaTag">/&gt;
        &lt;colorOverride
         id=</span><span class="code SchemaCstring">&quot;com.xyz.Background&quot;</span><span class="code SchemaTag">
         value=</span><span class="code SchemaCstring">&quot;COLOR_MAGENTA&quot;</span><span class="code SchemaTag">/&gt;
      &lt;data
           name=</span><span class="code SchemaCstring">&quot;com.xyz.EditorMarginWidth&quot;</span><span class="code SchemaTag">
           value=</span><span class="code SchemaCstring">&quot;1&quot;</span><span class="code SchemaTag">/&gt;      
      &lt;/theme&gt;        
   &lt;/extension&gt; 
</span></pre>
</p>
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">API Information: </h6>The <code>org.eclipse.ui.IWorkbench.getThemeManager()</code> provides an instance of <code>org.eclipse.ui.themes.IThemeManager</code> that may be used to obtain a named theme (by id, including the default theme which has an id of <code>IThemeManager.DEFAULT_THEME</code>) or the current theme.  From an <code>org.eclipse.ui.themes.ITheme</code> you may obtain a <code>org.eclipse.jface.resources.ColorRegistry</code>, an <code>org.eclipse.jface.resources.FontRegistry</code> and the arbitrary data associated with a theme.
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">Supplied Implementation: </h6>The workbench provides the font definitions for the text, dialog, banner, header and part title fonts.  it also supplies color definitions for the hyperlink, active hyperlink, error, active part (background gradient parts and foreground) and the inactive part (background gradient parts and foreground).  The workbench also provides data constants for the title gradient percentages (active and inactive) and the gradient directions (active and inactive).  The workbench does not provide any named themes.
<p></p>

<br>
<p class="note SchemaCopyright">
Copyright (c) 2003, 2006 IBM Corporation and others.<br>
All rights reserved. This program and the accompanying materials are made
available under the terms of the Eclipse Public License v1.0 which accompanies
this distribution, and is available at <a 
href="http://www.eclipse.org/legal/epl-v10.html">http://www.eclipse.org/legal/epl-v10.html</a>

</p>
</BODY>
</HTML>
<html id='3035.sync.html'></html><html>
<head>
<title>Synchronized Projects</title>
<link rel="stylesheet" type="text/css" href="help.css">
<script type="text/javascript" src="thumb.js"> </script>
</head> 
<body>
<h1 id="top">Synchronized Projects</h1>
<p>
<ul>
<li><a href="#prereq">Requirements for Synchronized Projects</a>
<li><a href="#create">Creating a new Synchronized Project</a>
<li><a href="#work">Working with a Synchronized Project</a>
<li><a href="#context-menu">Changing sync behavior with the Sync Context Menu</a>
<li><a href="#file-filter">Changing which files are synchronized with File Filtering</a>
<li><a href="#conversion-wizard">Converting a project to a Synchronized Project</a>
<li><a href="#merge-conflict">Resolving merge conflicts</a>
<li><a href="#remote-discovery">Discovering the remote environment (remote includes and code analysis)</a>
<li><a href="#prefs">Sync Preferences</a>
</ul>
<p>Synchronized projects consist of files that are mirrored on the local system as well as on one or more remote systems.
Editing occurs locally and each file is synchronized with the currently active remote system when it is changed, created, or deleted.  
This enables faster interaction with the files
and editor, more CDT editor features since the files are local, and continued interaction for editing etc. if the network
connection is lost.
<p>For an overview of the different types of projects (Local, Synchronized, and Remote) see 
<a href="localVsRemote.html">Introduction to PTP Project Types</a>.
<p>
<h2 id=prereq>Requirements for Synchronized Projects</h2>
<p>To host a synchronized project, the remote system must support the <a href="http://git-scm.com/">Git</a> distributed version control system.
Note that this is completely independent of using <a href="http://git-scm.com/">Git</a> for source code control.

<h2 id=create>Creating a new Synchronized Project</h2>
<p>To start, we assume you are in the <b>C/C++ Perspective</b>.
<p>If not already there, switch to the C/C++ Perspective using <b>Window &gt; Open Perspective &gt; Other...</b>  and then choose 
<b>C/C++</b></p> 

<p>To create a new Synchronized Project, first select an appropriate wizard:</p>
Select <b>File > New > Other...</b>
then in the wizard selection dialog, select <b>Remote > Synchronized C/C++ Project</b>, <b>Synchronized Fortran Project</b>, or <b>Synchronized Project</b> for synchronization only without support for a specific language.
<p><br></p>
<p><img src="images/sync-newproj.png">
<p><br></p>
<p>Or, from the context menu (right-mouse) in the Project Explorer of the C/C++ Perspective,
select <b>New > Synchronized C/C++ Project</b>, <b>Synchronized Fortran Project</b>, or <b>Synchronized Project</b> for synchronization only without support for a specific language.
<p><br></p>
<p><img src="images/sync-newprojContext.png">
<p><br></p>
<p id="new-sync-proj">Now fill out the <b>New Synchronized Project</b> dialog shown. 
The dialog for a generic <b>Synchronized Project</b> (synchronization only) will not contain the lower portion for selecting project types and toolchains.

<p>
<img src="images/sync-newprojCreate.png">

<p><br></p>
Fill in a name for the project.
For <b>Local Directory</b> give the project name and location, most probably the default location
within the local workspace directory.
Then give a remote location by specifying a <a href="#connection">connection</a> and remote directory.
Next, specify the project type. Finally, select toolchains to be used for remote and local sites.
Normally, you will select only one toolchain for each, but it is possible to select additional toolchains.
<i>Note that a local toolchain is not required if you do not need to build locally.</i>
<p>File filtering specifies which files will be synchronized between the local machine and the remote target.
The default can be altered for this new project
via the <b>Modify File Filtering...</b> button.  By default, eclipse-related files such as <code>.project</code>
are not synchronized between the local and the remote system.  Binary files are.  
See <a href="#file-filter">File Filtering</a>
for more information.  See <a href="#prefs">Sync Preferences </a> for information on how to modify the default behavior 
for subsequent new synchronized projects.
<p>
At this point you may select <b>Finish</b> to complete project setup with defaults for the
remainder of the options.
<p>Alternatively, you may 
select <b>Next</b> to scroll through the remaining pages, which differ based on the selected project types and toolchains.
This includes the configuration page, which will list a separate build configuration for each toolchain selected earlier.
<p><br></p>
<!-- <p><img src="images/sync-newprojConfig.png"> -->
<p><img src="images/sync-newprojConfig.png">
<p><br></p>
From here, you can configure build properties. (This can also be done after the project is created.)
Note that if you select the same toolchain for both local and remote, only one configuration is shown.
During project creation, this configuration will be duplicated, creating one for local and another for remote.
<p>
If you then select <b>Next ></b> instead of <b>Finish</b>, the <b>Default Build Configurations</b> page appears. See <a href="#work">Working with a Synchronized Project</a> for more information on sync configs and build configs.
<p><img src="images/sync-build-config.png"></p>
<p>&nbsp;
<p>Select <b>Finish</b> to end the New Project Wizard.
<p>&nbsp;
<h3 id="connection">Creating a remote connection</h3>
On the first wizard page, the <b>New...</b> button can be used to create a new remote connection.
Fill in host name, user, and password (or other authentication information).
Select <b>Finish</b>.  The connection is not tested until you return to the previous dialog
and select the <b>Browse...</b> button or some other communication is required.
<p><br></p>
<p><img src="images/sync-newprojConnection.png">
<p>Note: To edit connection information after a connection has been created, e.g. to change user name or password, see
<a href="remoteTools.html#edit">Editing Remote Connections</a>.<p>
<br></p>

<h2 id="work">Working with a Synchronized Project</h2>
<p>In Eclipse Kepler (PTP 7.0), the settings for synchronization and for building have been separated. For the former, <b>sync configurations</b> are used and are available in all synchronized projects. These are used mainly to specify where (machine and directory) local files should be synchronized. For building, <b>build configurations</b> are used and are only available for synchronized C, C++, or Fortran projects. They are used to configure build parameters, such as the compiler and compiler options. These two configuration types operate mostly independently, and sync'ing or building always uses the current <b>active sync configuration</b>  or <b>active build configuration</b>, respectively.

<p>The only dependence is that builds occur, by default, at the location specified by the active sync configuration. Also, you can specify a default build configuration for each sync configuration. When switching to a different sync configuration, its default build configuration is automatically selected. This is only for convenience, so that two settings do not need to be changed when switching to a different remote. You can also change the build configuration independently of the sync configuration. It is common to have multiple types of builds, say a "debug" and a "release" build, for the same source location or even to use the same build configuration for multiple remote locations (sync configurations).

<p>The starting sync configuration will be for the remote system with its default build configuration, if selected in the wizard.
Thus, for the most common case (a single remote site to be modified and built), a synchronized project works out-of-the-box.
If the remote location does not exist, it is created. Otherwise, the files in that directory will be synchronized to the local workspace.
Edit the files as you would any local project.
Each time you save a file, it will be synchronized with the remote system.
If you create or delete files, the remote system will be updated appropriately.
Note that a local sync config is always created for convenience, even if no local tool chain was selected.
It provides a simple way to disable all remote operations and work locally without changing other sync settings.
</p>
<p>
To build the project (assuming you have already created a makefile), make sure the project is selected in the <b>Project Explorer</b> view, then click
on the build icon (the icon that looks like a hammer). The Console view shows the results of the build.
<p>For more examples of creating and building a simple new Synchronized project, see
<a href="01buildMPIprog.html">Introduction to Creating MPI Projects</a>.
</p>
<p>
For more information on build configurations, sync configurations, etc. see
<a href="build.html#syncConfig">Sync Configurations</a> on the 
<a href="build.html">Building Synchronized Projects</a> page.

<h2 id="context-menu">Changing sync behavior with the Sync Context Menu</h2>
<p>The sync context menu lets you view or alter several properties related to the sync behavior.
To access the sync context menu, right-click on the project in the <b>Project Explorer</b> view and 
move down to the <b>Synchronize</b> sub-menu.
<p><img src="images/sync-contextMenu.png"></p>
<p>
From this menu, you can force a synchronization immediately for the active sync configuration,
Set the active sync configuration, Manage configurations (sync configurations and their associated build configurations),
force a sync of all the sync configs, etc.
<b>Auto-sync (Global)</b> and <b>Auto-sync Settings</b> allow you to alter the behavior of automatic sync'ing
for all projects or per project.
<p> 
Prior to a build, files are always updated with a forced sync of only the active configuration, regardless of any settings. This ensures that the build is based on the latest revisions. Another sync may occur after the build to update files, since the build may alter the remote files during compilation. (This sync, however, does respect the user's settings.) 
See "<a href="#file-filter">File Filtering: Changing which files are synchronized</a>" for information on the "Filter..." option.



<h2 id="file-filter">File Filtering: Changing which files are synchronized</h2>
<p>By default, all files are usually synchronized.
<p>But some files do not need to be synchronized between local and remote locations. 
For example, binaries may not be of use on the local machine (and may be large and slow to replicate), but source files usually are
since they are usually edited from the local Eclipse workbench but used to build on the remote target system. 
<p>From the "Filter..." option of the <a href="#context-menu">sync context menu</a>,
<p><img src="images/sync-filter-menu.png"></p>
you can change which files are synchronized for the current project. 

You can also change the default settings for future projects on the 
<a href="#prefs">Synchronized Projects preference page</a>. 
By default, files and directories specifically used by Eclipse are excluded from synchronization. 
(Note that these files, such as <code>.project</code> and <code>.project</code> etc.  are normally not visible.)
<p>Sync filtering information is accessible in three places:
<ol>
<li>The <b>Configure Synchronize Project Filters</b> dialog (sync filter dialog) for existing projects, available from the sync context menu shown above,
is shown below.  It shows settings and what it does to files in the currently selected existing project
<li>The <b>File Filters</b> popup dialog from the 
<a href="#new-sync-proj">new synchronized project dialog</a> (from the <b>Modify File Filtering...</b> button)
allows setting sync filter settings as a project is created, and 
<li>The <q href="#sync-prefs">Sync Filters Preference page</a> sets defaults that will be used in new projects.
</ol>
<p>Parts of the <b>Configure Synchronize Project Filters</b> dialog for an existing project:
<ul>
<li>The <b>files/folders</b> list at the top indicates the currently excluded and included directories and files 
for the currently selected project.
(Not included on the <a href="#prefs">Sync Preferences</a> page.)
You can select (include) or unselect (exclude) individual files and folders, which will add a corresponding pattern to the <b>Patterns</b> area.
<li>The <b>Patterns</b> area near the bottom shows the current exclude and include patterns. Patterns
can be added, edited, or removed.  The results will be shown above in the files/folders list.
</ul>
<p><img src="images/sync-filter-dialog.png">
<p>
Each part of the dialog updates automatically if the other part is changed, so that they are always in agreement. 
This allows you to see immediately the effect of adding a new pattern. 
By default, remote files are not shown. Showing remote files may lead to a slower response time while updating views. 
Check <b>Show remote files</b> if you wish to view them.
An error message is shown if the remote system is disconnected.
<p>
<p>To enter a new pattern, select the <b>Add...</b> button. 
The <b>Add Pattern</b> dialog appears.
<p><img src="images/sync-filter-add-dialog.png"></p>
<p>In the <b>Pattern:</b> field, enter a pattern which uses Git syntax (gitignore)
<ul>
<li>support for fnmatch (*,?,[])
<li>filtering of directories ignores all files inside
<li>last pattern has highest precedence
<li>path ends in / matches only directory
</ul>
<p>Select the radio button beneath the <b>Pattern:</b> field
to indicate whether the pattern should be included or excluded in the synchronization.  Default is excluded.


<p>
Patterns are applied in the order given in the patterns area of the 
<b>Configure Synchronize Project Filters</b> dialog. 
New patterns are  placed at the bottom (highest precedence). 
So a file will be excluded or included based on the first matching pattern, or included if no pattern matches. 
Use the "Move Up" and "Move Down" buttons to change a pattern's priority. 
If a new pattern is identical to an old pattern, the old pattern is removed. 
Note that it doesn't matter whether the old pattern was an exclude or include pattern, since the new pattern supersedes it.

<p>For example, to exclude <code>*.o</code> files from synchronization 
(e.g. they are built on the remote system but you do not want them copied back to the local directory),
Select the <b>Add...</b> button in the patterns area of the <b>Configure Synchronize Project Filters</b> dialog.
<p>Type <code>*.o</code> in the pattern field and make sure that <b>Exclude</b> is selected for the <b>Pattern Type</b>.
<p><img src="images/sync-filter-add-dialog-dot-o.png"></p>
<p>Then select the <b>OK</b> button.  The new filter will appear in the patterns area of the 
<b>Configure Synchronize Project Filters</b> dialog, and the <code>*.o</code> files are no longer included in
the synchronization.
<p><img src="images/sync-filter-add-dialog-dot-o-results.png"></p>
<p>You can move the priority up or down, edit the pattern, etc. with the buttons.
<p>
<p>Hit <b>OK</b> to save any changes you have made to the sync filtering.

<h2 id="conversion-wizard">Converting a project to a Synchronized Project</h2>
<p>
The conversion wizard allows you to convert any project type to a synchronized project.
Currently only local projects can be converted.
To convert a project, right-click in the <b>Project Explorer</b> view and select <b>New > Other...</b> 
In the wizard selection dialog, select <b> Remote > Convert to Synchronized Project</b> and select <b>Next></b>.
<p><img src="images/sync-selectConversionWizard.png"></p>

<p>
From this dialog, you can select a project to convert. 
<p><img src="images/sync-conversionWizard.png"><p>
<p>Select a local project to convert it to a synchronized project.
Select a connection (or <a href="remoteTools.html#create"></a>create a new connection</a>.)
<p>Select <b>Next></b> and in the next dialog, select the default Build Configurations for each Sync Configuration (only for C, C++, or Fortran projects).
<p><img src="images/sync-conversionWizard2.png"><p>
<p>Select <b>Finish</b> and the project is synchronized (copied) to the remote system specified by the connection.

<h2 id="merge-conflict">Resolving merge conflicts</h2>
<p>
A "merge conflict" can occur, in general, when merging two different versions of a file into a single version. There may be disagreement, for various reasons, on what the final version should be. For synchronized projects, merge conflicts do not occur during normal use, because the underlying system knows that local file changes are updates to older remote versions, or vice versa. Merge conflicts may occur, however, if files are changed both locally and remotely without an intervening sync, because the next sync may not know how to merge the two versions. (It is a good idea to sync after making remote changes before resuming work in Eclipse.) When a conflict is detected, the following dialog appears:

<p><br></p>
<p><img src="images/sync-mergeConflictDialog.png">
<p><br></p>

You can open the merge conflict view from this dialog or from <b>Window > Show View > Other..</b> and then <b>Remote Development > Synchronized Merge View</b>. 
The <b>Synchronized Merge View</b> (probably at the bottom of the workbench window)
shows a list of conflicting files. (You may need to select the project in Project Explorer if the viewer is empty.) 
Double-click a file in the <b>Synchronized Merge View</b> to bring up a "compare editor" where differences can be viewed and conflicts resolved. In this editor, the left pane shows the local file, which has been marked up to show conflicts, and the right pane shows the remote file. The "ancestor" file optionally appears above these two panes and can be toggled on or off using the editor's leftmost icon. The ancestor is the last known version of the file from which both local and remote are derived. Also note that right-clicking the file in the viewer brings up a context menu from which certain options can be selected (discussed below).

<p><br></p>
<p><img src="images/sync-mergeConflictResolve.png">
<p><br></p>

In the compare editor, editing the left pane edits the local version of the file. The compare editor is only for convenience. You can also edit the file from the normal Eclipse text editor. When finished editing, be sure to save the file and then select <b>Mark as resolved</b> from the context menu in the <b>Synchronized Merge View</b>. This version will be copied to the remote site on the next sync. Do the same for each conflicted file. Sync'ing is blocked until all conflicts have been resolved. Instead, the merge-conflict dialog will appear. (Click the checkbox in the merge-conflict dialog to disable it until the merge is resolved.) It is a good idea to sync manually after resolving the merge to push the edits to the remote system.
To sync manually, select the project in the <b>Project Explorer</b> view and click right-mouse, <b>Synchronize > Sync Active Now</b>.
<p>
After a merge conflict, the local file has markers and annotation added to show the differing content on the local and remote sites. This is useful for editing the file by itself, but not so much for using the compare editor. Select <b>Reset to version before merge</b> in the context menu of the <b>Synchronized Merge View</b> to revert the local file to its prior version. Now the compare editor will show clearly the differences between local and remote. Sometimes you may simply want the remote version of the file. Selecting <b>Resolve as remote</b> makes the local file identical to the remote version and then marks it as resolved.

<h2 id="remote-discovery">Discovering the remote environment (remote includes and code analysis)</h2>
<h3>Introduction</h3>
Modern software projects almost always depend on external code, macros, and variables, which are introduced into source code through include directives and various compiler commands and settings. We refer to all of these external elements as the project's "environment." Detecting this environment is a difficult problem but essential in order for Eclipse to provide useful code assistance (bug highlighting, code navigation, etc.) It is difficult because this environment is partially built into the compiler and partially "discovered" by the compiler while building. CDT has a long history of developing <b><i>scanner discovery</i></b> to solve this problem and recently unveiled a redesign of the discovery mechanism. Synchronized projects extends this new redesign so that discovery can reflect the environment of the current remote machine (as specified by the active build configuration). At the moment, only the GCC compiler is supported. Note that CDT still makes available the old method of scanner discovery, but it has not been extended to work with synchronized projects.
<p>
The elements discovered by scanner discovery are used by the CDT <i>indexer</i> and the CDT <i>Codan (CODe ANalysis)</i> tool. The former is a potentially long-running task that gathers information about all of the source code components (variables, functions, classes, etc.) Codan then uses this information to analyze and potentially mark up source files with various bug reports and warnings. 
Each of these three components (discovery, indexing, and Codan) run independently and at different times. 
In addition, the build process may produce markers for compiler errors in the <b>Problems</b> view.
Codan uses an icon that resembles a bug, which distinguishes it from the more traditional icons used by the build system. (Due to the complexity of analyzing C++, it frequently occurs that programs will compile while still showing Codan markings. This can be due to problems in discovery, indexing, or code analysis.)
<p>
<h3>Setup</h3>
<p>Note: also related:
<a href="includes.html">Include files for Synchronized Projects</a>
<p>
By default, a synchronized project uses the normal CDT discovery mechanism, which reads the local environment. To configure the new discovery elements, follow these instructions after creating a new synchronized project.

Go to <b>Project > Properties > C/C++ General > Preprocessor Include Paths, Macros etc.</b> Make sure the remote configuration is selected at the top of the dialog. Under the Providers tab, deselect all CDT providers, except for "CDT User Setting Entries" if you would like to enter your own paths. Next, select the two Sync providers, "Sync GCC Build Output Parser" and "Sync GCC Builtin Compiler Settings." The latter provider runs a specially-crafted compiler command to get compiler-specific settings. It will run immediately after "OK" is selected. The former provider will execute simultaneously with builds. It intercepts the build output and attempts to find environment information. Thus, a build must be run before this provider is useful.
<p>
Now, make sure that indexing is enabled and invoke a remote build. In order for the build output parser to be useful, builds must produce verbose output. The method for setting up such a build varies per project, but see the <a href="https://developer.mozilla.org/en-US/docs/Eclipse_CDT">Mozilla Project CDT setup page</a> for a good example. Repeat these steps for each remote build configuration. For local configurations, both the standard CDT or new Sync providers should work. If you would like the environment to update automatically when build configurations are switched, go to <b>Project > Properties > C/C++ General > Indexer</b> and select "Use active build configuration" for "Build configuration for the indexer." The downside of this is that the indexer will run each time you switch configurations.

<p><br></p>
<p><img src="images/sync-discoveryDialog.png">
<p><br></p>

<h3>Results</h3>
The list of discovered paths and macros can be found under the Entries tab on the above page. Note that the connection name is prepended for remote includes (UNC notation). When adding your own entries, you can use this same notation to specify a path on a remote machine or a local path by leaving off the connection name. (Thus, remote configurations can use local paths and vice versa.)
<p>
By default, the build output parser discovers entries per file. This can be changed under the <b>Providers</b> tab (see above figure). If discovery is per file, though, the list of includes and macros will be empty if accessed from the project menu or by right-clicking on the project or a folder and selecting <b>Properties.</b> Instead, right-click on an individual file and select <b>Properties</b> to see the entries for that particular file.

<!-- FIXME end not changed to here -->
<h3 id="prefs">Sync Preferences</h3>
<p>The preferences page for Synchronized projects includes setting defaults for sync 
<a href="#file-filter">filtering</a>.
<p><img src="images/sync-prefs.png">
<p>See also <a href="07ptpPrefs.html">PTP Preferences</a>.
<p>&nbsp;
<h3>Tips</h3>
<dl>
<li>The indexing of source files can take a long time. You may want to cancel the process or disable indexing altogether until the above setup is complete (<b>Project > Properties > C/C++ General > Indexer</b>)</li>
<li>The <b>Indexer</b> page also has some useful settings for fine-tuning the indexer.</li>
<li>To re-index, right-click on the project and select <b>Indexer > Rebuild</b></li>
<li>In the Providers tab (not the Entries tab), use the Clear Entries button to erase entries for a specific provider. Doing this is often necessary after creating a new configuration for a different remote. The entries for the copied configuration are copied to the new configuration.</li>
<li>The build output parser operates on build output lines containing the name of the compiler executable. Under the provider tab, change the "Compiler command pattern" (see above figure) if it does not match your executable name. For example, if you are using MPI your executable may be "mpicc," "mpic++," or "mpiCC." Be careful to mimic the regular expression format. For example, to add "mpic++" append: |(mpic\+\+) to the pattern.</li>
<li>If switching configurations does not alter the environment, double-check the Indexer "Build configuration for the indexer" setting. For some reason, it will sometimes reset to use a fixed configuration, such as when Eclipse is restarted.</li>
</dl>

<p>See also 
<a href="http://wiki.eclipse.org/PTP/sync-projects">Synchronized Projects usage info on the PTP Wiki page</a>
for more information on synchronized projects.

<p>&nbsp;<p>&nbsp;<p>&nbsp;

<p>See <a href="localVsRemote.html">Local Vs. Remote Projects</a> for more information on the different kinds of local and remote projects. <p>&nbsp;
<p><a href="#top">Back to Top</a> | <a href="toc.html">Back to Table of Contents</a>
</body>

</html>
<html id='0572.index.html'></html><!doctype html public "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
<title>User's Guide (CDO Model Repository Documentation)</title>

<link rel="stylesheet" href="../book.css" charset="UTF-8" type="text/css">

<noscript></noscript>
<script type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="User's Guide (CDO Model Repository Documentation)";
    }
}
</script>
</head>

<body bgcolor="white" onload="windowTitle();">
<!-- <div class="help_breadcrumbs breadcrumbs_top"><a href="../Overview.html" title="CDO Model Repository Documentation">CDO Model Repository Documentation</a></div> -->

<table border="0">
	<tr>
		<td width="100%"><h1>User's Guide</h1></td>
		<td align="right" valign="middle" nowrap><a href="../Overview.html" title="Backward to Overview"><img src="../../images/backward.png" border="0"></a>&nbsp;<a href="Doc01_UserInterface.html" title="Forward to Elements of the User Interface"><img src="../../images/forward.png" border="0"></a></td>
	</tr>
</table>
<p>
<table border="0">
<tr><td><img src="../../images/article.gif">&nbsp;</td><td class="te" colspan="5"><a href="Doc01_UserInterface.html" title="Article in CDO Model Repository Documentation">Elements of the User Interface</a></td></tr>
<tr><td></td><td>1&nbsp;</td><td class="te" colspan="4"><a href="Doc01_UserInterface.html#Doc_ExplorerPerspective" title="Chapter in CDO Model Repository Documentation">CDO Explorer Perspective</a></td></tr>
<tr><td></td><td>2&nbsp;</td><td class="te" colspan="4"><a href="Doc01_UserInterface.html#Doc_RepositoriesView" title="Chapter in CDO Model Repository Documentation">CDO Repositories View</a></td></tr>
<tr><td></td><td>3&nbsp;</td><td class="te" colspan="4"><a href="Doc01_UserInterface.html#Doc_AdministrationView" title="Chapter in CDO Model Repository Documentation">CDO Administration View</a></td></tr>
<tr><td></td><td>4&nbsp;</td><td class="te" colspan="4"><a href="Doc01_UserInterface.html#Doc_CollaborationView" title="Chapter in CDO Model Repository Documentation">CDO Collaboration View</a></td></tr>
<tr><td></td><td>5&nbsp;</td><td class="te" colspan="4"><a href="Doc01_UserInterface.html#Doc_WatchListView" title="Chapter in CDO Model Repository Documentation">CDO Watch List View</a></td></tr>
<tr><td></td><td>6&nbsp;</td><td class="te" colspan="4"><a href="Doc01_UserInterface.html#Doc_TimeMachineView" title="Chapter in CDO Model Repository Documentation">CDO Time Machine View</a></td></tr>
<tr><td></td><td>7&nbsp;</td><td class="te" colspan="4"><a href="Doc01_UserInterface.html#Doc_SessionsView" title="Chapter in CDO Model Repository Documentation">CDO Sessions View</a></td></tr>
<tr><td></td><td>8&nbsp;</td><td class="te" colspan="4"><a href="Doc01_UserInterface.html#Doc_ServerBrowser" title="Chapter in CDO Model Repository Documentation">CDO Server Browser</a></td></tr>
<tr><td></td><td>9&nbsp;</td><td class="te" colspan="4"><a href="Doc01_UserInterface.html#Doc_CheckoutWizard" title="Chapter in CDO Model Repository Documentation">CDO Checkout Wizard</a></td></tr>
<tr><td></td><td>10&nbsp;</td><td class="te" colspan="4"><a href="Doc01_UserInterface.html#Doc_ModelEditor" title="Chapter in CDO Model Repository Documentation">CDO Model Editor</a></td></tr>
<tr><td></td><td>11&nbsp;</td><td class="te" colspan="4"><a href="Doc01_UserInterface.html#Doc_ProjectExplorerIntegration" title="Chapter in CDO Model Repository Documentation">Project Explorer Integration</a></td></tr>
<tr><td></td><td>12&nbsp;</td><td class="te" colspan="4"><a href="Doc01_UserInterface.html#Doc_PropertySheetIntegration" title="Chapter in CDO Model Repository Documentation">Property Sheet Integration</a></td></tr>
<tr><td></td><td>13&nbsp;</td><td class="te" colspan="4"><a href="Doc01_UserInterface.html#Doc_HistoryIntegration" title="Chapter in CDO Model Repository Documentation">History Integration</a></td></tr>
<tr><td></td><td>14&nbsp;</td><td class="te" colspan="4"><a href="Doc01_UserInterface.html#Doc_CompareIntegration" title="Chapter in CDO Model Repository Documentation">Compare Integration</a></td></tr>
<tr><td></td><td>15&nbsp;</td><td class="te" colspan="4"><a href="Doc01_UserInterface.html#Doc_FormsIntegration" title="Chapter in CDO Model Repository Documentation">Forms Integration</a></td></tr>
<tr><td></td><td>16&nbsp;</td><td class="te" colspan="4"><a href="Doc01_UserInterface.html#Doc_PreferencePages" title="Chapter in CDO Model Repository Documentation">Preference Pages</a></td></tr>
<tr><td><img src="../../images/article.gif">&nbsp;</td><td class="te" colspan="5"><a href="Doc02_ManagingRepositories.html" title="Article in CDO Model Repository Documentation">Managing Repositories</a></td></tr>
<tr><td></td><td>1&nbsp;</td><td class="te" colspan="4"><a href="Doc02_ManagingRepositories.html#Doc_CreatingRepositories" title="Chapter in CDO Model Repository Documentation">Creating Repositories and Connections</a></td></tr>
<tr><td></td><td></td><td>1.1&nbsp;</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_RemoteRepositories" title="Chapter in CDO Model Repository Documentation">Connecting to Remote Repositories</a></td></tr>
<tr><td></td><td></td><td>1.2&nbsp;</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_CloneRepositories" title="Chapter in CDO Model Repository Documentation">Cloning Master Repositories</a></td></tr>
<tr><td></td><td></td><td>1.3&nbsp;</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_LocalRepositories" title="Chapter in CDO Model Repository Documentation">Creating Local Repositories</a></td></tr>
<tr><td></td><td>2&nbsp;</td><td class="te" colspan="4"><a href="Doc02_ManagingRepositories.html#Doc_RenamingConnections" title="Chapter in CDO Model Repository Documentation">Renaming Repository Connections</a></td></tr>
<tr><td></td><td>3&nbsp;</td><td class="te" colspan="4"><a href="Doc02_ManagingRepositories.html#Doc_DeletingConnections" title="Chapter in CDO Model Repository Documentation">Deleting Repository Connections</a></td></tr>
<tr><td></td><td>4&nbsp;</td><td class="te" colspan="4"><a href="Doc02_ManagingRepositories.html#Doc_ConnectingDisconnecting" title="Chapter in CDO Model Repository Documentation">Connecting and Disconnecting Repositories</a></td></tr>
<tr><td></td><td>5&nbsp;</td><td class="te" colspan="4"><a href="Doc02_ManagingRepositories.html#Doc_RepositoryShowIn" title="Chapter in CDO Model Repository Documentation">Showing Repositories in Other Views</a></td></tr>
<tr><td></td><td></td><td>5.1&nbsp;</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_RepositoryShowInSessions" title="Chapter in CDO Model Repository Documentation">Showing Repositories in the CDO Sessions View</a></td></tr>
<tr><td></td><td></td><td>5.2&nbsp;</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_RepositoryShowInServerBrowser" title="Chapter in CDO Model Repository Documentation">Showing Repositories in the CDO Server Browser</a></td></tr>
<tr><td></td><td></td><td>5.3&nbsp;</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_RepositoryShowInProperties" title="Chapter in CDO Model Repository Documentation">Showing Repositories in the Properties View</a></td></tr>
<tr><td></td><td></td><td>5.4&nbsp;</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_RepositoryShowInHistory" title="Chapter in CDO Model Repository Documentation">Showing Repositories in the History View</a></td></tr>
<tr><td></td><td></td><td>5.5&nbsp;</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_RepositoryShowInProjectExplorer" title="Chapter in CDO Model Repository Documentation">Showing Repositories in the Project Explorer</a></td></tr>
<tr><td></td><td></td><td>5.6&nbsp;</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_RepositoryShowInSystemExplorer" title="Chapter in CDO Model Repository Documentation">Showing Repositories in the System Explorer</a></td></tr>
<tr><td><img src="../../images/article.gif">&nbsp;</td><td class="te" colspan="5"><a href="Doc03_UsingBranches.html" title="Article in CDO Model Repository Documentation">Working with Branches</a></td></tr>
<tr><td></td><td>1&nbsp;</td><td class="te" colspan="4"><a href="Doc03_UsingBranches.html#Doc_CreatingBranches" title="Chapter in CDO Model Repository Documentation">Creating Branches</a></td></tr>
<tr><td></td><td>2&nbsp;</td><td class="te" colspan="4"><a href="Doc03_UsingBranches.html#Doc_RenamingBranches" title="Chapter in CDO Model Repository Documentation">Renaming Branches</a></td></tr>
<tr><td></td><td>3&nbsp;</td><td class="te" colspan="4"><a href="Doc03_UsingBranches.html#Doc_DeletingBranches" title="Chapter in CDO Model Repository Documentation">Deleting Branches</a></td></tr>
<tr><td></td><td>4&nbsp;</td><td class="te" colspan="4"><a href="Doc03_UsingBranches.html#Doc_BranchShowInHistory" title="Chapter in CDO Model Repository Documentation">Showing Branches in the History View</a></td></tr>
<tr><td><img src="../../images/article.gif">&nbsp;</td><td class="te" colspan="5"><a href="Doc04_CheckingOut.html" title="Article in CDO Model Repository Documentation">Checking Out from Repositories</a></td></tr>
<tr><td></td><td>1&nbsp;</td><td class="te" colspan="4"><a href="Doc04_CheckingOut.html#Doc_CheckoutRepository" title="Chapter in CDO Model Repository Documentation">Selecting a Repository</a></td></tr>
<tr><td></td><td>2&nbsp;</td><td class="te" colspan="4"><a href="Doc04_CheckingOut.html#Doc_CheckoutType" title="Chapter in CDO Model Repository Documentation">Selecting the Checkout Type</a></td></tr>
<tr><td></td><td></td><td>2.1&nbsp;</td><td class="te" colspan="3"><a href="Doc04_CheckingOut.html#Doc_TransactionalCheckouts" title="Chapter in CDO Model Repository Documentation">Online Transactional Checkouts</a></td></tr>
<tr><td></td><td></td><td>2.2&nbsp;</td><td class="te" colspan="3"><a href="Doc04_CheckingOut.html#Doc_HistoricalCheckouts" title="Chapter in CDO Model Repository Documentation">Online Historical Checkouts</a></td></tr>
<tr><td></td><td></td><td>2.3&nbsp;</td><td class="te" colspan="3"><a href="Doc04_CheckingOut.html#Doc_OfflineCheckouts" title="Chapter in CDO Model Repository Documentation">Offline Checkouts</a></td></tr>
<tr><td></td><td>3&nbsp;</td><td class="te" colspan="4"><a href="Doc04_CheckingOut.html#Doc_CheckoutBranchPoint" title="Chapter in CDO Model Repository Documentation">Selecting the Branch Point</a></td></tr>
<tr><td></td><td>4&nbsp;</td><td class="te" colspan="4"><a href="Doc04_CheckingOut.html#Doc_CheckoutRootObject" title="Chapter in CDO Model Repository Documentation">Selecting the Root Object</a></td></tr>
<tr><td></td><td>5&nbsp;</td><td class="te" colspan="4"><a href="Doc04_CheckingOut.html#Doc_CheckoutName" title="Chapter in CDO Model Repository Documentation">Naming the Checkout</a></td></tr>
<tr><td><img src="../../images/article.gif">&nbsp;</td><td class="te" colspan="5"><a href="Doc05_UsingCheckouts.html" title="Article in CDO Model Repository Documentation">Working with Checkouts</a></td></tr>
<tr><td></td><td>1&nbsp;</td><td class="te" colspan="4"><a href="Doc05_UsingCheckouts.html#Doc_RenamingCheckouts" title="Chapter in CDO Model Repository Documentation">Renaming Checkouts</a></td></tr>
<tr><td></td><td>2&nbsp;</td><td class="te" colspan="4"><a href="Doc05_UsingCheckouts.html#Doc_DuplicatingCheckouts" title="Chapter in CDO Model Repository Documentation">Duplicating Checkouts</a></td></tr>
<tr><td></td><td>3&nbsp;</td><td class="te" colspan="4"><a href="Doc05_UsingCheckouts.html#Doc_OpeningClosing" title="Chapter in CDO Model Repository Documentation">Opening and Closing Checkouts</a></td></tr>
<tr><td></td><td>4&nbsp;</td><td class="te" colspan="4"><a href="Doc05_UsingCheckouts.html#Doc_DeletingCheckouts" title="Chapter in CDO Model Repository Documentation">Deleting Checkouts</a></td></tr>
<tr><td></td><td>5&nbsp;</td><td class="te" colspan="4"><a href="Doc05_UsingCheckouts.html#Doc_SwitchingBranch" title="Chapter in CDO Model Repository Documentation">Switching the Branch of a Checkout</a></td></tr>
<tr><td></td><td></td><td>5.1&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_SwitchNewBranch" title="Chapter in CDO Model Repository Documentation">Switching to a New Branch</a></td></tr>
<tr><td></td><td></td><td>5.2&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_SwitchOtherBranch" title="Chapter in CDO Model Repository Documentation">Switching to an Other Branch</a></td></tr>
<tr><td></td><td>6&nbsp;</td><td class="te" colspan="4"><a href="Doc05_UsingCheckouts.html#Doc_SwitchingBranchPoint" title="Chapter in CDO Model Repository Documentation">Switching the Time Stamp of a Checkout</a></td></tr>
<tr><td></td><td></td><td>6.1&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_SwitchOtherBranchPoint" title="Chapter in CDO Model Repository Documentation">Switching to an Other Branch Point</a></td></tr>
<tr><td></td><td></td><td>6.2&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_SwitchCommit" title="Chapter in CDO Model Repository Documentation">Switching to a Commit</a></td></tr>
<tr><td></td><td>7&nbsp;</td><td class="te" colspan="4"><a href="Doc05_UsingCheckouts.html#Doc_ComparingCheckouts" title="Chapter in CDO Model Repository Documentation">Comparing Checkouts</a></td></tr>
<tr><td></td><td></td><td>7.1&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_CompareOtherBranch" title="Chapter in CDO Model Repository Documentation">Comparing with an Other Branch</a></td></tr>
<tr><td></td><td></td><td>7.2&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_CompareOtherBranchPoint" title="Chapter in CDO Model Repository Documentation">Comparing with an Other Branch Point</a></td></tr>
<tr><td></td><td></td><td>7.3&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_CompareCommit" title="Chapter in CDO Model Repository Documentation">Comparing with a Commit</a></td></tr>
<tr><td></td><td>8&nbsp;</td><td class="te" colspan="4"><a href="Doc05_UsingCheckouts.html#Doc_MergingCheckouts" title="Chapter in CDO Model Repository Documentation">Merging Checkouts</a></td></tr>
<tr><td></td><td></td><td>8.1&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_MergeOtherBranch" title="Chapter in CDO Model Repository Documentation">Merging from an Other Branch</a></td></tr>
<tr><td></td><td></td><td>8.2&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_MergeOtherBranchPoint" title="Chapter in CDO Model Repository Documentation">Merging from an Other Branch Point</a></td></tr>
<tr><td></td><td></td><td>8.3&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_MergeCommit" title="Chapter in CDO Model Repository Documentation">Merging from a Commit</a></td></tr>
<tr><td></td><td>9&nbsp;</td><td class="te" colspan="4"><a href="Doc05_UsingCheckouts.html#Doc_CheckoutShowIn" title="Chapter in CDO Model Repository Documentation">Showing Checkouts in Other Views</a></td></tr>
<tr><td></td><td></td><td>9.1&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_CheckoutShowInSessions" title="Chapter in CDO Model Repository Documentation">Showing Checkouts in the CDO Sessions View</a></td></tr>
<tr><td></td><td></td><td>9.2&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_CheckoutShowInTimeMachine" title="Chapter in CDO Model Repository Documentation">Showing Checkouts in the CDO Time Machine View</a></td></tr>
<tr><td></td><td></td><td>9.3&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_CheckoutShowInServerBrowser" title="Chapter in CDO Model Repository Documentation">Showing Checkouts in the CDO Server Browser</a></td></tr>
<tr><td></td><td></td><td>9.4&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_CheckoutShowInProperties" title="Chapter in CDO Model Repository Documentation">Showing Checkouts in the Properties View</a></td></tr>
<tr><td></td><td></td><td>9.5&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_CheckoutShowInHistory" title="Chapter in CDO Model Repository Documentation">Showing Checkouts in the History View</a></td></tr>
<tr><td></td><td></td><td>9.6&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_CheckoutShowInSystemExplorer" title="Chapter in CDO Model Repository Documentation">Showing Checkouts in the System Explorer</a></td></tr>
<tr><td></td><td>10&nbsp;</td><td class="te" colspan="4"><a href="Doc05_UsingCheckouts.html#Doc_UsingOfflineCheckouts" title="Chapter in CDO Model Repository Documentation">Working with Offline Checkouts</a></td></tr>
<tr><td></td><td></td><td>10.1&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_OfflineUpdate" title="Chapter in CDO Model Repository Documentation">Updating an Offline Checkout</a></td></tr>
<tr><td></td><td></td><td>10.2&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_OfflineCheckin" title="Chapter in CDO Model Repository Documentation">Checking In an Offline Checkout</a></td></tr>
<tr><td></td><td></td><td>10.3&nbsp;</td><td class="te" colspan="3"><a href="Doc05_UsingCheckouts.html#Doc_OfflineRevert" title="Chapter in CDO Model Repository Documentation">Reverting an Offline Checkout</a></td></tr>
<tr><td><img src="../../images/article.gif">&nbsp;</td><td class="te" colspan="5"><a href="Doc06_UsingResources.html" title="Article in CDO Model Repository Documentation">Working with Folders and Resources</a></td></tr>
<tr><td></td><td>1&nbsp;</td><td class="te" colspan="4"><a href="Doc06_UsingResources.html#Doc_CreatingResourceNodes" title="Chapter in CDO Model Repository Documentation">Creating Resource Nodes</a></td></tr>
<tr><td></td><td></td><td>1.1&nbsp;</td><td class="te" colspan="3"><a href="Doc06_UsingResources.html#Doc_CreatingFolders" title="Chapter in CDO Model Repository Documentation">Creating Folders</a></td></tr>
<tr><td></td><td></td><td>1.2&nbsp;</td><td class="te" colspan="3"><a href="Doc06_UsingResources.html#Doc_CreatingModelResources" title="Chapter in CDO Model Repository Documentation">Creating Model Resources</a></td></tr>
<tr><td></td><td></td><td>1.3&nbsp;</td><td class="te" colspan="3"><a href="Doc06_UsingResources.html#Doc_CreatingTextFiles" title="Chapter in CDO Model Repository Documentation">Creating Text Files</a></td></tr>
<tr><td></td><td></td><td>1.4&nbsp;</td><td class="te" colspan="3"><a href="Doc06_UsingResources.html#Doc_CreatingBinaryFiles" title="Chapter in CDO Model Repository Documentation">Creating Binary Files</a></td></tr>
<tr><td></td><td>2&nbsp;</td><td class="te" colspan="4"><a href="Doc06_UsingResources.html#Doc_RenamingResourceNodes" title="Chapter in CDO Model Repository Documentation">Renaming Resource Nodes</a></td></tr>
<tr><td></td><td>3&nbsp;</td><td class="te" colspan="4"><a href="Doc06_UsingResources.html#Doc_MovingResourceNodes" title="Chapter in CDO Model Repository Documentation">Moving and Copying Resource Nodes within a Checkout</a></td></tr>
<tr><td></td><td>4&nbsp;</td><td class="te" colspan="4"><a href="Doc06_UsingResources.html#Doc_TransferingResourceNodes" title="Chapter in CDO Model Repository Documentation">Moving and Copying Resource Nodes between Checkouts and Beyond</a></td></tr>
<tr><td></td><td>5&nbsp;</td><td class="te" colspan="4"><a href="Doc06_UsingResources.html#Doc_DeletingResourceNodes" title="Chapter in CDO Model Repository Documentation">Deleting Resource Nodes</a></td></tr>
<tr><td><img src="../../images/article.gif">&nbsp;</td><td class="te" colspan="5"><a href="Doc07_UsingModels.html" title="Article in CDO Model Repository Documentation">Working with Models and Model Elements</a></td></tr>
<tr><td></td><td>1&nbsp;</td><td class="te" colspan="4"><a href="Doc07_UsingModels.html#Doc_CreatingModelElements" title="Chapter in CDO Model Repository Documentation">Creating Model Elements</a></td></tr>
<tr><td></td><td></td><td>1.1&nbsp;</td><td class="te" colspan="3"><a href="Doc07_UsingModels.html#Doc_CreatingRootElements" title="Chapter in CDO Model Repository Documentation">Creating Root Model Elements</a></td></tr>
<tr><td></td><td></td><td>1.2&nbsp;</td><td class="te" colspan="3"><a href="Doc07_UsingModels.html#Doc_CreatingNestedElements" title="Chapter in CDO Model Repository Documentation">Creating Nested Model Elements</a></td></tr>
<tr><td></td><td>2&nbsp;</td><td class="te" colspan="4"><a href="Doc07_UsingModels.html#Doc_MovingModelElements" title="Chapter in CDO Model Repository Documentation">Moving and Copying Model Elements within a Checkout</a></td></tr>
<tr><td></td><td>3&nbsp;</td><td class="te" colspan="4"><a href="Doc07_UsingModels.html#Doc_TransferingModelElements" title="Chapter in CDO Model Repository Documentation">Moving and Copying Model Elements between Checkouts and Beyond</a></td></tr>
<tr><td></td><td>4&nbsp;</td><td class="te" colspan="4"><a href="Doc07_UsingModels.html#Doc_DeletingModelElements" title="Chapter in CDO Model Repository Documentation">Deleting Model Elements</a></td></tr>
<tr><td></td><td>5&nbsp;</td><td class="te" colspan="4"><a href="Doc07_UsingModels.html#Doc_EditingModelElements" title="Chapter in CDO Model Repository Documentation">Editing Model Elements in a Dialog</a></td></tr>
<tr><td></td><td>6&nbsp;</td><td class="te" colspan="4"><a href="Doc07_UsingModels.html#Doc_EditingModelElementsEditor" title="Chapter in CDO Model Repository Documentation">Editing Model Elements in an Editor</a></td></tr>
<tr><td><img src="../../images/article.gif">&nbsp;</td><td class="te" colspan="5"><a href="Doc08_Collaborating.html" title="Article in CDO Model Repository Documentation">Collaborating in Real-Time</a></td></tr>
<tr><td></td><td>1&nbsp;</td><td class="te" colspan="4"><a href="Doc08_Collaborating.html#Doc_OptimisticLocking" title="Chapter in CDO Model Repository Documentation">Optimistic Locking</a></td></tr>
<tr><td></td><td></td><td>1.1&nbsp;</td><td class="te" colspan="3"><a href="Doc08_Collaborating.html#Doc_EarlyConflictDetection" title="Chapter in CDO Model Repository Documentation">Early Conflict Detection</a></td></tr>
<tr><td></td><td></td><td>1.2&nbsp;</td><td class="te" colspan="3"><a href="Doc08_Collaborating.html#Doc_AutomaticConflictResolution" title="Chapter in CDO Model Repository Documentation">Automatic Conflict Resolution</a></td></tr>
<tr><td></td><td></td><td>1.3&nbsp;</td><td class="te" colspan="3"><a href="Doc08_Collaborating.html#Doc_InteractiveConflictResolution" title="Chapter in CDO Model Repository Documentation">Interactive Conflict Resolution</a></td></tr>
<tr><td></td><td>2&nbsp;</td><td class="te" colspan="4"><a href="Doc08_Collaborating.html#Doc_PessimisticLocking" title="Chapter in CDO Model Repository Documentation">Pessimistic Locking</a></td></tr>
<tr><td></td><td></td><td>2.1&nbsp;</td><td class="te" colspan="3"><a href="Doc08_Collaborating.html#Doc_TreeLocking" title="Chapter in CDO Model Repository Documentation">Tree Locking</a></td></tr>
<tr><td></td><td>3&nbsp;</td><td class="te" colspan="4"><a href="Doc08_Collaborating.html#Doc_AutomaticLocking" title="Chapter in CDO Model Repository Documentation">Automatic Locking</a></td></tr>
<tr><td></td><td>4&nbsp;</td><td class="te" colspan="4"><a href="Doc08_Collaborating.html#Doc_AutomaticCommitting" title="Chapter in CDO Model Repository Documentation">Automatic Committing</a></td></tr>
<tr><td><img src="../../images/article.gif">&nbsp;</td><td class="te" colspan="5"><a href="Doc09_TechnicalBackground.html" title="Article in CDO Model Repository Documentation">Understanding the Technical Background</a></td></tr>
<tr><td></td><td>1&nbsp;</td><td class="te" colspan="4"><a href="Doc09_TechnicalBackground.html#Doc_BackgroundModelElements" title="Chapter in CDO Model Repository Documentation">Technical Background of Model Elements</a></td></tr>
<tr><td></td><td></td><td>1.1&nbsp;</td><td class="te" colspan="3"><a href="Doc09_TechnicalBackground.html#Doc_BackgroundNativeModels" title="Chapter in CDO Model Repository Documentation">Native Models</a></td></tr>
<tr><td></td><td></td><td>1.2&nbsp;</td><td class="te" colspan="3"><a href="Doc09_TechnicalBackground.html#Doc_BackgroundLegacyModels" title="Chapter in CDO Model Repository Documentation">Legacy Models</a></td></tr>
<tr><td></td><td></td><td>1.3&nbsp;</td><td class="te" colspan="3"><a href="Doc09_TechnicalBackground.html#Doc_BackgroundDynamicModels" title="Chapter in CDO Model Repository Documentation">Dynamic Models</a></td></tr>
<tr><td></td><td>2&nbsp;</td><td class="te" colspan="4"><a href="Doc09_TechnicalBackground.html#Doc_BackgroundRepositories" title="Chapter in CDO Model Repository Documentation">Technical Background of Repositories</a></td></tr>
<tr><td></td><td>3&nbsp;</td><td class="te" colspan="4"><a href="Doc09_TechnicalBackground.html#Doc_BackgroundCheckouts" title="Chapter in CDO Model Repository Documentation">Technical Background of Checkouts</a></td></tr>
<tr><td></td><td>4&nbsp;</td><td class="te" colspan="4"><a href="Doc09_TechnicalBackground.html#Doc_BackgroundSessions" title="Chapter in CDO Model Repository Documentation">Technical Background of Sessions</a></td></tr>
<tr><td></td><td>5&nbsp;</td><td class="te" colspan="4"><a href="Doc09_TechnicalBackground.html#Doc_BackgroundViews" title="Chapter in CDO Model Repository Documentation">Technical Background of Views</a></td></tr>
<tr><td></td><td>6&nbsp;</td><td class="te" colspan="4"><a href="Doc09_TechnicalBackground.html#Doc_BackgroundTransactions" title="Chapter in CDO Model Repository Documentation">Technical Background of Transactions</a></td></tr>
<tr><td></td><td>7&nbsp;</td><td class="te" colspan="4"><a href="Doc09_TechnicalBackground.html#Doc_BackgroundCompare" title="Chapter in CDO Model Repository Documentation">Technical Background of the Compare Integration</a></td></tr>
</table>
</p>


<p align="right">
<a href="../Overview.html" title="Backward to Overview"><img src="../../images/backward.png" border="0"></a>&nbsp;<a href="Doc01_UserInterface.html" title="Forward to Elements of the User Interface"><img src="../../images/forward.png" border="0"></a></p>
<!-- <div class="help_breadcrumbs breadcrumbs_bottom"><a href="../Overview.html" title="CDO Model Repository Documentation">CDO Model Repository Documentation</a></div> -->

<div class="copyright">Copyright (c) 2014 Eike Stepper (Berlin, Germany) and others.<br>All rights reserved. This program and the accompanying materials are made available under the terms of the Eclipse Public License v1.0 which accompanies this distribution, and is available at http://www.eclipse.org/legal/epl-v10.html</div>
</body>
</html>
<html id='2656.p2_actions_touchpoints.html'></html><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en">
<head>
<meta name="copyright"
	content="Copyright (c) IBM Corporation and others 2010, 2011. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page.">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta http-equiv="Content-Style-Type" content="text/css">
<link REL="STYLESHEET" HREF="../book.css" CHARSET="ISO-8859-1"
	TYPE="text/css">
<title>Provisioning Actions and Touchpoints</title>
</head>
<body>
<h1>Provisioning Actions and Touchpoints</h1>
<h2>Introduction</h2>
<p>A p2 Installable Unit (IU) is installed using the facilities
provided by a <i>touchpoint</i>. The IU metadata consists of a reference
to the touchpoint (Touchpoint Type) which also defines the version of
the touchpoint (i.e an expectancy that it supports a certain set of
operations), and describes instructions to execute in various p2 engine
phases. The instructions are named after the phases - the phases
"install", "uninstall", "configure", "unconfigure" are of interest when
authoring, but there are also some internal phases such as "collect" and
"checktrust" executed by the engine. Each instruction (e.g. "install")
describes a sequence of actions to execute on the referenced touchpoint.
Examples of actions are: create and remove directories, change
permissions, install and remove bundles. Currently, two touchpoints
(native, and eclipse) have been implemented. The native touchpoint has
approximately 5 different actions, and the eclipse touchpoint has
approximately 20. Most of these actions take parameters.</p>
<p>The instructions are grouped and described in a Touchpoint Data
Element. The touchpoint data element uses a Map where the key is the
name of a p2 engine phase (such as "install"), and the value is a string
representation of a sequence of actions. Using multiple touchpoint data
elements is useful as it allows separation between sets of actions for
install/uninstall/configure/unconfigure which makes it easier to
maintain the meta data.</p>
<h2>Actions</h2>
<h3>Fully Qualified Action Names and Importing Actions</h3>
<p>Each action has a fully qualified name; for example
"org.eclipse.equinox.p2.touchpoint.eclipse.installBundle" is the FQN for
the Eclipse touchpoints "installBundle" action. One can use the short
name of an action if the action is imported or if the IUs "touchpoint
type" matches the action.</p>
Most bundle IUs use the Eclipse touchpoint type so you may be able to
use:
<table>
	<tr>
		<td><pre> installBundle(bundle:${artifact}) 
</pre></td>
	</tr>
</table>
However, if you get an error such as the following, use the fully
qualified name.
<table>
	<tr>
		<td><pre>java.lang.IllegalArgumentException: No action found for: installBundle.
</pre></td>
	</tr>
</table>
A valid call of this action using FQN might be something like:
<table>
	<tr>
		<td><pre> org.eclipse.equinox.p2.touchpoint.eclipse.installBundle(bundle:${artifact}) 
</pre></td>
	</tr>
</table>
<h3>Native Touchpoint Actions</h3>
<p><b>Action Fully Qualified Name:</b></p>
<pre>org.eclipse.equinox.p2.touchpoint.natives.<i>action_name</i> 
</pre>
<table border="1" cellpadding="5" style="border: 1px solid #CCC; border-collapse: collapse;">

	<tr valign="top" style="background-color: #eeeeee; color: #444444;">
		<td><b>action</b></td>
		<td><b>parameters</b></td>
		<td><b>description</b></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">collect</td>
		<td>-</td>
		<td>collects all associated artifacts for an IU and places them
		in a local touchpoint addressable cache. This action may be called
		explicitly during the collect phase but is typically called as the
		"default" action called for IUs with the Native Touchpoint Type as
		part of the main Collect and Sizing phases.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold">cleanupzip
		</td>
		<td><code>source, target</code></td>
		<td>removes unzipped files and directories that where unzipped
		from <i>source</i> into <i>target</i> - i.e. an "undo operation" of an
		<i>unzip</i> instruction.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">unzip</td>
		<td>source, target</td>
		<td>unzips the <i>source</i> into the <i>target</i> directory.
		The <i>source</i> can be the special value <code>@artifact</code>,
		which denotes the download cache location for the first artifact
		key in the installable unit.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">mkdir</td>
		<td>path</td>
		<td>Creates the directory specified by the parameter <i>path</i>.
		</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">rmdir</td>
		<td>path</td>
		<td>Removes the directory specified by the parameter <i>path</i>.
		Action has no effect if the referenced directory contains files. Use
		the <i>remove</i> action for a forced recursive remove.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">ln</td>
		<td>targetDir, linkTarget,
		linkName, force</td>
		<td>Performs the system action <code>ln -s</code> with the
		parameters <i>linkTarget</i> being the source-file, <i>targetDir</i>
		is the directory where the symbolic link will be created, and <i>linkName</i>
		is the name of the resulting link in the <i>targetDir</i>. The <i>force</i>
		parameter is a boolean in string form (i.e. "true"/"false") and
		indicates if an existing link with the same name should be removed
		before the new link is created.
		<p><em>This action is not available on platforms that do not have this command(i.e. Windows)</em></p>
		</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">chmod</td>
		<td>targetDir, targetFile,
		permissions, options</td>
		<td>Changes permission on a file using the system <code>chmod</code> command.
		The <i>targetDir</i> parameter is either a path, or the special <code>@artifact</code>
		which is a reference to the directory where the first artifact
		included in the installable unit is located. The parameter <i>targetFile</i>
		is the name of a file, and <i>permissions</i> is written like for the
		<i>chmod</i> system command. The options parameter allows passing
		additional options like "-R" for recursive operation. If multiple
		parameters are needed separate them with a space (like on the command
		line).
		<p><em>This is not available on platforms that do not have this command (i.e. Windows)</em></p>
		</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">remove</td>
		<td>path</td>
		<td>Removes a file, or a directory (and all files under this
		directory) as referenced by the parameter <i>path</i>.
		<p><br>
		(Since 3.5)</p>
		</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">copy</td>
		<td>source, target, overwrite</td>
		<td>Copies a file or a directory (and all of its content) denoted
		by <i>source</i> path to the <i>target</i> path.
		<p>The boolean flag <i>overwrite</i> should be set to <i>true</i>
		if the copy action should overwrite existing files. If overwrite is <i>false</i>
		the operation will fail with an IO error in the files already exists.
		<br>
		(Since 3.5)</p>
		</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">cleanupcopy
		</td>
		<td>source, target</td>
		<td>Cleans up what was installed earlier with a <i>copy</i> from
		<i>source</i> to <i>target</i>. I.e. this is an "undo" of a <i>copy</i>
		operation.
		<p><br>
		(Since 3.5)</p>
		</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">checkAndPromptNativePackage
		</td>
		<td>distro, package, [comparator, version]</td>
		<td>Prompt the user for the package identified if it is not already installed. <i>distro</i> identifies a distribution for which the package is applicable. <i>package</i> is the package identifier as known by the OS. <i>version</i> an optional string capturing the expected version of the package. <i>comparator</i> an optional string from <i>eq, gt, ge, lt, le</i> to express more specific dependencies on the version to install. Know that at this point only Ubuntu is supported, and we welcome support for other OS.
		<p>Example:
<pre>
  org.eclipse.equinox.p2.touchpoint.natives.checkAndPromptNativePackage(distro:debian,package:sudo);
</pre>
or
<pre>
  org.eclipse.equinox.p2.touchpoint.natives.checkAndPromptNativePackage(distro:debian,package:handbrake,comparator:ge,version:0.9);
</pre></p>
		<p>(Since 4.5)</p>
		</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">checkAndPromptNativePackageWindowsRegistry
		</td>
		<td>package, key, [attributeName, attributeValue, downloadLink, version]</td>
		<td>Prompt the user for the Windows library identified in the Windows registry if it is not already installed. <i>package</i> is a descriptive library identifier. <i>version</i> an descriptive version string. <i>key</i> is the full registry key. <i>attributeName</i> and <i>attributeValue</i> are an optional name and value of a registry attribute to check. <i>downloadLink</i> is a an optional URL to show in the UI from where the library can be obtained.
		<p>Example:
<pre>
  org.eclipse.equinox.p2.touchpoint.natives.checkAndPromptNativePackageWindowsRegistry(\
    package:MS VC Runtime,\
    version:2010,\
    key:HKLM\\SOFTWARE\\Wow6432Node\\Microsoft\\VisualStudio\\10.0\\VC\\VCRedist\\x64,\
    attributeName:Installed,\
    attributeValue:1,\
    downloadLink:http${#58}//www.microsoft.com/download/details.aspx?id=14632);
</pre></p>
		<p>(Since 4.5)</p>
		</td>
	</tr>
</table>
<h3>Eclipse Touchpoint Actions</h3>
<p><b>Action Fully Qualified Name:</b></p>
<pre>org.eclipse.equinox.p2.touchpoint.eclipse.<i>action_name</i> 
</pre>
<table border="1" cellpadding="5" style="border: 1px solid #CCC; border-collapse: collapse;">

	<tr valign="top" style="background-color: #eeeeee; color: #444444;">
		<td><b>instruction</b></td>
		<td><b>parameters</b></td>
		<td><b>description</b></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">collect</td>
		<td>-</td>
		<td>collects all associated artifacts for an IU and places them
		in a local touchpoint addressable cache. This action may be called
		explicitly during the collect phase but is typically called as the
		"default" action called for IUs with the Eclipse Touchpoint Type as
		part of the main Collect and Sizing phases.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">installBundle
		</td>
		<td>bundle</td>
		<td>Installs a bundle artifact specified by the parameter <i>bundle</i>
		</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">uninstallBundle
		</td>
		<td>bundle</td>
		<td>Uninstalls a bundle artifact with a bundle-id specified by
		the paramter <i>bundle</i></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">addSourceBundle
		</td>
		<td>bundle</td>
		<td>Installs a source bundle artifact with the bundle-id
		specified by the parameter <i>bundle</i></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">removeSourceBundle
		</td>
		<td>bundle</td>
		<td>Removes/uninstalls the source bundle artifact with the
		bundle-id specified by the parameter <i>bundle</i></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">installFeature
		</td>
		<td>feature, featureId, version</td>
		<td>Installs the feature referenced by the parameter <i>feature</i>
		(matched against artifacts in the iu). The feature is installed with
		the id specified by the parameter <i>featureId</i>, or if this
		parameter has the value <code>default</code>, with the id specified in
		the artifact referenced by <i>feature</i>. The features is installed
		with the version specified in <i>version</i>, or with the version
		specified in the artifact referenced by the <i>feature</i> parameter
		if the <i>version</i> parameter has the value <code>default</code></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">uninstallFeature
		</td>
		<td>feature, featureId, version</td>
		<td>Uninstalls a feature. Parameters have the same meaning as for
		the command <code>installFeature</code></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">setLauncherName
		</td>
		<td>name</td>
		<td>Sets the name of the launcher to <code>name</code>. The
		launcher name is used to configure launcher name specific ini files.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">addProgramArg
		</td>
		<td>programArg</td>
		<td>Adds the string specified in the parameter <i>programArg</i>
		as an argument to the program. If the parameter is the special value
		<code>@artifact</code>, the location of the artifact referenced by the
		first artifact key in the IU is used as the parameter value.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">removeProgramArg
		</td>
		<td>programArg</td>
		<td>Removes the program argument specified in the string <i>programArg</i>
		- if the parameter is the special value <code>@artifact</code>, the
		location of the artifact referenced by the first artifact key in the
		IU is used as the parameter value.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">setStartLevel
		</td>
		<td>startLevel</td>
		<td>Sets the start level to the integer value specified in the
		parameter <i>startValue</i></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">markStarted
		</td>
		<td>started</td>
		<td>Marks the bundle referenced by the first artifact key in the
		installable unit as started or not started, as controlled by the boolean parameter <i>started</i>.
		A parameter value of "true" will mark the bundle as started and "false" will mark the bundle as not started).</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">setFrameworkDependentProperty
		</td>
		<td>propName, propValue</td>
		<td>Sets the framework dependent property named <i>propName</i>
		to the value specified in <i>propValue</i>. Framework dependent
		properties are properties specific to the Equinox implementation of
		the OSGi framework.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">setFrameworkIndependentProperty
		</td>
		<td>propName, propValue</td>
		<td>Sets the framework independent property named <i>propName</i>
		to the value specified in <i>propValue</i>. Framework independent
		properties do not specifically target Eclipse and are generally
		applicable to other OSGi frameworks.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">addProgramProperty
		</td>
		<td>propName, propValue</td>
		<td>Adds the given value specified in <i>propValue</i> to the program
		property named <i>propName</i>. The program property value is treated
		as a comma-separated list and the given value is added to that list. Program
		properties are used by the executable program to among other things locate
		the jars needed to start Eclipse.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">removeProgramProperty
		</td>
		<td>propName, propValue</td>
		<td>Remove the given value specified in <i>propValue</i> from the program
		property named <i>propName</i>. The program property value is treated as 
		a comma-separated list and the given value is removed from that list. If there
		are no more elements in the list, then the property itself is removed. Program
		properties are used by the executable program to among other things locate 
		the jars needed to start Eclipse.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">setProgramProperty
		</td>
		<td>propName, propValue</td>
		<td>Sets the program property named <i>propName</i> to the value
		specified in <i>propValue</i>. Program properties are used by the
		executable program to among other things locate the jars needed to
		start Eclipse.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">addJvmArg
		</td>
		<td>jvmArg</td>
		<td>Adds the string specified in the parameter <i>jvmArg</i> to
		the arguments passed to the JVM.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">removeJvmArg
		</td>
		<td>jvmArg</td>
		<td>Removes the string specified in the parameter <i>jvmArg</i>
		from the arguments passed to the JVM.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">setJvm</td>
		<td>jvm</td>
		<td>Sets the JVM to be the path specified in the parameter <i>jvm</i>.
		If a value of <i>null</i> is specified then the current JVM path value
		is removed.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">checkTrust
		</td>
		<td>-</td>
		<td>collects the set of bundle files on which the signature trust
		check should be performed. The checkTrust action is not meant to be
		user callable and is done as part of the CheckTrust phase.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">addRepository
		</td>
		<td>location, type, enabled</td>
		<td>Adds the repository at <i>location</i> of type <i>type</i> to
		the list of known repositories. The repository will then be available
		when installing or updating the profile in the future. The <i>enabled</i>
		parameter takes a boolean value ("true" or "false") indicating whether
		the add repository should be enabled. The value of the <i>location</i>
		parameter must be a well-formed URI. The <i>type</i> parameter value
		must be the value of one of the IRepository.TYPE_* constants,
		Specifically, type "0" indicates a metadata repository, and type "1"
		indicates an artifact repository.
		<p><i>Example:</i></p>
		<pre>instructions.configure=org.eclipse.equinox.p2.touchpoint.eclipse.addRepository(location:http${#58}//download.eclipse.org/birt/update-site/2.5/,type:0,name:BIRT 2.5,enabled:true); \
  org.eclipse.equinox.p2.touchpoint.eclipse.addRepository(location:http${#58}//download.eclipse.org/birt/update-site/2.5/,type:1,name:BIRT 2.5,enabled:true);
</pre></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">removeRepository
		</td>
		<td>location, type</td>
		<td>Removes the repository at <i>location</i> of type <i>type</i>
		from the list of known
		<p>repositories. The value of the <i>location</i> parameter must
		be a well-formed URI. The <i>type</i> parameter value must be the
		value of one of the IRepository.TYPE_* constants, Specifically, type
		"0" indicates a metadata repository, and type "1" indicates an
		artifact repository.</p>
		</td>
	</tr>
</table>
<h2>Action Format</h2>
<p>The Touchpoint Data Element has a Map that describes the actions
to execute in the various p2 engine phases (e.g. "install", "uninstall",
"configure", "unconfigure", "collect" and "checktrust"). The key of the
Map entry is the name of a phase (i.e. when the actions should be
executed), and the value is a <i>statement-sequence</i>:</p>
<pre>  statement-sequence&nbsp;:
      | statement ';'
      | statement-sequence statement
     &nbsp;;
</pre>
<p>Where a statement is of the format:</p>
<pre>  statement&nbsp;:
      | actionName '(' parameters ')'
     &nbsp;;
</pre>
<pre>  parameters&nbsp;:
      | // empty
      | parameter
      | parameters ',' parameter
     &nbsp;;
</pre>
<pre>   parameter&nbsp;: 
      | paramName ':' paramValue
     &nbsp;;
 
 actionName, paramName, paramValue&nbsp;:
      | String 
     &nbsp;;
</pre>
<p>In the p2 engine, the Phase will lookup the "actionName" using
it's own phase specific actions (e.g. "collect") and also those made
available by the associated touchpoint (e.g. "mkdir" in the native
touchpoint, and "installBundle" in the Eclipse touchpoint) .</p>
<p>As an example - an "install" instruction for a bundle might
consist of the following statement:</p>
<pre>  installBundle(bundle:${artifact});
</pre>
<ul>
	<li><i>installBundle</i> is the action name</li>
	<li><i>bundle</i> is the parameter name</li>
	<li><i>${artifact}</i> is the parameter value. The value
	${artifact} signifies the use of a pre-defined variable named
	"artifact".</li>
</ul>
<h2>Built-in Action Variables</h2>
<p>What follows is a catalog of the variables made available by the
phases and touchpoints. Many of these are mostly useful to the
implementor of new actions and touchpoint types.</p>
<h3>Variables Available in all phases</h3>
<table border="1" cellpadding="5" style="border: 1px solid #CCC; border-collapse: collapse;">

	<tr valign="top" style="background-color: #eeeeee; color: #444444;">
		<td><b>variable</b></td>
		<td><b>description</b></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">#nnnn</td>
		<td>the unicode value of a character.
		<p><i>Note: This is especially important for the six
		characters that require escaping.</i></p>
		<ol>
			<li>$ = ${#36}</li>
			<li>, = ${#44}</li>
			<li>&nbsp;: = ${#58}</li>
			<li>&nbsp;; = ${#59}</li>
			<li>{ = ${#123}</li>
			<li>} = ${#125}</li>
		</ol>
		</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">profile</td>
		<td>the profile being modified.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">phaseId</td>
		<td>the name of the phase e.g. collect, install, etc.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">operand</td>
		<td>the actions operand (e.g. IU pair)</td>
	</tr>
</table>
<h3>Variables Available in all installable unit phases</h3>
<p><i>e.g. collect, unconfigure, uninstall, install, configure,
...</i></p>
<table border="1" cellpadding="5" style="border: 1px solid #CCC; border-collapse: collapse;">

	<tr valign="top" style="background-color: #eeeeee; color: #444444;">
		<td><b>variable</b></td>
		<td><b>description</b></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">installFolder
		</td>
		<td>the root folder for this profile.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">touchpoint
		</td>
		<td>the touchpoint associated with the IUs in the operand if
		applicable</td>
	</tr>
</table>
<h3>Collect Phase Variables</h3>
<table border="1" cellpadding="5" style="border: 1px solid #CCC; border-collapse: collapse;">

	<tr valign="top" style="background-color: #eeeeee; color: #444444;">
		<td><b>variable</b></td>
		<td><b>description</b></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">artifactRequests
		</td>
		<td>A list that a touchpoints "collect" action will use to add
		mirroring requests to.</td>
	</tr>
</table>
<h3>Unconfigure Phase Variables</h3>
<table border="1" cellpadding="5" style="border: 1px solid #CCC; border-collapse: collapse;">

	<tr valign="top" style="background-color: #eeeeee; color: #444444;">
		<td><b>variable</b></td>
		<td><b>description</b></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">iu</td>
		<td>The IU being unconfigured. This is set from the first IU of
		the operand pair.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">artifact</td>
		<td>The artifact id of the first artifact listed in the IU.</td>
	</tr>
</table>
<h3>Uninstall Phase Variables</h3>
<table border="1" cellpadding="5" style="border: 1px solid #CCC; border-collapse: collapse;">

	<tr valign="top" style="background-color: #eeeeee; color: #444444;">
		<td><b>variable</b></td>
		<td><b>description</b></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">iu</td>
		<td>The IU being uninstalled. This is set from the first IU of
		the operand pair.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">artifact</td>
		<td>The artifact id of the first artifact listed in the IU.</td>
	</tr>
</table>
<h3>Install Phase Variables</h3>
<table border="1" cellpadding="5" style="border: 1px solid #CCC; border-collapse: collapse;">

	<tr valign="top" style="background-color: #eeeeee; color: #444444;">
		<td><b>variable</b></td>
		<td><b>description</b></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">iu</td>
		<td>The IU being installed. This is set from the second IU of the
		operand pair.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">artifact</td>
		<td>The artifact id of the first artifact listed in the IU.</td>
	</tr>
</table>
<h3>Configure Phase Variables</h3>
<table border="1" cellpadding="5" style="border: 1px solid #CCC; border-collapse: collapse;">

	<tr valign="top" style="background-color: #eeeeee; color: #444444;">
		<td><b>variable</b></td>
		<td><b>description</b></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">iu</td>
		<td>The IU being configured. This is set from the second IU of
		the operand pair.</td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">artifact</td>
		<td>The artifact id of the first artifact listed in the IU.</td>
	</tr>
</table>
<h3>Eclipse Touchpoint Variables</h3>
<table border="1" cellpadding="5" style="border: 1px solid #CCC; border-collapse: collapse;">

	<tr valign="top" style="background-color: #eeeeee; color: #444444;">
		<td><b>variable</b></td>
		<td><b>description</b></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">manipulator
		</td>
		<td>an instance of the Manipulator class used to alter the
		configuration of an Eclipse install.</td>
	</tr>
</table>
<h3>Native Touchpoint Variables</h3>
<table border="1" cellpadding="5" style="border: 1px solid #CCC; border-collapse: collapse;">

	<tr valign="top" style="background-color: #eeeeee; color: #444444;">
		<td><b>variable</b></td>
		<td><b>description</b></td>
	</tr>
	<tr valign="top">
		<td style="font-weight: bold;">backup</td>
		<td>the BackupStore used to save transaction state during native
		file operations.</td>
	</tr>
</table>
<h2>Additional Notes on Backup for File Operation Actions</h2>
<p>The Native Touchpoint stores a temporary backup of files that are
deleted or overwritten during the installation process. If an
installation succeeds the backup is simply removed. If however the
installation fails, the files in backup are restored to their original
location. If the restore works as expected, the backup copy is also
removed. Two "disaster" cases remain:</p>
<ul>
	<li>It was not possible to restore files (probably because of
	faulty hardware, running out of disk, or manual tampering with files
	during the installation).</li>
	<li>The system crashed during the install</li>
</ul>
<p>The backup is placed in a directory under the directory
referenced by the system property "java.io.tmpdir". The backup directory
has a name with the prefix ".p2bu" which is followed by a unique key per
running backup instance. Under the ".p2bu..." directory files are stored
in a hierarchy that reflects their original location.</p>
<p>In both of the disaster cases, the backup store under
java.io.tempdir will contain copies of all files that were not
automatically restored. If a restore is wanted, this can be performed
manually by copying the content back to their original position (which
is evident from the structure under ".p2bu"). This can be made with
tools like zip (simply zip everything relative to .p2bu, and then unzip
it from the real file system root).</p>
<p>In case something goes wrong during restore of a backup, the
event is logged with details of what needs to be manually restored. This
is best effort support so in the case of a system crash file loss is possible.</p>
</body>
</html>
<html id='3200.DateTime.html'></html><html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DateTime</title>
<link rel="stylesheet" type="text/css" href="../../style.css">
<style type="text/css">
        h2 {
          margin: 20px 0 5px;
          padding: 5px 10px;
          background-color: #ccccff;
          border: 1px solid black;
        }
        h3 {
          margin: 15px 0 5px;
          padding: 5px 10px;
          background-color: #eeeeff;
          border: 1px solid black;
        }
        ul {
          list-style-type: none;
          padding: 0;
          margin: 8px 0 8px 18px;
        }
        li {
          margin: -1px 0 0;
          padding: 2px 5px;
          border: 1px solid black;
        }
        h2 + p {
          margin: 10px 0 5px 12px;
        }
        h3 + p {
          margin: 8px 0 3px 24px;
        }
        .deprecated {
          text-decoration: line-through;
        }
        .css-name {
          font-weight: bold;
          color: #0000aa;
        }
        .css-desc {
          margin: 1px 0 2px 20px;
        }
        </style>
</head>
<body>
<span><a href="index.html">RWT Theming Reference</a> &gt; DateTime</span><a name="DateTime">  </a>
<h2>DateTime</h2>
<p>DateTime controls</p>
<h3>Available CSS Properties</h3>
<p>
      Properties that can be defined for this element:
      </p>
<ul>
<li>
<a href="Properties.html#background-color" class="css-name">background-color</a>
<p class="css-desc">Background color</p>
</li>
<li>
<a href="Properties.html#background-image" class="css-name">background-image</a>
<p class="css-desc">
        Background gradient for DateTime. Not applied to DateTime Calendar.
      </p>
</li>
<li>
<a href="Properties.html#border" class="css-name">border</a>
<p class="css-desc">The border that is drawn around a DateTime.</p>
</li>
<li>
<a href="Properties.html#border-bottom" class="css-name">border-bottom</a>
<p class="css-desc">The bottom side border for DateTime.</p>
</li>
<li>
<a href="Properties.html#border-left" class="css-name">border-left</a>
<p class="css-desc">The left side border for DateTime.</p>
</li>
<li>
<a href="Properties.html#border-radius" class="css-name">border-radius</a>
<p class="css-desc">
        Border radius. The border radius has no effect if an enhanced border,
        like "inset" or "outset" is used.
      </p>
</li>
<li>
<a href="Properties.html#border-right" class="css-name">border-right</a>
<p class="css-desc">The right side border for DateTime.</p>
</li>
<li>
<a href="Properties.html#border-top" class="css-name">border-top</a>
<p class="css-desc">The top side border for DateTime.</p>
</li>
<li>
<a href="Properties.html#box-shadow" class="css-name">box-shadow</a>
<p class="css-desc">Inner or outer shadow around the bounds of a DateTime widget.</p>
</li>
<li>
<a href="Properties.html#color" class="css-name">color</a>
<p class="css-desc">Text color for DateTime.</p>
</li>
<li>
<a href="Properties.html#font" class="css-name">font</a>
<p class="css-desc">
        Text font for DateTime. Not applied to DateTime Calendar.
      </p>
</li>
<li>
<a href="Properties.html#padding" class="css-name">padding</a>
<p class="css-desc">Padding for DateTime Date/Time.</p>
</li>
<li>
<a href="Properties.html#text-shadow" class="css-name">text-shadow</a>
<p class="css-desc">Shadow for text.</p>
</li>
</ul>
<h3>Applicable SWT Styles</h3>
<p>
      SWT style flags that can be referred to in a selector for this element
      (as CSS attributes):
      </p>
<ul>
<li>
<span class="css-name">[BORDER]</span>
<p class="css-desc">Style constant for bordered behavior.</p>
</li>
</ul>
<h3>Applicable States</h3>
<p>
      Widget states that can be referred to in a selector for this element
      (as CSS pseudo-classes):
      </p>
<ul>
<li>
<span class="css-name">:disabled</span>
<p class="css-desc">Applies to disbled DateTime controls.</p>
</li>
<li>
<span class="css-name">:focused</span>
<p class="css-desc">Applies to focused DateTime controls.</p>
</li>
</ul>
<a name="DateTime-Field">  </a>
<h2>DateTime-Field</h2>
<p>Fields for date, month, year, hours, minutes, seconds</p>
<h3>Available CSS Properties</h3>
<p>
      Properties that can be defined for this element:
      </p>
<ul>
<li>
<a href="Properties.html#background-color" class="css-name">background-color</a>
<p class="css-desc">Background color for DateTime fields</p>
</li>
<li>
<a href="Properties.html#color" class="css-name">color</a>
<p class="css-desc">Text color for DateTime fields.</p>
</li>
<li>
<a href="Properties.html#padding" class="css-name">padding</a>
<p class="css-desc">Padding for DateTime Date/Time field part.</p>
</li>
<li>
<a href="Properties.html#text-shadow" class="css-name">text-shadow</a>
<p class="css-desc">Shadow for text.</p>
</li>
</ul>
<h3>Applicable SWT Styles</h3>
<p>
<em>none</em>
</p>
<h3>Applicable States</h3>
<p>
      Widget states that can be referred to in a selector for this element
      (as CSS pseudo-classes):
      </p>
<ul>
<li>
<span class="css-name">:selected</span>
<p class="css-desc">Applies to selected DateTime fields.</p>
</li>
</ul>
<a name="DateTime-Calendar-Day">  </a>
<h2>DateTime-Calendar-Day</h2>
<p>Day from the calendar</p>
<h3>Available CSS Properties</h3>
<p>
      Properties that can be defined for this element:
      </p>
<ul>
<li>
<a href="Properties.html#background-color" class="css-name">background-color</a>
<p class="css-desc">Background color</p>
</li>
<li>
<a href="Properties.html#border" class="css-name">border</a>
<p class="css-desc">The border that is drawn around calendar day box.</p>
</li>
<li>
<a href="Properties.html#border-bottom" class="css-name">border-bottom</a>
<p class="css-desc">The bottom side border for calendar day box.</p>
</li>
<li>
<a href="Properties.html#border-left" class="css-name">border-left</a>
<p class="css-desc">The left side border for calendar day box.</p>
</li>
<li>
<a href="Properties.html#border-right" class="css-name">border-right</a>
<p class="css-desc">The right side border for calendar day box.</p>
</li>
<li>
<a href="Properties.html#border-top" class="css-name">border-top</a>
<p class="css-desc">The top side border for calendar day box.</p>
</li>
<li>
<a href="Properties.html#color" class="css-name">color</a>
<p class="css-desc">Text color</p>
</li>
<li>
<a href="Properties.html#text-shadow" class="css-name">text-shadow</a>
<p class="css-desc">Shadow for text.</p>
</li>
</ul>
<h3>Applicable SWT Styles</h3>
<p>
<em>none</em>
</p>
<h3>Applicable States</h3>
<p>
      Widget states that can be referred to in a selector for this element
      (as CSS pseudo-classes):
      </p>
<ul>
<li>
<span class="css-name">:hover</span>
<p class="css-desc">Applies while the user hovers over the calendar day.</p>
</li>
<li>
<span class="css-name">:otherMonth</span>
<p class="css-desc">Applies to the day that belongs to other month.</p>
</li>
<li>
<span class="css-name">:selected</span>
<p class="css-desc">Applies to selected day.</p>
</li>
<li>
<span class="css-name">:today</span>
<p class="css-desc">Applies to the current day.</p>
</li>
<li>
<span class="css-name">:unfocused</span>
<p class="css-desc">Applies to the day on unfocused calendar.</p>
</li>
</ul>
<a name="DateTime-Calendar-Navbar">  </a>
<h2>DateTime-Calendar-Navbar</h2>
<p>The calendar navigation bar</p>
<h3>Available CSS Properties</h3>
<p>
      Properties that can be defined for this element:
      </p>
<ul>
<li>
<a href="Properties.html#background-color" class="css-name">background-color</a>
<p class="css-desc">Background color</p>
</li>
<li>
<a href="Properties.html#background-image" class="css-name">background-image</a>
<p class="css-desc">Calendar navigation bar background image or gradient</p>
</li>
<li>
<a href="Properties.html#border" class="css-name">border</a>
<p class="css-desc">The border that is drawn around calendar navigation bar.</p>
</li>
<li>
<a href="Properties.html#border-bottom" class="css-name">border-bottom</a>
<p class="css-desc">The bottom side border for calendar navigation bar.</p>
</li>
<li>
<a href="Properties.html#border-left" class="css-name">border-left</a>
<p class="css-desc">The left side border for calendar navigation bar.</p>
</li>
<li>
<a href="Properties.html#border-radius" class="css-name">border-radius</a>
<p class="css-desc">
          Border radius. The border radius has no effect if an enhanced border,
          like "inset" or "outset" is used.
        </p>
</li>
<li>
<a href="Properties.html#border-right" class="css-name">border-right</a>
<p class="css-desc">The right side border for calendar navigation bar.</p>
</li>
<li>
<a href="Properties.html#border-top" class="css-name">border-top</a>
<p class="css-desc">The top side border for calendar navigation bar.</p>
</li>
<li>
<a href="Properties.html#color" class="css-name">color</a>
<p class="css-desc">Text color</p>
</li>
<li>
<a href="Properties.html#font" class="css-name">font</a>
<p class="css-desc">
          Text font for the Calendar navigation bar.
        </p>
</li>
<li>
<a href="Properties.html#text-shadow" class="css-name">text-shadow</a>
<p class="css-desc">Shadow for text.</p>
</li>
</ul>
<h3>Applicable SWT Styles</h3>
<p>
<em>none</em>
</p>
<h3>Applicable States</h3>
<p>
      Widget states that can be referred to in a selector for this element
      (as CSS pseudo-classes):
      </p>
<ul>
<li>
<span class="css-name">:disabled</span>
<p class="css-desc">Applies to disbled DateTime controls.</p>
</li>
</ul>
<a name="DateTime-Calendar-PreviousMonthButton">  </a>
<h2>DateTime-Calendar-PreviousMonthButton</h2>
<p>The calendar previous month button</p>
<h3>Available CSS Properties</h3>
<p>
      Properties that can be defined for this element:
      </p>
<ul>
<li>
<a href="Properties.html#background-image" class="css-name">background-image</a>
<p class="css-desc">
          Background image for the Calendar previous month button.
          The size of the image should be 16 x 16 pixels.
        </p>
</li>
<li>
<a href="Properties.html#cursor" class="css-name">cursor</a>
<p class="css-desc">Calendar previous month button cursor.</p>
</li>
</ul>
<h3>Applicable SWT Styles</h3>
<p>
      SWT style flags that can be referred to in a selector for this element
      (as CSS attributes):
      </p>
<ul>
<li>
<span class="css-name">[RIGHT_TO_LEFT]</span>
<p class="css-desc">Indicates that the calendar is oriented right to left.</p>
</li>
</ul>
<h3>Applicable States</h3>
<p>
      Widget states that can be referred to in a selector for this element
      (as CSS pseudo-classes):
      </p>
<ul>
<li>
<span class="css-name">:disabled</span>
<p class="css-desc">Applies to disabled Calendar previous month button.</p>
</li>
<li>
<span class="css-name">:hover</span>
<p class="css-desc">Applies while the user hovers over the button.</p>
</li>
</ul>
<a name="DateTime-Calendar-NextMonthButton">  </a>
<h2>DateTime-Calendar-NextMonthButton</h2>
<p>The calendar next month button</p>
<h3>Available CSS Properties</h3>
<p>
      Properties that can be defined for this element:
      </p>
<ul>
<li>
<a href="Properties.html#background-image" class="css-name">background-image</a>
<p class="css-desc">
          Background image for the Calendar next month button.
          The size of the image should be 16 x 16 pixels.
        </p>
</li>
<li>
<a href="Properties.html#cursor" class="css-name">cursor</a>
<p class="css-desc">Calendar next month button cursor.</p>
</li>
</ul>
<h3>Applicable SWT Styles</h3>
<p>
      SWT style flags that can be referred to in a selector for this element
      (as CSS attributes):
      </p>
<ul>
<li>
<span class="css-name">[RIGHT_TO_LEFT]</span>
<p class="css-desc">Indicates that the calendar is oriented right to left.</p>
</li>
</ul>
<h3>Applicable States</h3>
<p>
      Widget states that can be referred to in a selector for this element
      (as CSS pseudo-classes):
      </p>
<ul>
<li>
<span class="css-name">:disabled</span>
<p class="css-desc">Applies to disabled Calendar next month button.</p>
</li>
<li>
<span class="css-name">:hover</span>
<p class="css-desc">Applies while the user hovers over the button.</p>
</li>
</ul>
<a name="DateTime-Calendar-PreviousYearButton">  </a>
<h2>DateTime-Calendar-PreviousYearButton</h2>
<p>The calendar previous year button</p>
<h3>Available CSS Properties</h3>
<p>
      Properties that can be defined for this element:
      </p>
<ul>
<li>
<a href="Properties.html#background-image" class="css-name">background-image</a>
<p class="css-desc">
          Background image for the Calendar previous year button.
          The size of the image should be 16 x 16 pixels.
        </p>
</li>
<li>
<a href="Properties.html#cursor" class="css-name">cursor</a>
<p class="css-desc">Calendar previous year button cursor.</p>
</li>
</ul>
<h3>Applicable SWT Styles</h3>
<p>
      SWT style flags that can be referred to in a selector for this element
      (as CSS attributes):
      </p>
<ul>
<li>
<span class="css-name">[RIGHT_TO_LEFT]</span>
<p class="css-desc">Indicates that the calendar is oriented right to left.</p>
</li>
</ul>
<h3>Applicable States</h3>
<p>
      Widget states that can be referred to in a selector for this element
      (as CSS pseudo-classes):
      </p>
<ul>
<li>
<span class="css-name">:disabled</span>
<p class="css-desc">Applies to disabled Calendar previous year button.</p>
</li>
<li>
<span class="css-name">:hover</span>
<p class="css-desc">Applies while the user hovers over the button.</p>
</li>
</ul>
<a name="DateTime-Calendar-NextYearButton">  </a>
<h2>DateTime-Calendar-NextYearButton</h2>
<p>The calendar next year button</p>
<h3>Available CSS Properties</h3>
<p>
      Properties that can be defined for this element:
      </p>
<ul>
<li>
<a href="Properties.html#background-image" class="css-name">background-image</a>
<p class="css-desc">
          Background image for the Calendar next year button.
          The size of the image should be 16 x 16 pixels.
        </p>
</li>
<li>
<a href="Properties.html#cursor" class="css-name">cursor</a>
<p class="css-desc">Calendar next year button cursor.</p>
</li>
</ul>
<h3>Applicable SWT Styles</h3>
<p>
      SWT style flags that can be referred to in a selector for this element
      (as CSS attributes):
      </p>
<ul>
<li>
<span class="css-name">[RIGHT_TO_LEFT]</span>
<p class="css-desc">Indicates that the calendar is oriented right to left.</p>
</li>
</ul>
<h3>Applicable States</h3>
<p>
      Widget states that can be referred to in a selector for this element
      (as CSS pseudo-classes):
      </p>
<ul>
<li>
<span class="css-name">:disabled</span>
<p class="css-desc">Applies to disabled Calendar next year button.</p>
</li>
<li>
<span class="css-name">:hover</span>
<p class="css-desc">Applies while the user hovers over the button.</p>
</li>
</ul>
<a name="DateTime-UpButton">  </a>
<h2>DateTime-UpButton</h2>
<p>The DateTime Date/Time up button</p>
<h3>Available CSS Properties</h3>
<p>
      Properties that can be defined for this element:
      </p>
<ul>
<li>
<a href="Properties.html#background-color" class="css-name">background-color</a>
<p class="css-desc">
          The background color of the DateTime Date/Time up button.
        </p>
</li>
<li>
<a href="Properties.html#background-image" class="css-name">background-image</a>
<p class="css-desc">
          Background image or gradient for DateTime up button.
        </p>
</li>
<li>
<a href="Properties.html#border" class="css-name">border</a>
<p class="css-desc">The border that is drawn around DateTime Date/Time up button.</p>
</li>
<li>
<a href="Properties.html#border-bottom" class="css-name">border-bottom</a>
<p class="css-desc">The bottom side border for DateTime Date/Time up button.</p>
</li>
<li>
<a href="Properties.html#border-left" class="css-name">border-left</a>
<p class="css-desc">The left side border for DateTime Date/Time up button.</p>
</li>
<li>
<a href="Properties.html#border-radius" class="css-name">border-radius</a>
<p class="css-desc">
          Border radius. The border radius has no effect if an enhanced border,
          like "inset" or "outset" is used.
        </p>
</li>
<li>
<a href="Properties.html#border-right" class="css-name">border-right</a>
<p class="css-desc">The right side border for DateTime Date/Time up button.</p>
</li>
<li>
<a href="Properties.html#border-top" class="css-name">border-top</a>
<p class="css-desc">The top side border for DateTime Date/Time up button.</p>
</li>
<li>
<a href="Properties.html#cursor" class="css-name">cursor</a>
<p class="css-desc">DateTime Date/Time up button cursor.</p>
</li>
<li>
<a href="Properties.html#width" class="css-name">width</a>
<p class="css-desc">
          The width of the DateTime Date/Time up button.
        </p>
</li>
</ul>
<h3>Applicable SWT Styles</h3>
<p>
      SWT style flags that can be referred to in a selector for this element
      (as CSS attributes):
      </p>
<ul>
<li>
<span class="css-name">[RIGHT_TO_LEFT]</span>
<p class="css-desc">Indicates that the DateTime is oriented right to left.</p>
</li>
</ul>
<h3>Applicable States</h3>
<p>
      Widget states that can be referred to in a selector for this element
      (as CSS pseudo-classes):
      </p>
<ul>
<li>
<span class="css-name">:disabled</span>
<p class="css-desc">Applies to disabled DateTime up button.</p>
</li>
<li>
<span class="css-name">:hover</span>
<p class="css-desc">Applies while the user hovers over the button.</p>
</li>
<li>
<span class="css-name">:pressed</span>
<p class="css-desc">Applies while a button is pressed.</p>
</li>
</ul>
<a name="DateTime-UpButton-Icon">  </a>
<h2>DateTime-UpButton-Icon</h2>
<p>The DateTime up button icon</p>
<h3>Available CSS Properties</h3>
<p>
      Properties that can be defined for this element:
      </p>
<ul>
<li>
<a href="Properties.html#background-image" class="css-name">background-image</a>
<p class="css-desc">The icon for DateTime up button.</p>
</li>
</ul>
<h3>Applicable SWT Styles</h3>
<p>
<em>none</em>
</p>
<h3>Applicable States</h3>
<p>
      Widget states that can be referred to in a selector for this element
      (as CSS pseudo-classes):
      </p>
<ul>
<li>
<span class="css-name">:disabled</span>
<p class="css-desc">Applies to disabled DateTime up button.</p>
</li>
<li>
<span class="css-name">:hover</span>
<p class="css-desc">Applies while the user hovers over the button.</p>
</li>
<li>
<span class="css-name">:pressed</span>
<p class="css-desc">Applies while a button is pressed.</p>
</li>
</ul>
<a name="DateTime-DownButton">  </a>
<h2>DateTime-DownButton</h2>
<p>The DateTime down button</p>
<h3>Available CSS Properties</h3>
<p>
      Properties that can be defined for this element:
      </p>
<ul>
<li>
<a href="Properties.html#background-color" class="css-name">background-color</a>
<p class="css-desc">
          The background color of the DateTime Date/Time down button.
        </p>
</li>
<li>
<a href="Properties.html#background-image" class="css-name">background-image</a>
<p class="css-desc">
          Background image or gradient for DateTime down button.
        </p>
</li>
<li>
<a href="Properties.html#border" class="css-name">border</a>
<p class="css-desc">The border that is drawn around DateTime Date/Time down button.</p>
</li>
<li>
<a href="Properties.html#border-bottom" class="css-name">border-bottom</a>
<p class="css-desc">The bottom side border for DateTime Date/Time down button.</p>
</li>
<li>
<a href="Properties.html#border-left" class="css-name">border-left</a>
<p class="css-desc">The left side border for DateTime Date/Time down button.</p>
</li>
<li>
<a href="Properties.html#border-radius" class="css-name">border-radius</a>
<p class="css-desc">
          Border radius. The border radius has no effect if an enhanced border,
          like "inset" or "outset" is used.
        </p>
</li>
<li>
<a href="Properties.html#border-right" class="css-name">border-right</a>
<p class="css-desc">The right side border for DateTime Date/Time down button.</p>
</li>
<li>
<a href="Properties.html#border-top" class="css-name">border-top</a>
<p class="css-desc">The top side border for DateTime Date/Time down button.</p>
</li>
<li>
<a href="Properties.html#cursor" class="css-name">cursor</a>
<p class="css-desc">DateTime Date/Time down button cursor.</p>
</li>
<li>
<a href="Properties.html#width" class="css-name">width</a>
<p class="css-desc">
          The width of the DateTime Date/Time down button.
        </p>
</li>
</ul>
<h3>Applicable SWT Styles</h3>
<p>
      SWT style flags that can be referred to in a selector for this element
      (as CSS attributes):
      </p>
<ul>
<li>
<span class="css-name">[RIGHT_TO_LEFT]</span>
<p class="css-desc">Indicates that the DateTime is oriented right to left.</p>
</li>
</ul>
<h3>Applicable States</h3>
<p>
      Widget states that can be referred to in a selector for this element
      (as CSS pseudo-classes):
      </p>
<ul>
<li>
<span class="css-name">:disabled</span>
<p class="css-desc">Applies to disabled DateTime down button.</p>
</li>
<li>
<span class="css-name">:hover</span>
<p class="css-desc">Applies while the user hovers over the button.</p>
</li>
<li>
<span class="css-name">:pressed</span>
<p class="css-desc">Applies while a button is pressed.</p>
</li>
</ul>
<a name="DateTime-DownButton-Icon">  </a>
<h2>DateTime-DownButton-Icon</h2>
<p>The DateTime down button icon</p>
<h3>Available CSS Properties</h3>
<p>
      Properties that can be defined for this element:
      </p>
<ul>
<li>
<a href="Properties.html#background-image" class="css-name">background-image</a>
<p class="css-desc">The icon for DateTime down button.</p>
</li>
</ul>
<h3>Applicable SWT Styles</h3>
<p>
<em>none</em>
</p>
<h3>Applicable States</h3>
<p>
      Widget states that can be referred to in a selector for this element
      (as CSS pseudo-classes):
      </p>
<ul>
<li>
<span class="css-name">:disabled</span>
<p class="css-desc">Applies to disabled DateTime down button.</p>
</li>
<li>
<span class="css-name">:hover</span>
<p class="css-desc">Applies while the user hovers over the button.</p>
</li>
<li>
<span class="css-name">:pressed</span>
<p class="css-desc">Applies while a button is pressed.</p>
</li>
</ul>
<a name="DateTime-DropDownButton">  </a>
<h2>DateTime-DropDownButton</h2>
<p>
        The DateTime drop-down button. Applies when the SWT.DROP_DOWN style is
        used.
      </p>
<h3>Available CSS Properties</h3>
<p>
      Properties that can be defined for this element:
      </p>
<ul>
<li>
<a href="Properties.html#background-color" class="css-name">background-color</a>
<p class="css-desc">
          The background color of the DateTime Date drop-down button.
        </p>
</li>
<li>
<a href="Properties.html#background-image" class="css-name">background-image</a>
<p class="css-desc">
          Background image or gradient for DateTime drop-down button.
        </p>
</li>
<li>
<a href="Properties.html#border" class="css-name">border</a>
<p class="css-desc">The border that is drawn around DateTime Date drop-down button.</p>
</li>
<li>
<a href="Properties.html#border-bottom" class="css-name">border-bottom</a>
<p class="css-desc">The bottom side border for DateTime Date drop-down button.</p>
</li>
<li>
<a href="Properties.html#border-left" class="css-name">border-left</a>
<p class="css-desc">The left side border for DateTime Date drop-down button.</p>
</li>
<li>
<a href="Properties.html#border-radius" class="css-name">border-radius</a>
<p class="css-desc">
          Border radius. The border radius has no effect if an enhanced border,
          like "inset" or "outset" is used.
        </p>
</li>
<li>
<a href="Properties.html#border-right" class="css-name">border-right</a>
<p class="css-desc">The right side border for DateTime Date drop-down button.</p>
</li>
<li>
<a href="Properties.html#border-top" class="css-name">border-top</a>
<p class="css-desc">The top side border for DateTime Date drop-down button.</p>
</li>
<li>
<a href="Properties.html#cursor" class="css-name">cursor</a>
<p class="css-desc">DateTime Date drop-down button cursor.</p>
</li>
<li>
<a href="Properties.html#width" class="css-name">width</a>
<p class="css-desc">
          The width of the DateTime Date drop-down button.
        </p>
</li>
</ul>
<h3>Applicable SWT Styles</h3>
<p>
      SWT style flags that can be referred to in a selector for this element
      (as CSS attributes):
      </p>
<ul>
<li>
<span class="css-name">[RIGHT_TO_LEFT]</span>
<p class="css-desc">Indicates that the DateTime is oriented right to left.</p>
</li>
</ul>
<h3>Applicable States</h3>
<p>
      Widget states that can be referred to in a selector for this element
      (as CSS pseudo-classes):
      </p>
<ul>
<li>
<span class="css-name">:disabled</span>
<p class="css-desc">Applies to disabled DateTime Date drop-down button.</p>
</li>
<li>
<span class="css-name">:hover</span>
<p class="css-desc">Applies while the user hovers over the button.</p>
</li>
<li>
<span class="css-name">:pressed</span>
<p class="css-desc">Applies while a button is pressed.</p>
</li>
</ul>
<a name="DateTime-DropDownButton-Icon">  </a>
<h2>DateTime-DropDownButton-Icon</h2>
<p>
        The drop-down button icon.
      </p>
<h3>Available CSS Properties</h3>
<p>
      Properties that can be defined for this element:
      </p>
<ul>
<li>
<a href="Properties.html#background-image" class="css-name">background-image</a>
<p class="css-desc">
          The icon for the DateTime drop-down button.
        </p>
</li>
</ul>
<h3>Applicable SWT Styles</h3>
<p>
<em>none</em>
</p>
<h3>Applicable States</h3>
<p>
      Widget states that can be referred to in a selector for this element
      (as CSS pseudo-classes):
      </p>
<ul>
<li>
<span class="css-name">:hover</span>
<p class="css-desc">Applies while the user hovers over the button.</p>
</li>
<li>
<span class="css-name">:pressed</span>
<p class="css-desc">Applies while a button is pressed.</p>
</li>
</ul>
<a name="DateTime-DropDownCalendar">  </a>
<h2>DateTime-DropDownCalendar</h2>
<p>
        The DateTime drop-down calendar. Applies when the SWT.DROP_DOWN style is
        used.
      </p>
<h3>Available CSS Properties</h3>
<p>
      Properties that can be defined for this element:
      </p>
<ul>
<li>
<a href="Properties.html#border" class="css-name">border</a>
<p class="css-desc">The border that is drawn around drop-down calendar.</p>
</li>
<li>
<a href="Properties.html#border-bottom" class="css-name">border-bottom</a>
<p class="css-desc">The bottom side border for drop-down calendar.</p>
</li>
<li>
<a href="Properties.html#border-left" class="css-name">border-left</a>
<p class="css-desc">The left side border for drop-down calendar.</p>
</li>
<li>
<a href="Properties.html#border-right" class="css-name">border-right</a>
<p class="css-desc">The right side border for drop-down calendar.</p>
</li>
<li>
<a href="Properties.html#border-top" class="css-name">border-top</a>
<p class="css-desc">The top side border for drop-down calendar.</p>
</li>
</ul>
<h3>Applicable SWT Styles</h3>
<p>
<em>none</em>
</p>
<h3>Applicable States</h3>
<p>
<em>none</em>
</p>
</body>
</html>
<html id='3333.Tables.html'></html><?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>Tables</title>
		<link type="text/css" rel="stylesheet" href="../../resources/bootstrap.css"/>
		<link type="text/css" rel="stylesheet" href="../../resources/custom.css"/>
	</head>
	<body>
		<h1 id="SpecifyingTableEditors">Specifying Table Editors</h1>
		<ol class="toc" style="list-style: disc;">
			<li>
				<a href="#SpecifyingTableEditors">Specifying Table Editors</a>
				<ol style="list-style: disc;">
					<li>
						<a href="#introduction">Introduction</a>
					</li>
					<li>
						<a href="#edition_tables">Edition Tables</a>
						<ol style="list-style: disc;">
							<li>
								<a href="#table_tools">Table Tools</a>
							</li>
							<li>
								<a href="#line_mappings">Line Mappings</a>
							</li>
							<li>
								<a href="#feature_column_mapping">Feature Column Mappings</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="#cross_tables">Cross Tables</a>
						<ol style="list-style: disc;">
							<li>
								<a href="#cross_table_tools">Table Tools</a>
							</li>
							<li>
								<a href="#element_column_mapping">Element Column Mappings</a>
							</li>
							<li>
								<a href="#intersection_mapping">Intersection Mappings</a>
							</li>
						</ol>
					</li>
				</ol>
			</li>
		</ol>
		<h2 id="introduction">Introduction</h2>
		<p>Sirius supports the definition of two kinds of tabular modelers:</p>
		<ul>
			<li>
				<em>Edition Tables</em> are classical tables, where each line represents an element and each column (from a fixed set) represents some (potentially computed) property of the element. Lines can contain sub-lines (recursively) to represent sub-elements, and the end-user can expand/collapse these at will. Provided that you specify the corresponding tools, users can create new lines and delete existing ones.
			</li>
			<li>
				<em>Cross Tables</em> are slightly different, optimized to represent relationship between elements in a matrix-like way. Both lines and columns represent elements, and each call at an intersection if a certain relationship exists between them. Cross tables also support sub-lines, but not sub-columns. However provided the right tools are specified, users can create and/or delete columns in addition to lines.
			</li>
		</ul>
		<p>Both kinds of table share a lot of elements. This document will focus on 
			<a href="#edition_tables">edition tables</a>, which are the most commonly used. The 
			<a href="#cross_tables">section on cross-tables</a> describes them by their differences with edition tables.
		</p> 
		<img border="0" src="./images/table_description_editor.png"/>
<em>
<ul>
<img src="images/tricks.png" style="box-shadow:none;display:inline;margin:0px;padding:0px;"/> 
		<em>use the <img src="images/questionMarque.png" style="box-shadow:none;display:inline;margin:0px;padding:0px;"/> icon to access the available fields tooltips:</em>
<ul>
			<li> 
		<b>Id</b> field: The identifier of this element. Must be unique. Changing this identifier will break existing user models which reference the old identifier.</li>
			<li> 
		<b>Label</b> field: The label used to display this to the end-user.</li>
			<li> 
		<b>Domain Class</b> field: Type of the element represented by the Node.</li>
			<li> 
		<b>Semantic Candidates Expression</b> field: Restrict the list of elements to consider before creating the graphical elements. If it is not set, then all semantic models in session will be browsed and any element of the given type validating the precondition expression will cause the creation of a graphical element. If you set this attribute then only the elements returned by the expression evaluation will be considered.</li>
</ul>
</ul>
</em>
		<p>
			<strong>Note</strong>: Advanced features like layers, filters and mapping imports which exist for diagrams are not currently available for tables.
		</p>
		<h2 id="edition_tables">Edition Tables</h2>
		<p>Edition tables are configured by creating an 
			<em>Edition Table Description</em> element (inside a 
			<em>Viewpoint</em>) and its sub-elements (which describe the lines, columns and tools). 
			<em>Edition Table Descriptions</em> are similar to other representation description elements.
		</p>
		<p>The mandatory 
			<em>Domain Class</em> attribute is the type of semantic element which are represented by the table. In the 
			<em>Model Explorer</em>, end-users will be able to create new instances of this table on semantic elements of this type (assuming the corresponding viewpoint is enabled in the 
			<em>Modeling Project</em>). The syntax for the domain class name can be the basic name, like 
			<code>Class</code>, a qualified name using name of the EMF EPackage which defines the type, like 
			<code>uml.Class</code>, or a fully qualified URI like 
			<code>http://www.eclipse.org/uml2/3.0.0/UML#//Class</code>.
		</p>
		<p>By default, new tables can be created on 
			<em>any</em> instance of the 
			<em>Domain Class</em>. You can use the 
			<em>Precondition Expression</em> (available in the 
			<em>Advanced</em> category) to change this. If such an expression is specified, it will be evaluated in the context of the semantic element the user has selected, and only if the expression returns 
			<code>true</code> will the user be able to create a new table on this element.
		</p>
		<p>The default title for newly created table can be specified using the 
			<em>Title expression</em> (
			<em>Advanced</em> category), which is evaluated in the context of the semantic element on which the table is created, and should return a string. If the expression is not specified, the default title is the label of the table description (of its 
			<em>Id</em> if no 
			<em>Label</em> is set) prefixed with the string 
			<code>"new "</code> (e.g. 
			<code>new Package Contents</code>).
		</p>
		<p>It is recommended that the 
			<em>Edition Table Description</em> be explicitly associated with the meta-model(s) of the semantic elements it will represent. You can add referenced meta-models from different sources in the 
			<em>Metamodels</em> property section of the 
			<em>Edition Table Description</em>. Sirius will work even without this association, but setting it explicitly will give you better feedback when validating your 
			<a href="../../Glossary.html#VSM">
				<em>VSM</em>
			</a>.
		</p>
		<p>The 
			<em>Initialization</em> and 
			<em>Show on startup</em> flags control whether table instances are created and/or opened automatically without user intervention. If 
			<em>Initialization</em> is set, then when the viewpoint which contains this table description is enabled, instances of this table description will be automatically created on all compatible semantic elements. If 
			<em>Show on startup</em> in set, then when a modeling project is opened which contains instances of this table description, they will be opened: if only one such representation exist, it will be opened automatically; is there are more than one, a dialog box will appear to allow the user to select which one(s) to open.
		</p>
		<p>Finally, the 
			<em>Initial Header Column Width</em> (
			<em>Advanced</em> category) is specific to table descriptions (both edition tables and cross tables). It can be used to specify the default size (in pixels) of the left-most column of the table, which contains the labels of the elements represented by each line. If the value is 0 (the default), the column width will be computed from the initial content when the table is created. In case of edition tables, if the value is -1, the header Column is hidden. In case of cross tables, -1 value has the same behavior than 0 value.
		</p>
		<h3 id="table_tools">Table Tools</h3>
		<p>Some tools which apply to the whole table are specified directly inside the 
			<em>Edition Table Description</em>:
		</p>
		<ul>
			<li>
				<em>Representation Creation Tools</em>: These tools (one for each kind of representation supported by Sirius) can be used to create (and open) a new representation from an existing table element. It will be available to end-users in the 
				<em>Navigate</em> context menu on compatible table elements. To configure the tool, simply select in the 
				<em>Mappings</em> property which kinds of lines the tool should appear on (you can be more precise using the 
				<em>Precondition</em> expression if necessary), and select the kind of representation which should be created using the 
				<em>Representation Description</em> property (in practice, one of 
				<em>Diagram Description</em>, 
				<em>Table Description</em> or 
				<em>Tree Description</em> depending on the tool). Normally, the new representation will be created on the semantic element represented by the tree item on which the user invoked the tool. Sometimes you want the tool to appear on one element, but create a representation on another one. In this case, use the 
				<em>Browse expression</em> (in the 
				<em>Advanced</em> category) to navigate from the element selected to the one one which the new representation should actually be created. Finally, any operation you specify in the body of the tool will be executed when the tool is invoked; you can use it to initialize the content of the model represented.
			</li>
			<li>
				<em>Representation Navigation Tools</em>: These tools (one for each kind of representation supported by Sirius) are very similar to the previous ones. The only differences is that they allow users to navigate to existing representation instead of creating new ones. If such a tool exists, the 
				<em>Navigate</em> context menu on an element will contains an entry for each corresponding representation which already exists on the element selected (or reachable from the selected element using the 
				<em>Browse expression</em>). You can specify a 
				<em>Navigation name expression</em> (
				<em>Advanced</em> category) to be used in the menu entry instead of using the title of the existing representation. This can be useful to make it more explicit what the relationship is between the current element and the target tree.
			</li>
			<li>
				<em>Line Creation Tools</em> which are directly contained inside the 
				<em>Table Description</em> are used to create root table lines. They are available to end-users through a combo button in the main Eclipse tool-bar. To configure it, simply select the kind of line the tool will create in the 
				<em>Mapping</em> property, and specify the tool&#8217;s behavior using normal model operations.
			</li>
		</ul>
		<h4 id="tools_specification">Tools Specification</h4>
		<p>
			<a href="../general/ToolsSpecification.html">Refer to Tools specification</a>
		</p>
		<h3 id="line_mappings">Line Mappings</h3>
		<p>The lines which will appear in a table (and their organization in sub-lines) are defined by the 
			<em>Line</em> mapping elements inside the 
			<em>Table Description</em> element. A 
			<em>Table Description</em> contains 
			<em>Line</em> mappings which define which elements will appear as top-level lines of the table, while each 
			<em>Line</em> mapping can contain sub-mappings which define its own direct sub-lines. If an element (the table or a line mapping) contains several sub-mappings, the element&#8217;s content will appear in the order of the mappings: first all the instances of the first mapping, then the instances of the second one, etc.
		</p>
		<p>A 
			<em>Line</em> mapping is defined by a 
			<em>Domain Class</em> and a 
			<em>Semantic Candidates Expression</em>. The 
			<em>Semantic Candidates Expression</em> indicates where to look in the semantic model for elements which should be represented by the mapping. The expression is evaluated in the context of the parent&#8217;s semantic element (the parent being either the table itself or a parent line). It should return a set of semantic elements. Only those which are instances of the specified 
			<em>Domain Class</em> are retained and actually represented as instances of this mapping. The semantic element thus associated to each line is called the line&#8217;s 
			<em>target</em> element.
		</p>
		<p>You can associate more semantic elements to a line by defining the 
			<em>Associated Elements Expression</em> (in the 
			<em>Advanced Category</em>), which is evaluated in the context of the target and may return more semantic elements. Any change in the target element or one of the associated elements will automatically trigger a refresh of the line.
		</p>
		<p>The 
			<em>Header Label Expression</em> (in the 
			<em>Label</em> category) is evaluated in the context of a line&#8217;s target and should return the text to be shown for the line in the header column (on the left of the table).
		</p>
		<p>A 
			<em>Line</em> mapping may 
			<em>Reuse Sub Lines</em> (see the 
			<em>Import</em> category), including itself, as sub-mappings. The effect is exactly the same as if the reused mapping(s) were created as children if the parent. However because a mapping can reuse itself or one of its parent mapping, this allows to create table of infinite depth (or at least not bounded a priori). The 
			<em>Reused in Mappings</em> property is the symmetrical of 
			<em>Reused Sub Lines</em>: it shows you which line mappings reuse this one as a sub-line.
		</p>
		<h4 id="line_style">Line Style</h4>
		<p>You can create 
			<em>Style</em> elements inside a line mapping to set the default style of all the cells on this line (note that this style override the column mappings one).
		</p>
		<p>A 
			<em>Foreground Style</em> element can be used to set the font size, font style (e.g. italic) and text color. A 
			<em>Background Style</em> can be used to set the background color. Both are optional.
		</p>
		<p>You can also specify 
			<em>Conditional styles</em> for the foreground. Each one is a normal foreground style wrapped in a predicate expression (evaluated in the context of the line&#8217;s semantic element). If conditional styles are specified, their conditions are tested in order, and the first one which matches is used. If no conditional style is defined, the 
			<em>Foreground Style</em> (or the default) is applied.
		</p>
		<h4 id="line_tools">Line Tools</h4>
		<p>There are two kinds of tools which can be created inside line mappings (and apply to all instances of that mapping).</p>
		<ul>
			<li>
				<em>Create Line Tool</em> are used to create a new lines. A mapping can contain several such tools. They appear in the context menu of the instances of the mapping, if the (optional) 
				<em>Precondition</em> of the tool holds for the instance&#8217;s target. A creation tool must specify what kind of 
				<em>Mapping</em> it will create. The actual behavior of the creation tool is defined in the tool&#8217;s body, using all the standard model operations.
			</li>
			<li>
				<em>Delete Line Tool</em>, used to delete elements. If a line mapping does not define explicitly a deletion tool, the default behavior of the 
				<em>Delete line</em> operation is to remove the line&#8217;s semantic 
				<em>target</em> and all 
				<em>associated elements</em> from the semantic model. If you want a specific behavior, you must create a 
				<em>Delete Line Tool</em> explicitly and describe the behavior in the tool&#8217;s body. If you want to prevent the deletion of an element, you must create a 
				<em>Delete Line Tool</em> and set a 
				<em>Precondition</em> to return 
				<code>false</code> for the elements which should not be deleted.
			</li>
		</ul>
		<h3 id="feature_column_mapping">Feature Column Mappings</h3>
		<p>The columns which will appear in an edition table are defined by the 
			<em>Feature Column</em> mapping elements inside the 
			<em>Table Description</em> element. They are named 
			<em>Feature Column</em> mappings because they normally represent a property (maybe computed) of the elements which are represented by the table&#8217;s lines, and also to distinguish them from the kind of columns which appear in 
			<a href="#cross_tables">cross tables</a>. 
		</p>
		<p>A 
			<em>Feature Column</em> mapping is defined by its 
			<em>Feature Name</em>, which should normally be the name of a valid feature (attribute or reference) of the element which appear in the tables' lines. If a line represents a semantic element 
			<em>S1</em> but you want on some column to show a property of an element reachable from 
			<em>S1</em> instead of 
			<em>S1</em> itself, you can use the 
			<em>Feature Parent Expression</em> (
			<em>Advanced</em> category), which is evaluated in the context of 
			<em>S1</em> and should return an element 
			<em>S2</em>. 
			<em>S2</em> will be considered the 
			<em>target</em> element of the cell at this intersection instead of 
			<em>S1</em>.
		</p>
		<p>You can associate more semantic elements to the mapping using the 
			<em>Associated elements expression</em> in the 
			<em>Advanced</em> category. The expression will be evaluated in the context of the target semantic element of the cell.
		</p>
		<p>The 
			<em>Label Expression</em> is used to compute the text to show in each cell. It is evaluated for each cell in the context of its target semantic element. If you compute text for elements whose EClass have no common EStructuralFeatures (inherited or with same name), you can use 
			<code>*</code> as 
			<em>Feature Name</em> to skip the feature name validation during the cell creation. 
		</p>
		<p>In tables, the contents of the cell is editable by default. Even with no direct edit tool specified, Sirius will try to interpret the text entered by the user according to the type of the feature the column represents (as defined by the 
			<em>Feature Name</em>. For example if a column represents a boolean attribute, Sirius will correctly interpret the strings 
			<code>"true"</code> and 
			<code>"false"</code> and set the value accordingly when the user edits a cell. You can disable this behavior by giving a 
			<em>Can Edit</em> expression, which is evaluated in the context of the semantic element of each individual cell. It should return 
			<code>false</code> if that cell should not be editable.
		</p>
		<p>Finally, the 
			<em>Header Label Expression</em> is used to compute the header of the column itself, and is evaluated in the context of the table&#8217;s target semantic element, and the 
			<em>Initial width</em>, if set to a non-zero value, is used as the initial width of the column.
		</p>
		<h4 id="column_styles">Column Styles</h4>
		<p>Columns can contain style definition to set the style of all the cells on these columns. However, these styles can be overridden by the styles which may be present in the line mappings for the cells of this column. The style definition elements, including support for conditional styles, is the same as for style associated to line mappings. Refer to 
			<a href="#line_style">the corresponding section</a> for more details.
		</p>
		<h4 id="column_tools">Column Tools</h4>
		<p>Column can currently only define a 
			<em>Label edit</em> tool, which will apply to all the cells of the column. It works like all edit The 
			<em>Edit Mask</em> element (contained inside the tool) is used to parse the new label&#8217;s value as entered by the user, and to select part of this label as input variables to the editing action&#8217;s body. The mask can contain substrings of the form 
			<code>{N}</code> where 
			<em>N</em> is a number. The parts of the new label&#8217;s value which correspond to these substring will be available as variables named <code>argN</code>. For example, with an edit mask of <code>{0}:{1}</code> and an input string entered by the user of <code>attr : EString</code>, the tool&#8217;s body would be executed with variables <code>arg0</code> set to <code>attr&#9251;</code> and <code>arg1</code> set to <code>&#9251;EString</code>.
		</p>
		<h2 id="cross_tables">Cross Tables</h2>
		<p>
			<em>Cross Tables</em> are slightly different from edition tables. They are optimized to represent relationship between elements in a matrix-like way. Both lines and columns represent elements, and each call at an intersection if a certain relationship exists between them. Cross tables also support sub-lines, but not sub-columns. However provided the right tools are specified, users can create and/or delete columns in addition to lines.
		</p>
		<p>Cross tables are specified using a 
			<em>Cross Table Description</em> element, which works exactly like 
			<a href="#edition_tables">
				<em>Edition Table Description</em>
			</a> elements. The differences appear in the type of elements they can contain.
		</p>
		<h3 id="cross_table_tools">Table Tools</h3>
		<p>Cross tables can contain the same kinds of tools as edition tables (see 
			<a href="#table_tools">the corresponding section</a> for details). In addition, they can contain 
			<em>Create Column Tools</em>, which behave exactly like 
			<em>Create Line</em> tools, except that they apply to 
			<a href="#element_column_mapping">
				<em>Element Column</em> mappings
			</a> (see below) and are used to create new columns in the table.
		</p>
		<h4 id="cross_table_tools_specification">Tools Specification</h4>
		<p>
			<a href="../general/ToolsSpecification.html">Refer to Tools specification</a>
		</p>
		<h3 id="element_column_mapping">Element Column Mappings</h3>
		<p>In cross tables, columns represent elements instead of elements' properties (as is the case for edition tables). The set of columns is defined by one or more 
			<em>Element Column</em> mappings. They are almost identical to 
			<a href="#line_mappings">line mappings</a>, except that:
		</p>
		<ul>
			<li>they can not be nested (there are no &#8220;sub-columns&#8221; like there are sub-lines), and thus can not &#8220;reuse&#8221; column mappings either;</li>
			<li>they can have an 
				<em>Initial width</em> (set in the 
				<em>Advanced</em> category). 
			</li>
		</ul>
		<p>
			<em>Element Column</em> mappings can contain a 
			<em>Create Column Tool</em> and a 
			<em>Delete Column Tool</em>, which are specified and behave in a similar way than the 
			<em>Create Line</em> and 
			<em>Delete Line</em> 
			<a href="#line_tools">tools for line mappings</a>.
		</p>
		<p>They can also contain style definitions (including conditional style), which apply to all the cells in the column (unless overridden by the intersection mapping or by the line mapping if any).</p>
		<h3 id="intersection_mapping">Intersection Mappings</h3>
		<p>The line and element column mappings in a cross table define which lines and columns will be present in the tables, but not the contents of the cells. This is defined by 
			<em>Intersection</em> mappings. The 
			<em>Line Mapping</em> and 
			<em>Column Mapping</em> properties indicate which cells the mapping describes. The 
			<em>Label Expression</em>, evaluated in the context of the cell&#8217;s targets semantic element, should return the text to show in the cell, while the 
			<em>Can Edit</em> expression indicates whether or not the cell&#8217;s value can be edited by end-users.
		</p>
		<p>There are two slightly different use cases for intersection mapping, which use different sub-sets of the remaining properties:</p>
		<ol>
			<li>Intersections which represent a relation between the element on a line and the element on a column. For example, if both lines and columns represented UML classes, this could be the &#8220;super-class&#8221; reference between a class and those it inherits from;</li>
			<li>Intersections which represent a semantic element (instead of just a relation) which is itself related to both the element on the line and the element on a column. To continue with the UML example, this would be used to represent UML Associations, which are full-blown objects representing a relationship between classes.</li>
		</ol>
		<p>If you are familiar with it, this is similar to 
			<em>Relation Based Edges</em> and 
			<em>Element Based Edges</em> in Sirius diagrams.
		</p>
		<p>In the first case (&#8220;relation-based intersection&#8221;), the semantic element of a cell will the the semantic element of the cell&#8217;s line. To configure such an intersection, you must only set the 
			<em>Column Finder Expression</em>: from a line&#8217;s semantic target element, it should return the semantic element of the column in which the cell should appear.
		</p>
		<p>The second use case (&#8220;element-based intersection&#8221;) is enabled by setting the 
			<em>Use Domain Class</em> flag in the 
			<em>Domain Based</em> category. You must then indicate the 
			<em>Domain Class</em> of the elements which will be represented by the cells, and the 
			<em>Semantic Candidates Expression</em>. The expression will be evaluated in the context of the whole table&#8217;s semantic element, and should return all elements (instances of the 
			<em>Domain Class</em>) which should be represented by cells. These elements will be the semantic target element of the cell. You can use the 
			<em>Precondition Expression</em> and 
			<em>Associated elements expression</em> (
			<em>Advanced</em> category) with the same semantics as for other mappings. Finally, you must set both the 
			<em>Column Finder Expression</em> (
			<em>General</em> category) and the 
			<em>Line Finder Expression</em> (
			<em>Domain Based</em> category): they will both be evaluated in the context of the cell&#8217;s semantic element, and should return the semantic elements of the column and line at which the intersection should appear. In our example, these would be expressions which, from the 
			<em>Association</em> element, find the source and target classes of the association.
		</p>
		<h4 id="intersection_mapping_style">Intersection Style</h4>
		<p>An 
			<em>Intersection</em> mapping can contain style elements, including conditional styles. If they are present, they override any style set on the corresponding column mapping or line mapping.
		</p>
		<h4 id="intersection_mapping_tools">Intersection Tools</h4>
		<p>Intersection mappings can contain two kinds of tools:</p>
		<ul>
			<li>
				<em>Label Edit</em> tools are standard &#8220;direct edit&#8221; tools, which allow end-users to edit a cell&#8217;s label. You can specify the actual changes in the model in the tool&#8217;s body.
			</li>
			<li>
				<em>Create Cell Tools</em> are used when the user edits an initially empty cell, where there is no relation (or element relating) the line and column. It is defined like a 
				<em>Label Edit</em> tool (with an 
				<em>Edit Mask Variable</em> to obtain the text entered by the user), but instead of editing an existing relation, it should create a relation (e.g. add the class in the column as a super-class to the one on the line) or the element relating the line and column (e.g. create an 
				<em>Association</em> which links the classes). 
			</li>
		</ul>
	</body>
</html><html id='0023.ScriptingReference.24.7.html'></html><?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>BirtStr</title>
    <link rel="StyleSheet" href="css/ScriptingReference.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
  </head>
  <body>
    <div style="text-align: left;">
      <table cellspacing="0" summary="">
        <tr>
          <td>
            <a href="ScriptingReference.24.6.html"><img src="images/prev.gif" alt="Previous" border="0" /></a>
          </td>
          <td>
            <a href="ScriptingReference.24.8.html"><img src="images/next.gif" alt="Next" border="0" /></a>
          </td>
        </tr>
      </table>
    </div>
    <hr align="left" />
    <blockquote>
      <h2 class="RH1_Class">Class  <a name="267653">BirtStr</a></h2>
      <p class="b_Body"><a name="261858">The BirtStr class provides functions to manipulate strings, for example, to concatenate strings, trim extra spaces, get parts of a string, and display strings in lower or upper case. This class is static. The application cannot create instances of the class.</a></p>
      <h3 class="RH2_Method"><a name="261859">BirtStr.charLength</a></h3>
      <p class="b_Body"><a name="261860">This function returns the length of a given string.</a></p>
      <p class="N_sb_ScanBold"><a name="261861">Syntax</a></p>
      <div class="rs_RSyntax"><a name="261862">integer BirtStr.charLength( string source )</a></div>
      <p class="N_sb_ScanBold"><a name="261863">Parameter</a></p>
      <p class="RParameter"><a name="261864">source</a></p>
      <p class="bn_BodyNoLead"><a name="261865">String. The string to evaluate.</a></p>
      <p class="N_sb_ScanBold"><a name="261868">Returns</a></p>
      <p class="b_Body"><a name="261869">Integer. The number of characters in the specified string.</a></p>
      <p class="N_sb_ScanBold"><a name="261870">Examples</a></p>
      <p class="b_Body"><a name="261871">The following example returns the length of a specific string:</a></p>
      <div class="cf_CodeFirst"><a name="261872">BirtStr.charLength( "Julie Murphy" ) // returns 12</a></div>
      <p class="b_Body"><a name="261876">The following example returns the length of each value in the CustomerName field:</a></p>
      <div class="cf_CodeFirst"><a name="261877">BirtStr.charLength( row["CustomerName"] )</a></div>
      <h3 class="RH2_Method"><a name="263870">BirtStr.concat</a></h3>
      <p class="b_Body"><a name="263871">This function returns the string that results from concatenating specified strings.</a></p>
      <p class="N_sb_ScanBold"><a name="263872">Syntax</a></p>
      <div class="rs_RSyntax"><a name="263873">string BirtStr.concat( string source1, ..., sourceN )</a></div>
      <p class="N_sb_ScanBold"><a name="263874">Parameter</a></p>
      <p class="RParameter"><a name="263875">source1, ..., sourceN</a></p>
      <p class="bn_BodyNoLead"><a name="263876">String. The strings to concatenate.</a></p>
      <p class="N_sb_ScanBold"><a name="263877">Returns</a></p>
      <p class="b_Body"><a name="263878">String. The string that results from concatenating a series of strings.</a></p>
      <p class="N_sb_ScanBold"><a name="263879">Example</a></p>
      <p class="b_Body"><a name="263882">The following example returns a full address by concatenating values from multiple fields:</a></p>
      <div class="cf_CodeFirst"><a name="263883">BirtStr.concat( row["AddressLine1"], ", ", row["AddressLine2"], ", ", row["City"], " ", row["PostalCode"], "row["State"], ", ", row["Country"] )</a></div>
      <h3 class="RH2_Method"><a name="264323">BirtStr.indexOf</a></h3>
      <p class="b_Body"><a name="264324">This function returns the position of a specified substring in a given string.</a></p>
      <p class="N_sb_ScanBold"><a name="264325">Syntax</a></p>
      <div class="rs_RSyntax"><a name="264326">integer BirtStr.indexOf( sring target, string source, integer start )</a></div>
      <p class="N_sb_ScanBold"><a name="264327">Parameters</a></p>
      <p class="RParameter"><a name="264328">target</a></p>
      <p class="bn_BodyNoLead"><a name="264329">String. The substring to search for. The search is case-sensitive.</a></p>
      <p class="RParameter"><a name="264373">source</a></p>
      <p class="bn_BodyNoLead"><a name="264393">String. The string in which to look for a specified substring.</a></p>
      <p class="RParameter"><a name="264398">start</a></p>
      <p class="bn_BodyNoLead"><a name="264503">Integer. Optional. The position in the source string where the search starts. If you omit this argument, the function starts the search from the first character of the string.</a></p>
      <p class="N_sb_ScanBold"><a name="264330">Returns</a></p>
      <p class="b_Body"><a name="264331">Integer. The numerical position of the substring in the string. The first character of a string starts at 0. If the substring is not found, the function returns -1.</a></p>
      <p class="N_sb_ScanBold"><a name="264332">Examples</a></p>
      <p class="b_Body"><a name="264333">The following example returns the numeric position of specified characters in specific strings:</a></p>
      <div class="cf_CodeFirst"><a name="264334">BirtStr.indexOf( " ", "Julie Murphy" ) // returns 5</a></div>
      <div class="co_Code"><a name="264705">BirtStr.indexOf( "-", "ModelA-1234-567" ) // returns 6</a></div>
      <div class="co_Code"><a name="266548">BirtStr.indexOf( "-", "ModelA-1234-567", 7 ) // returns 11</a></div>
      <p class="b_Body"><a name="266569">The following example uses BirtStr.indexOf(&nbsp;) in conjunction with BirtStr.left(&nbsp;) to display the characters that precede the space character in a customer name. The BirtStr.left(&nbsp;) function extracts a substring of a specified length, starting from the first character. In this example, the length of the substring to display is equal to the numerical position of the space character.</a></p>
      <div class="cf_CodeFirst"><a name="266570">spaceCharPosition = BirtStr.indexOf( " ", row["customerName"] );</a></div>
      <div class="co_Code"><a name="266571">displayFirstName = BirtStr.left( row["customerName"], spaceCharPosition );</a></div>
      <p class="b_Body"><a name="266572">If the customer name is Julie Murphy, the expression returns Julie.</a></p>
      <h3 class="RH2_Method"><a name="264831">BirtStr.left</a></h3>
      <p class="b_Body"><a name="264832">This function extracts a substring of a specified length from a string, starting from the left-most, or first, character.</a></p>
      <p class="N_sb_ScanBold"><a name="264833">Syntax</a></p>
      <div class="rs_RSyntax"><a name="264834">string BirtStr.left( string source, integer n )</a></div>
      <p class="N_sb_ScanBold"><a name="264835">Parameters</a></p>
      <p class="RParameter"><a name="265142">source</a></p>
      <p class="bn_BodyNoLead"><a name="265143">String. The string from which to extract a substring.</a></p>
      <p class="RParameter"><a name="265144">n</a></p>
      <p class="bn_BodyNoLead"><a name="264839">Integer. The number of characters to extract, starting from the first character.</a></p>
      <p class="N_sb_ScanBold"><a name="264842">Returns</a></p>
      <p class="b_Body"><a name="265267">Sring. A substring of a specific length. </a></p>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="265268">If you omit n, the number of characters to extract, the function returns the first character only. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="265269">If n is zero, the function returns an empty string. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="265270">If n is greater than the length of the string, the function returns the entire string.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <p class="N_sb_ScanBold"><a name="264844">Examples</a></p>
      <p class="b_Body"><a name="264845">The following example returns substrings of various lengths from specific strings:</a></p>
      <div class="cf_CodeFirst"><a name="264846">BirtStr.left( "Julie Murphy", 5 ) // returns Julie</a></div>
      <div class="co_Code"><a name="264847">BirtStr.left( "Julie Murphy", 12 ) // returns Julie Murphy</a></div>
      <p class="b_Body"><a name="264849">The following example uses BirtStr.indexOf(&nbsp;) in conjunction with BirtStr.left(&nbsp;) to display the characters that precede the space character in a customer name. The BirtStr.left(&nbsp;) function extracts a substring of a specified length, starting from the first character. In this example, the length of the substring to display is equal to the numerical position of the space character.</a></p>
      <div class="cf_CodeFirst"><a name="264850">spaceCharPosition = BirtStr.indexOf( " ", row["customerName"] );</a></div>
      <div class="co_Code"><a name="264851">displayFirstName = BirtStr.left( row["customerName"], spaceCharPosition );</a></div>
      <p class="b_Body"><a name="264852">If the customer name is Julie Murphy, the expression returns Julie.</a></p>
      <h3 class="RH2_Method"><a name="265393">BirtStr.right</a></h3>
      <p class="b_Body"><a name="265394">This function extracts a substring of a specified length from a string, starting from the right-most, or last, character.</a></p>
      <p class="N_sb_ScanBold"><a name="265395">Syntax</a></p>
      <div class="rs_RSyntax"><a name="265396">String BirtStr.right( String source, integer n )</a></div>
      <p class="N_sb_ScanBold"><a name="265397">Parameters</a></p>
      <p class="RParameter"><a name="265398">source</a></p>
      <p class="bn_BodyNoLead"><a name="265399">String. The string from which to extract a substring.</a></p>
      <p class="RParameter"><a name="265400">n</a></p>
      <p class="bn_BodyNoLead"><a name="265401">Integer. The number of characters to extract, starting from the last character.</a></p>
      <p class="N_sb_ScanBold"><a name="265402">Returns</a></p>
      <p class="b_Body"><a name="265403">String. A substring of a specific length. </a></p>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="265404">If you omit n, the number of characters to extract, the function returns the last character only. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="265405">If n is zero, the function returns an empty string. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="265406">If n is greater than the length of the string, the function returns the entire string.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <p class="N_sb_ScanBold"><a name="265407">Examples</a></p>
      <p class="b_Body"><a name="265408">The following example returns substrings of various lengths from specific strings:</a></p>
      <div class="cf_CodeFirst"><a name="265409">BirtStr.right( "Julie Murphy", 6 ) // returns Murphy</a></div>
      <div class="co_Code"><a name="265410">BirtStr.right( "Julie Murphy", 12 ) // returns Julie Murphy</a></div>
      <p class="b_Body"><a name="265683">The following example uses BirtStr.right(&nbsp;) in conjunction with the BirtStr.indexOf(&nbsp;) and BirtStr.charLength(&nbsp;) functions to display the characters that appear after the space character in a customer name. This example assumes that the number of characters after the hyphen varies. Therefore, the length of the entire string (returned by BirtStr.charLength(&nbsp;)) minus the length up to the hyphen (returned by BirtStr.indexOf(&nbsp;)) is the number of characters to display.</a></p>
      <div class="cf_CodeFirst"><a name="265684">spaceCharPosition = BirtStr.indexOf( " ", row["customerName"] );</a></div>
      <div class="co_Code"><a name="265731">displayLastName = BirtStr.right( row["customerName"], (BirtStr.charLength( row["customerName"] - (spaceCharPosition + 1)) )</a></div>
      <p class="b_Body"><a name="265685">If the customer name is Julie Murphy, the expression returns Murphy. If the customer name is Kwai Li, the expression returns Li.</a></p>
      <h3 class="RH2_Method"><a name="265763">BirtStr.search</a></h3>
      <p class="b_Body"><a name="265764">This function returns the position of a specified substring in a given string. The substring can contain wildcard characters.</a></p>
      <p class="N_sb_ScanBold"><a name="265765">Syntax</a></p>
      <div class="rs_RSyntax"><a name="265766">integer BirtStr.search( string pattern, string source, integer index )</a></div>
      <p class="N_sb_ScanBold"><a name="265767">Parameters</a></p>
      <p class="RParameter"><a name="265768">pattern</a></p>
      <p class="bn_BodyNoLead"><a name="266046">String. The string pattern to search for. The search is case-insensitive. You can use the following wildcard characters in a pattern:</a></p>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><span style="font-family: &quot;Microsoft Sans Serif&quot;"><a name="266052">An asterisk (&nbsp;*&nbsp;) matches zero or more characters, including spaces</a></span>. For example, t*n matches tn, tin, and teen. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="266054">A question mark (?) matches exactly one character. For example, t?n matches tan, ten, tin, and ton. It does not match teen or tn.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <p class="b_Body"><a name="307053">To match a literal asterisk or question mark in a string, precede those characters with two backslash characters (\\). For example, to find the substring R*10, use the following string pattern:</a></p>
      <div class="cfb_CodeFirst_Break"><a name="307079">"R\\*10"</a></div>
      <p class="RParameter"><a name="266022">source</a></p>
      <p class="bn_BodyNoLead"><a name="265769">String. The string in which to look for a specified substring.</a></p>
      <p class="RParameter"><a name="265770">index</a></p>
      <p class="bn_BodyNoLead"><a name="266100">Integer. Optional. The position in the source string where the search starts. If you omit this argument, the function starts the search from the first character of the string.</a></p>
      <p class="N_sb_ScanBold"><a name="266101">Returns</a></p>
      <p class="b_Body"><a name="266102">Integer. The numerical position of the substring in the string. The first character of a string starts at 0. If the substring is not found, the function returns -1.</a></p>
      <p class="N_sb_ScanBold"><a name="265777">Examples</a></p>
      <p class="b_Body"><a name="266358">The following example returns the numeric position of specified string patterns in specific strings:</a></p>
      <div class="cf_CodeFirst"><a name="266359">BirtStr.search( "XM?", "XMS-ModelA-1234-567" ) // returns 0</a></div>
      <div class="co_Code"><a name="266360">BirtStr.search( "ModelA*", "XMS-ModelA-1234-567" ) // returns 4</a></div>
      <div class="co_Code"><a name="266377">BirtStr.search( "-", "XMS-ModelA-1234-567", 4 ) // returns 10</a></div>
      <p class="b_Body"><a name="266308">The following example searches for the string pattern, S*A, in each value in the ProductCode field. If the product code is KBS5412A, the expression returns 2.</a></p>
      <div class="cf_CodeFirst"><a name="266214">BirtStr.search( "S*A", row["ProductCode"] )</a></div>
      <p class="b_Body"><a name="266580">The following example uses BirtStr.search(&nbsp;) in conjunction with BirtStr.left(&nbsp;) to display the characters that precede the string pattern, -Model*, in a product name. The BirtStr.left(&nbsp;) function extracts a substring of a specified length, starting from the first character. In this example, the length of the substring to display is equal to the numerical position of the string pattern.</a></p>
      <div class="cf_CodeFirst"><a name="266581">stringPatternPosition = BirtStr.search( "-Model*", row["productName"] );</a></div>
      <div class="co_Code"><a name="266597">displayString = BirtStr.left( row["productName"], stringPatternPosition );</a></div>
      <p class="b_Body"><a name="266582">If the product name is XMS-ModelA-1234, the expression returns XMS.</a></p>
      <h3 class="RH2_Method"><a name="266634">BirtStr.toLower</a></h3>
      <p class="b_Body"><a name="266635">This function converts all letters in a string to lowercase.</a></p>
      <p class="N_sb_ScanBold"><a name="266636">Syntax</a></p>
      <div class="rs_RSyntax"><a name="266637">string BirtStr.toLower( string source )</a></div>
      <p class="N_sb_ScanBold"><a name="266638">Parameter</a></p>
      <p class="RParameter"><a name="266639">source</a></p>
      <p class="bn_BodyNoLead"><a name="266640">String. The string to convert to lowercase.</a></p>
      <p class="N_sb_ScanBold"><a name="266641">Returns</a></p>
      <p class="b_Body"><a name="266642">String. The specified string in all lowercase letters</a></p>
      <p class="N_sb_ScanBold"><a name="266643">Example</a></p>
      <p class="b_Body"><a name="266644">The following example displays all the values in the productLine field in lowercase:</a></p>
      <div class="cf_CodeFirst"><a name="266645">BirtStr.toLower( row["productLine"] ) </a></div>
      <h3 class="RH2_Method"><a name="266740">BirtStr.toUpper</a></h3>
      <p class="b_Body"><a name="266741">This function converts all letters in a string to uppercase.</a></p>
      <p class="N_sb_ScanBold"><a name="266742">Syntax</a></p>
      <div class="rs_RSyntax"><a name="266743">string BirtStr.toUpper( string source )</a></div>
      <p class="N_sb_ScanBold"><a name="266744">Parameter</a></p>
      <p class="RParameter"><a name="266745">source</a></p>
      <p class="bn_BodyNoLead"><a name="266746">String. The string to convert to uppercase.</a></p>
      <p class="N_sb_ScanBold"><a name="266747">Returns</a></p>
      <p class="b_Body"><a name="266748">String. The specified string in all uppercase letters</a></p>
      <p class="N_sb_ScanBold"><a name="266749">Example</a></p>
      <p class="b_Body"><a name="266750">The following example displays all the values in the customerName field in uppercase:</a></p>
      <div class="cf_CodeFirst"><a name="266751">BirtStr.toUpper( row["customerName"] ) </a></div>
      <h3 class="RH2_Method"><a name="267084">BirtStr.trim</a></h3>
      <p class="b_Body"><span style="font-family: &quot;Microsoft Sans Serif&quot;"><a name="267147">This function returns a string with all leading and trailing blank characters removed. </a></span>It does not remove blank characters between words.</p>
      <p class="N_sb_ScanBold"><a name="267148">Syntax</a></p>
      <div class="rs_RSyntax"><a name="267149">string BirtStr.trim( string source )</a></div>
      <p class="N_sb_ScanBold"><a name="267150">Parameter</a></p>
      <p class="RParameter"><a name="267151">source</a></p>
      <p class="bn_BodyNoLead"><a name="267152">String. The string from which to remove leading and trailing blank characters.</a></p>
      <p class="N_sb_ScanBold"><a name="267153">Returns</a></p>
      <p class="b_Body"><a name="267154">String. A string with all leading and trailing blank characters removed.</a></p>
      <p class="N_sb_ScanBold"><a name="267155">Example</a></p>
      <p class="b_Body"><a name="267156">The following example uses BirtStr.trim(&nbsp;) to remove all leading and trailing blank characters from values in the FirstName and LastName data fields. </a></p>
      <div class="cf_CodeFirst"><a name="267157">BirtStr.trim( row["FirstName"]) + " " + BirtStr.trim(row["LastName"] )</a></div>
      <h3 class="RH2_Method"><a name="267249">BirtStr.trimLeft</a></h3>
      <p class="b_Body"><span style="font-family: &quot;Microsoft Sans Serif&quot;"><a name="267250">This function returns a string with all leading and trailing blank characters removed. </a></span>It does not remove blank characters between words.</p>
      <p class="N_sb_ScanBold"><a name="267251">Syntax</a></p>
      <div class="rs_RSyntax"><a name="267252">string BirtStr.trimLeft( string source )</a></div>
      <p class="N_sb_ScanBold"><a name="267253">Parameter</a></p>
      <p class="RParameter"><a name="267254">source</a></p>
      <p class="bn_BodyNoLead"><a name="267255">String. The string from which to remove leading blank characters.</a></p>
      <p class="N_sb_ScanBold"><a name="267256">Returns</a></p>
      <p class="b_Body"><a name="267257">String. A string with all leading blank characters removed.</a></p>
      <p class="N_sb_ScanBold"><a name="267258">Example</a></p>
      <p class="b_Body"><a name="267307">The following example concatenates a literal string with each value in the customerName field. BirtStr.trimLeft(&nbsp;) removes all blank characters preceding the customerName value so that there are no extra blank characters between the literal string and the customerName value.</a></p>
      <div class="cf_CodeFirst"><a name="267308">"Customer name: " + BirtStr.trimLeft( row["customerName"] )</a></div>
      <h3 class="RH2_Method"><a name="267327">BirtStr.trimRight</a></h3>
      <p class="b_Body"><span style="font-family: &quot;Microsoft Sans Serif&quot;"><a name="267328">This function returns a string with all trailing blank characters removed. </a></span>It does not remove blank characters between words.</p>
      <p class="N_sb_ScanBold"><a name="267329">Syntax</a></p>
      <div class="rs_RSyntax"><a name="267330">string BirtStr.trimRight( string source )</a></div>
      <p class="N_sb_ScanBold"><a name="267331">Parameter</a></p>
      <p class="RParameter"><a name="267332">source</a></p>
      <p class="bn_BodyNoLead"><a name="267333">String. The string from which to remove trailing blank characters.</a></p>
      <p class="N_sb_ScanBold"><a name="267334">Returns</a></p>
      <p class="b_Body"><a name="267335">String. A string with all trailing blank characters removed.</a></p>
      <p class="N_sb_ScanBold"><a name="267336">Example</a></p>
      <p class="b_Body"><a name="267541">The following example concatenates each value in the Comment field with a semicolon, then with a value in the Action field. BirtStr.trimRight(&nbsp;) removes all blank characters after the Comment value so that there are no extra blank characters between the Comment string and the semicolon.</a></p>
      <div class="cf_CodeFirst"><a name="267542">BirtStr.trimRight( row["Comment"]) + "; " + row["Action"] )</a></div>
    </blockquote>
    <hr align="left" />
    <table align="right" summary="">
      <tr>
        <td class="WebWorks_Company_Name_Bottom">
          <a href="notices.html">(c) Copyright Actuate Corporation 2013</a>
        </td>
      </tr>
    </table>
  </body>
</html><html id='3851.306_mwe2.html'></html><html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
	<title>MWE 2</title>
	<link href="book.css" rel="stylesheet" type="text/css">
	<link href="code.css" rel="stylesheet" type="text/css">
	<link rel="home" href="index.html" title="">
</head>
<body>

<h1 id="mwe2">MWE 2</h1>

<p>The Modeling Workflow Engine 2 (MWE2) is a rewritten backwards compatible implementation of the Modeling Workflow Engine (MWE). It is a declarative, externally configurable generator engine. Users can describe arbitrary object compositions by means of a simple, concise syntax that allows to declare object instances, attribute values and references. One use case - that’s where the name had its origins - is the definition of workflows. Such a workflow consists usually of a number of components that interact with each other. There are components to read EMF resources, to perform operations (transformations) on them and to write them back or to generate any number of other artifacts out of the information. Workflows are typically executed in a single JVM. However there are no constraints the prevent implementors to provide components that spawn multiple threads or new processes.</p>

<h2 id="mwe2-exampe">Examples</h2>

<p>Let’s start with a couple of examples to demonstrate some usage scenarios for MWE2. The first example is a simple <code>HelloWorld</code> module that does nothing but print a message to standard out. The second module is assembled of three components that read an Ecore file, transform the contained classifier-names to upper-case and serialize the resource back to a new file. The last example uses the life-cycle methods of the <a href="https://github.com/eclipse/mwe/blob/v2.7.1/plugins/org.eclipse.emf.mwe2.runtime/src/org/eclipse/emf/mwe2/runtime/workflow/IWorkflowComponent.java">IWorkflowComponent</a> to print the execution time of the workflow.</p>

<h3 id="mwe2-hello-world">The Simplest Workflow</h3>

<p>The arguably shortest MWE2 module may look like the following snippet:</p>

<pre><code class="language-mwe2">module HelloWorld 

SayHello {
  message = "Hello World!"
}
</code></pre>

<p>It configures a very simple workflow component with a message that should be printed to <code>System.out</code> when the workflow is executed. The module begins with a declaration of its name. It must fulfill the Java conventions for fully qualified class-names. That’s why the module <code>HelloWorld</code> has to be placed into the default package of a Java source folder. The second element in the module is the class-name <code>SayHello</code> which introduces the root element of the module. The interpreter will create an instance of the given type and configure it as declared between the curly braces. E.g. the assignment <code>message = "Hello World!"</code> in the module will be interpreted as an invocation of the <code>setMessage(String)</code> on the instantiated object. As one can easily imagine, the implementation of the class <code>SayHello</code> looks straight forward:</p>

<pre><code class="language-java">import org.eclipse.emf.mwe2.runtime.workflow.IWorkflowComponent;
import org.eclipse.emf.mwe2.runtime.workflow.IWorkflowContext;

public class SayHello implements IWorkflowComponent {

  private String message = "Hello World!";
  public void setMessage(String message) {
    this.message = message;
  }
  public String getMessage() {
    return message;
  }

  public void invoke(IWorkflowContext ctx) {
    System.out.println(getMessage());
  }

  public void postInvoke() {}
  public void preInvoke() {}
}
</code></pre>

<p>It looks like a simple POJO and that’s the philosophy behind MWE2. It is easily possible to assemble completely independent objects in a declarative manner. To make the workflow executable with the <a href="https://github.com/eclipse/mwe/blob/v2.7.1/plugins/org.eclipse.emf.mwe2.launch/src/org/eclipse/emf/mwe2/launch/runtime/Mwe2Runner.java">Mwe2Runner</a>, the component <code>SayHello</code> must be nested in a root workflow:</p>

<pre><code class="language-mwe2">module HelloWorld 

Workflow {
  component = SayHello {
    message = "Hello World!"
  }
}
</code></pre>

<p>The package <code>org.eclipse.emf.mwe2.runtime.workflow</code> of the class <a href="https://github.com/eclipse/mwe/blob/v2.7.1/plugins/org.eclipse.emf.mwe2.runtime/src/org/eclipse/emf/mwe2/runtime/workflow/Workflow.java">Workflow</a> is implicitly imported in MWE2 modules to make the modules more concise. The execution result of this workflow will be revealed after a quick <em>Run As .. → MWE2 Workflow</em> in the console as</p>

<p><code>Hello World!</code></p>

<h3 id="mwe2-simple-transformation">A Simple Transformation</h3>

<p>The following workflow solves the exemplary task to rename every <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClassifier.java">EClassifier</a> in an <em>*.ecore</em> file. It consists of three components that read, modify and write the model file:</p>

<pre><code class="language-mwe2">module Renamer
Workflow {
  component = ResourceReader {
        uri = "model.ecore"
  }
  component = RenamingTransformer {}
  component = ResourceWriter {
        uri = "uppercaseModel.ecore"
  }
}
</code></pre>

<p>The implementation of these components is surprisingly simple. It is easily possible to create own components even for minor operations to automate a process.</p>

<p>The <code>ResourceReader</code> simply reads the file with the given <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.common/src/org/eclipse/emf/common/util/URI.java">URI</a> and stores it in a so called <em>slot</em> of the workflow context. A slot can be understood as a dictionary or map-entry.</p>

<pre><code class="language-java">public class ResourceReader extends WorkflowComponentWithSlot {
  private String uri;
  public void invoke(IWorkflowContext ctx) {
    ResourceSet resourceSet = new ResourceSetImpl();
    URI fileURI = URI.createFileURI(uri); 
    Resource resource = resourceSet.getResource(fileURI, true);
    ctx.put(getSlot(), resource);
  }
  
  public void setUri(String uri) {
    this.uri = uri;
  }
  public String getUri() {
    return uri;
  }
}
</code></pre>

<p>The actual transformer takes the model from the slot and modifies it. It simply iterates the content of the resource, identifies each <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClassifier.java">EClassifier</a> and sets its name.</p>

<pre><code class="language-java">public class RenamingTransformer extends WorkflowComponentWithSlot {
  private boolean toLowerCase = false;
  public void invoke(IWorkflowContext ctx) {
    Resource resource = (Resource) ctx.get(getSlot());
    EcoreUtil.resolveAll(resource);
    Iterator&lt;Object&gt; contents = EcoreUtil.getAllContents(resource, true);
    Iterator&lt;EClassifier&gt; iter = 
        Iterators.filter(contents, EClassifier.class);
    while(iter.hasNext()) {
      EClassifier classifier = (EClassifier) iter.next();
      classifier.setName(isToLowerCase() 
          ? classifier.getName().toLowerCase()
          : classifier.getName().toUpperCase());
    }
  }

  public void setToLowerCase(boolean toLowerCase) {
    this.toLowerCase = toLowerCase;
  }
  public boolean isToLowerCase() {
    return toLowerCase;
  }
}
</code></pre>

<p>After the model has been modified it should be written to a new file. That’s what the <code>ResourceWriter</code> does. It actually takes the resource from the given <em>slot</em> and saves it with the configured <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.common/src/org/eclipse/emf/common/util/URI.java">URI</a>:</p>

<pre><code class="language-java">public class ResourceWriter extends WorkflowComponentWithSlot {
  private String uri;
  public void invoke(IWorkflowContext ctx) {
    Resource resource = (Resource) ctx.get(getSlot());
    URI uri = URI.createFileURI(getUri());
    uri = resource.getResourceSet().getURIConverter().normalize(uri);
    resource.setURI(uri);
    try {
      resource.save(null);
    } catch (IOException e) {
      throw new WrappedException(e);
    }
  }

  public void setUri(String uri) {
    this.uri = uri;
  }
  public String getUri() {
    return uri;
  }
}
</code></pre>

<p>Last but not least, the common super type for those components looks like this:</p>

<pre><code class="language-java">public abstract class WorkflowComponentWithSlot 
      implements IWorkflowComponent {
  private String slot = "model";
  public void setSlot(String slot) {
    this.slot = slot;
  }
  public String getSlot() {
    return slot;
  }
  
  public void postInvoke() {}
  public void preInvoke() {}
}
</code></pre>

<p>Each of the mentioned implementations is rather simple and can be done in a couple of minutes. Many tedious tasks that developers face in their daily work can be addressed by a chain of rather simple components. MWE2 can be used to automate these tasks with minimum effort.</p>

<h3 id="mwe2-stopwatch">A Stop-Watch</h3>

<p>The last example demonstrates how to combine the MWE2 concepts to create a simple stop-watch that allows to measure the execution time of a set of components. The idea is to add the very same stop-watch twice as a component to a workflow. It will measure the time from the first pre-invoke to the last post-invoke event and print the elapsed milliseconds to the console.</p>

<pre><code class="language-java">public class StopWatch implements IWorkflowComponent {
  private long start;
  private boolean shouldStop = false;
  public void invoke(IWorkflowContext ctx) {}

  public void postInvoke() {
    if (shouldStop) {
      long elapsed = System.currentTimeMillis() - start;
      System.out.println("Time elapsed: " + elapsed + " ms");
    }
    shouldStop = true;
  }

  public void preInvoke() {
    start = System.currentTimeMillis();
  }
}
</code></pre>

<p>Clients who want to leverage this kind of stop-watch may use the following pattern. The instance of the class <code>StopWatch</code> has to be added as the first component and the last component to a workflow. Every component in-between will be measured. In this case, it is another workflow that does not need know about this decoration. The idea is to use a local identifier for the instantiated <code>StopWatch</code> and reuse this one at the end to receive the post-invoke life-cycle event twice.</p>

<pre><code class="language-mwe2">module MeasuredWorkflow

Workflow {
  component = StopWatch: stopWatch {}
  component = @OtherWorkflow {}
  component = stopWatch
}
</code></pre>

<h2 id="mwe2-language-reference">Language Reference</h2>

<p>MWE2 has a few well defined concepts which can be combined to assemble arbitrary object graphs in a compact and declarative manner.</p>

<ul>
  <li>A MWE2 file defines a <code>module</code> which exposes its root <code>component</code> as reusable artifact.</li>
  <li><code>Properties</code> can be used to extract reusable, configurable parts of the workflow.</li>
  <li>Components are mapped to plain vanilla <em>Java objects</em>. Arbitrary <code>setABC(..)</code> and <code>addXYZ(..)</code> methods are used to configure them.</li>
</ul>

<p>Let’s consider the follow short example module and <code>SampleClass</code> to explain these concepts.</p>

<pre><code class="language-mwe2">module com.mycompany.Example

import java.util.*

SampleClass {
  singleValue = 'a string'
  multiValue = ArrayList {}
  child = {}
} 
</code></pre>

<pre><code class="language-java">package com.mycompany;

import java.util.List;

public class SampleClass {
  public void setSingleValue(String value) {..}
  public void addMultiValue(List&lt;?&gt; value) {..}
  public void addChild(SampleClass value) {..}
}
</code></pre>

<h3 id="mwe2-java-references">Mapping to Java Classes</h3>

<p>The module <code>com.mycompany.Example</code> defines a root component of type <code>com.mycompany.SampleClass</code>. It is possible to use the simple class-name because MWE2 uses the very same visibility rules as the Java compiler. Classes that are in the same package as the module can be referenced by their simple name. The same rule applies for classes from the <code>java.lang</code> package. For convenience reasons is the package <code>org.eclipse.emf.mwe2.runtime.workflow</code> implicitly imported as well as it exposes some library workflow components. However, the imports are more flexible then in Java since MWE2-imports can be relative, e.g. the <code>import java.*</code> resolves the reference <code>util.ArrayList</code> to <code>java.util.ArrayList</code>.</p>

<p>The root instance of type <code>SampleClass</code> has to be configured after it has been created. Therefore the method <code>setSingleValue</code> will be called at first. The given parameter is <code>'a string'</code>. The method is identified by its name which starts with <code>set</code>. To allow to assign multi-value properties, MWE provides access to methods called <code>add*</code> as well.</p>

<p>If the right side of the assignment in the workflow file does not define a class explicitly, its type is inferred from the method parameter. The line <code>child = {}</code> is equivalent to <code>child = SampleClass {}</code> and creates a new instance of <code>SampleClass</code>.</p>

<p>MWE2 ships with nice tool support. The editor will provide content assist for the allowed types and highlight incompatible assignments. The available properties for Java classes will be proposed as well.</p>

<h3 id="mwe2-module">Module</h3>

<p>As MWE2 modules have a fully qualified name, it is possible to refer to them from other modules. The type of the module is derived from the type of its root component. The <code>com.mycompany.Example</code> can be assigned at any place where a <code>com.mycompany.SampleClass</code> is expected.</p>

<p>Let’s create a second module <code>com.mycompany.Second</code> like this:</p>

<pre><code class="language-mwe2">module com.mycompany.sub.Second

import com.mycompany.*

SampleClass {
  child = @Example {}
} 
</code></pre>

<p>The <code>child</code> value will be assigned to an instance of <code>SampleClass</code> that is configured as in the first example workflow. This enables nice composition and a very focused, reusable component design.</p>

<p>As the same rules apply in MWE2 like in Java, the module <code>com.mycompany.sub.Second</code> has to be defined in a file called <em>Second.mwe2</em> in the package <code>com.mycompany.sub</code>. The import semantic for other modules is the same as for classes. The import statement allows to refer to <code>com.mycompany.Example</code> with a shortened name.</p>

<h3 id="mwe2-properties">Properties</h3>

<p>MWE2 allows to extract arbitrary information into properties to ensure that these pieces are not cluttered around the workflow and to allow for easier external customization. The exemplary component definition was only changed slightly by introducing a property <code>value</code>.</p>

<pre><code class="language-mwe2">module com.mycompany.Example

var value = 'a string'

SampleClass {
  singleValue = value
}
</code></pre>

<p>The type of the property will be derived from the default value similar to the mechanism that is already known from <code>set</code>- and <code>add</code>-methods. If no default value is given, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html">String</a> will be assumed. However, properties are not limited to strings. The second built in type is boolean via the familiar literals <code>true</code> and <code>false</code>. More flexibility is available via actual component literals.</p>

<pre><code class="language-mwe2">module com.mycompany.Example

var childInstance = SampleClass {
                      singleValue = "child"
                    }

SampleClass {
  child = childInstance
}
</code></pre>

<p>If one wants to define string properties that are actual reusable parts for other properties, she may use defined variables inside other literals like this:</p>

<pre><code class="language-mwe2">var aString = "part"
var anotherString = "reuse the ${part} here"
</code></pre>

<p>This is especially useful for file paths in workflows as one would usually want to define some common root directories only once in the workflow and reuse this fragment across certain other file locations.</p>

<h3 id="mwe2-mandatory">Mandatory Properties</h3>

<p>It is not always feasible to define default values for properties. That is where mandatory properties come into play. Modules define their interface not only via their fully qualified name and the type of the root component but also by means of the defined properties.</p>

<pre><code class="language-mwe2">module com.mycompany.Example

var optional = 'a string'
var mandatory

SampleClass {
  singleValue = optional
  child = {
    singleValue = mandatory
  }
}
</code></pre>

<p>This version of the example module exposes two externally assignable properties. The second one has no default value assigned and is thereby considered to be mandatory. The mandatory value must be assigned if we reuse <code>org.mycompany.Example</code> in another module like this:</p>

<pre><code class="language-mwe2">module com.mycompany.Second

var newMandatory

@Example {
  mandatory = "mandatoryValue"
  optional = newMandatory
} 
</code></pre>

<p>Note that it is even possible to reuse another module as the root component of a new module. In this case we set the mandatory property of <code>Example</code> to a specific constant value while the previously optional value is now redefined as mandatory by means of a new property without a default value.</p>

<p>It is not only possible to define mandatory properties for MWE2 modules but for classes as well. Therefore MWE2 ships with the <a href="https://github.com/eclipse/mwe/blob/v2.7.1/plugins/org.eclipse.emf.mwe2.runtime/src/org/eclipse/emf/mwe2/runtime/Mandatory.java">Mandatory</a> annotation. If a <code>set</code>- or <code>add</code>-method is marked as <a href="https://github.com/eclipse/mwe/blob/v2.7.1/plugins/org.eclipse.emf.mwe2.runtime/src/org/eclipse/emf/mwe2/runtime/Mandatory.java">Mandatory</a>, the module validation will fail if no value was assigned to that feature.</p>

<h3 id="mwe2-named-components">Named Components</h3>

<p>Properties are not the only way to define something that can be reused. It is possible to assign a name to any instantiated component whether it’s created from a class literal or from another component. This allows to refer to previously created and configured instances. Named instances can come handy for notification and call-back mechanisms or more general in terms of defined life-cycle events.</p>

<p>If we wanted to assign the created instance to a property of itself, we could use the following syntax:</p>

<pre><code class="language-mwe2">module com.mycompany.Example

SampleClass : self {
  child = self
}
</code></pre>

<p>A named component can be referenced immediately after its creation but it is not possible to use forward references in a MWE2 file.</p>

<h3 id="mwe2-auto-inject">Auto Injection</h3>

<p>Existing modules or classes often expose a set of properties that will be assigned to features of its root component or set- and add- methods respectively. In many cases its quite hard to come up with yet another name for the very same concept which leads to the situation where the properties itself have the very same name as the component’s feature. To avoid the overall repetition of assignments, MWE2 offers the possibility to use the <code>auto-inject</code> modifier on the component literal:</p>

<pre><code class="language-mwe2">module com.mycompany.Example

var child = SampleClass {}

SampleClass auto-inject {
}
</code></pre>

<p>This example will implicitly assign the value of the property <code>child</code> to the feature <code>child</code> of the root component. This is especially useful for highly configurable workflows that expose dozens of optional parameters each of which can be assigned to one or more components.</p>

<p>The <code>auto-inject</code> modifier can be used for a subset of the available features as well. It will suppressed for the explicitly set values of a component.</p>

<h2 id="mwe2-syntax-reference">Syntax Reference</h2>

<p>The following chapter serves as a reference for the concrete syntax of MWE2. The building blocks of a module will be described in a few words.</p>

<p>MWE2 is not sensitive to white space and allows to define line-comments and block comments everywhere. The syntax is the same as one is used to from the Java language:</p>

<pre><code class="language-mwe2">// This is a comment
/* 
  This is another one.
*/
</code></pre>

<p>Every name in MWE2 can be a fully qualified identifier and must follow the Java conventions. However, in contrast to Java identifiers it is not allowed to use German umlauts or Unicode escape sequences in identifiers. A valid ID-segment in MWE2 starts with a letter or an underscore and is followed by any number of letters, numbers or underscores. An identifier is composed from one or more segments which are delimited by a ‘.’ dot.</p>

<pre><code class="language-xtext">Name: ID ('.' ID)*;
ID: ('a'..'z'|'A'..'Z'|'_') ('a'..'z'|'A'..'Z'|'_'|'0'..'9')*; 
</code></pre>

<p>MWE2 does not use a semicolon as a statement delimiter at any place.</p>

<h3 id="mwe2-module-syntax">Module</h3>

<p><img src="images/mwe2/module.png" alt="" /></p>

<p>A <code>module</code> consists of four parts. The very first statement in a <em>*.mwe2</em> file is the module declaration. The name of the module must follow the naming convention for Java classes. That MWE2 file’s name must therefore be the same as the last segment of the module-name and it has to be placed in the appropriate package of a Java source path.</p>

<p>It is allowed to define any number of import statements in a module. Imports are either suffixed by a wildcard or they import a concrete class or module. MWE2 can handle relative imports in case one uses the wildcard notation:</p>

<pre><code class="language-xtext">'import' name '.*'?   
</code></pre>

<h3 id="mwe2-property-syntax">Property</h3>

<p>The list of declared properties follows the optional import section. It is allowed to define modules without any properties.</p>

<p><img src="images/mwe2/property.png" alt="" /></p>

<p>Each declared property is locally visible in the module. It furthermore defines an assignable feature of the module in case one refers to it from another module. Properties may either have a default value or they are considered to be <em>mandatory</em>. If the type of property is omitted it will be inferred from the default value. The default type of a property is <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html">String</a>. That is, if no default value is available, the property is <em>mandatory</em> and of type <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html">String</a>.</p>

<p>There are four types of values available in MWE2. One may either define a string, boolean or component literal or a reference to a previously defined property.</p>

<h3 id="mwe2-component-syntax">Component</h3>

<p>The building block of a module is the root component. It defines the externally visible type of the module and may either be created from a Java type or from another module.</p>

<p><img src="images/mwe2/component.png" alt="" /></p>

<p>The type of the component can be derived in many cases except for the root component. That’s why it’s optional in the component literal. If no type is given, it will be inferred from the left side of the assignment. The assigned feature can either be a declared property of the module or a <code>set</code>- or <code>add</code>-method of a Java class.</p>

<p>Components can be named to make them referable in subsequent assignments. Following the <code>':'</code> keyword, one can define an identifier for the instantiated component. The identifier is locally visible in the module and any assignment that is defined after the named component can refer to this identifier and thereby exactly point to the instantiated object.</p>

<p>The next option for a component is <code>auto-inject</code>. If this modifier is set on a component, any available feature of the component that has the same name as a property or previously created named component will be automatically assigned.</p>

<p>The core of a component is the list of assignments between the curly braces. An arbitrary number of values can be set on the component by means of feature-to-value pairs.</p>

<p><img src="images/mwe2/assignment.png" alt="" /></p>

<p>The available constructs on the right hand side of the assignment are the same as for default values for properties.</p>

<h3 id="mwe2-string-literals-syntax">String Literals</h3>

<p>String values are likely to be the most used literals in MWE2. There is a convenient syntax for string concatenation available due to the high relevance in a descriptive object composition and configuration language. MWE2 strings are multi-line strings and can be composed of several parts.</p>

<pre><code class="language-mwe2">var aString = 'a value'
var anotherString = 'It is possible to embed ${aString} into
 a multi-line string'
</code></pre>

<p>This is especially convenient for path-substitution if one defines e.g. a common root directory and wants to specify other paths relative to the base.</p>

<p>There are two different delimiters available for strings. Users are free to either use single- or double-quotes to start and end strings. If a certain string contains a lot of single-quotes one would better choose double-quotes as delimiter and vice versa. There is no semantic difference between both notations.</p>

<p>The escape character in MWE2 is the back-slash <code>"\\"</code>. It can be used to write line-breaks or tabular characters explicitly and to escape the beginning of substitution variables <code>${</code> and the quotes itself. Allowed escape sequences are:</p>

<table>
  <tbody>
    <tr>
      <td><code>\n</code></td>
      <td>line break</td>
    </tr>
    <tr>
      <td><code>\r</code></td>
      <td>carriage return</td>
    </tr>
    <tr>
      <td><code>\t</code></td>
      <td>tabular character</td>
    </tr>
    <tr>
      <td><code>\'</code></td>
      <td>single-quote (can be omitted in double-quoted strings)</td>
    </tr>
    <tr>
      <td><code>\"</code></td>
      <td>double-quote (can be omitted in single-quoted strings)</td>
    </tr>
    <tr>
      <td><code>\${</code></td>
      <td>escape the substitution variable start ${</td>
    </tr>
    <tr>
      <td><code>\\</code></td>
      <td>the back-slash itself</td>
    </tr>
  </tbody>
</table>

<p>Other escape sequence are illegal in MWE2 strings.</p>

<h3 id="mwe2-boolean-literals">Boolean Literals</h3>

<p>MWE2 has native support for the boolean type. The literals are <code>true</code> and <code>false</code>.</p>

<h3 id="mwe2-references">References</h3>

<p>Each assigned value in MWE2 either as default for properties or in a component assignment can be a reference to a previously declared property or named component. The can be referenced intuitively by their name.</p>


</body>
</html>
<html id='0601.slibmod.html'></html><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link rel="stylesheet" href="images/../../../css/book.css" type="text/css"/>
<link rel="stylesheet" href="images/../../../css/emf-book.css" type="text/css"/>
<title>Generating an Extended EMF Model</title>
</head>
<body lang="EN-US" xml:lang="EN-US">
<h1>Generating an Extended EMF Model</h1>

<p>Last updated: May 31, 2006</p>

<p>This tutorial is a follow-on to
<a href="../../tutorials/clibmod/clibmod.html">Generating an EMF Model</a>,
in which a simple library model is generated. In that tutorial, we showed how an
EMF model can be generated very easily from a Rose model or a set of Java
interface files. In this tutorial, we will show you how to generate an EMF model
that extends an existing model.</p>

<p>First of all, let us look back at the library model:</p>
<img src="images/../../clibmod/images/model.gif" alt="Library UML model"/>

<p>We are now going to extend this library model by creating a new package,
schoollibrary. This package contains three classes, two of which extend classes
in the library model:</p>
<img src="images/model.gif" alt="Schoollibrary UML model"/>

<p>This tutorial will show you step-by-step how to generate an EMF model of this
schoollibrary package, using the library model that you've already created.
As in the previous tutorial, we will demonstrate creating this new model from a
Rose model and from a set of Java interfaces.</p>

<p>The screenshots are based on version 3.2.0 RC6 of the Eclipse SDK and version 2.2.0 RC6a
of EMF.</p>

<hr/>
<h2>Contents</h2>

<table border="0" cellspacing="2" cellpadding="2" width="100%">
<tr>
<td valign="top">Step 1:</td>
<td valign="top"><a href="#step1a">Import the Model from Rose</a> or
<a href="#step1b">Define the Model Using Annotated Java</a>
</td>
</tr>

<tr>
<td valign="top">Step 2:</td>
<td valign="top"><a href="#step2">Generate the EMF Model and Editor Code</a>
</td>
</tr>

<tr>
<td valign="top">Step 3:</td>
<td valign="top"><a href="#step3">Run the Generated Editor</a> </td>
</tr>

<tr>
<td valign="top">Step 4:</td>
<td valign="top"><a href="#step4">Modify the Editor</a>
</td>
</tr>

<tr>
<td valign="top">Appendix:</td>
<td valign="top"><a href="#appendix">An Alternative Way to Generate the Model</a>
</td>
</tr>
</table>
<br/>

<hr/>
<p style="text-align: right"><a id="step0" name="step0">&nbsp;</a><a href="#top">contents</a></p>
<h2>Step 0: Prerequisites</h2>

<p>The library model and editor were generated in the previous tutorial,
<a href="../../tutorials/clibmod/clibmod.html">Generating an EMF Model</a>.</p>

<ul>
<li>Launch Eclipse and verify that these three projects are shown in the
Navigator view in the Resource perspective: "library", library.edit", and
"library.editor".<br/>
<img src="images/img001.gif" alt="Existing library projects"/><br/>
&nbsp;</li>
</ul>

<p>If these packages are not listed, you will need to work through the previous
tutorial, or see the <a href="#appendix">Appendix</a> for how to create both
models at once.</p>

<hr/>
<p style="text-align: right"><a id="step1a" name="step1a">&nbsp;</a><a href="#top">contents</a></p>
<h2>Step 1a: Import the Model from Rose</h2>

<p>Save the Rose model file
<a target="_code" href="images/../schoollibrary.mdl">schoollibrary.mdl</a>
somewhere on your workstation. It contains both the library and schoollibrary
packages.</p>

<p>When sharing packages among various models, we really should place each
package in its own .cat file, and just reference them in an .mdl file. However,
for the purposes of this tutorial, we have simply duplicated and extended the
library package in a single model file. The generator behaves exactly the same,
whether packages are contained inside a single .mdl file or referenced in
external .cat files.<br/>
</p>

<p>Create a new EMF project in the workspace:</p>

<ul>
<li>Bring up the "File/New/Project..." dialog.<br/>
<img src="images/../../clibmod/images/img101.gif" alt="File/New/Project..."/><br/>
&nbsp;</li>

<li>Expand "Eclipse Modeling Framework" and select "EMF Project". Click the
"Next" button.<br/>
<img src="images/../../clibmod/images/img102.gif" alt="EMF Project"/><br/>
&nbsp;</li>

<li>Give the project a name, say, "schoollibrary", and then click the
"Next" button.<br/>
<img src="images/img101.gif" alt="Name the project"/><br/>
&nbsp;</li>

<li>Select "Rose class model" and click the "Next" button.<br/>
<img src="images/../../clibmod/images/img104.gif" alt="Rose class model"/><br/>
&nbsp;</li>

<li>Click on the "Browse" button and use the file dialog to locate the Rose
model file. The file will be examined, and a default generator model name will
be suggested. You can change the name in the entry box if you wish. Then, click
the "Next" button.<br/>
<img src="images/img102.gif" alt="Browse for Rose file and name generator model"/><br/>
&nbsp;</li>

<li>The Rose model contains two packages, "org.eclipse.example.library" and
"org.eclipse.example.schoollibrary". We select only the package that we wish to
generate, "org.eclipse.example.schoollibrary". However, because the latter package
contains references to classes in the former, we need to specify where to find
that model, so that it can be reused. Click the "Browse" button.<br/>
<img src="images/img103.gif" alt="Select package"/><br/>
&nbsp;</li>

<li>In the file selection dialog, expand the folder that contains the
library model, and select the generator model, "library.genmodel". Click the
"OK" button.<br/>
<img src="images/img104.gif" alt="Select referenced model"/><br/>
&nbsp;</li>

<li>Expand the "Library" model, and select the "org.eclipse.example.library" package.
Note that the error message disappears. Click the "Finish" button.<br/>
<img src="images/img105.gif" alt="Select referenced package"/><br/>
&nbsp;</li>

<li>An Ecore model (schoollibrary.ecore) and a generator model
(schoollibrary.genmodel) will be created. The latter is opened in the main
view.<br/>
<img src="images/img106.gif" alt="Opened generator"/><br/>
&nbsp;</li>
</ul>

<hr/>
<p style="text-align: right"><a id="step1b" name="step1b">&nbsp;</a><a href="#top">contents</a></p>
<h2>Step 1b: Define the Model Using Annotated Java</h2>

<p>Here are the annotated Java interfaces for the schoollibrary package. We
can generate the EMF model from these interface files, instead of a Rose
model.</p>

<blockquote>
<strong><a target="_code" href="images/../SchoolLibrary.java">SchoolLibrary.java</a></strong><a name="schoollibrarysrc">&nbsp;</a><br/>

<table border="1" frame="box"><tr><td>
<pre>package org.eclipse.example.schoollibrary;
import org.eclipse.example.library.Library;

/**
 * @model
 */
public interface SchoolLibrary extends Library
{
  /**
   * @model
   */
  String getLocation();
}</pre>
</td></tr></table>
</blockquote>

<blockquote>
<strong><a target="_code" href="images/../Asset.java">Asset.java</a></strong><a name="assetsrc">&nbsp;</a><br/>

<table border="1" frame="box"><tr><td>
<pre>package org.eclipse.example.schoollibrary;

/**
 * @model
 */
public interface Asset
{
  /**
   * @model
   */
  float getValue();
}</pre>
</td></tr></table>
</blockquote>

<blockquote>
<strong><a target="_code" href="images/../SchoolBook.java">SchoolBook.java</a></strong><a name="schoolbooksrc.java">&nbsp;</a><br/>

<table border="1" frame="box"><tr><td>
<pre>package org.eclipse.example.schoollibrary;
import org.eclipse.example.library.Book;

/**
 * @model
 */
public interface SchoolBook extends Book, Asset
{
}</pre>
</td></tr></table>
</blockquote>

<p>Create a new empty EMF project in the workspace:</p>

<ul>
<li>Bring up the "File/New/Project..." dialog.<br/>
<img src="images/../../clibmod/images/img101.gif" alt="File/New/Project..."/><br/>
&nbsp;</li>

<li>Expand "Eclipse Modeling Framework" and select "Empty EMF Project". Click
the "Next" button.<br/>
<img src="images/../../clibmod/images/img121.gif" alt="Empty EMF Project"/><br/>
&nbsp;</li>

<li>Give the project a name, say, "schoollibrary", and click the "Finish" button.<br/>
<img src="images/img121.gif" alt="Name the project"/><br/>
&nbsp;</li>
</ul>

<p>Add a plug-in dependency on the existing library project:</p>

<ul>
<li>In the Package Explorer view, expand "schoollibrary/META-INF" and double-click
"MANIFEST.MF" to open the Plug-in Manifest Editor.<br/>
<img src="images/img122.gif" alt="Opened Plug-in Manifest Editor"/><br/>
&nbsp;</li>

<li>Switch to the "Dependencies" tab, and click the "Add..." button under "Required Plug-ins."<br/>
<img src="images/img123.gif" alt="Switch to the Depedencies tab and click Add"/><br/>
&nbsp;</li>

<li>Select the "library" plug-in and click the "OK" button.<br/>
<img src="images/img123b.gif" alt="Select dependent plug-in: library"/><br/>
&nbsp;</li>

<li>Save the change to the manifest file and close the editor.<br/>
<img src="images/img124.gif" alt="New plug-in dependency added to manifest"/><br/>
&nbsp;</li>
</ul>

<p>You could create and type in the interfaces as in the previous tutorial, but
instead, we will show here how to import them from the zip file
<a href="images/../schoollibrary.zip">schoollibrary.zip</a>. Save this file
somewhere on your workstation, or in an otherwise empty project in your workspace.</p>

<ul>
<li>Right-click the "src" folder and select "Import..." from the pop-up
menu.<br/>
<img src="images/img125.gif" alt="Import..."/><br/>
&nbsp;</li>

<li>Expand "General" and select "Archive file" as the import source. Click the "Next" button.<br/>
<img src="images/img126.gif" alt="Select an import source"/><br/>
&nbsp;</li>

<li>Click the "Browse" button and locate the zip file. Ensure that all of the
zip file's contents are selected. You can expand the folder tree and click
"schoollibrary" to see the files it contains. Ensure that they will be imported
into "schoollibrary/src". Click the "Finish" button.<br/>
<img src="images/img127.gif" alt="Select a zip file"/><br/>
&nbsp;</li>

<li>Expand the "src" folder and observe that the interfaces were imported.<br/>
<img src="images/img128.gif" alt="Imported interfaces"/><br/>
&nbsp;</li>
</ul>

<p>Create the EMF model:</p>

<ul>
<li>Right-click the "model" folder and select "New/Other..." from the pop-up
menu.<br/>
<img src="images/img129.gif" alt="New/Other..."/><br/>
&nbsp;</li>

<li>Expand "Eclipse Modeling Framework" and select "EMF Model". Click the
"Next" button.<br/>
<img src="images/../../clibmod/images/img131.gif" alt="EMF Model"/><br/>
&nbsp;</li>

<li>Change the file name to "schoollibrary.genmodel" and click the "Next" button.<br/>
<img src="images/img130.gif" alt="Enter the file name"/><br/>
&nbsp;</li>

<li>Select "Annotated Java" and click the "Next" button.<br/>
<img src="images/../../clibmod/images/img134.gif" alt="Annotated Java"/><br/>
&nbsp;</li>

<li>Select the "org.eclipse.example.schoollibrary" package and click the "Finish" button.<br/>
<img src="images/img131.gif" alt="Select package"/><br/>
&nbsp;</li>

<li>An Ecore model (schoollibrary.ecore) and a generator model
(schoollibrary.genmodel) will be created. The latter is opened in the main
view.<br/>
<img src="images/img132.gif" alt="Opened generator"/><br/>
&nbsp;</li>
</ul>

<hr/>
<p style="text-align: right"><a id="step2" name="step2">&nbsp;</a><a href="#top">contents</a></p>
<h2>Step 2: Generate the EMF Model and Editor Code</h2>

<p>The generator model shows a root object, representing the whole model. This
model object's children represent the packages in the model.</p>

<ul>
<li>Expand the model to see its various elements. Notice that the icon for the
"Library" package has a overlayed arrow, indicating that it is a reference to
the package defined in the existing library project.<br/>
<img src="images/img201.gif" alt="Expanded generator model"/><br/>
&nbsp;</li>

<li>You can generate the model code and the editors for all the packages in the
model in a single step by right-clicking on the root element and selecting
"Generate All" from the pop-up menu. This will also create a tests plug-in, containing generated JUnit test code.<br/>
<img src="images/img202.gif" alt="Generate All"/><br/>
&nbsp;</li>

<li>Code is generated into the schoollibrary, schoollibrary.edit, schoollibrary.editor,
and schoollibrary.tests projects. No code for the referenced model, library, will
be generated.<br/>
<img src="images/img203.gif" alt="Generated files"/><br/>
&nbsp;</li>
</ul>

<p>The code should be compiled automatically as it is generated, and should
recompile whenever it is changed. If you have disabled automatic building in the
workbench preferences, do not forget to rebuild the code whenever it
changes.</p>

<hr/>
<p style="text-align: right"><a id="step3" name="step3">&nbsp;</a><a href="#top">contents</a></p>
<h2>Step 3: Run the Generated Editor</h2>

<p>In order to test the new plug-ins, a second instance of Eclipse must be launched. The plug-ins will
run in this workbench.</p>

<ul>
<li>Select one of the projects and choose "Run As/Eclipse Application" from the "Run" menu
or toolbar drop-down.<br/>
<img src="images/../../clibmod/images/img401.gif" alt="Run As/Eclipse Application"/><br/>
&nbsp;</li>

<li>Wait for a second instance of the Eclipse IDE to come up. Bring up the
"Help/About Eclipse Platform" dialog, click on the "Plug-in Details" button, and
verify that the generated plug-ins are there.<br/>
<img src="images/img301.gif" alt="Generated plug-ins: schoollibrary.edit, schoollibrary.editor, schoollibrary"/><br/>
&nbsp;</li>
</ul>

<p>The Schoollibrary Model wizard can now be used to create a new instance of
the model.</p>

<ul>
<li>Bring up the "File/New/Project..." dialog. Expand "General", select
"Project", and click the "Next" button. Give the project a name and click the
"Finish" button.<br/>
<img src="images/img302.gif" alt="Name the project"/><br/>
&nbsp;</li>

<li>Right-click the project and select "New/Other..." from the pop-up menu.<br/>
<img src="images/img303.gif" alt="New/Other..."/><br/>
&nbsp;</li>

<li>Expand "Example EMF Model Creation Wizards" and select "Schoollibrary
Model". Click the "Next" button.<br/>
<img src="images/img304.gif" alt="Schoollibrary Model"/><br/>
&nbsp;</li>

<li>Enter a file name for the schoollibrary model. Make sure it ends with
a ".schoollibrary" extension. Then, click the "Next" button.<br/>
<img src="images/img305.gif" alt="Name the schoollibrary model file"/><br/>
&nbsp;</li>

<li>Select "SchoolLibrary" as the model object and click the "Finish"
button.<br/>
<img src="images/img306.gif" alt="Select the model object"/><br/>
&nbsp;</li>

<li>The newly created model is opened in the main view.<br/>
<img src="images/img307.gif" alt="New schoollibrary model"/><br/>
&nbsp;</li>
</ul>

<p>The root object in this editor corresponds to the My.schoollibrary resource.
Note that the object beneath it is indeed a school library.</p>

<ul>
<li>Expand the "platform:/resource/librarytest/My.schoollibrary" resource to see
the "School Library" object. Select it.<br/>
<img src="images/img308.gif" alt="Expanded resource"/><br/>
&nbsp;</li>

<li>If the Properties view isn't already showing, right-click the "School
Library" object and select "Show Properties View" from the pop-up menu. Enter
some values for the "Location" and "Name" attributes.<br/>
<img src="images/img309.gif" alt="School library properties"/><br/>
&nbsp;</li>

<li>Right-click the school library and select "New Child" from the pop-up menu.
Notice that three kinds of objects can be created under a school library:
"Writer", "Book", and "School Book". Writer and Book are defined in the library
package, while SchoolBook is defined in the schoollibrary package.<br/>
<img src="images/img310.gif" alt="New Child"/><br/>
&nbsp;</li>

<li>Create a couple writers, a book, and a school book. Notice that SchoolBook
inherits all the attributes of Book and adds an extra attribute (value), as we
intended.<br/>
<img src="images/img311.gif" alt="School book properties"/><br/>
&nbsp;</li>

<li>Save the model.<br/>
<img src="images/img312.gif" alt="File/Save"/><br/>
&nbsp;</li>
</ul>

<p>Quit the second instance of Eclipse, returning to original, development workbench.</p>

<hr/>
<p style="text-align: right"><a id="step4" name="step4">&nbsp;</a><a href="#top">contents</a></p>
<h2>Step 4: Modify the Editor</h2>

<p>This part of the tutorial will show how to modify the code that gets
generated. We'll just change a label in the generated editor, but we'll do it in
a few different, illustrative ways.</p>

<p>First, we'll make a change in the generator model, which will affect the
code that gets generated.</p>

<ul>
<li>In the school library generator model, select the "SchoolLibrary" class.
In the Properties view, change the "Label Feature" to the "location : EString"
attribute. This determines which feature will be used in the label for
SchoolLibrary objects.<br/>
<img src="images/img401.gif" alt="Change the Label Feature"/><br/>
&nbsp;</li>

<li>To have this change take effect, we only need to regenerate the item provider
class for SchoolLibrary. Save your changes, then right-click "SchoolLibrary" and
select "Generate Edit Code" from the pop-up menu. This generates just this one
item provider, along with the edit artifacts for the containing package and model.
There is also no harm in regenerating all the code, however, it just takes longer.<br/>
<img src="images/img402.gif" alt="Generate Edit Code"/><br/>
&nbsp;</li>
</ul>

<p>The following table summarizes the files that are generated by the "Generate
Model Code", "Generate Edit Code", "Generate Editor Code", and "Generate Tests
Code" menu items in the context-sensitive menus of different objects. The
"Generate All" menu item is equivalent to selecting all three menu items.</p>

<table cellpadding="2" cellspacing="2" border="1" width="100%">
<tr>
<td valign="top">&nbsp;</td>
<td valign="top">Generate Model Code</td>
<td valign="top">Generate Edit Code</td>
<td valign="top">Generate Editor Code</td>
<td valign="top">Generate Tests Code</td>
</tr>

<tr>
<td valign="top">Model &lt;M&gt;</td>
<td valign="top">
  MANIFEST.MF<br/>
  build.properties<br/>
  plugin.properties<br/>
  plugin.xml<br/>
  &lt;M&gt;Plugin.java&nbsp;*<br/>
  ...plus the files for each package
</td>
<td valign="top">
  MANIFEST.MF<br/>
  build.properties<br/>
  plugin.properties<br/>
  plugin.xml<br/>
  &lt;M&gt;EditPlugin.java<br/>
  ...plus the files for each package
</td>
<td valign="top">
  MANIFEST.MF<br/>
  build.properties<br/>
  plugin.properties<br/>
  plugin.xml<br/>
  &lt;M&gt;EditorPlugin.java<br/>
  &lt;M&gt;EditorAdvisor.java&nbsp;*<br/>
  ...plus the files for each package
</td>
<td valign="top">
  MANIFEST.MF<br/>
  build.properties<br/>
  plugin.properties<br/>
  plugin.xml<br/>
  &lt;M&gt;AllTests.java<br/>
  ...plus the files for each package
</td>
</tr>

<tr>
<td valign="top">Package &lt;P&gt;</td>
<td valign="top">
  &lt;P&gt;Package.java<br/>
  &lt;P&gt;PackageImpl.java<br/>
  &lt;P&gt;Factory.java<br/>
  &lt;P&gt;FactoryImpl.java<br/>
  &lt;P&gt;Switch.java<br/>
  &lt;P&gt;AdaptorFactory.java<br/>
  &lt;P&gt;ResourceImpl.java&nbsp;*<br/>
  &lt;P&gt;ResourceFactoryImpl.java&nbsp;*<br/>
  &lt;P&gt;Validator.java&nbsp;*<br/>
  &lt;P&gt;XMLProcessor.java&nbsp;*<br/>
  ...plus the files for each class and enum<br/>
  &nbsp;&nbsp;&nbsp;and for the model
</td>
<td valign="top">
  &lt;P&gt;ItemProviderAdaptorFactory.java<br/>
  ...plus the files for each class<br/>
  &nbsp;&nbsp;&nbsp;and for the model
</td>
<td valign="top">
  &lt;P&gt;Editor.java<br/>
  &lt;P&gt;ModelWizard.java<br/>
  &lt;P&gt;ActionBarContributor.java<br/>
  ...plus the files for the model
</td>
<td valign="top">
  &lt;P&gt;Tests.java<br/>
  &lt;P&gt;Example.java<br/>
  ...plus the files for each class<br/>
  &nbsp;&nbsp;&nbsp;and for the model
</td>
</tr>

<tr>
<td valign="top">Class &lt;C&gt; </td>
<td valign="top">
  &lt;C&gt;.java<br/>
  &lt;C&gt;Impl.java<br/>
  ...plus the files for the package
</td>
<td valign="top">
  &lt;C&gt;ItemProvider.java<br/>
  ...plus the files for the package
</td>
<td valign="top">&nbsp;</td>
<td valign="top">
  &lt;C&gt;Test.java<br/>
  ...plus the files for the package
</td>
</tr>

<tr>
<td valign="top">Enum &lt;E&gt;</td>
<td valign="top">
  &lt;E&gt;.java<br/>
  ...plus the files for the package
</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
</tr>
</table>

<p>* These files are not generated by default.</p>

<p>Now, we can test our change.</p>

<ul>
<li>Launch a second instance of Eclipse again ("Run/Run As/Eclipse Application")
open the "My.schoollibrary" resource. Expand the resource object and select the
school library. Notice that the location of the school library is shown in the
label, instead of its name.<br/>
<img src="images/img403.gif" alt="School Library with location label"/><br/>
&nbsp;</li>
</ul>

<p>Suppose now that you don't like the prefix "School Library" in the label and
want to get rid of it. The only way to do this is to edit the code, but it is an
easy change to make.</p>

<p>As described in the <a href="../../references/overview/EMF.Edit.html">EMF.Edit
Framework Overview</a>, EMF.Edit uses item providers to, among other things,
determine what label to display for a given type of object. In particular, it
is the getText() method that does this, and that we'll need to change.</p>

<ul>
<li>In the Package Explorer, expand the "schoollibrary.edit" project. Locate and
open "SchoolLibraryItemProvider.java".<br/>
<img src="images/img404.gif" alt="Locate SchoolLibraryItemProvider.java"/><br/>
&nbsp;</li>

<li>Locate the "getText()" method in the Outline view and select it.<br/>
<img src="images/img405.gif" alt="Select getText()"/><br/>
&nbsp;</li>

<li>The cursor in the Java editor will move to that method.<br/>
<img src="images/img406.gif" alt="Generated implementation of getText()"/><br/>
&nbsp;</li>

<li>Remove the second getString() invocation, which preprends the externalized
class name string, from the return statement. To ensure the change is not lost
when the code is regenerated, the "@generated" Javadoc tag needs to be removed
as well.<br/>
<img src="images/img407.gif" alt="Modified getText() implementation: @generated removed and final operand of ternary operator changed to label"/><br/>
&nbsp;</li>

<li>Save the change, launch the second instace of Eclipse again, and open
"My.schoollibrary". Notice that the label for the school library now contains
just the value of its location attribute.<br/>
<img src="images/img408.gif" alt="School library with unqualified location label"/><br/>
&nbsp;</li>
</ul>

<p>We have changed the implementation of getText() from what was originally
generated. The label feature property on the SchoolLibrary class in the
generator model no longer has any effect on the generated code. This is because
we have removed the @generated Javadoc tag, preventing this method from being
overwritten during code generation.</p>

<p>Now suppose that you have not yet decided whether the editor should display
the value of the location attribute or of the name attribute. Instead, you want
to be able to change it via the generator model later. However, you know that
you don't want the "School Library" prefix to be displayed. Essentially, you
would like to keep the generated implementation available to be used by a
hand-coded method that removes the prefix from whatever it returns. The new
method must be called "getText()", so the generated method must be renamed.</p>

<p>Fortunately, the EMF code generator supports this: when a method it is going
to generate would conflict with a method that does not have an @generated tag,
it looks for a method with the same name plus the suffix "Gen". If the method
exists and is tagged with "@generated", the implementation will be generated
into this method, instead.</p>

<ul>
<li>Rename the getText() method to "getTextGen(), keeping its "@generated" tag
intact. To show that it will really be regenerated, remove the method body and
replace it by a single return statement. Create a getText() method that removes
the prefix from the string returned by getTextGen().<br/>
<img src="images/img409.gif" alt="Empty getTextGen() implementation and hand-coded getText()"/><br/>
&nbsp;</li>

<li>Save SchoolLibraryItemProvider.java, switch back to the generator model,
select "SchoolLibrary", and regenerate the edit code.<br/>
<img src="images/img410.gif" alt="Generate Edit Code"/><br/>
&nbsp;</li>

<li>Switch back to the getTextGen() method in SchoolLibraryItemProvider.java.
Notice that the original implementation has been generated back into it.<br/>
<img src="images/img411.gif" alt="Regenerated getTextGen()"/><br/>
&nbsp;</li>
</ul>

<p>You can go back to the generator model, change the label feature property,
regenerate the code, and verify that that does indeed affect the generated
code.</p>

<hr/>
<p style="text-align: right"><a id="appendix" name="appendix">&nbsp;</a><a href="#top">contents</a></p>
<h2>Appendix: An Alternative Way to Generate the Model</h2>

<p>If you do not already have the base library model its editor generated in
separate projects, you can generate both the library and school library models
into the same set of projects in a single step. This can be done either from
the Rose model or the set of annotated Java interfaces.</p>

<p>Starting with the Rose model, the process is the same as described above,
except that both packages are selected for code generation.</p>

<ul>
<li>On the last page of the New Project wizard, select both the "org.eclipse.example.library" and
"org.eclipse.example.schoollibrary" packages, instead of referencing one.<br/>
<img src="images/img501.gif" alt="Select both packages for code generation"/><br/>
&nbsp;</li>
</ul>

<p>Starting with annotated Java interfaces, both packages are imported into a
single empty EMF project before any code generation is done.</p>

<ul>
<li>Import the packages from <a href="images/../library.zip">library.zip</a> and
<a href="images/../schoollibrary.zip">schoollibrary.zip</a>.<br/>
&nbsp;</li>

<li>On the last page of the New Models wizard, select both the "org.eclipse.example.library" and
"org.eclipse.example.schoollibrary" packages.<br/>
<img src="images/img502.gif" alt="Select both packages for code generation"/><br/>
&nbsp;</li>
</ul>

<p>When you launch the run-time workspace to test the new editor, you may
notice one small difference in the editor for the library model, as compared to
when we generated it separately from the schoollibrary model.</p>

<ul>
<li>Create or open a library model, expand the resource object, and right-click
the "Library" object. Select the "New Child" menu item.<br/>
<img src="images/img503.gif" alt="New Child"/><br/>
&nbsp;</li>
</ul>

<p>Notice that there are three types of children available, whereas in the
previous tutorial, there were only two. Specifically, "School Book", which comes
from the schoollibrary package, is included. Previously, the code generator was
not aware of it when generating the item provider for Library. Now, since the
two packages were generated together, the base package knows all about the
package that extends it.</p>

<hr/>
<p style="text-align: right"><a href="#top">contents</a></p>
</body>
</html>
<html id='1627.Tasks.html'></html><?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>LDT User Guide - Tasks</title>
	</head>
	<body>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<th style="width: 100%" align="center" colspan="3">Tasks</th>
			</tr>
			<tr>
				<td style="width: 20%" align="left">
					<a href="Concepts.html" title="Concepts">
						<img alt="Previous" border="0" src="../../../../images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right">
					<a href="Updating-This-Document.html" title="Updating This Document">
						<img alt="Next" border="0" src="../../../../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Concepts</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Updating This Document</td>
			</tr>
		</table><hr/>
		<h1 id="Tasks">Tasks</h1>
		<h2 id="Configuring_Build_paths">Configuring Build paths</h2>
		<p>See 
			<a href="Concepts.html#Buildpath">Buildpath</a>.
		</p>
		<h3 id="Adding_source_folder">Adding source folder</h3>
		<p>You can add a folder in the source path by right clicking on it and select 
			<i>BuildPath &gt; Use as Source Folder</i>

			<img align="middle" border="0" src="images/AddFolderToSourcePath0.9.png"/>
		</p>
		<h3 id="Adding_project_dependencies">Adding project dependencies</h3>
		<p>On the project o which you want to add a dependency, right click and select''Build Path &gt; Configure Build Path ...''.</p>
		<p>
			<img align="middle" border="0" src="images/BuildPath.png"/>
		</p>
		<p>Then select the 
			<i>Projects</i> tab and use the 
			<i>Add</i> button to create the dependency.
		</p>
		<p>
			<img align="middle" border="0" src="images/AddProjectDependency0.9.png"/>
		</p>
		<h2 id="Managing_Execution_Environments">Managing Execution Environments</h2>
		<p>See 
			<a href="Concepts.html#Execution_Environment">Execution Environment</a>.
		</p>
		<p>To find preferences related to Execution Environments, go to

			<i>Window &gt; Preferences &gt; Lua &gt; Execution Environments</i> and you will have the following interface.
		</p>
		<p>
			<img align="middle" border="0" src="images/EePref_10.png"/>
		</p>
		<p>As you can see in previous screenshot, 
			<i>LDT</i> is shipped with a 
			<i>Lua 5.1 Execution Environment</i>.
			All Execution Environments shipped with LDT are suffixed by 
			<i>(embedded)</i>.
		</p>
		<p>From here, is it possible to add an Execution Environment to current workspace. 
			First, download an Execution Environment from the 
			<a href="http://wiki.eclipse.org/LDT/User_Area/Available_Execution_Environments" target="doc_external">list of available Execution Environments</a> or 
			<a href="http://wiki.eclipse.org/LDT/User_Area/Execution_Environment_file_format" target="doc_external">create your one Execution Environment</a>.
			Then, back to the 
			<i>Execution Environments</i> preference page, push 
			<i>Add</i> button and select an Execution Environment file.
		</p>
		<p>
			<img align="middle" border="0" src="images/EePrefAdd0.9.png"/>
		</p>
		<p>The Execution Environment is now available to use.</p>
		<p>
			<img align="middle" border="0" src="images/EePrefAdded10.png"/>
		</p>
		<p>''If you need to override an installed embedded Execution Environment, create a new Execution Environment with the same name and add it.
			All the projects using the embedded Execution Environment will automatically use the new one.''</p>
		<h3 id="Link_an_existing_project_to_an_Execution_Environment">Link an existing project to an Execution Environment</h3>
		<p>If you have created a project without Execution Environment, you can add one afterwards. Right click on a project
			and select 
			<i>Build Path &gt; Add Libraries ...</i>. Be aware that only one Execution Environment is expected per project.
		</p>
		<p>
			<img align="middle" border="0" src="images/EeContextSelection.png"/>
		</p>
		<p>You will have to choose between several libraries types, choose 
			<i>Lua Execution Environment</i>.
		</p>
		<p>
			<img align="middle" border="0" src="images/EeAddLib.png"/>
		</p>
		<p>You can now choose among installed Execution Environments and press 
			<i>Finish</i>.
		</p>
		<p>
			<img align="middle" border="0" src="images/SelectEE10.png"/>
		</p>
		<p>It is now linked to selected project.</p>
		<p>
			<img align="middle" border="0" src="images/EeAddedToProject.png"/>
		</p>
		<h2 id="Managing_Interpreters">Managing Interpreters</h2>
		<p>Interpreters are used by 
			<i>LDT</i> to run scripts on local computers, see 
			<a href="Concepts.html#Interpreters">Interpreters</a>.
		</p>
		<h3 id="Embedded_Interpreters">Embedded Interpreters</h3>
		<p>An embedded interpreter is an interpreter shipped with 
			<i>LDT</i>.
			You can recognize them on the interpreter preference page, their location is mentioned as 
			<i>(embedded)</i>.
			Currently, 
			<i>LDT</i> is shipped with the JNLua (Lua 5.1) embedded interpreter, JNLua is Java binding of Lua interpreter and APIs.
		</p>
		<h3 id="Local_Interpreters">Local Interpreters</h3>
		<p>To run Lua scripts in 
			<i>LDT</i> using the Lua Local Application launch configuration with a locally installed Lua interpreter, you have to configure a local interpreter.
			To configure an interpreter you just need the path of the interpreter executable, then you can set interpreter
			arguments and some environment variables.
		</p>
		<p>See below how to reference a Lua interpreter installed on your machine, and use it in 
			<i>LDT</i>.
		</p>
		<p>To open the Interpreters preference page go to

			<i>Window &gt; Preferences &gt; Lua &gt; Interpreters</i>:

			<img align="middle" border="0" src="images/InterpreterPreferencePage_1.2.png"/>
		</p>
		<p>Then, press the 
			<i>Add...</i> button to configure a new interpreter and fill in the fields as described here:
		</p>
		<ul>
			<li>Select one of the following interpreter type:
				<ul>
					<li>
						<b>JNLua 5.1</b> or 
						<b>JNLua 5.2</b> types for interpreters based on the LDT embedded JNLua interpreter.
					</li>
					<li>
						<b>Lua 5.1</b> or 
						<b>Lua 5.2</b> types for standards Lua interpreters.
					</li>
					<li>
						<b> LuaJIT 2.0</b> type for the Lua JIT 2.0 interpreter.
					</li>
					<li>
						<b> Generic Lua</b> type for interpreters who doesn't feet any other types.
					</li>
				</ul>
			</li>
			<li>You can browse your file system and locate your interpreter executable, or if the executable is in your PATH environment variable, just type its name here (e.g. <code>lua</code>).</li>
			<li>Give a name to the interpreter (this is mandatory).</li>
			<li>Add extra interpreter's arguments if needed, the same way you would on a regular command line.</li>
			<li>Set environment variables for this interpreter. You can modify existing variables, or create new ones. Environment variables can be exported and imported using properties files.</li>
			<li>Set interpreter capabilities:
				<ul>
					<li>Uncheck 
						<i>Accept -e 
							<a href="code">code</a> as argument
						</i> if your interpreter doesn't accept the 
						<i>-e 
							<a href="code">code</a>
						</i> option which execute the given code before the rest as the official Lua interpreter do. This option is used by the ide to launch the debugger, so if this option is unchecked your are responsible to launch the debugger by your own as explain in the 
						<a href="Tasks.html#Configuring_debug_sessions">configure debug session</a> part.
					</li>
					<li>Uncheck 
						<i>Accept file as argument</i> if your interpreter doesn't take the file to run as argument, this means that your interpreter have to run the Lua files by himself.
					</li>
				</ul>
			</li>
		</ul>
		<p>
			<img align="middle" border="0" src="images/AddInterpreter_1.2.png"/>
		</p>
		<p>Once you press the 
			<i>Ok</i> button, the created interpreter appears in the Interpreters page. The checkbox in front of each interpreter allows to check the default interpreter used in launch configurations.

			<img align="middle" border="0" src="images/InterpreterAdded_1.0.png"/>
		</p>
		<h2 id="Configuring_debug_sessions">Configuring debug sessions</h2>
		<p>See the 
			<a href="Concepts.html#Debug">explanation about the three way to debug</a> in 
			<i>LDT</i>.
		</p>
		<h3 id="Local_session">Local session</h3>
		<p>According to your interpreter capabilities set in the interpreter preference if your interpreter
			doesn't handle the "-e" option. You have to launch the debugger by adding the following code :</p>
		<pre class="source-lua">if os.getenv('DEBUG_MODE') then require "debugger"() end

</pre>
		<p>
			<b>Note:</b> The 
			<i><code>DEBUG_MODE</code></i> environment variable is set only for 
			<i>debug</i>, to avoid to start the debugger for a regular 
			<i>run</i>.
		</p>
		<p>Create a Lua Application launch configuration in the 
			<i>Debug Configuration</i> menu.

			<img align="middle" border="0" src="images/DebugConfiguration.png"/>
		</p>
		<p>In the 
			<i>Main</i> tab, you can select the project, the script you want to launch and a Lua interpreter.

			<img align="middle" border="0" src="images/MainLocalLaunchConfig.png"/>
		</p>
		<p>In the 
			<i>Arguments</i> tab, you can specify interpreter arguments and script arguments.
			The interpreter arguments will be merged to the ones specified at the interpreter level (in the interpreter preference page) at runtime.

			<img align="middle" border="0" src="images/ArgumentsLocalLaunchConfig.png"/>
		</p>
		<p>In the 
			<i>Environment</i> tab, you can specify environment variables for runtime.
			Environment variable defined can be append 

			<img align="middle" border="0" src="images/EnvironmentLocalLaunchConfig.png"/>
		</p>
		<p>In the 
			<i>Common</i> tab, you can set some settings related to launch configurations:
		</p>
		<ul>
			<li>Save current launch configuration in a specified file.</li>
			<li>See in favorite menu the launch configuration is displayed.</li>
			<li>Change the encoding of the launch configuration file.</li>
			<li>Allocate  standard input/output in a console and/or redirect standard output in a file.</li>
		</ul>
		<h3 id="Attach_session">Attach session</h3>
		<p>The Debugger of Lua Development Tools is based on the DBGp protocol, and the IDE implements a DBGp server.
			<br/> To connect to this server, and start remote/attach debugging, you need to use a DBGp Lua client.
		</p>
		<h4 id="Launching_DBGp_Client">Launching DBGp Client</h4>
		<p>The DBGp Lua client is a Lua file which can be downloaded through the 
			<b>Lua Attach to Application</b> launch configuration UI.
			<br/>
		</p>
		<p>
			<img align="middle" border="0" src="images/DownloadDebuggerClient0.9.png"/>
		</p>
		<p>It runs on Unix-like OS and Windows (XP and later). It is written in 
			<b>Lua</b> and 
			<b>depends on lua-socket</b>.
			<br/>

			<i>You can get Lua at 
				<a href="http://www.lua.org/download.html" target="doc_external">http://www.lua.org/download.html</a> and install lua-socket thanks to 
				<a href="http://luarocks.org/en/Download" target="doc_external">luarocks</a>, or via your official OS repositories.
			</i>
			<br/>

			<i>If, for some reasons, you cannot use lua-socket, you could implement your own transport interface based on your own library (see the 
				<a href="http://git.eclipse.org/c/ldt/org.eclipse.ldt.git/tree/libraries/luadbgpclient/debugger/transport/fake.lua" target="doc_external">interface</a> and the 
				<a href="#transport_parameter">transport parameter</a>)
			</i>
			<br/>
		</p>
		<p>To use it, you must have the <tt>debugger.lua</tt> file in your Lua path.
			<br/>
			To begin the connection, you must execute this Lua code : 
		</p>
		<pre>&gt; local initconnection = require("debugger")
&gt; initconnection(idehost, ideport, idekey,)
</pre>
		<p>which can be shortened like this: </p>
		<pre>&gt; require("debugger")(idehost, ideport, idekey)
</pre>
		<ul>
			<li>
				<b>idehost</b>: the host name or the IP address of the DBGp server (thus, of your IDE). 
				<ul>
					<li>if <tt>idehost</tt> is <tt>nil</tt>, the <tt>DBGP_IDEHOST</tt> environment variable is used. 
						<ul>
							<li>if the environment variable is <tt>nil</tt>, the default value '127.0.0.1' is used. </li>
						</ul>
					</li>
				</ul>
			</li>
			<li>
				<b>ideport</b>: the port of the DBGp server (must be configured in the IDE). 
				<ul>
					<li>if <tt>ideport</tt> is nil, the <tt>DBGP_IDEPORT</tt> environment variable is used. 
						<ul>
							<li>if the environment variable is <tt>nil</tt>, the default value '10000' is used. </li>
						</ul>
					</li>
				</ul>
			</li>
			<li>
				<b>idekey</b>: a string which is used as session key (must be configured in the IDE). 
				<ul>
					<li>if <tt>idekey</tt> is <tt>nil</tt>, the <tt>DBGP_IDEKEY</tt> environment variable is used. 
						<ul>
							<li>if the environment variable is <tt>nil</tt>, the default value '<tt>luaidekey</tt>' is used.</li>
						</ul>
					</li>
				</ul>
			</li>
		</ul>
		<p>Advanced optional parameters :</p>
		<ul>
			<li><span id="transport_parameter">
				<b>transport</b></span>: the name of the module which implements the transport interface used to communicate with the server.
				<ul>
					<li>by default the debugger use an  internal implementation based on luasocket, but if you cannot use it, you can implement or use another transport layer implementation.</li>
					<li>if <tt>transport</tt> is <tt>nil</tt>, the <tt>DBGP_TRANSPORT</tt> environment variable is used.
						<ul>
							<li>if the environment variable is <tt>nil</tt>, the default value '<tt>debugger.transport.luasocket</tt>' is used : this is the default implementation based on luasocket.</li>
						</ul>
					</li>
				</ul>
			</li>
			<li>
				<b>platform</b>: 'unix' or 'win32' string which define the kind of platform on which the program to debug is executed.
				<ul>
					<li>by default the debugger will try to guess it and often succeed. If for some reason it fails, you can help it by precising the execution platform.</li>
					<li>if <tt>platform</tt> is <tt>nil</tt>, the <tt>DBGP_PLATFORM</tt> environment variable is used.
						<ul>
							<li>if the environment variable is <tt>nil</tt>, the debugger will try to guess it.</li>
						</ul>
					</li>
				</ul>
			</li>
			<li>
				<b>workingdir</b>: the working directory in which the program to debug is executed.
				<ul>
					<li>by default the debugger will try to guess it and often succeed. If for some reason it fails, you can help it by precising the working directory.</li>
					<li>if <tt>workingdir</tt> is <tt>nil</tt>, the <tt>DBGP_WORKINGDIR</tt> environment variable is used.
						<ul>
							<li>if the environment variable is <tt>nil</tt>, the debugger will try to guess it.</li>
						</ul>
					</li>
				</ul>
			</li>
		</ul>
		<p>So, to debug any Lua script, you can do: </p>
		<pre>lua -e "require('debugger')('idehost', 'ideport');" MyApp.lua
</pre>
		<p>or even just go with:</p>
		<pre>lua -e "require('debugger')();" MyApp.lua
</pre>
		<p>If you want to rely on default values for the debug host and port (which should be 127.0.0.1:10000 if you didn't tweak any <tt>DBGP_*</tt> environment variable).</p>
		<p>
			<img align="left" border="0" src="images/Idea.png"/> 
			<b>Console output</b>
		</p>
		<dl>
			<dd>
				<dl>
					<dd>Some console output problems could happen because of buffer configuration. To force the stdout buffer to be flush at each call of print your should add this line:</dd>
					<dd><tt>io.stdout:setvbuf("line");</tt> or <tt>io.stdout:setvbuf("no");</tt> see 
						<a href="http://www.lua.org/manual/5.1/manual.html#pdf-file:setvbuf" target="doc_external">Lua documentation</a>
					</dd>
					<dd>The full line should look like that:</dd>
					<dd><tt>lua -e "io.stdout:setvbuf('line'); require('debugger')();" MyApp.lua</tt></dd>
				</dl>
			</dd>
		</dl>
		<h4 id="Setup_DBGp_Server">Setup DBGp Server</h4>
		<p>The DBGp Server is integrated in 
			<i>LDT</i>.
			<br/> In order to accept incoming debug sessions, you must create a new 
			<b>Lua Attach to Application</b> launch configuration, then launch it. 
		</p>
		<p>Go in 
			<b>Run/Debug Configurations...</b>.
		</p>
		<p>
			<img align="middle" border="0" src="images/LuaAttachToApplication0.9.png"/>
		</p>
		<ul>
			<li>
				<b>Project</b>: select the 
				<i>LDT</i> project in your workspace which includes the Lua source file(s) of the application you want to debug.
			</li>
			<li>
				<b>IdeKey</b>: default value is <tt>luaidekey</tt>, if you need to debug more than one application at the same time, you should change it to associate a launch configuration with only one application to debug.
			</li>
			<li>
				<b>Source Mapping</b>: Define a common way for DBGp Server (IDE) and DBGp Client (running application) to identify source file. There are several strategy, each one is more or less adapted to a specific use case. For better understanding, read the 
				<a href="Concepts.html#Source_Mapping">advanced documentation</a> about it. 
			</li>
		</ul>
		<p>Now you can start your debug session by clicking 
			<b>Debug</b>. IDE will wait for an incoming connection from the debugger client, on the port you can see in the debug view. By default, the port used is 10000, but if it is taken, another one may be used.
			<br/> 
		</p>
		<p>
			<img align="middle" border="0" src="images/LuaAttachToApplicationDebugView0.9.png"/> 
		</p>
		<p>If needed, you can change the server port, in 
			<i>Window &gt; Preferences &gt; Dynamic Languages &gt; Debug</i>. 
		</p>
		<p>
			<img align="middle" border="0" src="images/ConfigureDebuggerPort0.9.png"/>
		</p>
		<h3 id="Remote_session">Remote session</h3>
		<p>As the remote debugging is an advanced feature and is not required by most Lua developers. The remote debugging is not shipped with 

			<i>LDT</i> and have to be downloaded and installed afterwards.
			To install the 
			<i>LDT</i> remote feature, first select the top menu 
			<i>Help / Install New Software...</i>
		</p>
		<p>
			<img align="middle" border="0" src="images/InstallSoftware.png"/>
		</p>
		<p>On the 
			<i>LDT</i> update site select the remote feature in the list and install it. (see 
			<a href="https://wiki.eclipse.org/LDT/User_Area/updatesites" target="doc_external">LDT update sites documentation</a>)
		</p>
		<p>
			<img align="middle" border="0" src="images/remoteFeature.png"/>
		</p>
		<p>In the Remote System Explorer perspective, in the new wizard, create a new 
			<i>Connection</i> and select the 
			<i>Lua SSH System</i> kind of system.
		</p>
		<p>
			<img align="middle" border="0" src="images/CreateConnexion.png"/>
		</p>
		<p>On the next page, enter the network name of your remote system, or directly its IP address.</p>
		<p>
			<img align="middle" border="0" src="images/CreateConnexionEnterIP.png"/>
		</p>
		<p>If needed, configure the runtime paths in ssh-lua sub-system advanced properties. If paths are not configured, the remote sytems's environment variables will be used. To change the properties, select the SSH Lua node of your connection. Then, in the property view bellow push the 
			<i>show advanced properties</i> button. You can edit properties values by selecting the appropriate cell. If you let some properties empty, the remote system Lua defaults will be used. 
		</p>
		<p>
			<img align="left" border="0" src="images/warning2.png"/>
			<b>User environment variable limitation:</b>
		</p>
		<dl>
			<dd>
				<dl>
					<dd>
						<i>LDT</i> is not able to retrieve environement variables specified in the user scope. For exemple, if the variable LUA_PATH is modified in the .profile or .bashrc files of the remote user, on runtime theses modifications may not be taken into account.
					</dd>
				</dl>
			</dd>
		</dl>
		<p>
			<img align="middle" border="0" src="images/remoteConnection.png"/>
		</p>
		<p>In the top menu, select 
			<i>Run/Debug Configuration...</i>.
		</p>
		<p>
			<img align="middle" border="0" src="images/DebugConfiguration.png"/>
		</p>
		<p>Then, create a 
			<i>Remote Lua Application</i> launch configuration.
			Configure the project and the script to run, also select the remote system.
		</p>
		<p>
			<img align="middle" border="0" src="images/RemoteLaunchConf.png"/>
		</p>
		<p>The following tabs are also provided to configure your launch configuration:</p>
		<ul>
			<li>
				<i>Arguments</i>: you can here specify script and remote interpreter arguments, type the arguments as you would in command line. At the bottom of the tab, you can also edit the location where Lua files will be copied on the remote system, an absolute path is mandatory.
			</li>
			<li>
				<i>Environment</i>: Specify here some environement variables for runtime. Theses variables will be added to remote system's existing environement variables. As explained above, 
				<i>LDT</i> is not able to retrieve environement variables values specfied in the user scope.
			</li>
			<li>
				<i>Common</i>: Some common launch configuration related settings.
				<ul>
					<li>Save current launch configuration in a specified file.</li>
					<li>See current launch configuration displayed in favorite menu.</li>
					<li>Change the encoding of the launch configuration file.</li>
					<li>Allocates standard input/output in a console and/or redirects standard output in a file.</li>
				</ul>
			</li>
		</ul>
		<p>Launch the debug session, see how 
			<a href="Tasks.html#Debugging_a_Lua_program">Debugging a Lua program</a> to continue.
		</p>
		<h2 id="Debugging_a_Lua_program">Debugging a Lua program</h2>
		<p>See how to launch debug in previous section called 
			<i>
				<a href="Tasks.html#Configuring_debug_sessions">Configuring debug sessions</a>
			</i>.
		</p>
		<h3 id="Breakpoints.2C_code_navigation">Breakpoints, code navigation</h3>
		<p>You can set breakpoints at a particular file or line, you can do it with the regular double-click on margin: </p>
		<p>
			<img align="middle" border="0" src="images/Dbg-setbreakpoint.png"/> 
		</p>
		<p>You can optionally indicate conditions to stop execution only under specific circumstances: </p>
		<p>
			<img align="middle" border="0" src="images/Dbg-openproperties.png"/> 
		</p>
		<p>
			<img align="middle" border="0" src="images/Dbg-properties.png"/> 
		</p>
		<ol>
			<li>Enables or disables breakpoint globally.</li>
			<li>Condition on hit count (stop only after the 3rd hit, every 4 hits, etc.).</li>
			<li>Conditional breakpoint: you can put any expression, it will be evaluated using the local scope every time the breakpoint is hit, and stop only when the expression evaluates to true.</li>
		</ol>
		<p>Once a breakpoint has been hit, and the execution has actually stopped, you can use the 
			<b>Step Into</b>, 
			<b>Step Over</b> and 
			<b>Step Return</b> commands. 

			<img align="left" border="0" src="images/Idea.png"/>
			<b>Coroutine handling:</b>
		</p>
		<dl>
			<dd>
				<dl>
					<dd>When the current instruction is a <tt>coroutine.yield</tt> or a <tt>coroutine.resume</tt> step over will jump over the coroutine until the next resume or yield whereas step into will go into the coroutine and re-break as soon as possible.}}</dd>
				</dl>
			</dd>
		</dl>
		<h3 id="Environment_inspection">Environment inspection</h3>
		<p>When a breakpoint is reached, you can see any variable visible from any stack frame (local, upvalue and global variables). You can also edit values.</p>
		<p>
			<img align="middle" border="0" src="images/Dbg-variables.png"/> 
		</p>
		<p>
			<img align="left" border="0" src="images/Idea.png"/>
			<b>New values are expressions:</b>
		</p>
		<dl>
			<dd>
				<dl>
					<dd>When you set a new value, it is evaluated as an expression, so <tt>math.sqrt</tt> will be evaluated to a function, if you want to put a literal string, use Lua syntax: <tt>"math.sqrt"</tt>. In particular you can change an entire table by another table expression. This is sometimes powerful and sometimes dangerous, 
						<b>be careful</b>.
					</dd>
				</dl>
			</dd>
		</dl>
		<p>Some 
			<i>special</i> values can also be displayed such as metatables or function environments (if it is different from global environment). You can also edit them.
		</p>
		<h3 id="Interactive_console_and_expressions">Interactive console and expressions</h3>
		<p>In addition to variable view, you have two other useful tools to evaluate some code snippets: 
			<i>expressions view</i> and 
			<i>interactive console</i>.
		</p>
		<p>
			<img align="middle" title="The expressions view allows you to re-evaluate complex expressions at each step" alt="The expressions view allows you to re-evaluate complex expressions at each step" border="1" src="images/Dbg-expressions.png"/> 
		</p>
		<p>
			<img align="middle" title="The interactive console allows you to type statements under the local scope" alt="The interactive console allows you to type statements under the local scope" border="1" src="images/Dbg-repl.png"/> 
		</p>
		<p>
			<img align="left" border="0" src="images/warning2.png"/>
			<b>Always on top level:</b>
		</p>
		<dl>
			<dd>
				<dl>
					<dd>Due to a limitation in the DBGp protocol, the interactive console and expressions are always mapped to the top stack frame.</dd>
				</dl>
			</dd>
		</dl>
		<h3 id="Unsupported_features">Unsupported features</h3>
		<p>The 
			<b>dynamic code</b> is not supported, it means that any code that is loaded with <tt>load</tt>, <tt>loadstring</tt> will not be supported. The debugger will step over it just like a C function.
		</p>
		<h2 id="Improve_cdata_display">Improve cdata display</h2>
		<p>If you are working with LuaJIT's 
			<i>cdata</i> and want to improve their display during debug, simply add this line at the top of your application entry point (by default 
			<i>main.lua</i>):
		</p>
		<pre class="source-lua">    require 'debugger.plugins.ffi'

</pre>
		<p>We implemented a 
			<a href="https://wiki.eclipse.org/LDT/User_Area/Debugger/ValueDisplay" target="doc_external">custom inspector</a> for 
			<i>cdata</i> display, it will enable you to browse their structure and values.
		</p><hr/>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<td style="width: 20%" align="left">
					<a href="Concepts.html" title="Concepts">
						<img alt="Previous" border="0" src="../../../../images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center">
					<a href="User-Guide-1.4.html" title="LDT User Guide">
						<img alt="LDT User Guide" border="0" src="../../../../images/home.gif"/>
					</a>
				</td>
				<td style="width: 20%" align="right">
					<a href="Updating-This-Document.html" title="Updating This Document">
						<img alt="Next" border="0" src="../../../../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Concepts</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Updating This Document</td>
			</tr>
		</table>
	</body>
</html><html id='3372.LTTng-UST-Analyses.html'></html><?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>Trace Compass User Guide - LTTng-UST Analyses</title>
		<link type="text/css" rel="stylesheet" href="book.css"/>
	</head>
	<body>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<th style="width: 100%" align="center" colspan="3">LTTng-UST Analyses</th>
			</tr>
			<tr>
				<td style="width: 20%" align="left">
					<a href="LTTng-Kernel-Analysis.html" title="LTTng Kernel Analysis">
						<img alt="Previous" border="0" src="images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right">
					<a href="Trace-synchronization.html" title="Trace synchronization">
						<img alt="Next" border="0" src="images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">LTTng Kernel Analysis</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Trace synchronization</td>
			</tr>
		</table><hr class="navigation-separator"/>
		<h1 id="LTTng-UST_Analyses">LTTng-UST Analyses</h1>
		<p>The Userspace traces are taken on an application level. With kernel traces, you know what events you will have as the domain is known and cloistered. Userspace traces can contain pretty much anything. Some analyses are offered if certain events are enabled.</p>
		<h2 id="Call_Stack_View">Call Stack View</h2>
		<p>The Call Stack view allows the user to visualize the call stack per thread over time, if the application and trace provide this information.</p>
		<p>To open this view go in 
			<b>Window</b> -&gt; 
			<b>Show View</b> -&gt; 
			<b>Other...</b> and select 
			<b>Tracing/Call Stack</b> in the list. The view shows the call stack information for the currently selected trace. Conversely, you can select a trace and expand it in the 
			<b>Project Explorer</b> then expand 
			<b>LTTng-UST CallStack Analysis</b> (the trace must be loaded) and open 
			<b>Call Stack</b>.
		</p>
		<p>The table on the left-hand side of the view shows the threads and call stack. The function name, depth, entry and exit time and duration are shown for the call stack at the selected time.</p>
		<p>Double-clicking on a function entry in the table will zoom the time graph to the selected function's range of execution.</p>
		<p>The time graph on the right-hand side of the view shows the call stack state graphically over time. The function name is visible on each call stack event if size permits. The color of each call stack event is randomly assigned based on the function name, allowing for easy identification of repeated calls to the same function.</p>
		<p>Clicking on the time graph will set the current time and consequently update the table with the current call stack information.</p>
		<p>Shift-clicking on the time graph will select a time range. When the selection is a time range, the begin time is used to update the stack information.</p>
		<p>Double-clicking on a call stack event will zoom the time graph to the selected function's range of execution.</p>
		<p>Clicking the 
			<b>Select Next State Change</b> or 
			<b>Select Previous State Change</b> or using the left and right arrows will navigate to the next or previous call stack event, and select the function currently at the top of the call stack. Note that pressing the 
			<b>Shift</b> key at the same time will update the selection end time of the current selection.
		</p>
		<p>Clicking the 
			<b>Configure how addresses are mapped to function names</b> (
			<img border="0" src="images/binaries_obj.gif"/>) icon will open the symbol providers dialog. Depending on the available symbol providers for the given trace, you can specify: 1) a text or binary file containing mappings from function addresses to function names or 2) the root location of the binaries of the trace target. If the call stack provider for the current trace type only provides function addresses, a mapping file will be required to get the function names in the view. See the following sections for an example with LTTng-UST traces.
		</p>
		<h3 id="Using_the_Callstack_View_with_LTTng-UST_traces">Using the Callstack View with LTTng-UST traces</h3>
		<p>There is support in the LTTng-UST integration plugin to display the callstack
			of applications traced with the 
			<i>liblttng-ust-cyg-profile.so</i> library (see
			the 
			<i>liblttng-ust-cyg-profile</i> man page for additional information). To do
			so, you need to:
		</p>
		<ul>
			<li>Recompile your application with "
				<i>-g -finstrument-functions</i>".
			</li>
			<li>Set up a tracing session with the the 
				<i>vpid</i>, 
				<i>vtid</i> and 
				<i>procname</i> contexts. See the 
				<a href="LTTng-Tracer-Control.html#Enabling_UST_Events_On_Session_Level">Enabling UST Events On Session Level</a> and 
				<a href="LTTng-Tracer-Control.html#Adding_Contexts_to_Channels_and_Events_of_a_Domain">Adding Contexts to Channels and Events of a Domain</a> sections. Or if using the command-line:
				<ul>
					<li><pre>lttng enable-event -u -a</pre></li>
					<li><pre>lttng add-context -u -t vpid -t vtid -t procname</pre></li>
				</ul>
			</li>
			<li>Preload the 
				<i>liblttng-ust-cyg-profile</i> library when running your program:
				<ul>
					<li><pre>LD_PRELOAD=/usr/lib/liblttng-ust-cyg-profile.so ./myprogram</pre></li>
				</ul>
			</li>
		</ul>
		<p>Once you load the resulting trace, the Callstack View should be populated with
			the relevant information.</p>
		<p>Note that for non-trivial applications, 
			<i>liblttng-ust-cyg-profile</i> generates a

			<b>lot</b> of events! You may need to increase the channel's subbuffer size to
			avoid lost events. Refer to the

			<a href="http://lttng.org/docs/#doc-fine-tuning-channels">LTTng documentation</a>.
		</p>
		<p>For traces taken with LTTng-UST 2.8 or later, the Callstack View should show the
			function names automatically, since it will make use of the debug information
			statedump events (which are enabled when using 
			<i>enable-event -u -a</i>).
		</p>
		<p>For traces taken with prior versions of UST, you would need to set the path to
			the binary file or mapping manually:</p>
		<h3 id="Importing_a_binary_or_function_name_mapping_file_.28for_LTTng-UST_.3C2.8_traces.29">Importing a binary or function name mapping file (for LTTng-UST &lt;2.8 traces)</h3>
		<p>
			<i>For LTTng-UST 2.8+, if it doesn't resolve symbols automatically, see the 
				<a href="#Binary_file_location_configuration">Source Lookup's Binary file location configuration</a>.
			</i>
		</p>
		<p>If you followed the steps in the previous section, you should have a Callstack
			View populated with function entries and exits. However, the view will display
			the function addresses instead of names in the intervals, which are not very
			useful by themselves. To get the actual function names, you need to:</p>
		<ul>
			<li>Click the 
				<b>Configure how addresses are mapped to function names</b> (
				<img border="0" src="images/binaries_obj.gif"/>) button in the Callstack View.
			</li>
		</ul>
		<p>Once again, multiple symbol providers can be available for a unique trace. Each symbol provider can be configured through its own tab. Thus, multiple sources can be used to map the function names to addresses. Below is an image of the basic symbol provider preference page which allows us to import binary or function name mapping files.</p>
		<p>
			<img border="0" src="images/BasicSymbolProviderPreferencePage.png"/>
		</p>
		<p>Simply click the 
			<b>Add...</b> button to add one or multiple mapping files. The mapping file could be one of two options:
		</p>
		<ul>
			<li>
				<img border="0" src="images/binary_mapping_file.gif"/>: a binary that was used for taking the trace.
			</li>
		</ul>
		<ul>
			<li>
				<img border="0" src="images/text_mapping_file.gif"/>: a file generated from the binary using 
				<i>nm myprogram &gt; mapping.txt</i>. Select the 
				<i>mapping.txt</i> file that was just created. If you are dealing with C++ executables, you may want to use 
				<i>nm --demangle</i> instead to get readable function names.
			</li>
		</ul>
		<p>The view should now update to display the function names instead. Make sure the
			binary used for taking the trace is the one used for this step too (otherwise,
			there is a good chance of the addresses not being the same).</p>
		<p>Lastly, the basic symbol provider introduces the notion of priorities between the mapping files. The resolved symbols from the file at the top of the list will have a higher priority than the files listed below. The files can be moved using the 
			<b>Up</b> and 
			<b>Down</b> buttons.
		</p>
		<h3 id="Navigation_5">Navigation</h3>
		<p>See Control Flow View's 
			<b>
				<a href="LTTng-Kernel-Analysis.html#Using_the_mouse">Using the mouse</a>
			</b>, 
			<b>
				<a href="LTTng-Kernel-Analysis.html#Using_the_keyboard">Using the keyboard</a>
			</b> and 
			<b>
				<a href="LTTng-Kernel-Analysis.html#Zoom_region">Zoom region</a>
			</b>.
		</p>
		<h3 id="Marker_Axis_3">Marker Axis</h3>
		<p>See Control Flow View's 
			<b>
				<a href="LTTng-Kernel-Analysis.html#Marker_Axis">Marker Axis</a>
			</b>.
		</p>
		<h2 id="Flame_Graph_View">Flame Graph View</h2>
		<p>This is an aggregate view of the function calls from the 
			<b>Call Stack View</b>. This shows a bird's eye view of what are the main
			time sinks in the traced applications. Each entry in the 
			<b>Flame Graph</b> represents an aggregation of all the calls to a function
			in a certain depth of the call stack having the same caller. So, functions in the 
			<b>Flame Graph</b> are aggregated by depth and
			caller. This enables the user to find the most executed code path easily.
		</p>
		<ul>
			<li>In a 
				<b>Flame Graph</b>, each entry (box) represents a function in the stack.
			</li>
			<li>If one takes a single vertical line in the view, it represents a full call stack with parents calling children.</li>
			<li>The 
				<i>x-axis</i> represents total duration (execution time) and not absolute time, so it is not aligned with the other views.
			</li>
			<li>The width of an entry is the total time spent in that function, including time spent calling the children.</li>
			<li>The total time can exceed the longest duration, if the program is pre-empted and not running during its trace time.</li>
			<li>Each thread traced makes its own flame graph.</li>
		</ul>
		<p>The function name is visible on each Flame graph event if the size permits. Each box in the 
			<b>Flame Graph</b>
			has the same color as the box representing the same function in the 
			<b>Call Stack</b>.
		</p>
		<p>To open this view, select a trace, expand it in the 
			<b>Project Explorer</b>, then expand the

			<b>Call Graph Analysis</b> (the trace must be loaded) and open the 
			<b>Flame Graph</b>.
			It's also possible to go in 
			<b>Window</b> -&gt; 
			<b>Show View</b> -&gt; 
			<b>Tracing</b> then
			select 
			<b>Flame Graph</b> in the list.
		</p>
		<p>
			<img title="Flame Graph View" alt="Flame Graph View" border="0" src="images/Flame_Graph.png"/>
		</p>
		<p>To use the 
			<b>Flame graph</b>, one can navigate it and find which function is consuming the most self-time.
			This can be seen as a large plateau. Then the entry can be inspected. At this point, the worst offender in
			terms of CPU usage will be highlighted, however, it is not a single call to investigate, but rather the
			aggregation of all the calls. Right mouse-clicking on that entry will open a context sensitive menu.
			Selecting 
			<b>Go to minimum</b> or 
			<b>Go to maximum</b> will take the user to the minimum or maximum
			recorded times in the trace. This is interesting to compare and contrast the two.
		</p>
		<p>Hovering over a function will show a tooltip with the statistics on a per-function basis. One can see the total and self times
			(
			<i>worst-case</i>, 
			<i>best-case</i>, 
			<i>average</i>, 
			<i>total time</i>, 
			<i>standard deviation</i>, 
			<i>number of calls</i>) for that function.
		</p>
		<p>If one wishes to explore at a medium detail level between the "classic" flame graph view and the call stack view, a per-thread flame
			graph view is available by selecting the coarser menu and clicking on 
			<b>Content Presentation</b> then 
			<b>Per-thread</b>. To return to
			the default mode, return to that menu and click on 
			<b>Aggregate Threads</b>.
		</p>
		<h3 id="How_to_use_a_Flame_Graph">How to use a Flame Graph</h3>
		<p>Observing the time spent in each function can show where most of the time is spent and where one could optimize.
			An example in the image above: one can see that 
			<i>mp_sort</i> is a recursive sort function, it takes approximately
			40% of the execution time of the program. That means that perfectly parallelizing it can yield a gain of 20% for 2 threads, 33% for 3
			and so forth. Looking at the function 
			<b>print_current_files</b>, it takes about 30% of the time, and it has a child 
			<i>print_many_per_line</i> that has a large
			self time (above 10%). This could be another area that can be targeted for optimization. Knowing this in advance helps developers
			know where to aim their efforts.
		</p>
		<p>It is recommended to have a kernel trace as well as a user space trace in an experiment
			while using the 
			<b>Flame Graph</b> as it will show what is causing the largest delays.
			When using the 
			<b>Flame Graph</b> together with a call stack and a kernel trace,
			an example work flow would be to find the worst offender in terms of time taken for a function
			that seems to be taking too long. Then, using the context menu 
			<b>Go to maximum</b>, one can navigate
			to the maximum duration and see if the OS is, for example, preempting the function for too long,
			or if the issue is in the code being executed.
		</p>
		<h2 id="Function_Duration_Statistics">Function Duration Statistics</h2>
		<p>This displays the descriptive statistics of the 'wall time' durations of given functions. It gives an
			overview of how often a function is called, how much total time it took, its mean duration as well as
			its maximum, minimum times and the standard deviation.</p>
		<p>If a time range is selected it will display the local statistics too.</p>
		<p>This analysis is available if the 
			<i>Flame Graph</i> is available.
		</p>
		<h3 id="Using_the_mouse_3">Using the mouse</h3>
		<ul>
			<li>
				<b>Double-click on the duration ruler</b> will zoom the graph to the selected duration range.
			</li>
			<li>
				<b>Shift-left-click or drag</b>: Extend or shrink the selection range
			</li>
			<li>
				<b>Mouse wheel up/down</b>: scroll up or down
			</li>
			<li>
				<b>Shift-mouse wheel up/down</b>: scroll left or right
			</li>
			<li>
				<b>Ctrl-mouse wheel up/down</b>: zoom in or out horizontally
			</li>
			<li>
				<b>Shift-Ctrl-mouse wheel up/down</b>: zoom in or out vertically
			</li>
		</ul>
		<p>When the mouse cursor is over entries (left pane):</p>
		<ul>
			<li>
				<b>-</b>: Collapse the 
				<b>Flame Graph</b> of the selected thread
			</li>
			<li>
				<b>+</b>: Expand the 
				<b>Flame Graph</b> of the selected thread
			</li>
		</ul>
		<h3 id="Using_the_keyboard_3">Using the keyboard</h3>
		<p>The following keyboard shortcuts are available:</p>
		<ul>
			<li>
				<b>Down Arrow</b>: selects the next stack depth
			</li>
			<li>
				<b>Up Arrow</b>: selects the previous stack depth
			</li>
			<li>
				<b>Home</b>: selects the first thread's 
				<b>Flame Graph</b>
			</li>
			<li>
				<b>End</b>: selects the last thread's  
				<b>Flame Graph</b>'s deepest depth
			</li>
			<li>
				<b>Enter</b>: toggles the expansion state of the current thread in the tree
			</li>
			<li>
				<b>Ctrl + +</b>: Zoom-in vertically
			</li>
			<li>
				<b>Ctrl + -</b>: Zoom-out vertically
			</li>
			<li>
				<b>Ctrl + 0</b>: Reset the vertical zoom
			</li>
		</ul>
		<h3 id="Toolbar_6">Toolbar</h3>
		<table>
			<tr>
				<td>
					<img border="0" src="images/sort_alpha.gif"/>
				</td>
				<td>Sort by thread name</td>
				<td>Sort the threads by thread name. Clicking the icon a second time will sort the threads by name in reverse order and change the icon to 
					<img border="0" src="images/sort_alpha_rev.gif"/>
				</td>
			</tr>
			<tr>
				<td>
					<img border="0" src="images/sort_num.gif"/>
				</td>
				<td>Sort by thread id</td>
				<td>Sort the threads by thread ID. Clicking the icon a second time will sort the threads by ID in reverse order and change the icon to 
					<img border="0" src="images/sort_num_rev.gif"/>.
				</td>
			</tr>
		</table>
		<h3 id="Importing_a_binary_or_function_name_mapping_file_.28for_LTTng-UST_.3C2.8_traces.29_2">Importing a binary or function name mapping file (for LTTng-UST &lt;2.8 traces)</h3>
		<p>See Call Stack View's 
			<b>
				<a href="#Call_Stack_View">Importing a binary or function name mapping file (for LTTng-UST &lt;2.8 traces) </a>
			</b>.
		</p>
		<h2 id="Function_Duration_Density">Function Duration Density</h2>
		<p>The 
			<b>Function Duration Density</b> view shows the function duration of function displayed by duration for the current active time window range. This is useful to find global outliers.
		</p>
		<p>
			<img title="Function Duration Density View" alt="Function Duration Density View" border="0" src="images/FunctionDensityView.png"/>
		</p>
		<p>Using the right mouse button to drag horizontally it will update the table and graph to show only the density for the selected durations. Durations outside the selection range will be filtered out. Using the toolbar button 
			<img border="0" src="images/zoomout_nav.gif"/> the zoom range will be reset.
		</p>
		<h2 id="Memory_Usage">Memory Usage</h2>
		<p>The Memory Usage view allows the user to visualize the active memory usage per thread over time, if the application and trace provide this information.</p>
		<p>The view shows the memory consumption for the currently selected trace.</p>
		<p>The time chart plots heap memory usage graphically over time. There is one line per process, unassigned memory usage is mapped to "Other". Processes can be checked and unchecked in the tree on the left hand side.</p>
		<p>The filter button: 
			<img border="0" src="images/filter_items.gif"/> can be used to show only the active threads in the tree viewer. By default only the threads which have had memory usage variations in the visible time range will be shown, clicking the button will reveal all the threads.
		</p>
		<p>In this implementation, the user needs to trace while hooking the 
			<i>liblttng-ust-libc-wrapper</i> by running  
			<i>LD_PRELOAD=liblttng-ust-libc-wrapper.so</i> 
			<b>&lt;exename&gt;</b>. This will add tracepoints to memory allocation and freeing to the heap, NOT shared memory or stack usage. If the contexts 
			<b>vtid</b> and 
			<b>procname</b> are enabled, then the view will associate the heap usage to processes. As detailed earlier, to enable the contexts, see the 
			<a href="LTTng-Tracer-Control.html#Adding_Contexts_to_Channels_and_Events_of_a_Domain">Adding Contexts to Channels and Events of a Domain</a> section. Or if using the command-line:
		</p>
		<ul>
			<li><pre>lttng add-context -u -t vtid -t procname</pre></li>
		</ul>
		<p>If thread information is available the view will look like this:</p>
		<p>
			<img border="0" src="images/memoryUsage/memory-usage-multithread.png"/>
		</p>
		<p>If thread information is not available it will look like this:</p>
		<p>
			<img border="0" src="images/memoryUsage/memory-usage-no-thread-info.png"/>
		</p>
		<p>The time axis is aligned with other views that support automatic time axis alignment (see 
			<a href="Trace-Compass-Main-Features.html#Automatic_Time_Axis_Alignment">Automatic Time Axis Alignment</a>).
		</p>
		<p>The time range can be fully zoomed out by double-clicking the time axis or the home button.</p>
		<p>Please note this view will not show shared memory or stack memory usage.</p>
		<h3 id="Navigation_6">Navigation</h3>
		<p>For navigation, see CPU Usage view's 
			<b>
				<a href="LTTng-Kernel-Analysis.html#Using_the_mouse_2">Using the mouse</a>
			</b>, 
			<b>
				<a href="LTTng-Kernel-Analysis.html#Using_the_keyboard_2">Using the keyboard</a>
			</b> and 
			<b>
				<a href="LTTng-Kernel-Analysis.html#Zoom_region">Zoom region</a>
			</b>.
		</p>
		<h3 id="Toolbar_7">Toolbar</h3>
		<p>The view 
			<b>toolbar</b>, located at the top right of the view, has shortcut buttons to perform common actions.
		</p>
		<p>For details about the see CPU Usage view's 
			<b>
				<a href="LTTng-Kernel-Analysis.html#Toolbar_3">Toolbar</a>
			</b>.
		</p>
		<h3 id="View_Menu_4">View Menu</h3>
		<p>The Memory Usage View 
			<b>view menu</b>, located at the top right of the view, has shortcut buttons to perform common actions:
		</p>
		<table>
			<tr>
				<td>New Memory Usage view</td>
				<td>Spawn a new Memory Usage view. The new view can be pinned to a new instance of the current trace, pinned to any opened trace, or unpinned.</td>
			</tr>
			<tr>
				<td>Align Views</td>
				<td>Disable and enable the automatic time axis alignment of time-based views. Disabling the alignment in this view will disable this feature across all the views because it's a workspace preference.</td>
			</tr>
		</table>
		<p>
			<img border="0" src="images/LTTng_CpuUsageViewToolTip.png"/>
		</p>
		<p>Please note this view will not show shared memory or stack memory usage.</p>
		<h2 id="Source_Lookup_.28for_LTTng-UST_2.8.2B.29">Source Lookup (for LTTng-UST 2.8+)</h2>
		<p>Starting with LTTng 2.8, the tracer can now provide enough information to
			associate trace events with their location in the original source code.</p>
		<p>To make use of this feature, first make sure your binaries are compiled with
			debug information (-g), so that the instruction pointers can be mapped to source
			code locations. This lookup is made using the 
			<i>addr2line</i> command-line utility,
			which needs to be installed and on the 
			<b>$PATH</b> of the system running Trace
			Compass. 
			<i>addr2line</i> is available in most Linux distributions, Mac OS X, Windows using Cygwin and others.
		</p>
		<p>The following trace events need to be present in the trace:</p>
		<ul>
			<li>lttng_ust_statedump:start</li>
			<li>lttng_ust_statedump:end</li>
			<li>lttng_ust_statedump:bin_info</li>
			<li>lttng_ust_statedump:build_id</li>
		</ul>
		<p>as well as the following contexts:</p>
		<ul>
			<li>vpid</li>
			<li>ip</li>
		</ul>
		<p>For ease of use, you can simply enable all the UST events when setting up your
			session:</p>
		<pre> lttng enable-event -u -a
 lttng add-context -u -t vpid -t ip
</pre>
		<p>Note that you can also create and configure your session using the 
			<a href="LTTng-Tracer-Control.html#Control_View">Control View</a>.
		</p>
		<p>If you want to track source locations in shared libraries loaded by the
			application, you also need to enable the "lttng_ust_dl:*" events, as well
			as preload the UST library providing them when running your program:</p>
		<pre> LD_PRELOAD=/path/to/liblttng-ust-dl.so ./myprogram
</pre>
		<p>If all the required information is present, then the 
			<i>Source Location</i> column
			of the Event Table should be populated accordingly, and the 
			<i>Open Source Code</i>
			action should be available. Refer to the section 
			<a href="Trace-Compass-Main-Features.html#Event_Source_Lookup">Event Source Lookup</a> for
			more details.
		</p>
		<p>The 
			<i>Binary Location</i> information should be present even if the original
			binaries are not available, since it only makes use of information found in the
			trace. A 
			<b>+</b> denotes a relative address (i.e. an offset within the object
			itself), whereas a 
			<b>@</b> denotes an absolute address, for
			non-position-independent objects.
		</p>
		<p>
			<img border="0" src="images/sourceLookup/trace-with-debug-info.png"/>
		</p>
		<p>
			<i>Example of a trace with debug info and corresponding Source Lookup information, showing a tracepoint originating from a shared library</i>
		</p>
		<h3 id="Binary_file_location_configuration">Binary file location configuration</h3>
		<p>To resolve addresses to function names and source code locations, the analysis
			makes use of the binary files (executables or shared libraries) present on the
			system. By default, it will look for the file paths as they are found in the
			trace, which means that it should work out-of-the-box if the trace was taken on
			the same machine that Trace Compass is running.</p>
		<p>It is possible to configure a 
			<i>root directory</i> that will be used as a prefix
			for all file path resolutions. The button to open the configuration dialog is
			called 
			<b>Configure how addresses are mapped to function names</b> and is
			currently located in the 
			<a href="#Call_Stack_View">Call Stack View</a>. Note that the Call Stack View
			will also make use of this configuration to resolve its function names.
		</p>
		<p>
			<img border="0" src="images/sourceLookup/symbol-mapping-config-ust28.png"/>
		</p>
		<p>
			<i>The symbol configuration dialog for LTTng-UST 2.8+ traces</i>
		</p>
		<p>This can be useful if a trace was taken on a remote target, and an image of that
			target is available locally.</p>
		<p>If a binary file is being traced on a target, the paths in the trace will refer
			to the paths on the target. For example, if they are:</p>
		<ul>
			<li>/usr/bin/program</li>
			<li>/usr/lib/libsomething.so</li>
			<li>/usr/local/lib/libcustom.so</li>
		</ul>
		<p>and an image of that target is copied locally on the system at

			<i>/home/user/project/image</i>, which means the binaries above end up at:
		</p>
		<ul>
			<li>/home/user/project/image/usr/bin/program</li>
			<li>/home/user/project/image/usr/lib/libsomething.so</li>
			<li>/home/user/project/image/usr/local/lib/libcustom.so</li>
		</ul>
		<p>Then selecting the 
			<i>/home/user/project/image</i> directory in the configuration
			dialog above will allow Trace Compass to read the debug symbols correctly.
		</p>
		<p>Note that this path prefix will apply to both binary file and source file
			locations, which may or may not be desirable.</p><hr class="navigation-separator"/>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<td style="width: 20%" align="left">
					<a href="LTTng-Kernel-Analysis.html" title="LTTng Kernel Analysis">
						<img alt="Previous" border="0" src="images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center">
					<a href="User-Guide.html" title="Trace Compass User Guide">
						<img alt="Trace Compass User Guide" border="0" src="images/home.gif"/>
					</a>
				</td>
				<td style="width: 20%" align="right">
					<a href="Trace-synchronization.html" title="Trace synchronization">
						<img alt="Next" border="0" src="images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">LTTng Kernel Analysis</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Trace synchronization</td>
			</tr>
		</table>
	</body>
</html><html id='3853.308_emf_integration.html'></html><html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
	<title>Integration with EMF</title>
	<link href="book.css" rel="stylesheet" type="text/css">
	<link href="code.css" rel="stylesheet" type="text/css">
	<link rel="home" href="index.html" title="">
</head>
<body>

<h1 id="emf-integration">Integration with EMF</h1>

<p>Xtext relies heavily on EMF internally, but it can also be used as the serialization back-end of other EMF-based tools. In this section we introduce the basic concepts of the <a href="http://www.eclipse.org/modeling/emf/">Eclipse Modeling Framework (EMF)</a> in the context of Xtext. If you want to learn more about EMF, we recommend reading the <a href="http://www.eclipse.org/modeling/emf/">EMF book</a>.</p>

<h2 id="model-metamodel">Model, Ecore Model, and Ecore</h2>

<p>Xtext uses EMF models as the in-memory representation of any parsed text files. This in-memory object graph is called the <em>abstract syntax tree</em> (AST). Depending on the community this concepts is also called <em>document object graph (DOM)</em>, <em>semantic model</em>, or simply <em>model</em>. We use <em>model</em> and <em>AST</em> interchangeably. Given the example model from the <a href="102_domainmodelwalkthrough.html">tutorial</a>, the AST looks similar to this</p>

<p><img src="images/ast.png" alt="Sample AST" /></p>

<p>The <em>AST</em> should contain the essence of your textual models. It abstracts over syntactical information. It is used by later processing steps, such as validation, compilation or interpretation. In EMF a model is made up of instances of <em>EObjects</em> which are connected and an <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">EObject</a> is an instance of an <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">EClass</a>. A set of <em>EClasses</em> if contained in a so called <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">EPackage</a>, which are both concepts of <em>Ecore</em>. In Xtext, meta models are either inferred from the grammar or predefined by the user (see the section on <a href="301_grammarlanguage.html#package-declarations">package declarations</a> for details). The next diagram shows the meta model of our example:</p>

<p><img src="images/metamodel.png" alt="Sample meta model" /></p>

<p>The language in which the meta model is defined is called <em>Ecore</em>. In other words, the meta model is the Ecore model of your language. Ecore is an essential part of EMF. Your models instantiate the meta model, and your meta model instantiates Ecore. To put an end to this recursion, Ecore is defined in itself (an instance of itself).</p>

<p>The meta model defines the types of the semantic nodes as Ecore <em>EClasses</em>. EClasses are shown as boxes in the meta model diagram, so in our example, <em>Model</em>, <em>Type</em>, <em>SimpleType</em>, <em>Entity</em>, and <em>Property</em> are EClasses. An EClass can inherit from other EClasses. Multiple inheritance is allowed in Ecore, but of course cycles are forbidden.</p>

<p>EClasses can have <em>EAttributes</em> for their simple properties. These are shown inside the EClasses nodes. The example contains two EAttributes <em>name</em> and one EAttribute <em>multi</em>. The domain of values for an EAttribute is defined by its <em>EDataType</em>. Ecore ships with some predefined <em>EDataTypes</em>, which essentially refer to Java primitive types and other immutable classes like <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html">String</a>. To make a distinction from the Java types, the <em>EDataTypes</em> are prefixed with an <em>E</em>. In our example, that is <em>EString</em> and <em>EBoolean</em>.</p>

<p>In contrast to EAttributes, <em>EReferences</em> point to other EClasses. The <em>containment</em> flag indicates whether an EReference is a <em>containment reference</em> or a <em>cross-reference</em>. In the diagram, references are edges and containment references are marked with a diamond. At the model level, each element can have at most one container, i.e. another element referring to it with a containment reference. This infers a tree structure to the models, as can be seen in the sample model diagram. On the other hand, <em>cross-references</em> refer to elements that can be contained anywhere else. In the example, <em>elements</em> and <em>properties</em> are containment references, while <em>type</em> and <em>extends</em> are cross-references. For reasons of readability, we skipped the cross-references in the sample model diagram. Note that in contrast to other parser generators, Xtext creates ASTs with linked cross-references.</p>

<p>Other than associations in UML, EReferences in Ecore are always owned by one EClass and only navigable in the direction form the owner to the type. Bi-directional associations must be modeled as two references, being <em>eOpposite</em> of each other and owned by either end of the associations.</p>

<p>The superclass of EAttributes and EReferences is <em>EStructuralFeature</em> and allows to define a name and a cardinality by setting <em>lowerBound</em> and <em>upperBound</em>. Setting the latter to -1 means ‘unbounded’.</p>

<p>The common super type of EDataType and EClass is <em>EClassifier</em>. An <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">EPackage</a> acts as a namespace and container of EClassifiers.</p>

<p>We have summarized these most relevant concepts of Ecore in the following diagram:</p>

<p><img src="images/ecore.png" alt="Ecore concepts" /></p>

<h2 id="emf-codegen">EMF Code Generation</h2>

<p>EMF also ships with a code generator that generates Java classes from your Ecore model. The code generators input is the so called <em>EMF generator model</em>. It decorates (references) the Ecore model and adds additional information for the Ecore → Java transformation. Xtext will automatically generate a generator model with reasonable defaults for all generated metamodels, and run the EMF code generator on them.</p>

<p>The generated classes are based on the EMF runtime library, which offers a lot of infrastructure and tools to work with your models, such as persistence, reflection, referential integrity, lazy loading etc.</p>

<p>Among other things, the code generator will generate</p>

<ul>
  <li>A Java interface and a Java class for each EClassifier in your Ecore model. By default, all classes will implement the interface <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">EObject</a>, linking a lot of runtime functionality.</li>
  <li>A Java bean property for each EStructuralFeature (member variable, accessor methods).</li>
  <li>A package interface and class, holding singleton objects for all elements of your Ecore model, allowing reflection. EPackages are also registered to the <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">Registry</a> to be usable at runtime.</li>
  <li>A factory interface and class for creating instances.</li>
  <li>An abstract switch class implementing a visitor pattern to avoid if-instanceof-cascades in your code.</li>
</ul>

<h2 id="xtext-resource">XtextResource Implementation</h2>

<p>Xtext provides an implementation of EMF’s resource, the <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">XtextResource</a>. This does not only encapsulate the parser that converts text to an EMF model but also the <a href="303_runtime_concepts.html#serialization">serializer</a> working the opposite direction. That way, an Xtext model just looks like any other Ecore-based model from the outside, making it amenable for the use by other EMF based tools. So in the ideal case, you can switch the serialization format of your models to your self-defined DSL by just replacing the resource implementation used by your other modeling tools.</p>

<p><img src="images/emf-integration.png" alt="" /></p>

<p>The generator fragment <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/resourceFactory/ResourceFactoryFragment2.xtend">ResourceFactoryFragment2</a> registers a factory for the <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">XtextResource</a> to EMF’s resource factory registry, such that all tools using the default mechanism to resolve a resource implementation will automatically get that resource implementation.</p>

<p>Using a self-defined textual syntax as the primary storage format has a number of advantages over the default XMI serialization, e.g.</p>

<ul>
  <li>You can use well-known and easy-to-use tools and techniques for manipulation, such as text editors, regular expressions, or stream editors.</li>
  <li>You can use the same tools for version control as you use for source code. Comparing and merging is performed in a syntax the developer is familiar with.</li>
  <li>It is impossible to break the model such that it cannot be reopened in the editor again.</li>
  <li>Models can be fixed using the same tools, even if they have become incompatible with a new version of the Ecore model.</li>
</ul>

<p>Xtext targets easy to use and naturally feeling languages. It focuses on the lexical aspects of a language a bit more than on the semantic ones. As a consequence, a referenced Ecore model can contain more concepts than are actually covered by the Xtext grammar. As a result, not everything that is possibly expressed in the EMF model can be serialized back into a textual representation with regards to the grammar. So if you want to use Xtext to serialize your models as described above, it is good to have a couple of things in mind:</p>

<ul>
  <li>Prefer optional rule calls (cardinality <em>?</em> or <em>*</em>) to mandatory ones (cardinality <em>+</em> or default), such that missing references will not obstruct serialization.</li>
  <li>You should not use an Xtext-Editor on the same model instance as a self-synchronizing other editor, e.g. a canonical GMF editor (see the <a href="308_emf_integration.html#gmf-integration-stage1">EMF integration chapter</a> for details). The Xtext parser replaces re-parsed subtrees of the AST rather than modifying it, so elements will become stale. As the Xtext editor continuously re-parses the model on changes, this will happen rather often. It is safer to synchronize editors more loosely, e.g. on file changes.</li>
  <li>Implement an <a href="#fragment-provider">IFragmentProvider</a> to make the XtextResource return stable fragments for its contained elements, e.g. based on composite names rather than order of appearance.</li>
  <li>Implement an <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/naming/IQualifiedNameProvider.java">IQualifiedNameProvider</a> and an <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScopeProvider.java">IScopeProvider</a> (<a href="303_runtime_concepts.html#scoping">how-to</a>) to make the names of all linkable elements in cross-references unique.</li>
  <li>Provide an <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/formatting/IFormatter.java">IFormatter</a> (<a href="303_runtime_concepts.html#formatting">how-to</a>) to improve the readability of the generated textual models.</li>
  <li>Register an <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/parser/antlr/IReferableElementsUnloader.java">IReferableElementsUnloader</a> to turn deleted/replaced model elements into EMF proxies. Design the rest of your application such that it does never keep references to <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">EObjects</a> or to cope with proxies. That will improve the stability of your application drastically.</li>
  <li>Xtext will register an EMF <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/resource/Resource.java">Factory</a>, so resources with the file extension you entered when generating the Xtext plug-ins will be automatically loaded in an <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">XtextResource</a> when you use EMF’s <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/resource/ResourceSet.java">ResourceSet</a> API to load it.</li>
</ul>

<h2 id="fragment-provider">Referencing From EMF</h2>

<p>In some cases you may want to be able to reference an <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">EObject</a> of an Xtext model from another EMF artifact that is not managed by Xtext. In those cases URIs are used, which are made up of a part identifying the resource and a second part that points to an object. Each <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">EObject</a> contained in a resource can be identified by a so called <em>fragment</em>.</p>

<p>A fragment is a part of an EMF URI and needs to be unique per resource.</p>

<p>The generic resource shipped with EMF provides a generic path-like computation of fragments. These fragment paths are unique by default and do not have to be serialized. On the other hand, they can be easily broken by reordering the elements in a resource.</p>

<p>With an XMI or other binary-like serialization it is also common and possible to use UUIDs. UUIDs are usually binary and technical, so you don’t want to deal with them in human readable representations.</p>

<p>However with a textual concrete syntax we want to be able to compute fragments out of the human readable information. We don’t want to force people to use UUIDs (i.e. synthetic identifiers) or fragile, relative, generic paths in order to refer to <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">EObjects</a>.</p>

<p>Therefore one can contribute an <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/resource/IFragmentProvider.java">IFragmentProvider</a> per language. It has two methods: <code>getFragment(EObject, Fallback)</code> to calculate the fragment of an <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">EObject</a> and <code>getEObject(Resource, String, Fallback)</code> to go the opposite direction. The <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/resource/IFragmentProvider.java">Fallback</a> interface allows to delegate to the default strategy - which usually uses the fragment paths described above.</p>

<p>The following snippet shows how to use qualified names as fragments:</p>

<pre><code class="language-java">public QualifiedNameFragmentProvider implements IFragmentProvider {

  @Inject
  private IQualifiedNameProvider qualifiedNameProvider;

  public String getFragment(EObject obj, Fallback fallback) {
    String qName = qualifiedNameProvider.getQualifiedName(obj);
    return qName != null ? qName : fallback.getFragment(obj);
  }

  public EObject getEObject(Resource resource,
                            String fragment,
                            Fallback fallback) {
    if (fragment != null) {
      Iterator&lt;EObject&gt; i = EcoreUtil.getAllContents(resource, false);
      while(i.hasNext()) {
        EObject eObject = i.next();
        String candidateFragment = (eObject.eIsProxy())
            ? ((InternalEObject) eObject).eProxyURI().fragment()
            : getFragment(eObject, fallback);
        if (fragment.equals(candidateFragment))
          return eObject;
      }
    }
    return fallback.getEObject(fragment);
  }
}
</code></pre>

<p>For performance reasons it is usually a good idea to navigate the resource based on the fragment information instead of traversing it completely. If you know that your fragment is computed from qualified names and your model contains something like <em>NamedElements</em>, you should split your fragment into those parts and query the root elements, the children of the best match and so on.</p>

<p>Furthermore it’s a good idea to have some kind of conflict resolution strategy to be able to distinguish between equally named elements that actually are different, e.g. properties may have the very same qualified name as entities.</p>

<h2 id="gmf-integration">Integration with GMF Editors</h2>

<p>We do no longer maintain the GMF example code and have removed it from our installation. You can still access the last version of the source code form our <a href="https://github.com/eclipse/xtext/tree/v2.10.0/examples/org.eclipse.xtext.xtext.ui.examples/contents">source code repository</a>.</p>

<p>The <a href="http://www.eclipse.org/modeling/gmp/?project=gmf">Graphical Modeling Framework (GMF)</a> allows to create graphical diagram editors for Ecore models. To illustrate how to build a GMF on top of an <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">XtextResource</a> we have provided an example. You must have the Helios version 2.3 of GMF Notation, Runtime and Tooling and their dependencies installed in your workbench to run the example. With other versions of GMF it might work to regenerate the diagram code.</p>

<p>The example consists of a number of plug-ins</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Plug-in</th>
      <th style="text-align: left">Framework</th>
      <th style="text-align: left">Purpose</th>
      <th style="text-align: left">Contents</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">o.e.x.example.gmf</td>
      <td style="text-align: left">Xtext</td>
      <td style="text-align: left">Xtext runtime plug-in</td>
      <td style="text-align: left">Grammar, derived metamodel and language infrastructure</td>
    </tr>
    <tr>
      <td style="text-align: left">o.e.x.e.g.ui</td>
      <td style="text-align: left">Xtext</td>
      <td style="text-align: left">Xtext UI plug-in</td>
      <td style="text-align: left">Xtext editor and services</td>
    </tr>
    <tr>
      <td style="text-align: left">o.e.x.e.g.edit</td>
      <td style="text-align: left">EMF</td>
      <td style="text-align: left">EMF.edit plug-in</td>
      <td style="text-align: left">UI services generated from the metamodel</td>
    </tr>
    <tr>
      <td style="text-align: left">o.e.x.e.g.models</td>
      <td style="text-align: left">GMF</td>
      <td style="text-align: left">GMF design models</td>
      <td style="text-align: left">Input for the GMF code generator</td>
    </tr>
    <tr>
      <td style="text-align: left">o.e.x.e.g.diagram</td>
      <td style="text-align: left">GMF</td>
      <td style="text-align: left">GMF diagram editor</td>
      <td style="text-align: left">Purely generated from the GMF design models</td>
    </tr>
    <tr>
      <td style="text-align: left">o.e.x.e.g.d.extensions</td>
      <td style="text-align: left">GMF and Xtext</td>
      <td style="text-align: left">GMF diagram editor extensions</td>
      <td style="text-align: left">Manual extensions to the generated GMF editor for integration with Xtext</td>
    </tr>
    <tr>
      <td style="text-align: left">o.e.x.gmf.glue</td>
      <td style="text-align: left">Xtext and GMF</td>
      <td style="text-align: left">Glue code</td>
      <td style="text-align: left">Generic code to integrate Xtext and GMF</td>
    </tr>
  </tbody>
</table>

<p>We will elaborate the example in three stages.</p>

<h3 id="gmf-integration-stage1">Stage 1: Make GMF Read and Write the Semantic Model As Text</h3>

<p>A diagram editor in GMF by default manages two resources: One for the semantic model, that is the model we’re actually interested in for further processing. In our example it is a model representing entities and data types. The second resource holds the notation model. It represents the shapes you see in the diagram and their graphical properties. Notation elements reference their semantic counterparts. An entity’s name would be in the semantic model, while the font to draw it in the diagram would be stored the notation model. Note that in the integration example we’re only trying to represent the semantic resource as text.</p>

<p>To keep the semantic model and the diagram model in sync, GMF uses a so called <em>CanonicalEditPolicy</em>. This component registers as a listener to the semantic model and automatically updates diagram elements when their semantic counterparts change, are added or are removed. Some notational information can be derived from the semantic model by some default mapping, but usually there is a lot of graphical stuff that the user wants to change to make the diagram look better.</p>

<p>In an Xtext editor, changes in the text are transferred to the underlying <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">XtextResource</a> by a call to the method <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">XtextResource.update(int, int, String)</a>, which will trigger a partial parsing of the dirty text region and a replacement of the corresponding subtree in the AST model (semantic model).</p>

<p>Having an Xtext editor and a canonical GMF editor on the same resource can therefore lead to loss of notational information, as a change in the Xtext editor will remove a subtree in the AST, causing the <em>CanonicalEditPolicy</em> to remove all notational elements, even though it was customized by the user. Xtext rebuilds the AST and the notation model is restored using the default mapping. It is therefore not recommended to let an Xtext editor and a canonical GMF editor work on the same resource.</p>

<p>In this example, we let each editor use its own memory instance of the model and synchronize on file changes only. Both frameworks already synchronize with external changes to the edited files out-of-the-box. In the glue code, a <em>org.eclipse.xtext.gmf.glue.concurrency.ConcurrentModificationObserver</em> warns the user if she tries to edit the same file with two different model editors concurrently.</p>

<p>In the example, we started with writing an Xtext grammar for an entity language. As explained above, we preferred optional assignments and rather covered mandatory attributes in a validator. Into the bargain, we added some services to improve the EMF integration, namely a formatter, a fragment provider and an unloader. Then we let Xtext generate the language infrastructure. From the derived Ecore model and its generator model, we generated the edit plug-in (needed by GMF) and added some fancier icons.</p>

<p>From the GMF side, we followed the default procedure and created a gmfgraph model, a gmftool model and a gmfmap model referring to the Ecore model derived form the Xtext grammar. We changed some settings in the gmfgen model derived by GMF from the gmfmap model, namely to enable printing and to enable validation and validation decorators. Then we generated the diagram editor.</p>

<p>Voilà, we now have a diagram editor that reads/writes its semantic model as text. Also note that the validator from Xtext is already integrated in the diagram editor via the menu bar.</p>

<h3 id="gmf-integration-stage2">Stage 2: Calling the Xtext Parser to Parse GMF Labels</h3>

<p>GMF’s generated parser for the labels is a bit poor: It will work on attributes only, and will fail for cross-references, e.g. an attribute’s type. So why not use the Xtext parser to process the user’s input?</p>

<p>An <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">XtextResource</a> keeps track of it’s concrete syntax representation by means of a so called node model (see <a href="301_grammarlanguage.html#parser-rules">parser rules section</a> for a more detailed description). The node model represents the parse tree and provides information on the offset, length and text that has been parsed to create a semantic model element. The nodes are attached to their semantic elements by means of a node adapter.</p>

<p>We can use the node adapter to access the text block that represents an attribute, and call the Xtext parser to parse the user input. The example code is contained in <em>org.eclipse.xtext.gmf.glue.edit.part.AntlrParserWrapper</em>. <em>SimplePropertyWrapperEditPartOverride</em> shows how this is integrated into the generated GMF editor. Use the <em>EntitiesEditPartFactoryOverride</em> to instantiate it and the <em>EntitiesEditPartProviderOverride</em> to create the overridden factory, and register the latter to the extension point. Note that this is a non-invasive way to extend the generated GMF editors.</p>

<p>When you test the editor, you will note that the node model will be corrupt after editing a few labels. This is because the node model is only updated by the Xtext parser and not by the serializer. So we need a way to automatically call the (partial) parser every time the semantic model is changed. You will find the required classes in the package <em>org.eclipse.xtext.gmf.glue.editingdomain</em>. To activate node model reconciling, you have to add a line</p>

<pre><code class="language-java">XtextNodeModelReconciler.adapt(editingDomain);
</code></pre>

<p>in the method <code>createEditingDomain()</code> of the generated <em>EntitiesDocumentProvider</em>. To avoid changing the generated code, you can modify the code generation template for that class by setting</p>

<pre><code class="language-java">Dynamic Templates -&gt; true
  Template Directory = "org.eclipse.xtext.example.gmf.models/templates"
</code></pre>

<p>in the <em>GenEditorGenerator</em> and</p>

<pre><code class="language-java">Required Plugins -&gt; "org.eclipse.xtext.gmf.glue" 
</code></pre>

<p>in the <em>GenPlugin</em> element of the gmfgen before generating the diagram editor anew.</p>

<h3 id="gmf-integration-stage3">Stage 3: A Popup Xtext Editor (experimental)</h3>

<p><em>SimplePropertyPopupXtextEditorEditPartOverride</em> demonstrates how to spawn an Xtext editor to edit a model element. The editor pops up in its control and shows only the section of the selected element. It is a fully fledged Xtext editor, with support of validation, code assist and syntax highlighting. The edited text is only transferred back to the model if it does not have any errors.</p>

<p>Note that there still are synchronization issues, that’s why we keep this one marked as experimental.</p>

<hr />

<p><strong><a href="310_eclipse_support.html">Next Chapter: Eclipse Support</a></strong></p>


</body>
</html>
<html id='0335.org_eclipse_cdt_managedbuilder_core_ManagedBuildInfo.html'></html><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Managed Build Tools 2.0 (deprecated)</title>
<style type="text/css">@import url("../../book.css");</style>
<style type="text/css">@import url("../../schema.css");</style>
</HEAD>
<BODY>
<H1 style="text-align:center">Managed Build Tools 2.0 (deprecated)</H1>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Identifier: </h6>org.eclipse.cdt.core.ManagedBuildTools<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Since: </h6>1.2
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">Description: </h6>The managed build information model describes targets, configurations, and toolchains for the build system.<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Configuration Markup:</h6>
<p></p>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.target">target</a> , <a href="#e.tool">tool</a> , <a href="#e.configuration">configuration</a> , <a href="#e.dynamicElementProvider">dynamicElementProvider</a> , <a href="#e.managedBuildRevision">managedBuildRevision</a>)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST extension</p>
<p class="code SchemaDtdAttlist">point&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class="ConfigMarkupAttlistDesc">
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.tool">tool</a> (<a href="#e.option">option</a> , <a href="#e.optionCategory">optionCategory</a>)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST tool</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">sources&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">outputs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">command&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">outputFlag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">outputPrefix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">dependencyCalculator&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">headerExtensions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">natureFilter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(cnature|ccnature|both) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Defines a tool used in the build process.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - A unique identifier for the tool that will be used by the build model.</li>
<li><b>name</b> - Human-readable name for the tool to be used in the UI.</li>
<li><b>sources</b> - A comma-separated list of file extensions that the tool will produce output for.</li>
<li><b>outputs</b> - The extension that the tool will produce from a given input.</li>
<li><b>command</b> - The command that invokes the tool. For example, gcc for the Gnu C compiler, or g++ for the Gnu C++ compiler.</li>
<li><b>outputFlag</b> - An optional flag for tools that allow users to specify a name for the artifact of the tool. For example, the GCC compiler and linker tools typically allow the user to specify the name of the output with the '-o' flag, whereas the archiver that creates libraries does not.</li>
<li><b>outputPrefix</b> - Some tools produce files with a special prefix that must be specified. For example, a librarian on POSIX systems expects the output to be lib<target>.a, so 'lib' would be the prefix.</li>
<li><b>dependencyCalculator</b> - This is an optional field that specifies the class that provides the source file dependency calculation for a given tool. You can replace the default calculator with a class that implements the <code>IManagedDependencyGenerator</code> interface.</li>
<li><b>headerExtensions</b> - A comma-separated list of file extensions that are used for header files. Since many other files depend on the interfaces defined in header files, the build system needs to be able to determine that a header file has changed to properly rebuild its dependents.</li>
<li><b>natureFilter</b> - Filter the display (and use) of the tool by the nature of the project. Selecting a value of 'cnature' insures that the tool will be displayed IFF there is a cnature associated with the project. A ccnature will filter this tool out. If 'ccnature' is selected, the tool will only be available for C++ projects. If 'both' is selected, the tool will be displayed when either nature is present.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.option">option</a> (<a href="#e.enumeratedOptionValue">enumeratedOptionValue</a> , <a href="#e.listOptionValue">listOptionValue</a>)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST option</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">valueType&nbsp;&nbsp;&nbsp;&nbsp;(string|stringList|boolean|enumerated|includePath|definedSymbols|libs|userObjs) "string"</p>
<p class="code SchemaDtdAttlist">category&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">defaultValue&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">command&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">commandFalse&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">browseType&nbsp;&nbsp;&nbsp;(none|file|directory) </p>
<p class="code SchemaDtdAttlist">helpSupplier&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">tip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
An option is associated with a tool. Options can contain boolean values, a simple text string, a selection from an enumerated list, or a list of values. Options also map the value they contain to a command-line flag, such as '-g' in the case of debugging symbol information for compilers.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - A unique identifier for the option.</li>
<li><b>name</b> - A descriptive name for the option.</li>
<li><b>valueType</b> - General options can be one of the following types; 'string' for catch-all entries for options that cannot be easily defined any other way, 'string list' for entries that consist of a list of values such as defined symbols or paths, 'boolean' for options that have two values, and 'enumerated' for options that are one-of a list of values.

Additional special types exist to flag options of special relevance to the build model; 'include', 'libs', 'userObjs' and 'definedSymbols'. You can pre-populate with optionValues, and they will display in the UI the same way the 'stringList' options do. The build model will look specifically for these value types when clients query for include paths and preprocessor defines. The makefile generator will treat the libs and userObjs entries differently than other stringLists.</li>
<li><b>category</b> - This is the id of the option category for this option.  The id can be the id of the tool which is also a category.</li>
<li><b>defaultValue</b> - Specifies the default value for the option if the 'value' field is blank. For enumerated options the optionEnums will be searched for the default. For string list options, all defined optionValues will be treated as defaults. For boolean values, specify truth using the string 'true'. All other strings will be treated as false.</li>
<li><b>command</b> - An optional value that specifies the actual command that will be passed to the tool on the command line.</li>
<li><b>commandFalse</b> - An optional value, used only with options of type Boolean, that specifies the actual command that will be passed to the tool on the command line when the value of the Boolean option is False.</li>
<li><b>browseType</b> - This value is used for list (and related) options only. If you need a list option to prompt the user to browse for a file or directory when adding a new value, set the value of the attribute accordingly. By default the value is treated as no browsing needed.</li>
<li><b>helpSupplier</b> - This field is unused in 2.0</li>
<li><b>tip</b> - Specifies a "tip" that can be displayed in hover help or on the property page. Not implemented in 2.0.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.enumeratedOptionValue">enumeratedOptionValue</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST enumeratedOptionValue</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">isDefault&nbsp;(true | false) </p>
<p class="code SchemaDtdAttlist">command&nbsp;&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Defines a single value of an enumerated option.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - Unique identifier for the option enumeration.</li>
<li><b>name</b> - A descriptive name for the enumeration.</li>
<li><b>isDefault</b> - Flags this enumerated value as the default to apply to the option if the user has not changed the setting.</li>
<li><b>command</b> - The command that the enumerated value translates to on the command line.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.configuration">configuration</a> (<a href="#e.toolReference">toolReference</a>)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST configuration</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A configuration is used to gather together certain default tools and options to build  target a certain way. For example, a "Debug" configuration might supply tools with the options set to build with debugging symbols, whereas a "Release" configuration would supply tools with options set to create the best performance.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - Unique identifier for the configuration.</li>
<li><b>name</b> - A descriptive name for the configuration to be used in the UI.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.toolReference">toolReference</a> (<a href="#e.optionReference">optionReference</a>)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST toolReference</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">command&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">outputs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">outputPrefix&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">outputFlag&nbsp;&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This is reserved for future use. It currently gets instantiated for saving tool settings.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - The unique ID of the tool that the reference is for.</li>
<li><b>command</b> - The overridden command for the tool the reference is for.</li>
<li><b>outputs</b> - A comma-separated list of extensions that this tool reference will create. This completely overrides the the output extension in the tool the reference is for.</li>
<li><b>outputPrefix</b> - The prefix that will be applied to the output of the tool. This completely overrides the output defined in the referenced tool.</li>
<li><b>outputFlag</b> - Overrides the output flag of the referenced tool.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.optionReference">optionReference</a> (<a href="#e.listOptionValue">listOptionValue</a> , <a href="#e.enumeratedOptionValue">enumeratedOptionValue</a>)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST optionReference</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">defaultValue&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">command&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Option references hold onto information the user has changed through the UI. Not all fields will be populated, depending on the option type the reference overrides. For example, the 'name' field is used by enumerated options only.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - The unique ID of the option the reference is for.</li>
<li><b>defaultValue</b> - This field is used to record the value of the option that the user has set in the build settings file. For example, if the user has set the verbose flag to true, the project's build settings file will contain an option reference for the verbose option, with the defaultvalue set to true.
<p>The attribute is also used to override the default option setting for a configuration in a toolchain. For example, a 'Debug' configuration may setthe value of a debug flag differently than the default value defined in the tool.</li>
<li><b>command</b> - This field is unused in 2.0</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.target">target</a> (<a href="#e.tool">tool</a> , <a href="#e.configuration">configuration</a> , <a href="#e.toolReference">toolReference</a>)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST target</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">isAbstract&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(true | false) "false"</p>
<p class="code SchemaDtdAttlist">parent&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">artifactName&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">defaultExtension&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">isTest&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(true | false) </p>
<p class="code SchemaDtdAttlist">cleanCommand&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">makeCommand&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">makeArguments&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">binaryParser&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">osList&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">archList&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">errorParsers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">scannerInfoCollector&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">makefileGenerator&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Represents a type of resource that is the target of the build process, for example, a Linux static library. A target contains a sequence of tool definitions and configurations. Targets are arranged in an inheritance hierarchy where a target inherits the list of tools from it's parent and can add to or override tools in this list.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - Used by the build model to uniquely identify the target.</li>
<li><b>name</b> - A human-readable target name, such as 'Executable'. This will be the name the user sees displayed in the UI.</li>
<li><b>isAbstract</b> - This is a UI property.  If set to true, users should not be able to create project configurations targeted at this target.</li>
<li><b>parent</b> - The id of a target that this tool inherits from.</li>
<li><b>artifactName</b> - This is the name of the final build artifact associated with the target. The user will specify this is the UI, so there is no need to supply a default value.</li>
<li><b>defaultExtension</b> - This is the extensionthat will be applied to any build artifact created by the target.</li>
<li><b>isTest</b> - A an optional field that flags a target as a test-only target. If true, the target will not appear in the UI.</li>
<li><b>cleanCommand</b> - This attribute maintains the command that removes files for a particular target. For example, on POSIX targets like Linuc, Solaris, or Cygwin, the command would be <code>rm -rf</code> whereas on Win32 platforms it would be <code>del /F /S /Q</code></li>
<li><b>makeCommand</b> - Specifies the default command to start the build utility for your toolchain. If the user changes this through the UI, the overriden value will be stored in the project build file. The build model will default to this value if the user ever resets a change.</li>
<li><b>makeArguments</b> - Specifies the additional, default arguments that will be passed to the build utility when it is called by the builder. If the user changes the flags through the UI, the overriden value will be stored in the project build settings file. The build model will default to this value if the user ever resets a change.</li>
<li><b>binaryParser</b> - Set this to the ID of the binary parser for the output format of your target. Currently there are only 2 choices: org.eclipse.cdt.core.ELF for *nix targets, and "org.eclipse.cdt.core.PE" for targets that build for Windows, like Cygwin.</li>
<li><b>osList</b> - This field is used by the managed build system to decide when to show the user the target. The value should be a comma-separated list. Current values are "win32", "linux", "solaris", "hpux", "aix" or "any".</li>
<li><b>archList</b> - This field is used by the managed build system to decide when to show the user the target. The value should be a comma-separated list. Current values include "x86", "sparc", "ppc"; or "all".</li>
<li><b>errorParsers</b> - Specifies the default list of error parsers to be used by projects created from this target.  It is an ordered, semi-colon separated list of parser IDs.  The order specifies the order in which the error parsers are invoked during a build.</li>
<li><b>scannerInfoCollector</b> - Specifies a class that implements the <code>IManagedScannerInfoCollector</code> for gathering the built-in compiler settings for a toolchain.</li>
<li><b>makefileGenerator</b> - Allows you to supply a custom makefile generator that conforms to the <code>IManagedBuilderMakefileGenerator</code> interface.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.optionCategory">optionCategory</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST optionCategory</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">owner&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
An optional, but useful, mechanism for grouping options together.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - Used by the build model to uniquely identify the option category.</li>
<li><b>name</b> - A human-readable category name, such as 'Preprocessor Options'. This will be the name the user sees displayed in the UI.</li>
<li><b>owner</b> - Option categories can belong to a tool or be nested inside other option categories. This is the ID of the owner of the category.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.listOptionValue">listOptionValue</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST listOptionValue</p>
<p class="code SchemaDtdAttlist">value&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">builtIn&nbsp;(true | false) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A value for defining individual elements of a list option.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>value</b> - The contents of the list item.</li>
<li><b>builtIn</b> - This attribute flags the list value as a built-in value as opposed to something the user has entered. Built-ins will not be passed to clients that generate command lines (like the makefile generator). However, clients that need to take these settings into account (like the indexing service), will receive these settings. These values will appear grey in the UI.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.dynamicElementProvider">dynamicElementProvider</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST dynamicElementProvider</p>
<p class="code SchemaDtdAttlist">class&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
An optional element that allows a tool implementor to supply a class that creates one or more dynamic toolchain elements. For example, the class might create a new tool reference based on the contents of a special file, and a new target that uses that reference.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - The class that implements the <code>IManagedConfigElementProvider</code> interface. The logic of determining the elements is left to the implementer, but they must be correctly formed or the build model will have trouble loading.</li>
<li><b>name</b> - A meaningful name for the type of element being provided.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.managedBuildRevision">managedBuildRevision</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST managedBuildRevision</p>
<p class="code SchemaDtdAttlist">fileVersion&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>
Version identifier for the managed build extension point. It is a string representation, consisting of three (3) tokens separated by a decimal point. The 3 tokens are positive integer numbers. For example, the following are valid version identifiers:
 <ul>
  <li><code>0.0.0</code></li>
  <li><code>1.0.1234</code></li>
  <li><code>1.9</code> (interpreted as <code>1.9.0</code>)</li>
  <li><code>3</code> (interpreted as <code>3.0.0</code>)</li>
 </ul>
</p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>fileVersion</b> - The actual string containing the three version tokens.</li>
</ul>
<br><h6 class="CaptionFigColumn SchemaHeader">Examples: </h6>The following is an example of the extension point usage:
<p>
<pre class="Example"><span class="code SchemaTag">
   &lt;extension
         id=</span><span class="code SchemaCstring">&quot;buildExample&quot;</span><span class="code SchemaTag">
         name=</span><span class="code SchemaCstring">&quot;Tools for Build Example&quot;</span><span class="code SchemaTag">
         point=</span><span class="code SchemaCstring">&quot;org.eclipse.cdt.core.ManagedBuildInfo&quot;</span><span class="code SchemaTag">&gt;
      &lt;target
            makeFlags=</span><span class="code SchemaCstring">&quot;-k&quot;</span><span class="code SchemaTag">
            isTest=</span><span class="code SchemaCstring">&quot;false&quot;</span><span class="code SchemaTag">
            cleanCommand=</span><span class="code SchemaCstring">&quot;rm -rf&quot;</span><span class="code SchemaTag">
            name=</span><span class="code SchemaCstring">&quot;Executable&quot;</span><span class="code SchemaTag">
            defaultExtension=</span><span class="code SchemaCstring">&quot;.exe&quot;</span><span class="code SchemaTag">
            isAbstract=</span><span class="code SchemaCstring">&quot;false&quot;</span><span class="code SchemaTag">
            makeCommand=</span><span class="code SchemaCstring">&quot;make&quot;</span><span class="code SchemaTag">
            id=</span><span class="code SchemaCstring">&quot;example.target.executable&quot;</span><span class="code SchemaTag">&gt;
         &lt;tool
               sources=</span><span class="code SchemaCstring">&quot;C&quot;</span><span class="code SchemaTag">
               name=</span><span class="code SchemaCstring">&quot;Compiler&quot;</span><span class="code SchemaTag">
               outputFlag=</span><span class="code SchemaCstring">&quot;-o&quot;</span><span class="code SchemaTag">
               outputs=</span><span class="code SchemaCstring">&quot;exe&quot;</span><span class="code SchemaTag">
               command=</span><span class="code SchemaCstring">&quot;g++&quot;</span><span class="code SchemaTag">
               id=</span><span class="code SchemaCstring">&quot;executable.compiler&quot;</span><span class="code SchemaTag">&gt;
            &lt;optionCategory
                  owner=</span><span class="code SchemaCstring">&quot;executable.compiler&quot;</span><span class="code SchemaTag">
                  name=</span><span class="code SchemaCstring">&quot;Flags&quot;</span><span class="code SchemaTag">
                  id=</span><span class="code SchemaCstring">&quot;compiler.category.flags&quot;</span><span class="code SchemaTag">&gt;
            &lt;/optionCategory&gt;
            &lt;option
                  defaultValue=</span><span class="code SchemaCstring">&quot;-c&quot;</span><span class="code SchemaTag">
                  name=</span><span class="code SchemaCstring">&quot;Compiler Flags&quot;</span><span class="code SchemaTag">
                  category=</span><span class="code SchemaCstring">&quot;compiler.category.flags&quot;</span><span class="code SchemaTag">
                  valueType=</span><span class="code SchemaCstring">&quot;string&quot;</span><span class="code SchemaTag">
                  id=</span><span class="code SchemaCstring">&quot;category.flags.comp_flags&quot;</span><span class="code SchemaTag">&gt;
            &lt;/option&gt;
         &lt;/tool&gt;
         &lt;configuration
               name=</span><span class="code SchemaCstring">&quot;Default&quot;</span><span class="code SchemaTag">
               id=</span><span class="code SchemaCstring">&quot;example.config.default&quot;</span><span class="code SchemaTag">&gt;
         &lt;/configuration&gt;
      &lt;/target&gt;
   &lt;/extension&gt;
</span></pre>
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">Supplied Implementation: </h6>An implementation of this extension point is supplied in <samp>org.eclipse.cdt.ui</samp>
<p></p>

<br>
<p class="note SchemaCopyright">
Copyright (c) 2003, 2004 IBM Corporation and others.
This program and the accompanying materials are made available under the terms of the Eclipse Public License 2.0 which accompanies this distribution, and is available on the <a href="http://www.eclipse.org/legal/epl-2.0/"> Eclipse</a> website.

</p>
</BODY>
</HTML>
<html id='1455.ch03s24s05.html'></html><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>3.24.5.�Automatically reporting to external repositories after test runs</title>
<link rel="stylesheet" type="text/css" href="../../css/style.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="../index.html" title="Jubula User Manual">
<link rel="up" href="ch03s24.html" title="3.24.�Working with external task repositories (ALM Integration)">
<link rel="prev" href="ch03s24s04.html" title="3.24.4.�Creating tasks in external repositories from test result reports">
<link rel="next" href="ch03s25.html" title="3.25.�Using the test executor for testing from the command line">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">3.24.5.�Automatically reporting to external repositories after test runs</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch03s24s04.html">Prev</a>�</td>
<th width="60%" align="center">3.24.�Working with external task repositories (ALM
  Integration)</th>
<td width="20%" align="right">�<a accesskey="n" href="ch03s25.html">Next</a>
</td>
</tr>
</table>
<hr>
</div>
<div xmlns:d="http://docbook.org/ns/docbook" class="breadcrumbs">
<span class="breadcrumb-link"><a href="../index.html">Jubula User Manual</a></span> &gt; <span class="breadcrumb-link"><a href="ch03.html">Tasks</a></span> &gt; <span class="breadcrumb-link"><a href="ch03s24.html">Working with external task repositories (ALM
  Integration)</a></span> &gt; <span class="breadcrumb-node">Automatically reporting to external repositories after test runs</span>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="automatically-reporting-to-external-repositories-after-test-runs"></a>3.24.5.�Automatically reporting to external repositories after test runs</h3></div></div></div>
<a name="automatically-reporting-to-external-repositories-after-test-runs.guidancerPropertiesViewContextId"></a><p>
    You can automatically update tasks in an external repository when a test has run. 
    You can report the test results by writing a comment on a task in the external repository 
    with a link to the test result in the ITE. 
    You can also update fields / attributes on tasks based on information 
    you specify in your Project.
  </p>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="configuring-a-task-repository"></a>3.24.5.1.�Configuring a task repository for your Project</h4></div></div></div>
<p>
      Once you have configured one or more repositories for your
      workspace (<a class="xref" href="ch03s24s02.html" title="3.24.2.�Configuring task repositories in your workspace">Section�3.24.2, &#8220;Configuring task repositories in your workspace&#8221;</a>), you can select
      one of these to be the test-relevant repository for your
      Project.
    </p>
<p>
      This will let you:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem"><p>
          Add a task ID from this repository to Test Cases and Test
          Suites in the Project to signify that this item is the
          test for this task (<a class="xref" href="ch03s24s05.html#adding-task-id-alm" title="3.24.5.3.�Adding task IDs to Test Suites and Test Cases">Section�3.24.5.3, &#8220;Adding task IDs to Test Suites and Test Cases&#8221;</a>).
        </p></li>
<li class="listitem"><p>
          Automatically report test results to the task defined when
          a test runs.
        </p></li>
<li class="listitem"><p>
          View the test results for the relevant item in the
          ITE as a link from the task repository.
        </p></li>
</ul></div>
<p>
      <span class="strong"><strong>To configure a task repository for
      your Project:</strong></span>
    </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>
          In the Project Properties, select <span class="emphasis"><em>Mylyn
          ALM</em></span> from the tree on the left
          (<a class="xref" href="ch03s24s05.html#TasksALMProjectProperties" title="Figure�3.31.�ALM Settings">Figure�3.31, &#8220;ALM Settings&#8221;</a>).
        </p></li>
<li class="listitem"><p>
          In the page that appears, you can select a repository from
          the combo-box. You can validate the repository settings
          using the button.
        </p></li>
<li class="listitem"><p>
          You can (optionally) enter the URL of the ITE that is configured to use
          the correct database for your test results. If you enter its URL here, then 
          you will be able to click on test result links from 
          your task repository to open the test result in the ITE automatically.
        </p></li>
</ol></div>
<div class="figure">
<a name="TasksALMProjectProperties"></a><div class="figure-contents"><div class="mediaobject"><img xmlns:d="http://docbook.org/ns/docbook" src="../images/almproperties.png"></div></div>
<div class="figure-title">Figure�3.31.�ALM Settings</div>
</div>
<br class="figure-break">
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="configuring-reporting-to-tasks-via-properties"></a>3.24.5.2.�Configuring reporting to tasks</h4></div></div></div>
<p>
  	When a test has run, you can update relevant tasks in your repository with information:
  	</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem"><p>
  	A comment that contains the status of the test run, and a link to the results for that test.
  	</p></li>
<li class="listitem">
<p>
  	You can update fields / attributes for a task based on whether the test succeeded or failed.
  	</p>
<p xmlns:d="http://docbook.org/ns/docbook"><table>
<colgroup>
<col>
<col>
</colgroup>
<tbody><tr>
<td><img align="bottom" width="100" height="91" src="../images/img2.jpg"></td>
<td class="topbotline"><span class="strong"><strong>Tests that have a status other than <span class="emphasis"><em>passed</em></span> (e.g. failed, 
  	stopped, still testing) are considered as failed</strong></span></td>
</tr></tbody>
</table></p>
</li>
</ul></div>
<p>
  	For each item (Test Case, Test Suite) in your test run that 
  	is linked to a task 
  	(<a class="xref" href="ch03s24s05.html#adding-task-id-alm" title="3.24.5.3.�Adding task IDs to Test Suites and Test Cases">Section�3.24.5.3, &#8220;Adding task IDs to Test Suites and Test Cases&#8221;</a>)
  	the rules you specify in the Project properties will be carried out to report test 
  	results to that task.
  	</p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>
	In the Project Properties, select <span class="emphasis"><em>Mylyn ALM</em></span> from the tree on 
	the left.
	</p></li>
<li class="listitem"><p>
	In the page that appears, you can configure how to report results. 
	You have the same options for what to do on success and on failure.
	</p></li>
<li class="listitem">
<p>
		</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem"><p>
			You can activate the checkbox to add a comment to each linked task. 
			The comment contains information about the test run (date, status) 
			and also a link to the test results. 
			The test results can be seen in the specified ITE (<a class="xref" href="ch03s24s05.html#configuring-a-task-repository" title="3.24.5.1.�Configuring a task repository for your Project">Section�3.24.5.1, &#8220;Configuring a task repository for your Project&#8221;</a>).
			</p></li>
<li class="listitem">
<p>
			You can add rules in the table to update attributes for the task. Enter a descriptive name 
			(this is only used for display purposes in the Properties), the ID for the attribute you want to 
			update and the value that the attribute should be updated with. 
			As values for the update, you can enter:
			</p>
<p>
				</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem"><p>
					plain text, e.g. "passed"
					</p></li>
<li class="listitem">
<p>
					a value from a column in the Test Result Summary View for this run.
					The value for a column is gained by entering the column name as a variable. 
					Some examples are:  
					</p>
<p>
					$summary_autHostname, $summary_testRunState (gives e.g. "OK" or "FAILED"), $summary_testsuiteName, $summary_testJobName, 
					$summary_testsuiteEndTime,
					$summary_testsuiteDate (for full date format), $summary_statusString (gives e.g. "Successfully tested" or "Error in Children"),
					 $summary_testsuiteDuration, 
					$summary_testsuiteStartTime, $summary_date (for DD.MM.YYYY), $summary_autOS
					</p>
<p>
					but you can use any column value by entering the column name as a variable preceded by "summary_". 
					</p>
</li>
<li class="listitem">
<p>
					a value from the executed node. The value is entered as a variable, e.g.
					</p>
<p>
					$node_taskId, $node_timeStamp, $node_typeOfNode (e.g. Test Case), $node_name, 
					$node_parameterDescription, $node_date (for DD.MM.YYYY), $node_url (see below)
					</p>
<p>
					Use the $node_url parameter to receive the URL that will 
					link to this node (Test Case or Test Suite) in the ITE 
					(x<a class="xref" href="ch03s24s05.html" title="3.24.5.�Automatically reporting to external repositories after test runs">Section�3.24.5, &#8220;Automatically reporting to external repositories after test runs&#8221;</a>). 
					</p>
</li>
</ul></div>
<p>
			</p>
</li>
</ul></div>
<p>
		</p>
</li>
<li class="listitem"><p>
	To see which attributes are available in your ALM repository, you can view the information for 
	individual tasks from the Task View (<a class="xref" href="ch03s24s05.html#viewing-task-attributes" title="3.24.5.2.1.�Viewing task attributes">Section�3.24.5.2.1, &#8220;Viewing task attributes&#8221;</a>)
	</p></li>
</ol></div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="viewing-task-attributes"></a>3.24.5.2.1.�Viewing task attributes</h4></div></div></div>
<p>
	In order to define rules for reporting to ALM systems, you will need to enter the ID 
	for any attributes you wish to update (<a class="xref" href="ch03s24s05.html#configuring-reporting-to-tasks-via-properties" title="3.24.5.2.�Configuring reporting to tasks">Section�3.24.5.2, &#8220;Configuring reporting to tasks&#8221;</a>).
	</p>
<p>
	You can see which attributes a task has by using the <span class="menuPath">Show attributes</span>
	option from the Task View.
	</p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<p>Open the Task View if it is not already open by selecting:</p>
<p>
		<span class="menuPath">Window</span> --&gt; <span class="menuPath">Show View</span> --&gt; 
		<span class="menuPath">Task View</span>.
		</p>
</li>
<li class="listitem"><p>
		If you have not already configured your repository for your workspace, do so in the 
		Task Repositories View
		(<a class="xref" href="ch03s24s02.html" title="3.24.2.�Configuring task repositories in your workspace">Section�3.24.2, &#8220;Configuring task repositories in your workspace&#8221;</a>).
		</p></li>
<li class="listitem">
<p>
		Navigate to the task whose attributes you want to see and select:
		</p>
<p>
		<span class="menuPath">Show attributes</span> from the context menu.
		</p>
</li>
<li class="listitem"><p>
		The Task Attribute Viewer will appear. In this dialog, you can see the IDs 
		for the attributes for this task, which you can use to define rules for test 
		result reporting in the Project Properties 
		(<a class="xref" href="ch03s24s05.html#configuring-reporting-to-tasks-via-properties" title="3.24.5.2.�Configuring reporting to tasks">Section�3.24.5.2, &#8220;Configuring reporting to tasks&#8221;</a>).
		You can copy attributes using the keyboard.
		</p></li>
</ol></div>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="adding-task-id-alm"></a>3.24.5.3.�Adding task IDs to Test Suites and Test Cases</h4></div></div></div>
<p>
      You can add a task ID to Test Cases and Test Suites in your
      Project.
    </p>
<p>
      The task ID should be a valid ID in the repository that you
      have specified as the repository for this Project
      (<a class="xref" href="ch03s24s05.html#configuring-a-task-repository" title="3.24.5.1.�Configuring a task repository for your Project">Section�3.24.5.1, &#8220;Configuring a task repository for your Project&#8221;</a>). Adding the task ID to an
      item in your Project means that this item is the relevant test
      for that task in your repository. You will be able to report
      test results for this item.
    </p>
<p>
      To add a task ID to a Test Case or Test Suite:
    </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>
          Open the item in the editor by double-clicking it.
        </p></li>
<li class="listitem"><p>
          In the Properties View, in the cell for <span class="emphasis"><em>Task
          ID</em></span>, enter the task ID from the external
          repository. You can only enter task IDs at the place of
          specification &#8211; you cannot overwrite them when you reuse
          the item.
        </p></li>
<li class="listitem"><p>
          Save the editor.
        </p></li>
<li class="listitem">
<p>
          When you have added a task ID to a node, you can open the task for this node from the browser by selecting:
        </p>
<p>
          <span class="menuPath">Open with</span>--&gt;<span class="menuPath">Mylyn Task Editor</span>
        </p>
</li>
</ol></div>
<p xmlns:d="http://docbook.org/ns/docbook"><table>
<colgroup>
<col>
<col>
</colgroup>
<tbody><tr>
<td><img align="bottom" width="100" height="91" src="../images/img2.jpg"></td>
<td class="topbotline"><span class="strong"><strong>
      You should ensure that you add task IDs to the right
      node-level to provide you with the relevant amount of
      information for the tasks in your repository. This will
      usually be at the level of Use Cases within a Test Suite.
    </strong></span></td>
</tr></tbody>
</table></p>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="test-execution-with-reporting-to-external-repositories"></a>3.24.5.4.�Test execution with reporting to external
    repositories</h4></div></div></div>
<p>
      If your Project is joined to an external repository
      (<a class="xref" href="ch03s24s05.html#configuring-a-task-repository" title="3.24.5.1.�Configuring a task repository for your Project">Section�3.24.5.1, &#8220;Configuring a task repository for your Project&#8221;</a>),
      and you have added task IDs to one or more items in your
      Project (<a class="xref" href="ch03s24s05.html#adding-task-id-alm" title="3.24.5.3.�Adding task IDs to Test Suites and Test Cases">Section�3.24.5.3, &#8220;Adding task IDs to Test Suites and Test Cases&#8221;</a>), then you will be able to
      report the test results to the repository after the test has
      run. The test run can be either via the ITE or via the command
      line <span class="emphasis"><em>testexec</em></span>.
    </p>
<p xmlns:d="http://docbook.org/ns/docbook"><table>
<colgroup>
<col>
<col>
</colgroup>
<tbody><tr>
<td><img align="bottom" width="100" height="91" src="../images/img2.jpg"></td>
<td class="topbotline"><span class="strong"><strong>
      If you run a "relevant" test via the ITE which should report to
      ALM systems, the reporting is triggered automatically once the
      test has run. If the reporting for the test run encounters an
      error, then you will be able to manually trigger the reporting
      later <a class="xref" href="ch03s24s05.html#test-execution-with-reporting-to-external-repositories" title="3.24.5.4.�Test execution with reporting to external repositories">Section�3.24.5.4, &#8220;Test execution with reporting to external
    repositories&#8221;</a>. To report to ALM
      systems after running a test via testexec, you must also
      manually trigger the recording
      (<a class="xref" href="ch03s24s05.html#test-execution-with-reporting-to-external-repositories" title="3.24.5.4.�Test execution with reporting to external repositories">Section�3.24.5.4, &#8220;Test execution with reporting to external
    repositories&#8221;</a>).
    </strong></span></td>
</tr></tbody>
</table></p>
<p>
      When reporting is triggered, the following happens:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem"><p>
          A connection is made to the ALM system configured in the
          Project properties.
        </p></li>
<li class="listitem"><p>
          The test results are then analyzed to see if any comments
          need to be added in the external repository.
        </p></li>
<li class="listitem">
<p>
          If there is reporting to be done, the ITE
          reports to each necessary task as batch jobs. These batch jobs contain 
          the desired field updates and comments. Although this is displayed as one operation in the console view
          you will get <span class="emphasis"><em>N</em></span> transactions for <span class="emphasis"><em>N</em></span> comments/field updates.
          If multiple items in one test run reference the 
          same task ID, or if an item with a task ID is executed multiple times in the 
          same test run, then only one comment will be written, but this one will contain information about 
          all executed items with this ID. 
          However, field updates will occur for each item linked to the task ID. 
        </p>
<p xmlns:d="http://docbook.org/ns/docbook"><table>
<colgroup>
<col>
<col>
</colgroup>
<tbody><tr>
<td><img align="bottom" width="100" height="91" src="../images/img2.jpg"></td>
<td class="topbotline"><span class="strong"><strong>
          Tests that have
          a status other than <span class="emphasis"><em>passed</em></span> (e.g.
          failed, stopped, still testing) are considered as
          <span class="emphasis"><em>failed</em></span>.
        </strong></span></td>
</tr></tbody>
</table></p>
</li>
<li class="listitem"><p>
          You can see the status of the ALM reporting in the console
          view.
        </p></li>
<li class="listitem"><p>
       	 Once reporting has been done, you can see the changes in the external repository. 
       	 If you added a comment, you can click on the link provided to open the test result
       	  report in the ITE that you specified for your Project. 
       	  The ITE must be already running for this action to succeed. 
       	  The test results must also still be present in  
          the database (<a class="xref" href="ch03s22s03.html#re-opening-the-test-result-view-for-a-test-run" title="3.22.3.1.�Re-opening the test result view for a test run">Section�3.22.3.1, &#8220;Re-opening the test result view for a test run&#8221;</a>).
        </p></li>
<li class="listitem"><p>
          The test result report is opened at the node which
          referenced the current task ID.
        </p></li>
<li class="listitem">
<p>
          You can see the status of the reporting in the Test Result
          Summary View (<a class="xref" href="ch03s24s05.html#test-execution-with-reporting-to-external-repositories" title="3.24.5.4.�Test execution with reporting to external repositories">Section�3.24.5.4, &#8220;Test execution with reporting to external
    repositories&#8221;</a>).
        </p>
<p xmlns:d="http://docbook.org/ns/docbook"><table>
<colgroup>
<col>
<col>
</colgroup>
<tbody><tr>
<td><img align="bottom" width="100" height="91" src="../images/img2.jpg"></td>
<td class="topbotline"><span class="strong"><strong>
          The integration for writing to external repositories can be
          used with Bugzilla 3.6+, JIRA 5.0+ and HP ALM 11+. Other
          repositories for which there are Mylyn connectors may also
          work, but these have not been tested.
        </strong></span></td>
</tr></tbody>
</table></p>
</li>
</ul></div>
<p>
      <span class="strong"><strong>Reporting to ALM repositories after a
      test started via testexec</strong></span>
      For tests started via testexec,
      the reporting does not happen automatically. Instead, you must
      choose to report to ALM from the Test Result Summary View.
    </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>
          In a Project that is configured to report to an ALM
          repository, when a test has run via testexec, you can open
          the Reporting Perspective and locate the test run in the
          Test Result Summary View.
        </p></li>
<li class="listitem">
<p>
          In the <span class="emphasis"><em>ALM Report Status</em></span> column, you
          will see whether there are any reports pending. You can
          see various statuses in this column:
        </p>
<div class="variablelist"><dl class="variablelist">
<dt><span class="term">
              Not configured:
            </span></dt>
<dd><p>
                if you have not configured ALM reporting for the
                Project, or if the relevance of the Test Suite was set
                to false when the test was started.
              </p></dd>
<dt><span class="term">
              Not yet reported:
            </span></dt>
<dd><p>
                if reporting was configured for the Project, and
                there is information available to be reported that
                has not yet been reported, e.g. from a test run via
                testexec. You will also see this status if you have
                run a test via the ITE that could not report to the
                ALM system due to e.g. a connection problem. This
                allows you to report test results later, once the
                problem has been resolved.
              </p></dd>
<dt><span class="term">
              Reported:
            </span></dt>
<dd><p>
                this status will be shown if you have run a test
                with reporting configured via the ITE, which reports
                automatically. It will also be shown if you have
                chosen to report to the ALM system after running a
                test via testexec. This status will also be shown
                even if the test run was not linked to any tasks,
                but reporting is configured for the Project. It can
                be understood as <span class="emphasis"><em>any reporting that was
                necessary has been carried out</em></span>.
                If an error occurs while reporting to one of the tasks, 
                the status will still show <span class="emphasis"><em>reported</em></span> 
                even though not all tasks were correctly updated
              </p></dd>
<dt><span class="term">
              Report discarded:
            </span></dt>
<dd><p>
                if reporting information was available, but the
                information was discarded and therefore not
                reported. You can do this by selecting the option to
                discard a pending report from the context menu. This
                status will also be shown for any test runs in a
                Project that you import that had the status
                <span class="emphasis"><em>Not yet reported</em></span> when the
                Project was exported.
              </p></dd>
<dt><span class="term">
              Marked as non-relevant:
            </span></dt>
<dd><p>
                you will see this status for any test runs that were
                marked as relevant when the test was started and
                which have information to report (status:
                <span class="emphasis"><em>Not yet reported</em></span>),but which you
                then mark as non-relevant by toggling the relevance
                in the Test Result Summary View. This status means
                that you could report or discard the information,
                but only if you re-toggle the test run to be
                relevant.
              </p></dd>
</dl></div>
</li>
<li class="listitem"><p>
          Select any test runs whose results you want to report to
          ALM, and click on the &#8221;<span class="emphasis"><em>Report to ALM</em></span>&#8221;
          button on the toolbar. You can also select this option
          from the context-sensitive menu. If you select multiple
          test runs, the reporting will take place sequentially for
          each test run.
        </p></li>
<li class="listitem"><p>
          When you select this option, the reporting will be
          triggered as described above. If the reporting is
          successful, the status in the <span class="emphasis"><em>ALM Report
          Status</em></span> column changes from <span class="emphasis"><em>Not yet
          reported</em></span> to <span class="emphasis"><em>Reported</em></span>. If
          an error occurs, then the status remains as <span class="emphasis"><em>Not
          yet reported</em></span>.
        </p></li>
<li class="listitem"><p>
          If you do not want to report the test results to an ALM
          tool, you can discard the reporting information by
          selecting the option to discard a pending report from the
          context menu. This changes the status in the <span class="emphasis"><em>ALM
          Report Status</em></span> column from <span class="emphasis"><em>Not yet
          reported</em></span> to <span class="emphasis"><em>Report
          discarded</em></span>.
        </p></li>
</ol></div>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="specific-information-for-hp-alm-users"></a>3.24.5.5.�Specific information for HP ALM users</h4></div></div></div>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem"><p>
          To use the HP ALM integration, you must use a separate
          connector for HP ALM which may incur license costs. Visit
          the Tasktop website for more details
          <a class="link" href="http://www.tasktop.com" target="_top">http://www.tasktop.com</a>.
        </p></li>
<li class="listitem">
<p>
          If you have changed the attribute IDs in your HP ALM installation for defects and / or requirements from their relative defaults (<span class="emphasis"><em>BG_DEV_COMMENTS</em></span> and <span class="emphasis"><em>REQ_DEV_COMMENTS</em></span>), or if you have changed the ID for the connector, then you must modify these properties in the <span class="input">almAccess.properties</span> file contained in the jar:
        </p>
<p>
          <span class="emphasis"><em>org.eclipse.jubula.client.alm.mylyn.core</em></span>
        </p>
</li>
<li class="listitem"><p>
          Since tasks in HP ALM only have one comment field, the
          result information is appended to the comment field
          instead of being added as a new comment each time.
        </p></li>
<li class="listitem"><p>
          To write to requirements in a default HP ALM installation,
          you must use the prefix <span class="emphasis"><em>REQ</em></span>, e.g.
          REQ100. To write to defects in a default HP ALM
          installation, you must use the prefix
          <span class="emphasis"><em>DEF</em></span>, e.g. DEF42.
        </p></li>
</ul></div>
</div>
</div>
<br xmlns:d="http://docbook.org/ns/docbook"><hr xmlns:d="http://docbook.org/ns/docbook">
<address xmlns:d="http://docbook.org/ns/docbook">Copyright BREDEX GmbH 2015. Made available under the Eclipse Public License v1.0.</address>
<br xmlns:d="http://docbook.org/ns/docbook">
</body>
</html>
<html id='2928.org_eclipse_ui_propertyPages.html'></html><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Property Pages</title>
<style type="text/css">@import url("../../book.css");</style>
<style type="text/css">@import url("../../schema.css");</style>
</HEAD>
<BODY>
<H1 style="text-align:center">Property Pages</H1>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Identifier: </h6>org.eclipse.ui.propertyPages<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Description: </h6>This extension point is used to add additional property page for objects of a given type.  Once defined, these property pages will appear in the Properties Dialog for objects of that type. 
<p>
A property page is a user friendly way to interact with the properties of an object.  Unlike the Properties view, which restricts the space available for editing an object property, a property page may benefit from the freedom to define larger, more complex controls with labels, icons, etc.  Properties which logically go together may also be clustered in a page, rather than scattered in the property sheet. However, in most applications it will be appropriate to expose some properties of an object via the property sheet and some via the property pages. 
</p>

<p>
Property pages are shown in a dialog box that is normally visible when the "Properties" menu item is selected on a pop-up menu for an object. In addition to the object class, the name filter can optionally be supplied to register property pages only for specific object types. 
</p>

<p>
If these filtering mechanisms are inadequate a property page may use the filter mechanism.  In this case the attributes of the target object are described in a series of key value pairs.  The attributes which apply to the selection are type specific and beyond the domain of the workbench itself, so the workbench will delegate filtering at this level to the actual selection.
</p><p>
</p>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Configuration Markup:</h6>
<p></p>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.page">page</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST extension</p>
<p class="code SchemaDtdAttlist">point&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class="ConfigMarkupAttlistDesc">
<li><b>point</b> - a fully qualified identifier of the target extension point</li>
<li><b>id</b> - an optional identifier of the extension instance</li>
<li><b>name</b> - an optional name of the extension instance</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.page">page</a> (<a href="#e.filter">filter</a>* , <a href="#e.keywordReference">keywordReference</a>* , <a href="#e.enabledWhen">enabledWhen</a>?)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST page</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">icon&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">objectClass&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">class&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">nameFilter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">adaptable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(true | false) </p>
<p class="code SchemaDtdAttlist">category&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDREF #IMPLIED</p>
<p class="code SchemaDtdAttlist">selectionFilter&nbsp;(single|multi) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
The page is the specification of the implementation and appearance of the page.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique name that will be used to identify this page</li>
<li><b>name</b> - a translatable name that will be used in the UI for this page</li>
<li><b>icon</b> - a relative path to an icon that will be used in the UI in addition to the page name</li>
<li><i style="color: red;">Deprecated</i> <b>objectClass</b> - a fully qualified name of the class for which the page is registered. This class does not need to implement <tt>IAdaptable</tt>. Objects that are not an instance of <tt>IAdaptable</tt> will be wrapped in an <tt>IAdaptable</tt> before being sent to the property page's instance (an <tt>org.eclipse.ui.IWorkbenchPropertyPage</tt>).

<p>Deprecated in Eclipse 3.3. Use the instanceOf or adapt element of the enabledWhen element instead.  If duplicate page definitions were previously used to register the page for multiple objectClass types, these should be combined into one page definition using multiple instanceOf elements combined inside an or element</p></li>
<li><b>class</b> - a fully qualified name of the class that implements <tt>org.eclipse.ui.IWorkbenchPropertyPage</tt>.</li>
<li><b>nameFilter</b> - an optional attribute that allows registration conditional on
wild card match applied to the target object name.</li>
<li><i style="color: red;">Deprecated</i> <b>adaptable</b> - a flag that indicates if types that adapt to IResource should use this property page.
This flag is used if objectClass adapts to IResource.  Default value is false.

<p>Deprecated in Eclipse 3.3. Use adapt sub element of the enabledWhen element instead</p>

<strong>NOTE:</strong> The adaptable attribute will attempt to adapt an object to <code>org.eclipse.core.resources.IResource</code> before referencing the types registered in <code>Platform#getAdaptorManager</code>. The enabledWhen element has no special case tests for <code>org.eclipse.core.resources.IResource</code> and uses <code>Platform#getAdaptorManager</code> to look up adaptable types. These can be registered using the <code>org.eclipse.core.runtime.adaptors</code> extension point.</li>
<li><b>category</b> - A path indicating the location of the page in the properties tree. The path may either be a parent node ID or a sequence of IDs separated by '/', representing the full path from the root node.</li>
<li><b>selectionFilter</b> - This is an optional attribute. If it is not specified, the property page is assumed to only support single selection (a selection that contains a single object only).
<p>
Set this attribute to "multi" to indicate that the property page supports multiple selected objects. Property pages supporting this mode must implement the interface <tt>org.eclipse.ui.IWorkbenchPropertyPageMulti</tt>. For multi-select pages "enabledWhen" condition will be provided with a Container filled with selected items (even if the selection contains only one item). On such pages "enabledWhen" expression should  use "iterate" to access the selection's elements.
</p><p>
Set this attribute to "single" to indicate that the property page supports only single selection.
</p><p>
Default: single 
</p>
Since 3.7.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.filter">filter</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST filter</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the attribute state of each object in the current selection. A match occurs only if each object in the selection has the specified attribute state. Each object in the selection must implement, or adapt to, <samp>org.eclipse.ui.IActionFilter</samp>.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the name of an object attribute.</li>
<li><b>value</b> - the value of an object attribute.  In combination with
the name attribute, the name value pair is used to 
define the target object for a property page.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.keywordReference">keywordReference</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST keywordReference</p>
<p class="code SchemaDtdAttlist">id&nbsp;IDREF #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A reference by a property page to a keyword. See the keywords extension point.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - The id of the keyword being referred to.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.enabledWhen">enabledWhen</a> (<a href="#e.not">not</a> | <a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.instanceof">instanceof</a> | <a href="#e.test">test</a> | <a href="#e.systemTest">systemTest</a> | <a href="#e.equals">equals</a> | <a href="#e.count">count</a> | <a href="#e.with">with</a> | <a href="#e.resolve">resolve</a> | <a href="#e.adapt">adapt</a> | <a href="#e.iterate">iterate</a> | <a href="#e.reference">reference</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
The enabled when element specifies the conditions under which this property page will be added to the properties dialog.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.enablement">enablement</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A generic root element. The element can be used inside an extension point to define its enablement expression.
            The children of an enablement expression are combined using the "and" operator.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.not">not</a> (<a href="#e.not">not</a> | <a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.instanceof">instanceof</a> | <a href="#e.test">test</a> | <a href="#e.systemTest">systemTest</a> | <a href="#e.equals">equals</a> | <a href="#e.count">count</a> | <a href="#e.with">with</a> | <a href="#e.resolve">resolve</a> | <a href="#e.adapt">adapt</a> | <a href="#e.iterate">iterate</a> | <a href="#e.reference">reference</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represents a NOT operation on the result of evaluating its sub-element expression.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.and">and</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represents an AND operation on the result of evaluating all its sub-elements expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.or">or</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represent an  OR operation on the result of evaluating all its sub-element expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.instanceof">instanceof</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST instanceof</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to perform an instanceof check of the object in focus. The expression returns
            EvaluationResult.TRUE if the object's type is a sub type of the type specified by the attribute value.
            Otherwise EvaluationResult.FALSE is returned.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>value</b> - a fully qualified name of a class or interface.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.test">test</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST test</p>
<p class="code SchemaDtdAttlist">property&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">args&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">forcePluginActivation&nbsp;(true | false) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the property state of the object in focus. The set of testable properties can be extended using the <b>org.eclipse.core.expressions.propertyTesters</b> extension point. The test expression returns EvaluationResult.NOT_LOADED if the property tester doing the actual testing isn't loaded yet and the attribute forcePluginActivation is set to false.  If forcePluginActivation is set to true and the evaluation context used to evaluate this expression support plug-in activation then evaluating the property will result in activating the plug-in defining the tester.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>property</b> - the name of an object's property to test.</li>
<li><b>args</b> - additional arguments passed to the property tester. Multiple arguments are separated
                  by commas. Each individual argument is converted into a Java base type using the same
                  rules as defined for the value attribute of the test expression.</li>
<li><b>value</b> - the expected value of the property. Can be omitted if the property 
                  is a boolean property (value will be Boolean.TRUE). The test expression is supposed to return
EvaluationResult.TRUE if the property matches the value and EvaluationResult.FALSE
otherwise. The value attribute is converted into a Java base type using the following
rules:
<ul>
 <li>the string &quot;true&quot; is converted into Boolean.TRUE</li>
 <li>the string &quot;false&quot; is converted into Boolean.FALSE</li>
 <li>if the string contains a dot then the interpreter tries to convert
 the value into a Float object. If this fails the string is treated as a
 java.lang.String</li>
 <li>if the string only consists of numbers then the interpreter
 converts the value into an Integer object.</li>
 <li>in all other cases the string is treated as a java.lang.String</li>
 <li>the conversion of the string into a Boolean, Float, or Integer can
 be suppressed by surrounding the string with single quotes. For
 example, the attribute value=&quot;'true'&quot; is converted into the
 string &quot;true&quot;</li>
</ul></li>
<li><b>forcePluginActivation</b> - a flag indicating whether the plug-in contributing the property tester
                  should be loaded if necessary. As such, this flag should be used judiciously, 
                  in order to avoid unnecessary plug-in activations. Most clients should avoid
                  setting this flag to true. This flag is only honored if the evaluation context
                  used to evaluate this expression allows plug-in activation. Otherwise the flag
                  is ignored and no plug-in loading takes place.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.systemTest">systemTest</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST systemTest</p>
<p class="code SchemaDtdAttlist">property&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Tests a system property by calling the System.getProperty method and compares the result
            with the value specified through the value attribute.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>property</b> - the name of an system property to test.</li>
<li><b>value</b> - the expected value of the property. The value is interpreted as a string value.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.equals">equals</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST equals</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to perform an equals check of the object in focus. The expression returns
            EvaluationResult.TRUE if the object is equal to the value provided by the attribute value. Otherwise
            EvaluationResult.FALSE is returned.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>value</b> - the expected value. The value provided as a string is converted into
                  a Java base type using the same rules as for the value attribute of the test expression.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.count">count</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST count</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to test the number of elements in a collection.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>value</b> - an expression to specify the number of elements in a list. Following wildcard
                  characters can be used:
                  <dl>
                    <dt>*</dt> <dd>any number of elements</dd>
                    <dt>?</dt> <dd>no elements or one element</dd>
                    <dt>+</dt> <dd>one or more elements</dd>
                    <dt>!</dt> <dd>no elements</dd>
                    <dt>-<i>N</i>)</dt>
                    <dd>less than <i>N</i> elements</dd>
                    <dt>(<i>N</i>-</dt>
                    <dd>greater than <i>N</i> elements</dd>
                    <dt>integer value</dt> <dd>the list must contain the exact number of elements</dd>
                  </dl></li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.with">with</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST with</p>
<p class="code SchemaDtdAttlist">variable&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element changes the object to be inspected for all its child element to the object
            referenced by the given variable. If the variable can not be resolved then the expression
            will throw an ExpressionException when evaluating it. The children of a with expression 
            are combined using the "and" operator.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>variable</b> - the name of the variable to be used for further inspection. It is up to the evaluator
                  of an extension point to provide the variable in the variable pool.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.resolve">resolve</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST resolve</p>
<p class="code SchemaDtdAttlist">variable&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">args&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element changes the object to be inspected for all its child element to the object
            referenced by the given variable. If the variable can not be resolved then the expression
            will throw an ExpressionException when evaluating it. The children of a resolve expression 
            are combined using the "and" operator.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>variable</b> - the name of the variable to be resolved. This variable is then used as the object in focus
                  for child element evaluation. It is up to the evaluator of an extension point to provide a 
                  corresponding variable resolver (see IVariableResolver) through the evaluation context passed
                  to the root expression element when evaluating the expression.</li>
<li><b>args</b> - additional arguments passed to the variable resolver. Multiple arguments are separated
                  by commas. Each individual argument is converted into a Java base type using the same
                  rules as defined for the value attribute of the test expression.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.adapt">adapt</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST adapt</p>
<p class="code SchemaDtdAttlist">type&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to adapt the object in focus to the type specified by the attribute
            type. The expression returns EvaluationResult.NOT_LOADED if either the adapter or the type referenced isn't
            loaded yet. It throws an ExpressionException during evaluation if the type name doesn't exist 
            at all. The children of an adapt expression are combined using the "and" operator.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>type</b> - the type to which the object in focus is to be adapted.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.iterate">iterate</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST iterate</p>
<p class="code SchemaDtdAttlist">operator&nbsp;(or|and) </p>
<p class="code SchemaDtdAttlist">ifEmpty&nbsp;&nbsp;(true | false) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to iterate over a variable that is of type java.util.Collection, or a variable that
            adapts to org.eclipse.core.expressions.IIterable. If the object in focus is not one of the above then a
            CoreException with an ExpressionStatus will be thrown while evaluating the expression.
            The child expressions of an iterate expression are combined using the "and" operator.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>operator</b> - either "and" or "or". The operator defines how the results of all the child expressions
                  applied to each child of the Collection or IIterable will be combined and what (if any) short circuit
                  evaluation will be used. If not specified, "and" will be used.</li>
<li><b>ifEmpty</b> - the value returned from the "iterate" expression if the collection is empty. If
                 not specified then EvaluationResult.TRUE is returned when the operator equals "and" 
                 and EvaluationResult.FALSE is returned if the operator equals "or".</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.reference">reference</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST reference</p>
<p class="code SchemaDtdAttlist">definitionId&nbsp;IDREF #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to reference an expression from the <b>org.eclipse.core.expressions.definitions</b> extension point.  The expression definition will be evaluated within the current expression element using the current evaluation context.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>definitionId</b> - The unique id of an expression from <b>org.eclipse.core.expressions.definitions</b>.</li>
</ul>
<br><h6 class="CaptionFigColumn SchemaHeader">Examples: </h6>The following is an example of the property page definition: 
<p>
<pre class="Example"><span class="code SchemaTag">
   &lt;extension point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.propertyPages&quot;</span><span class="code SchemaTag">&gt; 
        &lt;page 
            id=</span><span class="code SchemaCstring">&quot;com.xyz.projectPage&quot;</span><span class="code SchemaTag"> 
            name=</span><span class="code SchemaCstring">&quot;XYZ Java Properties&quot;</span><span class="code SchemaTag"> 
            class=</span><span class="code SchemaCstring">&quot;com.xyz.ppages.JavaPropertyPage&quot;</span><span class="code SchemaTag"> 
            nameFilter=</span><span class="code SchemaCstring">&quot;*.java&quot;</span><span class="code SchemaTag">&gt; 
            &lt;enabledWhen&gt;
             &lt;instanceof
                  value=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IFile&quot;</span><span class="code SchemaTag">&gt;
             &lt;/instanceof&gt;
          &lt;/enabledWhen&gt;
            &lt;filter name=</span><span class="code SchemaCstring">&quot;readOnly&quot;</span><span class="code SchemaTag"> value=</span><span class="code SchemaCstring">&quot;true&quot;</span><span class="code SchemaTag">/&gt; 
        &lt;/page&gt; 
    &lt;/extension&gt; 
</span></pre>
</p>
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">API Information: </h6>The attribute <samp>class</samp> must specify a fully qualified name 
of the class that implements 
<samp>org.eclipse.ui.IWorkbenchPropertyPage</samp> or <samp>org.eclipse.ui.IWorkbenchPropertyPageMulti</samp>.
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">Supplied Implementation: </h6>Some objects provided by the workbench may have 
property pages registered. Plug-ins are allowed 
to add more property pages for these objects. 
Property pages are not limited to workbench 
resources: all objects showing up in the workbench 
(even domain specific objects created by the plug-ins) 
may have property pages and other plug-ins are 
allowed to register property pages for them.
<p></p>

<br>
<p class="note SchemaCopyright">
Copyright (c) 2002, 2010 IBM Corporation and others.<br>

This program and the accompanying materials are made
available under the terms of the Eclipse Public License 2.0 which accompanies
this distribution, and is available at <a 
href="https://www.eclipse.org/legal/epl-2.0">https://www.eclipse.org/legal/epl-v20.html</a>/

SPDX-License-Identifier: EPL-2.0

</p>
</BODY>
</HTML>
<html id='0164.sg-DisplayTheNumberOfCustomersTextOnOneLine.html'></html><?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Format the report</title>
    <link rel="StyleSheet" href="css/grouping.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
  </head>
  <body>
    <div style="text-align: left;">
      <table cellspacing="0" summary="">
        <tr>
          <td>
            <a href="sg-DisplayTheTotalNumberOfCustomersInTheReport.html"><img src="images/prev.gif" alt="Previous" border="0" /></a>
          </td>
          <td>
            <a href="sg-PreviewTheReportInTheBIRTReportViewer.html"><img src="images/next.gif" alt="Next" border="0" /></a>
          </td>
        </tr>
      </table>
    </div>
    <hr align="left" />
    <blockquote>
      <h3 class="N_TutorialTask">Task 8:&nbsp;&nbsp;<a name="192407">Format the report</a></h3>
      <p class="b1i_Bullet1-intro"><a name="192410">Now that the report displays the correct data, focus on improving the report’s appearance. You perform the following tasks in this section:</a></p>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a href="#379361" title="Format the report" name="192414">Adjust the column widths</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a href="#385344" title="Format the report" name="378129">Remove credit limit data from the detail rows</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a href="#192443" title="Format the report" name="192418">Display group headings on the first row of each group</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a href="#192489" title="Format the report" name="379355">Separate each group with a line</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a href="#336470" title="Format the report" name="379359">Display the number of customers text on one line</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="N_h3_Head3"><a name="379361">Adjust the column widths</a></h4>
      <p class="b_Body"><a name="379365">When you insert a table, BIRT creates columns with equal widths. In this report, you can improve the layout by decreasing the width of the credit limit column, and increasing the width of the customer column. If you view the entire report, you see that some of the customer names extend to the edge of the column and one name is truncated. </a></p>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">1&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="379366">Choose Layout to return to the layout editor.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">2&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="379367">Select the table.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">3&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="425139">Select the first column and decrease its width to 1.25 inches either by dragging the column boundary or setting its Width property. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_i_Indent1"><a name="425140">By decreasing the width of the first column, the width of the second column increases.</a></div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">4&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="425225">Preview the report. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_i_Indent1"><a name="425127">The spacing of data is improved, as shown in </a><a href="#389672" title="Format the report">Figure&nbsp;7-21</a>.</div>
      <p class="i2_Image2"><a name="389670"><img class="Default" src="images/grpt_output5b.png" style="display: inline; float: none; left: 0.0; top: 0.0" alt="Figure 7-21 Report preview showing adjusted column widths" /></a></p>
      <div class="fc2_FigCall2Title">
        <b class="Bold">Figure&nbsp;7-21&nbsp;&nbsp;</b><a name="389672">Report preview showing adjusted column widths</a></div>
      <h4 class="N_h3_Head3"><a name="385344">Remove credit limit data from the detail rows</a></h4>
      <p class="b_Body"><a name="411013">To verify that data appears in the correct credit limit groups, it is useful to display each customer’s credit limit. Now that you have verified the data, delete the individual credit limit information from the report.</a></p>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">1&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="411014">Choose Layout to return to the layout editor.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">2&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="192427">Delete the [CREDITLIMIT] data element from the detail row.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">3&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="192431">Preview the report. It should look like the one shown in </a><a href="#211789" title="Format the report">Figure&nbsp;7-22</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <p class="i2_Image2"><a name="192440"><img class="Default" src="images/grpt_output6.png" style="display: inline; float: none; left: 0.0; top: 0.0" alt="Figure 7-22 Report preview showing credit limit data removed for each row" /></a></p>
      <div class="fc2_FigCall2Title">
        <b class="Bold">Figure&nbsp;7-22&nbsp;&nbsp;</b><a name="211789">Report preview showing credit limit data removed for each row</a></div>
      <h4 class="N_h3_Head3"><a name="192443">Display group headings on the first row of each group</a></h4>
      <p class="b_Body"><a name="192447">The credit limit group headings appear in their own rows, above the detail rows of each group. In this procedure, drop the group headings so that they appear in the first detail row of each group.</a></p>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">1&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="192448">Choose Layout to return to the layout editor.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">2&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="378351">Select the cell that contains the group heading, as shown in </a><a href="#211805" title="Format the report">Figure&nbsp;7-23</a>. Be sure to select the cell and not the data element in the cell.</div>
            </td>
          </tr>
        </table>
      </div>
      <p class="i2_Image2"><a name="378355"><img class="Default" src="images/grpt_layout6.png" style="display: inline; float: none; left: 0.0; top: 0.0" alt="Figure 7-23 Group heading cell selected" /></a></p>
      <div class="fc2_FigCall2Title">
        <b class="Bold">Figure&nbsp;7-23&nbsp;&nbsp;</b><a name="211805">Group heading cell selected</a></div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">3&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="195026">In the General properties of Property Editor, set Drop to Detail. In the report design, the group heading still appears above the detail row because technically the element is still in the group header row. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">4&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="211822">Preview the report. The group headings appear in the first row of each group, as shown in </a><a href="#211831" title="Format the report">Figure&nbsp;7-24</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <p class="i2_Image2"><a name="211829"><img class="Default" src="images/grpt_output7.png" style="display: inline; float: none; left: 0.0; top: 0.0" alt="Figure 7-24 Report preview showing dropped group headings" /></a></p>
      <div class="fc2_FigCall2Title">
        <b class="Bold">Figure&nbsp;7-24&nbsp;&nbsp;</b><a name="211831">Report preview showing dropped group headings</a></div>
      <h4 class="N_h3_Head3"><a name="192489">Separate each group with a line</a></h4>
      <p class="b_Body"><a name="192493">Drawing a line to separate each group makes it easier to see each data group.</a></p>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">1&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="192494">Choose Layout to return to the layout editor.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">2&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="192495">Select all the cells in the group footer row. To select multiple cells, press the Shift key as you click each cell.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">3&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="192498">In Property Editor, under Properties, choose Border, then set the border properties, as follows:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b2_Bullet2_outer" style="margin-left: 14.1732283464567pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b2_Bullet2_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b2_Bullet2_inner"><a name="192499">Set Style to a solid line.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b2_Bullet2_outer" style="margin-left: 14.1732283464567pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b2_Bullet2_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b2_Bullet2_inner"><a name="345589">Set Color to Black.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b2_Bullet2_outer" style="margin-left: 14.1732283464567pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b2_Bullet2_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b2_Bullet2_inner"><a name="336452">Set Width to Thin.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <p class="N_si_ScanIcon"><a name="192503"><img class="Default" src="images/bottomborderbutton.png" style="display: inline; float: none; left: 0.0; top: 0.0" alt="Bottom border button" /></a></p>
      <div class="b2_Bullet2_outer" style="margin-left: 14.1732283464567pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b2_Bullet2_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b2_Bullet2_inner"><a name="192505">Choose the button that shows the bottom border.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">4&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="192507">Add more space between the line and text above it. While the cells are still selected, choose the Padding properties in Property Editor, and set Bottom to 6.0 points, as shown in </a><a href="#304282" title="Format the report">Figure&nbsp;7-25</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <p class="i2_Image2"><a name="304268"><img class="Default" src="images/grpt_padding.png" style="display: inline; float: none; left: 0.0; top: 0.0" alt="Figure 7-25 Property Editor showing padding values for selected cells" /></a></p>
      <div class="fc2_FigCall2Title">
        <b class="Bold">Figure&nbsp;7-25&nbsp;&nbsp;</b><a name="304282">Property Editor showing padding values for selected cells</a></div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">5&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="412493">Preview the report. A line appears at the end of each group, as shown in </a><a href="#221760" title="Format the report">Figure&nbsp;7-26</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <p class="i2_Image2"><a name="412502"><img class="Default" src="images/grpt_output8.png" style="display: inline; float: none; left: 0.0; top: 0.0" alt="Figure 7-26 Report preview showing a line between groups" /></a></p>
      <div class="fc2_FigCall2Title">
        <b class="Bold">Figure&nbsp;7-26&nbsp;&nbsp;</b><a name="221760">Report preview showing a line between groups</a></div>
      <h4 class="N_h3_Head3"><a name="336470">Display the number of customers text on one line</a></h4>
      <p class="b_Body"><a name="336484">The text at the top of the table appears centered within the first column. In this procedure, you format the text so that it appears left-aligned and on one line.</a></p>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">1&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="336505">Choose Layout to return to the layout editor.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">2&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="336534">Using Shift-click, select the first and second cells in the top table header row, as shown in </a><a href="#336591" title="Format the report">Figure&nbsp;7-27</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <p class="i2_Image2"><a name="336545"><img class="Default" src="images/grpt_selectcells.png" style="display: inline; float: none; left: 0.0; top: 0.0" alt="Figure 7-27 Two cells in the top table header row selected" /></a></p>
      <div class="fc2_FigCall2Title">
        <b class="Bold">Figure&nbsp;7-27&nbsp;&nbsp;</b><a name="336591">Two cells in the top table header row selected</a></div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">3&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="336523">Right-click the selected cells, and choose Merge Cells.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">4&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="336618">Select the [CUSTOMER_TOTAL] element in the merged cell, and in the General properties of the Property Editor, choose the B button and the Left button.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <span class="zAuto_0023Format">5&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="336636">Preview the report. It should look like the one shown in </a><a href="#336715" title="Format the report">Figure&nbsp;7-28</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <p class="i2_Image2"><a name="336661"><img class="Default" src="images/grpt_output8b.png" style="display: inline; float: none; left: 0.0; top: 0.0" alt="Figure 7-28 Report preview showing Number of customers: 122 on one line" /></a></p>
      <div class="fc2_FigCall2Title">
        <b class="Bold">Figure&nbsp;7-28&nbsp;&nbsp;</b><a name="336715">Report preview showing Number of customers: 122 on one line</a></div>
    </blockquote>
    <hr align="left" />
    <table align="right" summary="">
      <tr>
        <td class="WebWorks_Company_Name_Bottom">
          <a href="notices.html">(c) Copyright Actuate Corporation 2013</a>
        </td>
      </tr>
    </table>
  </body>
</html><html id='3840.204_activeannotations.html'></html><html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
	<title>Active Annotations</title>
	<link href="book.css" rel="stylesheet" type="text/css">
	<link href="code.css" rel="stylesheet" type="text/css">
	<link rel="home" href="index.html" title="">
</head>
<body>

<h1 id="active-annotations">Active Annotations</h1>

<p><em>Active annotations</em> allow developers to participate in the translation process of Xtend source code to Java code via library. That’s useful in cases where Java requires to write a lot of boilerplate manually. For instance, many of the good old design patterns fall into this category. With <em>active annotations</em> you no longer need to remember how the <a href="http://en.wikipedia.org/wiki/Visitor_pattern">Visitor</a> or the <a href="http://en.wikipedia.org/wiki/Observer_pattern">Observer</a> pattern should be implemented. In Xtend you can implement the expansion of such patterns in a library and let the compiler do the heavy lifting for you.</p>

<p>An <em>active annotation</em> is just an annotation declared either in Java or Xtend, which is itself annotated with <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/Active.java">Active</a>. <code>@Active</code> takes a type literal as a parameter pointing to the processor.</p>

<p>The IDE plugin comes with an example project, which you can easily materialize into your workspace. To do so use the new project wizard and in the category <em>Xtend Examples</em> choose the active annotation example. The examples contain three different annotations which we will use for further explanation.</p>

<p>For instance, <code>@Extract</code> is an annotation which extracts an interface for a class. The annotation declaration looks like this:</p>

<pre><code class="language-xtend">@Active(ExtractProcessor)
annotation Extract {}
</code></pre>

<h2 id="active-annotations-processor">Annotation Processor</h2>

<p>A processor class must implement one or more of the lifecycle call-back interfaces provided by the compiler. This interfaces are:</p>

<ul>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/RegisterGlobalsParticipant.java">RegisterGlobalsParticipant</a> The first call back. Only called to register type names when a global symbol table (i.e. index) is created. See <a href="204_activeannotations.html#active-annotations-register-globals">Phase 1</a>.</li>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/TransformationParticipant.java">TransformationParticipant</a> This callback is often the most useful, as it allows to alter the translated Java structure by e.g. adding, removing or altering members See <a href="204_activeannotations.html#active-annotations-transformation-phase">Phase 2</a>.</li>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/ValidationParticipant.java">ValidationParticipant</a> Although you can already do validation during transformation, you are only during this callback allowed to fully resolve any types. See <a href="204_activeannotations.html#active-annotations-validation-phase">Phase 3</a>.</li>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/CodeGenerationParticipant.java">CodeGenerationParticipant</a> If you want to generate some additional text, e.g. XML, this hook is for you. See <a href="204_activeannotations.html#active-annotations-code-generation">Phase 4</a>.</li>
</ul>

<p>There are base classes that implment all callback interfaces. You should subclass one of those depending on your annotation target:</p>

<ul>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/AbstractClassProcessor.java">AbstractClassProcessor</a> is a base class for class annotations</li>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/AbstractInterfaceProcessor.java">AbstractInterfaceProcessor</a> is a base class for interface annotations</li>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/AbstractAnnotationTypeProcessor.java">AbstractAnnotationTypeProcessor</a> is a base class for annotation type annotations</li>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/AbstractEnumerationTypeProcessor.java">AbstractEnumerationTypeProcessor</a> is a base class for enumeration type annotations</li>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/AbstractMethodProcessor.java">AbstractMethodProcessor</a> is a base class for method annotations</li>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/AbstractFieldProcessor.java">AbstractFieldProcessor</a> is a base class for field annotations</li>
</ul>

<p>If you want to annotate other elements such as parameters or constructors, you should have a look at the bases classes and adapt their implementation (basically the type parameter) accordingly. It is also possible to have a very generic processor by using <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/declaration/Declaration.java">Declaration</a>, the super type of all declared elements.</p>

<h3 id="active-annotations-register-globals">Phase 1: Register Globals</h3>

<p>The first phase in the lifecycle of the compiler is about indexing the types as globally available symbols. By implementing a <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/RegisterGlobalsParticipant.java">RegisterGlobalsParticipant</a> you have the chance to create and register new Java types during this phase. It’s important to do this in a first phase so later on the compiler can find and access these types.</p>

<p>For example the ExtractProcessor adds one interface per annotated class:</p>

<pre><code class="language-xtend">class ExtractProcessor extends AbstractClassProcessor {
  
  override doRegisterGlobals(ClassDeclaration annotatedClass, RegisterGlobalsContext context) {
    context.registerInterface(annotatedClass.interfaceName)
  }

  def getInterfaceName(ClassDeclaration annotatedClass) {
    annotatedClass.qualifiedName+"Interface"
  }
  
  ...
}
</code></pre>

<p>The <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/RegisterGlobalsContext.java">RegisterGlobalsContext</a> provides all the services that are available during this compilation step. It is passed into the method <code>doRegisterGlobals()</code> along with a read-only representation of the annotated source elements. The AbstractClassProcessor in this example is invoked for all classes that are annotated with <code>@Extract</code>.</p>

<p>The compiler calls <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/RegisterGlobalsParticipant.java">RegisterGlobalsParticipant</a> once per compilation unit and provides access to all elements which are annotated with the <em>active annotation</em> this processor is registered for. Therefore the <code>ExtractProcessor</code> is invoked with a list of all classes that are defined in the same Xtend file for all the files that are being compiled.</p>

<h3 id="active-annotations-transformation-phase">Phase 2: Transformation</h3>

<p>In the second phase developers can modify the compiled Java classes and Java code. Annotation processors that implement <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/TransformationParticipant.java">TransformationParticipant</a> participate in this compile step. Similar to the <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/RegisterGlobalsParticipant.java">RegisterGlobalsParticipant</a> interface the compiler provides two arguments: The list of annotated translated and now mutable Java elements and a <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/TransformationContext.java">TransformationContext</a>. The context provides services that are specific for this second step.</p>

<p>A transformation participant can access and modify mutable Java elements. These are an in-memory representation of the generated Java code. They are usually very similar to the source elements, but can be modified and new methods, fields or constructors can be added. It is not possible to create new types during the transformation step. Also note, that other annotation processors might already have altered the model.</p>

<p>The <code>ExtractProcessor</code> implements the method <code>doTransform</code> like this:</p>

<pre><code class="language-xtend">class ExtractProcessor extends AbstractClassProcessor {
  
  override doRegisterGlobals(ClassDeclaration annotatedClass, RegisterGlobalsContext context) {
    context.registerInterface(annotatedClass.interfaceName)
  }

  def getInterfaceName(ClassDeclaration annotatedClass) {
    annotatedClass.qualifiedName+"Interface"
  }
  
  override doTransform(MutableClassDeclaration annotatedClass, extension TransformationContext context) {
    val interfaceType = findInterface(annotatedClass.interfaceName)
    
    // add the interface to the list of implemented interfaces
    annotatedClass.implementedInterfaces = annotatedClass.implementedInterfaces + #[interfaceType.newTypeReference]
    
    // add the public methods to the interface
    for (method : annotatedClass.declaredMethods) {
      if (method.visibility == Visibility.PUBLIC) {
        interfaceType.addMethod(method.simpleName) [
          docComment = method.docComment
          returnType = method.returnType
          for (p : method.parameters) {
            addParameter(p.simpleName, p.type)
          }
          exceptions = method.exceptions
        ]
      }
    }
  }
}
</code></pre>

<p>In the first line, <code>findInterface</code> retrieves the interface which was registered during the registration of global symbols in the first phase: The method is defined in <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/TransformationContext.java">TransformationContext</a> which is used as an <a href="202_xtend_classes_members.html#extension-provider">extension provider</a>.</p>

<p>Next up the newly created interface is added to the existing list of implemented interfaces.</p>

<pre><code class="language-xtend">annotatedClass.implementedInterfaces = annotatedClass.implementedInterfaces + #[interfaceType.newTypeReference]
</code></pre>

<p>The code calls <code>setImplementedInterfaces(Iterable&lt;TypeReference&gt;)</code> on the annotated class. The right hand side of the assignment is a concatenation of the existing implemented interfaces and a type reference pointing to the freshly created interface.</p>

<p>A <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/declaration/TypeReference.java">TypeReference</a> can be created using one of the various methods from <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/services/TypeReferenceProvider.java">TypeReferenceProvider</a> which is a super type of <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/TransformationContext.java">TransformationContext</a>. These utilities are available as extensions, too.</p>

<h3 id="active-annotations-validation-phase">Phase 3: Validation</h3>

<p>The third lifecycle allows to participate in validation. You can already do validation during transformation and even during registerGlobals, but it is only now that you can fully resolve everything, including inferred type references.</p>

<h3 id="active-annotations-code-generation">Phase 4: Code Generation</h3>

<p>The last phase in the lifecycle of the compiler lets you participate in writing and updating the files. In the IDE this phase is only executed on save , while the previous two get executed after minor edits in the editor as well. In order to participate your processor needs to implement <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/CodeGenerationParticipant.java">CodeGenerationParticipant</a>. The extract interface example doesn’t make use of this hook, but another example for internationalization which is also included, generates a *.properties file, like this:</p>

<pre><code class="language-xtend">class ExternalizedProcessor extends AbstractClassProcessor {
  
  ...
  
  override doGenerateCode(List&lt;? extends ClassDeclaration&gt; annotatedSourceElements, extension CodeGenerationContext context) {
    for (clazz : annotatedSourceElements) {
      val filePath = clazz.compilationUnit.filePath
      val file = filePath.targetFolder.append(clazz.qualifiedName.replace('.', '/') + ".properties")
      file.contents = '''
        «FOR field : clazz.declaredFields»
          «field.simpleName» = «field.initializerAsString»
        «ENDFOR»
      '''
    }
  }

}
</code></pre>

<p>The <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/CodeGenerationContext.java">CodeGenerationContext</a> provides all the services that are available during this phase. Have a look at the Java doc for more details.</p>

<h2 id="active-annotations-expression">On Expressions and Statements</h2>

<p>Most of the generated Java code is represented in the form of in-memory elements. Basically all the structural elements are represented as a dedicated <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/declaration/Element.java">Element</a>. If you want to generate the body of a method or the initializer of a field, you have two options.</p>

<h3 id="active-annotations-compilation-strategies">Generating Blackbox Java Code</h3>

<p>The first option is to assign a compilation strategy and take care of the Java code by yourself. As an example the body of a setter method of an observable instance is implemented by the following code snippet:</p>

<pre><code class="language-xtend">observableType.addMethod('set' + fieldName.toFirstUpper) [
  addParameter(fieldName, fieldType)
  body = '''
    «fieldType» _oldValue = this.«fieldName»;
    this.«fieldName» = «fieldName»;
    _propertyChangeSupport.firePropertyChange("«fieldName»", _oldValue, «fieldName»);
  '''
]
</code></pre>

<p>A template expression is used to implement the body. Although this code is execute during transform, the actual concatenation only happens during code generation. It’s a special form of a string concatenation, that will automatically add imports when concatenating a TypeReference, java.lang.Class or a TypeDeclaration. It takes existing imports into account and adds new imports on the fly if necessary.</p>

<h3 id="active-annotations-assigning-expressions">Assigning Expressions</h3>

<p>A second alternative is to put expressions from the Xtend source into the context of a generated Java element. This allows to directly use the code that was written in the source file. An annotation <code>@Lazy</code> which turns fields into lazily initialized properties, may be used like this:</p>

<pre><code class="language-xtend">class MyClass {
  @Lazy String myField = expensiveComputation()
}
</code></pre>

<p>The processor for this <em>active annotation</em> could infer a synthetic initializer method and add a getter-method, which calls the initializer if the field is still <code>null</code>. Therefore, the initialization expression of the field has to become the method body of the synthesized initializer method. The following code performs this transformation:</p>

<pre><code class="language-xtend">override doTransform(MutableFieldDeclaration field, extension TransformationContext context) {

  // add synthetic init-method
  field.declaringType.addMethod('_init' + field.simpleName) [
    visibility = Visibility.PRIVATE
    returnType = field.type
    // reassign the initializer expression to be the init method's body
    // this automatically removes the expression as the field's initializer
    body = field.initializer
  ]

  // add a getter method which lazily initializes the field
  field.declaringType.addMethod('get' + field.simpleName.toFirstUpper) [
    returnType = field.type
    body = ['''
      if («field.simpleName»==null)
        «field.simpleName» = _init«field.simpleName»();
      return «field.simpleName»;
    ''']
  ]
}
</code></pre>

<h2 id="active-annotations-validation">Custom Compiler Checks</h2>

<p>The previous example requires each annotated field to have an initializer. Otherwise it would not be possible to use lazy initialization to assign its value. Also a simple check for a <code>null</code> reference could cause trouble with primitive values. A validation for that case would be sensible, too. In order to guide the user dedicated compilation errors should be raised if these constrains are violated.</p>

<p>The <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/TransformationContext.java">TransformationContext</a> inherits methods for exactly that purpose from the <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib.macro/src/org/eclipse/xtend/lib/macro/services/ProblemSupport.java">ProblemSupport</a> service.</p>

<p>Since the <code>context</code> is declared as an <a href="202_xtend_classes_members.html#extension-provider">extension provider</a>, those methods can be used as extensions and it allows to implement the constraint check accordingly:</p>

<pre><code class="language-xtend">override doTransform(MutableFieldDeclaration field, extension TransformationContext context) {
  if (field.type.primitive)
    field.addError("Fields with primitives are not supported by @Lazy")
    
  if (field.initializer == null)
    field.addError("A lazy field must have an initializer.")
  ...
}
</code></pre>

<p>This ensures that the user is notified about invalid applications of the <em>active annotation</em> <code>@Lazy</code>.</p>

<h2 id="active-annotation-classpath">Class Path Setup and Testing</h2>

<p>An <em>active annotation</em> can not be used in the same project it is declared in, but has to reside on an upstream project. Alternatively it can be compiled and deployed in a jar. The annotation and the processor itself only rely on the interfaces defined in <code>org.eclipse.xtend.lib.macro</code> which is part of Xtend’s small standard library.</p>

<p>Also note that the macro library as well as the processors are strictly speaking compile-time only dependencies. So if it matters, like e.g. on Android devices, you don’t need to ship them at runtime.</p>

<p>When used in an IDE the compiled annotation processor is loaded and executed on the fly within the IDE process.</p>

<p>Therefore, careful testing and debugging of the processor is essential. It is best done in a unit test. Such a test needs the whole Xtend compiler on the class path, which you can obtain by means of an OSGi bundle dependency or via Maven. The maven dependency is</p>

<pre><code>&lt;dependency&gt;
  &lt;groupId&gt;org.eclipse.xtend&lt;/groupId&gt;
  &lt;artifactId&gt;org.eclipse.xtend.core&lt;/artifactId&gt;
  &lt;version&gt;2.17.0&lt;/version&gt;
  &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.eclipse.xtext&lt;/groupId&gt;
  &lt;artifactId&gt;org.eclipse.xtext.xbase.testing&lt;/artifactId&gt;
  &lt;version&gt;2.17.0&lt;/version&gt;
  &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre>

<p>and the equivalent OSGI bundle is <code>org.eclipse.xtend.core</code>.</p>

<h3 id="active-annotation-compiler-tester">Testing</h3>

<p>The <code>XtendCompilerTester</code> is a convenient helper class for testing the processing and the compilation. It allows to test active annotation processors by either comparing the generated Java source using a String comparison or by inspecting the produced Java elements. In addition you can even compile the generated Java source to a Java class and create and test instances of it reflectively.</p>

<p>The example project contains a couple of test cases:</p>

<pre><code class="language-xtend">class LazyTest {
  extension XtendCompilerTester compilerTester = XtendCompilerTester.newXtendCompilerTester(Lazy.classLoader)

  @Test def void testLazy() {
    '''
      import lazy.Lazy
      
      class Person {
        @Lazy String name = 'foo'
      }
    '''.assertCompilesTo(
    '''
      import lazy.Lazy;

      @SuppressWarnings("all")
      public class Person {
        @Lazy
        private String name;
        
        private String _initname() {
          return "foo";
        }
        
        public String getName() {
          if (name==null)
            name = _initname();
          return name;
          
        }
      }
    ''')
  }
}
</code></pre>

<p>This is a basic string comparison. It is a good way to start the development of a new annotation processor. Later on assertions against the produced elements and syntax tree (AST) may be a better choice since these are not so fragile against changes in the formatting. The <code>@Extract</code>-example uses this technique:</p>

<pre><code class="language-xtend">@Test def void testExtractAnnotation() {
  '''
    @extract.Extract
    class MyClass {
      override String doStuff(String myParam) throws IllegalArgumentException {
        return myParam
      }
    }
  '''.compile [
    // declare the transformation context as a local extensions
    val extension ctx = transformationContext
    
    // look up the interface and the class
    val interf = findInterface('MyClassInterface')
    val clazz = findClass('MyClass')
    
    
    // do assertions
    assertEquals(interf, clazz.implementedInterfaces.head.type)
    
    interf.declaredMethods.head =&gt; [
      assertEquals('doStuff', simpleName)
      assertEquals(string, returnType)
      assertEquals(IllegalArgumentException.newTypeReference, exceptions.head)
    ]
  ]
}
</code></pre>

<h3 id="wrap-up">Wrap Up</h3>

<p><em>Active Annotations</em> are a powerful and unique concept that allows to solve a large class of problems that previously had to be solved in cumbersome ways. IDE wizards, many code generators or manually writing boilerplate code are no longer state of the art. Active annotations basically <em>is</em> a means of code generation, but its simple integration with existing projects and the fast development turnarounds diminish the typical downsides of code generation.</p>

<h2 id="existing-active-annotations">Existing Active Annotations</h2>

<p>Xtend comes with ready-to-use active annotations for common code patterns. They reside in the <code>org.eclipse.xtend.lib.annotations</code> plug-in/jar which must be on the class path of the project containing the Xtend files.</p>

<h2 id="property-annotation">@Accessors</h2>

<p>If you want to add getter and or setter methods for your fields <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib/src/org/eclipse/xtend/lib/annotations/Accessors.xtend"><code>@Accessors</code></a> is your friend. Here’s a basic example.</p>

<pre><code class="language-xtend">@Accessors String name
</code></pre>

<p>will compile to the Java code</p>

<pre><code class="language-java">private String name;

public String getName() {
  return this.name;
}

public void setName(final String name) {
  this.name = name;
}
</code></pre>

<p>So by default a public getter and a public setter method is created. The <code>@Accessors</code> can be configured to tell that you only want one or the other and to change the visibility. this is done by means of <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib/src/org/eclipse/xtend/lib/annotations/Accessors.xtend">AccessorType</a> You can also use the annotation on class level to do the same for all fields.</p>

<p>Here is a more complex example, that shows how it works:</p>

<pre><code class="language-xtend">@Accessors class Person {
  String name
  String firstName
  @Accessors(PUBLIC_GETTER, PROTECTED_SETTER) int age
  @Accessors(NONE) String internalField
}

</code></pre>

<p>will compile to the Java code</p>

<pre><code class="language-java">@Accessors public class Person {
  private String name
  private String firstName
  @Accessors(PUBLIC_GETTER, PROTECTED_SETTER) private int age
  @Accessors(NONE) private String internalField
  
  public String getName() {
    return this.name;
  }
  
  public void setName(final String name) {
    this.name = name;
  }
  
  public String getFirstName() {
    return this.firstName;
  }
  
  public void setFirstName(final String firstName) {
    this.firstName = firstName;
  }
  
  public int getAge() {
    return this.age;
  }
  
  protected void setAge(final int age) {
    this.age = age;
  }
}
</code></pre>

<h2 id="data-annotation">@Data</h2>

<p>The annotation <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib/src/org/eclipse/xtend/lib/annotations/Data.xtend"><code>@Data</code></a>, will turn an annotated class into a value object class. A class annotated with <code>@Data</code> is processed according to the following rules:</p>

<ul>
  <li>all fields are final,</li>
  <li>getter methods will be generated (if they do not yet exist),</li>
  <li>a constructor with parameters for all non-initialized fields will be generated (if it does not exist),</li>
  <li>equals(Object) / hashCode() methods will be generated (if they do not exist),</li>
  <li>a toString() method will be generated (if it does not exist).</li>
</ul>

<p>Example:</p>

<pre><code class="language-xtend">@Data class Person {
  String firstName
  String lastName
  
  def static void main(String[] args) {
    val p = new Person(args.get(0), args.get(1))
    println(p.getFirstName() + ' ' + p.lastName)
  }
}
</code></pre>

<h2 id="delegate-annotation">@Delegate</h2>

<p>The <a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtend.lib/src/org/eclipse/xtend/lib/annotations/Delegate.xtend"><code>@Delegate</code></a> annotation automatically generated delegate methods for all interfaces shared between the delegate and the currently implemented class. You can optionally restrict it to explicitly stated interfaces.</p>

<p>Let’s start with a basic example:</p>

<pre><code class="language-xtend">class MyClass implements SomeInterface {

  // generates all methods of List and delegates to this field
  @Delegate SomeSubTypeOfSumInterface myDelegate

}
</code></pre>

<p>It is not only possible to delegate to fields, but also to methods so you for instance could lazily create the delegate object or use a different one each time. If you use a method you can also declare additional parameters, that will tell you about the method that should be invoked.</p>

<p>Here’s another example:</p>

<pre><code class="language-xtend">class MyClass implements SomeInterface {

  SomeInterface myDelegate;

  @Delegate def List&lt;? extends String&gt; provideDelegate(String methodName, Class[] paramTypes, Object[] actualArguments) {
     if (!canHandle(methodName,paramTypes,actualArguments) {
        throw new UnsupportedOperationException("The method "+methodName+" is not supported.");
     }
     return myDelegate
  }
}
</code></pre>



</body>
</html>
<html id='2298.OCLInterpreterTutorial.html'></html><html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Working with Classic OCL</title>
<link href="book.css" rel="stylesheet" type="text/css">
<meta content="DocBook XSL Stylesheets V1.75.1" name="generator">
<link rel="home" href="index.html" title="OCL Documentation">
<link rel="up" href="Tutorials.html" title="Tutorials">
<link rel="prev" href="ValidationTutorial.html" title="Validation tutorial">
<link rel="next" href="Extensions.html" title="Extensions (in the Unified/Pivot OCL prototype)">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<h1 xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0">Working with Classic OCL</h1>
<div class="section" title="Working with Classic OCL">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both">
<a name="OCLInterpreterTutorial"></a>Working with Classic OCL</h2>
</div>
</div>
</div>
<div class="section" title="Overview">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="Overview4"></a>Overview</h3>
</div>
</div>
</div>
<p>This tutorial illustrates the various services provided by the Classic Eclipse OCL
					implementation.</p>
</div>
<div class="section" title="References">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="References3"></a>References</h3>
</div>
</div>
</div>
<p>This tutorial assumes that the reader is familiar with the Eclipse extension point
					architecture.  There is an abundance of on-line help in Eclipse for those
					unfamiliar with extension points.</p>
<p>To see the complete source code for the examples shown in this tutorial, install
					the 
					<a class="link" href="OCLInterpreterExample.html" title="OCL Interpreter Example">OCL Interpreter Example</a> 
					plug-in into your workspace.
				</p>
<p>Other references:</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>For an environment in which to test the OCL expressions that you will create in this tutorial, install the 
							<a class="ulink" href="../references/examples/exampleOverview.html" target="_new">Library Metamodel</a> example.
						</p>
</li>
<li class="listitem">
<p>
							
<a class="ulink" href="http://www.omg.org/spec/OCL" target="_new">OCL 2.0</a> specification.
						</p>
</li>
</ul>
</div>
</div>
<div class="section" title="Parsing OCL Expressions">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="ParsingOCLExpressions"></a>Parsing OCL Expressions</h3>
</div>
</div>
</div>
<p>The first responsibility of the OCL interpreter is to parse OCL expressions.
					One of the purposes of parsing an expression is to validate it:  if it can be
					parsed, it is well-formed (the parser automatically validates the expression
					against the semantic well-formedness rules).</p>
<p>The main entrypoint into the OCL API is the 
					<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/OCL.html" target="_new">OCL</a> class. An 
					<code class="code">OCL</code> provides an autonomous OCL parsing environment.  It tracks all constraints that are parsed in this environment, including the definitions of additional operations and attributes. The 
					<code class="code">OCL.newInstance()</code> factory method is used to create a new OCL with an 
					<code class="code">EnvironmentFactory</code> that provides the binding to a particular metamodel (Ecore or UML).  In this tutorial, we will use the Ecore binding.
				</p>
<p>To parse a query expression, we will use the 
					<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/helper/OCLHelper.html" target="_new">
						<code class="code">OCLHelper</code>
					</a> object, which provides convenient operations for parsing queries and constraints
					(intended for processing constraints embedded in models).
				</p>
<div class="literallayout">
<p>
<code class="code">boolean&nbsp;valid;<br>
OCLExpression&lt;EClassifier&gt;&nbsp;query&nbsp;=&nbsp;null;<br>

<br>
try&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;create&nbsp;an&nbsp;OCL&nbsp;instance&nbsp;for&nbsp;Ecore<br>
&nbsp;&nbsp;&nbsp;&nbsp;OCL&lt;?,&nbsp;EClassifier,&nbsp;?,&nbsp;?,&nbsp;?,&nbsp;?,&nbsp;?,&nbsp;?,&nbsp;?,&nbsp;Constraint,&nbsp;EClass,&nbsp;EObject&gt;&nbsp;ocl;<br>
&nbsp;&nbsp;&nbsp;&nbsp;ocl&nbsp;=&nbsp;OCL.newInstance(EcoreEnvironmentFactory.INSTANCE);<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;create&nbsp;an&nbsp;OCL&nbsp;helper&nbsp;object<br>
&nbsp;&nbsp;&nbsp;&nbsp;OCLHelper&lt;EClassifier,&nbsp;?,&nbsp;?,&nbsp;Constraint&gt;&nbsp;helper&nbsp;=&nbsp;ocl.createOCLHelper();<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;set&nbsp;the&nbsp;OCL&nbsp;context&nbsp;classifier<br>
&nbsp;&nbsp;&nbsp;&nbsp;helper.setContext(EXTLibraryPackage.Literals.WRITER);<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;helper.createQuery("self.books-&gt;collect(b&nbsp;:&nbsp;Book&nbsp;|&nbsp;b.category)-&gt;asSet()");<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;record&nbsp;success<br>
&nbsp;&nbsp;&nbsp;&nbsp;valid&nbsp;=&nbsp;true;<br>
}&nbsp;catch&nbsp;(ParserException&nbsp;e)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;record&nbsp;failure&nbsp;to&nbsp;parse<br>
&nbsp;&nbsp;&nbsp;&nbsp;valid&nbsp;=&nbsp;false;<br>
&nbsp;&nbsp;&nbsp;&nbsp;System.err.println(e.getLocalizedMessage());<br>
}<br>

</code>
</p>
</div>
<p></p>
<p>The example above parses an expression that computes the distinct categories
					of 
					<code class="code">Book</code> s associated with a 
					<code class="code">Writer</code>.  The possible
					reasons why it would fail to parse (in which case a

					<code class="code">ParserException</code> is thrown) include:
				</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>syntactical problems:  misplaced or missing constructs such as closing</p>
</li>
</ul>
</div>
<p>		parentheses, variable declarations, type expressions, etc.</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>semantic problems:  unknown attributes or operations of the context</p>
</li>
</ul>
</div>
<p>		type or referenced types, unknown packages, classes, etc.</p>
</div>
<div class="section" title="Parsing OCL Constraints">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="ParsingOCLConstraints"></a>Parsing OCL Constraints</h3>
</div>
</div>
</div>
<p>OCL is primarily intended for the specification of 
					<span class="emphasis"><em>constraint</em></span> s.  Unlike
					queries, there are a variety of different kinds of constraints used in different
					places in a model.  These include classifier invariants, operation constraints,
					and attribute derivation constraints.  The 
					<code class="code">OCLHelper</code>
					can parse these for us.
				</p>
<p>Let&rsquo;s imagine the confusion that arises from a library that has more than
					one book of the same title (we are not intending to model copies).  We will
					create an invariant constraint for @Book@s stipulating
					that this is not permitted:</p>
<div class="literallayout">
<p>
<code class="code">Constraint&nbsp;invariant&nbsp;=&nbsp;null;<br>

<br>
try&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;set&nbsp;the&nbsp;OCL&nbsp;context&nbsp;classifier<br>
&nbsp;&nbsp;&nbsp;&nbsp;helper.setContext(EXTLibraryPackage.Literals.LIBRARY);<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;invariant&nbsp;=&nbsp;helper.createInvariant(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Library.allInstances()-&gt;forAll(b1,&nbsp;b2&nbsp;|&nbsp;b1&nbsp;&lt;&gt;&nbsp;b2&nbsp;implies&nbsp;b1.title&nbsp;&lt;&gt;&nbsp;b2.title)");<br>
}&nbsp;catch&nbsp;(ParserException&nbsp;e)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;record&nbsp;failure&nbsp;to&nbsp;parse<br>
&nbsp;&nbsp;&nbsp;&nbsp;System.err.println(e.getLocalizedMessage());<br>
}<br>

</code>
</p>
</div>
<p></p>
<p>Parsing constraints differs from parsing query expressions because they have
					additional well-formedness rules that the parser checks.  For example, an
					invariant constraint must be boolean-valued, an attribute derivation constraint
					must conform to the type of the attribute, and such constructs as @pre 
					and 
					<code class="code">oclIsNew()</code> may only be used in operation post-condition constraints.
				</p>
</div>
<div class="section" title="Evaluating OCL Expressions and Constraints">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="EvaluatingOCLExpressionsandConstraints"></a>Evaluating OCL Expressions and Constraints</h3>
</div>
</div>
</div>
<p>More interesting than parsing an OCL expression or constraint is evaluating it
					on some object.  The 
					<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/Query.html" target="_new">
						<code class="code">Query</code>
					</a> 
					interface provides two methods for evaluating expressions. Queries are
					constructed by factory methods on the 
					<code class="code">OCL</code> class.
				</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
							
<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/Query.html#evaluate(org.eclipse.emf.ecore.EObject)" target="_new">
								<code class="code">Object evaluate(Object)</code>
							</a> 
						
</p>
</li>
</ul>
</div>
<p>		evaluates the expression on the specified object, returning the result.
							The caller is expected to know the result type, which could be a
							primitive, 
					<code class="code">EObject</code>, or a collection.  There
							are variants of this method for evaluation of the query on multiple
							objects and on no object at all (for queries that require no "self"
							context).
				</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
							
<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/Query.html#check(org.eclipse.emf.ecore.EObject)" target="_new">
								<code class="code">boolean evaluate(Object)</code>
							</a> 
						
</p>
</li>
</ul>
</div>
<p>		This method evaluates a special kind of OCL expression called a
							
					<span class="emphasis"><em>constraint</em></span>.  Constraints are distinguished from other OCL queries
							by having a boolean value; thus, they can be used to implement invariant
							or pre/post-condition constraints.  There are variants for checking
							multiple objects and for selecting/rejecting elements of a list that
							satisfy the constraint.
				</p>
<p>In order to support the 
					<code class="code">allInstances()</code> operation on OCL types,
					the 
					<code class="code">OCL</code> API provides the
				</p>
<p>
					
<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/OCL.html#setExtentMap(java.util.Map)" target="_new">
						<code class="code">setExtentMap(Map&lt;CLS, ? extends Set&lt;? extends E&gt;&gt; extentMap)</code>
					</a> 
					method.  This assigns a mapping of classes (in the Ecore binding,

					<code class="code">EClass</code> es) to the sets of their instances.  By default,
					the 
					<code class="code">OCL</code> provides a dynamic map that computes the
					extents on demand from the contents of a 
					<code class="code">Resource</code>.
					An alternative extent map can be
					found in 
					<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/ecore/opposites/ExtentMap.html" target="_new">
						<code class="code">org.eclipse.ocl.ecore.opposites.ExtentMap</code>
					</a> .
					We will use a custom extent map in evaluating a query expression that finds
					books that have the same title as a designated book:
				</p>
<div class="literallayout">
<p>
<code class="code">//&nbsp;create&nbsp;an&nbsp;extent&nbsp;map<br>
Map&lt;EClass,&nbsp;Set&lt;?&nbsp;extends&nbsp;EObject&gt;&gt;&nbsp;extents&nbsp;=&nbsp;new&nbsp;HashMap&lt;EClass,&nbsp;Set&lt;?&nbsp;extends&nbsp;EObject&gt;&gt;();<br>
Set&lt;Book&gt;&nbsp;books&nbsp;=&nbsp;new&nbsp;HashSet&lt;Book&gt;();<br>
extents.put(EXTLibraryPackage.Literals.BOOK,&nbsp;books);<br>

<br>
//&nbsp;tell&nbsp;the&nbsp;OCL&nbsp;environment&nbsp;what&nbsp;our&nbsp;classifier&nbsp;extents&nbsp;are<br>
ocl.setExtentMap(extents);<br>

<br>
Library&nbsp;library&nbsp;=&nbsp;EXTLibraryFactory.eINSTANCE.createLibrary();<br>

<br>
Book&nbsp;myBook&nbsp;=&nbsp;EXTLibraryFactory.eINSTANCE.createBook();<br>
myBook.setTitle("David&nbsp;Copperfield");<br>
books.add(myBook);<br>

<br>
//&nbsp;this&nbsp;book&nbsp;is&nbsp;in&nbsp;our&nbsp;library<br>
library.add(myBook);<br>

<br>
Writer&nbsp;dickens&nbsp;=&nbsp;EXTLibraryFactory.eINSTANCE.createWriter();<br>
dickens.setName("Charles&nbsp;Dickens");<br>

<br>
Book&nbsp;aBook&nbsp;=&nbsp;EXTLibraryFactory.eINSTANCE.createBook();<br>
aBook.setTitle("The&nbsp;Pickwick&nbsp;Papers");<br>
aBook.setCategory(BookCategory.MYSTERY_LITERAL);<br>
books.add(aBook);<br>
aBook&nbsp;=&nbsp;EXTLibraryFactory.eINSTANCE.createBook();<br>
aBook.setTitle("David&nbsp;Copperfield");<br>
aBook.setCategory(BookCategory.BIOGRAPHY_LITERAL);&nbsp;&nbsp;//&nbsp;not&nbsp;actually,&nbsp;of&nbsp;course!<br>
books.add(aBook);<br>
aBook&nbsp;=&nbsp;EXTLibraryFactory.eINSTANCE.createBook();<br>
aBook.setTitle("Nicholas&nbsp;Nickleby");<br>
aBook.setCategory(BookCategory.BIOGRAPHY_LITERAL);&nbsp;&nbsp;//&nbsp;not&nbsp;really<br>
books.add(aBook);<br>

<br>
dickens.addAll(books);&nbsp;&nbsp;//&nbsp;Dickens&nbsp;wrote&nbsp;these&nbsp;books<br>
library.addAll(books);&nbsp;&nbsp;//&nbsp;and&nbsp;they&nbsp;are&nbsp;all&nbsp;in&nbsp;our&nbsp;library<br>

<br>
//&nbsp;use&nbsp;the&nbsp;query&nbsp;expression&nbsp;parsed&nbsp;before&nbsp;to&nbsp;create&nbsp;a&nbsp;Query<br>
Query&lt;EClassifier,&nbsp;EClass,&nbsp;EObject&gt;&nbsp;eval&nbsp;=&nbsp;ocl.createQuery(query);<br>

<br>
Collection&lt;?&gt;&nbsp;result&nbsp;=&nbsp;(Collection&lt;?&gt;)&nbsp;eval.evaluate(dickens);<br>
System.out.println(result);<br>

</code>
</p>
</div>
<p></p>
<p>The same 
					<code class="code">Query</code> API is used to check constraints.
					Using the 
					<code class="code">library</code> and 
					<code class="code">extents</code> map from above and the
					constraint parsed previously:
				</p>
<div class="literallayout">
<p>
<code class="code">eval&nbsp;=&nbsp;ocl.createQuery(constraint);<br>

<br>
boolean&nbsp;ok&nbsp;=&nbsp;eval.check(library);<br>

<br>
System.out.println(ok);<br>

</code>
</p>
</div>
<p></p>
</div>
<div class="section" title="Implementing Content Assist">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="ImplementingContentAssist"></a>Implementing Content Assist</h3>
</div>
</div>
</div>
<p>The 
					<code class="code">OCLHelper</code> interface provides an operation that
					computes content-assist proposals in an abstract form, as

					<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/helper/Choice.html" target="_new">
						<code class="code">Choice</code>
					</a> s.
					An application&rsquo;s UI can then convert these to JFace&rsquo;s

					<code class="code">ICompletionProposal</code> type.
				</p>
<p>Obtaining completion choices consists of supplying a partial OCL expression
					(up to the cursor location in the UI editor) to the

					<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/helper/OCLHelper.html#getSyntaxHelp(org.eclipse.ocl.helper.ConstraintKind" target="_new">
						<code class="code">OCLHelper::getSyntaxHelp(ConstraintKind, String)</code>
					</a>, java.lang.String) 
					method.  This method requires a 
					<code class="code">ConstraintKind</code>
					enumeration indicating the type of constraint that is to be parsed (some OCL
					constructs are restricted in the kinds of constraints in which they may be used).
				</p>
<div class="literallayout">
<p>
<code class="code">helper.setContext(EXTLibraryPackage.Literals.BOOK);<br>

<br>
List&lt;Choice&gt;&nbsp;choices&nbsp;=&nbsp;helper.getSyntaxHelp(<br>
&nbsp;&nbsp;&nbsp;&nbsp;ConstraintKind.INVARIANT,<br>
&nbsp;&nbsp;&nbsp;&nbsp;"Book.allInstances()-&gt;excluding(self).");<br>

<br>
for&nbsp;(Choice&nbsp;next&nbsp;:&nbsp;choices)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;switch&nbsp;(next.getKind())&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;OPERATION:<br>
&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;SIGNAL:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;the&nbsp;description&nbsp;is&nbsp;already&nbsp;complete<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(next.getDescription());<br>
&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;PROPERTY:<br>
&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;ENUMERATION_LITERAL:<br>
&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;VARIABLE:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(next.getName()&nbsp;+&nbsp;"&nbsp;:&nbsp;"&nbsp;+&nbsp;next.getDescription();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>
&nbsp;&nbsp;&nbsp;&nbsp;default:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(next.getName());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}<br>

</code>
</p>
</div>
<p></p>
<p>A sample of the output looks like:</p>
<div class="literallayout">
<p>
<code class="code">author&nbsp;:&nbsp;Writer<br>
title&nbsp;:&nbsp;String<br>
oclIsKindOf(typespec&nbsp;:&nbsp;OclType)<br>
oclAsType(typespec&nbsp;:&nbsp;OclType)&nbsp;:&nbsp;T<br>
...<br>

</code>
</p>
</div>
<p></p>
<p>The choices also provide the model element that they represent, from which a
					more sophisticated application can construct appropriate JFace completions,
					including context information, documentation, etc.</p>
</div>
<div class="section" title="Working with the AST">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="WorkingwiththeAST"></a>Working with the AST</h3>
</div>
</div>
</div>
<p>The OCL Interpreter models the OCL language using EMF&rsquo;s Ecore with support for
					Java-style generic types.  The bindings of this generic Abstract Syntax Model
					for Ecore and for UML substitutes these metamodels' constructs for the generic
					type parameters, plugging in the definitions of the &ldquo;classifier&rdquo;, &ldquo;operation&rdquo;,
					&ldquo;constraint&rdquo;, etc. constructs of the OCL vocabulary.  These bindings, then,
					support persistence in or as an adjunct to Ecore and UML models.</p>
<p>For processing the abstract syntax tree (AST) parsed from OCL text, the API
					supplies a 

					<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/utilities/Visitor.html" target="_new">
						<code class="code">Visitor</code>
					</a> 
					interface.  By implementing this interface (or extending the

					<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/utilities/AbstractVisitor.html" target="_new">
						<code class="code">AbstractVisitor</code>
					</a> 
					class, which is recommended), we can walk the AST of an OCL expression to
					transform it in some way.
					This is exactly what the interpreter, itself, does to evaluate an
					expression:  it just walks the expression using an evaluation visitor.  For
					example, we can count the number times that a specific attribute is
					referenced in an expression:
				</p>
<div class="literallayout">
<p>
<code class="code">helper.setContext(EXTLibraryPackage.Literals.BOOK);<br>

<br>
OCLExpression&lt;EClassifier&gt;&nbsp;query&nbsp;=&nbsp;helper.parseQuery(<br>
&nbsp;&nbsp;&nbsp;&nbsp;"Book.allInstances()-&gt;select(b&nbsp;:&nbsp;Book&nbsp;|&nbsp;b&nbsp;&lt;&gt;&nbsp;self&nbsp;and&nbsp;b.title&nbsp;=&nbsp;self.title)");<br>

<br>
AttributeCounter&nbsp;visitor&nbsp;=&nbsp;new&nbsp;AttributeCounter(<br>
&nbsp;&nbsp;&nbsp;&nbsp;EXTLibraryPackage.Literals.BOOK__TITLE);<br>

<br>
System.out.println(<br>
&nbsp;&nbsp;&nbsp;&nbsp;"Number&nbsp;of&nbsp;accesses&nbsp;to&nbsp;the&nbsp;'Book::title'&nbsp;attribute:&nbsp;"&nbsp;+&nbsp;query.accept(visitor));<br>

</code>
</p>
</div>
<p></p>
<p>where the visitor is defined thus:</p>
<div class="literallayout">
<p>
<code class="code">class&nbsp;AttributeCounter&nbsp;extends&nbsp;AbstractVisitor&lt;Integer,<br>
		EClassifier,&nbsp;EOperation,&nbsp;EStructuralFeature,&nbsp;EEnumLiteral,<br>
		EParameter,&nbsp;EObject,&nbsp;EObject,&nbsp;EObject,&nbsp;Constraint&gt;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;final&nbsp;EAttribute&nbsp;attribute;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;AttributeCounter(EAttribute&nbsp;attribute)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(0);&nbsp;&nbsp;//&nbsp;initialize&nbsp;the&nbsp;result&nbsp;of&nbsp;the&nbsp;AST&nbsp;visitiation&nbsp;to&nbsp;zero<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.attribute&nbsp;=&nbsp;attribute;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;Integer&nbsp;handlePropertyCallExp(PropertyCallExp&lt;EClassifier,&nbsp;EStructuralFeature&gt;&nbsp;callExp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;		Integer&nbsp;sourceResult,&nbsp;List&lt;Integer&gt;&nbsp;sourceResults)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(callExp.getReferredProperty()&nbsp;==&nbsp;attribute)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;count&nbsp;one<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result++;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}<br>

</code>
</p>
</div>
<p></p>
</div>
<div class="section" title="Serialization">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="Serialization"></a>Serialization</h3>
</div>
</div>
</div>
<p>Because the OCL expression AST is a graph of EMF objects, we can serialize it
					to an XMI file and deserialize it again later.  To save our example expression,
					we start over by initializing our 
					<code class="code">OCL</code> instance with
					a resource in which it will persist the environment and in which we will
					persist the parsed expression.  The key is in the persistence of the
					environment:  OCL defines a variety of classes on the fly by template
					instantiation.  These include collection types, tuple types, and message types.
					Other elements needing to be persisted are additional operations and attributes
					that may be defined in the local environment.
				</p>
<div class="literallayout">
<p>
<code class="code">//&nbsp;create&nbsp;a&nbsp;resource&nbsp;in&nbsp;which&nbsp;to&nbsp;store&nbsp;our&nbsp;parsed&nbsp;OCL&nbsp;expressions&nbsp;and&nbsp;constraints<br>
Resource&nbsp;res&nbsp;=&nbsp;resourceSet.createResource(<br>
&nbsp;&nbsp;&nbsp;&nbsp;URI.createPlatformResourceURI("/MyProject/myOcl.xmi",&nbsp;true);<br>

<br>
//&nbsp;initialize&nbsp;a&nbsp;new&nbsp;OCL&nbsp;environment,&nbsp;persisted&nbsp;in&nbsp;this&nbsp;resource<br>
ocl&nbsp;=&nbsp;OCL.newInstance(EcoreEnvironmentFactory.INSTANCE,&nbsp;res);<br>

<br>
//&nbsp;for&nbsp;the&nbsp;new&nbsp;OCL&nbsp;environment,&nbsp;create&nbsp;a&nbsp;new&nbsp;helper<br>
helper&nbsp;=&nbsp;OCL.createOCLHelper();<br>

<br>
helper.setContext(EXTLibraryPackage.Literals.BOOK);<br>

<br>
//&nbsp;try&nbsp;a&nbsp;very&nbsp;simple&nbsp;expression<br>
OCLExpression&lt;EClassifier&gt;&nbsp;query&nbsp;=&nbsp;helper.createQuery("self.title");<br>

<br>
//&nbsp;store&nbsp;our&nbsp;query&nbsp;in&nbsp;this&nbsp;resource.&nbsp;&nbsp;All&nbsp;of&nbsp;its&nbsp;necessary&nbsp;environment&nbsp;has<br>
//&nbsp;already&nbsp;been&nbsp;stored,&nbsp;so&nbsp;we&nbsp;insert&nbsp;the&nbsp;query&nbsp;as&nbsp;the&nbsp;first&nbsp;resource&nbsp;root<br>
res.getContents().add(0,&nbsp;query);<br>

<br>
res.save(Collections.emptyMap());<br>
res.unload();<br>

</code>
</p>
</div>
<p></p>
<p>To load a saved OCL expression is just as easy:</p>
<div class="literallayout">
<p>
<code class="code">Resource&nbsp;res&nbsp;=&nbsp;resourceSet.getResource(<br>
&nbsp;&nbsp;&nbsp;&nbsp;URI.createPlatformResourceURI("/MyProject/myOcl.xmi",&nbsp;true),<br>
&nbsp;&nbsp;&nbsp;&nbsp;true;<br>

<br>
@SuppressWarnings("unchecked")<br>
OCLExpression&lt;EClassifier&gt;&nbsp;query&nbsp;=&nbsp;(OCLExpression&lt;EClassifier&gt;)&nbsp;res.getContents().get(0);<br>

<br>
System.out.println(ocl.evaluate(myBook,&nbsp;query));<br>

</code>
</p>
</div>
<p></p>
<p>In the snippet above, we used the 
					<code class="code">OCL</code>'s convenience
					method for a one-shot evaluation of a query.  Looking at the contents of the
					XMI document that we saved, we see that the 
					<code class="code">self</code>
					variable declaration is not owned by the query expression, but is, rather,
					free-standing.  The 
					<code class="code">ExpressionInOCL</code> metaclass solves
					this problem by providing properties that contain context variable declarations,
					including 
					<code class="code">self</code> and (in the context of operations)
					operation parameters. 
				</p>
<div class="literallayout">
<p>
<code class="code">&lt;?xml&nbsp;version="1.0"&nbsp;encoding="ASCII"?&gt;<br>
&lt;xmi:XMI&nbsp;xmi:version="2.0"&nbsp;xmlns:xmi="http://www.omg.org/XMI"&nbsp;xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&nbsp;xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore"&nbsp;xmlns:ocl.ecore="http://www.eclipse.org/ocl/1.1.0/Ecore"&gt;<br>
&nbsp;&nbsp;&lt;ocl.ecore:PropertyCallExp&nbsp;xmi:id="_897fVPfmEduCQ48h829a5g"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;eType&nbsp;xsi:type="ocl.ecore:PrimitiveType"&nbsp;href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;source&nbsp;xsi:type="ocl.ecore:VariableExp"&nbsp;xmi:id="_897fVvfmEduCQ48h829a5g"&nbsp;name="self"&nbsp;referredVariable="_897fUvfmEduCQ48h829a5g"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;eType&nbsp;xsi:type="ecore:EClass"&nbsp;href="http:///org/eclipse/emf/examples/library/extlibrary.ecore/1.0.0#//Book"/&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;referredProperty&nbsp;xsi:type="ecore:EAttribute"&nbsp;href="http:///org/eclipse/emf/examples/library/extlibrary.ecore/1.0.0#//Book/title"/&gt;<br>
&nbsp;&nbsp;&lt;/ocl.ecore:PropertyCallExp&gt;<br>
&nbsp;&nbsp;&lt;ocl.ecore:Variable&nbsp;xmi:id="_897fUvfmEduCQ48h829a5g"&nbsp;name="self"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;eType&nbsp;xsi:type="ecore:EClass"&nbsp;href="http:///org/eclipse/emf/examples/library/extlibrary.ecore/1.0.0#//Book"/&gt;<br>
&nbsp;&nbsp;&lt;/ocl.ecore:Variable&gt;<br>
&lt;/xmi:XMI&gt;<br>

</code>
</p>
</div>
<p></p>
</div>
<div class="section" title="Summary">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="Summary3"></a>Summary</h3>
</div>
</div>
</div>
<p>To illustrate how to work with the OCL API, we</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>Parsed and validated OCL expressions and constraints.</p>
</li>
<li class="listitem">
<p>Evaluated OCL query expressions and constraints.</p>
</li>
<li class="listitem">
<p>Obtained content-assist suggestions for the completion of OCL expressions.</p>
</li>
<li class="listitem">
<p>Transformed an OCL expression AST using the 
							<span class="emphasis"><em>Visitor</em></span> pattern.
						</p>
</li>
<li class="listitem">
<p>Saved and loaded OCL expressions to/from XMI resources.</p>
</li>
</ul>
</div>
</div>
</div>
</body>
</html>
<html id='0007.language.html'></html><!DOCTYPE html>
<html lang="en">
<!--
/********************************************************************************
** Copyright (c) 2012 Obeo.
** All rights reserved. This program and the accompanying materials
** are made available under the terms of the Eclipse Public License v1.0
** which accompanies this distribution, and is available at
** http://www.eclipse.org/legal/epl-v10.html
**
** Contributors:
**    Stephane Begaudeau (Obeo) - initial API and implementation
*********************************************************************************/
-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="St&eacute;phane B&eacute;gaudeau">    

    <!-- IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <link href="../../assets/css/bootstrap.css" rel="stylesheet">
    <link href="../../assets/css/docs.css" rel="stylesheet">
    
    <title>Acceleo</title>
  </head>
  <body>
    <div class="container">
      <section id="project">
        <div class="page-header">
          <h1>Acceleo Project <small>where everything is contained</small></h1>
        </div>
        <p>
          The Acceleo project can be created thanks to the new Acceleo project wizard available from the "File -> New -> Project..."
          menu. An Acceleo project is a Java project and an Eclipse plug-in project, as such an Acceleo project contains by default
          a source folder named "src" and a matching output folder named "bin". It is recommended to follow the naming convention
          of Eclipse plug-in projects to name your Acceleo project (ex: org.eclipse.acceleo.examples.uml2java) and the root package
          of the source files should use this project name (ex: org.eclipse.acceleo.examples.uml2java).
        </p>
        <p>
          Inside the Acceleo project, the file used for the generation, which are named "modules", should be placed in the Java
          packages just like Java classes. This behavior is the default behavior of Acceleo wizards.
        </p>
      </section>
      
      <section id="module">
        <div class="page-header">
          <h1>Module <small>the files of the generator</small></h1>
        </div>
        <p>
          An Acceleo generator is composed of several files named modules. A module is parameterized by the URIs of the meta-models
          instantiating the models that you want to generate code from. Here you can see a module parameterized by the URI of the
          Ecore meta-model.
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore')/]</pre>
        <p>
          An Acceleo module can extend another one in order to gain access to its public and protected elements. Acceleo modules
          contains two kind of elements: templates, that are generating the code, and queries, that are used to encapsulate complex
          expressions. Only single inheritance is supported in Acceleo.
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore') extends org::eclipse::acceleo::examples::uml2java::otherModule/]</pre>
        <p>
          A module can also imports other modules to access their public elements.
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore')/]
  [import org::eclipse::acceleo:examples::uml2java::otherModule/]</pre>
        
        <p>
          It is recommended to use mostly "imports" and to keep "extends" for dynamic overriding which will be detailed below.
        </p>
        <br />
      </section>
      
      <section id="template">
        <div class="page-header">
          <h1>Template <small>generating the code</small></h1>
        </div>
        <p>
          Templates are the most used structure in Acceleo as they are used to directly generate the code. You can have a look at the
          basic signature of an Acceleo module with one template.
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore')/]
  [template public genMyTemplate(aParam: EClass)]
  [/template]</pre>
        <p>
          As you can see it, a template has a visibility (public | protected | private) with a scope similar to the visibility in
          object oriented programming languages. After the visibility, you can find the name of the template and its parameters. The
          parameters are declared following this convention "&lt;name&gt;: &lt;type&gt;". It is recommended to name your parameters
          with the following convention "a&lt;Type&gt;". The type of the parameter must be one of the following:
        </p>
        <ul>
          <li>Types provided by the meta-model (ex: Class, Property, Operation... for UML)</li>
          <li>Default types from OCL like Boolean, String, Integer, OclAny (common super-type of all concepts)</li>
        </ul>
        <p>
          Inside of a template you can use two kind of expressions to generate the code, first, static expressions that will be
          generated without any transformations and Acceleo expressions that will use model elements to compute the generate text.
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore')/]
  [template public genMyTemplate(aParam: EClass)]
  this is a static piece of code
  [aParam.name/]
  [/template]</pre>
        <p>
          In the previous example, you can see the static piece of code and the Acceleo expression that will generate some text by
          using the name of the instance of EClass passed as an argument during the execution of the generator.
        </p>
        <p>
          A template can also have a guard that will make sure that the template is executed only if the guard is validated.
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore')/]
  [template public genMyTemplate(aParam: EClass) ? (not aParam.isAbstract)]
  [/template]</pre>
        <p>
          A template can also have a post condition that will be executed on the result of the execution of the template. You can for
          example, trim the result of the execution of the template easily.
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore')/]
  [template public genMyTemplate(aParam: EClass) post(trim())]
  [/template]</pre>
        <p>
          A template can also let you initialize new variable in order to create a richer context.
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore')/]
  [template public genMyTemplate(aParam: EClass) {aName: String = aParam.name; abstract: Boolean = aParam.isAbstract;}]
  [/template]</pre>
        <p>
          Finally, a template can also override another template if this template is coming from a module extended by the current
          module.
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore') extends org::eclipse::acceleo::examples::uml2java::otherModule/]
  [template public genMyTemplate(aParam: EClass) overrides myTemplate]
  [/template]</pre>
        <p>
          Overriding in Acceleo does <b>not</b> behave in the same way as it does in most object oriented programming (Acceleo is not
          object oriented). If a module A imports a module B that extends C and if the module C defines a template tC overridden in
          the module B and the module C also defines a template tC1 that calls tC. If from the module A we are calling tC1, in Java
          and in most object oriented programming this call to tC1 would call tC in the module B since it is overridden and even if
          tC1 is only located in the module C we are still in the context of a module B but in Acceleo the overriding mechanism does
          not provide additional dispatch. It only ensure that if two templates are accessible and if one override the other, the
          overriding one is called. The overriding mechanism should mainly be used for dynamic overriding (explained later). 
        </p>
        
        <br />
        
        <h2>Main template</h2>
        <p>
          A main template is an entry point of the generation, it is characterized by the presence of the comment "@main" in its body.
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore')/]
  [template public genMyTemplate(aParam: EClass)]
  [comment @main/]
  [aParam.doSomething()/]
  [/template]</pre>
        <p>
          The presence of this comment will make Acceleo generate a Java class in order to start the generation with this template. The
          Acceleo wizards let you create a new module with a main template if you want. If you want to "transform" a template to a main
          template, you just need to add this comment. If you remove it, the Java class generated will not be synchronized with the
          Acceleo module anymore so if you change the name of the template and try to use the Java launcher again, it will not work.
        </p>
        <p>
          We will try to launch the generation of your template on all model elements that are matching the type required by the parameter
          of your main template, in the previous example where the main template requires an instance of "EClass", we will navigate in the
          whole model to find all the available "EClass" to use them as argument. While powerful, this mechanism is not without any
          impacts on the performances of the generation. We recommend that you use as the type of the parameter of your main template the
          type of the root element of your models. In the case of a module defined for the meta-model Ecore, we would use the concept
          EPackage and transform the previous module in the following module
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore')/]
  [template public genMyTemplate(aParam: EPackage)]
  [comment @main/]
  [aParam.eAllContents(EClass).doSomething()/]
  [/template]</pre>
        <div class="alert alert-info">
          <strong>Tips and tricks:</strong> The generated Java launcher has been created to let you override pretty much every parts of its
          behavior, as such you can change all the details of the previously explained mechanism.
        </div>
        <p>
          You can define multiple main templates in one or several modules if you want even if we recommend to only have one main template
          defined on the type of the root of your models.
        </p>
        <div class="alert alert-info">
          <strong>Tips and tricks:</strong> Main modules should be located in the ".main" package
        </div>
        
        <br />
        
        <h2>Generating Files</h2>
        <p>
          Some templates can use the "file block" to generate files.
        </p>
        <pre>
  [module randomJavaFile('http://www.eclipse.org/emf/2002/Ecore')/]
  [template public genRandomJavaFile(aParam: EPackage)]
  [file ('myFile.java', false, 'UTF-8')]
  Hello World
  [/file]  
  [/template]</pre>
        <div class="alert alert-info">
          <strong>Tips and tricks:</strong> Only templates can create files.
        </div>
        <p>
          The file block contains three parameters:
        </p>
        <ul>
          <li>An expression returning a string for the name of the file</li>
          <li>A boolean indicating if existing files should be overwritten or if the newly generated content should be appended at the end of the existing file</li>
          <li>The encoding of the file</li>
        </ul>
        <p>
          The expression computing the name of the file can be a static string ('myFile.txt'), or a more complex expression using model
          elements (aParam.name + '.txt') or even the result of a template or a query (returning a string). We do recommend to use a
          template to define the name of the file as you even need to make references from one file to the other and being able to use
          a template to calculate the path of a file generated for a given object can help.
        </p>
        <pre>
  [module randomJavaFile('http://www.eclipse.org/emf/2002/Ecore')/]
  [template public genRandomJavaFile(aParam: EPackage)]
  [file (aParam.genRandomJavaFilePath(), false, 'UTF-8')]
  Hello World
  [/file]  
  [/template]
  
  [template public genRandomJavaFilePath(aParam: EPackage)]
  src/[aParam.genPackagePath()/]/[aParam.name.toUpperFirst()/].java
  [/template]</pre>
        <div class="alert alert-info">
          <strong>Tips and tricks:</strong> You can use a prefix to separate easily your public templates and queries from your private
          and protected ones. Here we often use the prefix "gen" for public templates and "req" for public queries. Try to keep your API
          minimal by using a maximum of private and protected templates and queries as it helps with the maintenance, the evolution and the
          performances of your generator.
        </div>
        
        <p>
          The second parameter of the file block is a boolean determining if existing files should be overwritten. If set to false (default
          behavior) existing files will be overwritten, if set to true, the content will be generated at the end of the existing file. 
        </p>
        
        <p>
          We are <b>strongly</b> recommending to only have one template generating a file in a given module as we recommended to have one module
          to generate one kind of file. This does not mean, that you should have one module to generate all Java files but you should
          separate your modules to keep your domain separated and have something like this:
        </p>
        <ul>
          <li>org::eclipse::acceleo::module::sample::main::mainModule</li>
          <li>org::eclipse::acceleo::module::sample::files::userInterfaceJavaFile</li>
          <li>org::eclipse::acceleo::module::sample::files::databaseAdapterJavaFile</li>
          <li>org::eclipse::acceleo::module::sample::files::controllerfaceJavaFile</li>
          <li>org::eclipse::acceleo::module::sample::files::defaultPropertiesFile</li>
          <li>org::eclipse::acceleo::module::sample::files::adminJsFile</li>
        </ul>
        <p>
          We recommended that you follow this naming convention for the name of your modules generating files: "&lt;goal&gt;&lt;extension&gt;File".
          With this convention it is easier for newcomers to help you maintain and use your generator since it is easy to figure out what is
          generated by a given module.
        </p>
        
        <div class="alert alert-info">
          <strong>Tips and tricks:</strong> Modules generating files should be located in the ".files" package. Do not hesitate to create sub-packages within
          if you need it.
        </div>
        
        <br />
        
        <h2>Structures</h2>
        <p>
          Acceleo templates can use Acceleo expressions to manipulate model elements. Acceleo expressions are based on a superset of
          the OCL language. In order to improve the development of Acceleo generators, Acceleo templates can contain several kinds
          of structures.
        </p>
        
        <br />
        
        <h3>If</h3>
        <p>
          Acceleo template can use if blocks to specify blocks of code that should be executed only if a given condition is fulfilled.
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore')/]
  [template public genMyTemplate(aParam: EClass)]
  [if (aParam.isAbstract)]
  [elseif(not aParam.isAbstract)]
  [else]
  [/if]
  [/template]</pre>
        
        <h3>For</h3>
        <p>
          A for block is also available to iterate on collections.
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore')/]
  [template public genMyTemplate(aParam: EClass)]
  [for (anAttribute: EAttribute | aParam.eAllAttributes())]
  [anAttribute.name/]
  [/for]
  [/template]</pre>
        <p>
          For blocks can also define a separator to generate code between each iterations and a prefix and suffix.
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore')/]
  [template public genMyTemplate(aParam: EClass)]
  [for (anAttribute: EAttribute | aParam.eAllAttributes()) before('prefix') separator(', ') after('suffix')]
  [anAttribute.name/]
  [/for]
  [/template]</pre>
        <p>
          For blocks are also defining a variable named "i". This variable is the iterator of the block. This variable is only
          accessible in the body of the for block and in the separator expression. In the body expression, this variable would
          always have the value "1" and in the after expression, the value would always be the size of the expression initializing
          the iteration. Since this variable is representing the index of the element in the collection initializing the iterator
          of the loop, its value will always start at <strong>1</strong>.
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore')/]
  [template public genMyTemplate(aParam: EClass)]
  [for (anAttribute: EAttribute | aParam.eAllAttributes())]
  Name: [anAttribute.name/] Index: [i/]
  [/for]
  [/template]</pre>
        <div class="alert alert-info">
          <strong>Tips and tricks:</strong> The code in the separator will be called before each turn only if the turn has a
          preceding turn. If you are using the variable "i" inside of the separator expression, the first value of "i" will be
          "2" as it will be called at the beginning of the second turn. It is not called at the end of a turn but at the beginning
          of the next iteration.
        </div>
        
        <h3>Let</h3>
        <p>
          A let block can let you define a variable inside of your template.
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore')/]
  [template public genMyTemplate(aParam: EClass)]
  [let anAttribute : EAttribute = aParam.eAllAttributes()->first()]
  [anEAttribute.name/]
  [/let]
  [/template]</pre>
        <p>
          The let block is only executed if and only if the result of the expression, here "aParam.eAllAttributes()->first()" can be
          affected to the initialization variable, here "anAttribute : EAttribute". To test several possibilities, you can use elselet
          blocks
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore')/]
  [template public genMyTemplate(aParam: EClass)]
  [let anAttribute : EAttribute = aParam.eAllAttributes()->first()]
  [elselet aReference : EReference = aParam.eAllReferences()->first()]
  [else]
  [/let]
  [/template]</pre>
        <div class="alert alert-info">
          <strong>Tips and tricks:</strong> A let block in Acceleo can be seen as an equivalent to the Java code
          "if (x instanceof Type) { Type var = (Type)x; ...}"
        </div>
        
        <br />
      </section>
      
      <section id="query">
        <div class="page-header">
          <h1>Query <small>encapsulating utility expressions</small></h1>
        </div>
        <p>
          Queries are used to define complex expressions that can be used quickly at several locations in the generator.
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore')/]
  [query reqMyQuery(aParam: EClass) : String = aParam.name/]</pre>
        <p>
          The result of a query is stored in a cache, this way you can call several time the same query with the same parameters and
          the result will be only computed once.
        </p>
        <div class="alert alert-info">
          <strong>Tips and tricks:</strong> Using an operation like "eAllContents" of "eAllContents(OclType)" in a query can
          dramatically improve performances compared to using it several times in a template since these two operations are
          literally navigating on every single elements of the model contained in the element on which these operations are called. 
        </div>
      </section>
      
      <section id="additional">
        <div class="page-header">
          <h1>Additional Concepts <small>elements to improve your generator</small></h1>
        </div>
        <p>
          Acceleo features other mechanisms like dynamic overriding, properties files or even the ability to call Java services.
        </p>
        
        <h2>Dynamic Overriding</h2>
        <p>
          Acceleo let you register a generator that can dynamically override an existing generator, with this mechanism you can change
          the behavior of an already deployed generator without any changes to this generator. In order to override dynamically a
          template, follow those steps:
        </p>
        <ul>
          <li>create a new generator</li>
          <li>add the original generator as a dependency in the dependencies tab of the MANIFEST.MF</li>
          <li>create a new module extending a module from the original generator</li>
          <li>overrides one of its template</li>
          <li>open the MANIFEST.MF go to the extension tab and add an extension using the extension point
          "org.eclipse.acceleo.engine.dynamic.templates"</li>
          <li>Click on the browse button and select your source folder (src) or a subfolder if you don't want to use all the
          modules from your new generator</li>
          <li>Right click on the label "org.eclipse.acceleo.engine.dynamic.templates" and add a "generator"</li>
          <li>Enter the plug-in ID of the generator that you want to override dynammically here (ex: org.eclipse.acceleo.examples.uml2java)</li>
          <li>Deploy the new generator in the Eclipse instance containing the old one and your done</li>
        </ul>
        
        <h2>Properties Files</h2>
        <p>
          Properties files are standard Java ".properties" files that can be loaded by an Acceleo generator to customize a
          generation. In order to use a properties file in your generator, you have to reference it in the method
          "getProperties()" of your Java launcher and then to use the loaded properties in your generator.
        </p>
        <p>
          In the method "getProperties()", you have to return a collection of the path of the properties files that you want
          to use. There are four ways to referenced a properties files:
        </p>
        <a href="../../assets/img/reference/propertiesFiles.png"><img src="../../assets/img/reference/propertiesFiles.png"></a>
        <ul>
          <li>
            You can just return the name of the properties files, example: "default_0.properties". With this, Acceleo will
            look for any file named default_0.properties in the generator and load the properties from the first file found
            with this name.
          </li>
          <li>
            You can also enter the path of a specific properties file located in your generator, example:
            "/org/eclipse/acceleo/module/sample/properties/default_1.properties". With this path, Acceleo will look for a
            properties files with the name "default_1.properties" in the folder "/org/eclipse/acceleo/module/sample/properties/"
            in your generator.
          </li>
          <li>
            You can also referenced a properties files located in another Eclipse plugin by using the url of the properties files
            in the other plugin. In order to do that, you need to construct the path with the following convention:
            "platform:/plugin/<plugin name>/<path in the plugin>". 
            Example: "platform:/plugin/org.eclipse.module.sample2/org/eclipse/acceleo/module/sample2/default_3.properties".
            The other plugin needs to be deployed in Eclipse or it needs to be a dependency of the first generator.
          </li>
          <li>
            Finally, you can also use an absolute path in the filesystem as a reference to a properties file. Example:
            "C:\Users\sbegaudeau\Desktop\default_4.properties". You can also use the utility method
            org.eclipse.acceleo.engine.utils.AcceleoEngineUtils#getPropertiesFilesNearModel to compute the absolute path
            of the properties files in the same folder as the model. With this method, we can have the path of the file default_5.properties.
          </li>
        </ul>
        <p>
          In order to use a properties files located in an Eclipse plugin (all Acceleo generators are Eclipse plugins) you have to
          make sure that the file is included in the build of your generator, by either placing it in a source folder or by adding
          it to your build in the build.properties file located at the root of your generator.
        </p>
        <p>
          Now that you know how to load a properties file, you need to use it in your generator. In order to do that, you can use
          one of the four following operations:
        </p>
        <a href="../../assets/img/reference/propertiesFilesUse.png"><img src="../../assets/img/reference/propertiesFilesUse.png"></a>
        <ul>
          <li>
            "getProperty('myProperty')" will return the value of the property with the key "myProperty". Several properties
            files can have properties that share the same key, only the first one found will be returned with this method.
          </li>
          <li>
            "getProperty('default_1.properties', 'myProperty')" will return the value of the property with the key "myProperty"
            from the file "default_1.properties").
          </li>
          <li>
            "getProperty('myProperty', Sequence{'my name'})" will return the value of the property with the key "myProperty"
            parameterized with the value in the sequence.
          </li>
          <li>
            "getProperty('default_3.properties', 'myProperty', Sequence{'my name'})" will return the value of the property
            with the key "myProperty" parameterized with the value in the sequence from the file "default_3.properties".
          </li>
        </ul>
        <p>
          You can see the result of the generation in the following screenshot.
        </p>
        <a href="../../assets/img/reference/propertiesFilesResult.png"><img src="../../assets/img/reference/propertiesFilesResult.png"></a>
        
        <br />
        <br />
        
        <h2>Java Services</h2>
        <p>
          You can call Java services from a template or a query, yet calling them from queries is recommended. Here is an example
          of a call to a Java service from a query.
        </p>
        <pre>
  [module moduleName('http://www.eclipse.org/emf/2002/Ecore')/]
  [query reqMyQuery(aParam: EClass) : String = 
    invoke('org.eclipse.acceleo.examples.uml2java.MyJavaClass', 'myMethod(org.eclipse.emf.ecore.EClass)', Sequence{aParam})
  /]</pre>
        <p>
          You can see that we will call the operation "myMethod" from the class "MyJavaClass" with the argument "aParam".
        </p>
        <p>
          If your Java service is returning a collection, the return type of your query should match the type of the return type of
          your collection. We are recommending that in the case of a Java service returning an ArrayList<Type>, you should use a
          Sequence(Type) and if you a returning a LinkedHashSet<type>, you should use an OrderedSet(Type). 
        </p>
        
        <br />
        <br />
      </section>
      
      <footer class="footer">
        <p>
          The material in these guides are Copyright (c) 2008, 2012 Obeo. This material is available under the Eclipse Public License v1.0
        </p>
      </footer>
    </div>
  </body>
</html>
<html id='2896.org_eclipse_ui_handlers.html'></html><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Handlers</title>
<style type="text/css">@import url("../../book.css");</style>
<style type="text/css">@import url("../../schema.css");</style>
</HEAD>
<BODY>
<H1 style="text-align:center">Handlers</H1>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Identifier: </h6>org.eclipse.ui.handlers<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Since: </h6>3.1
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">Description: </h6><p>
The handlers extension point is an elaboration of the experimental <code>handlerSubmission</code> element defined in Eclipse 3.0.  A handler is the behaviour of a command at a particular point in time.  A command can have zero or more handlers associated with it.  At any one point in time, however, a command will either have no active handler or one active handler.  The active handler is the one which is currently responsible for carrying out the behaviour of the command.  This is very similar to the concept of an action handler and a retargettable action.
</p>
<p>
The handlers extension point allows a plug-in developer to specify a handler that should become active and/or enabled under certain conditions.  If a handler is inactive, then no command will delegate its behaviour to the handler.  If a handler is disabled, then the handler will not be asked to execute; execution of the handler is blocked.  The conditions are defined using the expression language facility added during 3.0.  They are expressed using <code>activeWhen</code> and <code>enabledWhen</code> clauses.
</p>
<p>
The workbench provides some variables that these expressions can rely on.  Variables that are valid in activeWhen and enabledWhen expressions can be found in <code>org.eclipse.ui.ISources</code>.  The types of the variables are determined by the <code>org.eclipse.ui.ISourceProvider</code> that provides them.
</p>
<p>
A handler that specifies no conditions is a default handler.  A default handler is only active if no other handler has all of its conditions satisfied.  If two handlers still have conditions that are satisfied, then the conditions are compared.  The idea is to select a handler whose condition is more specific or more local.  To do this, the variables referred to by the condition are looked at.  The condition that refers to the most specific variable "wins".  The order of specificity (from least specific to most specific) is suggested in <code>org.eclipse.ui.ISources</code>.
</p>
<p>
If this still doesn't resolve the conflict, then no handler is active.  If a particular tracing option is turned on, then this leads to a message in the log.  A conflict can also occur if there are two default handlers.  It is the responsibility of the plug-in developers and integration testers to ensure that this does not happen.
</p>
<p>
These conditions are used to avoid unnecessary plug-in loading.  These handler definitions are wrapped in a proxy.  For a proxy to load its underlying handler, two things must happen: the conditions for the proxy must be met so that it becomes active, and the command must be asked to do something which it must delegate (e.g., execute(), isEnabled()).
</p><p>
</p>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Configuration Markup:</h6>
<p></p>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.handler">handler</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST extension</p>
<p class="code SchemaDtdAttlist">point&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class="ConfigMarkupAttlistDesc">
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.handler">handler</a> (<a href="#e.activeWhen">activeWhen</a>? , <a href="#e.class">class</a>? , <a href="#e.enabledWhen">enabledWhen</a>?)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST handler</p>
<p class="code SchemaDtdAttlist">commandId&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDREF #REQUIRED</p>
<p class="code SchemaDtdAttlist">class&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">helpContextId&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>Associated a command with a handler implementation.</p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>commandId</b> - <p>The id of the command to associate with this handler implementation.</p></li>
<li><b>class</b> - <p>The handler class that imlements <code>org.eclipse.core.commands.IHandler</code> or extends <code>org.eclipse.core.commands.AbstractHandler</code>.</p></li>
<li><b>helpContextId</b> - <p>
The identifier of the help context that relates to this specific handler.  While a command can provide a general description of a command's behaviour, it is sometimes appropriate for a handler to provide help more specific to their implementation.
</p>
<p><em>Since: 3.2</em></p></li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.activeWhen">activeWhen</a> (<a href="#e.not">not</a> | <a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.instanceof">instanceof</a> | <a href="#e.test">test</a> | <a href="#e.systemTest">systemTest</a> | <a href="#e.equals">equals</a> | <a href="#e.count">count</a> | <a href="#e.with">with</a> | <a href="#e.resolve">resolve</a> | <a href="#e.adapt">adapt</a> | <a href="#e.iterate">iterate</a> | <a href="#e.reference">reference</a>)&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>Contains a core expression used by the <code>IHandlerService</code> to determine when this handler is active.</p></div>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.enabledWhen">enabledWhen</a> (<a href="#e.not">not</a> | <a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.instanceof">instanceof</a> | <a href="#e.test">test</a> | <a href="#e.systemTest">systemTest</a> | <a href="#e.equals">equals</a> | <a href="#e.count">count</a> | <a href="#e.with">with</a> | <a href="#e.resolve">resolve</a> | <a href="#e.adapt">adapt</a> | <a href="#e.iterate">iterate</a> | <a href="#e.reference">reference</a>)&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>Contains a core expression used by the workbench handler proxy to determine when this handler is enabled without loading it.</p></div>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.class">class</a> (<a href="#e.parameter">parameter</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST class</p>
<p class="code SchemaDtdAttlist">class&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>Used when creating an <code>IExecutableExtension</code> with a named parameter, or more than one.</p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - <p>The handler class that imlements <code>org.eclipse.core.commands.IHandler</code> or extends <code>org.eclipse.core.commands.AbstractHandler</code>.</p></li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.parameter">parameter</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST parameter</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>A parameter for an <code>IExecutableExtension</code>.</p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - <p>The parameter name.</p></li>
<li><b>value</b> - <p>The parameter value.</p></li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.enablement">enablement</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A generic root element. The element can be used inside an extension point to define its enablement expression.
            The children of an enablement expression are combined using the "and" operator.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.not">not</a> (<a href="#e.not">not</a> | <a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.instanceof">instanceof</a> | <a href="#e.test">test</a> | <a href="#e.systemTest">systemTest</a> | <a href="#e.equals">equals</a> | <a href="#e.count">count</a> | <a href="#e.with">with</a> | <a href="#e.resolve">resolve</a> | <a href="#e.adapt">adapt</a> | <a href="#e.iterate">iterate</a> | <a href="#e.reference">reference</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represents a NOT operation on the result of evaluating its sub-element expression.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.and">and</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represents an AND operation on the result of evaluating all its sub-elements expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.or">or</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represent an  OR operation on the result of evaluating all its sub-element expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.instanceof">instanceof</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST instanceof</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to perform an instanceof check of the object in focus. The expression returns
            EvaluationResult.TRUE if the object's type is a sub type of the type specified by the attribute value.
            Otherwise EvaluationResult.FALSE is returned.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>value</b> - a fully qualified name of a class or interface.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.test">test</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST test</p>
<p class="code SchemaDtdAttlist">property&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">args&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">forcePluginActivation&nbsp;(true | false) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the property state of the object in focus. The set of testable properties can be extended using the <b>org.eclipse.core.expressions.propertyTesters</b> extension point. The test expression returns EvaluationResult.NOT_LOADED if the property tester doing the actual testing isn't loaded yet and the attribute forcePluginActivation is set to false.  If forcePluginActivation is set to true and the evaluation context used to evaluate this expression support plug-in activation then evaluating the property will result in activating the plug-in defining the tester.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>property</b> - the name of an object's property to test.</li>
<li><b>args</b> - additional arguments passed to the property tester. Multiple arguments are separated
                  by commas. Each individual argument is converted into a Java base type using the same
                  rules as defined for the value attribute of the test expression.</li>
<li><b>value</b> - the expected value of the property. Can be omitted if the property 
                  is a boolean property (value will be Boolean.TRUE). The test expression is supposed to return
EvaluationResult.TRUE if the property matches the value and EvaluationResult.FALSE
otherwise. The value attribute is converted into a Java base type using the following
rules:
<ul>
 <li>the string &quot;true&quot; is converted into Boolean.TRUE</li>
 <li>the string &quot;false&quot; is converted into Boolean.FALSE</li>
 <li>if the string contains a dot then the interpreter tries to convert
 the value into a Float object. If this fails the string is treated as a
 java.lang.String</li>
 <li>if the string only consists of numbers then the interpreter
 converts the value into an Integer object.</li>
 <li>in all other cases the string is treated as a java.lang.String</li>
 <li>the conversion of the string into a Boolean, Float, or Integer can
 be suppressed by surrounding the string with single quotes. For
 example, the attribute value=&quot;'true'&quot; is converted into the
 string &quot;true&quot;</li>
</ul></li>
<li><b>forcePluginActivation</b> - a flag indicating whether the plug-in contributing the property tester
                  should be loaded if necessary. As such, this flag should be used judiciously, 
                  in order to avoid unnecessary plug-in activations. Most clients should avoid
                  setting this flag to true. This flag is only honored if the evaluation context
                  used to evaluate this expression allows plug-in activation. Otherwise the flag
                  is ignored and no plug-in loading takes place.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.systemTest">systemTest</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST systemTest</p>
<p class="code SchemaDtdAttlist">property&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Tests a system property by calling the System.getProperty method and compares the result
            with the value specified through the value attribute.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>property</b> - the name of an system property to test.</li>
<li><b>value</b> - the expected value of the property. The value is interpreted as a string value.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.equals">equals</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST equals</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to perform an equals check of the object in focus. The expression returns
            EvaluationResult.TRUE if the object is equal to the value provided by the attribute value. Otherwise
            EvaluationResult.FALSE is returned.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>value</b> - the expected value. The value provided as a string is converted into
                  a Java base type using the same rules as for the value attribute of the test expression.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.count">count</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST count</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to test the number of elements in a collection.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>value</b> - an expression to specify the number of elements in a list. Following wildcard
                  characters can be used:
                  <dl>
                    <dt>*</dt> <dd>any number of elements</dd>
                    <dt>?</dt> <dd>no elements or one element</dd>
                    <dt>+</dt> <dd>one or more elements</dd>
                    <dt>!</dt> <dd>no elements</dd>
                    <dt>-<i>N</i>)</dt>
                    <dd>less than <i>N</i> elements</dd>
                    <dt>(<i>N</i>-</dt>
                    <dd>greater than <i>N</i> elements</dd>
                    <dt>integer value</dt> <dd>the list must contain the exact number of elements</dd>
                  </dl></li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.with">with</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST with</p>
<p class="code SchemaDtdAttlist">variable&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element changes the object to be inspected for all its child element to the object
            referenced by the given variable. If the variable can not be resolved then the expression
            will throw an ExpressionException when evaluating it. The children of a with expression 
            are combined using the "and" operator.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>variable</b> - the name of the variable to be used for further inspection. It is up to the evaluator
                  of an extension point to provide the variable in the variable pool.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.resolve">resolve</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST resolve</p>
<p class="code SchemaDtdAttlist">variable&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">args&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element changes the object to be inspected for all its child element to the object
            referenced by the given variable. If the variable can not be resolved then the expression
            will throw an ExpressionException when evaluating it. The children of a resolve expression 
            are combined using the "and" operator.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>variable</b> - the name of the variable to be resolved. This variable is then used as the object in focus
                  for child element evaluation. It is up to the evaluator of an extension point to provide a 
                  corresponding variable resolver (see IVariableResolver) through the evaluation context passed
                  to the root expression element when evaluating the expression.</li>
<li><b>args</b> - additional arguments passed to the variable resolver. Multiple arguments are separated
                  by commas. Each individual argument is converted into a Java base type using the same
                  rules as defined for the value attribute of the test expression.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.adapt">adapt</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST adapt</p>
<p class="code SchemaDtdAttlist">type&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to adapt the object in focus to the type specified by the attribute
            type. The expression returns EvaluationResult.NOT_LOADED if either the adapter or the type referenced isn't
            loaded yet. It throws an ExpressionException during evaluation if the type name doesn't exist 
            at all. The children of an adapt expression are combined using the "and" operator.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>type</b> - the type to which the object in focus is to be adapted.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.iterate">iterate</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST iterate</p>
<p class="code SchemaDtdAttlist">operator&nbsp;(or|and) </p>
<p class="code SchemaDtdAttlist">ifEmpty&nbsp;&nbsp;(true | false) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to iterate over a variable that is of type java.util.Collection, or a variable that
            adapts to org.eclipse.core.expressions.IIterable. If the object in focus is not one of the above then a
            CoreException with an ExpressionStatus will be thrown while evaluating the expression.
            The child expressions of an iterate expression are combined using the "and" operator.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>operator</b> - either "and" or "or". The operator defines how the results of all the child expressions
                  applied to each child of the Collection or IIterable will be combined and what (if any) short circuit
                  evaluation will be used. If not specified, "and" will be used.</li>
<li><b>ifEmpty</b> - the value returned from the "iterate" expression if the collection is empty. If
                 not specified then EvaluationResult.TRUE is returned when the operator equals "and" 
                 and EvaluationResult.FALSE is returned if the operator equals "or".</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.reference">reference</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST reference</p>
<p class="code SchemaDtdAttlist">definitionId&nbsp;IDREF #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to reference an expression from the <b>org.eclipse.core.expressions.definitions</b> extension point.  The expression definition will be evaluated within the current expression element using the current evaluation context.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>definitionId</b> - The unique id of an expression from <b>org.eclipse.core.expressions.definitions</b>.</li>
</ul>
<br><h6 class="CaptionFigColumn SchemaHeader">Examples: </h6><p>
Variables that are valid in activeWhen and enabledWhen expressions can be found in <code>org.eclipse.ui.ISources</code>.  The types of the variables are determined by the <code>org.eclipse.ui.ISourceProvider</code> that provides them.
</p>
<pre class="Example"><span class="code SchemaTag">
&lt;extension
 point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.handlers&quot;</span><span class="code SchemaTag">&gt;
 &lt;handler
  commandId=</span><span class="code SchemaCstring">&quot;commandId&quot;</span><span class="code SchemaTag">
  class=</span><span class="code SchemaCstring">&quot;org.eclipse.compare.Command&quot;</span><span class="code SchemaTag">&gt;
  &lt;activeWhen&gt;
   &lt;with variable=</span><span class="code SchemaCstring">&quot;selection&quot;</span><span class="code SchemaTag">&gt;
    &lt;count value=</span><span class="code SchemaCstring">&quot;1&quot;</span><span class="code SchemaTag"> /&gt;
    &lt;iterate operator=</span><span class="code SchemaCstring">&quot;and&quot;</span><span class="code SchemaTag">&gt;
     &lt;adapt type=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IResource&quot;</span><span class="code SchemaTag"> /&gt;
    &lt;/iterate&gt;
   &lt;/with&gt;
  &lt;/activeWhen&gt;
 &lt;/handler&gt;
 &lt;handler
  commandId=</span><span class="code SchemaCstring">&quot;other.commandId&quot;</span><span class="code SchemaTag">
  class=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.TalkToMe&quot;</span><span class="code SchemaTag">&gt;
  &lt;activeWhen&gt;
   &lt;with variable=</span><span class="code SchemaCstring">&quot;activePartId&quot;</span><span class="code SchemaTag">&gt;
    &lt;equals value=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.views.SampleView&quot;</span><span class="code SchemaTag">/&gt;
   &lt;/with&gt;
  &lt;/activeWhen&gt;
 &lt;/handler&gt;
&lt;/extension&gt;
</span></pre>
<p>
To further avoid plug-in loading, it is possible to specify when the handler is enabled.  If the proxy has not yet loaded the handler, then only the expressions syntax is used to decide if the handler is enabled.  If the proxy has loaded the handler, then the expressions syntax is consulted first.  If the expressions syntax evaluates to true, then the handler is asked if it is enabled.  (This is a short-circuit Boolean "and" operation between the expressions syntax and the handler's enabled state.)
</p>
<pre class="Example"><span class="code SchemaTag">
&lt;extension
 point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.handlers&quot;</span><span class="code SchemaTag">&gt;
 &lt;handler
  commandId=</span><span class="code SchemaCstring">&quot;commandId&quot;</span><span class="code SchemaTag">
  class=</span><span class="code SchemaCstring">&quot;org.eclipse.Handler&quot;</span><span class="code SchemaTag">&gt;
  &lt;enabledWhen&gt;
   &lt;with variable=</span><span class="code SchemaCstring">&quot;activeContexts&quot;</span><span class="code SchemaTag">&gt;
     &lt;iterator operator=</span><span class="code SchemaCstring">&quot;or&quot;</span><span class="code SchemaTag">&gt;
       &lt;equals value=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.contexts.window&quot;</span><span class="code SchemaTag">/&gt;
     &lt;/iterator&gt;
   &lt;/with&gt;
  &lt;/enabledWhen&gt;
 &lt;/handler&gt;
&lt;/extension&gt;
</span></pre>
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">API Information: </h6><p>
All handlers implement <code>org.eclipse.core.commands.IHandler</code>, and can use <code>org.eclipse.core.commands.AbstractHandler</code> as a base class.  Within the workbench, it is possible to activate and deactivate handlers using the <code>org.eclipse.ui.handlers.IHandlerService</code> interface.  This interface can be retrieved from supporting workbench objects, such as <code>IWorkbench</code> itself, a workbench window, or a part site.  To retrieve the service, you would make a call like <code>IWorkbench.getService(IHandlerService.class)</code>.
</p>
<p>
It is also possible to activate and deactive handlers using legacy code in the workbench.  This can be done through the legacy mechanism shown below.  This mechanism is useful to clients who are using actions to contribute to menus or toolbars.  This is deprecated and not recommended.
</p>
<pre class="Example"><span class="code SchemaTag">
 IWorkbenchPartSite mySite;
 IAction myAction;
 
 myAction.setActionDefinitionId(commandId);
 IKeyBindingService service = mySite.getKeyBindingService();
 service.registerAction(myAction);
</span></pre>
<p></p>

<br>
<p class="note SchemaCopyright">
Copyright (c) 2005, 2007 IBM Corporation and others.<br>

This program and the accompanying materials are made
available under the terms of the Eclipse Public License 2.0 which accompanies
this distribution, and is available at <a 
href="https://www.eclipse.org/legal/epl-2.0">https://www.eclipse.org/legal/epl-v20.html</a>/

SPDX-License-Identifier: EPL-2.0

</p>
</BODY>
</HTML>
<html id='3444.custom_composites.html'></html><html>
<head>
<title>Custom Composites &amp; Panels</title>
<meta content="text/html; charset=windows-1252" http-equiv="Content-Type">
<link href="../../book.css" rel="stylesheet" type="text/css">
<style>
</style>
</head>
<body bgcolor="#FFFFFF">
    <h1>Custom Composites &amp; Panels</h1>
	<table border="0" cellpadding="5" cellspacing="0" id="table1" width="800">
		<tr>
			<td valign="top">
			The tool supports the creation of custom <b>Composites</b> 
			(SWT) and <b>JPanels</b> (Swing). This is an ideal way to 
			create custom, reusable components. The following features are 
			supported:<ul>
				<li>Embed any <b>Composite</b> of
				<b>JPanel</b> subclass in another window</li>
				<li>All widgets defined in the <b>
				Composite</b> / <b>JPanel</b> are visible in the window they are 
				used</li>
				<li>Access any widget exposed via 
				public accessors</li>
				<li>Access exposed custom 
				properties</li>
				<li>Exposed widgets appear in tree with the 
	&quot;exposed&quot; 
				<img src="../userinterface/images/exposed_decorator.gif" alt="" width="6" height="6"> decorator</li>
			</ul></td>
		</tr>
		<tr>
			<td>
			<p>The following is an example of a 
			custom <b>Composites</b> that is then used in a window. The <b>Composite</b> uses 
			a <b>GridLayout</b> and has two <b>Labels</b>, two <b>Text</b> widgets, a 
			<b>Button</b> and an 
			inner <b>Composite</b> widget. </p>
			<p>
			<img border="0" src="images/custom_composite.png" align="top"></p>
			<p>The inner <b>Composite</b> widget has been exposed as 
			a public component using the <b><a href="../userinterface/context_menu.html">Expose Component</a></b> command. 
			<b><a href="../userinterface/context_menu.html">Expose Component</a></b> converts a component to a field and adds a public 
			accessor for it. Finally, the <b>background</b> color property of 
			the first <b>Text</b> widget and the <b>text</b> property of the <b>Button</b> have been exposed as a public properties of the 
			<b>Composite</b> using 
			the <b><a href="../userinterface/property_pane_context_menu.html">Expose Property</a></b> command. 
			<b><a href="../userinterface/property_pane_context_menu.html">Expose Property</a></b> adds a 
			pair of accessors for getting and setting the desired property of 
			the target widget.</p>
			<p>
			<img border="0" src="images/visual_inheritance_expose_component_menu.png" align="top">&nbsp;
			<img border="0" src="images/visual_inheritance_expose_property_menu.png" align="top"></p>
			<blockquote><font SIZE="2" COLOR="#7f0055"><b>
				<dl>
					<dd><font face="Courier">import</font></b></font><font SIZE="2" face="Courier"> org.eclipse.swt.SWT;</dd>
					</font><font SIZE="2" COLOR="#7f0055"><b>
					<dd><font face="Courier">import</font></b></font><font SIZE="2" face="Courier"> 
					org.eclipse.swt.graphics.Color;</dd>
					</font><font SIZE="2" COLOR="#7f0055"><b>
					<dd><font face="Courier">import</font></b></font><font SIZE="2" face="Courier"> org.eclipse.swt.layout.*;</dd>
					</font><font SIZE="2" COLOR="#7f0055"><b>
					<dd><font face="Courier">import</font></b></font><font SIZE="2" face="Courier"> org.eclipse.swt.widgets.*;</dd>
					</font><font SIZE="2" COLOR="#7f0055"><b>
					<font face="Courier"><br>&nbsp;</font><dd>
					<font face="Courier">public</font></b></font><font face="Courier"><font SIZE="2">
					</font><font SIZE="2" COLOR="#7f0055"><b>class</b></font><font SIZE="2"> 
					CustomComposite </font><font SIZE="2" COLOR="#7f0055"><b>extends</b></font></font><font SIZE="2"><font face="Courier"> Composite {</font><dl>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>private</b></font><font SIZE="2"> 
						Button </font><font SIZE="2" COLOR="#0000c0">browseButton</font></font><font SIZE="2"><font face="Courier">;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>private</b></font><font SIZE="2"> 
						Composite </font><font SIZE="2" COLOR="#0000c0">composite</font></font><font SIZE="2"><font face="Courier">;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>private</b></font><font SIZE="2"> 
						Text </font><font SIZE="2" COLOR="#0000c0">secondField</font></font><font SIZE="2"><font face="Courier">;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>private</b></font><font SIZE="2"> 
						Text </font><font SIZE="2" COLOR="#0000c0">firstField</font></font><font SIZE="2"><font face="Courier">;<br>&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>public</b></font><font SIZE="2"> 
						CustomComposite(Composite parent, </font>
						<font SIZE="2" COLOR="#7f0055"><b>int</b></font></font><font SIZE="2"><font face="Courier"> 
						style) {</font><dl>
							<dd></font>
							<font SIZE="2" COLOR="#7f0055" face="Courier"><b>super</b></font><font SIZE="2"><font face="Courier">(parent, 
							style);</font></dd>
							<dd><font face="Courier">createContents();</font></dd>
						</dl></dd>
						<dd><font face="Courier">}<br>&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>public</b></font><font SIZE="2">
						</font><font SIZE="2" COLOR="#7f0055"><b>void</b></font></font><font SIZE="2"><font face="Courier"> 
						createContents() {</font><dl>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
							GridLayout gridLayout = </font>
							<font SIZE="2" COLOR="#7f0055"><b>new</b></font></font><font SIZE="2"><font face="Courier"> 
							GridLayout();</font></dd>
							<dd><font face="Courier">gridLayout.</font></font><font SIZE="2" COLOR="#0000c0" face="Courier">numColumns</font><font SIZE="2"><font face="Courier"> 
							= 3;</font></dd>
							<dd><font face="Courier">setLayout(gridLayout);<br>&nbsp;</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
							Label firstFieldLabel = </font>
							<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							Label(</font><font SIZE="2" COLOR="#7f0055"><b>this</b></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>NONE</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
							<dd><font face="Courier">firstFieldLabel.setText(</font></font><font SIZE="2" COLOR="#2a00ff" face="Courier">&quot;First 
							Field&quot;</font><font SIZE="2"><font face="Courier">);<br>&nbsp;</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">firstField</font><font SIZE="2"> 
							= </font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							Text(</font><font SIZE="2" COLOR="#7f0055"><b>this</b></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>BORDER</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
							GridData gd_firstField = </font>
							<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							GridData(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>CENTER</i></font><font SIZE="2">,
							</font><font SIZE="2" COLOR="#7f0055"><b>true</b></font><font SIZE="2">,
							</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font></font><font SIZE="2"><font face="Courier">);</font></dd>
							<dd></font>
							<font SIZE="2" COLOR="#0000c0" face="Courier">firstField</font><font SIZE="2"><font face="Courier">.setLayoutData(gd_firstField);<br>&nbsp;</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">browseButton</font><font SIZE="2"> = 
							</font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							Button(</font><font SIZE="2" COLOR="#7f0055"><b>this</b></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>NONE</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">browseButton</font><font SIZE="2">.setLayoutData(</font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							GridData(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>CENTER</i></font><font SIZE="2">,
							</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font><font SIZE="2">,
							</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font></font><font SIZE="2"><font face="Courier">));</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">browseButton</font><font SIZE="2">.setText(</font><font SIZE="2" COLOR="#2a00ff">&quot;Browse...&quot;</font></font><font SIZE="2"><font face="Courier">);<br>&nbsp;</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
							Label secondFieldLabel = </font>
							<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							Label(</font><font SIZE="2" COLOR="#7f0055"><b>this</b></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>NONE</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
							<dd><font face="Courier">secondFieldLabel.setText(</font></font><font SIZE="2" COLOR="#2a00ff" face="Courier">&quot;Second 
							Field&quot;</font><font SIZE="2"><font face="Courier">);<br>&nbsp;</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">secondField</font><font SIZE="2"> = 
							</font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							Text(</font><font SIZE="2" COLOR="#7f0055"><b>this</b></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>BORDER</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
							GridData gd_secondField = </font>
							<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							GridData(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>CENTER</i></font><font SIZE="2">,
							</font><font SIZE="2" COLOR="#7f0055"><b>true</b></font><font SIZE="2">,
							</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font></font><font SIZE="2"><font face="Courier">, 
							2, 1);</font></dd>
							<dd></font>
							<font SIZE="2" COLOR="#0000c0" face="Courier">secondField</font><font SIZE="2"><font face="Courier">.setLayoutData(gd_secondField);<br>&nbsp;</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">composite</font><font SIZE="2"> 
							= </font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							Composite(</font><font SIZE="2" COLOR="#7f0055"><b>this</b></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>NONE</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">composite</font><font SIZE="2">.setLayoutData(</font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							GridData(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">,
							</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font><font SIZE="2">,
							</font><font SIZE="2" COLOR="#7f0055"><b>true</b></font></font><font SIZE="2"><font face="Courier">, 
							3, 1) );</font></dd>
						</dl></dd>
						<dd><font face="Courier">}<br>&nbsp;</font></dd>
						<dd></font>
						<font SIZE="2" COLOR="#7f0055" face="Courier"><b>
						<span style="background-color: #FFFF99">public</span></b></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99"> 
						Composite getComposite() {</span></font><dl>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>
							<span style="background-color: #FFFF99">return</span></b></font><font SIZE="2"><span style="background-color: #FFFF99">
							</span></font><font SIZE="2" COLOR="#0000c0">
							<span style="background-color: #FFFF99">composite</span></font></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99">;</span></font></dd>
						</dl></dd>
						<dd><font face="Courier"><span style="background-color: #FFFF99">}<br>&nbsp;</span></font></dd>
						<dd></font>
						<font SIZE="2" COLOR="#7f0055" face="Courier"><b>
						<span style="background-color: #FFFF99">public</span></b></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99"> 
						String getBrowseButtonText() {</span></font><dl>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>
							<span style="background-color: #FFFF99">return</span></b></font><font SIZE="2"><span style="background-color: #FFFF99">
							</span></font><font SIZE="2" COLOR="#0000c0">
							<span style="background-color: #FFFF99">browseButton</span></font></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99">.getText();</span></font></dd>
						</dl></dd>
						<dd><font face="Courier"><span style="background-color: #FFFF99">}<br>&nbsp;</span></font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>
						<span style="background-color: #FFFF99">public</span></b></font><font SIZE="2"><span style="background-color: #FFFF99">
						</span></font><font SIZE="2" COLOR="#7f0055"><b>
						<span style="background-color: #FFFF99">void</span></b></font></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99"> 
						setBrowseButtonText(String text) {</span></font><dl>
							<dd></font>
							<font SIZE="2" COLOR="#0000c0" face="Courier">
							<span style="background-color: #FFFF99">browseButton</span></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99">.setText(text);</span></font></dd>
						</dl></dd>
						<dd><font face="Courier"><span style="background-color: #FFFF99">}<br>&nbsp;</span></font></dd>
						<dd></font>
						<font SIZE="2" COLOR="#7f0055" face="Courier"><b>
						<span style="background-color: #FFFF99">public</span></b></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99"> 
						Color getFirstFieldBackground() {</span></font><dl>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>
							<span style="background-color: #FFFF99">return</span></b></font><font SIZE="2"><span style="background-color: #FFFF99">
							</span></font><font SIZE="2" COLOR="#0000c0">
							<span style="background-color: #FFFF99">firstField</span></font></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99">.getBackground();</span></font></dd>
						</dl></dd>
						<dd><font face="Courier"><span style="background-color: #FFFF99">}<br>&nbsp;</span></font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>
						<span style="background-color: #FFFF99">public</span></b></font><font SIZE="2"><span style="background-color: #FFFF99">
						</span></font><font SIZE="2" COLOR="#7f0055"><b>
						<span style="background-color: #FFFF99">void</span></b></font></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99"> 
						setFirstFieldBackground(Color background) {</span></font><dl>
							<dd></font>
							<font SIZE="2" COLOR="#0000c0" face="Courier">
							<span style="background-color: #FFFF99">firstField</span></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99">.setBackground(background);</span></font></dd>
						</dl></dd>
						<dd><font face="Courier"><span style="background-color: #FFFF99">}</span></font></dd>
					</dl></dd>
					<dd><font face="Courier">}</font></dd>
				</dl></font>
			</blockquote>
			<p>The window uses a <b>FillLayout</b> 
			and embeds the custom <b>Composite</b>. The window sets the inner <b>Composite's</b> 
			layout manager via its accessor exposed in the custom <b>Composite</b> and then adds several new widgets 
			to the inner <b>Composite</b>. Finally, it overrides the <b>background</b> color for 
			the first <b>Text</b> widget and the text setting of the <b>Button</b> using the accessors defined in the 
			embedded Composite.<br><br>Note that the exposed inner <b>Composite</b> from the 
			custom <b>Composite</b> 
			shows up in the component tree with a small 
			<img src="../userinterface/images/exposed_decorator.gif" alt="" width="6" height="6">  
			overlay icon. The other widgets defined in the embedded <b>Composite</b> do not show up in the 
			tree because they are private to that <b>Composite</b>. </p>
			<p>
			<img border="0" src="images/custom_composite_used.png" align="top"></p>
			<font SIZE="2" COLOR="#7f0055"><b>
			<dl>
				<dd><font face="Courier">import</font></b></font><font SIZE="2" face="Courier"> org.eclipse.swt.SWT;</dd>
				</font><font SIZE="2" COLOR="#7f0055"><b>
				<dd><font face="Courier">import</font></b></font><font SIZE="2" face="Courier"> org.eclipse.swt.widgets.*;</dd>
				</font><font SIZE="2" COLOR="#7f0055"><b>
				<dd><font face="Courier">import</font></b></font><font SIZE="2" face="Courier"> org.eclipse.swt.layout.*;</dd>
				</font><font SIZE="2" COLOR="#7f0055"><b>
				<dd><font face="Courier">import</font></b></font><font SIZE="2" face="Courier"> 
				com.swtdesigner.SWTResourceManager;</dd>
				</font><font SIZE="2" COLOR="#7f0055"><b>
				<dd><font face="Courier">import</font></b></font><font SIZE="2" face="Courier"> 
				org.eclipse.swt.layout.GridLayout;<br>
&nbsp;</dd>
				</font><font SIZE="2" COLOR="#7f0055"><b>
				<dd><font face="Courier">public</font></b></font><font face="Courier"><font SIZE="2"> </font>
				<font SIZE="2" COLOR="#7f0055"><b>class</b></font></font><font SIZE="2"><font face="Courier"> 
				WindowUsingComposite {</font><dl>
					<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>protected</b></font><font SIZE="2"> 
					Shell </font><font SIZE="2" COLOR="#0000c0">shell</font></font><font SIZE="2"><font face="Courier">;</font></dd>
					<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>private</b></font><font SIZE="2"> 
					List </font><font SIZE="2" COLOR="#0000c0">list</font></font><font SIZE="2"><font face="Courier">;</font></dd>
					<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>private</b></font><font SIZE="2"> 
					Text </font><font SIZE="2" COLOR="#0000c0">thirdField</font></font><font SIZE="2"><font face="Courier">;</font></dd>
					<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>private</b></font><font SIZE="2"> 
					Text </font><font SIZE="2" COLOR="#0000c0">fourthField</font></font><font SIZE="2"><font face="Courier">;</font></dd>
					<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>public</b></font><font SIZE="2">
					</font><font SIZE="2" COLOR="#7f0055"><b>static</b></font><font SIZE="2">
					</font><font SIZE="2" COLOR="#7f0055"><b>void</b></font></font><font SIZE="2"><font face="Courier"> 
					main(String[] args) {</font><dl>
						<dd></font>
						<font SIZE="2" COLOR="#7f0055" face="Courier"><b>try</b></font><font SIZE="2"><font face="Courier"> 
						{</font><dl>
							<dd><font face="Courier">WindowUsingComposite window =
							</font> </font>
							<font SIZE="2" COLOR="#7f0055" face="Courier"><b>new</b></font><font SIZE="2"><font face="Courier"> 
							WindowUsingComposite();</font></dd>
							<dd><font face="Courier">window.open();</font></dd>
						</dl>
						</dd>
						<dd><font face="Courier">} </font> </font>
						<font SIZE="2" COLOR="#7f0055" face="Courier"><b>catch</b></font><font SIZE="2"><font face="Courier"> 
						(Exception e) {</font><dl>
							<dd><font face="Courier">e.printStackTrace();</font></dd>
						</dl>
						</dd>
						<dd><font face="Courier">}</font></dd>
					</dl>
					</dd>
					<dd><font face="Courier">}</font></dd>
					<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>public</b></font><font SIZE="2">
					</font><font SIZE="2" COLOR="#7f0055"><b>void</b></font></font><font SIZE="2"><font face="Courier"> 
					open() {</font><dl>
						<dd></font>
						<font SIZE="2" COLOR="#7f0055" face="Courier"><b>final</b></font><font SIZE="2"><font face="Courier"> 
						Display display = Display.<i>getDefault</i>();</font></dd>
						<dd><font face="Courier">createContents();</font></dd>
						<dd></font>
						<font SIZE="2" COLOR="#0000c0" face="Courier">shell</font><font SIZE="2"><font face="Courier">.open();</font></dd>
						<dd></font>
						<font SIZE="2" COLOR="#0000c0" face="Courier">shell</font><font SIZE="2"><font face="Courier">.layout();</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>while</b></font><font SIZE="2"> 
						(!</font><font SIZE="2" COLOR="#0000c0">shell</font></font><font SIZE="2"><font face="Courier">.isDisposed()) 
						{</font><dl>
							<dd></font>
							<font SIZE="2" COLOR="#7f0055" face="Courier"><b>if</b></font><font SIZE="2"><font face="Courier"> 
							(!display.readAndDispatch()) {</font><dl>
								<dd><font face="Courier">display.sleep();</font></dd>
							</dl>
							</dd>
							<dd><font face="Courier">}</font></dd>
						</dl>
						</dd>
						<dd><font face="Courier">}</font></dd>
					</dl>
					</dd>
					<dd><font face="Courier">}</font></dd>
					<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>protected</b></font><font SIZE="2">
					</font><font SIZE="2" COLOR="#7f0055"><b>void</b></font></font><font SIZE="2"><font face="Courier"> 
					createContents() {</font><dl>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">shell</font><font SIZE="2"> 
						= </font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						Shell(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>SHELL_TRIM</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">shell</font><font SIZE="2">.setLayout(</font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						FillLayout(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>HORIZONTAL</i></font></font><font SIZE="2"><font face="Courier">));</font></dd>
						<dd></font>
						<font SIZE="2" COLOR="#0000c0" face="Courier">shell</font><font SIZE="2"><font face="Courier">.setSize(450, 
						384);</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">shell</font><font SIZE="2">.setText(</font><font SIZE="2" COLOR="#2a00ff">&quot;Window 
						Using Composite&quot;</font></font><font SIZE="2"><font face="Courier">);<br>
&nbsp;</font></dd>
						<dd><font face="Courier">CustomComposite customComposite =
						</font> </font>
						<font face="Courier">
						<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						CustomComposite(</font><font SIZE="2" COLOR="#0000c0">shell</font><font SIZE="2">, 
						SWT.</font><font SIZE="2" COLOR="#0000c0"><i>NONE</i></font></font><font SIZE="2"><font face="Courier">);<br>
&nbsp;</font></dd>
						<dd><font face="Courier"><span style="background-color: #FFFF99">
						customComposite.setBrowseButtonText(</span></font></font><font SIZE="2" COLOR="#2a00ff" face="Courier"><span style="background-color: #FFFF99">&quot;Find...&quot;</span></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99">);</span></font></dd>
						<dd><font face="Courier"><span style="background-color: #FFFF99">
						customComposite.setFirstFieldBackground(SWTResourceManager.<i>getColor</i>(SWT.</span></font></font><font SIZE="2" COLOR="#0000c0" face="Courier"><i><span style="background-color: #FFFF99">COLOR_YELLOW</span></i></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99">));</span><br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
						GridLayout gridLayout = </font>
						<font SIZE="2" COLOR="#7f0055"><b>new</b></font></font><font SIZE="2"><font face="Courier"> 
						GridLayout();</font></dd>
						<dd><font face="Courier">gridLayout.</font></font><font SIZE="2" COLOR="#0000c0" face="Courier">numColumns</font><font SIZE="2"><font face="Courier"> 
						= 2;</font></dd>
						<dd><font face="Courier"><span style="background-color: #FFFF99">
						customComposite.getComposite().setLayout(gridLayout);<br>
&nbsp;</span></font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
						Label thirdFieldLabel = </font>
						<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						Label(customComposite.getComposite(), SWT.</font><font SIZE="2" COLOR="#0000c0"><i>NONE</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd><font face="Courier">thirdFieldLabel.setText(</font></font><font SIZE="2" COLOR="#2a00ff" face="Courier">&quot;Third 
						Field&quot;</font><font SIZE="2"><font face="Courier">);<br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">thirdField</font><font SIZE="2"> 
						= </font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						Text(customComposite.getComposite(), SWT.</font><font SIZE="2" COLOR="#0000c0"><i>BORDER</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
						GridData gd_thirdField = </font>
						<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						GridData(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">, 
						SWT.</font><font SIZE="2" COLOR="#0000c0"><i>CENTER</i></font><font SIZE="2">,
						</font><font SIZE="2" COLOR="#7f0055"><b>true</b></font><font SIZE="2">,
						</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd></font>
						<font SIZE="2" COLOR="#0000c0" face="Courier">thirdField</font><font SIZE="2"><font face="Courier">.setLayoutData(gd_thirdField);<br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
						Label fourthFieldLabel = </font>
						<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						Label(customComposite.getComposite(), SWT.</font><font SIZE="2" COLOR="#0000c0"><i>NONE</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd><font face="Courier">fourthFieldLabel.setText(</font></font><font SIZE="2" COLOR="#2a00ff" face="Courier">&quot;Fourth 
						Field&quot;</font><font SIZE="2"><font face="Courier">);<br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">fourthField</font><font SIZE="2"> 
						= </font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						Text(customComposite.getComposite(), SWT.</font><font SIZE="2" COLOR="#0000c0"><i>BORDER</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
						GridData gd_fourthField = </font>
						<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						GridData(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">, 
						SWT.</font><font SIZE="2" COLOR="#0000c0"><i>CENTER</i></font><font SIZE="2">,
						</font><font SIZE="2" COLOR="#7f0055"><b>true</b></font><font SIZE="2">,
						</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd></font>
						<font SIZE="2" COLOR="#0000c0" face="Courier">fourthField</font><font SIZE="2"><font face="Courier">.setLayoutData(gd_fourthField);<br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">list</font><font SIZE="2"> 
						= </font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						List(customComposite.getComposite(), SWT.</font><font SIZE="2" COLOR="#0000c0"><i>BORDER</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">list</font><font SIZE="2">.setItems(</font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						String[] {</font><font SIZE="2" COLOR="#2a00ff">&quot;First 
						Item&quot;</font><font SIZE="2">, </font>
						<font SIZE="2" COLOR="#2a00ff">&quot;Second Item&quot;</font></font><font SIZE="2"><font face="Courier">});</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">list</font><font SIZE="2">.setLayoutData(</font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						GridData(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">, 
						SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">,
						</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font><font SIZE="2">,
						</font><font SIZE="2" COLOR="#7f0055"><b>true</b></font></font><font SIZE="2"><font face="Courier">, 
						2, 1));</font></dd>
					</dl>
					</dd>
					<dd><font face="Courier">}</font></dd>
				</dl>
				</dd>
				<dd><font face="Courier">}</font></dd>
			</dl>
			</font></td>
		</tr>
	</table>
	<p class="pnoall">&nbsp;</p>
	<p class="pnoall">&nbsp;</p>
          	<p class="pnoall">
			&nbsp;</p>
			<p class="pnoall">&nbsp;</p>
			<p class="pnoall">
	&nbsp;</p>
			<p class="pnoall">&nbsp;</p>
			<p class="pnoall">
			&nbsp;
          </body>
</html>
<html id='3689.ix01.html'></html><html>
<head>
<title>Index</title>
<link href="book.css" rel="stylesheet" type="text/css"/>
<meta content="DocBook XSL Stylesheets V1.75.1" name="generator"/>
<link rel="home" href="index.html" title="Xpand Documentation"/>
<link rel="up" href="index.html" title="Xpand Documentation"/>
<link rel="prev" href="xsd_tutorial_execute_workflow.html" title="Step 6: Execute Workflow aka Generate Code"/>
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<h1 xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0"/>
<div class="index" title="Index">
<div class="titlepage">
<div>
<div>
<h2 class="title">
<a name="N1324A"/>Index</h2>
</div>
</div>
</div>
<div class="index">
<div class="indexdiv">
<h3>Symbols</h3>
<dl>
<dt>.chk, <a class="indexterm" href="Check_language.html#Check_language_description">Description of the Check language</a>
</dt>
<dt>.xpt, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_template_files_and_ecoding">Template files and encoding</a>
</dt>
<dt>*.ext, <a class="indexterm" href="Xtend_language.html#N10DE7">Xtend files</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>A</h3>
<dl>
<dt>Advice, <a class="indexterm" href="Xtend_language.html#N1107E">Aspect-Oriented Programming in
      Xtend</a>
</dt>
<dt>AdviceContext, <a class="indexterm" href="Xtend_language.html#N110D9">Proceeding</a>
</dt>
<dt>AOP, <a class="indexterm" href="Xtend_language.html#N1107E">Aspect-Oriented Programming in
      Xtend</a>, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_aspect-oriented_programming_in_xpand">Aspect-Oriented Programming in
      Xpand</a>
</dt>
<dd>
<dl>
<dt>Join point, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_join_point_and_cut_syntax">Join Point and Point Cut Syntax</a>
</dt>
<dt>Point cut, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_join_point_and_cut_syntax">Join Point and Point Cut Syntax</a>
</dt>
<dt>Workflow, <a class="indexterm" href="xpand_reference_introduction.html#aop_template_example_workflow_file">Workflow File</a>
</dt>
<dt>Xpand, <a class="indexterm" href="xpand_reference_introduction.html#aop_template_introduction">Example for using Aspect-Oriented Programming in
      Xpand</a>
</dt>
</dl>
</dd>
<dt>AROUND, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_aspect-oriented_programming_in_xpand">Aspect-Oriented Programming in
      Xpand</a>, <a class="indexterm" href="xpand_reference_introduction.html#aop_template_example_templates">Templates</a>, <a class="indexterm" href="xpand_reference_introduction.html#aop_template_more_ao">More Aspect Orientation</a>
</dt>
<dt>Aspect-Oriented Programming, <a class="indexterm" href="Xtend_language.html#N1107E">Aspect-Oriented Programming in
      Xtend</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>B</h3>
<dl>
<dt>Boolean type, <a class="indexterm" href="r10_typesystem.html#r10_builtintypes_simple">Simple types (Data types)</a>
</dt>
<dt>Built-in type, <a class="indexterm" href="r10_typesystem.html#r10_builtintypes">Built-In Types</a>
</dt>
<dd>
<dl>
<dt>Collection types, <a class="indexterm" href="r10_typesystem.html#r10_builtintypes_collections">Collection types</a>
</dt>
<dt>Object, <a class="indexterm" href="r10_typesystem.html#r10_builtintypes_object">Object</a>, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_builtin_object">Object  </a>
</dt>
<dt>Simple type, <a class="indexterm" href="r10_typesystem.html#r10_builtintypes_simple">Simple types (Data types)</a>
</dt>
<dt>Void, <a class="indexterm" href="r10_typesystem.html#r10_builtintypes_void">Void</a>, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_builtin_object">Object  </a>
</dt>
</dl>
</dd>
</dl>
</div>
<div class="indexdiv">
<h3>C</h3>
<dl>
<dt>cached, <a class="indexterm" href="Xtend_language.html#N10EC5">Cached Extensions</a>
</dt>
<dt>cartridge, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_aspect-oriented_programming_in_xpand">Aspect-Oriented Programming in
      Xpand</a>
</dt>
<dt>Casting, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_casting">Casting</a>
</dt>
<dt>CEND, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_protect">PROTECT</a>
</dt>
<dt>Check</dt>
<dd>
<dl>
<dt>File extension, <a class="indexterm" href="Check_language.html#Check_language_description">Description of the Check language</a>
</dt>
<dt>Language, <a class="indexterm" href="emf_tutorial_checking_contraints_with_check.html">Checking Constraints with the Check
    Language</a>, <a class="indexterm" href="Check_language.html#Check_language_description">Description of the Check language</a>
</dt>
</dl>
</dd>
<dt>Classpath, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_extension">EXTENSION</a>
</dt>
<dt>collect, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_collection_collect">collect</a>, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_collection_collect_shorthand">Shorthand for collect (and more than
        that)</a>
</dt>
<dt>Collection, <a class="indexterm" href="r10_typesystem.html#r10_builtintypes_collections">Collection types</a>, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_foreach">FOREACH</a>
</dt>
<dt>Collection type, <a class="indexterm" href="r10_typesystem.html#r10_typesystem_collection_typenames">Collection Type Names</a>
</dt>
<dt>collection type, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_for_vs_foreach">FOR vs. FOREACH</a>
</dt>
<dt>Constraint, <a class="indexterm" href="emf_tutorial_checking_contraints_with_check.html#emf_tutorial_defining_the_constraint">Defining the constraint</a>, <a class="indexterm" href="Check_language.html#Check_language_description">Description of the Check language</a>
</dt>
<dt>create, <a class="indexterm" href="Xtend_language.html#create_extension">Create Extensions (Model Transformation)</a>
</dt>
<dt>Create extension, <a class="indexterm" href="Xtend_language.html#xtend_example_the_transformation">The transformation</a>
</dt>
<dt>CSTART, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_protect">PROTECT</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>D</h3>
<dl>
<dt>DEFINE, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_define">DEFINE</a>
</dt>
<dt>DirectoryCleaner, <a class="indexterm" href="uml2example_codegen.html#uml2example_codegen_workflow">Defining the workflow</a>
</dt>
<dt>Dynamic EMF, <a class="indexterm" href="emf_tutorial_dynamic_emf.html">Using Dynamic EMF</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>E</h3>
<dl>
<dt>EClassifiers, <a class="indexterm" href="r10_typesystem.html#r10_typesystem_typenames">Type Names</a>
</dt>
<dt>ELSEIF, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_if">IF</a>
</dt>
<dt>EMF, <a class="indexterm" href="emf_tutorial.html">Getting Started</a>
</dt>
<dt>EmfMetaModel, <a class="indexterm" href="emf_tutorial_generating_code.html#emf_tutorial_templates">Templates</a>, <a class="indexterm" href="r10_typesystem.html#r10_typesystem_typenames">Type Names</a>, <a class="indexterm" href="r10_typesystem.html#emf_metamodel">The EMF Metamodel
          (org.eclipse.xtend.typesystem.emf.EmfMetaModel)</a>
</dt>
<dd>
<dl>
<dt>metaModelPackage, <a class="indexterm" href="emf_tutorial_dynamic_emf.html">Using Dynamic EMF</a>
</dt>
</dl>
</dd>
<dt>EMF metamodel, <a class="indexterm" href="r10_typesystem.html#r10_using_different_metamodels">Using different Metamodel implementations (also known as
      Meta-Metamodels)</a>
</dt>
<dt>EMF project, <a class="indexterm" href="emf_tutorial_define_metamodel.html#emf_tutorial_creating_emf_project">Creating an EMF project</a>
</dt>
<dt>EmfRegistryMetaModel, <a class="indexterm" href="r10_typesystem.html#emfregistry_metamodel">The EMF Registry Metamodel
          (org.eclipse.xtend.typesystem.emf.EmfRegistryMetaModel)</a>
</dt>
<dt>EMF UML2 XMI, <a class="indexterm" href="uml2example_profiles.html#uml2example_profiles_codegen">Generating Code</a>
</dt>
<dt>Encoding, <a class="indexterm" href="emf_tutorial_setting_generator_project.html">Setting up the generator project</a> (see File encoding)</dt>
<dt>ENDIF, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_if">IF</a>
</dt>
<dt>Enumeration</dt>
<dd>
<dl>
<dt>Literal, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_builtin_staticproperties">StaticProperty literals</a>
</dt>
</dl>
</dd>
<dt>Enumeration (UML2), <a class="indexterm" href="uml2example_profiles.html">Profile Support</a>
</dt>
<dt>EPackages, <a class="indexterm" href="r10_typesystem.html#r10_typesystem_typenames">Type Names</a>
</dt>
<dt>ERROR, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_error">ERROR</a>
</dt>
<dt>ExecutionContext, <a class="indexterm" href="Xtend_language.html#N10F22">IExecutionContextAware</a>
</dt>
<dt>exists, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_collection_exists">exists</a>
</dt>
<dt>EXPAND, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_expand">EXPAND</a>, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_metamodel">Metamodel</a>
</dt>
<dt>Expression, <a class="indexterm" href="r10_expressions_language.html">Expressions</a>
</dt>
<dd>
<dl>
<dt>cached, <a class="indexterm" href="Xtend_language.html#create_extension">Create Extensions (Model Transformation)</a>
</dt>
<dt>call, <a class="indexterm" href="Xtend_language.html#N11023">Calling Extensions From Java</a>
</dt>
<dt>chain, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_chain">Chain expression</a>
</dt>
<dt>create, <a class="indexterm" href="Xtend_language.html#xtend_example_the_transformation">The transformation</a>
</dt>
<dt>if, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_if">if expression</a>
</dt>
<dt>new, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_create">new expression</a>
</dt>
<dt>separator, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_specifying_a_separator">Specifying a Separator</a>
</dt>
<dt>switch, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_switch">switch expression</a>
</dt>
</dl>
</dd>
<dt>Expression language, <a class="indexterm" href="r10_expressions_language.html">Expressions</a>
</dt>
<dt>Extension, <a class="indexterm" href="emf_tutorial_extensions.html">Extensions</a>, <a class="indexterm" href="Xtend_language.html#N10E26">Extension Import Statement</a>
</dt>
<dd>
<dl>
<dt>caching, <a class="indexterm" href="Xtend_language.html#N10EC5">Cached Extensions</a>
</dt>
<dt>create, <a class="indexterm" href="Xtend_language.html#create_extension">Create Extensions (Model Transformation)</a>, <a class="indexterm" href="Xtend_language.html#xtend_example_the_transformation">The transformation</a>
</dt>
<dt>invocation, <a class="indexterm" href="Xtend_language.html#N10E50">Extension Invocation</a>
</dt>
<dt>Java, <a class="indexterm" href="Xtend_language.html#N10EF3">Java Extensions</a>
</dt>
<dt>private, <a class="indexterm" href="Xtend_language.html#N10EE0">Private Extensions</a>
</dt>
<dt>recursion, <a class="indexterm" href="Xtend_language.html#N10EB3">Recursion</a>
</dt>
</dl>
</dd>
<dt>EXTENSION, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_extension">EXTENSION</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>F</h3>
<dl>
<dt>FILE, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_file">FILE</a>
</dt>
<dt>File encoding</dt>
<dd>
<dl>
<dt>encoding, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_template_files_and_ecoding">Template files and encoding</a>, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_encoding">Encoding</a>, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_output_configuration">Output configuration</a>
</dt>
</dl>
</dd>
<dt>File extension</dt>
<dd>
<dl>
<dt>.xpt, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_template_files_and_ecoding">Template files and encoding</a>
</dt>
</dl>
</dd>
<dt>FOR, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_for_vs_foreach">FOR vs. FOREACH</a>
</dt>
<dt>forAll, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_collection_forall">forAll</a>
</dt>
<dt>FOREACH, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_for_vs_foreach">FOR vs. FOREACH</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>G</h3>
<dl>
<dt>Generator</dt>
<dd>
<dl>
<dt>fileEncoding property, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_encoding">Encoding</a>
</dt>
<dt>Metamodel configuration, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_metamodel">Metamodel</a>
</dt>
<dt>Workflow component, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_generator_workflow_component">Generator Workflow Component</a>
</dt>
</dl>
</dd>
<dt>Genmodel, <a class="indexterm" href="emf_tutorial_generate_emf_tooling.html">Generating the EMF tooling</a>
</dt>
<dt>GLOBALVAR, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_globalvar">'GLOBALVAR' expression</a>
</dt>
<dt>Global variables, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_globalvar_workflow">Using GLOBALVARS to configure workflows</a>
</dt>
<dt>Guard conditions, <a class="indexterm" href="Check_language.html#Guard_conditions">Guard Conditions</a>
</dt>
<dt>Guillemet, <a class="indexterm" href="emf_tutorial_generating_code.html#emf_tutorial_templates">Templates</a>, <a class="indexterm" href="xpand_reference_introduction.html">Xpand2</a>, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_encoding">Encoding</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>I</h3>
<dl>
<dt>IExecutionContextAware, <a class="indexterm" href="Xtend_language.html#N10F22">IExecutionContextAware</a>
</dt>
<dt>IF, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_if">IF</a>
</dt>
<dt>import, <a class="indexterm" href="Xtend_language.html#N10E15">Import Statements</a>
</dt>
<dt>IMPORT, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_import">IMPORT</a>
</dt>
<dt>Integer type, <a class="indexterm" href="r10_typesystem.html#r10_builtintypes_simple">Simple types (Data types)</a>
</dt>
<dt>ITERATOR, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_foreach">FOREACH</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>J</h3>
<dl>
<dt>JavaBeansMetaModel, <a class="indexterm" href="Xtend_language.html#N11023">Calling Extensions From Java</a>
</dt>
<dt>JavaBeansStrategy, <a class="indexterm" href="Xtend_language.html#N11023">Calling Extensions From Java</a>
</dt>
<dt>JavaBeautifier, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_javabeautifier">JavaBeautifier</a>
</dt>
<dt>Java extension, <a class="indexterm" href="emf_tutorial_extensions.html#emf_tutorial_java_extensions">Java Extensions</a>, <a class="indexterm" href="Xtend_language.html#N10EF3">Java Extensions</a>
</dt>
<dt>JavaMetaModel, <a class="indexterm" href="r10_typesystem.html#r10_metamodel_example_java">Example JavaMetaModel</a>, <a class="indexterm" href="r10_typesystem.html#java_metamodel">The Java Metamodel
        (org.eclipse.internal.xtend.type.impl.java.JavaMetaModel)</a>, <a class="indexterm" href="Xtend_language.html#N11023">Calling Extensions From Java</a>
</dt>
<dt>Join point, <a class="indexterm" href="Xtend_language.html#N1109F">Join Point and Point Cut Syntax</a>, <a class="indexterm" href="Xtend_language.html#N110FA">Workflow configuration</a>, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_join_point_and_cut_syntax">Join Point and Point Cut Syntax</a>
</dt>
<dt>join point, <a class="indexterm" href="xpand_reference_introduction.html#aop_template_example_templates">Templates</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>K</h3>
<dl>
<dt>Keyword</dt>
<dd>
<dl>
<dt>Property, <a class="indexterm" href="r10_expressions_language.html#N10CD6">Xpand keywords and metamodel properties</a>
</dt>
</dl>
</dd>
</dl>
</div>
<div class="indexdiv">
<h3>L</h3>
<dl>
<dt>LET, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_let">LET</a>
</dt>
<dt>List, <a class="indexterm" href="r10_typesystem.html#r10_builtintypes_collections">Collection types</a>
</dt>
<dt>Literals, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_builtin">Literals and special operators for built-in types</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>M</h3>
<dl>
<dt>meta-metamodel, <a class="indexterm" href="emf_tutorial_generate_emf_tooling.html">Generating the EMF tooling</a>
</dt>
<dt>MetaModel, <a class="indexterm" href="r10_typesystem.html#r10_typesystem_typenames">Type Names</a>
</dt>
<dt>Metamodel, <a class="indexterm" href="r10_typesystem.html#r10_metamodel_contributors">Eclipse IDE MetaModelContributors</a>, <a class="indexterm" href="r10_typesystem.html#r10_using_different_metamodels">Using different Metamodel implementations (also known as
      Meta-Metamodels)</a>, <a class="indexterm" href="r10_typesystem.html#metamodel_reference">Metamodel Reference</a>
</dt>
<dd>
<dl>
<dt>(non-invasive) extension, <a class="indexterm" href="Xtend_language.html">Xtend</a>
</dt>
<dt>EMF, <a class="indexterm" href="r10_typesystem.html#emf_metamodel">The EMF Metamodel
          (org.eclipse.xtend.typesystem.emf.EmfMetaModel)</a>
</dt>
<dt>EMF Registry, <a class="indexterm" href="r10_typesystem.html#emfregistry_metamodel">The EMF Registry Metamodel
          (org.eclipse.xtend.typesystem.emf.EmfRegistryMetaModel)</a>
</dt>
<dt>Implementing metamodels, <a class="indexterm" href="r10_typesystem.html#implementing_metamodels">Implementing Your Own Metamodel</a>
</dt>
<dt>Java, <a class="indexterm" href="r10_typesystem.html#java_metamodel">The Java Metamodel
        (org.eclipse.internal.xtend.type.impl.java.JavaMetaModel)</a>
</dt>
<dt>UML2, <a class="indexterm" href="r10_typesystem.html#uml2_metamodel">The UML2 Metamodel
          (org.eclipse.xtend.typesystem.uml2.UML2MetaModel)</a>, <a class="indexterm" href="r10_typesystem.html#uml2profile_metamodel">The UML2 Profile Metamodel
          (org.eclipse.xtend.typesystem.uml2.profile.ProfileMetaModel)</a>
</dt>
<dt>XSD, <a class="indexterm" href="r10_typesystem.html#xsd_metamodel">The XSD Metamodel
        (org.eclipse.xtend.typesystem.xsd.XSDMetaModel)</a>
</dt>
</dl>
</dd>
<dt>MetamodelContributor, <a class="indexterm" href="r10_typesystem.html#r10_metamodel_contributors">Eclipse IDE MetaModelContributors</a>
</dt>
<dt>Metamodel contributor, <a class="indexterm" href="uml2example_setup_project.html">Setting up the project</a>
</dt>
<dt>Metamodel implementation, <a class="indexterm" href="r10_typesystem.html#r10_metamodel_implementations">Metamodel Implementations (also known as
      Meta-Metamodels)</a>
</dt>
<dt>Model-to-model transformation, <a class="indexterm" href="Xtend_language.html#xtend_example_introduction">Model-to-Model transformation with
        Xtend</a>
</dt>
<dt>Model transformation, <a class="indexterm" href="Xtend_language.html#create_extension">Create Extensions (Model Transformation)</a>
</dt>
<dt>Multiple dispatching, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_multidispatch">Multi methods (multiple dispatch)</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>N</h3>
<dl>
<dt>Namespace</dt>
<dd>
<dl>
<dt>Import, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_names">Names</a>
</dt>
</dl>
</dd>
<dt>Newline, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_controlling_generation_of_white_space">Controlling generation of whitespace</a>
</dt>
<dt>NoChangesVetoStrategy, <a class="indexterm" href="xpand_reference_introduction.html#N11709">VetoStrategy</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>O</h3>
<dl>
<dt>OCL, <a class="indexterm" href="r10_expressions_language.html">Expressions</a>
</dt>
<dt>ONFILECLOSE, <a class="indexterm" href="xpand_reference_introduction.html#N11325">Lazy evaluation</a>
</dt>
<dt>Operation, <a class="indexterm" href="r10_typesystem.html#r10_metamodel_implementations">Metamodel Implementations (also known as
      Meta-Metamodels)</a>
</dt>
<dt>Outlet, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_file">FILE</a>, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_output_configuration">Output configuration</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>P</h3>
<dl>
<dt>Point cut, <a class="indexterm" href="Xtend_language.html#N1109F">Join Point and Point Cut Syntax</a>, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_join_point_and_cut_syntax">Join Point and Point Cut Syntax</a>
</dt>
<dt>Polymorphism, <a class="indexterm" href="Xtend_language.html#N10E66">Type Inference</a>, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_define">DEFINE</a>
</dt>
<dt>PostProcessor, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_beautifier">PostProcessor </a>
</dt>
<dt>private, <a class="indexterm" href="Xtend_language.html#N10EE0">Private Extensions</a>
</dt>
<dt>proceed, <a class="indexterm" href="Xtend_language.html#N110D9">Proceeding</a>
</dt>
<dt>ProfileMetaModel, <a class="indexterm" href="r10_typesystem.html#uml2profile_metamodel">The UML2 Profile Metamodel
          (org.eclipse.xtend.typesystem.uml2.profile.ProfileMetaModel)</a>
</dt>
<dt>property, <a class="indexterm" href="r10_typesystem.html#r10_metamodel_implementations">Metamodel Implementations (also known as
      Meta-Metamodels)</a>
</dt>
<dt>PROTECT, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_protect">PROTECT</a>
</dt>
<dt>Protected region, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_protect">PROTECT</a>, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_protected_region_configuration">Protected Region Configuration</a>
</dt>
<dd>
<dl>
<dt>Disable, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_protect">PROTECT</a>
</dt>
<dt>Enable, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_protect">PROTECT</a>
</dt>
</dl>
</dd>
<dt>prSrcPaths, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_protected_region_configuration">Protected Region Configuration</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>R</h3>
<dl>
<dt>Real type, <a class="indexterm" href="r10_typesystem.html#r10_builtintypes_simple">Simple types (Data types)</a>
</dt>
<dt>Recursive extensions, <a class="indexterm" href="Xtend_language.html#N10EB3">Recursion</a>
</dt>
<dt>Reexport, <a class="indexterm" href="Xtend_language.html#N10E35">Reexporting Extensions</a>
</dt>
<dt>reject, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_collection_reject">reject</a>
</dt>
<dt>REM, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_comments">Comments</a>
</dt>
<dt>Return type, <a class="indexterm" href="Xtend_language.html#N10E66">Type Inference</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>S</h3>
<dl>
<dt>select, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_collection_select">select</a>
</dt>
<dt>SEPARATOR, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_specifying_a_separator">Specifying a Separator</a>
</dt>
<dt>Set type, <a class="indexterm" href="r10_typesystem.html#r10_builtintypes_collections">Collection types</a>
</dt>
<dt>SlotCopier, <a class="indexterm" href="ch04s03.html#N12879">SlotCopier</a>
</dt>
<dt>SlotListAdder, <a class="indexterm" href="ch04s03.html#N128C4">SlotListAdder</a>
</dt>
<dt>SlotPrinter, <a class="indexterm" href="ch04s03.html#N12913">SlotPrinter</a>
</dt>
<dt>sortBy, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_collection_sortby">sortBy</a>
</dt>
<dt>Stereotype, <a class="indexterm" href="uml2example_profiles.html">Profile Support</a>
</dt>
<dt>String type, <a class="indexterm" href="r10_typesystem.html#r10_builtintypes_simple">Simple types (Data types)</a>
</dt>
<dt>SystemCommand, <a class="indexterm" href="ch04s03.html#N12816">SystemCommand</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>T</h3>
<dl>
<dt>Tagged value, <a class="indexterm" href="uml2example_profiles.html">Profile Support</a>
</dt>
<dt>Template</dt>
<dd>
<dl>
<dt>File, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_template_files_and_ecoding">Template files and encoding</a>, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_define">DEFINE</a>
</dt>
<dt>Polymorphism, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_define">DEFINE</a>
</dt>
</dl>
</dd>
<dt>Transformation, <a class="indexterm" href="Xtend_language.html#xtend_example_the_transformation">The transformation</a>
</dt>
<dt>Type</dt>
<dd>
<dl>
<dt>Data type, <a class="indexterm" href="r10_typesystem.html">Type System  </a>
</dt>
<dt>Operation, <a class="indexterm" href="r10_typesystem.html#r10_typesystem_features">Features</a>
</dt>
<dt>Parameter, <a class="indexterm" href="Xtend_language.html#N110C9">Parameter Types</a>
</dt>
<dt>Parameterized type, <a class="indexterm" href="r10_typesystem.html">Type System  </a>
</dt>
<dt>Property, <a class="indexterm" href="r10_typesystem.html#r10_typesystem_features">Features</a>
</dt>
<dt>Static property, <a class="indexterm" href="r10_typesystem.html#r10_typesystem_features">Features</a>, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_builtin_staticproperties">StaticProperty literals</a>
</dt>
</dl>
</dd>
<dt>Type inference, <a class="indexterm" href="Xtend_language.html#N10E66">Type Inference</a>
</dt>
<dt>typeSelect, <a class="indexterm" href="r10_expressions_language.html#r10_expressions_collection_typeselect">typeSelect </a>, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_metamodel">Metamodel</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>U</h3>
<dl>
<dt>UML2, <a class="indexterm" href="uml2example.html#uml2example_setup_eclipse">Setting up Eclipse</a>
</dt>
<dt>UML2MetaModel, <a class="indexterm" href="r10_typesystem.html#uml2_metamodel">The UML2 Metamodel
          (org.eclipse.xtend.typesystem.uml2.UML2MetaModel)</a>, <a class="indexterm" href="uml2example_codegen.html#uml2example_codegen_workflow">Defining the workflow</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>V</h3>
<dl>
<dt>VetoStrategy, <a class="indexterm" href="xpand_reference_introduction.html#N11709">VetoStrategy</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>W</h3>
<dl>
<dt>Weaving advices, <a class="indexterm" href="Xtend_language.html#N1107E">Aspect-Oriented Programming in
      Xtend</a>
</dt>
<dt>Whitespace</dt>
<dd>
<dl>
<dt>Omit, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_controlling_generation_of_white_space">Controlling generation of whitespace</a>
</dt>
</dl>
</dd>
<dt>WorkflowComponent, <a class="indexterm" href="Xtend_language.html#N11067">WorkflowComponent</a>
</dt>
</dl>
</div>
<div class="indexdiv">
<h3>X</h3>
<dl>
<dt>XMI, <a class="indexterm" href="emf_tutorial_define_metamodel.html#emf_tutorial_defining_metamodel">Defining the (meta)model</a>
</dt>
<dt>XMIReader, <a class="indexterm" href="r10_typesystem.html#xmi_reader">The XMI reader
          (org.eclipse.xtend.typesystem.uml2.profile.ProfilingExtensions.XmiReader)</a>
</dt>
<dt>XmiReader, <a class="indexterm" href="uml2example_codegen.html#uml2example_codegen_workflow">Defining the workflow</a>
</dt>
<dt>XMI reader, <a class="indexterm" href="r10_typesystem.html#xmi_reader">The XMI reader
          (org.eclipse.xtend.typesystem.uml2.profile.ProfilingExtensions.XmiReader)</a>
</dt>
<dt>Xpand</dt>
<dd>
<dl>
<dt>Comments, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_comments">Comments</a>
</dt>
<dt>Expression statements, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_expression_statement">Expression Statement</a>
</dt>
<dt>Language, <a class="indexterm" href="xpand_reference_introduction.html">Xpand2</a>
</dt>
</dl>
</dd>
<dt>XpandException, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_error">ERROR</a>
</dt>
<dt>XSDMetaModel, <a class="indexterm" href="r10_typesystem.html#xsd_metamodel">The XSD Metamodel
        (org.eclipse.xtend.typesystem.xsd.XSDMetaModel)</a>
</dt>
<dt>Xtend, <a class="indexterm" href="xpand_reference_introduction.html#xpand_reference_extension">EXTENSION</a>
</dt>
<dd>
<dl>
<dt>Comments, <a class="indexterm" href="Xtend_language.html#N10E05">Comments</a>
</dt>
<dt>File extension, <a class="indexterm" href="Xtend_language.html#N10DE7">Xtend files</a>
</dt>
<dt>Language, <a class="indexterm" href="Xtend_language.html">Xtend</a>
</dt>
</dl>
</dd>
<dt>XtendComponent, <a class="indexterm" href="Xtend_language.html#N11067">WorkflowComponent</a>
</dt>
<dd>
<dl>
<dt>Advices, <a class="indexterm" href="Xtend_language.html#N110FA">Workflow configuration</a>
</dt>
</dl>
</dd>
<dt>XtendFacade, <a class="indexterm" href="Xtend_language.html#N11023">Calling Extensions From Java</a>
</dt>
</dl>
</div>
</div>
</div>
</body>
</html>
<html id='0514.Contributing-Patches.html'></html><?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>EGit Contributor Guide - Contributing Patches</title>
		<link type="text/css" rel="stylesheet" href="../../book.css"/>
	</head>
	<body>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<th style="width: 100%" align="center" colspan="3">Contributing Patches</th>
			</tr>
			<tr>
				<td style="width: 20%" align="left">
					<a href="Website.html" title="Website">
						<img alt="Previous" border="0" src="../../images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right">
					<a href="Gerrit-Code-Review-Cheatsheet.html" title="Gerrit Code Review Cheatsheet">
						<img alt="Next" border="0" src="../../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Website</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Gerrit Code Review Cheatsheet</td>
			</tr>
		</table><hr class="navigation-separator"/>
		<h1 id="Contributing_Patches">Contributing Patches</h1>
		<h2 id="Using_Gerrit_at_Eclipse">Using Gerrit at Eclipse</h2>
		<p>EGit and JGit projects are using 
			<a href="https://www.gerritcodereview.com/" target="egit_external">Gerrit Code Review</a> for Git based patch submission and review. 
		</p>
		<p>Parts of this chapter are also available in the 
			<a href="http://wiki.eclipse.org/Gerrit#Doing_Code_Reviews_with_Gerrit" target="egit_external">Eclipse Gerrit wiki</a>.
		</p>
		<h3 id="User_Account">User Account</h3>
		<ul>
			<li>In order to contribute you need an 
				<a href="https://dev.eclipse.org/site_login/createaccount.php" target="egit_external">Eclipse user account</a> on eclipse.org, on creation of a new account you must agree to the Contributor Agreement.
			</li>
		</ul>
		<h3 id="Legal_Paperwork">Legal Paperwork</h3>
		<p>Before your first contribution can be accepted, you need to electronically sign the 
			<a href="https://www.eclipse.org/legal/ECA.php" target="egit_external">Eclipse Contributor Agreement</a> (ECA). The ECA is good for three years. Find more information in the 
			<a href="https://www.eclipse.org/legal/ecafaq.php" target="egit_external">ECA FAQ</a>.
		</p>
		<p>Minimally, all Git commits you contribute must have the following:</p>
		<ul>
			<li>A single line summary in the comment field, followed by a more detailed descriptive paragraph;</li>
			<li>Your credentials (email address) captured in the "Author" field; and</li>
			<li>A "Signed-off-by" entry with matching credentials in the comment.</li>
			<li>The "Signed-off-by" entry is required. By including this, you confirm that you are in compliance with the 
				<a href="https://www.eclipse.org/legal/DCO.php" target="egit_external">Developer Certificate of Origin</a>.
			</li>
		</ul>
		<p>In addition ensure</p>
		<ul>
			<li>that the contributed code is licensed under the project license (EPL 2.0 for EGit and EDL 1.0 for JGit). This is done by putting a 
				<a href="http://www.eclipse.org/legal/copyrightandlicensenotice.php" target="egit_external">copyright and license header</a> into every new java file. See other existing project source files for the correct content.
			</li>
		</ul>
		<p>With a valid ECA on file, the signed-off commit and the copyright and license header in place, we will be able to accept small patches (&lt;1000 LoC) immediately. For larger patches, we will also have to create a contribution questionnaire for review by the Eclipse IP team, but this usually doesn't require additional actions from you.</p>
		<p>To verify whether a contribution 
			<a href="https://dev.eclipse.org/mhonarc/lists/eclipse.org-committers/msg00973.html" target="egit_external">requires a CQ</a>, use one of the following git commands to check:
		</p>
		<ul>
			<li>If it's committed:  git log --shortstat</li>
			<li>If not committed: git diff --stat</li>
		</ul>
		<p>These commands tell you the number of insertions(+), and deletions(-). If the total number of lines inserted (e.g. added) in a contribution is greater than 1000 (yes, this includes comments) then a CQ is required.</p>
		<p>Find more details about how to contribute in 
			<a href="http://wiki.eclipse.org/Development_Resources/Contributing_via_Git" target="egit_external">Contributing via Git (for contributors)</a> and 
			<a href="http://wiki.eclipse.org/Development_Resources/Handling_Git_Contributions" target="egit_external">Handling Git Contributions (for committers)</a>.
		</p>
		<h3 id="Logon">Logon</h3>
		<h4 id="Gerrit_Web_UI">Gerrit Web UI</h4>
		<p>Logon to the Gerrit Web UI at <code>
			<a href="https://git.eclipse.org/r/" target="egit_external">https://git.eclipse.org/r/</a></code> using the email address you registered with your Eclipse (and Bugzilla) account and your Eclipse password.
		</p>
		<h4 id="Git_over_SSH">Git over SSH</h4>
		<p>When accessing Gerrit over SSH from git or EGit use the username displayed 
			<a href="https://git.eclipse.org/r/#/settings/" target="egit_external">here</a> and upload your public SSH key to Gerrit 
			<a href="https://git.eclipse.org/r/#/settings/ssh-keys" target="egit_external">here</a>. 
		</p>
		<p>Gerrit SSH URl: <code>ssh://username@git.eclipse.org:29418/egit/egit.git</code></p>
		<h4 id="Git_over_HTTPS">Git over HTTPS</h4>
		<p>When accessing Gerrit over HTTPS from git or EGit use username and HTTP password displayed 
			<a href="https://git.eclipse.org/r/#/settings/http-password" target="egit_external">here</a>
		</p>
		<p>Gerrit HTTPS URl: <code>
			<a href="https://git.eclipse.org/r/p/egit/egit.git" target="egit_external">https://git.eclipse.org/r/p/egit/egit.git</a></code>
		</p>
		<h3 id="SSH_Keys">SSH Keys</h3>
		<ul>
			<li>Add one or more public SSH keys to 
				<a href="https://git.eclipse.org/r/#/settings/ssh-keys" target="egit_external">Gerrit here</a>.  
			</li>
			<li>If you are 
				<b>absolutely certain</b> you do not have keys already, you must create a public and private pair of SSH keys. It is strongly recommended that you 
				<a href="http://help.github.com/working-with-key-passphrases" target="egit_external">use a passphrase.</a>
			</li>
			<li>
				<b>Generating SSH key pair on command line</b>
			</li>
		</ul>
		<pre><pre style="width: 60em;">ssh-keygen -t rsa -C "your_email@youremail.com"</pre>
</pre>
		<ul>
			<li>Execute SSH once to accept the host key (or copy it from the registration web page)</li>
		</ul>
		<pre style="width: 60em;">ssh -p 29418 username@git.eclipse.org
</pre>
		<p> </p>
		<ul>
			<li>
				<a href="http://wiki.eclipse.org/EGit/User_Guide#Eclipse_SSH_Configuration" target="egit_external">Generating SSH key pair in Eclipse</a>
			</li>
		</ul>
		<h3 id="Doing_Code_Reviews_with_Gerrit">Doing Code Reviews with Gerrit</h3>
		<ul>
			<li>Visit the 
				<a href="https://git.eclipse.org/r/" target="egit_external">Eclipse Gerrit Code Review instance</a> to start reviewing, 
			</li>
			<li>
				<a href="https://git.eclipse.org/r/#/settings/projects" target="egit_external">Register to watch projects</a> if you want to be notified by email on new or updated changes pushed for review
			</li>
			<li>Adjust your 
				<a href="https://git.eclipse.org/r/#/settings/preferences" target="egit_external">Gerrit preferences</a> to customize it to your needs
			</li>
			<li>See the 
				<a href="https://git.eclipse.org/r/Documentation/index.html#_user_guide" target="egit_external">Gerrit user guide</a> for more information about using Gerrit.
			</li>
			<li>The 
				<a href="http://wiki.eclipse.org/EGit/User_Guide#EGit_Tutorial_.28EclipseCon_Europe_Nov_2011.29" target="egit_external">EGit tutorial</a> walks you through the basic steps of working with Gerrit and EGit.
			</li>
			<li>Use 
				<a href="https://git.eclipse.org/r/Documentation/user-search.html" target="egit_external">Gerrit queries</a> to filter the review list for changes you are interested in:
				<ul>
					<li>
						<a href="https://git.eclipse.org/r/#/q/status:open+project:egit/egit,n,z" target="egit_external">EGit changes pending in review</a>
					</li>
					<li>
						<a href="https://git.eclipse.org/r/#/q/status:open+project:jgit/jgit,n,z" target="egit_external">JGit changes pending in review</a>
					</li>
				</ul>
			</li>
		</ul>
		<h3 id="Using_Gerrit_with_git_command_line:">Using Gerrit with git command line:</h3>
		<ul>
			<li>Upload your patch from Git to the target project:</li>
		</ul>
		<p>
			<b>JGit</b>
		</p>
		<pre style="width: 60em;">git push ssh://username@git.eclipse.org:29418/jgit/jgit.git HEAD:refs/for/master
</pre>
		<p> 

			<b>EGit</b>
		</p>
		<pre style="width: 60em;">git push ssh://username@git.eclipse.org:29418/egit/egit.git HEAD:refs/for/master
</pre>
		<p> </p>
		<ul>
			<li>Visit the 
				<a href="https://git.eclipse.org/r/" target="egit_external">Eclipse Gerrit Code Review server</a> to start reviewing
			</li>
		</ul>
		<h4 id="Adding_a_dedicated_remote">Adding a dedicated remote</h4>
		<p>Since git can have multiple remotes, you can define one to be used to refer to Gerrit to save typing. Inside a previously checked-out repository you can run: </p>
		<pre>cd path/to/jgit
git config remote.review.url ssh://username@git.eclipse.org:29418/jgit/jgit.git
git config remote.review.push HEAD:refs/for/master

cd path/to/egit 
git config remote.review.url ssh://username@git.eclipse.org:29418/egit/egit.git
git config remote.review.push HEAD:refs/for/master
</pre>
		<p> 
			You can now submit review requests from either repository using: </p>
		<pre>git push review
</pre>
		<h3 id="Using_Gerrit_with_EGit:">Using Gerrit with EGit:</h3>
		<p>Eclipse will look for your private key in the SSH2 Home location specified in the General&gt;Network Connections&gt;SSH2 Preference Page.  If your <code>id_rsa</code> private key makes use of the AES-128-CBC algorithm (view the file as text to confirm), Eclipse will need at least <code>com.jcraft.jsch 0.1.44</code> to make use of it.</p>
		<ul>
			<li>
				<a href="../../EGit/User_Guide/Tasks.html#Cloning_Remote_Repositories" title="EGit/User_Guide#Cloning_Remote_Repositories">Clone the JGit and EGit repositories</a> and select 
				<b>Gerrit Configuration...</b> in the context menu of the remote "origin" in the Git Repositories view to 
				<a href="http://wiki.eclipse.org/EGit/User_Guide#Gerrit_Configuration" target="egit_external">configure pushing to the code review queue</a>.
			</li>
			<li>Alternative approach: Add a new review remote in the Git Repositories view and select 
				<b>Gerrit Configuration...</b> in the context menu of the remote
				<ul>
					<li>From the appropriate Remotes node, create a New Remote and choose to Configure for Push.  A unique name should be chosen, 
						<i>review</i> is suggested.
					</li>
					<li>Changes committed to your local clone can now be pushed to Gerrit using the 
						<i>review</i> Remote.  You will be prompted for your private key's passphrase if Eclipse is looking for it in the right place.
					</li>
				</ul>
			</li>
			<li>Instead of using the 
				<b>Gerrit Configuration...</b> wizard you can do the configuration steps manually:
				<ul>
					<li>Change the main URI or Add a Push URI (your Gerrit user name must be used here) 
						<ul>
							<li><code>ssh://username@git.eclipse.org:29418/(project).git</code>  </li>
						</ul>
					</li>
					<li>In the Ref mapping section, add a RefSpec specification of <code>HEAD:refs/for/master</code></li>
				</ul>
			</li>
		</ul>
		<ul>
			<li>Visit our 
				<a href="https://git.eclipse.org/r/" target="egit_external">Gerrit Code Review instance</a> to start reviewing
			</li>
		</ul>
		<h3 id="Using_the_Mylyn_Gerrit_Connector">Using the Mylyn Gerrit Connector</h3>
		<p>The Mylyn Gerrit Connector can be installed from the Mylyn p2 repository, e.g. for juno from 
			<a href="http://download.eclipse.org/mylyn/releases/juno" target="egit_external">http://download.eclipse.org/mylyn/releases/juno</a>.
		</p>
		<p>It contains several useful features:</p>
		<ul>
			<li>Cloning from Gerrit and automatic configuration
				<ul>
					<li>The wizards "Import Projects from Git" and "Clone Git Repository" will offer the possibility to browse the list of repositories on Gerrit servers and to clone selected repositories. After cloning the Gerrit configuration will be done automatically.</li>
				</ul>
			</li>
			<li>Importing Gerrit changes as Mylyn tasks</li>
			<li>Fetching patch sets directly from the task editor</li>
			<li>Reviewing changes in the task editor</li>
			<li>Submitting changes from the task editor</li>
		</ul>
		<h2 id="Granularity_of_Changes">Granularity of Changes</h2>
		<ul>
			<li>Make small commits, as small as reasonable. This makes them easy to review.</li>
			<li>Each commit should have a commit message that explains very clearly what the commit sets out to achieve (unless this is abundantly clear from the code itself, which is basically only the case for trivial patches). Also, when you fix a bug then report which bug you fix. When there are deeper reasons for doing things the way the commit does, then explain these as well. This all is for the reviewers and yourself: the context of the commit is completely clear.</li>
			<li>Do not mix concerns in commits: have a commit do a single thing. This makes them reviewable 'in isolation'. The purpose of the commit is clear and can be understood easily by the reviewers and yourself.</li>
			<li>Do not break the build and tests for 
				<b>any commit</b>: this is very important for bug hunting.
			</li>
			<li>Split your work into multiple smaller pieces of work (when possible) and implement each of these pieces in a series of commits.</li>
			<li>A series of commits should work towards a 'feature' in a clear way and only 'enable' the feature in the last commit of the series.</li>
			<li>In a series of commits first lay the groundwork and then build on that towards the feature.</li>
		</ul>
		<h3 id="Branches">Branches</h3>
		<p>When working with Gerrit, you can create local branches as you wish. When you are ready to push your changes, only the commits from your branch are pushed and are converted to reviews on Gerrit. The branch name itself is not visible on Gerrit.</p>
		<p>Do not mix unrelated changes in branches: When you encounter a bug while working on something then create a new branch to fix the bug. Make sure you base it on the state of the remote branch that you want your fix to go to, e.g. 
			<i>origin/master</i>. If you have other changes that depend on the bug being fixed then rebase your work on that new branch.
		</p>
		<p>Merge/Rebase: If you want your branch to include new commits from the remote repository, rebase your local branch. The reason for this is that in Gerrit, changes are reviewed one commit at a time, and modified until all review feedback has been addressed. This is different from a pull request workflow, where the combined changes are reviewed and feedback is addressed with additional commits.</p>
		<h2 id="Coding_standards">Coding standards</h2>
		<p>Eclipse has standards for how to write code.</p>
		<p>
			<a href="http://wiki.eclipse.org/Coding_Conventions" title="Coding_Conventions" target="egit_external">Coding conventions</a>
		</p>
		<p>
			<a href="http://wiki.eclipse.org/User_Interface_Guidelines" title="User_Interface_Guidelines" target="egit_external">Use interface guidelines</a>
		</p>
		<p>These documents have links to other document. Browse through them without expecting to learn everything, just so you know roughly what areas and types of details they covert. When you are
			not sure about how to write a piece of code or design the user interface, these are the two
			first places to look at.</p>
		<p>In addition there is all the worlds collective knowledge on how to write programs that shine.
			When there is a conflict, the Eclipse guide lines and conventions take precedence.</p>
		<p>Breaking the rules is ok if there is a very good reason and you can tell us what that reason
			is.</p>
		<p>In addition to these general rules, we regard performance high. If the EGit plugin is slow 
			in any way, that is a bug and should be reported and fixed. Java isn't slow, but there is a
			lot of slow Java code.</p>
		<h3 id="Braces_for_one-line_statements">Braces for one-line statements</h3>
		<p>Before 3.7.0 both in JGit and EGit, the preferred coding style was to leave off braces around statements with one line (with some exceptions to this rule), e.g.:</p>
		<pre>if (condition)
    doSomething();
</pre>
		<p>Starting with 3.7.0 braces are mandatory independently on the number of lines, without exceptions. The old code will remain as is, but the new changes should use the style below:</p>
		<pre>if (condition) {
    doSomething();
}
</pre>
		<p>The main reason to the change was to simplify the review process, coding guidelines and to make them more consistent with Eclipse code formatter, see 
			<a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=457592" target="egit_external">bug 457592</a>.
		</p>
		<h3 id="Removing_trailing_whitespace">Removing trailing whitespace</h3>
		<p>In JGit and EGit we have enabled the save action "Remove trailing white spaces on all lines" for Java sources. This works except for empty comment lines, see 
			<a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=414421" target="egit_external">bug 414421</a>.
		</p>
		<p>As a workaround, use the following sequence of commands in the Java editor to trick the save action:</p>
		<ul>
			<li>remove the offending trailing whitespace</li>
			<li>the save action re-adds the trailing whitespace</li>
			<li>CTRL-Z (CMD-Z on Mac) removes the re-added whitespace without  triggering the save action again</li>
		</ul>
		<p>Another workaround is to use 
			<a href="http://stackoverflow.com/questions/10413922/convert-spaces-to-tabs-in-lines-i-changed-in-a-commit?answertab=active#tab-top" target="egit_external">this little script</a> from the command line to edit away trailing whitespace from changed lines.
		</p>
		<h3 id="Use_of_the_.22final.22_modifier">Use of the "final" modifier</h3>
		<p>New code uses the "final" modifier in the following circumstances
			<a href="https://gerrit-review.googlesource.com/c/gerrit/+/61701/" target="egit_external">https://gerrit-review.googlesource.com/c/gerrit/+/61701/</a>.
		</p>
		<p>Always:</p>
		<ul>
			<li>final fields: marking fields as final forces them to be initialized in the constructor or at declaration</li>
			<li>final static fields: clearly communicates the intent</li>
			<li>where necessary to use final variables in inner anonymous classes</li>
		</ul>
		<p>Optional:</p>
		<ul>
			<li>final classes: use when appropriate, e.g. API restriction</li>
			<li>final methods: similar to final classes</li>
		</ul>
		<p>Never:</p>
		<ul>
			<li>local variables: it clutters the code, and makes the code less readable. When copying old code to new location, finals should be removed</li>
			<li>method parameters: similar to local variables</li>
		</ul>
		<h2 id="Commit_message_guidelines">Commit message guidelines</h2>
		<ul>
			<li>The commit message header should fit on one line and should start with an uppercase letter. A blank line separates it from the body of the message.</li>
			<li>The first line should be a clear and concise description about the change and should not end with a dot.</li>
			<li>In case of release engineering tasks without bugzilla entries the commit message header may look like "[findbugs] Fix warning XYZ for String constructor". The prefix in brackets is an indication why this comes without a corresponding bug. </li>
			<li>Enter a newline before providing a more detailed description about the change.</li>
			<li>Format the commit message to have newline characters after every 60-70 characters. </li>
			<li>Find more reasoning about commit message formatting in 
				<a href="http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html" target="egit_external">"A Note About Git Commit Messages"</a>
			</li>
			<li>
				<i>Commit message footers</i> (everything following the last blank line in the commit message) in 
				<i>Key: value</i> format are used for additional commit meta data. Some tools especially 
				<i>Gerrit</i> parse this meta data to provide additional functionality.
				<ul>
					<li>If there is an associated bug number in Bugzilla about it, it should come as a 
						<i>Bug:</i> footer right before Gerrit's Change-Id entry (if available) or towards the end. Use exactly the capitalization "Bug", since the automatic linking mechanism to the bug database is case sensitive.
					</li>
					<li>If a 
						<i>Contribution Questionnaire</i> has been issued to initiate and track the review of contributed changes by the Eclipse Foundation's IP team the IPZilla bug number should be added as  
						<i>CQ:</i> footer in the format shown below
					</li>
					<li>A 
						<i>Gerrit Change-Id</i> footer is required for all changes pushed to Gerrit (to enable pushing new patchsets for the same change), it should be added in the format shown below. Use the 
						<a href="Gerrit-Code-Review-Cheatsheet.html#Install_the_commit-msg_hook_in_your_repository" title="EGit/Contributor_Guide#Install_the_commit-msg_hook_in_your_repository">Gerrit commit message hook or EGit</a> to add the 
						<i>Change-Id</i>.
					</li>
					<li>A "Signed-off-by" can be added at the end of the commit message (see example below). Note: At the moment this footer is not required for committers, but for non-committer contributors. It may be used to list all who modified (amended, rebased, cherry-picked) this change.</li>
				</ul>
			</li>
		</ul>
		<pre>Fix the commit dialog to respect the workbench's selection

Originally, the commit dialog would automatically check off all
files in the dialog. This behaviour contradicts a user's expectation
because their selection in the workbench is completely ignored. The
code has been corrected to only preselect what the user has actually
selected.

Bug: 12345
CQ: 6031
Change-Id: I71ac4844ab9d2f848352eba9252090c586b4146a
Signed-off-by: Your Name &lt;your.email@example.org&gt;
</pre>
		<p>If you use Mylyn to fetch a bug from bugzilla, and then activate the task, the commit message will automatically be formatted exactly like requested above.</p>
		<h2 id="License_Header">License Header</h2>
		<p>JGit is licensed under the 
			<a href="https://www.eclipse.org/org/documents/edl-v10.php" target="egit_external">Eclipse Distribution License</a> which is a form of the 
			<a href="https://opensource.org/licenses/BSD-3-Clause" target="egit_external">New BSD License</a>.
			Use of this license by an Eclipse project requires unanimous approval by the Board of Directors of the Eclipse Foundation
			which was approved in a 
			<a href="https://www.eclipse.org/org/foundation/boardminutes/2009_09_16_Minutes.php" target="egit_external">meeting of the board in Sep 2009</a>.
		</p>
		<p>The license header to be used for JGit is (see this 
			<a href="https://www.eclipse.org/lists/jgit-dev/msg00127.html" target="egit_external">mail thread on the jgit-dev list</a>):
		</p>
		<pre>/*
 * Copyright &#169; YEAR, CONTRIBUTOR
 * [Copyright &#169; YEAR, CONTRIBUTOR...]
 * and other copyright owners as documented in the project's IP log.
 *
 * This program and the accompanying materials are made available
 * under the terms of the Eclipse Distribution License v1.0 which
 * accompanies this distribution, is reproduced below, and is
 * available at <a href="http://www.eclipse.org/org/documents/edl-v10.php" target="egit_external">http://www.eclipse.org/org/documents/edl-v10.php</a>
 *
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or
 * without modification, are permitted provided that the following
 * conditions are met:
 *
 * - Redistributions of source code must retain the above copyright
 *   notice, this list of conditions and the following disclaimer.
 *
 * - Redistributions in binary form must reproduce the above
 *   copyright notice, this list of conditions and the following
 *   disclaimer in the documentation and/or other materials provided
 *   with the distribution.
 *
 * - Neither the name of the Eclipse Foundation, Inc. nor the
 *   names of its contributors may be used to endorse or promote
 *   products derived from this software without specific prior
 *   written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
 * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,
 * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
</pre>
		<p>See 
			<a href="http://www.eclipse.org/legal/copyrightandlicensenotice.php" target="egit_external">http://www.eclipse.org/legal/copyrightandlicensenotice.php</a> for more information.
		</p>
		<h2 id="Copyright">Copyright</h2>
		<p>When contributing patches, you have to update the copyright section at the beginning of the file if there is one. Please follow the style that is already present in the file. Some examples follow.</p>
		<p>When there is only one copyright present (from a person or a company), like this:</p>
		<pre>Copyright (C) 2010, 2011 Some Name &lt;some@example.org&gt;
</pre>
		<p>Change it like this (notice the updated year):</p>
		<pre>Copyright (C) 2010, YEAR Some Name &lt;some@example.org&gt; and others.
</pre>
		<p>If there is a section <tt>Contributors:</tt> below the legal text and your change is more than a few lines, you can add your name there and optionally describe the change and link to a bug number. You can also start such a section if you contributed a significant change.</p>
		<p>When there are multiple copyright entries there, add yours as a separate line. So, given this:</p>
		<pre>Copyright (C) 2010 Some Name &lt;some@example.org&gt;
Copyright (C) 2011 Other Name &lt;other@example.org&gt;
</pre>
		<p>Add another line:</p>
		<pre>Copyright (C) 2010 Some Name &lt;some@example.org&gt;
Copyright (C) 2011 Other Name &lt;other@example.org&gt;
Copyright (C) YEAR Your Name &lt;you@example.org&gt;
</pre>
		<p>For new files, copy one of the existing headers and start the copyright section with your name.</p>
		<h2 id="Test_before_submitting">Test before submitting</h2>
		<p>See the 
			<a href="#Manual_alpha_testing">Manual alpha testing</a> section for some advice about how to test you work yourself.
		</p>
		<ul>
			<li>Add automated tests for enhancements and bug fixes to ensure functional correctness and avoid regressions</li>
			<li>Run all existing tests. It does not take very long.</li>
			<li>Pay attention to the Java and Eclipse SDK baselines. EGit requires only Java 8 and Eclipse 4.4. You cannot use API's that are newer.</li>
		</ul>
		<h2 id="Sending_patches_by_mail">Sending patches by mail</h2>
		<p>Although sending patches by mail is the approved way of interacting with, and asking feedback from, the Git project, please don't send patches via 
			<a href="http://www.kernel.org/pub//software/scm/git/docs/git-send-email.html" target="egit_external">git send-email</a>. Instead, please use 
			<a href="http://www.kernel.org/pub/software/scm/git/docs/git-format-patch.html" target="egit_external">git format-patch</a> to generate the <code>mbox</code>, and then attach that to an item in bugzilla as per the above SUBMITTING_PATCHES guides. 
		</p>
		<p>If you're sending a work-in-progress for a review, be aware that you can also attach work-in-progress (or RFC) items to Bugzilla; it's not just for finished patches. </p>
		<p>
			<b>However</b>, it's generally preferred that you send items which you want comments on via Gerrit as per 
			<a href="#Contributing_Patches">Contributing_Patches</a>, since Gerrit allows comments to be added in-line and allows the opportunity to send multiple versions of a patch after changes are made. Once a change has been submitted to Gerrit, you can then mail the developer mailing list with a request to review your change via URL or get Gerrit to send the mail on your behalf.
		</p>
		<p>
			<br/>
		</p><hr class="navigation-separator"/>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<td style="width: 20%" align="left">
					<a href="Website.html" title="Website">
						<img alt="Previous" border="0" src="../../images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center">
					<a href="Contributor-Guide.html" title="EGit Contributor Guide">
						<img alt="EGit Contributor Guide" border="0" src="../../images/home.gif"/>
					</a>
				</td>
				<td style="width: 20%" align="right">
					<a href="Gerrit-Code-Review-Cheatsheet.html" title="Gerrit Code Review Cheatsheet">
						<img alt="Next" border="0" src="../../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Website</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Gerrit Code Review Cheatsheet</td>
			</tr>
		</table>
	</body>
</html><html id='0021.ScriptingReference.24.5.html'></html><?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>BirtDuration</title>
    <link rel="StyleSheet" href="css/ScriptingReference.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
  </head>
  <body>
    <div style="text-align: left;">
      <table cellspacing="0" summary="">
        <tr>
          <td>
            <a href="ScriptingReference.24.4.html"><img src="images/prev.gif" alt="Previous" border="0" /></a>
          </td>
          <td>
            <a href="ScriptingReference.24.6.html"><img src="images/next.gif" alt="Next" border="0" /></a>
          </td>
        </tr>
      </table>
    </div>
    <hr align="left" />
    <blockquote>
      <h2 class="RH1_Class">Class  <a name="322273">BirtDuration</a></h2>
      <p class="b_Body"><a name="322274">The BirtDuration class provides functions to get parts of time periods, or durations, used in XML documents. The durations are specified in the following form:</a></p>
      <div class="cfb_CodeFirst_Break"><a name="317618">P</a><em class="Italic">n</em>Y<em class="Italic">n</em>M<em class="Italic">n</em>DT<em class="Italic">n</em>H<em class="Italic">n</em>M<em class="Italic">n</em>S</div>
      <p class="b_Body"><a name="317629">where:</a></p>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="317218">P indicates the period (required)</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><em class="Italic" style="font-family: &quot;Microsoft Sans Serif&quot;; font-size: 9.0pt"><a name="317235">n</a></em>Y indicates the number of years</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><em class="Italic" style="font-family: &quot;Microsoft Sans Serif&quot;; font-size: 9.0pt"><a name="317242">n</a></em>M indicates the number of months</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><em class="Italic" style="font-family: &quot;Microsoft Sans Serif&quot;; font-size: 9.0pt"><a name="317249">n</a></em>D indicates the number of days</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="317256">T indicates the start of a time section (required if the duration includes hours, minutes, or seconds)</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><em class="Italic" style="font-family: &quot;Microsoft Sans Serif&quot;; font-size: 9.0pt"><a name="317263">n</a></em>H indicates the number of hours</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><em class="Italic" style="font-family: &quot;Microsoft Sans Serif&quot;; font-size: 9.0pt"><a name="321336">n</a></em>M indicates the number of minutes</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><em class="Italic" style="font-family: &quot;Microsoft Sans Serif&quot;; font-size: 9.0pt"><a name="321337">n</a></em>S indicates the number of seconds</div>
            </td>
          </tr>
        </table>
      </div>
      <p class="b_Body"><a name="321338">For example, the following value indicates a duration of 2 years, 3 months, and 5 days:</a></p>
      <div class="cfb_CodeFirst_Break"><a name="317581">P2Y3M5D</a></div>
      <p class="b_Body"><a name="317652">The following value indicates a duration of 10 hours:</a></p>
      <div class="cfb_CodeFirst_Break"><a name="317608">PT10H</a></div>
      <p class="b_Body"><a name="317674">The BirtDuration class is static. The application cannot create instances of the class.</a></p>
      <h3 class="RH2_Method"><a name="349842">BirtDuration.add</a></h3>
      <p class="b_Body"><a name="349843">This function adds two durations together, and returns the sum.</a></p>
      <p class="N_sb_ScanBold"><a name="349844">Syntax</a></p>
      <div class="rs_RSyntax"><a name="349845">string BirtDuration.add(string lexicalDuration1, string lexicalDuration2)</a></div>
      <p class="N_sb_ScanBold"><a name="349846">Parameters</a></p>
      <p class="RParameter"><a name="349847">lexicalDuration1</a></p>
      <p class="bn_BodyNoLead"><a name="349848">String. The first duration to add.</a></p>
      <p class="RParameter"><a name="349849">lexicalDuration2</a></p>
      <p class="bn_BodyNoLead"><a name="349850">String. The second duration to add.</a></p>
      <p class="N_sb_ScanBold"><a name="349851">Returns</a></p>
      <p class="b_Body"><a name="349852">String. The sum of the two input durations.</a></p>
      <p class="N_sb_ScanBold"><a name="349853">Examples</a></p>
      <p class="b_Body"><a name="349854">The following example adds two durations:</a></p>
      <div class="cf_CodeFirst"><a name="349855">BirtDuration.add("P1Y3M", "P13M") // returns P2Y4M</a></div>
      <h3 class="RH2_Method"><a name="350314">BirtDuration.addTo</a></h3>
      <p class="b_Body"><a name="350315">This function adds a duration to a specified Date object.</a></p>
      <p class="N_sb_ScanBold"><a name="350316">Syntax</a></p>
      <div class="rs_RSyntax"><a name="350317">Date BirtDuration.add(string lexicalDuration, Date date)</a></div>
      <p class="N_sb_ScanBold"><a name="350318">Parameters</a></p>
      <p class="RParameter"><a name="350319">lexicalDuration</a></p>
      <p class="bn_BodyNoLead"><a name="350320">String. The duration to add.</a></p>
      <p class="RParameter"><a name="350321">date</a></p>
      <p class="bn_BodyNoLead"><a name="350322">Date object. The date and time to modify.</a></p>
      <p class="N_sb_ScanBold"><a name="350323">Returns</a></p>
      <p class="b_Body"><a name="350324">Date object. The date advanced by the duration.</a></p>
      <p class="N_sb_ScanBold"><a name="350325">Examples</a></p>
      <p class="b_Body"><a name="350413">The following example adds one year to today’s date and time:</a></p>
      <div class="cf_CodeFirst"><a name="350414">var today = new Date();</a></div>
      <div class="co_Code"><a name="350420">var annualDate = BirtDuration.addTo(today, "P1Y") </a></div>
      <h3 class="RH2_Method"><a name="350439">BirtDuration.compare</a></h3>
      <p class="b_Body"><a name="350440">This function tests if a duration is the same, greater than, or less than another duration.</a></p>
      <p class="N_sb_ScanBold"><a name="350441">Syntax</a></p>
      <div class="rs_RSyntax"><a name="350442">integer BirtDuration.compare(string lexicalDuration1, string lexicalDuration2)</a></div>
      <p class="N_sb_ScanBold"><a name="350443">Parameters</a></p>
      <p class="RParameter"><a name="350444">lexicalDuration1</a></p>
      <p class="bn_BodyNoLead"><a name="350445">String. The first duration to use in the comparison.</a></p>
      <p class="RParameter"><a name="350446">lexicalDuration2</a></p>
      <p class="bn_BodyNoLead"><a name="350447">String. The second duration to use in the comparison.</a></p>
      <p class="N_sb_ScanBold"><a name="350448">Returns</a></p>
      <p class="b_Body"><a name="350449">Integer. Partial order relation between the two durations. Returns 1 if the first duration is greater, 0 if they are equal and -1 if the second duration is greater.</a></p>
      <p class="N_sb_ScanBold"><a name="350450">Examples</a></p>
      <p class="b_Body"><a name="350451">The following expressions compare the lengths of specific durations:</a></p>
      <div class="cf_CodeFirst"><a name="350452">BirtDuration.compare("P1Y", "P12M"); // returns 0</a></div>
      <div class="co_Code"><a name="350453">BirtDuration.compare( "P3M" ,  "P100D" ) // returns -1</a></div>
      <div class="co_Code"><a name="350454">BirtDuration.compare( "PT25H" ,  "P1D" ) // returns 1</a></div>
      <h3 class="RH2_Method"><a name="316868">BirtDuration.day</a></h3>
      <p class="b_Body"><a name="316869">This function returns the days value of a given duration.</a></p>
      <p class="N_sb_ScanBold"><a name="316870">Syntax</a></p>
      <div class="rs_RSyntax"><a name="316871">integer BirtDuration.day( string lexicalDuration )</a></div>
      <p class="N_sb_ScanBold"><a name="316872">Parameter</a></p>
      <p class="RParameter"><a name="316873">lexicalDuration</a></p>
      <p class="bn_BodyNoLead"><a name="316874">String. A duration from which to get the days value.</a></p>
      <p class="N_sb_ScanBold"><a name="316877">Returns</a></p>
      <p class="b_Body"><a name="316878">An integer that represents the days value of the specified duration.</a></p>
      <p class="N_sb_ScanBold"><a name="316879">Examples</a></p>
      <p class="b_Body"><a name="317732">The following examples show the day values returned for specific durations:</a></p>
      <div class="cf_CodeFirst"><a name="317733">BirtDuration.day( "P1Y15DT12H" ) // returns 15</a></div>
      <div class="co_Code"><a name="320246">BirtDuration.day( "P5Y2M" ) // returns 0</a></div>
      <h3 class="RH2_Method"><a name="356229">BirtDuration.getSign</a></h3>
      <p class="b_Body"><a name="356230">This function returns the sign of a duration.</a></p>
      <p class="N_sb_ScanBold"><a name="356231">Syntax</a></p>
      <div class="rs_RSyntax"><a name="356232">integer BirtDuration.getSign( string lexicalDuration )</a></div>
      <p class="N_sb_ScanBold"><a name="356233">Parameters</a></p>
      <p class="RParameter"><a name="356234">lexicalDuration</a></p>
      <p class="bn_BodyNoLead"><a name="356235">String. The duration to analyze.</a></p>
      <p class="N_sb_ScanBold"><a name="356238">Returns</a></p>
      <p class="b_Body"><a name="356239">Integer. The sign of the duration as a multiplier. Returns 1 for a positive duration, -1 for a negative duration, and 0 for null or 0 value.</a></p>
      <p class="N_sb_ScanBold"><a name="356240">Examples</a></p>
      <p class="b_Body"><a name="356241">The following expression analyzes the sings of a specific duration:</a></p>
      <div class="cf_CodeFirst"><a name="356242">BirtDuration.getSign("P0Y"); // returns 0</a></div>
      <div class="co_Code"><a name="356868">BirtDuration.getSign("-P8Y2M3D"); // returns -1</a></div>
      <h3 class="RH2_Method"><a name="320437">BirtDuration.hour</a></h3>
      <p class="b_Body"><a name="320438">This function returns the hours value of a given duration.</a></p>
      <p class="N_sb_ScanBold"><a name="320439">Syntax</a></p>
      <div class="rs_RSyntax"><a name="320440">integer BirtDuration.hour( string lexicalDuration )</a></div>
      <p class="N_sb_ScanBold"><a name="320441">Parameter</a></p>
      <p class="RParameter"><a name="320442">lexicalDuration</a></p>
      <p class="bn_BodyNoLead"><a name="320443">String. A duration from which to get the hours value.</a></p>
      <p class="N_sb_ScanBold"><a name="320444">Returns</a></p>
      <p class="b_Body"><a name="320445">An integer that represents the hours value of the specified duration.</a></p>
      <p class="N_sb_ScanBold"><a name="320446">Examples</a></p>
      <p class="b_Body"><a name="320447">The following examples show the hour values returned for specific durations:</a></p>
      <div class="cf_CodeFirst"><a name="320448">BirtDuration.hour( "P1Y15DT12H" ) // returns 12</a></div>
      <div class="co_Code"><a name="320449">BirtDuration.hour( "P5Y2M" ) // returns 0</a></div>
      <h3 class="RH2_Method"><a name="321505">BirtDuration.isLongerThan</a></h3>
      <p class="b_Body"><a name="321506">This function tests if a duration is longer than another duration. Sometimes the order relationship between certain durations cannot be determined, for example, one month (P1M) and 30 days (P30D), or one year (P1Y) and 365 days (P365D). In cases such as these, the function returns false.</a></p>
      <p class="N_sb_ScanBold"><a name="321507">Syntax</a></p>
      <div class="rs_RSyntax"><a name="321508">boolean BirtDuration.isLongerThan( string lexicalDuration1, string lexicalDuration2 )</a></div>
      <p class="N_sb_ScanBold"><a name="321509">Parameters</a></p>
      <p class="RParameter"><a name="321510">lexicalDuration1</a></p>
      <p class="bn_BodyNoLead"><a name="321511">String. The first duration to use in the comparison.</a></p>
      <p class="RParameter"><a name="321512">lexicalDuration2</a></p>
      <p class="bn_BodyNoLead"><a name="321513">String. The second duration to use in the comparison.</a></p>
      <p class="N_sb_ScanBold"><a name="321514">Returns</a></p>
      <p class="b_Body"><a name="322015">Boolean. True if the first duration is longer than the second duration; returns false otherwise.</a></p>
      <p class="N_sb_ScanBold"><a name="322016">Examples</a></p>
      <p class="b_Body"><a name="322017">The following expressions compare the lengths of specific durations:</a></p>
      <div class="cf_CodeFirst"><a name="321518">BirtDuration.isLongerThan( "P1Y3M" ,  "P13M" ) // returns true</a></div>
      <div class="co_Code"><a name="321519">BirtDuration.isLongerThan( "P2M" ,  "P62D" ) // returns false</a></div>
      <div class="co_Code"><a name="321520">BirtDuration.isLongerThan( "PT25H" ,  "P1D" ) // returns true</a></div>
      <h3 class="RH2_Method"><a name="322168">BirtDuration.isShorterThan</a></h3>
      <p class="b_Body"><a name="322169">This function tests if a duration is shorter than another duration. Sometimes the order relationship between certain durations cannot be determined, for example, one month (P1M) and 30 days (P30D), or one year (P1Y) and 365 days (P365D). In cases such as these, the function returns false.</a></p>
      <p class="N_sb_ScanBold"><a name="322170">Syntax</a></p>
      <div class="rs_RSyntax"><a name="322171">boolean BirtDuration.isShorterThan( string lexicalDuration1, string lexicalDuration2 )</a></div>
      <p class="N_sb_ScanBold"><a name="322172">Parameters</a></p>
      <p class="RParameter"><a name="322173">lexicalDuration1</a></p>
      <p class="bn_BodyNoLead"><a name="322174">String. The first duration to use in the comparison.</a></p>
      <p class="RParameter"><a name="322175">lexicalDuration2</a></p>
      <p class="bn_BodyNoLead"><a name="322176">String. The second duration to use in the comparison.</a></p>
      <p class="N_sb_ScanBold"><a name="322177">Returns</a></p>
      <p class="b_Body"><a name="322178">Boolean. True if the first duration is shorter than the second duration; returns false otherwise.</a></p>
      <p class="N_sb_ScanBold"><a name="322179">Examples</a></p>
      <p class="b_Body"><a name="322180">The following expressions compare the lengths of specific durations:</a></p>
      <div class="cf_CodeFirst"><a name="322181">BirtDuration.isShorterThan( "P1Y3M" ,  "P13M" ) // returns false</a></div>
      <div class="co_Code"><a name="322182">BirtDuration.isShorterThan( "P2M" ,  "P62D" ) // returns false</a></div>
      <div class="co_Code"><a name="322183">BirtDuration.isShorterThan( "PT25H" ,  "P1D" ) // returns false</a></div>
      <div class="co_Code"><a name="322228">BirtDuration.isShorterThan( "P27D" , "P1M" ) // returns true</a></div>
      <h3 class="RH2_Method"><a name="320752">BirtDuration.minute</a></h3>
      <p class="b_Body"><a name="320753">This function returns the minutes value of a given duration.</a></p>
      <p class="N_sb_ScanBold"><a name="320754">Syntax</a></p>
      <div class="rs_RSyntax"><a name="320755">integer BirtDuration.minute( string lexicalDuration )</a></div>
      <p class="N_sb_ScanBold"><a name="320756">Parameter</a></p>
      <p class="RParameter"><a name="320757">lexicalDuration</a></p>
      <p class="bn_BodyNoLead"><a name="320758">String. A duration from which to get the minutes value.</a></p>
      <p class="N_sb_ScanBold"><a name="320759">Returns</a></p>
      <p class="b_Body"><a name="320760">Integer. A number that represents the minutes value of the specified duration.</a></p>
      <p class="N_sb_ScanBold"><a name="320761">Examples</a></p>
      <p class="b_Body"><a name="320762">The following examples show the minutes values returned for specific durations:</a></p>
      <div class="cf_CodeFirst"><a name="320763">BirtDuration.minute( "P1Y15DT12H30M45S" ) // returns 30</a></div>
      <div class="co_Code"><a name="320849">BirtDuration.minute( "P5Y2M8DT15H" ) // returns 0</a></div>
      <h3 class="RH2_Method"><a name="320850">BirtDuration.month</a></h3>
      <p class="b_Body"><a name="320851">This function returns the months value of a given duration.</a></p>
      <p class="N_sb_ScanBold"><a name="320852">Syntax</a></p>
      <div class="rs_RSyntax"><a name="320817">integer BirtDuration.month( string lexicalDuration )</a></div>
      <p class="N_sb_ScanBold"><a name="320818">Parameter</a></p>
      <p class="RParameter"><a name="320819">lexicalDuration</a></p>
      <p class="bn_BodyNoLead"><a name="320820">String. A duration from which to get the months value.</a></p>
      <p class="N_sb_ScanBold"><a name="320821">Returns</a></p>
      <p class="b_Body"><a name="320822">Integer. A number that represents the months value of the specified duration.</a></p>
      <p class="N_sb_ScanBold"><a name="320823">Examples</a></p>
      <p class="b_Body"><a name="320824">The following examples show the month values returned for specific durations:</a></p>
      <div class="cf_CodeFirst"><a name="320825">BirtDuration.month( "P1Y3M15DT12H30M45S" ) // returns 3</a></div>
      <div class="co_Code"><a name="320826">BirtDuration.month( "P5Y8DT15H" ) // returns 0</a></div>
      <h3 class="RH2_Method"><a name="356432">BirtDuration.multiply</a></h3>
      <p class="b_Body"><a name="356433">This function returns the product of a duration and a regular number.</a></p>
      <p class="N_sb_ScanBold"><a name="356434">Syntax</a></p>
      <div class="rs_RSyntax"><a name="356435">string BirtDuration.multiply( string lexicalDuration, integer factor )</a></div>
      <p class="N_sb_ScanBold"><a name="356436">Parameter</a></p>
      <p class="RParameter"><a name="356437">lexicalDuration</a></p>
      <p class="bn_BodyNoLead"><a name="356438">String. A duration to multiply.</a></p>
      <p class="RParameter"><a name="356501">factor</a></p>
      <p class="bn_BodyNoLead"><a name="356502">Integer. A regular number to multiply.</a></p>
      <p class="N_sb_ScanBold"><a name="356477">Returns</a></p>
      <p class="b_Body"><a name="356478">String. The product of the input duration and the factor.</a></p>
      <p class="N_sb_ScanBold"><a name="356441">Examples</a></p>
      <p class="b_Body"><a name="356442">The following examples show the products returned fora specific duration and factor:</a></p>
      <div class="cf_CodeFirst"><a name="356443">BirtDuration.multiply( "P1Y3M15DT12H30M45S", 1) </a></div>
      <div class="co_Code"><a name="356539">// returns P1Y3M15DT12H30M45S</a></div>
      <div class="co_Code"><a name="356444">BirtDuration.multiply( "P5Y8DT15H", 0) // returns P0Y0DT0H</a></div>
      <h3 class="RH2_Method"><a name="356559">BirtDuration.negate</a></h3>
      <p class="b_Body"><a name="356560">This function returns the negative value of a duration.</a></p>
      <p class="N_sb_ScanBold"><a name="356561">Syntax</a></p>
      <div class="rs_RSyntax"><a name="356562">string BirtDuration.negate( string lexicalDuration )</a></div>
      <p class="N_sb_ScanBold"><a name="356563">Parameter</a></p>
      <p class="RParameter"><a name="356564">lexicalDuration</a></p>
      <p class="bn_BodyNoLead"><a name="356565">String. A duration to negate.</a></p>
      <p class="N_sb_ScanBold"><a name="356568">Returns</a></p>
      <p class="b_Body"><a name="356569">String. The negative value of the input duration.</a></p>
      <p class="N_sb_ScanBold"><a name="356570">Examples</a></p>
      <p class="b_Body"><a name="356571">The following examples show the negative result from a specific duration:</a></p>
      <div class="cf_CodeFirst"><a name="356572">BirtDuration.negate( "P1Y3M15DT12H30M45S") </a></div>
      <div class="co_Code"><a name="356573">// returns -P1Y3M15DT12H30M45S</a></div>
      <h3 class="RH2_Method"><a name="320871">BirtDuration.second</a></h3>
      <p class="b_Body"><a name="320872">This function returns the seconds value of a given duration.</a></p>
      <p class="N_sb_ScanBold"><a name="320873">Syntax</a></p>
      <div class="rs_RSyntax"><a name="320874">integer BirtDuration.second( string lexicalDuration )</a></div>
      <p class="N_sb_ScanBold"><a name="320875">Parameter</a></p>
      <p class="RParameter"><a name="320876">lexicalDuration</a></p>
      <p class="bn_BodyNoLead"><a name="320877">String. A duration from which to get the seconds value.</a></p>
      <p class="N_sb_ScanBold"><a name="320878">Returns</a></p>
      <p class="b_Body"><a name="320879">Integer. A number that represents the seconds value of the specified duration.</a></p>
      <p class="N_sb_ScanBold"><a name="320880">Examples</a></p>
      <p class="b_Body"><a name="320881">The following examples show the seconds values returned for specific durations:</a></p>
      <div class="cf_CodeFirst"><a name="320882">BirtDuration.second( "P1Y3M15DT12H30M45S" ) // returns 5</a></div>
      <div class="co_Code"><a name="320883">BirtDuration.second( "P5Y8DT15H" ) // returns 0</a></div>
      <h3 class="RH2_Method"><a name="356891">BirtDuration.subtract</a></h3>
      <p class="b_Body"><a name="356892">This function subtracts a duration from another duration.</a></p>
      <p class="N_sb_ScanBold"><a name="356893">Syntax</a></p>
      <div class="rs_RSyntax"><a name="356894">string BirtDuration.subtract( string lexicalDuration1, string lexicalDuration2 )</a></div>
      <p class="N_sb_ScanBold"><a name="356895">Parameters</a></p>
      <p class="RParameter"><a name="356896">lexicalDuration1</a></p>
      <p class="bn_BodyNoLead"><a name="356897">String. The duration to subtract from.</a></p>
      <p class="RParameter"><a name="356898">lexicalDuration2</a></p>
      <p class="bn_BodyNoLead"><a name="356899">String. The duration subtracted from lexicalDuration1.</a></p>
      <p class="N_sb_ScanBold"><a name="356900">Returns</a></p>
      <p class="b_Body"><a name="356901">String. The difference of the two input durations.</a></p>
      <p class="N_sb_ScanBold"><a name="356902">Examples</a></p>
      <p class="b_Body"><a name="356903">The following example subtracts two durations:</a></p>
      <div class="cf_CodeFirst"><a name="356904">BirtDuration.subtract("P1Y3M", "P13M") // returns P0Y2M</a></div>
      <h3 class="RH2_Method"><a name="321357">BirtDuration.timeInMills</a></h3>
      <p class="b_Body"><a name="321358">This function returns the number of milliseconds in a given duration, from a specified start date. The number of milliseconds in a duration can change depending on the start date. For example, a duration of one month can be 28, 29, 30, or 31 days, depending on the start date. If the start date is January 1, the function calculates the milliseconds between January 1 and February 1 (excluding February 1), which equals 2678400000 millseconds or 31 days. If the start date is February 1, 2009 (a leap year), the function calculates the milliseconds between February 1 and March 1, which equals 2505600000 milliseconds or 29 days.</a></p>
      <p class="N_sb_ScanBold"><a name="321359">Syntax</a></p>
      <div class="rs_RSyntax"><a name="321360">Number BirtDuration.timeInMills( string lexicalDuration, Date startDate )</a></div>
      <p class="N_sb_ScanBold"><a name="321361">Parameters</a></p>
      <p class="RParameter"><a name="321362">lexicalDuration</a></p>
      <p class="bn_BodyNoLead"><a name="321363">String. A duration whose length in milliseconds to get.</a></p>
      <p class="RParameter"><a name="321405">startDate</a></p>
      <p class="bn_BodyNoLead"><a name="321415">Date object. Represents the start date.</a></p>
      <p class="N_sb_ScanBold"><a name="321364">Returns</a></p>
      <p class="b_Body"><a name="321365">Number object. The number of milliseconds in the specified duration.</a></p>
      <p class="N_sb_ScanBold"><a name="321366">Examples</a></p>
      <p class="b_Body"><a name="321367">The following examples show the number of milliseconds returned for specific durations and start dates:</a></p>
      <div class="cf_CodeFirst"><a name="321368">BirtDuration.timeInMills( "P1Y3M10D" ,  "2009-01-01" ) // returns 40172400000</a></div>
      <div class="co_Code"><a name="321369">BirtDuration.timeInMills( "P1Y3M10D" ,  "2008-01-01" ) // returns 40258800000</a></div>
      <div class="co_Code"><a name="321467">BirtDuration.timeInMills( "PT6H45M20S" ,  "2009-01-01" ) // returns 24320000</a></div>
      <h3 class="RH2_Method"><a name="321213">BirtDuration.year</a></h3>
      <p class="b_Body"><a name="321214">This function returns the year value of a given duration.</a></p>
      <p class="N_sb_ScanBold"><a name="321215">Syntax</a></p>
      <div class="rs_RSyntax"><a name="321216">integer BirtDuration.year( string lexicalDuration )</a></div>
      <p class="N_sb_ScanBold"><a name="321217">Parameter</a></p>
      <p class="RParameter"><a name="321218">lexicalDuration</a></p>
      <p class="bn_BodyNoLead"><a name="321219">String. A duration from which to get the year value.</a></p>
      <p class="N_sb_ScanBold"><a name="321220">Returns</a></p>
      <p class="b_Body"><a name="321221">Integer. A number that represents the year value of the specified duration.</a></p>
      <p class="N_sb_ScanBold"><a name="321222">Examples</a></p>
      <p class="b_Body"><a name="321223">The following examples show the year values returned for specific durations:</a></p>
      <div class="cf_CodeFirst"><a name="321224">BirtDuration.year( "P1Y3M15DT12H30M45S" ) // returns 1</a></div>
      <div class="co_Code"><a name="321225">BirtDuration.year( "P8DT15H" ) // returns 0</a></div>
    </blockquote>
    <hr align="left" />
    <table align="right" summary="">
      <tr>
        <td class="WebWorks_Company_Name_Bottom">
          <a href="notices.html">(c) Copyright Actuate Corporation 2013</a>
        </td>
      </tr>
    </table>
  </body>
</html><html id='3453.visual_inheritance.html'></html><html>
<head>
<title>Visual Inheritance</title>
<meta content="text/html; charset=windows-1252" http-equiv="Content-Type">
<link href="../../book.css" rel="stylesheet" type="text/css">
<style>
</style>
</head>
<body bgcolor="#FFFFFF">
    <h1>Visual Inheritance</h1>
	<div align="left">
		<table border="0" cellpadding="5" cellspacing="0" id="table1" width="850">
			<tr>
				<td valign="top">
			The tool supports visual inheritance of 
			SWT <b>Shells</b> and <b>Composites</b>, Swing <b>JFrames</b>, <b>
			JDialogs</b>, <b>JApplets</b> and <b>JPanels</b>. Visual inheritance 
			supports the following features:<ul>
	<li>Inherit from any <b>Shell</b>, <b>Composite</b>,
	<b>JFrame</b>, <b>JDialog</b>, <b>JApplet</b> or <b>JPanel</b> 
	subclass</li>
	<li>All inherited widgets are visible</li>
	<li>Access inherited widgets exposed via public or protected accessors</li>
	<li>Access inherited custom properties</li>
	<li>Inherited widgets appear in tree with the 
	&quot;exposed&quot; 
			<img src="../userinterface/images/exposed_decorator.gif" alt="" width="6" height="6"> decorator</li>
</ul>
			<p>The following is an example of two 
			<b>Composites</b> in an inheritance hierarchy. The first <b>Composite</b> uses 
			a <b>GridLayout</b> and has two <b>Labels</b>, two <b>Text</b> widgets, a 
			<b>Button</b> and an 
			inner <b>Composite</b> widget. </p>
			<p>
			<img border="0" src="images/visual_inheritance_parent.png" align="top"></p>
			<p>
			The inner <b>Composite</b> widget has been exposed as 
			a public component using the <b>
			<a href="../userinterface/context_menu.html">Expose Component</a></b> command. <b>
			<a href="../userinterface/context_menu.html">Expose Component</a></b> converts a component to a field and adds a public 
			accessor for it. Finally, the <b>background</b> color property of 
			the first <b>Text</b> widget and the <b>text</b> property of the <b>Button</b> have been exposed as a public properties of the 
			<b>Composite</b> using 
			the <b><a href="../userinterface/property_pane_context_menu.html">Expose Property</a></b> command. <b>
			<a href="../userinterface/property_pane_context_menu.html">Expose Property</a></b> adds a 
			pair of accessors for getting and setting the desired property of 
			the target widget.</p>
			<p>
			<img border="0" src="images/visual_inheritance_expose_component_menu.png" align="top">&nbsp;
			<img border="0" src="images/visual_inheritance_expose_property_menu.png" align="top"></p>
			<blockquote>
				<font SIZE="2" COLOR="#7f0055"><b>
				<dl>
					<dd><font face="Courier">import</font></b></font><font SIZE="2" face="Courier"> org.eclipse.swt.SWT;</dd>
					</font><font SIZE="2" COLOR="#7f0055"><b>
					<dd><font face="Courier">import</font></b></font><font SIZE="2" face="Courier"> 
					org.eclipse.swt.graphics.Color;</dd>
					</font><font SIZE="2" COLOR="#7f0055"><b>
					<dd><font face="Courier">import</font></b></font><font SIZE="2" face="Courier"> org.eclipse.swt.layout.*;</dd>
					</font><font SIZE="2" COLOR="#7f0055"><b>
					<dd><font face="Courier">import</font></b></font><font SIZE="2" face="Courier"> org.eclipse.swt.widgets.*;</dd>
					</font><font SIZE="2" COLOR="#7f0055"><b>
					<font face="Courier">
					<br>
&nbsp;</font><dd><font face="Courier">public</font></b></font><font face="Courier"><font SIZE="2"> </font>
					<font SIZE="2" COLOR="#7f0055"><b>class</b></font><font SIZE="2"> 
					ParentComposite </font><font SIZE="2" COLOR="#7f0055"><b>
					extends</b></font></font><font SIZE="2"><font face="Courier"> Composite {</font><dl>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>private</b></font><font SIZE="2"> 
						Button </font><font SIZE="2" COLOR="#0000c0">
						browseButton</font></font><font SIZE="2"><font face="Courier">;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>private</b></font><font SIZE="2"> 
						Composite </font><font SIZE="2" COLOR="#0000c0">
						composite</font></font><font SIZE="2"><font face="Courier">;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>private</b></font><font SIZE="2"> 
						Text </font><font SIZE="2" COLOR="#0000c0">secondField</font></font><font SIZE="2"><font face="Courier">;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>private</b></font><font SIZE="2"> 
						Text </font><font SIZE="2" COLOR="#0000c0">firstField</font></font><font SIZE="2"><font face="Courier">;<br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>public</b></font><font SIZE="2"> 
						ParentComposite(Composite parent, </font>
						<font SIZE="2" COLOR="#7f0055"><b>int</b></font></font><font SIZE="2"><font face="Courier"> 
						style) {</font><dl>
							<dd></font>
							<font SIZE="2" COLOR="#7f0055" face="Courier"><b>super</b></font><font SIZE="2"><font face="Courier">(parent, 
							style);</font></dd>
							<dd><font face="Courier">createContents();</font></dd>
						</dl>
						</dd>
						<dd><font face="Courier">}<br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>public</b></font><font SIZE="2">
						</font><font SIZE="2" COLOR="#7f0055"><b>void</b></font></font><font SIZE="2"><font face="Courier"> 
						createContents() {</font><dl>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
							GridLayout gridLayout = </font>
							<font SIZE="2" COLOR="#7f0055"><b>new</b></font></font><font SIZE="2"><font face="Courier"> 
							GridLayout();</font></dd>
							<dd><font face="Courier">gridLayout.</font></font><font SIZE="2" COLOR="#0000c0" face="Courier">numColumns</font><font SIZE="2"><font face="Courier"> 
							= 3;</font></dd>
							<dd><font face="Courier">setLayout(gridLayout);<br>
&nbsp;</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
							Label firstFieldLabel = </font>
							<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							Label(</font><font SIZE="2" COLOR="#7f0055"><b>this</b></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>NONE</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
							<dd><font face="Courier">firstFieldLabel.setText(</font></font><font SIZE="2" COLOR="#2a00ff" face="Courier">&quot;First 
							Field&quot;</font><font SIZE="2"><font face="Courier">);<br>
&nbsp;</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">firstField</font><font SIZE="2"> 
							= </font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							Text(</font><font SIZE="2" COLOR="#7f0055"><b>this</b></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>BORDER</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
							GridData gd_firstField = </font>
							<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							GridData(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>CENTER</i></font><font SIZE="2">,
							</font><font SIZE="2" COLOR="#7f0055"><b>true</b></font><font SIZE="2">,
							</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font></font><font SIZE="2"><font face="Courier">);</font></dd>
							<dd></font>
							<font SIZE="2" COLOR="#0000c0" face="Courier">firstField</font><font SIZE="2"><font face="Courier">.setLayoutData(gd_firstField);<br>
&nbsp;</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">
							browseButton</font><font SIZE="2"> = </font>
							<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							Button(</font><font SIZE="2" COLOR="#7f0055"><b>this</b></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>NONE</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">
							browseButton</font><font SIZE="2">.setLayoutData(</font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							GridData(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>CENTER</i></font><font SIZE="2">,
							</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font><font SIZE="2">,
							</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font></font><font SIZE="2"><font face="Courier">));</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">
							browseButton</font><font SIZE="2">.setText(</font><font SIZE="2" COLOR="#2a00ff">&quot;Browse...&quot;</font></font><font SIZE="2"><font face="Courier">);<br>
&nbsp;</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
							Label secondFieldLabel = </font>
							<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							Label(</font><font SIZE="2" COLOR="#7f0055"><b>this</b></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>NONE</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
							<dd><font face="Courier">secondFieldLabel.setText(</font></font><font SIZE="2" COLOR="#2a00ff" face="Courier">&quot;Second 
							Field&quot;</font><font SIZE="2"><font face="Courier">);<br>
&nbsp;</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">
							secondField</font><font SIZE="2"> = </font>
							<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							Text(</font><font SIZE="2" COLOR="#7f0055"><b>this</b></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>BORDER</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
							GridData gd_secondField = </font>
							<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							GridData(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>CENTER</i></font><font SIZE="2">,
							</font><font SIZE="2" COLOR="#7f0055"><b>true</b></font><font SIZE="2">,
							</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font></font><font SIZE="2"><font face="Courier">, 
							2, 1);</font></dd>
							<dd></font>
							<font SIZE="2" COLOR="#0000c0" face="Courier">
							secondField</font><font SIZE="2"><font face="Courier">.setLayoutData(gd_secondField);<br>
&nbsp;</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">composite</font><font SIZE="2"> 
							= </font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							Composite(</font><font SIZE="2" COLOR="#7f0055"><b>this</b></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>NONE</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">composite</font><font SIZE="2">.setLayoutData(</font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
							GridData(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">, 
							SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">,
							</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font><font SIZE="2">,
							</font><font SIZE="2" COLOR="#7f0055"><b>true</b></font></font><font SIZE="2"><font face="Courier">, 
							3, 1) );</font></dd>
						</dl>
						</dd>
						<dd><font face="Courier">}<br>
&nbsp;</font></dd>
						<dd></font>
						<font SIZE="2" COLOR="#7f0055" face="Courier"><b>
						<span style="background-color: #FFFF99">public</span></b></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99"> 
						Composite getComposite() {</span></font><dl>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>
							<span style="background-color: #FFFF99">return</span></b></font><font SIZE="2"><span style="background-color: #FFFF99">
							</span></font><font SIZE="2" COLOR="#0000c0">
							<span style="background-color: #FFFF99">composite</span></font></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99">;</span></font></dd>
						</dl>
						</dd>
						<dd><font face="Courier"><span style="background-color: #FFFF99">}<br>
&nbsp;</span></font></dd>
						<dd></font>
						<font SIZE="2" COLOR="#7f0055" face="Courier"><b>
						<span style="background-color: #FFFF99">public</span></b></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99"> 
						String getBrowseButtonText() {</span></font><dl>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>
							<span style="background-color: #FFFF99">return</span></b></font><font SIZE="2"><span style="background-color: #FFFF99">
							</span></font><font SIZE="2" COLOR="#0000c0">
							<span style="background-color: #FFFF99">browseButton</span></font></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99">.getText();</span></font></dd>
						</dl>
						</dd>
						<dd><font face="Courier"><span style="background-color: #FFFF99">}<br>
&nbsp;</span></font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>
						<span style="background-color: #FFFF99">public</span></b></font><font SIZE="2"><span style="background-color: #FFFF99">
						</span></font><font SIZE="2" COLOR="#7f0055"><b>
						<span style="background-color: #FFFF99">void</span></b></font></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99"> 
						setBrowseButtonText(String text) {</span></font><dl>
							<dd></font>
							<font SIZE="2" COLOR="#0000c0" face="Courier">
							<span style="background-color: #FFFF99">browseButton</span></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99">.setText(text);</span></font></dd>
						</dl>
						</dd>
						<dd><font face="Courier"><span style="background-color: #FFFF99">}<br>
&nbsp;</span></font></dd>
						<dd></font>
						<font SIZE="2" COLOR="#7f0055" face="Courier"><b>
						<span style="background-color: #FFFF99">public</span></b></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99"> 
						Color getFirstFieldBackground() {</span></font><dl>
							<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>
							<span style="background-color: #FFFF99">return</span></b></font><font SIZE="2"><span style="background-color: #FFFF99">
							</span></font><font SIZE="2" COLOR="#0000c0">
							<span style="background-color: #FFFF99">firstField</span></font></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99">.getBackground();</span></font></dd>
						</dl>
						</dd>
						<dd><font face="Courier"><span style="background-color: #FFFF99">}<br>
&nbsp;</span></font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>
						<span style="background-color: #FFFF99">public</span></b></font><font SIZE="2"><span style="background-color: #FFFF99">
						</span></font><font SIZE="2" COLOR="#7f0055"><b>
						<span style="background-color: #FFFF99">void</span></b></font></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99"> 
						setFirstFieldBackground(Color background) {</span></font><dl>
							<dd></font>
							<font SIZE="2" COLOR="#0000c0" face="Courier">
							<span style="background-color: #FFFF99">firstField</span></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99">.setBackground(background);</span></font></dd>
						</dl>
						</dd>
						<dd><font face="Courier"><span style="background-color: #FFFF99">}</span></font></dd>
					</dl>
					</dd>
					<dd><font face="Courier">}</font></dd>
				</dl>
				</font></blockquote>
			<p>The second <b>Composite</b> inherits from 
			the first and sets the inner <b>Composite's</b> layout manager via 
			its accessor from the superclass and then adds several new widgets 
			to the inner <b>Composite</b>. It also adds several new widgets that appear after the 
			inherited widgets and use the <b>GridLayout</b> layout manager inherited 
			from the superclass. Finally, it overrides the <b>background</b> color for 
			the first <b>Text</b> widget and the text setting of the <b>Button</b> using the accessors defined in the first Composite.<br>
			<br>
			Note that the exposed and inherited inner <b>Composite</b> from the superclass 
			shows up in the component tree with a small 
			<img src="../userinterface/images/exposed_decorator.gif" alt="" width="6" height="6"> overlay icon. The 
			other widgets defined in the first <b>Composite</b> do not show up in the 
			tree because they are private to that <b>Composite</b>. </p>
			<p>
			<img border="0" src="images/visual_inheritance_child.png" width="754" height="427" align="top"></p>
			<font SIZE="2" COLOR="#7f0055"><b>
			<dl>
				<dd><font face="Courier">import</font></b></font><font SIZE="2" face="Courier"> org.eclipse.swt.SWT;</dd>
				</font><font SIZE="2" COLOR="#7f0055"><b>
				<dd><font face="Courier">import</font></b></font><font SIZE="2" face="Courier"> org.eclipse.swt.layout.*;</dd>
				</font><font SIZE="2" COLOR="#7f0055"><b>
				<dd><font face="Courier">import</font></b></font><font SIZE="2" face="Courier"> org.eclipse.swt.widgets.*;</dd>
				</font><font SIZE="2" COLOR="#7f0055"><b>
				<font face="Courier">
				<br>
&nbsp;</font><dd><font face="Courier">public</font></b></font><font face="Courier"><font SIZE="2"> </font>
				<font SIZE="2" COLOR="#7f0055"><b>class</b></font><font SIZE="2"> 
				ChildComposite </font><font SIZE="2" COLOR="#7f0055"><b>extends</b></font></font><font SIZE="2"><font face="Courier"> 
				ParentComposite {</font><dl>
					<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>private</b></font><font SIZE="2"> 
					List </font><font SIZE="2" COLOR="#0000c0">list</font></font><font SIZE="2"><font face="Courier">;</font></dd>
					<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>private</b></font><font SIZE="2"> 
					Text </font><font SIZE="2" COLOR="#0000c0">sixthField</font></font><font SIZE="2"><font face="Courier">;</font></dd>
					<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>private</b></font><font SIZE="2"> 
					Text </font><font SIZE="2" COLOR="#0000c0">fifthField</font></font><font SIZE="2"><font face="Courier">;</font></dd>
					<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>private</b></font><font SIZE="2"> 
					Text </font><font SIZE="2" COLOR="#0000c0">fourthField</font></font><font SIZE="2"><font face="Courier">;</font></dd>
					<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>private</b></font><font SIZE="2"> 
					Text </font><font SIZE="2" COLOR="#0000c0">thirdField</font></font><font SIZE="2"><font face="Courier">;<br>
&nbsp;</font></dd>
					<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>public</b></font><font SIZE="2"> 
					ChildComposite(Composite parent, </font>
					<font SIZE="2" COLOR="#7f0055"><b>int</b></font></font><font SIZE="2"><font face="Courier"> 
					style) {</font><dl>
						<dd></font>
						<font SIZE="2" COLOR="#7f0055" face="Courier"><b>super</b></font><font SIZE="2"><font face="Courier">(parent, 
						style);</font></dd>
					</dl>
					</dd>
					<dd><font face="Courier">}<br>
&nbsp;</font></dd>
					<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>public</b></font><font SIZE="2">
					</font><font SIZE="2" COLOR="#7f0055"><b>void</b></font></font><font SIZE="2"><font face="Courier"> 
					createContents() {</font><dl>
						<dd></font>
						<font SIZE="2" COLOR="#7f0055" face="Courier"><b>super</b></font><font SIZE="2"><font face="Courier">.createContents();<br>
&nbsp;</font></dd>
						<dd><font face="Courier"><span style="background-color: #FFFF99">setFirstFieldBackground(Display.<i>getCurrent</i>().getSystemColor(SWT.</span></font></font><font SIZE="2" COLOR="#0000c0" face="Courier"><i><span style="background-color: #FFFF99">COLOR_YELLOW</span></i></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99">));</span></font></dd>
						<dd><font face="Courier"><span style="background-color: #FFFF99">setBrowseButtonText(</span></font></font><font SIZE="2" COLOR="#2a00ff" face="Courier"><span style="background-color: #FFFF99">&quot;Find...&quot;</span></font><font SIZE="2"><font face="Courier"><span style="background-color: #FFFF99">);</span><br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
						GridLayout gridLayout = </font>
						<font SIZE="2" COLOR="#7f0055"><b>new</b></font></font><font SIZE="2"><font face="Courier"> 
						GridLayout();</font></dd>
						<dd><font face="Courier">gridLayout.</font></font><font SIZE="2" COLOR="#0000c0" face="Courier">numColumns</font><font SIZE="2"><font face="Courier"> 
						= 2;</font></dd>
						<dd><font face="Courier"><span style="background-color: #FFFF99">getComposite().setLayout(gridLayout);</span><br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
						Label thirdFieldLabel = </font>
						<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						Label(getComposite(), SWT.</font><font SIZE="2" COLOR="#0000c0"><i>NONE</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd><font face="Courier">thirdFieldLabel.setText(</font></font><font SIZE="2" COLOR="#2a00ff" face="Courier">&quot;Third 
						Field&quot;</font><font SIZE="2"><font face="Courier">);<br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">thirdField</font><font SIZE="2"> 
						= </font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						Text(getComposite(), SWT.</font><font SIZE="2" COLOR="#0000c0"><i>BORDER</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
						GridData gd_thirdField = </font>
						<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						GridData(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">, 
						SWT.</font><font SIZE="2" COLOR="#0000c0"><i>CENTER</i></font><font SIZE="2">,
						</font><font SIZE="2" COLOR="#7f0055"><b>true</b></font><font SIZE="2">,
						</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd></font>
						<font SIZE="2" COLOR="#0000c0" face="Courier">thirdField</font><font SIZE="2"><font face="Courier">.setLayoutData(gd_thirdField);<br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
						Label fourthFieldLabel = </font>
						<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						Label(getComposite(), SWT.</font><font SIZE="2" COLOR="#0000c0"><i>NONE</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd><font face="Courier">fourthFieldLabel.setText(</font></font><font SIZE="2" COLOR="#2a00ff" face="Courier">&quot;Fourth 
						Field&quot;</font><font SIZE="2"><font face="Courier">);<br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">fourthField</font><font SIZE="2"> 
						= </font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						Text(getComposite(), SWT.</font><font SIZE="2" COLOR="#0000c0"><i>BORDER</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
						GridData gd_fourthField = </font>
						<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						GridData(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">, 
						SWT.</font><font SIZE="2" COLOR="#0000c0"><i>CENTER</i></font><font SIZE="2">,
						</font><font SIZE="2" COLOR="#7f0055"><b>true</b></font><font SIZE="2">,
						</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd></font>
						<font SIZE="2" COLOR="#0000c0" face="Courier">fourthField</font><font SIZE="2"><font face="Courier">.setLayoutData(gd_fourthField);<br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">list</font><font SIZE="2"> 
						= </font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						List(getComposite(), SWT.</font><font SIZE="2" COLOR="#0000c0"><i>BORDER</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">list</font><font SIZE="2">.setItems(</font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						String[] {</font><font SIZE="2" COLOR="#2a00ff">&quot;First 
						Item&quot;</font><font SIZE="2">, </font>
						<font SIZE="2" COLOR="#2a00ff">&quot;Second Item&quot;</font></font><font SIZE="2"><font face="Courier">});</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">list</font><font SIZE="2">.setLayoutData(</font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						GridData(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">, 
						SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">,
						</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font><font SIZE="2">,
						</font><font SIZE="2" COLOR="#7f0055"><b>true</b></font></font><font SIZE="2"><font face="Courier">, 
						2, 1));<br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
						Label fifthFieldLabel = </font>
						<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						Label(</font><font SIZE="2" COLOR="#7f0055"><b>this</b></font><font SIZE="2">, 
						SWT.</font><font SIZE="2" COLOR="#0000c0"><i>NONE</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd><font face="Courier">fifthFieldLabel.setLayoutData(</font></font><font SIZE="2" COLOR="#7f0055" face="Courier"><b>new</b></font><font SIZE="2"><font face="Courier"> 
						GridData());</font></dd>
						<dd><font face="Courier">fifthFieldLabel.setText(</font></font><font SIZE="2" COLOR="#2a00ff" face="Courier">&quot;Fifth 
						Field&quot;</font><font SIZE="2"><font face="Courier">);<br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">fifthField</font><font SIZE="2"> 
						= </font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						Text(</font><font SIZE="2" COLOR="#7f0055"><b>this</b></font><font SIZE="2">, 
						SWT.</font><font SIZE="2" COLOR="#0000c0"><i>BORDER</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
						GridData gd_fifthField = </font>
						<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						GridData(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">, 
						SWT.</font><font SIZE="2" COLOR="#0000c0"><i>CENTER</i></font><font SIZE="2">,
						</font><font SIZE="2" COLOR="#7f0055"><b>true</b></font><font SIZE="2">,
						</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font></font><font SIZE="2"><font face="Courier">, 
						2, 1);</font></dd>
						<dd></font>
						<font SIZE="2" COLOR="#0000c0" face="Courier">fifthField</font><font SIZE="2"><font face="Courier">.setLayoutData(gd_fifthField);<br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
						Label sixthFieldLabel = </font>
						<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						Label(</font><font SIZE="2" COLOR="#7f0055"><b>this</b></font><font SIZE="2">, 
						SWT.</font><font SIZE="2" COLOR="#0000c0"><i>NONE</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd><font face="Courier">sixthFieldLabel.setText(</font></font><font SIZE="2" COLOR="#2a00ff" face="Courier">&quot;Sixth 
						Field&quot;</font><font SIZE="2"><font face="Courier">);<br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#0000c0">sixthField</font><font SIZE="2"> 
						= </font><font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						Text(</font><font SIZE="2" COLOR="#7f0055"><b>this</b></font><font SIZE="2">, 
						SWT.</font><font SIZE="2" COLOR="#0000c0"><i>BORDER</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
						GridData gd_sixthField = </font>
						<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						GridData(SWT.</font><font SIZE="2" COLOR="#0000c0"><i>FILL</i></font><font SIZE="2">, 
						SWT.</font><font SIZE="2" COLOR="#0000c0"><i>CENTER</i></font><font SIZE="2">,
						</font><font SIZE="2" COLOR="#7f0055"><b>true</b></font><font SIZE="2">,
						</font><font SIZE="2" COLOR="#7f0055"><b>false</b></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd></font>
						<font SIZE="2" COLOR="#0000c0" face="Courier">sixthField</font><font SIZE="2"><font face="Courier">.setLayoutData(gd_sixthField);<br>
&nbsp;</font></dd>
						<dd></font><font face="Courier"><font SIZE="2" COLOR="#7f0055"><b>final</b></font><font SIZE="2"> 
						Button searchButton = </font>
						<font SIZE="2" COLOR="#7f0055"><b>new</b></font><font SIZE="2"> 
						Button(</font><font SIZE="2" COLOR="#7f0055"><b>this</b></font><font SIZE="2">, 
						SWT.</font><font SIZE="2" COLOR="#0000c0"><i>NONE</i></font></font><font SIZE="2"><font face="Courier">);</font></dd>
						<dd><font face="Courier">searchButton.setText(</font></font><font SIZE="2" COLOR="#2a00ff" face="Courier">&quot;Search...&quot;</font><font SIZE="2"><font face="Courier">);</font></dd>
					</dl>
					</dd>
					<dd><font face="Courier">}</font></dd>
				</dl>
				</dd>
				<dd><font face="Courier">}</font></dd>
			</dl>
			</font>
				</td>
			</tr>
			</table>
	</div>
          </body>
</html>
<html id='2920.org_eclipse_ui_navigator_viewer.html'></html><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Common Viewer Configuration</title>
<style type="text/css">@import url("../../book.css");</style>
<style type="text/css">@import url("../../schema.css");</style>
</HEAD>
<BODY>
<H1 style="text-align:center">Common Viewer Configuration</H1>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Identifier: </h6>org.eclipse.ui.navigator.viewer<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Since: </h6>3.2
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">Description: </h6><p>
The <b>viewer</b> element defines the configuration for a common viewer. The extension
may provide a custom popup menu id, override whether the viewer provides link with
editor support, provides a filter dialog, and/or provides an "Filters and Customization" 
dialog. In addition, nested configuration elements give full control over the structure
and behavior of the popup context menu.
<p>
<b>viewerContentBinding</b> binds defined content extensions (through the <b>navigatorContent</b> 
extension point) to viewers. <b>viewerContentBinding</b> also binds a 
<b>linkHelper</b> extension point to a viewer.  
Any content extension bound to a viewer is described as <i>visible</i>. A
content service (<code>org.eclipse.ui.navigator.INavigatorContentService</code>)
will not return any extensions which are not visible for
its viewer id.<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Configuration Markup:</h6>
<p></p>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.viewer">viewer</a>* , <a href="#e.viewerContentBinding">viewerContentBinding</a>* , <a href="#e.viewerActionBinding">viewerActionBinding</a>* , <a href="#e.dragAssistant">dragAssistant</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST extension</p>
<p class="code SchemaDtdAttlist">point&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class="ConfigMarkupAttlistDesc">
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.viewer">viewer</a> (<a href="#e.popupMenu">popupMenu</a>? , <a href="#e.options">options</a>?)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST viewer</p>
<p class="code SchemaDtdAttlist">viewerId&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">popupMenuId&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">inheritBindingsFromViewer&nbsp;IDREF #IMPLIED</p>
<p class="code SchemaDtdAttlist">helpContext&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Provides basic configuration to establish the characteristics of a viewer. Clients must also define an <b>org.eclipse.ui.views</b> extension to create the view part.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>viewerId</b> - The id of the common viewer. If the viewer is in a common navigator then the id must match the navigator's id defined in its <b>org.eclipse.ui.views</b> extension.</li>
<li><b>popupMenuId</b> - The popupMenuId of the defined viewer. If not specified, the popupMenuId defaults to the id of the viewer. Clients may specify only the "popupMenuId" OR a <b>popupMenu</b> element, but not both. The default list of insertion points is declared in the documentation for the <b>popupMenu</b> element.</li>
<li><b>inheritBindingsFromViewer</b> - Causes all of the action and content bindings from the specified viewer to be used by this viewer.</li>
<li><b>helpContext</b> - The help context Id to be associated with the Control associated with the viewer.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.viewerContentBinding">viewerContentBinding</a> (<a href="#e.includes">includes</a>? , <a href="#e.excludes">excludes</a>?)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST viewerContentBinding</p>
<p class="code SchemaDtdAttlist">viewerId&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Clients must define one or more <b>viewerContentBinding</b> elements to describe which content extensions, common filters, and link helpers are <i>visible</i> to the viewer. A content extension or common filter is <i>visible</i> if the id of the content extension or common filter matches an <b>includes</b> statement under a <b>viewerContentBinding</b> and is not excluded by an <b>excludes</b> statement. If a content extension or common filter is not <i>visible</i> to a viewer, then the extension will never be asked for content by a content service for that viewer or be presented to the user in the available filters dialog. 
<br><br>
Clients may define an <b>includes</b> element to select which extensions are <i>visible</i> to the viewer, and similarly an <b>excludes</b> element for extensions that should not be made <i>visible</i> to the viewer. Clients may further define the extensions that should be explicitly queried for root elements (through  ITreeContentProvider.getElements()) by the "isRoot" attribute. If one or more <b>contentExtension</b> elements have "isRoot" set to true within the <b>includes</b> statement, only those extensions will be queried for root elements. The "isRoot" attribute has no effect for exclusions.
<br><br>
A viewer may have multiple viewerContentBindings defined, and their includes/excludes statements will be aggregated to produce the final behavior.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>viewerId</b> - The id of the common viewer. If the viewer is in a common navigator then the id must match the navigator's id defined in its <b>org.eclipse.ui.views</b> extension.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.viewerActionBinding">viewerActionBinding</a> (<a href="#e.includes">includes</a>? , <a href="#e.excludes">excludes</a>?)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST viewerActionBinding</p>
<p class="code SchemaDtdAttlist">viewerId&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Clients must define which action providers are visible to their viewer. Clients may define an <b>includes</b> element to select which extensions are visible to the viewer, and  similarly an <b>excludes</b> element for extensions that should not be made visible to the viewer. 
<br><br>
A viewer may have multiple <b>viewerActionBinding</b>s defined, and their <b>includes</b>/<b>excludes</b> statements will be aggregated to produce the final behavior.
<br><br>
For <b>actionProvider</b> definitions which are not nested under a <b>navigatorContent</b> definition, clients may specify a custom id. If clients do not specify an id, the id defaults to "org.eclipse.ui.navigator.actionProvider.X". For clients that wish to pick up <b>actionProvider</b>s with no specific id, clients must define a <b>viewerActionBinding</b> for the default id. See the examples section for how this is done.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>viewerId</b> - The id of the common viewer. If the viewer is in a common navigator then the id must match the navigator's id defined in its <b>org.eclipse.ui.views</b> extension.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.includes">includes</a> ((<a href="#e.contentExtension">contentExtension</a>+) | (<a href="#e.actionExtension">actionExtension</a>+))&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
Define a set of regular expressions that should be included when looking for content extensions for the viewer that matches the "viewerId" attribute. When the includes and excludes statements intersect, the excludes statement will be given precedence.

<p>
Note: these are regular expressions and not wildcards.  So if you want to include something like <code>com.mycompany.content*</code>, the expression would be <code>com\.mycompany\.content.*</code>.</div>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.excludes">excludes</a> ((<a href="#e.contentExtension">contentExtension</a>+) | (<a href="#e.actionExtension">actionExtension</a>+))&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
Define a set of regular expressions that should be excluded when looking for content extensions for the viewer that matches the "viewerId" attribute. When the includes and excludes statements intersect, the excludes statement will be given precedence.
            To be meaningful this will be a subset of the includes pattern.
            
<p>
Note: these are regular expressions and not wildcards.  So if you want to include something like <code>com.mycompany.content*</code>, the expression would be <code>com\.mycompany\.content.*</code>.</div>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.contentExtension">contentExtension</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST contentExtension</p>
<p class="code SchemaDtdAttlist">pattern&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">isRoot&nbsp;&nbsp;(true | false) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Indicates the id (or matching pattern) of a content extension that should be queried by <code>ITreeContentProvider.getElements()</code> or <code>ITreeContentProvider.getChildren()</code>
for the root of the viewer or a common filter that should be available to the user in the "Available Filters" dialog.
<br><br>
Clients may specify "isRoot" to select specific root extensions to override 
the extensions which would otherwise be enabled for the viewer input element
(based on the matching <b>triggerPoints</b> expression for the viewer input element). 
<br><br>
See the documentation for <b>viewerContentBinding</b> for more information.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>pattern</b> - Content extensions may be selected exactly by using their content extension id. Clients may also use a regular expression pattern to select any content extensions that have ids that match the pattern. 
<p>
Patterns are regular expressions which match unique identifiers. Please see the Java(tm) Platform documentation for <code>java.util.regex.Pattern</code> for further details.</li>
<li><b>isRoot</b> - A value of true indicates the content extension will provide root content, and override the default <b>triggerPoints</b> expressions defined in the bound content extensions for a given viewer.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.actionExtension">actionExtension</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST actionExtension</p>
<p class="code SchemaDtdAttlist">pattern&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Indicates that the action extension that should be given opportunities
to contribute to the context menu and action bars. 
<br><br>          
See the documentation for <b>viewerActionBinding</b> for more information.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>pattern</b> - Content extensions may be selected exactly by using their content extension id. Clients may also use a regular expression pattern to select any content extensions that have ids that match the pattern. 
<p>
Patterns are regular expressions which match unique identifiers. Please see the Java(tm) Platform documentation for <code>java.util.regex.Pattern</code> for further details.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.popupMenu">popupMenu</a> (<a href="#e.insertionPoint">insertionPoint</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST popupMenu</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">allowsPlatformContributions&nbsp;(true | false) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A popupMenu element may only be defined if the "popupMenuId" attribute of the 
<b>viewer</b> element is not specified. 
<br><br>
The <b>popupMenu</b> element allows further customization of the context menu associated 
with the viewer. For the options to be applied correctly, an instance of the viewer
must delegate to a <code>org.eclipse.ui.navigator.NavigatorActionService</code>, which behaves
like a normal <code>org.eclipse.ui.ActionGroup</code>. See the documentation for this API class
for more information on exploiting this functionality. For clients that use an 
instance of <code>org.eclipse.ui.navigator.CommonNavigator</code> do not need to do any extra work. 
<br><br>
A <b>popupMenu</b> declares one or more <b>insertionPoints</b> that will be used by contributors to 
organize their contributions into a meaningful, more user-friendly, consistent list. 
<br>
If clients only specify the "popupMenuId" attribute of the <b>viewer</b> element, then the
set of <b>insertionPoints</b> used by the context menu will default to the following list 
in the given order:
<br>
<pre class="Example"><span class="code SchemaTag">
"group.new"             separator="true"
"group.goto"            
"group.open"            separator="true"
"group.openWith"
"group.show"            separator="true"
"group.edit"            separator="true"
"group.reorganize"
"group.port"
"group.generate"        separator="true"
"group.search"          separator="true"
"group.build"           separator="true"
"additions"             separator="true" 
"group.properties"      separator="true"
</span></pre>
<br><br>
Clients that wish to refer to these values programmatically may use the corresponding constants in <code>org.eclipse.ui.navigator.ICommonMenuConstants</code>. 
<br><br>
Clients that wish to customize their menus are encouraged to start with this list and add or remove insertion points as necessary. Clients are also
encouraged to follow the pattern of beginning each group name with "group.". 
<br><br>
If the <b>popupMenu</b> element is specified and contains NO <b>insertionPoint</b> children elements, then the context menu will have no published insertion points. Of course, programmatic clients are not restricted from adding their own insertion points as necessary. Clients defining viewers are encouraged to publish their insertion points for documentation purposes and clarity for downstream extensions to their viewers/navigators, or to explicitly document which insertion points are considered API and which are considered internal.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - The id of the menu. Has the same function as the "popupMenuId" attribute of <b>viewer</b>, but if a <b>popupMenu</b> nested element is used, you must use this "popupMenuId" attribute and NOT specify the "popupMenuId" of <b>viewer</b>.</li>
<li><b>allowsPlatformContributions</b> - A value of <b>true</b> will register the declared <b>popupMenu</b> (by id) for object or viewer contributions as declared by the <b>org.eclipse.ui.popupMenus</b> extension point. A value of <b>false</b> will restrict the popupMenu to programmatic contributions as declared by <code>org.eclipse.ui.navigator.CommonActionProviders</code> (see <b>org.eclipse.ui.navigator.navigatorContent/actionProvider</b> and <b>org.eclipse.ui.navigator.navigatorContent/navigatorContent/actionProvider</b>).</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.insertionPoint">insertionPoint</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST insertionPoint</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">separator&nbsp;(true | false) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Defines an insertion point for the context menu. Indcludes the name of the point for clients to refer to, and whether the insertion point should be rendered as a separator or a group marker.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - Indicates the name of the insertion point. Clients will use the name to refer to the insertion point as part of a menu path when providing either programmatic contributions via <code>org.eclipse.ui.navigator.CommonActionProvider</code> or declarative contributions via the <b>org.eclipse.ui.popupMenus</b> extension point.</li>
<li><b>separator</b> - A value of true will cause the insertion point to be represented as a bar in the menu. This allows clients to visually group items in the context menu, based on their relevance to the user. By default, the value is <b>false</b>.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.options">options</a> (<a href="#e.property">property</a>+)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Provide options to the viewer to custom how it is presented to the user. See <code>org.eclipse.ui.navigator.INavigatorViewerDescriptor</code> for the available properties.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.property">property</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST property</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Provide a name=value pair. The value will be provided as-is to the viewer (so empty strings will be propagated as empty strings). See <code>org.eclipse.ui.navigator.INavigatorViewerDescriptor</code> for the available properties and their descriptions.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - </li>
<li><b>value</b> - </li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.dragAssistant">dragAssistant</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST dragAssistant</p>
<p class="code SchemaDtdAttlist">class&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">viewerId&nbsp;IDREF #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A Drag and Drop assistant provides lightweight hook to supply extra transfer types and logic to set the drag data. This element is not required as the basic <b>org.eclipse.ui.navigator.CommonViewer</b> provides a <b>org.eclipse.jface.util.LocalSelectionTransfer</b> type. 
<br><br>
<b>
Clients should only define this extension in lightweight plugins with shallow dependency trees. The drag assistants must be loaded up front when the viewer is created, which will force the load of affected plugins. 
</b></p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - Provide an implementation of <code>org.eclipse.ui.navigator.CommonDragAdapterAssistant</code>.</li>
<li><b>viewerId</b> - Associate this drag assistant with a particular viewer id.</li>
</ul>
<br><h6 class="CaptionFigColumn SchemaHeader">Examples: </h6><p>
The following example configures the popup menu id for a viewer.      
<p>
<pre class="Example"><span class="code SchemaTag">

   &lt;extension
         point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.navigator.viewer&quot;</span><span class="code SchemaTag">&gt;
      &lt;viewer 
         id=</span><span class="code SchemaCstring">&quot;org.eclipse.testViewer&quot;</span><span class="code SchemaTag"> 
         popupMenuId=</span><span class="code SchemaCstring">&quot;org.eclipse.testViewer#PopupMenu&quot;</span><span class="code SchemaTag">/&gt;
   &lt;/extension&gt;
</span></pre>
</p>
<p>
Since the <b>popupMenu</b> child element of viewer is not used in the above example, the default set of
<b>insertionPoints</b> will be used. This set is defined as follows. See the documentation for
the <b>popupMenu</b> element for more information.
<p>
<pre class="Example"><span class="code SchemaTag">
"group.new"             separator="true"
"group.goto"            
"group.open"            separator="true"
"group.openWith"
"group.show"            separator="true"
"group.edit"            separator="true"
"group.reorganize"
"group.port"
"group.generate"        separator="true"
"group.search"          separator="true"
"group.build"           separator="true"
"additions"             separator="true" 
"group.properties"      separator="true"
</span></pre>
</p>
<p>
The following example demonstrates a viewer configuration which declares custom
<b>popupMenu/insertionPoints</b>, but restricts object and viewer contributions
with the "allowsPlatformContributions" attribute. Clients may only contribute
to the defined menu via <code>org.eclipse.ui.navigator.CommonActionProvider</code>s declared
for the viewer (either top-level or associated with content extensions). 
<p>
Note that the "popupMenuId" attribute is not concurrently specified with the 
<b>popupMenu</b> element. Only one or the other, but not both, is a valid configuration.
<p>
<pre class="Example"><span class="code SchemaTag">
   &lt;extension
         point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.navigator.viewer&quot;</span><span class="code SchemaTag">&gt;
       &lt;viewer
             viewerId=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.navigator.resourceContent&quot;</span><span class="code SchemaTag">&gt;
          &lt;popupMenu
                allowsPlatformContributions=</span><span class="code SchemaCstring">&quot;false&quot;</span><span class="code SchemaTag">
                id=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.navigator.resourceContent#PopupMenu&quot;</span><span class="code SchemaTag">&gt;  
             &lt;insertionPoint name=</span><span class="code SchemaCstring">&quot;group.new&quot;</span><span class="code SchemaTag">/&gt;
             &lt;insertionPoint
                   name=</span><span class="code SchemaCstring">&quot;group.open&quot;</span><span class="code SchemaTag">
                   separator=</span><span class="code SchemaCstring">&quot;true&quot;</span><span class="code SchemaTag">/&gt;
             &lt;insertionPoint name=</span><span class="code SchemaCstring">&quot;group.openWith&quot;</span><span class="code SchemaTag">/&gt;             
             &lt;insertionPoint
                   name=</span><span class="code SchemaCstring">&quot;group.port&quot;</span><span class="code SchemaTag">
                   separator=</span><span class="code SchemaCstring">&quot;true&quot;</span><span class="code SchemaTag">/&gt; 
             &lt;insertionPoint
                   name=</span><span class="code SchemaCstring">&quot;additions&quot;</span><span class="code SchemaTag">
                   separator=</span><span class="code SchemaCstring">&quot;true&quot;</span><span class="code SchemaTag">/&gt;              
             &lt;insertionPoint
                   name=</span><span class="code SchemaCstring">&quot;group.properties&quot;</span><span class="code SchemaTag">
                   separator=</span><span class="code SchemaCstring">&quot;true&quot;</span><span class="code SchemaTag">/&gt;
          &lt;/popupMenu&gt;
       &lt;/viewer&gt;
       &lt;viewerContentBinding 
             viewerId=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.navigator.resourceContent&quot;</span><span class="code SchemaTag">&gt;
            &lt;includes&gt;
                &lt;contentExtension pattern=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.navigator.resourceContent&quot;</span><span class="code SchemaTag"> /&gt;
            &lt;/includes&gt;
       &lt;/viewerContentBinding&gt;
   &lt;/extension&gt;

</span></pre>
</p>

<p>
The following example declares that one content extension (id: "org.eclipse.ui.navigator.resourceContent") is bound to a viewer matching the id "org.eclipse.ui.navigator.resourceContent". (In this example the content extension and viewer ids match, but this is not required.) 
<p>
<pre class="Example"><span class="code SchemaTag">
   &lt;extension
         point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.navigator.viewer&quot;</span><span class="code SchemaTag">&gt;
       &lt;viewerContentBinding 
             viewerId=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.navigator.resourceContent&quot;</span><span class="code SchemaTag">&gt;
            &lt;includes&gt;
                &lt;contentExtension pattern=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.navigator.resourceContent&quot;</span><span class="code SchemaTag"> /&gt;
            &lt;/includes&gt;
       &lt;/viewerContentBinding&gt;
   &lt;/extension&gt; 
</span></pre>
</p>
<p>
The following example declares a <b>viewerActionBinding</b> for all <b>actionProvider</b>s (not 
nested under a <b>navigatorContent</b> extension) that match the regular expression
"org.acme.actions.*" but not "org.acme.actions.tests.*". This expression 
will make any <b>actionProvider</b> whose id begins with "org.acme.actions." but not "org.acme.actions.tests." <i>visible</i> to the viewer with the id "org.acme.viewer".
Of course, the <b>viewerActionBindings</b> only apply to <b>actionProvider</b> elements that 
are not nested under a <b>navigatorContent</b> element. The <i>visibility</i> of nested 
<b>actionProvider</b> elements is controlled by <b>viewerContentBindings</b> for the enclosing
<b>navigatorContent</b> element.
<p>
<pre class="Example"><span class="code SchemaTag">
   &lt;extension
         point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.navigator.viewer&quot;</span><span class="code SchemaTag">&gt;
       &lt;viewerActionBinding 
             viewerId=</span><span class="code SchemaCstring">&quot;org.acme.viewer&quot;</span><span class="code SchemaTag">&gt;
            &lt;includes&gt;
                &lt;actionExtension pattern=</span><span class="code SchemaCstring">&quot;org.acme.actions.*&quot;</span><span class="code SchemaTag"> /&gt;
            &lt;/includes&gt;
            &lt;excludes&gt;
                &lt;actionExtension pattern=</span><span class="code SchemaCstring">&quot;org.acme.actions.tests.*&quot;</span><span class="code SchemaTag"> /&gt;
            &lt;/excludes&gt;
       &lt;/viewerActionBinding&gt;
   &lt;/extension&gt; 
</span></pre>
</p>
<p>
The following example makes any actionProvider with no "id" attribute <i>visible</i>
to the viewer "org.acme.viewer". The <b>actionProvider</b>s with no "id" attribute
have a default id of "org.eclipse.ui.navigator.actionProvider.X". Of course,
the <b>viewerActionBindings</b> only apply to <b>actionProvider</b> elements that 
are not nested under a <b>navigatorContent</b> element. The <i>visibility</i> of nested 
<b>actionProvider</b> elements is controlled by <b>viewerContentBinding</b>s for the enclosing
<b>navigatorContent</b> element.

<p>
<pre class="Example"><span class="code SchemaTag">
   &lt;extension
         point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.navigator.viewer&quot;</span><span class="code SchemaTag">&gt;
       &lt;viewerActionBinding 
             viewerId=</span><span class="code SchemaCstring">&quot;org.acme.viewer&quot;</span><span class="code SchemaTag">&gt;
            &lt;includes&gt;
                &lt;actionExtension pattern=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.navigator.actionProvider.*&quot;</span><span class="code SchemaTag"> /&gt;
            &lt;/includes&gt; 
       &lt;/viewerActionBinding&gt;
   &lt;/extension&gt; 
</span></pre>
</p>

<p>
The following example demonstrates the standard properties available to the viewer.
</p>
<p>
<pre class="Example"><span class="code SchemaTag">
   &lt;extension
         point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.navigator.viewer&quot;</span><span class="code SchemaTag">&gt;
      &lt;viewer
            popupMenuId=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.tests.navigator.TestView#PopupMenu&quot;</span><span class="code SchemaTag">
            viewerId=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.tests.navigator.TestView&quot;</span><span class="code SchemaTag">&gt;
         &lt;options&gt; 
            &lt;!-- Hide the </span><span class="code SchemaCstring">&quot;Available Extensions&quot;</span><span class="code SchemaTag"> tab in the </span><span class="code SchemaCstring">&quot;Filters and Customization&quot;</span><span class="code SchemaTag"> 
                 dialog (available from the </span><span class="code SchemaCstring">&quot;Filters&quot;</span><span class="code SchemaTag"> action --&gt;
            &lt;property
                  name=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.navigator.hideAvailableExtensionsTab&quot;</span><span class="code SchemaTag">
                  value=</span><span class="code SchemaCstring">&quot;true&quot;</span><span class="code SchemaTag">/&gt;
            &lt;!-- Hide the </span><span class="code SchemaCstring">&quot;Filters and Customization&quot;</span><span class="code SchemaTag"> dialog completely. This includes hiding the 
              filters and the available content extensions. --&gt;
            &lt;property
                  name=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.navigator.hideAvailableCustomizationsDialog&quot;</span><span class="code SchemaTag">
                  value=</span><span class="code SchemaCstring">&quot;true&quot;</span><span class="code SchemaTag">/&gt; 
            &lt;!-- Hide the </span><span class="code SchemaCstring">&quot;Link with Editor&quot;</span><span class="code SchemaTag"> action from the toolbar of the viewer --&gt;
            &lt;property
                  name=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.navigator.hideLinkWithEditorAction&quot;</span><span class="code SchemaTag">
                  value=</span><span class="code SchemaCstring">&quot;true&quot;</span><span class="code SchemaTag">/&gt; 
            &lt;!-- Hide the </span><span class="code SchemaCstring">&quot;Collapse All&quot;</span><span class="code SchemaTag"> action from the toolbar of the viewer --&gt;
            &lt;property
                  name=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.navigator.hideCollapseAllAction&quot;</span><span class="code SchemaTag">
                  value=</span><span class="code SchemaCstring">&quot;true&quot;</span><span class="code SchemaTag">/&gt;  
         &lt;/options&gt;
      &lt;/viewer&gt;
   &lt;/extension&gt;
</span></pre>
</p>
<p></p>

<br>
<p class="note SchemaCopyright">
Copyright (c) 2002, 2009 IBM Corporation and others.<br>

This program and the accompanying materials are made
available under the terms of the Eclipse Public License 2.0 which accompanies
this distribution, and is available at <a 
href="https://www.eclipse.org/legal/epl-2.0">https://www.eclipse.org/legal/epl-v20.html</a>/

SPDX-License-Identifier: EPL-2.0

</p>
</BODY>
</HTML>
<html id='1755.Overview-of-the-Atlas-Transformation-Language.html'></html><?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>ATL User Guide - Overview of the Atlas Transformation Language</title>
		<link type="text/css" rel="stylesheet" href="book.css"/>
	</head>
	<body>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<th style="width: 100%" align="center" colspan="3">Overview of the Atlas Transformation Language</th>
			</tr>
			<tr>
				<td style="width: 20%" align="left">
					<a href="Installation.html" title="Installation">
						<img alt="Previous" border="0" src="images/images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right">
					<a href="The-ATL-Language.html" title="The ATL Language">
						<img alt="Next" border="0" src="images/images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Installation</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">The ATL Language</td>
			</tr>
		</table><hr/>
		<h1 id="Overview_of_the_Atlas_Transformation_Language">Overview of the Atlas Transformation Language</h1>
		<p>The ATL language offers ATL developers to design different kinds of ATL units. An ATL unit, whatever its type, is defined in its own distinct ATL file. ATL files are characterized by the 
			<i>.atl</i> extension.
		</p>
		<p>As an answer to the 
			<a href="http://www.omg.org/docs/formal/02-04-03.pdf">OMG MOF</a>/
			<a href="http://www.omg.org/docs/ad/02-04-10.pdf">QVT RFP</a>, ATL mainly focuses on the model to model transformations. Such model operations can be specified by means of ATL 
			<i>modules</i>. Besides modules, the ATL transformation language also enables developers to create model to primitive data type programs. These units are called ATL 
			<i>queries</i>. The aim of a query is to compute a 
			<a href="The-ATL-Language.html#Primitive_data_types" title="ATL/___ATLPAGENAME____-_The_ATL_Language#Primitive_data_types">primitive</a> value, such as a string or an integer, from source models. Finally, the ATL language also offers the possibility to develop independent ATL 
			<i>libraries</i> that can be imported from the different types of ATL units, including libraries themselves. This provides a convenient way to factorize ATL code that is used in multiple ATL units. Note that the three ATL unit kinds same the share 
			<i>.atl</i> extension.
		</p>
		<p>These different ATL units are detailed in the following subsections. This section explains what each kind of unit should be used for, and provides an overview of the content of these different units.</p>
		<h2 id="Examples_metamodels">Examples metamodels</h2>
		<p>This section provides two simple metamodels which will be used all along this guide to demonstrate ATL syntax and use.</p>
		<h3 id="Author_metamodel">Author metamodel</h3>
		<p>
			<img border="0" src="images/Author_metamodel.png"/>
		</p>
		<h3 id="Person_metamodel">Person metamodel</h3>
		<p>
			<img border="0" src="images/Person_metamodel.png"/>
		</p>
		<h3 id="Biblio_metamodel">Biblio metamodel</h3>
		<p>
			<img border="0" src="images/Biblio_metamodel.png"/>
		</p>
		<h2 id="ATL_module">ATL module</h2>
		<p>An ATL module corresponds to a model to model transformation. This kind of ATL unit enables ATL developers to specify the way to produce a set of target models from a set of source models. Both source and target models of an ATL module must be "typed" by their respective metamodels. Moreover, an ATL module accepts a fixed number of models as input, and returns a fixed number of target models. As a consequence, an ATL module can not generate an unknown number of similar target models (e.g. models that conform to a same metamodel).</p>
		<h3 id="Structure_of_an_ATL_module">Structure of an ATL module</h3>
		<p>An ATL module defines a model to model transformation. It is composed of the following elements:</p>
		<ul>
			<li>A header section that defines some attributes that are relative to the transformation module;</li>
			<li>An optional import section that enables to import some existing 
				<a href="Overview-of-the-Atlas-Transformation-Language.html#ATL_Library">ATL libraries</a>;
			</li>
			<li>A set of helpers that can be viewed as an ATL equivalent to Java methods;</li>
			<li>A set of rules that defines the way target models are generated from source ones.</li>
		</ul>
		<p>Helpers and rules do not belong to specific sections in an ATL transformation. They may be declared in any order with respect to certain conditions (see 
			<a href="The-ATL-Language.html#ATL_Helpers" title="ATL/___ATLPAGENAME____-_The_ATL_Language#ATL_Helpers">ATL Helpers</a> section for further details). These four distinct element types are now detailed in the following subsections.
		</p>
		<h4 id="Header_section">Header section</h4>
		<p>The header section defines the name of the transformation module and the name of the variables corresponding to the source and target models. It also encodes the execution mode of the module. The syntax for the header section is defined as follows:</p>
		<pre>module module_name;
create output_models [from|refining] input_models;
</pre>
		<p>The keyword 
			<i>module</i> introduces the name of the module. Note that the name of the ATL file containing the code of the module has to correspond to the name of this module. For instance, a ModelA2ModelB transformation module has to be defined into the 
			<i>ModelA2ModelB</i>.atl file.
			The target models declaration is introduced by the 
			<i>create</i> keyword, whereas the source models are introduced either by the keyword 
			<i>from</i> (in normal mode) or 
			<i>refining</i> (in case of refining transformation). The declaration of a model, either a source input or a target one, must conform the scheme 
			<i>model_name : metamodel_name</i>. It is possible to declare more than one input or output model by simply separating the declared models by a coma. Note that the name of the declared models will be used to identify them. As a consequence, each declared model name has to be unique within the set of declared models (both input and output ones).
			The following ATL source code represents the header of the 
			<i>Book2Publication.atl</i> file, e.g. the ATL header for the 
			<a href="http://www.eclipse.org/m2m/atl/atlTransformations/#Book2Publication">transformation</a> from the Book metamodel to the Publication metamodel:
		</p>
		<pre>module Book2Publication;
create OUT : Publication from IN : Book;
</pre>
		<h4 id="Import_section">Import section</h4>
		<p>The optional import section enables to declare which 
			<a href="Overview-of-the-Atlas-Transformation-Language.html#ATL_Library">ATL libraries</a> have to be imported. The declaration of an ATL library is achieved as follows:
		</p>
		<pre>uses extensionless_library_file_name;
</pre>
		<p>For instance, to import the strings library, one would write:</p>
		<pre>uses strings;
</pre>
		<p>Note that it is possible to declare several distinct libraries by using several successive uses instructions.</p>
		<h4 id="Helpers">Helpers</h4>
		<p>ATL helpers can be viewed as the ATL equivalent to Java methods. They make it possible to define factorized ATL code that can be called from different points of an ATL transformation.
			An ATL helper is defined by the following elements:</p>
		<ul>
			<li>a name (which corresponds to the name of the method);</li>
			<li>a context type. The context type defines the context in which this attribute is defined (in the same way a method is defined in the context of given class in object-programming);</li>
			<li>a return value type. Note that, in ATL, each helper must have a return value;</li>
			<li>an ATL expression that represents the code of the ATL helper;</li>
			<li>an optional set of parameters, in which a parameter is identified by a couple (parameter name, parameter type).</li>
		</ul>
		<p>As an example, it is possible to consider a helper that returns the maximum of two integer values: the contextual integer and an additional integer value which is passed as parameter. The declaration of such a helper will look like (detail of the helper code is not interesting at this stage, please refer to 
			<a href="The-ATL-Language.html#ATL_Helpers" title="ATL/___ATLPAGENAME____-_The_ATL_Language#ATL Helpers">ATL Helpers</a> section for further details):
		</p>
		<pre>helper context Integer def : max(x : Integer) : Integer = ...;
</pre>
		<p>It is also possible to declare a helper that accepts no parameter. This is, for instance, the case for a helper that just multiplies an integer value by two:</p>
		<pre>helper context Integer def : double() : Integer = self * 2;
</pre>
		<p>In some cases, it may be interesting to be able to declare an ATL helper without any particular context. This is not possible in ATL since each helper must be associated with a given context. However, the ATL language allows ATL developers to declare helpers within a default context (which corresponds to the ATL module). This is achieved by simply omitting the context part of the helper definition. It is possible, by this mean, to provide a new version of the max helper defined above:</p>
		<pre>helper def : max(x1 : Integer, x2 : Integer) : Integer = ...;
</pre>
		<p>Note that several helpers may have the same name in a single transformation. However, helpers with a same name must have distinct signatures to be distinguishable by the ATL engine (see 
			<a href="The-ATL-Language.html#ATL_Helpers" title="ATL/___ATLPAGENAME____-_The_ATL_Language#ATL Helpers">ATL Helpers</a> section for further details).
			The ATL language also makes it possible to define attributes. An attribute helper is a specific kind of helper that accepts no parameters, and that is defined either in the context of the ATL module or of a model element. In the remaining of the present document, the term 
			<i>attribute</i> will be specifically used to refer to attribute helpers, whereas the generic term of 
			<i>helper</i> will refer to a functional helper.
			Thus, the attribute version of the double helper defined above will be declared as follows:
		</p>
		<pre>helper context Integer def : double : Integer = self * 2;
</pre>
		<p>Declaring a functional helper with no parameter or an attribute may appear to be equivalent. It is therefore equivalent from a functional point of view. However, there exists a significant difference between these two approaches when considering the execution semantics. Indeed, compared to the result of a functional helper which is calculated each time the helper is called, the return value of an ATL attribute is computed only once when the value is required for the first time. As a consequence, declaring an ATL attribute is more efficient than defining an ATL helper that will be executed as many times as it is called.
			Note that the ATL attributes that are defined in the context of the ATL module are initialized (during the 
			<a href="Overview-of-the-Atlas-Transformation-Language.html#Default_mode_execution_semantics">initialization phase</a>) in the order they have been declared in the ATL file. This implies that the order of declaration of this kind of attribute is of some importance: an attribute defined in the context of the ATL module has to be declared after the other ATL module attributes it depends on for its initialization. A wrong order in the declaration of the ATL module attributes will raise an error during the initialization phase of the ATL program execution.
		</p>
		<h4 id="Rules">Rules</h4>
		<p>In ATL, there exist three different kinds of rules that correspond to the two different programming modes provided by ATL (e.g. declarative and imperative programming): the matched rules (declarative programming), the lazy rules, and the called rules (imperative programming).</p>
		<p>
			<b>Matched rules</b>. The matched rules constitute the core of an ATL declarative transformation since they make it possible to specify:
		</p>
		<p>1) for which kinds of source elements target elements must be generated,</p>
		<p>2) the way the generated target elements have to be initialized. </p>
		<p>A matched rule is identified by its name. It matches a given type of source model element, and generates one or more kinds of target model elements. The rule specifies the way generated target model elements must be initialized from each matched source model element.
			A matched rule is introduced by the keyword 
			<i>rule</i>. It is composed of two mandatory (the source and the target patterns) and two optional (the local variables and the imperative) sections. When defined, the local variable section is introduced by the keyword 
			<i>using</i>. It enables to locally declare and initialize a number of local variables (that will only be visible in the scope of the current rule).
			The source pattern of a matched rule is defined after the keyword 
			<i>from</i>. It enables to specify a model element variable that corresponds to the type of source elements the rule has to match. This type corresponds to an entity of a source metamodel of the transformation. This means that the rule will generate target elements for each source model element that conforms to this matching type. In many cases, the developer will be interested in matching only a subset of the source elements that conform to the matching type. This is simply achieved by specifying an optional condition (expressed as an ATL expression, see 
			<a href="The-ATL-Language.html#OCL_Declarative_Expressions" title="ATL/___ATLPAGENAME____-_The_ATL_Language#OCL_Declarative_Expressions">OCL Declarative Expressions</a> section for further details) within the rule source pattern. By this mean, the rule will only generate target elements for the source model elements that both conform to the matching type and verify the specified condition.
		</p>
		<p>The target pattern of a matched rule is introduced by the keyword 
			<i>to</i>. It aims to specify the elements to be generated when the source pattern of the rule is matched, and how these generated elements are initialized. Thus, the target pattern of a matched rule specifies a distinct target pattern element for each target model element the rule has to generate when its source pattern is matched. A target pattern element corresponds to a model element variable declaration associated with its corresponding set of initialization bindings. This model element variable declaration has to correspond to an entity of the target metamodels of the transformation.
		</p>
		<p>Finally, the optional imperative section, introduced by the keyword 
			<i>do</i>, makes it possible to specify some imperative code that will be executed after the initialization of the target elements generated by the rule.
			As an example, consider the following simple ATL matched rule between two metamodels, 
			<a href="Overview-of-the-Atlas-Transformation-Language.html#Author_metamodel">MMAuthor</a> and 
			<a href="Overview-of-the-Atlas-Transformation-Language.html#Person_metamodel">MMPerson</a>:
		</p>
		<pre>rule Author {
	from
		a : MMAuthor!Author
	to
		p : MMPerson!Person (
			name &lt;- a.name,
			surname &lt;- a.surname
		)
}
</pre>
		<p>This rule, called Author, aims to transform Author source model elements (from the MMAuthor source model) to Person target model elements in the MMPerson target model. This rule only contains the mandatory source and target patterns. The source pattern defines no filter, which means that all Author classes of the source MMAuthor model will be matched by the rule. The rule target pattern contains a single simple target pattern element (called 
			<i>p</i>). This target pattern element aims to allocate a Person class of the MMPerson target model for each source model element matched by the source pattern. The features of the generated model element are initialized with the corresponding features of the matched source model element.
			Note that a source model element of an ATL transformation should not be matched by more than one ATL matched rule. This implies the source pattern of matched rules to be designed carefully in order to respect this constraint. Moreover, an ATL matched rule can not generate ATL primitive type values.
		</p>
		<p>
			<b>Lazy rules</b>.
			Lazy rules are like matched rules, but are only applied when called by another rule
		</p>
		<p>
			<b>Called rules</b>. The called rules provide ATL developers with convenient imperative programming facilities. Called rules can be seen as a particular type of helpers: they have to be explicitly called to be executed and they can accept parameters. However, as opposed to helpers, called rules can generate target model elements as matched rules do. A called rule has to be called from an imperative code section, either from a match rule or another called rule.
		</p>
		<p>As a matched rule, a called rule is introduced by the keyword rule. As matched 
			<i>rules</i>, called rules may include an optional local variables section. However, since it does not have to match source model elements, a called rule does not include a source pattern. Moreover, its target pattern, which makes it possible to generate target model elements, is also optional. Note that, since the called rule does not match any source model element, the initialization of the target model elements that are generated by the target pattern has to be based on a combination of local variables, parameters and module attributes. The target pattern of a called rule is defined in the same way the target pattern of a matched rule is. It is also introduced by the keyword 
			<i>to</i>.
			A called rule can also have an imperative section, which is similar to the ones that can be defined within matched rules. Note that this imperative code section is not mandatory: it is possible to specify a called rule that only contains either a target pattern section or an imperative code section.
			In order to illustrate the called rule structure, consider the following simple example:
		</p>
		<pre>rule NewPerson (na: String, s_na: String) {
	to
		p : MMPerson!Person (
			name &lt;- na
		)
	do {
		p.surname &lt;- s_na
	}
}
</pre>
		<p>This called rule, named NewPerson, aims to generate Person target model elements. The rule accepts two parameters that correspond to the name and the surname of the Person model element that will be created by the rule execution. The rule has both a target pattern (called 
			<i>p'') and an imperative code section. The target pattern allocates a Person class each time the rule is called, and initializes the ''name</i> attribute of the allocated model element. The imperative code section is executed after the initialization of the allocated element (see 
			<a href="Overview-of-the-Atlas-Transformation-Language.html#Default_mode_execution_semantics">Default mode execution semantics</a> section for further details on execution semantics). In this example, the imperative code sets the 
			<i>surname</i> attribute of the generated Person model element to the value of the parameter 
			<i>s_na</i>.
		</p>
		<h3 id="Module_execution_modes">Module execution modes</h3>
		<p>The ATL execution engine defines two different execution modes for ATL modules. With the default execution mode, the ATL developer has to explicitly specify the way target model elements must be generated from source model elements.
			In this scope, the design of a transformation which aims to copy its source model with only a few modifications may prove to be very tiresome. Designing this transformation in default execution mode therefore requires the developer to specify the rules that will generate the modified model elements, but also all the rules that will only copy, without any modification, source to target model elements. The refining execution mode has been designed for this kind of situation: it enables ATL developers to only specify the modifications that have to be performed between the transformation source and target models.
			These two execution modes are described in the following subsections.</p>
		<h4 id="Normal_execution_mode">Normal execution mode</h4>
		<p>The normal execution mode is the ATL module default execution mode. It is associated with the keyword 
			<i>from</i> in the module 
			<a href="Overview-of-the-Atlas-Transformation-Language.html#Header_section">header</a>.
			In default execution mode, the ATL developer has to specify, either by matched or called rules, the way to generate each of the expected target model elements. This execution mode suits to most ATL transformations where target models differ from the source ones.
		</p>
		<h4 id="Refining_execution_mode">Refining execution mode</h4>
		<p>The refining execution mode has been introduced to ease the programming of refining transformations between similar source and target models. With the refining mode, ATL developers can focus on the ATL code dedicated to the generation of modified target elements. Other model elements (e.g. those that remain unchanged between the source and the target model) are implicitly copied from the source to the target model by the ATL engine.
			The refining mode is associated with the keyword 
			<i>refining</i> in the 
			<a href="Overview-of-the-Atlas-Transformation-Language.html#Header_section">header</a> of the ATL module. Granularity of the refining mode is defined at the model element level. This means that the developer will have to specify how to generate a model element as soon as the transformation modifies one of its features (either an attribute or a reference). On the other side, the developer is not required to specify the ATL code that corresponds to the copy of unchanged model elements. This feature may result in important saving of ATL code, which, in the end, makes the programming of refining ATL transformations simpler and easier.
			At current time, the refining mode can only be used to transform a single source model into a single target model. Both source and target models must conform to the same metamodel.
		</p>
		<h3 id="Module_execution_semantics">Module execution semantics</h3>
		<p>This section introduces the basics of the ATL execution semantics. Although designing ATL transformations does not require any particular knowledge on the ATL execution semantics, understanding the way an ATL transformation is processed by the ATL engine can prove to be helpful in certain cases (in particular, when debugging a transformation).</p>
		<p>The semantics of the two available ATL execution modes, the normal and the refining modes, are introduced in the following subsections.</p>
		<h4 id="Default_mode_execution_semantics">Default mode execution semantics</h4>
		<p>The execution of an ATL module is organized into three successive phases: </p>
		<ul>
			<li>a module initialization phase, </li>
			<li>a matching phase of the source model elements, </li>
			<li>a target model elements initialization phase.</li>
		</ul>
		<p>The module initialization step corresponds to the first phase of the execution of an ATL module. In this phase, the attributes defined in the context of the transformation module are initialized. Note that the initialization of these module attributes may make use of attributes that are defined in the context of source model elements. This implies these new attributes to be also initialized during the module initialization phase. If an entry point 
			<a href="The-ATL-Language.html#Called_Rules" title="ATL/___ATLPAGENAME____-_The_ATL_Language#Called Rules">called rule</a> has been defined in the scope of the ATL module, the code of this rule (including target model elements generation) is executed after the initialization of the ATL module attributes.
		</p>
		<p>During the source model elements matching phase, the matching condition of the declared matched rules are tested with the model elements of the module source models. When the matching condition of a matched rule is fulfilled, the ATL engine allocates the set of target model elements that correspond to the target pattern elements declared in the rule. Note that, at this stage, the target model elements are simply allocated: they are initialized during the target model elements initialization phase.</p>
		<p>The last phase of the execution of an ATL module corresponds to the initialization of the target model elements that have been generated during the previous step. At this stage, each allocated target model element is initialized by executing the code of the bindings that are associated with the target pattern element the element comes from. Note that this phase allows invocations of the 
			<a href="The-ATL-Language.html#The_ATL_Module_data_type" title="ATL/___ATLPAGENAME____-_The_ATL_Language#The_ATL_Module_data_type">resolveTemp()</a> operation that is defined in the context of the ATL module.
			The imperative code section that can be specified in the scope of a matched rule is executed once the rule initialization step has completed. This imperative code can trigger the execution of some of the called rules that have been defined in the scope of the ATL module.
		</p>
		<h4 id="Refining_mode_execution_semantics">Refining mode execution semantics</h4>
		<p>ATL'2006 compiler implements an in-place version of the refining mode. This means that no copying occurs, and that changes are directly applied
			on the source model.</p>
		<h2 id="ATL_Query">ATL Query</h2>
		<p>An ATL query consists in a model to 
			<a href="The-ATL-Language.html#Primitive_data_types" title="ATL/___ATLPAGENAME____-_The_ATL_Language#Primitive data types">primitive type</a> value transformation. An ATL query can be viewed as an operation that computes a primitive value from a set of source models. The most common use of ATL queries is the generation of a textual output (encoded into a string value) from a set of source models. However, ATL queries are not limited to the computation of string values and can also return a numerical or a boolean value.
		</p>
		<p>The following subsections respectively describe the structure and the execution semantics of an ATL query.</p>
		<h3 id="Structure_of_an_ATL_query">Structure of an ATL query</h3>
		<p>After an optional 
			<a href="Overview-of-the-Atlas-Transformation-Language.html#Import_section">import</a> section, an ATL query must define a query instantiation. A query instantiation is introduced by the keyword query and specifies the way its result must be computed by means of an ATL expression:
		</p>
		<pre>query query_name = exp;
</pre>
		<p>Beside the query instantiation, an ATL query may include a number of helper or attribute definitions. Note that, although an ATL query is not strictly a module, it defines its own kind of default module context. It is therefore possible, for ATL developers, to declare helpers and attributes defined in the context of the module in the scope of an ATL query.</p>
		<h3 id="Query_execution_semantics">Query execution semantics</h3>
		<p>As an ATL module, the execution of an ATL query is organized in several successive phases. The first phase is the initialization phase. It corresponds to the 
			<a href="Overview-of-the-Atlas-Transformation-Language.html#Default_mode_execution_semantics">initialization phase</a> of the ATL modules and is dedicated to the initialization of the attributes that are defined in the context of the ATL module.
		</p>
		<p>The second phase of the execution of an ATL query is the computation phase. During this phase, the return value of the query is calculated by executing the declarative code of the query element of the ATL query. Note that the helpers that have been defined within the query file can be called at both the initialization and the computation phases.</p>
		<h2 id="ATL_Library">ATL Library</h2>
		<p>The last type of ATL unit is the ATL library. Developing an ATL library enables to define a set of ATL helpers that can be called from different ATL units (modules, but also queries and libraries).</p>
		<p>As the other kinds of ATL units, an ATL library can include an optional 
			<a href="Overview-of-the-Atlas-Transformation-Language.html#Import_section">import section</a>. Besides this import section, an ATL library defines a number of ATL helpers that will be made available in the ATL units that will import the library.
		</p>
		<p>Compared to an ATL module, there exists no default module element for ATL libraries. As a consequence, it is impossible, in libraries, to declare helpers that are defined in the default context of the module. This means that all the helpers defined within an ATL library must be explicitly associated with a given context.</p>
		<p>Compared to both modules and queries, an ATL library cannot be executed independently. This currently means that a library is not associated with any initialization step at execution time (as described in 
			<a href="Overview-of-the-Atlas-Transformation-Language.html#Module_execution_semantics">Module execution semantics</a>). Due to this lack of initialization step, attribute helpers cannot be defined within an ATL library.
		</p>
		<p><div style="display:none">= See Also =
</div>
<div style="display:none">			* 
			<a href="ATL%20User%20Guide.html#Introduction" title="ATL/___ATLPAGENAME____-_Introduction">Introduction</a>
</div>
<div style="display:none">			* 
			<a href="Installation.html#Installation" title="ATL/___ATLPAGENAME____-_Installation">Installation</a>
</div>
<div style="display:none">			* 
			<a href="The-ATL-Language.html#The_ATL_Language" title="ATL/___ATLPAGENAME____-_The_ATL_Language">The ATL Language</a>
</div>
<div style="display:none">			* 
			<a href="The-ATL-Tools.html#The_ATL_Tools" title="ATL/___ATLPAGENAME____-_The_ATL_Tools">The ATL Tools</a>
</div>
		</p><hr/>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<td style="width: 20%" align="left">
					<a href="Installation.html" title="Installation">
						<img alt="Previous" border="0" src="images/images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center">
					<a href="ATL User Guide.html" title="ATL User Guide">
						<img alt="ATL User Guide" border="0" src="images/images/home.gif"/>
					</a>
				</td>
				<td style="width: 20%" align="right">
					<a href="The-ATL-Language.html" title="The ATL Language">
						<img alt="Next" border="0" src="images/images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Installation</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">The ATL Language</td>
			</tr>
		</table>
	</body>
</html><html id='3175.Client.html'></html><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="generator" content="JsDoc Toolkit" />
    
    <title>JsDoc Reference - Client</title>

    <style type="text/css">
      /* default.css */
body
{
	font: 12px "Lucida Grande", Tahoma, Arial, Helvetica, sans-serif;
	width: 800px;
}

.header
{
	clear: both;
	background-color: #ccc;
	padding: 8px;
}

h1
{
	font-size: 150%;
	font-weight: bold;
	padding: 0;
	margin: 1em 0 0 .3em;
}

hr
{
	border: none 0;
	border-top: 1px solid #7F8FB1;
	height: 1px;
}

pre.code
{
	display: block;
	padding: 8px;
	border: 1px dashed #ccc;
}

#index
{
	margin-top: 24px;
	float: left;
	width: 160px;
	position: absolute;
	left: 8px;
	background-color: #F3F3F3;
	padding: 8px;
}

#content
{
	margin-left: 190px;
	width: 600px;
}

.classList
{
	list-style-type: none;
	padding: 0;
	margin: 0 0 0 8px;
	font-family: arial, sans-serif;
	font-size: 1em;
	overflow: auto;
}

.classList li
{
	padding: 0;
	margin: 0 0 8px 0;
}

.summaryTable { width: 100%; }

h1.classTitle
{
	font-size:170%;
	line-height:130%;
}

h2 { font-size: 110%; }
caption, div.sectionTitle
{
	background-color: #7F8FB1;
	color: #fff;
	font-size:130%;
	text-align: left;
	padding: 2px 6px 2px 6px;
	border: 1px #7F8FB1 solid;
}

div.sectionTitle { margin-bottom: 8px; }
.summaryTable thead { display: none; }

.summaryTable td
{
	vertical-align: top;
	padding: 4px;
	border-bottom: 1px #7F8FB1 solid;
	border-right: 1px #7F8FB1 solid;
}

/*col#summaryAttributes {}*/
.summaryTable td.attributes
{
	border-left: 1px #7F8FB1 solid;
	width: 140px;
	text-align: right;
}

td.attributes, .fixedFont
{
	line-height: 15px;
	color: #002EBE;
	font-family: "Courier New",Courier,monospace;
	font-size: 13px;
}

.summaryTable td.nameDescription
{
	text-align: left;
	font-size: 13px;
	line-height: 15px;
}

.summaryTable td.nameDescription, .description
{
	line-height: 15px;
	padding: 4px;
	padding-left: 4px;
}

.summaryTable { margin-bottom: 8px; }

ul.inheritsList
{
	list-style: square;
	margin-left: 20px;
	padding-left: 0;
}

.detailList {
	margin-left: 20px; 
	line-height: 15px;
}
.detailList dt { margin-left: 20px; }

.detailList .heading
{
	font-weight: bold;
	padding-bottom: 6px;
	margin-left: 0;
}

.light, td.attributes, .light a:link, .light a:visited
{
	color: #777;
	font-style: italic;
}

.fineprint
{
	text-align: right;
	font-size: 10px;
}
    </style>
  </head>

  <body>
<!-- ============================== header ================================= -->
    <!-- begin static/header.html -->
    <div id="header">
</div>
    <!-- end static/header.html -->

<!-- ============================== classes index ============================ -->
    <div id="index">
      <!-- begin publish.classesIndex -->
      <div align="center"><a href="../index.html">Index</a></div>
<hr />
<h2>Global Objects</h2>
<ul class="classList">
  
  <li></li>
  
  <li></li>
  
  <li></li>
  
  <li></li>
  
  <li></li>
  
  <li></li>
  
  <li></li>
  
  <li></li>
  
  <li></li>
  
  <li></li>
  
  <li></li>
  
  <li></li>
  
  <li></li>
  
  <li></li>
  
  <li></li>
  
  <li></li>
  
  <li></li>
  
  <li><a href="../symbols/rap.html">rap</a></li>
  
  <li><a href="../symbols/SWT.html">SWT</a></li>
  
</ul>
<h2>Types</h2>
<ul class="classList">
  
  <li><a href="../symbols/%24.html">$</a></li>
  
  <li><a href="../symbols/Button.html">Button</a></li>
  
  <li><a href="../symbols/Canvas.html">Canvas</a></li>
  
  <li><a href="../symbols/Client.html">Client</a></li>
  
  <li><a href="../symbols/Combo.html">Combo</a></li>
  
  <li><a href="../symbols/Composite.html">Composite</a></li>
  
  <li><a href="../symbols/Control.html">Control</a></li>
  
  <li><a href="../symbols/Event.html">Event</a></li>
  
  <li><a href="../symbols/Label.html">Label</a></li>
  
  <li><a href="../symbols/ProgressBar.html">ProgressBar</a></li>
  
  <li><a href="../symbols/RemoteObject.html">RemoteObject</a></li>
  
  <li><a href="../symbols/Scale.html">Scale</a></li>
  
  <li><a href="../symbols/ScrolledComposite.html">ScrolledComposite</a></li>
  
  <li><a href="../symbols/Slider.html">Slider</a></li>
  
  <li><a href="../symbols/Spinner.html">Spinner</a></li>
  
  <li><a href="../symbols/Text.html">Text</a></li>
  
  <li><a href="../symbols/Widget.html">Widget</a></li>
  
  <li></li>
  
  <li></li>
  
</ul>
<hr />
      <!-- end publish.classesIndex -->
    </div>

    <div id="content">
<!-- ============================== class title ============================ -->
      <h1 class="classTitle">
        
        Type Client
      </h1>

<!-- ============================== class summary ========================== -->
      <p class="description">
        
        

        Basic client detection implementation.

      </p>

<!-- ============================== constructor summary ==================== -->
      
      <table class="summaryTable" cellspacing="0" summary="A summary of the constructor documented in the class Client.">
        <caption>Type Summary</caption>
        <thead>
          <tr>
            <th scope="col">Constructor Attributes</th>
            <th scope="col">Constructor Name and Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="attributes">&nbsp;</td>
            <td class="nameDescription" >
              <div class="fixedFont">
                <b><a href="../symbols/Client.html#constructor">Client</a></b>()
              </div>
              <div class="description">Version names follow the wikipedia scheme: major.minor[.revision[.build]] at
http://en.wikipedia.org/wiki/Software_version
Object can be obtained from <a href="../symbols/rap.html#.getClient">rap.getClient</a>.</div>
            </td>
          </tr>
        </tbody>
      </table>
      

<!-- ============================== properties summary ===================== -->
      

<!-- ============================== methods summary ======================== -->
      
        
        
        <table class="summaryTable" cellspacing="0" summary="A summary of the methods documented in the class Client.">
          <caption>Method Summary</caption>
          <thead>
            <tr>
              <th scope="col">Method Attributes</th>
              <th scope="col">Method Name and Description</th>
            </tr>
          </thead>
          <tbody>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.getBasePath">getBasePath</a></b>()
                </div>
                <div class="description">Returns application base path.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.getBrowser">getBrowser</a></b>()
                </div>
                <div class="description">Returns the name of the browser, "chrome" or "firefox" for example.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.getBuild">getBuild</a></b>()
                </div>
                <div class="description">Returns the build number of browser engine version.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.getDefaultLocale">getDefaultLocale</a></b>()
                </div>
                <div class="description">Returns the browser default locale.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.getEngine">getEngine</a></b>()
                </div>
                <div class="description">Returns the name of the browser engine - "trident", "gecko", "webkit" or "blink".</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.getLanguage">getLanguage</a></b>()
                </div>
                <div class="description">Returns the language part from the browser locale.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.getLocale">getLocale</a></b>()
                </div>
                <div class="description">Returns the browser locale as defined in http://www.ietf.org/rfc/bcp/bcp47.txt.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.getMajor">getMajor</a></b>()
                </div>
                <div class="description">Returns the major number of browser engine version.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.getMinor">getMinor</a></b>()
                </div>
                <div class="description">Returns the minor number of browser engine version.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.getPlatform">getPlatform</a></b>()
                </div>
                <div class="description">Returns client platform like Windows, Android for example.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.getRevision">getRevision</a></b>()
                </div>
                <div class="description">Returns the revision number of browser engine version.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.getTerritory">getTerritory</a></b>()
                </div>
                <div class="description">Returns the region part from the browser locale.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.getTimezoneOffset">getTimezoneOffset</a></b>()
                </div>
                <div class="description">Returns the client timezone.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.getVersion">getVersion</a></b>()
                </div>
                <div class="description">Returns the browser engine version.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.isAndroidBrowser">isAndroidBrowser</a></b>()
                </div>
                <div class="description">Returns true if the browser is default Android browser, false otherwise.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.isBlink">isBlink</a></b>()
                </div>
                <div class="description">Returns true is browser engine is "blink" (Chrome/Opera), false otherwise.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.isGecko">isGecko</a></b>()
                </div>
                <div class="description">Returns true is browser engine is "gecko" (Firefox), false otherwise.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.isMobileChrome">isMobileChrome</a></b>()
                </div>
                <div class="description">Returns true if the browser is mobile Chrome, false otherwise.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.isMobileFirefox">isMobileFirefox</a></b>()
                </div>
                <div class="description">Returns true if the browser is mobile Firefox, false otherwise.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.isMobileSafari">isMobileSafari</a></b>()
                </div>
                <div class="description">Returns true if the browser is mobile Safari, false otherwise.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.isTrident">isTrident</a></b>()
                </div>
                <div class="description">Returns true is browser engine is "trident" (IE/Edge), false otherwise.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.isWebkit">isWebkit</a></b>()
                </div>
                <div class="description">Returns true is browser engine is "webkit" (Safari), false otherwise.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.supportsCss3">supportsCss3</a></b>()
                </div>
                <div class="description">Returns true if the browser supports CSS3, false otherwise.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.supportsFileDrop">supportsFileDrop</a></b>()
                </div>
                <div class="description">Returns true if the browser supports file drop, false otherwise.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.supportsTouch">supportsTouch</a></b>()
                </div>
                <div class="description">Returns true if the browser supports touch events, false otherwise.</div>
              </td>
            </tr>
          
            <tr>
              <td class="attributes">&lt;static&gt; &nbsp;</td>
              <td class="nameDescription">
                <div class="fixedFont">Client.<b><a href="../symbols/Client.html#.usesDefaultLocale">usesDefaultLocale</a></b>()
                </div>
                <div class="description">Returns true if the current browser locale is the default one, false otherwise.</div>
              </td>
            </tr>
          
          </tbody>
        </table>
        

        
      
<!-- ============================== events summary ======================== -->
      

<!-- ============================== constructor details ==================== -->
      
      <div class="details"><a name="constructor"> </a>
        <div class="sectionTitle">
          Type Detail
        </div>

        <div class="fixedFont">
            <b>Client</b>()
        </div>

        <div class="description">
          Version names follow the wikipedia scheme: major.minor[.revision[.build]] at
http://en.wikipedia.org/wiki/Software_version
Object can be obtained from <a href="../symbols/rap.html#.getClient">rap.getClient</a>.
          
        </div>

        


          
          
          
            <dl class="detailList">
            <dt class="heading">Since:</dt>
              <dd>3.2</dd>
            </dl>
          
          
          
          
          

      </div>
      

<!-- ============================== field details ========================== -->
      

<!-- ============================== method details ========================= -->
      
        <div class="sectionTitle">
          Method Detail
        </div>
        
          <a name=".getBasePath"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>getBasePath</b>()

          </div>
          <div class="description">
            Returns application base path.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".getBrowser"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>getBrowser</b>()

          </div>
          <div class="description">
            Returns the name of the browser, "chrome" or "firefox" for example.
If the browser name can't be detected this function returns "unknown".
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".getBuild"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>getBuild</b>()

          </div>
          <div class="description">
            Returns the build number of browser engine version.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".getDefaultLocale"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>getDefaultLocale</b>()

          </div>
          <div class="description">
            Returns the browser default locale.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".getEngine"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>getEngine</b>()

          </div>
          <div class="description">
            Returns the name of the browser engine - "trident", "gecko", "webkit" or "blink".
If the browser engine name can't be detected this function returns "unknown".
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".getLanguage"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>getLanguage</b>()

          </div>
          <div class="description">
            Returns the language part from the browser locale.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".getLocale"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>getLocale</b>()

          </div>
          <div class="description">
            Returns the browser locale as defined in http://www.ietf.org/rfc/bcp/bcp47.txt.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".getMajor"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>getMajor</b>()

          </div>
          <div class="description">
            Returns the major number of browser engine version.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".getMinor"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>getMinor</b>()

          </div>
          <div class="description">
            Returns the minor number of browser engine version.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".getPlatform"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>getPlatform</b>()

          </div>
          <div class="description">
            Returns client platform like Windows, Android for example.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".getRevision"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>getRevision</b>()

          </div>
          <div class="description">
            Returns the revision number of browser engine version.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".getTerritory"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>getTerritory</b>()

          </div>
          <div class="description">
            Returns the region part from the browser locale.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".getTimezoneOffset"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>getTimezoneOffset</b>()

          </div>
          <div class="description">
            Returns the client timezone.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".getVersion"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>getVersion</b>()

          </div>
          <div class="description">
            Returns the browser engine version.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".isAndroidBrowser"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>isAndroidBrowser</b>()

          </div>
          <div class="description">
            Returns true if the browser is default Android browser, false otherwise.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".isBlink"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>isBlink</b>()

          </div>
          <div class="description">
            Returns true is browser engine is "blink" (Chrome/Opera), false otherwise.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".isGecko"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>isGecko</b>()

          </div>
          <div class="description">
            Returns true is browser engine is "gecko" (Firefox), false otherwise.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".isMobileChrome"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>isMobileChrome</b>()

          </div>
          <div class="description">
            Returns true if the browser is mobile Chrome, false otherwise.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".isMobileFirefox"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>isMobileFirefox</b>()

          </div>
          <div class="description">
            Returns true if the browser is mobile Firefox, false otherwise.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".isMobileSafari"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>isMobileSafari</b>()

          </div>
          <div class="description">
            Returns true if the browser is mobile Safari, false otherwise.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".isTrident"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>isTrident</b>()

          </div>
          <div class="description">
            Returns true is browser engine is "trident" (IE/Edge), false otherwise.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".isWebkit"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>isWebkit</b>()

          </div>
          <div class="description">
            Returns true is browser engine is "webkit" (Safari), false otherwise.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".supportsCss3"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>supportsCss3</b>()

          </div>
          <div class="description">
            Returns true if the browser supports CSS3, false otherwise.

NOTE: This returns true if the browser sufficiently implements border-radius,
drop-shadow and linear-gradient.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".supportsFileDrop"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>supportsFileDrop</b>()

          </div>
          <div class="description">
            Returns true if the browser supports file drop, false otherwise.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".supportsTouch"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>supportsTouch</b>()

          </div>
          <div class="description">
            Returns true if the browser supports touch events, false otherwise.
            
          </div>

          

            
            
            
            
            
            
            

          <hr />
        
          <a name=".usesDefaultLocale"> </a>
          <div class="fixedFont">&lt;static&gt; 

          
          <span class="light">Client.</span><b>usesDefaultLocale</b>()

          </div>
          <div class="description">
            Returns true if the current browser locale is the default one, false otherwise.
            
          </div>

          

            
            
            
            
            
            
            

          
        
      

<!-- ============================== event details ========================= -->
      

      <hr />
    </div>


<!-- ============================== footer ================================= -->
    <div class="fineprint" style="clear:both">
      Copyright (c) EclipseSource and others 2013, 2019. All rights reserved.
    </div>
  </body>
</html>
<html id='3857.330_web_support.html'></html><html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
	<title>Web Editor Support</title>
	<link href="book.css" rel="stylesheet" type="text/css">
	<link href="code.css" rel="stylesheet" type="text/css">
	<link rel="home" href="index.html" title="">
</head>
<body>

<h1 id="web-integration">Web Editor Support</h1>

<p>Since version 2.9 Xtext offers an interface for integration of text editors in web applications. The text editors are implemented in JavaScript, and language-related services such as code completion are realized through HTTP requests to a server-side component.</p>

<h2 id="client">The Client</h2>

<p>Xtext supports three JavaScript text editor libraries:</p>

<ul>
  <li><a href="http://eclipse.org/orion/">Orion</a></li>
  <li><a href="http://ace.c9.io">Ace</a></li>
  <li><a href="http://codemirror.net">CodeMirror</a></li>
</ul>

<p>The set of supported language-related services depends on which editor library is chosen, as shown in the following table.</p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th></th>
      <th>Orion</th>
      <th>Ace</th>
      <th>CodeMirror</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="#content-assist">Content assist</a></td>
      <td><div class="supported"></div></td>
      <td><div class="supported"></div></td>
      <td><div class="supported"></div></td>
    </tr>
    <tr>
      <td><a href="303_runtime_concepts.html#validation">Validation</a></td>
      <td><div class="supported"></div></td>
      <td><div class="supported"></div></td>
      <td><div class="supported"></div></td>
    </tr>
    <tr>
      <td><a href="#syntax-highlighting">Syntax highlighting</a></td>
      <td><div class="supported"></div></td>
      <td><div class="supported"></div></td>
      <td><div class="supported"></div></td>
    </tr>
    <tr>
      <td><a href="#semantic-highlighting">Semantic highlighting</a></td>
      <td><div class="supported"></div></td>
      <td><div class="not-supported"></div></td>
      <td><div class="supported"></div></td>
    </tr>
    <tr>
      <td><a href="#mark-occurrences">Mark occurrences</a></td>
      <td><div class="supported"></div></td>
      <td><div class="supported"></div></td>
      <td><div class="supported"></div></td>
    </tr>
    <tr>
      <td><a href="#hover-info">Hover information</a></td>
      <td><div class="supported"></div></td>
      <td><div class="not-supported"></div></td>
      <td><div class="not-supported"></div></td>
    </tr>
    <tr>
      <td><a href="303_runtime_concepts.html#formatting">Formatting</a></td>
      <td><div class="supported"></div></td>
      <td><div class="supported"></div></td>
      <td><div class="supported"></div></td>
    </tr>
    <tr>
      <td><a href="303_runtime_concepts.html#code-generation">Code generator</a></td>
      <td><div class="supported"></div></td>
      <td><div class="supported"></div></td>
      <td><div class="supported"></div></td>
    </tr>
    <tr>
      <td><a href="#persistence">Persistence</a></td>
      <td><div class="supported"></div></td>
      <td><div class="supported"></div></td>
      <td><div class="supported"></div></td>
    </tr>
  </tbody>
</table>

<p>The JavaScript integration of Xtext uses <a href="http://requirejs.org">RequireJS</a> for managing modules and their dependencies. The main module is <code>xtext/xtext-orion</code>, <code>xtext/xtext-ace</code>, or <code>xtext/xtext-codemirror</code>, depending on which editor library is used. Examples for loading these libraries together with Xtext can be generated by the <code>WebIntegrationFragment</code> by setting the option <code>generateHtmlExample = true</code> (see <a href="302_configuration.html#generator">The Language Generator</a>). A minimal setup based on <a href="http://webjars.org">WebJars</a> is shown in the following listings.</p>

<h4 id="orion">Orion</h4>

<pre><code class="language-javascript">require.config({
    paths: {
        "text": "webjars/requirejs-text/&lt;version&gt;/text",
        "jquery": "webjars/jquery/&lt;version&gt;/jquery.min",
        "xtext/xtext-orion": "xtext/&lt;version&gt;/xtext-orion"
    }
});
require(["orion/code_edit/built-codeEdit-amd"], function() {
    require(["xtext/xtext-orion"], function(xtext) {
        xtext.createEditor();
    });
});
</code></pre>
<p>Since Orion is not available on WebJars, it has to be downloaded manually at <a href="http://download.eclipse.org/orion/">download.eclipse.org</a>.</p>

<h4 id="ace">Ace</h4>

<pre><code class="language-javascript">require.config({
    paths: {
        "jquery": "webjars/jquery/&lt;version&gt;/jquery.min",
        "ace/ext/language_tools": "webjars/ace/&lt;version&gt;/src/ext-language_tools",
        "xtext/xtext-ace": "xtext/&lt;version&gt;/xtext-ace"
    }
});
require(["webjars/ace/&lt;version&gt;/src/ace"], function() {
    require(["xtext/xtext-ace"], function(xtext) {
        xtext.createEditor();
    });
});
</code></pre>

<h4 id="codemirror">CodeMirror</h4>

<pre><code class="language-javascript">require.config({
    paths: {
        "jquery": "webjars/jquery/&lt;version&gt;/jquery.min",
        "xtext/xtext-codemirror": "xtext/&lt;version&gt;/xtext-codemirror"
    },
    packages: [{
        name: "codemirror",
        location: "webjars/codemirror/&lt;version&gt;",
        main: "lib/codemirror"
    }]
});
require(["xtext/xtext-codemirror"], function(xtext) {
    xtext.createEditor();
});
</code></pre>

<h3 id="javascript-api">JavaScript API</h3>

<h4 id="xtextcreateeditoroptions"><code>xtext.createEditor(options)</code></h4>

<p>Creates one or more editor instances and initializes Xtext services for them. The available options are described below. The return value is the created editor if exactly one was created, or an array of editors otherwise:</p>

<pre><code class="language-javascript">var editor = xtext.createEditor();
</code></pre>

<p>For Orion the editor is not returned directly, but through a <em>promise</em>:</p>

<pre><code class="language-javascript">xtext.createEditor().done(function(editorViewer) {
    ...
});
</code></pre>

<p>If the parent element for the editor is not specified through the options, this function looks for an element with <code>id="xtext-editor"</code>. If none exists, the function looks for elements with <code>class="xtext-editor"</code>.</p>

<h4 id="xtextcreateserviceseditor-options"><code>xtext.createServices(editor, options)</code></h4>

<p>Initializes Xtext services for an already created editor. Use this variant if you want full control over the editor creation.</p>

<h4 id="xtextremoveserviceseditor"><code>xtext.removeServices(editor)</code></h4>

<p>Removes all services and associated listeners from the given editor. The JavaScript-based syntax highlighting is not affected by this operation.</p>

<h3 id="options">Options</h3>

<p>Options can be specified with an object passed to the <code>createEditor</code> or <code>createServices</code> functions:</p>

<pre><code class="language-javascript">xtext.createEditor({
    resourceId: "example.statemachine",
    syntaxDefinition: "xtext/ace-mode-statemachine"
});
</code></pre>

<p>Alternatively, if <code>createEditor</code> is used, options can be set as attributes of the HTML element into which the editor is created. The attribute name is derived from the JavaScript option name by converting CamelCase to hyphen-separated and prefixing with <code>data-editor-</code>, e.g. <code>resourceId</code> becomes <code>data-editor-resource-id</code>:</p>

<pre><code class="language-html">&lt;div id="xtext-editor"
    data-editor-resource-id="example.statemachine"
    data-editor-syntax-definition="xtext/ace-mode-statemachine"&gt;&lt;/div&gt;
</code></pre>

<p>See below for a <a href="#options-reference">full list of available options</a>.</p>

<h3 id="getting-text-content">Getting the Text Content</h3>

<p>The text content is either loaded from the Xtext server or provided through JavaScript. In either case, the Xtext server needs to identify the language you are using in order to process any requests. A language is usually identified using a file extension or a content type. The file extension can be specified with the <code>xtextLang</code> option, while the content type is given with the <code>contentType</code> option.</p>

<h4 id="loading-text-from-the-server">Loading text from the server</h4>

<p>If you specify a value for the <code>resourceId</code> option, the language may be identified from the file extension included in that id. In this case it is not necessary to provide the <code>xtextLang</code> option. Another effect of using <code>resourceId</code> is that the server will try to load the respective resource from its persistence layer. The Xtext server does not define any default persistence, so you have to customize it as described in <a href="#persistence">Persistence</a> in order to use this approach.</p>

<p>The <code>resourceId</code> string may contain whatever information you need to identify a specific text content on the server. Usually the <a href="https://en.wikipedia.org/wiki/Uniform_Resource_Identifier">URI</a> syntax is used, but this is not mandatory.</p>

<h4 id="providing-text-through-javascript">Providing text through JavaScript</h4>

<p>The persistence layer of the Xtext server is totally optional, so you can use whatever means you like to fetch the content, e.g. generate it in the client or request it through your own service. If the DOM element into which the editor is created already contains some text, this text is used as initial content. Otherwise the editor is initially empty, and you can use the API of the chosen editor framework to change the content whenever you like.</p>

<p>If you would like to specify a <code>resourceId</code> without using the persistence services shipped with Xtext, you can do so by setting the option <code>loadFromServer</code> to <code>false</code>.</p>

<h3 id="operation-modes">Operation Modes</h3>

<p>The web integration of Xtext supports two operation modes, which are described in the following.</p>

<h4 id="stateful-mode">Stateful mode</h4>

<p>This mode is active when <code>sendFullText</code> is <code>false</code>, which is the default setting. In stateful mode, an update request is sent to the server whenever the text content of the editor changes. With this approach a copy of the text is kept in the session state of the server, and many Xtext-related services such as AST parsing and validation are cached together with that copy. This means that services run much faster on the server, and the message size of most requests is very small. Use this mode in order to optimize response times of service requests.</p>

<h4 id="stateless-mode">Stateless mode</h4>

<p>This mode is active when <code>sendFullText</code> is set to <code>true</code>. In this case no update request is necessary when the text content changes, but the full text content is attached to all other service requests. This means that the text has to be parsed again for each request, and the message size is proportional to the size of the text content. Use this mode only when you want to avoid server-side sessions and respective session ids stored in cookies.</p>

<h3 id="syntax-highlighting">Syntax Highlighting</h3>

<p>In contrast to <a href="#semantic-highlighting">semantic highlighting</a>, syntax highlighting can be computed purely in JavaScript without requiring a connection to the server. This is realized with the highlighting capabilities of the employed editor libraries. All three libraries offer a JavaScript API for specifying highlighting rules. The <code>WebIntegrationFragment</code> of the Xtext language generator is able to generate a highlighting specification that includes keywords and some basic tokens such as numbers and comments (see <a href="302_configuration.html#generator">The Language Generator</a>). If the highlighting generated in this way is not sufficient, you can still implement the specification yourself following the documentation of the chosen editor library.</p>

<p>The path to the highlighting specification is set with the <code>syntaxDefinition</code> option while setting up the Xtext editor. If no value is specified for that option, it is built from the <code>xtextLang</code> option in the form <code>'xtext-resources/{xtextLang}-syntax'</code> (Orion) or <code>'xtext-resources/mode-{xtextLang}'</code> (Ace). For CodeMirror syntax highlighting is configured by registering a <em>mode</em> and setting the <code>mode</code> option accordingly (default mode name: <code>'xtext/{xtextLang}'</code>).</p>

<h3 id="invoking-services">Invoking Services</h3>

<p>The <code>createEditor</code> and <code>createServices</code> functions set up listeners for editor events such that most services are invoked automatically while using the editor. However, all services can also be invoked programmatically using the <code>xtextServices</code> object that is attached to each editor instance. For example, the following code saves the resource associated with the editor when the button with the id <code>save-button</code> is clicked:</p>

<pre><code class="language-javascript">var editor = xtext.createEditor();
$("#save-button").click(function() {
    editor.xtextServices.saveResource();
});
</code></pre>

<p>The following functions are available, provided that the respective services are enabled and supported by the employed editor library. All functions return a <em>promise</em> that is eventually resolved to the requested data. Furthermore, all these functions can be supplied with an <code>options</code> parameter to override some of the options declared when the editor was built.</p>

<ul>
  <li><code>getContentAssist()</code><br />
Returns the content assist proposals in the format explained in Section <a href="#content-assist">Content Assist</a>.</li>
  <li><code>validate()</code><br />
Returns the validation result. The returned object has a property <code>issues</code>, which is an array of objects with the following properties:
    <ul>
      <li><code>description</code>: A description to be displayed to the user.</li>
      <li><code>severity</code>: one of <code>'error'</code>, <code>'warning'</code>, or <code>'info'</code></li>
      <li><code>line</code>: the line where the issue occurs (one-based)</li>
      <li><code>column</code>: the column where the issue occurs (one-based)</li>
      <li><code>offset</code>: the character offset in the document (zero-based)</li>
      <li><code>length</code>: the length of the affected text region</li>
    </ul>
  </li>
  <li><code>computeHighlighting()</code><br />
Returns the text styling data for semantic highlighting (see Section <a href="#semantic-highlighting">Semantic Highlighting</a>).</li>
  <li><code>getOccurrences()</code><br />
Returns the occurrences of the element at the current cursor position (see Section <a href="#mark-occurrences">Mark Occurrences</a>).</li>
  <li><code>getHoverInfo()</code><br />
Returns the hover information at the current cursor position (see Section <a href="#hover-info">Hover Information</a>).</li>
  <li><code>format()</code><br />
Formats the current selection (or the whole document if the selection has zero length) and returns the formatted text.</li>
  <li><code>generate()</code><br />
Returns the document generated from the associated resource. If more than one document has been generated, an object with a property <code>documents</code> is returned, which is an array of objects with the properties <code>name</code>, <code>contentType</code>, and <code>content</code>.</li>
  <li><code>loadResource()</code><br />
Loads the associated resource and returns an object with properties <code>fullText</code> and <code>dirty</code>. If the resource has been modified during the current session, the modified version is returned even if the page is reloaded.</li>
  <li><code>saveResource()</code><br />
Saves the current state of the resource.</li>
  <li><code>revertResource()</code><br />
Reverts the resource to the last saved state and returns an object with properties <code>fullText</code> and <code>dirty</code>.</li>
  <li><code>update()</code><br />
Computes the difference between the current editor content and the last version that has been committed to the server. If there is a difference, an update request is sent to refresh the server state. The return value has a single property <code>stateId</code>, which is an identifier for the new server state. All requests have to include the last obtained state identifier in order to succeed.</li>
</ul>

<h3 id="options-reference">Full List of Options</h3>

<ul>
  <li><code>baseUrl</code><br />
The path segment where the Xtext service is found (default: <code>'/'</code>). See the <code>serviceUrl</code> option.</li>
  <li><code>contentAssistCharTriggers</code><br />
Characters that invoke the content assist service when typed (Orion only).</li>
  <li><code>contentAssistExcludedStyles</code><br />
Excluded styles for character triggers (Orion only).</li>
  <li><code>contentType</code><br />
The content type included in requests to the Xtext server. If no content type is given, the file extension in the <code>resourceId</code> option is used to determine the language.</li>
  <li><code>dirtyElement</code><br />
An element into which the dirty status class is written when the editor is marked dirty; it can be either a DOM element or an id for a DOM element.</li>
  <li><code>dirtyStatusClass</code><br />
A CSS class name written into the dirtyElement when the editor is marked dirty (default: <code>'dirty'</code>).</li>
  <li><code>document</code><br />
The document; if not specified, the global document is used.</li>
  <li><code>enableContentAssistService</code><br />
Whether content assist should be enabled (default: <code>true</code>).</li>
  <li><code>enableCors</code><br />
Whether CORS should be enabled for service request (default: <code>false</code>).</li>
  <li><code>enableFormattingAction</code><br />
Whether the formatting action should be bound to the standard keystroke <kbd>Ctrl</kbd>+<kbd>⇧</kbd>+<kbd>F</kbd> (<kbd>Ctrl</kbd>+<kbd>⇧</kbd>+<kbd>S</kbd> on CodeMirror) / <kbd>⌘</kbd>+<kbd>⇧</kbd>+<kbd>F</kbd> (default: <code>false</code>).</li>
  <li><code>enableFormattingService</code><br />
Whether text formatting should be enabled (default: <code>true</code>).</li>
  <li><code>enableGeneratorService</code><br />
Whether code generation should be enabled (default: <code>true</code>). No default keystroke is bound for the generator, so it must be triggered through JavaScript code.</li>
  <li><code>enableHoverService</code><br />
Whether mouse hover information should be enabled (default: <code>true</code>).</li>
  <li><code>enableHighlightingService</code><br />
Whether semantic highlighting should be enabled (default: <code>true</code>). In contrast to <a href="#syntax-highlighting">syntax highlighting</a>, semantic highlighting is computed on the server.</li>
  <li><code>enableOccurrencesService</code><br />
Whether marking occurrences should be enabled (default: <code>true</code>).</li>
  <li><code>enableSaveAction</code><br />
Whether the save action should be bound to the standard keystroke <kbd>Ctrl</kbd>+<kbd>S</kbd> / <kbd>⌘</kbd>+<kbd>S</kbd> (default: <code>false</code>).</li>
  <li><code>enableValidationService</code><br />
Whether validation should be enabled (default: <code>true</code>).</li>
  <li><code>loadFromServer</code><br />
Whether to load the editor content from the server. The default value is <code>true</code> if the <code>resourceId</code> option is set and <code>false</code> otherwise.</li>
  <li><code>mouseHoverDelay</code><br />
The number of milliseconds to wait after a mouse hover before the information tooltip is displayed (default: 500).</li>
  <li><code>parent</code><br />
The parent element into which the editor should be created. It can be either a DOM element or an id for a DOM element (default: <code>'xtext-editor'</code>).</li>
  <li><code>parentClass</code><br />
If the <code>parent</code> option is not given, this option is used to find elements that match the given class name (default: <code>'xtext-editor'</code>).</li>
  <li><code>resourceId</code><br />
The identifier of the resource displayed in the text editor. This option is sent to the server to communicate required information on the respective resource.</li>
  <li><code>selectionUpdateDelay</code><br />
The number of milliseconds to wait after a selection change before Xtext services are invoked (default: 550).</li>
  <li><code>sendFullText</code><br />
Whether the full text shall be sent to the server with each request (default: <code>false</code>). Use this if you want the server to run in stateless mode. If the option is inactive, the server state is updated regularly.</li>
  <li><code>serviceUrl</code><br />
The URL of the Xtext servlet. If no value is given, it is constructed using the <code>baseUrl</code> option in the form <code>{location.protocol}//{location.host}{baseUrl}xtext-service</code>.</li>
  <li><code>showErrorDialogs</code><br />
Whether errors should be displayed in popup dialogs (default: <code>false</code>).</li>
  <li><code>syntaxDefinition</code><br />
A path to a JS file containing a syntax definition. Set this option to <code>'none'</code> to disable syntax highlighting. See <a href="#syntax-highlighting">Syntax Highlighting</a> for more details.</li>
  <li><code>textUpdateDelay</code><br />
The number of milliseconds to wait after a text change before Xtext services are invoked (default: 500).</li>
  <li><code>xtextLang</code><br />
The language name (usually the file extension configured for the language). This is used to set the <code>resourceId</code> and <code>syntaxDefinition</code> options if they have not been specified.</li>
</ul>

<h2 id="server">The Server</h2>

<p>The language-specific resources are provided through HTTP requests which are processed by the <a href="https://github.com/eclipse/xtext-web/blob/master/org.eclipse.xtext.web.servlet/src/main/java/org/eclipse/xtext/web/servlet/XtextServlet.xtend">XtextServlet</a>. This class is also responsible for managing the lifecycle of the language <a href="https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Injector.html">Injector</a> (see <a href="302_configuration.html#dependency-injection">Dependency Injection</a>). The default approach is to create an injector when the servlet is started and to register it in the <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceServiceProvider.java">IResourceServiceProvider.Registry</a>. In order to override the default behavior, you can change or add bindings in the <code>&lt;LanguageName&gt;WebModule</code> or <code>&lt;LanguageName&gt;IdeModule</code> of your language.</p>

<p>The usual way to include the Xtext servlet in a server application is to create a subclass of <a href="https://github.com/eclipse/xtext-web/blob/master/org.eclipse.xtext.web.servlet/src/main/java/org/eclipse/xtext/web/servlet/XtextServlet.xtend">XtextServlet</a>, override <code>init()</code> and <code>destroy()</code> to manage the runtime resources, and add a <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/annotation/WebServlet.html">WebServlet</a> annotation with <code>urlPatterns = "/xtext-service/*"</code> as parameter. See <a href="https://github.com/eclipse/xtext-web/blob/master/org.eclipse.xtext.web.example.jetty/src/main/java/org/eclipse/xtext/web/example/jetty/MyXtextServlet.xtend">MyXtextServlet</a> for an example.</p>

<p>If you want to implement your own communication channel to provide the language-specific services without using XtextServlet, you can do so by injecting an instance of <a href="https://github.com/eclipse/xtext-web/blob/master/org.eclipse.xtext.web/src/main/java/org/eclipse/xtext/web/server/XtextServiceDispatcher.xtend">XtextServiceDispatcher</a> and calling <code>getService(IServiceContext)</code>. The input to this method is an <a href="https://github.com/eclipse/xtext-web/blob/master/org.eclipse.xtext.web/src/main/java/org/eclipse/xtext/web/server/IServiceContext.xtend">IServiceContext</a>, which must be implemented to provide the request parameters and the client session. The return value is a descriptor that can be used to invoke the actual service. Furthermore, <a href="https://github.com/eclipse/xtext-web/blob/master/org.eclipse.xtext.web/src/main/java/org/eclipse/xtext/web/server/XtextServiceDispatcher.xtend">XtextServiceDispatcher</a> can be subclassed in order to add custom services with access to the document AST and all related Xtext APIs.</p>

<p>The following sections describe how to customize the standard services for web editors.</p>

<h3 id="content-assist">Content Assist</h3>

<p>Content assist proposals for cross-references are created by <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/contentassist/IdeCrossrefProposalProvider.xtend">IdeCrossrefProposalProvider</a>, while for other grammar elements <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/contentassist/IdeContentProposalProvider.xtend">IdeContentProposalProvider</a> is used. In order to customize the proposals, create subclasses of these providers and register them in your IDE Guice module.</p>

<p><a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/contentassist/IdeContentProposalProvider.xtend">IdeContentProposalProvider</a> has one <code>_createProposals(...)</code> dispatch method for each type of grammar element. In most cases the best choice is to override the method for <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/emf-gen/org/eclipse/xtext/Assignment.java">Assignments</a> and to filter the correct assignments by comparing them with the instances in the generated GrammarAccess of your language. A proposal is submitted by creating and configuring an instance of <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/contentassist/ContentAssistEntry.xtend">ContentAssistEntry</a> and passing it to the given acceptor. This entry class contains all information required to display the proposal in the web browser and to apply it to the document. Usually it is sent to the client in JSON format.</p>

<p>The typical customization point for <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/contentassist/IdeCrossrefProposalProvider.xtend">IdeCrossrefProposalProvider</a> is the method <code>createProposal(...)</code>, which is called for each element found by the scope provider. Here you can fine-tune the information to put into the <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/contentassist/ContentAssistEntry.xtend">ContentAssistEntry</a>.</p>

<h3 id="semantic-highlighting">Semantic Highlighting</h3>

<p>The default behavior of Xtext editors is to have no semantic highlighting (syntactic highlighting, e.g. for keywords and strings, is done on the client side as described in <a href="#syntax-highlighting">Syntax Highlighting</a>). In order to add styling to your text, create a subclass of <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/syntaxcoloring/DefaultSemanticHighlightingCalculator.java">DefaultSemanticHighlightingCalculator</a> and override <code>highlightElement(...)</code>. Here you can mark text regions with CSS classes by submitting a text offset, a length, and the CSS class name to the given acceptor. You can specify the actual text style in a CSS file that is included by the web page containing the Xtext editor.</p>

<h3 id="mark-occurrences">Mark Occurrences</h3>

<p>The service for marking occurrences of a selected element is handled by <a href="https://github.com/eclipse/xtext-web/blob/master/org.eclipse.xtext.web/src/main/java/org/eclipse/xtext/web/server/occurrences/OccurrencesService.xtend">OccurrencesService</a>. Here you can override <code>filter(EObject)</code> to exclude some elements from this service. The actual text regions to be marked are computed automatically from the cross-references present in the model.</p>

<h3 id="hover-info">Hover Information</h3>

<p>The information displayed for mouse hover popups is created in HTML format and consists of two parts: a title and a description.</p>

<p>The title is composed of a text label and an image. The label is computed by <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/labels/INameLabelProvider.xtend">INameLabelProvider</a>, and the default is the value of the <code>name</code> property of an element, if it exists. The image is determined by an implementation of <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/labels/IImageDescriptionProvider.xtend">IImageDescriptionProvider</a>. The default behavior is to generate a <code>&lt;div&gt;</code> and annotate it with a CSS class of the form <code>&lt;class&gt;-icon</code>, where <code>&lt;class&gt;</code> is the name of the EClass of the corresponding element. The actual images can be assigned to these classes in a CSS file using the <code>background-image</code> CSS property.</p>

<p>The description part of the hover popup is determined by the <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/documentation/IEObjectDocumentationProvider.java">IEObjectDocumentationProvider</a>. For this part the default content is fetched from the comments in the document: if the definition of the element is preceded by a multi-line comment (e.g. <code>/* ... */</code>), the content of that comment is used as description.</p>

<h3 id="persistence">Persistence</h3>

<p>Without further adaptation the Xtext server does not provide any persistence functionality. As described in <a href="#getting-text-content">Getting the Text Content</a>, there are multiple ways to fill the web editor with text. If you would like to use the persistence service included in the Xtext server, you need to implement <a href="https://github.com/eclipse/xtext-web/blob/master/org.eclipse.xtext.web/src/main/java/org/eclipse/xtext/web/server/persistence/IServerResourceHandler.xtend">IServerResourceHandler</a>. The <code>get</code> and <code>put</code> operations declared in that interface should delegate to the persistence layer you would like to connect. For a simple example see <a href="https://github.com/eclipse/xtext-web/blob/master/org.eclipse.xtext.web/src/main/java/org/eclipse/xtext/web/server/persistence/FileResourceHandler.xtend">FileResourceHandler</a>.</p>

<hr />

<p><strong><a href="350_continuous_integration.html">Next Chapter: Continuous Integration</a></strong></p>


</body>
</html>
<html id='3356.Network-Tracing.html'></html><?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>Trace Compass Developer Guide - Network Tracing</title>
		<link type="text/css" rel="stylesheet" href="book.css"/>
	</head>
	<body>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<th style="width: 100%" align="center" colspan="3">Network Tracing</th>
			</tr>
			<tr>
				<td style="width: 20%" align="left">
					<a href="Performance-Tests.html" title="Performance Tests">
						<img alt="Previous" border="0" src="images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right">
					<a href="Markers.html" title="Markers">
						<img alt="Next" border="0" src="images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Performance Tests</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Markers</td>
			</tr>
		</table><hr class="navigation-separator"/>
		<h1 id="Network_Tracing">Network Tracing</h1>
		<h2 id="Adding_a_protocol">Adding a protocol</h2>
		<p>Supporting a new network protocol in TMF is straightforward. Minimal effort is required to support new protocols. In this tutorial, the UDP protocol will be added to the list of supported protocols.</p>
		<h3 id="Architecture">Architecture</h3>
		<p>All the TMF pcap-related code is divided in three projects (not considering the tests plugins):</p>
		<ul>
			<li>
				<b>org.eclipse.tracecompass.pcap.core</b>, which contains the parser that will read pcap files and constructs the different packets from a ByteBuffer. It also contains means to build packet streams, which are conversation (list of packets) between two endpoints. To add a protocol, almost all of the work will be in that project.
			</li>
			<li>
				<b>org.eclipse.tracecompass.tmf.pcap.core</b>, which contains TMF-specific concepts and act as a wrapper between TMF and the pcap parsing library. It only depends on org.eclipse.tracecompass.tmf.core and org.eclipse.tracecompass.pcap.core. To add a protocol, one file must be edited in this project.
			</li>
			<li>
				<b>org.eclipse.tracecompass.tmf.pcap.ui</b>, which contains all TMF pcap UI-specific concepts, such as the views and perspectives. No work is needed in that project.
			</li>
		</ul>
		<h3 id="UDP_Packet_Structure">UDP Packet Structure</h3>
		<p>The UDP is a transport-layer protocol that does not guarantee message delivery nor in-order message reception. A UDP packet (datagram) has the following 
			<a href="http://en.wikipedia.org/wiki/User_Datagram_Protocol#Packet_structure">structure</a>:
		</p>
		<table class="wikitable" style="margin: 0 auto; text-align: center;">
			<tr>
				<th style="border-bottom:none; border-right:none;">
					<i>Offsets</i>
				</th>
				<th style="border-left:none;">Octet</th>
				<th colspan="8">0</th>
				<th colspan="8">1</th>
				<th colspan="8">2</th>
				<th colspan="8">3</th>
			</tr>
			<tr>
				<th style="border-top: none">Octet</th>
				<th><tt>Bit</tt></th>
				<th><tt>&nbsp;0</tt></th>
				<th><tt>&nbsp;1</tt></th>
				<th><tt>&nbsp;2</tt></th>
				<th><tt>&nbsp;3</tt></th>
				<th><tt>&nbsp;4</tt></th>
				<th><tt>&nbsp;5</tt></th>
				<th><tt>&nbsp;6</tt></th>
				<th><tt>&nbsp;7</tt></th>
				<th><tt>&nbsp;8</tt></th>
				<th><tt>&nbsp;9</tt></th>
				<th><tt>10</tt></th>
				<th><tt>11</tt></th>
				<th><tt>12</tt></th>
				<th><tt>13</tt></th>
				<th><tt>14</tt></th>
				<th><tt>15</tt></th>
				<th><tt>16</tt></th>
				<th><tt>17</tt></th>
				<th><tt>18</tt></th>
				<th><tt>19</tt></th>
				<th><tt>20</tt></th>
				<th><tt>21</tt></th>
				<th><tt>22</tt></th>
				<th><tt>23</tt></th>
				<th><tt>24</tt></th>
				<th><tt>25</tt></th>
				<th><tt>26</tt></th>
				<th><tt>27</tt></th>
				<th><tt>28</tt></th>
				<th><tt>29</tt></th>
				<th><tt>30</tt></th>
				<th><tt>31</tt></th>
			</tr>
			<tr>
				<th>0</th>
				<th><tt> 0</tt></th>
				<td style="background:#fdd;" colspan="16">Source port</td>
				<td colspan="16">Destination port</td>
			</tr>
			<tr>
				<th>4</th>
				<th><tt>32</tt></th>
				<td colspan="16">Length</td>
				<td style="background:#fdd;" colspan="16">Checksum</td>
			</tr>
		</table>
		<p>Knowing that, we can define an UDPPacket class that contains those fields.</p>
		<h3 id="Creating_the_UDPPacket">Creating the UDPPacket</h3>
		<p>First, in org.eclipse.tracecompass.pcap.core, create a new package named 
			<b>org.eclipse.tracecompass.pcap.core.protocol.name</b> with name being the name of the new protocol. In our case name is udp so we create the package 
			<b>org.eclipse.tracecompass.pcap.core.protocol.udp</b>. All our work is going in this package.
		</p>
		<p>In this package, we create a new class named UDPPacket that extends Packet. All new protocol must define a packet type that extends the abstract class Packet. We also add different fields:</p>
		<ul>
			<li>
				<i>Packet</i> 
				<b>fChildPacket</b>, which is the packet encapsulated by this UDP packet, if it exists. This field will be initialized by findChildPacket().
			</li>
			<li>
				<i>ByteBuffer</i> 
				<b>fPayload</b>, which is the payload of this packet. Basically, it is the UDP packet without its header.
			</li>
			<li>
				<i>int</i> 
				<b>fSourcePort</b>, which is an unsigned 16-bits field, that contains the source port of the packet (see packet structure).
			</li>
			<li>
				<i>int</i> 
				<b>fDestinationPort</b>, which is an unsigned 16-bits field, that contains the destination port of the packet (see packet structure).
			</li>
			<li>
				<i>int</i> 
				<b>fTotalLength</b>, which is an unsigned 16-bits field, that contains the total length (header + payload) of the packet.
			</li>
			<li>
				<i>int</i> 
				<b>fChecksum</b>, which is an unsigned 16-bits field, that contains a checksum to verify the integrity of the data.
			</li>
			<li>
				<i>UDPEndpoint</i> 
				<b>fSourceEndpoint</b>, which contains the source endpoint of the UDPPacket. The UDPEndpoint class will be created later in this tutorial.
			</li>
			<li>
				<i>UDPEndpoint</i> 
				<b>fDestinationEndpoint</b>, which contains the destination endpoint of the UDPPacket.
			</li>
			<li>
				<i>ImmutableMap&lt;String, String&gt;</i> 
				<b>fFields</b>, which is a map that contains all the packet fields (see in data structure) which assign a field name with its value. Those values will be displayed on the UI.
			</li>
		</ul>
		<p>We also create the UDPPacket(PcapFile file, @Nullable Packet parent, ByteBuffer packet) constructor. The parameters are:</p>
		<ul>
			<li>
				<i>PcapFile</i> 
				<b>file</b>, which is the pcap file to which this packet belongs.
			</li>
			<li>
				<i>Packet</i> 
				<b>parent</b>, which is the packet encasulating this UDPPacket
			</li>
			<li>
				<i>ByteBuffer</i> 
				<b>packet</b>, which is a ByteBuffer that contains all the data necessary to initialize the fields of this UDPPacket. We will retrieve bytes from it during object construction.
			</li>
		</ul>
		<p>The following class is obtained:</p>
		<pre>
package org.eclipse.tracecompass.pcap.core.protocol.udp;

import java.nio.ByteBuffer;
import java.util.Map;

import org.eclipse.tracecompass.internal.pcap.core.endpoint.ProtocolEndpoint;
import org.eclipse.tracecompass.internal.pcap.core.packet.BadPacketException;
import org.eclipse.tracecompass.internal.pcap.core.packet.Packet;

public class UDPPacket extends Packet {

    private final @Nullable Packet fChildPacket;
    private final @Nullable ByteBuffer fPayload;

    private final int fSourcePort;
    private final int fDestinationPort;
    private final int fTotalLength;
    private final int fChecksum;

    private @Nullable UDPEndpoint fSourceEndpoint;
    private @Nullable UDPEndpoint fDestinationEndpoint;

    private @Nullable ImmutableMap&lt;String, String&gt; fFields;

    /**
     * Constructor of the UDP Packet class.
     *
     * @param file
     *            The file that contains this packet.
     * @param parent
     *            The parent packet of this packet (the encapsulating packet).
     * @param packet
     *            The entire packet (header and payload).
     * @throws BadPacketException
     *             Thrown when the packet is erroneous.
     */
    public UDPPacket(PcapFile file, @Nullable Packet parent, ByteBuffer packet) throws BadPacketException {
        super(file, parent, PcapProtocol.UDP);
        // TODO Auto-generated constructor stub
    }


    @Override
    public Packet getChildPacket() {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public ByteBuffer getPayload() {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public boolean validate() {
        // TODO Auto-generated method stub
        return false;
    }

    @Override
    protected Packet findChildPacket() throws BadPacketException {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public ProtocolEndpoint getSourceEndpoint() {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public ProtocolEndpoint getDestinationEndpoint() {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public Map&lt;String, String&gt; getFields() {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public String getLocalSummaryString() {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    protected String getSignificationString() {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public boolean equals(Object obj) {
        // TODO Auto-generated method stub
        return false;
    }

    @Override
    public int hashCode() {
        // TODO Auto-generated method stub
        return 0;
    }

}
</pre>
		<p>Now, we implement the constructor. It is done in four steps:</p>
		<ul>
			<li>We initialize fSourceEndpoint, fDestinationEndpoint and fFields to null, since those are lazy-loaded. This allows faster construction of the packet and thus faster parsing.</li>
			<li>We initialize fSourcePort, fDestinationPort, fTotalLength, fChecksum using ByteBuffer packet. Thanks to the packet data structure, we can simply retrieve packet.getShort() to get the value. Since there is no unsigned in Java, special care is taken to avoid negative number. We use the utility method ConversionHelper.unsignedShortToInt() to convert it to an integer, and initialize the fields.</li>
			<li>Now that the header is parsed, we take the rest of the ByteBuffer packet to initialize the payload, if there is one. To do this, we simply generate a new ByteBuffer starting from the current position.</li>
			<li>We initialize the field fChildPacket using the method findChildPacket()</li>
		</ul>
		<p>The following constructor is obtained:</p>
		<pre>
    public UDPPacket(PcapFile file, @Nullable Packet parent, ByteBuffer packet) throws BadPacketException {
        super(file, parent, Protocol.UDP);

        // The endpoints and fFields are lazy loaded. They are defined in the get*Endpoint()
        // methods.
        fSourceEndpoint = null;
        fDestinationEndpoint = null;
        fFields = null;

        // Initialize the fields from the ByteBuffer
        packet.order(ByteOrder.BIG_ENDIAN);
        packet.position(0);

        fSourcePort = ConversionHelper.unsignedShortToInt(packet.getShort());
        fDestinationPort = ConversionHelper.unsignedShortToInt(packet.getShort());
        fTotalLength = ConversionHelper.unsignedShortToInt(packet.getShort());
        fChecksum = ConversionHelper.unsignedShortToInt(packet.getShort());

        // Initialize the payload
        if (packet.array().length - packet.position() &gt; 0) {
            byte[] array = new byte[packet.array().length - packet.position()];
            packet.get(array);

            ByteBuffer payload = ByteBuffer.wrap(array);
            payload.order(ByteOrder.BIG_ENDIAN);
            payload.position(0);
            fPayload = payload;
        } else {
            fPayload = null;
        }

        // Find child
        fChildPacket = findChildPacket();

    }
</pre>
		<p>Then, we implement the following methods:</p>
		<ul>
			<li>
				<i>public Packet</i> 
				<b>getChildPacket()</b>: simple getter of fChildPacket
			</li>
			<li>
				<i>public ByteBuffer</i> 
				<b>getPayload()</b>: simple getter of fPayload
			</li>
			<li>
				<i>public boolean</i> 
				<b>validate()</b>: method that checks if the packet is valid. In our case, the packet is valid if the retrieved checksum fChecksum and the real checksum (that we can compute using the fields and payload of UDPPacket) are the same.
			</li>
			<li>
				<i>protected Packet</i> 
				<b>findChildPacket()</b>: method that create a new packet if a encapsulated protocol is found. For instance, based on the fDestinationPort, it could determine what the encapsulated protocol is and creates a new packet object.
			</li>
			<li>
				<i>public ProtocolEndpoint</i> 
				<b>getSourceEndpoint()</b>: method that initializes and returns the source endpoint.
			</li>
			<li>
				<i>public ProtocolEndpoint</i> 
				<b>getDestinationEndpoint()</b>: method that initializes and returns the destination endpoint.
			</li>
			<li>
				<i>public Map&lt;String, String&gt;</i> 
				<b>getFields()</b>: method that initializes and returns the map containing the fields matched to their value.
			</li>
			<li>
				<i>public String</i> 
				<b>getLocalSummaryString()</b>: method that returns a string summarizing the most important fields of the packet. There is no need to list all the fields, just the most important one. This will be displayed on UI.
			</li>
			<li>
				<i>protected String</i> 
				<b>getSignificationString()</b>: method that returns a string describing the meaning of the packet. If there is no particular meaning, it is possible to return getLocalSummaryString().
			</li>
			<li>public boolean'' 
				<b>equals(Object obj)</b>: Object's equals method.
			</li>
			<li>public int'' 
				<b>hashCode()</b>: Object's hashCode method.
			</li>
		</ul>
		<p>We get the following code:</p>
		<pre>
    @Override
    public @Nullable Packet getChildPacket() {
        return fChildPacket;
    }

    @Override
    public @Nullable ByteBuffer getPayload() {
        return fPayload;
    }

    /**
     * Getter method that returns the UDP Source Port.
     *
     * @return The source Port.
     */
    public int getSourcePort() {
        return fSourcePort;
    }

    /**
     * Getter method that returns the UDP Destination Port.
     *
     * @return The destination Port.
     */
    public int getDestinationPort() {
        return fDestinationPort;
    }

    /**
     * {@inheritDoc}
     *
     * See http://www.iana.org/assignments/service-names-port-numbers/service-
     * names-port-numbers.xhtml or
     * http://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers
     */
    @Override
    protected @Nullable Packet findChildPacket() throws BadPacketException {
        // When more protocols are implemented, we can simply do a switch on the fDestinationPort field to find the child packet.
        // For instance, if the destination port is 80, then chances are the HTTP protocol is encapsulated. We can create a new HTTP
        // packet (after some verification that it is indeed the HTTP protocol).
        ByteBuffer payload = fPayload;
        if (payload == null) {
            return null;
        }

        return new UnknownPacket(getPcapFile(), this, payload);
    }

    @Override
    public boolean validate() {
        // Not yet implemented. ATM, we consider that all packets are valid.
        // TODO Implement it. We can compute the real checksum and compare it to fChecksum.
        return true;
    }

    @Override
    public UDPEndpoint getSourceEndpoint() {
        @Nullable
        UDPEndpoint endpoint = fSourceEndpoint;
        if (endpoint == null) {
            endpoint = new UDPEndpoint(this, true);
        }
        fSourceEndpoint = endpoint;
        return fSourceEndpoint;
    }

    @Override
    public UDPEndpoint getDestinationEndpoint() {
        @Nullable UDPEndpoint endpoint = fDestinationEndpoint;
        if (endpoint == null) {
            endpoint = new UDPEndpoint(this, false);
        }
        fDestinationEndpoint = endpoint;
        return fDestinationEndpoint;
    }

    @Override
    public Map&lt;String, String&gt; getFields() {
        ImmutableMap&lt;String, String&gt; map = fFields;
        if (map == null) {
            @SuppressWarnings("null")
            @NonNull ImmutableMap&lt;String, String&gt; newMap = ImmutableMap.&lt;String, String&gt; builder()
                    .put("Source Port", String.valueOf(fSourcePort)) //$NON-NLS-1$
                    .put("Destination Port", String.valueOf(fDestinationPort)) //$NON-NLS-1$
                    .put("Length", String.valueOf(fTotalLength) + " bytes") //$NON-NLS-1$ //$NON-NLS-2$
                    .put("Checksum", String.format("%s%04x", "0x", fChecksum)) //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$
                    .build();
            fFields = newMap;
            return newMap;
        }
        return map;
    }

    @Override
    public String getLocalSummaryString() {
        return "Src Port: " + fSourcePort + ", Dst Port: " + fDestinationPort; //$NON-NLS-1$ //$NON-NLS-2$
    }

    @Override
    protected String getSignificationString() {
        return "Source Port: " + fSourcePort + ", Destination Port: " + fDestinationPort; //$NON-NLS-1$ //$NON-NLS-2$
    }

    @Override
    public int hashCode() {
        final int prime = 31;
        int result = 1;
        result = prime * result + fChecksum;
        final Packet child = fChildPacket;
        if (child != null) {
            result = prime * result + child.hashCode();
        } else {
            result = prime * result;
        }
        result = prime * result + fDestinationPort;
        final ByteBuffer payload = fPayload;
        if (payload != null) {
            result = prime * result + payload.hashCode();
        } else {
            result = prime * result;
        }
        result = prime * result + fSourcePort;
        result = prime * result + fTotalLength;
        return result;
    }

    @Override
    public boolean equals(@Nullable Object obj) {
        if (this == obj) {
            return true;
        }
        if (obj == null) {
            return false;
        }
        if (getClass() != obj.getClass()) {
            return false;
        }
        UDPPacket other = (UDPPacket) obj;
        if (fChecksum != other.fChecksum) {
            return false;
        }
        final Packet child = fChildPacket;
        if (child != null) {
            if (!child.equals(other.fChildPacket)) {
                return false;
            }
        } else {
            if (other.fChildPacket != null) {
                return false;
            }
        }
        if (fDestinationPort != other.fDestinationPort) {
            return false;
        }
        final ByteBuffer payload = fPayload;
        if (payload != null) {
            if (!payload.equals(other.fPayload)) {
                return false;
            }
        } else {
            if (other.fPayload != null) {
                return false;
            }
        }
        if (fSourcePort != other.fSourcePort) {
            return false;
        }
        if (fTotalLength != other.fTotalLength) {
            return false;
        }
        return true;
    }
</pre>
		<p>The UDPPacket class is implemented. We now have the define the UDPEndpoint.</p>
		<h3 id="Creating_the_UDPEndpoint">Creating the UDPEndpoint</h3>
		<p>For the UDP protocol, an endpoint will be its source or its destination port, depending if it is the source endpoint or destination endpoint. Knowing that, we can create our UDPEndpoint class.</p>
		<p>We create in our package a new class named UDPEndpoint that extends ProtocolEndpoint. We also add a field: fPort, which contains the source or destination port. We finally add a constructor public ExampleEndpoint(Packet packet, boolean isSourceEndpoint):</p>
		<ul>
			<li>
				<i>Packet</i> 
				<b>packet</b>: the packet to build the endpoint from.
			</li>
			<li>
				<i>boolean</i> 
				<b>isSourceEndpoint</b>: whether the endpoint is the source endpoint or destination endpoint.
			</li>
		</ul>
		<p>We obtain the following unimplemented class:</p>
		<pre>
package org.eclipse.tracecompass.pcap.core.protocol.udp;

import org.eclipse.tracecompass.internal.pcap.core.endpoint.ProtocolEndpoint;
import org.eclipse.tracecompass.internal.pcap.core.packet.Packet;

public class UDPEndpoint extends ProtocolEndpoint {

    private final int fPort;

    public UDPEndpoint(Packet packet, boolean isSourceEndpoint) {
        super(packet, isSourceEndpoint);
        // TODO Auto-generated constructor stub
    }

    @Override
    public int hashCode() {
        // TODO Auto-generated method stub
        return 0;
    }

    @Override
    public boolean equals(Object obj) {
        // TODO Auto-generated method stub
        return false;
    }

    @Override
    public String toString() {
        // TODO Auto-generated method stub
        return null;
    }

}
</pre>
		<p>For the constructor, we simply initialize fPort. If isSourceEndpoint is true, then we take packet.getSourcePort(), else we take packet.getDestinationPort().</p>
		<pre>
    /**
     * Constructor of the {@link UDPEndpoint} class. It takes a packet to get
     * its endpoint. Since every packet has two endpoints (source and
     * destination), the isSourceEndpoint parameter is used to specify which
     * endpoint to take.
     *
     * @param packet
     *            The packet that contains the endpoints.
     * @param isSourceEndpoint
     *            Whether to take the source or the destination endpoint of the
     *            packet.
     */
    public UDPEndpoint(UDPPacket packet, boolean isSourceEndpoint) {
        super(packet, isSourceEndpoint);
        fPort = isSourceEndpoint ? packet.getSourcePort() : packet.getDestinationPort();
    }
</pre>
		<p>Then we implement the methods:</p>
		<ul>
			<li>
				<i>public int</i> 
				<b>hashCode()</b>: method that returns an integer based on the fields value. In our case, it will return an integer depending on fPort, and the parent endpoint that we can retrieve with getParentEndpoint().
			</li>
			<li>
				<i>public boolean</i> 
				<b>equals(Object obj)</b>: method that returns true if two objects are equals. In our case, two UDPEndpoints are equal if they both have the same fPort and have the same parent endpoint that we can retrieve with getParentEndpoint().
			</li>
			<li>
				<i>public String</i> 
				<b>toString()</b>: method that returns a description of the UDPEndpoint as a string. In our case, it will be a concatenation of the string of the parent endpoint and fPort as a string.
			</li>
		</ul>
		<pre>
    @Override
    public int hashCode() {
        final int prime = 31;
        int result = 1;
        ProtocolEndpoint endpoint = getParentEndpoint();
        if (endpoint == null) {
            result = 0;
        } else {
            result = endpoint.hashCode();
        }
        result = prime * result + fPort;
        return result;
    }

    @Override
    public boolean equals(@Nullable Object obj) {
        if (this == obj) {
            return true;
        }
        if (!(obj instanceof UDPEndpoint)) {
            return false;
        }

        UDPEndpoint other = (UDPEndpoint) obj;

        // Check on layer
        boolean localEquals = (fPort == other.fPort);
        if (!localEquals) {
            return false;
        }

        // Check above layers.
        ProtocolEndpoint endpoint = getParentEndpoint();
        if (endpoint != null) {
            return endpoint.equals(other.getParentEndpoint());
        }
        return true;
    }

    @Override
    public String toString() {
        ProtocolEndpoint endpoint = getParentEndpoint();
        if (endpoint == null) {
            @SuppressWarnings("null")
            @NonNull String ret = String.valueOf(fPort);
            return ret;
        }
        return endpoint.toString() + '/' + fPort;
    }
</pre>
		<h3 id="Registering_the_UDP_protocol">Registering the UDP protocol</h3>
		<p>The last step is to register the new protocol. There are three places where the protocol has to be registered. First, the parser has to know that a new protocol has been added. This is defined in the enum org.eclipse.tracecompass.internal.pcap.core.protocol.PcapProtocol. Simply add the protocol name here, along with a few arguments:</p>
		<ul>
			<li>
				<i>String</i> 
				<b>longname</b>, which is the long version of name of the protocol. In our case, it is "User Datagram Protocol".
			</li>
			<li>
				<i>String</i> 
				<b>shortName</b>, which is the shortened name of the protocol. In our case, it is "UDP".
			</li>
			<li>
				<i>Layer</i> 
				<b>layer</b>, which is the layer to which the protocol belongs in the OSI model. In our case, this is the layer 4.
			</li>
			<li>
				<i>boolean</i> 
				<b>supportsStream</b>, which defines whether or not the protocol supports packet streams. In our case, this is set to true.
			</li>
		</ul>
		<p>Thus, the following line is added in the PcapProtocol enum:</p>
		<pre>
    UDP("User Datagram Protocol", "udp", Layer.LAYER_4, true),
</pre>
		<p>Also, TMF has to know about the new protocol. This is defined in org.eclipse.tracecompass.internal.tmf.pcap.core.protocol.TmfPcapProtocol. We simply add it, with a reference to the corresponding protocol in PcapProtocol. Thus, the following line is added in the TmfPcapProtocol enum:</p>
		<pre>
    UDP(PcapProtocol.UDP),
</pre>
		<p>You will also have to update the 
			<i>ProtocolConversion</i> class to register the protocol in the switch statements. Thus, for UDP, we add:
		</p>
		<pre>
    case UDP:
        return TmfPcapProtocol.UDP;
</pre>
		<p>and</p>
		<pre>
    case UDP:
        return PcapProtocol.UDP;
</pre>
		<p>Finally, all the protocols that could be the parent of the new protocol (in our case, IPv4 and IPv6) have to be notified of the new protocol. This is done by modifying the findChildPacket() method of the packet class of those protocols. For instance, in IPv4Packet, we add a case in the switch statement of findChildPacket, if the Protocol number matches UDP's protocol number at the network layer:</p>
		<pre>
    @Override
    protected @Nullable Packet findChildPacket() throws BadPacketException {
        ByteBuffer payload = fPayload;
        if (payload == null) {
            return null;
        }

        switch (fIpDatagramProtocol) {
        case IPProtocolNumberHelper.PROTOCOL_NUMBER_TCP:
            return new TCPPacket(getPcapFile(), this, payload);
        case IPProtocolNumberHelper.PROTOCOL_NUMBER_UDP:
            return new UDPPacket(getPcapFile(), this, payload);
        default:
            return new UnknownPacket(getPcapFile(), this, payload);
        }
    }
</pre>
		<p>The new protocol has been added. Running TMF should work just fine, and the new protocol is now recognized.</p>
		<h2 id="Adding_stream-based_views">Adding stream-based views</h2>
		<p>To add a stream-based View, simply monitor the TmfPacketStreamSelectedSignal in your view. It contains the new stream that you can retrieve with signal.getStream(). You must then make an event request to the current trace to get the events, and use the stream to filter the events of interest. Therefore, you must also monitor TmfTraceOpenedSignal, TmfTraceClosedSignal and TmfTraceSelectedSignal. Examples of stream-based views include a view that represents the packets as a sequence diagram, or that shows the TCP connection state based on the packets SYN/ACK/FIN/RST flags. A (very very very early) draft of such a view can be found at 
			<a href="https://git.eclipse.org/r/#/c/31054/">https://git.eclipse.org/r/#/c/31054/</a>.
		</p>
		<h2 id="TODO_2">TODO</h2>
		<ul>
			<li>Add more protocols. At the moment, only four protocols are supported. The following protocols would need to be implemented: ARP, SLL, WLAN, USB, IPv6, ICMP, ICMPv6, IGMP, IGMPv6, SCTP, DNS, FTP, HTTP, RTP, SIP, SSH and Telnet. Other VoIP protocols would be nice.</li>
			<li>Add a network graph view. It would be useful to produce graphs that are meaningful to network engineers, and that they could use (for presentation purpose, for instance). We could use the XML-based analysis to do that!</li>
			<li>Add a Stream Diagram view. This view would represent a stream as a Sequence Diagram. It would be updated when a TmfNewPacketStreamSignal is thrown. It would be easy to see the packet exchange and the time delta between each packet. Also, when a packet is selected in the Stream Diagram, it should be selected in the event table and its content should be shown in the Properties View. See 
				<a href="https://git.eclipse.org/r/#/c/31054/">https://git.eclipse.org/r/#/c/31054/</a> for a draft of such a view.
			</li>
			<li>Make adding protocol more "plugin-ish", via extension points for instance. This would make it easier to support new protocols, without modifying the source code.</li>
			<li>Control dumpcap directly from eclipse, similar to how LTTng is controlled in the Control View.</li>
			<li>Support pcapng. See: 
				<a href="http://www.winpcap.org/ntar/draft/PCAP-DumpFileFormat.html">http://www.winpcap.org/ntar/draft/PCAP-DumpFileFormat.html</a> for the file format.
			</li>
			<li>Add SWTBOT tests to org.eclipse.tracecompass.tmf.pcap.ui</li>
			<li>Add a Raw Viewer, similar to Wireshark. We could use the “Show Raw” in the event editor to do that.</li>
			<li>Externalize strings in org.eclipse.tracecompass.pcap.core. At the moment, all the strings are hardcoded. It would be good to externalize them all.</li>
		</ul><hr class="navigation-separator"/>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<td style="width: 20%" align="left">
					<a href="Performance-Tests.html" title="Performance Tests">
						<img alt="Previous" border="0" src="images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center">
					<a href="Developer-Guide.html" title="Trace Compass Developer Guide">
						<img alt="Trace Compass Developer Guide" border="0" src="images/home.gif"/>
					</a>
				</td>
				<td style="width: 20%" align="right">
					<a href="Markers.html" title="Markers">
						<img alt="Next" border="0" src="images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Performance Tests</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Markers</td>
			</tr>
		</table>
	</body>
</html><html id='3405.transformations.html'></html><!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>VIATRA Transformation Language</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>VIATRA Transformation Language</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The transformation language of VIATRA is developed as a set of internal DSLs over the <a href="https://eclipse.org/xtend/">Xtend language</a>, making use of its features such as extension methods and closure support. The goal of these DSLs is to support creating specialized transformations over <a href="evm.html">EVM</a> while keeping the construction simple.</p>
</div>
<div class="paragraph">
<p>All languages are based on similar concepts, and feature the same general structure. In VIATRA 1.7 there are two such languages available: <strong>batch transformations</strong> where the control flow, e.g. firing of rules is directed by the transformation developer and <strong>event-driven transformations</strong> where the transformation reacts to various model change events.</p>
</div>
<div class="paragraph">
<p>For an introduction to the transformation languages consult the <a href="tutorial.html">Getting Started Tutorial</a>; this document focuses more on the capabilities of the transformation sublanguages instead of the basic structure.</p>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#batch-transformations">1. Batch Transformations</a>
<ul class="sectlevel2">
<li><a href="#_batch_transformation_rules">1.1. Batch Transformation Rules</a></li>
</ul>
</li>
<li><a href="#event-driven-transformations">2. Event-driven Transformations</a>
<ul class="sectlevel2">
<li><a href="#_the_event_driven_transformation_rule_eventdriventransformationrule">2.1. The event-driven transformation rule (EventDrivenTransformationRule)</a></li>
<li><a href="#_the_essential_ideology_behind_the_api_structure">2.2. The essential ideology behind the API structure</a></li>
<li><a href="#_example_model_transformations_for_automaton_simulation">2.3. Example: model transformations for automaton simulation</a></li>
</ul>
</li>
<li><a href="#model-manipulation">3. Model Manipulation Primitives</a></li>
<li><a href="#transformation-debugger">4. Allow Debugging and other Adapters</a>
<ul class="sectlevel2">
<li><a href="#_viatra_transformation_debugger">4.1. VIATRA Transformation Debugger</a></li>
<li><a href="#_trace_coder_listener">4.2. Trace coder listener</a></li>
<li><a href="#_trace_executor_adapter">4.3. Trace Executor adapter</a></li>
<li><a href="#_usage_examples">4.4. Usage Examples</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="batch-transformations"><a class="link" href="#batch-transformations">1. Batch Transformations</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Three extension classes used for transformations:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">BatchTransformation</dt>
<dd>
<p>hides ViatraQueryEngine and RuleEngine; manages group initialization of rules - instead of an extension method, this can also be used as a base class</p>
</dd>
<dt class="hdlist1">BatchTransformationStatements</dt>
<dd>
<p>control structure</p>
</dd>
<dt class="hdlist1">IModelManipulations</dt>
<dd>
<p>generic model manipulation primitives; hides details of EditingDomains (if necessary); implementation not batch transformation specific</p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="_batch_transformation_rules"><a class="link" href="#_batch_transformation_rules">1.1. Batch Transformation Rules</a></h3>
<div class="ulist">
<ul>
<li>
<p>Special rule type</p>
<div class="ulist">
<ul>
<li>
<p>Precondition + action</p>
</li>
<li>
<p>Life cycle:</p>
<div class="ulist">
<ul>
<li>
<p>Stateless</p>
<div class="ulist">
<ul>
<li>
<p>rule does not maintain state whether an activation has fired or not</p>
</li>
<li>
<p>Lifecycle: firing: active &#8594; active</p>
</li>
</ul>
</div>
</li>
<li>
<p>Stateful</p>
<div class="ulist">
<ul>
<li>
<p>rule maintains whether an an activation has fired or not</p>
</li>
<li>
<p>Lifecycle: firing: active &#8594; fired</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Batch Transformation Statements</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>fireOne</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Batch Transformation Rule, (opt: filter)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fires a single activation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>fireAllCurrent</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Batch Transformation Rule, (opt: filter)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fires all current activations. If the firings change the set of activations, it won&#8217;t change the set of fired activations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>fireWhilePossible</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Batch Transformation Rule, (opt: filter)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fires  the activations one by one. Useful for iterate-choose scenarios. Break conditions are implemented using Match Predicates - functions that receive Match instances as parameters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>fireUntil</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Batch Transformation Rule, break condition, (opt: filter)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">After firing the first activation, it checks whether the break condition became true; if yes, exits, if not, it restarts. It does not store the initial set of activations. Useful for iterate-choose scenarios. Break conditions are implemented using Match Predicates - functions that receive Match instances as parameters.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="event-driven-transformations"><a class="link" href="#event-driven-transformations">2. Event-driven Transformations</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The event-driven API aims at defining and executing model transformations in an event-driven manner. In this case, the preconditions of the single transformations are checked on every related model change in an incremental fashion (using VIATRA Query) and the actions are fired once the preconditions are fulfilled. Model changes are captured as events, hence the naming of the basic concepts below.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">EventDrivenTransformation</dt>
<dd>
<p>Similarly to the <code>BatchTransformation</code>, it hides the ViatraQueryEngine and RuleEngine and serves as the basic concept for this part of the API.</p>
</dd>
<dt class="hdlist1">EventContext</dt>
<dd>
<p>We distinguish two types or contexts of events: point and interval. The former one is described with a single point of appearance on the timeline; the latter one is characterized by its appearance <em>and</em> disappearance on the timeline. It&#8217;s up to the user to select whether a transformation is associated with an event of point or interval context. In the background, the event context is translated into an EVM activation life cycle, which can be overridden by the user if required. This concept slightly resembles the concept of batch transformation rules of <em>stateless</em> and <em>stateful</em> life cycle.</p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="_the_event_driven_transformation_rule_eventdriventransformationrule"><a class="link" href="#_the_event_driven_transformation_rule_eventdriventransformationrule">2.1. The event-driven transformation rule (EventDrivenTransformationRule)</a></h3>
<div class="paragraph">
<p>In contrast with the batch mode, in incremental mode, there are no arbitrarily assembled local conflict sets; instead: every transformation rule is handled in a global conflict set. <em>EventDrivenTransformationRuleFactory</em> is a factory designed for instantiating the rules.</p>
</div>
</div>
<div class="sect2">
<h3 id="_the_essential_ideology_behind_the_api_structure"><a class="link" href="#_the_essential_ideology_behind_the_api_structure">2.2. The essential ideology behind the API structure</a></h3>
<div class="paragraph">
<p>When designing the API, we reused the concepts of the <em>fluent interface</em> and the <em>builder pattern</em>. It heavily utilizes the capabilities of Xtend, resulting in a concise way for defining rules, transformations and transformation groups, as presented below.</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_model_transformations_for_automaton_simulation"><a class="link" href="#_example_model_transformations_for_automaton_simulation">2.3. Example: model transformations for automaton simulation</a></h3>
<div class="listingblock">
<div class="title">Defining the event-driven transformation rule</div>
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">val createEnabledTransitionRule = ruleFactory.createRule.
  precondition(EnabledTransitionMatcher.querySpecification).
  action[
   eventModelManager.strategy.fireTransition(t, et)
  ].build</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is the precondition for your transformation. The above snippet assumes the <em>EnabledTransition</em> VIATRA Query pattern to be defined, which the <em>EnabledTransitionMatcher</em> has been generated from. The expression in the closure is the action and is totally up to you to define. (In this case, the manager class maintaining the model will fire a transition.)
You can also provide a name for the rule as well as override the default event context (point).</p>
</div>
<div class="listingblock">
<div class="title">Optionally grouping the rules into rule groups</div>
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">def getRules() {
  new EventDrivenTransformationRuleGroup(
    createEnabledTransitionRule,
    createFinishedStateMachineRule,
    createTokenInTrapStateRule
  )
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This one is pretty straightforward; just enumerate your rules in a closure.
Remember, there is only one global conflict set for these rules to get conflicted. It does not really matter whether you group your rules or not, although it can make the further parts of code more concise.</p>
</div>
<div class="listingblock">
<div class="title">Register the transformation rules</div>
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">def registerRules() {
  EventDrivenTransformation.
    forSource(eventModelManager.resourceSet).
    addRules(rules).
    build()
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you have your transformation rules, there are just a few steps to take in order to register the rules into the execution schema. Let&#8217;s look at this snippet:</p>
</div>
<div class="paragraph">
<p>The benefits of the fluent API approach are obvious here. Notice the mandatory <code>build()</code> method at the tail of the method chain as the essence of the builder pattern. This method chain will deal with the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>it instantiates an EventDrivenTransformation;</p>
</li>
<li>
<p>the resource or resource set the transformations are executed upon is passed to the transformation (<code>forSource()</code>);</p>
</li>
<li>
<p>the transformation rules are registered (<code>addRules()</code>);</p>
</li>
<li>
<p>in the background, the default conflict resolver (arbitrary ConflictResolver) is selected to deal with global conflicts.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Using a conflict resolver</div>
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">def registerRulesWithCustomPriorities() {
  val resolver = ConflictResolvers.createFixedPriorityResolver();
  resolver.setPriority(createEnabledTransitionRule.ruleSpecification, 100)
  resolver.setPriority(createFinishedStateMachineRule.ruleSpecification, 50)
  resolver.setPriority(createTokenInTrapStateRule.ruleSpecification, 0)

  EventDrivenTransformation.
    forSource(eventModelManager.resourceSet).
    addRules(rules).
    setConflictResolver(resolver).
    build()
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>However, as a useful feature, the API is capable to construct a fixed priority resolver based on the <em>order of the rules</em> handed over to the EventDrivenTransformation. So the results of the above code could be just achieved with this one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">def registerRulesWithAutomatedPriorities() {
  val resolver = new RuleOrderBasedFixedPriorityResolver()
  resolver.setPrioritiesFromScratch(new ArrayList(rules.ruleSpecifications))

  EventDrivenTransformation.
    forSource(eventModelManager.resourceSet).
    addRules(rules).
    setConflictResolver(resolver).
    create()
  }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="model-manipulation"><a class="link" href="#model-manipulation">3. Model Manipulation Primitives</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Model manipulation primitives are implemented by instances of IModelManipulations interface. Currently, two implementations are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SimpleModelManipulations - uses plain EMF API</p>
</li>
<li>
<p>ModelManipulationsWithEditingDomain - uses EMF Edit commands on EditingDomain instances</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If some transformation needs specific primitives (e.g. transaction support), new instances can introduce extra methods as required.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Model Manipulation Primitives</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">create</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource; EClass</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates an object with the corresponding EClass type, and puts it into the root of the selected resource</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">createChild</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EObject (container); EReference; EClass</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates an object with the corresponding EClass type, and puts it into the selected reference; the reference must be of containment type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">addTo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EObject (container); EStructuralFeature; Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds an existing object to the corresponding container with a reference; if using a reference it must <strong>not</strong> be of containment type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EObject</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removes the EObject from the model</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EObject (container); EStructuralFeature; Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removes an object from the selected container; when using a containment EReference, also removes it from the resource set</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EObject (container); EStructuralFeature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removes all objects from a multivalued feature; when using a containment EReference, also removes them from the resource set</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EObject (container); EStructuralFeature; Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the value of a single-valued feature</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">moveTo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EObject(s), EObject (new container), EStructuralFeature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moves elements to a new container, and removes them from an old one. <strong>Remark</strong>: The implementation here is specific, as it relies on features of the index.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="transformation-debugger"><a class="link" href="#transformation-debugger">4. Allow Debugging and other Adapters</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Apart from the VIATRA transformation debugger, the VIATRA transformation adapter framework contains a number of default adapter implementations, that realize model transformation related use cases:</p>
</div>
<div class="sect2">
<h3 id="_viatra_transformation_debugger"><a class="link" href="#_viatra_transformation_debugger">4.1. VIATRA Transformation Debugger</a></h3>
<div class="paragraph">
<p>The VIATRA transformation debugger implements a breakpoint based debugging approach (similar to JDT). It utilizes the Eclipse Debug framework, as well as some custom debug-related views. It contains the logic for stopping the transformation execution if a breakpoint condition matches, and updating the Transformation Debug Model, based on which the current transformation state is displayed. To support various debugging use cases, the debugger supports various breakpoint implementations as well. The debugger consists of two main components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>VIATRA Debugger Runtime</em>: It contains the debugger elements associated with the running model transformation instance. These elements are responsible for instrumenting the transformation instance and propagating the gathered information to the tooling elements. They also enable the tooling elements to control the instrumented transformation instance.</p>
</li>
<li>
<p><em>VIATRA Debugger Tooling</em>: It contains elements associated with extending the <em>Eclipse Debug Framework</em>. They allow the information provided by the runtime elements to be displayed on the Eclipse debug UI, and enable the user to control the transformation under debugging.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/transformation/transformation_debugger.png" alt="Debugger Overview">
</div>
<div class="title">Figure 1. Debug Adapter</div>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Debugger Runtime</em></p>
<div class="ulist">
<ul>
<li>
<p><em>Transformation Debugger</em>: Observes and manipulates the execution of a VIATRA transformation.</p>
</li>
<li>
<p><em>Runtime Communication Agent</em>: Responsible for orchestrating the communication between the tooling and runtime components. Uses JMX-based communication.</p>
</li>
<li>
<p><em>Debug Information</em>: Data that is propagated between the runtime and tooling components. I contains information about the state of the transformation under debugging, and the involved model instances as well. This information is displayed by debugger tooling components.</p>
<div class="ulist">
<ul>
<li>
<p><em>Transformation State</em>: It contains information about the transformation under debugging. Including the state of the transformation conflict set and the next activation to be executed.</p>
</li>
<li>
<p><em>Model Instance Representation</em>: Represents model instances that are associated with the transformation, using a generic, serializable meta-model.</p>
</li>
</ul>
</div>
</li>
<li>
<p><em>Debug Actions</em>: User actions that are sent from the tooling to the runtime components.</p>
<div class="ulist">
<ul>
<li>
<p><em>Breakpoints</em>: The debugger framework supports a set of different transformation breakpoints.</p>
<div class="ulist">
<ul>
<li>
<p><em>Rule Activation Breakpoints</em>: Identifies a transformation rule activation. If the given activation is about to be fired, the transformation execution will be halted.</p>
</li>
<li>
<p><em>Conditional Breakpoints</em>: These breakpoints are able to define global constraints that are not only affected by the current activation. A similar concept is available in the Eclipse Java Development Tools (JDT). The constraints are defined by using the VIATRA query language.</p>
</li>
<li>
<p><em>Rule Breakpoints</em>: These breakpoints identify a given VIATRA transformation rule. The execution is halted if an activation of this rule is about to be fired.</p>
</li>
</ul>
</div>
</li>
<li>
<p><em>Debugger Commands</em>: User commands that are sent from the tooling components to the runtime components.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><em>Debugger Tooling</em></p>
<div class="ulist">
<ul>
<li>
<p><em>VIATRA Debugger UI Elements</em>: UI elements that display transformation-specific information that cannot be visualizes via using Eclipse debug UI elements.</p>
<div class="ulist">
<ul>
<li>
<p><em>VIATRA Transformation Browser</em>: Displays the current state of the model transformation. Shows the set of activations to be fired, and allows the user to control the execution of the transformation or define breakpoints as well. The activations displayed can either be grouped by their parent rule, or their position in the transformation conflict set.</p>
</li>
<li>
<p><em>VIATRA Transformation Model Instance Viewer</em>: Displays the current state of the model instances related to the transformation using a tree-view with properties support.</p>
</li>
</ul>
</div>
</li>
<li>
<p><em>Eclipse Debugger UI Elements</em>: Eclipse debugger UI elements that display transformation debugger-related information.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_trace_coder_listener"><a class="link" href="#_trace_coder_listener">4.2. Trace coder listener</a></h3>
<div class="paragraph">
<p>The transformation debug configuration contains a transformation debugger that follows the breakpoint-based approach. However, the execution sequence of VIATRA-based event-driven model transformations is typically non-deterministic. The trace coder is responsible for logging the transformation execution sequence (i.e.: order of transformation rule activation firings). This <strong>transformation trace</strong> can later be analyzed or used during re-execution of the transformation.</p>
</div>
<div class="paragraph">
<p>Transformation traces are hierarchical object structures aiming at storing transformation execution sequences. Transformation traces consist of activation and rule parameter traces. Activation traces identify the fired rule, and rule parameter traces specify which elements have triggered the execution of the given rule. Based on this information, the transformation can be re-executed for further evaluation, or erroneous rules can be detected during post mortem analysis.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/transformation/coder_adapter.png" alt="Trace Coder Adapter" width="1000">
</div>
</div>
<div class="paragraph">
<p>Similar to the previously introduced components, the trace coder listener utilizes interchangeable subcomponents:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Activation coder</dt>
<dd>
<p>Creates Activation Trace objects, using the parameters extracted from the activation object.</p>
</dd>
<dt class="hdlist1">Trace model serializer</dt>
<dd>
<p>Responsible for saving and loading trace models</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_trace_executor_adapter"><a class="link" href="#_trace_executor_adapter">4.3. Trace Executor adapter</a></h3>
<div class="paragraph">
<p>This adapter is responsible for re-executing a transformation sequence recorded by the trace coder adapter. Particularly useful during debugging, as it allows the determinization of the otherwise random execution sequence of VIATRA event-driven transformations.
It operates the following way: as the transformation is being executed, the activation at hand is compared to the upcoming entry in a previously loaded transformation trace. If the activation matches the trace record, it is executed, if not the executor finds the matching one.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/transformation/executor_adapter.png" alt="Trace Executor Adapter" width="1000">
</div>
</div>
<div class="paragraph">
<p>As seen here, the trace executor component utilizes the same sub-components as the trace coder.</p>
</div>
<div class="paragraph">
<p>Noteable information regarding the trace executor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The usage of this adapter has a heavy effect on transformation performance, it is only advised to use it on small scale test models.</p>
</li>
<li>
<p>Also keep in mind that the trace executor needs an already existing transformation trace, hence it should not be used simultaneously with the trace coder.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_usage_examples"><a class="link" href="#_usage_examples">4.4. Usage Examples</a></h3>
<div class="paragraph">
<p>Adapters and listeners can be added to new or already existing VIATRA transformations in a simple and straightforward fashion. The VIATRA transformation API allows the transformation developer to attach these adapters and listeners directly to the model transformation, without needing to alter the transformation code itself. The transformation API classes create a modified, adapter supporting background structure, however this step is completely transparent to the transformation developer. Both Batch and event driven VIATRA transformations are supported, and will be presented in this section. The example shown here uses the VIATRA CPS example model transformations, to emphasize, that adding adapters does only require changes in the transformation setup, but does not require any change in the transformation code itself.</p>
</div>
<div class="paragraph">
<p>Note that these examples only show the method for adding adapters to VIATRA transformations. The Adapters used in these examples will not work if used all together (especially true to the trace coder and executor components). In order to ensure that the adapters do not have adverse effects on each other use the predefined adapter configurations or individual adapters.</p>
</div>
<div class="listingblock">
<div class="title">Adding adapters to a batch transformation</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">transformation = BatchTransformation.forEngine(engine)
    //Create trace coder listener
    //This listener is responsible for storing the transformation execution sequence (i.e.: order of transformation rule activation firings)
    //This transformation trace can later be analyzed or used during re-execution
    //Transformation trace --&gt; hierarchical object structure --&gt; aiming at storing a transformation execution sequence.
    //Consists of Activation and rule parameter traces --&gt; activation traces identify the fired rule, and specify which elements have triggered the execution of the given rule.
    .addListener( new TraceCoder(URI.createURI("transformationtrace/batchtrace.transformationtrace")))

    //Create trace executor adapter
    //This adapter is responsible for re-executing a transformation sequence recorded by the trace coder adapter.
    //Particularly useful during debugging, as it allows the determinization of the otherwise random execution sequence of VIATRA event-driven transformations.
    //Note, that the usage of this adapter has a heavy effect on transformation performance, it is only advised to use it on small scale test models.
    //Also keep in mind that the trace executor needs an already existing transformation trace, hence it should not be used simultaneously with the trace coder.
    .addAdapter(new TraceExecutor(URI.createURI("transformationtrace/trace.transformationtrace")))

    //This listener implements a basic logging functionality
    .addListener(new LoggingEVMListener(logger))
    .build</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Adding adapters to an event-driven transformation</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">transformation = EventDrivenTransformation.forEngine(engine)
    .setConflictResolver(createConflictResolver)
    .addRule(hostRule)
    .addRule(applicationRule)
    .addListener( new TraceCoder(URI.createURI("transformationtrace/trace.transformationtrace")))
    .addAdapter(new TraceExecutor(URI.createURI("transformationtrace/edtrace.transformationtrace")))
    .addListener(new LoggingEVMListener(logger))
    .build</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
</div>
</div>
</body>
</html><html id='3168.org_eclipse_ui_viewActions.html'></html><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>View Menus,Toolbars and Actions</title>
<style type="text/css">@import url("../../book.css");</style>
<style type="text/css">@import url("../../schema.css");</style>
</HEAD>
<BODY>
<H1 style="text-align:center">View Menus,Toolbars and Actions</H1>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Identifier: </h6>org.eclipse.ui.viewActions<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Description: </h6><p>This extension point is used to add actions to the pulldown menu and toolbar for views registered by other plug-ins. Each view has a local pulldown menu normally activated 
by clicking on the top right triangle button. Other plug-ins can contribute submenus and actions to this menu. Plug-ins may also contribute actions to a view toolbar. View owners are first given a chance to populate these areas. Optional additions by other plug-ins are appended.</p>
<p>
You can now use <a href="org_eclipse_ui_menus.html">org.eclipse.ui.menus</a> to place commands in menus and toolbars as well.
</p><p>
</p>
<p>
An action's enablement and/or visibility can be defined using the elements <samp>enablement</samp> and <samp>visibility</samp> respectively, if the extension point supports it. These two elements contain a boolean expression that is evaluated to determine the enablement and/or visibility.
<p>
The syntax is the same for the <samp>enablement</samp> and <samp>visibility</samp> elements. Both contain only one boolean expression sub-element. In the simplest case, this will be an <samp>objectClass</samp>, <samp>objectState</samp>, <samp>pluginState</samp>, or <samp>systemProperty</samp> element. In the more complex case, the <samp>and</samp>, <samp>or</samp>, and <samp>not</samp> elements can be combined to form a boolean expression. Both the <samp>and</samp>, and <samp>or</samp> elements must contain 2 sub-elements. The <samp>not</samp> element must contain only 1 sub-element.
</p></p>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Configuration Markup:</h6>
<p></p>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.viewContribution">viewContribution</a>+)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST extension</p>
<p class="code SchemaDtdAttlist">point&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class="ConfigMarkupAttlistDesc">
<li><b>point</b> - a fully qualified identifier of the target extension point</li>
<li><b>id</b> - an optional identifier of the extension instance</li>
<li><b>name</b> - an optional name of the extension instance</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.viewContribution">viewContribution</a> (<a href="#e.menu">menu</a>* , <a href="#e.action">action</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST viewContribution</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">targetID&nbsp;IDREF #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to define a group of view actions and/or menus.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique identifier used to reference this contribution.</li>
<li><b>targetID</b> - a unique identifier of a registered view that is the target of this contribution.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.action">action</a> ((<a href="#e.selection">selection</a>* | <a href="#e.enablement">enablement</a>?) , <a href="#e.class">class</a>?)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST action</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">label&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">definitionId&nbsp;&nbsp;IDREF #IMPLIED</p>
<p class="code SchemaDtdAttlist">menubarPath&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">toolbarPath&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">icon&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">disabledIcon&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">hoverIcon&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">tooltip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">helpContextId&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">style&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(push|radio|toggle|pulldown) "push"</p>
<p class="code SchemaDtdAttlist">state&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(true | false) </p>
<p class="code SchemaDtdAttlist">class&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">enablesFor&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">mode&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(FORCE_TEXT) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element defines an action that the user can invoke in the UI.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique identifier used as a reference for this action.</li>
<li><b>label</b> - a translatable name used either as the menu item text or toolbar button label. The name can include mnenomic information.</li>
<li><b>definitionId</b> - Specifies the command that this action will handle. By specifying and action, the key binding service can assign a key sequence to this action. See the extension point <a href="org_eclipse_ui_commands.html">org.eclipse.ui.commands</a> for more information.</li>
<li><b>menubarPath</b> - a slash-delimited path ('/') used to specify the location of this action in the pulldown menu. Each token in the path, except the last one, must represent a valid identifier of an existing menu in the hierarchy. The last token represents the named group into which this action will be added. If the path is omitted, this action will not appear in the pulldown menu.</li>
<li><b>toolbarPath</b> - a named group within the local toolbar of the target view. If the group does not exist, it will be created. If omitted, the action will not appear in the local toolbar.</li>
<li><b>icon</b> - a relative path of an icon used to visually represent the action in its context.
If omitted and the action appears in the toolbar, the Workbench will use a placeholder icon. The path is relative to the location of the plugin.xml file of the contributing plug-in. The icon will appear in the toolbar but not in the pulldown menu.</li>
<li><b>disabledIcon</b> - a relative path of an icon used to visually represent the action in its context when the action is disabled. If omitted, the normal icon will simply appear greyed out. The path is relative to the location of the plugin.xml file of the contributing plug-in. The disabled icon will appear in the toolbar but not in the pulldown menu.</li>
<li><b>hoverIcon</b> - a relative path of an icon used to visually represent the action in its context when the mouse pointer is over the action. If omitted, the normal icon will be used. The path is relative to the location of the plugin.xml file of the contributing plug-in.</li>
<li><b>tooltip</b> - a translatable text representing the action's tool tip. Only used if the action appears in the toolbar.</li>
<li><b>helpContextId</b> - a unique identifier indicating the help context for this action. On some platforms, if the action appears as a menu item, then pressing the appropriate help key while the menu item is highlighted will display help. Not all platforms support this behaviour.</li>
<li><b>style</b> - an optional attribute to define the user interface style type for the action. If defined, the attribute value will be one of the following:
    <table border="0" width="80%">
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>push</b></td>
        <td valign="top">- as a regular menu item or tool item.</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>radio</b></td>
        <td valign="top">- as a radio style menu item or tool item. Actions with the radio style within the same menu or toolbar group behave as a radio set. The initial value is specified by the <samp>state</samp> attribute.</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>toggle</b></td>
        <td valign="top">- as a checked style menu item or as a toggle tool item. The initial value is specified by the <samp>state</samp> attribute.</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>pulldown</b></td>
        <td valign="top">- as a pulldown tool item. The initial value is specified by the <samp>state</samp> attribute.</td>
      </tr>    </table></li>
<li><b>state</b> - an optional attribute indicating the initial state (either <samp>true</samp> or <samp>false</samp>), used when the <samp>style</samp> attribute has the value <samp>radio</samp> or <samp>toggle</samp>.</li>
<li><b>class</b> - name of the fully qualified class that implements <samp>org.eclipse.ui.IViewActionDelegate</samp>.</li>
<li><b>enablesFor</b> - a value indicating the selection count which must be met to enable the action.
If this attribute is specified and the condition is met, the action is enabled.
If the condition is not met, the action is disabled.
If no attribute is specified, the action is enabled for any number of items selected.
The following attribute formats are supported: 
    <table border="0" width="80%">
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>!</b></td>
        <td valign="top">- 0 items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>?</b></td>
        <td valign="top">- 0 or 1 items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>+</b></td>
        <td valign="top">- 1 or more items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>multiple, 2+</b></td>
        <td valign="top">- 2 or more items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>n</b></td>
        <td valign="top">- a precise number of items selected.a precise number of items selected.&nbsp;
          For example: enablesFor=&quot; 4&quot; enables the action only when 4
          items are selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>*</b></td>
        <td valign="top">- any number of items selected</td>
      </tr>
    </table></li>
<li><b>mode</b> - For actions appearing in a toolbar, <code>FORCE_TEXT</code> will show text even if there is an icon.  See ActionContribuitonItem.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.parameter">parameter</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST parameter</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A parameter element to be used within an IExecutableExtension element.  This will be passed as initialization data to the instantiated class.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the parameter name</li>
<li><b>value</b> - the parameter value</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.class">class</a> (<a href="#e.parameter">parameter</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST class</p>
<p class="code SchemaDtdAttlist">class&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
The element version of the <code>class</code> attribute.  This is used when the class implements <code>org.eclipse.core.runtime.IExecutableExtension</code> and there is parameterized data that you wish used in its initialization.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - A class that implements <code>org.eclipse.ui.IViewActionDelegate</code>.  It may also implement <code>org.eclipse.core.runtime.IExecutableExtension</code>.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.menu">menu</a> (<a href="#e.separator">separator</a>* , <a href="#e.groupMarker">groupMarker</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST menu</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">label&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">path&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">icon&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to defined a new menu.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique identifier that can be used to reference this menu.</li>
<li><b>label</b> - a translatable name used by the Workbench for this new menu. The name should include mnemonic information.</li>
<li><b>path</b> - the location of the new menu starting from the root of the menu. Each token in the path must refer to an existing menu, except the last token which should represent a named group in the last menu in the path. If omitted, the new menu will be added to the <samp>additions</samp> named group of the menu.</li>
<li><b>icon</b> - a relative path of an icon used to visually represent the menu in its context.
The path is relative to the location of the plugin.xml file of the contributing plug-in.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.separator">separator</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST separator</p>
<p class="code SchemaDtdAttlist">name&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to create a menu separator in the new menu.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the name of the menu separator. This name can later be referenced as the last token in a menu path. Therefore, a separator also serves as named group into which actions and menus can be added.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.groupMarker">groupMarker</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST groupMarker</p>
<p class="code SchemaDtdAttlist">name&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to create a named group in the new menu. It has no visual representation in the new menu, unlike the <samp>separator</samp> element.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the name of the group marker. This name can later be referenced as the last token in the menu path. It serves as named group into which actions and menus can be added.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.selection">selection</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST selection</p>
<p class="code SchemaDtdAttlist">class&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to help determine the action enablement based on the current selection. Ignored if the <samp>enablement</samp> element is specified.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - a fully qualified name of the class or interface that each object in the selection must implement in order to enable the action.</li>
<li><b>name</b> - an optional wild card filter for the name that can be applied to all objects in the selection. If specified and the match fails, the action will be disabled.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.enablement">enablement</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to define the enablement for the extension.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.visibility">visibility</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to define the visibility for the extension.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.and">and</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represent a boolean AND operation on the result of evaluating its two sub-element expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.or">or</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represent a boolean OR operation on the result of evaluating its two sub-element expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.not">not</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represent a boolean NOT operation on the result of evaluating its sub-element expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.objectClass">objectClass</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST objectClass</p>
<p class="code SchemaDtdAttlist">name&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the class or interface of each object in the current selection. If each object in the selection implements the specified class or interface, the expression is evaluated as true.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - a fully qualified name of a class or interface.  The expression is evaluated as true only if all objects within the selection implement this class or interface.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.objectState">objectState</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST objectState</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the attribute state of each object in the current selection. If each object in the selection has the specified attribute state, the expression is evaluated as true. To evaluate this type of expression, each object in the selection must implement, or adapt to, <samp>org.eclipse.ui.IActionFilter</samp> interface.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the name of an object's attribute. Acceptable names reflect the object type, and should be publicly declared by the plug-in where the object type is declared.

@see IResourceActionFilter for a list of the supported constants</li>
<li><b>value</b> - the required value of the object's attribute. The acceptable values for the object's attribute should be publicly declared.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.pluginState">pluginState</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST pluginState</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;(installed|activated) "installed"&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the state of a plug-in. The state of the plug-in may be one of the following: <samp>installed</samp> (equivalent to the OSGi concept of "resolved") or <samp>activated</samp> (equivalent to the OSGi concept of "active").</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - the identifier of a plug-in which may or may not exist in the plug-in registry.</li>
<li><b>value</b> - the required state of the plug-in. The state of the plug-in may be one of the following: <samp>installed</samp> (equivalent to the OSGi concept of "resolved") or <samp>activated</samp> (equivalent to the OSGi concept of "active").</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.systemProperty">systemProperty</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST systemProperty</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the state of some system property.  The property value is retrieved from the <samp>java.lang.System</samp>.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the name of the system property.</li>
<li><b>value</b> - the required value of the system property.</li>
</ul>
<br><h6 class="CaptionFigColumn SchemaHeader">Examples: </h6>The following is an example of a view action extension:
<p>
<pre class="Example"><span class="code SchemaTag">
   &lt;extension point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.viewActions&quot;</span><span class="code SchemaTag">&gt; 
      &lt;viewContribution 
         id=</span><span class="code SchemaCstring">&quot;com.xyz.xyzViewC1&quot;</span><span class="code SchemaTag"> 
         targetID=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.views.navigator.ResourceNavigator&quot;</span><span class="code SchemaTag">&gt; 
         &lt;menu
            id=</span><span class="code SchemaCstring">&quot;com.xyz.xyzMenu&quot;</span><span class="code SchemaTag"> 
            label=</span><span class="code SchemaCstring">&quot;XYZ Menu&quot;</span><span class="code SchemaTag"> 
            path=</span><span class="code SchemaCstring">&quot;additions&quot;</span><span class="code SchemaTag">&gt; 
            &lt;separator name=</span><span class="code SchemaCstring">&quot;group1&quot;</span><span class="code SchemaTag">/&gt; 
         &lt;/menu&gt; 
         &lt;action
            id=</span><span class="code SchemaCstring">&quot;com.xyz.runXYZ&quot;</span><span class="code SchemaTag"> 
            label=</span><span class="code SchemaCstring">&quot;&amp;amp;Run XYZ Tool&quot;</span><span class="code SchemaTag"> 
            menubarPath=</span><span class="code SchemaCstring">&quot;com.xyz.xyzMenu/group1&quot;</span><span class="code SchemaTag"> 
            toolbarPath=</span><span class="code SchemaCstring">&quot;Normal/additions&quot;</span><span class="code SchemaTag">
            style=</span><span class="code SchemaCstring">&quot;toggle&quot;</span><span class="code SchemaTag">
            state=</span><span class="code SchemaCstring">&quot;true&quot;</span><span class="code SchemaTag"> 
            icon=</span><span class="code SchemaCstring">&quot;icons/runXYZ.gif&quot;</span><span class="code SchemaTag"> 
            tooltip=</span><span class="code SchemaCstring">&quot;Run XYZ Tool&quot;</span><span class="code SchemaTag"> 
            helpContextId=</span><span class="code SchemaCstring">&quot;com.xyz.run_action_context&quot;</span><span class="code SchemaTag"> 
            class=</span><span class="code SchemaCstring">&quot;com.xyz.actions.RunXYZ&quot;</span><span class="code SchemaTag">&gt; 
            &lt;selection class=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IFile&quot;</span><span class="code SchemaTag"> name=</span><span class="code SchemaCstring">&quot;*.java&quot;</span><span class="code SchemaTag">/&gt; 
         &lt;/action&gt; 
     &lt;/viewContribution&gt; 
   &lt;/extension&gt; 
</span></pre>
</p>
<p>
In the example above, the specified action will only enable for a single selection (<samp>enablesFor</samp> attribute). In addition, the object in the selection must be a Java file resource.
</p>
<p>
The following is an other example of a view action extension: 
</p>
<p>
<pre class="Example"><span class="code SchemaTag">
   &lt;extension point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.viewActions&quot;</span><span class="code SchemaTag">&gt; 
      &lt;viewContribution 
         id=</span><span class="code SchemaCstring">&quot;com.xyz.xyzViewC1&quot;</span><span class="code SchemaTag"> 
         targetID=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.views.navigator.ResourceNavigator&quot;</span><span class="code SchemaTag">&gt; 
         &lt;menu
            id=</span><span class="code SchemaCstring">&quot;com.xyz.xyzMenu&quot;</span><span class="code SchemaTag"> 
            label=</span><span class="code SchemaCstring">&quot;XYZ Menu&quot;</span><span class="code SchemaTag"> 
            path=</span><span class="code SchemaCstring">&quot;additions&quot;</span><span class="code SchemaTag">&gt; 
            &lt;separator name=</span><span class="code SchemaCstring">&quot;group1&quot;</span><span class="code SchemaTag">/&gt; 
         &lt;/menu&gt; 
         &lt;action 
            id=</span><span class="code SchemaCstring">&quot;com.xyz.runXYZ2&quot;</span><span class="code SchemaTag"> 
            label=</span><span class="code SchemaCstring">&quot;&amp;amp;Run XYZ2 Tool&quot;</span><span class="code SchemaTag"> 
            menubarPath=</span><span class="code SchemaCstring">&quot;com.xyz.xyzMenu/group1&quot;</span><span class="code SchemaTag">
            style=</span><span class="code SchemaCstring">&quot;push&quot;</span><span class="code SchemaTag">
            icon=</span><span class="code SchemaCstring">&quot;icons/runXYZ2.gif&quot;</span><span class="code SchemaTag"> 
            tooltip=</span><span class="code SchemaCstring">&quot;Run XYZ2 Tool&quot;</span><span class="code SchemaTag"> 
            helpContextId=</span><span class="code SchemaCstring">&quot;com.xyz.run_action_context2&quot;</span><span class="code SchemaTag"> 
            class=</span><span class="code SchemaCstring">&quot;com.xyz.actions.RunXYZ2&quot;</span><span class="code SchemaTag">&gt; 
            &lt;enablement&gt;
               &lt;and&gt;
                  &lt;objectClass name=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IFile&quot;</span><span class="code SchemaTag">/&gt;
                  &lt;not&gt;
                     &lt;objectState name=</span><span class="code SchemaCstring">&quot;extension&quot;</span><span class="code SchemaTag"> value=</span><span class="code SchemaCstring">&quot;java&quot;</span><span class="code SchemaTag">/&gt;
                  &lt;/not&gt;
               &lt;/and&gt;
            &lt;/enablement&gt;
         &lt;/action&gt; 
      &lt;/viewContribution&gt; 
   &lt;/extension&gt; 
</span></pre>
</p>
<p>
In the example above, the specified action will appear as a menu item. The action is enabled if the selection contains no Java file resources.
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">API Information: </h6>The value of the <samp>class</samp> attribute must be a fully qualified name of a Java class that implements <samp>org.eclipse.ui.IViewActionDelegate</samp>. This class is loaded as late as possible to avoid loading the entire plug-in before it is really needed.
<p>
The interface <samp>org.eclipse.ui.IViewActionDelegate</samp> extends <samp>org.eclipse.ui.IActionDelegate</samp> and adds an additional method that allows the 
delegate to initialize with the view instance it is contributing into.
</p>
<p>
This extension point can be used to contribute actions into menus previously created by the target view. Omitting the menu path attribute will result in adding the new menu or action at the end of the pulldown menu.
</p>
<p>
The enablement criteria for an action extension is initially defined by <samp>enablesFor</samp>, and also either <samp>selection</samp> or <samp>enablement</samp>. However, once the action delegate has been instantiated, it may control the action enable state directly within its <samp>selectionChanged</samp> method.
</p>
<p>
Action and menu labels may contain special characters that encode mnemonics using the following rules:
<ol>
<li>
Mnemonics are specified using the ampersand ('&amp;') character in front
of a selected character in the translated text. Since ampersand is not
allowed in XML strings, use <samp>&amp;amp;</samp> character entity.</li>
</ol>
If two or more actions are contributed to a menu or toolbar by a single extension the actions will appear in the reverse order of how they are listed in the plugin.xml file. This behavior is admittedly unintuitive.  However, it was discovered after the  Eclipse Platform API was frozen.  Changing the behavior now would break every plug-in which relies upon the existing behavior.
<p>
The <samp>selection</samp> and <samp>enablement</samp> elements are mutually exclusive. The <samp>enablement</samp> element can replace the <samp>selection</samp> element using the sub-elements <samp>objectClass</samp> and <samp>objectState</samp>. For example, the following:
<pre class="Example"><span class="code SchemaTag">
 &lt;selection
  class=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IFile&quot;</span><span class="code SchemaTag">
  name=</span><span class="code SchemaCstring">&quot;*.java&quot;</span><span class="code SchemaTag">&gt;
 &lt;/selection&gt;
</span></pre>
can be expressed using:
<pre class="Example"><span class="code SchemaTag">
 &lt;enablement&gt;
  &lt;and&gt;
   &lt;objectClass name=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IFile&quot;</span><span class="code SchemaTag">/&gt;
   &lt;objectState name=</span><span class="code SchemaCstring">&quot;extension&quot;</span><span class="code SchemaTag"> value=</span><span class="code SchemaCstring">&quot;java&quot;</span><span class="code SchemaTag">/&gt;
  &lt;/and&gt;
 &lt;/enablement&gt;
</span></pre>
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">Supplied Implementation: </h6>Each view normally comes with a number of standard items on the pulldown menu and local toolbar. Additions from other plug-ins will be appended to the standard complement.
<p></p>

<br>
<p class="note SchemaCopyright">
Copyright (c) 2002, 2007 IBM Corporation and others.<br>
All rights reserved. This program and the accompanying materials are made
available under the terms of the Eclipse Public License v1.0 which accompanies
this distribution, and is available at <a 
href="http://www.eclipse.org/legal/epl-v10.html">http://www.eclipse.org/legal/epl-v10.html</a>

</p>
</BODY>
</HTML>
