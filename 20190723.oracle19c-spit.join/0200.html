<html id='12699.using-oracle-dbms_metadata-api.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Using the DBMS_METADATA APIs.">
      <meta name="description" content="Using the DBMS_METADATA APIs.">
      <title>Using the Metadata APIs</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Utilities ">
      <meta property="og:description" content="Using the DBMS_METADATA APIs.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Utilities">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-utilities.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T19:07:17-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96081-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="oracle-logminer-utility.html" title="Previous" type="text/html">
      <link rel="next" href="oracle-original-export-utility.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Utilities">
    <meta name="dcterms.isVersionOf" content="SUTIL">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-logminer-utility.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oracle-original-export-utility.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Utilities </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="other-oracle-utilities.html" property="item" typeof="WebPage"><span property="name"> Other Utilities</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">  Using the Metadata APIs</li>
            </ol>
            <a id="GUID-D9B1300F-B21D-416E-8B9B-C542195EF249" name="GUID-D9B1300F-B21D-416E-8B9B-C542195EF249"></a><a id="SUTIL015"></a>
            
            <h2 id="SUTIL-GUID-D9B1300F-B21D-416E-8B9B-C542195EF249" class="sect2"><span class="enumeration_chapter">23 </span>  Using the Metadata APIs
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Using the <code class="codeph">DBMS_METADATA</code> APIs.
               </p>
               <p>The <code class="codeph">DBMS_METADATA</code> API enables you to do the following:
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>Retrieve an object's metadata as XML</p>
                  </li>
                  <li>
                     <p>Transform the XML in a variety of ways, including transforming it into SQL DDL</p>
                  </li>
                  <li>
                     <p>Submit the XML to re-create the object extracted by the retrieval</p>
                  </li>
               </ul>
               <p>The <code class="codeph">DBMS_METADATA_DIFF</code> API lets you compare objects between databases to identify metadata changes over time in objects of the same type.
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="using-oracle-dbms_metadata-api.html#GUID-EFF19735-0C94-46CD-B1CB-123FEB390B43">Why Use the DBMS_METADATA API?</a><br>The <code class="codeph">DBMS_METADATA</code> API eliminates the need for you to write and maintain your own code for metadata extraction. 
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-dbms_metadata-api.html#GUID-FF65F378-97BB-459A-A9C2-E0B105205D3D">Overview of the DBMS_METADATA API</a><br>Overview of the <code class="codeph">DBMS_METADATA</code> API.
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-dbms_metadata-api.html#GUID-EE2AA635-EA83-4265-9727-E9C659842CEF">Using the DBMS_METADATA API to Retrieve an Object's Metadata</a><br>The retrieval interface of the <code class="codeph">DBMS_METADATA</code> API lets you specify the kind of object to be retrieved. 
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-dbms_metadata-api.html#GUID-1DA999FD-1AFD-4D8D-A6D0-8EEB84E0D9E4">Using the DBMS_METADATA API to Re-Create a Retrieved Object</a><br>When you fetch metadata for an object, you may want to use it to re-create the object in a different database or schema.
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-dbms_metadata-api.html#GUID-85AC0B9A-5C6E-4D2A-A3CA-30F5F7884048">Using the DBMS_METADATA API to Retrieve Collections of Different Object Types</a><br>Description and example of retrieving collections of different object types.
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-dbms_metadata-api.html#GUID-E9A778A7-2E9D-4240-8707-A52FF65556FE">Using the DBMS_METADATA_DIFF API to Compare Object Metadata</a><br> Description and example that uses the retrieval, comparison, and submit interfaces of <code class="codeph">DBMS_METADATA</code> and <code class="codeph">DBMS_METADATA_DIFF</code> to fetch metadata for two tables, compare the metadata, and generate <code class="codeph">ALTER</code> statements which make one table like the other. 
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-dbms_metadata-api.html#GUID-DF431094-5F1D-478D-87E6-04CC774B761F">Performance Tips for the Programmatic Interface of the DBMS_METADATA API</a><br> Describes how to enhance performance when using the programmatic interface of the <code class="codeph">DBMS_METADATA</code> API.
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-dbms_metadata-api.html#GUID-89237236-4729-4E33-842D-D124A3C15B10">Example Usage of the DBMS_METADATA API</a><br>Example of how the <code class="codeph">DBMS_METADATA</code> API could be used. 
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-dbms_metadata-api.html#GUID-B19C59EB-A9BC-4D1E-BD8C-135583D403CD">Summary of DBMS_METADATA Procedures</a><br>Provides brief descriptions of the procedures provided by the <code class="codeph">DBMS_METADATA</code> API. 
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-dbms_metadata-api.html#GUID-CB5F314F-7412-40F1-B71C-8F6DFB45A4D8">Summary of DBMS_METADATA_DIFF Procedures</a><br> Provides brief descriptions of the procedures and functions provided by the <code class="codeph">DBMS_METADATA_DIFF</code> API. 
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="other-oracle-utilities.html#GUID-FCEA49BD-D3AF-4337-88F1-3A23545F35A6">Other Utilities</a></p>
                  </div>
               </div>
            </div>
            <a id="SUTIL1622"></a><div class="props_rev_3"><a id="GUID-EFF19735-0C94-46CD-B1CB-123FEB390B43" name="GUID-EFF19735-0C94-46CD-B1CB-123FEB390B43"></a><h3 id="SUTIL-GUID-EFF19735-0C94-46CD-B1CB-123FEB390B43" class="sect3"><span class="enumeration_section">23.1 </span>Why Use the DBMS_METADATA API?
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_METADATA</code> API eliminates the need for you to write and maintain your own code for metadata extraction. 
                  </p>
                  <p>Over time, as you have used the Oracle database, you may have developed your own code for extracting metadata from the dictionary, manipulating the metadata (adding columns, changing column data types, and so on) and then converting the metadata to DDL so that you could re-create the object on the same or another database. Keeping that code updated to support new dictionary features has probably proven to be challenging. </p>
                  <p>It provides a centralized facility for the extraction, manipulation, and re-creation of dictionary metadata. And it supports all dictionary objects at their most current level. </p>
                  <p>Although the <code class="codeph">DBMS_METADATA</code> API can dramatically decrease the amount of custom code you are writing and maintaining, it does not involve any changes to your normal database procedures. The <code class="codeph">DBMS_METADATA</code> API is installed in the same way as data dictionary views, by running <code class="codeph">catproc</code>.<code class="codeph">sql</code> to run a SQL script at database installation time. Once it is installed, it is available whenever the instance is operational, even in restricted mode.
                  </p>
                  <p>The <code class="codeph">DBMS_METADATA</code> API does not require you to make any source code changes when you change database releases because it is upwardly compatible across different Oracle releases. XML documents retrieved by one release can be processed by the submit interface on the same or later release. For example, XML documents retrieved by an Oracle9<span class="italic">i</span> database can be submitted to Oracle Database 10<span class="italic">g.</span></p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-dbms_metadata-api.html#GUID-D9B1300F-B21D-416E-8B9B-C542195EF249" title="Using the DBMS_METADATA APIs.">Using the Metadata APIs</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL1623"></a><div class="props_rev_3"><a id="GUID-FF65F378-97BB-459A-A9C2-E0B105205D3D" name="GUID-FF65F378-97BB-459A-A9C2-E0B105205D3D"></a><h3 id="SUTIL-GUID-FF65F378-97BB-459A-A9C2-E0B105205D3D" class="sect3"><span class="enumeration_section">23.2 </span>Overview of the DBMS_METADATA API
               </h3>
               <div>
                  <p>Overview of the <code class="codeph">DBMS_METADATA</code> API.
                  </p>
                  <p>For the purposes of the <code class="codeph">DBMS_METADATA</code> API, every entity in the database is modeled as an object that belongs to an object type. For example, the table <code class="codeph">scott.emp</code> is an object and its object type is <code class="codeph">TABLE</code>. When you fetch an object's metadata you must specify the object type.
                  </p>
                  <p>To fetch a particular object or set of objects within an object type, you specify a filter. Different filters are defined for each object type. For example, two of the filters defined for the <code class="codeph">TABLE</code> object type are <code class="codeph">SCHEMA</code> and <code class="codeph">NAME</code>. They allow you to say, for example, that you want the table whose schema is <code class="codeph">scott</code> and whose name is <code class="codeph">emp</code>. 
                  </p>
                  <p>The <code class="codeph">DBMS_METADATA</code> API makes use of XML (Extensible Markup Language) and XSLT (Extensible Stylesheet Language Transformation). The <code class="codeph">DBMS_METADATA</code> API represents object metadata as XML because it is a universal format that can be easily parsed and transformed. The <code class="codeph">DBMS_METADATA</code> API uses XSLT to transform XML documents into either other XML documents or into SQL DDL.
                  </p>
                  <p>You can use the <code class="codeph">DBMS_METADATA</code> API to specify one or more transforms (XSLT scripts) to be applied to the XML when the metadata is fetched (or when it is resubmitted). The API provides some predefined transforms, including one named DDL that transforms the XML document into SQL creation DDL.
                  </p>
                  <p>You can then specify conditions on the transform by using transform parameters. You can also specify optional parse items to access specific attributes of an object's metadata. </p>
                  <p>For more details about all of these options and examples of their implementation, see the following sections:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-oracle-dbms_metadata-api.html#GUID-EE2AA635-EA83-4265-9727-E9C659842CEF" title="The retrieval interface of the DBMS_METADATA API lets you specify the kind of object to be retrieved.">Using the DBMS_METADATA API to Retrieve an Object's Metadata</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-dbms_metadata-api.html#GUID-1DA999FD-1AFD-4D8D-A6D0-8EEB84E0D9E4" title="When you fetch metadata for an object, you may want to use it to re-create the object in a different database or schema.">Using the DBMS_METADATA API to Re-Create a Retrieved Object</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-dbms_metadata-api.html#GUID-85AC0B9A-5C6E-4D2A-A3CA-30F5F7884048" title="Description and example of retrieving collections of different object types.">Using the DBMS_METADATA API to Retrieve Collections of Different Object Types</a></p>
                     </li>
                  </ul>
                  <div class="section">
                     <p class="subhead2" id="GUID-FF65F378-97BB-459A-A9C2-E0B105205D3D__GUID-28A33334-67A1-4031-8E24-FBB7A8892347">Using Views to Determine Valid DBMS_METADATA Options</p>
                     <p>You can use the following views to determine which <code class="codeph">DBMS_METADATA</code> transforms are allowed for each object type transformation, the parameters for each transform, and their parse items.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../refrn/DBMS_METADATA_TRANSFORMS.html#REFRN-GUID-486B1381-AA5B-4F00-B770-3244119D6C05" target="_blank">DBMS_METADATA_TRANSFORMS</a> - documents all valid Oracle-supplied transforms that are used with the <code class="codeph">DBMS_METADATA</code> package.
                           </p>
                        </li>
                        <li>
                           <p><a href="../refrn/DBMS_METADATA_TRANSFORM_PARAMS.html#REFRN-GUID-A042CD61-3AF5-4F11-BABB-4743486A3B88" target="_blank">DBMS_METADATA_TRANSFORM_PARAMS</a> - documents the valid transform parameters for each transform.
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sutil&amp;id=REFRN-GUID-2A2D4764-3DB6-4F1E-9D3A-2BF301BC577C" target="_blank">DBMS_METADATA_PARSE_ITEMS</a>- documents the valid parse items.
                           </p>
                        </li>
                     </ul>
                     <p>For example, suppose you want to know which transforms are allowed for <code class="codeph">INDEX</code> objects. The following query returns the transforms that are valid for <code class="codeph">INDEX</code> objects, the required input types, and the resulting output types:
                     </p><pre class="pre codeblock"><code>SQL&gt; SELECT transform, output_type, input_type, description
2 FROM dbms_metadata_transforms
3 WHERE object_type='INDEX';


TRANSFORM  OUTPUT_TYP INPUT_TYPE           DESCRIPTION
---------- ---------- -------------------- ----------------------------------------------------------------------
ALTERXML   ALTER_XML  SXML difference doc  Generate ALTER_XML from SXML difference document
SXMLDDL    DDL        SXML                 Convert SXML to DDL
MODIFY     XML        XML                  Modify XML document according to transform parameters
SXML       SXML       XML                  Convert XML to SXML
DDL        DDL        XML                  Convert XML to SQL to create the object
ALTERDDL   ALTER_DDL  ALTER_XML            Convert ALTER_XML to ALTER_DDL
MODIFYSXML SXML       SXML                 Modify SXML document
</code></pre><p>You might then want to know which transform parameters are valid for the DDL transform: </p><pre class="pre codeblock"><code>SQL&gt; SELECT param, datatype, default_val, description
2 FROM dbms_metadata_transform_params
3 WHERE object_type='INDEX' and transform='DDL'
4 ORDER BY param;


PARAM                     DATATYPE   DEFAULT_VA  DESCRIPTION
------------------------- ---------- ----------  ----------------------------------------------------------------------
INCLUDE_PARTITIONS        TEXT                   Include generated interval and list partitions in DDL 
                                                      transformation
INDEX_COMPRESSION_CLAUSE  TEXT       ""          Text of user-specified index compression clause
PARTITIONING              BOOLEAN    TRUE        Include partitioning clauses in transformation
PARTITION_NAME            TEXT       ""          Name of partition selected for the transformation
PCTSPACE                  NUMBER     ""          Percentage by which space allocation is to be modified
SEGMENT_ATTRIBUTES        BOOLEAN    TRUE        Include segment attribute clauses (physical attributes, storage 
                                                      attribues, tablespace, logging) in transformation
STORAGE                   BOOLEAN    TRUE        Include storage clauses in transformation
SUBPARTITION_NAME         TEXT       ""          Name of subpartition selected for the transformation
TABLESPACE                BOOLEAN    TRUE        Include tablespace clauses in transformation</code></pre><p>You can also perform the following query which returns specific metadata about the <code class="codeph">INDEX</code> object type::
                     </p><pre class="pre codeblock"><code>SQL&gt; SELECT parse_item, description 
2 FROM dbms_metadata_parse_items 
3 WHERE object_type='INDEX' and convert='Y';

PARSE_ITEM           DESCRIPTION
-------------------- --------------------------------------------------------------
OBJECT_TYPE          Object type
TABLESPACE           Object tablespace (default tablespace for partitioned objects)
BASE_OBJECT_SCHEMA   Schema of the base object
SCHEMA               Object schema, if any
NAME                 Object name
BASE_OBJECT_NAME     Name of the base object
BASE_OBJECT_TYPE     Object type of the base object
SYSTEM_GENERATED     Y = system-generated object; N = not system-generated</code></pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-dbms_metadata-api.html#GUID-D9B1300F-B21D-416E-8B9B-C542195EF249" title="Using the DBMS_METADATA APIs.">Using the Metadata APIs</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL1624"></a><div class="props_rev_3"><a id="GUID-EE2AA635-EA83-4265-9727-E9C659842CEF" name="GUID-EE2AA635-EA83-4265-9727-E9C659842CEF"></a><h3 id="SUTIL-GUID-EE2AA635-EA83-4265-9727-E9C659842CEF" class="sect3"><span class="enumeration_section">23.3 </span>Using the DBMS_METADATA API to Retrieve an Object's Metadata
               </h3>
               <div>
                  <p>The retrieval interface of the <code class="codeph">DBMS_METADATA</code> API lets you specify the kind of object to be retrieved. 
                  </p>
                  <p>This can be either a particular object type (such as a table, index, or procedure) or a heterogeneous collection of object types that form a logical unit (such as a database export or schema export). By default, metadata that you fetch is returned in an XML document.</p>
                  <div class="infoboxnote" id="GUID-EE2AA635-EA83-4265-9727-E9C659842CEF__GUID-C43193A5-98F0-4C5B-A946-C14502066969">
                     <p class="notep1">Note:</p>
                     <p>To access objects that are not in your own schema you must have the <code class="codeph">SELECT_CATALOG_ROLE</code> role. However, roles are disabled within many PL/SQL objects (stored procedures, functions, definer's rights APIs). Therefore, if you are writing a PL/SQL program that will access objects in another schema (or, in general, any objects for which you need the <code class="codeph">SELECT_CATALOG_ROLE</code> role), then you must put the code in an invoker's rights API.
                     </p>
                  </div>
                  <p>You can use the programmatic interface for casual browsing, or you can use it to develop applications. You would use the browsing interface if you simply wanted to make ad hoc queries of the system metadata. You would use the programmatic interface when you want to extract dictionary metadata as part of an application. In such cases, the procedures provided by the <code class="codeph">DBMS_METADATA</code> API can be used in place of SQL scripts and customized code that you may be currently using to do the same thing.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-oracle-dbms_metadata-api.html#GUID-FBCB0C17-4B6A-4BC9-9F01-86015FA0F1C3">Typical Steps Used for Basic Metadata Retrieval</a><br>When you retrieve metadata, you use the <code class="codeph">DBMS_METADATA</code> PL/SQL API. 
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-dbms_metadata-api.html#GUID-68EB7622-137B-46CC-AE50-75972582092E">Retrieving Multiple Objects</a><br>Description and example of retrieving multiple objects.
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-dbms_metadata-api.html#GUID-27965831-A88D-4723-8402-F31DC9839B71">Placing Conditions on Transforms</a><br>You can use transform parameters to specify conditions on the transforms that you add. 
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-dbms_metadata-api.html#GUID-BB45CA8D-2621-419B-906C-1E811499786A">Accessing Specific Metadata Attributes</a><br>Description and example of accessing specific metadata attributes.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-dbms_metadata-api.html#GUID-D9B1300F-B21D-416E-8B9B-C542195EF249" title="Using the DBMS_METADATA APIs.">Using the Metadata APIs</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_2"><a id="GUID-FBCB0C17-4B6A-4BC9-9F01-86015FA0F1C3" name="GUID-FBCB0C17-4B6A-4BC9-9F01-86015FA0F1C3"></a><h4 id="SUTIL-GUID-FBCB0C17-4B6A-4BC9-9F01-86015FA0F1C3" class="sect4"><span class="enumeration_section">23.3.1 </span>Typical Steps Used for Basic Metadata Retrieval
                  </h4>
                  <div>
                     <p>When you retrieve metadata, you use the <code class="codeph">DBMS_METADATA</code> PL/SQL API. 
                     </p>
                     <div class="section">
                        <p>The following examples illustrate the programmatic and browsing interfaces.</p>
                        <p>The <code class="codeph">DBMS_METADATA</code> programmatic interface example provides a basic demonstration of using the <code class="codeph">DBMS_METADATA</code> programmatic interface to retrieve metadata for one table. It creates a <code class="codeph">DBMS_METADATA</code> program that creates a function named <code class="codeph">get_table_md</code>. This function returns metadata for one table.
                        </p>
                        <p>The <code class="codeph">DBMS_METADATA</code> browsing interface example demonstrates how you can use the browsing interface to obtain the same results. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-FBCB0C17-4B6A-4BC9-9F01-86015FA0F1C3__GUID-99E54742-0197-4C53-A4B0-6D23486B3ED1">
                        <p class="titleinexample">Example 23-1 Using the DBMS_METADATA Programmatic Interface to Retrieve Data </p>
                        <ol>
                           <li>
                              <p>Create a <code class="codeph">DBMS_METADATA</code> program that creates a function named <code class="codeph">get_table_md</code>, which will return the metadata for one table, <code class="codeph">timecards</code>, in the <code class="codeph">hr</code> schema. The content of such a program looks as follows. (For this example, name the program <code class="codeph">metadata_program</code>.<code class="codeph">sql</code>.)
                              </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE FUNCTION get_table_md RETURN CLOB IS
-- Define local variables.
h NUMBER; --handle returned by OPEN
th NUMBER; -- handle returned by ADD_TRANSFORM
doc CLOB;
BEGIN

-- Specify the object type.
h := DBMS_METADATA.OPEN('TABLE');

-- Use filters to specify the particular object desired.
DBMS_METADATA.SET_FILTER(h,'SCHEMA','HR');
DBMS_METADATA.SET_FILTER(h,'NAME','TIMECARDS');

 -- Request that the metadata be transformed into creation DDL.
th := DBMS_METADATA.ADD_TRANSFORM(h,'DDL');

 -- Fetch the object.
doc := DBMS_METADATA.FETCH_CLOB(h);

 -- Release resources.
DBMS_METADATA.CLOSE(h);
RETURN doc;
END;
/ 
</pre></li>
                           <li>
                              <p>Connect as user <code class="codeph">hr</code>.
                              </p>
                           </li>
                           <li>
                              <p>Run the program to create the <code class="codeph">get_table_md</code> function:
                              </p>
                              <p><code class="codeph">SQL&gt; @metadata_program</code></p>
                           </li>
                           <li>
                              <p>Use the newly created <code class="codeph">get_table_md</code> function in a select operation. To generate complete, uninterrupted output, set the <code class="codeph">PAGESIZE</code> to 0 and set <code class="codeph">LONG</code> to some large number, as shown, before executing your query:
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SET PAGESIZE 0
SQL&gt; SET LONG 1000000
SQL&gt; SELECT get_table_md FROM dual;
</pre></li>
                           <li>
                              <p>The output, which shows the metadata for the <code class="codeph">timecards</code> table in the <code class="codeph">hr</code> schema, looks similar to the following:
                              </p><pre class="oac_no_warn" dir="ltr">  CREATE TABLE "HR"."TIMECARDS"
   (    "EMPLOYEE_ID" NUMBER(6,0),
        "WEEK" NUMBER(2,0),
        "JOB_ID" VARCHAR2(10),
        "HOURS_WORKED" NUMBER(4,2),
         FOREIGN KEY ("EMPLOYEE_ID")
          REFERENCES "HR"."EMPLOYEES" ("EMPLOYEE_ID") ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "EXAMPLE"
</pre></li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-FBCB0C17-4B6A-4BC9-9F01-86015FA0F1C3__GUID-F2DE8330-4777-4AD8-B129-EA25E8E24012">
                        <p class="titleinexample">Example 23-2 Using the DBMS_METADATA Browsing Interface to Retrieve Data</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SET PAGESIZE 0
SQL&gt; SET LONG 1000000
SQL&gt; SELECT DBMS_METADATA.GET_DDL('TABLE','TIMECARDS','HR') FROM dual;
</pre><p>The results of this query are same as shown in step 5 in the <code class="codeph">DBMS_METADATA</code> programmatic interface example.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-dbms_metadata-api.html#GUID-EE2AA635-EA83-4265-9727-E9C659842CEF" title="The retrieval interface of the DBMS_METADATA API lets you specify the kind of object to be retrieved.">Using the DBMS_METADATA API to Retrieve an Object's Metadata</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL3620"></a><a id="SUTIL1626"></a><div class="props_rev_3"><a id="GUID-68EB7622-137B-46CC-AE50-75972582092E" name="GUID-68EB7622-137B-46CC-AE50-75972582092E"></a><h4 id="SUTIL-GUID-68EB7622-137B-46CC-AE50-75972582092E" class="sect4"><span class="enumeration_section">23.3.2 </span>Retrieving Multiple Objects
                  </h4>
                  <div>
                     <p>Description and example of retrieving multiple objects.</p>
                     <div class="section">
                        <p>In the previous example “Using the <code class="codeph">DBMS_METADATA</code> Programmatic Interface to Retrieve Data,” the <code class="codeph">FETCH_CLOB</code> procedure was called only once, because it was known that there was only one object. However, you can also retrieve multiple objects, for example, all the tables in schema <code class="codeph">scott</code>. To do this, you need to use the following construct:
                        </p><pre class="oac_no_warn" dir="ltr">  LOOP
    doc := DBMS_METADATA.FETCH_CLOB(h);
    --
    -- When there are no more objects to be retrieved, FETCH_CLOB returns NULL.
    --
    EXIT WHEN doc IS NULL;
  END LOOP;
</pre><p>The following example demonstrates use of this construct and retrieving multiple objects. Connect as user <code class="codeph">scott</code> for this example. The password is <code class="codeph">tiger</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-68EB7622-137B-46CC-AE50-75972582092E__I1014062">
                        <p class="titleinexample">Example 23-3 Retrieving Multiple Objects</p>
                        <ol>
                           <li>
                              <p>Create a table named <code class="codeph">my_metadata</code> and a procedure named <code class="codeph">get_tables_md</code>, as follows. Because not all objects can be returned, they are stored in a table and queried at the end.
                              </p><pre class="oac_no_warn" dir="ltr">DROP TABLE my_metadata;
CREATE TABLE my_metadata (md clob);
CREATE OR REPLACE PROCEDURE get_tables_md IS
-- Define local variables
h       NUMBER;         -- handle returned by 'OPEN'
th      NUMBER;         -- handle returned by 'ADD_TRANSFORM'
doc     CLOB;           -- metadata is returned in a CLOB
BEGIN

 -- Specify the object type.
 h := DBMS_METADATA.OPEN('TABLE');

 -- Use filters to specify the schema.
 DBMS_METADATA.SET_FILTER(h,'SCHEMA','SCOTT');

 -- Request that the metadata be transformed into creation DDL.
 th := DBMS_METADATA.ADD_TRANSFORM(h,'DDL');

 -- Fetch the objects.
 LOOP
   doc := DBMS_METADATA.FETCH_CLOB(h);

  -- When there are no more objects to be retrieved, FETCH_CLOB returns NULL.
   EXIT WHEN doc IS NULL;

   -- Store the metadata in a table.
   INSERT INTO my_metadata(md) VALUES (doc);
   COMMIT;
 END LOOP;
 
 -- Release resources.
 DBMS_METADATA.CLOSE(h);
END;
/
</pre></li>
                           <li>
                              <p>Execute the procedure:</p><pre class="oac_no_warn" dir="ltr">EXECUTE get_tables_md;
</pre></li>
                           <li>
                              <p>Query the <code class="codeph">my_metadata</code> table to see what was retrieved:
                              </p><pre class="oac_no_warn" dir="ltr">SET LONG 9000000
SET PAGES 0
SELECT * FROM my_metadata;</pre></li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-dbms_metadata-api.html#GUID-EE2AA635-EA83-4265-9727-E9C659842CEF" title="The retrieval interface of the DBMS_METADATA API lets you specify the kind of object to be retrieved.">Using the DBMS_METADATA API to Retrieve an Object's Metadata</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL3621"></a><a id="SUTIL3622"></a><a id="SUTIL1627"></a><div class="props_rev_3"><a id="GUID-27965831-A88D-4723-8402-F31DC9839B71" name="GUID-27965831-A88D-4723-8402-F31DC9839B71"></a><h4 id="SUTIL-GUID-27965831-A88D-4723-8402-F31DC9839B71" class="sect4"><span class="enumeration_section">23.3.3 </span>Placing Conditions on Transforms
                  </h4>
                  <div>
                     <p>You can use transform parameters to specify conditions on the transforms that you add. </p>
                     <div class="section">
                        <p>To do this, you use the <code class="codeph">SET_TRANSFORM_PARAM</code> procedure. For example, if you have added the <code class="codeph">DDL</code> transform for a <code class="codeph">TABLE</code> object, then you can specify the <code class="codeph">SEGMENT_ATTRIBUTES</code> transform parameter to indicate that you do not want segment attributes (physical, storage, logging, and so on) to appear in the DDL. The default is that segment attributes do appear in the DDL.
                        </p>
                        <p><a href="using-oracle-dbms_metadata-api.html#GUID-27965831-A88D-4723-8402-F31DC9839B71__I1014066">Example 23-4</a> shows use of the <code class="codeph">SET_TRANSFORM_PARAM</code> procedure.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-27965831-A88D-4723-8402-F31DC9839B71__I1014066">
                        <p class="titleinexample">Example 23-4 Placing Conditions on Transforms</p>
                        <ol>
                           <li>
                              <p>Create a function named <code class="codeph">get_table_md</code>, as follows:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE FUNCTION get_table_md RETURN CLOB IS
 -- Define local variables.
 h    NUMBER;   -- handle returned by 'OPEN'
 th   NUMBER;   -- handle returned by 'ADD_TRANSFORM'
 doc  CLOB;
BEGIN

 -- Specify the object type. 
 h := DBMS_METADATA.OPEN('TABLE');

 -- Use filters to specify the particular object desired.
 DBMS_METADATA.SET_FILTER(h,'SCHEMA','HR');
 DBMS_METADATA.SET_FILTER(h,'NAME','TIMECARDS');

 -- Request that the metadata be transformed into creation DDL.
 th := dbms_metadata.add_transform(h,'DDL');

 -- Specify that segment attributes are not to be returned.
 -- Note that this call uses the TRANSFORM handle, not the OPEN handle.
DBMS_METADATA.SET_TRANSFORM_PARAM(th,'SEGMENT_ATTRIBUTES',false);

 -- Fetch the object.
 doc := DBMS_METADATA.FETCH_CLOB(h);

 -- Release resources.
 DBMS_METADATA.CLOSE(h);

 RETURN doc;
END;
/
</pre></li>
                           <li>
                              <p>Perform the following query:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT get_table_md FROM dual;
</pre><p>The output looks similar to the following:</p><pre class="oac_no_warn" dir="ltr">  CREATE TABLE "HR"."TIMECARDS"
   (    "EMPLOYEE_ID" NUMBER(6,0),
        "WEEK" NUMBER(2,0),
        "JOB_ID" VARCHAR2(10),
        "HOURS_WORKED" NUMBER(4,2),
         FOREIGN KEY ("EMPLOYEE_ID")
          REFERENCES "HR"."EMPLOYEES" ("EMPLOYEE_ID") ENABLE
   )
</pre></li>
                        </ol>
                        <p>The examples shown up to this point have used a single transform, the <code class="codeph">DDL</code> transform. The <code class="codeph">DBMS_METADATA</code> API also enables you to specify multiple transforms, with the output of the first being the input to the next and so on.
                        </p>
                        <p>Oracle supplies a transform called <code class="codeph">MODIFY</code> that modifies an XML document. You can do things like change schema names or tablespace names. To do this, you use remap parameters and the <code class="codeph">SET_REMAP_PARAM</code> procedure.
                        </p>
                        <p><a href="using-oracle-dbms_metadata-api.html#GUID-27965831-A88D-4723-8402-F31DC9839B71__I1014070">Example 23-5</a> shows a sample use of the <code class="codeph">SET_REMAP_PARAM</code> procedure. It first adds the <code class="codeph">MODIFY</code> transform and specifies remap parameters to change the schema name from <code class="codeph">hr</code> to <code class="codeph">scott</code>. It then adds the <code class="codeph">DDL</code> transform. The output of the <code class="codeph">MODIFY</code> transform is an XML document that becomes the input to the <code class="codeph">DDL</code> transform. The end result is the creation DDL for the <code class="codeph">timecards</code> table with all instances of schema <code class="codeph">hr</code> changed to <code class="codeph">scott</code>.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-27965831-A88D-4723-8402-F31DC9839B71__I1014070">
                        <p class="titleinexample">Example 23-5 Modifying an XML Document</p>
                        <ol>
                           <li>
                              <p>Create a function named remap_schema:</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE FUNCTION remap_schema RETURN CLOB IS
-- Define local variables.
h NUMBER; --handle returned by OPEN
th NUMBER; -- handle returned by ADD_TRANSFORM
doc CLOB;
BEGIN

-- Specify the object type.
h := DBMS_METADATA.OPEN('TABLE');

-- Use filters to specify the particular object desired.
DBMS_METADATA.SET_FILTER(h,'SCHEMA','HR');
DBMS_METADATA.SET_FILTER(h,'NAME','TIMECARDS');

-- Request that the schema name be modified.
th := DBMS_METADATA.ADD_TRANSFORM(h,'MODIFY');
DBMS_METADATA.SET_REMAP_PARAM(th,'REMAP_SCHEMA','HR','SCOTT');

-- Request that the metadata be transformed into creation DDL.
th := DBMS_METADATA.ADD_TRANSFORM(h,'DDL');

-- Specify that segment attributes are not to be returned.
DBMS_METADATA.SET_TRANSFORM_PARAM(th,'SEGMENT_ATTRIBUTES',false);

-- Fetch the object.
doc := DBMS_METADATA.FETCH_CLOB(h);

-- Release resources.
DBMS_METADATA.CLOSE(h);
RETURN doc;
END;
/ 
</pre></li>
                           <li>
                              <p>Perform the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT remap_schema FROM dual;
</pre><p>The output looks similar to the following:</p><pre class="oac_no_warn" dir="ltr">  CREATE TABLE "SCOTT"."TIMECARDS"
   (    "EMPLOYEE_ID" NUMBER(6,0),
        "WEEK" NUMBER(2,0),
        "JOB_ID" VARCHAR2(10),
        "HOURS_WORKED" NUMBER(4,2),
         FOREIGN KEY ("EMPLOYEE_ID")
          REFERENCES "SCOTT"."EMPLOYEES" ("EMPLOYEE_ID") ENABLE
   )
</pre><p>If you are familiar with XSLT, then you can add your own user-written transforms to process the XML.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-dbms_metadata-api.html#GUID-EE2AA635-EA83-4265-9727-E9C659842CEF" title="The retrieval interface of the DBMS_METADATA API lets you specify the kind of object to be retrieved.">Using the DBMS_METADATA API to Retrieve an Object's Metadata</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL3623"></a><a id="SUTIL1628"></a><div class="props_rev_3"><a id="GUID-BB45CA8D-2621-419B-906C-1E811499786A" name="GUID-BB45CA8D-2621-419B-906C-1E811499786A"></a><h4 id="SUTIL-GUID-BB45CA8D-2621-419B-906C-1E811499786A" class="sect4"><span class="enumeration_section">23.3.4 </span>Accessing Specific Metadata Attributes
                  </h4>
                  <div>
                     <p>Description and example of accessing specific metadata attributes.</p>
                     <div class="section">
                        <p>It is often desirable to access specific attributes of an object's metadata, for example, its name or schema. You could get this information by parsing the returned metadata, but the <code class="codeph">DBMS_METADATA</code> API provides another mechanism; you can specify parse items, specific attributes that will be parsed out of the metadata and returned in a separate data structure. To do this, you use the <code class="codeph">SET_PARSE_ITEM</code> procedure.
                        </p>
                        <p><a href="using-oracle-dbms_metadata-api.html#GUID-BB45CA8D-2621-419B-906C-1E811499786A__I1014074">Example 23-6</a> fetches all tables in a schema. For each table, a parse item is used to get its name. The name is then used to get all indexes on the table. The example illustrates the use of the <code class="codeph">FETCH_DDL</code> function, which returns metadata in a <code class="codeph">sys</code>.<code class="codeph">ku$_ddls</code> object.
                        </p>
                        <p>This example assumes you are connected to a schema that contains some tables and indexes. It also creates a table named <code class="codeph">my_metadata</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-BB45CA8D-2621-419B-906C-1E811499786A__I1014074">
                        <p class="titleinexample">Example 23-6 Using Parse Items to Access Specific Metadata Attributes</p>
                        <ol>
                           <li>
                              <p>Create a table named <code class="codeph">my_metadata</code> and a procedure named <code class="codeph">get_tables_and_indexes</code>, as follows:
                              </p><pre class="oac_no_warn" dir="ltr">DROP TABLE my_metadata;
CREATE TABLE my_metadata (
  object_type   VARCHAR2(30),
  name          VARCHAR2(30),
  md            CLOB);
CREATE OR REPLACE PROCEDURE get_tables_and_indexes IS
-- Define local variables.
h1      NUMBER;         -- handle returned by OPEN for tables
h2      NUMBER;         -- handle returned by OPEN for indexes
th1     NUMBER;         -- handle returned by ADD_TRANSFORM for tables
th2     NUMBER;         -- handle returned by ADD_TRANSFORM for indexes
doc     sys.ku$_ddls;   -- metadata is returned in sys.ku$_ddls,
                        --  a nested table of sys.ku$_ddl objects
ddl     CLOB;           -- creation DDL for an object
pi      sys.ku$_parsed_items;   -- parse items are returned in this object
                                -- which is contained in sys.ku$_ddl
objname VARCHAR2(30);   -- the parsed object name
idxddls sys.ku$_ddls;   -- metadata is returned in sys.ku$_ddls,
                        --  a nested table of sys.ku$_ddl objects
idxname VARCHAR2(30);   -- the parsed index name
BEGIN
 -- This procedure has an outer loop that fetches tables,
 -- and an inner loop that fetches indexes.
 
 -- Specify the object type: TABLE.
 h1 := DBMS_METADATA.OPEN('TABLE');
 
 -- Request that the table name be returned as a parse item.
 DBMS_METADATA.SET_PARSE_ITEM(h1,'NAME');
 
 -- Request that the metadata be transformed into creation DDL.
 th1 := DBMS_METADATA.ADD_TRANSFORM(h1,'DDL');
 
 -- Specify that segment attributes are not to be returned.
 DBMS_METADATA.SET_TRANSFORM_PARAM(th1,'SEGMENT_ATTRIBUTES',false);
 
 -- Set up the outer loop: fetch the TABLE objects.
 LOOP
   doc := dbms_metadata.fetch_ddl(h1);
 
-- When there are no more objects to be retrieved, FETCH_DDL returns NULL.
   EXIT WHEN doc IS NULL;
 
-- Loop through the rows of the ku$_ddls nested table.
   FOR i IN doc.FIRST..doc.LAST LOOP
     ddl := doc(i).ddlText;
     pi := doc(i).parsedItems;
     -- Loop through the returned parse items.
     IF pi IS NOT NULL AND pi.COUNT &gt; 0 THEN
       FOR j IN pi.FIRST..pi.LAST LOOP
         IF pi(j).item='NAME' THEN
           objname := pi(j).value;
         END IF;
       END LOOP;
     END IF;
     -- Insert information about this object into our table.
     INSERT INTO my_metadata(object_type, name, md)
       VALUES ('TABLE',objname,ddl);
     COMMIT;
   END LOOP;
 
   -- Now fetch indexes using the parsed table name as
   --  a BASE_OBJECT_NAME filter.
 
   -- Specify the object type.
   h2 := DBMS_METADATA.OPEN('INDEX');
 
   -- The base object is the table retrieved in the outer loop.
   DBMS_METADATA.SET_FILTER(h2,'BASE_OBJECT_NAME',objname);
 
   -- Exclude system-generated indexes.
   DBMS_METADATA.SET_FILTER(h2,'SYSTEM_GENERATED',false);
 
   -- Request that the index name be returned as a parse item.
   DBMS_METADATA.SET_PARSE_ITEM(h2,'NAME');
 
   -- Request that the metadata be transformed into creation DDL.
   th2 := DBMS_METADATA.ADD_TRANSFORM(h2,'DDL');
 
   -- Specify that segment attributes are not to be returned.
   DBMS_METADATA.SET_TRANSFORM_PARAM(th2,'SEGMENT_ATTRIBUTES',false);
  
 
   LOOP
    idxddls := dbms_metadata.fetch_ddl(h2);
 
    -- When there are no more objects to  be retrieved, FETCH_DDL returns NULL.
    EXIT WHEN idxddls IS NULL;
 
      FOR i in idxddls.FIRST..idxddls.LAST LOOP
        ddl := idxddls(i).ddlText;
        pi  := idxddls(i).parsedItems;
        -- Loop through the returned parse items.
        IF pi IS NOT NULL AND pi.COUNT &gt; 0 THEN
          FOR j IN pi.FIRST..pi.LAST LOOP
            IF pi(j).item='NAME' THEN
              idxname := pi(j).value;
            END IF;
          END LOOP;
         END IF;
   
         -- Store the metadata in our table.
          INSERT INTO my_metadata(object_type, name, md)
            VALUES ('INDEX',idxname,ddl);
         COMMIT;
       END LOOP;  -- for loop
  END LOOP;
  DBMS_METADATA.CLOSE(h2);
 END LOOP;
 DBMS_METADATA.CLOSE(h1);
END;
/
</pre></li>
                           <li>
                              <p>Execute the procedure:</p><pre class="oac_no_warn" dir="ltr">EXECUTE get_tables_and_indexes;
</pre></li>
                           <li>
                              <p>Perform the following query to see what was retrieved:</p><pre class="oac_no_warn" dir="ltr">SET LONG 9000000
SET PAGES 0
SELECT * FROM my_metadata;</pre></li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-dbms_metadata-api.html#GUID-EE2AA635-EA83-4265-9727-E9C659842CEF" title="The retrieval interface of the DBMS_METADATA API lets you specify the kind of object to be retrieved.">Using the DBMS_METADATA API to Retrieve an Object's Metadata</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SUTIL3624"></a><a id="SUTIL1629"></a><div class="props_rev_2"><a id="GUID-1DA999FD-1AFD-4D8D-A6D0-8EEB84E0D9E4" name="GUID-1DA999FD-1AFD-4D8D-A6D0-8EEB84E0D9E4"></a><h3 id="SUTIL-GUID-1DA999FD-1AFD-4D8D-A6D0-8EEB84E0D9E4" class="sect3"><span class="enumeration_section">23.4 </span>Using the DBMS_METADATA API to Re-Create a Retrieved Object
               </h3>
               <div>
                  <p>When you fetch metadata for an object, you may want to use it to re-create the object in a different database or schema.</p>
                  <div class="section">
                     <p>You may not be ready to make remapping decisions when you fetch the metadata. You may want to defer these decisions until later. To accomplish this, you fetch the metadata as XML and store it in a file or table. Later you can use the submit interface to re-create the object.</p>
                     <p>The submit interface is similar in form to the retrieval interface. It has an <code class="codeph">OPENW</code> procedure in which you specify the object type of the object to be created. You can specify transforms, transform parameters, and parse items. You can call the <code class="codeph">CONVERT</code> function to convert the XML to DDL, or you can call the <code class="codeph">PUT</code> function to both convert XML to DDL and submit the DDL to create the object.
                     </p>
                     <p><a href="using-oracle-dbms_metadata-api.html#GUID-1DA999FD-1AFD-4D8D-A6D0-8EEB84E0D9E4__I1014078">Example 23-7</a> fetches the XML for a table in one schema, and then uses the submit interface to re-create the table in another schema.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-1DA999FD-1AFD-4D8D-A6D0-8EEB84E0D9E4__I1014078">
                     <p class="titleinexample">Example 23-7 Using the Submit Interface to Re-Create a Retrieved Object</p>
                     <ol>
                        <li>
                           <p>Connect as a privileged user:</p><pre class="oac_no_warn" dir="ltr">CONNECT system
Enter password: <span class="italic">password</span>
</pre></li>
                        <li>
                           <p>Create an invoker's rights package to hold the procedure because access to objects in another schema requires the <code class="codeph">SELECT_CATALOG_ROLE</code> role. In a definer's rights PL/SQL object (such as a procedure or function), roles are disabled.
                           </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PACKAGE example_pkg AUTHID current_user IS
  PROCEDURE move_table(
        table_name  in VARCHAR2,
        from_schema in VARCHAR2,
        to_schema   in VARCHAR2 );
END example_pkg;
/
CREATE OR REPLACE PACKAGE BODY example_pkg IS
PROCEDURE move_table(
        table_name  in VARCHAR2,
        from_schema in VARCHAR2,
        to_schema   in VARCHAR2 ) IS

-- Define local variables.
h1      NUMBER;         -- handle returned by OPEN
h2      NUMBER;         -- handle returned by OPENW
th1     NUMBER;         -- handle returned by ADD_TRANSFORM for MODIFY
th2     NUMBER;         -- handle returned by ADD_TRANSFORM for DDL
xml     CLOB;           -- XML document
errs    sys.ku$_SubmitResults := sys.ku$_SubmitResults();
err     sys.ku$_SubmitResult;
result  BOOLEAN;
BEGIN

-- Specify the object type.
h1 := DBMS_METADATA.OPEN('TABLE');

-- Use filters to specify the name and schema of the table.
DBMS_METADATA.SET_FILTER(h1,'NAME',table_name);
DBMS_METADATA.SET_FILTER(h1,'SCHEMA',from_schema);

-- Fetch the XML.
xml := DBMS_METADATA.FETCH_CLOB(h1);
IF xml IS NULL THEN
    DBMS_OUTPUT.PUT_LINE('Table ' || from_schema || '.' || table_name
|| ' not found');
    RETURN;
  END IF;

-- Release resources.
DBMS_METADATA.CLOSE(h1);

-- Use the submit interface to re-create the object in another schema.

-- Specify the object type using OPENW (instead of OPEN).
h2 := DBMS_METADATA.OPENW('TABLE');

-- First, add the MODIFY transform.
th1 := DBMS_METADATA.ADD_TRANSFORM(h2,'MODIFY');

-- Specify the desired modification: remap the schema name.
DBMS_METADATA.SET_REMAP_PARAM(th1,'REMAP_SCHEMA',from_schema,to_schema);

-- Now add the DDL transform so that the modified XML can be
--  transformed into creation DDL.
th2 := DBMS_METADATA.ADD_TRANSFORM(h2,'DDL');

-- Call PUT to re-create the object.
result := DBMS_METADATA.PUT(h2,xml,0,errs);

DBMS_METADATA.CLOSE(h2);
  IF NOT result THEN
    -- Process the error information.
    FOR i IN errs.FIRST..errs.LAST LOOP
      err := errs(i);
      FOR j IN err.errorLines.FIRST..err.errorLines.LAST LOOP
        dbms_output.put_line(err.errorLines(j).errorText);
      END LOOP;
    END LOOP;
  END IF;
END;
END example_pkg;
/
</pre></li>
                        <li>
                           <p>Now create a table named <code class="codeph">my_example</code> in the schema <code class="codeph">SCOTT</code>:
                           </p><pre class="oac_no_warn" dir="ltr">CONNECT scott
Enter password:
-- The password is tiger.

DROP TABLE my_example;
CREATE TABLE my_example (a NUMBER, b VARCHAR2(30));

CONNECT system
Enter password: <span class="italic">password</span>

SET LONG 9000000
SET PAGESIZE 0
SET SERVEROUTPUT ON SIZE 100000
</pre></li>
                        <li>
                           <p>Copy the <code class="codeph">my_example</code> table to the <code class="codeph">SYSTEM</code> schema:
                           </p><pre class="oac_no_warn" dir="ltr">DROP TABLE my_example;
EXECUTE example_pkg.move_table('MY_EXAMPLE','SCOTT','SYSTEM');
</pre></li>
                        <li>
                           <p>Perform the following query to verify that it worked:</p><pre class="oac_no_warn" dir="ltr">SELECT DBMS_METADATA.GET_DDL('TABLE','MY_EXAMPLE') FROM dual;</pre></li>
                     </ol>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-dbms_metadata-api.html#GUID-D9B1300F-B21D-416E-8B9B-C542195EF249" title="Using the DBMS_METADATA APIs.">Using the Metadata APIs</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL3625"></a><a id="SUTIL1630"></a><div class="props_rev_3"><a id="GUID-85AC0B9A-5C6E-4D2A-A3CA-30F5F7884048" name="GUID-85AC0B9A-5C6E-4D2A-A3CA-30F5F7884048"></a><h3 id="SUTIL-GUID-85AC0B9A-5C6E-4D2A-A3CA-30F5F7884048" class="sect3"><span class="enumeration_section">23.5 </span>Using the DBMS_METADATA API to Retrieve Collections of Different Object Types
               </h3>
               <div>
                  <p>Description and example of retrieving collections of different object types.</p>
                  <p>There may be times when you need to retrieve collections of objects in which the objects are of different types, but comprise a logical unit. For example, you might need to retrieve all the objects in a database or a schema, or a table and all its dependent indexes, constraints, grants, audits, and so on. To make such a retrieval possible, the <code class="codeph">DBMS_METADATA</code> API provides several heterogeneous object types. A heterogeneous object type is an ordered set of object types.
                  </p>
                  <p>Oracle supplies the following heterogeneous object types:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">TABLE_EXPORT</code> - a table and its dependent objects
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">SCHEMA_EXPORT</code> - a schema and its contents
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DATABASE_EXPORT</code> - the objects in the database
                        </p>
                     </li>
                  </ul>
                  <p>These object types were developed for use by the Data Pump Export utility, but you can use them in your own applications. </p>
                  <p>You can use only the programmatic retrieval interface (<code class="codeph">OPEN</code>, <code class="codeph">FETCH</code>, <code class="codeph">CLOSE</code>) with these types, not the browsing interface or the submit interface.
                  </p>
                  <p>You can specify filters for heterogeneous object types, just as you do for the homogeneous types. For example, you can specify the <code class="codeph">SCHEMA</code> and <code class="codeph">NAME</code> filters for <code class="codeph">TABLE_EXPORT</code>, or the <code class="codeph">SCHEMA</code> filter for <code class="codeph">SCHEMA_EXPORT</code>.
                  </p>
                  <p><a href="using-oracle-dbms_metadata-api.html#GUID-85AC0B9A-5C6E-4D2A-A3CA-30F5F7884048__I1014082">Example 23-8</a> shows how to retrieve the object types in the <code class="codeph">scott</code> schema. Connect as user <code class="codeph">scott</code>. The password is <code class="codeph">tiger</code>.
                  </p>
                  <div class="example" id="GUID-85AC0B9A-5C6E-4D2A-A3CA-30F5F7884048__I1014082">
                     <p class="titleinexample">Example 23-8 Retrieving Heterogeneous Object Types</p>
                     <ol>
                        <li>
                           <p>Create a table to store the retrieved objects:</p><pre class="oac_no_warn" dir="ltr">DROP TABLE my_metadata;
CREATE TABLE my_metadata (md CLOB);
CREATE OR REPLACE PROCEDURE get_schema_md IS

-- Define local variables.
h       NUMBER;         -- handle returned by OPEN
th      NUMBER;         -- handle returned by ADD_TRANSFORM
doc     CLOB;           -- metadata is returned in a CLOB
BEGIN

-- Specify the object type.
 h := DBMS_METADATA.OPEN('SCHEMA_EXPORT');

 -- Use filters to specify the schema.
 DBMS_METADATA.SET_FILTER(h,'SCHEMA','SCOTT');

 -- Request that the metadata be transformed into creation DDL.
 th := DBMS_METADATA.ADD_TRANSFORM(h,'DDL');

 -- Fetch the objects.
 LOOP
   doc := DBMS_METADATA.FETCH_CLOB(h);

   -- When there are no more objects to be retrieved, FETCH_CLOB returns NULL.
   EXIT WHEN doc IS NULL;

   -- Store the metadata in the table.
   INSERT INTO my_metadata(md) VALUES (doc);
   COMMIT;
 END LOOP;
 
 -- Release resources.
 DBMS_METADATA.CLOSE(h);
END;
/
</pre></li>
                        <li>
                           <p>Execute the procedure:</p><pre class="oac_no_warn" dir="ltr">EXECUTE get_schema_md;
</pre></li>
                        <li>
                           <p>Perform the following query to see what was retrieved:</p><pre class="oac_no_warn" dir="ltr">SET LONG 9000000
SET PAGESIZE 0
SELECT * FROM my_metadata;
</pre></li>
                     </ol>
                     <p>In this example, objects are returned ordered by object type; for example, all tables are returned, then all grants on tables, then all indexes on tables, and so on. The order is, generally speaking, a valid creation order. Thus, if you take the objects in the order in which they were returned and use the submit interface to re-create them in the same order in another schema or database, then there will usually be no errors. (The exceptions usually involve circular references; for example, if package A contains a call to package B, and package B contains a call to package A, then one of the packages will need to be recompiled a second time.)</p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-oracle-dbms_metadata-api.html#GUID-E0EEE23F-EDED-40D2-BAE7-A1F5FF951589">Filtering the Return of Heterogeneous Object Types</a><br>Description and example of filtering the return of heterogeneous object types.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-dbms_metadata-api.html#GUID-D9B1300F-B21D-416E-8B9B-C542195EF249" title="Using the DBMS_METADATA APIs.">Using the Metadata APIs</a></p>
                     </div>
                  </div>
               </div>
               <a id="SUTIL3626"></a><a id="SUTIL1631"></a><div class="props_rev_3"><a id="GUID-E0EEE23F-EDED-40D2-BAE7-A1F5FF951589" name="GUID-E0EEE23F-EDED-40D2-BAE7-A1F5FF951589"></a><h4 id="SUTIL-GUID-E0EEE23F-EDED-40D2-BAE7-A1F5FF951589" class="sect4"><span class="enumeration_section">23.5.1 </span>Filtering the Return of Heterogeneous Object Types
                  </h4>
                  <div>
                     <p>Description and example of filtering the return of heterogeneous object types.</p>
                     <div class="section">
                        <p>For finer control of the objects returned, use the <code class="codeph">SET_FILTER</code> procedure and specify that the filter apply only to a specific member type. You do this by specifying the path name of the member type as the fourth parameter to <code class="codeph">SET_FILTER</code>. In addition, you can use the <code class="codeph">EXCLUDE_PATH_EXPR</code> filter to exclude all objects of an object type. For a list of valid path names, see the <code class="codeph">TABLE_EXPORT_OBJECTS</code> catalog view.
                        </p>
                        <p><a href="using-oracle-dbms_metadata-api.html#GUID-E0EEE23F-EDED-40D2-BAE7-A1F5FF951589__I1014087">Example 23-9</a> shows how you can use <code class="codeph">SET_FILTER</code> to specify finer control on the objects returned. Connect as user <code class="codeph">scott</code>. The password is <code class="codeph">tiger</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E0EEE23F-EDED-40D2-BAE7-A1F5FF951589__I1014087">
                        <p class="titleinexample">Example 23-9 Filtering the Return of Heterogeneous Object Types</p>
                        <ol>
                           <li>
                              <p>Create a table, <code class="codeph">my_metadata</code>, to store the retrieved objects. And create a procedure, <code class="codeph">get_schema_md2</code>.
                              </p><pre class="oac_no_warn" dir="ltr">DROP TABLE my_metadata;
CREATE TABLE my_metadata (md CLOB);
CREATE OR REPLACE PROCEDURE get_schema_md2 IS

-- Define local variables.
h       NUMBER;         -- handle returned by 'OPEN'
th      NUMBER;         -- handle returned by 'ADD_TRANSFORM'
doc     CLOB;           -- metadata is returned in a CLOB
BEGIN

 -- Specify the object type.
 h := DBMS_METADATA.OPEN('SCHEMA_EXPORT');

 -- Use filters to specify the schema.
 DBMS_METADATA.SET_FILTER(h,'SCHEMA','SCOTT');

 -- Use the fourth parameter to SET_FILTER to specify a filter
 -- that applies to a specific member object type.
 DBMS_METADATA.SET_FILTER(h,'NAME_EXPR','!=''MY_METADATA''','TABLE');

 -- Use the EXCLUDE_PATH_EXPR filter to exclude procedures.
 DBMS_METADATA.SET_FILTER(h,'EXCLUDE_PATH_EXPR','=''PROCEDURE''');

 -- Request that the metadata be transformed into creation DDL.
 th := DBMS_METADATA.ADD_TRANSFORM(h,'DDL');

 -- Use the fourth parameter to SET_TRANSFORM_PARAM to specify a parameter
 --  that applies to a specific member object type.
DBMS_METADATA.SET_TRANSFORM_PARAM(th,'SEGMENT_ATTRIBUTES',false,'TABLE');

 -- Fetch the objects.
 LOOP
   doc := dbms_metadata.fetch_clob(h);

   -- When there are no more objects to be retrieved, FETCH_CLOB returns NULL.
   EXIT WHEN doc IS NULL;

   -- Store the metadata in the table.
   INSERT INTO my_metadata(md) VALUES (doc);
   COMMIT;
 END LOOP;
 
 -- Release resources.
 DBMS_METADATA.CLOSE(h);
END;
/
</pre></li>
                           <li>
                              <p>Execute the procedure:</p><pre class="oac_no_warn" dir="ltr">EXECUTE get_schema_md2;
</pre></li>
                           <li>
                              <p>Perform the following query to see what was retrieved:</p><pre class="oac_no_warn" dir="ltr">SET LONG 9000000
SET PAGESIZE 0
SELECT * FROM my_metadata;</pre></li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-dbms_metadata-api.html#GUID-85AC0B9A-5C6E-4D2A-A3CA-30F5F7884048" title="Description and example of retrieving collections of different object types.">Using the DBMS_METADATA API to Retrieve Collections of Different Object Types</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SUTIL3628"></a><a id="SUTIL3627"></a><div class="props_rev_3"><a id="GUID-E9A778A7-2E9D-4240-8707-A52FF65556FE" name="GUID-E9A778A7-2E9D-4240-8707-A52FF65556FE"></a><h3 id="SUTIL-GUID-E9A778A7-2E9D-4240-8707-A52FF65556FE" class="sect3"><span class="enumeration_section">23.6 </span>Using the DBMS_METADATA_DIFF API to Compare Object Metadata
               </h3>
               <div>
                  <p> Description and example that uses the retrieval, comparison, and submit interfaces of <code class="codeph">DBMS_METADATA</code> and <code class="codeph">DBMS_METADATA_DIFF</code> to fetch metadata for two tables, compare the metadata, and generate <code class="codeph">ALTER</code> statements which make one table like the other. 
                  </p>
                  <div class="section">
                     <p>For simplicity, function variants are used throughout the example.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-E9A778A7-2E9D-4240-8707-A52FF65556FE__GUID-7A7FE9D7-77D8-483F-8B18-37FE39CCE24F">
                     <p class="titleinexample">Example 23-10 Comparing Object Metadata</p>
                     <ol>
                        <li>
                           <p>Create two tables, <code class="codeph">TAB1</code> and <code class="codeph">TAB2</code>:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE TAB1
  2     (    "EMPNO" NUMBER(4,0),
  3          "ENAME" VARCHAR2(10),
  4          "JOB" VARCHAR2(9),
  5          "DEPTNO" NUMBER(2,0)
  6     ) ;
 
Table created.
 
SQL&gt; CREATE TABLE TAB2
  2     (    "EMPNO" NUMBER(4,0) PRIMARY KEY ENABLE,
  3          "ENAME" VARCHAR2(20),
  4          "MGR" NUMBER(4,0),
  5          "DEPTNO" NUMBER(2,0)
  6     ) ;
 
Table created.
 </pre><p>Note the differences between <code class="codeph">TAB1</code> and <code class="codeph">TAB2</code>:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The table names are different</p>
                              </li>
                              <li>
                                 <p><code class="codeph">TAB2</code> has a primary key constraint; <code class="codeph">TAB1</code> does not
                                 </p>
                              </li>
                              <li>
                                 <p>The length of the <code class="codeph">ENAME</code> column is different in each table
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">TAB1</code> has a <code class="codeph">JOB</code> column; <code class="codeph">TAB2</code> does not
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">TAB2</code> has a <code class="codeph">MGR</code> column; <code class="codeph">TAB1</code> does not
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Create a function to return the table metadata in SXML format. The following are some key points to keep in mind about SXML when you are using the <code class="codeph">DBMS_METADATA_DIFF</code> API:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>SXML is an XML representation of object metadata.</p>
                              </li>
                              <li>
                                 <p>The SXML returned is not the same as the XML returned by <code class="codeph">DBMS_METADATA.GET_XML</code>, which is complex and opaque and contains binary values, instance-specific values, and so on.
                                 </p>
                              </li>
                              <li>
                                 <p>SXML looks like a direct translation of SQL creation DDL into XML. The tag names and structure correspond to names in the <a href="../sqlrf/SQL-Statements-ADMINISTER-KEY-MANAGEMENT-to-ALTER-JAVA.html#SQLRF008" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                                 </p>
                              </li>
                              <li>
                                 <p>SXML is designed to support editing and comparison.</p>
                              </li>
                           </ul>
                           <p>To keep this example simple, a transform parameter is used to suppress physical properties:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE OR REPLACE FUNCTION get_table_sxml(name IN VARCHAR2) RETURN CLOB IS
  2   open_handle NUMBER;
  3   transform_handle NUMBER;
  4   doc CLOB;
  5  BEGIN
  6   open_handle := DBMS_METADATA.OPEN('TABLE');
  7   DBMS_METADATA.SET_FILTER(open_handle,'NAME',name);
  8   --
  9   -- Use the 'SXML' transform to convert XML to SXML
 10   --
 11   transform_handle := DBMS_METADATA.ADD_TRANSFORM(open_handle,'SXML');
 12   --
 13   -- Use this transform parameter to suppress physical properties
 14   --
 15   DBMS_METADATA.SET_TRANSFORM_PARAM(transform_handle,'PHYSICAL_PROPERTIES',
 16                                     FALSE);
 17   doc := DBMS_METADATA.FETCH_CLOB(open_handle);
 18   DBMS_METADATA.CLOSE(open_handle);
 19   RETURN doc;
 20  END;
 21  /
 
Function created.
 </pre></li>
                        <li>
                           <p>Use the <code class="codeph">get_table_sxml</code> function to fetch the table SXML for the two tables:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT get_table_sxml('TAB1') FROM dual;
 
  &lt;TABLE xmlns="http://xmlns.oracle.com/ku" version="1.0"&gt;
   &lt;SCHEMA&gt;SCOTT&lt;/SCHEMA&gt;
   &lt;NAME&gt;TAB1&lt;/NAME&gt;
   &lt;RELATIONAL_TABLE&gt;
      &lt;COL_LIST&gt;
         &lt;COL_LIST_ITEM&gt;
            &lt;NAME&gt;EMPNO&lt;/NAME&gt;
            &lt;DATATYPE&gt;NUMBER&lt;/DATATYPE&gt;
            &lt;PRECISION&gt;4&lt;/PRECISION&gt;
            &lt;SCALE&gt;0&lt;/SCALE&gt;
         &lt;/COL_LIST_ITEM&gt;
         &lt;COL_LIST_ITEM&gt;
            &lt;NAME&gt;ENAME&lt;/NAME&gt;
            &lt;DATATYPE&gt;VARCHAR2&lt;/DATATYPE&gt;
            &lt;LENGTH&gt;10&lt;/LENGTH&gt;
         &lt;/COL_LIST_ITEM&gt;
         &lt;COL_LIST_ITEM&gt;
            &lt;NAME&gt;JOB&lt;/NAME&gt;
            &lt;DATATYPE&gt;VARCHAR2&lt;/DATATYPE&gt;
            &lt;LENGTH&gt;9&lt;/LENGTH&gt;
         &lt;/COL_LIST_ITEM&gt;
         &lt;COL_LIST_ITEM&gt;
            &lt;NAME&gt;DEPTNO&lt;/NAME&gt;
            &lt;DATATYPE&gt;NUMBER&lt;/DATATYPE&gt;
            &lt;PRECISION&gt;2&lt;/PRECISION&gt;
            &lt;SCALE&gt;0&lt;/SCALE&gt;
         &lt;/COL_LIST_ITEM&gt;
      &lt;/COL_LIST&gt;
   &lt;/RELATIONAL_TABLE&gt;
&lt;/TABLE&gt; 
  
1 row selected.
 
SQL&gt; SELECT get_table_sxml('TAB2') FROM dual;
 
  &lt;TABLE xmlns="http://xmlns.oracle.com/ku" version="1.0"&gt;
   &lt;SCHEMA&gt;SCOTT&lt;/SCHEMA&gt;
   &lt;NAME&gt;TAB2&lt;/NAME&gt;
   &lt;RELATIONAL_TABLE&gt;
      &lt;COL_LIST&gt;
         &lt;COL_LIST_ITEM&gt;
            &lt;NAME&gt;EMPNO&lt;/NAME&gt;
            &lt;DATATYPE&gt;NUMBER&lt;/DATATYPE&gt;
            &lt;PRECISION&gt;4&lt;/PRECISION&gt;
            &lt;SCALE&gt;0&lt;/SCALE&gt;
         &lt;/COL_LIST_ITEM&gt;
         &lt;COL_LIST_ITEM&gt;
            &lt;NAME&gt;ENAME&lt;/NAME&gt;
            &lt;DATATYPE&gt;VARCHAR2&lt;/DATATYPE&gt;
            &lt;LENGTH&gt;20&lt;/LENGTH&gt;
         &lt;/COL_LIST_ITEM&gt;
         &lt;COL_LIST_ITEM&gt;
            &lt;NAME&gt;MGR&lt;/NAME&gt;
            &lt;DATATYPE&gt;NUMBER&lt;/DATATYPE&gt;
            &lt;PRECISION&gt;4&lt;/PRECISION&gt;
            &lt;SCALE&gt;0&lt;/SCALE&gt;
         &lt;/COL_LIST_ITEM&gt;
         &lt;COL_LIST_ITEM&gt;
            &lt;NAME&gt;DEPTNO&lt;/NAME&gt;
            &lt;DATATYPE&gt;NUMBER&lt;/DATATYPE&gt;
            &lt;PRECISION&gt;2&lt;/PRECISION&gt;
            &lt;SCALE&gt;0&lt;/SCALE&gt;
         &lt;/COL_LIST_ITEM&gt;
      &lt;/COL_LIST&gt;
      &lt;PRIMARY_KEY_CONSTRAINT_LIST&gt;
         &lt;PRIMARY_KEY_CONSTRAINT_LIST_ITEM&gt;
            &lt;COL_LIST&gt;
               &lt;COL_LIST_ITEM&gt;
                  &lt;NAME&gt;EMPNO&lt;/NAME&gt;
               &lt;/COL_LIST_ITEM&gt;
            &lt;/COL_LIST&gt;
         &lt;/PRIMARY_KEY_CONSTRAINT_LIST_ITEM&gt;
      &lt;/PRIMARY_KEY_CONSTRAINT_LIST&gt;
   &lt;/RELATIONAL_TABLE&gt;
&lt;/TABLE&gt; 
 
1 row selected.
 </pre></li>
                        <li>
                           <p>Compare the results using the <code class="codeph">DBMS_METADATA</code> browsing APIs:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT dbms_metadata.get_sxml('TABLE','TAB1') FROM dual;
SQL&gt; SELECT dbms_metadata.get_sxml('TABLE','TAB2') FROM dual;
</pre></li>
                        <li>
                           <p>Create a function using the <code class="codeph">DBMS_METADATA_DIFF</code> API to compare the metadata for the two tables. In this function, the <code class="codeph">get_table_sxml</code> function that was just defined in step 2 is used.
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE OR REPLACE FUNCTION compare_table_sxml(name1 IN VARCHAR2,
  2                                          name2 IN VARCHAR2) RETURN CLOB IS
  3   doc1 CLOB;
  4   doc2 CLOB;
  5   diffdoc CLOB;
  6   openc_handle NUMBER;
  7  BEGIN
  8   --
  9   -- Fetch the SXML for the two tables
 10   --
 11   doc1 := get_table_sxml(name1);
 12   doc2 := get_table_sxml(name2);
 13   --
 14   -- Specify the object type in the OPENC call
 15   --
 16   openc_handle := DBMS_METADATA_DIFF.OPENC('TABLE');
 17   --
 18   -- Add each document
 19   --
 20   DBMS_METADATA_DIFF.ADD_DOCUMENT(openc_handle,doc1);
 21   DBMS_METADATA_DIFF.ADD_DOCUMENT(openc_handle,doc2);
 22   --
 23   -- Fetch the SXML difference document
 24   --
 25   diffdoc := DBMS_METADATA_DIFF.FETCH_CLOB(openc_handle);
 26   DBMS_METADATA_DIFF.CLOSE(openc_handle);
 27   RETURN diffdoc;
 28  END;
 29  /
 
Function created.
</pre></li>
                        <li>
                           <p>Use the function to fetch the SXML difference document for the two tables:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT compare_table_sxml('TAB1','TAB2') FROM dual;

&lt;TABLE xmlns="http://xmlns.oracle.com/ku" version="1.0"&gt;
  &lt;SCHEMA&gt;SCOTT&lt;/SCHEMA&gt;
  &lt;NAME value1="TAB1"&gt;TAB2&lt;/NAME&gt;
  &lt;RELATIONAL_TABLE&gt;
    &lt;COL_LIST&gt;
      &lt;COL_LIST_ITEM&gt;
        &lt;NAME&gt;EMPNO&lt;/NAME&gt;
        &lt;DATATYPE&gt;NUMBER&lt;/DATATYPE&gt;
        &lt;PRECISION&gt;4&lt;/PRECISION&gt;
        &lt;SCALE&gt;0&lt;/SCALE&gt;
      &lt;/COL_LIST_ITEM&gt;
      &lt;COL_LIST_ITEM&gt;
        &lt;NAME&gt;ENAME&lt;/NAME&gt;
        &lt;DATATYPE&gt;VARCHAR2&lt;/DATATYPE&gt;
        &lt;LENGTH value1="10"&gt;20&lt;/LENGTH&gt;
      &lt;/COL_LIST_ITEM&gt;
      &lt;COL_LIST_ITEM src="1"&gt;
        &lt;NAME&gt;JOB&lt;/NAME&gt;
        &lt;DATATYPE&gt;VARCHAR2&lt;/DATATYPE&gt;
        &lt;LENGTH&gt;9&lt;/LENGTH&gt;
      &lt;/COL_LIST_ITEM&gt;
      &lt;COL_LIST_ITEM&gt;
        &lt;NAME&gt;DEPTNO&lt;/NAME&gt;
        &lt;DATATYPE&gt;NUMBER&lt;/DATATYPE&gt;
        &lt;PRECISION&gt;2&lt;/PRECISION&gt;
        &lt;SCALE&gt;0&lt;/SCALE&gt;
      &lt;/COL_LIST_ITEM&gt;
      &lt;COL_LIST_ITEM src="2"&gt;
        &lt;NAME&gt;MGR&lt;/NAME&gt;
        &lt;DATATYPE&gt;NUMBER&lt;/DATATYPE&gt;
        &lt;PRECISION&gt;4&lt;/PRECISION&gt;
        &lt;SCALE&gt;0&lt;/SCALE&gt;
      &lt;/COL_LIST_ITEM&gt;
    &lt;/COL_LIST&gt;
    &lt;PRIMARY_KEY_CONSTRAINT_LIST src="2"&gt;
      &lt;PRIMARY_KEY_CONSTRAINT_LIST_ITEM&gt;
        &lt;COL_LIST&gt;
          &lt;COL_LIST_ITEM&gt;
            &lt;NAME&gt;EMPNO&lt;/NAME&gt;
          &lt;/COL_LIST_ITEM&gt;
        &lt;/COL_LIST&gt;
      &lt;/PRIMARY_KEY_CONSTRAINT_LIST_ITEM&gt;
    &lt;/PRIMARY_KEY_CONSTRAINT_LIST&gt;
  &lt;/RELATIONAL_TABLE&gt;
&lt;/TABLE&gt;
 
1 row selected.
 </pre><p>The SXML difference document shows the union of the two SXML documents, with the XML attributes <code class="codeph">value1</code> and <code class="codeph">src</code> identifying the differences. When an element exists in only one document it is marked with <code class="codeph">src</code>. Thus, <code class="codeph">&lt;COL_LIST_ITEM src="1"&gt;</code> means that this element is in the first document (<code class="codeph">TAB1</code>) but not in the second. When an element is present in both documents but with different values, the element's value is the value in the second document and the <code class="codeph">value1</code> gives its value in the first. For example, <code class="codeph">&lt;LENGTH value1="10"&gt;20&lt;/LENGTH&gt;</code> means that the length is 10 in <code class="codeph">TAB1</code> (the first document) and 20 in <code class="codeph">TAB2</code>.
                           </p>
                        </li>
                        <li>
                           <p>Compare the result using the <code class="codeph">DBMS_METADATA_DIFF</code> browsing APIs:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT dbms_metadata_diff.compare_sxml('TABLE','TAB1','TAB2') FROM dual;
</pre></li>
                        <li>
                           <p>Create a function using the <code class="codeph">DBMS_METADATA.CONVERT</code> API to generate an ALTERXML document. This is an XML document containing <code class="codeph">ALTER</code> statements to make one object like another. You can also use parse items to get information about the individual <code class="codeph">ALTER</code> statements. (This example uses the functions defined thus far.)
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE OR REPLACE FUNCTION get_table_alterxml(name1 IN VARCHAR2,
  2                                           name2 IN VARCHAR2) RETURN CLOB IS
  3   diffdoc CLOB;
  4   openw_handle NUMBER;
  5   transform_handle NUMBER;
  6   alterxml CLOB;
  7  BEGIN
  8   --
  9   -- Use the function just defined to get the difference document
 10   --
 11   diffdoc := compare_table_sxml(name1,name2);
 12   --
 13   -- Specify the object type in the OPENW call
 14   --
 15   openw_handle := DBMS_METADATA.OPENW('TABLE');
 16   --
 17   -- Use the ALTERXML transform to generate the ALTER_XML document
 18   --
 19   transform_handle := DBMS_METADATA.ADD_TRANSFORM(openw_handle,'ALTERXML');
 20   --
 21   -- Request parse items
 22   --
 23   DBMS_METADATA.SET_PARSE_ITEM(openw_handle,'CLAUSE_TYPE');
 24   DBMS_METADATA.SET_PARSE_ITEM(openw_handle,'NAME');
 25   DBMS_METADATA.SET_PARSE_ITEM(openw_handle,'COLUMN_ATTRIBUTE');
 26   --
 27   -- Create a temporary LOB
 28   --
 29   DBMS_LOB.CREATETEMPORARY(alterxml, TRUE );
 30   --
 31   -- Call CONVERT to do the transform
 32   --
 33   DBMS_METADATA.CONVERT(openw_handle,diffdoc,alterxml);
 34   --
 35   -- Close context and return the result
 36   --
 37   DBMS_METADATA.CLOSE(openw_handle);
 38   RETURN alterxml;
 39  END;
 40  /
 
Function created.
</pre></li>
                        <li>
                           <p>Use the function to fetch the ALTER_XML document:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT get_table_alterxml('TAB1','TAB2') FROM dual;
 
&lt;ALTER_XML xmlns="http://xmlns.oracle.com/ku" version="1.0"&gt;
   &lt;OBJECT_TYPE&gt;TABLE&lt;/OBJECT_TYPE&gt;
   &lt;OBJECT1&gt;
      &lt;SCHEMA&gt;SCOTT&lt;/SCHEMA&gt;
      &lt;NAME&gt;TAB1&lt;/NAME&gt;
   &lt;/OBJECT1&gt;
   &lt;OBJECT2&gt;
      &lt;SCHEMA&gt;SCOTT&lt;/SCHEMA&gt;
      &lt;NAME&gt;TAB2&lt;/NAME&gt;
   &lt;/OBJECT2&gt;
   &lt;ALTER_LIST&gt;
      &lt;ALTER_LIST_ITEM&gt;
         &lt;PARSE_LIST&gt;
            &lt;PARSE_LIST_ITEM&gt;
               &lt;ITEM&gt;NAME&lt;/ITEM&gt;
               &lt;VALUE&gt;MGR&lt;/VALUE&gt;
            &lt;/PARSE_LIST_ITEM&gt;
            &lt;PARSE_LIST_ITEM&gt;
               &lt;ITEM&gt;CLAUSE_TYPE&lt;/ITEM&gt;
               &lt;VALUE&gt;ADD_COLUMN&lt;/VALUE&gt;
            &lt;/PARSE_LIST_ITEM&gt;
         &lt;/PARSE_LIST&gt;
         &lt;SQL_LIST&gt;
            &lt;SQL_LIST_ITEM&gt;
               &lt;TEXT&gt;ALTER TABLE "SCOTT"."TAB1" ADD ("MGR" NUMBER(4,0))&lt;/TEXT&gt;
            &lt;/SQL_LIST_ITEM&gt;
         &lt;/SQL_LIST&gt;
      &lt;/ALTER_LIST_ITEM&gt;
      &lt;ALTER_LIST_ITEM&gt;
         &lt;PARSE_LIST&gt;
            &lt;PARSE_LIST_ITEM&gt;
               &lt;ITEM&gt;NAME&lt;/ITEM&gt;
               &lt;VALUE&gt;JOB&lt;/VALUE&gt;
            &lt;/PARSE_LIST_ITEM&gt;
            &lt;PARSE_LIST_ITEM&gt;
               &lt;ITEM&gt;CLAUSE_TYPE&lt;/ITEM&gt;
               &lt;VALUE&gt;DROP_COLUMN&lt;/VALUE&gt;
            &lt;/PARSE_LIST_ITEM&gt;
         &lt;/PARSE_LIST&gt;
         &lt;SQL_LIST&gt;
            &lt;SQL_LIST_ITEM&gt;
               &lt;TEXT&gt;ALTER TABLE "SCOTT"."TAB1" DROP ("JOB")&lt;/TEXT&gt;
            &lt;/SQL_LIST_ITEM&gt;
         &lt;/SQL_LIST&gt;
      &lt;/ALTER_LIST_ITEM&gt;
      &lt;ALTER_LIST_ITEM&gt;
         &lt;PARSE_LIST&gt;
            &lt;PARSE_LIST_ITEM&gt;
               &lt;ITEM&gt;NAME&lt;/ITEM&gt;
               &lt;VALUE&gt;ENAME&lt;/VALUE&gt;
            &lt;/PARSE_LIST_ITEM&gt;
            &lt;PARSE_LIST_ITEM&gt;
               &lt;ITEM&gt;CLAUSE_TYPE&lt;/ITEM&gt;
               &lt;VALUE&gt;MODIFY_COLUMN&lt;/VALUE&gt;
            &lt;/PARSE_LIST_ITEM&gt;
            &lt;PARSE_LIST_ITEM&gt;
               &lt;ITEM&gt;COLUMN_ATTRIBUTE&lt;/ITEM&gt;
               &lt;VALUE&gt; SIZE_INCREASE&lt;/VALUE&gt;
            &lt;/PARSE_LIST_ITEM&gt;
         &lt;/PARSE_LIST&gt;
         &lt;SQL_LIST&gt;
            &lt;SQL_LIST_ITEM&gt;
               &lt;TEXT&gt;ALTER TABLE "SCOTT"."TAB1" MODIFY 
                    ("ENAME" VARCHAR2(20))
               &lt;/TEXT&gt;
            &lt;/SQL_LIST_ITEM&gt;
         &lt;/SQL_LIST&gt;
      &lt;/ALTER_LIST_ITEM&gt;
      &lt;ALTER_LIST_ITEM&gt;
         &lt;PARSE_LIST&gt;
            &lt;PARSE_LIST_ITEM&gt;
               &lt;ITEM&gt;CLAUSE_TYPE&lt;/ITEM&gt;
               &lt;VALUE&gt;ADD_CONSTRAINT&lt;/VALUE&gt;
            &lt;/PARSE_LIST_ITEM&gt;
         &lt;/PARSE_LIST&gt;
         &lt;SQL_LIST&gt;
            &lt;SQL_LIST_ITEM&gt;
               &lt;TEXT&gt;ALTER TABLE "SCOTT"."TAB1" ADD  PRIMARY KEY
                     ("EMPNO") ENABLE
               &lt;/TEXT&gt;
            &lt;/SQL_LIST_ITEM&gt;
         &lt;/SQL_LIST&gt;
      &lt;/ALTER_LIST_ITEM&gt;
      &lt;ALTER_LIST_ITEM&gt;
         &lt;PARSE_LIST&gt;
            &lt;PARSE_LIST_ITEM&gt;
               &lt;ITEM&gt;NAME&lt;/ITEM&gt;
               &lt;VALUE&gt;TAB1&lt;/VALUE&gt;
            &lt;/PARSE_LIST_ITEM&gt;
            &lt;PARSE_LIST_ITEM&gt;
               &lt;ITEM&gt;CLAUSE_TYPE&lt;/ITEM&gt;
               &lt;VALUE&gt;RENAME_TABLE&lt;/VALUE&gt;
            &lt;/PARSE_LIST_ITEM&gt;
         &lt;/PARSE_LIST&gt;
         &lt;SQL_LIST&gt;
            &lt;SQL_LIST_ITEM&gt;
               &lt;TEXT&gt;ALTER TABLE "SCOTT"."TAB1" RENAME TO "TAB2"&lt;/TEXT&gt;
            &lt;/SQL_LIST_ITEM&gt;
         &lt;/SQL_LIST&gt;
      &lt;/ALTER_LIST_ITEM&gt;
   &lt;/ALTER_LIST&gt;
&lt;/ALTER_XML&gt;
 
 
1 row selected.
 </pre></li>
                        <li>
                           <p>Compare the result using the <code class="codeph">DBMS_METADATA_DIFF</code> browsing API:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT dbms_metadata_diff.compare_alter_xml('TABLE','TAB1','TAB2') FROM dual;
</pre></li>
                        <li>
                           <p>The ALTER_XML document contains an ALTER_LIST of each of the alters. Each ALTER_LIST_ITEM has a PARSE_LIST containing the parse items as name-value pairs and a SQL_LIST containing the SQL for the particular alter. You can parse this document and decide which of the SQL statements to execute, using the information in the PARSE_LIST. (Note, for example, that in this case one of the alters is a DROP_COLUMN, and you might choose not to execute that.)</p>
                        </li>
                        <li>
                           <p> Create one last function that uses the <code class="codeph">DBMS_METADATA.CONVERT</code> API and the <code class="codeph">ALTER DDL</code> transform to convert the ALTER_XML document into SQL DDL:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE OR REPLACE FUNCTION get_table_alterddl(name1 IN VARCHAR2,
  2                                           name2 IN VARCHAR2) RETURN CLOB IS
  3   alterxml CLOB;
  4   openw_handle NUMBER;
  5   transform_handle NUMBER;
  6   alterddl CLOB;
  7  BEGIN
  8   --
  9   -- Use the function just defined to get the ALTER_XML document
 10   --
 11   alterxml := get_table_alterxml(name1,name2);
 12   --
 13   -- Specify the object type in the OPENW call
 14   --
 15   openw_handle := DBMS_METADATA.OPENW('TABLE');
 16   --
 17   -- Use ALTERDDL transform to convert the ALTER_XML document to SQL DDL
 18   -- 
 19   transform_handle := DBMS_METADATA.ADD_TRANSFORM(openw_handle,'ALTERDDL');
 20   --
 21   -- Use the SQLTERMINATOR transform parameter to append a terminator
 22   -- to each SQL statement
 23   --
 24   DBMS_METADATA.SET_TRANSFORM_PARAM(transform_handle,'SQLTERMINATOR',true);
 25   --
 26   -- Create a temporary lob
 27   --
 28   DBMS_LOB.CREATETEMPORARY(alterddl, TRUE );
 29   --
 30   -- Call CONVERT to do the transform
 31   --
 32   DBMS_METADATA.CONVERT(openw_handle,alterxml,alterddl);
 33   --
 34   -- Close context and return the result
 35   --
 36   DBMS_METADATA.CLOSE(openw_handle);
 37   RETURN alterddl;
 38  END;
 39  /
 
Function created.
 </pre></li>
                        <li>
                           <p>Use the function to fetch the SQL ALTER statements:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT get_table_alterddl('TAB1','TAB2') FROM dual;
ALTER TABLE "SCOTT"."TAB1" ADD ("MGR" NUMBER(4,0))
/
  ALTER TABLE "SCOTT"."TAB1" DROP ("JOB")
/
  ALTER TABLE "SCOTT"."TAB1" MODIFY ("ENAME" VARCHAR2(20))
/
  ALTER TABLE "SCOTT"."TAB1" ADD  PRIMARY KEY ("EMPNO") ENABLE
/
  ALTER TABLE "SCOTT"."TAB1" RENAME TO "TAB2"
/
  
1 row selected.
 </pre></li>
                        <li>
                           <p>Compare the results using the <code class="codeph">DBMS_METADATA_DIFF</code> browsing API:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT dbms_metadata_diff.compare_alter('TABLE','TAB1','TAB2') FROM dual;
ALTER TABLE "SCOTT"."TAB1" ADD ("MGR" NUMBER(4,0))
  ALTER TABLE "SCOTT"."TAB1" DROP ("JOB")
  ALTER TABLE "SCOTT"."TAB1" MODIFY ("ENAME" VARCHAR2(20))
  ALTER TABLE "SCOTT"."TAB1" ADD  PRIMARY KEY ("EMPNO") USING INDEX 
  PCTFREE 10 INITRANS 2 STORAGE ( INITIAL 16384 NEXT 16384 MINEXTENTS 1
  MAXEXTENTS 505 PCTINCREASE 50 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL
  DEFAULT)  ENABLE ALTER TABLE "SCOTT"."TAB1" RENAME TO "TAB2"
 
1 row selected.</pre></li>
                     </ol>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-dbms_metadata-api.html#GUID-D9B1300F-B21D-416E-8B9B-C542195EF249" title="Using the DBMS_METADATA APIs.">Using the Metadata APIs</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL1632"></a><div class="props_rev_3"><a id="GUID-DF431094-5F1D-478D-87E6-04CC774B761F" name="GUID-DF431094-5F1D-478D-87E6-04CC774B761F"></a><h3 id="SUTIL-GUID-DF431094-5F1D-478D-87E6-04CC774B761F" class="sect3"><span class="enumeration_section">23.7 </span>Performance Tips for the Programmatic Interface of the DBMS_METADATA API
               </h3>
               <div>
                  <p> Describes how to enhance performance when using the programmatic interface of the <code class="codeph">DBMS_METADATA</code> API.
                  </p>
                  <p>Specifically:</p>
                  <ol>
                     <li>
                        <p>Fetch all of one type of object before fetching the next. For example, if you are retrieving the definitions of all objects in your schema, first fetch all tables, then all indexes, then all triggers, and so on. This will be much faster than nesting <code class="codeph">OPEN</code> contexts; that is, fetch one table then all of its indexes, grants, and triggers, then the next table and all of its indexes, grants, and triggers, and so on. <a href="using-oracle-dbms_metadata-api.html#GUID-89237236-4729-4E33-842D-D124A3C15B10" title="Example of how the DBMS_METADATA API could be used.">Example Usage of the DBMS_METADATA API</a> reflects this second, less efficient means, but its purpose is to demonstrate most of the programmatic calls, which are best shown by this method.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">SET_COUNT</code> procedure to retrieve more than one object at a time. This minimizes server round trips and eliminates many redundant function calls.
                        </p>
                     </li>
                     <li>
                        <p>When writing a PL/SQL package that calls the <code class="codeph">DBMS_METADATA</code> API, declare LOB variables and objects that contain LOBs (such as <code class="codeph">SYS</code>.<code class="codeph">KU</code>$<code class="codeph">_DDLS</code>) at package scope rather than within individual functions. This eliminates the creation and deletion of LOB duration structures upon function entrance and exit, which are very expensive operations. 
                        </p>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-dbms_metadata-api.html#GUID-D9B1300F-B21D-416E-8B9B-C542195EF249" title="Using the DBMS_METADATA APIs.">Using the Metadata APIs</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL1633"></a><div class="props_rev_3"><a id="GUID-89237236-4729-4E33-842D-D124A3C15B10" name="GUID-89237236-4729-4E33-842D-D124A3C15B10"></a><h3 id="SUTIL-GUID-89237236-4729-4E33-842D-D124A3C15B10" class="sect3"><span class="enumeration_section">23.8 </span>Example Usage of the DBMS_METADATA API
               </h3>
               <div>
                  <p>Example of how the <code class="codeph">DBMS_METADATA</code> API could be used. 
                  </p>
                  <p>A script is provided that automatically runs the demo for you by performing the following actions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Establishes a schema (<code class="codeph">MDDEMO</code>) and some payroll users.
                        </p>
                     </li>
                     <li>
                        <p>Creates three payroll-like tables within the schema and any associated indexes, triggers, and grants.</p>
                     </li>
                     <li>
                        <p>Creates a package, <code class="codeph">PAYROLL_DEMO</code>, that uses the <code class="codeph">DBMS_METADATA</code> API. The <code class="codeph">PAYROLL_DEMO</code> package contains a procedure, <code class="codeph">GET_PAYROLL_TABLES,</code> that retrieves the DDL for the two tables in the <code class="codeph">MDDEMO</code> schema that start with <code class="codeph">PAYROLL</code>. For each table, it retrieves the DDL for the table's associated dependent objects; indexes, grants, and triggers. All the DDL is written to a table named <code class="codeph">MDDEMO</code>.<code class="codeph">DDL</code>.
                        </p>
                     </li>
                  </ul>
                  <p>To execute the example, do the following:</p>
                  <ol>
                     <li>
                        <p>Start SQL*Plus as user <code class="codeph">system</code>. You will be prompted for a password.
                        </p><pre class="oac_no_warn" dir="ltr">sqlplus system
</pre></li>
                     <li>
                        <p>Install the demo, which is located in the file <code class="codeph">mddemo.sql</code> in <code class="codeph">rdbms</code>/<code class="codeph">demo</code>:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @mddemo
</pre><p>For an explanation of what happens during this step, see <a href="using-oracle-dbms_metadata-api.html#GUID-7EE1E557-F95C-4C01-946E-5A9B4B6E41E7" title="Explanation of the DBMS_METADATA example.">What Does the DBMS_METADATA Example Do?</a>.
                        </p>
                     </li>
                     <li>
                        <p>Connect as user <code class="codeph">mddemo</code>. You will be prompted for a password, which is also <code class="codeph">mddemo</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CONNECT mddemo
Enter password:
</pre></li>
                     <li>
                        <p>Set the following parameters so that query output will be complete and readable:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SET PAGESIZE 0
SQL&gt; SET LONG 1000000
</pre></li>
                     <li>
                        <p>Execute the <code class="codeph">GET_PAYROLL_TABLES</code> procedure, as follows:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CALL payroll_demo.get_payroll_tables();
</pre></li>
                     <li>
                        <p>Execute the following SQL query: </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT ddl FROM DDL ORDER BY SEQNO;
</pre><p>The output generated is the result of the execution of the <code class="codeph">GET_PAYROLL_TABLES</code> procedure. It shows all the DDL that was performed in Step 2 when the demo was installed. See <a href="using-oracle-dbms_metadata-api.html#GUID-D807A5A4-4809-4424-AA53-68081627A308" title="Explanation of the output generated from the GET_PAYROLL_TABLES procedure.">Output Generated from the GET_PAYROLL_TABLES Procedure </a> for a listing of the actual output.
                        </p>
                     </li>
                  </ol>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-oracle-dbms_metadata-api.html#GUID-7EE1E557-F95C-4C01-946E-5A9B4B6E41E7">What Does the DBMS_METADATA Example Do?</a><br>Explanation of the <code class="codeph">DBMS_METADATA</code> example.
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-dbms_metadata-api.html#GUID-D807A5A4-4809-4424-AA53-68081627A308">Output Generated from the GET_PAYROLL_TABLES Procedure</a><br>Explanation of the output generated from the <code class="codeph">GET_PAYROLL_TABLES</code> procedure.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-dbms_metadata-api.html#GUID-D9B1300F-B21D-416E-8B9B-C542195EF249" title="Using the DBMS_METADATA APIs.">Using the Metadata APIs</a></p>
                     </div>
                  </div>
               </div>
               <a id="SUTIL1634"></a><div class="props_rev_3"><a id="GUID-7EE1E557-F95C-4C01-946E-5A9B4B6E41E7" name="GUID-7EE1E557-F95C-4C01-946E-5A9B4B6E41E7"></a><h4 id="SUTIL-GUID-7EE1E557-F95C-4C01-946E-5A9B4B6E41E7" class="sect4"><span class="enumeration_section">23.8.1 </span>What Does the DBMS_METADATA Example Do?
                  </h4>
                  <div>
                     <p>Explanation of the <code class="codeph">DBMS_METADATA</code> example.
                     </p>
                     <p>When the <code class="codeph">mddemo</code> script is run, the following steps take place. You can adapt these steps to your own situation.
                     </p>
                     <ol>
                        <li>
                           <p>Drops users as follows, if they exist. This will ensure that you are starting out with fresh data. If the users do not exist, then a message to that effect is displayed, no harm is done, and the demo continues to execute.</p><pre class="oac_no_warn" dir="ltr">CONNECT system
Enter password: <span class="italic">password</span>
SQL&gt; DROP USER mddemo CASCADE;
SQL&gt; DROP USER mddemo_clerk CASCADE;
SQL&gt; DROP USER mddemo_mgr CASCADE;
</pre></li>
                        <li>
                           <p>Creates user <code class="codeph">mddemo</code>, identified by <code class="codeph">mddemo</code>:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE USER mddemo IDENTIFIED BY mddemo;
SQL&gt; GRANT resource, connect, create session,
  1     create table,
  2     create procedure, 
  3     create sequence,
  4     create trigger,
  5     create view,
  6     create synonym,
  7     alter session,
  8  TO mddemo;
</pre></li>
                        <li>
                           <p>Creates user <code class="codeph">mddemo_clerk</code>, identified by <code class="codeph">clerk</code>:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE USER mddemo_clerk IDENTIFIED BY clerk;
</pre></li>
                        <li>
                           <p>Creates user <code class="codeph">mddemo_mgr</code>, identified by <code class="codeph">mgr</code>:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE USER mddemo_mgr IDENTIFIED BY mgr;
</pre></li>
                        <li>
                           <p>Connect to SQL*Plus as <code class="codeph">mddemo</code> (the password is also <code class="codeph">mddemo</code>):
                           </p><pre class="oac_no_warn" dir="ltr">CONNECT mddemo
Enter password:
</pre></li>
                        <li>
                           <p>Creates some payroll-type tables:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE payroll_emps
  2  ( lastname VARCHAR2(60) NOT NULL,
  3  firstname VARCHAR2(20) NOT NULL,
  4  mi VARCHAR2(2),
  5  suffix VARCHAR2(10),
  6  dob DATE NOT NULL,
  7  badge_no NUMBER(6) PRIMARY KEY,
  8  exempt VARCHAR(1) NOT NULL,
  9  salary NUMBER (9,2),
  10 hourly_rate NUMBER (7,2) )
  11 /

SQL&gt; CREATE TABLE payroll_timecards 
  2  (badge_no NUMBER(6) REFERENCES payroll_emps (badge_no),
  3  week NUMBER(2),
  4  job_id NUMBER(5),
  5  hours_worked NUMBER(4,2) )
  6 /
</pre></li>
                        <li>
                           <p>Creates a dummy table, <code class="codeph">audit_trail</code>. This table is used to show that tables that do not start with <code class="codeph">payroll</code> are not retrieved by the <code class="codeph">GET_PAYROLL_TABLES</code> procedure.
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE audit_trail 
  2  (action_time DATE,
  3  lastname VARCHAR2(60),
  4  action LONG )
  5  /
</pre></li>
                        <li>
                           <p>Creates some grants on the tables just created:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT UPDATE (salary,hourly_rate) ON payroll_emps TO mddemo_clerk;
SQL&gt; GRANT ALL ON payroll_emps TO mddemo_mgr WITH GRANT OPTION;

SQL&gt; GRANT INSERT,UPDATE ON payroll_timecards TO mddemo_clerk;
SQL&gt; GRANT ALL ON payroll_timecards TO mddemo_mgr WITH GRANT OPTION;
</pre></li>
                        <li>
                           <p>Creates some indexes on the tables just created:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE INDEX i_payroll_emps_name ON payroll_emps(lastname);
SQL&gt; CREATE INDEX i_payroll_emps_dob ON payroll_emps(dob);
SQL&gt; CREATE INDEX i_payroll_timecards_badge ON payroll_timecards(badge_no);
</pre></li>
                        <li>
                           <p>Creates some triggers on the tables just created:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE OR REPLACE PROCEDURE check_sal( salary in number) AS BEGIN
  2  RETURN;
  3  END;
  4  /
</pre><p>Note that the security is kept fairly loose to keep the example simple.</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE OR REPLACE TRIGGER salary_trigger BEFORE INSERT OR UPDATE OF salary
ON payroll_emps
FOR EACH ROW WHEN (new.salary &gt; 150000)
CALL check_sal(:new.salary)
/

SQL&gt; CREATE OR REPLACE TRIGGER hourly_trigger BEFORE UPDATE OF hourly_rate ON payroll_emps
FOR EACH ROW
BEGIN :new.hourly_rate:=:old.hourly_rate;END;
/
</pre></li>
                        <li>
                           <p>Sets up a table to hold the generated DDL:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE ddl (ddl CLOB, seqno NUMBER);
</pre></li>
                        <li>
                           <p>Creates the <code class="codeph">PAYROLL_DEMO</code> package, which provides examples of how <code class="codeph">DBMS_METADATA</code> procedures can be used.
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE OR REPLACE PACKAGE payroll_demo AS PROCEDURE get_payroll_tables;
END;
/</pre><div class="infoboxnote" id="GUID-7EE1E557-F95C-4C01-946E-5A9B4B6E41E7__GUID-4EC4DCBB-C9E2-42F5-9276-040689EBF59D">
                              <p class="notep1">Note:</p>
                              <p>To see the entire script for this example, including the contents of the <code class="codeph">PAYROLL_DEMO</code> package, see the file <code class="codeph">mddemo.sql</code> located in your $<code class="codeph">ORACLE_HOME/rdbms/demo</code> directory.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-dbms_metadata-api.html#GUID-89237236-4729-4E33-842D-D124A3C15B10" title="Example of how the DBMS_METADATA API could be used.">Example Usage of the DBMS_METADATA API</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL1635"></a><div class="props_rev_3"><a id="GUID-D807A5A4-4809-4424-AA53-68081627A308" name="GUID-D807A5A4-4809-4424-AA53-68081627A308"></a><h4 id="SUTIL-GUID-D807A5A4-4809-4424-AA53-68081627A308" class="sect4"><span class="enumeration_section">23.8.2 </span>Output Generated from the GET_PAYROLL_TABLES Procedure 
                  </h4>
                  <div>
                     <p>Explanation of the output generated from the <code class="codeph">GET_PAYROLL_TABLES</code> procedure.
                     </p>
                     <p>After you execute the <code class="codeph">mddemo.payroll_demo.get_payroll_tables </code>procedure, you can execute the following query:
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT ddl FROM ddl ORDER BY seqno;
</pre><p>The results are as follows, which reflect all the DDL executed by the script as described in the previous section.</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE "MDDEMO"."PAYROLL_EMPS"
   (    "LASTNAME" VARCHAR2(60) NOT NULL ENABLE,
        "FIRSTNAME" VARCHAR2(20) NOT NULL ENABLE,
        "MI" VARCHAR2(2),
        "SUFFIX" VARCHAR2(10),
        "DOB" DATE NOT NULL ENABLE,
        "BADGE_NO" NUMBER(6,0),
        "EXEMPT" VARCHAR2(1) NOT NULL ENABLE,
        "SALARY" NUMBER(9,2),
        "HOURLY_RATE" NUMBER(7,2),
 PRIMARY KEY ("BADGE_NO") ENABLE
   ) ;

  GRANT UPDATE ("SALARY") ON "MDDEMO"."PAYROLL_EMPS" TO "MDDEMO_CLERK";
  GRANT UPDATE ("HOURLY_RATE") ON "MDDEMO"."PAYROLL_EMPS" TO "MDDEMO_CLERK";
  GRANT ALTER ON "MDDEMO"."PAYROLL_EMPS" TO "MDDEMO_MGR" WITH GRANT OPTION;
  GRANT DELETE ON "MDDEMO"."PAYROLL_EMPS" TO "MDDEMO_MGR" WITH GRANT OPTION;
  GRANT INDEX ON "MDDEMO"."PAYROLL_EMPS" TO "MDDEMO_MGR" WITH GRANT OPTION;
  GRANT INSERT ON "MDDEMO"."PAYROLL_EMPS" TO "MDDEMO_MGR" WITH GRANT OPTION;
  GRANT SELECT ON "MDDEMO"."PAYROLL_EMPS" TO "MDDEMO_MGR" WITH GRANT OPTION;
  GRANT UPDATE ON "MDDEMO"."PAYROLL_EMPS" TO "MDDEMO_MGR" WITH GRANT OPTION;
  GRANT REFERENCES ON "MDDEMO"."PAYROLL_EMPS" TO "MDDEMO_MGR" WITH GRANT OPTION;
  GRANT ON COMMIT REFRESH ON "MDDEMO"."PAYROLL_EMPS" TO "MDDEMO_MGR" WITH GRANT OPTION;
  GRANT QUERY REWRITE ON "MDDEMO"."PAYROLL_EMPS" TO "MDDEMO_MGR" WITH GRANT OPTION;

  CREATE INDEX "MDDEMO"."I_PAYROLL_EMPS_DOB" ON "MDDEMO"."PAYROLL_EMPS" ("DOB")
  PCTFREE 10 INITRANS 2 MAXTRANS 255
  STORAGE(INITIAL 10240 NEXT 10240 MINEXTENTS 1 MAXEXTENTS 121 PCTINCREASE 50
  FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT) TABLESPACE "SYSTEM" ;


  CREATE INDEX "MDDEMO"."I_PAYROLL_EMPS_NAME" ON "MDDEMO"."PAYROLL_EMPS" ("LASTNAME")
  PCTFREE 10 INITRANS 2 MAXTRANS 255
  STORAGE(INITIAL 10240 NEXT 10240 MINEXTENTS 1 MAXEXTENTS 121 PCTINCREASE 50
  FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT) TABLESPACE "SYSTEM" ;

  CREATE OR REPLACE TRIGGER hourly_trigger before update of hourly_rate on payroll_emps
for each row
begin :new.hourly_rate:=:old.hourly_rate;end;
/
ALTER TRIGGER "MDDEMO"."HOURLY_TRIGGER" ENABLE;

  CREATE OR REPLACE TRIGGER salary_trigger before insert or update of salary on payroll_emps
for each row  
WHEN (new.salary &gt; 150000)  CALL check_sal(:new.salary)
/
ALTER TRIGGER "MDDEMO"."SALARY_TRIGGER" ENABLE;


CREATE TABLE "MDDEMO"."PAYROLL_TIMECARDS"
   (    "BADGE_NO" NUMBER(6,0),
        "WEEK" NUMBER(2,0),
        "JOB_ID" NUMBER(5,0),
        "HOURS_WORKED" NUMBER(4,2),
 FOREIGN KEY ("BADGE_NO")
  REFERENCES "MDDEMO"."PAYROLL_EMPS" ("BADGE_NO") ENABLE
   ) ;

  GRANT INSERT ON "MDDEMO"."PAYROLL_TIMECARDS" TO "MDDEMO_CLERK";
  GRANT UPDATE ON "MDDEMO"."PAYROLL_TIMECARDS" TO "MDDEMO_CLERK";
  GRANT ALTER ON "MDDEMO"."PAYROLL_TIMECARDS" TO "MDDEMO_MGR" WITH GRANT OPTION;
  GRANT DELETE ON "MDDEMO"."PAYROLL_TIMECARDS" TO "MDDEMO_MGR" WITH GRANT OPTION;
  GRANT INDEX ON "MDDEMO"."PAYROLL_TIMECARDS" TO "MDDEMO_MGR" WITH GRANT OPTION;
  GRANT INSERT ON "MDDEMO"."PAYROLL_TIMECARDS" TO "MDDEMO_MGR" WITH GRANT OPTION;
  GRANT SELECT ON "MDDEMO"."PAYROLL_TIMECARDS" TO "MDDEMO_MGR" WITH GRANT OPTION;
  GRANT UPDATE ON "MDDEMO"."PAYROLL_TIMECARDS" TO "MDDEMO_MGR" WITH GRANT OPTION;
  GRANT REFERENCES ON "MDDEMO"."PAYROLL_TIMECARDS" TO "MDDEMO_MGR" WITH GRANT OPTION;
  GRANT ON COMMIT REFRESH ON "MDDEMO"."PAYROLL_TIMECARDS" TO "MDDEMO_MGR" WITH GRANT OPTION;
  GRANT QUERY REWRITE ON "MDDEMO"."PAYROLL_TIMECARDS" TO "MDDEMO_MGR" WITH GRANT OPTION;

  CREATE INDEX "MDDEMO"."I_PAYROLL_TIMECARDS_BADGE" ON "MDDEMO"."PAYROLL_TIMECARDS" ("BADGE_NO")
  PCTFREE 10 INITRANS 2 MAXTRANS 255
  STORAGE(INITIAL 10240 NEXT 10240 MINEXTENTS 1 MAXEXTENTS 121 PCTINCREASE 50
  FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT) TABLESPACE "SYSTEM" ;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-dbms_metadata-api.html#GUID-89237236-4729-4E33-842D-D124A3C15B10" title="Example of how the DBMS_METADATA API could be used.">Example Usage of the DBMS_METADATA API</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SUTIL3629"></a><a id="SUTIL3630"></a><a id="SUTIL3631"></a><a id="SUTIL1636"></a><div class="props_rev_2"><a id="GUID-B19C59EB-A9BC-4D1E-BD8C-135583D403CD" name="GUID-B19C59EB-A9BC-4D1E-BD8C-135583D403CD"></a><h3 id="SUTIL-GUID-B19C59EB-A9BC-4D1E-BD8C-135583D403CD" class="sect3"><span class="enumeration_section">23.9 </span>Summary of DBMS_METADATA Procedures
               </h3>
               <div>
                  <p>Provides brief descriptions of the procedures provided by the <code class="codeph">DBMS_METADATA</code> API. 
                  </p>
                  <div class="section">
                     <p>For detailed descriptions of these procedures, see<a href="../arpls/DBMS_METADATA.html#ARPLS026" target="_blank"><span class="italic"> Oracle Database PL/SQL Packages and Types Reference.</span></a></p>
                     <p>The following table provides a brief description of the procedures provided by the <code class="codeph">DBMS_METADATA</code> programmatic interface for retrieving multiple objects.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-B19C59EB-A9BC-4D1E-BD8C-135583D403CD__G1029894">
                     <p class="titleintable">Table 23-1 DBMS_METADATA Procedures Used for Retrieving Multiple Objects</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="DBMS_METADATA Procedures Used for Retrieving Multiple Objects" summary="DBMS_METADATA procedures used for retrieving multiple objects" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="41%" id="d145430e2268">PL/SQL Procedure Name</th>
                              <th align="left" valign="bottom" width="59%" id="d145430e2271">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d145430e2276" headers="d145430e2268 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.OPEN()</pre></td>
                              <td align="left" valign="top" width="59%" headers="d145430e2276 d145430e2271 ">
                                 <p>Specifies the type of object to be retrieved, the version of its metadata, and the object model.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d145430e2283" headers="d145430e2268 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.SET_FILTER()</pre></td>
                              <td align="left" valign="top" width="59%" headers="d145430e2283 d145430e2271 ">
                                 <p>Specifies restrictions on the objects to be retrieved, for example, the object name or schema.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d145430e2290" headers="d145430e2268 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.SET_COUNT()</pre></td>
                              <td align="left" valign="top" width="59%" headers="d145430e2290 d145430e2271 ">
                                 <p>Specifies the maximum number of objects to be retrieved in a single <code class="codeph">FETCH_xxx</code> call.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d145430e2300" headers="d145430e2268 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.GET_QUERY()</pre></td>
                              <td align="left" valign="top" width="59%" headers="d145430e2300 d145430e2271 ">
                                 <p>Returns the text of the queries that are used by <code class="codeph">FETCH_xxx</code>. You can use this as a debugging aid.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d145430e2310" headers="d145430e2268 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.SET_PARSE_ITEM()</pre></td>
                              <td align="left" valign="top" width="59%" headers="d145430e2310 d145430e2271 ">
                                 <p>Enables output parsing by specifying an object attribute to be parsed and returned. You can query the <code class="codeph">DBMS_METADATA_PARSE_ITEMS</code> to see all valid parse items.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d145430e2320" headers="d145430e2268 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.ADD_TRANSFORM()</pre></td>
                              <td align="left" valign="top" width="59%" headers="d145430e2320 d145430e2271 ">
                                 <p>Specifies a transform that <code class="codeph">FETCH_xxx</code> applies to the XML representation of the retrieved objects. You can query the <code class="codeph">DBMS_METADATA_TRANSFORMS</code> view to see all valid Oracle-supplied transforms.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d145430e2333" headers="d145430e2268 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.SET_TRANSFORM_PARAM()</pre></td>
                              <td align="left" valign="top" width="59%" headers="d145430e2333 d145430e2271 ">
                                 <p>Specifies parameters to the XSLT stylesheet identified by <code class="codeph">transform_handle.</code> You can query the <code class="codeph">DBMS_METADATA_TRANSFORM_PARAMS</code> view to see all the valid transform parameters for each transform.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d145430e2346" headers="d145430e2268 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.SET_REMAP_PARAM()</pre></td>
                              <td align="left" valign="top" width="59%" headers="d145430e2346 d145430e2271 ">
                                 <p>Specifies parameters to the XSLT stylesheet identified by <code class="codeph">transform_handle</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d145430e2356" headers="d145430e2268 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.FETCH_xxx()</pre></td>
                              <td align="left" valign="top" width="59%" headers="d145430e2356 d145430e2271 ">
                                 <p>Returns metadata for objects meeting the criteria established by <code class="codeph">OPEN</code>, <code class="codeph">SET_FILTER</code>, <code class="codeph">SET_COUNT</code>, <code class="codeph">ADD_TRANSFORM</code>, and so on.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d145430e2375" headers="d145430e2268 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.CLOSE()</pre></td>
                              <td align="left" valign="top" width="59%" headers="d145430e2375 d145430e2271 ">
                                 <p>Invalidates the handle returned by <code class="codeph">OPEN</code> and cleans up the associated state. 
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>The following table lists the procedures provided by the <code class="codeph">DBMS_METADATA</code> browsing interface and provides a brief description of each one. These functions return metadata for one or more dependent or granted objects. These procedures do not support heterogeneous object types. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-B19C59EB-A9BC-4D1E-BD8C-135583D403CD__G1030147">
                     <p class="titleintable">Table 23-2 DBMS_METADATA Procedures Used for the Browsing Interface</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_METADATA Procedures Used for the Browsing Interface" summary="DBMS_METADATA procedures used for the browsing interface" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d145430e2400">PL/SQL Procedure Name</th>
                              <th align="left" valign="bottom" width="75%" id="d145430e2403">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d145430e2408" headers="d145430e2400 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.GET_xxx()</pre></td>
                              <td align="left" valign="top" width="75%" headers="d145430e2408 d145430e2403 ">
                                 <p>Provides a way to return metadata for a single object. Each <code class="codeph">GET_xxx</code> call consists of an <code class="codeph">OPEN</code> procedure, one or two <code class="codeph">SET_FILTER</code> calls, optionally an <code class="codeph">ADD_TRANSFORM</code> procedure, a <code class="codeph">FETCH_xxx</code> call, and a <code class="codeph">CLOSE</code> procedure. 
                                 </p>
                                 <p>The <span class="italic"><code class="codeph">object_type</code></span> parameter has the same semantics as in the <code class="codeph">OPEN procedure</code>. <span class="italic"><code class="codeph">schema</code></span> and <span class="italic"><code class="codeph">name</code></span> are used for filtering. 
                                 </p>
                                 <p>If a transform is specified, then session-level transform flags are inherited.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d145430e2453" headers="d145430e2400 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.GET_DEPENDENT_xxx()</pre></td>
                              <td align="left" valign="top" width="75%" headers="d145430e2453 d145430e2403 ">
                                 <p>Returns the metadata for one or more dependent objects, specified as XML or DDL.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d145430e2460" headers="d145430e2400 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.GET_GRANTED_xxx()</pre></td>
                              <td align="left" valign="top" width="75%" headers="d145430e2460 d145430e2403 ">
                                 <p>Returns the metadata for one or more granted objects, specified as XML or DDL.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>The following table provides a brief description of the <code class="codeph">DBMS_METADATA</code> procedures and functions used for XML submission.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-B19C59EB-A9BC-4D1E-BD8C-135583D403CD__G1030301">
                     <p class="titleintable">Table 23-3 DBMS_METADATA Procedures and Functions for Submitting XML Data</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_METADATA Procedures and Functions for Submitting XML Data" summary="DBMS_METADATA procedures used for submitting XML data" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="36%" id="d145430e2482">PL/SQL Name</th>
                              <th align="left" valign="bottom" width="64%" id="d145430e2485">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="36%" id="d145430e2490" headers="d145430e2482 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.OPENW()</pre></td>
                              <td align="left" valign="top" width="64%" headers="d145430e2490 d145430e2485 ">
                                 <p>Opens a write context.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="36%" id="d145430e2497" headers="d145430e2482 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.ADD_TRANSFORM()</pre></td>
                              <td align="left" valign="top" width="64%" headers="d145430e2497 d145430e2485 ">
                                 <p>Specifies a transform for the XML documents</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="36%" id="d145430e2504" headers="d145430e2482 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.SET_TRANSFORM_PARAM() and 
DBMS_METADATA.SET_REMAP_PARAM()</pre></td>
                              <td align="left" valign="top" width="64%" headers="d145430e2504 d145430e2485 ">
                                 <p><code class="codeph">SET_TRANSFORM_PARAM</code> specifies a parameter to a transform.
                                 </p>
                                 <p><code class="codeph">SET_REMAP_PARAM</code> specifies a remapping for a transform.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="36%" id="d145430e2517" headers="d145430e2482 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.SET_PARSE_ITEM()</pre></td>
                              <td align="left" valign="top" width="64%" headers="d145430e2517 d145430e2485 ">
                                 <p>Specifies an object attribute to be parsed.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="36%" id="d145430e2524" headers="d145430e2482 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.CONVERT()</pre></td>
                              <td align="left" valign="top" width="64%" headers="d145430e2524 d145430e2485 ">
                                 <p>Converts an XML document to DDL.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="36%" id="d145430e2531" headers="d145430e2482 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.PUT()</pre></td>
                              <td align="left" valign="top" width="64%" headers="d145430e2531 d145430e2485 ">
                                 <p>Submits an XML document to the database.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="36%" id="d145430e2538" headers="d145430e2482 "><pre class="oac_no_warn" dir="ltr">DBMS_METADATA.CLOSE()</pre></td>
                              <td align="left" valign="top" width="64%" headers="d145430e2538 d145430e2485 ">
                                 <p>Closes the context opened with <code class="codeph">OPENW</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-dbms_metadata-api.html#GUID-D9B1300F-B21D-416E-8B9B-C542195EF249" title="Using the DBMS_METADATA APIs.">Using the Metadata APIs</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL3633"></a><a id="SUTIL3632"></a><div class="props_rev_3"><a id="GUID-CB5F314F-7412-40F1-B71C-8F6DFB45A4D8" name="GUID-CB5F314F-7412-40F1-B71C-8F6DFB45A4D8"></a><h3 id="SUTIL-GUID-CB5F314F-7412-40F1-B71C-8F6DFB45A4D8" class="sect3"><span class="enumeration_section">23.10 </span>Summary of DBMS_METADATA_DIFF Procedures
               </h3>
               <div>
                  <p> Provides brief descriptions of the procedures and functions provided by the <code class="codeph">DBMS_METADATA_DIFF</code> API. 
                  </p>
                  <div class="section">
                     <p>For detailed descriptions of these procedures, see<a href="../arpls/DBMS_METADATA_DIFF.html#ARPLS354" target="_blank"><span class="italic"> Oracle Database PL/SQL Packages and Types Reference.</span></a></p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-CB5F314F-7412-40F1-B71C-8F6DFB45A4D8__GUID-54F379A6-DC4E-47D1-91FD-788A63A5273C">
                     <p class="titleintable">Table 23-4 DBMS_METADATA_DIFF Procedures and Functions</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="DBMS_METADATA_DIFF Procedures and Functions" summary="Summary of DBMS_METADATA_DIFF procedures" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="41%" id="d145430e2614">PL/SQL Procedure Name</th>
                              <th align="left" valign="bottom" width="59%" id="d145430e2617">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d145430e2622" headers="d145430e2614 ">
                                 <p><code class="codeph">OPENC</code> function
                                 </p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d145430e2622 d145430e2617 ">
                                 <p>Specifies the type of objects to be compared.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d145430e2631" headers="d145430e2614 ">
                                 <p><code class="codeph">ADD_DOCUMENT</code> procedure
                                 </p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d145430e2631 d145430e2617 ">
                                 <p>Specifies an SXML document to be compared.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d145430e2640" headers="d145430e2614 ">
                                 <p><code class="codeph">FETCH_CLOB</code> functions and procedures
                                 </p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d145430e2640 d145430e2617 ">
                                 <p>Returns a CLOB showing the differences between the two documents specified by <code class="codeph">ADD_DOCUMENT</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d145430e2652" headers="d145430e2614 ">
                                 <p><code class="codeph">CLOSE</code> procedure
                                 </p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d145430e2652 d145430e2617 ">
                                 <p>Invalidates the handle returned by <code class="codeph">OPENC</code> and cleans up associated state.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-dbms_metadata-api.html#GUID-D9B1300F-B21D-416E-8B9B-C542195EF249" title="Using the DBMS_METADATA APIs.">Using the Metadata APIs</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='04826.session-and-connection-pooling.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter describes OCI session pooling and connection pooling features.">
      <meta name="description" content="This chapter describes OCI session pooling and connection pooling features.">
      <title>Session Pooling and Connection Pooling in OCI</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="This chapter describes OCI session pooling and connection pooling features.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96204-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="managing-scalable-platforms.html" title="Previous" type="text/html">
      <link rel="next" href="high-availability-in-oci.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-scalable-platforms.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="high-availability-in-oci.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Session Pooling and Connection Pooling in OCI</li>
            </ol>
            <a id="GUID-FD512A09-1A33-424B-AD4D-728956AFDBD8" name="GUID-FD512A09-1A33-424B-AD4D-728956AFDBD8"></a><a id="LNOCI090"></a>
            
            <h2 id="LNOCI-GUID-FD512A09-1A33-424B-AD4D-728956AFDBD8" class="sect2"><span class="enumeration_chapter">11 </span>Session Pooling and Connection Pooling in OCI
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes OCI session pooling and connection pooling features.</p>
               <p>This chapter contains these topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="session-and-connection-pooling.html#GUID-F9662FFB-EAEF-495C-96FC-49C6D1D9625C" title="Session pooling means that the application creates and maintains a group of stateless sessions to the database.">Session Pooling in OCI</a></p>
                  </li>
                  <li>
                     <p><a href="session-and-connection-pooling.html#GUID-1E260CD3-2EF7-49FF-97FC-041C2EF60381" title="Database resident connection pooling (DRCP) provides a connection pool in the database server for typical web application usage scenarios where the application acquires a database connection, works on it for a relatively short duration, and then releases it.">Database Resident Connection Pooling</a></p>
                  </li>
                  <li>
                     <p><a href="session-and-connection-pooling.html#GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61" title="Oracle Connection Manager in Traffic Director Mode is a proxy that is placed between supported database clients and database instances.">About Using Oracle Connection Manager in Traffic Director Mode</a></p>
                  </li>
                  <li>
                     <p><a href="session-and-connection-pooling.html#GUID-1C9A6E8F-EF5A-478D-B65E-CE39D4F00683" title="Connection pooling is the use of a group (the pool) of reusable physical connections by several sessions to balance loads.">Connection Pooling in OCI</a></p>
                  </li>
                  <li>
                     <p><a href="session-and-connection-pooling.html#GUID-8DD97D4D-C7AA-4EF7-9B55-8DC58BDC2726" title="Indicates the circumstances in which to use them or not.">When to Use Connection Pooling, Session Pooling, or Neither</a></p>
                  </li>
               </ul>
            </div><a id="LNOCI16617"></a><div class="props_rev_3"><a id="GUID-F9662FFB-EAEF-495C-96FC-49C6D1D9625C" name="GUID-F9662FFB-EAEF-495C-96FC-49C6D1D9625C"></a><h3 id="LNOCI-GUID-F9662FFB-EAEF-495C-96FC-49C6D1D9625C" class="sect3"><span class="enumeration_section">11.1 </span>Session Pooling in OCI
               </h3>
               <div>
                  <p><span class="italic">Session pooling</span> means that the application creates and maintains a group of stateless sessions to the database.
                  </p>
                  <p>These sessions are provided to thin clients as requested. If no sessions are available, a new one may be created. When the client is done with the session, the client releases it to the pool. Thus, the number of sessions in the pool can increase dynamically.</p>
                  <p>Some of the sessions in the pool may be tagged with certain properties. For instance, a user may request a default session, set certain attributes on it, label it or tag it, and return it to the pool. That user, or some other user, can require a session with the same attributes, and thus request a session with the same tag. There may be several sessions in the pool with the same tag. The tag on a session can be changed or reset.</p>
                  <p>Proxy sessions, too, can be created and maintained through session pooling in OCI. </p>
                  <p>The behavior of the application when no free sessions are available and the pool has reached its maximum size depends on certain attributes. A new session may be created or an error returned, or the thread may just block and wait for a session to become free.</p>
                  <p>The main benefit of session pooling is performance. Making a connection to the database is a time-consuming activity, especially when the database is remote. Thus, instead of a client spending time connecting to the server, authenticating its credentials, and then receiving a valid session, it can just pick one from the pool.</p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-7D5BBEC4-38CF-4C63-B616-12231EF0DCAE" title="Describes tasks that session pooling can perform.">Functionality of OCI Session Pooling</a></p>
                        </li>
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-DD2C2456-5F22-4BA0-AFE6-30CCF29A3688" title="A session pool can be either homogeneous or heterogeneous.">Homogeneous and Heterogeneous Session Pools</a></p>
                        </li>
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-F7609D96-EB0F-487D-B825-E0138B16E2E9" title="Tags provide a way for users to customize sessions in the pool.">About Using Tags in Session Pools</a></p>
                        </li>
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-35D322F2-E576-416B-A399-3A733F5487A1" title="What are the handle types for session pooling.">OCI Handles for Session Pooling</a></p>
                        </li>
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-9DD6C967-B3F8-4D26-B7F8-7730AABA7E8E" title="Shows the steps to write a simple session pooling application that uses a user name and password.">Using OCI Session Pooling</a></p>
                        </li>
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-CE43701B-ACB2-4F3A-B7CA-332CBD01DCCE" title="Describes the usages for OCI calls for session pooling.">OCI Calls for Session Pooling</a></p>
                        </li>
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-72D13726-61B8-4CAB-9120-4E33714688AE" title="Where to find an example of session pooling in a tested complete program.">Example of OCI Session Pooling</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-F9662FFB-EAEF-495C-96FC-49C6D1D9625C__GUID-18175688-A109-44F2-BE5D-B323818A1A7F">
                     <p class="notep1">See Also:</p>
                     <p> <a href="session-and-connection-pooling.html#GUID-F7609D96-EB0F-487D-B825-E0138B16E2E9" title="Tags provide a way for users to customize sessions in the pool.">About Using Tags in Session Pools</a></p>
                  </div>
               </div><a id="LNOCI16618"></a><div class="props_rev_3"><a id="GUID-7D5BBEC4-38CF-4C63-B616-12231EF0DCAE" name="GUID-7D5BBEC4-38CF-4C63-B616-12231EF0DCAE"></a><h4 id="LNOCI-GUID-7D5BBEC4-38CF-4C63-B616-12231EF0DCAE" class="sect4"><span class="enumeration_section">11.1.1 </span>Functionality of OCI Session Pooling 
                  </h4>
                  <div>
                     <p>Describes tasks that session pooling can perform.</p>
                     <p>Session pooling can perform the following tasks:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Create, maintain, and manage a pool of stateless sessions transparently.</p>
                        </li>
                        <li>
                           <p>Provide an interface for the application to create a pool and specify the minimum, increment, and maximum number of sessions in the pool. </p>
                        </li>
                        <li>
                           <p>Provide an interface for the user to obtain and release a default or tagged session to the pool. A tagged session is one with certain client-defined properties.</p>
                        </li>
                        <li>
                           <p>Allow the application to dynamically change the number of minimum and maximum number of sessions.</p>
                        </li>
                        <li>
                           <p>Provide a mechanism to always maintain an optimum number of open sessions, by closing sessions that have been idle for a very long time, and creating sessions when required.</p>
                        </li>
                        <li>
                           <p>Allow for session pooling with authentication.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16619"></a><div class="props_rev_3"><a id="GUID-DD2C2456-5F22-4BA0-AFE6-30CCF29A3688" name="GUID-DD2C2456-5F22-4BA0-AFE6-30CCF29A3688"></a><h4 id="LNOCI-GUID-DD2C2456-5F22-4BA0-AFE6-30CCF29A3688" class="sect4"><span class="enumeration_section">11.1.2 </span>Homogeneous and Heterogeneous Session Pools
                  </h4>
                  <div>
                     <p>A session pool can be either homogeneous or heterogeneous. </p>
                     <p><span class="italic">Homogeneous</span> session pooling means that sessions in the pool are alike for authentication (they have the same user name, password, and privileges). <span class="italic">Heterogeneous</span> session pooling means that you must provide authentication information because the sessions can have different security attributes and privileges.
                     </p>
                  </div>
               </div><a id="LNOCI16620"></a><div class="props_rev_3"><a id="GUID-F7609D96-EB0F-487D-B825-E0138B16E2E9" name="GUID-F7609D96-EB0F-487D-B825-E0138B16E2E9"></a><h4 id="LNOCI-GUID-F7609D96-EB0F-487D-B825-E0138B16E2E9" class="sect4"><span class="enumeration_section">11.1.3 </span>About Using Tags in Session Pools
                  </h4>
                  <div>
                     <p>Tags provide a way for users to customize sessions in the pool.</p>
                     <p>A client can get a default or untagged session from a pool, set certain attributes on the session (such as NLS settings), and return the session to the pool, labeling it with an appropriate tag in the <code class="codeph">OCISessionRelease(</code>) call.
                     </p>
                     <p>The original user, or some other user, can request a session with the same tags to have a session with the same attributes, and can do so by providing the same tag in the <code class="codeph">OCISessionGet()</code> call. 
                     </p>
                     <p>This section includes the following topic: <a href="session-and-connection-pooling.html#GUID-DFA21225-E83C-4177-A79A-B8BA29DC662C" title="Beginning with 12c Release 2 (12.2), a tag can have multiple properties. This is referred to as a multi-property tag.">Multi-Property Tags</a>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-F7609D96-EB0F-487D-B825-E0138B16E2E9__GUID-673EB9A5-3100-4CC7-9FEB-5CFB14516BBB">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-DAAECC99-A432-48B5-AC33-0868C2FE762D" title="Releases a session that was retrieved using OCISessionGet().">OCISessionRelease()</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-890DFBC4-718B-4339-A0EA-6226A25B8241" title="Gets a session.">OCISessionGet()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-DFA21225-E83C-4177-A79A-B8BA29DC662C" name="GUID-DFA21225-E83C-4177-A79A-B8BA29DC662C"></a><h5 id="LNOCI-GUID-DFA21225-E83C-4177-A79A-B8BA29DC662C" class="sect5"><span class="enumeration_section">11.1.3.1 </span>Multi-Property Tags
                     </h5>
                     <div>
                        <p>Beginning with 12<span class="italic">c</span> Release 2 (12.2), a tag can have multiple properties. This is referred to as a multi-property tag. 
                        </p>
                        <p>A multi-property tag is comprised of one or more &lt;property-name&gt;=&lt;property-value&gt; pairs separated by a semi-colon, where &lt;property-name&gt;=&lt;property-value&gt; are both strings. </p>
                        <p>During an <code class="codeph">OCISessionGet()</code> call, in the <code class="codeph">taginfo</code> parameter, the property name appearing first is given the highest property for finding a match and the property name appearing last is given the lowest priority. Therefore the ordering of the properties in the string is significant in determining a matching session in the pool.  The example that follows below the list of restrictions illustrates this point.
                        </p>
                        <p>This functionality also works with DRCP.</p>
                        <div class="p">The following restrictions apply to property names and property values that can be passed in a multi-property tag:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Both the property name and the property value are case sensitive.</p>
                              </li>
                              <li>
                                 <p>A property name can occur only once in a tag.  In case the same property name is specified more than once, an error will be thrown. </p>
                              </li>
                              <li>
                                 <p>A non empty string should be specified for both the property name and the value. </p>
                              </li>
                              <li>
                                 <p>Leading and trailing spaces before and after a property name and leading and trailing space before and after a property value will be truncated. For example, “PDB      =       PDB1” is treated as  “PDB=PDB1”.</p>
                              </li>
                              <li>
                                 <p>There should be no white spaces in the property name and the property value. For example, NLS &lt;space&gt; LANGUAGE=French will result in an error because of the space between NLS and LANGUAGE.  </p>
                              </li>
                           </ul>
                        </div>
                        <p>To explain the notion of multiple properties, assume that the application to be deployed in a CDB environment requires that the session get requests should be satisfied with sessions from the same pluggable database  (for example, pdb1 ) as much as possible. Next, it also requires that the sessions belong to the same language  (for example, FRENCH), but gives a higher priority to sessions to pdb1. The application can then provide a multi-property-tag as follows:</p><pre class="pre codeblock"><code>char *props  = “PDB=pdb1;LANGUAGE=FRENCH”</code></pre><p>Now, assume that there are two sessions in the pool with properties as shown:</p><pre class="pre codeblock"><code>Session 1 = &gt;  “PDB=pdb1;LANGUAGE=CHINESE”</code></pre><pre class="pre codeblock"><code>Session 2 = &gt;  “PDB=pdb2;LANGUAGE=FRENCH” </code></pre><p>In this situation, the session get request (<code class="codeph">OCISessionGet()</code>) returns Session 1 because the  <code class="codeph">PDB</code> property implicitly carries a higher priority by being placed ahead of the <code class="codeph">LANGUAGE</code> property. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-DFA21225-E83C-4177-A79A-B8BA29DC662C__GUID-53C1441D-B992-4770-B865-97A57A42FAC5">
                           <p class="notep1">See Also:</p>
                           <p><a href="connect-authorize-and-initialize-functions.html#GUID-890DFBC4-718B-4339-A0EA-6226A25B8241" title="Gets a session.">OCISessionGet()</a> for a further discussion of tagging sessions
                           </p>
                        </div>
                        <p> This section includes the following topic: <a href="session-and-connection-pooling.html#GUID-B853A020-752F-494A-8D88-D0396EF57177" title="When using multi-property tags, a PL/SQL based fix-up callback for the session state can be provided on the server.">PL/SQL Callback for Session State Fix Up</a>.
                        </p>
                     </div>
                     <div class="sect5"><a id="GUID-B853A020-752F-494A-8D88-D0396EF57177" name="GUID-B853A020-752F-494A-8D88-D0396EF57177"></a><h6 id="LNOCI-GUID-B853A020-752F-494A-8D88-D0396EF57177" class="sect6"><span class="enumeration_section">11.1.3.1.1 </span>PL/SQL Callback for Session State Fix Up
                        </h6>
                        <div>
                           <p>When using multi-property tags, a PL/SQL based fix-up callback for the session state can be provided on the server. </p>
                           <p>This application-provided callback transforms a session checked out from the pool to the desired state requested by the application as indicated by the multi-property tag. This callback works with or without Database Resident Connection Pooling (DRCP).</p>
                           <p>Using this callback can improve the performance of your application because the fix-up logic is run for the session state on the server. So, this feature eliminates application round-trips to the database for the fix-up logic. The callback is supplied by the user who connects using <code class="codeph">OCISessionGet()</code>. The callback must be provided as an attribute <code class="codeph">OCI_ATTR_FIXUP_CALLBACK</code> on the authentication handle passed to <code class="codeph">OCISessionGet()</code> for applications not using OCISessionPool or using custom pools. For applications using OCISessionPool this attribute must be set on the authentication handle, which in turn must be set on the session pool handle as the attribute <code class="codeph">OCI_ATTR_SPOOL_AUTH</code>. 
                           </p>
                           <div class="example" id="GUID-B853A020-752F-494A-8D88-D0396EF57177__GUID-077AD33B-4206-4107-A9B3-24753058756D">
                              <p class="titleinexample">Example 11-1 Example of PL/SQL Fix-Up Callback</p>
                              
                              <p>The following PL/SQL fix-up callback example code snippet handles tags whose
          <code class="codeph">key=value</code> properties can be used directly in an ALTER SESSION statement,
        such as <code class="codeph">TIME_ZONE=UTC;NLS_DATE_FORMAT=DD-MM-YYYY</code>:
                              </p>
                              <pre class="pre codeblock"><code>CREATE OR REPLACE PACKAGE myPackage AS
  TYPE property_t IS TABLE OF VARCHAR2(64) INDEX BY VARCHAR2(64);
  PROCEDURE buildTab(
    tag          IN  VARCHAR2,
    propertyTab  OUT property_t
  );
  PROCEDURE myPlsqlCallback (
    requestedTag IN  VARCHAR2,
    actualTag    IN  VARCHAR2
  );
END;
/

CREATE OR REPLACE PACKAGE BODY myPackage AS

  -- Parse the "property=value" pairs in the tag
  PROCEDURE buildTab(tag IN VARCHAR2, propertyTab OUT property_t) IS
    property  VARCHAR2(64);
    propertyName  VARCHAR2(64);
    propertyValue VARCHAR2(64);
    propertyEndPos NUMBER := 1;
    propertyStartPos NUMBER := 1;
    propertyNameEndPos NUMBER := 1;
  begin
    WHILE (LENGTH(tag) &gt; propertyEndPos)
    LOOP
      propertyEndPos := INSTR(tag, ';', propertyStartPos);
      IF (propertyEndPos = 0) THEN
        propertyEndPos := LENGTH(tag) + 1;
      END IF;
      propertyNameEndPos := INSTR(tag, '=', propertyStartPos);
      propertyName := SUBSTR(tag, propertyStartPos,
                   propertyNameEndPos - propertyStartPos);
      propertyValue := SUBSTR(tag, propertyNameEndPos + 1,
                    propertyEndPos - propertyNameEndPos - 1);
      propertyTab(propertyName) := propertyValue;
      propertyStartPos := propertyEndPos + 1;
    END LOOP;
  END;

  PROCEDURE myPlsqlCallback (
    requestedTag IN VARCHAR2,
    actualTag IN VARCHAR2
  ) IS
    reqPropTab property_t;
    actPropTab property_t;
    propertyName VARCHAR2(64);
  BEGIN
    buildTab(requestedTag, reqPropTab);
    buildTab(actualTag, actPropTab);

    -- Iterate over requested properties to set state when it's not
    -- currently set, or not set to the desired value
    propertyName := reqPropTab.FIRST;
    WHILE (propertyName IS NOT NULL)
    LOOP
      IF ((NOT actPropTab.exists(propertyName)) OR
         (actPropTab(propertyName) != reqPropTab(propertyName))) THEN
        EXECUTE IMMEDIATE 'ALTER SESSION SET ' || propertyName || '=''' || reqPropTab(propertyName) || '''';
      END IF;
      propertyName := reqPropTab.NEXT(propertyName);
    END LOOP;
    -- Could iterate over other actual props to reset any extra props to a default state
  END;
END myPackage;
/</code></pre></div>
                           <!-- class="example" -->
                           <div class="section">
                              <div class="infoboxnotealso" id="GUID-B853A020-752F-494A-8D88-D0396EF57177__GUID-D50AFE1B-9616-4198-A857-0ADF890AB1BA">
                                 <p class="notep1">See Also:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a href="handle-and-descriptor-attributes.html#GUID-0193473A-20FE-4727-850E-41269F94BAD4" title="Lists and describes authentication information handle attributes.">Authentication Information Handle Attributes</a> for more information about <code class="codeph">OCI_ATTR_FIXUP_CALLBACK</code></p>
                                    </li>
                                    <li>
                                       <p><a href="handle-and-descriptor-attributes.html#GUID-34071823-66D0-4C54-BFBB-6323BDEF8015" title="Lists and describes session pool handle attributes.">Session Pool Handle Attributes</a> for more information about <code class="codeph">OCI_ATTR_SPOOL_AUTH</code></p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI16621"></a><div class="props_rev_3"><a id="GUID-35D322F2-E576-416B-A399-3A733F5487A1" name="GUID-35D322F2-E576-416B-A399-3A733F5487A1"></a><h4 id="LNOCI-GUID-35D322F2-E576-416B-A399-3A733F5487A1" class="sect4"><span class="enumeration_section">11.1.4 </span>OCI Handles for Session Pooling
                  </h4>
                  <div>
                     <p>What are the handle types for session pooling.</p>
                     <div class="p">The following handle types are for session pooling:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="session-and-connection-pooling.html#GUID-3EB716F7-7810-4E29-9F92-F5A76B88E662" title="This is the session pool handle.">OCISPool</a></p>
                           </li>
                           <li>
                              <p><a href="session-and-connection-pooling.html#GUID-0F8EA0EC-2018-476F-9353-208266BD822A" title="This is the authentication information handle.">OCIAuthInfo</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI16622"></a><div class="props_rev_3"><a id="GUID-3EB716F7-7810-4E29-9F92-F5A76B88E662" name="GUID-3EB716F7-7810-4E29-9F92-F5A76B88E662"></a><h5 id="LNOCI-GUID-3EB716F7-7810-4E29-9F92-F5A76B88E662" class="sect5"><span class="enumeration_section">11.1.4.1 </span>OCISPool
                     </h5>
                     <div>
                        <p>This is the session pool handle.</p>
                        <p>It is allocated using <code class="codeph">OCIHandleAlloc()</code>. It must be passed to <code class="codeph">OCISessionPoolCreate()</code> and <code class="codeph">OCISessionPoolDestroy()</code>. It has the attribute type <code class="codeph">OCI_HTYPE_SPOOL</code>.
                        </p>
                        <p>An example of the <code class="codeph">OCIHandleAlloc()</code> call follows:
                        </p><pre class="oac_no_warn" dir="ltr">OCISPool *spoolhp;
OCIHandleAlloc((void *) envhp, (void **) &amp;spoolhp, OCI_HTYPE_SPOOL, 
                        (size_t) 0, (void **) 0));
</pre><p>For an environment handle, multiple session pools can be created.</p>
                        <div class="infoboxnotealso" id="GUID-3EB716F7-7810-4E29-9F92-F5A76B88E662__GUID-2E5705C8-EAB6-457F-BAD7-222FDD9C22BC">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5" title="Returns a pointer to an allocated and initialized handle.">OCIHandleAlloc()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-1E929CFB-9D96-4E8E-9F24-904AD539E555" title="Initializes a session pool for use with OCI session pooling and database resident connection pooling (DRCP).">OCISessionPoolCreate()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-2797C90C-C7AC-47FB-B1C2-CE41B743FB5C" title="Destroys a session pool.">OCISessionPoolDestroy()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16623"></a><div class="props_rev_3"><a id="GUID-0F8EA0EC-2018-476F-9353-208266BD822A" name="GUID-0F8EA0EC-2018-476F-9353-208266BD822A"></a><h5 id="LNOCI-GUID-0F8EA0EC-2018-476F-9353-208266BD822A" class="sect5"><span class="enumeration_section">11.1.4.2 </span>OCIAuthInfo
                     </h5>
                     <div>
                        <p>This is the authentication information handle.</p>
                        <p>It is allocated using <code class="codeph">OCIHandleAlloc()</code>. It is passed to <code class="codeph">OCISessionGet()</code>. It supports all the attributes that are supported for a user session handle. The authentication information handle has the attribute type <code class="codeph">OCI_HTYPE_AUTHINFO</code> (see <a href="oci-programming-basics.html#GUID-5F13B2EC-E29C-4710-8AD7-E97E6C28085E__G466063" title="This table has 3 columns. Column 1 is the handle type description, column 2 is the C data type, and column 3 is the handle type constant.">Table 4-1</a>).
                        </p>
                        <p>An example of the <code class="codeph">OCIHandleAlloc()</code> call follows:
                        </p><pre class="oac_no_warn" dir="ltr">OCIAuthInfo *authp;
OCIHandleAlloc((void *) envhp, (void **) &amp;authp, OCI_HTYPE_AUTHINFO, 
                      (size_t) 0, (void **) 0));
</pre><div class="infoboxnotealso" id="GUID-0F8EA0EC-2018-476F-9353-208266BD822A__GUID-8F595AFE-3EDF-42F7-B84A-55B314C4FFD3">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5" title="Returns a pointer to an allocated and initialized handle.">OCIHandleAlloc()</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-attributes.html#GUID-FB263210-118E-4DB3-A840-1769EF0CB977" title="Lists and describes user session handle attributes.">User Session Handle Attributes</a> for the attributes that belong to the authentication information handle
                                 </p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-attributes.html#GUID-34071823-66D0-4C54-BFBB-6323BDEF8015" title="Lists and describes session pool handle attributes.">Session Pool Handle Attributes</a> for more information about the session pooling attributes
                                 </p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-8EDDA0CC-6755-49D8-89D0-81713E10B156" title="Lists and describes connect, authorize, and initialize functions.">Connect, Authorize, and Initialize Functions</a> for complete information about the functions used in session pooling
                                 </p>
                              </li>
                              <li>
                                 <p>See <span class="q">"<a href="connect-authorize-and-initialize-functions.html#GUID-890DFBC4-718B-4339-A0EA-6226A25B8241" title="Gets a session.">OCISessionGet()</a>"</span> for details of the session handle attributes that you can use with this call
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI16624"></a><div class="props_rev_3"><a id="GUID-9DD6C967-B3F8-4D26-B7F8-7730AABA7E8E" name="GUID-9DD6C967-B3F8-4D26-B7F8-7730AABA7E8E"></a><h4 id="LNOCI-GUID-9DD6C967-B3F8-4D26-B7F8-7730AABA7E8E" class="sect4"><span class="enumeration_section">11.1.5 </span>Using OCI Session Pooling
                  </h4>
                  <div>
                     <p>Shows the steps to write a simple session pooling application that uses a user name and password.</p>
                     <div class="section">
                        <p>The steps in writing a simple session pooling application that uses a user name and password are as follows:</p>
                        <ol>
                           <li>
                              <p>Allocate the session pool handle using <code class="codeph">OCIHandleAlloc()</code> for an <code class="codeph">OCISPool</code> handle. Multiple session pools can be created for an environment handle.
                              </p>
                           </li>
                           <li>
                              <p>Create the session pool using <code class="codeph">OCISessionPoolCreate()</code> with <code class="codeph">mode</code> set to <code class="codeph">OCI_DEFAULT</code> (for a new session pool). See the function for a discussion of the other modes.
                              </p>
                           </li>
                           <li>
                              <p>Loop for each thread. Create the thread with a function that does the following:</p>
                              <ol type="a">
                                 <li>
                                    <p>Allocates an authentication information handle of type <code class="codeph">OCIAuthInfo</code> using <code class="codeph">OCIHandleAlloc()</code></p>
                                 </li>
                                 <li>
                                    <p>Sets the user name and password in the authentication information handle using <code class="codeph">OCIAttrSet()</code></p>
                                 </li>
                                 <li>
                                    <p>Gets a pooled session using <code class="codeph">OCISessionGet()</code> with <code class="codeph">mode</code> set to <code class="codeph">OCI_SESSGET_SPOOL</code></p>
                                 </li>
                                 <li>
                                    <p>Performs the transaction</p>
                                 </li>
                                 <li>
                                    <p>Allocates the handle</p>
                                 </li>
                                 <li>
                                    <p>Prepares the statement</p>
                                    <div class="infoboxnote" id="GUID-9DD6C967-B3F8-4D26-B7F8-7730AABA7E8E__GUID-05DB4D0E-C365-4A1E-AA5D-C0F873C13754">
                                       <p class="notep1">Note:</p>
                                       <p>When using service contexts obtained from OCI session pool, you are required to use the service context returned by <code class="codeph">OCISessionGet()</code> (or <code class="codeph">OCILogon2()</code>), and not create other service contexts outside of these calls.
                                       </p>
                                       <p>Any statement handle obtained using <code class="codeph">OCIStmtPrepare2()</code> with the service context should be subsequently used only in conjunction with the same service context, and never with a different service context.
                                       </p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>Executes the statement</p>
                                 </li>
                                 <li>
                                    <p>Commits or rolls back the transactions</p>
                                 </li>
                                 <li>
                                    <p>Releases the session (log off) with <code class="codeph">OCISessionRelease()</code></p>
                                 </li>
                                 <li>
                                    <p>Frees the authentication information handle with <code class="codeph">OCIHandleFree()</code></p>
                                 </li>
                                 <li>
                                    <p>Ends the loop for each thread</p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>Destroy the session pool using <code class="codeph">OCISessionPoolDestroy()</code>.
                              </p>
                           </li>
                        </ol>
                        <div class="infoboxnotealso" id="GUID-9DD6C967-B3F8-4D26-B7F8-7730AABA7E8E__GUID-BA450341-4516-4E24-A3C7-BB24B48886F9">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-1E929CFB-9D96-4E8E-9F24-904AD539E555" title="Initializes a session pool for use with OCI session pooling and database resident connection pooling (DRCP).">OCISessionPoolCreate()</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5" title="Returns a pointer to an allocated and initialized handle.">OCIHandleAlloc()</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-890DFBC4-718B-4339-A0EA-6226A25B8241" title="Gets a session.">OCISessionGet()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-425D4B32-257C-480E-B69C-7112BE9482E6" title="Gets a session.">OCILogon2()</a></p>
                              </li>
                              <li>
                                 <p><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="Prepares a SQL or PL/SQL statement for execution.">OCIStmtPrepare2()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-DAAECC99-A432-48B5-AC33-0868C2FE762D" title="Releases a session that was retrieved using OCISessionGet().">OCISessionRelease()</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-E87E9F91-D3DC-4F35-BE7C-F1EFBFEEBA0A" title="Explicitly deallocates a handle">OCIHandleFree()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-2797C90C-C7AC-47FB-B1C2-CE41B743FB5C" title="Destroys a session pool.">OCISessionPoolDestroy()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNOCI16625"></a><div class="props_rev_3"><a id="GUID-CE43701B-ACB2-4F3A-B7CA-332CBD01DCCE" name="GUID-CE43701B-ACB2-4F3A-B7CA-332CBD01DCCE"></a><h4 id="LNOCI-GUID-CE43701B-ACB2-4F3A-B7CA-332CBD01DCCE" class="sect4"><span class="enumeration_section">11.1.6 </span>OCI Calls for Session Pooling
                  </h4>
                  <div>
                     <p>Describes the usages for OCI calls for session pooling. </p>
                     <p>OCI provides calls for session pooling to perform the following tasks: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-C09AF9F9-34EB-4D1D-849E-9B962463C7A7" title="Connection pooling requires that the pool handle OCI_HTYPE_CPOOL be allocated by OCIHandleAlloc().">Allocate the Pool Handle</a></p>
                        </li>
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-4298BCA2-0EE0-4B77-B9CB-88845562F44C" title="The function OCIConnectionPoolCreate() initializes the connection pool handle.">Create the Connection Pool</a></p>
                        </li>
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-1DB08E60-053F-4D7B-A56D-FE42FE9463B5" title="The application can use one of several interfaces.">Log On to the Database</a></p>
                        </li>
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-73DFAAA9-4EB2-44ED-9DEC-2B803B990AE2" title="Choose the appropriate call to log off from the database in connection pooling mode.">Log Off from the Database</a></p>
                        </li>
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-CB0DC00D-C935-41BC-AF4B-29C3288B743B" title="OCIConnectionPoolDestroy() destroys it.">Destroy the Connection Pool</a></p>
                        </li>
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-676CFBC3-69CC-447B-B0A5-B58BE827291E" title="The pool handle is freed using OCIHandleFree().">Free the Pool Handle</a></p>
                        </li>
                     </ul>
                  </div><a id="LNOCI16626"></a><div class="props_rev_3"><a id="GUID-1F691FCF-3986-43D7-AA27-82117745B105" name="GUID-1F691FCF-3986-43D7-AA27-82117745B105"></a><h5 id="LNOCI-GUID-1F691FCF-3986-43D7-AA27-82117745B105" class="sect5"><span class="enumeration_section">11.1.6.1 </span>Allocate the Pool Handle
                     </h5>
                     <div>
                        <p>Session pooling requires that the pool handle <code class="codeph">OCI_HTYPE_SPOOL</code> be allocated by calling <code class="codeph">OCIHandleAlloc()</code>.
                        </p>
                        <p>Multiple pools can be created for a given environment handle. For a single session pool, here is an allocation example: </p><pre class="oac_no_warn" dir="ltr">OCISPool *poolhp; 
OCIHandleAlloc((void *) envhp, (void **) &amp;poolhp, OCI_HTYPE_SPOOL, (size_t) 0,
               (void **) 0));</pre><div class="infoboxnotealso" id="GUID-1F691FCF-3986-43D7-AA27-82117745B105__GUID-F7541843-6EA7-4CB1-A88B-C9B4AF328810">
                           <p class="notep1">See Also:</p>
                           <p><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5" title="Returns a pointer to an allocated and initialized handle.">OCIHandleAlloc()</a></p>
                        </div>
                     </div>
                  </div><a id="LNOCI16627"></a><div class="props_rev_3"><a id="GUID-15516E6A-868C-4C7E-8272-92C270C160A4" name="GUID-15516E6A-868C-4C7E-8272-92C270C160A4"></a><h5 id="LNOCI-GUID-15516E6A-868C-4C7E-8272-92C270C160A4" class="sect5"><span class="enumeration_section">11.1.6.2 </span>Create the Pool Session
                     </h5>
                     <div>
                        <p>You can use the function <code class="codeph">OCISessionPoolCreate()</code> to create the session pool.
                        </p>
                        <p>Here is an example of how to use this call:</p><pre class="oac_no_warn" dir="ltr">OCISessionPoolCreate(envhp, errhp, poolhp, (OraText **)&amp;poolName, 
              (ub4 *)&amp;poolNameLen, database, 
              (ub4)strlen((const signed char *)database),
              sessMin, sessMax, sessIncr,
              (OraText *)appusername,
              (ub4)strlen((const signed char *)appusername),
              (OraText *)apppassword,
              (ub4)strlen((const signed char *)apppassword),
              OCI_DEFAULT);</pre><div class="infoboxnotealso" id="GUID-15516E6A-868C-4C7E-8272-92C270C160A4__GUID-72E883EB-155C-42CF-9305-E6E3C721F1E6">
                           <p class="notep1">See Also:</p>
                           <p><a href="connect-authorize-and-initialize-functions.html#GUID-1E929CFB-9D96-4E8E-9F24-904AD539E555" title="Initializes a session pool for use with OCI session pooling and database resident connection pooling (DRCP).">OCISessionPoolCreate()</a></p>
                        </div>
                     </div>
                  </div><a id="LNOCI16628"></a><div class="props_rev_3"><a id="GUID-7894AB6A-0CCD-4F22-9B84-5B40B2FC636C" name="GUID-7894AB6A-0CCD-4F22-9B84-5B40B2FC636C"></a><h5 id="LNOCI-GUID-7894AB6A-0CCD-4F22-9B84-5B40B2FC636C" class="sect5"><span class="enumeration_section">11.1.6.3 </span>Log On to the Database
                     </h5>
                     <div>
                        <p>You can use these calls to log on to the database in session pooling mode.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">OCILogon2()</code></p>
                              <p>This is the simplest call. However, it does not give the user the option of using tagging. Here is an example of how to use <code class="codeph">OCILogon2()</code> to log on to the database in session pooling mode:
                              </p><pre class="oac_no_warn" dir="ltr">for (i = 0; i &lt; MAXTHREADS; ++i) 
{ 
  OCILogon2(envhp, errhp, &amp;svchp[i], "hr", 2, "hr", 2, poolName,
            poolNameLen, OCI_LOGON2_SPOOL));
}
</pre></li>
                           <li>
                              <p><code class="codeph">OCISessionGet()</code></p>
                              <p>This is the recommended call to use. It gives the user the option of using tagging to label sessions in the pool, which makes it easier to retrieve specific sessions. An example of using <code class="codeph">OCISessionGet()</code> follows. It is taken from <code class="codeph">cdemosp.c</code> in the <code class="codeph">demo</code> directory.
                              </p><pre class="oac_no_warn" dir="ltr">OCISessionGet(envhp, errhp, &amp;svchp, authInfop,
             (OraText *)database,strlen(database), tag,
             strlen(tag), &amp;retTag, &amp;retTagLen, &amp;found, 
             OCI_SESSGET_SPOOL);
</pre><p>When using service contexts obtained from an OCI session pool, you are required to use the service context returned by <code class="codeph">OCISessionGet()</code> (or <code class="codeph">OCILogon2()</code>), and not create other service contexts outside of these calls.
                              </p>
                              <p>Any statement handle obtained using <code class="codeph">OCIStmtPrepare2()</code> with the service context should be subsequently used only in conjunction with the same service context, and never with a different service context.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-7894AB6A-0CCD-4F22-9B84-5B40B2FC636C__GUID-154E065D-9EC6-4EF6-A9BD-5B11B67C5A8B">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-425D4B32-257C-480E-B69C-7112BE9482E6" title="Gets a session.">OCILogon2()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-890DFBC4-718B-4339-A0EA-6226A25B8241" title="Gets a session.">OCISessionGet()</a></p>
                              </li>
                              <li>
                                 <p><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="Prepares a SQL or PL/SQL statement for execution.">OCIStmtPrepare2()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16629"></a><div class="props_rev_3"><a id="GUID-618B7C74-0045-4170-B50E-163BB364AF04" name="GUID-618B7C74-0045-4170-B50E-163BB364AF04"></a><h5 id="LNOCI-GUID-618B7C74-0045-4170-B50E-163BB364AF04" class="sect5"><span class="enumeration_section">11.1.6.4 </span>Log Off from the Database
                     </h5>
                     <div>
                        <p>Indicates two ways in which to log off from the database in session pooling mode depending on the logon call.</p>
                        <p>From the following calls, choose the one that corresponds to the logon call and use it to log off from the database in session pooling mode.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">OCILogoff()</code></p>
                              <p>If you used <code class="codeph">OCILogon2()</code> to make the connection, you must call <code class="codeph">OCILogoff()</code> to log off.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCISessionRelease()</code></p>
                              <p>If you used <code class="codeph">OCISessionGet()</code> to make the connection, then you must call <code class="codeph">OCISessionRelease()</code> to log off. Pending transactions are automatically committed.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-618B7C74-0045-4170-B50E-163BB364AF04__GUID-68D3E9C1-3D30-4022-B84C-7889F33A4782">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-567DA731-ABC9-4348-B29C-7B2C6C1D7C36" title="Releases a session that was retrieved using OCILogon2() or OCILogon().">OCILogoff()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-425D4B32-257C-480E-B69C-7112BE9482E6" title="Gets a session.">OCILogon2()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-DAAECC99-A432-48B5-AC33-0868C2FE762D" title="Releases a session that was retrieved using OCISessionGet().">OCISessionRelease()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-890DFBC4-718B-4339-A0EA-6226A25B8241" title="Gets a session.">OCISessionGet()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16630"></a><div class="props_rev_3"><a id="GUID-4E12F09A-D461-4B10-AD8D-48C2E492D6BB" name="GUID-4E12F09A-D461-4B10-AD8D-48C2E492D6BB"></a><h5 id="LNOCI-GUID-4E12F09A-D461-4B10-AD8D-48C2E492D6BB" class="sect5"><span class="enumeration_section">11.1.6.5 </span>Destroy the Session Pool
                     </h5>
                     <div>
                        <p>Call <code class="codeph">OCISessionPoolDestroy()</code> to destroy the session pool.
                        </p>
                        <p>This is shown in the following example:</p><pre class="oac_no_warn" dir="ltr">OCISessionPoolDestroy(poolhp, errhp, OCI_DEFAULT);</pre><div class="infoboxnotealso" id="GUID-4E12F09A-D461-4B10-AD8D-48C2E492D6BB__GUID-98BE1EB0-6D0F-4752-A3BE-06A64D1F2089">
                           <p class="notep1">See Also:</p>
                           <p><a href="connect-authorize-and-initialize-functions.html#GUID-2797C90C-C7AC-47FB-B1C2-CE41B743FB5C" title="Destroys a session pool.">OCISessionPoolDestroy()</a></p>
                        </div>
                     </div>
                  </div><a id="LNOCI16631"></a><div class="props_rev_3"><a id="GUID-B28BBFF7-2965-4D2C-B554-9AAE174DB461" name="GUID-B28BBFF7-2965-4D2C-B554-9AAE174DB461"></a><h5 id="LNOCI-GUID-B28BBFF7-2965-4D2C-B554-9AAE174DB461" class="sect5"><span class="enumeration_section">11.1.6.6 </span>Free the Pool Handle
                     </h5>
                     <div>
                        <p>Call <code class="codeph">OCIHandleFree()</code> to free the session pool handle.
                        </p>
                        <p>This is shown in the following example:</p><pre class="oac_no_warn" dir="ltr">OCIHandleFree((void *)poolhp, OCI_HTYPE_SPOOL);
</pre><div class="infoboxnote" id="GUID-B28BBFF7-2965-4D2C-B554-9AAE174DB461__GUID-CD59014D-9D14-4EFE-B690-E4AC53CAC232">
                           <p class="notep1">Note:</p>
                           <p>Developers: You are advised to commit or roll back any open transaction before releasing the connection back to the pool. If this is not done, Oracle Database automatically commits any open transaction when the connection is released.</p>
                           <p>If an instance failure is detected while the session pool is being used, OCI tries to clean up the sessions to that instance.</p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-B28BBFF7-2965-4D2C-B554-9AAE174DB461__GUID-B61E2625-FE1C-4B9A-B4FA-E8366591BF17">
                           <p class="notep1">See Also:</p>
                           <p><a href="handle-and-descriptor-functions.html#GUID-E87E9F91-D3DC-4F35-BE7C-F1EFBFEEBA0A" title="Explicitly deallocates a handle">OCIHandleFree()</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI16632"></a><div class="props_rev_3"><a id="GUID-72D13726-61B8-4CAB-9120-4E33714688AE" name="GUID-72D13726-61B8-4CAB-9120-4E33714688AE"></a><h4 id="LNOCI-GUID-72D13726-61B8-4CAB-9120-4E33714688AE" class="sect4"><span class="enumeration_section">11.1.7 </span>Example of OCI Session Pooling
                  </h4>
                  <div>
                     <p>Where to find an example of session pooling in a tested complete program.</p>
                     <p>For an example of session pooling in a tested complete program, see <code class="codeph">cdemosp.c</code> in directory <code class="codeph">demo</code>.
                     </p>
                  </div>
               </div>
            </div><a id="LNOCI9110"></a><div class="props_rev_3"><a id="GUID-1E260CD3-2EF7-49FF-97FC-041C2EF60381" name="GUID-1E260CD3-2EF7-49FF-97FC-041C2EF60381"></a><h3 id="LNOCI-GUID-1E260CD3-2EF7-49FF-97FC-041C2EF60381" class="sect3"><span class="enumeration_section">11.2 </span>Database Resident Connection Pooling
               </h3>
               <div>
                  <p>Database resident connection pooling (DRCP) provides a connection pool in the database server for typical web application usage scenarios where the application acquires a database connection, works on it for a relatively short duration, and then releases it. </p>
                  <p>DRCP pools server processes, each of which is the equivalent of a dedicated server process and a database session combined. (Henceforth these "dedicated" server processes are referred to as <span class="italic">pooled servers</span>.) 
                  </p>
                  <p>DRCP complements middle-tier connection pools that share connections between threads in a middle-tier process. In addition, DRCP enables sharing of database connections across middle-tier processes on the same middle-tier host and even across middle-tier hosts. This results in significant reduction in key database resources needed to support a large number of client connections, thereby reducing the database tier memory footprint and boosting the scalability of both middle-tier and database tiers. Having a pool of readily available servers has the additional benefit of reducing the cost of creating and tearing down client connections. </p>
                  <p>DRCP is especially relevant for architectures with multiprocess single-threaded application servers (such as PHP/Apache) that cannot do middle-tier connection pooling. Using DRCP, the database can scale to tens of thousands of simultaneous connections.</p>
                  <div class="infoboxnotealso" id="GUID-1E260CD3-2EF7-49FF-97FC-041C2EF60381__GUID-7437CBB6-FBC4-4A2D-96A8-B55881510B27">
                     <p class="notep1">See Also:</p>
                     <p><a href="../adfns/performance-and-scalability.html#ADFNS228" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> for complete information about DRCP 
                     </p>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61" name="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61"></a><h3 id="LNOCI-GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61" class="sect3"><span class="enumeration_section">11.3 </span>About Using Oracle Connection Manager in Traffic Director Mode
               </h3>
               <div>
                  <p>Oracle Connection Manager in Traffic Director Mode is a proxy that is placed between supported database clients and database instances.</p>
                  <div class="p">Supported clients from Oracle Database 11<span class="italic">g</span> Release 2 (11.2) and later can connect to Oracle Connection Manager in Traffic Director Mode. Oracle Connection Manager in Traffic Director Mode provides improved high availability (HA) for planned and unplanned database server outages, connection multiplexing support, and load balancing. Support for Oracle Connection Manager in Traffic Director Mode is described in more detail in the following sections
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__MODESOFOPERATION-4FD4C8FE">Modes of Operation</a></p>
                        </li>
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__KEYFEATURES-4FD4D08F">Key Features</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="section" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__MODESOFOPERATION-4FD4C8FE">
                     <p class="subhead2" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__GUID-749BC524-93BC-42F1-B765-970605875B7F">Modes of Operation</p>
                     <p>Oracle Connection Manager in Traffic Director Mode supports the following modes of operation:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <div class="p">In pooled connection mode, Oracle Connection Manager in Traffic Director Mode supports any application using the following database client releases:
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>OCI, OCCI, and Open Source Drivers (Oracle Database 11<span class="italic">g</span> release 2 (11.2.0.4) and later))
                                    </p>
                                 </li>
                                 <li>
                                    <p>JDBC (Oracle Database 12<span class="italic">c</span> release 1 (12.1) and later)
                                    </p>
                                 </li>
                                 <li>
                                    <p>ODP.NET (Oracle Database 12<span class="italic">c</span> release 2 (12.2) and later)
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>In addition, applications must use DRCP. That is, the application must enable DRCP in the connect string (or in the <code class="codeph">tnsnames.ora</code> alias).
                           </p>
                        </li>
                        <li>
                           <p>In non-pooled connection (or dedicated) mode, Oracle Connection Manager in Traffic Director Mode supports any application using database client releases Oracle Database 11<span class="italic">g</span> release 2 (11.2.0.4) and later. In this mode, some capabilities, such as connection multiplexing are not available. 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__KEYFEATURES-4FD4D08F">
                     <p class="subhead2" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__GUID-3A52B2C3-D63C-4ACB-8FED-1BAFC3801338">Key Features</p>
                     <div class="p">Oracle Connection Manager in Traffic Director Mode furnishes support for the following:
                        <ul style="list-style-type: disc;">
                           <li>
                              <div class="p">Transparent performance enhancements and connection multiplexing, which includes:
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Statement caching, rows prefetching, and result set caching are auto-enabled for all modes of operation.</p>
                                    </li>
                                    <li>
                                       <p>Database session multiplexing (pooled mode only) using the proxy resident connection pool (PRCP), where PRCP is a proxy mode of Database Resident Connection Pooling (DRCP). Applications get transparent connect-time load balancing and run-time load balancing between Oracle Connection Manager in Traffic Director Mode and the database.</p>
                                    </li>
                                    <li>
                                       <p>For multiple Oracle Connection Manager in Traffic Director Mode instances, applications get increased scalability through client-side connect time load balancing or with a load balancer (BIG-IP, NGINX, and others)</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <div class="p">Zero application downtime
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <div class="p">Planned database maintenance or pluggable database (PDB) relocation
                                          <ul style="list-style-type: disc;">
                                             <li>
                                                <p>Pooled mode</p>
                                                <p>Oracle Connection Manager in Traffic Director Mode responds to Oracle Notification Service (ONS) events for planned outages and redirects work. Connections are drained from the pool on Oracle Connection Manager in Traffic Director Mode when the request completes. Service relocation is supported for Oracle Database 11<span class="italic">g</span> release 2 (11.2.0.4) and later.
                                                </p>
                                                <p>For PDB relocation, Oracle Connection Manager in Traffic Director Mode responds to in-band notifications when a PDB is relocated, that is even when ONS is not configured (for Oracle Database release 18c, version 18.1 and later server only)&nbsp;</p>
                                             </li>
                                             <li>
                                                <p>Non-pooled or dedicated mode</p>
                                                <div class="p">When there is no request boundary information from the client, Oracle Connection Manager in Traffic Director Mode supports planned outage for many applications (as long as only simple session state and cursor state need to be preserved across the request/transaction boundaries). This support includes:
                                                   <ul style="list-style-type: disc;">
                                                      <li>
                                                         <p>Stop service/PDB at the transaction boundary or it leverages Oracle Database release 18c&nbsp;continuous application availability&nbsp;to stop the service at the request boundary</p>
                                                      </li>
                                                      <li>
                                                         <p>Oracle Connection Manager in Traffic Director Mode leverages Transparent Application Failover (TAF) failover restore to reconnect and restore simple states.</p>
                                                      </li>
                                                   </ul>
                                                </div>
                                             </li>
                                          </ul>
                                       </div>
                                    </li>
                                    <li>
                                       <p>Unplanned database outages for read-mostly workloads</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <div class="p">High Availability of Oracle Connection Manager in Traffic Director Mode to avoid a single point of failure. This is supported by:
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Multiple instances of Oracle Connection Manager in Traffic Director Mode using a load balancer or client side load balancing/failover in the connect string</p>
                                    </li>
                                    <li>
                                       <p>Rolling upgrade of Oracle Connection Manager in Traffic Director Mode instances</p>
                                    </li>
                                    <li>
                                       <p>Graceful close of existing connections from client to Oracle Connection Manager in Traffic Director Mode for planned outages</p>
                                    </li>
                                    <li>
                                       <p>In-band notifications to Oracle Database release 18c and later clients</p>
                                    </li>
                                    <li>
                                       <p>For older clients, notifications are sent with the response of the current request</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <div class="p">For security and isolation, Oracle Connection Manager in Traffic Director Mode furnishes:
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Database Proxy supporting transmission control protocol/transmission control protocol secure (TCP/TCPS) and protocol conversion</p>
                                    </li>
                                    <li>
                                       <p>Firewall based on the IP address, service name, and secure socket layer/transport layer security (SSL/TLS) wallets</p>
                                    </li>
                                    <li>
                                       <p>Tenant isolation in a multi-tenant environment</p>
                                    </li>
                                    <li>
                                       <p>Protection against denial-of-service and fuzzing attacks</p>
                                    </li>
                                    <li>
                                       <p>Secure tunneling of database traffic across Oracle Database on-premises and Oracle Cloud</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__GUID-A2DD3A99-8792-4704-A482-B66B30AD1B85">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for information about configuring <code class="codeph">cman.ora</code> configuration file to set up Oracle Connection Manager in Traffic Director Mode
                              </p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-58847B76-3836-41DB-9EB6-A81D5C397024" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for information about configuring databases for Oracle Connection Manager in Traffic Director Mode proxy authentication
                              </p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-96FA23BA-F32B-4D47-9CBB-69D27E8D94F6" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for information about configuring Oracle Connection Manager in Traffic Director Mode for unplanned down events
                              </p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-E73658E7-BBF7-4C13-AAD5-70D32062AD8D" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for information about configuring Oracle Connection Manager in Traffic Director Mode for planned down events
                              </p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-15756B12-5ED5-4EDE-9D4B-6B890D5BE9AF" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span> </a> for information about configuring proxy resident connection pools for use by Oracle Connection Manager in Traffic Director Mode
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=NETAG-GUID-FC833F8F-CE5A-4C02-A962-244954158853" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for information about functionality not supported for all drivers with Oracle Connection Manager in Traffic Director Mode
                              </p>
                           </li>
                           <li>
                              <p><a href="../netrf/index.html" target="_blank"><span><cite>Oracle Database Net Services Reference</cite></span></a> for an overview of Oracle CMAN configuration file
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNOCI16602"></a><div class="props_rev_3"><a id="GUID-1C9A6E8F-EF5A-478D-B65E-CE39D4F00683" name="GUID-1C9A6E8F-EF5A-478D-B65E-CE39D4F00683"></a><h3 id="LNOCI-GUID-1C9A6E8F-EF5A-478D-B65E-CE39D4F00683" class="sect3"><span class="enumeration_section">11.4 </span>Connection Pooling in OCI
               </h3>
               <div>
                  <p>Connection pooling is the use of a group (the pool) of reusable physical connections by several sessions to balance loads. </p>
                  <p>The pool is managed by OCI, not the application. Applications that can use connection pooling include middle-tier applications for web application servers and email servers.</p>
                  <p>One use of this feature is in a web application server connected to a back-end Oracle database. Suppose that a web application server gets several concurrent requests for data from the database server. The application can create a pool (or a set of pools) in each environment during application initialization.</p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-C7AB12E8-E640-41F0-9C28-E68F7E683694" title="Connection pooling on the middletier is similar to what a shared server offers on the back end. Stateless sessions are serially reusable across mid-tier threads.You can use the advanced concept of multiple connection pools for different database connections. Transaction application failover (TAF) is enabled for connection pooling.">OCI Connection Pooling Concepts</a></p>
                        </li>
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-322FF18E-48AE-4B94-8477-E91127F6BA86" title="Lists the steps you must follow to use connection pooling in your application.">Using OCI Calls for Connection Pooling</a></p>
                        </li>
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-AE06BCB1-7333-458E-90F0-0761496EC5E1" title="Where to find examples of connection pooling in tested complete programs.">Examples of OCI Connection Pooling</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16603"></a><div class="props_rev_3"><a id="GUID-C7AB12E8-E640-41F0-9C28-E68F7E683694" name="GUID-C7AB12E8-E640-41F0-9C28-E68F7E683694"></a><h4 id="LNOCI-GUID-C7AB12E8-E640-41F0-9C28-E68F7E683694" class="sect4"><span class="enumeration_section">11.4.1 </span>OCI Connection Pooling Concepts
                  </h4>
                  <div>
                     <p>Oracle Database has several transaction monitoring capabilities such as the fine-grained management of database sessions and connections. Fine-grained management of database sessions is done by separating the notion of database sessions (user handles) from connections (server handles). By using OCI calls for session switching and session migration, an application server or transaction monitor can multiplex several sessions over fewer physical connections, thus achieving a high degree of scalability by pooling connections and back-end Oracle server processes.</p>
                     <p>The connection pool itself is normally configured with a shared pool of physical connections, translating to a back-end server pool containing an identical number of dedicated server processes.</p>
                     <p>The number of physical connections is less than the number of database sessions in use by the application. The number of physical connections and back-end server processes are also reduced by using connection pooling. Thus many more database sessions can be multiplexed. </p>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="session-and-connection-pooling.html#GUID-3C6F8FF3-195D-4DCB-B684-8102004F4686" title="Connection pooling on the middletier is similar to what a shared server offers on the back end.">Similarities and Differences from a Shared Server</a></p>
                           </li>
                           <li>
                              <p><a href="session-and-connection-pooling.html#GUID-11F389B2-7D7A-4188-96AC-438C25139C4D" title="Stateless sessions are serially reusable across mid-tier threads.">Stateless Sessions Versus Stateful Sessions</a></p>
                           </li>
                           <li>
                              <p><a href="session-and-connection-pooling.html#GUID-46A224F5-1BF9-4AE0-BCF1-5222CB913B09" title="You can use the advanced concept of multiple connection pools for different database connections.">Multiple Connection Pools</a></p>
                           </li>
                           <li>
                              <p><a href="session-and-connection-pooling.html#GUID-55F39E75-40EB-464B-AEFB-75FF8ABD0169" title="Transaction application failover (TAF) is enabled for connection pooling.">Transparent Application Failover</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI16604"></a><div class="props_rev_3"><a id="GUID-3C6F8FF3-195D-4DCB-B684-8102004F4686" name="GUID-3C6F8FF3-195D-4DCB-B684-8102004F4686"></a><h5 id="LNOCI-GUID-3C6F8FF3-195D-4DCB-B684-8102004F4686" class="sect5"><span class="enumeration_section">11.4.1.1 </span>Similarities and Differences from a Shared Server
                     </h5>
                     <div>
                        <p>Connection pooling on the middletier is similar to what a shared server offers on the back end. </p>
                        <p>Connection pooling makes a dedicated server instance behave like a shared server instance by managing the session multiplexing logic on the middle tier. </p>
                        <p>The connection pool on the middle tier controls the pooling of dedicated server processes including incoming connections into the dedicated server processes. The main difference between connection pooling and a shared server is that in the latter case, the connection from the client is normally to a dispatcher in the database instance. The dispatcher is responsible for directing the client request to an appropriate shared server. However, the physical connection from the connection pool is established directly from the middletier to the dedicated server process in the back-end server pool. </p>
                        <p>Connection pooling is beneficial only if the middle tier is multithreaded. Each thread can maintain a session to the database. The actual connections to the database are maintained by the connection pool, and these connections (including the pool of dedicated database server processes) are shared among all the threads in the middle tier.</p>
                     </div>
                  </div><a id="LNOCI16605"></a><div class="props_rev_3"><a id="GUID-11F389B2-7D7A-4188-96AC-438C25139C4D" name="GUID-11F389B2-7D7A-4188-96AC-438C25139C4D"></a><h5 id="LNOCI-GUID-11F389B2-7D7A-4188-96AC-438C25139C4D" class="sect5"><span class="enumeration_section">11.4.1.2 </span>Stateless Sessions Versus Stateful Sessions
                     </h5>
                     <div>
                        <p>Stateless sessions are serially reusable across mid-tier threads.</p>
                        <p>After a thread is done processing a database request on behalf of a three-tier user, the same database session can be reused for a completely different request on behalf of a completely different three-tier user.</p>
                        <p>Stateful sessions to the database, however, are not serially reusable across mid-tier threads because they may have some particular state associated with a particular three-tier user. Examples of such state may include open transactions, the fetch state from a statement, or a PL/SQL package state. So long as the state exists, the session is not reusable for a different request.</p>
                        <div class="infoboxnote" id="GUID-11F389B2-7D7A-4188-96AC-438C25139C4D__GUID-8121CD53-9389-40B3-B6A7-F42107562E4B">
                           <p class="notep1">Note:</p>
                           <p>Stateless sessions too may have open transactions, open statement fetch state, and so on. However, such a state persists for a relatively short duration (only during the processing of a particular three-tier request by a mid-tier thread) that allows the session to be serially reused for a different three-tier user (when such state is cleaned up).</p>
                           <p>Stateless sessions are typically used in conjunction with statement caching.</p>
                        </div>
                        <p>What connection pooling offers is stateless connections and stateful sessions. </p>
                        <div class="infoboxnotealso" id="GUID-11F389B2-7D7A-4188-96AC-438C25139C4D__GUID-D99ECBE5-A379-48FF-B7AF-F87298C255F4">
                           <p class="notep1">See Also:</p>
                           <p><a href="session-and-connection-pooling.html#GUID-F9662FFB-EAEF-495C-96FC-49C6D1D9625C" title="Session pooling means that the application creates and maintains a group of stateless sessions to the database.">Session Pooling in OCI</a> if you must work with stateless sessions
                           </p>
                        </div>
                     </div>
                  </div><a id="LNOCI16607"></a><a id="LNOCI16606"></a><div class="props_rev_3"><a id="GUID-46A224F5-1BF9-4AE0-BCF1-5222CB913B09" name="GUID-46A224F5-1BF9-4AE0-BCF1-5222CB913B09"></a><h5 id="LNOCI-GUID-46A224F5-1BF9-4AE0-BCF1-5222CB913B09" class="sect5"><span class="enumeration_section">11.4.1.3 </span>Multiple Connection Pools
                     </h5>
                     <div>
                        <p>You can use the advanced concept of multiple connection pools for different database connections. </p>
                        <p>Multiple connection pools can also be used when different priorities are assigned to users. Different service-level guarantees can be implemented using connection pooling.</p>
                        <p><a href="session-and-connection-pooling.html#GUID-46A224F5-1BF9-4AE0-BCF1-5222CB913B09__CHDHJEDC">Figure 11-1</a> illustrates OCI connection pooling.
                        </p>
                        <div class="figure" id="GUID-46A224F5-1BF9-4AE0-BCF1-5222CB913B09__CHDHJEDC">
                           <p class="titleinfigure">Figure 11-1 OCI Connection Pooling</p><img src="img/lnoci043.gif" alt="Description of Figure 11-1 follows" title="Description of Figure 11-1 follows" longdesc="img_text/lnoci043.html"><br><a href="img_text/lnoci043.html">Description of "Figure 11-1 OCI Connection Pooling"</a></div>
                        <!-- class="figure" -->
                     </div>
                  </div><a id="LNOCI16608"></a><div class="props_rev_3"><a id="GUID-55F39E75-40EB-464B-AEFB-75FF8ABD0169" name="GUID-55F39E75-40EB-464B-AEFB-75FF8ABD0169"></a><h5 id="LNOCI-GUID-55F39E75-40EB-464B-AEFB-75FF8ABD0169" class="sect5"><span class="enumeration_section">11.4.1.4 </span>Transparent Application Failover
                     </h5>
                     <div>
                        <p>Transaction application failover (TAF) is enabled for connection pooling. </p>
                        <p>The concepts of TAF apply equally well with connections in the connection pool except that the <code class="codeph">BACKUP</code> and <code class="codeph">PRECONNECT</code> clauses should not be used in the connect string and do not work with connection pooling and TAF.
                        </p>
                        <p>When a connection in the connection pool fails over, it uses the primary connect string itself to connect. Sessions fail over when they use the pool for a database round-trip after their instance failure. The listener is configured to route the connection to a good instance if available, as is typical with service-based connect strings. </p>
                        <div class="infoboxnotealso" id="GUID-55F39E75-40EB-464B-AEFB-75FF8ABD0169__GUID-07806C44-89C5-4548-BED3-26D6214EBCDC">
                           <p class="notep1">See Also:</p>
                           <p><a href="../netag/enabling-advanced-features.html#NETAG0131" target="_blank"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a>, the chapter about configuring transparent application failover 
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI091"></a><div class="props_rev_3"><a id="GUID-322FF18E-48AE-4B94-8477-E91127F6BA86" name="GUID-322FF18E-48AE-4B94-8477-E91127F6BA86"></a><h4 id="LNOCI-GUID-322FF18E-48AE-4B94-8477-E91127F6BA86" class="sect4"><span class="enumeration_section">11.4.2 </span>Using OCI Calls for Connection Pooling
                  </h4>
                  <div>
                     <p>Lists the steps you must follow to use connection pooling in your application.</p>
                     <div class="section">
                        <p>To use connection pooling in your application, you must:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span><a href="session-and-connection-pooling.html#GUID-C09AF9F9-34EB-4D1D-849E-9B962463C7A7" title="Connection pooling requires that the pool handle OCI_HTYPE_CPOOL be allocated by OCIHandleAlloc().">Allocate the Pool Handle</a></span></li>
                        <li><span><a href="session-and-connection-pooling.html#GUID-4298BCA2-0EE0-4B77-B9CB-88845562F44C" title="The function OCIConnectionPoolCreate() initializes the connection pool handle.">Create the Connection Pool</a></span></li>
                        <li><span><a href="session-and-connection-pooling.html#GUID-1DB08E60-053F-4D7B-A56D-FE42FE9463B5" title="The application can use one of several interfaces.">Log On to the Database</a></span></li>
                        <li><span><a href="session-and-connection-pooling.html#GUID-497689F0-20A0-4CEF-91DC-594DBACED921" title="With OCI_CPOOL mode (connection pooling), the session memory (UGA) in the back-end database comes out of the SGA.">Deal with SGA Limitations in Connection Pooling</a></span></li>
                        <li><span><a href="session-and-connection-pooling.html#GUID-73DFAAA9-4EB2-44ED-9DEC-2B803B990AE2" title="Choose the appropriate call to log off from the database in connection pooling mode.">Log Off from the Database</a></span></li>
                        <li><span><a href="session-and-connection-pooling.html#GUID-CB0DC00D-C935-41BC-AF4B-29C3288B743B" title="OCIConnectionPoolDestroy() destroys it.">Destroy the Connection Pool</a></span></li>
                        <li><span><a href="session-and-connection-pooling.html#GUID-676CFBC3-69CC-447B-B0A5-B58BE827291E" title="The pool handle is freed using OCIHandleFree().">Free the Pool Handle</a></span></li>
                     </ol>
                  </div><a id="LNOCI16609"></a><div class="props_rev_3"><a id="GUID-C09AF9F9-34EB-4D1D-849E-9B962463C7A7" name="GUID-C09AF9F9-34EB-4D1D-849E-9B962463C7A7"></a><h5 id="LNOCI-GUID-C09AF9F9-34EB-4D1D-849E-9B962463C7A7" class="sect5"><span class="enumeration_section">11.4.2.1 </span>Allocate the Pool Handle
                     </h5>
                     <div>
                        <p>Connection pooling requires that the pool handle <code class="codeph">OCI_HTYPE_CPOOL</code> be allocated by <code class="codeph">OCIHandleAlloc()</code>.
                        </p>
                        <div class="section">
                           <p>Multiple pools can be created for a given environment handle. </p>
                           <p>For a single connection pool, here is an allocation example:</p><pre class="oac_no_warn" dir="ltr">OCICPool *poolhp;
OCIHandleAlloc((void *) envhp, (void **) &amp;poolhp, OCI_HTYPE_CPOOL, 
                      (size_t) 0, (void **) 0));</pre><div class="infoboxnotealso" id="GUID-C09AF9F9-34EB-4D1D-849E-9B962463C7A7__GUID-D75099C1-D242-40F9-A937-82E507605152">
                              <p class="notep1">See Also:</p>
                              <p><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5" title="Returns a pointer to an allocated and initialized handle.">OCIHandleAlloc()</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI16610"></a><div class="props_rev_3"><a id="GUID-4298BCA2-0EE0-4B77-B9CB-88845562F44C" name="GUID-4298BCA2-0EE0-4B77-B9CB-88845562F44C"></a><h5 id="LNOCI-GUID-4298BCA2-0EE0-4B77-B9CB-88845562F44C" class="sect5"><span class="enumeration_section">11.4.2.2 </span>Create the Connection Pool
                     </h5>
                     <div>
                        <p>The function <code class="codeph">OCIConnectionPoolCreate()</code> initializes the connection pool handle. 
                        </p>
                        <div class="section">
                           <p>It has these <code class="codeph">IN</code> parameters:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">connMin</code>, the minimum number of connections to be opened when the pool is created.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">connIncr</code>, the incremental number of connections to be opened when all the connections are busy and a call needs a connection. This increment is used only when the total number of open connections is less than the maximum number of connections that can be opened in that pool.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">connMax</code>, the maximum number of connections that can be opened in the pool. When the maximum number of connections are open in the pool, and all the connections are busy, if a call needs a connection, it waits until it gets one. However, if the <code class="codeph">OCI_ATTR_CONN_NOWAIT</code> attribute is set for the pool, an error is returned.
                                 </p>
                              </li>
                              <li>
                                 <p>A <code class="codeph">poolUsername</code> and a <code class="codeph">poolPassword</code>, to allow user sessions to transparently migrate between connections in the pool.
                                 </p>
                              </li>
                              <li>
                                 <p>In addition, an attribute <code class="codeph">OCI_ATTR_CONN_TIMEOUT</code>, can be set to time out the connections in the pool. Connections idle for more than this time are terminated periodically to maintain an optimum number of open connections. If this attribute is not set, then the connections are never timed out.
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-4298BCA2-0EE0-4B77-B9CB-88845562F44C__GUID-2A07D24D-88CC-4CC3-828D-1AFB8A3865BD">
                              <p class="notep1">Note:</p>
                              <p>Shrinkage of the pool only occurs when there is a network round-trip. If there are no operations, then the connections stay active.</p>
                           </div>
                           <p>Because all the preceding attributes can be configured dynamically, the application can read the current load (number of open connections and number of busy connections) and tune these attributes appropriately.</p>
                           <p>If the pool attributes (<code class="codeph">connMax</code>, <code class="codeph">connMin</code><span class="italic">,</span> <code class="codeph">connIncr</code>) are to be changed dynamically, <code class="codeph">OCIConnectionPoolCreate()</code> must be called with <code class="codeph">mode</code> set to <code class="codeph">OCI_CPOOL_REINITIALIZE</code>.
                           </p>
                           <p>The OUT parameters <code class="codeph">poolName</code> and <code class="codeph">poolNameLen</code> contain values to be used in subsequent <code class="codeph">OCIServerAttach()</code> and <code class="codeph">OCILogon2()</code> calls in place of the database name and the database name length arguments.
                           </p>
                           <p>There is no limit on the number of pools that can be created by an application. Middle-tier applications can create multiple pools to connect to the same server or to different servers, to balance the load based on the specific needs of the application.</p>
                           <p>Here is an example of this call:</p><pre class="oac_no_warn" dir="ltr">OCIConnectionPoolCreate((OCIEnv *)envhp,
                   (OCIError *)errhp, (OCICPool *)poolhp,
                   &amp;poolName, &amp;poolNameLen,
                   (text *)database,strlen(database),
                   (ub4) connMin, (ub4) connMax, (ub4) connIncr,
                   (text *)poolUsername,strlen(poolUserLen),
                   (text *)poolPassword,strlen(poolPassLen),
                   OCI_DEFAULT));</pre><div class="infoboxnotealso" id="GUID-4298BCA2-0EE0-4B77-B9CB-88845562F44C__GUID-6F1CEDE0-8FF2-4DA5-B83C-4266DF3E2336">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="connect-authorize-and-initialize-functions.html#GUID-7E5A69F2-0268-4655-845D-A7662902FAA2" title="Initializes the connection pool.">OCIConnectionPoolCreate()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="handle-and-descriptor-attributes.html#GUID-400B741C-E4AA-4155-8279-09FD80A6B38F__CACFEFEB">OCI_ATTR_CONN_TIMEOUT</a></p>
                                 </li>
                                 <li>
                                    <p><a href="connect-authorize-and-initialize-functions.html#GUID-B6291228-DA2F-4CE9-870A-F94243141757" title="Creates an access path to a data source for OCI operations.">OCIServerAttach()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="connect-authorize-and-initialize-functions.html#GUID-425D4B32-257C-480E-B69C-7112BE9482E6" title="Gets a session.">OCILogon2()</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI16611"></a><div class="props_rev_3"><a id="GUID-1DB08E60-053F-4D7B-A56D-FE42FE9463B5" name="GUID-1DB08E60-053F-4D7B-A56D-FE42FE9463B5"></a><h5 id="LNOCI-GUID-1DB08E60-053F-4D7B-A56D-FE42FE9463B5" class="sect5"><span class="enumeration_section">11.4.2.3 </span>Log On to the Database
                     </h5>
                     <div>
                        <p>The application can use one of several interfaces.</p>
                        <div class="section">
                           <p>The application must log on to the database for each thread, using one of the following interfaces.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">OCILogon2()</code></p>
                                 <p>This is the simplest interface. Use this interface when you need a simple connection pool connection and do not need to alter any attributes of the session handle. This interface can also be used to make proxy connections to the database.</p>
                                 <p>Here is an example using <code class="codeph">OCILogon2()</code>: 
                                 </p><pre class="oac_no_warn" dir="ltr">for (i = 0; i &lt; MAXTHREADS; ++i) 
{ 
   OCILogon2(envhp, errhp, &amp;svchp[i], "hr", 2, "hr", 2, poolName,
             poolNameLen, OCI_LOGON2_CPOOL));

}
</pre><p>To use this interface to get a proxy connection, set the password parameter to <code class="codeph">NULL</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCISessionGet()</code></p>
                                 <p>This is the recommended interface. It gives the user the additional option of using external authentication methods, such as certificates, distinguished name, and so on. <code class="codeph">OCISessionGet()</code> is the recommended uniform function call to retrieve a session.
                                 </p>
                                 <p>Here is an example using <code class="codeph">OCISessionGet()</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">for (i = 0; i &lt; MAXTHREADS; ++i) 
{ 
        OCISessionGet(envhp, errhp, &amp;svchp, authp,
                      (OraText *) poolName,
                      strlen(poolName), NULL, 0, NULL, NULL, NULL,
                      OCI_SESSGET_CPOOL)
 }
</pre></li>
                              <li>
                                 <p><code class="codeph">OCIServerAttach()</code> and <code class="codeph">OCISessionBegin()</code></p>
                                 <p>You can use another interface if the application must set any special attributes on the user session handle and server handle. For such a requirement, applications must allocate all the handles (connection pool handle, server handles, session handles, and service context handles). You would follow this sequence:</p>
                                 <ol>
                                    <li>
                                       <p>Create the connection pool. </p>
                                       <p>Connection pooling does the multiplexing of a virtual server handle over physical connections transparently, eliminating the need for users to do so. The user gets the feeling of a session having a dedicated (virtual) connection. Because the multiplexing is done transparently to the user, users must not attempt to multiplex sessions over the virtual server handles themselves. The concepts of session migration and session switching, which require explicit multiplexing at the user level, are defunct for connection pooling and should not be used.</p>
                                    </li>
                                    <li>
                                       <p>Call <code class="codeph">OCIServerAttach()</code> with mode set to <code class="codeph">OCI_CPOOL</code>. 
                                       </p>
                                       <p>In an OCI program, the user should create (<code class="codeph">OCIServerAttach()</code> with mode set to <code class="codeph">OCI_CPOOL</code>), a unique virtual server handle for each session that is created using the connection pool. There should be a one-to-one mapping between virtual server handles and sessions.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Call <code class="codeph">OCISessionBegin()</code> with mode set to <code class="codeph">OCI_DEFAULT</code>.
                                       </p>
                                       <p>Credentials can be set to <code class="codeph">OCI_CRED_RDBMS</code>, <code class="codeph">OCI_CRED_EXT</code>, or <code class="codeph">OCI_CRED_PROXY</code> using  <code class="codeph">OCISessionBegin()</code>. If the credentials are set to <code class="codeph">OCI_CRED_EXT</code>, no user name and no password need to be set on the session handle. If the credentials are set to <code class="codeph">OCI_CRED_PROXY</code>, only the user name must be set on the session handle. (no explicit primary session must be created and <code class="codeph">OCI_ATTR_MIGSESSION</code> need not be set).
                                       </p>
                                       <p>The user should not set <code class="codeph">OCI_MIGRATE</code> flag in the call to <code class="codeph">OCISessionBegin()</code> when the virtual server handle points to a connection pool (<code class="codeph">OCIServerAttach()</code> called with <code class="codeph">mode</code> set to <code class="codeph">OCI_CPOOL</code>). Oracle supports passing the <code class="codeph">OCI_MIGRATE</code> flag only for compatibility reasons. Do not use the <code class="codeph">OCI_MIGRATE</code> flag, because the perception that the user gets when using a connection pool is of sessions having their own dedicated (virtual) connections that are transparently multiplexed onto real connections. 
                                       </p>
                                    </li>
                                 </ol>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-1DB08E60-053F-4D7B-A56D-FE42FE9463B5__GUID-45CD8766-90C4-48CD-96DB-11F5C568887E">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="connect-authorize-and-initialize-functions.html#GUID-425D4B32-257C-480E-B69C-7112BE9482E6" title="Gets a session.">OCILogon2()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="connect-authorize-and-initialize-functions.html#GUID-890DFBC4-718B-4339-A0EA-6226A25B8241" title="Gets a session.">OCISessionGet()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="connect-authorize-and-initialize-functions.html#GUID-B6291228-DA2F-4CE9-870A-F94243141757" title="Creates an access path to a data source for OCI operations.">OCIServerAttach()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="connect-authorize-and-initialize-functions.html#GUID-31B1FDB3-056E-4AF9-9B89-8DA6AA156947" title="Creates a user session and begins a user session for a given server.">OCISessionBegin()</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI16612"></a><div class="props_rev_3"><a id="GUID-497689F0-20A0-4CEF-91DC-594DBACED921" name="GUID-497689F0-20A0-4CEF-91DC-594DBACED921"></a><h5 id="LNOCI-GUID-497689F0-20A0-4CEF-91DC-594DBACED921" class="sect5"><span class="enumeration_section">11.4.2.4 </span>Deal with SGA Limitations in Connection Pooling
                     </h5>
                     <div>
                        <p>With <code class="codeph">OCI_CPOOL</code> mode (connection pooling), the session memory (UGA) in the back-end database comes out of the SGA.
                        </p>
                        <p> This may require some SGA tuning on the back-end database to have a larger SGA if your application consumes more session memory than the SGA can accommodate. The memory tuning requirements for the back-end database are similar to configuring the LARGE POOL in a shared server back end except that the instance is still in dedicated mode.</p>
                        <p>If you are still running into the SGA limitation, you must consider: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Reducing the session memory consumption by having fewer open statements for each session</p>
                           </li>
                           <li>
                              <p>Reducing the number of sessions in the back end by pooling sessions on the mid-tier</p>
                           </li>
                           <li>
                              <p>Or otherwise, turning off connection pooling</p>
                           </li>
                        </ul>
                        <p>The application must avoid using dedicated database links on the back end with connection pooling. </p>
                        <p>If the back end is a dedicated server, effective connection pooling is not possible because sessions using dedicated database links are tied to a physical connection rendering that same connection unusable by other sessions. If your application uses dedicated database links and you do not see effective sharing of back-end processes among your sessions, you must consider using shared database links.</p>
                        <div class="infoboxnotealso" id="GUID-497689F0-20A0-4CEF-91DC-594DBACED921__GUID-914FE48C-1B62-4CFB-B15B-BDC83FB1761A">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../tgdba/tuning-shared-pool-and-large-pool.html#TGDBA558" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a>, the section about configuring a shared server
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../admin/distributed-database-concepts.html#ADMIN12083" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a>, the section on shared database links for more information about distributed databases 
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16613"></a><div class="props_rev_3"><a id="GUID-73DFAAA9-4EB2-44ED-9DEC-2B803B990AE2" name="GUID-73DFAAA9-4EB2-44ED-9DEC-2B803B990AE2"></a><h5 id="LNOCI-GUID-73DFAAA9-4EB2-44ED-9DEC-2B803B990AE2" class="sect5"><span class="enumeration_section">11.4.2.5 </span>Log Off from the Database
                     </h5>
                     <div>
                        <p>Choose the appropriate call to log off from the database in connection pooling mode.</p>
                        <p>From the following calls, choose the one that corresponds to the logon call and use it to log off from the database in connection pooling mode.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">OCILogoff()</code>:
                              </p>
                              <p>If <code class="codeph">OCILogon2()</code> was used to make the connection, <code class="codeph">OCILogoff()</code> must be used to log off.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCISessionRelease()</code></p>
                              <p>If OCISessionGet() was called to make the connection, then <code class="codeph">OCISessionRelease()</code> must be called to log off.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCISessionEnd()</code> and <code class="codeph">OCIServerDetach()</code></p>
                              <p>If <code class="codeph">OCIServerAttach()</code> and <code class="codeph">OCISessionBegin()</code> were called to make the connection and start the session, then <code class="codeph">OCISessionEnd()</code> must be called to end the session and <code class="codeph">OCIServerDetach()</code> must be called to release the connection.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-73DFAAA9-4EB2-44ED-9DEC-2B803B990AE2__GUID-F9190CE5-BE4A-420B-A4C9-ABC5488B1E0D">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-567DA731-ABC9-4348-B29C-7B2C6C1D7C36" title="Releases a session that was retrieved using OCILogon2() or OCILogon().">OCILogoff()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-425D4B32-257C-480E-B69C-7112BE9482E6" title="Gets a session.">OCILogon2()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-DAAECC99-A432-48B5-AC33-0868C2FE762D" title="Releases a session that was retrieved using OCISessionGet().">OCISessionRelease()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-2AE88BDC-2C44-4958-B26A-434B0407F06F" title="Terminates a user session context created by OCISessionBegin().">OCISessionEnd()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-402B540A-05FF-464B-B9C8-B2E7B4ABD564" title="Deletes an access path to a data source for OCI operations.">OCIServerDetach()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-B6291228-DA2F-4CE9-870A-F94243141757" title="Creates an access path to a data source for OCI operations.">OCIServerAttach()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-31B1FDB3-056E-4AF9-9B89-8DA6AA156947" title="Creates a user session and begins a user session for a given server.">OCISessionBegin()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16614"></a><div class="props_rev_3"><a id="GUID-CB0DC00D-C935-41BC-AF4B-29C3288B743B" name="GUID-CB0DC00D-C935-41BC-AF4B-29C3288B743B"></a><h5 id="LNOCI-GUID-CB0DC00D-C935-41BC-AF4B-29C3288B743B" class="sect5"><span class="enumeration_section">11.4.2.6 </span>Destroy the Connection Pool
                     </h5>
                     <div>
                        <p><code class="codeph">OCIConnectionPoolDestroy()</code> destroys it.
                        </p>
                        <p>Use <code class="codeph">OCIConnectionPoolDestroy()</code> to destroy the connection pool. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-CB0DC00D-C935-41BC-AF4B-29C3288B743B__GUID-7C1B4CEB-BC12-4EEE-BB78-52F94ED6B44A">
                           <p class="notep1">See Also:</p>
                           <p><a href="connect-authorize-and-initialize-functions.html#GUID-46720C8F-0A9F-4300-B6C4-4E47875A95C2" title="Destroys the connection pool.">OCIConnectionPoolDestroy()</a></p>
                        </div>
                     </div>
                  </div><a id="LNOCI16615"></a><div class="props_rev_3"><a id="GUID-676CFBC3-69CC-447B-B0A5-B58BE827291E" name="GUID-676CFBC3-69CC-447B-B0A5-B58BE827291E"></a><h5 id="LNOCI-GUID-676CFBC3-69CC-447B-B0A5-B58BE827291E" class="sect5"><span class="enumeration_section">11.4.2.7 </span>Free the Pool Handle
                     </h5>
                     <div>
                        <p>The pool handle is freed using <code class="codeph">OCIHandleFree()</code>.
                        </p>
                        <p>These last three actions are illustrated in this code fragment:</p><pre class="oac_no_warn" dir="ltr"> for (i = 0; i &lt; MAXTHREADS; ++i)
  {
    checkerr(errhp, OCILogoff((void *) svchp[i], errhp));
  }
  checkerr(errhp, OCIConnectionPoolDestroy(poolhp, errhp, OCI_DEFAULT));
  checkerr(errhp, OCIHandleFree((void *)poolhp, OCI_HTYPE_CPOOL));
</pre><div class="infoboxnotealso" id="GUID-676CFBC3-69CC-447B-B0A5-B58BE827291E__GUID-1B38A80D-B03C-4570-B418-705A28CBB173">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-E87E9F91-D3DC-4F35-BE7C-F1EFBFEEBA0A" title="Explicitly deallocates a handle">OCIHandleFree()</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-attributes.html#GUID-400B741C-E4AA-4155-8279-09FD80A6B38F" title="Lists and describes connection pool handle attributes.">Connection Pool Handle Attributes</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-7E5A69F2-0268-4655-845D-A7662902FAA2" title="Initializes the connection pool.">OCIConnectionPoolCreate()</a>, <a href="connect-authorize-and-initialize-functions.html#GUID-425D4B32-257C-480E-B69C-7112BE9482E6" title="Gets a session.">OCILogon2()</a>, and <a href="connect-authorize-and-initialize-functions.html#GUID-46720C8F-0A9F-4300-B6C4-4E47875A95C2" title="Destroys the connection pool.">OCIConnectionPoolDestroy()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI16616"></a><div class="props_rev_3"><a id="GUID-AE06BCB1-7333-458E-90F0-0761496EC5E1" name="GUID-AE06BCB1-7333-458E-90F0-0761496EC5E1"></a><h4 id="LNOCI-GUID-AE06BCB1-7333-458E-90F0-0761496EC5E1" class="sect4"><span class="enumeration_section">11.4.3 </span>Examples of OCI Connection Pooling
                  </h4>
                  <div>
                     <p>Where to find examples of connection pooling in tested complete programs.</p>
                     <p>Examples of connection pooling in tested complete programs can be found in <code class="codeph">cdemocp.c and cdemocpproxy.c</code> in directory <code class="codeph">demo</code>.
                     </p>
                  </div>
               </div>
            </div><a id="LNOCI16652"></a><div class="props_rev_3"><a id="GUID-8DD97D4D-C7AA-4EF7-9B55-8DC58BDC2726" name="GUID-8DD97D4D-C7AA-4EF7-9B55-8DC58BDC2726"></a><h3 id="LNOCI-GUID-8DD97D4D-C7AA-4EF7-9B55-8DC58BDC2726" class="sect3"><span class="enumeration_section">11.5 </span>When to Use Connection Pooling, Session Pooling, or Neither
               </h3>
               <div>
                  <p>Indicates the circumstances in which to use them or not.</p>
                  <p>If database sessions are not reusable by mid-tier threads (that is, they are stateful) and the number of back-end server processes may cause scaling problems on the database, use OCI connection pooling. </p>
                  <p>If database sessions are reusable by mid-tier threads (that is, they are stateless) and the number of back-end server processes may cause scaling problems on the database, use OCI session pooling. </p>
                  <p>If database sessions are not reusable by mid-tier threads (that is, they are stateful) and the number of back-end server processes is never large enough to potentially cause any scaling issue on the database, there is no need to use any pooling mechanism.</p>
                  <div class="infoboxnote" id="GUID-8DD97D4D-C7AA-4EF7-9B55-8DC58BDC2726__GUID-D3E22093-F8E4-4683-B214-360F978C66BD">
                     <p class="notep1">Note:</p>
                     <p>Having nonpooled sessions or connections results in tearing down and re-creating the database session/connection for every mid-tier user request. This can cause severe scaling problems on the database side and excessive latency for the fulfillment of the request. Hence, Oracle strongly recommends that you adopt one of the pooling strategies for mid-tier applications based on whether the database session is stateful or stateless.</p>
                  </div>
                  <p>In connection pooling, the pool element is a connection and in session pooling, the pool element is a session.</p>
                  <p>As with any pool, the pooled resource is locked by the application thread for a certain duration until the thread has done its job on the database and the resource is released. The resource is unavailable to other threads during its period of use. Hence, application developers must be aware that any kind of pooling works effectively with relatively short tasks. However, if the application is performing a long-running transaction, it may deny the pooled resource to other sharers for long periods of time, leading to starvation. Hence, pooling should be used in conjunction with short tasks, and the size of the pool should be sufficiently large to maintain the desired concurrency of transactions. </p>
                  <p>Note the following additional information about connection pooling and session pooling:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>OCI Connection Pooling</p>
                        <p>Connections to the database are pooled. Sessions are created and destroyed by the user. Each call to the database picks up an appropriate available connection from the pool.</p>
                        <p>The application is multiplexing several sessions over fewer physical connections to the database. The users can tune the pool configuration to achieve required concurrency. </p>
                        <p>The life-time of the application sessions is independent of the life-time of the cached pooled connections. </p>
                     </li>
                     <li>
                        <p>OCI Session Pooling</p>
                        <p>Sessions and connections are pooled by OCI. The application gets sessions from the pool and releases sessions back to the pool.</p>
                     </li>
                  </ul>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-A408F97E-C451-4D8C-BA8C-4F48DDA0EF26" title="There are a number of ways to create a session with varying functionality.">Functions for Session Creation</a></p>
                        </li>
                        <li>
                           <p><a href="session-and-connection-pooling.html#GUID-D952EB18-A7DE-4CF6-816D-E5E728AACE5E" title="How to choose the type od session to use.">About Choosing Between Different Types of OCI Sessions</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16653"></a><div class="props_rev_3"><a id="GUID-A408F97E-C451-4D8C-BA8C-4F48DDA0EF26" name="GUID-A408F97E-C451-4D8C-BA8C-4F48DDA0EF26"></a><h4 id="LNOCI-GUID-A408F97E-C451-4D8C-BA8C-4F48DDA0EF26" class="sect4"><span class="enumeration_section">11.5.1 </span>Functions for Session Creation
                  </h4>
                  <div>
                     <p>There are a number of ways to create a session with varying functionality.</p>
                     <p>OCI offers the following functions for session creation:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OCILogin</code></p>
                           <p>OCILogon() is the simplest way to get an OCI session. The advantage is ease of obtaining an OCI service context. The disadvantage is that you cannot perform any advance OCI operations, such as session migration, proxy authentication, or using a connection pool or a session pool.</p>
                        </li>
                        <li>
                           <p><code class="codeph">OCILogon2()</code></p>
                           <p>OCILogon2() includes the functionality of <code class="codeph">OCILogon()</code> to get a session. This session may be a new one with a new underlying connection, or one that is started over a virtual connection from an existing connection pool, or one from an existing session pool. The <code class="codeph">mode</code> parameter value that the function is called with determines its behavior.
                           </p>
                           <p>The user cannot modify the attributes (except <code class="codeph">OCI_ATTR_</code><code class="codeph">STMTCACHESIZE</code>) of the service context returned by OCI.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCISessionBegin()</code></p>
                           <p>OCISessionBegin() supports all the various options of an OCI session, such as proxy authentication, getting a session from a connection pool or a session pool, external credentials, and migratable sessions. This is the lowest level call, where all handles must be explicitly allocated and all attributes set. <code class="codeph">OCIServerAttach()</code> must be called before this call. 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCISessionGet()</code></p>
                           <p>OCISessionGet() is now the recommended method to get a session. This session may be a new one with a new underlying connection, or one that is started over a virtual connection from an existing connection pool, or one from an existing session pool. The <code class="codeph">mode</code> parameter value that the function is called with determines its behavior. This works like <code class="codeph">OCILogon2()</code> but additionally enables you to specify tags for obtaining specific sessions from the pool.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-A408F97E-C451-4D8C-BA8C-4F48DDA0EF26__GUID-C1757A87-6308-46A3-9658-BB5578DE80C4">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-F4592576-BE9D-4583-83AD-5D56D2E592E6" title="Creates a simple logon session.">OCILogon()</a></p>
                           </li>
                           <li>
                              <p><a href="oci-programming-basics.html#GUID-A4B693E9-7554-4721-A7F7-0B5B15589DEE" title="An application must call OCIEnvNlsCreate() to initialize the OCI environment handle. Existing applications may have used OCIEnvCreate().">Application Initialization, Connection, and Session Creation</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-425D4B32-257C-480E-B69C-7112BE9482E6" title="Gets a session.">OCILogon2()</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-31B1FDB3-056E-4AF9-9B89-8DA6AA156947" title="Creates a user session and begins a user session for a given server.">OCISessionBegin()</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-890DFBC4-718B-4339-A0EA-6226A25B8241" title="Gets a session.">OCISessionGet()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16654"></a><div class="props_rev_3"><a id="GUID-D952EB18-A7DE-4CF6-816D-E5E728AACE5E" name="GUID-D952EB18-A7DE-4CF6-816D-E5E728AACE5E"></a><h4 id="LNOCI-GUID-D952EB18-A7DE-4CF6-816D-E5E728AACE5E" class="sect4"><span class="enumeration_section">11.5.2 </span>About Choosing Between Different Types of OCI Sessions
                  </h4>
                  <div>
                     <p>How to choose the type od session to use.</p>
                     <p>OCI includes the following types of sessions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Basic OCI sessions</p>
                           <p>The basic OCI session works by using user name and password over a dedicated OCI server handle. This is the no-pool mechanism. See When to Use Connection Pooling, Session Pooling, or Neither for information of when to use it.</p>
                           <p>If authentication is obtained through external credentials, then a user name or password is not required.</p>
                        </li>
                        <li>
                           <p>Session pool sessions</p>
                           <p>Session pool sessions are from the session pool cache. Some sessions may be tagged. These are stateless sessions. Each <code class="codeph">OCISessionGet()</code> and <code class="codeph">OCISessionRelease()</code> call gets and releases a session from the session cache. This saves the server from creating and destroying sessions.
                           </p>
                           <p>See When to Use Connection Pooling, Session Pooling, or Neither on connection pool sessions versus session pooling sessions versus no-pooling sessions.</p>
                        </li>
                        <li>
                           <p>Connection pool sessions</p>
                           <p>Connection pool sessions are created using <code class="codeph">OCISessionGet()</code> and <code class="codeph">OCISessionBegin()</code> calls from an OCI connection pool. There is no session cache as these are stateful sessions. Each call creates a new session, and the user is responsible for terminating these sessions.
                           </p>
                           <p>The sessions are automatically migratable between the server handles of the connection pool. Each session can have user name and password or be a proxy session. See When to Use Connection Pooling, Session Pooling, or Neither on connection pool sessions versus session pooling sessions versus no-pooling sessions.</p>
                        </li>
                        <li>
                           <p>Sessions sharing a server handle</p>
                           <p>You can multiplex several OCI sessions over a few physical connections. The application does this manually by having the same server handle for these multiple sessions. It is preferred to have the session multiplexing details be left to OCI by using the OCI connection pool APIs.</p>
                        </li>
                        <li>
                           <p>Proxy sessions</p>
                           <p>Proxy sessions are useful if the password of the client must be protected from the middle tier. Proxy sessions can also be part of an OCI connection pool or an OCI session pool.</p>
                        </li>
                        <li>
                           <p>Migratable Sessions</p>
                        </li>
                     </ul>
                     <p>With transaction handles being migratable, there should be no need for applications to use migratable sessions, instead use OCI connection pooling. </p>
                     <div class="infoboxnotealso" id="GUID-D952EB18-A7DE-4CF6-816D-E5E728AACE5E__GUID-76245F52-3F50-4D26-B3EF-6EC042C1CE38">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-890DFBC4-718B-4339-A0EA-6226A25B8241" title="Gets a session.">OCISessionGet()</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-DAAECC99-A432-48B5-AC33-0868C2FE762D" title="Releases a session that was retrieved using OCISessionGet().">OCISessionRelease()</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-31B1FDB3-056E-4AF9-9B89-8DA6AA156947" title="Creates a user session and begins a user session for a given server.">OCISessionBegin()</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-A5830D58-3079-45DD-BE3A-81C41991DA70" title="A middle-tier application receives requests from browser clients.">Middle-Tier Applications in OCI</a> for more information about proxy sessions
                              </p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-69A0AE8C-3F8D-4EDD-A817-730F17B3DF3E" title="Transaction servers that actively balance user load by multiplexing user sessions over a few server connections must group these connections into a server group.">OCI Session Management</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='10320.ALTER-PLUGGABLE-DATABASE.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>ALTER PLUGGABLE DATABASE</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="ALTER-PACKAGE.html" title="Previous" type="text/html">
      <link rel="next" href="ALTER-PROCEDURE.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ALTER-PACKAGE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="ALTER-PROCEDURE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-ALTER-LIBRARY-to-ALTER-SESSION.html" property="item" typeof="WebPage"><span property="name"> SQL Statements: ALTER LIBRARY to ALTER SESSION</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ALTER PLUGGABLE DATABASE</li>
            </ol>
            <a id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7" name="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7"></a><a id="SQLRF55668"></a><a id="SQLRF55669"></a><a id="SQLRF55670"></a><a id="SQLRF55671"></a><a id="SQLRF57018"></a><a id="SQLRF56792"></a><a id="SQLRF56841"></a><a id="SQLRF56541"></a><a id="SQLRF56605"></a><a id="SQLRF56608"></a><a id="SQLRF55672"></a><a id="SQLRF55675"></a><a id="SQLRF56542"></a><a id="SQLRF56543"></a><a id="SQLRF56544"></a><a id="SQLRF56811"></a><a id="SQLRF55673"></a><a id="SQLRF55837"></a><a id="SQLRF55840"></a><a id="SQLRF56545"></a><a id="SQLRF55848"></a><a id="SQLRF55847"></a><a id="SQLRF55844"></a><a id="SQLRF55845"></a><a id="SQLRF55846"></a><a id="SQLRF55842"></a><a id="SQLRF55841"></a><a id="SQLRF56228"></a><a id="SQLRF55849"></a><a id="SQLRF57019"></a><a id="SQLRF56793"></a><a id="SQLRF56842"></a><a id="SQLRF56546"></a><a id="SQLRF56606"></a><a id="SQLRF56794"></a><a id="SQLRF56795"></a><a id="SQLRF56796"></a><a id="SQLRF56797"></a><a id="SQLRF55850"></a><a id="SQLRF56547"></a><a id="SQLRF56548"></a><a id="SQLRF55851"></a><a id="SQLRF56549"></a><a id="SQLRF56550"></a><a id="SQLRF56551"></a><a id="SQLRF56617"></a><a id="SQLRF56552"></a><a id="SQLRF56618"></a><a id="SQLRF56553"></a><a id="SQLRF56554"></a><a id="SQLRF56555"></a><a id="SQLRF56556"></a><a id="SQLRF56557"></a><a id="SQLRF56558"></a><a id="SQLRF56812"></a><a id="SQLRF57013"></a><a id="SQLRF55857"></a><a id="SQLRF55858"></a><a id="SQLRF55861"></a><a id="SQLRF56559"></a><a id="SQLRF55859"></a><a id="SQLRF55862"></a><a id="SQLRF55667"></a>
            
            <h2 id="SQLRF-GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7" class="sect2">ALTER PLUGGABLE DATABASE</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-DC6C763E-BDE0-4052-AE33-FD1CF14D5CE5">Purpose</p>
                  <p>Use the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement to modify a pluggable database (PDB). The PDB can be a traditional PDB, an application container, or an application PDB.
                  </p>
                  <p>This statement enables you to perform the following tasks:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Unplug a PDB from a multitenant container database (CDB) (using the <span class="italic"><code class="codeph">pdb_unplug_clause</code></span>)
                        </p>
                     </li>
                     <li>
                        <p>Modify the settings of a PDB (using the <span class="italic"><code class="codeph">pdb_settings_clauses</code></span>)
                        </p>
                     </li>
                     <li>
                        <p>Bring PDB data files online or take them offline (using the <span class="italic"><code class="codeph">pdb_datafile_clause</code></span>)
                        </p>
                     </li>
                     <li>
                        <p>Back up and recover a PDB (using the <span class="italic"><code class="codeph">pdb_recovery_clauses</code></span>)
                        </p>
                     </li>
                     <li>
                        <p>Modify the state of a PDB (using the <span class="italic"><code class="codeph">pdb_change_state</code></span> clause)
                        </p>
                     </li>
                     <li>
                        <p>Modify the state of multiple PDBs within a CDB (using the <span class="italic"><code class="codeph">pdb_change_state_from_root</code></span> clause)
                        </p>
                     </li>
                     <li>
                        <p>Perform operations on applications in an application container (using the <span class="italic"><code class="codeph">application_clauses</code></span>)
                        </p>
                     </li>
                     <li>
                        <p>Create and manage PDB snapshots using the <span class="italic"><code class="codeph">snapshot_clauses</code></span></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-317C1B89-3C62-4B5E-8F8F-53F4A4AFA63F">
                     <p class="notep1">Note:</p>
                     <p>You can perform all <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> tasks by connecting to a PDB and running the corresponding <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement. This functionality is provided to maintain backward compatibility for applications that have been migrated to a CDB environment. The exception is modifying PDB storage limits, for which you must use the <span class="italic"><code class="codeph">pdb_storage_clause</code></span> of <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code>.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-395E52FA-6F6A-4246-83C5-94E8A0D8AB32">
                     <p class="notep1">See Also:</p>
                     <p><a href="CREATE-PLUGGABLE-DATABASE.html#GUID-F2DBA8DD-EEA8-4BB7-A07F-78DC04DB1FFC">CREATE PLUGGABLE DATABASE</a> for information on creating PDBs
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-FDF04B06-B988-48E0-AB71-F3A636232B9F">Prerequisites</p>
                  <p>You must be connected to a CDB.</p>
                  <p>To specify the <span class="italic"><code class="codeph">pdb_unplug_clause</code></span>, the current container must be the root or the application root, you must be authenticated <code class="codeph">AS</code> <code class="codeph">SYSDBA</code> or <code class="codeph">AS</code> <code class="codeph">SYSOPER</code>, and the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSOPER</code> privilege must be either granted to you commonly, or granted to you locally in the root and locally in the PDB you want to unplug.
                  </p>
                  <p>To specify the <span class="italic"><code class="codeph">pdb_settings_clauses</code></span>, the current container must be the PDB whose settings you want to modify and you must have the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> privilege, either granted commonly or granted locally in the PDB. To specify the <span class="italic"><code class="codeph">pdb_logging_clauses</code></span> or the <code class="codeph">RENAME</code> <code class="codeph">GLOBAL_NAME</code> clause, you must also have the <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code> privilege, either granted commonly or granted locally in the PDB being renamed, and the PDB must be in <code class="codeph">READ</code> <code class="codeph">WRITE</code> <code class="codeph">RESTRICTED</code> mode.
                  </p>
                  <p>To specify the <span class="italic"><code class="codeph">pdb_datafile_clause</code></span>, the current container must be the PDB whose datafiles you want to bring online or take offline and you must have the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> privilege, either granted commonly or granted locally in the PDB.
                  </p>
                  <p>To specify the <span class="italic"><code class="codeph">pdb_recovery_clauses</code></span>, the current container must be the PDB you want to back up or recover and you must have the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> privilege, either granted commonly or granted locally in the PDB.
                  </p>
                  <p>To specify the <span class="italic"><code class="codeph">pdb_change_state</code></span> clause, the current container must be the PDB whose state you want to change and you must be authenticated <code class="codeph">AS</code> <code class="codeph">SYSBACKUP</code>, <code class="codeph">AS</code> <code class="codeph">SYSDBA</code>, <code class="codeph">AS</code> <code class="codeph">SYSDG</code>, or <code class="codeph">AS</code> <code class="codeph">SYSOPER</code>.
                  </p>
                  <p>To specify the <span class="italic"><code class="codeph">pdb_change_state_from_root</code></span> clause, the current container must be the root or the application root, you must be authenticated <code class="codeph">AS</code> <code class="codeph">SYSBACKUP</code>, <code class="codeph">AS</code> <code class="codeph">SYSDBA</code>, <code class="codeph">AS</code> <code class="codeph">SYSDG</code>, or <code class="codeph">AS</code> <code class="codeph">SYSOPER</code>, and the <code class="codeph">SYSBACKUP</code>, <code class="codeph">SYSDBA</code>, <code class="codeph">SYSDG</code>, or <code class="codeph">SYSOPER</code> privilege must be either granted to you commonly, or granted to you locally in the root or application root, and locally in the PDB(s) whose state(s) you want to change.
                  </p>
                  <p>To specify the <span class="italic"><code class="codeph">application_clauses</code></span>, the current container must be an application container, you must be authenticated <code class="codeph">AS</code> <code class="codeph">SYSBACKUP</code> or <code class="codeph">AS</code> <code class="codeph">SYSDBA</code>, and the <code class="codeph">SYSBACKUP</code> or <code class="codeph">SYSDBA</code> privilege must be either granted to you commonly, or granted to you locally in the application root and locally in the application PDB(s) in which you want to perform application operations.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-3C383BEC-2317-4BAF-B1C4-144F9415D086">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-AB47CD9D-5123-4154-A535-67E135FAE7E2"><span class="italic">alter_pluggable_database</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-BF74B3FD-44D0-4BCB-A843-2DC3CE2859A8"><img src="img/alter_pluggable_database.gif" alt="Description of alter_pluggable_database.eps follows" title="Description of alter_pluggable_database.eps follows" longdesc="img_text/alter_pluggable_database.html"><br><a href="img_text/alter_pluggable_database.html">Description of the illustration alter_pluggable_database.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHGFBEG">pdb_unplug_clause::=</a></span>, <span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHCEIGC">pdb_settings_clauses::=</a></span>, <span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHHEJFH">pdb_datafile_clause::=</a></span>, <span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHDJFHH">pdb_recovery_clauses</a></span>, <span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHJEAIE">pdb_change_state::=</a></span>, <span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHBBCHH">pdb_change_state_from_root::=</a></span>, <span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__APPLICATION_CLAUSES-584C52BC">application_clauses::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-1C529AF8-2990-4619-A1C3-FA54DD868857"><span class="italic">database_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-86F041CB-80C2-44F9-A66E-17F14790975F"><img src="img/database_clause.gif" alt="Description of database_clause.eps follows" title="Description of database_clause.eps follows" longdesc="img_text/database_clause.html"><br><a href="img_text/database_clause.html">Description of the illustration database_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHGFBEG">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-70B1674B-D045-4AA4-9003-82160547B734"><span class="italic">pdb_unplug_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-25809DE8-3B78-411F-8572-0524D803C745"><img src="img/pdb_unplug_clause.gif" alt="Description of pdb_unplug_clause.eps follows" title="Description of pdb_unplug_clause.eps follows" longdesc="img_text/pdb_unplug_clause.html"><br><a href="img_text/pdb_unplug_clause.html">Description of the illustration pdb_unplug_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-E5D3C75A-91F5-4E45-8FB3-86787D9AC22E"><span class="italic">pdb_unplug_encrypt</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-B2E9DC39-966E-4452-9E51-25348F686049"><img src="img/pdb_unplug_encrypt.gif" alt="Description of pdb_unplug_encrypt.eps follows" title="Description of pdb_unplug_encrypt.eps follows" longdesc="img_text/pdb_unplug_encrypt.html"><br><a href="img_text/pdb_unplug_encrypt.html">Description of the illustration pdb_unplug_encrypt.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHCEIGC">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-850A88C0-2D27-4418-B894-C0E6962EB877"><span class="italic">pdb_settings_clauses</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-167D7864-0729-48FB-B18B-0EED2DF3F28C"><img src="img/pdb_settings_clauses.gif" alt="Description of pdb_settings_clauses.eps follows" title="Description of pdb_settings_clauses.eps follows" longdesc="img_text/pdb_settings_clauses.html"><br><a href="img_text/pdb_settings_clauses.html">Description of the illustration pdb_settings_clauses.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__I2208406">set_time_zone_clause::=</a></span>, <span class="italic"><a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__I2082829">database_file_clauses::=</a></span>, <span class="italic"><a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__I2208261">supplemental_db_logging::=</a></span>, <span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHJICCH">pdb_storage_clause::=</a></span>, <span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__BGBBECGG">pdb_logging_clauses::=</a></span>, <span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__PDB_REFRESH_MODE_CLAUSE-532EAA89">pdb_refresh_mode_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHJICCH">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-9933A056-D1F4-4063-931D-1CDE9AD81E47"><span class="italic">pdb_storage_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-9B9FC76C-8E09-4864-879B-524E580722D3"><img src="img/pdb_storage_clause.gif" alt="Description of pdb_storage_clause.eps follows" title="Description of pdb_storage_clause.eps follows" longdesc="img_text/pdb_storage_clause.html"><br><a href="img_text/pdb_storage_clause.html">Description of the illustration pdb_storage_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__BGBBECGG">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-674B1BBE-741C-432A-86E8-70A671A23549"><span class="italic">pdb_logging_clauses</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-B04E4C89-06B6-4FB6-9704-F77C6C99C860"><img src="img/pdb_logging_clauses.gif" alt="Description of pdb_logging_clauses.eps follows" title="Description of pdb_logging_clauses.eps follows" longdesc="img_text/pdb_logging_clauses.html"><br><a href="img_text/pdb_logging_clauses.html">Description of the illustration pdb_logging_clauses.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-85ECD166-1FBE-4C3D-98C9-E7AF51FBCCC6"><span class="italic">logging_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-900CE98A-45B7-4FB2-BF39-C2A830B7B1C0"><img src="img/logging_clause.gif" alt="Description of logging_clause.eps follows" title="Description of logging_clause.eps follows" longdesc="img_text/logging_clause.html"><br><a href="img_text/logging_clause.html">Description of the illustration logging_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-287BC391-1015-48C9-A677-5CE4E9A45052"><span class="italic">pdb_force_logging_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-5E78A2D2-0EF6-42CB-A0DD-8CC22BDFB4F4"><img src="img/pdb_force_logging_clause.gif" alt="Description of pdb_force_logging_clause.eps follows" title="Description of pdb_force_logging_clause.eps follows" longdesc="img_text/pdb_force_logging_clause.html"><br><a href="img_text/pdb_force_logging_clause.html">Description of the illustration pdb_force_logging_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__PDB_REFRESH_MODE_CLAUSE-532EAA89">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-00BC3E5C-BA33-4E23-B798-185B4C4176DA"><span class="italic">pdb_refresh_mode_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-4E410E73-E79D-43E4-8B24-CAD9CF2C03C9"><img src="img/pdb_refresh_mode_clause.gif" alt="Description of pdb_refresh_mode_clause.eps follows" title="Description of pdb_refresh_mode_clause.eps follows" longdesc="img_text/pdb_refresh_mode_clause.html"><br><a href="img_text/pdb_refresh_mode_clause.html">Description of the illustration pdb_refresh_mode_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-8466DA99-0C41-4E53-BF3F-DFDB3D4575FA"><span class="italic">pdb_refresh_switchover_clause</span> ::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-231F0E9F-803B-4081-A5C0-31329F7EC332"><img src="img/pdb_refresh_switchover_clause.gif" alt="Description of pdb_refresh_switchover_clause.eps follows" title="Description of pdb_refresh_switchover_clause.eps follows" longdesc="img_text/pdb_refresh_switchover_clause.html"><br><a href="img_text/pdb_refresh_switchover_clause.html">Description of the illustration pdb_refresh_switchover_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHHEJFH">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-03A73AA7-4E3F-412E-B75B-B41D5E032BE9"><span class="italic">pdb_datafile_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-81F184E1-7878-4039-9EE8-116F9705CE57"><img src="img/pdb_datafile_clause.gif" alt="Description of pdb_datafile_clause.eps follows" title="Description of pdb_datafile_clause.eps follows" longdesc="img_text/pdb_datafile_clause.html"><br><a href="img_text/pdb_datafile_clause.html">Description of the illustration pdb_datafile_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHDJFHH">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-FC5F5C25-FF18-49AA-8F6D-4AF699EEF9EE"><span class="italic">pdb_recovery_clauses</span></p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-28D67A2E-F583-45E8-9CA2-C04313772B01"><img src="img/pdb_recovery_clauses.gif" alt="Description of pdb_recovery_clauses.eps follows" title="Description of pdb_recovery_clauses.eps follows" longdesc="img_text/pdb_recovery_clauses.html"><br><a href="img_text/pdb_recovery_clauses.html">Description of the illustration pdb_recovery_clauses.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-F4D02F2C-92BB-45A3-B672-3859D116C3CA"><span class="italic">pdb_general_recovery</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-204481CC-A4D4-4C67-8CA0-BCABA690A154"><img src="img/pdb_general_recovery.gif" alt="Description of pdb_general_recovery.eps follows" title="Description of pdb_general_recovery.eps follows" longdesc="img_text/pdb_general_recovery.html"><br><a href="img_text/pdb_general_recovery.html">Description of the illustration pdb_general_recovery.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHJEAIE">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-BDC8F039-0407-44FA-87C3-BB7B00A2CE02"><span class="italic">pdb_change_state</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-84B4B7C6-17E8-4097-9FB0-0C1A7A7486A0"><img src="img/pdb_change_state.gif" alt="Description of pdb_change_state.eps follows" title="Description of pdb_change_state.eps follows" longdesc="img_text/pdb_change_state.html"><br><a href="img_text/pdb_change_state.html">Description of the illustration pdb_change_state.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHGJJHH">pdb_open::=</a></span>, <span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHEBEAF">pdb_close::=</a></span>, <span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__BGBEFGGC">pdb_save_or_discard_state::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHGJJHH">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-DEB1D4AC-84DB-43F8-B1D9-E6F67A17C6FF"><span class="italic">pdb_open</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-05B2600C-312C-4BB5-A151-AE2F814A8219"><img src="img/pdb_open.gif" alt="Description of pdb_open.eps follows" title="Description of pdb_open.eps follows" longdesc="img_text/pdb_open.html"><br><a href="img_text/pdb_open.html">Description of the illustration pdb_open.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-F6727DCA-A8DE-474D-B06E-CD87D62E1CCE"><span class="italic">instances_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-4FC352B9-F34B-47EA-9767-DA1824C2EFB0"><img src="img/instances_clause.gif" alt="Description of instances_clause.eps follows" title="Description of instances_clause.eps follows" longdesc="img_text/instances_clause.html"><br><a href="img_text/instances_clause.html">Description of the illustration instances_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHEBEAF">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-696847DB-07B0-4938-B16E-58C3DFBFCAE8"><span class="italic">pdb_close</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-4936E5BE-08C7-4308-9D15-04717A36F980"><img src="img/pdb_close.gif" alt="Description of pdb_close.eps follows" title="Description of pdb_close.eps follows" longdesc="img_text/pdb_close.html"><br><a href="img_text/pdb_close.html">Description of the illustration pdb_close.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-48A55B9F-FF8B-4921-BAF9-474F12F38DA1"><span class="italic">relocate_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-863D3700-5850-413B-A76B-038A43766B66"><img src="img/relocate_clause.gif" alt="Description of relocate_clause.eps follows" title="Description of relocate_clause.eps follows" longdesc="img_text/relocate_clause.html"><br><a href="img_text/relocate_clause.html">Description of the illustration relocate_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__BGBEFGGC">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-54021568-04E2-4C5D-9F31-AC7368D7F880"><span class="italic">pdb_save_or_discard_state</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-E2614140-F82A-4CC1-B9F6-5F48565DDACB"><img src="img/pdb_save_or_discard_state.gif" alt="Description of pdb_save_or_discard_state.eps follows" title="Description of pdb_save_or_discard_state.eps follows" longdesc="img_text/pdb_save_or_discard_state.html"><br><a href="img_text/pdb_save_or_discard_state.html">Description of the illustration pdb_save_or_discard_state.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHBBCHH">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-4CA6EE77-D584-4B21-9AD1-F3A79838DF60"><span class="italic">pdb_change_state_from_root</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-C3AC2F9B-C525-4053-88E7-E08FA19D911B"><img src="img/pdb_change_state_from_root.gif" alt="Description of pdb_change_state_from_root.eps follows" title="Description of pdb_change_state_from_root.eps follows" longdesc="img_text/pdb_change_state_from_root.html"><br><a href="img_text/pdb_change_state_from_root.html">Description of the illustration pdb_change_state_from_root.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHGJJHH">pdb_open::=</a></span>, <span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHEBEAF">pdb_close::=</a></span>, <span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__BGBEFGGC">pdb_save_or_discard_state::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__APPLICATION_CLAUSES-584C52BC">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-DB4C33A9-A546-4735-9FB2-EDDCDFEED6BD"><span class="italic">application_clauses</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-32D52D46-3551-43BF-B68B-955700832333"><img src="img/application_clauses.gif" alt="Description of application_clauses.eps follows" title="Description of application_clauses.eps follows" longdesc="img_text/application_clauses.html"><br><a href="img_text/application_clauses.html">Description of the illustration application_clauses.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__SNAPSHOT_CLAUSES-39F5056E"><span class="italic">snapshot_clauses</span> ::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-CD9206F7-BA0E-4DC3-BA5E-9B6631096AA0"><img src="img/snapshot_clauses.gif" alt="Description of snapshot_clauses.eps follows" title="Description of snapshot_clauses.eps follows" longdesc="img_text/snapshot_clauses.html"><br><a href="img_text/snapshot_clauses.html">Description of the illustration snapshot_clauses.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-A186C988-BED6-4BE2-8167-B6721B806ABF"><span class="italic">pdb_snapshot_clause</span> ::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-4BDC1328-B5B2-4535-A3DB-2D6E6F4A3048"><img src="img/pdb_snapshot_clause.gif" alt="Description of pdb_snapshot_clause.eps follows" title="Description of pdb_snapshot_clause.eps follows" longdesc="img_text/pdb_snapshot_clause.html"><br><a href="img_text/pdb_snapshot_clause.html">Description of the illustration pdb_snapshot_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-521433E3-AEE6-4924-BE44-40234AC31FD0"><span class="italic">materialize_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-E7B97612-4B1B-4178-A41E-011BF6086EB1"><img src="img/materialize_clause.gif" alt="Description of materialize_clause.eps follows" title="Description of materialize_clause.eps follows" longdesc="img_text/materialize_clause.html"><br><a href="img_text/materialize_clause.html">Description of the illustration materialize_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-F9B7DDD4-79DD-4CD0-B00E-1D0DBCC8965A"><span class="italic">create_snapshot_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-D62472EA-2004-4313-A2BB-4D75CC59FD59"><img src="img/create_snapshot_clause.gif" alt="Description of create_snapshot_clause.eps follows" title="Description of create_snapshot_clause.eps follows" longdesc="img_text/create_snapshot_clause.html"><br><a href="img_text/create_snapshot_clause.html">Description of the illustration create_snapshot_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-107195BC-A0F9-456E-8A64-DF7290F6989A"><span class="italic">drop_snapshot_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-11E6A9EB-2C64-4A38-867F-747635FB9845"><img src="img/drop_snapshot_clause.gif" alt="Description of drop_snapshot_clause.eps follows" title="Description of drop_snapshot_clause.eps follows" longdesc="img_text/drop_snapshot_clause.html"><br><a href="img_text/drop_snapshot_clause.html">Description of the illustration drop_snapshot_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-E1F08EB8-7E10-40F7-BECA-88D1F302BB56"><span class="italic">set_max_pdb_snapshots</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-07C8FEB7-D5C1-4F00-AA20-1A75AF1034AF"><img src="img/set_max_pdb_snapshots_clause.gif" alt="Description of set_max_pdb_snapshots_clause.eps follows" title="Description of set_max_pdb_snapshots_clause.eps follows" longdesc="img_text/set_max_pdb_snapshots_clause.html"><br><a href="img_text/set_max_pdb_snapshots_clause.html">Description of the illustration set_max_pdb_snapshots_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-C162BC89-7884-4C71-8701-23D5D909A858"><span class="italic">prepare_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-22E8B058-2AC7-445E-882C-F90E531CA3DF"><img src="img/prepare_clause.gif" alt="Description of prepare_clause.eps follows" title="Description of prepare_clause.eps follows" longdesc="img_text/prepare_clause.html"><br><a href="img_text/prepare_clause.html">Description of the illustration prepare_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-50B0CA01-684D-473E-B7C6-CCCE63CB0847"><span class="italic">drop_mirror_copy</span>::=
                  </p>
                  <div class="figure" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-039A4DE3-E445-4123-9873-7F067A2461F3"><img src="img/drop_mirror_copy.gif" alt="Description of drop_mirror_copy.eps follows" title="Description of drop_mirror_copy.eps follows" longdesc="img_text/drop_mirror_copy.html"><br><a href="img_text/drop_mirror_copy.html">Description of the illustration drop_mirror_copy.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-3493F798-3C77-4C74-B5C8-21F246CD3AD8"><span class="italic">lost_write_protection</span> ::=
                  </p>
                  <p>The usage for the <code class="codeph">lost_write_protection</code> clause with the <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement is identical to the <code class="codeph">ALTER DATABASE</code> statement. Look here <a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986">ALTER DATABASE</a> for syntax details. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-ED6FA9B1-003B-4A35-ABAA-E09082F656ED">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__DATABASE_CLAUSE-34B400B4"><span class="italic">database_clause</span></p>
                  <p>Specify the <code class="codeph">PLUGGABLE DATABASE</code> option for a container database. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-4A80FEA2-401D-48B4-9090-FEDEF7FE62D5"><span class="italic">pdb_name</span></p><a id="d241038e862" class="indexterm-anchor"></a><p>Specify the name of the database to be altered. If you omit <span class="italic"><code class="codeph">db_name</code></span>, then Oracle Database alters the database identified by the value of the initialization parameter <code class="codeph">DB_NAME</code>. You can alter only the database whose control files are specified by the initialization parameter <code class="codeph">CONTROL_FILES</code>. The database identifier is not related to the Oracle Net database specification. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__PDB_UNPLUG_CLAUSEPDBSUNPLUGGING-2AEE4D78">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-A15880E2-7B0D-4D15-B2F8-ECAD75BB9D11"><span class="italic">pdb_unplug_clause</span></p>
                  <p><a id="d241038e886" class="indexterm-anchor"></a>This clause lets you unplug a PDB from a CDB. When you unplug a PDB, Oracle stores information about the PDB in a file on your operating system. You can subsequently use this file to plug the PDB into a CDB.
                  </p>
                  <p>For <span class="italic"><code class="codeph">pdb_name</code></span>, specify the name of the PDB you want to unplug. The PDB must be closed—that is, the open mode must be <code class="codeph">MOUNTED</code>. In an Oracle Real Application Clusters (Oracle RAC) environment, the PDB must be closed in all Oracle RAC instances
                  </p>
                  <p>For <span class="italic"><code class="codeph">filename</code></span>, specify the full path name of the operating system file in which to store information about the PDB. The file name that you specify determines the type of information stored and how it is stored.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you specify a file name that ends with the extension .xml, then Oracle creates an XML file containing metadata about the PDB. You can then copy the XML file and the PDB's data files to a new location and specify the XML file name when plugging the PDB into a CDB. In this case, you must copy the PDB's data files separately.</p>
                     </li>
                     <li>
                        <p>If you specify a file name that ends with the extension .pdb, then Oracle creates a .pdb archive file. This is a compressed file that includes an XML file containing metadata about the PDB, as well as the PDB's data files. You can then copy this single archive file to a new location and specify the archive file name when plugging the PDB into a CDB. This eliminates having to copy the PDB's data files separately. When you use a .pdb archive file when plugging in a PDB, this file is extracted when you plug in the PDB, and the PDB’s files are placed in the same directory as the .pdb archive file.</p>
                     </li>
                  </ul>
                  <p>After a PDB is unplugged, it remains in the CDB with an open mode of <code class="codeph">MOUNTED</code> and a status of <code class="codeph">UNPLUGGED</code>. The only operation you can perform on an unplugged PDB is <code class="codeph">DROP</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code>, which will remove it from the CDB. You must drop the PDB before you can plug it into the same CDB or another CDB.
                  </p>
                  <div class="infoboxnotealso" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-F19225A1-A477-4E1A-A9B6-EC1119C6E180">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../multi/removing-a-pdb.html#ADMIN13623" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information on unplugging a PDB
                           </p>
                        </li>
                        <li>
                           <p>The <span class="italic"><a href="CREATE-PLUGGABLE-DATABASE.html#GUID-F2DBA8DD-EEA8-4BB7-A07F-78DC04DB1FFC__CACJHJFE">create_pdb_from_xml</a></span> clause of <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> for information on plugging a PDB into a CDB
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-355DFF5A-D5DD-439E-AE7E-7793F90E2042"><span class="italic">pdb_unplug_encrypt</span></p>
                  <p>You must have the <code class="codeph">SYSKM</code> privilege to execute this command.
                  </p>
                  <p><span class="bold">United PDBs</span></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">ENCRYPT USING transport_secret</code> is optional.
                        </p>
                     </li>
                     <li>
                        <p>If TDE is in use, you must specify this clause. If TDE is not in use, the statement throws the following error <code class="codeph">ORA-46680:master keys of the container database must be exported.</code></p>
                     </li>
                     <li>
                        <p>The wallet must be open in <code class="codeph">ROOT</code> if TDE is in use.
                        </p>
                     </li>
                     <li>
                        <p>Keys are encrypted using the provided <span class="italic"><code class="codeph">transport secret</code></span> and exported into the <code class="codeph">.XML</code> or archive file
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">Unplugging a PDB Into an XML Metadata File: Example</span></p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE CDB1_PDB2 UNPLUG INTO '/tmp/cdb1_pdb2.xml' ENCRYPT USING transport_secret</pre><p><span class="bold">Unplugging a PDB Into an Archive File: Example</span></p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE CDB1_PDB1_1 UNPLUG INTO '/tmp/CDB1_PDB1_1.pdb' ENCRYPT USING transport_secret</pre><p>For PDBs in <span class="bold">isolated</span> mode, you need not specify <code class="codeph">ENCRYPT USING transport_secret</code>. This is not required because the wallet file of the PDB is copied during the creation of the pluggable database from an XML file. If you are unplugging a PDB as an archive file, the wallet file of the PDB is added to the zipped archive with the <code class="codeph">.pdb</code> extension.
                  </p>
                  <p>If the <code class="codeph">ewallet.p12</code> file already exists at the destination, a backup is automatically initiated. The backup file has the following format: <code class="codeph">ewallet_PLGDB_2017090517455564.p12</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-9A30C5E5-1BE0-41F8-9657-C903EF560FF6"><span class="italic">pdb_settings_clauses</span></p>
                  <p>These clauses lets you modify various settings for a PDB.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-34AFAC13-3264-4474-AEAF-AA0B59DCA123"><span class="italic">pdb_name</span></p>
                  <p>You can optionally use <span class="italic"><code class="codeph">pdb_name</code></span> to specify the name of the PDB whose settings you want to modify.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-94ADC8B5-EF72-44EC-AA15-55B890F23139">DEFAULT EDITION Clause</p>
                  <p><a id="d241038e1043" class="indexterm-anchor"></a><a id="d241038e1047" class="indexterm-anchor"></a>Use this clause to designate the specified edition as the default edition for the PDB. For the full semantics of this clause, refer to <span class="q">"<a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__BABEADGC">DEFAULT EDITION Clause</a>"</span> in the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> documentation.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-23F7D850-3E44-414F-9821-EB7052E86FC4">SET DEFAULT TABLESPACE Clause</p>
                  <p>Use this clause to specify or change the default type of tablespaces subsequently created in the PDB. For the full semantics of this clause, refer to <span class="q">"<a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__BGBDJGGH">SET DEFAULT TABLESPACE Clause</a>"</span> in the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> documentation.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-C397B808-44C6-48AB-926D-2DFEA4602B13">DEFAULT TABLESPACE Clause</p>
                  <p><a id="d241038e1081" class="indexterm-anchor"></a>Use this clause to establish or change the default permanent tablespace of the PDB. For the full semantics of this clause, refer to <span class="q">"<a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__BGBIJBIC">DEFAULT TABLESPACE Clause</a>"</span> in the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> documentation.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-67D28168-84FE-41D8-803A-54B36F75E1B2">DEFAULT TEMPORARY TABLESPACE Clause</p>
                  <p><a id="d241038e1101" class="indexterm-anchor"></a>Use this clause to change the default temporary tablespace of the PDB to a new tablespace or tablespace group. For the full semantics of this clause, refer to <span class="q">"<a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__BGBEIJJD">DEFAULT [LOCAL] TEMPORARY TABLESPACE Clause</a>"</span> in the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> documentation.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-A79BA575-F8E8-4940-995B-F2F3292BE4FB">RENAME GLOBAL_NAME TO Clause</p>
                  <p><a id="d241038e1120" class="indexterm-anchor"></a><a id="d241038e1124" class="indexterm-anchor"></a>Use this clause to change the global name of the PDB. The new global name must be unique within the CDB. For an Oracle Real Application Clusters (Oracle RAC) database, the PDB must be open in <code class="codeph">READ</code> <code class="codeph">WRITE</code> <code class="codeph">RESTRICTED</code> mode on the current instance only. The PDB must be closed on all other instances. For the full semantics of this clause, refer to <span class="q">"<a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__I2141769">RENAME GLOBAL_NAME Clause</a>"</span> in the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> documentation.
                  </p>
                  <div class="infoboxnote" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-C2C71E68-0C1A-4224-9C7E-500608ACC797">
                     <p class="notep1">Note:</p>
                     <p>When you change the global name of a PDB, be sure to change the <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> property for database services that are used to connect to the PDB.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-EBB8D282-A747-4EC7-9374-07575D03260B"><span class="italic">set_time_zone_clauses</span></p>
                  <p><a id="d241038e1165" class="indexterm-anchor"></a><a id="d241038e1169" class="indexterm-anchor"></a>Use this clause to modify the time zone setting for the PDB. For the full semantics of this clause, refer to <span class="italic"><a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__I2197908">set_time_zone_clause</a></span> in the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> documentation.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-53659FD2-748C-4B3D-9700-1E39880A607A"><span class="italic">database_file_clauses</span></p>
                  <p><a id="d241038e1189" class="indexterm-anchor"></a><a id="d241038e1193" class="indexterm-anchor"></a>Use this clause to modify data files and temp files for the PDB. For the full semantics of this clause, refer to <span class="italic"><a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__I2078824">database_file_clauses</a></span> in the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> documentation.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-46E5CAE2-3758-4BF1-A584-D5279A90D85A"><span class="italic">supplemental_db_logging</span></p>
                  <p>Use these clauses to instruct Oracle Database to add or stop adding supplemental data into the log stream for the PDB.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify the <code class="codeph">ADD</code> <code class="codeph">SUPPLEMENTAL</code> <code class="codeph">LOG</code> clause to add supplemental data into the log stream for the PDB. In order to issue this clause, supplemental logging must have been enabled for the CDB root with the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> ... <code class="codeph">ADD</code> <code class="codeph">SUPPLEMENTAL</code> <code class="codeph">LOG</code> ... statement. The level of supplemental logging that you specify for the PDB does not need to match that of the CDB root. That is, you can specify any of the clauses <code class="codeph">DATA</code>, <code class="codeph"><span class="codeinlineitalic">supplemental_id_key_clause</span></code>, or <code class="codeph"><span class="codeinlineitalic">supplemental_plsql_clause</span></code> for the PDB, regardless of which clause was specified when enabling supplemental logging for the CDB root.
                        </p>
                     </li>
                     <li>
                        <p>Specify the <code class="codeph">DROP</code> <code class="codeph">SUPPLEMENTAL</code> <code class="codeph">LOG</code> clause to stop adding supplemental data into the log stream for the PDB.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">ADD SUPPLEMENTAL LOG DATA SUBSET DATABASE REPLICATION</span>, of <code class="codeph">ALTER PLUGGABLE DATABASE</code> enables low impact minimal supplemental logging on the PDB.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You can only execute this DDL on a pluggable database.</p>
                     </li>
                     <li>
                        <p>You can execute this DDL only when the <span class="italic"><code class="codeph">enable_goldengate_replication</code></span> parameter is TRUE, and database compatible is 19.0 or higher.
                        </p>
                     </li>
                     <li>
                        <p>You must enable minimal supplemental logging in <code class="codeph">CDB$ROOT</code> to run this command.
                        </p>
                     </li>
                     <li>
                        <p>After you execute this DDL, minimal supplemental logging will become low impact for the pluggable database. <code class="codeph">SYS.PROP$</code> will be updated to indicate that low impact minimal supplemental logging is enabled at the PDB level for this pluggable database.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">DROP SUPPLEMENTAL LOG DATA SUBSET DATABASE REPLICATION</span>, of <code class="codeph">ALTER PLUGGABLE DATABASE</code> disables low impact minimal supplemental logging on the PDB.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You can only execute this DDL on a pluggable database.</p>
                     </li>
                     <li>
                        <p>You can execute this DDL only when the <span class="italic"><code class="codeph">enable_goldengate_replication</code></span> parameter is TRUE, and database compatible is 19.0 or higher.
                        </p>
                     </li>
                     <li>
                        <p>You must enable minimal supplemental logging in <code class="codeph">CDB$ROOT</code> to run this command.
                        </p>
                     </li>
                     <li>
                        <p>After you execute this command, minimal supplemental logging will become low impact for the pluggable database.<code class="codeph">SYS.PROP$</code> will be updated to indicate that supplemental logging for subset database replication is disabled at the PDB level for this pluggable database. If supplemental logging for subset database replication is also disabled at <code class="codeph">CDB$ROOT</code> (CDB level), then low impact minimal supplemental logging will be disabled for this pluggable database. 
                        </p>
                     </li>
                  </ul>
                  <p>For the full semantics of this clause, refer to <span class="italic"><a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__I2153841">supplemental_db_logging</a></span> in the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> documentation.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-B5FB8D98-7856-4661-B3FF-CF9A26F79BC2"><span class="italic">pdb_storage_clause</span></p>
                  <p><a id="d241038e1346" class="indexterm-anchor"></a><a id="d241038e1352" class="indexterm-anchor"></a>Use this clause to modify the storage limits for a PDB.
                  </p>
                  <p>This clause has the same semantics as the <span class="italic"><a href="CREATE-PLUGGABLE-DATABASE.html#GUID-F2DBA8DD-EEA8-4BB7-A07F-78DC04DB1FFC__CACJAAGI">pdb_storage_clause</a></span> in the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> documentation, with the following additions:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you specify <code class="codeph">MAXSIZE</code> <span class="italic"><code class="codeph">size_clause</code></span>, then the value you specify for <span class="italic"><code class="codeph">size_clause</code></span> must be greater than or equal to the combined size of the existing tablespaces belonging to the PDB. Otherwise, an error occurs.
                        </p>
                     </li>
                     <li>
                        <p>If you specify <code class="codeph">MAX_AUDIT_SIZE</code> <span class="italic"><code class="codeph">size_clause</code></span>, then the value you specify for <span class="italic"><code class="codeph">size_clause</code></span> must be greater than or equal to the amount of storage used by the existing unified audit OS spillover (<code class="codeph">.bin</code> format) files in the PDB. Otherwise, an error occurs.
                        </p>
                     </li>
                     <li>
                        <p>If you specify <code class="codeph">MAX_DIAG_SIZE</code> <span class="italic"><code class="codeph">size_clause</code></span>, then the value you specify for <span class="italic"><code class="codeph">size_clause</code></span> must be greater than or equal to the amount of storage for diagnostics in the Automatic Diagnostic Repository (ADR) that is currently used by the PDB. Otherwise an error occurs.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-F230E590-19AC-40C2-87AB-89AF63CE9A8C"><span class="italic">pdb_logging_clauses</span></p>
                  <p>Use these clauses to set or change the logging characteristics of the PDB.</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__BGBDDAGI">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-FCD2423D-BBDC-476A-8645-0AB902E52FE1"><span class="italic">logging_clause</span></p>
                  <p>Use this clause to change the default logging attribute for tablespaces subsequently created within the PDB. This clause has the same semantics as the <span class="italic"><a href="CREATE-PLUGGABLE-DATABASE.html#GUID-F2DBA8DD-EEA8-4BB7-A07F-78DC04DB1FFC__CACJIEBE">logging_clause</a></span> in the <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> documentation.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-0B092061-7AA3-4407-91F4-2387DC9E0D20"><span class="italic">pdb_force_logging_clause</span></p>
                  <p>Use this clause to place a PDB into, or take it out of, one of four logging modes. </p>
                  <p>Force logging mode instructs the database to log all changes in the PDB, except changes in temporary tablespaces and temporary segments. Force nologging mode instructs the database to not log any changes in the PDB.</p>
                  <p>Standby nologging instructs the database to not log operations that qualify to be done without logging. The database sends the data blocks that were created by the operation to each qualifying standby database in the Data Guard configuration, typically resulting in those standbys not having invalid blocks.</p>
                  <p>CDB-wide force logging mode takes precedence over any other setting. PDB-level force logging mode and force nologging mode take precedence over and are independent of any <code class="codeph">LOGGING</code>, <code class="codeph">NOLOGGING</code>, or <code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> settings you specify for individual tablespaces in the PDB and any <code class="codeph">LOGGING</code> or <code class="codeph">NOLOGGING</code> settings you specify for individual database objects in the PDB.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify <code class="codeph">ENABLE</code> <code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> to place the PDB in force logging mode. If the PDB is currently in force nologging mode, then specifying this clause results in an error. You must first specify <code class="codeph">DISABLE</code> <code class="codeph">FORCE</code> <code class="codeph">NOLOGGING</code>.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">DISABLE</code> <code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> to take the PDB out of force logging mode. If the PDB is not currently in force logging mode, then specifying this clause results in an error.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">ENABLE</code> <code class="codeph">FORCE</code> <code class="codeph">NOLOGGING</code> to place the PDB in force nologging mode. If the PDB is currently in force logging mode, then specifying this clause results in an error. You must first specify <code class="codeph">DISABLE</code> <code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>. The nonlogged operations will use classic invalidation redo, even if the CDB has a standby nologging mode set.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">DISABLE</code> <code class="codeph">FORCE</code> <code class="codeph">NOLOGGING</code> to take the PDB out of force nologging mode. If the PDB is not currently in force nologging mode, then specifying this clause results in an error.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">SET STANDBY NOLOGGING FOR LOAD PERFORMANCE</code> to put the PDB into standby nologging for load performance mode. In this mode the data loaded as part of the nonlogged task is sent to the qualifying standbys via a private network connection, provided that doing so will not slow down the load process. If a slow down occurs, then the data is not sent but fetched automatically from the primary as each standby encounters the invalidation redo and will be retried until the data blocks are eventually received.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">SET STANDBY NOLOGGING FOR DATA AVAILABILITY</code> to put the PDB into standby nologging for data availability mode. In this mode the data loaded as part of the nonlogged task is sent to the qualifying standbys either via a network connection to them, or if that fails, via block images in the redo. That is to say, in this mode the load will switch to be done in a logged fashion if the network connection or related processes prevent the sending of the data over the private network connection.
                        </p>
                     </li>
                  </ul>
                  <p>For the standby nologging modes a qualifying standby is one that is open for read, running managed recovery, and receiving redo into standby redo logs.</p>
                  <p>This clause does not change the default <code class="codeph">LOGGING</code> or <code class="codeph">NOLOGGING</code> mode of the PDB specified by the <span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__BGBDDAGI">logging_clause</a></span>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__PDB_REFRESH_MODE_CLAUSE-531D291C">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-55B10EED-F551-4602-B192-B2E4C847F0B6"><span class="italic">pdb_refresh_mode_clause</span></p>
                  <p>Use this clause to change the refresh mode of a PDB. You can specify this clause only for a refreshable PDB, that is, a PDB whose current refresh mode is <code class="codeph">MANUAL</code> or <code class="codeph">EVERY</code> <span class="italic"><code class="codeph">refresh_interval</code></span> <code class="codeph">MINUTES</code> or <code class="codeph">HOURS</code>. You can switch a PDB from manual refresh to automatic refresh, or from automatic refresh to manual refresh. You can also use this clause to change the number of minutes between automatic refreshes. You can switch a PDB from manual or automatic refresh to no refresh, but you cannot enable manual or automatic refresh for a PDB that is not refreshable. For the complete semantics of this clause, refer to the <a href="CREATE-PLUGGABLE-DATABASE.html#GUID-F2DBA8DD-EEA8-4BB7-A07F-78DC04DB1FFC__PDB_REFRESH_MODE_CLAUSE-2C9E58C3">pdb_refresh_mode_clause</a> in the documentation on <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__REFRESH-2AECEDD3">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-D667E30A-B335-43E6-A719-8F43D78E98AA">REFRESH</p>
                  <p>Specify this clause to perform a manual refresh of a refreshable PDB, that is, a PDB whose current refresh mode is <code class="codeph">MANUAL</code> or <code class="codeph">EVERY</code> <span class="italic"><code class="codeph">number</code></span> <code class="codeph">MINUTES</code>. The PDB must be closed. For more information on refreshable PDBs, refer to the <a href="CREATE-PLUGGABLE-DATABASE.html#GUID-F2DBA8DD-EEA8-4BB7-A07F-78DC04DB1FFC__PDB_REFRESH_MODE_CLAUSE-2C9E58C3">pdb_refresh_mode_clause</a> in the documentation on <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-8E469199-50EE-43D9-973B-2B580A7610A7"><span class="italic">pdb_refresh_switchover_clause</span></p>
                  <p>Use this clause to reverse roles between a refreshable clone PDB and a primary PDB. This clause makes the refreshable clone PDB into a primary PDB, which can be opened in read write mode. The former primary PDB becomes the refreshable clone..</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>This command must be executed from the primary PDB .</p>
                     </li>
                     <li>
                        <p><code class="codeph">REFRESH MODE NONE</code> may not be specified when issuing this statement.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">dblink</code> should point to the Root of the CDB where the refreshable clone PDB currently resides.
                        </p>
                     </li>
                     <li>
                        <p>After this operation, the current PDB will become the refreshable clone and can only be opened in READ ONLY mode.</p>
                     </li>
                     <li>
                        <p>The database link user must exist in the primary PDB, if the refreshable clone exists in a different CDB.</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-7AD4AD4A-FF14-4E46-BE02-BFFE502D51D9">SET CONTAINER_MAP</p>
                  <p>Use this clause to specify the <code class="codeph">CONTAINER_MAP</code> database property for an application container. The current container must be the application root. The <span class="italic"><code class="codeph">map_object</code></span> is of the form <code class="codeph">[</code><span class="italic"><code class="codeph">schema</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">table</code></span>. For <span class="italic"><code class="codeph">schema</code></span>, specify the schema containing <span class="italic"><code class="codeph">table</code></span>. If you omit <span class="italic"><code class="codeph">schema</code></span>, then the database assumed that the table is in your own schema. For <span class="italic"><code class="codeph">table</code></span>, specify a range-, list-, or hash-partitioned table.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-F9BC9C1E-E04B-4847-B1B4-8842E27EA019">CONTAINERS DEFAULT TARGET</p>
                  <p>Use this clause to specify the default container for DML statements in an application container. You must be connect to the application root.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For <span class="italic"><code class="codeph">container_name</code></span>, specify the name of the default container. The default container can be any container in the application container, including the application root or an application PDB. You can specify only one default container.
                        </p>
                     </li>
                     <li>
                        <p>If you specify <code class="codeph">NONE</code>, then the default container is the CDB root. This is the default.
                        </p>
                     </li>
                  </ul>
                  <p>When a DML statement is issued in the application root without specifying containers in the <code class="codeph">WHERE</code> clause, the DML statement affects the default container for the application container. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-0D45EBCB-5B63-42CD-87FC-9F4A5F47BAF3"><span class="italic">pdb_datafile_clause</span></p>
                  <p>This clause lets you bring data files associated with a PDB online or take them offline. The PDB must be closed when you issue this clause.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For <span class="italic"><code class="codeph">pdb_name</code></span>, specify the name of the PDB. If the current container is the PDB, then you can omit <span class="italic"><code class="codeph">pdb_name</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">DATAFILE</code> clauses let you specify the data files you want to bring online or take offline. Use <span class="italic"><code class="codeph">filename</code></span> or <span class="italic"><code class="codeph">filenumber</code></span> to identify specific data files by name or by number. You can view data file names and numbers by querying the <code class="codeph">NAME</code> and <code class="codeph">FILE#</code> columns of the <code class="codeph">V$DATAFILE</code> dynamic performance view. Use <code class="codeph">ALL</code> to specify all datafiles associated with the PDB.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">ONLINE</code> to bring the data files online or <code class="codeph">OFFLINE</code> to take the data files offline.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-CD15BA43-6CBB-428E-B2C1-20F63D0AB319"><span class="italic">pdb_recovery_clauses</span></p>
                  <p>Use the <span class="italic"><code class="codeph">pdb_recovery_clauses</code></span> to back up and recover a PDB.
                  </p>
                  <p><span class="bold"><span class="italic">pdb_name</span></span></p>
                  <p>You can optionally use <span class="italic"><code class="codeph">pdb_name</code></span> to specify the name of the PDB you want to back up or recover.
                  </p>
                  <p><span class="bold"><span class="italic">pdb_general_recovery</span></span></p>
                  <p>This clause lets you control media recovery for the PDB or standby database or for specified tablespaces or files. The <span class="italic"><code class="codeph">pdb_general_recovery</code></span> clause has the same semantics as the <span class="italic"><code class="codeph">general_recovery</code></span> clause of <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code>. Refer to the <span class="italic"><a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__I2208874">general_recovery</a></span> clause of <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> for more information.
                  </p>
                  <p><span class="bold">BACKUP Clauses</span><a id="d241038e1835" class="indexterm-anchor"></a></p>
                  <p>Use these clauses to move all of the data files in the PDB into or out of online backup mode (also called hot backup mode). These clauses have the same semantics in <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> and <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code>. Refer to the <span class="q">"<a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__I2150230">BACKUP Clauses</a>"</span> of <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> for more information.
                  </p>
                  <p><span class="bold">RECOVERY Clauses</span><a id="d241038e1870" class="indexterm-anchor"></a></p>
                  <p>Use these clauses to enable or disable a PDB for recovery. The PDB must be closed—that is, the open mode must be <code class="codeph">MOUNTED</code>.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify <code class="codeph">ENABLE</code> <code class="codeph">RECOVERY</code> to bring all data files that belong to a PDB online and enable the PDB for recovery.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">DISABLE</code> <code class="codeph">RECOVERY</code> to take all data files that belong to a PDB offline and disable the PDB for recovery.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-126A7EFA-D2BD-4E63-B2BC-5A4F96C861DF">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=SBYDB5261" target="_blank"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for more information on the <code class="codeph">RECOVERY</code> clauses
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-DE6FFE76-2A04-43E1-A6BF-0899600DC541"><span class="italic">pdb_change_state</span></p>
                  <p><a id="d241038e1914" class="indexterm-anchor"></a><a id="d241038e1920" class="indexterm-anchor"></a>This clause enables you to change the state, or open mode, of a PDB. <a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHJEFGC" title="This first column lists the PDB open modes and the second column lists their descriptions.">Table 11-2</a> lists the open modes of a PDB.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify the <span class="italic"><code class="codeph">pdb_open</code></span> clause to change the open mode to <code class="codeph">READ</code> <code class="codeph">WRITE</code>, <code class="codeph">READ</code> <code class="codeph">ONLY</code>, or <code class="codeph">MIGRATE</code>.
                        </p>
                     </li>
                     <li>
                        <p>Specify the <span class="italic"><code class="codeph">pdb_close</code></span> clause to change the open mode to <code class="codeph">MOUNTED</code>.
                        </p>
                     </li>
                  </ul>
                  <div class="tblformal" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHJEFGC">
                     <p class="titleintable">Table 11-2 PDB Open Modes</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="PDB Open Modes" summary="This first column lists the PDB open modes and the second column lists their descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d241038e1974">Open Mode</th>
                              <th align="left" valign="bottom" width="69%" id="d241038e1977">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d241038e1982" headers="d241038e1974 ">
                                 <p><code class="codeph">READ</code> <code class="codeph">WRITE</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d241038e1982 d241038e1977 ">
                                 <p>A PDB in open read/write mode allows queries and user transactions to proceed and allows users to generate redo logs.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d241038e1993" headers="d241038e1974 ">
                                 <p><code class="codeph">READ</code> <code class="codeph">ONLY</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d241038e1993 d241038e1977 ">
                                 <p>A PDB in open read-only mode allows queries but does not allow user changes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d241038e2004" headers="d241038e1974 ">
                                 <p><code class="codeph">MIGRATE</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d241038e2004 d241038e1977 ">
                                 <p>When a PDB is in open migrate mode, you can run database upgrade scripts on the PDB.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d241038e2012" headers="d241038e1974 ">
                                 <p><code class="codeph">MOUNTED</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d241038e2012 d241038e1977 ">
                                 <p>When a PDB is in mounted mode, it behaves like a non-CDB in mounted mode. It does not allow changes to any objects, and it is accessible only to database administrators. It cannot read from or write to data files. Information about the PDB is removed from memory caches. Cold backups of the PDB are possible.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>You can view the open mode of a PDB by querying the <code class="codeph">OPEN_MODE</code> column of the <code class="codeph">V$PDBS</code> view.
                  </p>
                  <div class="infoboxnotealso" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-B83953E1-E600-4FD9-AB13-0F00844C6A54">
                     <p class="notep1">See Also:</p>
                     <p><a href="../multi/administering-a-cdb-with-sql-plus.html#ADMIN14090" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for a complete description of PDB open modes
                     </p>
                  </div>
                  <p><span class="bold"><span class="italic">pdb_name</span></span></p>
                  <p>You can optionally use <span class="italic"><code class="codeph">pdb_name</code></span> to specify the name of the PDB whose open mode you want to change.
                  </p>
                  <p id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__BGBBCHJH"><span class="bold"><span class="italic">pdb_open</span></span></p>
                  <p>This clause lets you change the open mode of a PDB to <code class="codeph">READ</code> <code class="codeph">WRITE</code>, <code class="codeph">READ</code> <code class="codeph">ONLY</code>, or <code class="codeph">MIGRATE</code>. When you specify this clause, the PDB must be in <code class="codeph">MOUNTED</code> mode unless you specify the <code class="codeph">FORCE</code> keyword.
                  </p>
                  <p>If you do not specify <code class="codeph">READ</code> <code class="codeph">WRITE</code> or <code class="codeph">READ</code> <code class="codeph">ONLY</code>, then the default is <code class="codeph">READ</code> <code class="codeph">WRITE</code>. The exception is when the PDB belongs to a CDB that is used as a physical standby database, in which case the default is <code class="codeph">READ</code> <code class="codeph">ONLY</code>.
                  </p>
                  <p><span class="bold">READ WRITE</span></p>
                  <p>Specify this clause to change the open mode to <code class="codeph">READ</code> <code class="codeph">WRITE</code>.
                  </p>
                  <p><span class="bold">READ ONLY</span></p>
                  <p>Specify this clause to change the open mode to <code class="codeph">READ</code> <code class="codeph">ONLY</code>.
                  </p>
                  <p><span class="bold">[READ WRITE] UPGRADE</span></p>
                  <p>Specify this clause to change the open mode to <code class="codeph">MIGRATE</code>. The <code class="codeph">READ</code> <code class="codeph">WRITE</code> keywords are optional and are provided for semantic clarity.
                  </p>
                  <p><span class="bold">RESTRICTED</span></p>
                  <p>If you specify the optional <code class="codeph">RESTRICTED</code> keyword, then the PDB is accessible only to users with the <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code> privilege in the PDB.
                  </p>
                  <p>If the PDB is in <code class="codeph">READ</code> <code class="codeph">WRITE</code> or <code class="codeph">READ</code> <code class="codeph">ONLY</code> mode, and you specify the <code class="codeph">RESTRICTED</code> and <code class="codeph">FORCE</code> keywords while changing the open mode, then all sessions connected to the PDB that do not have the <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code> privilege in the PDB are terminated, and their transactions are rolled back.
                  </p>
                  <p><span class="bold">FORCE</span></p>
                  <p>Specify this keyword to change the open mode of a PDB from <code class="codeph">READ</code> <code class="codeph">WRITE</code> to <code class="codeph">READ</code> <code class="codeph">ONLY</code>, or from <code class="codeph">READ</code> <code class="codeph">ONLY</code> to <code class="codeph">READ</code> <code class="codeph">WRITE</code>. The <code class="codeph">FORCE</code> keyword allows users to remain connected to the PDB while the open mode is changed.
                  </p>
                  <p>When you specify <code class="codeph">FORCE</code> to change the open mode of a PDB from <code class="codeph">READ</code> <code class="codeph">WRITE</code> to <code class="codeph">READ</code> <code class="codeph">ONLY</code>, any <code class="codeph">READ</code> <code class="codeph">WRITE</code> transaction that is open when you change the open mode will not be allowed to perform any more DML operations or to <code class="codeph">COMMIT</code>.
                  </p>
                  <p><span class="bold">Restriction on FORCE</span></p>
                  <p>You cannot specify the <code class="codeph">FORCE</code> keyword if the PDB is currently in <code class="codeph">MIGRATE</code> mode, and you cannot specify the <code class="codeph">FORCE</code> keyword to change a currently open PDB to <code class="codeph">MIGRATE</code> mode.
                  </p>
                  <p><span class="bold">RESETLOGS</span></p>
                  <p>Specify this clause to create a new PDB incarnation and open the PDB in <code class="codeph">READ</code> <code class="codeph">WRITE</code> mode after point-in-time recovery of the PDB.
                  </p>
                  <div class="infoboxnotealso" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-39375349-68EF-4F3A-91AB-C5D0C0D9A130">
                     <p class="notep1">See Also:</p>
                     <p><a href="../bradv/rman-performing-flashback-dbpitr.html#BRADV640" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information on performing point-in-time recovery of CDBs and PDBs
                     </p>
                  </div>
                  <p id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHDCJCE"><span class="bold"><span class="italic">instances_clause</span></span></p>
                  <p>In an Oracle Real Application Clusters environment, use this clause to modify the state of the PDB in the specified Oracle RAC instances. If you omit this clause, then the state of the PDB is modified only in the current instance.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Use <span class="italic"><code class="codeph">instance_name</code></span> to specify one or more instance names, in a comma-separated list enclosed in parenthesis. This modifies the state of the PDB only in those instances.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">ALL</code> to modify the state of the PDB in all instances.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">ALL</code> <code class="codeph">EXCEPT</code> to modify the state of the PDB in all instances except the specified instances.
                        </p>
                     </li>
                  </ul>
                  <p>If the PDB is already open in one or more instances, then you can open it in additional instances, but it must be opened in the same mode as in the instances in which it is already open.</p>
                  <p id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHFFJDB"><span class="bold"><span class="italic">pdb_close</span></span></p>
                  <p>This clause lets you change the open mode of a PDB to <code class="codeph">MOUNTED</code>. When you specify this clause, the PDB must be in <code class="codeph">READ</code> <code class="codeph">WRITE</code>, <code class="codeph">READ</code> <code class="codeph">ONLY</code>, or <code class="codeph">MIGRATE</code> mode. This clause is the PDB equivalent of the SQL*Plus <code class="codeph">SHUTDOWN</code> command.
                  </p>
                  <p><span class="bold">IMMEDIATE</span></p>
                  <p>If you specify the optional <code class="codeph">IMMEDIATE</code> keyword, then this clause is the PDB equivalent of the SQL*Plus <code class="codeph">SHUTDOWN</code> command with the immediate mode. Otherwise, the PDB is shut down with the normal mode.
                  </p>
                  <div class="infoboxnotealso" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-39833A6E-5AEB-45E0-82AB-9F97536E7707">
                     <p class="notep1">See Also:</p>
                     <p><a href="../sqpug/SHUTDOWN.html#SQPUG125" target="_blank"><span class="italic">SQL*Plus User's Guide and Reference</span></a> for more information on the SQL*Plus <code class="codeph">SHUTDOWN</code> command
                     </p>
                  </div>
                  <p><span class="bold"><span class="italic">instances_clause</span></span></p>
                  <p>In an Oracle Real Application Clusters environment, use this clause to modify the state of the PDB in the specified Oracle RAC instances. You can close a PDB in some instances and leave it open in others. Refer to the <span class="italic"><a href="ALTER-PLUGGABLE-DATABASE.html#GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CCHDCJCE">instances_clause</a></span> for the full semantics of this clause.
                  </p>
                  <p><span class="bold"><span class="italic">relocate_clause</span></span></p>
                  <p>In an Oracle Real Application Clusters environment, use this clause to instruct the database to reopen the PDB on a different Oracle RAC instance.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify <code class="codeph">RELOCATE</code> to reopen the PDB on a different instance that is selected by Oracle Database.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">RELOCATE</code> <code class="codeph">TO</code> <code class="codeph">'</code><span class="italic"><code class="codeph">instance_name</code></span><code class="codeph">'</code> to reopen the PDB in the specified instance.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">NORELOCATE</code> to close the PDB in the current instance. This is the default.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold"><span class="italic">pdb_save_or_discard_state</span></span></p>
                  <p>Use this clause to instruct the database to save or discard the open mode of the PDB when the CDB restarts.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you specify <code class="codeph">SAVE</code>, then the PDB's open mode after the CDB restarts will be identical to its open mode just before the CDB restarted.
                        </p>
                     </li>
                     <li>
                        <p>If you specify <code class="codeph">DISCARD</code>, then the PDB's open mode after the CDB restarts will be <code class="codeph">MOUNTED</code>. This is the default.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold"><span class="italic">instances_clause</span></span></p>
                  <p>In an Oracle Real Application Clusters environment, use this clause to instruct the database to save or discard the open mode of the PDB in the specified Oracle RAC instances. If you omit this clause, then the database applies the <code class="codeph">SAVE</code> or <code class="codeph">DISCARD</code> setting only to the PDB in the current instance.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Use <span class="italic"><code class="codeph">instance_name</code></span> to specify one or more instance names, in a comma-separated list enclosed in parenthesis. This applies the <code class="codeph">SAVE</code> or <code class="codeph">DISCARD</code> setting to the PDB only in those instances.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">ALL</code> to apply the <code class="codeph">SAVE</code> or <code class="codeph">DISCARD</code> setting to the PDB in all instances.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">ALL</code> <code class="codeph">EXCEPT</code> to apply the <code class="codeph">SAVE</code> or <code class="codeph">DISCARD</code> setting to the PDB in all instances except the specified instances.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-31DC2763-6B2B-49C5-A158-D3DEB9C9CEEF"><span class="italic">pdb_change_state_from_root</span></p>
                  <p><a id="d241038e2481" class="indexterm-anchor"></a><a id="d241038e2487" class="indexterm-anchor"></a>This clause enables you to modify the state of one or more PDBs.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify the <span class="italic"><code class="codeph">pdb_name</code></span> for one or more PDBs whose state you want to modify.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">ALL</code> to modify the state of all PDBs in the CDB.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">ALL</code> <code class="codeph">EXCEPT</code> to modify the state of all PDBs in the CDB except those specified by using <span class="italic"><code class="codeph">pdb_name</code></span>.
                        </p>
                     </li>
                  </ul>
                  <p>If a PDB is already in the specified state, then the PDB's state is unchanged and no error is returned. If the state of a PDB cannot be changed, then an error occurs only for that PDB.</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__APPLICATION_CLAUSES-5DDD4A9F">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-01C26D0F-416D-43D8-8F13-DC56ED86DC8A"><span class="italic">application_clauses</span></p>
                  <p>The <code class="codeph">APPLICATION</code> clauses allow you to perform the following operations in an application container:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Install, patch, upgrade, and uninstall applications</p>
                     </li>
                     <li>
                        <p>Register application versions and patch numbers</p>
                     </li>
                     <li>
                        <p>Keep applications in sync between the application root and application PDBs</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-A06E998A-BB9D-4A2A-9683-8F1857A12B6A">
                     <p class="notep1">See Also:</p>
                     <p><a href="../multi/administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" target="_blank"><span class="italic">Oracle Database Administrator’s Guide</span></a> for more information on administering application containers
                     </p>
                  </div>
                  <p><span class="bold">Specifying Application Names</span></p>
                  <p>Most of the <span class="italic"><code class="codeph">application_clauses</code></span> require you to specify an application name. The maximum length of an application name is 30 bytes. The name must satisfy the requirements listed in <span class="q">"<a href="Database-Object-Names-and-Qualifiers.html#GUID-75337742-67FD-4EC0-985F-741C93D918DA">Database Object Naming Rules</a>"</span>. The application name must be unique within an application container.
                  </p>
                  <p><span class="bold">Specifying Application Versions</span></p>
                  <p>Several of the <span class="italic"><code class="codeph">application_clauses</code></span> require you to specify an application version. The application version can be up to 30 bytes in length and can contain alphanumeric characters, punctuations marks, and spaces. The application version is case-sensitive and must be enclosed in single quotation marks.
                  </p>
                  <p><span class="bold">Specifying Comments</span></p>
                  <p>Several of the <span class="italic"><code class="codeph">application_clauses</code></span> allow you to specify a comment to associate with an application install, patch, or upgrade operation. For <span class="italic"><code class="codeph">comment</code></span>, enter a character string enclosed in single quotation marks.
                  </p>
                  <p><span class="bold">INSTALL Clauses</span></p>
                  <p>Use the <code class="codeph">INSTALL</code> clauses when installing an application in an application container. The current container must be the application root, not an application PDB.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify the <code class="codeph">BEGIN</code> <code class="codeph">INSTALL</code> clause before you start installing the application.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use <span class="italic"><code class="codeph">app_name</code></span> to assign a name to the application.
                              </p>
                           </li>
                           <li>
                              <p>Use <span class="italic"><code class="codeph">app_version</code></span> to assign a version to the application.
                              </p>
                           </li>
                           <li>
                              <p>The optional <code class="codeph">COMMENT</code> clause allows you to enter a comment to be associated with the application version created by this installation.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>Specify the <code class="codeph">END</code> <code class="codeph">INSTALL</code> clause after you have finished installing the application.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You must specify the same <span class="italic"><code class="codeph">app_name</code></span> that you specified for the corresponding <code class="codeph">BEGIN</code> <code class="codeph">INSTALL</code> clause.
                              </p>
                           </li>
                           <li>
                              <p>You need not specify <span class="italic"><code class="codeph">app_version</code></span>, but if you do, then you must specify the same version that you specified for the corresponding <code class="codeph">BEGIN</code> <code class="codeph">INSTALL</code> clause.
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p><span class="bold">PATCH Clauses</span></p>
                  <p>Use the <code class="codeph">PATCH</code> clauses when patching an application in an application container. The current container must be the application root, not an application PDB.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify the <code class="codeph">BEGIN</code> <code class="codeph">PATCH</code> clause before you start patching the application.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>For <span class="italic"><code class="codeph">app_name</code></span>, specify the name of the application you want to patch.
                              </p>
                           </li>
                           <li>
                              <p>For <span class="italic"><code class="codeph">number</code></span>, specify the patch number.
                              </p>
                           </li>
                           <li>
                              <p>The optional <code class="codeph">MINIMUM</code> <code class="codeph">VERSION</code> clause allows you to specify the minimum version at which the application must be before the patch can be applied. For <span class="italic"><code class="codeph">app_version</code></span>, specify the minimum application version. If the current application version is lower than the minimum application version, then an error occurs. If you omit this clause, then the minimum version is the current application version.
                              </p>
                           </li>
                           <li>
                              <p>The optional <code class="codeph">COMMENT</code> clause allows you to enter a comment to be associated with the patch.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>Specify the <code class="codeph">END</code> <code class="codeph">PATCH</code> clause after you finish patching the application.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You must specify the same <span class="italic"><code class="codeph">app_name</code></span> that you specified for the corresponding <code class="codeph">BEGIN</code> <code class="codeph">PATCH</code> clause.
                              </p>
                           </li>
                           <li>
                              <p>You need not specify <span class="italic"><code class="codeph">number</code></span>, but if you do, then you must specify the same value that you specified for the corresponding <code class="codeph">BEGIN</code> <code class="codeph">PATCH</code> clause.
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p><span class="bold">UPGRADE Clauses</span></p>
                  <p>Use the <code class="codeph">UPGRADE</code> clauses when upgrading an application in an application container. The current container must be the application root, not an application PDB.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify the <code class="codeph">BEGIN</code> <code class="codeph">UPGRADE</code> clause before you start upgrading the application.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>For <span class="italic"><code class="codeph">app_name</code></span>, specify the name of the application you want to upgrade.
                              </p>
                           </li>
                           <li>
                              <p>For <span class="italic"><code class="codeph">start_app_version</code></span>, specify the version from which you are upgrading the application. If this version does not match the current application version, then an error occurs.
                              </p>
                           </li>
                           <li>
                              <p>For <span class="italic"><code class="codeph">end_app_version</code></span>, specify the version to which you are upgrading the application.
                              </p>
                           </li>
                           <li>
                              <p>The optional <code class="codeph">COMMENT</code> clause allows you to enter a comment to be associated with the upgrade.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>Specify the <code class="codeph">END</code> <code class="codeph">UPGRADE</code> clause after you finish upgrading the application.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You must specify the same <span class="italic"><code class="codeph">app_name</code></span> that you specified for the corresponding <code class="codeph">BEGIN</code> <code class="codeph">UPGRADE</code> clause.
                              </p>
                           </li>
                           <li>
                              <p>You need not specify <code class="codeph">TO</code> <span class="italic"><code class="codeph">end_app_version</code></span>, but if you do, then you must specify the same version that you specified for the corresponding <code class="codeph">BEGIN</code> <code class="codeph">UPGRADE</code> clause.
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p><span class="bold">UNINSTALL Clauses</span></p>
                  <p>Use the <code class="codeph">UNINSTALL</code> clauses when uninstalling an application from an application container. The current container must be the application root, not an application PDB.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify the <code class="codeph">BEGIN</code> <code class="codeph">UNINSTALL</code> clause before you start uninstalling the application.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>For <span class="italic"><code class="codeph">app_name</code></span>, specify the name of the application you want to uninstall.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>Specify the <code class="codeph">END</code> <code class="codeph">UNINSTALL</code> clause after you have finished uninstalling the application.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You must specify the same <span class="italic"><code class="codeph">app_name</code></span> that you specified for the corresponding <code class="codeph">BEGIN</code> <code class="codeph">UNINSTALL</code> clause.
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p><span class="bold">SET PATCH</span></p>
                  <p>Use the <code class="codeph">SET</code> <code class="codeph">PATCH</code> clause to register the patch number of an application that is already installed in an application container. This clause allows you to assign a patch number to an application that was not patched using the <code class="codeph">PATCH</code> clauses. This is useful if the application was migrated from a PDB in an earlier Oracle Database release, when the <code class="codeph">PATCH</code> clauses were not available. The current container can be the application root or an application PDB.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For <span class="italic"><code class="codeph">app_name</code></span>, specify the name of an existing application.
                        </p>
                     </li>
                     <li>
                        <p>Use <span class="italic"><code class="codeph">number</code></span> to assign a patch number to the existing application.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">SET VERSION</span></p>
                  <p>Use the <code class="codeph">SET</code> <code class="codeph">VERSION</code> clause to register the version of an application that is already installed in an application container. This clause allows you to assign a name and a version to an application that was not installed using the <code class="codeph">INSTALL</code> clauses. This is useful if the application was migrated from a PDB in an earlier Oracle Database release, when the <code class="codeph">INSTALL</code> clauses were not available. The current container can be the application root or an application PDB.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Use <span class="italic"><code class="codeph">app_name</code></span> to assign a name to the existing application.
                        </p>
                     </li>
                     <li>
                        <p>Use <span class="italic"><code class="codeph">app_version</code></span> to assign a version to the existing application.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">SET COMPATIBILITY VERSION</span></p>
                  <p>Use the <code class="codeph">SET</code> <code class="codeph">COMPATIBILITY</code> <code class="codeph">VERSION</code> clause to set the compatibility version for an application. The compatibility version of an application is the earliest version of the application possible for the application PDBs that belong to the application container. The current container must be the application root, not an application PDB.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Use <span class="italic"><code class="codeph">app_name</code></span> to specify the name of the application.
                        </p>
                     </li>
                     <li>
                        <p>Use <span class="italic"><code class="codeph">app_version</code></span> to specify the compatibility version for the application.
                        </p>
                     </li>
                     <li>
                        <p>If you specify <code class="codeph">CURRENT</code>, then the compatibility version is set to the version of the application in the application root.
                        </p>
                     </li>
                  </ul>
                  <p>The compatibility version is enforced when the compatibility version is set and when an application PDB is created. If there are application root clones that resulted from application upgrades, then all application root clones that correspond to versions earlier than the compatibility version are implicitly dropped.</p>
                  <p><span class="bold">SYNC</span></p>
                  <p>Use the <code class="codeph">SYNC</code> clause to sync an application in an application PDB to the version and patch level of the same application in the application root. This is useful after changes have been made to the application in the application root. The current container must be an application PDB.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For <span class="italic"><code class="codeph">app_name</code></span>, specify the name of an application that exists in the application root. The application may or may not exist in the application PDB.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">ALL SYNC</span></p>
                  <p>Use the <code class="codeph">ALL</code> <code class="codeph">SYNC</code> clause to sync all applications in an application PDB with all applications in the application root. This clause is useful if you have recently added the application PDB to the CDB and would like to sync its applications with the application container. The current container must be an application PDB.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-AF662841-0A8E-4292-BC0D-6EC348F17FEB"><span class="italic">snapshot_clauses</span> 
                  </p>
                  <p>The snapshot clauses allow you to create and manage snapshots of the PDB for the lifetime of the PDB.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__PDB_SNAPSHOT_CLAUSE-34C0BD15"><span class="italic">pdb_snapshot_clause</span> 
                  </p>
                  <p>Specify this clause to enable the creation of PDB snapshots. You can also specify this clause in the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">NONE</code> is the default and means that no snapshots of the PDB can be created.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">MANUAL</code> means that a snapshot of the PDB can be created only manually.
                        </p>
                     </li>
                     <li>
                        <p>If <code class="codeph">snapshot_interval</code> is specified, PDB snapshots will be created automatically at the interval specified. In addition, a user will also be able to create PDB snapshots manually.
                        </p>
                     </li>
                     <li>
                        <p>If expressed in minutes, the <code class="codeph">snapshot_interval</code> must be less than 3000. 
                        </p>
                     </li>
                     <li>
                        <p>If expressed in hours, the <code class="codeph">snapshot_interval</code> must be less than 2000.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__MATERIALIZE_CLAUSE-34C0C445"><span class="italic">materialize_clause</span> 
                  </p>
                  <p>Use this clause to convert a snapshot PDB into a full PDB clone. You can delete and purge a PDB snapshot using the clause in this way.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>This clause can only be specified for PDBs created as a snapshot.</p>
                     </li>
                     <li>
                        <p>All blocks in all datafiles belonging to the PDB will be copied.</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__CREATE_SNAPSHOT_CLAUSE-34C0C96C"><span class="italic">create_snapshot_clause</span> 
                  </p>
                  <p>Use this clause to manually create a PDB snapshot after connecting to the PDB.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>This statement may be issued even if the PDB was set to have PDB snapshots created automatically. </p>
                     </li>
                     <li>
                        <p>If a PDB Snapshot with the specified name already exists, an error will be reported.</p>
                     </li>
                     <li>
                        <p>A PDB Snapshot with specified name will be created.</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__DROP_SNAPSHOT_CLAUSE-34C0CCDA"><span class="italic">drop_snapshot_clause</span> 
                  </p>
                  <p>Use this clause to manually drop a PDB snapshot after connecting to the PDB.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If this snapshot is being used by some PDB, an error will be reported.</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__SET_MAX_PDB_SNAPSHOTS-34C0D074"><span class="italic">set_max_pdb_snapshots</span> 
                  </p>
                  <p>Use this clause to increase or decrease the maximum number of snapshots for a given PDB. You must first connect to the PDB.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If the PDB is not open in read/write mode when issuing the statement, an error is raised.</p>
                     </li>
                     <li>
                        <p>You can drop all PDB snapshots by setting the the max number to 0.</p>
                     </li>
                     <li>
                        <p>The maximum number of snapshots that you can set per PDB is 8.</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__PREPARE_CLAUSE-34B3E881"><span class="italic">prepare_clause</span></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Use this clause to prepare mirror copies of the database. You must provide a <code class="codeph"><span class="codeinlineitalic">mirror_name</span></code> to identify the filegroup that is created. The created filegroup contains all the prepared files. 
                        </p>
                     </li>
                     <li>
                        <p>Specify the number of copies to be prepared by the <code class="codeph">REDUNDANCY</code> options: <code class="codeph">EXTERNAL</code>, <code class="codeph">NORMAL</code>, or <code class="codeph">HIGH</code>.
                        </p>
                     </li>
                     <li>
                        <p>If you do not specify the redundancy of the mirror, the redundancy of the source database is used.</p>
                     </li>
                  </ul>
                  <p><span class="bold">Prepare a Pluggable Database By Name: Example </span></p>
                  <p>If you specify the name ( <span class="italic"><code class="codeph">pdb_name</code></span>) of the pluggable database, it checks if <span class="italic"><code class="codeph">pdb_name</code></span> matches with the current PDB. If it matches, it runs.
                  </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE pdb_name PREPARE MIRROR COPY mirror_name WITH HIGH REDUNDANCY</pre><p><span class="bold">Prepare a Pluggable Database Without a Name: Example </span></p>
                  <p>If you do not specify the name ( <span class="italic"><code class="codeph">pdb_name</code></span>) of the pluggable database, the statement runs on the current PDB.
                  </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE PREPARE MIRROR COPY mirror_name WITH HIGH REDUNDANCY</pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__DROP_MIRROR_COPY-34B3E383"><span class="italic">drop_mirror_copy</span></p>
                  <p>Use this clause to discard mirror copies of data and metadata created by the prepare statement. You must specify the same mirror name that you used for the prepare operation. </p>
                  <p>You cannot use this clause to drop a database that has already been split by the <code class="codeph">CREATE DATABASE</code> or <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-020D8B1D-40BC-4D77-957E-A9531D5D4D85"><span class="italic">lost_write_protection</span></p>
                  <p><span class="bold">Turn on Lost Write for a Pluggable Database : Example</span></p><pre class="oac_no_warn" dir="ltr"> ALTER PLUGGABLE DATABASE 
   ENABLE LOST WRITE PROTECTION</pre><p><span class="bold">Turn off Lost Write for a Pluggable Database : Example</span></p><pre class="oac_no_warn" dir="ltr"> ALTER PLUGGABLE DATABASE 
   DISABLE LOST WRITE PROTECTION</pre><p>Note that disabling lost write for the database does not deallocate the lost write storage. You must use the <code class="codeph">DROP TABLESPACE</code> statement to deallocate lost write storage.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A29491AD-8F0F-4E52-9D94-57FC3FF8FBC7__GUID-47EAD2F3-2541-4A3D-A190-8EDCDC1C2855">Examples</p>
                  <p><span class="bold">Unplugging a PDB from a CDB: Example</span></p>
                  <p>The following statement unplugs PDB <code class="codeph">pdb1</code> and stores metadata for the PDB into XML file <code class="codeph">/oracle/data/pdb1.xml</code>:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE pdb1
  UNPLUG INTO '/oracle/data/pdb1.xml';</pre><p><span class="bold">Modifying the Settings of a PDB: Example</span></p>
                  <p>The following statement changes the limit for the amount of storage used by all tablespaces in PDB <code class="codeph">pdb2</code> to 500M:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE pdb2
  STORAGE (MAXSIZE 500M);</pre><p><span class="bold">Taking the Data Files of a PDB Offline: Example</span></p>
                  <p>The following statement takes the data files associated with PDB <code class="codeph">pdb3</code> offline:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE pdb3
  DATAFILE ALL OFFLINE;</pre><p><span class="bold">Changing the State of a PDB: Examples</span></p>
                  <p>Assume that PDB <code class="codeph">pdb4</code> is closed—that is, its open mode is <code class="codeph">MOUNTED</code>. The following statement opens <code class="codeph">pdb4</code> with open mode <code class="codeph">READ</code> <code class="codeph">ONLY</code>:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE pdb4
  OPEN READ ONLY;
</pre><p>The following statement uses the <code class="codeph">FORCE</code> keyword to change the open mode of <code class="codeph">pdb4</code> from <code class="codeph">READ</code> <code class="codeph">ONLY</code> to <code class="codeph">READ</code> <code class="codeph">WRITE</code>:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE pdb4
  OPEN READ WRITE FORCE;
</pre><p>The following statement closes PDB <code class="codeph">pdb4</code>:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE pdb4
  CLOSE;
</pre><p>The following statement opens PDB pdb4 with open mode <code class="codeph">READ</code> <code class="codeph">ONLY</code>. Because the <code class="codeph">RESTRICTED</code> keyword is specified, the PDB is accessible only to users with the <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code> privilege in the PDB.
                  </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE pdb4
  OPEN READ ONLY RESTRICTED;
</pre><p>Assume that PDB <code class="codeph">pdb5</code> is closed—that is, its open mode is <code class="codeph">MOUNTED</code>. In an Oracle Real Application Clusters environment, the following statement opens PDB <code class="codeph">pdb5</code> with open mode <code class="codeph">READ</code> <code class="codeph">WRITE</code> in instances <code class="codeph">ORCLDB_1</code> and <code class="codeph">ORCLDB_2</code>:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE pdb5
  OPEN READ WRITE INSTANCES = ('ORCLDB_1', 'ORCLDB_2');
</pre><p>In an Oracle Real Application Clusters environment, the following statement closes PDB <code class="codeph">pdb6</code> in the current instance and instructs the database to reopen <code class="codeph">pdb6</code> in instance <code class="codeph">ORCLDB_3</code>:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE pdb6
  CLOSE RELOCATE TO 'ORCLDB_3';</pre><p><span class="bold">Changing the State of All PDBs in a CDB: Example</span></p>
                  <p>Assume that the current container is the root. The following statement opens all PDBs in the CDB with open mode <code class="codeph">READ</code> <code class="codeph">ONLY</code>:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE ALL
  OPEN READ ONLY;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id='05649.listener-control-utility.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter describes the commands and associated syntax of the Listener Control utility. The terms "SQL*Net" and "Net Services" are used interchangeably throughout Oracle documentation and both these terms refer to the same functionality.">
      <meta name="description" content="This chapter describes the commands and associated syntax of the Listener Control utility. The terms "SQL*Net" and "Net Services" are used interchangeably throughout Oracle documentation and both these terms refer to the same functionality.">
      <title>Listener Control Utility</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Net Services Reference ">
      <meta property="og:description" content="This chapter describes the commands and associated syntax of the Listener Control utility. The terms "SQL*Net" and "Net Services" are used interchangeably throughout Oracle documentation and both these terms refer to the same functionality.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Net Services Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-net-services-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-24T04:17:11-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96314-05">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="changes-in-this-release.html" title="Previous" type="text/html">
      <link rel="next" href="oracle-connection-manager-control-utility.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Net Services Reference">
    <meta name="dcterms.isVersionOf" content="NETRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="changes-in-this-release.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oracle-connection-manager-control-utility.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Net Services Reference </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Listener Control Utility</li>
            </ol>
            <a id="GUID-3E108E50-0B69-4F46-82D7-48D8DBDCC30A" name="GUID-3E108E50-0B69-4F46-82D7-48D8DBDCC30A"></a>
            
            <h2 id="NETRF-GUID-3E108E50-0B69-4F46-82D7-48D8DBDCC30A" class="sect2"><span class="enumeration_chapter">1 </span>Listener Control Utility
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes the commands and associated syntax of the Listener Control utility. The terms "SQL*Net" and "Net Services" are used interchangeably throughout Oracle documentation and both these terms refer to the same functionality.</p>
               <p></p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="listener-control-utility.html#GUID-0C1A4AF9-BC34-40F5-9813-E2066A480292">Listener Control Utility Overview</a><br>To perform basic management functions on one or more listeners, you can use the Listener Control utility commands. You can also view and change parameter settings.
                  </li>
                  <li class="ulchildlink"><a href="listener-control-utility.html#GUID-212C4B12-11DC-4F10-AA02-73FF3DFA91BA">SET and SHOW Commands of the Listener Control utility</a><br>The <code class="codeph">SET</code> and <code class="codeph">SHOW</code> commands enable you to alter and view listener configuration parameters. 
                  </li>
                  <li class="ulchildlink"><a href="listener-control-utility.html#GUID-B2DB62FF-113E-43CF-AB31-020E0F97A15A">Distributed Operations</a><br>The Listener Control utility can perform operations on a local or a remote listener.
                  </li>
                  <li class="ulchildlink"><a href="listener-control-utility.html#GUID-8085E13A-AC8B-4AE2-B934-5DFDFDEC8F46">Oracle Net Listener Security</a><br>Authentication for listener administration depends on whether you access the listener locally, or remotely. 
                  </li>
                  <li class="ulchildlink"><a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86">Listener Control Utility Commands</a><br>Use the Listener Control utility commands to manage and configure listeners.
                  </li>
               </ul>
            </div>
            <a id="NETRF101"></a><div class="sect2"><a id="GUID-0C1A4AF9-BC34-40F5-9813-E2066A480292" name="GUID-0C1A4AF9-BC34-40F5-9813-E2066A480292"></a><h3 id="NETRF-GUID-0C1A4AF9-BC34-40F5-9813-E2066A480292" class="sect3"><span class="enumeration_section">1.1 </span>Listener Control Utility Overview
               </h3>
               <div>
                  <div>The Listener Control utility enables you to administer <a href="glossary.html#GUID-191913FB-765E-491C-A8D5-A59F366EB87D"><span class="xrefglossterm">listeners</span></a>. <span>To perform basic management functions on one or more listeners, you can use the Listener Control utility commands. You can also view and change parameter settings.</span></div>
                  <p>The basic syntax of Listener Control utility commands is as follows:</p><pre class="oac_no_warn" dir="ltr">lsnrctl <span class="variable" translate="no">command</span> <span class="variable" translate="no">listener_name
</span></pre><p>In the preceding command, <code class="codeph"><span class="variable" translate="no">listener_name</span></code> is the name of the listener that you want to administer. If you do not specify a specific listener in the command string, then the command is directed to the default listener name, <code class="codeph">LISTENER</code>.
                  </p>
                  <p>You can also issue Listener Control utility commands at the <code class="codeph">LSNRCTL&gt;</code> program prompt. To obtain the prompt, enter <code class="codeph">lsnrctl</code> with no arguments at the operating system command line. When you run <code class="codeph">lsnrctl</code>, the program is started. You can then enter the necessary commands from the program prompt. The basic syntax of issuing commands from <code class="codeph">LSNRCTL&gt;</code> program prompt is as follows: 
                  </p><pre class="oac_no_warn" dir="ltr">lsnrctl
LSNRCTL&gt; <span class="variable" translate="no">command</span> <span class="variable" translate="no">listener_name</span></pre><p>You can combine commands in a standard text file, and then run them as a sequence of commands. To run in batch mode, use the following format:</p>
                  <p><code class="codeph">lsnrctl @<span class="variable" translate="no">file_name</span></code></p>
                  <p>To identify comments in the batch script, you can use either <code class="codeph">REM</code> or #. All other lines are considered commands. Any commands that typically require confirmation do not require confirmation during batch processing.
                  </p>
                  <p>For most commands, the Listener Control utility establishes an Oracle Net connection with the listener that is used to transmit the command. To initiate an Oracle Net connection to the listener, the Listener Control utility must obtain the protocol addresses for the named listener or a listener named <code class="codeph">LISTENER</code>. This is done by resolving the listener name with one of the following mechanisms:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">listener.ora</code> file in the directory specified by the <code class="codeph">TNS_ADMIN</code> environment variable.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">listener.ora</code> file in the <code><span class="variable" translate="no">ORACLE_HOME</span>/network/admin</code> directory.
                        </p>
                     </li>
                     <li>
                        <p>Naming method;  for example, a <code class="codeph">tnsnames.ora</code> file.
                        </p>
                     </li>
                  </ul>
                  <p>If none of the preceding mechanisms resolve the listener name, then the Listener Control utility uses the default listener name <code class="codeph">LISTENER</code>, resolves the host name IP address, and uses port 1521. 
                  </p>
                  <p>The Listener Control utility supports the following types of commands:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Operational commands, such as <code class="codeph">START</code>, and <code class="codeph">STOP</code>.
                        </p>
                     </li>
                     <li>
                        <p>Modifier commands, such as <code class="codeph">SET TRC_LEVEL</code>. 
                        </p>
                     </li>
                     <li>
                        <p>Informational commands, such as <code class="codeph">STATUS</code>, and <code class="codeph">SHOW LOG_FILE</code>.
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="listener-control-utility.html#GUID-BC8E6BF1-0780-4B47-98F5-E1D2A4DC4202" title="The Listener Control utility command START starts the named listener.">START</a></li>
                        <li><a href="listener-control-utility.html#GUID-B6D0FE95-047C-4641-82D6-187DD269E1BA" title="The Listener Control utility command STOP stops the named listener.">STOP</a></li>
                        <li><a href="listener-control-utility.html#GUID-FCA1904A-0C3D-415A-AC06-C05320C38D9E" title="The Listener Control utility command SET TRC_LEVEL sets a specific level of tracing for the listener.">SET TRC_LEVEL</a></li>
                        <li><a href="listener-control-utility.html#GUID-88A9E4D0-8A55-43B1-9E6A-1EEF4F500428" title="The Listener Control utility command STATUS displays basic status information about a listener.">STATUS</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-3E108E50-0B69-4F46-82D7-48D8DBDCC30A" title="This chapter describes the commands and associated syntax of the Listener Control utility. The terms "SQL*Net" and "Net Services" are used interchangeably throughout Oracle documentation and both these terms refer to the same functionality.">Listener Control Utility</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="NETRF102"></a><div class="sect2"><a id="GUID-212C4B12-11DC-4F10-AA02-73FF3DFA91BA" name="GUID-212C4B12-11DC-4F10-AA02-73FF3DFA91BA"></a><h3 id="NETRF-GUID-212C4B12-11DC-4F10-AA02-73FF3DFA91BA" class="sect3"><span class="enumeration_section">1.2 </span>SET and SHOW Commands of the Listener Control utility
               </h3>
               <div>
                  <p>The <code class="codeph">SET</code> and <code class="codeph">SHOW</code> commands enable you to alter and view listener configuration parameters. 
                  </p>
                  <p>You can use the <code class="codeph">SET</code> command to alter parameter values for a specified listener. You set the name of the listener to administer using the <code class="codeph">SET CURRENT_LISTENER</code> command. Parameter values remain in effect until the listener is shut down. If you want these settings to persist, then use the <code class="codeph">SAVE_CONFIG</code> command to save changes to the <code class="codeph">listener.ora</code> file. . 
                  </p>
                  <p>You can use the <code class="codeph">SHOW</code> command to display the current value of a configuration setting.
                  </p>
               </div>
               <div>
                  <div class="linklist">
                     <div><a href="listener-control-utility.html#GUID-287F06EC-2A68-4899-9E71-3C81B8DB1597" title="The Listener Control utility command SET alters the parameter values for the listener.">SET</a></div>
                     <div><a href="listener-control-utility.html#GUID-D19254D2-C0C8-4855-9C1F-648CE928BAE3" title="The Listener Control utility command SET CURRENT_LISTENER sets the name of the listener that you want to administer.">SET CURRENT_LISTENER</a></div>
                     <div><a href="listener-control-utility.html#GUID-AFC6727A-76B7-4114-9910-5BB54B308833" title="The Listener Control utility command SAVE_CONFIG save the current configuration state of the listener to the listener.ora file.">SAVE_CONFIG</a></div>
                     <div><a href="listener-control-utility.html#GUID-1148E1DB-72D7-416E-B5AE-098093DAA217" title="The Listener Control utility command SHOW displays the current parameter values for the listener.">SHOW</a></div>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-3E108E50-0B69-4F46-82D7-48D8DBDCC30A" title="This chapter describes the commands and associated syntax of the Listener Control utility. The terms "SQL*Net" and "Net Services" are used interchangeably throughout Oracle documentation and both these terms refer to the same functionality.">Listener Control Utility</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-B2DB62FF-113E-43CF-AB31-020E0F97A15A" name="GUID-B2DB62FF-113E-43CF-AB31-020E0F97A15A"></a><h3 id="NETRF-GUID-B2DB62FF-113E-43CF-AB31-020E0F97A15A" class="sect3"><span class="enumeration_section">1.3 </span>Distributed Operations
               </h3>
               <div>
                  <p>The Listener Control utility can perform operations on a local or a remote listener.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B2DB62FF-113E-43CF-AB31-020E0F97A15A__GUID-D5B2E9E0-EBDA-40F0-9C55-2275237B8165">Set Up a Computer to Remotely Administer a Listener</p>
                     <p>Ensure that the Listener Control utility (<code class="codeph">lsnrctl</code>) executable is installed in the <code><span class="variable" translate="no">ORACLE_HOME</span>/bin</code> directory. You can resolve the name of the listener that you want to administer either through a <code class="codeph">listener.ora</code> file, or by a naming method.
                     </p>
                     <p>When you administer a listener remotely, you can issue all commands except <code class="codeph">START</code>. However, the Listener Control utility can only start the listener on the same computer from which the utility is running. 
                     </p>
                     <p>When issuing commands, specify the listener name as an argument. If you omit the listener name in the command, then the listener name set with the command <code class="codeph">SET CURRENT_LISTENER</code> is used. If the listener name is not set with that command, then the command is directed to the default listener name, <code class="codeph">LISTENER</code>. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-B2DB62FF-113E-43CF-AB31-020E0F97A15A__GUID-1C20A40A-2DBD-4CCC-B039-5EA8EB707A3B">
                     <p class="titleinexample">Example 1-1 Issuing Commands Using the Listener Control Utility</p> <pre class="pre codeblock"><code>LSNRCTL&gt; SERVICES lsnr</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-3E108E50-0B69-4F46-82D7-48D8DBDCC30A" title="This chapter describes the commands and associated syntax of the Listener Control utility. The terms "SQL*Net" and "Net Services" are used interchangeably throughout Oracle documentation and both these terms refer to the same functionality.">Listener Control Utility</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETRF104"></a><div class="sect2"><a id="GUID-8085E13A-AC8B-4AE2-B934-5DFDFDEC8F46" name="GUID-8085E13A-AC8B-4AE2-B934-5DFDFDEC8F46"></a><h3 id="NETRF-GUID-8085E13A-AC8B-4AE2-B934-5DFDFDEC8F46" class="sect3"><span class="enumeration_section">1.4 </span>Oracle Net Listener Security
               </h3>
               <div>
                  <p>Authentication for listener administration depends on whether you access the listener locally, or remotely. </p>
                  <p>Local listener administration is secure through local operating system authentication, which restricts listener administration to the user account that started the listener, or to the super user. By default, remote listener administration is disabled.</p>
                  <p>Oracle recommends that you perform listener administration in the default mode, and access the system remotely using a remote login. When you administer the listener remotely, use either Oracle Enterprise Manager Cloud Control or Secure Shell (SSH) to access the remote host.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-3E108E50-0B69-4F46-82D7-48D8DBDCC30A" title="This chapter describes the commands and associated syntax of the Listener Control utility. The terms "SQL*Net" and "Net Services" are used interchangeably throughout Oracle documentation and both these terms refer to the same functionality.">Listener Control Utility</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETRF105"></a><div class="sect2"><a id="GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" name="GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86"></a><h3 id="NETRF-GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" class="sect3"><span class="enumeration_section">1.5 </span>Listener Control Utility Commands
               </h3>
               <div>
                  <p>Use the Listener Control utility commands to manage and configure listeners.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-AC876CB1-1BDD-4D28-B3B0-D7687DF2829E">EXIT</a><br>The Listener Control utility command <code class="codeph">EXIT</code> exits from the Listener Control utility, and returns you to the operating system prompt.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-42C16412-1C87-4EA4-A926-FE55079C4239">HELP</a><br>The Listener Control utility command <code class="codeph">HELP</code> provides a list of all the Listener Control utility commands, or provides syntax help for a particular Listener Control utility command.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-0C765D76-6BDB-4428-A02F-2421CA5F8961">QUIT</a><br>The Listener Control utility command <code class="codeph">QUIT</code> exits from the Listener Control utility and returns you to the operating system prompt.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-1BE648E7-3AB8-4DE2-97DA-E136DF6F4280">RELOAD</a><br>The Listener Control utility command <code class="codeph">RELOAD</code> reloads the <code class="codeph">listener.ora</code> file, so that you can add or change statically configured services without stopping the listener.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-AFC6727A-76B7-4114-9910-5BB54B308833">SAVE_CONFIG</a><br>The Listener Control utility command <code class="codeph">SAVE_CONFIG</code> save the current configuration state of the listener to the <code class="codeph">listener.ora</code> file.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-1430CBAA-A2F5-405E-B09B-AB2774457408">SERVICES</a><br>The Listener Control utility command <code class="codeph">SERVICES</code> returns detailed information about the database services, instances, and service handlers to which the listener forwards client connection requests.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-287F06EC-2A68-4899-9E71-3C81B8DB1597">SET</a><br>The Listener Control utility command <code class="codeph">SET</code> alters the parameter values for the listener. 
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-D19254D2-C0C8-4855-9C1F-648CE928BAE3">SET CURRENT_LISTENER</a><br>The Listener Control utility command <code class="codeph">SET CURRENT_LISTENER</code> sets the name of the listener that you want to administer.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-61FF2C17-87B5-4270-B76A-9CD3C764945E">SET DISPLAYMODE</a><br>The Listener Control utility command <code class="codeph">SET DISPLAYMODE</code> 
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-20787F6E-1848-4CDA-83DC-75D1FBD24D85">SET INBOUND_CONNECT_TIMEOUT</a><br>The Listener Control utility command <code class="codeph">SET INBOUND_CONNECT_TIMEOUT</code> specifies the time, in seconds, for the client to complete its connect request to the listener after establishing the network connection.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-418C7DDD-CCC8-4C5F-97A0-45AE34B11858">SET LOG_DIRECTORY</a><br>The Listener Control utility command <code class="codeph">SET LOG_DIRECTORY</code> sets the destination directory where the listener log file is written.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-DA6DE6D3-C2BE-40A1-A2B7-AEA8A4C48DC5">SET LOG_FILE</a><br>The Listener Control utility command <code class="codeph">SET LOG_FILE</code> sets the name for the listener log file.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-4ED87851-6459-4ED5-878F-92D413250327">SET LOG_STATUS</a><br>The Listener Control utility command <code class="codeph">SET LOG_STATUS</code> turns listener logging on or off.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-9CDB2EF6-96E5-45E5-B87D-F1E4F5DF5E32">SET SAVE_CONFIG_ON_STOP</a><br> The Listener Control utility command <code class="codeph">SET SAVE_CONFIG_ON_STOP</code> specifies whether changes made to the parameter values for the listener by the <code class="codeph">SET</code> command are saved to the <code class="codeph">listener.ora</code> file at the time that the listener is stopped with the <code class="codeph">STOP</code> command. 
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-DC9190C4-3857-42B1-8DA3-4116C0B29FA2">SET TRC_DIRECTORY</a><br>The Listener Control utility command <code class="codeph">SET TRC_DIRECTORY</code> sets the destination directory where the listener trace files are written.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-B4BFBB4C-CA67-46C3-A80B-A49D90D469C4">SET TRC_FILE</a><br>The Listener Control utility command <code class="codeph">SET TRC_FILE</code> sets the name of the listener trace file.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-FCA1904A-0C3D-415A-AC06-C05320C38D9E">SET TRC_LEVEL</a><br>The Listener Control utility command <code class="codeph">SET TRC_LEVEL</code> sets a specific level of tracing for the listener.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-1148E1DB-72D7-416E-B5AE-098093DAA217">SHOW</a><br>The Listener Control utility command <code class="codeph">SHOW</code> displays the current parameter values for the listener.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-E9C71077-EB22-4FF1-955F-E4D95573B251">SPAWN</a><br> The Listener Control utility command SPAWN starts a program stored on the computer on which the listener is running,and that is listed with an alias in the <code class="codeph">listener.ora</code> file.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-BC8E6BF1-0780-4B47-98F5-E1D2A4DC4202">START</a><br>The Listener Control utility command <code class="codeph">START</code> starts the named listener.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-88A9E4D0-8A55-43B1-9E6A-1EEF4F500428">STATUS</a><br>The Listener Control utility command <code class="codeph">STATUS</code> displays basic status information about a listener.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-B6D0FE95-047C-4641-82D6-187DD269E1BA">STOP</a><br>The Listener Control utility command <code class="codeph">STOP</code> stops the named listener.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-BDDB7569-A3A9-4E8C-8906-68DFC5440BC6">TRACE</a><br>The Listener Control utility command <code class="codeph">TRACE</code> sets tracing for the listener.
                     </li>
                     <li class="ulchildlink"><a href="listener-control-utility.html#GUID-FF561B88-BFE8-4A97-A193-ED61DB8009D2">VERSION</a><br>The Listener Control utility command <code class="codeph">VERSION</code> displays the current version of the Listener Control utility.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-3E108E50-0B69-4F46-82D7-48D8DBDCC30A" title="This chapter describes the commands and associated syntax of the Listener Control utility. The terms "SQL*Net" and "Net Services" are used interchangeably throughout Oracle documentation and both these terms refer to the same functionality.">Listener Control Utility</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-AC876CB1-1BDD-4D28-B3B0-D7687DF2829E" name="GUID-AC876CB1-1BDD-4D28-B3B0-D7687DF2829E"></a><h4 id="NETRF-GUID-AC876CB1-1BDD-4D28-B3B0-D7687DF2829E" class="sect4"><span class="enumeration_section">1.5.1 </span>EXIT
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">EXIT</code> exits from the Listener Control utility, and returns you to the operating system prompt.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-AC876CB1-1BDD-4D28-B3B0-D7687DF2829E__GUID-5AB0D0D9-9830-4B1E-8866-217E47592D7E">Purpose</p>
                        <p>To exit from the Listener Control utility, and return to the operating system prompt.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AC876CB1-1BDD-4D28-B3B0-D7687DF2829E__GUID-31F78997-3A86-4A62-9F2B-B83E45E748AA">Prerequisites</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AC876CB1-1BDD-4D28-B3B0-D7687DF2829E__GUID-42EA7384-EC34-497D-AF48-380BD5AD8FA2">Syntax</p>
                        <p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; EXIT</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AC876CB1-1BDD-4D28-B3B0-D7687DF2829E__GUID-4B97B5E1-D53C-4057-8390-3DD258BF33A6">Arguments</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AC876CB1-1BDD-4D28-B3B0-D7687DF2829E__GUID-C1EC0B92-6779-4B5E-8145-0FC92916E348">Usage Notes</p>
                        <p>This command is identical to the <code class="codeph">QUIT</code> command.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AC876CB1-1BDD-4D28-B3B0-D7687DF2829E__GUID-235BF3EC-9417-4F97-8832-623B878C1AF2">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; EXIT</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF707"></a><a id="NETRF708"></a><a id="NETRF710"></a><a id="NETRF711"></a><a id="NETRF712"></a><a id="NETRF108"></a><div class="sect3"><a id="GUID-42C16412-1C87-4EA4-A926-FE55079C4239" name="GUID-42C16412-1C87-4EA4-A926-FE55079C4239"></a><h4 id="NETRF-GUID-42C16412-1C87-4EA4-A926-FE55079C4239" class="sect4"><span class="enumeration_section">1.5.2 </span>HELP
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">HELP</code> provides a list of all the Listener Control utility commands, or provides syntax help for a particular Listener Control utility command.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-42C16412-1C87-4EA4-A926-FE55079C4239__GUID-05176D9C-61E2-40D4-9CB8-D702F245D8AB">Purpose</p>
                        <p>To provide a list of all the Listener Control utility commands or provide syntax help for a particular Listener Control utility command.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-42C16412-1C87-4EA4-A926-FE55079C4239__GUID-4D46C8F9-97C2-40AB-8B8A-52BF466F4F28">Prerequisites</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-42C16412-1C87-4EA4-A926-FE55079C4239__GUID-6CF01F79-9CBF-4D44-A453-D9EFAF8BE221">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl HELP <span class="variable" translate="no">command
</span></code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; HELP <span class="variable" translate="no">command</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-42C16412-1C87-4EA4-A926-FE55079C4239__GUID-37280C07-B415-49F2-A8FA-0195321A4F5D">Arguments</p>
                        <p><code class="codeph"><span class="variable" translate="no">command</span></code>: The Listener Control utility command. Commands are shown in the following example output.
                        </p>
                        <p>When you enter a command as an argument to <code class="codeph">HELP</code>, the Listener Control utility displays information about how to use the command. When you enter <code class="codeph">HELP</code> without an argument, the Listener Control utility displays a list of all the commands.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-42C16412-1C87-4EA4-A926-FE55079C4239__GUID-0CDD975B-7957-494B-843C-1042CFDAF939">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; HELP
The following operations are available 
An asterisk (*) denotes a modifier or extended command: 
exit 
quit
reload
services
set* 
show*
spawn 
start
status 
stop 
trace
version</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF713"></a><a id="NETRF714"></a><a id="NETRF716"></a><a id="NETRF717"></a><a id="NETRF718"></a><a id="NETRF719"></a><a id="NETRF109"></a><div class="sect3"><a id="GUID-0C765D76-6BDB-4428-A02F-2421CA5F8961" name="GUID-0C765D76-6BDB-4428-A02F-2421CA5F8961"></a><h4 id="NETRF-GUID-0C765D76-6BDB-4428-A02F-2421CA5F8961" class="sect4"><span class="enumeration_section">1.5.3 </span>QUIT
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">QUIT</code> exits from the Listener Control utility and returns you to the operating system prompt.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0C765D76-6BDB-4428-A02F-2421CA5F8961__GUID-7472986A-1ED3-4B05-9A9D-BF44AFC80057">Purpose</p>
                        <p>To exit from the Listener Control utility and return to the operating system prompt.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0C765D76-6BDB-4428-A02F-2421CA5F8961__GUID-BD57F6A4-ED14-451E-9997-02B9E62AD70D">Prerequisites</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0C765D76-6BDB-4428-A02F-2421CA5F8961__GUID-5FDE42D5-8A6D-4EB4-AAE5-842D704C2842">Syntax</p>
                        <p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; QUIT</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0C765D76-6BDB-4428-A02F-2421CA5F8961__GUID-0A881A65-0C26-4EB5-B18C-D65580B1A644">Arguments</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0C765D76-6BDB-4428-A02F-2421CA5F8961__GUID-9000E10D-DC5D-4E48-806C-39D96C9AC2CF">Usage Notes</p>
                        <p>This command is identical to the <code class="codeph">EXIT</code> command.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0C765D76-6BDB-4428-A02F-2421CA5F8961__GUID-8F36C536-507B-4895-9ABE-A83C72B15779">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; QUIT</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF720"></a><a id="NETRF721"></a><a id="NETRF723"></a><a id="NETRF724"></a><a id="NETRF725"></a><a id="NETRF110"></a><div class="sect3"><a id="GUID-1BE648E7-3AB8-4DE2-97DA-E136DF6F4280" name="GUID-1BE648E7-3AB8-4DE2-97DA-E136DF6F4280"></a><h4 id="NETRF-GUID-1BE648E7-3AB8-4DE2-97DA-E136DF6F4280" class="sect4"><span class="enumeration_section">1.5.4 </span>RELOAD
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">RELOAD</code> reloads the <code class="codeph">listener.ora</code> file, so that you can add or change statically configured services without stopping the listener.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1BE648E7-3AB8-4DE2-97DA-E136DF6F4280__GUID-2C4E6ECA-A869-4CAB-B1E5-740086041595">Purpose</p>
                        <p>To reload the <code class="codeph">listener.ora</code> file. This command enables you to add or change statically configured services without actually stopping the listener. 
                        </p>
                        <p>When you run this command, the database services, instances, service handlers, and listening endpoints previously registered dynamically with the listener are unregistered, and subsequently registered again.</p>
                        <p>To obtain a lightweight reload without dropping registration, use the option <code class="codeph">&#x2013;with_ha</code>. Using this option ensures that registered services remain available to clients during reload.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1BE648E7-3AB8-4DE2-97DA-E136DF6F4280__GUID-1B57B151-EB8E-4B17-9A38-C6F96C12A1D9">Prerequisites</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1BE648E7-3AB8-4DE2-97DA-E136DF6F4280__GUID-362CEBE7-9B9A-4A90-8BD6-A64EDF7FEC80">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl RELOAD [-with_ha] <span class="variable" translate="no">listener_name
</span></code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; RELOAD [-with_ha] <span class="variable" translate="no">listener_name</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1BE648E7-3AB8-4DE2-97DA-E136DF6F4280__GUID-83AC71D2-AEB2-4906-809E-24FF2FCD5453">Arguments</p>
                        <p><code class="codeph"><span class="variable" translate="no">listener_name</span></code>: The listener name, if the default name of <code class="codeph">LISTENER</code> is not used.
                        </p>
                        <p><code class="codeph">-with_ha</code>: command option used with <code class="codeph">RELOAD</code> that indicates that the reload of <code class="codeph">listener.ora</code> is completed without dropping existing registrations.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1BE648E7-3AB8-4DE2-97DA-E136DF6F4280__GUID-9037C3B4-E7A0-4D45-B3A8-3AC44D232391">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; RELOAD
Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=sales-server)(PORT=1521)))
The command completed successfully</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF726"></a><a id="NETRF728"></a><a id="NETRF729"></a><a id="NETRF730"></a><a id="NETRF731"></a><a id="NETRF111"></a><div class="sect3"><a id="GUID-AFC6727A-76B7-4114-9910-5BB54B308833" name="GUID-AFC6727A-76B7-4114-9910-5BB54B308833"></a><h4 id="NETRF-GUID-AFC6727A-76B7-4114-9910-5BB54B308833" class="sect4"><span class="enumeration_section">1.5.5 </span>SAVE_CONFIG
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">SAVE_CONFIG</code> save the current configuration state of the listener to the <code class="codeph">listener.ora</code> file.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-AFC6727A-76B7-4114-9910-5BB54B308833__GUID-8F699526-1598-4C55-B8FA-717EA56479A3">Purpose</p>
                        <p>To save the current configuration state of the listener, including trace level, trace file, trace directory, and logging to the <code class="codeph">listener.ora</code> file. Any changes are stored in <code class="codeph">listener.ora</code>, preserving formatting, comments, and case as much as possible. Before modification of the <code class="codeph">listener.ora</code> file, a backup of the file, called <code class="codeph">listener.bak</code>, is created. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AFC6727A-76B7-4114-9910-5BB54B308833__GUID-84C0970C-6EE6-43D2-8A7D-B344126D25B0">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl SAVE_CONFIG <span class="variable" translate="no">listener_name</span>
</code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; SAVE_CONFIG <span class="variable" translate="no">listener_name</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AFC6727A-76B7-4114-9910-5BB54B308833__GUID-69759B05-5AAF-4673-8CB6-51F235808501">Arguments</p>
                        <p><code class="codeph"><span class="variable" translate="no">listener_name</span></code>: The listener name, if the default name of <code class="codeph">LISTENER</code> is not used.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AFC6727A-76B7-4114-9910-5BB54B308833__GUID-F3A99AC2-B085-4F16-A352-77B31339BBE0">Usage Notes</p>
                        <p>This command enables you to save all runtime configuration changes to the <code class="codeph">listener.ora</code> file.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AFC6727A-76B7-4114-9910-5BB54B308833__GUID-FE92AA36-70C0-48A5-B5A3-94FBEA11C2F6">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; SAVE_CONFIG listener
Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=sales-server)(PORT=1521)))
Saved LISTENER configuration parameters.
Listener Parameter File   /oracle/network/admin/listener.ora
Old Parameter File   /oracle/network/admin/listener.bak
The command completed successfully</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF732"></a><a id="NETRF733"></a><a id="NETRF735"></a><a id="NETRF736"></a><a id="NETRF737"></a><a id="NETRF738"></a><a id="NETRF112"></a><div class="sect3"><a id="GUID-1430CBAA-A2F5-405E-B09B-AB2774457408" name="GUID-1430CBAA-A2F5-405E-B09B-AB2774457408"></a><h4 id="NETRF-GUID-1430CBAA-A2F5-405E-B09B-AB2774457408" class="sect4"><span class="enumeration_section">1.5.6 </span>SERVICES
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">SERVICES</code> returns detailed information about the database services, instances, and service handlers to which the listener forwards client connection requests.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1430CBAA-A2F5-405E-B09B-AB2774457408__GUID-57EDB442-5270-491F-9771-81EC5C1E9248">Purpose</p>
                        <p>To obtain detailed information about the database services, instances, and service handlers (dispatchers and dedicated servers) to which the listener forwards client connection requests.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1430CBAA-A2F5-405E-B09B-AB2774457408__GUID-B1B14432-CE99-40CA-A193-EBE68A33F6CA">Prerequisites</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1430CBAA-A2F5-405E-B09B-AB2774457408__GUID-9DE322A5-45C2-4A81-9AA6-640814DE6BAB">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1430CBAA-A2F5-405E-B09B-AB2774457408__GUID-7E06974B-0FDF-4F47-A7B9-2E1636229E09">Arguments</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl SERVICES <span class="variable" translate="no">listener_name</span>
</code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; SERVICES <span class="variable" translate="no">listener_name</span></code></pre><p><code class="codeph"><span class="variable" translate="no">listener_name</span></code>: The listener name, if the default name of <code class="codeph">LISTENER</code> is not used.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1430CBAA-A2F5-405E-B09B-AB2774457408__GUID-84B74CF2-78C5-49C2-B6DD-211083D31A6C">Usage Notes</p>
                     </div>
                     <!-- class="section" -->
                     <p>The <code class="codeph">SET DISPLAYMODE</code>  command changes the format and the detail level of the output.
                     </p>
                     <div class="infoboxnotealso" id="GUID-1430CBAA-A2F5-405E-B09B-AB2774457408__GUID-9958F4A6-0A4B-4716-A8FD-43F1E915F75C">
                        <p class="notep1">See Also:</p>
                        <p><a href="../netag/configuring-and-administering-oracle-net-listener.html#NETAG-GUID-9CDAFB4E-A675-4DF6-90A2-09DF94B80648" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for a complete description of <code class="codeph">SERVICES</code> output
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-1430CBAA-A2F5-405E-B09B-AB2774457408__GUID-2BFA7E74-5696-41D8-9952-F71245F67BD4">Example</p>
                        <p>This example shows <code class="codeph">SERVICES</code> output in the default display mode. The output shows the following:
                        </p>
                        <ul style="list-style-type: disc;" id="GUID-1430CBAA-A2F5-405E-B09B-AB2774457408__UL_LVM_3H2_HHB">
                           <li>
                              <p>An instance named <code class="codeph">sales</code> belonging to two services, <code class="codeph">sales1.us.example.com</code> and <code class="codeph">sales2.us.example.com</code>, with a total of three service handlers.
                              </p>
                           </li>
                           <li>
                              <p>Service <code class="codeph">sales1.us.example.com</code> is handled by one dispatcher only. 
                              </p>
                           </li>
                           <li>
                              <p>Service <code class="codeph">sales2.us.example.com</code> is handled by one dispatcher and one dedicated server, as specified by in the following output.
                              </p>
                           </li>
                        </ul><pre class="pre codeblock"><code>LSNRCTL&gt; SERVICES
Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=net)))
Services Summary...
Service "sales1.us.example.com" has 1 instance(s).
  Instance "sales", status READY, has 1 handler(s) for this service...
    Handler(s):
      "D000" established:0 refused:0 current:0 max:10000 state:ready
         DISPATCHER &lt;machine: sales-server, pid: 5696&gt;
         (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=53411))
Service "sales2.us.example.com" has 1 instance(s).
  Instance "sales", status READY, has 2 handler(s) for this service...
    Handler(s):
      "DEDICATED" established:0 refused:0 state:ready
         LOCAL SERVER
      "D001" established:0 refused:0 current:0 max:10000 state:ready
         DISPATCHER &lt;machine: sales-server, pid: 5698&gt;
         (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=52618))
The command completed successfully</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="listener-control-utility.html#GUID-61FF2C17-87B5-4270-B76A-9CD3C764945E" title="The Listener Control utility command SET DISPLAYMODE">SET DISPLAYMODE</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="NETRF739"></a><a id="NETRF740"></a><a id="NETRF742"></a><a id="NETRF743"></a><a id="NETRF744"></a><a id="NETRF745"></a><a id="NETRF113"></a><div class="sect3"><a id="GUID-287F06EC-2A68-4899-9E71-3C81B8DB1597" name="GUID-287F06EC-2A68-4899-9E71-3C81B8DB1597"></a><h4 id="NETRF-GUID-287F06EC-2A68-4899-9E71-3C81B8DB1597" class="sect4"><span class="enumeration_section">1.5.7 </span>SET
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">SET</code> alters the parameter values for the listener. 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-287F06EC-2A68-4899-9E71-3C81B8DB1597__GUID-A06A8524-758A-49F8-A79A-661C324662E6">Purpose</p>
                        <p>To alter the parameter values for the listener. Parameter value changes remain in effect until the listener is shut down. To make the changes permanent, use the SAVE_CONFIG  command to save changes to the <code class="codeph">listener.ora</code> file. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-287F06EC-2A68-4899-9E71-3C81B8DB1597__GUID-02B34378-CDE9-4464-9DC3-7C865180B6FF">Prerequisites</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-287F06EC-2A68-4899-9E71-3C81B8DB1597__GUID-D8688908-3058-4745-BAAB-12C7E72C6751">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl SET <span class="variable" translate="no">parameter
</span></code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET <span class="variable" translate="no">parameter</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-287F06EC-2A68-4899-9E71-3C81B8DB1597__GUID-2CD3D338-5696-491B-AB8A-78D3AE4BC76D">Arguments</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph"><span class="variable" translate="no">parameter</span></code>: A <code class="codeph">SET</code> parameter to modify its configuration setting. Parameters are shown in the example output.
                     </p>
                     <p>When you enter <code class="codeph">SET</code> without an argument, the Listener Control utility displays a list of all the parameters. 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-287F06EC-2A68-4899-9E71-3C81B8DB1597__GUID-13A10C50-C36B-45D8-A7E3-28A7C103E8AD">Usage Notes</p>
                     </div>
                     <!-- class="section" -->
                     <p>If you are using the <code class="codeph">SET</code> commands to alter the configuration of a listener other than the default <code class="codeph">LISTENER</code> listener, then use the <code class="codeph">SET CURRENT_LISTENER</code>  command to set the name of the listener to administer. 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-287F06EC-2A68-4899-9E71-3C81B8DB1597__GUID-5E30F924-107C-4D06-8509-408F682986FA">Example</p>
                     </div>
                     <!-- class="section" --><pre class="pre codeblock"><code>LSNRCTL&gt; SET
The following operations are available with set.
An asterisk (*) denotes a modifier or extended command.
current_listener 
displaymode
inbound_connect_timeout
log_file
log_directory
log_status
rawmode
save_config_on_stop 
trc_file
trc_directory
trc_level </code></pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="listener-control-utility.html#GUID-AFC6727A-76B7-4114-9910-5BB54B308833" title="The Listener Control utility command SAVE_CONFIG save the current configuration state of the listener to the listener.ora file.">SAVE_CONFIG</a></li>
                           <li><a href="listener-control-utility.html#GUID-D19254D2-C0C8-4855-9C1F-648CE928BAE3" title="The Listener Control utility command SET CURRENT_LISTENER sets the name of the listener that you want to administer.">SET CURRENT_LISTENER</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="NETRF746"></a><a id="NETRF748"></a><a id="NETRF749"></a><a id="NETRF750"></a><a id="NETRF751"></a><a id="NETRF114"></a><div class="sect3"><a id="GUID-D19254D2-C0C8-4855-9C1F-648CE928BAE3" name="GUID-D19254D2-C0C8-4855-9C1F-648CE928BAE3"></a><h4 id="NETRF-GUID-D19254D2-C0C8-4855-9C1F-648CE928BAE3" class="sect4"><span class="enumeration_section">1.5.8 </span>SET CURRENT_LISTENER
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">SET CURRENT_LISTENER</code> sets the name of the listener that you want to administer.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D19254D2-C0C8-4855-9C1F-648CE928BAE3__GUID-99DB2C22-21B5-4267-BFF5-03ECFB4C134B">Purpose</p>
                        <p>To set the name of the listener that you want to administer. After you set the listener name with this command, you can issue subsequent commands that normally require <code class="codeph"><span class="variable" translate="no">listener_name</span></code> without specifying the listener.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D19254D2-C0C8-4855-9C1F-648CE928BAE3__GUID-51B41C99-A655-4B56-8588-462F8BCB1BD3">Syntax</p>
                        <p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET CURRENT_LISTENER <span class="variable" translate="no">listener_name</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D19254D2-C0C8-4855-9C1F-648CE928BAE3__GUID-07DCF19E-4271-4F95-8B64-73CAD54A96A8">Arguments</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph"><span class="variable" translate="no">listener_name</span></code>: The listener name, if you are not using the default name <code class="codeph">LISTENER</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D19254D2-C0C8-4855-9C1F-648CE928BAE3__GUID-92E4699A-3276-42A3-9F66-C2D6B788363A">Usage Notes</p>
                        <p>When you specify a listener name using <code class="codeph">SET CURRENT_LISTENER</code>, the Listener Control utility commands act on the listener name that you specify with this command. You do not have to continue to specify the name of the listener.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D19254D2-C0C8-4855-9C1F-648CE928BAE3__GUID-80E7CDF9-A13D-48CE-97BE-44EE68C507D1">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET CURRENT_LISTENER lsnr
Current Listener is lsnr</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF752"></a><a id="NETRF754"></a><a id="NETRF755"></a><a id="NETRF756"></a><a id="NETRF115"></a><div class="sect3"><a id="GUID-61FF2C17-87B5-4270-B76A-9CD3C764945E" name="GUID-61FF2C17-87B5-4270-B76A-9CD3C764945E"></a><h4 id="NETRF-GUID-61FF2C17-87B5-4270-B76A-9CD3C764945E" class="sect4"><span class="enumeration_section">1.5.9 </span>SET DISPLAYMODE
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">SET DISPLAYMODE</code> 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-61FF2C17-87B5-4270-B76A-9CD3C764945E__GUID-F2383CF9-5BEF-4C39-811F-9A2D6B02BB68">Purpose</p>
                        <p>To change the format and level of detail for the <code class="codeph">SERVICES</code> and <code class="codeph">STATUS</code> commands. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-61FF2C17-87B5-4270-B76A-9CD3C764945E__GUID-4F2B56B5-D72D-4B41-B33B-C1725A5122A8">Syntax</p>
                        <p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET DISPLAYMODE {compat | normal | verbose | raw}</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-61FF2C17-87B5-4270-B76A-9CD3C764945E__GUID-1A72E7A8-5B65-4C7E-A946-2C945197F573">Arguments</p>
                        <p>Specify one of the following modes:</p>
                        <p><code class="codeph">compat</code>: Output that is compatible with earlier releases of the listener.
                        </p>
                        <p><code class="codeph">normal</code>: Output that is formatted and descriptive. Oracle recommends this mode.
                        </p>
                        <p><code class="codeph">verbose</code>: All data received from the listener in a formatted and descriptive output.
                        </p>
                        <p><code class="codeph">raw</code>: All data received from the listener without any formatting. This argument should be used only if recommended by Oracle Support Services.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-61FF2C17-87B5-4270-B76A-9CD3C764945E__GUID-9423B4A4-1E26-40A8-84F7-A7A3EBFEC05C">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET DISPLAYMODE normal
Service display mode is NORMAL</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="listener-control-utility.html#GUID-1430CBAA-A2F5-405E-B09B-AB2774457408" title="The Listener Control utility command SERVICES returns detailed information about the database services, instances, and service handlers to which the listener forwards client connection requests.">SERVICES</a></li>
                           <li><a href="listener-control-utility.html#GUID-88A9E4D0-8A55-43B1-9E6A-1EEF4F500428" title="The Listener Control utility command STATUS displays basic status information about a listener.">STATUS</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="NETRF757"></a><a id="NETRF758"></a><a id="NETRF759"></a><a id="NETRF760"></a><a id="NETRF116"></a><div class="sect3"><a id="GUID-20787F6E-1848-4CDA-83DC-75D1FBD24D85" name="GUID-20787F6E-1848-4CDA-83DC-75D1FBD24D85"></a><h4 id="NETRF-GUID-20787F6E-1848-4CDA-83DC-75D1FBD24D85" class="sect4"><span class="enumeration_section">1.5.10 </span>SET INBOUND_CONNECT_TIMEOUT
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">SET INBOUND_CONNECT_TIMEOUT</code> specifies the time, in seconds, for the client to complete its connect request to the listener after establishing the network connection.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-20787F6E-1848-4CDA-83DC-75D1FBD24D85__GUID-5A9259A6-F953-4EE5-BD06-F868DD54C84C">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <p>To specify the time, in seconds, for the client to complete its connect request to the listener after establishing the network connection. </p>
                     <p>If the listener does not receive the client request in the time specified, then it terminates the connection. In addition, the listener logs the IP address of the client and an <code class="codeph">ORA-12525:TNS: listener has not received client's request in time allowed</code> error message to the <code class="codeph">listener.log</code> file. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-20787F6E-1848-4CDA-83DC-75D1FBD24D85__GUID-5D2957AC-7038-453C-8F3D-700D065CE7DC">
                        <p class="notep1">See Also:</p>
                        <p><a href="../netag/configuring-profiles.html#NETAG-GUID-F199D890-73DB-4F8F-A37D-AACAC0909F0C" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for additional information about specifying the time out for client connections
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-20787F6E-1848-4CDA-83DC-75D1FBD24D85__GUID-59DCB257-E4EF-420A-A107-D23530B75028">Syntax</p>
                        <p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET INBOUND_CONNECT_TIMEOUT <span class="variable" translate="no">time</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-20787F6E-1848-4CDA-83DC-75D1FBD24D85__GUID-FFEFD676-9B0A-4416-80BF-C27EF4E9EF2F">Arguments</p>
                        <p><code class="codeph"><span class="variable" translate="no">time</span></code>: The time in seconds. Default setting is 60 seconds.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-20787F6E-1848-4CDA-83DC-75D1FBD24D85__GUID-B7986E2B-77BC-4098-9B83-14C763AE76FB">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET INBOUND_CONNECT_TIMEOUT 2
Connecting to (ADDRESS=(PROTOCOL=TCP)(HOST=sales-server)(PORT=1521))
LISTENER parameter "inbound_connect_timeout" set to 2
The command completed successfully.</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF761"></a><a id="NETRF762"></a><a id="NETRF764"></a><a id="NETRF765"></a><a id="NETRF766"></a><a id="NETRF117"></a><div class="sect3"><a id="GUID-418C7DDD-CCC8-4C5F-97A0-45AE34B11858" name="GUID-418C7DDD-CCC8-4C5F-97A0-45AE34B11858"></a><h4 id="NETRF-GUID-418C7DDD-CCC8-4C5F-97A0-45AE34B11858" class="sect4"><span class="enumeration_section">1.5.11 </span>SET LOG_DIRECTORY
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">SET LOG_DIRECTORY</code> sets the destination directory where the listener log file is written.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-418C7DDD-CCC8-4C5F-97A0-45AE34B11858__GUID-1BCA70EF-C252-480E-BA5C-FF12D80EAA19">Purpose</p>
                        <p>To set destination directory where the listener log file is written. By default, the log file is written to the <code>ORACLE_HOME/network/log</code> directory.
                        </p>
                        <div class="infoboxnote" id="GUID-418C7DDD-CCC8-4C5F-97A0-45AE34B11858__GUID-E1E45738-9224-404B-A7F7-8CEE0D09889B">
                           <p class="notep1">Note:</p>
                           <p>This command works only if Automatic Diagnostic Repository (ADR) is not enabled. The default is for ADR to be enabled, and to use the log directory <code>ORACLE_HOME/log/diag/<span class="variable" translate="no">product_type</span></code>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-418C7DDD-CCC8-4C5F-97A0-45AE34B11858__GUID-C56F7B42-9D2F-41C0-988A-6700A3D70CA7">Prerequisites</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-418C7DDD-CCC8-4C5F-97A0-45AE34B11858__GUID-2D561B1A-496B-430F-9AC7-D43116A87F85">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl SET LOG_DIRECTORY <span class="variable" translate="no">directory</span>
</code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET LOG_DIRECTORY <span class="variable" translate="no">directory</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-418C7DDD-CCC8-4C5F-97A0-45AE34B11858__GUID-43009C86-359E-4E12-816B-4518ED760E01">Arguments</p>
                        <p><code class="codeph"><span class="variable" translate="no">directory</span></code>: The directory path of the listener log file.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-418C7DDD-CCC8-4C5F-97A0-45AE34B11858__GUID-16D5C154-2849-4A6C-99BA-910CC9175A62">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET LOG_DIRECTORY /usr/oracle/admin 
Connecting to (ADDRESS=(PROTOCOL=TCP)(HOST=sales-server)(PORT=1521))
LISTENER parameter "log_directory" set to /usr/oracle/admin
The command completed successfully</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1882"></a><a id="NETRF1883"></a><a id="NETRF1884"></a><a id="NETRF1885"></a><a id="NETRF1886"></a><a id="NETRF118"></a><div class="sect3"><a id="GUID-DA6DE6D3-C2BE-40A1-A2B7-AEA8A4C48DC5" name="GUID-DA6DE6D3-C2BE-40A1-A2B7-AEA8A4C48DC5"></a><h4 id="NETRF-GUID-DA6DE6D3-C2BE-40A1-A2B7-AEA8A4C48DC5" class="sect4"><span class="enumeration_section">1.5.12 </span>SET LOG_FILE
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">SET LOG_FILE</code> sets the name for the listener log file.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DA6DE6D3-C2BE-40A1-A2B7-AEA8A4C48DC5__GUID-535F3C82-43A8-40A7-9FCC-31FF9D7040BF">Purpose</p>
                        <p>To set the name for the listener log file. By default, the log file name is <code class="codeph">listener.log</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-DA6DE6D3-C2BE-40A1-A2B7-AEA8A4C48DC5__GUID-1F70D275-6259-4495-B621-4BEEE14968D9">
                           <p class="notep1">Note:</p>
                           <p>This command works only if Automatic Diagnostic Repository (ADR) is not enabled. The default is for ADR to be enabled, and use the log directory <code>ORACLE_HOME/log/diag/<span class="variable" translate="no">product_type</span></code>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DA6DE6D3-C2BE-40A1-A2B7-AEA8A4C48DC5__GUID-AEA60ABF-BB6B-441D-AF0A-9EBD5ACBA4B9">Prerequisites</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DA6DE6D3-C2BE-40A1-A2B7-AEA8A4C48DC5__GUID-645B9D49-D23E-45F6-A38F-C64CC8D47D7A">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl SET LOG_FILE <span class="variable" translate="no">file_name</span></code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET LOG_FILE <span class="variable" translate="no">file_name</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DA6DE6D3-C2BE-40A1-A2B7-AEA8A4C48DC5__GUID-994B0718-EC68-472C-BE0A-58A37870681A">Arguments</p>
                        <p><code class="codeph"><span class="variable" translate="no">file_name</span></code>: The file name of the listener log.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DA6DE6D3-C2BE-40A1-A2B7-AEA8A4C48DC5__GUID-4B1F05BF-CFB9-4261-B1EA-0739FE8BBB25">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET LOG_FILE list.log
Connecting to (ADDRESS=(PROTOCOL=TCP)(HOST=sales-server)(PORT=1521))
LISTENER parameter "log_file" set to list.log
The command completed successfully</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF773"></a><a id="NETRF774"></a><a id="NETRF776"></a><a id="NETRF777"></a><a id="NETRF778"></a><a id="NETRF119"></a><div class="sect3"><a id="GUID-4ED87851-6459-4ED5-878F-92D413250327" name="GUID-4ED87851-6459-4ED5-878F-92D413250327"></a><h4 id="NETRF-GUID-4ED87851-6459-4ED5-878F-92D413250327" class="sect4"><span class="enumeration_section">1.5.13 </span>SET LOG_STATUS
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">SET LOG_STATUS</code> turns listener logging on or off.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4ED87851-6459-4ED5-878F-92D413250327__GUID-0679270D-14A3-41B5-B234-202DE458270C">Purpose</p>
                        <p>To turn listener logging on or off.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4ED87851-6459-4ED5-878F-92D413250327__GUID-70273925-AA56-4ACD-A2A2-6176286E8949">Prerequisites</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4ED87851-6459-4ED5-878F-92D413250327__GUID-FBDF7D9E-070B-4813-933F-264A776C8146">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl SET LOG_STATUS {on | off}
</code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET LOG_STATUS {on | off}</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4ED87851-6459-4ED5-878F-92D413250327__GUID-94311D90-1F0F-463A-B576-BBE9F4C485FE">Arguments</p>
                        <p><code class="codeph">on</code>: To turn logging on.
                        </p>
                        <p><code class="codeph">off</code>: To turn logging off.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4ED87851-6459-4ED5-878F-92D413250327__GUID-B593C987-3A68-4B75-9FF4-88D5B24F0946">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET LOG_STATUS on
Connecting to (ADDRESS=(PROTOCOL=TCP)(HOST=sales-server)(PORT=1521))
LISTENER parameter "log_status" set to ON
The command completed successfully</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF784"></a><a id="NETRF786"></a><a id="NETRF787"></a><a id="NETRF788"></a><a id="NETRF121"></a><div class="sect3"><a id="GUID-9CDB2EF6-96E5-45E5-B87D-F1E4F5DF5E32" name="GUID-9CDB2EF6-96E5-45E5-B87D-F1E4F5DF5E32"></a><h4 id="NETRF-GUID-9CDB2EF6-96E5-45E5-B87D-F1E4F5DF5E32" class="sect4"><span class="enumeration_section">1.5.14 </span>SET SAVE_CONFIG_ON_STOP
                  </h4>
                  <div>
                     <p> The Listener Control utility command <code class="codeph">SET SAVE_CONFIG_ON_STOP</code> specifies whether changes made to the parameter values for the listener by the <code class="codeph">SET</code> command are saved to the <code class="codeph">listener.ora</code> file at the time that the listener is stopped with the <code class="codeph">STOP</code> command. 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9CDB2EF6-96E5-45E5-B87D-F1E4F5DF5E32__GUID-718ED388-E33A-48B5-9BA7-47BBF9D874A4">Purpose</p>
                        <p>To specify whether changes made to the parameter values for the listener by the <code class="codeph">SET</code> command are saved to the <code class="codeph">listener.ora</code> file at the time that the listener is stopped with the <code class="codeph">STOP</code> command. 
                        </p>
                        <p>When changes are saved, the Listener Control utility tries to preserve formatting, comments, and letter case. Before the command modifies the <code class="codeph">listener.ora</code> file, it creates a backup of the file, called <code class="codeph">listener.bak</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <p>To have all parameters saved immediately, use the <code class="codeph">SAVE_CONFIG</code> command.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9CDB2EF6-96E5-45E5-B87D-F1E4F5DF5E32__GUID-A6BFFD31-2E05-43A9-9C0E-416F4A63C435">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl SET SAVE_CONFIG_ON_STOP  {on | off}
</code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET SAVE_CONFIG_ON_STOP  {on | off}</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9CDB2EF6-96E5-45E5-B87D-F1E4F5DF5E32__GUID-5F03738B-3B4F-4128-9257-27D82F6E8FBF">Arguments</p>
                        <p><code class="codeph">on</code>: To save configuration to <code class="codeph">listener.ora</code>.
                        </p>
                        <p><code class="codeph">off</code>: To not save configuration to <code class="codeph">listener.ora</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9CDB2EF6-96E5-45E5-B87D-F1E4F5DF5E32__GUID-710BB9B7-4ABF-4A50-866B-6A92CFAD9FA8">Example</p>
                     </div>
                     <!-- class="section" --><pre class="pre codeblock"><code>LSNRCTL&gt; SET SAVE_CONFIG_ON_STOP on
LISTENER parameter "save_config_on_stop" set to ON
The command completed successfully</code></pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="listener-control-utility.html#GUID-287F06EC-2A68-4899-9E71-3C81B8DB1597" title="The Listener Control utility command SET alters the parameter values for the listener.">SET</a></li>
                           <li><a href="listener-control-utility.html#GUID-B6D0FE95-047C-4641-82D6-187DD269E1BA" title="The Listener Control utility command STOP stops the named listener.">STOP</a></li>
                           <li><a href="listener-control-utility.html#GUID-AFC6727A-76B7-4114-9910-5BB54B308833" title="The Listener Control utility command SAVE_CONFIG save the current configuration state of the listener to the listener.ora file.">SAVE_CONFIG</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="NETRF1887"></a><a id="NETRF1888"></a><a id="NETRF1889"></a><a id="NETRF1890"></a><a id="NETRF1891"></a><a id="NETRF123"></a><div class="sect3"><a id="GUID-DC9190C4-3857-42B1-8DA3-4116C0B29FA2" name="GUID-DC9190C4-3857-42B1-8DA3-4116C0B29FA2"></a><h4 id="NETRF-GUID-DC9190C4-3857-42B1-8DA3-4116C0B29FA2" class="sect4"><span class="enumeration_section">1.5.15 </span>SET TRC_DIRECTORY
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">SET TRC_DIRECTORY</code> sets the destination directory where the listener trace files are written.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DC9190C4-3857-42B1-8DA3-4116C0B29FA2__GUID-DBAC0291-2667-4921-8AC0-F6E9D2759091">Purpose</p>
                        <p>To set the destination directory where the listener trace files are written. By default, the trace file are written to the <code>ORACLE_HOME/network/trace</code> directory.
                        </p>
                        <div class="infoboxnote" id="GUID-DC9190C4-3857-42B1-8DA3-4116C0B29FA2__GUID-3250DC36-90F0-413A-9F04-286F97923F19">
                           <p class="notep1">Note:</p>
                           <p>This command works only if Automatic Diagnostic Repository (ADR) is not enabled. The default is for ADR to be enabled, and use the log directory <code>ORACLE_HOME/log/diag/<span class="variable" translate="no">product_type</span></code>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DC9190C4-3857-42B1-8DA3-4116C0B29FA2__GUID-3CE35A82-82EF-4B24-98E0-D0C81DC1D07F">Prerequisites</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DC9190C4-3857-42B1-8DA3-4116C0B29FA2__GUID-5443914D-A460-4130-AA7A-4BAA5242B9F5">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl SET TRC_DIRECTORY <span class="variable" translate="no">directory</span>
</code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET TRC_DIRECTORY <span class="variable" translate="no">directory</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DC9190C4-3857-42B1-8DA3-4116C0B29FA2__GUID-EB5B5C3A-33B3-4007-8C03-90F1230C3755">Arguments</p>
                        <p><code class="codeph"><span class="variable" translate="no">directory</span></code>: The directory path of the listener trace files.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DC9190C4-3857-42B1-8DA3-4116C0B29FA2__GUID-858D2A8B-72BF-4BC1-99B8-6297DD615B9F">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET TRC_DIRECTORY /usr/oracle/admin
Connecting to (ADDRESS=(PROTOCOL=TCP)(HOST=sales-server)(PORT=1521))
LISTENER parameter "trc_directory" set to /usr/oracle/admin
The command completed successfully</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1892"></a><a id="NETRF1893"></a><a id="NETRF1894"></a><a id="NETRF1895"></a><a id="NETRF1896"></a><a id="NETRF124"></a><div class="sect3"><a id="GUID-B4BFBB4C-CA67-46C3-A80B-A49D90D469C4" name="GUID-B4BFBB4C-CA67-46C3-A80B-A49D90D469C4"></a><h4 id="NETRF-GUID-B4BFBB4C-CA67-46C3-A80B-A49D90D469C4" class="sect4"><span class="enumeration_section">1.5.16 </span>SET TRC_FILE
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">SET TRC_FILE</code> sets the name of the listener trace file.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B4BFBB4C-CA67-46C3-A80B-A49D90D469C4__GUID-2C686EC4-8498-4EF8-83E6-7CFFED8F4411">Purpose</p>
                        <p>To set the name of the listener trace file. By default, the trace file name is <code class="codeph">listener.trc</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-B4BFBB4C-CA67-46C3-A80B-A49D90D469C4__GUID-FA9DD5F0-50FF-4F79-824C-94AFCBE07075">
                           <p class="notep1">Note:</p>
                           <p>This command works only if Automatic Diagnostic Repository (ADR) is not enabled. The default is for ADR to be enabled, and use the log directory <code>ORACLE_HOME/log/diag/<span class="variable" translate="no">product_type</span></code>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4BFBB4C-CA67-46C3-A80B-A49D90D469C4__GUID-4015BEBF-5B6F-45AC-8650-3F743E593F3E">Prerequisites</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4BFBB4C-CA67-46C3-A80B-A49D90D469C4__GUID-18DB8BDB-A564-4B63-BEDE-019944AF17FD">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl SET TRC_FILE <span class="variable" translate="no">file_name</span>
</code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET TRC_FILE <span class="variable" translate="no">file_name</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4BFBB4C-CA67-46C3-A80B-A49D90D469C4__GUID-F39FB377-D789-4BD4-8F82-4C873A4A8844">Arguments</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph"><span class="variable" translate="no">file_name</span></code>: The file name of the listener trace.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B4BFBB4C-CA67-46C3-A80B-A49D90D469C4__GUID-EBBCB0E4-CF73-42AB-9E18-ED43FC8A3F9E">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET TRC_FILE list.trc
Connecting to (ADDRESS=(PROTOCOL=TCP)(HOST=sales-server)(PORT=1521))
LISTENER parameter "trc_file" set to list.trc
The command completed successfully</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF807"></a><a id="NETRF808"></a><a id="NETRF810"></a><a id="NETRF811"></a><a id="NETRF812"></a><a id="NETRF813"></a><a id="NETRF125"></a><div class="sect3"><a id="GUID-FCA1904A-0C3D-415A-AC06-C05320C38D9E" name="GUID-FCA1904A-0C3D-415A-AC06-C05320C38D9E"></a><h4 id="NETRF-GUID-FCA1904A-0C3D-415A-AC06-C05320C38D9E" class="sect4"><span class="enumeration_section">1.5.17 </span>SET TRC_LEVEL
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">SET TRC_LEVEL</code> sets a specific level of tracing for the listener.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FCA1904A-0C3D-415A-AC06-C05320C38D9E__GUID-7B5B6CB9-F784-4843-8998-CE6B02FF0267">Purpose</p>
                        <p>To set a specific level of tracing for the listener.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FCA1904A-0C3D-415A-AC06-C05320C38D9E__GUID-9C9EDC30-2C82-4A97-A0D7-592D30C32F03">Prerequisites</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FCA1904A-0C3D-415A-AC06-C05320C38D9E__GUID-DFBDA776-7276-433F-A6F2-87559E81523F">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl SET TRC_LEVEL <span class="variable" translate="no">level</span>
</code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET TRC_LEVEL <span class="variable" translate="no">level</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FCA1904A-0C3D-415A-AC06-C05320C38D9E__GUID-D971216E-2D32-4860-9C25-FA8326DC1C3D">Arguments</p>
                        <p><code class="codeph"><span class="variable" translate="no">level</span></code>: One of the following trace levels:
                        </p>
                        <ul style="list-style-type: disc;" id="GUID-FCA1904A-0C3D-415A-AC06-C05320C38D9E__UL_NDS_YX2_HHB">
                           <li>
                              <p><code class="codeph">off</code> for no trace output
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">user</code> for user trace information
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">admin</code> for administration trace information
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">support</code> for Oracle Support Services trace information
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FCA1904A-0C3D-415A-AC06-C05320C38D9E__GUID-4DD46237-A4F2-4159-949D-62EB3376A3F6">Usage Notes</p>
                        <p>This command has the same functionality as the <code class="codeph">TRACE</code> command. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FCA1904A-0C3D-415A-AC06-C05320C38D9E__GUID-789D8852-3F3A-4AD3-8528-EF0322F56060">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; SET TRC_LEVEL admin
Connecting to (ADDRESS=(PROTOCOL=TCP)(HOST=sales-server)(PORT=1521))
LISTENER parameter "trc_level" set to admin
The command completed successfully</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="listener-control-utility.html#GUID-BDDB7569-A3A9-4E8C-8906-68DFC5440BC6" title="The Listener Control utility command TRACE sets tracing for the listener.">TRACE</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="NETRF814"></a><a id="NETRF815"></a><a id="NETRF817"></a><a id="NETRF818"></a><a id="NETRF819"></a><a id="NETRF126"></a><div class="sect3"><a id="GUID-1148E1DB-72D7-416E-B5AE-098093DAA217" name="GUID-1148E1DB-72D7-416E-B5AE-098093DAA217"></a><h4 id="NETRF-GUID-1148E1DB-72D7-416E-B5AE-098093DAA217" class="sect4"><span class="enumeration_section">1.5.18 </span>SHOW
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">SHOW</code> displays the current parameter values for the listener.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1148E1DB-72D7-416E-B5AE-098093DAA217__GUID-6AC9DCF9-B6FD-42EA-825F-72465A7D0B5C">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <p>To view the current parameter values for the listener. </p>
                     <p>All of the <code class="codeph">SET</code> parameters have equivalent <code class="codeph">SHOW</code> parameters. 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1148E1DB-72D7-416E-B5AE-098093DAA217__GUID-64C6DD18-8484-4C09-90B6-4657211786F0">Prerequisites</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1148E1DB-72D7-416E-B5AE-098093DAA217__GUID-F496E26D-1A70-4E31-8266-E6F772BEB42F">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl SHOW <span class="variable" translate="no">parameter</span>
</code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; SHOW <span class="variable" translate="no">parameter</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1148E1DB-72D7-416E-B5AE-098093DAA217__GUID-623B3557-EE8B-4402-9340-A8F4806A9BE3">Arguments</p>
                        <p><code class="codeph"><span class="variable" translate="no">parameter</span></code>: A parameter whose configuration settings you want to review. Parameters are shown in the example output.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <p>When you enter <code class="codeph">SHOW</code> without an argument, the Listener Control utility displays a list of all the parameters.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1148E1DB-72D7-416E-B5AE-098093DAA217__GUID-A66B3E81-2629-4D29-9FD9-0B5C0C50C499">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; SHOW
The following properties are available with SHOW:
An asterisk (*) denotes a modifier or extended command:
current_listener 
displaymode
inbound_connect_timeout
log_file
log_directory
log_status
rawmode
save_config_on_stop 
trc_file
trc_directory
trc_level </code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="listener-control-utility.html#GUID-287F06EC-2A68-4899-9E71-3C81B8DB1597" title="The Listener Control utility command SET alters the parameter values for the listener.">SET</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="NETRF820"></a><a id="NETRF821"></a><a id="NETRF823"></a><a id="NETRF824"></a><a id="NETRF825"></a><a id="NETRF127"></a><div class="sect3"><a id="GUID-E9C71077-EB22-4FF1-955F-E4D95573B251" name="GUID-E9C71077-EB22-4FF1-955F-E4D95573B251"></a><h4 id="NETRF-GUID-E9C71077-EB22-4FF1-955F-E4D95573B251" class="sect4"><span class="enumeration_section">1.5.19 </span>SPAWN
                  </h4>
                  <div>
                     <p> The Listener Control utility command SPAWN starts a program stored on the computer on which the listener is running,and that is listed with an alias in the <code class="codeph">listener.ora</code> file.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E9C71077-EB22-4FF1-955F-E4D95573B251__GUID-0CE7314C-17C8-46D0-9D6D-4895F43A14AF">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <p>To start a program stored on the computer on which the listener is running, and that is listed with an alias in the <code class="codeph">listener.ora</code> file.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E9C71077-EB22-4FF1-955F-E4D95573B251__GUID-0240EF07-C614-48C0-8E01-F22A742765DE">Prerequisites</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E9C71077-EB22-4FF1-955F-E4D95573B251__GUID-B4F5431A-2B8A-48D6-8249-711D8B17C43A">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl SPAWN <span class="variable" translate="no">listener_name</span> <span class="variable" translate="no">alias</span> (arguments='<span class="variable" translate="no">arg1</span>,<span class="variable" translate="no">arg2</span>,...')
</code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; SPAWN <span class="variable" translate="no">listener_name</span> <span class="variable" translate="no">alias</span> (arguments='<span class="variable" translate="no">arg1</span>,<span class="variable" translate="no">arg2</span>,...')</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E9C71077-EB22-4FF1-955F-E4D95573B251__GUID-D02EEE2C-1DE5-4430-9861-51F4FB0D7D15">Arguments</p>
                        <p><code class="codeph"><span class="variable" translate="no">listener_name</span></code>: The listener name, if the default name of <code class="codeph">LISTENER</code> is not used.
                        </p>
                        <p><code class="codeph"><span class="variable" translate="no">alias</span></code>: The alias of the program to be spawned off is specified by a <code class="codeph">listener.ora</code> file entry, similar to the following:
                        </p><pre class="pre codeblock"><code><span class="variable" translate="no">alias</span> = (PROGRAM=(NAME=)(ARGS=)(ENVS=))
</code></pre><p>For example:</p><pre class="pre codeblock"><code>nstest = (PROGRAM=(NAME=nstest)(ARGS=test1)(ENVS='ORACLE_HOME=/usr/oracle'))</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E9C71077-EB22-4FF1-955F-E4D95573B251__GUID-CD5391A6-89C1-4D46-8823-65516C91D295">Example</p>
                        <p>The <code class="codeph">nstest</code> program, shown in the preceding section, can then be spawned off using the following command:
                        </p><pre class="pre codeblock"><code>lsnrctl SPAWN <span class="variable" translate="no">listener_name</span> nstest</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF826"></a><a id="NETRF827"></a><a id="NETRF829"></a><a id="NETRF830"></a><a id="NETRF831"></a><a id="NETRF832"></a><a id="NETRF128"></a><div class="sect3"><a id="GUID-BC8E6BF1-0780-4B47-98F5-E1D2A4DC4202" name="GUID-BC8E6BF1-0780-4B47-98F5-E1D2A4DC4202"></a><h4 id="NETRF-GUID-BC8E6BF1-0780-4B47-98F5-E1D2A4DC4202" class="sect4"><span class="enumeration_section">1.5.20 </span>START
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">START</code> starts the named listener.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BC8E6BF1-0780-4B47-98F5-E1D2A4DC4202__GUID-6BFD6613-6BDA-4637-9725-FFDBDBD103F9">Purpose</p>
                        <p>To start the named listener.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BC8E6BF1-0780-4B47-98F5-E1D2A4DC4202__GUID-2F32E855-0878-4233-89EC-C91681596126">Prerequisites</p>
                        <p>The listener must not be running.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BC8E6BF1-0780-4B47-98F5-E1D2A4DC4202__GUID-E728A5F8-B077-4D2F-ADF0-10CB1B8B7FE3">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl START <span class="variable" translate="no">listener_name</span>
</code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; START <span class="variable" translate="no">listener_name</span></code></pre><div class="infoboxnote" id="GUID-BC8E6BF1-0780-4B47-98F5-E1D2A4DC4202__GUID-7B92131C-9553-4506-84B9-F5649FF7ED0A">
                           <p class="notep1">Note:</p>
                           <p>On Microsoft Windows, if the database was installed with the Oracle Home User, then the utility can prompt for a password. The password is the operating system password for the Oracle Home User. The prompt is displayed only if the listener service does not exist, and it needs to be created as part of starting the listener.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BC8E6BF1-0780-4B47-98F5-E1D2A4DC4202__GUID-ED3AA932-6AFF-435A-A69A-A2C666E59302">Arguments</p>
                        <p><code class="codeph"><span class="variable" translate="no">listener_name</span></code>: The listener name, if the default name of <code class="codeph">LISTENER</code> is not used.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BC8E6BF1-0780-4B47-98F5-E1D2A4DC4202__GUID-31D1CBF3-904F-45BD-AA49-9D29F7128A75">Usage Notes</p>
                        <p>To start a listener configured in the <code class="codeph">listener.ora</code> file with a name other than <code class="codeph">LISTENER</code>, include that name. 
                        </p>
                        <p>For example, if the listener name is <code class="codeph">tcp_lsnr</code>, enter: 
                        </p><pre class="pre codeblock"><code>lsnrctl START tcp_lsnr 
</code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; START tcp_lsnr</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BC8E6BF1-0780-4B47-98F5-E1D2A4DC4202__GUID-5F22527D-052A-4FD7-8266-DE3276246446">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; START

Starting /private/sales_group/sales/bin/tnslsnr: please wait...

TNSLSNR for Linux: Version 18.0.0.0.0 
System parameter file is $ORACLE_HOME/network/admin/listener.ora
Log messages written to $ORACLE_BASE/diag/tnslsnr/node_name/listener/alert/log.xml
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521)))

Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=sales-server)(PORT=1521)))
STATUS of the LISTENER
------------------------
Alias                     LISTENER
Version                   TNSLSNR for Linux: Version 18.0.0.0.0 
Start Date                21-JAN-2018 21:50:49
Uptime                    0 days 0 hr. 0 min. 0 sec
Trace Level               off
Security                  ON: Local OS Authetication
SNMP                      OFF
Listener Parameter File  $ORACLE_HOME/network/admin/listener.ora
Listener Log File        $ORACLE_BASE/diag/tnslsnr/node_name/listener/alert/log.xml
Listening Endpoints Summary...
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521)))
The listener supports no services
The command completed successfully</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-BC8E6BF1-0780-4B47-98F5-E1D2A4DC4202__GUID-5BF23699-00C0-4E42-AD14-8DEF9A7957D4">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/netrf&amp;id=NTQRF-GUID-0D0DC406-98C7-467A-A5C8-2FBCF5B1A9F8" target="_blank"><span><cite>Oracle Database Administrator’s Reference for Microsoft Windows</cite></span></a> for information about the Oracle Home User
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF833"></a><a id="NETRF834"></a><a id="NETRF836"></a><a id="NETRF837"></a><a id="NETRF838"></a><a id="NETRF839"></a><a id="NETRF129"></a><div class="sect3"><a id="GUID-88A9E4D0-8A55-43B1-9E6A-1EEF4F500428" name="GUID-88A9E4D0-8A55-43B1-9E6A-1EEF4F500428"></a><h4 id="NETRF-GUID-88A9E4D0-8A55-43B1-9E6A-1EEF4F500428" class="sect4"><span class="enumeration_section">1.5.21 </span>STATUS 
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">STATUS</code> displays basic status information about a listener.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-88A9E4D0-8A55-43B1-9E6A-1EEF4F500428__GUID-7436F658-462E-4084-9F13-9F034163589D">Purpose</p>
                        <p>To display basic status information about a listener, including a summary of listener configuration settings, listening protocol addresses, and a summary of services registered with the listener.</p>
                        <div class="infoboxnote" id="GUID-88A9E4D0-8A55-43B1-9E6A-1EEF4F500428__GUID-743DF9E9-B5B3-424F-ABBD-47D37D91ED23">
                           <p class="notep1">Note:</p>
                           <p>You can also obtain the status of the listener through the Oracle Enterprise Manager Cloud Control console.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-88A9E4D0-8A55-43B1-9E6A-1EEF4F500428__GUID-D6F1A8EA-B35A-44C4-874E-F1FEFE780869">Prerequisites</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-88A9E4D0-8A55-43B1-9E6A-1EEF4F500428__GUID-B1F80BA2-A209-47E9-A676-5FD8AA41B2CC">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl STATUS <span class="variable" translate="no">listener_name</span>
</code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; STATUS <span class="variable" translate="no">listener_name</span> </code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-88A9E4D0-8A55-43B1-9E6A-1EEF4F500428__GUID-39C9562F-BE3B-41D5-841E-03D2B92DF414">Arguments</p>
                        <p><code class="codeph"><span class="variable" translate="no">listener_name</span></code>: The listener name, if the default name of <code class="codeph">LISTENER</code> is not used.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-88A9E4D0-8A55-43B1-9E6A-1EEF4F500428__GUID-6FD1DF12-088E-420A-B738-50C0BC430D09">Usage Notes</p>
                        <p>The SET DISPLAYMODE command changes the format and level of the detail of the output.</p>
                        <div class="infoboxnotealso" id="GUID-88A9E4D0-8A55-43B1-9E6A-1EEF4F500428__GUID-0D337410-9849-4ECD-8235-A9D6F10B725D">
                           <p class="notep1">See Also:</p>
                           <p><a href="../netag/configuring-and-administering-oracle-net-listener.html#NETAG-GUID-98FBD991-DBAA-4F3D-B866-C12E13BE9645" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for a complete description of <code class="codeph">STATUS</code> output
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-88A9E4D0-8A55-43B1-9E6A-1EEF4F500428__GUID-7C396FEA-E788-48C0-A1DB-66C8D7B0DF3F">Example</p>
                        <p>The following example shows <code class="codeph">STATUS</code> output in the default display mode. The output contains:
                        </p>
                        <ul style="list-style-type: disc;" id="GUID-88A9E4D0-8A55-43B1-9E6A-1EEF4F500428__UL_KQ3_43F_HHB">
                           <li>
                              <p>Listener configuration settings</p>
                           </li>
                           <li>
                              <p>Listening endpoints summary </p>
                           </li>
                           <li>
                              <p>Services summary, which is an abbreviated version of the <code class="codeph">SERVICES</code> command output
                              </p>
                           </li>
                        </ul><pre class="pre codeblock"><code>LSNRCTL&gt; STATUS
Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=net)))
STATUS of the LISTENER
------------------------
Alias                     LISTENER
Version                   TNSLSNR for Linux: Version 18.0.0.0.0 -
Production
Start Date                12-JAN-2018 12:02:00
Uptime                    0 days 0 hr. 5 min. 29 sec
Trace Level               support
Security                  OFF
SNMP                      OFF
Listener Parameter File   /oracle/network/admin/listener.ora
Listener Log File         /oracle/network/log/listener.log
Listener Trace File       /oracle/network/trace/listener.trc

Listening Endpoints Summary...
  (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=net)))
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521)))
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcps)(HOST=sales-server)(PORT=2484)))
 
Services Summary...
Service "sales1.us.example.com" has 1 instance(s).
  Instance "sales", status READY, has 1 handler(s) for this service...
Service "sales2.us.example.com" has 1 instance(s).
  Instance "sales", status READY, has 2 handler(s) for this service...
The command completed successfully</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="listener-control-utility.html#GUID-61FF2C17-87B5-4270-B76A-9CD3C764945E" title="The Listener Control utility command SET DISPLAYMODE">SET DISPLAYMODE</a></li>
                           <li><a href="listener-control-utility.html#GUID-1430CBAA-A2F5-405E-B09B-AB2774457408" title="The Listener Control utility command SERVICES returns detailed information about the database services, instances, and service handlers to which the listener forwards client connection requests.">SERVICES</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="NETRF840"></a><a id="NETRF841"></a><a id="NETRF843"></a><a id="NETRF844"></a><a id="NETRF845"></a><a id="NETRF130"></a><div class="sect3"><a id="GUID-B6D0FE95-047C-4641-82D6-187DD269E1BA" name="GUID-B6D0FE95-047C-4641-82D6-187DD269E1BA"></a><h4 id="NETRF-GUID-B6D0FE95-047C-4641-82D6-187DD269E1BA" class="sect4"><span class="enumeration_section">1.5.22 </span>STOP
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">STOP</code> stops the named listener.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B6D0FE95-047C-4641-82D6-187DD269E1BA__GUID-397BA3AD-6592-47B9-AC58-BA6021932A72">Purpose</p>
                        <p>To stop the named listener.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B6D0FE95-047C-4641-82D6-187DD269E1BA__GUID-62385A58-BD3B-4C8C-A085-DE6C80934E83">Prerequisites</p>
                        <p>The listener must be running.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B6D0FE95-047C-4641-82D6-187DD269E1BA__GUID-17AD4980-CD0E-47CE-841E-77BA73BF159F">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl STOP <span class="variable" translate="no">listener_name</span>
 </code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; STOP <span class="variable" translate="no">listener_name</span> </code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B6D0FE95-047C-4641-82D6-187DD269E1BA__GUID-B8135889-4866-47A8-B4AE-58E10FFA561E">Arguments</p>
                        <p><code class="codeph"><span class="variable" translate="no">listener_name</span></code>: The listener name, if the default name of <code class="codeph">LISTENER</code> is not used.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B6D0FE95-047C-4641-82D6-187DD269E1BA__GUID-3FF30AEA-EC29-4F7B-93D0-C75ECD64A1F6">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; STOP
Connecting to (ADDRESS=(PROTOCOL=TCP)(HOST=sales-server)(PORT=1521))
The command completed successfully</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF846"></a><a id="NETRF848"></a><a id="NETRF849"></a><a id="NETRF850"></a><a id="NETRF851"></a><a id="NETRF131"></a><div class="sect3"><a id="GUID-BDDB7569-A3A9-4E8C-8906-68DFC5440BC6" name="GUID-BDDB7569-A3A9-4E8C-8906-68DFC5440BC6"></a><h4 id="NETRF-GUID-BDDB7569-A3A9-4E8C-8906-68DFC5440BC6" class="sect4"><span class="enumeration_section">1.5.23 </span>TRACE
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">TRACE</code> sets tracing for the listener.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BDDB7569-A3A9-4E8C-8906-68DFC5440BC6__GUID-A3D93C1E-43BB-420A-9132-E45EA7DEAF72">Purpose</p>
                        <p>To set tracing for the listener.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BDDB7569-A3A9-4E8C-8906-68DFC5440BC6__GUID-D034DD51-D1DA-40F3-A0EC-9E11A524ABC2">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl trace <span class="variable" translate="no">level</span> <span class="variable" translate="no">listener_name</span>
</code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; trace <span class="variable" translate="no">level</span> <span class="variable" translate="no">listener_name</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BDDB7569-A3A9-4E8C-8906-68DFC5440BC6__GUID-DE5A6A0F-057E-4A05-A099-AC65078CA60B">Arguments</p>
                        <p><code class="codeph"><span class="variable" translate="no">level</span></code>: One of the following trace levels:
                        </p>
                        <ul style="list-style-type: disc;" id="GUID-BDDB7569-A3A9-4E8C-8906-68DFC5440BC6__UL_UV3_RJF_HHB">
                           <li>
                              <p><code class="codeph">off</code> for no trace output
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">user</code> for user trace information
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">admin</code> for administration trace information
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">support</code> for Oracle Support Services trace information
                              </p>
                           </li>
                        </ul>
                        <p><code class="codeph"><span class="variable" translate="no">listener_name</span></code>: Specify the listener name, if the default name of <code class="codeph">LISTENER</code> is not used.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BDDB7569-A3A9-4E8C-8906-68DFC5440BC6__GUID-438ADF15-344D-46F8-BE9C-724E6DD0F050">Usage Notes</p>
                        <p>This command has the same functionality as the <code class="codeph">SET TRC_LEVEL</code> command.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BDDB7569-A3A9-4E8C-8906-68DFC5440BC6__GUID-999475EE-234A-433B-8573-05BC4C54F553">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; TRACE ADMIN lsnr
Connecting to (ADDRESS=(PROTOCOL=TCP)(HOST=sales-server)(PORT=1521))
Opened trace file: /oracle/network/trace/listener.trc
The command completed successfully</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF852"></a><a id="NETRF853"></a><a id="NETRF855"></a><a id="NETRF856"></a><a id="NETRF857"></a><a id="NETRF132"></a><div class="sect3"><a id="GUID-FF561B88-BFE8-4A97-A193-ED61DB8009D2" name="GUID-FF561B88-BFE8-4A97-A193-ED61DB8009D2"></a><h4 id="NETRF-GUID-FF561B88-BFE8-4A97-A193-ED61DB8009D2" class="sect4"><span class="enumeration_section">1.5.24 </span>VERSION
                  </h4>
                  <div>
                     <p>The Listener Control utility command <code class="codeph">VERSION</code> displays the current version of the Listener Control utility.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FF561B88-BFE8-4A97-A193-ED61DB8009D2__GUID-FDFB5A97-1A65-4408-A3E0-DA23F0AA84EE">Purpose</p>
                        <p>To display the current version of Listener Control utility.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FF561B88-BFE8-4A97-A193-ED61DB8009D2__GUID-F98BA1BC-854C-464B-B858-E4D64508D0D6">Prerequisites</p>
                        <p>None</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FF561B88-BFE8-4A97-A193-ED61DB8009D2__GUID-F6FC802D-7171-4602-8359-8BD0EC70D152">Syntax</p>
                        <p>From the operating system:</p><pre class="pre codeblock"><code>lsnrctl VERSION <span class="variable" translate="no">listener_name</span>
</code></pre><p>From the Listener Control utility:</p><pre class="pre codeblock"><code>LSNRCTL&gt; VERSION <span class="variable" translate="no">listener_name</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FF561B88-BFE8-4A97-A193-ED61DB8009D2__GUID-86724BD8-F66A-4362-8275-5545D771192D">Arguments</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph"><span class="variable" translate="no">listener_name</span></code>: The listener name, if the default name of <code class="codeph">LISTENER</code> is not used.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FF561B88-BFE8-4A97-A193-ED61DB8009D2__GUID-45C791BE-088F-4EC3-950F-144F5068F97E">Example</p><pre class="pre codeblock"><code>LSNRCTL&gt; version listener
Connecting to ADDRESS=(PROTOCOL=TCP)(HOST=sales-server)(PORT=1521))
TNSLSNR for Linux: Version 19.0.0.0.0
        TNS for Linux: Version 19.0.0.0.0 
        Oracle Bequeath NT Protocol Adapter for Linux: Version 19.0.0.0.0
        Unix Domain Socket IPC NT Protocol Adaptor for Linux: Version 19.0.0.0.0
        TCP/IP NT Protocol Adapter for Linux: Version 19.0.0.0.0
The command completed successfully</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="listener-control-utility.html#GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" title="Use the Listener Control utility commands to manage and configure listeners.">Listener Control Utility Commands</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='13315.using-oracle-precompilers-and-oracle-call-interface.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter describes how to use Oracle precompilers and the Oracle Call Interface">
      <meta name="description" content="This chapter describes how to use Oracle precompilers and the Oracle Call Interface">
      <title>Using Oracle Precompilers and the Oracle Call Interface</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Administrator's Reference">
      <meta property="og:description" content="This chapter describes how to use Oracle precompilers and the Oracle Call Interface">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Administrator's Reference for Linux and UNIX System-Based Operating Systems">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="administrators-reference-linux-and-unix-system-based-operating-systems.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-07T05:04:28-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96356-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="configuring-oracle-net-services.html" title="Previous" type="text/html">
      <link rel="next" href="SQLLoader-and-PLSQL-demonstrations.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Administrator's Reference for Linux and UNIX System-Based Operating Systems">
    <meta name="dcterms.isVersionOf" content="UNXAR">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-oracle-net-services.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="SQLLoader-and-PLSQL-demonstrations.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Administrator's Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Using Oracle Precompilers and the Oracle Call Interface</li>
            </ol>
            <a id="GUID-72752D8C-AC25-4F0A-A26F-3C3C795097FF" name="GUID-72752D8C-AC25-4F0A-A26F-3C3C795097FF"></a><a id="UNXAR006"></a>
            
            <h2 id="UNXAR-GUID-72752D8C-AC25-4F0A-A26F-3C3C795097FF" class="sect2"><span class="enumeration_chapter">6 </span> Using Oracle Precompilers and the Oracle Call Interface
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes how to use Oracle precompilers and the Oracle Call Interface</p>
               <p>Topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-87230DB0-5225-45C4-A156-246B4F850D4C" title="To link applications to the client static library, you must generate it first.">Overview of Oracle Precompilers</a></p>
                  </li>
                  <li>
                     <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-6D01257F-4FF4-49DA-9683-83A0BEE43892">Bit-Length Support for Client Applications</a></p>
                  </li>
                  <li>
                     <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-08DBE306-5D22-4B05-91EC-98334F0D6CC0">Pro*C/C++ Precompiler</a></p>
                  </li>
                  <li>
                     <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-78CF7AC6-6329-4D1B-BEBE-23279FFE6F55">Pro*COBOL Precompiler</a></p>
                  </li>
                  <li>
                     <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-B51B83C6-C840-4BD2-ACF6-C55418ACEF17">Pro*FORTRAN Precompiler</a></p>
                  </li>
                  <li>
                     <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-3B23F5E7-50B9-47BD-BEFC-87679F46744A">SQL*Module for ADA</a></p>
                  </li>
                  <li>
                     <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-BD220FF0-5F73-40C8-B208-085A6B2E6CE0">OCI and OCCI</a></p>
                  </li>
                  <li>
                     <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-AC40DC7C-4E3A-4157-80DB-E102F6C94680">Running Oracle JDBC/OCI Programs with a 64-Bit Driver</a></p>
                  </li>
                  <li>
                     <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-0AF7D0E1-0C36-413C-BA17-BB1C85E2E5E9">Custom Make Files</a></p>
                  </li>
                  <li>
                     <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-B0521D95-B6E9-4E71-9989-DF1682FE7534">Correcting Undefined Symbols</a></p>
                  </li>
                  <li>
                     <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-BC52E5BF-653D-4057-8307-AF2C713725CC">Multithreaded Applications</a></p>
                  </li>
                  <li>
                     <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-B0CCF23A-007C-413D-AF40-D554F02C9897">Using Signal Handlers</a></p>
                  </li>
                  <li>
                     <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-C9935092-BE14-4512-809B-FBB83FB4EA7F">XA Functionality</a></p>
                  </li>
               </ul>
            </div><a id="UNXAR186"></a><div class="props_rev_3"><a id="GUID-87230DB0-5225-45C4-A156-246B4F850D4C" name="GUID-87230DB0-5225-45C4-A156-246B4F850D4C"></a><h3 id="UNXAR-GUID-87230DB0-5225-45C4-A156-246B4F850D4C" class="sect3"><span class="enumeration_section">6.1 </span>Overview of Oracle Precompilers
               </h3>
               <div>
                  <p>Oracle precompilers are application development tools that are used to combine SQL statements for an Oracle Database with programs written in a high-level language. Oracle precompilers are compatible with ANSI SQL and are used to develop and open customized applications that run with Oracle Database or any other ANSI SQL database management system.</p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-E9DBA78F-4D0C-4531-9614-31895033D487">Precompiler Configuration Files</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-52FD3318-5A43-4437-95B7-16BDA8C90E5F">Relinking Precompiler Executables</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-30DBE438-EAD7-4FA2-9C6E-81BED90BBDC6">Issues Common to All Precompilers</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-F34EF682-AC84-4CB2-AF4A-DC3CF36CA7CC">Static and Dynamic Linking</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-E9D8538B-4CFC-4F5F-B25E-4C98A356E6BB">Client Shared and Static Libraries</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-87230DB0-5225-45C4-A156-246B4F850D4C__GUID-4E6A2BF9-85A3-4DA5-91C0-538D3B6BB53B">
                     <p class="notep1">Note:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ORACLE_HOME</code> in this section refers to <code class="codeph">ORACLE_HOME</code> that is created while installing Oracle Database Client 19c by using the Administrator Install type.
                           </p>
                        </li>
                        <li>
                           <p>If you have configured a read-only Oracle home, then you must copy the demo directories from ORACLE_HOME to ORACLE_BASE_HOME. Refer to <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/unxar&amp;id=LADBI-GUID-9C4D0762-7F36-4819-9D00-90ACE68E482B" target="_blank"><span><cite>Oracle Database Installation Guide for Linux</cite></span> </a> for more information.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="UNXAR188"></a><a id="UNXAR187"></a><div class="props_rev_3"><a id="GUID-E9DBA78F-4D0C-4531-9614-31895033D487" name="GUID-E9DBA78F-4D0C-4531-9614-31895033D487"></a><h4 id="UNXAR-GUID-E9DBA78F-4D0C-4531-9614-31895033D487" class="sect4"><span class="enumeration_section">6.1.1 </span>Precompiler Configuration Files
                  </h4>
                  <div>
                     <div class="section">
                        <p>Configuration files for the Oracle precompilers are located in the <code class="codeph">$ORACLE_HOME/precomp/admin</code> directory. 
                        </p>
                        <p>The following table lists the names of the configuration files for each precompiler.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-E9DBA78F-4D0C-4531-9614-31895033D487__G40004">
                        <p class="titleintable">Table 6-1 System Configuration Files for Oracle Precompilers</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="System Configuration Files for Oracle Precompilers" summary="This 2 column table lists the system configuration files for Oracle Precompilers. Column 1 is the product. Column 2 is the configuration file." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="72%" id="d8297e398">Product</th>
                                 <th align="left" valign="bottom" width="28%" id="d8297e401">Configuration File</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="72%" id="d8297e406" headers="d8297e398 ">
                                    <p>Pro*C/C++</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d8297e406 d8297e401 ">
                                    <p><code class="codeph">pcscfg.cfg</code><a id="d8297e413" class="indexterm-anchor"></a><a id="d8297e415" class="indexterm-anchor"></a><a id="d8297e419" class="indexterm-anchor"></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="72%" id="d8297e424" headers="d8297e398 ">
                                    <p>Pro*COBOL</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d8297e424 d8297e401 ">
                                    <p><code class="codeph">pcbcfg.cfg</code><a id="d8297e431" class="indexterm-anchor"></a><a id="d8297e433" class="indexterm-anchor"></a><a id="d8297e437" class="indexterm-anchor"></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="72%" id="d8297e442" headers="d8297e398 ">
                                    <p>Pro*FORTRAN (IBM AIX on POWER Systems (64-Bit), HP-UX, and Oracle Solaris)</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d8297e442 d8297e401 ">
                                    <p><code class="codeph">pccfor.cfg</code><a id="d8297e449" class="indexterm-anchor"></a><a id="d8297e451" class="indexterm-anchor"></a><a id="d8297e455" class="indexterm-anchor"></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="72%" id="d8297e460" headers="d8297e398 ">
                                    <p>Object Type Translator</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d8297e460 d8297e401 ">
                                    <p><code class="codeph">ottcfg.cfg</code><a id="d8297e467" class="indexterm-anchor"></a><a id="d8297e469" class="indexterm-anchor"></a><a id="d8297e473" class="indexterm-anchor"></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="72%" id="d8297e478" headers="d8297e398 ">
                                    <p>SQL*Module for Ada (IBM AIX on POWER Systems (64-Bit))</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d8297e478 d8297e401 ">
                                    <p><code class="codeph">pmscfg.cfg</code><a id="d8297e485" class="indexterm-anchor"></a><a id="d8297e487" class="indexterm-anchor"></a><a id="d8297e491" class="indexterm-anchor"></a></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="UNXAR189"></a><div class="props_rev_3"><a id="GUID-52FD3318-5A43-4437-95B7-16BDA8C90E5F" name="GUID-52FD3318-5A43-4437-95B7-16BDA8C90E5F"></a><h4 id="UNXAR-GUID-52FD3318-5A43-4437-95B7-16BDA8C90E5F" class="sect4"><span class="enumeration_section">6.1.2 </span>Relinking Precompiler Executables
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">$ORACLE_HOME/precomp/lib/ins_precomp.mk</code> <a id="d8297e591" class="indexterm-anchor"></a><a id="d8297e595" class="indexterm-anchor"></a><a id="d8297e599" class="indexterm-anchor"></a>make file to relink all precompiler executables. To manually relink a particular precompiler executable, enter the following command:
                     </p><pre class="oac_no_warn" dir="ltr">$ make -f ins_precomp.mk relink exename = <span class="italic">executable_name</span>
</pre><p>This command creates the new executable in the <code class="codeph">$ORACLE_HOME/precomp/lib</code> directory, and then moves it to the <code class="codeph">$ORACLE_HOME/bin</code> directory.
                     </p>
                     <p>In the preceding example, replace <span class="italic"><code class="codeph">executable</code></span> with one of the product executables listed in <a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-52FD3318-5A43-4437-95B7-16BDA8C90E5F__BABDIFFI" title="This 2 column table lists products and the names of their corresponding executables. Column 1 is the product. Column 2 is the executable.">Table 6-2</a>.<a id="d8297e626" class="indexterm-anchor"></a><a id="d8297e630" class="indexterm-anchor"></a></p>
                     <p>The following table lists the executables for Oracle Precompilers:</p>
                     <div class="tblformal" id="GUID-52FD3318-5A43-4437-95B7-16BDA8C90E5F__BABDIFFI">
                        <p class="titleintable">Table 6-2 Executables for Oracle Precompilers</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Executables for Oracle Precompilers" summary="This 2 column table lists products and the names of their corresponding executables. Column 1 is the product. Column 2 is the executable." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="70%" id="d8297e646">Product</th>
                                 <th align="left" valign="bottom" width="30%" id="d8297e649">Executable</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="70%" id="d8297e654" headers="d8297e646 ">
                                    <p>Pro*FORTRAN 32-bit (Oracle Solaris, HP-UX and IBM AIX on POWER Systems (64-Bit))</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d8297e654 d8297e649 ">
                                    <p><code class="codeph">profor</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="70%" id="d8297e662" headers="d8297e646 ">
                                    <p>Pro*COBOL 32-bit (Oracle Solaris, HP-UX, and IBM AIX on POWER Systems (64-Bit))</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d8297e662 d8297e649 ">
                                    <p><code class="codeph">procob</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="70%" id="d8297e670" headers="d8297e646 ">
                                    <p>Pro*COBOL (Oracle Solaris, HP-UX, and IBM AIX on POWER Systems (64-Bit))</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d8297e670 d8297e649 ">
                                    <p><code class="codeph">procob</code> or <code class="codeph">rtsora</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="70%" id="d8297e681" headers="d8297e646 ">
                                    <p>Pro*C/C++ 32 bit (HP-UX)</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d8297e681 d8297e649 ">
                                    <p><code class="codeph">proc</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="70%" id="d8297e689" headers="d8297e646 ">
                                    <p>Pro*FORTRAN (HP-UX)</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d8297e689 d8297e649 ">
                                    <p><code class="codeph">profor</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="70%" id="d8297e697" headers="d8297e646 ">
                                    <p>SQL*Module for Ada (IBM AIX on POWER Systems (64-Bit))</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d8297e697 d8297e649 ">
                                    <p><code class="codeph">modada</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="UNXAR193"></a><div class="props_rev_3"><a id="GUID-30DBE438-EAD7-4FA2-9C6E-81BED90BBDC6" name="GUID-30DBE438-EAD7-4FA2-9C6E-81BED90BBDC6"></a><h4 id="UNXAR-GUID-30DBE438-EAD7-4FA2-9C6E-81BED90BBDC6" class="sect4"><span class="enumeration_section">6.1.3 </span>Issues Common to All Precompilers
                  </h4>
                  <div>
                     <p>The following issues are common to all precompilers:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Uppercase to Lowercase Conversion<a id="d8297e791" class="indexterm-anchor"></a></p>
                           <p>In languages other than C, the compiler converts an uppercase function or subprogram name to lowercase. This can cause a <code class="codeph">No such user exists</code> error message. If you receive this error message, then verify that the case of the function or subprogram name in the option file matches the case used in the IAPXTB table.
                           </p>
                        </li>
                        <li>
                           <p>Vendor Debugger Programs<a id="d8297e803" class="indexterm-anchor"></a><a id="d8297e807" class="indexterm-anchor"></a></p>
                           <p>Precompilers and vendor-supplied debuggers can be incompatible. Oracle does not guarantee that a program run using a debugger performs the same way when it is run without the debugger.</p>
                        </li>
                        <li>
                           <p>Value of <code class="codeph">IRECLEN</code> and <code class="codeph">ORECLEN</code> parameters<a id="d8297e820" class="indexterm-anchor"></a><a id="d8297e824" class="indexterm-anchor"></a><a id="d8297e826" class="indexterm-anchor"></a></p>
                           <p>The <code class="codeph">IRECLEN</code> and <code class="codeph">ORECLEN</code> parameters do not have maximum values.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="UNXAR194"></a><div class="props_rev_3"><a id="GUID-F34EF682-AC84-4CB2-AF4A-DC3CF36CA7CC" name="GUID-F34EF682-AC84-4CB2-AF4A-DC3CF36CA7CC"></a><h4 id="UNXAR-GUID-F34EF682-AC84-4CB2-AF4A-DC3CF36CA7CC" class="sect4"><span class="enumeration_section">6.1.4 </span>Static and Dynamic Linking
                  </h4>
                  <div>
                     <p>You can statically or dynamically link Oracle libraries with precompiler and OCI or OCCI applications. With static linking, the libraries and objects of the whole application are linked into a single executable program. As a result, application executables can become very large.</p>
                     <p>With dynamic linking, the executing code is partly stored in the executable program and partly stored in libraries that are linked dynamically by the application at run time. Libraries that are linked at run time are called dynamic or shared libraries. The benefits of dynamic linking are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Reduced disk space requirements: Multiple applications or calls to the same application can use the same dynamic libraries.</p>
                        </li>
                        <li>
                           <p>Reduced main memory requirements: The same dynamic library image is loaded into the main memory only once, and it can be shared by multiple applications.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="UNXAR418"></a><a id="UNXAR195"></a><div class="props_rev_3"><a id="GUID-E9D8538B-4CFC-4F5F-B25E-4C98A356E6BB" name="GUID-E9D8538B-4CFC-4F5F-B25E-4C98A356E6BB"></a><h4 id="UNXAR-GUID-E9D8538B-4CFC-4F5F-B25E-4C98A356E6BB" class="sect4"><span class="enumeration_section">6.1.5 </span>Client Shared and Static Libraries
                  </h4>
                  <div>
                     <p>The client shared and static libraries are located in <code class="codeph">$ORACLE_HOME/lib.</code> If you use the Oracle-provided <code class="codeph">demo_</code><span class="italic"><code class="codeph">product</code></span><code class="codeph">.mk</code> file to link an application, then the client shared library is linked by default.
                     </p>
                     <p>If the shared library path environment variable setting does not include the directory that contains the client shared library, then you may see an error message similar to one of the following lines when starting an executable:</p><pre class="oac_no_warn" dir="ltr">Cannot load library libclntsh.a
cannot open shared library: .../libclntsh.sl.10.1
libclntsh.so.10.1: can't open file: errno=2 
can't open library: .../libclntsh.dylib.10.1  
Cannot map libclntsh.so
</pre><p>To avoid this error, set the shared library path environment variable to specify the appropriate directory. The following table shows sample settings for this environment variable name. If the platform supports both 32-bit and 64-bit applications, then ensure that you specify the correct directory, depending on the application that you want to run.</p>
                     <div class="tblformal" id="GUID-E9D8538B-4CFC-4F5F-B25E-4C98A356E6BB__GUID-898A318F-7A51-4C2E-B3FB-85AF8C61D4FD">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This 3 column table lists sample settings for the shared library path environment variable. Column 1 is the platform. Column 2 is the environmental variable. Column 3 is a sample setting." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="36%" id="d8297e1058">Platform</th>
                                 <th align="left" valign="bottom" width="28%" id="d8297e1061">Environment Variable</th>
                                 <th align="left" valign="bottom" width="36%" id="d8297e1064">Sample Setting</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d8297e1069" headers="d8297e1058 ">
                                    <p>Oracle Solaris (32-bit and 64-bit applications) and Linux</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d8297e1069 d8297e1061 ">
                                    <p><code class="codeph">LD_LIBRARY_PATH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d8297e1069 d8297e1064 ">
                                    <p><code class="codeph">$ORACLE_HOME/lib</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d8297e1081" headers="d8297e1058 ">
                                    <p>IBM AIX on POWER Systems (32-bit and 64&#x2013;bit applications)</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d8297e1081 d8297e1061 ">
                                    <p><code class="codeph">LIBPATH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d8297e1081 d8297e1064 ">
                                    <p><code class="codeph">$ORACLE_HOME/lib</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d8297e1093" headers="d8297e1058 ">
                                    <p>HP-UX (32-bit applications)</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d8297e1093 d8297e1061 ">
                                    <p><code class="codeph">SHLIB_PATH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d8297e1093 d8297e1064 ">
                                    <p><code class="codeph">$ORACLE_HOME/lib</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d8297e1105" headers="d8297e1058 ">
                                    <p>HP-UX (64-bit applications)</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d8297e1105 d8297e1061 ">
                                    <p><code class="codeph">LD_LIBRARY_PATH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d8297e1105 d8297e1064 ">
                                    <p><code class="codeph">$ORACLE_HOME/lib</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The client shared library is created automatically during installation. If you must re-create it, then complete the following procedure:</p>
                     <ol>
                        <li>
                           <p>Quit all client applications that use the client shared library, including all Oracle client applications such as SQL*Plus and Oracle Recovery Manager.</p>
                        </li>
                        <li>
                           <p>Log in as the <code class="codeph">oracle</code> user, and run the following command:
                           </p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/genclntsh</pre></li>
                     </ol>
                     <div class="section">
                        <p class="subhead3" id="GUID-E9D8538B-4CFC-4F5F-B25E-4C98A356E6BB__GUID-52AED854-5AFD-4449-AC93-8CDD03B27A3A">Non-threaded Client Shared Library</p>
                        <div class="infoboxnote" id="GUID-E9D8538B-4CFC-4F5F-B25E-4C98A356E6BB__GUID-86B15978-6B61-46A4-8FBE-E840E45BD4E8">
                           <p class="notep1">Note:</p>
                           <p>The information in this section applies to HP-UX systems.</p>
                        </div>
                        <p>On HP-UX, you can use a non-threaded client shared library. However, you cannot use this library with any OCI application that uses or has a dependency on threads.</p>
                        <p>To use this library for applications that do not use threads, run the following command to build the OCI application for 32 and 64-bit:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_rdbms.mk build_nopthread EXE=oci02 OBJS=oci02.o
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-0A71F60A-3765-477C-AC3D-B146E21936C4" name="GUID-0A71F60A-3765-477C-AC3D-B146E21936C4"></a><h4 id="UNXAR-GUID-0A71F60A-3765-477C-AC3D-B146E21936C4" class="sect4"><span class="enumeration_section">6.1.6 </span>Generating the Client Static Library
                  </h4>
                  <div>
                     <p>To link applications to the client static library, you must generate it first.</p>
                     <div class="section">The client static library (<code class="codeph">libclntst12.a</code>) is not generated during an Oracle Database installation. To link the applications to the client static library, you must first generate it:
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Switch the user to the Oracle installation owner (<code class="codeph">oracle</code>).</span></li>
                        <li class="stepexpand"><span>Set the <code class="codeph">ORACLE_HOME</code> environment variable to specify the Oracle home directory used by the Oracle Database installation. For example:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Bourne, Bash, or Korn shell:</p><pre class="pre codeblock"><code>$ ORACLE_HOME=/u01/app/oracle/product/19.0.0/dbhome_1 
$ export ORACLE_HOME</code></pre></li>
                                 <li>
                                    <p>C shell:</p><pre class="pre codeblock"><code>% setenv ORACLE_HOME /u01/app/oracle/product/19.0.0/dbhome_1</code></pre></li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Enter the following command:</span><div><pre class="pre codeblock"><code>$ $ORACLE_HOME/bin/genclntst</code></pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="UNXAR198"></a><a id="UNXAR197"></a><div class="props_rev_3"><a id="GUID-6D01257F-4FF4-49DA-9683-83A0BEE43892" name="GUID-6D01257F-4FF4-49DA-9683-83A0BEE43892"></a><h3 id="UNXAR-GUID-6D01257F-4FF4-49DA-9683-83A0BEE43892" class="sect3"><span class="enumeration_section">6.2 </span>Bit-Length Support for Client Applications
               </h3>
               <div>
                  <p>The client application type (32-bit or 64-bit) is supported on the following platforms:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Oracle Solaris</p>
                     </li>
                     <li>
                        <p>Linux x86-64</p>
                     </li>
                     <li>
                        <p>IBM: Linux on System z</p>
                     </li>
                     <li>
                        <p>IBM AIX on POWER Systems (64-Bit)</p>
                     </li>
                     <li>
                        <p>HP-UX Itanium</p>
                     </li>
                  </ul>
                  <p>The following table lists the 32-bit and 64-bit client shared libraries:</p>
                  <div class="tblformal" id="GUID-6D01257F-4FF4-49DA-9683-83A0BEE43892__GUID-31780BDC-37F3-47D0-BB26-82EE9E7126AD">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This 3 column table lists the 32-bit and 64-bit client shared libraries. Column 1 is the platform. Column 2 is the 32&#x2013;bit client shared library. Column 3 is the 64&#x2013;bit client shared library." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d8297e1384">Platform</th>
                              <th align="left" valign="bottom" width="43%" id="d8297e1387">32-Bit Client Shared Library</th>
                              <th align="left" valign="bottom" width="33%" id="d8297e1390">64-Bit Client Shared Library</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d8297e1395" headers="d8297e1384 ">
                                 <p>Oracle Solaris, Linux x86-64, and IBM: Linux on System z</p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d8297e1395 d8297e1387 "><pre class="oac_no_warn" dir="ltr">$ORACLE_HOME/lib/libclntsh.so</pre></td>
                              <td align="left" valign="top" width="33%" headers="d8297e1395 d8297e1390 "><pre class="oac_no_warn" dir="ltr">$ORACLE_HOME/lib/libclntsh.so</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d8297e1405" headers="d8297e1384 ">
                                 <p>IBM AIX on POWER Systems (64-Bit)</p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d8297e1405 d8297e1387 "><pre class="oac_no_warn" dir="ltr">$ORACLE_HOME/lib/libclntsh.a
$ORACLE_HOME/lib/libclntsh.so</pre></td>
                              <td align="left" valign="top" width="33%" headers="d8297e1405 d8297e1390 "><pre class="oac_no_warn" dir="ltr">$ORACLE_HOME/lib/libclntsh.a
$ORACLE_HOME/lib/libclntsh.so</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d8297e1415" headers="d8297e1384 ">
                                 <p>HP-UX Itanium</p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d8297e1415 d8297e1387 ">
                                 <p><code class="codeph">$ORACLE_HOME/lib/libclntsh.sl</code></p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d8297e1415 d8297e1390 ">
                                 <p><code class="codeph">$ORACLE_HOME/lib/libclntsh.sl</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>To implement a mixed word-size installation:</p>
                  <ol>
                     <li>
                        <p>Run the following command to generate the 32-bit and 64-bit client shared libraries:</p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/genclntsh
</pre></li>
                     <li>
                        <p>Include the paths of the required 32-bit and 64-bit client shared libraries in one of the following environment variables, depending on the platform:</p>
                        <div class="tblformal" id="GUID-6D01257F-4FF4-49DA-9683-83A0BEE43892__GUID-E4C4B75A-09E1-4EE8-9320-4689980CBDCB">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists the path environment variables" width="90%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="44%" id="d8297e1445">Platform</th>
                                    <th align="left" valign="bottom" width="56%" id="d8297e1448">Environment Variable</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="44%" id="d8297e1453" headers="d8297e1445 ">
                                       <p>Oracle Solaris, Linux x86-64, IBM: Linux on System z, and HP-UX</p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d8297e1453 d8297e1448 ">
                                       <p><code class="codeph">LD_LIBRARY_PATH</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="44%" id="d8297e1461" headers="d8297e1445 ">
                                       <p>IBM AIX on POWER Systems (64-Bit)</p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d8297e1461 d8297e1448 ">
                                       <p><code class="codeph">LIBPATH</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="44%" id="d8297e1469" headers="d8297e1445 ">
                                       <p>HP-UX (32-bit client applications)</p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d8297e1469 d8297e1448 ">
                                       <p><code class="codeph">SHLIB_PATH</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </li>
                  </ol>
                  <div class="section">
                     <p class="subhead2" id="GUID-6D01257F-4FF4-49DA-9683-83A0BEE43892__GUID-F9BE52D3-DAE9-4114-8846-E41507CFC410">Building 32-Bit Pro*C and OCI Customer Applications</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>If the operating system supports both 32-bit and 64-bit Pro*C and Oracle Call Interface (OCI) customer applications, then you can find more information about building 32-bit Pro*C and OCI applications in the following files:</p>
                     <div class="tblformal" id="GUID-6D01257F-4FF4-49DA-9683-83A0BEE43892__GUID-41586353-F4ED-4644-BFF3-B031BD0051C3">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists the make files for Pro*C and OCI applications" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d8297e1490">For Information About. . .</th>
                                 <th align="left" valign="bottom" width="69%" id="d8297e1493">Refer to the Following Make Files. . .</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d8297e1498" headers="d8297e1490 ">
                                    <p>Building 32-bit Pro*C applications </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d8297e1498 d8297e1493 ">
                                    <p><code class="codeph">$ORACLE_HOME/precomp/demo/proc/demo_proc32.mk</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d8297e1506" headers="d8297e1490 ">
                                    <p>Building 32-bit OCI applications</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d8297e1506 d8297e1493 ">
                                    <p><code class="codeph">$ORACLE_HOME/rdbms/demo/demo_rdbms32.mk</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="UNXAR199"></a><div class="props_rev_3"><a id="GUID-08DBE306-5D22-4B05-91EC-98334F0D6CC0" name="GUID-08DBE306-5D22-4B05-91EC-98334F0D6CC0"></a><h3 id="UNXAR-GUID-08DBE306-5D22-4B05-91EC-98334F0D6CC0" class="sect3"><span class="enumeration_section">6.3 </span>Pro*C/C++ Precompiler
               </h3>
               <div>
                  <p>Before you use the Pro*C/C++ precompiler, verify that the correct version of the operating system compiler is properly installed.</p>
                  <div class="infoboxnotealso" id="GUID-08DBE306-5D22-4B05-91EC-98334F0D6CC0__GUID-A0FE9DC8-3D7E-4CF7-9AE5-205CE0AB5082">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/unxar&amp;id=GINST" target="_blank"><span class="italic">Oracle Database Installation Guide</span></a> for information about supported compiler versions
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/unxar&amp;id=LNPCC3028" target="_blank"><span class="italic">Pro*C/C++ Programmer's Guide</span></a> for information about the Pro*C/C++ precompiler and interface features
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-E5EF71F7-F650-4E97-8233-A0A7ABD41B80">Pro*C/C++ Demonstration Programs</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-29CDE75C-5259-48E0-BB85-5082FF3C4C84">Pro*C/C++ User Programs</a></p>
                     </li>
                  </ul>
               </div><a id="UNXAR200"></a><div class="props_rev_3"><a id="GUID-E5EF71F7-F650-4E97-8233-A0A7ABD41B80" name="GUID-E5EF71F7-F650-4E97-8233-A0A7ABD41B80"></a><h4 id="UNXAR-GUID-E5EF71F7-F650-4E97-8233-A0A7ABD41B80" class="sect4"><span class="enumeration_section">6.3.1 </span>Pro*C/C++ Demonstration Programs
                  </h4>
                  <div>
                     <p>Demonstration programs are provided to show the features of the Pro*C/C++ precompiler. There are three types of demonstration programs: C, C++, and Object programs. All demonstration programs are located in the <code class="codeph">$ORACLE_HOME/precomp/demo/proc</code> directory. By default, all programs are dynamically linked with the client shared library.
                     </p>
                     <p>To run the demonstration programs, the programs require the demonstration tables created by the <code class="codeph">demobld.sql</code> script to exist in the JONES schema with a password.
                     </p>
                     <p>The <code class="codeph">demobld.sql</code> script is located in the <code class="codeph">$ORACLE_HOME/sqlplus/demo/</code> directory in a read-write Oracle home and in the <code class="codeph">$(orabasehome)/sqlplus/demo/</code> directory in a read-only Oracle home.
                     </p>
                     <div class="infoboxnote" id="GUID-E5EF71F7-F650-4E97-8233-A0A7ABD41B80__GUID-C17DF533-DB79-47F8-9B2D-8FAF5A175B6F">
                        <p class="notep1">Note:</p>
                        <p>You must unlock the JONES account and set the password before creating the demonstrations.</p>
                     </div>
                     <p>Use the <code class="codeph">demo_proc.mk</code> <a id="d8297e1753" class="indexterm-anchor"></a>make file to create the demonstration programs. The <code class="codeph">demo_proc.mk</code> file is located in the <code class="codeph">$ORACLE_HOME/precomp/demo/proc/</code> directory in a read-write Oracle home and in the <code class="codeph">$(orabasehome/precomp/demo/proc/</code> in a read-only Oracle home. For example, to precompile, compile, and link the <code class="codeph">sample1</code> demonstration program, run the following command:
                     </p><pre class="oac_no_warn" dir="ltr">$ make -f demo_proc.mk sample1
</pre><div class="infoboxnote" id="GUID-E5EF71F7-F650-4E97-8233-A0A7ABD41B80__GUID-9492DBE1-384C-4209-A27F-E7A13C9A097D">
                        <p class="notep1">Note:</p>
                        <p>On IBM AIX on POWER Systems (64-Bit), to ensure that the demonstration programs compile correctly, include the <code class="codeph">-r</code> option of the <code class="codeph">make</code> command in the following examples. For example:
                        </p><pre class="oac_no_warn" dir="ltr">$ make -r -f demo_proc.mk sample1</pre></div>
                     <p>To create all the C demonstration programs for Pro*C/C++, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_proc.mk samples
</pre><p>To create all the C++ demonstration programs for Pro*C/C++, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_proc.mk cppsamples
</pre><p>To create all the Object demonstration programs for Pro*C/C++, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_proc.mk object_samples
</pre><p>Some demonstration programs require you to run a SQL script, located in the <code class="codeph">$ORACLE_HOME/precomp/demo/sql</code> directory. If you do not run the script, then a message prompting you to run it is displayed.
                     </p>
                     <p>To build a demonstration program and run the corresponding SQL script, include the <code class="codeph">make</code> macro argument <code class="codeph">RUNSQL=run</code> at the command line. For example, to create the <code class="codeph">sample9</code> demonstration program and run the required <code class="codeph">$ORACLE_HOME/precomp/demo/sql/sample9.sql</code> script, run the following command:
                     </p><pre class="oac_no_warn" dir="ltr">$ make -f demo_proc.mk sample9 RUNSQL=run
</pre><p>To create all the Object demonstration programs and run all the required SQL scripts, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_proc.mk object_samples RUNSQL=run</pre></div>
               </div><a id="UNXAR201"></a><div class="props_rev_3"><a id="GUID-29CDE75C-5259-48E0-BB85-5082FF3C4C84" name="GUID-29CDE75C-5259-48E0-BB85-5082FF3C4C84"></a><h4 id="UNXAR-GUID-29CDE75C-5259-48E0-BB85-5082FF3C4C84" class="sect4"><span class="enumeration_section">6.3.2 </span>Pro*C/C++ User Programs
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">$ORACLE_HOME/precomp/demo/proc/demo_proc.mk</code> make file to create user programs. This make file builds either 32-bit or 64-bit user programs. You can also use the <code class="codeph">demo_proc32.mk</code> <a id="d8297e1925" class="indexterm-anchor"></a><a id="d8297e1927" class="indexterm-anchor"></a>make file to build 32-bit user programs. The following table shows the make files that you can use to build 32-bit and 64-bit user programs with Pro*C/C++:
                     </p>
                     <div class="tblformal" id="GUID-29CDE75C-5259-48E0-BB85-5082FF3C4C84__GUID-CA4DD7F6-BF0E-4226-8F02-83A84DC7FB01">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This 3 table lists the make files that you can use with Pro*C/C++ to build 31-bit, 32-bit, or 64-bit user programs. Column 1 is the platform. Column 2 is the 64&#x2013;bit make file. Column 3 is the 32&#x2013;bit make file. " width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="35%" id="d8297e1941">Platform</th>
                                 <th align="left" valign="bottom" width="28%" id="d8297e1944">64-bit Make File</th>
                                 <th align="left" valign="bottom" width="37%" id="d8297e1947">32-Bit Make File</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d8297e1952" headers="d8297e1941 ">
                                    <p>Oracle Solaris, Linux x86-64, IBM: Linux on System z, IBM AIX on POWER Systems (64-Bit), and HP-UX</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d8297e1952 d8297e1944 ">
                                    <p><code class="codeph">demo_proc.mk</code></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d8297e1952 d8297e1947 ">
                                    <p><code class="codeph">demo_proc32.mk</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-29CDE75C-5259-48E0-BB85-5082FF3C4C84__GUID-AF4A3352-4C27-46EF-82FA-B290F6CD4DE8">
                        <p class="notep1">See Also:</p>
                        <p>The make file for more information about creating user programs</p>
                     </div>
                     <div class="infoboxnote" id="GUID-29CDE75C-5259-48E0-BB85-5082FF3C4C84__GUID-00D64EAD-B3E6-494C-B8A2-E997EF087D11">
                        <p class="notep1">Note:</p>
                        <p>On IBM AIX on POWER Systems (64-Bit), to ensure that the programs compile correctly, specify the <code class="codeph">-r</code> option for the <code class="codeph">make</code> command used in the following examples.
                        </p>
                     </div>
                     <p>To create a program by using the <code class="codeph">demo_proc.mk</code> make file, run a command similar to the following:
                     </p><pre class="oac_no_warn" dir="ltr">$ make -f demo_proc.mk <span class="italic">target</span> OBJS="<span class="italic">objfile1</span> <span class="italic">objfile2</span> ..." EXE=<span class="italic">exename</span>
</pre><p>In this example:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="italic"><code class="codeph">target</code></span> is the make file target that you want to use
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">objfilen</code></span> is the object file to link the program
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">exename</code></span> is the executable program
                           </p>
                        </li>
                     </ul>
                     <p>For example, to create the program <code class="codeph">myprog</code> from the Pro*C/C++ source file <code class="codeph">myprog.pc</code>, run one of the following commands, depending on the source and the type of executable that you want to create:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>For C source dynamically linked with the client shared library, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_proc.mk build OBJS=myprog.o EXE=myprog
</pre></li>
                        <li>
                           <p>For C source statically linked with the client shared library, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_proc.mk build_static OBJS=myprog.o EXE=myprog
</pre></li>
                        <li>
                           <p>For C++ source dynamically linked with the client shared library, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_proc.mk cppbuild OBJS=myprog.o EXE=myprog
</pre></li>
                        <li>
                           <p>For C++ source statically linked with the client shared library, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_proc.mk cppbuild_static OBJS=myprog.o EXE=myprog</pre></li>
                     </ul>
                  </div>
               </div>
            </div><a id="UNXAR203"></a><a id="UNXAR202"></a><div class="props_rev_3"><a id="GUID-78CF7AC6-6329-4D1B-BEBE-23279FFE6F55" name="GUID-78CF7AC6-6329-4D1B-BEBE-23279FFE6F55"></a><h3 id="UNXAR-GUID-78CF7AC6-6329-4D1B-BEBE-23279FFE6F55" class="sect3"><span class="enumeration_section">6.4 </span>Pro*COBOL Precompiler
               </h3>
               <div>
                  <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-78CF7AC6-6329-4D1B-BEBE-23279FFE6F55__BABBJHHC" title="This 2 column table shows Pro*COBOL naming conventions. Column 1 is the item. Column 2 is the naming convention.">Table 6-3</a> shows the naming conventions for the Pro*COBOL precompiler.
                  </p>
                  <div class="tblformal" id="GUID-78CF7AC6-6329-4D1B-BEBE-23279FFE6F55__BABBJHHC">
                     <p class="titleintable">Table 6-3 Pro*COBOL Naming Conventions </p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Pro*COBOL Naming Conventions " summary="This 2 column table shows Pro*COBOL naming conventions. Column 1 is the item. Column 2 is the naming convention." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="44%" id="d8297e2152">Item</th>
                              <th align="left" valign="bottom" width="56%" id="d8297e2155">Naming Convention</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d8297e2160" headers="d8297e2152 ">
                                 <p>Executable</p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d8297e2160 d8297e2155 ">
                                 <p><code class="codeph">procob</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d8297e2168" headers="d8297e2152 ">
                                 <p>Demonstration directory</p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d8297e2168 d8297e2155 ">
                                 <p><code class="codeph">procob2</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d8297e2176" headers="d8297e2152 ">
                                 <p>Make file</p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d8297e2176 d8297e2155 ">
                                 <p><code class="codeph">demo_procob.mk</code> or <code class="codeph">demo_procob_32.mk</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>Pro*COBOL supports statically linked, dynamically linked, or dynamically loadable programs. Dynamically linked programs use the client shared library. Dynamically loadable programs use the <code class="codeph">rtsora</code> executable located in the <code class="codeph">$ORACLE_HOME/bin</code> directory.
                  </p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-D675EA78-E280-4619-A178-6C14A6CDCD74">Pro*COBOL Environment Variables</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-9DE325DF-8A0B-4C84-AB75-8458123EA789">Pro*COBOL Oracle Runtime System</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-0136455E-1E0A-4A80-9607-450B5889BF11">Pro*COBOL Demonstration Programs</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-7197EE64-241C-4205-8F70-86052D427505">Pro*COBOL User Programs</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-455A7B49-DAE8-4C10-9AE6-FEDC578E0F1E">FORMAT Precompiler Option</a></p>
                     </li>
                  </ul>
               </div><a id="UNXAR204"></a><div class="props_rev_3"><a id="GUID-D675EA78-E280-4619-A178-6C14A6CDCD74" name="GUID-D675EA78-E280-4619-A178-6C14A6CDCD74"></a><h4 id="UNXAR-GUID-D675EA78-E280-4619-A178-6C14A6CDCD74" class="sect4"><span class="enumeration_section">6.4.1 </span>Pro*COBOL Environment Variables
                  </h4>
                  <div>
                     <p>This section describes the environment variables required by Pro*COBOL:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-284C21DD-43D1-4C35-AC81-D80F46CA9A3F">Micro Focus Server Express COBOL Compiler</a></p>
                        </li>
                        <li>
                           <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-12A78D15-C202-4C9A-9F88-5070849EF93D">Acucorp ACUCOBOL-GT COBOL Compiler</a></p>
                        </li>
                     </ul>
                  </div><a id="UNXAR206"></a><a id="UNXAR207"></a><a id="UNXAR208"></a><a id="UNXAR205"></a><div class="props_rev_3"><a id="GUID-284C21DD-43D1-4C35-AC81-D80F46CA9A3F" name="GUID-284C21DD-43D1-4C35-AC81-D80F46CA9A3F"></a><h5 id="UNXAR-GUID-284C21DD-43D1-4C35-AC81-D80F46CA9A3F" class="sect5"><span class="enumeration_section">6.4.1.1 </span>Micro Focus Server Express COBOL Compiler
                     </h5>
                     <div>
                        <p>To use the Micro Focus Server Express COBOL compiler, you must set the <code class="codeph">COBDIR</code> and <code class="codeph">PATH</code> environment variables and the shared library path environment variable.
                        </p>
                        <div class="infoboxnotealso" id="GUID-284C21DD-43D1-4C35-AC81-D80F46CA9A3F__GUID-146DC2C0-B8ED-4058-B166-609B1F5D3B9F">
                           <p class="notep1">See Also:</p>
                           <p>The <span class="q">"<a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-E9D8538B-4CFC-4F5F-B25E-4C98A356E6BB">Client Shared and Static Libraries</a>"</span> section for information about the shared library path environment variable
                           </p>
                        </div>
                        <div class="section">
                           <p class="subhead3" id="GUID-284C21DD-43D1-4C35-AC81-D80F46CA9A3F__GUID-47115BA3-BBBD-4D70-A8C5-8CC9DB83A561">COBDIR</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>Set the <code class="codeph">COBDIR</code> environment variable to the directory where the compiler is installed. For example, if the compiler is installed in the <code class="codeph">/opt/lib/cobol</code> directory, then run the following command:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Bourne, Bash, or Korn shell:</p><pre class="oac_no_warn" dir="ltr">$ COBDIR=/opt/lib/cobol
$ export COBDIR
</pre></li>
                              <li>
                                 <p>C shell:</p><pre class="oac_no_warn" dir="ltr">% setenv COBDIR /opt/lib/cobol</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-284C21DD-43D1-4C35-AC81-D80F46CA9A3F__GUID-0452B877-4431-4401-9A9A-078EE48D4627">PATH</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>Set the <code class="codeph">PATH</code> environment variable to include the <code class="codeph">$COBDIR/bin</code> directory:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Bourne, Bash, or Korn shell:</p><pre class="oac_no_warn" dir="ltr">$ PATH=$COBDIR/bin:$PATH
$ export PATH
</pre></li>
                              <li>
                                 <p>C shell:</p><pre class="oac_no_warn" dir="ltr">% setenv PATH ${COBDIR}/bin:${PATH}</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-284C21DD-43D1-4C35-AC81-D80F46CA9A3F__GUID-CCCE1D3F-3B53-41B1-B147-EF2A35D2D968">Shared Library Path</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>Set the <code class="codeph">LIBPATH</code>, <code class="codeph">LD_LIBRARY_PATH</code>, or <code class="codeph">SHLIB_PATH</code> environment variable to the directory where the compiler library is installed. For example, if the platform uses the <code class="codeph">LD_LIBRARY_PATH</code> environment variable and the compiler library is installed in the <code class="codeph">$COBDIR/coblib</code> directory, then run the following command:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Bourne, Bash, or Korn shell:</p><pre class="oac_no_warn" dir="ltr">$ LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:$COBDIR/coblib
$ export LD_LIBRARY_PATH
</pre></li>
                              <li>
                                 <p>C shell:</p><pre class="oac_no_warn" dir="ltr">% setenv LD_LIBRARY_PATH ${LD_LIBRARY_PATH}:$COBDIR/coblib</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="UNXAR210"></a><a id="UNXAR211"></a><a id="UNXAR212"></a><a id="UNXAR209"></a><div class="props_rev_3"><a id="GUID-12A78D15-C202-4C9A-9F88-5070849EF93D" name="GUID-12A78D15-C202-4C9A-9F88-5070849EF93D"></a><h5 id="UNXAR-GUID-12A78D15-C202-4C9A-9F88-5070849EF93D" class="sect5"><span class="enumeration_section">6.4.1.2 </span>Acucorp ACUCOBOL-GT COBOL Compiler
                     </h5>
                     <div>
                        <p>To use the Acucorp ACUCOBOL-GT COBOL compiler, you must set the <code class="codeph">A_TERMCAP</code>, <code class="codeph">A_TERM</code>, <code class="codeph">PATH</code>, and <code class="codeph">LD_LIBRARY_PATH</code> environment variables. If the <code class="codeph">LD_LIBRARY_PATH</code> environment variable setting does not include the correct directory, then an error message similar to the following is displayed when you compile or run a program:
                        </p><pre class="oac_no_warn" dir="ltr">runcbl: error while loading shared libraries: libclntsh.so: 
cannot open shared object file: No such file or directory</pre><div class="section">
                           <p class="subhead3" id="GUID-12A78D15-C202-4C9A-9F88-5070849EF93D__GUID-56989B39-FB70-4313-A427-C5BB9A3657E6">A_TERMCAP and A_TERM</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>Set the <code class="codeph">A_TERMCAP</code> environment variable to specify the location of the <code class="codeph">a_termcap</code> file and set the <code class="codeph">A_TERM</code> environment variable to specify a supported terminal from that file. For example:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Bourne, Bash, or Korn shell:</p><pre class="oac_no_warn" dir="ltr">$ A_TERMCAP=/opt/COBOL/etc/a_termcap
$ A_TERM=vt100
$ export A_TERMCAP A_TERM
</pre></li>
                              <li>
                                 <p>C shell:</p><pre class="oac_no_warn" dir="ltr">% setenv A_TERMCAP /opt/COBOL/etc/a_termcap
% setenv A_TERM vt100</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-12A78D15-C202-4C9A-9F88-5070849EF93D__GUID-43A9B134-4C4C-4301-BB2C-B764B21B213A">PATH</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>Set the <code class="codeph">PATH</code> environment variable to include the <code class="codeph">/opt/COBOL/bin</code> directory:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Bourne, Bash, or Korn shell:</p><pre class="oac_no_warn" dir="ltr">$ PATH=/opt/COBOL/bin:$PATH
$ export PATH
</pre></li>
                              <li>
                                 <p>C shell:</p><pre class="oac_no_warn" dir="ltr">% setenv PATH opt/COBOL/bin:${PATH}</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-12A78D15-C202-4C9A-9F88-5070849EF93D__GUID-C73159D0-1187-48F6-ACE9-976A79E7A665">LD_LIBRARY_PATH</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnote" id="GUID-12A78D15-C202-4C9A-9F88-5070849EF93D__GUID-DEB742A9-8803-4E33-9BD5-8CC18A5BE53F">
                              <p class="notep1">Note:</p>
                              <p>On IBM AIX on POWER Systems (64-Bit), the <code class="codeph">LIBPATH</code> variable is the <code class="codeph">LD_LIBRARY_PATH</code> variable equivalent. You must use the <code class="codeph">LIBPATH</code> variable on IBM AIX on POWER Systems (64-Bit) instead of the <code class="codeph">LD_LIBRARY_PATH</code> variable in the following commands.
                              </p>
                           </div>
                           <p>Set the <code class="codeph">LD_LIBRARY_PATH</code> environment variable to the directory where the compiler library is installed. For example, if the compiler library is installed in the <code class="codeph">/opt/COBOL/lib</code> directory, then run the following command:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Bourne, Bash, or Korn shell:</p><pre class="oac_no_warn" dir="ltr">$ LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/opt/COBOL/lib
$ export LD_LIBRARY_PATH
</pre></li>
                              <li>
                                 <p>C shell:</p><pre class="oac_no_warn" dir="ltr">% setenv LD_LIBRARY_PATH ${LD_LIBRARY_PATH}:/opt/COBOL/lib</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="UNXAR213"></a><div class="props_rev_3"><a id="GUID-9DE325DF-8A0B-4C84-AB75-8458123EA789" name="GUID-9DE325DF-8A0B-4C84-AB75-8458123EA789"></a><h4 id="UNXAR-GUID-9DE325DF-8A0B-4C84-AB75-8458123EA789" class="sect4"><span class="enumeration_section">6.4.2 </span>Pro*COBOL Oracle Runtime System
                  </h4>
                  <div>
                     <p>Oracle provides its own complete run-time system, called <code class="codeph">rtsora</code>, to run dynamically loadable Pro*COBOL programs. Use the <code class="codeph">rtsora</code> run-time system instead of the <code class="codeph">cobrun</code> run-time system to run dynamically loadable Pro*COBOL programs. If you attempt to run a Pro*COBOL program with <code class="codeph">cobrun</code>, then an error message similar to the following is displayed:
                     </p><pre class="oac_no_warn" dir="ltr">$ cobrun sample1.gnt
Load error : file 'SQLADR'
error code: 173, pc=0, call=1, seg=0
173     Called program file not found in drive/directory</pre></div>
               </div><a id="UNXAR214"></a><div class="props_rev_3"><a id="GUID-0136455E-1E0A-4A80-9607-450B5889BF11" name="GUID-0136455E-1E0A-4A80-9607-450B5889BF11"></a><h4 id="UNXAR-GUID-0136455E-1E0A-4A80-9607-450B5889BF11" class="sect4"><span class="enumeration_section">6.4.3 </span>Pro*COBOL Demonstration Programs
                  </h4>
                  <div>
                     <p>Demonstration programs are provided to show the features of the Pro*COBOL precompiler. The demonstration programs are located in the <code class="codeph">$ORACLE_HOME/precomp/demo/procob2</code> directory. By default, all programs are dynamically linked with the client shared library.
                     </p>
                     <p>To run the demonstration programs, the programs require the demonstration tables created by the <code class="codeph">$ORACLE_HOME/sqlplus/demo/demobld.sql</code> script to exist in the JONES schema with a password.
                     </p>
                     <div class="infoboxnote" id="GUID-0136455E-1E0A-4A80-9607-450B5889BF11__GUID-40D114E4-364A-4A12-9943-4B0E247B091A">
                        <p class="notep1">Note:</p>
                        <p>You must unlock the JONES account and set the password before creating the demonstrations.</p>
                     </div>
                     <p>Use the following make file to create the demonstration programs:</p><pre class="oac_no_warn" dir="ltr">$ORACLE_HOME/precomp/demo/procob2/demo_procob.mk
</pre><p>To precompile, compile, and link the <code class="codeph">sample1</code> demonstration program for Pro*COBOL, run the following command:
                     </p><pre class="oac_no_warn" dir="ltr">$ make -f demo_procob.mk sample1
</pre><p>To create the Pro*COBOL demonstration programs, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_procob.mk samples
</pre><p>To create and run a dynamically loadable <code class="codeph">sample1.gnt</code> program to be used with the <code class="codeph">rtsora</code> run-time system, run the following command:
                     </p><pre class="oac_no_warn" dir="ltr">$ make -f demo_procob.mk sample1.gnt
$ rtsora sample1.gnt
</pre><p>Some demonstration programs require you to run a SQL script, which is located in the <code class="codeph">$ORACLE_HOME/precomp/demo/sql</code> directory. If you do not run the script, then a message requesting you to run it is displayed.
                     </p>
                     <p>To build a demonstration program and run the corresponding SQL script, include the <code class="codeph">make</code> macro argument <code class="codeph">RUNSQL=run</code> in the command. For example, to create the <code class="codeph">sample9</code> demonstration program and run the required <code class="codeph">$ORACLE_HOME/precomp/demo/sql/sample9.sql</code> script, run the following command:
                     </p><pre class="oac_no_warn" dir="ltr">$ make -f demo_procob.mk sample9 RUNSQL=run
</pre><p>To create the Pro*COBOL demonstration programs and run all required SQL scripts, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_procob.mk samples RUNSQL=run</pre></div>
               </div><a id="UNXAR215"></a><div class="props_rev_3"><a id="GUID-7197EE64-241C-4205-8F70-86052D427505" name="GUID-7197EE64-241C-4205-8F70-86052D427505"></a><h4 id="UNXAR-GUID-7197EE64-241C-4205-8F70-86052D427505" class="sect4"><span class="enumeration_section">6.4.4 </span>Pro*COBOL User Programs
                  </h4>
                  <div>
                     <p>You can use the<a id="d8297e3119" class="indexterm-anchor"></a><a id="d8297e3123" class="indexterm-anchor"></a><a id="d8297e3125" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/precomp/demo/procob2/demo_procob.mk</code> make file to create user programs. This make file builds either 32-bit or 64-bit user programs. You can also use the <code class="codeph">demo_procob_32.mk</code> make file to build 32-bit user programs. The following table shows the make files that you can use to build 32-bit and 64-bit user programs with Pro*COBOL:	
                     </p>
                     <div class="tblformal" id="GUID-7197EE64-241C-4205-8F70-86052D427505__GUID-746D19F3-E054-43E3-A83F-638CC69030BD">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This 3 column table lists the make files that you can use with Pro*C/C++ to build 32-bit, or 64-bit user programs. Column 1 is the platform. Column 2 is the 64&#x2013;bit make file. Column 3 is the 32&#x2013;bit make file." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="40%" id="d8297e3145">Platform</th>
                                 <th align="left" valign="bottom" width="26%" id="d8297e3148">64-bit Make File</th>
                                 <th align="left" valign="bottom" width="34%" id="d8297e3151">32-Bit Make File</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d8297e3156" headers="d8297e3145 ">
                                    <p>Oracle Solaris, Linux x86-64, IBM: Linux on System z, IBM AIX on POWER Systems (64-Bit), and HP-UX</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d8297e3156 d8297e3148 ">
                                    <p><code class="codeph">demo_procob.mk</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d8297e3156 d8297e3151 ">
                                    <p><code class="codeph">demo_procob_32.mk</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-7197EE64-241C-4205-8F70-86052D427505__GUID-AA335E3A-1A5A-42BA-B44D-42333449DCD0">
                        <p class="notep1">See Also:</p>
                        <p>The make file for more information about creating user programs</p>
                     </div>
                     <p>To create a program using the <code class="codeph">demo_procob.mk</code> make file, run a command similar to the following:
                     </p><pre class="oac_no_warn" dir="ltr">$ make -f demo_procob.mk <span class="italic">target</span> COBS="<span class="italic">cobfile1</span> <span class="italic">cobfile2</span> ..." EXE=<span class="italic">exename</span>
</pre><p>In this example:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="italic"><code class="codeph">target</code></span> is the make file target that you want to use
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">cobfilen</code></span> is the COBOL source file for the program
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">exename</code></span> is the executable program
                           </p>
                        </li>
                     </ul>
                     <p>For example, to create the program <code class="codeph">myprog</code>, run one of the following commands, depending on the source and type of executable that you want to create:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>For COBOL source, dynamically linked with the client shared library, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_procob.mk build COBS=myprog.cob EXE=myprog
</pre></li>
                        <li>
                           <p>For COBOL source, statically linked, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_procob.mk build_static COBS=myprog.cob EXE=myprog
</pre></li>
                        <li>
                           <p>For COBOL source, dynamically loadable for use with <code class="codeph">rtsora</code>, run the following command:
                           </p><pre class="oac_no_warn" dir="ltr">$ make -f demo_procob.mk myprog.gnt</pre></li>
                     </ul>
                  </div>
               </div><a id="UNXAR216"></a><div class="props_rev_3"><a id="GUID-455A7B49-DAE8-4C10-9AE6-FEDC578E0F1E" name="GUID-455A7B49-DAE8-4C10-9AE6-FEDC578E0F1E"></a><h4 id="UNXAR-GUID-455A7B49-DAE8-4C10-9AE6-FEDC578E0F1E" class="sect4"><span class="enumeration_section">6.4.5 </span>FORMAT Precompiler Option
                  </h4>
                  <div>
                     <p>The FORMAT precompiler option specifies the format of input lines for COBOL. If you specify the default value <code class="codeph">ANSI</code>, then columns 1 to 6 contain an optional sequence number, column 7 indicates comments or continuation lines, paragraph names begin in columns 8 to 11, and statements begin in columns 12 to 72.
                     </p>
                     <p>If you specify the value <code class="codeph">TERMINAL</code>, then columns 1 to 6 are dropped, making column 7 the left most column.
                     </p>
                  </div>
               </div>
            </div><a id="UNXAR217"></a><div class="props_rev_3"><a id="GUID-B51B83C6-C840-4BD2-ACF6-C55418ACEF17" name="GUID-B51B83C6-C840-4BD2-ACF6-C55418ACEF17"></a><h3 id="UNXAR-GUID-B51B83C6-C840-4BD2-ACF6-C55418ACEF17" class="sect3"><span class="enumeration_section">6.5 </span>Pro*FORTRAN Precompiler
               </h3>
               <div>
                  <p>Before you use the Pro*FORTRAN precompiler, verify that the correct version of the compiler is installed. This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-7B119EF5-4149-41CC-81AF-F00274BC64E7">Pro*FORTRAN Demonstration Programs</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-99927574-4209-4815-A126-90ECCA420986">Pro*FORTRAN User Programs</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-B51B83C6-C840-4BD2-ACF6-C55418ACEF17__GUID-3E6EA730-4185-4C61-B2E4-4A8DBD55F3FD">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p> <a href="../install-and-upgrade.html" target="_blank"><span class="italic">Oracle Database Installation Guide</span></a> for information about supported compiler versions
                           </p>
                        </li>
                        <li>
                           <p><a href="../zzfor/writing-Pro-FORTRAN-program.html#ZZFOR107" target="_blank"><span class="italic">Pro*FORTRAN Supplement to the Oracle Precompilers Guide</span></a> for information about the Pro*FORTRAN precompiler and interface features
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="UNXAR218"></a><div class="props_rev_3"><a id="GUID-7B119EF5-4149-41CC-81AF-F00274BC64E7" name="GUID-7B119EF5-4149-41CC-81AF-F00274BC64E7"></a><h4 id="UNXAR-GUID-7B119EF5-4149-41CC-81AF-F00274BC64E7" class="sect4"><span class="enumeration_section">6.5.1 </span>Pro*FORTRAN Demonstration Programs
                  </h4>
                  <div>
                     <p>Demonstration programs are provided to show the features of the Pro*FORTRAN precompiler. All demonstration programs are located in the <code class="codeph">$ORACLE_HOME/precomp/demo/profor</code> directory. By default, all programs are dynamically linked with the client shared library.
                     </p>
                     <p>To run the demonstration programs, the demonstration tables created by the <code class="codeph">$ORACLE_HOME/sqlplus/demo/demobld.sql</code> script must exist in the JONES schema with a password.
                     </p>
                     <div class="infoboxnote" id="GUID-7B119EF5-4149-41CC-81AF-F00274BC64E7__GUID-9A5C1D59-246B-4507-AF1E-8BA89033BC49">
                        <p class="notep1">Note:</p>
                        <p>You must unlock the JONES account and set the password before creating the demonstrations.</p>
                     </div>
                     <p>To create the demonstration programs, use the <code class="codeph">demo_profor.mk</code> make file, located in the <code class="codeph">$ORACLE_HOME/precomp/demo/profor</code> directory. For example, to precompile, compile, and link the <code class="codeph">sample1</code> demonstration program, run the following command:
                     </p><pre class="oac_no_warn" dir="ltr">$ make -f demo_profor.mk sample1
</pre><p>To create the Pro*FORTRAN demonstration programs, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_profor.mk samples
</pre><p>Some demonstration programs require you to run a SQL script that is located in the <code class="codeph">$ORACLE_HOME/precomp/demo/sql</code> directory. If you do not run the script, then a message prompting you to run it is displayed.
                     </p>
                     <p>To build a demonstration program and run the corresponding SQL script, include the <code class="codeph">make</code> macro argument <code class="codeph">RUNSQL=run</code> on the command line. For example, to create the <code class="codeph">sample11</code> demonstration program and run the required <code class="codeph">$ORACLE_HOME/precomp/demo/sql/sample11.sql</code> script, run the following command:
                     </p><pre class="oac_no_warn" dir="ltr">$ make -f demo_profor.mk sample11 RUNSQL=run
</pre><p>To create the Pro*FORTRAN demonstration programs and run all the required SQL scripts, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_profor.mk samples RUNSQL=run</pre></div>
               </div><a id="UNXAR219"></a><div class="props_rev_3"><a id="GUID-99927574-4209-4815-A126-90ECCA420986" name="GUID-99927574-4209-4815-A126-90ECCA420986"></a><h4 id="UNXAR-GUID-99927574-4209-4815-A126-90ECCA420986" class="sect4"><span class="enumeration_section">6.5.2 </span>Pro*FORTRAN User Programs
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">$ORACLE_HOME/precomp/demo/profor/demo_profor.mk</code> make file to create user programs. This make file builds either 32-bit or 64-bit user programs. You can also use the <code class="codeph">demo_profor_32.mk</code> make file to build 32-bit user programs. The following table shows the make files that you can use to build 32-bit and 64-bit user programs with Pro*FORTRAN:
                     </p>
                     <div class="tblformal" id="GUID-99927574-4209-4815-A126-90ECCA420986__GUID-F7F67704-DD15-4C32-9492-9732F35A39B9">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This 3 column table lists the make files that you can use with Pro*C/C++ to build 31-bit, 32-bit, or 64-bit user programs. Column 1 is the platform. Column 2 is the 64&#x2013;bit make file. Column 3 is the 32&#x2013;bit make file. " width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d8297e3688">Platform</th>
                                 <th align="left" valign="bottom" id="d8297e3691">64-bit Make File</th>
                                 <th align="left" valign="bottom" id="d8297e3694">32-Bit Make File</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d8297e3699" headers="d8297e3688 ">
                                    <p>Oracle Solaris, IBM AIX on POWER Systems (64-Bit), and HP-UX</p>
                                 </td>
                                 <td align="left" valign="top" headers="d8297e3699 d8297e3691 ">
                                    <p><code class="codeph">demo_profor.mk</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d8297e3699 d8297e3694 ">
                                    <p><code class="codeph">demo_profor_32.mk</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-99927574-4209-4815-A126-90ECCA420986__GUID-6C7532AA-54B0-49C2-BD52-AED5B344D1B9">
                        <p class="notep1">See Also:</p>
                        <p>The make file for more information about creating user programs</p>
                     </div>
                     <p>To create a program using the <code class="codeph">demo_proc.mk</code> make file, run a command similar to the following:
                     </p><pre class="oac_no_warn" dir="ltr">$ make -f demo_profor.mk <span class="italic">target</span> FORS="<span class="italic">forfile1</span> <span class="italic">forfile2</span> ..." EXE=<span class="italic">exename</span>
</pre><p>In this example:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="italic"><code class="codeph">target</code></span> is the make file target that you want to use
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">forfilen</code></span> is the FORTRAN source for the program
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">exename</code></span> is the executable program
                           </p>
                        </li>
                     </ul>
                     <p>For example, to create the program <code class="codeph">myprog</code> from the Pro*FORTRAN source file <code class="codeph">myprog.pfo</code>, run one of the following commands, depending on the type of executable that you want to create:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>For an executable dynamically linked with the client shared library, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_profor.mk build FORS=myprog.f EXE=myprog
</pre></li>
                        <li>
                           <p>For an executable statically linked with the client shared library, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_profor.mk build_static FORS=myprog.f EXE=myprog</pre></li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-3B23F5E7-50B9-47BD-BEFC-87679F46744A" name="GUID-3B23F5E7-50B9-47BD-BEFC-87679F46744A"></a><h3 id="UNXAR-GUID-3B23F5E7-50B9-47BD-BEFC-87679F46744A" class="sect3"><span class="enumeration_section">6.6 </span>SQL*Module for ADA
               </h3>
               <div>
                  <div class="infoboxnote" id="GUID-3B23F5E7-50B9-47BD-BEFC-87679F46744A__GUID-E0DD92FA-46C7-4BAA-B660-4B337624D660">
                     <p class="notep1">Note:</p>
                     <p>The information in this section applies to the IBM AIX on POWER Systems (64-Bit) platform.</p>
                  </div>
                  <p>Before using SQL*Module for Ada, verify that the correct version of the compiler is installed.</p>
                  <div class="infoboxnotealso" id="GUID-3B23F5E7-50B9-47BD-BEFC-87679F46744A__GUID-11DEADCF-B2FF-4CEF-86AA-0391277D3C29">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../install-and-upgrade.html" target="_blank"><span class="italic">Oracle Database Installation Guide</span></a> for information about required compiler versions
                           </p>
                        </li>
                        <li>
                           <p><a class="new-window" href="http://www.oracle.com/pls/topic/lookup?ctx=E11882-01&amp;id=ZZMOD107"><span class="italic">Oracle SQL*Module for Ada Programmer's Guide</span></a> for information about SQL*Module for Ada
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-83295822-AC41-4E89-80BE-2322B39E9093">SQL*Module for Ada Demonstration Programs</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-1E4F0E01-C7A8-4CEA-B918-53C4F44F5641">SQL*Module for Ada User Programs</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-83295822-AC41-4E89-80BE-2322B39E9093" name="GUID-83295822-AC41-4E89-80BE-2322B39E9093"></a><h4 id="UNXAR-GUID-83295822-AC41-4E89-80BE-2322B39E9093" class="sect4"><span class="enumeration_section">6.6.1 </span>SQL*Module for Ada Demonstration Programs
                  </h4>
                  <div>
                     <p>Demonstration programs are provided to show the features of SQL*Module for Ada. All demonstration programs are located in the <code class="codeph">$ORACLE_HOME/precomp/demo/modada</code> directory. By default, all programs are dynamically linked with the client shared library.
                     </p>
                     <p>To run the <code class="codeph">ch1_drv</code> demonstration program, the demonstration tables created by the <code class="codeph">$ORACLE_HOME/sqlplus/demo/demobld.sql</code> script must exist in the <code class="codeph">JONES</code> schema with a password.
                     </p>
                     <div class="infoboxnote" id="GUID-83295822-AC41-4E89-80BE-2322B39E9093__GUID-BE67413D-6B55-452B-95CA-DA3355B9F084">
                        <p class="notep1">Note:</p>
                        <p>You must unlock the JONES account and set the password before creating the demonstrations.</p>
                     </div>
                     <p>The <code class="codeph">demcalsp</code> and <code class="codeph">demohost</code> demonstration programs require that the sample college database exists in the <code class="codeph">MODTEST</code> schema. You can use the appropriate <code class="codeph">make</code> command to create the <code class="codeph">MODTEST</code> schema and load the sample college database.
                     </p>
                     <p>Run the following command to create the SQL*Module for Ada demonstration programs, run the necessary SQL scripts to create the <code class="codeph">MODTEST</code> user, and create the sample college database:
                     </p><pre class="oac_no_warn" dir="ltr">$ make -f demo_modada.mk all RUNSQL=run
</pre><p>To create a single demonstration program (<code class="codeph">demohost</code>) and run the necessary SQL scripts to create the <code class="codeph">MODTEST</code> user, and create the sample college database, run the following command:
                     </p><pre class="oac_no_warn" dir="ltr">$ make -f demo_modada.mk makeuser loaddb demohost RUNSQL=run
</pre><p>To create the SQL*Module for Ada demonstration programs, without re-creating the sample college database, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_modada.mk samples
</pre><p>To create a single demonstration program (<code class="codeph">demohost</code>), without re-creating the sample college database, run the following command:
                     </p><pre class="oac_no_warn" dir="ltr">$ make -f demo_modada.mk demohost
</pre><p>To run the programs, you must define an Oracle Net connect string or alias named INST1_ALIAS that is used to connect to the database where the appropriate tables exist.</p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-1E4F0E01-C7A8-4CEA-B918-53C4F44F5641" name="GUID-1E4F0E01-C7A8-4CEA-B918-53C4F44F5641"></a><h4 id="UNXAR-GUID-1E4F0E01-C7A8-4CEA-B918-53C4F44F5641" class="sect4"><span class="enumeration_section">6.6.2 </span>SQL*Module for Ada User Programs
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">$ORACLE_HOME/precomp/demo/modada/demo_modada.mk</code> make file to create user programs. To create a user program with the <code class="codeph">demo_modada.mk</code> make file, run a command similar to the following:
                     </p><pre class="oac_no_warn" dir="ltr">$ make -f demo_modada.mk ada OBJS="<span class="italic">module1</span> <span class="italic">module2</span> ..." \
EXE=<span class="italic">exename</span> MODARGS=<span class="italic">SQL_Module_arguments</span>
</pre><p>In this example:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="italic"><code class="codeph">modulen</code></span> is a compiled Ada object
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">exename</code></span> is the executable program
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">SQL_Module_arguments</code></span> are the command-line arguments to be passed to the SQL*Module
                           </p>
                           <div class="infoboxnotealso" id="GUID-1E4F0E01-C7A8-4CEA-B918-53C4F44F5641__GUID-E82AC1BD-820D-449C-9758-E8FB52D192A3">
                              <p class="notep1">See Also:</p>
                              <p><a class="new-window" href="http://www.oracle.com/pls/topic/lookup?ctx=E11882-01&amp;id=ZZMOD107"><span class="italic">Oracle SQL*Module for Ada Programmer's Guide</span></a> for information about SQL*Module for Ada
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="UNXAR223"></a><div class="props_rev_3"><a id="GUID-BD220FF0-5F73-40C8-B208-085A6B2E6CE0" name="GUID-BD220FF0-5F73-40C8-B208-085A6B2E6CE0"></a><h3 id="UNXAR-GUID-BD220FF0-5F73-40C8-B208-085A6B2E6CE0" class="sect3"><span class="enumeration_section">6.7 </span>OCI and OCCI
               </h3>
               <div>
                  <p>Before you use the Oracle Call Interface (OCI) or Oracle C++ Call Interface (OCCI), verify that the correct version of C or C++ is installed.</p>
                  <div class="infoboxnotealso" id="GUID-BD220FF0-5F73-40C8-B208-085A6B2E6CE0__GUID-444CAC92-FBC4-47F7-9FAD-626FEFAC09B5">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../install-and-upgrade.html" target="_blank"><span class="italic">Oracle Database Installation Guide</span></a> for information about supported compiler versions
                           </p>
                        </li>
                        <li>
                           <p><a href="../lnoci/introduction.html#LNOCI010" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> or <a href="../lncpp/introduction-to-occi.html#LNCPP001" target="_blank"><span class="italic">Oracle C++ Call Interface Programmer's Guide</span></a> for information about OCI and OCCI
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-6CB7ACCF-7B67-4CFA-AE1F-7DF366A804F5">OCI and OCCI Demonstration Programs</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-AF4D13BB-9202-4E3E-BC04-B4B9D8AA7F7E">OCI and OCCI User Programs</a></p>
                     </li>
                  </ul>
               </div><a id="UNXAR224"></a><div class="props_rev_3"><a id="GUID-6CB7ACCF-7B67-4CFA-AE1F-7DF366A804F5" name="GUID-6CB7ACCF-7B67-4CFA-AE1F-7DF366A804F5"></a><h4 id="UNXAR-GUID-6CB7ACCF-7B67-4CFA-AE1F-7DF366A804F5" class="sect4"><span class="enumeration_section">6.7.1 </span>OCI and OCCI Demonstration Programs
                  </h4>
                  <div>
                     <p>Demonstration programs that show the features of OCI and OCCI are provided with the Oracle Database 19c Examples software. There are two types of demonstration programs: C and C++. All demonstration programs are located in the <code class="codeph">$ORACLE_HOME/rdbms/demo</code> directory. By default, all programs are dynamically linked with the client shared library.
                     </p>
                     <p>To run the demonstration programs, the programs require the demonstration tables created by the <code class="codeph">$ORACLE_HOME/sqlplus/demo/demobld.sql </code>script to exist in the JONES schema with a password. Some demonstration programs require specific .sql files to be run, as mentioned in the demonstration source files. OCCI demonstration programs require occidemo.sql to be run.
                     </p>
                     <div class="infoboxnote" id="GUID-6CB7ACCF-7B67-4CFA-AE1F-7DF366A804F5__GUID-AC365B3D-29D4-4032-9523-FE23D4C2E362">
                        <p class="notep1">Note:</p>
                        <p>You must unlock the JONES account and set the password before creating the demonstrations.</p>
                     </div>
                     <p>Use the <code class="codeph">demo_rdbms.mk</code> make file, which is located in the <code class="codeph">$ORACLE_HOME/rdbms/demo</code> directory, to create the demonstration programs. For example, to compile and link the <code class="codeph">cdemo1</code> demonstration program, run the following command:
                     </p><pre class="oac_no_warn" dir="ltr">$ make -f demo_rdbms.mk cdemo1
</pre><p>To create the C demonstration programs for OCI, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_rdbms.mk demos
</pre><p>To create the C++ demonstration programs for OCCI, run the following command:</p><pre class="oac_no_warn" dir="ltr">$ make -f demo_rdbms.mk occidemos</pre></div>
               </div><a id="UNXAR225"></a><div class="props_rev_3"><a id="GUID-AF4D13BB-9202-4E3E-BC04-B4B9D8AA7F7E" name="GUID-AF4D13BB-9202-4E3E-BC04-B4B9D8AA7F7E"></a><h4 id="UNXAR-GUID-AF4D13BB-9202-4E3E-BC04-B4B9D8AA7F7E" class="sect4"><span class="enumeration_section">6.7.2 </span>OCI and OCCI User Programs
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">$ORACLE_HOME/rdbms/demo/demo_rdbms.mk</code> make file to build user programs. This make file builds either 32-bit or 64-bit user programs. You can also use the <code class="codeph">demo_rdbms32.mk</code> to build 32-bit user programs on a 64-bit operating system. The following table shows the make files that you can use to build 32-bit and 64-bit user programs with Pro*FORTRAN:
                     </p>
                     <div class="tblformal" id="GUID-AF4D13BB-9202-4E3E-BC04-B4B9D8AA7F7E__GUID-C18481BF-C0E1-4E47-8542-12D4883E04F4">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This 3 column table lists the make files that you can use with Pro*C/C++ to build 31-bit, 32-bit, or 64-bit user programs. Column 1 is the platform. Column 2 is the 64&#x2013;bit make file. Column 3 is the 32&#x2013;bit make file. " width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="40%" id="d8297e4554">Platform</th>
                                 <th align="left" valign="bottom" width="26%" id="d8297e4557">64-bit Make File</th>
                                 <th align="left" valign="bottom" width="34%" id="d8297e4560">32-Bit Make File</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d8297e4565" headers="d8297e4554 ">
                                    <p>Oracle Solaris, Linux x86-64, IBM AIX on POWER Systems (64-Bit), and HP-UX</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d8297e4565 d8297e4557 ">
                                    <p><code class="codeph">demo_rdbms.mk</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d8297e4565 d8297e4560 ">
                                    <p><code class="codeph">demo_rdbms32.mk</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-AF4D13BB-9202-4E3E-BC04-B4B9D8AA7F7E__GUID-917D7646-561E-4986-BF49-1879E4F0EA16">
                        <p class="notep1">See Also:</p>
                        <p>The make file for more information about building user programs</p>
                     </div>
                  </div>
               </div>
            </div><a id="UNXAR226"></a><div class="props_rev_3"><a id="GUID-AC40DC7C-4E3A-4157-80DB-E102F6C94680" name="GUID-AC40DC7C-4E3A-4157-80DB-E102F6C94680"></a><h3 id="UNXAR-GUID-AC40DC7C-4E3A-4157-80DB-E102F6C94680" class="sect3"><span class="enumeration_section">6.8 </span>Running Oracle JDBC/OCI Programs with a 64-Bit Driver
               </h3>
               <div>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-AC40DC7C-4E3A-4157-80DB-E102F6C94680__GUID-EBD154B9-00DF-47FB-81A7-8995DC44C251">
                        <p class="notep1">Note:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The information in this section applies to Oracle Solaris, Linux x86-64, IBM: Linux on System z, IBM AIX on POWER Systems (64-Bit), and HP-UX platforms.</p>
                           </li>
                           <li>
                              <p>You can use the instructions and make files described in this section to create JDBC/OCI user programs that use a 64-bit driver.</p>
                           </li>
                        </ul>
                     </div>
                     <p>To run JDBC/OCI demonstration programs with a 64-bit driver:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Add <code class="codeph">$ORACLE_HOME/jdbc/lib/ojdbc5.jar</code> to the start of the <code class="codeph">CLASSPATH</code> environment variable value for each of the following files:</span><div><pre class="oac_no_warn" dir="ltr">jdbc/demo/samples/jdbcoci/Makefile
jdbc/demo/samples/generic/Inheritance/Inheritance1/Makefile
jdbc/demo/samples/generic/Inheritance/Inheritance2/Makefile
jdbc/demo/samples/generic/Inheritance/Inheritance3/Makefile
jdbc/demo/samples/generic/JavaObject1/Makefile
jdbc/demo/samples/generic/NestedCollection/Makefile
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Modify the JAVA and JAVAC variables in the <code class="codeph">$ORACLE_HOME/jdbc/demo/samples/generic/Makefile</code> file to specify the JDK location and the <code class="codeph">-d64</code> flag, as follows:</span><div><pre class="oac_no_warn" dir="ltr">JAVA=${ORACLE_HOME}/java/bin/java -d64
JAVAC=${ORACLE_HOME}/java/bin/javac -d64
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Set the <code class="codeph">LD_LIBRARY_PATH_64</code> environment variable to include the <code class="codeph">$ORACLE_HOME/lib</code> directory.</span><div>
                           <div class="infoboxnote" id="GUID-AC40DC7C-4E3A-4157-80DB-E102F6C94680__GUID-3522775B-BE8C-4604-A387-508A543ADC53">
                              <p class="notep1">Note:</p>
                              <p>On IBM AIX on POWER Systems (64-Bit), the <code class="codeph">LIBPATH</code> variable is the <code class="codeph">LD_LIBRARY_PATH_64</code> variable equivalent. You must use the <code class="codeph">LIBPATH</code> variable on IBM AIX on POWER Systems (64-Bit) instead of the <code class="codeph">LD_LIBRARY_PATH_64</code> variable.
                              </p>
                           </div>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="UNXAR227"></a><div class="props_rev_3"><a id="GUID-0AF7D0E1-0C36-413C-BA17-BB1C85E2E5E9" name="GUID-0AF7D0E1-0C36-413C-BA17-BB1C85E2E5E9"></a><h3 id="UNXAR-GUID-0AF7D0E1-0C36-413C-BA17-BB1C85E2E5E9" class="sect3"><span class="enumeration_section">6.9 </span>Custom Make Files
               </h3>
               <div>
                  <p>Oracle recommends that you use the <code class="codeph">demo_</code><span class="italic"><code class="codeph">product</code></span><code class="codeph">.mk</code> make files provided with the software to create user programs as described in the product-specific sections of this chapter. If you modify the provided make file or if you choose to use a custom-written make file, then remember that the following restrictions apply:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Do not modify the order of the Oracle libraries. Oracle libraries are included on the link line more than once so that all the symbols are resolved during linking.</p>
                        <p>Except for IBM AIX on POWER Systems (64-Bit), the order of the Oracle libraries is essential on all platforms for the following reasons:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Oracle libraries are mutually referential. For example, functions in library A call functions in library B, and functions in library B call functions in library A.</p>
                           </li>
                           <li>
                              <p>The HP-UX linkers are one-pass linkers. The IBM AIX on POWER Systems (64-Bit), Linux, and Oracle Solaris linkers are two-pass linkers.</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>Add the library to the beginning or to the end of the link line. Do not place user libraries between the Oracle libraries.</p>
                     </li>
                     <li>
                        <p>If you choose to use a <code class="codeph">make</code> utility such as <code class="codeph">nmake</code> or GNU <code class="codeph">make</code>, then you must be aware of how macro and suffix processing differs from the <code class="codeph">make</code> utility provided with the operating system. Oracle make files are tested and supported with the <code class="codeph">make</code> utility.
                        </p>
                     </li>
                     <li>
                        <p>Oracle library names and the contents of Oracle libraries are subject to change between releases. Always use the <code class="codeph">demo_</code><span class="italic"><code class="codeph">product</code></span><code class="codeph">.mk</code> make file that ships with the current release as a guide to determine the required libraries.
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="UNXAR228"></a><div class="props_rev_3"><a id="GUID-B0521D95-B6E9-4E71-9989-DF1682FE7534" name="GUID-B0521D95-B6E9-4E71-9989-DF1682FE7534"></a><h3 id="UNXAR-GUID-B0521D95-B6E9-4E71-9989-DF1682FE7534" class="sect3"><span class="enumeration_section">6.10 </span>Correcting Undefined Symbols
               </h3>
               <div>
                  <p>Oracle provides the<a id="d8297e4962" class="indexterm-anchor"></a><a id="d8297e4964" class="indexterm-anchor"></a> <code class="codeph">symfind</code> utility to assist you in locating a library or object file where a symbol is defined. When linking a program, undefined symbols are a common error that produce an error message similar to the following:
                  </p><pre class="oac_no_warn" dir="ltr">$ make -f demo_proc.mk sample1
Undefined                       first referenced
 symbol                             in file
sqlcex                              sample1.o
sqlglm                              sample1.o
ld: irrecoverable: Symbol referencing errors. No output written to sample1
</pre><p>The error occurs when the linker cannot find a definition for a referenced symbol. If this error message is displayed, then verify that the library or object file containing the definition exists on the link line and that the linker is searching the correct directories for the file.</p>
                  <p>The following example shows the output from the <code class="codeph">symfind</code> utility, which is used to locate the <code class="codeph">sqlcex</code> symbol:
                  </p><pre class="oac_no_warn" dir="ltr">$ symfind sqlcex

SymFind - Find Symbol &lt;sqlcex&gt; in &lt;**&gt;.a, .o, .so
------------------------------------------------------
Command:         /u01/app/oracle/product/19.0.0/bin/symfind sqlcex
Local Directory: /u01/app/oracle/product/19.0.0
Output File:     (none)
Note:            I do not traverse symbolic links
                 Use '-v' option to show any symbolic links

Locating Archive and Object files ...
[11645] |    467572|      44|FUNC |GLOB |0    |8      |sqlcex
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ./lib/libclntsh.sl
[35]    |         0|      44|FUNC |GLOB |0    |5      |sqlcex
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ./lib/libsql.a</pre></div>
            </div><a id="UNXAR229"></a><div class="props_rev_3"><a id="GUID-BC52E5BF-653D-4057-8307-AF2C713725CC" name="GUID-BC52E5BF-653D-4057-8307-AF2C713725CC"></a><h3 id="UNXAR-GUID-BC52E5BF-653D-4057-8307-AF2C713725CC" class="sect3"><span class="enumeration_section">6.11 </span>Multithreaded Applications
               </h3>
               <div>
                  <p>The Oracle libraries provided with this release are thread-safe, they support multithreaded applications.</p>
                  <div class="infoboxnotealso" id="GUID-BC52E5BF-653D-4057-8307-AF2C713725CC__GUID-FBE84138-F9B7-402A-9DF2-09768E00DBB0">
                     <p class="notep1">See Also:</p>
                     <p><a href="../lnpcc/multithreaded-applications.html#LNPCC3942" target="_blank"><span class="italic">Pro*C/C++ Programmer's Guide</span></a> for more information on Multithreaded Applications
                     </p>
                  </div>
               </div>
            </div><a id="UNXAR231"></a><a id="UNXAR232"></a><a id="UNXAR233"></a><a id="UNXAR230"></a><div class="props_rev_3"><a id="GUID-B0CCF23A-007C-413D-AF40-D554F02C9897" name="GUID-B0CCF23A-007C-413D-AF40-D554F02C9897"></a><h3 id="UNXAR-GUID-B0CCF23A-007C-413D-AF40-D554F02C9897" class="sect3"><span class="enumeration_section">6.12 </span>Using Signal Handlers
               </h3>
               <div>
                  <p>Oracle Database uses signals for two-task communication. Signals are installed in a user process when the process connects to the database and are removed when it disconnects.</p>
                  <p>The following table describes the signals that Oracle Database uses for two-task communication.</p>
                  <div class="tblformal" id="GUID-B0CCF23A-007C-413D-AF40-D554F02C9897__G39972">
                     <p class="titleintable">Table 6-4 Signals for Two-Task Communication</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Signals for Two-Task Communication" summary="This 2 column table describes the signals for two-task communication. Column 1 is the signal. Column 2 describes that signal." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d8297e5185">Signal</th>
                              <th align="left" valign="bottom" width="81%" id="d8297e5188">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d8297e5193" headers="d8297e5185 ">
                                 <p>SIGCLD<a id="d8297e5196" class="indexterm-anchor"></a><a id="d8297e5200" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d8297e5193 d8297e5188 ">
                                 <p>The pipe driver uses SIGCLD, also referred to as SIGCHLD, when an Oracle process terminates. The operating system kernel sends a SIGCLD signal to the user process. The signal handler uses the <code class="codeph">wait()</code> routine to determine if a server process died. The Oracle process does not catch SIGCLD; the user process catches it.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d8297e5209" headers="d8297e5185 ">
                                 <p>SIGCONT<a id="d8297e5212" class="indexterm-anchor"></a><a id="d8297e5216" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d8297e5209 d8297e5188 ">
                                 <p>The pipe two-task driver uses SIGCONT to send out-of-band breaks from the user process to the Oracle process.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d8297e5222" headers="d8297e5185 ">
                                 <p>SIGINT<a id="d8297e5225" class="indexterm-anchor"></a><a id="d8297e5229" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d8297e5222 d8297e5188 ">
                                 <p>Two-task drivers use SIGINT to detect user interrupt requests. The Oracle process does not catch SIGINT; the user process catches it.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d8297e5235" headers="d8297e5185 ">
                                 <p>SIGIO<a id="d8297e5238" class="indexterm-anchor"></a><a id="d8297e5242" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d8297e5235 d8297e5188 ">
                                 <p>Oracle Net protocols use SIGIO to indicate incoming networking events.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d8297e5248" headers="d8297e5185 ">
                                 <p>SIGPIPE<a id="d8297e5251" class="indexterm-anchor"></a><a id="d8297e5255" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d8297e5248 d8297e5188 ">
                                 <p>The pipe driver uses SIGPIPE to detect end-of-file on the communications channel. When writing to the pipe, if no reading process exists, then a SIGPIPE signal is sent to the writing process. Both the Oracle process and the user process catch SIGPIPE. SIGCLD is similar to SIGPIPE, but it applies only to user processes, not to Oracle processes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d8297e5261" headers="d8297e5185 ">
                                 <p>SIGTERM<a id="d8297e5264" class="indexterm-anchor"></a><a id="d8297e5268" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d8297e5261 d8297e5188 ">
                                 <p>The pipe driver uses SIGTERM to signal interrupts from the user to the Oracle process. This occurs when the user presses the interrupt key, <span class="bold">Ctrl+C</span>. The user process does not catch SIGTERM; the Oracle process catches it.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d8297e5277" headers="d8297e5185 ">
                                 <p>SIGURG<a id="d8297e5280" class="indexterm-anchor"></a><a id="d8297e5284" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d8297e5277 d8297e5188 ">
                                 <p>Oracle Net TCP/IP drivers use SIGURG to send out-of-band breaks from the user process to the Oracle process.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>The listed signals affect all precompiler applications. You can install one signal handler for SIGCLD (or SIGCHLD) and SIGPIPE when connected to the Oracle process. If you call the <code class="codeph">osnsui()</code> routine to set it up, then you can have multiple signal handles for SIGINT. For SIGINT, use <code class="codeph">osnsui()</code> and <code class="codeph">osncui()</code> to register and delete signal-catching routines.
                  </p>
                  <p>You can also install as many signal handlers as you want for other signals. If you are not connected to<span class="bold"> </span>the Oracle process, then you can have multiple signal handlers.<a id="d8297e5305" class="indexterm-anchor"></a><a id="d8297e5309" class="indexterm-anchor"></a><a id="d8297e5313" class="indexterm-anchor"></a></p>
                  <p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-B0CCF23A-007C-413D-AF40-D554F02C9897__I36231">Example 6-1</a> shows how to set up a signal routine and a catching routine<a id="d8297e5318" class="indexterm-anchor"></a><a id="d8297e5322" class="indexterm-anchor"></a><a id="d8297e5326" class="indexterm-anchor"></a><a id="d8297e5328" class="indexterm-anchor"></a><a id="d8297e5330" class="indexterm-anchor"></a>.
                  </p>
                  <div class="example" id="GUID-B0CCF23A-007C-413D-AF40-D554F02C9897__I36231">
                     <p class="titleinexample">Example 6-1 Signal Routine and Catching Routine</p><pre class="oac_no_warn" dir="ltr">/* user side interrupt set */
word osnsui( /*_ word *handlp, void (*astp), char * ctx, _*/)
/*
** osnsui: Operating System dependent Network Set User-side Interrupt. Add an 
** interrupt handling procedure astp. Whenever a user interrupt(such as a ^C)
** occurs, call astp with argument ctx. Put in *handlp handle for this 
** handler so that it may be cleared with osncui. Note that there may be many
** handlers; each should be cleared using osncui. An error code is returned if
** an error occurs.
*/

/* user side interrupt clear */
word osncui( /*_ word handle _*/ );
/*
** osncui: Operating System dependent Clear User-side Interrupt. Clear the
** specified handler. The argument is the handle obtained from osnsui. An error
** code is returned if an error occurs.
*/
</pre><p><a href="using-oracle-precompilers-and-oracle-call-interface.html#GUID-B0CCF23A-007C-413D-AF40-D554F02C9897__I36265">Example 6-2</a> shows how to use the <code class="codeph">osnsui()</code> and the <code class="codeph">osncui()</code> routines in an application program.
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-B0CCF23A-007C-413D-AF40-D554F02C9897__I36265">
                     <p class="titleinexample">Example 6-2 osnsui() and osncui() Routine Template</p><pre class="oac_no_warn" dir="ltr">/*
** User interrupt handler template.
*/
void sig_handler()
{
...
}

main(argc, argv)
int arc;
char **argv; 
{

        int handle, err;
        ...

        /* Set up the user interrupt handler */
        if (err = osnsui(&amp;handle, sig_handler, (char *) 0))
        {
                /* If the return value is nonzero, then an error has occurred
                   Take appropriate action for the error. */
                ...
        }

        ...

        /* Clear the interrupt handler */
        if (err = osncui(handle))
        {
                /* If the return value is nonzero, then an error has occurred
                   Take appropriate action for the error. */
                ...
        }
        ...
}</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="UNXAR234"></a><div class="props_rev_3"><a id="GUID-C9935092-BE14-4512-809B-FBB83FB4EA7F" name="GUID-C9935092-BE14-4512-809B-FBB83FB4EA7F"></a><h3 id="UNXAR-GUID-C9935092-BE14-4512-809B-FBB83FB4EA7F" class="sect3"><span class="enumeration_section">6.13 </span>XA Functionality
               </h3>
               <div>
                  <p>Oracle XA is the Oracle implementation of the<a id="d8297e5439" class="indexterm-anchor"></a> X/Open Distributed Transaction Processing XA interface. The XA standard specifies a bidirectional interface between resource managers that provide access to shared resources within transactions, and between a transaction service that monitors and resolves transactions.
                  </p>
                  <p>Oracle Call Interface has the XA functionality. When building a TP-monitor XA application, ensure that the TP-monitor libraries (that define the symbols <code class="codeph">ax_reg</code> and <code class="codeph">ax_unreg</code>) are placed in the link line before the Oracle client shared library. This link restriction is required when using the XA dynamic registration (Oracle XA switch <code class="codeph">xaoswd</code>).
                  </p>
                  <p>Oracle Database XA calls are defined in both the client shared library (<code class="codeph">libclntsh.a</code>, <code class="codeph">libclntsh.sl</code>, <code class="codeph">libclntsh.so</code>, or <code class="codeph">libclntsh.dylib</code> depending on the platform) and the client static library (<code class="codeph">libclntst11.a</code>). These libraries are located in the <code class="codeph">$ORACLE_HOME/lib</code> directory.
                  </p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='03446.using-zone-maps.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Using Zone Maps</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Data Warehousing Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Data Warehousing Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-data-warehousing-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T00:20:13-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96243-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="attribute-clustering.html" title="Previous" type="text/html">
      <link rel="next" href="part-etl.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Data Warehousing Guide">
    <meta name="dcterms.isVersionOf" content="DWHSG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="attribute-clustering.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="part-etl.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Data Warehousing Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-optimizing-dw.html" property="item" typeof="WebPage"><span property="name">Optimizing Data Warehouses</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Using Zone Maps </li>
            </ol>
            <a id="GUID-BEA5ACA1-6718-4948-AB38-1F2C0335FDE4" name="GUID-BEA5ACA1-6718-4948-AB38-1F2C0335FDE4"></a>
            
            <h2 id="DWHSG-GUID-BEA5ACA1-6718-4948-AB38-1F2C0335FDE4" class="sect2"><span class="enumeration_chapter">14 </span>Using Zone Maps 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>A zone map is a independent access structure that can be built for a table. During table and index scans, zone maps enable you to prune disk blocks of a table and potentially full partitions of a partitioned table based on predicates on the table columns. Zone maps can be used with or without attribute clustering.</p>
               <p>This chapter includes the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="using-zone-maps.html#GUID-7E5C3F5A-C1F5-4A5E-A501-DB50B8948263">About Zone Maps</a></p>
                  </li>
                  <li>
                     <p><a href="using-zone-maps.html#GUID-BD689807-825D-47F2-81AB-9FD32A3E39C0">Zone Map Operations</a></p>
                  </li>
                  <li>
                     <p><a href="using-zone-maps.html#GUID-EEE26E3B-38B7-47DD-9892-818CB8432158" title="When the data in the tables on which a zone map is based changes, the zones corresponding to the changed rows are marked as stale. You need to refresh the zone map to make the zones current.">Refresh and Staleness of Zone Maps</a></p>
                  </li>
                  <li>
                     <p><a href="using-zone-maps.html#GUID-1E6AF386-E601-4382-B84D-B811DA142E0F">Performing Pruning Using Zone Maps</a></p>
                  </li>
                  <li>
                     <p><a href="using-zone-maps.html#GUID-DA1762AC-4F66-4DDA-A28A-8A754FB6E75E">Viewing Zone Map Information</a></p>
                  </li>
               </ul>
            </div><a id="DWHSG8935"></a><div class="props_rev_3"><a id="GUID-7E5C3F5A-C1F5-4A5E-A501-DB50B8948263" name="GUID-7E5C3F5A-C1F5-4A5E-A501-DB50B8948263"></a><h3 id="DWHSG-GUID-7E5C3F5A-C1F5-4A5E-A501-DB50B8948263" class="sect3"><span class="enumeration_section">14.1 </span>About Zone Maps
               </h3>
               <div>
                  <p>A <span class="bold">zone</span> <span class="bold">map</span> is <a id="d56099e78" class="indexterm-anchor"></a>an independent access structure built for a table that stores information about zones of a table. Zone maps enable the database to prune data blocks that cannot satisfy predicates on table columns. A <span class="bold">zone</span> is a set of a <a id="d56099e86" class="indexterm-anchor"></a>contiguous data blocks on disk.
                  </p>
                  <p>Traditional zone maps store the minimum and maximum values of a column in a table per disk unit, set of blocks, or extents. If queries qualify on clustering columns, then I/O pruning takes place. Zone maps in an Oracle Database store minimum and maximum values of columns for a range of blocks (known as a zone). In addition to performing I/O pruning based on predicates of clustered fact tables, zone maps prune on predicates of dimension tables provided the fact tables are attribute-clustered by the dimension attributes through outer joins with the dimension tables.</p>
                  <p>You can define at most one zone map on a table. In the case of a partitioned table, there is one zone map for all partitions (and subpartitions). A zone map of a partitioned table also keeps track of the minimum and maximum values per zone, per partition, and per subpartition. Zone map definitions can include minimum and maximum values of dimension columns provided the table has an outer join with the dimension tables.</p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-zone-maps.html#GUID-6E965132-485A-4A70-8DA3-18FCF6E5C4AA">Difference Between Zone Maps and Indexes</a></p>
                     </li>
                     <li>
                        <p><a href="using-zone-maps.html#GUID-6874226F-1DC1-4864-9695-5FBDF646F59D">Zone Maps and Attribute Clustering</a></p>
                     </li>
                     <li>
                        <p><a href="using-zone-maps.html#GUID-17F2043C-BD41-400F-9FBE-BD14CE87980E">Types of Zone Maps</a></p>
                     </li>
                     <li>
                        <p><a href="using-zone-maps.html#GUID-E6E8BDF4-F3FA-49AF-B56C-BA1245CC8BB2">Benefits of Zone Maps</a></p>
                     </li>
                     <li>
                        <p><a href="using-zone-maps.html#GUID-14BE02F3-C78F-45FA-BD15-78FA554B7699">Scenarios Which Benefit from Zone Maps</a></p>
                     </li>
                     <li>
                        <p><a href="using-zone-maps.html#GUID-08DB84F2-8163-4E02-9D2E-8A10351335E4">About Maintaining Zone Maps</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG9356"></a><div class="props_rev_3"><a id="GUID-6E965132-485A-4A70-8DA3-18FCF6E5C4AA" name="GUID-6E965132-485A-4A70-8DA3-18FCF6E5C4AA"></a><h4 id="DWHSG-GUID-6E965132-485A-4A70-8DA3-18FCF6E5C4AA" class="sect4"><span class="enumeration_section">14.1.1 </span>Difference Between Zone Maps and Indexes
                  </h4>
                  <div>
                     <p>A zone map is analogous to a coarse index structure. However, there are fundamental differences to an index:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A zone map stores information per zone instead of per row. Thus, it is much more compact than an index.</p>
                        </li>
                        <li>
                           <p>A zone map is not actively managed the way an index is kept in sync with DML actions. Thus, even if a zone map has the <code class="codeph">REFRESH</code> <code class="codeph">ON</code> <code class="codeph">COMMIT</code> option, it can still be stale within a transaction until commit or rollback occurs.
                           </p>
                        </li>
                        <li>
                           <p>A zone map can contain stale information for some zones and fresh information for the rest of the zones, and Oracle Database will still use the zone map to perform I/O pruning during the scan of the fact table.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DWHSG9357"></a><div class="props_rev_3"><a id="GUID-6874226F-1DC1-4864-9695-5FBDF646F59D" name="GUID-6874226F-1DC1-4864-9695-5FBDF646F59D"></a><h4 id="DWHSG-GUID-6874226F-1DC1-4864-9695-5FBDF646F59D" class="sect4"><span class="enumeration_section">14.1.2 </span>Zone Maps and Attribute Clustering
                  </h4>
                  <div>
                     <p>Attribute clustering is not a mandatory pre-requirement for zone maps. Zone maps can be used with or without attribute clustering. Therefore, you can specify attribute clustering without zone maps and build zone maps without clustering on the table.</p>
                     <p>It is common for data warehousing environments to have reasonably clustered data due to ETL processing, for example, clustering by time columns or by geographical regions. Due to clustering, minimum and maximum values of the columns are more likely to be correlated with consecutive data blocks in the attribute-clustered table, which allows for more efficient pruning using zone maps. Zone maps enable more efficient pruning by taking advantage of data ordering performed by attribute clustering. During table scans and index scans (for example, fetch by rowid), zone maps allow pruning of data blocks that do not satisfy predicates on table columns.</p>
                     <div class="infoboxnotealso" id="GUID-6874226F-1DC1-4864-9695-5FBDF646F59D__GUID-F3BBC05F-991F-4E35-8631-6065A4636C76">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="attribute-clustering.html#GUID-08788616-8D61-4550-9871-301503557E60">About Attribute Clustering</a>"</span> for information about attribute clustering
                        </p>
                     </div>
                  </div>
               </div><a id="DWHSG9358"></a><div class="props_rev_3"><a id="GUID-17F2043C-BD41-400F-9FBE-BD14CE87980E" name="GUID-17F2043C-BD41-400F-9FBE-BD14CE87980E"></a><h4 id="DWHSG-GUID-17F2043C-BD41-400F-9FBE-BD14CE87980E" class="sect4"><span class="enumeration_section">14.1.3 </span>Types of Zone Maps
                  </h4>
                  <div>
                     <p>There are two <a id="d56099e227" class="indexterm-anchor"></a><a id="d56099e231" class="indexterm-anchor"></a>types of zone maps:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A basic zone map is defined on a single table and maintains the minimum and maximum values of some columns of this table.</p>
                        </li>
                        <li>
                           <p>A join zone map is defined on a table that has an outer join to one or more other tables and maintains the minimum and maximum values of some columns in the other tables; these join conditions are common in master-detail relationships as well as in star schemas between fact and dimension tables.</p>
                           <p>For star queries, multiple dimension tables are joined through PK-FK relationships with a fact table. Here a join zone map maintains the minimum and maximum values of columns from the dimension tables for zones of the fact table.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DWHSG9359"></a><div class="props_rev_3"><a id="GUID-E6E8BDF4-F3FA-49AF-B56C-BA1245CC8BB2" name="GUID-E6E8BDF4-F3FA-49AF-B56C-BA1245CC8BB2"></a><h4 id="DWHSG-GUID-E6E8BDF4-F3FA-49AF-B56C-BA1245CC8BB2" class="sect4"><span class="enumeration_section">14.1.4 </span>Benefits of Zone Maps
                  </h4>
                  <div>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Enables I/O reduction during sequential or index scans of tables or table partitions</p>
                        </li>
                        <li>
                           <p>Enables partition pruning based on non-key columns for partitioned and composite-partitioned tables when zone map columns correlate with the partitioning key</p>
                        </li>
                        <li>
                           <p>Enables I/O reduction on a subset of the clustering columns for attribute clustering with interleaved ordering</p>
                        </li>
                        <li>
                           <p>Eliminate storage costs associated with using indexes</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-E6E8BDF4-F3FA-49AF-B56C-BA1245CC8BB2__GUID-2EE3EA3F-AF00-42C1-B48A-D3E2A08E1D6A">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/CREATE-MATERIALIZED-ZONEMAP.html#SQLRF56947" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                     </div>
                  </div>
               </div><a id="DWHSG9360"></a><div class="props_rev_3"><a id="GUID-14BE02F3-C78F-45FA-BD15-78FA554B7699" name="GUID-14BE02F3-C78F-45FA-BD15-78FA554B7699"></a><h4 id="DWHSG-GUID-14BE02F3-C78F-45FA-BD15-78FA554B7699" class="sect4"><span class="enumeration_section">14.1.5 </span>Scenarios Which Benefit from Zone Maps
                  </h4>
                  <div>
                     <p>Using <a id="d56099e312" class="indexterm-anchor"></a>zone maps can be beneficial in the following scenarios:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Table scans are performed with frequently-used predicates</p>
                           <p>Zone maps enable Oracle Database to avoid scanning zones that are excluded by column predicates.</p>
                        </li>
                        <li>
                           <p>Joins are defined between a fact table and dimension tables with frequently-used predicates on the dimension hierarchy columns</p>
                           <p>Fact table rows can be ordered by dimension attribute values, pruning zones that are excluded by predicates on attribute values.</p>
                        </li>
                        <li>
                           <p>Columns in partitioned tables contain values that correlate with the partition key</p>
                           <p>This will facilitate partition pruning based on “non-key" columns. For example, a table partitioned by date will often have other date columns that correlate well with the partition key or columns that contain sequenced values that change or cycle over time.</p>
                        </li>
                        <li>
                           <p>Data clustering is performed on the zone map column values</p>
                           <p>Attribute clustering is designed specifically for this purpose. Alternatively, it is appropriate to make use of ordering inherent in the data (for example, time-based column values loaded sequentially or data that is sorted on load).</p>
                        </li>
                        <li>
                           <p>Frequent and low cardinality index range scans are performed on tables</p>
                           <p>Attribute clustering can be used alone to improve compression factors. Zone maps can be used to improve the efficiency of the index scans by pruning lookups from excluded zones. Alternatively, zone maps can be used to replace indexes.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DWHSG9361"></a><div class="props_rev_3"><a id="GUID-08DB84F2-8163-4E02-9D2E-8A10351335E4" name="GUID-08DB84F2-8163-4E02-9D2E-8A10351335E4"></a><h4 id="DWHSG-GUID-08DB84F2-8163-4E02-9D2E-8A10351335E4" class="sect4"><span class="enumeration_section">14.1.6 </span>About Maintaining Zone Maps
                  </h4>
                  <div>
                     <p>Zone maps are based on tables and, therefore, any changes to the underlying tables impacts the state of the zone map. Depending on the operation performed on the table, some or all zones of a zone map are impacted. Zone maps affected by changes to the underlying tables require maintenance.</p>
                     <p>Zone map maintenance consists of one or more of the tasks:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Checking the validity of affected zone maps</p>
                        </li>
                        <li>
                           <p>Tracking the staleness of the affected zone maps</p>
                        </li>
                        <li>
                           <p>Refreshing the affected zone maps that have become stale (depending on the refresh mode set for the zone map)</p>
                        </li>
                     </ul>
                     <p>When there is a change in the structure of base tables on which a zone map is based, for example, dropping a table column whose minimum and maximum values are maintained by the zone map, then the zone map becomes <span class="bold">invalid</span>. Invalid zone maps are not used by queries and Oracle Database does not maintain these zone maps. However, when there is a change in the structure of the base tables that does not relate to the zone map, for example, adding a new column to the table, the zone map stays valid but it needs to be compiled. Oracle Database automatically compiles the zone map on a subsequent operation such as the use of zone map by a query. Or, you can compile the zone map using the <code class="codeph">COMPILE</code> clause of the <code class="codeph">ALTER MATERIALIZED ZONEMAP</code> command.
                     </p>
                     <div class="infoboxnotealso" id="GUID-08DB84F2-8163-4E02-9D2E-8A10351335E4__GUID-0F56EFD6-3860-49DB-B8C2-3C9FE59EC1D6">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="using-zone-maps.html#GUID-1D2BB7B1-440D-403C-BD24-AFAA39789568">Compiling Zone Maps</a>"</span></p>
                     </div>
                     <p>When there is a change in the data of the underlying tables, the zones that are impacted by these changes are marked <span class="bold">stale</span>. Only the data in a stale zone map is not current or fresh but its definition is still valid. Oracle Database automatically tracks the staleness of zone maps due to different types of operations on the underlying tables. Depending on the type of operation performed on the underlying table the Oracle Database will either mark the entire zone map as stale, or some zones in the zone map as stale.
                     </p>
                     <p>This section contains the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-zone-maps.html#GUID-03B84C4C-BA4A-4C5C-8F92-AD4A56AD617A">Operations that Require Zone Map Maintenance</a></p>
                        </li>
                        <li>
                           <p><a href="using-zone-maps.html#GUID-586FD01D-2F00-4185-BCF9-424E19B8E8E9">Scenarios in Which Zone Maps are Automatically Refreshed</a></p>
                        </li>
                     </ul>
                  </div><a id="DWHSG9362"></a><div class="props_rev_3"><a id="GUID-03B84C4C-BA4A-4C5C-8F92-AD4A56AD617A" name="GUID-03B84C4C-BA4A-4C5C-8F92-AD4A56AD617A"></a><h5 id="DWHSG-GUID-03B84C4C-BA4A-4C5C-8F92-AD4A56AD617A" class="sect5"><span class="enumeration_section">14.1.6.1 </span>Operations that Require Zone Map Maintenance
                     </h5>
                     <div>
                        <p>Zone map maintenance is required when the following operations are performed on one or more of the underlying tables:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>DML (insert, delete, update, conventional load).</p>
                           </li>
                           <li>
                              <p>Direct-path insert and load.</p>
                           </li>
                           <li>
                              <p>Partition Maintenance Operations (<code class="codeph">MOVE</code>, <code class="codeph">SPLIT</code>, <code class="codeph">MERGE</code>, <code class="codeph">DROP</code>, <code class="codeph">TRUNCATE</code>, and <code class="codeph">EXCHANGE</code>), moving table data, and online redefinition of table.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DWHSG9363"></a><div class="props_rev_3"><a id="GUID-586FD01D-2F00-4185-BCF9-424E19B8E8E9" name="GUID-586FD01D-2F00-4185-BCF9-424E19B8E8E9"></a><h5 id="DWHSG-GUID-586FD01D-2F00-4185-BCF9-424E19B8E8E9" class="sect5"><span class="enumeration_section">14.1.6.2 </span>Scenarios in Which Zone Maps are Automatically Refreshed
                     </h5>
                     <div>
                        <p>The zone map refresh mode determines if Oracle Database will automatically refresh the zone maps affected by above operations.</p>
                        <p>Oracle Database performs automatic refresh for zone maps affected by the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>DML operations if the refresh mode is <code class="codeph">REFRESH ON COMMIT</code>. Zone maps with <code class="codeph">REFRESH ON COMMIT</code> mode stay transactionally fresh. The refresh is performed when the transaction is committed.
                              </p>
                           </li>
                           <li>
                              <p>Direct-path insert or load if the refresh mode is <code class="codeph">REFRESH ON LOAD</code>.
                              </p>
                              <p>Zone maps with <code class="codeph">REFRESH ON LOAD</code> can become stale after DML or PMOP operation on underlying table.
                              </p>
                           </li>
                           <li>
                              <p>PMOPs (<code class="codeph">MOVE</code>, <code class="codeph">SPLIT</code>, <code class="codeph">MERGE</code>, <code class="codeph">DROP</code>) or table move if the refresh mode is <code class="codeph">REFRESH ON DATA MOVEMENT</code>.
                              </p>
                              <p>Zone maps with <code class="codeph">REFRESH ON DATA MOVEMENT</code> can become stale after DML, direct-path insert or load, PMOP (<code class="codeph">TRUNCATE</code>, <code class="codeph">EXCHANGE</code>), or online redefinition of underlying table
                              </p>
                           </li>
                           <li>
                              <p>Direct-path insert or load, PMOP (<code class="codeph">MOVE</code>, <code class="codeph">SPLIT</code>, <code class="codeph">MERGE</code>, <code class="codeph">DROP</code>) or table move if the refresh mode is <code class="codeph">REFRESH ON LOAD DATA MOVEMENT</code>.
                              </p>
                              <p>Zone maps with <code class="codeph">REFRESH ON LOAD DATA MOVEMENT</code> can become stale after DML, PMOP (<code class="codeph">TRUNCATE</code>, <code class="codeph">EXCHANGE</code>), or online redefinition of underlying table.
                              </p>
                           </li>
                        </ul>
                        <p>Oracle Database does not perform automatic refresh of zone maps affected by any operation on underlying table if their refresh mode is <code class="codeph">REFRESH ON DEMAND</code>. Zone maps with <code class="codeph">REFRESH ON DEMAND</code> have to be manually refreshed
                        </p>
                        <div class="infoboxnotealso" id="GUID-586FD01D-2F00-4185-BCF9-424E19B8E8E9__GUID-FC9E03E2-1DB1-4B82-8950-8FC1738F08F5">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="using-zone-maps.html#GUID-EEE26E3B-38B7-47DD-9892-818CB8432158" title="When the data in the tables on which a zone map is based changes, the zones corresponding to the changed rows are marked as stale. You need to refresh the zone map to make the zones current.">Refresh and Staleness of Zone Maps</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="using-zone-maps.html#GUID-904D917B-DA6D-45AB-96F6-7FBF567D19FE">Maintaining Zone Maps</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="DWHSG8938"></a><div class="props_rev_3"><a id="GUID-BD689807-825D-47F2-81AB-9FD32A3E39C0" name="GUID-BD689807-825D-47F2-81AB-9FD32A3E39C0"></a><h3 id="DWHSG-GUID-BD689807-825D-47F2-81AB-9FD32A3E39C0" class="sect3"><span class="enumeration_section">14.2 </span>Zone Map Operations
               </h3>
               <div>
                  <p>This section describes common tasks involving zone maps, and includes:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-zone-maps.html#GUID-2942249C-B601-4AF1-8D3E-19B50548A32A">Privileges Required for Zone Maps</a></p>
                     </li>
                     <li>
                        <p><a href="using-zone-maps.html#GUID-4FDF378C-B8CC-4C12-A545-237B42F084BA">Creating Zone Maps</a></p>
                     </li>
                     <li>
                        <p><a href="using-zone-maps.html#GUID-70722C5D-2785-4934-9EA6-93114EF9ED0A">Modifying Zone Maps</a></p>
                     </li>
                     <li>
                        <p><a href="using-zone-maps.html#GUID-6560A78B-D132-4555-8619-CCDC2C9FCF38">Dropping Zone Maps</a></p>
                     </li>
                     <li>
                        <p><a href="using-zone-maps.html#GUID-1D2BB7B1-440D-403C-BD24-AFAA39789568">Compiling Zone Maps</a></p>
                     </li>
                     <li>
                        <p><a href="using-zone-maps.html#GUID-8266B0F1-29B0-418C-90F5-09B0AAA87F8F">Controlling the Use of Zone Maps</a></p>
                     </li>
                     <li>
                        <p><a href="using-zone-maps.html#GUID-904D917B-DA6D-45AB-96F6-7FBF567D19FE">Maintaining Zone Maps</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG9364"></a><div class="props_rev_3"><a id="GUID-2942249C-B601-4AF1-8D3E-19B50548A32A" name="GUID-2942249C-B601-4AF1-8D3E-19B50548A32A"></a><h4 id="DWHSG-GUID-2942249C-B601-4AF1-8D3E-19B50548A32A" class="sect4"><span class="enumeration_section">14.2.1 </span>Privileges Required for Zone Maps
                  </h4>
                  <div>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>To create, alter, or drop zone maps in your own schema, you must have the <code class="codeph">CREATE MATERIALIZED ZONEMAP</code> privilege
                           </p>
                        </li>
                        <li>
                           <p>To create zone maps in other schemas, you must have the <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">ZONEMAP</code> privilege.
                           </p>
                        </li>
                        <li>
                           <p>To create zone maps in your own schema but on tables from other schemas, you must have the <code class="codeph">SELECT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> or <code class="codeph">READ ANY TABLE</code> privilege.
                           </p>
                        </li>
                        <li>
                           <p>To create zone maps in other schemas using tables from other schemas, you must have both the <code class="codeph">SELECT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> and <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">ZONEMAP</code> privileges. You can have the <code class="codeph">READ ANY TABLE</code> privilege instead of the <code class="codeph">SELECT ANY TABLE</code> privilege.
                           </p>
                        </li>
                        <li>
                           <p>To alter zone maps in other schemas, you must have the <code class="codeph">ALTER ANY MATERIALIZED ZONEMAP</code> privilege.
                           </p>
                        </li>
                        <li>
                           <p>To drop zone maps in other schemas, you must have the <code class="codeph">DROP ANY MATERIALIZED ZONEMAP</code> privilege.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DWHSG8939"></a><div class="props_rev_3"><a id="GUID-4FDF378C-B8CC-4C12-A545-237B42F084BA" name="GUID-4FDF378C-B8CC-4C12-A545-237B42F084BA"></a><h4 id="DWHSG-GUID-4FDF378C-B8CC-4C12-A545-237B42F084BA" class="sect4"><span class="enumeration_section">14.2.2 </span>Creating Zone Maps
                  </h4>
                  <div>
                     <div class="section">
                        <p>While zone maps can be created along with attribute clustering on a table, zone maps are independent of attribute clustering. Zone maps can be independently created, irrespective of attribute clustering.</p>
                        <p>Storage structures used by zone maps are created in the default tablespace of the tables on which they are defined.</p>
                        <div class="infoboxnotealso" id="GUID-4FDF378C-B8CC-4C12-A545-237B42F084BA__GUID-DE56A852-C005-4835-88A6-0B6B47F4AAB3">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../sqlrf/CREATE-MATERIALIZED-ZONEMAP.html#SQLRF56867" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for zone map creation syntax
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/CREATE-MATERIALIZED-ZONEMAP.html#SQLRF56947" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about zone map restrictions
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>This section contains the following topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="using-zone-maps.html#GUID-655206D5-CD38-4CE3-AD20-DC984BB7CE26">Creating Zone Maps with Attribute Clustering</a></p>
                           </li>
                           <li>
                              <p><a href="using-zone-maps.html#GUID-C3A55971-2E72-4B5E-A5B4-27104DF05C0A">Creating Zone Maps Independent of Attribute Clustering</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DWHSG9365"></a><div class="props_rev_3"><a id="GUID-655206D5-CD38-4CE3-AD20-DC984BB7CE26" name="GUID-655206D5-CD38-4CE3-AD20-DC984BB7CE26"></a><h5 id="DWHSG-GUID-655206D5-CD38-4CE3-AD20-DC984BB7CE26" class="sect5"><span class="enumeration_section">14.2.2.1 </span>Creating Zone Maps with Attribute Clustering
                     </h5>
                     <div>
                        <div class="section">
                           <p>You can create a zone map by using <code class="codeph">WITH MATERIALIZED ZONEMAP</code> subclause. You can use this subclause when you define attribute clustering for a table or later when you modify the clustering definition.
                           </p>
                           <p>Use the steps described in any of the following topics to create a zone map with attribute clustering:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="using-zone-maps.html#GUID-F33AC20C-D551-4A62-AE11-37C5764667D4">Creating a Basic Zone Map with Linear Attribute Clustering</a></p>
                              </li>
                              <li>
                                 <p><a href="using-zone-maps.html#GUID-A9972E60-FF25-42AF-ABB8-D8C12759ECF3">Creating a Join Zone Map with Interleaved Attribute Clustering</a></p>
                              </li>
                              <li>
                                 <p><a href="using-zone-maps.html#GUID-FCAB2956-727F-4C8A-BD47-AF51DAB14D95">Creating a Zone Map After Attribute Clustering</a></p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-655206D5-CD38-4CE3-AD20-DC984BB7CE26__GUID-6B4C5EA7-CAF4-4DF3-B571-41E73870ED54">
                              <p class="notep1">See Also:</p>
                              <p><a href="attribute-clustering.html#GUID-7B007A3C-53C2-4437-9E71-9ECECF8B4FAB">Attribute Clustering</a> for information about attribute clustering
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div><a id="DWHSG9366"></a><div class="props_rev_3"><a id="GUID-F33AC20C-D551-4A62-AE11-37C5764667D4" name="GUID-F33AC20C-D551-4A62-AE11-37C5764667D4"></a><h6 id="DWHSG-GUID-F33AC20C-D551-4A62-AE11-37C5764667D4" class="sect6"><span class="enumeration_section">14.2.2.1.1 </span>Creating a Basic Zone Map with Linear Attribute Clustering
                        </h6>
                        <div>
                           <div class="section">
                              <p>Assume that queries of sales often specify either a customer ID or a combination of a customer ID and product ID. You can create an attribute-clustered table so that queries benefit from pruning with zone maps. You create a table as follows:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE sales (
   prod_id NUMBER NOT NULL,
   cust_id NUMBER NOT NULL,
   time_id        DATE NOT NULL,
   channel_id     NUMBER NOT NULL,
   promo_id       NUMBER NOT NULL,
   quantity_sold  NUMBER(10,2),
   amount_sold NUMBER(10,2)
)
CLUSTERING
BY LINEAR ORDER (cust_id, prod_id)
YES ON LOAD YES ON DATA MOVEMENT
WITH MATERIALIZED ZONEMAP;
</pre><p>Zone map <code class="codeph">ZMAP$_SALES</code> on columns (<code class="codeph">cust_id</code>, <code class="codeph">prod_id</code>) is created. Here, <code class="codeph">ZMAP$_SALES</code> is the name automatically generated by Oracle Database for the zone map. However, you can specify a name for the zone map by enclosing it in parentheses following the <code class="codeph">WITH MATERIALIZED ZONEMAP</code> as described in <span class="q">"<a href="using-zone-maps.html#GUID-A9972E60-FF25-42AF-ABB8-D8C12759ECF3">Creating a Join Zone Map with Interleaved Attribute Clustering</a>"</span>.
                              </p>
                              <p>Queries that qualify both columns <code class="codeph">cust_id</code> and <code class="codeph">prod_id</code> or the prefix <code class="codeph">cust_id</code> experience natural pruning. The following examples show how the database can prune during table scans.
                              </p>
                              <p>An application issues the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM sales WHERE cust_id = 100;
</pre><p>Because the table is a <code class="codeph">BY</code> <code class="codeph">LINEAR</code> <code class="codeph">ORDER</code> clustered, the database must only read the zones that include the <code class="codeph">cust_id</code> value of 100.
                              </p>
                              <p>An application issues the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM sales WHERE cust_id = 100 AND prod_id = 2300;
</pre><p>Because the table is a <code class="codeph">BY</code> <code class="codeph">LINEAR</code> <code class="codeph">ORDER</code> clustered, the database must only read the zones that include the <code class="codeph">cust_id</code> value of 100 and <code class="codeph">prod_id</code> of 2300.
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="DWHSG9367"></a><div class="props_rev_3"><a id="GUID-A9972E60-FF25-42AF-ABB8-D8C12759ECF3" name="GUID-A9972E60-FF25-42AF-ABB8-D8C12759ECF3"></a><h6 id="DWHSG-GUID-A9972E60-FF25-42AF-ABB8-D8C12759ECF3" class="sect6"><span class="enumeration_section">14.2.2.1.2 </span>Creating a Join Zone Map with Interleaved Attribute Clustering
                        </h6>
                        <div>
                           <div class="section">
                              <p>Consider a data warehouse that contains a <code class="codeph">sales</code> fact table and its two dimension tables: <code class="codeph">customers</code> and <code class="codeph">products</code>. Most queries have predicates on the <code class="codeph">customers</code> table hierarchy (<code class="codeph">country_id</code>, <code class="codeph">cust_state_province</code>, <code class="codeph">cust_city</code>) and the <code class="codeph">products</code> hierarchy (<code class="codeph">prod_category</code>, <code class="codeph">prod_subcategory</code>). You can use interleaved ordering for the <code class="codeph">sales</code> table as shown in the following partial statement:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE sales (
   prod_id NUMBER NOT NULL,
   cust_id NUMBER NOT NULL,
   amount_sold NUMBER(10,2))
CLUSTERING
sales JOIN products ON (sales.prod_id = products.prod_id)
JOIN customers ON (sales.cust_id = customers.cust_id)
BY INTERLEAVED ORDER
(
(products.prod_category, products.prod_subcategory),
(customers.country_id, customers.cust_state_province, customers.cust_city)
)
YES ON LOAD YES ON DATA MOVEMENT
WITH MATERIALIZED ZONEMAP (sales_zmap);
</pre><p>A zone map called <code class="codeph">sales_zmap</code> is created for the attribute clustered table. Note that, in this clustering clause, the join columns of the dimension table must have primary or unique key constraints. Note that for interleaved order columns from a single dimension should appear in the clustering clause a separate group bracketed by '('..')' for example (<code class="codeph">prod_category</code>, <code class="codeph">prod_subcategory</code>). Furthermore, the columns should follow the hierarchy in the dimension (such as the natural hierarchy of <code class="codeph">prod_category</code>, <code class="codeph">prod_subcategory</code>), and the order of the columns in the group should follow that of the hierarchy. This allows Oracle Database to effectively cluster the data according to the hierarchies present in the dimension tables.
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="DWHSG9368"></a><div class="props_rev_3"><a id="GUID-FCAB2956-727F-4C8A-BD47-AF51DAB14D95" name="GUID-FCAB2956-727F-4C8A-BD47-AF51DAB14D95"></a><h6 id="DWHSG-GUID-FCAB2956-727F-4C8A-BD47-AF51DAB14D95" class="sect6"><span class="enumeration_section">14.2.2.1.3 </span>Creating a Zone Map After Attribute Clustering
                        </h6>
                        <div>
                           <div class="section">
                              <p>Assume a table called <code class="codeph">sales</code> exists in the database. You can define attribute clustering for the <code class="codeph">sales</code> table using the following command:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE sales ADD CLUSTERING BY INTERLEAVED ORDER (cust_id, prod_id)
      YES ON LOAD YES ON DATA MOVEMENT;
</pre><p>Although this command adds attribute clustering to the table definition, it does not cluster the existing data in the <code class="codeph">sales</code> table. When you perform a data movement operation on the <code class="codeph">sales</code> table, its data will be clustered because of the <code class="codeph">YES ON DATA MOVEMENT</code> option.
                              </p>
                              <p>The following command clusters the data in the <code class="codeph">sales</code> table:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER TABLES sales MOVE;
</pre><p>After the data in <code class="codeph">sales</code> table is clustered, you can define a zone map on the <code class="codeph">sales</code> table by modifying the clustering using the following command:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE sales MODIFY CLUSTERING WITH MATERIALIZED ZONEMAP (sales_zmap);
</pre><p>Subsequently, if necessary, you can drop the zone map by modifying the clustering using the following command:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE sales MODIFY CLUSTERING WITHOUT MATERIALIZED ZONEMAP;
</pre></div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div><a id="DWHSG9369"></a><div class="props_rev_3"><a id="GUID-C3A55971-2E72-4B5E-A5B4-27104DF05C0A" name="GUID-C3A55971-2E72-4B5E-A5B4-27104DF05C0A"></a><h5 id="DWHSG-GUID-C3A55971-2E72-4B5E-A5B4-27104DF05C0A" class="sect5"><span class="enumeration_section">14.2.2.2 </span>Creating Zone Maps Independent of Attribute Clustering
                     </h5>
                     <div>
                        <div class="section">
                           <p>Use the <code class="codeph">CREATE MATERIALIZED ZONEMAP</code> command to create a zone map on a table. This zone map is independent of attribute clustering, which means it can be created on a clustered or non-clustered table. Also, the set of columns used for the zone map can be same or different from the set of columns used for attribute clustering.
                           </p>
                           <p>When you create a zone map, you must specify the table columns on which the zone map is based.</p>
                           <p>Use the steps described in any of the following topics to create a zone map independent of attribute clustering:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="using-zone-maps.html#GUID-5847A577-5E12-491E-8570-787A270ABF41">Creating a Basic Zone Map Independent of Attribute Clustering</a></p>
                              </li>
                              <li>
                                 <p><a href="using-zone-maps.html#GUID-42FC0CDF-9D54-42F5-AA6B-705FA6272605">Creating a Join Zone Map Independent of Attribute Clustering</a></p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div><a id="DWHSG9371"></a><a id="DWHSG9370"></a><div class="props_rev_3"><a id="GUID-5847A577-5E12-491E-8570-787A270ABF41" name="GUID-5847A577-5E12-491E-8570-787A270ABF41"></a><h6 id="DWHSG-GUID-5847A577-5E12-491E-8570-787A270ABF41" class="sect6"><span class="enumeration_section">14.2.2.2.1 </span>Creating a Basic Zone Map Independent of Attribute Clustering
                        </h6>
                        <div>
                           <div class="section">
                              <p>Assume that queries on the <code class="codeph">sales</code> table frequently specify a customer ID, product ID, or a combination of the two columns. You can create a zone map on the customer ID and product ID columns of the <code class="codeph">sales</code> table so that queries benefit from pruning as shown in <a href="using-zone-maps.html#GUID-5847A577-5E12-491E-8570-787A270ABF41__CIHFDHHD">Example 14-1</a>.
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-5847A577-5E12-491E-8570-787A270ABF41__CIHFDHHD">
                              <p class="titleinexample">Example 14-1 Creating a Basic Zone Map Independent of Attribute Clustering</p>
                              <p>You can create a zone map <code class="codeph">sales_zmap</code> on the <code class="codeph">sales</code> table using the following statement:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED ZONEMAP sales_zmap ON sales (cust_id, prod_id);
</pre><p>This statement is equivalent to the following <code class="codeph">CREATE</code> <code class="codeph">...</code> <code class="codeph">AS</code> statement:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED ZONEMAP sales_zmap
REFRESH ON LOAD DATA MOVEMENT
AS
SELECT SYS_OP_ZONE_ID(rowid),MIN(cust_id),MAX(cust_id),MIN(prod_id),MAX(prod_id)
FROM sales
GROUP BY SYS_OP_ZONE_ID(rowid);
</pre><p>In this statement, the <code class="codeph">SYS_OP_ZONE_ID(rowid)</code> function is used to work with zone maps. The <code class="codeph">SYS_OP_ZONE_ID</code> function identifies a particular range of contiguous disk blocks (zone) given the rowid of fact table row. This function helps to maintain minimum and maximum ranges at a partition level, performing partition pruning and fast refresh of zone maps. When used with zone maps, it helps to map all rows from a set of contiguous data blocks to a single zone.
                              </p>
                           </div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="DWHSG9373"></a><a id="DWHSG9372"></a><div class="props_rev_3"><a id="GUID-42FC0CDF-9D54-42F5-AA6B-705FA6272605" name="GUID-42FC0CDF-9D54-42F5-AA6B-705FA6272605"></a><h6 id="DWHSG-GUID-42FC0CDF-9D54-42F5-AA6B-705FA6272605" class="sect6"><span class="enumeration_section">14.2.2.2.2 </span>Creating a Join Zone Map Independent of Attribute Clustering
                        </h6>
                        <div>
                           <div class="section">
                              <p>Consider a data warehouse that contains the <code class="codeph">sales</code> fact and multiple dimensions. Most queries have predicates on the <code class="codeph">customers</code> table hierarchy (<code class="codeph">cust_state_province, cust_city</code>). You can use interleaved ordering for the sales table as shown in <a href="using-zone-maps.html#GUID-42FC0CDF-9D54-42F5-AA6B-705FA6272605__CreatingAJoinZoneMapIndependentOfAt-08315BD3">Example 14-2</a>.
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-42FC0CDF-9D54-42F5-AA6B-705FA6272605__CreatingAJoinZoneMapIndependentOfAt-08315BD3">
                              <p class="titleinexample">Example 14-2 Creating a Join Zone Map Independent of Attribute Clustering</p>
                              <p>A join zone map involves outer joins from the table on which the zone map is created to one or more other tables. Most commonly used in star schema setups, a join zone map tracks the minimum and maximum of columns from dimension tables rather than columns from the fact table, as is illustrated in the following statement:</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED ZONEMAP sales_zmap
REFRESH ON LOAD DATA MOVEMENT
AS
SELECT SYS_OP_ZONE_ID(s.rowid), MIN(cust_state_province), 
       MAX(cust_state_province), MIN(cust_city), MAX(cust_city)
FROM sales s, customers c
WHERE s.cust_id = c.cust_id(+)
GROUP BY SYS_OP_ZONE_ID(s.rowid);
</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div>
                  </div>
               </div><a id="DWHSG9374"></a><a id="DWHSG9375"></a><a id="DWHSG9376"></a><a id="DWHSG9377"></a><a id="DWHSG9378"></a><a id="DWHSG9379"></a><a id="DWHSG9380"></a><a id="DWHSG8941"></a><div class="props_rev_3"><a id="GUID-70722C5D-2785-4934-9EA6-93114EF9ED0A" name="GUID-70722C5D-2785-4934-9EA6-93114EF9ED0A"></a><h4 id="DWHSG-GUID-70722C5D-2785-4934-9EA6-93114EF9ED0A" class="sect4"><span class="enumeration_section">14.2.3 </span>Modifying Zone Maps
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can alter a zone map with an <code class="codeph">ALTER</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">ZONEMAP</code> statement. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-70722C5D-2785-4934-9EA6-93114EF9ED0A__GUID-1B45F73E-B0EB-43B0-B132-CEB67082A48E">
                        <p class="titleinexample">Example 14-3 Making a Zone Map Unusable</p>
                        <p>The following statement makes a zone map unusable, which means that queries no longer use this zone map, and Oracle Database no longer maintains the zone map.</p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED ZONEMAP sales_zmap UNUSABLE;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-70722C5D-2785-4934-9EA6-93114EF9ED0A__GUID-93532198-C610-4E05-A92A-3D22088777C6">
                        <p class="titleinexample">Example 14-4 Performing Complete Refresh for a Zone Map</p>
                        <p>The following statement performs a complete refresh of the zone map:</p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED ZONEMAP sales_zmap REBUILD COMPLETE;
</pre><p>As part of the rebuild, the zone map is also made usable, if it was earlier marked as unusable.</p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-70722C5D-2785-4934-9EA6-93114EF9ED0A__GUID-4D616835-C011-455D-AE32-53D81DBFC10F">
                        <p class="titleinexample">Example 14-5 Refreshing Zone Maps</p>
                        <p>The following statement performs a fast refresh, if possible. Else, a complete refresh is performed.</p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED ZONEMAP sales_zmap REBUILD;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-70722C5D-2785-4934-9EA6-93114EF9ED0A__GUID-348E97C0-AF08-49A4-B097-307EBB4EBE5C">
                        <p class="titleinexample">Example 14-6 Disabling Pruning for Zone Maps</p>
                        <p>The following statement disables pruning, which you might want to do for performance measurement:</p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED ZONEMAP sales_zmap DISABLE PRUNING;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-70722C5D-2785-4934-9EA6-93114EF9ED0A__GUID-4F785988-FF12-484A-8B73-3AA9725F536B">
                        <p class="titleinexample">Example 14-7 Enabling Pruning for Zone Maps</p>
                        <p>The following statement enables pruning, which may have been disabled earlier, for the zone map:</p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED ZONEMAP sales_zmap ENABLE PRUNING;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-70722C5D-2785-4934-9EA6-93114EF9ED0A__GUID-F739DBD7-1B67-464D-83D5-A7A484BDEED0">
                        <p class="titleinexample">Example 14-8 Disabling Refresh for Zone Maps</p>
                        <p>The following statement turns off refresh on load and data movement, which offers you control over how and when zone maps are refreshed:</p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED ZONEMAP sales_zmap REFRESH ON DEMAND;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-70722C5D-2785-4934-9EA6-93114EF9ED0A__GUID-9F46E0DC-CF23-484D-844B-DC9B182F7C78">
                        <p class="titleinexample">Example 14-9 Enabling Refresh on Commit for Zone Maps</p>
                        <p>The following statement turns on the refresh of the zone map on each transaction commit:</p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED ZONEMAP sales_zmap REFRESH ON COMMIT;
</pre><div class="infoboxnotealso" id="GUID-70722C5D-2785-4934-9EA6-93114EF9ED0A__GUID-9DBF7F15-2114-4CF1-B5AA-DE7EBCFDF73A">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../sqlrf/ALTER-MATERIALIZED-ZONEMAP.html#SQLRF56854" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for the syntax to alter a zone map
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DWHSG8942"></a><div class="props_rev_3"><a id="GUID-6560A78B-D132-4555-8619-CCDC2C9FCF38" name="GUID-6560A78B-D132-4555-8619-CCDC2C9FCF38"></a><h4 id="DWHSG-GUID-6560A78B-D132-4555-8619-CCDC2C9FCF38" class="sect4"><span class="enumeration_section">14.2.4 </span>Dropping Zone Maps
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can drop <a id="d56099e1420" class="indexterm-anchor"></a><a id="d56099e1424" class="indexterm-anchor"></a>zone maps by issuing a <code class="codeph">DROP</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">ZONEMAP</code> statement, such as the following:
                        </p><pre class="oac_no_warn" dir="ltr">DROP MATERIALIZED ZONEMAP sales_zmap;</pre><div class="infoboxnotealso" id="GUID-6560A78B-D132-4555-8619-CCDC2C9FCF38__GUID-DEABFA45-65CE-46EB-8CB1-9F473859E489">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sqlrf/DROP-MATERIALIZED-ZONEMAP.html#SQLRF56892" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for the syntax to drop a zone map
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DWHSG9171"></a><div class="props_rev_3"><a id="GUID-1D2BB7B1-440D-403C-BD24-AFAA39789568" name="GUID-1D2BB7B1-440D-403C-BD24-AFAA39789568"></a><h4 id="DWHSG-GUID-1D2BB7B1-440D-403C-BD24-AFAA39789568" class="sect4"><span class="enumeration_section">14.2.5 </span>Compiling Zone Maps
                  </h4>
                  <div>
                     <div class="section">
                        <p>Any DDL operation on the base table on which a zone map is based will affect the compile state of the zone map. This means that the query that defines the zone map must be compiled to check if the zone map remains valid or not. This behavior is similar to materialized views, which are also affected by DDL performed on the base table. Oracle Database will compile the zone map the first time it tries to use it following a DDL operation. You can, however, explicitly compile a zone map using an alter DDL statement such as the following:</p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED ZONEMAP sales_zmap COMPILE;
</pre><p>The result of compiling a zone map will either be valid or invalid depending on the specific action performed by the DDL. For example, if DDL was done to add a column to the fact table, then the zone map will be valid after compilation. But if the DDL was done to drop a column that is referenced in the definition query, then the zone map will be invalid after compilation.</p>
                        <p>Some of the points to keep in mind are:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If a column that appears in the clustering clause is dropped, then clustering is dropped. In addition, if there was a zone map created as part of clustering, then the zone map will be dropped as well.</p>
                           </li>
                           <li>
                              <p>If a dimension table from a star schema is dropped, and it is involved in clustering on a fact table, then the clustering on the fact table is dropped. In addition, if there was a zone map created as part of the clustering, then the zone map will be dropped.</p>
                           </li>
                           <li>
                              <p>If a user drops a required primary key or unique key on the dimension table involved in a clustering clause, then clustering is invalidated (data will not be clustered on subsequent loads or data movement operations performed by certain types of PMOPs).</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DWHSG9172"></a><div class="props_rev_3"><a id="GUID-8266B0F1-29B0-418C-90F5-09B0AAA87F8F" name="GUID-8266B0F1-29B0-418C-90F5-09B0AAA87F8F"></a><h4 id="DWHSG-GUID-8266B0F1-29B0-418C-90F5-09B0AAA87F8F" class="sect4"><span class="enumeration_section">14.2.6 </span>Controlling the Use of Zone Maps
                  </h4>
                  <div>
                     <p>You can control the use of zone maps for the entire SQL workload or for specific SQL statements.</p>
                     <p>This section contains the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-zone-maps.html#GUID-6016EDDE-05BC-4316-B63D-95CACE3A5F37">Controlling Zone Map Usage for Entire SQL Workloads</a></p>
                        </li>
                        <li>
                           <p><a href="using-zone-maps.html#GUID-F8CDC4B6-9472-4825-8B95-69EEEC80EEFC">Controlling Zone Map Usage for Specific SQL Statements</a></p>
                        </li>
                     </ul>
                  </div><a id="DWHSG9381"></a><div class="props_rev_3"><a id="GUID-6016EDDE-05BC-4316-B63D-95CACE3A5F37" name="GUID-6016EDDE-05BC-4316-B63D-95CACE3A5F37"></a><h5 id="DWHSG-GUID-6016EDDE-05BC-4316-B63D-95CACE3A5F37" class="sect5"><span class="enumeration_section">14.2.6.1 </span>Controlling Zone Map Usage for Entire SQL Workloads
                     </h5>
                     <div>
                        <div class="section">
                           <p>You can control the use of zone maps at the object level. Object-level changes apply to all statements in the SQL workload. When you create a zone map, it is available for pruning unless you override the default by specifying <code class="codeph">DISABLE PRUNING</code>. For example, the following statement creates a zone map with pruning disabled:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED ZONEMAP sales_zmap 
    DISABLE PRUNING ON sales(cust_id, prod_id);
</pre><p>This zone map is created and maintained by Oracle Database, but is not used for any SQL in the workload. You can make it available for pruning by using the following <code class="codeph">ALTER MATERIALIZED ZONEMAP</code> statement:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED ZONEMAP sales_zmap ENABLE PRUNING;
</pre><p>Similarly, you can use the following statement to make a zone map unavailable for pruning:</p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED ZONEMAP sales_zmap DISABLE PRUNING;
</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DWHSG9174"></a><a id="DWHSG9176"></a><a id="DWHSG9178"></a><a id="DWHSG9382"></a><div class="props_rev_3"><a id="GUID-F8CDC4B6-9472-4825-8B95-69EEEC80EEFC" name="GUID-F8CDC4B6-9472-4825-8B95-69EEEC80EEFC"></a><h5 id="DWHSG-GUID-F8CDC4B6-9472-4825-8B95-69EEEC80EEFC" class="sect5"><span class="enumeration_section">14.2.6.2 </span>Controlling Zone Map Usage for Specific SQL Statements
                     </h5>
                     <div>
                        <div class="section">
                           <p>You can use hints to control the use of zone maps at the individual SQL statement level. Note that hints cannot be used to control zone map usage if pruning is disabled for the zone map. You can achieve a finer control through hints by leaving pruning enabled and specifying negative hints in individual SQL statements.</p>
                           <p>Use the <code class="codeph">NO_ZONEMAP</code> hint to disable the usage of a zone map for pruning. The following examples disable the usage of zone maps while pruning data.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-F8CDC4B6-9472-4825-8B95-69EEEC80EEFC__GUID-33066484-4279-40BD-8542-A7D1C7A01012">
                           <p class="titleinexample">Example 14-10 Scan Pruning: Disabling Zone Maps with the NO_ZONEMAP Hint</p><pre class="oac_no_warn" dir="ltr">SELECT /*+ NO_ZONEMAP (S SCAN) */* FROM sales S
WHERE s.time_id BETWEEN '1-15-2008' AND '1-31-2008';
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-F8CDC4B6-9472-4825-8B95-69EEEC80EEFC__GUID-C518CEC3-6784-44B3-9A72-17766861B052">
                           <p class="titleinexample">Example 14-11 Join Pruning: Disabling Zone Maps with the NO_ZONEMAP Hint</p><pre class="oac_no_warn" dir="ltr">SELECT /*+ NO_ZONEMAP (S JOIN) */* FROM sales s
WHERE s.time_id BETWEEN '1-15-2008' AND '1-31-2008';
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-F8CDC4B6-9472-4825-8B95-69EEEC80EEFC__GUID-D234271E-9129-4750-9767-628C9C74CE66">
                           <p class="titleinexample">Example 14-12 Partition Pruning: Disabling Zone Maps with the NO_ZONEMAP Hint</p><pre class="oac_no_warn" dir="ltr">SELECT /*+ NO_ZONEMAP (S PARTITION) */* FROM sales S
WHERE s.time_id BETWEEN '1-15-2008' AND '1-31-2008';
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="DWHSG9383"></a><a id="DWHSG9384"></a><a id="DWHSG9385"></a><a id="DWHSG8947"></a><div class="props_rev_3"><a id="GUID-904D917B-DA6D-45AB-96F6-7FBF567D19FE" name="GUID-904D917B-DA6D-45AB-96F6-7FBF567D19FE"></a><h4 id="DWHSG-GUID-904D917B-DA6D-45AB-96F6-7FBF567D19FE" class="sect4"><span class="enumeration_section">14.2.7 </span>Maintaining Zone Maps
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can <a id="d56099e1652" class="indexterm-anchor"></a>specify how zone maps must be maintained either at the time of creating the zone map or, later, by altering the zone map definition. Refer to <span class="q">"<a href="using-zone-maps.html#GUID-394749A4-73A6-421D-B792-27B748450222">Zone Map Maintenance Considerations</a>"</span>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-904D917B-DA6D-45AB-96F6-7FBF567D19FE__GUID-84EA2C58-3612-44C8-B96C-A1124DFC97AC">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="using-zone-maps.html#GUID-08DB84F2-8163-4E02-9D2E-8A10351335E4">About Maintaining Zone Maps</a>"</span></p>
                        </div>
                        <p>Use the <code class="codeph">REFRESH</code> clause in the <code class="codeph">CREATE MATERIALIZED ZONEMAP</code> or <code class="codeph">ALTER MATERIALIZED ZONEMAP</code> statement to specify how zone maps must be maintained. If you omit the <code class="codeph">REFRESH</code> clause in the <code class="codeph">CREATE MATERIALIZED ZONEMAP</code> statement, the default used is <code class="codeph">REFRESH ON LOAD DATA MOVEMENT</code>, which enables the maintenance of the zone map by Oracle Database upon direct path load and certain data movement operations.
                        </p>
                        <p>The following statement creates a zone map whose maintenance is managed manually by the user:</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED ZONEMAP sales_zmap
REFRESH ON DEMAND 
ON sales (cust_id, prod_id);
</pre><p>The following statement creates a zone map whose maintenance is managed by Oracle Database at the end of each transaction commit:</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED ZONEMAP sales_zmap 
REFRESH ON COMMIT 
ON sales (cust_id, prod_id);
</pre><p>Because it is refreshed on commit, the above zone map never becomes stale.</p>
                        <p>Use the <code class="codeph">ALTER MATERIALIZED ZONEMAP</code> statement to change the maintenance of existing zone maps.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-904D917B-DA6D-45AB-96F6-7FBF567D19FE__GUID-0B1A533D-C0C3-455B-9B89-9D5B2D9841AB">
                        <p class="titleinexample">Example 14-13 Enabling Zone Map Maintenance on Data Movement</p>
                        <p>The following statement enables zone map maintenance by Oracle Database on data movement operations such as <code class="codeph">MOVE</code>, <code class="codeph">SPLIT</code>, <code class="codeph">MERGE</code>, and <code class="codeph">DROP</code>:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED ZONEMAP sales_zmap REFRESH ON DATA MOVEMENT;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-904D917B-DA6D-45AB-96F6-7FBF567D19FE__GUID-FD274025-ABB4-44D0-A936-A1DE072A003E">
                        <p class="titleinexample">Example 14-14 Enabling Zone Map Maintenance on Direct Path Load</p>
                        <p>The following statement enables zone map maintenance by Oracle Database on direct path load operations, such as <code class="codeph">INSERT /*+ APPEND */</code> statements:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED ZONEMAP sales_zmap REFRESH ON LOAD;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-904D917B-DA6D-45AB-96F6-7FBF567D19FE__GUID-371EE29C-DE59-47C7-B780-84B467514E23">
                        <p class="titleinexample">Example 14-15 Enabling Zone Map Maintenance on both Data Movement and Load</p>
                        <p>The following statement enables zone map maintenance by Oracle Database on data movement and load operations:</p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED ZONEMAP sales_zmap REFRESH ON LOAD DATA MOVEMENT;
</pre><p>Note that <code class="codeph">REFRESH ON LOAD DATA MOVEMENT</code> is the default option.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div><a id="DWHSG8948"></a><div class="props_rev_3"><a id="GUID-394749A4-73A6-421D-B792-27B748450222" name="GUID-394749A4-73A6-421D-B792-27B748450222"></a><h5 id="DWHSG-GUID-394749A4-73A6-421D-B792-27B748450222" class="sect5"><span class="enumeration_section">14.2.7.1 </span>Zone Map Maintenance Considerations
                     </h5>
                     <div>
                        <p>The following are some of the issues to keep in mind when maintaining zone maps or tracking their staleness:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>DML/Parallel DML operations to the fact table</p>
                              <p>When a zone map is created, an internal trigger is created by Oracle Database to track the row changes made by conventional DML operations. For example, if a new row is inserted into the <code class="codeph">sales</code> table, this trigger will compute <code class="codeph">zone_id</code> from <code class="codeph">rowid</code> and mark the corresponding aggregate row in the zone map as stale. So the staleness of a zone map is tracked zone by zone, which means even after DML has been done to the fact table the zone map can still be used for pruning using the <code class="codeph">MIN</code>/<code class="codeph">MAX</code> aggregates in the fresh zones.
                              </p>
                              <p>Upon fact table update, if the columns being updated are not referenced by the zone map, then zone map staleness is not affected. Otherwise, zones corresponding to updated rows are marked as stale by the internal trigger.</p>
                           </li>
                           <li>
                              <p>Direct loads (that is, <code class="codeph">INSERT /*+ APPEND */</code>) operations to fact table
                              </p>
                              <p>Even though direct loads insert data above the high water mark, newly added rows can belong to zones already computed for the zone map. Therefore, Oracle Database will identify existing zones whose <code class="codeph">MIN</code>/<code class="codeph">MAX</code> aggregates are potentially affected by newly added data and mark such zones as stale. Again, Oracle Database can continue to use the zone map for pruning in spite of direct loads to the zone map by utilizing <code class="codeph">MIN</code>/<code class="codeph">MAX</code> aggregates of zones that still remain fresh. If the zone maps has the <code class="codeph">REFRESH ON LOAD</code> option, then Oracle Database will perform zone map refresh at the end of the load.
                              </p>
                           </li>
                           <li>
                              <p>Data movement (for example, partition maintenance operations) on the fact table</p>
                              <p>Data movement operations include partition maintenance operations and online partition/table redefinition. However, data movement (for example, move partition) will make the existing zones belonging to the old partition obsolete in the zone map while zones belonging to the new partition are not computed until the zone map is refreshed. Oracle Database will continue to use the zone map for pruning following data movement operations regardless of whether the zone map was refreshed or not. If the zone map has the <code class="codeph">REFRESH</code> <code class="codeph">ON</code> <code class="codeph">DATA</code> <code class="codeph">MOVEMENT</code> option, Oracle Database will perform refresh at the end of the data movement operation.
                              </p>
                           </li>
                           <li>
                              <p>Data movements on the dimension table</p>
                              <p>This operation does not affect the zone map.</p>
                           </li>
                           <li>
                              <p>Any DML to the dimension table</p>
                              <p>This operation makes the entire zone map stale, so it requires a full refresh. However, there is one exception. If it is an update operation and the set of updated columns are not referenced by the zone map, then it remains unaffected.</p>
                           </li>
                           <li>
                              <p>Direct loads to dimension table</p>
                              <p>This operation makes the entire zone map stale. If the <code class="codeph">REFRESH</code> <code class="codeph">ON</code> <code class="codeph">LOAD</code> option is specified for the zone map, then Oracle Database will perform zone map refresh immediately following the load operation.
                              </p>
                           </li>
                           <li>
                              <p>DDL to the fact or dimension table</p>
                              <p>Upon DDL operation the zone map is marked with unknown staleness (that is, stale set to <code class="codeph">'unknown'</code>) and requiring compilation (that is, <code class="codeph">compile_state</code> set to <code class="codeph">'needs_compile</code>'). Under this state, Oracle Database will not use the zone map for pruning. However, upon the first use of a zone map following the DDL operation Oracle Database will compile the zone map and based on its outcome appropriately set the invalid and stale states. For example, if the DDL operation dropped a column whose <code class="codeph">MIN</code>/<code class="codeph">MAX</code> aggregates are stored in the zone map, then zone map compilation will fail so zone map <code class="codeph">compile_state</code> is set to <code class="codeph">'compilation error'</code>, stale remains as <code class="codeph">'unknown'</code>, and invalid is set to <code class="codeph">'yes'</code>. 
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="DWHSG9165"></a><div class="props_rev_3"><a id="GUID-EEE26E3B-38B7-47DD-9892-818CB8432158" name="GUID-EEE26E3B-38B7-47DD-9892-818CB8432158"></a><h3 id="DWHSG-GUID-EEE26E3B-38B7-47DD-9892-818CB8432158" class="sect3"><span class="enumeration_section">14.3 </span>Refresh and Staleness of Zone Maps
               </h3>
               <div>
                  <p>Oracle Database marks either the zone maps as stale or individual zones within zone maps as stale when the data in their base tables changes. Stale zone maps are not used for pruning, but zone maps with stale zones are still used for pruning. You must refresh the zone maps to update the zones and make them usable for pruning.</p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-zone-maps.html#GUID-67445DF7-1688-4007-B52E-EE55EB55B090" title="When the data in the tables on which a zone map is based changes, the zones corresponding to the changed rows are marked as stale. You need to refresh the zone map to make the zones current.">About Staleness of Zone Maps</a></p>
                     </li>
                     <li>
                        <p><a href="using-zone-maps.html#GUID-4B36B2E5-03A1-4004-9E8A-E95E94E91356">About Refreshing Zone Maps</a></p>
                     </li>
                     <li>
                        <p><a href="using-zone-maps.html#GUID-3800B313-23CB-45C5-AD09-1ACA78EFD449">Refreshing Zone Maps</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG9387"></a><a id="DWHSG9388"></a><a id="DWHSG9389"></a><a id="DWHSG9386"></a><div class="props_rev_3"><a id="GUID-67445DF7-1688-4007-B52E-EE55EB55B090" name="GUID-67445DF7-1688-4007-B52E-EE55EB55B090"></a><h4 id="DWHSG-GUID-67445DF7-1688-4007-B52E-EE55EB55B090" class="sect4"><span class="enumeration_section">14.3.1 </span>About Staleness of Zone Maps
                  </h4>
                  <div>
                     <p>When the data in the tables on which a zone map is based changes, the zones corresponding to the changed rows are marked as stale. You need to refresh the zone map to make the zones current.</p>
                     <p>When a row in a partition of the fact table is updated, the row corresponding to the zone in the partitioned table is marked as stale because of the update. This automatically invalidates the aggregated partition-level information, and pruning can only happen on a zone level. The row in the zone map corresponding to this particular partition is also marked as stale because of the update.</p>
                     <p>In <a href="using-zone-maps.html#GUID-67445DF7-1688-4007-B52E-EE55EB55B090__CIHGDIJE">Figure 14-1</a>, this is illustrated with an update in <code class="codeph">Z4</code> of <code class="codeph">P2</code>, and the corresponding <code class="codeph">Z4</code> is marked as stale. Note that the zone map is still usable, however. Table data corresponding to <code class="codeph">Z4</code> will always be read (no pruning is performed on <code class="codeph">Z4</code>) as long as the zone map is partially stale.
                     </p>
                     <div class="figure" id="GUID-67445DF7-1688-4007-B52E-EE55EB55B090__CIHGDIJE">
                        <p class="titleinfigure">Figure 14-1 Partially Stale Zone Map</p><img src="img/dwhsg139.gif" alt="Description of Figure 14-1 follows" title="Description of Figure 14-1 follows" longdesc="img_text/dwhsg139.html"><br><a href="img_text/dwhsg139.html">Description of "Figure 14-1 Partially Stale Zone Map"</a></div>
                     <!-- class="figure" -->
                     <p>If a dimension table is added to the fact table, then the status resembles that in <a href="using-zone-maps.html#GUID-67445DF7-1688-4007-B52E-EE55EB55B090__CIHFDAEG">Figure 14-2</a>.
                     </p>
                     <div class="figure" id="GUID-67445DF7-1688-4007-B52E-EE55EB55B090__CIHFDAEG">
                        <p class="titleinfigure">Figure 14-2 Zone Map with Dimension Table</p><img src="img/dwhsg150.png" alt="Description of Figure 14-2 follows" title="Description of Figure 14-2 follows" longdesc="img_text/dwhsg150.html"><br><a href="img_text/dwhsg150.html">Description of "Figure 14-2 Zone Map with Dimension Table"</a></div>
                     <!-- class="figure" -->
                     <p>If any DML is made to the dimension table, the zone map becomes fully stale, as is illustrated in <a href="using-zone-maps.html#GUID-67445DF7-1688-4007-B52E-EE55EB55B090__CIHBGBJE">Figure 14-3</a>. Because the zone map becomes fully state, it is not available for pruning until it is completely refreshed. Use the <code class="codeph">REBUILD</code> option of <code class="codeph">ALTER MATERIALIZED ZONEMAP</code> statement to refresh the zone map.
                     </p>
                     <div class="figure" id="GUID-67445DF7-1688-4007-B52E-EE55EB55B090__CIHBGBJE">
                        <p class="titleinfigure">Figure 14-3 Zone Map with Dimension Table and Staleness</p><img src="img/dwhsg151.gif" alt="Description of Figure 14-3 follows" title="Description of Figure 14-3 follows" longdesc="img_text/dwhsg151.html"><br><a href="img_text/dwhsg151.html">Description of "Figure 14-3 Zone Map with Dimension Table and Staleness"</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="DWHSG9390"></a><div class="props_rev_3"><a id="GUID-4B36B2E5-03A1-4004-9E8A-E95E94E91356" name="GUID-4B36B2E5-03A1-4004-9E8A-E95E94E91356"></a><h4 id="DWHSG-GUID-4B36B2E5-03A1-4004-9E8A-E95E94E91356" class="sect4"><span class="enumeration_section">14.3.2 </span>About Refreshing Zone Maps
                  </h4>
                  <div>
                     <p>Oracle Database needs to maintain zone maps by refreshing them after changes to their underlying tables. The refresh method used for zone maps can be a complete refresh or an incremental refresh. A complete refresh, specified using the <code class="codeph">REFRESH COMPLETE</code> clause, involves rebuilding all the zones in the zone map. A complete refresh is slow when large amounts of data need to be processed. An incremental refresh, specified using the <code class="codeph">REFRESH FAST</code> clause, processes only the changes that have occurred since the last refresh. This method enables you to refresh the zone map without rebuilding them from scratch. Although zone maps are internally implemented using materialized view, materialized view logs on base tables are not required to perform a fast refresh of a zone map
                     </p>
                     <p>The refresh mode specifies the operations that trigger zone map refresh. Use one of the following refresh modes:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ON COMMIT</code></p>
                           <p>Zone maps are refreshed when changes to the base tables are committed.</p>
                        </li>
                        <li>
                           <p><code class="codeph">ON DEMAND</code></p>
                           <p>Zone maps must be refreshed manually after DML or partition maintenance operations.</p>
                        </li>
                        <li>
                           <p><code class="codeph">ON DATA MOVEMENT</code></p>
                           <p>Zone maps are refreshed when data movement operations are performed on the base tables.</p>
                        </li>
                        <li>
                           <p><code class="codeph">ON LOAD</code></p>
                           <p>Zone maps are refreshed when direct-path insert operations are performed on the base tables.</p>
                        </li>
                        <li>
                           <p><code class="codeph">ON LOAD DATA MOVEMENT</code></p>
                           <p>Zone maps are refreshed when direct-path insert or certain data movement operations are performed on the base tables. This is the default.</p>
                        </li>
                     </ul>
                     <p>By default, zone maps are refreshed on load and on data movement. To override this default, specify one of the following refresh modes when creating or modifying the zone map: <code class="codeph">ON COMMIT</code>, <code class="codeph">ON LOAD</code>, <code class="codeph">ON DATA MOVEMENT</code>, or <code class="codeph">ON LOAD</code>.
                     </p>
                  </div>
               </div><a id="DWHSG8943"></a><div class="props_rev_3"><a id="GUID-3800B313-23CB-45C5-AD09-1ACA78EFD449" name="GUID-3800B313-23CB-45C5-AD09-1ACA78EFD449"></a><h4 id="DWHSG-GUID-3800B313-23CB-45C5-AD09-1ACA78EFD449" class="sect4"><span class="enumeration_section">14.3.3 </span>Refreshing Zone Maps
                  </h4>
                  <div>
                     <div class="section">
                        <p>When you create a zone map without specifying the <code class="codeph">REFRESH</code> option, Oracle Database by default performs zone map maintenance after direct load and certain data movement operations. The exception is the DML operations such as delete, insert, and update. For these operations, Oracle Database will appropriately mark the zone map or some zones in the zone map as stale. To manually control the refresh maintenance of zone maps, you must specify the <code class="codeph">REFRESH ON DEMAND</code> option.
                        </p>
                        <p>The following command creates a zone map whose refresh maintenance is disabled which means that you must manually refresh the zone map after changes are made to the underlying tables.</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED ZONEMAP sales_zmap 
      ON sales (time_id, cust_id)
      REFRESH ON DEMAND;
</pre><p>Oracle Database provides the following two methods of refreshing zone maps:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="using-zone-maps.html#GUID-3EB3014A-0713-4EA5-95FF-FA070172E33D">Refreshing Zone Maps Using the ALTER MATERIALIZED ZONEMAP Command</a></p>
                           </li>
                           <li>
                              <p><a href="using-zone-maps.html#GUID-36F8CA88-FD6B-4911-9B84-E51B2A742219">Refreshing Zone Maps Using the DBMS_MVIEW Package</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DWHSG9391"></a><div class="props_rev_3"><a id="GUID-3EB3014A-0713-4EA5-95FF-FA070172E33D" name="GUID-3EB3014A-0713-4EA5-95FF-FA070172E33D"></a><h5 id="DWHSG-GUID-3EB3014A-0713-4EA5-95FF-FA070172E33D" class="sect5"><span class="enumeration_section">14.3.3.1 </span>Refreshing Zone Maps Using the ALTER MATERIALIZED ZONEMAP Command
                     </h5>
                     <div>
                        <div class="section">
                           <p>Use the <code class="codeph">REBUILD</code> option of <code class="codeph">ALTER MATERIALIZED ZONEMAP</code> command to refresh zone maps.
                           </p>
                           <p>The following command performs a complete refresh of the zone map:</p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED ZONEMAP sales_zmap REBUILD COMPLETE;
</pre><p>The following command performs a complete refresh if the zone map is fully stale or marked as unusable. Otherwise, an incremental (fast) refresh is performed.</p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED ZONEMAP sales_zmap REBUILD;
</pre><div class="infoboxnotealso" id="GUID-3EB3014A-0713-4EA5-95FF-FA070172E33D__GUID-8ADECBDA-95A8-4F57-B0C0-4EFD2C7277B7">
                              <p class="notep1">See Also:</p>
                              <p><a href="../sqlrf/ALTER-MATERIALIZED-ZONEMAP.html#SQLRF56854" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for the syntax to refresh a zone map
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DWHSG9392"></a><div class="props_rev_3"><a id="GUID-36F8CA88-FD6B-4911-9B84-E51B2A742219" name="GUID-36F8CA88-FD6B-4911-9B84-E51B2A742219"></a><h5 id="DWHSG-GUID-36F8CA88-FD6B-4911-9B84-E51B2A742219" class="sect5"><span class="enumeration_section">14.3.3.2 </span>Refreshing Zone Maps Using the DBMS_MVIEW Package
                     </h5>
                     <div>
                        <div class="section">
                           <p>You can use the <code class="codeph">REFRESH</code> procedure of <code class="codeph">DBMS_MVIEW</code> package to refresh zone maps.
                           </p>
                           <p>When <code class="codeph">DBMS_MVIEW.REFRESH</code> procedure is used, Oracle Database will refresh the zone map according to the value specified for its <code class="codeph">refresh_method</code> parameter as follows:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>C: Performs a complete refresh.</p>
                              </li>
                              <li>
                                 <p>F - Performs a fast refresh. If a fast refresh is not possible, then an error is issued.</p>
                              </li>
                              <li>
                                 <p>? - Performs a fast refresh if possible. else a complete refresh is performed.</p>
                                 <p>This is the default used if no value is specified.</p>
                              </li>
                           </ul>
                           <p>An example of using the <code class="codeph">REFRESH</code> procedure is the following:
                           </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_MVIEW.REFRESH('sales_zmap','C');
</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="DWHSG9164"></a><div class="props_rev_3"><a id="GUID-1E6AF386-E601-4382-B84D-B811DA142E0F" name="GUID-1E6AF386-E601-4382-B84D-B811DA142E0F"></a><h3 id="DWHSG-GUID-1E6AF386-E601-4382-B84D-B811DA142E0F" class="sect3"><span class="enumeration_section">14.4 </span>Performing Pruning Using Zone Maps
               </h3>
               <div>
                  <div class="section">
                     <p>The primary benefit of zone maps is I/O reduction for table scans. Pruning leverages information about the natural locality of records to avoid unnecessary I/O. When a SQL statement contains predicates on columns tracked in the zone map, the database compares the predicate values to the minimum and maximum for each zone to determine which zones of blocks to read or skip during the table scan.</p>
                     <p>Candidates for zone map pruning include the following predicates:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Relational predicates =, &lt;=, &lt;, &gt;, &gt;=</p>
                        </li>
                        <li>
                           <p>(of the form <code class="codeph">column_name</code> <code class="codeph">relational_predicate</code> <code class="codeph">constant</code>, for example, <code class="codeph">WHERE country_name='US'</code> or <code class="codeph">WHERE country_name=:name</code>)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">IN</code> lists (for example, <code class="codeph">WHERE product_name IN ('a','b')</code>)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LIKE</code> predicates suffixed with <code class="codeph">%</code> (for example, <code class="codeph">company_name LIKE 'ORA%'</code>)
                           </p>
                        </li>
                     </ul>
                     <p>This section contains the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-zone-maps.html#GUID-C6BD71FC-BCD6-46D3-B0F0-AB1F26CC0E15">How Oracle Database Performs Pruning Using Zone Maps</a></p>
                        </li>
                        <li>
                           <p><a href="using-zone-maps.html#GUID-E91FA258-4538-4B14-ADAA-156B65A03F09">Examples: Performing Pruning with Zone Maps and Attribute Clustering</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="DWHSG9393"></a><div class="props_rev_3"><a id="GUID-C6BD71FC-BCD6-46D3-B0F0-AB1F26CC0E15" name="GUID-C6BD71FC-BCD6-46D3-B0F0-AB1F26CC0E15"></a><h4 id="DWHSG-GUID-C6BD71FC-BCD6-46D3-B0F0-AB1F26CC0E15" class="sect4"><span class="enumeration_section">14.4.1 </span>How Oracle Database Performs Pruning Using Zone Maps
                  </h4>
                  <div>
                     <p>This section uses the following examples to illustrate how pruning is performed with zone maps and attribute clustering:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-zone-maps.html#GUID-2814D6ED-6C38-4275-8BC5-09BB75A7DA84">Pruning Tables Using Zone Maps</a></p>
                        </li>
                        <li>
                           <p><a href="using-zone-maps.html#GUID-C9F4766E-ED0E-4CEB-8C97-96326B29C536">Pruning Partitioned Tables Using Zone Maps and Attribute Clustering</a></p>
                        </li>
                     </ul>
                  </div><a id="DWHSG9395"></a><a id="DWHSG9396"></a><a id="DWHSG9394"></a><div class="props_rev_3"><a id="GUID-2814D6ED-6C38-4275-8BC5-09BB75A7DA84" name="GUID-2814D6ED-6C38-4275-8BC5-09BB75A7DA84"></a><h5 id="DWHSG-GUID-2814D6ED-6C38-4275-8BC5-09BB75A7DA84" class="sect5"><span class="enumeration_section">14.4.1.1 </span>Pruning Tables Using Zone Maps
                     </h5>
                     <div>
                        <p>This example illustrates creating a zone map that can prune data in a query whose predicate contains a constant. The <code class="codeph">lineitem</code> table, illustrated in <a href="using-zone-maps.html#GUID-2814D6ED-6C38-4275-8BC5-09BB75A7DA84__CIHBGDBJ" title="This table shows the data blocks and column values for data in the lineitem table.">Table 14-1</a>, is created using the following statement:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE lineitem 
  ( orderkey      NUMBER 
  , shipdate      DATE
  , receiptdate   DATE
  , destination   VARCHAR2(50)
  , quantity      NUMBER);
</pre><p>Assume that this table contains four data blocks with two rows per block. <a href="using-zone-maps.html#GUID-2814D6ED-6C38-4275-8BC5-09BB75A7DA84__CIHBGDBJ" title="This table shows the data blocks and column values for data in the lineitem table.">Table 14-1</a> shows the eight rows of the table.
                        </p>
                        <div class="tblformal" id="GUID-2814D6ED-6C38-4275-8BC5-09BB75A7DA84__CIHBGDBJ">
                           <p class="titleintable">Table 14-1 Data Blocks for lineitem Table</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Data Blocks for lineitem Table" summary="This table shows the data blocks and column values for data in the lineitem table." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="11%" id="d56099e2431">Block</th>
                                    <th align="left" valign="bottom" width="14%" id="d56099e2434">orderkey</th>
                                    <th align="left" valign="bottom" width="17%" id="d56099e2437">shipdate</th>
                                    <th align="left" valign="bottom" width="18%" id="d56099e2440">receiptdate</th>
                                    <th align="left" valign="bottom" width="21%" id="d56099e2443">destination</th>
                                    <th align="left" valign="bottom" width="19%" id="d56099e2446">quantity</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d56099e2451" headers="d56099e2431 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d56099e2451 d56099e2434 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d56099e2451 d56099e2437 ">
                                       <p>1-1-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d56099e2451 d56099e2440 ">
                                       <p>1-10-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d56099e2451 d56099e2443 ">
                                       <p>San_Fran</p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d56099e2451 d56099e2446 ">
                                       <p>100</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d56099e2470" headers="d56099e2431 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d56099e2470 d56099e2434 ">
                                       <p>2</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d56099e2470 d56099e2437 ">
                                       <p>1-2-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d56099e2470 d56099e2440 ">
                                       <p>1-10-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d56099e2470 d56099e2443 ">
                                       <p>San_Fran</p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d56099e2470 d56099e2446 ">
                                       <p>200</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d56099e2489" headers="d56099e2431 ">
                                       <p>2</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d56099e2489 d56099e2434 ">
                                       <p>3</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d56099e2489 d56099e2437 ">
                                       <p>1-3-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d56099e2489 d56099e2440 ">
                                       <p>1-5-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d56099e2489 d56099e2443 ">
                                       <p>San_Fran</p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d56099e2489 d56099e2446 ">
                                       <p>100</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d56099e2508" headers="d56099e2431 ">
                                       <p>2</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d56099e2508 d56099e2434 ">
                                       <p>4</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d56099e2508 d56099e2437 ">
                                       <p>1-5-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d56099e2508 d56099e2440 ">
                                       <p>1-10-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d56099e2508 d56099e2443 ">
                                       <p>San_Diego</p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d56099e2508 d56099e2446 ">
                                       <p>100</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d56099e2527" headers="d56099e2431 ">
                                       <p>3</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d56099e2527 d56099e2434 ">
                                       <p>5</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d56099e2527 d56099e2437 ">
                                       <p>1-10-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d56099e2527 d56099e2440 ">
                                       <p>1-15-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d56099e2527 d56099e2443 ">
                                       <p>San_Fran</p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d56099e2527 d56099e2446 ">
                                       <p>100</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d56099e2546" headers="d56099e2431 ">
                                       <p>3</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d56099e2546 d56099e2434 ">
                                       <p>6</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d56099e2546 d56099e2437 ">
                                       <p>1-12-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d56099e2546 d56099e2440 ">
                                       <p>1-16-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d56099e2546 d56099e2443 ">
                                       <p>San_Fran</p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d56099e2546 d56099e2446 ">
                                       <p>200</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d56099e2565" headers="d56099e2431 ">
                                       <p>4</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d56099e2565 d56099e2434 ">
                                       <p>7</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d56099e2565 d56099e2437 ">
                                       <p>1-13-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d56099e2565 d56099e2440 ">
                                       <p>1-20-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d56099e2565 d56099e2443 ">
                                       <p>San_Fran</p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d56099e2565 d56099e2446 ">
                                       <p>100</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d56099e2584" headers="d56099e2431 ">
                                       <p>4</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d56099e2584 d56099e2434 ">
                                       <p>8</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d56099e2584 d56099e2437 ">
                                       <p>1-15-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d56099e2584 d56099e2440 ">
                                       <p>1-30-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d56099e2584 d56099e2443 ">
                                       <p>San_Jose</p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d56099e2584 d56099e2446 ">
                                       <p>100</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Next, you use the <code class="codeph">CREATE</code> <code class="codeph">MATERIALED</code> <code class="codeph">ZONEMAP</code> statement to create a zone map on the <code class="codeph">lineitem</code> table. 
                        </p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED ZONEMAP lineitem_zmap 
     ON lineitem (orderkey, shipdate, receiptdate);
</pre><p>Each zone contains two blocks and stores the minimum and maximum of the <code class="codeph">orderkey</code>, <code class="codeph">shipdate</code>, and <code class="codeph">receiptdate</code> columns. <a href="using-zone-maps.html#GUID-2814D6ED-6C38-4275-8BC5-09BB75A7DA84__CIHEJACJ" title="This table shows the data block range and column values for the data in the lineitem table.">Table 14-2</a> represents the zone map.
                        </p>
                        <div class="tblformal" id="GUID-2814D6ED-6C38-4275-8BC5-09BB75A7DA84__CIHEJACJ">
                           <p class="titleintable">Table 14-2 Zone Map for lineitem Table</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Zone Map for lineitem Table" summary="This table shows the data block range and column values for the data in the lineitem table." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="12%" id="d56099e2649">Block Range</th>
                                    <th align="left" valign="bottom" width="14%" id="d56099e2652">min orderkey</th>
                                    <th align="left" valign="bottom" width="14%" id="d56099e2655">max orderkey</th>
                                    <th align="left" valign="bottom" width="14%" id="d56099e2658">min shipdate</th>
                                    <th align="left" valign="bottom" width="14%" id="d56099e2661">max shipdate</th>
                                    <th align="left" valign="bottom" width="15%" id="d56099e2664">min receiptdate</th>
                                    <th align="left" valign="bottom" width="17%" id="d56099e2667">max receiptdate</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d56099e2672" headers="d56099e2649 ">
                                       <p>1-2</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d56099e2672 d56099e2652 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d56099e2672 d56099e2655 ">
                                       <p>4</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d56099e2672 d56099e2658 ">
                                       <p>1-1-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d56099e2672 d56099e2661 ">
                                       <p>1-5-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d56099e2672 d56099e2664 ">
                                       <p>1-9-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d56099e2672 d56099e2667 ">
                                       <p>1-10-2011</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d56099e2694" headers="d56099e2649 ">
                                       <p>3-4</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d56099e2694 d56099e2652 ">
                                       <p>5</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d56099e2694 d56099e2655 ">
                                       <p>8</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d56099e2694 d56099e2658 ">
                                       <p>1-10-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d56099e2694 d56099e2661 ">
                                       <p>1-15-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d56099e2694 d56099e2664 ">
                                       <p>1-15-2011</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d56099e2694 d56099e2667 ">
                                       <p>1-30-2011</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>When you execute the following query, the database can read the zone map and then scan only blocks 1 and 2 because the date 1-3-2011 falls between the minimum and maximum dates:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM lineitem WHERE shipdate = '1-3-2011';
</pre></div>
                  </div><a id="DWHSG9398"></a><a id="DWHSG9397"></a><div class="props_rev_3"><a id="GUID-C9F4766E-ED0E-4CEB-8C97-96326B29C536" name="GUID-C9F4766E-ED0E-4CEB-8C97-96326B29C536"></a><h5 id="DWHSG-GUID-C9F4766E-ED0E-4CEB-8C97-96326B29C536" class="sect5"><span class="enumeration_section">14.4.1.2 </span>Pruning Partitioned Tables Using Zone Maps and Attribute Clustering
                     </h5>
                     <div>
                        <p>This following statement creates a zone map, with attribute clustering, on a partitioned table:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE sales
(
   prod_id        NUMBER NOT NULL,
   cust_id        NUMBER NOT NULL,
   time_id        DATE NOT NULL,
   channel_id     NUMBER NOT NULL,
   promo_id       NUMBER NOT NULL,
   quantity_sold  NUMBER(10,2) NOT NULL,
   amount_sold    NUMBER(10,2)
)
<span>CLUSTERING </span><span>sales JOIN products ON (sales.prod_id = products.prod_id)</span>
   <span>BY LINEAR ORDER</span> <span>(products.prod_id)</span>
   <span>WITH MATERIALIZED ZONEMAP</span> (sales_zmap)
PARTITION BY HASH (amount_sold)
     ( PARTITION p1, PARTITION p2);
</pre><p><a href="using-zone-maps.html#GUID-C9F4766E-ED0E-4CEB-8C97-96326B29C536__CIHDGJGJ">Figure 14-4</a> illustrates creating zone maps for the partitioned table <code class="codeph">sales</code>. For each of the five zones, the zone map will store the minimum and maximum of the columns tracked in the zone map. If a predicate is outside the minimum and maximum for a stored column of a given zone, then this zone does not have to be read. As an example, if zone <code class="codeph">Z4</code> tracks a minimum of 10 and a maximum of 100 for a column <code class="codeph">prod_id</code>, then a predicate <code class="codeph">prod_id</code> <code class="codeph">=</code> <code class="codeph">200</code> will never have any matching records in this zone, so zone <code class="codeph">Z4</code> will not be read.
                        </p>
                        <p>For partitioned tables, pruning can happen both on a partition as well as zone level. If the aggregated partition-level information in the zone maps rules out any matching data for a given set of predicates, then the whole partition will be pruned; otherwise, pruning for the partition will happen on a per zone level.</p>
                        <div class="figure" id="GUID-C9F4766E-ED0E-4CEB-8C97-96326B29C536__CIHDGJGJ">
                           <p class="titleinfigure">Figure 14-4 Zone Map for a Partitioned Fact Table</p><img src="img/dwhsg137.png" alt="Description of Figure 14-4 follows" title="Description of Figure 14-4 follows" longdesc="img_text/dwhsg137.html"><br><a href="img_text/dwhsg137.html">Description of "Figure 14-4 Zone Map for a Partitioned Fact Table"</a></div>
                        <!-- class="figure" -->
                     </div>
                  </div>
               </div><a id="DWHSG9399"></a><a id="DWHSG8949"></a><div class="props_rev_3"><a id="GUID-E91FA258-4538-4B14-ADAA-156B65A03F09" name="GUID-E91FA258-4538-4B14-ADAA-156B65A03F09"></a><h4 id="DWHSG-GUID-E91FA258-4538-4B14-ADAA-156B65A03F09" class="sect4"><span class="enumeration_section">14.4.2 </span>Examples: Performing Pruning with Zone Maps and Attribute Clustering
                  </h4>
                  <div>
                     <p>This section provides examples on performing pruning using zone maps and attribute clustering. The examples are based on the <code class="codeph">my_sales</code> table that is created as shown in <a href="using-zone-maps.html#GUID-E91FA258-4538-4B14-ADAA-156B65A03F09__CIHEHFIE">Example 14-16</a>.
                     </p>
                     <div class="example" id="GUID-E91FA258-4538-4B14-ADAA-156B65A03F09__CIHEHFIE">
                        <p class="titleinexample">Example 14-16 Creating the my_sales Table</p>
                        <p>The <code class="codeph">my_sales</code> table is a join attribute clustered table that contains a zone map. It is based on the <code class="codeph">sales</code> tables in the <code class="codeph">SH</code> schema and is created using the following statement:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE my_sales
PARTITION BY LIST (channel_id)
 (PARTITION mysales_chan_c VALUES ('C'),
  PARTITION mysales_chan_i VALUES ('I'),
  PARTITION mysales_chan_p VALUES ('P'),
  PARTITION mysales_chan_s VALUES ('S'),
  PARTITION mysales_chan_t VALUES ('T'))
CLUSTERING
  my_sales JOIN customers ON (my_sales.cust_id = customers.cust_id)
  BY INTERLEAVED ORDER ((my_sales.time_id),
                        (customers.country_id, 
                         customers.cust_state_province, 
                         customers.cust_city))
  WITH MATERIALIZED ZONEMAP (mysales_zmap)
AS SELECT * FROM sales;
</pre></div>
                     <!-- class="example" -->
                     <p>This section contains the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-zone-maps.html#GUID-82200641-EF9A-41FD-A2DE-536B49A4F6C7">Example: Partitions and Table Scan Pruning</a></p>
                        </li>
                        <li>
                           <p><a href="using-zone-maps.html#GUID-5754CBC5-CCA4-4A1D-9721-1AC2AC6E2A85">Example: Zone Map Join Pruning</a></p>
                        </li>
                     </ul>
                  </div><a id="DWHSG9400"></a><div class="props_rev_3"><a id="GUID-82200641-EF9A-41FD-A2DE-536B49A4F6C7" name="GUID-82200641-EF9A-41FD-A2DE-536B49A4F6C7"></a><h5 id="DWHSG-GUID-82200641-EF9A-41FD-A2DE-536B49A4F6C7" class="sect5"><span class="enumeration_section">14.4.2.1 </span>Example: Partitions and Table Scan Pruning
                     </h5>
                     <div>
                        <div class="section">
                           <p>This example illustrates how zone maps can prune zones and partitions (or sub-partitions in a composite-partitioned table).</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Create the <code class="codeph">my_sales</code> table. <a href="using-zone-maps.html#GUID-E91FA258-4538-4B14-ADAA-156B65A03F09__CIHEHFIE">Example 14-16</a> contains the syntax used to create this table.</span></li>
                           <li class="stepexpand"><span>Use the following statement to query the <code class="codeph">my_sales</code> table joined with the <code class="codeph">customers</code> dimension:</span><div><pre class="oac_no_warn" dir="ltr">SELECT c.cust_city, SUM(quantity_sold)
   FROM   my_sales s, customers c
   WHERE  s.cust_id = c.cust_id 
      AND    c.country_id = 'US' 
      AND    c.cust_state_province = 'CA' 
      AND    s.promo_id &lt; 50
   GROUP BY c.cust_city;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Display the plan using the following statement:</span><div><pre class="oac_no_warn" dir="ltr">SELECT * 
FROM TABLE(dbms_xplan.display_cursor(FORMAT =&gt; 'BASIC PREDICATE PARTITION'));
</pre><pre class="oac_no_warn" dir="ltr">-------------------------------------------------------------------------
| Id  | Operation                           | Name      | Pstart| Pstop |
-------------------------------------------------------------------------
|   0 | SELECT STATEMENT                    |           |       |       |
|   1 |  HASH GROUP BY                      |           |       |       |
|*  2 |   HASH JOIN                         |           |       |       |
|   3 |    JOIN FILTER CREATE               | :BF0000   |       |       |
|*  4 |     TABLE ACCESS FULL               | CUSTOMERS |       |       |
|   5 |    JOIN FILTER USE                  | :BF0000   |       |       |
|   6 |     PARTITION LIST ITERATOR         |           |KEY(ZM)|KEY(ZM)|
|*  7 |      TABLE ACCESS FULL WITH ZONEMAP | MY_SALES  |KEY(ZM)|KEY(ZM)|
-------------------------------------------------------------------------

Predicate Information (identified by operation id):

PLAN_TABLE_OUTPUT
-------------------------------------------------------------------------
   2 - access("S"."CUST_ID"="C"."CUST_ID")
   4 - filter(("C"."CUST_STATE_PROVINCE"='CA' AND
      "C"."COUNTRY_ID"='US'))
   7 - filter((SYS_ZMAP_FILTER('/* ZM_PRUNING */ SELECT "ZONE_ID$",
      CASE WHEN BITAND(zm."ZONE_STATE$",1)=1 THEN 1 ELSE CASE WHEN
      (zm."MIN_2_COUNTRY_ID" &gt; :1 OR zm."MAX_2_COUNTRY_ID" &lt; :2 OR
      zm."MIN_3_CUST_STATE_PROVINCE" &gt; :3 OR zm."MAX_3_CUST_STATE_PROVINCE" &lt;
      :4) THEN 3 ELSE 2 END END FROM "SH"."MYSALES_ZMAP" zm WHERE
      zm."ZONE_LEVEL$"=0 ORDER BY zm."ZONE_ID$"',SYS_OP_ZONE_ID(ROWID),'US','U
      S','CA','CA')&lt;3 AND "S"."PROMO_ID"&lt;50 AND
      SYS_OP_BLOOM_FILTER(:BF0000,"S"."CUST_ID")))
</pre><p>Line 7 illustrates that a zone map is being used. Note the zone map partition list iterator “KEY(ZM)".</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div><a id="DWHSG9401"></a><div class="props_rev_3"><a id="GUID-5754CBC5-CCA4-4A1D-9721-1AC2AC6E2A85" name="GUID-5754CBC5-CCA4-4A1D-9721-1AC2AC6E2A85"></a><h5 id="DWHSG-GUID-5754CBC5-CCA4-4A1D-9721-1AC2AC6E2A85" class="sect5"><span class="enumeration_section">14.4.2.2 </span>Example: Zone Map Join Pruning
                     </h5>
                     <div>
                        <div class="section">
                           <p>This example illustrates join pruning using zone maps and attribute clustering. If the primary key of a dimension comprises of dimension hierarchy values, it is sufficient to cluster the fact table by the corresponding foreign key. In this example, <code class="codeph">times.time_id</code> comprises of (<code class="codeph">calendar_year</code>, <code class="codeph">calendar_month_number</code>, <code class="codeph">day_number_in_month</code>). Thus, <code class="codeph">time_id</code> translates to the calendar time hierarchy as well as the fiscal time hierarchy. You can prune the join between <code class="codeph">times</code> and <code class="codeph">my_sales</code> when there are predicates for either the fiscal or calendar hierarchies.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Create the <code class="codeph">my_sales</code> table. <a href="using-zone-maps.html#GUID-E91FA258-4538-4B14-ADAA-156B65A03F09__CIHEHFIE">Example 14-16</a> contains the syntax used to create this table.</span></li>
                           <li class="stepexpand"><span>Query the <code class="codeph">my_sales</code> table joined with <code class="codeph">times</code> using the following statement:</span><div><pre class="oac_no_warn" dir="ltr">SELECT SUM(quantity_sold) 
FROM   my_sales s, times tWHERE  s.time_id = t.time_id AND t.calendar_year = '1999';
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Display the plan using the following statement:</span><div><pre class="oac_no_warn" dir="ltr">SELECT * 
FROM TABLE(dbms_xplan.display_cursor(FORMAT =&gt; 'BASIC PREDICATE PARTITION'));
</pre><pre class="oac_no_warn" dir="ltr">---------------------------------------------------------------------------
| Id  | Operation                               | Name    | Pstart| Pstop |
---------------------------------------------------------------------------
|   0 | SELECT STATEMENT                        |         |       |       |
|   1 |  SORT AGGREGATE                         |         |       |       |
|*  2 |   HASH JOIN                             |         |       |       |
|   3 |    JOIN FILTER CREATE                   | :BF0000 |       |       |
|*  4 |     TABLE ACCESS FULL                   | TIMES   |       |       |
|   5 |    JOIN FILTER USE                      | :BF0000 |       |       |
|   6 |     PARTITION LIST ALL                  |         |     1 |     5 |
|*  7 |      TABLE ACCESS FULL WITH ZONEMAP     | MY_SALES|     1 |     5 |
---------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

PLAN_TABLE_OUTPUT
----------------------------------------------------
   2 - access("S"."TIME_ID"="T"."TIME_ID")
   4 - filter("T"."CALENDAR_YEAR"=1999)
   7 - filter((SYS_ZMAP_FILTER('/* ZM_PRUNING */ SELECT "ZONE_ID$",
      CASE WHEN BITAND(zm."ZONE_STATE$",1)=1 THEN 1 ELSE CASE WHEN
      ((ORA_RAWCOMPARE(zm."MIN_1_TIME_ID",:1,8)&gt;0 OR
      ORA_RAWCOMPARE(zm."MAX_1_TIME_ID",:2,8)&lt;0)) THEN 3 ELSE 2 END END FROM
      "SH"."MYSALES_ZMAP" zm WHERE zm."ZONE_LEVEL$"=0 ORDER BY
      zm."ZONE_ID$"',SYS_OP_ZONE_ID(ROWID),SYSVARCOL,SYSVARCOL)&lt;3 AND
      SYS_OP_BLOOM_FILTER(:BF0000,"S"."TIME_ID")))
</pre><p>Line 7 illustrates that a zone map is being used, joining on matching <code class="codeph">time_id</code> zones.
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div>
               </div>
            </div><a id="DWHSG9402"></a><div class="props_rev_3"><a id="GUID-DA1762AC-4F66-4DDA-A28A-8A754FB6E75E" name="GUID-DA1762AC-4F66-4DDA-A28A-8A754FB6E75E"></a><h3 id="DWHSG-GUID-DA1762AC-4F66-4DDA-A28A-8A754FB6E75E" class="sect3"><span class="enumeration_section">14.5 </span>Viewing Zone Map Information
               </h3>
               <div>
                  <p>Information <a id="d56099e3026" class="indexterm-anchor"></a>about zone maps and their measures is stored in data dictionary views.
                  </p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-zone-maps.html#GUID-945125B2-FD0C-438E-90D8-1335B9190860">Viewing Details of Zone Maps in the Database</a></p>
                     </li>
                     <li>
                        <p><a href="using-zone-maps.html#GUID-A68118DA-01A5-41F6-87EF-3EB6C1742D26">Viewing the Measures of a Zone Map</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG9403"></a><div class="props_rev_3"><a id="GUID-945125B2-FD0C-438E-90D8-1335B9190860" name="GUID-945125B2-FD0C-438E-90D8-1335B9190860"></a><h4 id="DWHSG-GUID-945125B2-FD0C-438E-90D8-1335B9190860" class="sect4"><span class="enumeration_section">14.5.1 </span>Viewing Details of Zone Maps in the Database
                  </h4>
                  <div>
                     <div class="section">
                        <p>Use one of the following data dictionary views to display information about the zone maps in the database:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">DBA_ZONEMAPS</code> to display all zone maps in the database
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALL_ZONEMAPS</code> to display zone maps that are accessible to the user
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">USER_ZONEMAPS</code> to display zone maps that are owned by the user
                              </p>
                           </li>
                        </ul>
                        <p>The following query displays the name, base table, type, refresh mode, and staleness of the zone maps owned by the current user and indicates if zone maps were created with attribute clustering:</p><pre class="oac_no_warn" dir="ltr">SELECT zonemap_name,fact_table,hierarchical,with_clustering,refresh_mode,stale 
       FROM USER_ZONEMAPS;

ZONEMAP_NAME    FACT_TABLE  HIERARCHICAL  WITH_CLUSTERING REFRESH_MODE      STALE
------------    ----------  ------------  --------------- ------------      -----
ZMAP$_MY_SALES  MY_SALES      NO          YES             LOAD DATAMOVEMENT   NO
</pre><p>The following query displays the status of all zone maps that are accessible to the user. Zone maps with <code class="codeph">PRUNING</code> disabled are not used for I/O pruning. Zone maps marked invalid need to be recompiled because the structure of the underlying base tables has changed.
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT zonemap_name,pruning,refresh_method,invalid,complie_state
    FROM all_zonemaps;

ZONEMAP_NAME     PRUNING    REFRESH_METHOD INVALID  UNUSABLE   COMPILE_STATE
------------    ---------   -------------- -------  ------     -------------
SALES_ZMAP       ENABLED    FORCE           NO      NO         VALID
ZMAP$_MY_SALES   DISABLED   FORCE           NO      NO         VALID
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DWHSG9404"></a><div class="props_rev_3"><a id="GUID-A68118DA-01A5-41F6-87EF-3EB6C1742D26" name="GUID-A68118DA-01A5-41F6-87EF-3EB6C1742D26"></a><h4 id="DWHSG-GUID-A68118DA-01A5-41F6-87EF-3EB6C1742D26" class="sect4"><span class="enumeration_section">14.5.2 </span>Viewing the Measures of a Zone Map
                  </h4>
                  <div>
                     <div class="section">
                        <p>Use one of the following views to display information about the measures in a zone map:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">DBA_ZONEMAP_MEASURES</code> to display the measures for all zone maps in the database
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALL_ZONEMAP_MEASURES</code> to display the measures for zone maps that are accessible to the user
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">USER_ZONEMAP_MEASURES</code> to display he measures for zone maps that are owned by the user
                              </p>
                           </li>
                        </ul>
                        <p>The following query displays the zone map, measure, and column whose MIN/MAX values are maintained for each zone that are accessible to the current user:</p><pre class="oac_no_warn" dir="ltr">SELECT zonemap_name, measure, agg_function
FROM ALL_ZONEMAP_MEASURES;

ZONEMAP_NAME      MEASURE                         AGG_FUNCTION
---------------   --------------------------      -------------
ZMAP$_MY_SALES   "SH"."MY_SALES"."PROD_ID"        MAX
ZMAP$_MY_SALES   "SH"."MY_SALES"."PROD_ID"        MIN
ZMAP$_MY_SALES   "SH"."MY_SALES"."CUST_ID"        MAX
ZMAP$_MY_SALES   "SH"."MY_SALES"."CUST_ID"        MIN
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='12887.monitoring-real-time-database-performance.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Monitoring Real-Time Database Performance</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database 2 Day + Performance Tuning Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database 2 Day + Performance Tuning Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-2-day-performance-tuning-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T02:50:24-08:00">
      <meta name="dcterms.title" content="Database 2 Day + Performance Tuning Guide">
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96346-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="automatic-database-performance-monitoring.html" title="Previous" type="text/html">
      <link rel="next" href="monitoring-real-time-database-operations.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TDPPT">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="automatic-database-performance-monitoring.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="monitoring-real-time-database-operations.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database 2 Day + Performance Tuning Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-II-proactive-database-tuning.html" property="item" typeof="WebPage"><span property="name"> Proactive Database Tuning </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Monitoring Real-Time Database Performance </li>
            </ol>
            <a id="GUID-EB19F9B4-A912-4354-8D8D-F89EEFD56704" name="GUID-EB19F9B4-A912-4354-8D8D-F89EEFD56704"></a><a id="TDPPT033"></a>
            
            <h2 id="TDPPT-GUID-EB19F9B4-A912-4354-8D8D-F89EEFD56704" class="sect2"><span class="enumeration_chapter">4 </span> Monitoring Real-Time Database Performance 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d7824e79" class="indexterm-anchor"></a><a id="d7824e83" class="indexterm-anchor"></a><a id="d7824e87" class="indexterm-anchor"></a><a id="d7824e91" class="indexterm-anchor"></a>The Automatic Database Diagnostic Monitor (ADDM) automatically identifies performance problems with the database, as described in <a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="Starting with Oracle Database 12c, ADDM is enabled by default in the root container of a multitenant container database (CDB). Starting with Oracle Database 19c, you can also use ADDM in a pluggable database (PDB)."> Automatic Database Performance Monitoring</a>. Information on performance appears on the Performance page in Oracle Enterprise Manager Cloud Control (Cloud Control).
               </p>
               <p>By drilling down to other pages from the Performance page, you can identify database performance problems in real time. If you find a problem, then you can run ADDM manually to analyze it immediately without having to wait until the next ADDM analysis. To learn how to run ADDM manually, see <span class="q">"<a href="manual-database-performance-monitoring.html#GUID-1B3374FB-A4D0-477D-902B-F4FF4E7F93CE">Manually Running ADDM to Analyze Current Database Performance</a>"</span>.
               </p>
               <p>This chapter describes how to monitor some aspects of database activity. It contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">Monitoring User Activity</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-real-time-database-performance.html#GUID-F405EE4E-F0A9-42AB-AC3C-4FA6F29DE6AC">Monitoring Instance Activity</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-real-time-database-performance.html#GUID-3D9C9784-ECCA-434C-B247-3EBED3E88A97">Monitoring Host Activity</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-real-time-database-performance.html#GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1">Determining the Cause of Spikes in Database Activity</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-real-time-database-performance.html#GUID-81073595-A0B0-474C-937B-376B58D7C414">Customizing the Database Performance page</a></p>
                  </li>
               </ul>
            </div><a id="TDPPT513"></a><a id="TDPPT514"></a><a id="TDPPT034"></a><div class="props_rev_3"><a id="GUID-EE9118C7-708A-488F-A332-4ECFA6638A07" name="GUID-EE9118C7-708A-488F-A332-4ECFA6638A07"></a><h3 id="TDPPT-GUID-EE9118C7-708A-488F-A332-4ECFA6638A07" class="sect3"><span class="enumeration_section">4.1 </span>Monitoring User Activity
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d7824e223" class="indexterm-anchor"></a><a id="d7824e227" class="indexterm-anchor"></a><a id="d7824e231" class="indexterm-anchor"></a><a id="d7824e235" class="indexterm-anchor"></a>As described in <a href="oracle-database-performance-method.html#GUID-6203E485-FA06-4EE3-9003-4449FBDE214B"> Oracle Database Performance Method </a>, database time (DB time) is an indicator of the total database instance workload. The <span class="bold">average active sessions</span> for a time period equals the total database time of all user sessions during the period divided by the elapsed time (wall-clock time) for the period.
                     </p>
                     <p>The Average Active Sessions chart on the Performance page shows the average active sessions for CPU usage and wait classes in the time period. By following the performance method explained in <a href="oracle-database-performance-method.html#GUID-6203E485-FA06-4EE3-9003-4449FBDE214B"> Oracle Database Performance Method </a>, you can drill down from the chart to identify the causes of instance-related performance issues and resolve them.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__GUID-6F44D101-F0D1-4E12-B567-B8C3588D7778">To monitor user activity:</p>
                     <ol>
                        <li>
                           <p>Access the Database Home page.</p>
                           <p>See <span class="q">"<a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">Accessing the Database Home Page</a>"</span> for more information.
                           </p>
                        </li>
                        <li>
                           <p>From the <span class="bold">Performance</span> menu, select <span class="bold">Performance Home</span>.
                           </p>
                           <p>If the Database Login page appears, then log in as a user with administrator privileges. The Performance page appears.</p>
                        </li>
                        <li>
                           <p>Locate any spikes or other areas of interest in the Average Active Sessions stacked area chart.</p>
                           <p><a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__BJFHDAIG">Figure 4-1</a> shows an example of the Average Active Sessions chart on the Performance page.
                           </p>
                           <div class="figure" id="GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__BJFHDAIG">
                              <p class="titleinfigure">Figure 4-1 Average Active Sessions Chart</p><img src="img/average_active_sess.gif" alt="Description of Figure 4-1 follows" title="Description of Figure 4-1 follows" longdesc="img_text/average_active_sess.html"><br><a href="img_text/average_active_sess.html">Description of "Figure 4-1 Average Active Sessions Chart"</a></div>
                           <!-- class="figure" -->
                           <p><a id="d7824e290" class="indexterm-anchor"></a>Each color-filled area on the stacked area chart shows the average active sessions for the specified event at the specified time. In the chart, the average active sessions amount for each event is stacked upon the one below it. The events appear on the chart in the order shown in the legend, with CPU starting at zero on the y-axis and the other events stacked in ascending order, from CPU Wait to Other. The wait classes show how much database activity is consumed by waiting for a resource such as disk I/O. 
                           </p>
                           <p>For example, in <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__BJFHDAIG">Figure 4-1</a> at approximately 1:26 p.m., five events consume database time in the sampled time interval: CPU, CPU Wait, Scheduler, Concurrency, and Other. The combined average active sessions total is 2.1. The average active sessions value for CPU is about 1.52, for CPU Wait it is about .38, for Scheduler it is about .03, for Concurrency it is about .16, and for Other it is about .01. 
                           </p>
                           <p>The CPU Cores line at 2 on the y-axis indicates the number of CPUs on the host system. When the CPU value reaches the CPU Cores line, the database instance is consuming 100 percent of CPU time on the system.</p>
                           <p>In <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__BJFHDAIG">Figure 4-1</a>, the chart shows that most of the activity occurred from 1:20 to 1:28 and from about 1:53 to 2:20. Most of the activity between 1:20 and 1:28 was CPU usage, as was most of the activity after about 1:59. Wait class activity spiked a few times between 1:56 and 2:12, and consumed a significant amount of database time from about 1:52 to about 2:08.
                           </p>
                        </li>
                        <li>
                           <p>To identify each wait class, move your cursor over the area in the Average Active Sessions chart that corresponds to the class.</p>
                           <p>The corresponding wait class is highlighted in the chart legend.</p>
                        </li>
                        <li>
                           <p>Click the largest area of color on the chart or the corresponding wait class in the legend to drill down to the wait class with the most average active sessions.</p>
                           <p>If you click <span class="bold">CPU</span> or <span class="bold">CPU Wait</span>, then the Active Sessions Working: CPU + CPU Wait page appears. If you click a different wait class, such as <span class="bold">User I/O</span>, then an Active Sessions Waiting page for that wait class appears. <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__CBBEFIFH">Figure 4-2</a> shows the Active Sessions Working: CPU + CPU Wait page.
                           </p>
                           <div class="figure" id="GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__CBBEFIFH">
                              <p class="titleinfigure">Figure 4-2 Active Sessions Working Page</p><img src="img/act_sess_wrk.gif" alt="Description of Figure 4-2 follows" title="Description of Figure 4-2 follows" longdesc="img_text/act_sess_wrk.html"><br><a href="img_text/act_sess_wrk.html">Description of "Figure 4-2 Active Sessions Working Page"</a></div>
                           <!-- class="figure" -->
                           <p>The Active Sessions Working page shows a 1-hour timeline. Details for each wait class are shown in 5-minute intervals under Detail for Selected 5 Minute Interval.</p>
                           <p>You can view the details of wait classes in different dimensions by proceeding to one of the following sections:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-8C13045B-74F0-470E-997B-E14BF638D543">Monitoring Top SQL</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-F89D9B48-A4CA-4AC6-80FB-81EF8BB78DFC">Monitoring Top Sessions</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-AA0DE09F-0871-4585-B3A1-8654F94A752E">Monitoring Top Services</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-8EBB7BAE-9F77-45DB-8461-D68CE5B7CAFC">Monitoring Top Modules</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-7E673E50-373A-4AD5-856F-9049BDEFFA37">Monitoring Top Actions</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-7939C906-3ED3-4EDD-B80B-AEDBEF0F0083">Monitoring Top Clients</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-B3248F50-0997-4D36-9EDC-0BB6047EAA60">Monitoring Top PL/SQL</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-320DA3EA-B580-418C-A4DC-B7E06A9FD7AF">Monitoring Top Files</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-0228DCAF-1CE7-4948-A17F-042AFD5F2B81">Monitoring Top Objects</a>"</span></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>To change the selected time interval, drag the shaded area on the chart to a different interval.</p>
                           <p>The information contained in the Detail for Selected 5 Minute Interval section is automatically updated to display the selected time period.</p>
                           <p>In the example shown in <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__CBBEFIFH">Figure 4-2</a>, the 5 -minute interval from 9:59 to 10:04 is selected for the CPU and CPU wait class.
                           </p>
                        </li>
                        <li>
                           <p>If you discover a performance problem, then you can attempt to resolve it in real time. On the Performance page, do one of the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Below the Average Active Sessions chart, click the snapshot corresponding to the time when the performance problem occurred to run ADDM for this time period.</p>
                                 <p>For information about ADDM analysis, see <span class="q">"<a href="automatic-database-performance-monitoring.html#GUID-65D484C5-C39C-44DE-B2AA-B0BE39A9682F">Reviewing the Automatic Database Diagnostic Monitor Analysis</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Run ADDM Now</span> to create a snapshot manually.
                                 </p>
                                 <p>For information about creating snapshots manually, see <span class="q">"<a href="automatic-database-performance-monitoring.html#GUID-A92E1AE8-3CCC-4F37-88B3-FB6F6C45C510">Creating Snapshots</a>"</span>. For information about running ADDM manually, see <span class="q">"<a href="manual-database-performance-monitoring.html#GUID-1B3374FB-A4D0-477D-902B-F4FF4E7F93CE">Manually Running ADDM to Analyze Current Database Performance</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Run ASH Report</span> to create an Active Session History (ASH) report to analyze transient, short-lived performance problems. 
                                 </p>
                                 <p>For information about ASH reports, see <span class="q">"<a href="resolving-transient-performance-problems.html#GUID-7316A970-330C-4F1B-9F9A-7623EFE5B38C">Active Session History Reports</a>"</span>.
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div><a id="TDPPT035"></a><div class="props_rev_3"><a id="GUID-8C13045B-74F0-470E-997B-E14BF638D543" name="GUID-8C13045B-74F0-470E-997B-E14BF638D543"></a><h4 id="TDPPT-GUID-8C13045B-74F0-470E-997B-E14BF638D543" class="sect4"><span class="enumeration_section">4.1.1 </span>Monitoring Top SQL
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e526" class="indexterm-anchor"></a><a id="d7824e530" class="indexterm-anchor"></a>On the Active Sessions Working page, the Top Working SQL table shows the database activity for actively running SQL statements that are consuming CPU resources. The Activity (%) column shows the percentage of this activity consumed by each SQL statement. If one or several SQL statements are consuming most of the activity, then you should investigate them.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8C13045B-74F0-470E-997B-E14BF638D543__GUID-6F0D47E4-81EC-4BD3-86EB-12EC75CD7C8E">To monitor the top working SQL statements:</p>
                        <ol>
                           <li>
                              <p>Access the Performance page, as explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">Monitoring User Activity</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>In the Average Active Sessions chart, click the CPU or CPU Wait area on the chart or the corresponding wait class in the legend.</p>
                              <p>The Active Sessions Working page appears.</p>
                           </li>
                           <li>
                              <p>In the Top Working SQL table, click the <span class="bold">SQL ID</span> link of the most active SQL statement. For example, in <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__CBBEFIFH">Figure 4-2</a>, the SQL ID of the most active SQL statement is <code class="codeph">ddthrb7j9a63f</code>.
                              </p>
                              <p>The SQL Details page appears.</p>
                              <p>For SQL statements that are consuming the majority of the wait time, use SQL Tuning Advisor or create a SQL tuning set to tune the problematic SQL statements.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-8C13045B-74F0-470E-997B-E14BF638D543__GUID-B09734BD-BE78-4500-A074-258F1A801E50">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="identifying-high-load-sql-statements.html#GUID-FDC4381B-0703-4FBF-93FC-36B9425A85C0">Viewing Details of SQL Statements</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="tuning-sql-statements.html#GUID-0BF54979-57AF-4289-9504-41884A1BD78E">Tuning SQL Statements Using SQL Tuning Advisor</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT036"></a><div class="props_rev_3"><a id="GUID-F89D9B48-A4CA-4AC6-80FB-81EF8BB78DFC" name="GUID-F89D9B48-A4CA-4AC6-80FB-81EF8BB78DFC"></a><h4 id="TDPPT-GUID-F89D9B48-A4CA-4AC6-80FB-81EF8BB78DFC" class="sect4"><span class="enumeration_section">4.1.2 </span>Monitoring Top Sessions
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e664" class="indexterm-anchor"></a><a id="d7824e668" class="indexterm-anchor"></a><a id="d7824e672" class="indexterm-anchor"></a><a id="d7824e674" class="indexterm-anchor"></a>A <span class="bold">session</span> is a logical entity in the database instance memory that represents the state of a current user login to the database. A session lasts from the time a user logs in to the database until the user disconnects. For example, when a user starts SQL*Plus, the user must provide a valid database user name and password to establish a session. If a single session is consuming the majority of database activity, then you should investigate it.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F89D9B48-A4CA-4AC6-80FB-81EF8BB78DFC__GUID-07BFC4CA-EEB7-4D0F-9B22-E7A6B2CD3602">To monitor the top working sessions:</p>
                        <ol>
                           <li>
                              <p>Access the Performance page, as explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">Monitoring User Activity</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>In the Average Active Sessions chart, click the CPU or CPU Wait area on the chart or the corresponding wait class in the legend.</p>
                              <p>The Active Sessions Working: CPU + CPU Wait page appears, as shown in <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__CBBEFIFH">Figure 4-2</a>.
                              </p>
                           </li>
                           <li>
                              <p>Under Detail for Selected 5 Minute Interval, in the Top Working Sessions section, from the View list select <span class="bold">Top Sessions</span>.
                              </p>
                              <p>The Top Working Sessions table appears. The table displays the top sessions waiting for the corresponding wait class during the selected time period. </p>
                           </li>
                           <li>
                              <p>In the Top Working Sessions table, click the <span class="bold">Session ID</span> link of the session consuming the most database activity.
                              </p>
                              <p>The Session Details page appears.</p>
                              <p>This page contains information such as session activity, session statistics, open cursors, blocking sessions, wait event history, and parallel SQL for the selected session.</p>
                              <p>If a session is consuming too much database activity, then consider clicking <span class="bold">Kill Session</span>, and then tuning the SQL statement.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-F89D9B48-A4CA-4AC6-80FB-81EF8BB78DFC__GUID-884B611A-0B94-48B7-A19E-89D4EEC00286">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="tuning-sql-statements.html#GUID-6B386EC1-A58F-4CFC-AEFB-9F787A112396">Tuning SQL Statements </a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT371"></a><a id="TDPPT037"></a><div class="props_rev_3"><a id="GUID-AA0DE09F-0871-4585-B3A1-8654F94A752E" name="GUID-AA0DE09F-0871-4585-B3A1-8654F94A752E"></a><h4 id="TDPPT-GUID-AA0DE09F-0871-4585-B3A1-8654F94A752E" class="sect4"><span class="enumeration_section">4.1.3 </span>Monitoring Top Services
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e818" class="indexterm-anchor"></a><a id="d7824e822" class="indexterm-anchor"></a><a id="d7824e826" class="indexterm-anchor"></a><a id="d7824e828" class="indexterm-anchor"></a>A <span class="bold">service</span> is a group of applications with common attributes, service-level thresholds, and priorities. For example, the <code class="codeph">SYS$USERS</code> service is the default service name used when a user session is established without explicitly identifying a service name. The <code class="codeph">SYS$BACKGROUND</code> service consists of all database background processes. If a service is using the majority of the wait time, then you should investigate it.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AA0DE09F-0871-4585-B3A1-8654F94A752E__GUID-A7EF4683-856B-461D-87D5-F2E26D7B4320">To monitor a service:</p>
                        <ol>
                           <li>
                              <p>Access the Performance page, as explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">Monitoring User Activity</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>In the Average Active Sessions chart, click a colored area on the chart or the corresponding wait class in the legend.</p>
                              <p>The Active Sessions Working page appears.</p>
                           </li>
                           <li>
                              <p>Under Detail for Selected 5 Minute Interval, select <span class="bold">Top Services</span> from the View list.
                              </p>
                              <p>The Top Services table appears.</p>
                              <div class="figure" id="GUID-AA0DE09F-0871-4585-B3A1-8654F94A752E__CACBJEJJ">
                                 <p class="titleinfigure">Figure 4-3 Monitoring Top Services</p><img src="img/top_serv.gif" alt="Description of Figure 4-3 follows" title="Description of Figure 4-3 follows" longdesc="img_text/top_serv.html"><br><a href="img_text/top_serv.html">Description of "Figure 4-3 Monitoring Top Services"</a></div>
                              <!-- class="figure" -->
                              <p>The Top Services table displays the top services waiting for the corresponding wait event during the selected time period. For example, in <a href="monitoring-real-time-database-performance.html#GUID-AA0DE09F-0871-4585-B3A1-8654F94A752E__CACBJEJJ">Figure 4-3</a>, the <code class="codeph">SYS$USERS</code> service is consuming 86.47% of database activity.
                              </p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">Service</span> link of the most active service.
                              </p>
                              <p>The Service page appears.</p>
                              <p>This page contains information about the modules, activity, and statistics for the selected service.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT373"></a><a id="TDPPT038"></a><div class="props_rev_3"><a id="GUID-8EBB7BAE-9F77-45DB-8461-D68CE5B7CAFC" name="GUID-8EBB7BAE-9F77-45DB-8461-D68CE5B7CAFC"></a><h4 id="TDPPT-GUID-8EBB7BAE-9F77-45DB-8461-D68CE5B7CAFC" class="sect4"><span class="enumeration_section">4.1.4 </span>Monitoring Top Modules
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e973" class="indexterm-anchor"></a><a id="d7824e977" class="indexterm-anchor"></a><a id="d7824e979" class="indexterm-anchor"></a>Modules represent the applications that set the service name as part of the workload definition. For example, the <code class="codeph">DBMS_SCHEDULER</code> module may assign jobs that run within the <code class="codeph">SYS$BACKGROUND</code> service. If a single module is using the majority of the wait time, then it should be investigated. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8EBB7BAE-9F77-45DB-8461-D68CE5B7CAFC__GUID-C46B3F59-C76D-4953-AEBD-5CA58D15B4ED">To monitor a module:</p>
                        <ol>
                           <li>
                              <p>Access the Performance page, as explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">Monitoring User Activity</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>In the Average Active Sessions chart, click a colored area on the chart or the corresponding wait class in the legend.</p>
                              <p>The Active Sessions Working page appears.</p>
                           </li>
                           <li>
                              <p>Under Detail for Selected 5 Minute Interval, select <span class="bold">Top Modules</span> from the View list.
                              </p>
                              <p>The Top Modules table appears.</p>
                              <div class="figure" id="GUID-8EBB7BAE-9F77-45DB-8461-D68CE5B7CAFC__CACFIGFJ">
                                 <p class="titleinfigure">Figure 4-4 Monitoring Top Modules</p><img src="img/top_mod.gif" alt="Description of Figure 4-4 follows" title="Description of Figure 4-4 follows" longdesc="img_text/top_mod.html"><br><a href="img_text/top_mod.html">Description of "Figure 4-4 Monitoring Top Modules"</a></div>
                              <!-- class="figure" -->
                              <p>The Top Modules table displays the top modules waiting for the corresponding wait event during the selected time period. For example, in <a href="monitoring-real-time-database-performance.html#GUID-8EBB7BAE-9F77-45DB-8461-D68CE5B7CAFC__CACFIGFJ">Figure 4-4</a>, the SQL*Plus module is consuming over 84% of database activity and should be investigated. As shown in <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__CBBEFIFH">Figure 4-2</a>, the SQL*Plus sessions for user <code class="codeph">HR</code> are consuming a huge percentage of database activity.
                              </p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">Module</span> link of the module that is showing the highest percentage of activity.
                              </p>
                              <p>The Module page appears.</p>
                              <p>This page contains information about the actions, activity, and statistics for the selected module.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT375"></a><a id="TDPPT039"></a><div class="props_rev_3"><a id="GUID-7E673E50-373A-4AD5-856F-9049BDEFFA37" name="GUID-7E673E50-373A-4AD5-856F-9049BDEFFA37"></a><h4 id="TDPPT-GUID-7E673E50-373A-4AD5-856F-9049BDEFFA37" class="sect4"><span class="enumeration_section">4.1.5 </span>Monitoring Top Actions
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e1123" class="indexterm-anchor"></a><a id="d7824e1127" class="indexterm-anchor"></a><a id="d7824e1129" class="indexterm-anchor"></a>Actions represent the jobs that are performed by a module. For example, the <code class="codeph">DBMS_SCHEDULER</code> module can run the <code class="codeph">GATHER_STATS_JOB</code> action to gather statistics on all database objects. If a single action is using the majority of the wait time, then you should investigate it.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7E673E50-373A-4AD5-856F-9049BDEFFA37__GUID-10B5C1E9-B956-4A8A-ADFE-64D67BDB7312">To monitor an action:</p>
                        <ol>
                           <li>
                              <p>Access the Performance page, as explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">Monitoring User Activity</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>In the Average Active Sessions chart, click a colored area on the chart or the corresponding wait class in the legend.</p>
                              <p>The Active Sessions Working page appears.</p>
                           </li>
                           <li>
                              <p>Under Detail for Selected 5 Minute Interval, select <span class="bold">Top Actions</span> from the View list.
                              </p>
                              <p>The Top Actions table appears.</p>
                              <div class="figure" id="GUID-7E673E50-373A-4AD5-856F-9049BDEFFA37__CACBGFJH">
                                 <p class="titleinfigure">Figure 4-5 Monitoring Top Actions</p><img src="img/top_act.gif" alt="Description of Figure 4-5 follows" title="Description of Figure 4-5 follows" longdesc="img_text/top_act.html"><br><a href="img_text/top_act.html">Description of "Figure 4-5 Monitoring Top Actions"</a></div>
                              <!-- class="figure" -->
                              <p>The Top Actions table displays the top actions waiting for the corresponding wait event during the selected time period. For example, in <a href="monitoring-real-time-database-performance.html#GUID-7E673E50-373A-4AD5-856F-9049BDEFFA37__CACBGFJH">Figure 4-5</a>, the <code class="codeph">SALES_INFO</code> action associated with the SQL*Plus module is consuming 40.3% of the database activity, while <code class="codeph">EMP_DML</code> is consuming 39.55% and <code class="codeph">EMP_Query</code> is consuming 4.48%. This information is consistent with <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__CBBEFIFH">Figure 4-2</a>, which shows that the database sessions for user <code class="codeph">HR</code> are consuming over 82% of database activity.
                              </p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">Action</span> link of the most active action. 
                              </p>
                              <p>The Action page appears.</p>
                              <p>This page contains statistics for the selected action.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT377"></a><a id="TDPPT303"></a><div class="props_rev_3"><a id="GUID-7939C906-3ED3-4EDD-B80B-AEDBEF0F0083" name="GUID-7939C906-3ED3-4EDD-B80B-AEDBEF0F0083"></a><h4 id="TDPPT-GUID-7939C906-3ED3-4EDD-B80B-AEDBEF0F0083" class="sect4"><span class="enumeration_section">4.1.6 </span>Monitoring Top Clients
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e1284" class="indexterm-anchor"></a><a id="d7824e1288" class="indexterm-anchor"></a><a id="d7824e1290" class="indexterm-anchor"></a>A client can be a web browser or any client process that initiates a request for the database to perform an operation. If a single client is using the majority of the wait time, then you should investigate it.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7939C906-3ED3-4EDD-B80B-AEDBEF0F0083__GUID-21AD4520-A773-4117-89B6-A23B84DE8EDB">To monitor a client:</p>
                        <ol>
                           <li>
                              <p>Access the Performance page, as explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">Monitoring User Activity</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>In the Average Active Sessions chart, click a colored area on the chart or the corresponding wait class in the legend.</p>
                              <p>The Active Sessions Working page appears.</p>
                           </li>
                           <li>
                              <p>Under Detail for Selected 5 Minute Interval, select <span class="bold">Top Clients</span> from the View list.
                              </p>
                              <p>The Top Clients table appears.</p>
                              <div class="figure" id="GUID-7939C906-3ED3-4EDD-B80B-AEDBEF0F0083__CBBHJEFG">
                                 <p class="titleinfigure">Figure 4-6 Monitoring Top Clients</p><img src="img/top_client.gif" alt="Description of Figure 4-6 follows" title="Description of Figure 4-6 follows" longdesc="img_text/top_client.html"><br><a href="img_text/top_client.html">Description of "Figure 4-6 Monitoring Top Clients"</a></div>
                              <!-- class="figure" -->
                              <p>The Top Clients table displays the top clients waiting for the corresponding wait event during the selected time period. For example, in <a href="monitoring-real-time-database-performance.html#GUID-7939C906-3ED3-4EDD-B80B-AEDBEF0F0083__CBBHJEFG">Figure 4-6</a>, client1 and client2 are consuming the majority of the database activity.
                              </p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">Client ID</span> link of the most active client. 
                              </p>
                              <p>The Clients page appears.</p>
                              <p>This page contains statistics for the selected client process.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT379"></a><a id="TDPPT304"></a><div class="props_rev_3"><a id="GUID-B3248F50-0997-4D36-9EDC-0BB6047EAA60" name="GUID-B3248F50-0997-4D36-9EDC-0BB6047EAA60"></a><h4 id="TDPPT-GUID-B3248F50-0997-4D36-9EDC-0BB6047EAA60" class="sect4"><span class="enumeration_section">4.1.7 </span>Monitoring Top PL/SQL
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e1423" class="indexterm-anchor"></a><a id="d7824e1427" class="indexterm-anchor"></a>If a single PL/SQL subprogram is using the majority of the wait time, then you should investigate it.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B3248F50-0997-4D36-9EDC-0BB6047EAA60__GUID-0AB402EA-F7B1-4F16-9DA9-887338B2C239">To monitor a PL/SQL subprogram:</p>
                        <ol>
                           <li>
                              <p>Access the Performance page, as explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">Monitoring User Activity</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>In the Average Active Sessions chart, click a colored area on the chart or the corresponding wait class in the legend.</p>
                              <p>The Active Sessions Working page appears.</p>
                           </li>
                           <li>
                              <p>Under Detail for Selected 5 Minute Interval, select <span class="bold">Top PL/SQL</span> from the View list.
                              </p>
                              <p>The Top PL/SQL table appears.</p>
                              <div class="figure" id="GUID-B3248F50-0997-4D36-9EDC-0BB6047EAA60__CBBFEACJ">
                                 <p class="titleinfigure">Figure 4-7 Monitoring Top PL/SQL</p><img src="img/top_plsql.gif" alt="Description of Figure 4-7 follows" title="Description of Figure 4-7 follows" longdesc="img_text/top_plsql.html"><br><a href="img_text/top_plsql.html">Description of "Figure 4-7 Monitoring Top PL/SQL"</a></div>
                              <!-- class="figure" -->
                              <p>The Top PL/SQL table displays the top PL/SQL subprograms waiting for the corresponding wait event during the selected time period. For example, in <a href="monitoring-real-time-database-performance.html#GUID-B3248F50-0997-4D36-9EDC-0BB6047EAA60__CBBFEACJ">Figure 4-7</a>, the <code class="codeph">SYS.DBMS_AQ.LISTEN#2</code> subprogram is consuming 100% of database activity.
                              </p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">PL/SQL Subprogram</span> link of the most active subprogram. 
                              </p>
                              <p>The PL/SQL Subprogram page appears.</p>
                              <p>This page contains statistics for the selected subprogram.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT381"></a><a id="TDPPT321"></a><div class="props_rev_3"><a id="GUID-320DA3EA-B580-418C-A4DC-B7E06A9FD7AF" name="GUID-320DA3EA-B580-418C-A4DC-B7E06A9FD7AF"></a><h4 id="TDPPT-GUID-320DA3EA-B580-418C-A4DC-B7E06A9FD7AF" class="sect4"><span class="enumeration_section">4.1.8 </span>Monitoring Top Files
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e1561" class="indexterm-anchor"></a><a id="d7824e1565" class="indexterm-anchor"></a>Data on the average wait time for specific files is available from the Active Sessions Waiting: User I/O page.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-320DA3EA-B580-418C-A4DC-B7E06A9FD7AF__GUID-5F94C450-F39D-42EB-9AC6-C439838B9135">To monitor a file:</p>
                        <ol>
                           <li>
                              <p>Access the Performance page, as explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">Monitoring User Activity</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>In the Average Active Sessions chart, click the User I/O area on the chart or the corresponding wait class in the legend.</p>
                              <p>The Active Sessions Waiting: User I/O page appears.</p>
                           </li>
                           <li>
                              <p>Under Detail for Selected 5 Minute Interval, select <span class="bold">Top Files</span> from the View list.
                              </p>
                              <p>The Top Files table appears.</p>
                              <div class="figure" id="GUID-320DA3EA-B580-418C-A4DC-B7E06A9FD7AF__CBBEDDAB">
                                 <p class="titleinfigure">Figure 4-8 Monitoring Top Files</p><img src="img/top_files.gif" alt="Description of Figure 4-8 follows" title="Description of Figure 4-8 follows" longdesc="img_text/top_files.html"><br><a href="img_text/top_files.html">Description of "Figure 4-8 Monitoring Top Files"</a></div>
                              <!-- class="figure" -->
                              <p>The Top Files table displays the average wait time for specific files during the selected time period. For example, in <a href="monitoring-real-time-database-performance.html#GUID-320DA3EA-B580-418C-A4DC-B7E06A9FD7AF__CBBEDDAB">Figure 4-8</a> 75% of the wait times are associated with I/O to the files in the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces.
                              </p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">Tablespace</span> link of the file with the highest average wait time.
                              </p>
                              <p>The View Tablespace page appears.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT383"></a><a id="TDPPT322"></a><div class="props_rev_3"><a id="GUID-0228DCAF-1CE7-4948-A17F-042AFD5F2B81" name="GUID-0228DCAF-1CE7-4948-A17F-042AFD5F2B81"></a><h4 id="TDPPT-GUID-0228DCAF-1CE7-4948-A17F-042AFD5F2B81" class="sect4"><span class="enumeration_section">4.1.9 </span>Monitoring Top Objects
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e1701" class="indexterm-anchor"></a><a id="d7824e1705" class="indexterm-anchor"></a>Data on the top database objects waiting for resources is available from the Active Sessions Waiting: User I/O page.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0228DCAF-1CE7-4948-A17F-042AFD5F2B81__GUID-0AB0D18E-BD3F-4188-AB51-1EB3E68CE00C">To monitor an object:</p>
                        <ol>
                           <li>
                              <p>Access the Performance page, as explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">Monitoring User Activity</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>In the Average Active Sessions chart, click the User I/O area on the chart or the corresponding wait class in the legend.</p>
                              <p>The Active Sessions Waiting: User I/O page appears.</p>
                           </li>
                           <li>
                              <p>Under Detail for Selected 5 Minute Interval, select <span class="bold">Top Objects</span> from the View list.
                              </p>
                              <p>The Top Objects table appears.</p>
                              <div class="figure" id="GUID-0228DCAF-1CE7-4948-A17F-042AFD5F2B81__CBBDHFCC">
                                 <p class="titleinfigure">Figure 4-9 Monitoring Top Objects</p><img src="img/top_obj.gif" alt="Description of Figure 4-9 follows" title="Description of Figure 4-9 follows" longdesc="img_text/top_obj.html"><br><a href="img_text/top_obj.html">Description of "Figure 4-9 Monitoring Top Objects"</a></div>
                              <!-- class="figure" -->
                              <p>The Top Objects table displays the top database objects waiting for the corresponding wait event during the selected time period.</p>
                              <p>For example, <a href="monitoring-real-time-database-performance.html#GUID-0228DCAF-1CE7-4948-A17F-042AFD5F2B81__CBBDHFCC">Figure 4-9</a> shows that over 84% of the waits are for an object whose name is unavailable. Based on the information in <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__CBBEFIFH">Figure 4-2</a>, you can conclude that the performance problem is caused by the query and modification DML statements.
                              </p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">Object Name</span> link of the object with the highest average wait time. 
                              </p>
                              <p>The View page for the object appears.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="TDPPT040"></a><div class="props_rev_3"><a id="GUID-F405EE4E-F0A9-42AB-AC3C-4FA6F29DE6AC" name="GUID-F405EE4E-F0A9-42AB-AC3C-4FA6F29DE6AC"></a><h3 id="TDPPT-GUID-F405EE4E-F0A9-42AB-AC3C-4FA6F29DE6AC" class="sect3"><span class="enumeration_section">4.2 </span>Monitoring Instance Activity
               </h3>
               <div>
                  <p><a id="d7824e1835" class="indexterm-anchor"></a>Below the Average Active Sessions chart on the Performance page are other charts that you can use to monitor database instance activity. As explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-81073595-A0B0-474C-937B-376B58D7C414">Customizing the Database Performance page</a>"</span>, you can also customize the Performance page so that the most useful instance activity charts are displayed by default.
                  </p>
                  <p>You can use the instance activity charts to perform the following tasks:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="monitoring-real-time-database-performance.html#GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0">Monitoring Throughput</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-real-time-database-performance.html#GUID-A76E027F-8EE0-4B10-8EE9-6C3E8D3ED222">Monitoring I/O</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-real-time-database-performance.html#GUID-B1CA766B-7C02-4289-9300-56A5E4931DC6">Monitoring Parallel Execution</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-real-time-database-performance.html#GUID-12C3FF5D-2D8D-49F6-8188-D0BAC5924C5B">Monitoring Services</a></p>
                     </li>
                  </ul>
               </div><a id="TDPPT385"></a><a id="TDPPT325"></a><div class="props_rev_3"><a id="GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0" name="GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0"></a><h4 id="TDPPT-GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0" class="sect4"><span class="enumeration_section">4.2.1 </span>Monitoring Throughput
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e1950" class="indexterm-anchor"></a><a id="d7824e1954" class="indexterm-anchor"></a>Database <span class="bold">throughput</span> measures the amount of work the database performs in a unit of time. The Throughput charts show any contention that appears in the Average Active Sessions chart.
                        </p>
                        <p>Compare the peaks on the Throughput charts with the peaks on the Average Active Sessions chart. If the Average Active Sessions chart displays a large number of sessions waiting, indicating internal contention, but throughput is high, then the situation may be acceptable. The database is probably also performing efficiently if internal contention is low but throughput is high. However, if internal contention is high but throughput is low, then consider tuning the database.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0__GUID-58051672-21AC-4B11-BF11-898E7B02945C">To monitor throughput:</p>
                        <ol>
                           <li>
                              <p>Access the Database Home page.</p>
                              <p>See <span class="q">"<a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">Accessing the Database Home Page</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>From the <span class="bold">Performance</span> menu, select <span class="bold">Performance Home</span>.
                              </p>
                              <p>If the Database Login page appears, then log in as a user with administrator privileges. The Performance page appears.</p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">Throughput</span> tab.
                              </p>
                           </li>
                           <li>
                              <p>Select one of the following Instance Throughput Rate options.</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="bold">Per Second</span></p>
                                    <p>Two charts appear. One shows the number of logons and transactions per second and the other shows the physical reads and redo size per second.</p>
                                    <p><a href="monitoring-real-time-database-performance.html#GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0__CBBECFIJ">Figure 4-10</a> shows the Throughput charts with the Instance Throughput Rate of Per Second selected. The bar in the middle of the figure indicates a portion of the charts (from approximately 1:37 to 1:52) that has been removed for space considerations. In <a href="monitoring-real-time-database-performance.html#GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0__CBBECFIJ">Figure 4-10</a>, the most transactions occurred from 1:15 to 1:27 p.m. and from 2:08 to 2:12 p.m.
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Per Transaction</span></p>
                                    <p>One chart appears that shows the number of physical reads and redo size per transaction.</p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="figure" id="GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0__CBBECFIJ">
                           <p class="titleinfigure">Figure 4-10 Monitoring Throughput</p><img src="img/through_per_sec.gif" alt="Description of Figure 4-10 follows" title="Description of Figure 4-10 follows" longdesc="img_text/through_per_sec.html"><br><a href="img_text/through_per_sec.html">Description of "Figure 4-10 Monitoring Throughput"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT387"></a><a id="TDPPT326"></a><div class="props_rev_3"><a id="GUID-A76E027F-8EE0-4B10-8EE9-6C3E8D3ED222" name="GUID-A76E027F-8EE0-4B10-8EE9-6C3E8D3ED222"></a><h4 id="TDPPT-GUID-A76E027F-8EE0-4B10-8EE9-6C3E8D3ED222" class="sect4"><span class="enumeration_section">4.2.2 </span>Monitoring I/O
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e2104" class="indexterm-anchor"></a><a id="d7824e2108" class="indexterm-anchor"></a>The I/O charts show I/O statistics collected from all database clients. The I/O wait time for a database process represents the amount of time that the process could have been doing useful work if a pending I/O had completed. Oracle Database captures the I/O wait times for all important I/O components in a uniform fashion so that every I/O wait by any Oracle process can be derived from the I/O statistics.
                        </p>
                        <div class="figure" id="GUID-A76E027F-8EE0-4B10-8EE9-6C3E8D3ED222__CBBBDBEH">
                           <p class="titleinfigure">Figure 4-11 Monitoring I/O</p><img src="img/io_function.gif" alt="Description of Figure 4-11 follows" title="Description of Figure 4-11 follows" longdesc="img_text/io_function.html"><br><a href="img_text/io_function.html">Description of "Figure 4-11 Monitoring I/O"</a></div>
                        <!-- class="figure" -->
                        <p>The Latency for Synchronous Single Block Reads chart shows the total perceived <span class="bold">I/O latency</span> for a block read, which is the time difference between when an I/O request is submitted and when the first byte of the transfer arrives. Most systems are performing satisfactorily if latency is fewer than 10 milliseconds. This type of I/O request is the best indicator of I/O performance for the following reasons:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Write operations may exhibit good performance because of write caches in storage.</p>
                           </li>
                           <li>
                              <p>Because multiblock I/O requests have varying sizes, they can take different amounts of time.</p>
                           </li>
                           <li>
                              <p>The latency of asynchronous I/O requests does not represent the full I/O wait time.</p>
                           </li>
                        </ul>
                        <p>The other charts shown depend on your selection for <span class="bold">I/O Breakdown</span>, as described in the following sections:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="monitoring-real-time-database-performance.html#GUID-C1D2E7E9-6425-4A0D-9B37-22D5C774FA54">Monitoring I/O by Function</a></p>
                           </li>
                           <li>
                              <p><a href="monitoring-real-time-database-performance.html#GUID-F6F57E16-4CF5-409F-B29A-9C2D7D6E7D96">Monitoring I/O by Type</a></p>
                           </li>
                           <li>
                              <p><a href="monitoring-real-time-database-performance.html#GUID-C4326F7D-2B63-4830-B78C-A19D54881EA8">Monitoring I/O by Consumer Group</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="TDPPT329"></a><div class="props_rev_3"><a id="GUID-C1D2E7E9-6425-4A0D-9B37-22D5C774FA54" name="GUID-C1D2E7E9-6425-4A0D-9B37-22D5C774FA54"></a><h5 id="TDPPT-GUID-C1D2E7E9-6425-4A0D-9B37-22D5C774FA54" class="sect5"><span class="enumeration_section">4.2.2.1 </span>Monitoring I/O by Function
                     </h5>
                     <div>
                        <div class="section">
                           <p>The I/O Function charts determine I/O usage level by application or job. The component-level statistics give a detailed view of the I/O bandwidth usage, which you can then use in scheduling jobs and I/O provisioning. The component-level statistics fall in the following categories:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Background type</p>
                                 <p>This category includes ARCH, LGWR, and DBWR.</p>
                              </li>
                              <li>
                                 <p>Activity</p>
                                 <p>This category includes XDB, Advanced Queuing (AQ), Data Pump, Recovery, and RMAN.</p>
                              </li>
                              <li>
                                 <p>I/O type</p>
                                 <p>The category includes the following:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Direct Writes</p>
                                       <p>This write is made by a foreground process and is not from the buffer cache.</p>
                                    </li>
                                    <li>
                                       <p>Direct Reads</p>
                                       <p>This read is physical I/O from a data file that bypasses the buffer cache and reads the data block directly into process-private memory.</p>
                                    </li>
                                    <li>
                                       <p>Buffer Cache Reads</p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Others</p>
                                 <p>This category includes I/Os such as control file I/Os.</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-C1D2E7E9-6425-4A0D-9B37-22D5C774FA54__GUID-E149BBB6-E9E5-4611-AB3F-F2BBD5F8ECDA">To monitor I/O by function:</p>
                           <ol>
                              <li>
                                 <p>Access the Performance page, as explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">Monitoring User Activity</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>In the instance activity chart, click <span class="bold">I/O</span>.
                                 </p>
                                 <p>The Latency for Synchronous Single Block Reads, I/O Megabytes per Second, and I/O Requests per Second charts appear. </p>
                              </li>
                              <li>
                                 <p>For <span class="bold">I/O Breakdown</span>, select <span class="bold">I/O Function</span>.
                                 </p>
                                 <p>The I/O Megabytes per Second by I/O Function and I/O Requests per Second by I/O Function charts appear.</p>
                                 <p>The example in <a href="monitoring-real-time-database-performance.html#GUID-A76E027F-8EE0-4B10-8EE9-6C3E8D3ED222__CBBBDBEH">Figure 4-11</a> shows that a significant amount of I/O is being performed by the log writer. The log writer activity peaked at approximately 600 I/O requests per second.
                                 </p>
                              </li>
                              <li>
                                 <p>Click the largest colored area on the chart or the corresponding function in the legend to drill down to the function with the highest I/O rate.</p>
                                 <p>An I/O Throughput by I/O Function page appears with details about the selected category.</p>
                                 <p>You can view real-time or historical data for details on I/O megabytes or I/O requests.</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-C1D2E7E9-6425-4A0D-9B37-22D5C774FA54__GUID-67A2538C-40A9-4E8C-96F4-60113E962CF6">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../cncpt/process-architecture.html#CNCPT1249" target="_blank"><span class="italic">Oracle Database Concepts</span></a> to learn about database background processes such as ARCH, LGWR, and DBWR
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TDPPT330"></a><div class="props_rev_3"><a id="GUID-F6F57E16-4CF5-409F-B29A-9C2D7D6E7D96" name="GUID-F6F57E16-4CF5-409F-B29A-9C2D7D6E7D96"></a><h5 id="TDPPT-GUID-F6F57E16-4CF5-409F-B29A-9C2D7D6E7D96" class="sect5"><span class="enumeration_section">4.2.2.2 </span>Monitoring I/O by Type
                     </h5>
                     <div>
                        <div class="section">
                           <p>The I/O Type charts enable you to monitor I/O by the types of read and write operations. Small I/Os are requests smaller than 128 KB and are typically single database block I/O operations. Large I/Os are requests greater than or equal to 128 KB. Large I/Os are generated by database operations such as table/index scans, direct data loads, backups, restores, and archiving.</p>
                           <div class="figure" id="GUID-F6F57E16-4CF5-409F-B29A-9C2D7D6E7D96__GUID-B8FCE9D0-0592-441C-9D72-592299893728"><img src="img/perf_io_type.gif" alt="Description of perf_io_type.gif follows" title="Description of perf_io_type.gif follows" longdesc="img_text/perf_io_type.html"><br><a href="img_text/perf_io_type.html">Description of the illustration perf_io_type.gif</a></div>
                           <!-- class="figure" -->
                           <p>When optimizing for short transaction times, such as in an OLTP environment, monitor latency for small I/Os. High latencies typically indicate that the storage system is a bottleneck.</p>
                           <p>When optimizing for large queries, such as in a data warehouse, performance depends on the maximum throughput the storage system can achieve rather than the latency of the I/O requests. In this case, monitor the I/O megabytes per second rather than the synchronous single-block I/O latencies.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-F6F57E16-4CF5-409F-B29A-9C2D7D6E7D96__GUID-F5EA4BBF-468E-46C5-A838-0BD70B69B680">To monitor I/O by type:</p>
                           <ol>
                              <li>
                                 <p>Access the Performance page, as explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">Monitoring User Activity</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>In the instance activity chart, click <span class="bold">I/O</span>.
                                 </p>
                                 <p>The I/O Megabytes per Second and I/O Requests per Second charts appear.</p>
                              </li>
                              <li>
                                 <p>For <span class="bold">I/O Breakdown</span>, select <span class="bold">I/O Type</span>.
                                 </p>
                                 <p>The I/O Megabytes per Second by I/O Type and I/O Requests per Second by I/O Type charts appear.</p>
                                 <p>In the above sample chart, the number of small writes per second increased to more than 600. These writes correspond to the log writer I/O requests shown in <a href="monitoring-real-time-database-performance.html#GUID-A76E027F-8EE0-4B10-8EE9-6C3E8D3ED222__CBBBDBEH">Figure 4-11</a>.
                                 </p>
                              </li>
                              <li>
                                 <p>Click the largest colored area on the chart or the corresponding function in the legend to drill down to the function with the highest I/O rate.</p>
                                 <p>The I/O Details page appears.</p>
                                 <p>You can view real-time or historical data for details on I/O megabytes or I/O requests.</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TDPPT331"></a><div class="props_rev_3"><a id="GUID-C4326F7D-2B63-4830-B78C-A19D54881EA8" name="GUID-C4326F7D-2B63-4830-B78C-A19D54881EA8"></a><h5 id="TDPPT-GUID-C4326F7D-2B63-4830-B78C-A19D54881EA8" class="sect5"><span class="enumeration_section">4.2.2.3 </span>Monitoring I/O by Consumer Group
                     </h5>
                     <div>
                        <div class="section">
                           <p>When Oracle Database Resource Manager is enabled, the database collects I/O statistics for all consumer groups that are part of the currently enabled resource plan. The Consumer Group charts enable you to monitor I/O by consumer group.</p>
                           <p>A resource plan specifies how the resources are to be distributed among various users (resource consumer groups). Resource consumer groups enable you to organize user sessions by resource requirements. Note that the <code class="codeph">_ORACLE_BACKGROUND_GROUP_</code> consumer group contains I/O requests issued by background processes.
                           </p>
                           <div class="figure" id="GUID-C4326F7D-2B63-4830-B78C-A19D54881EA8__GUID-625FB29E-219D-4911-82F2-8C0729B8B5CD"><img src="img/perf_io_consum.gif" alt="Description of perf_io_consum.gif follows" title="Description of perf_io_consum.gif follows" longdesc="img_text/perf_io_consum.html"><br><a href="img_text/perf_io_consum.html">Description of the illustration perf_io_consum.gif</a></div>
                           <!-- class="figure" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-C4326F7D-2B63-4830-B78C-A19D54881EA8__GUID-2619B467-4B4F-41D4-87A0-27D5F0AC4E16">To monitor I/O requests by consumer group:</p>
                           <ol>
                              <li>
                                 <p>Access the Performance page, as explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">Monitoring User Activity</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>In the instance activity chart, click <span class="bold">I/O</span>.
                                 </p>
                                 <p>The I/O Megabytes per Second and I/O Requests per Second charts appear. </p>
                              </li>
                              <li>
                                 <p>For <span class="bold">I/O Breakdown</span>, select <span class="bold">Consumer Group</span>.
                                 </p>
                                 <p>The I/O Megabytes per Second by Consumer Group and I/O Requests per Second by Consumer Group charts appear.</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="TDPPT391"></a><a id="TDPPT327"></a><div class="props_rev_3"><a id="GUID-B1CA766B-7C02-4289-9300-56A5E4931DC6" name="GUID-B1CA766B-7C02-4289-9300-56A5E4931DC6"></a><h4 id="TDPPT-GUID-B1CA766B-7C02-4289-9300-56A5E4931DC6" class="sect4"><span class="enumeration_section">4.2.3 </span>Monitoring Parallel Execution
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e2664" class="indexterm-anchor"></a><a id="d7824e2668" class="indexterm-anchor"></a>The Parallel Execution charts show system metrics related to parallel queries. <span class="bold">Metrics</span> are statistical counts per unit. The unit could be a time measure, such as seconds, or per transaction, or session.
                        </p>
                        <p>A parallel query divides the work of executing a SQL statement across multiple processes. The charts show parallel queries that were waiting for a particular wait event that accounted for the highest percentages of sampled session activity.</p>
                        <div class="figure" id="GUID-B1CA766B-7C02-4289-9300-56A5E4931DC6__CBBEDCFA">
                           <p class="titleinfigure">Figure 4-12 Monitoring Parallel Execution</p><img width="503" src="img/pe.gif" alt="Description of Figure 4-12 follows" title="Description of Figure 4-12 follows" longdesc="img_text/pe.html"><br><a href="img_text/pe.html">Description of "Figure 4-12 Monitoring Parallel Execution"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B1CA766B-7C02-4289-9300-56A5E4931DC6__GUID-3E35ED58-DB64-4DE0-88E5-14026C48A99B">To monitor parallel execution:</p>
                        <ol>
                           <li>
                              <p>Access the Performance page, as explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">Monitoring User Activity</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>In the instance activity chart, click <span class="bold">Parallel Execution</span>.
                              </p>
                              <p>The Parallel Execution charts appear.</p>
                              <p>Two pairs of charts are shown. The first pair shows the number of sessions on the y-axis, whereas the second pair shows the per second rate on the y-axis.</p>
                              <p>In the example shown in <a href="monitoring-real-time-database-performance.html#GUID-B1CA766B-7C02-4289-9300-56A5E4931DC6__CBBEDCFA">Figure 4-12</a>, query parallelization was active from 12:30 p.m. to 4 p.m.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT393"></a><a id="TDPPT328"></a><div class="props_rev_3"><a id="GUID-12C3FF5D-2D8D-49F6-8188-D0BAC5924C5B" name="GUID-12C3FF5D-2D8D-49F6-8188-D0BAC5924C5B"></a><h4 id="TDPPT-GUID-12C3FF5D-2D8D-49F6-8188-D0BAC5924C5B" class="sect4"><span class="enumeration_section">4.2.4 </span>Monitoring Services
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e2791" class="indexterm-anchor"></a><a id="d7824e2795" class="indexterm-anchor"></a><a id="d7824e2799" class="indexterm-anchor"></a>Services represent groups of applications with common attributes, service-level thresholds, and priorities. For example, the <code class="codeph">SYS$USERS</code> service is the default service name used when a user session is established without explicitly identifying a service name.
                        </p>
                        <div class="figure" id="GUID-12C3FF5D-2D8D-49F6-8188-D0BAC5924C5B__CBBBCGBB">
                           <p class="titleinfigure">Figure 4-13 Monitoring Services</p><img src="img/services.gif" alt="Description of Figure 4-13 follows" title="Description of Figure 4-13 follows" longdesc="img_text/services.html"><br><a href="img_text/services.html">Description of "Figure 4-13 Monitoring Services"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-12C3FF5D-2D8D-49F6-8188-D0BAC5924C5B__GUID-082D58D4-A36A-44DE-B1BA-368CC67F46C7">To monitor services:</p>
                        <ol>
                           <li>
                              <p>Access the Performance page, as explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">Monitoring User Activity</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>In the instance activity chart, click <span class="bold">Services</span>.
                              </p>
                              <p>The Services chart appears. The Services chart shows services waiting for the corresponding wait event during the time period shown. Only active services are shown.</p>
                              <p>In <a href="monitoring-real-time-database-performance.html#GUID-12C3FF5D-2D8D-49F6-8188-D0BAC5924C5B__CBBBCGBB">Figure 4-13</a>, the <code class="codeph">SYS$USERS</code> service has the greatest number of active sessions.
                              </p>
                           </li>
                           <li>
                              <p>Click the largest colored area on the chart or the corresponding service in the legend to drill down to the service with the highest number of active sessions.</p>
                              <p>The Service page appears, showing the Activity subpage. </p>
                              <p>You can view real-time data showing the session load for all wait classes associated with the service. </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="TDPPT395"></a><a id="TDPPT041"></a><div class="props_rev_3"><a id="GUID-3D9C9784-ECCA-434C-B247-3EBED3E88A97" name="GUID-3D9C9784-ECCA-434C-B247-3EBED3E88A97"></a><h3 id="TDPPT-GUID-3D9C9784-ECCA-434C-B247-3EBED3E88A97" class="sect3"><span class="enumeration_section">4.3 </span>Monitoring Host Activity
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d7824e2931" class="indexterm-anchor"></a>The Host chart on the Performance page displays utilization information about the system hosting the database.
                     </p>
                     <div class="figure" id="GUID-3D9C9784-ECCA-434C-B247-3EBED3E88A97__GUID-0C841DCF-5CF8-46B2-97D4-8B885142320F">
                        <p class="titleinfigure">Figure 4-14 Monitoring Host Activity</p><img src="img/host.gif" alt="Description of Figure 4-14 follows" title="Description of Figure 4-14 follows" longdesc="img_text/host.html"><br><a href="img_text/host.html">Description of "Figure 4-14 Monitoring Host Activity"</a></div>
                     <!-- class="figure" -->
                     <p>To determine if the host system has enough resources available to run the database, establish appropriate expectations for the amount of CPU, memory, and disk resources that your system should be using. You can then verify that the database is not consuming too many of these resources.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3D9C9784-ECCA-434C-B247-3EBED3E88A97__GUID-61E76BFA-E62F-4FA5-96E3-DA8979ACE49D">To view details about CPU, memory, and disk utilization:</p>
                     <ol>
                        <li>
                           <p>From the <span class="bold">Targets</span> menu, select <span class="bold">Hosts</span>.
                           </p>
                           <p>The Hosts page appears. </p>
                        </li>
                        <li>
                           <p>In the list of hosts, click the name of the host on which your database resides.</p>
                           <p>The <span class="italic">hostname</span> page appears, where <span class="italic">hostname</span> is the name of the host.
                           </p>
                        </li>
                        <li>
                           <p>Determine whether sufficient resources are available and whether your system is using too many resources.</p>
                           <p>For example, determine the amount of CPU, memory, and disk resources the database uses in the following scenarios:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>When your system is idle, or when little database and nondatabase activity exists</p>
                              </li>
                              <li>
                                 <p>At average workloads</p>
                              </li>
                              <li>
                                 <p>At peak workloads</p>
                              </li>
                           </ul>
                           <p>Workload is an important factor when evaluating the level of resource utilization for your system. During peak workload hours, 90 percent utilization of a resource, such as a CPU with 10 percent idle and waiting time, can be acceptable. However, if your system shows high utilization at normal workload, then there is no room for additional workload.</p>
                           <p>Perform the following tasks to monitor the host activity for your database:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="monitoring-real-time-database-performance.html#GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002">Monitoring CPU Utilization</a></p>
                              </li>
                              <li>
                                 <p><a href="monitoring-real-time-database-performance.html#GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A">Monitoring Memory Utilization</a></p>
                              </li>
                              <li>
                                 <p><a href="monitoring-real-time-database-performance.html#GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF">Monitoring Disk I/O Utilization</a></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Set the appropriate threshold values for the performance metrics so the system can automatically generate alerts when these thresholds are exceeded. </p>
                           <p>For information about setting metric thresholds, see <span class="q">"<a href="monitoring-performance-alerts.html#GUID-E4359985-FDE3-4083-AC4F-09E711B0E4B9">Setting Metric Thresholds for Performance Alerts</a>"</span>.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div><a id="TDPPT042"></a><div class="props_rev_3"><a id="GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002" name="GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002"></a><h4 id="TDPPT-GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002" class="sect4"><span class="enumeration_section">4.3.1 </span>Monitoring CPU Utilization
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e3094" class="indexterm-anchor"></a><a id="d7824e3098" class="indexterm-anchor"></a>To address CPU problems, first establish appropriate expectations for the amount of CPU resources your system should be using. You can then determine whether sufficient CPU resources are available and recognize when your system is consuming too many resources. This section describes how to monitor CPU utilization.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002__GUID-22B2A3F9-FFCA-4E9F-805A-AC353D121934">To monitor CPU utilization:</p>
                        <ol>
                           <li>
                              <p>Access the <span class="italic">hostname</span> page as explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-3D9C9784-ECCA-434C-B247-3EBED3E88A97">Monitoring Host Activity</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>From the <span class="bold">Host</span> menu, select <span class="bold">Monitoring</span>, and then <span class="bold">CPU Details</span>.
                              </p>
                              <p>The CPU Details page appears.</p>
                              <p>This page contains statistics about CPU utilization, I/O wait times, and load gathered over the last hour. The top 10 processes are listed based on CPU utilization.</p>
                           </li>
                           <li>
                              <p>Verify the current CPU utilization using the CPU Utilization chart.</p>
                              <p>The CPU Utilization chart shows CPU utilization over the last hour and a half. The current value is displayed below the chart. During standard workload hours, the value should not exceed the critical threshold.</p>
                           </li>
                           <li>
                              <p>Click <span class="bold">CPU Utilization</span>.
                              </p>
                              <p>The CPU Utilization page appears.</p>
                              <p>This page contains CPU utilization statistics and related alerts generated over the last 24 hours.</p>
                              <p>In the following example, the CPU utilization has suddenly spiked from approximately 8% to 89.49% at 12:28 p.m., which is above the warning threshold of 80%.</p>
                              <div class="figure" id="GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002__GUID-CB00867E-7B0E-4205-8352-5E7BF09095E7"><img src="img/cpu_util.gif" alt="Description of cpu_util.gif follows" title="Description of cpu_util.gif follows" longdesc="img_text/cpu_util.html"><br><a href="img_text/cpu_util.html">Description of the illustration cpu_util.gif</a></div>
                              <!-- class="figure" -->
                              <p>If you notice an unexpected spike in this value that is sustained through normal workload hours, then the CPU performance problem should be investigated.</p>
                           </li>
                           <li>
                              <p>Return to the CPU Details page. From the <span class="bold">Host</span> menu, select <span class="bold">Monitoring</span>, and then <span class="bold">CPU Details</span>.
                              </p>
                           </li>
                           <li>
                              <p>Verify the current CPU I/O wait time using the CPU I/O Wait chart.</p>
                              <p>The CPU I/O Wait chart shows CPU I/O wait time over the last hour and a half. The current value is displayed below the chart. During normal workload hours, the value of CPU I/O wait should not exceed the warning threshold.</p>
                              <p><a id="d7824e3174" class="indexterm-anchor"></a>CPU I/O wait represents the average number of jobs waiting for I/O during an interval.
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">CPU I/O Wait</span>.
                              </p>
                              <p>The CPU in I/O Wait page appears.</p>
                              <p>This page contains CPU I/O wait statistics and related alerts generated over the last 24 hours.</p>
                              <p>If you notice an unexpected increase in this value that is sustained through standard workload hours, then a CPU performance problem may exist.</p>
                           </li>
                           <li>
                              <p>Return to the CPU Details page. From the <span class="bold">Host</span> menu, select <span class="bold">Monitoring</span>, and then <span class="bold">CPU Details</span>.
                              </p>
                           </li>
                           <li>
                              <p>Verify the current CPU load using the CPU Load chart.</p>
                              <p>The CPU Load chart shows the CPU load over the last hour and a half. The current value is displayed below the chart. During standard workload hours, the value of CPU load should not exceed the warning threshold.</p>
                              <p><a id="d7824e3209" class="indexterm-anchor"></a>CPU load represents the average number of processes waiting to be scheduled for CPU resources in the previous minute, or the level of CPU contention time over time.
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">CPU Load</span>.
                              </p>
                              <p>The Run Queue Length (5 minute average) page appears.</p>
                              <p>This page contains CPU load statistics and related alerts generated over the last 24 hours.</p>
                              <p>If you notice an unexpected spike in this value that is sustained through normal workload hours, then a CPU performance problem might exist.</p>
                           </li>
                           <li>
                              <p>Return to the CPU Details page. From the <span class="bold">Host</span> menu, select <span class="bold">Monitoring</span>, and then <span class="bold">CPU Details</span>.
                              </p>
                           </li>
                           <li>
                              <p>Review the Top 10 Processes (ordered by CPU) table.</p>
                              <p>If a process is consuming too much of the CPU utilization percentage, then investigate that process.</p>
                              <p>In the following example, two database processes are consuming 87.6% of CPU utilization. Therefore, the database is the likely source of a potential CPU performance problem and should be investigated.</p>
                              <div class="figure" id="GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002__GUID-7E467FCC-CBB7-4301-9410-E260AF58CFAC"><img src="img/top_10_proc.gif" alt="Description of top_10_proc.gif follows" title="Description of top_10_proc.gif follows" longdesc="img_text/top_10_proc.html"><br><a href="img_text/top_10_proc.html">Description of the illustration top_10_proc.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p><a id="d7824e3251" class="indexterm-anchor"></a><a id="d7824e3255" class="indexterm-anchor"></a>If a CPU performance problem is identified, then you can try to resolve the issue by doing the following:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Use Oracle <a id="d7824e3264" class="indexterm-anchor"></a>Database Resource Manager to reduce the impact of peak-load-use patterns by prioritizing CPU resource allocation
                                    </p>
                                 </li>
                                 <li>
                                    <p>Avoid running too many processes that use a large amount of CPU</p>
                                 </li>
                                 <li>
                                    <p>Increase hardware capacity, including changing the system architecture</p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002__GUID-41EE6020-23EB-41FA-9BF3-8608C1D0AB06">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../tgdba/managing-operating-system-resources.html#TGDBA95150" target="_blank"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for information about resolving CPU issues
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../admin/managing-resources-with-oracle-database-resource-manager.html#ADMIN027" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a><span class="italic"> </span>for information about Oracle Database Resource Manager
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT515"></a><a id="TDPPT043"></a><div class="props_rev_3"><a id="GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A" name="GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A"></a><h4 id="TDPPT-GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A" class="sect4"><span class="enumeration_section">4.3.2 </span>Monitoring Memory Utilization
                  </h4>
                  <div>
                     <div class="section">
                        <p>Operating system performance issues commonly involve process management, memory management, and scheduling. This section describes how to monitor memory utilization and identify problems such as paging and swapping.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A__GUID-1987B02F-DB67-4C4F-81C1-1AAE2F010DA1">To monitor memory utilization:</p>
                        <ol>
                           <li>
                              <p>Access the <span class="italic">hostname</span> page as explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-3D9C9784-ECCA-434C-B247-3EBED3E88A97">Monitoring Host Activity</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>From the <span class="bold">Host</span> menu, select <span class="bold">Monitoring</span>, and then <span class="bold">Memory Details</span>.
                              </p>
                              <p>The Memory Details page appears.</p>
                              <p>This page contains statistics about memory utilization, page scan rates, and swap utilization gathered over the last hour. The top 10 processes are also listed ordered by memory utilization. <a href="monitoring-real-time-database-performance.html#GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A__CBBFDGAG">Figure 4-15</a> shows a portion of the Memory Details page. The Top 10 Processes (ordered by Memory) section is not shown.
                              </p>
                              <div class="figure" id="GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A__CBBFDGAG">
                                 <p class="titleinfigure">Figure 4-15 Memory Details Page</p><img src="img/mem_details.gif" alt="Description of Figure 4-15 follows" title="Description of Figure 4-15 follows" longdesc="img_text/mem_details.html"><br><a href="img_text/mem_details.html">Description of "Figure 4-15 Memory Details Page"</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>Verify the current memory page scan rate using the Memory Page Scan Rate chart.</p>
                              <p>The current value of the memory page scan rate is displayed below the chart. On UNIX and Linux, this value represents the number of pages scanned per second. On Microsoft Windows, this value represents the rate at which pages are read from or written to disk to resolve hard page faults. This value is a primary indicator of the types of faults that may be causing systemwide delays.</p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Memory Scan Rate (pages per second)</span>.
                              </p>
                              <p>The Memory Page Scan Rate page appears.</p>
                              <p>This page contains memory page scan rate statistics and related alerts over the last 24 hours.</p>
                              <p>If you notice an unexpected increase in this value that is sustained through standard workload hours, then a memory performance problem might exist.</p>
                           </li>
                           <li>
                              <p>Return to the Memory Details page. From the <span class="bold">Host</span> menu, select <span class="bold">Monitoring</span>, and then <span class="bold">Memory Details</span>.
                              </p>
                           </li>
                           <li>
                              <p>Using the Memory Utilization chart, verify the current memory utilization.</p>
                              <p>The Memory Utilization chart shows how much memory is being used. The current value of memory utilization is displayed below the chart. During standard workload hours, the value should not exceed the warning threshold (shown in yellow).</p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Memory Utilization (%)</span>.
                              </p>
                              <p>The Memory Utilization page appears.</p>
                              <p>This page contains memory utilization statistics and related alerts generated over the last 24 hours.</p>
                              <div class="figure" id="GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A__GUID-7F0C9D1E-3C19-42B3-8020-0A804F9288E2"><img src="img/mem_util.gif" alt="Description of mem_util.gif follows" title="Description of mem_util.gif follows" longdesc="img_text/mem_util.html"><br><a href="img_text/mem_util.html">Description of the illustration mem_util.gif</a></div>
                              <!-- class="figure" -->
                              <p>In this example, memory utilization has exceeded 80%, so warnings appear in the Metric Alert History table.</p>
                              <p>If you notice an unexpected spike in this value that is sustained through normal workload hours, then a memory performance problem might exist.</p>
                           </li>
                           <li>
                              <p>Return to the Memory Details page. From the <span class="bold">Host</span> menu, select <span class="bold">Monitoring</span>, then <span class="bold">Memory Details</span>.
                              </p>
                           </li>
                           <li>
                              <p>Using the Swap Utilization chart, verify current swap utilization.</p>
                              <p>The Swap Utilization<a id="d7824e3495" class="indexterm-anchor"></a> chart shows how much swap space is being used. The current value of swap utilization is displayed below the chart. During normal workload hours, the value should not exceed the warning threshold.
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Swap Utilization (%)</span>.
                              </p>
                              <p>The Swap Utilization page appears. </p>
                              <p>This page contains swap utilization statistics and related alerts generated over the last 24 hours.</p>
                              <p>If you notice an unexpected spike in this value that is sustained through normal workload hours, then a memory performance problem might exist.</p>
                           </li>
                           <li>
                              <p>Return to the Memory Details page. From the <span class="bold">Host</span> menu, select <span class="bold">Monitoring</span>, then <span class="bold">Memory Details</span>.
                              </p>
                           </li>
                           <li>
                              <p>Review the top processes in the Top 10 Processes (ordered by Memory) table.</p>
                              <p>If a process is taking up too much memory, then this process should be investigated.</p>
                           </li>
                           <li>
                              <p>If a memory performance problem<a id="d7824e3533" class="indexterm-anchor"></a><a id="d7824e3537" class="indexterm-anchor"></a> is identified, then you can attempt to resolve the issue by doing the following:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Use Automatic Memory Management to automatically manage and distribute memory between the System Global Area (SGA) and the aggregate program global area (PGA aggregate).</p>
                                 </li>
                                 <li>
                                    <p>Use the Memory Advisor to set SGA and PGA memory target values.</p>
                                 </li>
                                 <li>
                                    <p>Use Automatic PGA Management to manage SQL memory execution.</p>
                                 </li>
                                 <li>
                                    <p>Avoid running too many processes that consume large amounts of memory.</p>
                                 </li>
                                 <li>
                                    <p>Reduce paging or swapping.</p>
                                 </li>
                                 <li>
                                    <p>Reduce the number of open cursors and hard parsing with cursor sharing.</p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A__GUID-0938CBD3-F7BE-4E0A-A89B-43D80097A24D">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../admin/managing-memory.html#ADMIN11011" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about using Automatic Memory Management
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../tgdba/database-memory-allocation.html#TGDBA291" target="_blank"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for information about resolving memory issues
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT516"></a><a id="TDPPT044"></a><div class="props_rev_3"><a id="GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF" name="GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF"></a><h4 id="TDPPT-GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF" class="sect4"><span class="enumeration_section">4.3.3 </span>Monitoring Disk I/O Utilization
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e3663" class="indexterm-anchor"></a><a id="d7824e3667" class="indexterm-anchor"></a>Because the database resides on a set of disks, the performance of the I/O subsystem is very important to database performance. Important disk statistics include the disk I/Os per second and the length of the service times. These statistics show if the disk is performing optimally or if the storage system is being overworked. This section describes how to monitor disk I/O utilization.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF__GUID-2067915E-9A2A-4E1A-9375-5329655BA738">To monitor disk I/O utilization:</p>
                        <ol>
                           <li>
                              <p>From the <span class="bold">Targets</span> menu, select <span class="bold">Hosts</span>.
                              </p>
                              <p>The Hosts page appears.</p>
                           </li>
                           <li>
                              <p>In the list of hosts, click the name of the host on which your database resides.</p>
                              <p>The <span class="italic">hostname</span> page appears, where <span class="italic">hostname</span> is the name of the host.
                              </p>
                           </li>
                           <li>
                              <p>From the <span class="bold">Host</span> menu, select <span class="bold">Monitoring</span>, then <span class="bold">Disk Details</span>.
                              </p>
                              <p>The Disk Details page appears.</p>
                              <p>This page contains disk I/O utilization and service time statistics, and the top disk devices ordered by the percentage of time that they were in use.</p>
                              <div class="figure" id="GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF__CBBFFHJB">
                                 <p class="titleinfigure">Figure 4-16 Disk Details</p><img src="img/disk_details.gif" alt="Description of Figure 4-16 follows" title="Description of Figure 4-16 follows" longdesc="img_text/disk_details.html"><br><a href="img_text/disk_details.html">Description of "Figure 4-16 Disk Details"</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>Verify the current disk I/O utilization using the Total Disk I/O Made Across All Disks chart.</p>
                              <p>The Total Disk I/O Made Across All Disks chart shows how many disk I/Os are being performed per second. The current value for total disk I/O per second is displayed below the chart. In <a href="monitoring-real-time-database-performance.html#GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF__CBBFFHJB">Figure 4-16</a> the value is 153.07.
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Total Disk I/O made across all disks (per second)</span>.
                              </p>
                              <p>The Total Disk I/O Made Across All Disks (Per Second) page appears.</p>
                              <p>This page contains disk utilization statistics and related alerts generated over the last 24 hours.</p>
                              <p>If you notice an unexpected spike in this value that is sustained through standard workload hours, then a disk I/O performance problem might exist and should be investigated.</p>
                           </li>
                           <li>
                              <p>Verify the current I/O service time using the Max Average Disk I/O Service Time (ms) Among All Disks chart.</p>
                              <p>The Max Average Disk I/O Service Time (ms) Among All Disks chart shows the longest service time for disk I/Os in milliseconds. The current value for longest I/O service time is displayed below the chart. In <a href="monitoring-real-time-database-performance.html#GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF__CBBFFHJB">Figure 4-16</a> the value is 1.79.
                              </p>
                           </li>
                           <li>
                              <p>From the <span class="bold">Host</span> menu, select <span class="bold">Monitoring</span>, then <span class="bold">Disk Details</span>.
                              </p>
                              <p>The Disk Details page appears.</p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Max Average Disk I/O (ms) Service Time Among All Disks</span>.
                              </p>
                              <p>The Max Average Disk I/O Service Time (ms) Among All Disks page appears.</p>
                              <p>This page contains I/O service time statistics and related alerts generated over the last 24 hours.</p>
                              <p>If you notice an unexpected spike in this value that is sustained through normal workload hours, then a disk I/O performance problem might exist and should be investigated.</p>
                           </li>
                           <li>
                              <p>From the <span class="bold">Host</span> menu, select <span class="bold">Monitoring</span>, then <span class="bold">Disk Details</span>.
                              </p>
                              <p>The Disk Details page appears.</p>
                           </li>
                           <li>
                              <p>On the Disk Details page, verify the disk devices in the Top Disk Devices (ordered by % Busy) table.</p>
                              <p>If a particular disk is busy a high percentage of the time, then this disk should be investigated.</p>
                              <p>In <a href="monitoring-real-time-database-performance.html#GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF__CBBFFHJB">Figure 4-16</a>, the drives that host Oracle Database (xvda and xvda1) are only busy 12.14 and 10.93 percent of the time, so no disk performance problem appears to exist.
                              </p>
                           </li>
                           <li>
                              <p>If a disk I/O performance problem<a id="d7824e3797" class="indexterm-anchor"></a><a id="d7824e3801" class="indexterm-anchor"></a> is identified, you can attempt to resolve the problem by doing the following:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Use Oracle Automatic Storage Management (Oracle ASM) to manage database storage.</p>
                                 </li>
                                 <li>
                                    <p>Stripe everything across every disk to distribute I/O.</p>
                                 </li>
                                 <li>
                                    <p>Move files such as archived redo logs and online redo logs to separate disks.</p>
                                 </li>
                                 <li>
                                    <p>Store required data in memory to reduce the number of physical I/Os.</p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF__GUID-2E9DD30B-D056-4EF6-98BD-297E25D8D9AC">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../tgdba/IO-configuration-and-design.html#TGDBA015" target="_blank"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for information about resolving disk I/O issues
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="TDPPT550"></a><a id="TDPPT551"></a><a id="TDPPT552"></a><a id="TDPPT517"></a><div class="props_rev_3"><a id="GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1" name="GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1"></a><h3 id="TDPPT-GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1" class="sect3"><span class="enumeration_section">4.4 </span>Determining the Cause of Spikes in Database Activity
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d7824e3915" class="indexterm-anchor"></a><a id="d7824e3919" class="indexterm-anchor"></a><a id="d7824e3921" class="indexterm-anchor"></a>If you see a spike in database activity in the Performance page, then you can access the ASH Analytics page to find out which sessions are consuming the most database time. This page provides stacked area charts to help you visualize the active session activity from various dimensions, such as Wait Class, Module, Actions, SQL ID, Instance, User Session, Consumer Group, and others. You can drill down into specific members of a dimension (vertical zooming), and zoom in and out of any time period (horizontal zooming).
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__GUID-D5D6DE7B-8703-4277-9546-9BC8F719120D">To view active session activity on the ASH Analytics page:</p>
                     <ol>
                        <li>
                           <p>Access the Database Home page.</p>
                           <p>See <span class="q">"<a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">Accessing the Database Home Page</a>"</span> for more information.
                           </p>
                        </li>
                        <li>
                           <p>From the <span class="bold">Performance</span> menu, select <span class="bold">Performance Hub</span> and then <span class="bold">ASH Analytics</span>.
                           </p>
                           <p>If the Database Login page appears, then log in as a user with administrator privileges. The ASH Analytics page appears.</p>
                           <p><a href="monitoring-real-time-database-performance.html#GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__CBBJIGEF">Figure 4-17</a> shows an example of the ASH Analytics page. 
                           </p>
                           <div class="figure" id="GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__CBBJIGEF">
                              <p class="titleinfigure">Figure 4-17 ASH Analytics Page</p><img src="img/ash_analytics_page.gif" alt="Description of Figure 4-17 follows" title="Description of Figure 4-17 follows" longdesc="img_text/ash_analytics_page.html"><br><a href="img_text/ash_analytics_page.html">Description of "Figure 4-17 ASH Analytics Page"</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>To view a high-level perspective of top activity during a selected time period, drag the entire shaded slider area in the top chart to the desired time period.</p>
                           <div class="infobox-tip" id="GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__GUID-84804399-538E-4337-9ECB-4EE6BFA90167">
                              <p class="notep1">Tip:</p>
                              <p>You can change the amount of time selected in the shaded slider area by selecting the control at either edge of the slider and dragging it to the left or right.</p>
                              <p>You can select a time period within the default setting of one hour or you can use the selector buttons above the chart to display time periods of one day, one week, or one month. You can also use the Calendar and Custom buttons to display a time period other than one of the preset choices.</p>
                           </div>
                        </li>
                        <li>
                           <p>To view a more detailed perspective of your selected time period, use the Activity chart on the page. By default, the chart shows a breakdown of workload activity by wait classes.</p>
                        </li>
                        <li>
                           <p>Investigate the impact by viewing detailed statistics for the top activity sessions that are adversely affecting the system.</p>
                           <p><span class="bold">To view detailed statistics for a session:</span></p>
                           <ol type="a">
                              <li>
                                 <p>Select the largest spike in the chart or the corresponding wait class in the legend beside the chart. The viewer now filters out everything in the chart except for the wait class of interest. </p>
                                 <p>For example, if the chart shows that the Concurrency wait class has the biggest spike, select the chart area of the legend for Concurrency. The viewer refreshes the chart and now only shows the Concurrency value and displays a Wait Class: Concurrency icon in the Filters bar.</p>
                                 <div class="infobox-tip" id="GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__GUID-7303E533-DABD-4056-BDCA-4C9AB55BADA4">
                                    <p class="notep1">Tip:</p>
                                    <p>You can create an unlimited number of filters.</p>
                                 </div>
                              </li>
                              <li>
                                 <p>In the Activity section, select <span class="bold">Top Dimensions</span> from the dimensions list. The chart refreshes in response to your selection, displaying values for the particular category you selected.
                                 </p>
                                 <p>For instance, if you create a filter for Concurrency as described above, then select Top Dimensions from the list, and then select User Session, the chart shows user sessions only for Concurrency.</p>
                                 <p><a href="monitoring-real-time-database-performance.html#GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__CBBJABAI">Figure 4-18</a> shows the list of activities with Top Dimensions selected.
                                 </p>
                                 <div class="figure" id="GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__CBBJABAI">
                                    <p class="titleinfigure">Figure 4-18 List of Activities</p><img src="img/ash_analytics_list.gif" alt="Description of Figure 4-18 follows" title="Description of Figure 4-18 follows" longdesc="img_text/ash_analytics_list.html"><br><a href="img_text/ash_analytics_list.html">Description of "Figure 4-18 List of Activities"</a></div>
                                 <!-- class="figure" -->
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>Optionally, use the Load Map for a graphical view of system activity.</p>
                           <p>The Load Map is useful for viewing activity in a single- or multi-dimensional layout when you are not interested in seeing how activity has changed over time during the selected period.</p>
                           <p><a href="monitoring-real-time-database-performance.html#GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__CBBEIFBI">Figure 4-19</a> shows the load map for activity by wait class and wait events. 
                           </p>
                           <div class="figure" id="GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__CBBEIFBI">
                              <p class="titleinfigure">Figure 4-19 Load Map on the ASH Analytics Page</p><img src="img/ash_analytics_loadmap.gif" alt="Description of Figure 4-19 follows" title="Description of Figure 4-19 follows" longdesc="img_text/ash_analytics_loadmap.html"><br><a href="img_text/ash_analytics_loadmap.html">Description of "Figure 4-19 Load Map on the ASH Analytics Page"</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>Optionally, click <span class="bold">Save</span> to save the current page view as an HTML file for offline reference. When you click Save, a Save As dialog box appears and you can specify where you want to save the report. This action creates an Enterprise Manager Active Report covering all data currently gathered as part of the analysis. You can use this later to conduct a more thorough post-mortem analysis, for instance. You can view the report without Cloud Control or database connectivity.
                           </p>
                           <p>You can also click <span class="bold">Mail</span> and specify an email address to send the page as an attachment.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TDPPT313"></a><div class="props_rev_3"><a id="GUID-81073595-A0B0-474C-937B-376B58D7C414" name="GUID-81073595-A0B0-474C-937B-376B58D7C414"></a><h3 id="TDPPT-GUID-81073595-A0B0-474C-937B-376B58D7C414" class="sect3"><span class="enumeration_section">4.5 </span>Customizing the Database Performance page
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d7824e4110" class="indexterm-anchor"></a><a id="d7824e4114" class="indexterm-anchor"></a>You can customize the Performance page so that it specifically addresses your requirements. As explained in <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-F405EE4E-F0A9-42AB-AC3C-4FA6F29DE6AC">Monitoring Instance Activity</a>"</span>, you can specify which charts you want to appear by default in the Performance page, and how you want them to appear. You can also decide whether to include baseline values in the Throughput and Services charts.
                     </p>
                     <p>Cloud Control stores persistent customization information for each user in the repository. Cloud Control retrieves the customization data when you access the Performance page and caches it for the remainder of the browser session until you change the settings.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-81073595-A0B0-474C-937B-376B58D7C414__GUID-E80BCD58-ABEE-41E8-8026-CA593EDB5E50">To customize the Performance page:</p>
                     <ol>
                        <li>
                           <p>Access the Database Home page.</p>
                           <p>See <span class="q">"<a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">Accessing the Database Home Page</a>"</span> for more information.
                           </p>
                        </li>
                        <li>
                           <p>From the <span class="bold">Performance</span> menu, select <span class="bold">Performance Home</span>.
                           </p>
                           <p>If the Database Login page appears, then log in as a user with administrator privileges. The Performance page appears.</p>
                        </li>
                        <li>
                           <p>Click <span class="bold">Settings</span>.
                           </p>
                           <p>The Performance Page Settings page appears.</p>
                           <div class="figure" id="GUID-81073595-A0B0-474C-937B-376B58D7C414__GUID-F3728405-208B-4D2C-AA45-C3C93A12829B"><img src="img/perf_page_sett.gif" alt="Description of perf_page_sett.gif follows" title="Description of perf_page_sett.gif follows" longdesc="img_text/perf_page_sett.html"><br><a href="img_text/perf_page_sett.html">Description of the illustration perf_page_sett.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>In the Detailed Chart Settings section, choose the defaults for display of the instance activity charts. Complete the following steps:</p>
                           <ol type="a">
                              <li>
                                 <p>In <span class="bold">Default View</span>, select the instance activity chart to appear by default in the Average Active Session section.
                                 </p>
                                 <p>See <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-F405EE4E-F0A9-42AB-AC3C-4FA6F29DE6AC">Monitoring Instance Activity</a>"</span> for a description of the Throughput, I/O, Parallel Execution, and Services charts.
                                 </p>
                              </li>
                              <li>
                                 <p>In <span class="bold">Throughput Chart Settings</span>, select <span class="bold">Per Second</span> or <span class="bold">Per Transaction</span> as the default instance throughput rate to be displayed in the Throughput chart.
                                 </p>
                                 <p>See <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0">Monitoring Throughput</a>"</span> to learn how to use the Throughput charts.
                                 </p>
                              </li>
                              <li>
                                 <p>In <span class="bold">I/O Chart Settings</span>, select the default I/O option to be displayed in the I/O chart.
                                 </p>
                                 <p>See <span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-A76E027F-8EE0-4B10-8EE9-6C3E8D3ED222">Monitoring I/O</a>"</span> to learn how to use the I/O charts.
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>In the Baseline Display section, choose how AWR baselines are displayed in the performance charts. Do one of the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Select <span class="bold">Do not show the baseline values</span> to prevent baselines from appearing.
                                 </p>
                              </li>
                              <li>
                                 <p>Select <span class="bold">Show the 99th percentile line using the system moving window baseline</span> to specify a percentile to display for the Throughput and Services charts.
                                 </p>
                              </li>
                              <li>
                                 <p>Select <span class="bold">Show the 99th percentile line using a static baseline with computed statistics</span> and then select a baseline name from the Baseline Name list.
                                 </p>
                                 <p>You can select only baselines that have undergone schedule statistics computation, as described in <span class="q">"<a href="resolving-performance-degradation-over-time.html#GUID-63B691E7-9A7D-443D-98C3-4C287B3CBE5C">Computing Threshold Statistics for Baselines</a>"</span>.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Click <span class="bold">OK</span>.
                           </p>
                           <p>The Performance page appears.</p>
                           <p>The charts are now displayed according to your customized settings.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>